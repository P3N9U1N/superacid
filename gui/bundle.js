/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/decimal.js/decimal.js":
/*!********************************************!*\
  !*** ./node_modules/decimal.js/decimal.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;;(function (globalScope) {
  'use strict';


  /*
   *  decimal.js v10.3.1
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2021 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */


  // -----------------------------------  EDITABLE DEFAULTS  ------------------------------------ //


    // The maximum exponent magnitude.
    // The limit on the value of `toExpNeg`, `toExpPos`, `minE` and `maxE`.
  var EXP_LIMIT = 9e15,                      // 0 to 9e15

    // The limit on the value of `precision`, and on the value of the first argument to
    // `toDecimalPlaces`, `toExponential`, `toFixed`, `toPrecision` and `toSignificantDigits`.
    MAX_DIGITS = 1e9,                        // 0 to 1e9

    // Base conversion alphabet.
    NUMERALS = '0123456789abcdef',

    // The natural logarithm of 10 (1025 digits).
    LN10 = '2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058',

    // Pi (1025 digits).
    PI = '3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789',


    // The initial configuration properties of the Decimal constructor.
    DEFAULTS = {

      // These values must be integers within the stated ranges (inclusive).
      // Most of these values can be changed at run-time using the `Decimal.config` method.

      // The maximum number of significant digits of the result of a calculation or base conversion.
      // E.g. `Decimal.config({ precision: 20 });`
      precision: 20,                         // 1 to MAX_DIGITS

      // The rounding mode used when rounding to `precision`.
      //
      // ROUND_UP         0 Away from zero.
      // ROUND_DOWN       1 Towards zero.
      // ROUND_CEIL       2 Towards +Infinity.
      // ROUND_FLOOR      3 Towards -Infinity.
      // ROUND_HALF_UP    4 Towards nearest neighbour. If equidistant, up.
      // ROUND_HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.
      // ROUND_HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.
      // ROUND_HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.
      // ROUND_HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.
      //
      // E.g.
      // `Decimal.rounding = 4;`
      // `Decimal.rounding = Decimal.ROUND_HALF_UP;`
      rounding: 4,                           // 0 to 8

      // The modulo mode used when calculating the modulus: a mod n.
      // The quotient (q = a / n) is calculated according to the corresponding rounding mode.
      // The remainder (r) is calculated as: r = a - n * q.
      //
      // UP         0 The remainder is positive if the dividend is negative, else is negative.
      // DOWN       1 The remainder has the same sign as the dividend (JavaScript %).
      // FLOOR      3 The remainder has the same sign as the divisor (Python %).
      // HALF_EVEN  6 The IEEE 754 remainder function.
      // EUCLID     9 Euclidian division. q = sign(n) * floor(a / abs(n)). Always positive.
      //
      // Truncated division (1), floored division (3), the IEEE 754 remainder (6), and Euclidian
      // division (9) are commonly used for the modulus operation. The other rounding modes can also
      // be used, but they may not give useful results.
      modulo: 1,                             // 0 to 9

      // The exponent value at and beneath which `toString` returns exponential notation.
      // JavaScript numbers: -7
      toExpNeg: -7,                          // 0 to -EXP_LIMIT

      // The exponent value at and above which `toString` returns exponential notation.
      // JavaScript numbers: 21
      toExpPos:  21,                         // 0 to EXP_LIMIT

      // The minimum exponent value, beneath which underflow to zero occurs.
      // JavaScript numbers: -324  (5e-324)
      minE: -EXP_LIMIT,                      // -1 to -EXP_LIMIT

      // The maximum exponent value, above which overflow to Infinity occurs.
      // JavaScript numbers: 308  (1.7976931348623157e+308)
      maxE: EXP_LIMIT,                       // 1 to EXP_LIMIT

      // Whether to use cryptographically-secure random number generation, if available.
      crypto: false                          // true/false
    },


  // ----------------------------------- END OF EDITABLE DEFAULTS ------------------------------- //


    Decimal, inexact, noConflict, quadrant,
    external = true,

    decimalError = '[DecimalError] ',
    invalidArgument = decimalError + 'Invalid argument: ',
    precisionLimitExceeded = decimalError + 'Precision limit exceeded',
    cryptoUnavailable = decimalError + 'crypto unavailable',
    tag = '[object Decimal]',

    mathfloor = Math.floor,
    mathpow = Math.pow,

    isBinary = /^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,
    isHex = /^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,
    isOctal = /^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,
    isDecimal = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,

    BASE = 1e7,
    LOG_BASE = 7,
    MAX_SAFE_INTEGER = 9007199254740991,

    LN10_PRECISION = LN10.length - 1,
    PI_PRECISION = PI.length - 1,

    // Decimal.prototype object
    P = { toStringTag: tag };


  // Decimal prototype methods


  /*
   *  absoluteValue             abs
   *  ceil
   *  clampedTo                 clamp
   *  comparedTo                cmp
   *  cosine                    cos
   *  cubeRoot                  cbrt
   *  decimalPlaces             dp
   *  dividedBy                 div
   *  dividedToIntegerBy        divToInt
   *  equals                    eq
   *  floor
   *  greaterThan               gt
   *  greaterThanOrEqualTo      gte
   *  hyperbolicCosine          cosh
   *  hyperbolicSine            sinh
   *  hyperbolicTangent         tanh
   *  inverseCosine             acos
   *  inverseHyperbolicCosine   acosh
   *  inverseHyperbolicSine     asinh
   *  inverseHyperbolicTangent  atanh
   *  inverseSine               asin
   *  inverseTangent            atan
   *  isFinite
   *  isInteger                 isInt
   *  isNaN
   *  isNegative                isNeg
   *  isPositive                isPos
   *  isZero
   *  lessThan                  lt
   *  lessThanOrEqualTo         lte
   *  logarithm                 log
   *  [maximum]                 [max]
   *  [minimum]                 [min]
   *  minus                     sub
   *  modulo                    mod
   *  naturalExponential        exp
   *  naturalLogarithm          ln
   *  negated                   neg
   *  plus                      add
   *  precision                 sd
   *  round
   *  sine                      sin
   *  squareRoot                sqrt
   *  tangent                   tan
   *  times                     mul
   *  toBinary
   *  toDecimalPlaces           toDP
   *  toExponential
   *  toFixed
   *  toFraction
   *  toHexadecimal             toHex
   *  toNearest
   *  toNumber
   *  toOctal
   *  toPower                   pow
   *  toPrecision
   *  toSignificantDigits       toSD
   *  toString
   *  truncated                 trunc
   *  valueOf                   toJSON
   */


  /*
   * Return a new Decimal whose value is the absolute value of this Decimal.
   *
   */
  P.absoluteValue = P.abs = function () {
    var x = new this.constructor(this);
    if (x.s < 0) x.s = 1;
    return finalise(x);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number in the
   * direction of positive Infinity.
   *
   */
  P.ceil = function () {
    return finalise(new this.constructor(this), this.e + 1, 2);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal clamped to the range
   * delineated by `min` and `max`.
   *
   * min {number|string|Decimal}
   * max {number|string|Decimal}
   *
   */
  P.clampedTo = P.clamp = function (min, max) {
    var k,
      x = this,
      Ctor = x.constructor;
    min = new Ctor(min);
    max = new Ctor(max);
    if (!min.s || !max.s) return new Ctor(NaN);
    if (min.gt(max)) throw Error(invalidArgument + max);
    k = x.cmp(min);
    return k < 0 ? min : x.cmp(max) > 0 ? max : new Ctor(x);
  };


  /*
   * Return
   *   1    if the value of this Decimal is greater than the value of `y`,
   *  -1    if the value of this Decimal is less than the value of `y`,
   *   0    if they have the same value,
   *   NaN  if the value of either Decimal is NaN.
   *
   */
  P.comparedTo = P.cmp = function (y) {
    var i, j, xdL, ydL,
      x = this,
      xd = x.d,
      yd = (y = new x.constructor(y)).d,
      xs = x.s,
      ys = y.s;

    // Either NaN or ±Infinity?
    if (!xd || !yd) {
      return !xs || !ys ? NaN : xs !== ys ? xs : xd === yd ? 0 : !xd ^ xs < 0 ? 1 : -1;
    }

    // Either zero?
    if (!xd[0] || !yd[0]) return xd[0] ? xs : yd[0] ? -ys : 0;

    // Signs differ?
    if (xs !== ys) return xs;

    // Compare exponents.
    if (x.e !== y.e) return x.e > y.e ^ xs < 0 ? 1 : -1;

    xdL = xd.length;
    ydL = yd.length;

    // Compare digit by digit.
    for (i = 0, j = xdL < ydL ? xdL : ydL; i < j; ++i) {
      if (xd[i] !== yd[i]) return xd[i] > yd[i] ^ xs < 0 ? 1 : -1;
    }

    // Compare lengths.
    return xdL === ydL ? 0 : xdL > ydL ^ xs < 0 ? 1 : -1;
  };


  /*
   * Return a new Decimal whose value is the cosine of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * cos(0)         = 1
   * cos(-0)        = 1
   * cos(Infinity)  = NaN
   * cos(-Infinity) = NaN
   * cos(NaN)       = NaN
   *
   */
  P.cosine = P.cos = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.d) return new Ctor(NaN);

    // cos(0) = cos(-0) = 1
    if (!x.d[0]) return new Ctor(1);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(x.e, x.sd()) + LOG_BASE;
    Ctor.rounding = 1;

    x = cosine(Ctor, toLessThanHalfPi(Ctor, x));

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return finalise(quadrant == 2 || quadrant == 3 ? x.neg() : x, pr, rm, true);
  };


  /*
   *
   * Return a new Decimal whose value is the cube root of the value of this Decimal, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   *  cbrt(0)  =  0
   *  cbrt(-0) = -0
   *  cbrt(1)  =  1
   *  cbrt(-1) = -1
   *  cbrt(N)  =  N
   *  cbrt(-I) = -I
   *  cbrt(I)  =  I
   *
   * Math.cbrt(x) = (x < 0 ? -Math.pow(-x, 1/3) : Math.pow(x, 1/3))
   *
   */
  P.cubeRoot = P.cbrt = function () {
    var e, m, n, r, rep, s, sd, t, t3, t3plusx,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite() || x.isZero()) return new Ctor(x);
    external = false;

    // Initial estimate.
    s = x.s * mathpow(x.s * x, 1 / 3);

     // Math.cbrt underflow/overflow?
     // Pass x to Math.pow as integer, then adjust the exponent of the result.
    if (!s || Math.abs(s) == 1 / 0) {
      n = digitsToString(x.d);
      e = x.e;

      // Adjust n exponent so it is a multiple of 3 away from x exponent.
      if (s = (e - n.length + 1) % 3) n += (s == 1 || s == -2 ? '0' : '00');
      s = mathpow(n, 1 / 3);

      // Rarely, e may be one less than the result exponent value.
      e = mathfloor((e + 1) / 3) - (e % 3 == (e < 0 ? -1 : 2));

      if (s == 1 / 0) {
        n = '5e' + e;
      } else {
        n = s.toExponential();
        n = n.slice(0, n.indexOf('e') + 1) + e;
      }

      r = new Ctor(n);
      r.s = x.s;
    } else {
      r = new Ctor(s.toString());
    }

    sd = (e = Ctor.precision) + 3;

    // Halley's method.
    // TODO? Compare Newton's method.
    for (;;) {
      t = r;
      t3 = t.times(t).times(t);
      t3plusx = t3.plus(x);
      r = divide(t3plusx.plus(x).times(t), t3plusx.plus(t3), sd + 2, 1);

      // TODO? Replace with for-loop and checkRoundingDigits.
      if (digitsToString(t.d).slice(0, sd) === (n = digitsToString(r.d)).slice(0, sd)) {
        n = n.slice(sd - 3, sd + 1);

        // The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or 4999
        // , i.e. approaching a rounding boundary, continue the iteration.
        if (n == '9999' || !rep && n == '4999') {

          // On the first iteration only, check to see if rounding up gives the exact result as the
          // nines may infinitely repeat.
          if (!rep) {
            finalise(t, e + 1, 0);

            if (t.times(t).times(t).eq(x)) {
              r = t;
              break;
            }
          }

          sd += 4;
          rep = 1;
        } else {

          // If the rounding digits are null, 0{0,4} or 50{0,3}, check for an exact result.
          // If not, then there are further digits and m will be truthy.
          if (!+n || !+n.slice(1) && n.charAt(0) == '5') {

            // Truncate to the first rounding digit.
            finalise(r, e + 1, 1);
            m = !r.times(r).times(r).eq(x);
          }

          break;
        }
      }
    }

    external = true;

    return finalise(r, e, Ctor.rounding, m);
  };


  /*
   * Return the number of decimal places of the value of this Decimal.
   *
   */
  P.decimalPlaces = P.dp = function () {
    var w,
      d = this.d,
      n = NaN;

    if (d) {
      w = d.length - 1;
      n = (w - mathfloor(this.e / LOG_BASE)) * LOG_BASE;

      // Subtract the number of trailing zeros of the last word.
      w = d[w];
      if (w) for (; w % 10 == 0; w /= 10) n--;
      if (n < 0) n = 0;
    }

    return n;
  };


  /*
   *  n / 0 = I
   *  n / N = N
   *  n / I = 0
   *  0 / n = 0
   *  0 / 0 = N
   *  0 / N = N
   *  0 / I = 0
   *  N / n = N
   *  N / 0 = N
   *  N / N = N
   *  N / I = N
   *  I / n = I
   *  I / 0 = I
   *  I / N = N
   *  I / I = N
   *
   * Return a new Decimal whose value is the value of this Decimal divided by `y`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   */
  P.dividedBy = P.div = function (y) {
    return divide(this, new this.constructor(y));
  };


  /*
   * Return a new Decimal whose value is the integer part of dividing the value of this Decimal
   * by the value of `y`, rounded to `precision` significant digits using rounding mode `rounding`.
   *
   */
  P.dividedToIntegerBy = P.divToInt = function (y) {
    var x = this,
      Ctor = x.constructor;
    return finalise(divide(x, new Ctor(y), 0, 1, 1), Ctor.precision, Ctor.rounding);
  };


  /*
   * Return true if the value of this Decimal is equal to the value of `y`, otherwise return false.
   *
   */
  P.equals = P.eq = function (y) {
    return this.cmp(y) === 0;
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number in the
   * direction of negative Infinity.
   *
   */
  P.floor = function () {
    return finalise(new this.constructor(this), this.e + 1, 3);
  };


  /*
   * Return true if the value of this Decimal is greater than the value of `y`, otherwise return
   * false.
   *
   */
  P.greaterThan = P.gt = function (y) {
    return this.cmp(y) > 0;
  };


  /*
   * Return true if the value of this Decimal is greater than or equal to the value of `y`,
   * otherwise return false.
   *
   */
  P.greaterThanOrEqualTo = P.gte = function (y) {
    var k = this.cmp(y);
    return k == 1 || k === 0;
  };


  /*
   * Return a new Decimal whose value is the hyperbolic cosine of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [1, Infinity]
   *
   * cosh(x) = 1 + x^2/2! + x^4/4! + x^6/6! + ...
   *
   * cosh(0)         = 1
   * cosh(-0)        = 1
   * cosh(Infinity)  = Infinity
   * cosh(-Infinity) = Infinity
   * cosh(NaN)       = NaN
   *
   *  x        time taken (ms)   result
   * 1000      9                 9.8503555700852349694e+433
   * 10000     25                4.4034091128314607936e+4342
   * 100000    171               1.4033316802130615897e+43429
   * 1000000   3817              1.5166076984010437725e+434294
   * 10000000  abandoned after 2 minute wait
   *
   * TODO? Compare performance of cosh(x) = 0.5 * (exp(x) + exp(-x))
   *
   */
  P.hyperbolicCosine = P.cosh = function () {
    var k, n, pr, rm, len,
      x = this,
      Ctor = x.constructor,
      one = new Ctor(1);

    if (!x.isFinite()) return new Ctor(x.s ? 1 / 0 : NaN);
    if (x.isZero()) return one;

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(x.e, x.sd()) + 4;
    Ctor.rounding = 1;
    len = x.d.length;

    // Argument reduction: cos(4x) = 1 - 8cos^2(x) + 8cos^4(x) + 1
    // i.e. cos(x) = 1 - cos^2(x/4)(8 - 8cos^2(x/4))

    // Estimate the optimum number of times to use the argument reduction.
    // TODO? Estimation reused from cosine() and may not be optimal here.
    if (len < 32) {
      k = Math.ceil(len / 3);
      n = (1 / tinyPow(4, k)).toString();
    } else {
      k = 16;
      n = '2.3283064365386962890625e-10';
    }

    x = taylorSeries(Ctor, 1, x.times(n), new Ctor(1), true);

    // Reverse argument reduction
    var cosh2_x,
      i = k,
      d8 = new Ctor(8);
    for (; i--;) {
      cosh2_x = x.times(x);
      x = one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));
    }

    return finalise(x, Ctor.precision = pr, Ctor.rounding = rm, true);
  };


  /*
   * Return a new Decimal whose value is the hyperbolic sine of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * sinh(x) = x + x^3/3! + x^5/5! + x^7/7! + ...
   *
   * sinh(0)         = 0
   * sinh(-0)        = -0
   * sinh(Infinity)  = Infinity
   * sinh(-Infinity) = -Infinity
   * sinh(NaN)       = NaN
   *
   * x        time taken (ms)
   * 10       2 ms
   * 100      5 ms
   * 1000     14 ms
   * 10000    82 ms
   * 100000   886 ms            1.4033316802130615897e+43429
   * 200000   2613 ms
   * 300000   5407 ms
   * 400000   8824 ms
   * 500000   13026 ms          8.7080643612718084129e+217146
   * 1000000  48543 ms
   *
   * TODO? Compare performance of sinh(x) = 0.5 * (exp(x) - exp(-x))
   *
   */
  P.hyperbolicSine = P.sinh = function () {
    var k, pr, rm, len,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite() || x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(x.e, x.sd()) + 4;
    Ctor.rounding = 1;
    len = x.d.length;

    if (len < 3) {
      x = taylorSeries(Ctor, 2, x, x, true);
    } else {

      // Alternative argument reduction: sinh(3x) = sinh(x)(3 + 4sinh^2(x))
      // i.e. sinh(x) = sinh(x/3)(3 + 4sinh^2(x/3))
      // 3 multiplications and 1 addition

      // Argument reduction: sinh(5x) = sinh(x)(5 + sinh^2(x)(20 + 16sinh^2(x)))
      // i.e. sinh(x) = sinh(x/5)(5 + sinh^2(x/5)(20 + 16sinh^2(x/5)))
      // 4 multiplications and 2 additions

      // Estimate the optimum number of times to use the argument reduction.
      k = 1.4 * Math.sqrt(len);
      k = k > 16 ? 16 : k | 0;

      x = x.times(1 / tinyPow(5, k));
      x = taylorSeries(Ctor, 2, x, x, true);

      // Reverse argument reduction
      var sinh2_x,
        d5 = new Ctor(5),
        d16 = new Ctor(16),
        d20 = new Ctor(20);
      for (; k--;) {
        sinh2_x = x.times(x);
        x = x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))));
      }
    }

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return finalise(x, pr, rm, true);
  };


  /*
   * Return a new Decimal whose value is the hyperbolic tangent of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * tanh(x) = sinh(x) / cosh(x)
   *
   * tanh(0)         = 0
   * tanh(-0)        = -0
   * tanh(Infinity)  = 1
   * tanh(-Infinity) = -1
   * tanh(NaN)       = NaN
   *
   */
  P.hyperbolicTangent = P.tanh = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite()) return new Ctor(x.s);
    if (x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + 7;
    Ctor.rounding = 1;

    return divide(x.sinh(), x.cosh(), Ctor.precision = pr, Ctor.rounding = rm);
  };


  /*
   * Return a new Decimal whose value is the arccosine (inverse cosine) in radians of the value of
   * this Decimal.
   *
   * Domain: [-1, 1]
   * Range: [0, pi]
   *
   * acos(x) = pi/2 - asin(x)
   *
   * acos(0)       = pi/2
   * acos(-0)      = pi/2
   * acos(1)       = 0
   * acos(-1)      = pi
   * acos(1/2)     = pi/3
   * acos(-1/2)    = 2*pi/3
   * acos(|x| > 1) = NaN
   * acos(NaN)     = NaN
   *
   */
  P.inverseCosine = P.acos = function () {
    var halfPi,
      x = this,
      Ctor = x.constructor,
      k = x.abs().cmp(1),
      pr = Ctor.precision,
      rm = Ctor.rounding;

    if (k !== -1) {
      return k === 0
        // |x| is 1
        ? x.isNeg() ? getPi(Ctor, pr, rm) : new Ctor(0)
        // |x| > 1 or x is NaN
        : new Ctor(NaN);
    }

    if (x.isZero()) return getPi(Ctor, pr + 4, rm).times(0.5);

    // TODO? Special case acos(0.5) = pi/3 and acos(-0.5) = 2*pi/3

    Ctor.precision = pr + 6;
    Ctor.rounding = 1;

    x = x.asin();
    halfPi = getPi(Ctor, pr + 4, rm).times(0.5);

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return halfPi.minus(x);
  };


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic cosine in radians of the
   * value of this Decimal.
   *
   * Domain: [1, Infinity]
   * Range: [0, Infinity]
   *
   * acosh(x) = ln(x + sqrt(x^2 - 1))
   *
   * acosh(x < 1)     = NaN
   * acosh(NaN)       = NaN
   * acosh(Infinity)  = Infinity
   * acosh(-Infinity) = NaN
   * acosh(0)         = NaN
   * acosh(-0)        = NaN
   * acosh(1)         = 0
   * acosh(-1)        = NaN
   *
   */
  P.inverseHyperbolicCosine = P.acosh = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (x.lte(1)) return new Ctor(x.eq(1) ? 0 : NaN);
    if (!x.isFinite()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(Math.abs(x.e), x.sd()) + 4;
    Ctor.rounding = 1;
    external = false;

    x = x.times(x).minus(1).sqrt().plus(x);

    external = true;
    Ctor.precision = pr;
    Ctor.rounding = rm;

    return x.ln();
  };


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic sine in radians of the value
   * of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * asinh(x) = ln(x + sqrt(x^2 + 1))
   *
   * asinh(NaN)       = NaN
   * asinh(Infinity)  = Infinity
   * asinh(-Infinity) = -Infinity
   * asinh(0)         = 0
   * asinh(-0)        = -0
   *
   */
  P.inverseHyperbolicSine = P.asinh = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite() || x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + 2 * Math.max(Math.abs(x.e), x.sd()) + 6;
    Ctor.rounding = 1;
    external = false;

    x = x.times(x).plus(1).sqrt().plus(x);

    external = true;
    Ctor.precision = pr;
    Ctor.rounding = rm;

    return x.ln();
  };


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic tangent in radians of the
   * value of this Decimal.
   *
   * Domain: [-1, 1]
   * Range: [-Infinity, Infinity]
   *
   * atanh(x) = 0.5 * ln((1 + x) / (1 - x))
   *
   * atanh(|x| > 1)   = NaN
   * atanh(NaN)       = NaN
   * atanh(Infinity)  = NaN
   * atanh(-Infinity) = NaN
   * atanh(0)         = 0
   * atanh(-0)        = -0
   * atanh(1)         = Infinity
   * atanh(-1)        = -Infinity
   *
   */
  P.inverseHyperbolicTangent = P.atanh = function () {
    var pr, rm, wpr, xsd,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite()) return new Ctor(NaN);
    if (x.e >= 0) return new Ctor(x.abs().eq(1) ? x.s / 0 : x.isZero() ? x : NaN);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    xsd = x.sd();

    if (Math.max(xsd, pr) < 2 * -x.e - 1) return finalise(new Ctor(x), pr, rm, true);

    Ctor.precision = wpr = xsd - x.e;

    x = divide(x.plus(1), new Ctor(1).minus(x), wpr + pr, 1);

    Ctor.precision = pr + 4;
    Ctor.rounding = 1;

    x = x.ln();

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return x.times(0.5);
  };


  /*
   * Return a new Decimal whose value is the arcsine (inverse sine) in radians of the value of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi/2, pi/2]
   *
   * asin(x) = 2*atan(x/(1 + sqrt(1 - x^2)))
   *
   * asin(0)       = 0
   * asin(-0)      = -0
   * asin(1/2)     = pi/6
   * asin(-1/2)    = -pi/6
   * asin(1)       = pi/2
   * asin(-1)      = -pi/2
   * asin(|x| > 1) = NaN
   * asin(NaN)     = NaN
   *
   * TODO? Compare performance of Taylor series.
   *
   */
  P.inverseSine = P.asin = function () {
    var halfPi, k,
      pr, rm,
      x = this,
      Ctor = x.constructor;

    if (x.isZero()) return new Ctor(x);

    k = x.abs().cmp(1);
    pr = Ctor.precision;
    rm = Ctor.rounding;

    if (k !== -1) {

      // |x| is 1
      if (k === 0) {
        halfPi = getPi(Ctor, pr + 4, rm).times(0.5);
        halfPi.s = x.s;
        return halfPi;
      }

      // |x| > 1 or x is NaN
      return new Ctor(NaN);
    }

    // TODO? Special case asin(1/2) = pi/6 and asin(-1/2) = -pi/6

    Ctor.precision = pr + 6;
    Ctor.rounding = 1;

    x = x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan();

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return x.times(2);
  };


  /*
   * Return a new Decimal whose value is the arctangent (inverse tangent) in radians of the value
   * of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi/2, pi/2]
   *
   * atan(x) = x - x^3/3 + x^5/5 - x^7/7 + ...
   *
   * atan(0)         = 0
   * atan(-0)        = -0
   * atan(1)         = pi/4
   * atan(-1)        = -pi/4
   * atan(Infinity)  = pi/2
   * atan(-Infinity) = -pi/2
   * atan(NaN)       = NaN
   *
   */
  P.inverseTangent = P.atan = function () {
    var i, j, k, n, px, t, r, wpr, x2,
      x = this,
      Ctor = x.constructor,
      pr = Ctor.precision,
      rm = Ctor.rounding;

    if (!x.isFinite()) {
      if (!x.s) return new Ctor(NaN);
      if (pr + 4 <= PI_PRECISION) {
        r = getPi(Ctor, pr + 4, rm).times(0.5);
        r.s = x.s;
        return r;
      }
    } else if (x.isZero()) {
      return new Ctor(x);
    } else if (x.abs().eq(1) && pr + 4 <= PI_PRECISION) {
      r = getPi(Ctor, pr + 4, rm).times(0.25);
      r.s = x.s;
      return r;
    }

    Ctor.precision = wpr = pr + 10;
    Ctor.rounding = 1;

    // TODO? if (x >= 1 && pr <= PI_PRECISION) atan(x) = halfPi * x.s - atan(1 / x);

    // Argument reduction
    // Ensure |x| < 0.42
    // atan(x) = 2 * atan(x / (1 + sqrt(1 + x^2)))

    k = Math.min(28, wpr / LOG_BASE + 2 | 0);

    for (i = k; i; --i) x = x.div(x.times(x).plus(1).sqrt().plus(1));

    external = false;

    j = Math.ceil(wpr / LOG_BASE);
    n = 1;
    x2 = x.times(x);
    r = new Ctor(x);
    px = x;

    // atan(x) = x - x^3/3 + x^5/5 - x^7/7 + ...
    for (; i !== -1;) {
      px = px.times(x2);
      t = r.minus(px.div(n += 2));

      px = px.times(x2);
      r = t.plus(px.div(n += 2));

      if (r.d[j] !== void 0) for (i = j; r.d[i] === t.d[i] && i--;);
    }

    if (k) r = r.times(2 << (k - 1));

    external = true;

    return finalise(r, Ctor.precision = pr, Ctor.rounding = rm, true);
  };


  /*
   * Return true if the value of this Decimal is a finite number, otherwise return false.
   *
   */
  P.isFinite = function () {
    return !!this.d;
  };


  /*
   * Return true if the value of this Decimal is an integer, otherwise return false.
   *
   */
  P.isInteger = P.isInt = function () {
    return !!this.d && mathfloor(this.e / LOG_BASE) > this.d.length - 2;
  };


  /*
   * Return true if the value of this Decimal is NaN, otherwise return false.
   *
   */
  P.isNaN = function () {
    return !this.s;
  };


  /*
   * Return true if the value of this Decimal is negative, otherwise return false.
   *
   */
  P.isNegative = P.isNeg = function () {
    return this.s < 0;
  };


  /*
   * Return true if the value of this Decimal is positive, otherwise return false.
   *
   */
  P.isPositive = P.isPos = function () {
    return this.s > 0;
  };


  /*
   * Return true if the value of this Decimal is 0 or -0, otherwise return false.
   *
   */
  P.isZero = function () {
    return !!this.d && this.d[0] === 0;
  };


  /*
   * Return true if the value of this Decimal is less than `y`, otherwise return false.
   *
   */
  P.lessThan = P.lt = function (y) {
    return this.cmp(y) < 0;
  };


  /*
   * Return true if the value of this Decimal is less than or equal to `y`, otherwise return false.
   *
   */
  P.lessThanOrEqualTo = P.lte = function (y) {
    return this.cmp(y) < 1;
  };


  /*
   * Return the logarithm of the value of this Decimal to the specified base, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * If no base is specified, return log[10](arg).
   *
   * log[base](arg) = ln(arg) / ln(base)
   *
   * The result will always be correctly rounded if the base of the log is 10, and 'almost always'
   * otherwise:
   *
   * Depending on the rounding mode, the result may be incorrectly rounded if the first fifteen
   * rounding digits are [49]99999999999999 or [50]00000000000000. In that case, the maximum error
   * between the result and the correctly rounded result will be one ulp (unit in the last place).
   *
   * log[-b](a)       = NaN
   * log[0](a)        = NaN
   * log[1](a)        = NaN
   * log[NaN](a)      = NaN
   * log[Infinity](a) = NaN
   * log[b](0)        = -Infinity
   * log[b](-0)       = -Infinity
   * log[b](-a)       = NaN
   * log[b](1)        = 0
   * log[b](Infinity) = Infinity
   * log[b](NaN)      = NaN
   *
   * [base] {number|string|Decimal} The base of the logarithm.
   *
   */
  P.logarithm = P.log = function (base) {
    var isBase10, d, denominator, k, inf, num, sd, r,
      arg = this,
      Ctor = arg.constructor,
      pr = Ctor.precision,
      rm = Ctor.rounding,
      guard = 5;

    // Default base is 10.
    if (base == null) {
      base = new Ctor(10);
      isBase10 = true;
    } else {
      base = new Ctor(base);
      d = base.d;

      // Return NaN if base is negative, or non-finite, or is 0 or 1.
      if (base.s < 0 || !d || !d[0] || base.eq(1)) return new Ctor(NaN);

      isBase10 = base.eq(10);
    }

    d = arg.d;

    // Is arg negative, non-finite, 0 or 1?
    if (arg.s < 0 || !d || !d[0] || arg.eq(1)) {
      return new Ctor(d && !d[0] ? -1 / 0 : arg.s != 1 ? NaN : d ? 0 : 1 / 0);
    }

    // The result will have a non-terminating decimal expansion if base is 10 and arg is not an
    // integer power of 10.
    if (isBase10) {
      if (d.length > 1) {
        inf = true;
      } else {
        for (k = d[0]; k % 10 === 0;) k /= 10;
        inf = k !== 1;
      }
    }

    external = false;
    sd = pr + guard;
    num = naturalLogarithm(arg, sd);
    denominator = isBase10 ? getLn10(Ctor, sd + 10) : naturalLogarithm(base, sd);

    // The result will have 5 rounding digits.
    r = divide(num, denominator, sd, 1);

    // If at a rounding boundary, i.e. the result's rounding digits are [49]9999 or [50]0000,
    // calculate 10 further digits.
    //
    // If the result is known to have an infinite decimal expansion, repeat this until it is clear
    // that the result is above or below the boundary. Otherwise, if after calculating the 10
    // further digits, the last 14 are nines, round up and assume the result is exact.
    // Also assume the result is exact if the last 14 are zero.
    //
    // Example of a result that will be incorrectly rounded:
    // log[1048576](4503599627370502) = 2.60000000000000009610279511444746...
    // The above result correctly rounded using ROUND_CEIL to 1 decimal place should be 2.7, but it
    // will be given as 2.6 as there are 15 zeros immediately after the requested decimal place, so
    // the exact result would be assumed to be 2.6, which rounded using ROUND_CEIL to 1 decimal
    // place is still 2.6.
    if (checkRoundingDigits(r.d, k = pr, rm)) {

      do {
        sd += 10;
        num = naturalLogarithm(arg, sd);
        denominator = isBase10 ? getLn10(Ctor, sd + 10) : naturalLogarithm(base, sd);
        r = divide(num, denominator, sd, 1);

        if (!inf) {

          // Check for 14 nines from the 2nd rounding digit, as the first may be 4.
          if (+digitsToString(r.d).slice(k + 1, k + 15) + 1 == 1e14) {
            r = finalise(r, pr + 1, 0);
          }

          break;
        }
      } while (checkRoundingDigits(r.d, k += 10, rm));
    }

    external = true;

    return finalise(r, pr, rm);
  };


  /*
   * Return a new Decimal whose value is the maximum of the arguments and the value of this Decimal.
   *
   * arguments {number|string|Decimal}
   *
  P.max = function () {
    Array.prototype.push.call(arguments, this);
    return maxOrMin(this.constructor, arguments, 'lt');
  };
   */


  /*
   * Return a new Decimal whose value is the minimum of the arguments and the value of this Decimal.
   *
   * arguments {number|string|Decimal}
   *
  P.min = function () {
    Array.prototype.push.call(arguments, this);
    return maxOrMin(this.constructor, arguments, 'gt');
  };
   */


  /*
   *  n - 0 = n
   *  n - N = N
   *  n - I = -I
   *  0 - n = -n
   *  0 - 0 = 0
   *  0 - N = N
   *  0 - I = -I
   *  N - n = N
   *  N - 0 = N
   *  N - N = N
   *  N - I = N
   *  I - n = I
   *  I - 0 = I
   *  I - N = N
   *  I - I = N
   *
   * Return a new Decimal whose value is the value of this Decimal minus `y`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
  P.minus = P.sub = function (y) {
    var d, e, i, j, k, len, pr, rm, xd, xe, xLTy, yd,
      x = this,
      Ctor = x.constructor;

    y = new Ctor(y);

    // If either is not finite...
    if (!x.d || !y.d) {

      // Return NaN if either is NaN.
      if (!x.s || !y.s) y = new Ctor(NaN);

      // Return y negated if x is finite and y is ±Infinity.
      else if (x.d) y.s = -y.s;

      // Return x if y is finite and x is ±Infinity.
      // Return x if both are ±Infinity with different signs.
      // Return NaN if both are ±Infinity with the same sign.
      else y = new Ctor(y.d || x.s !== y.s ? x : NaN);

      return y;
    }

    // If signs differ...
    if (x.s != y.s) {
      y.s = -y.s;
      return x.plus(y);
    }

    xd = x.d;
    yd = y.d;
    pr = Ctor.precision;
    rm = Ctor.rounding;

    // If either is zero...
    if (!xd[0] || !yd[0]) {

      // Return y negated if x is zero and y is non-zero.
      if (yd[0]) y.s = -y.s;

      // Return x if y is zero and x is non-zero.
      else if (xd[0]) y = new Ctor(x);

      // Return zero if both are zero.
      // From IEEE 754 (2008) 6.3: 0 - 0 = -0 - -0 = -0 when rounding to -Infinity.
      else return new Ctor(rm === 3 ? -0 : 0);

      return external ? finalise(y, pr, rm) : y;
    }

    // x and y are finite, non-zero numbers with the same sign.

    // Calculate base 1e7 exponents.
    e = mathfloor(y.e / LOG_BASE);
    xe = mathfloor(x.e / LOG_BASE);

    xd = xd.slice();
    k = xe - e;

    // If base 1e7 exponents differ...
    if (k) {
      xLTy = k < 0;

      if (xLTy) {
        d = xd;
        k = -k;
        len = yd.length;
      } else {
        d = yd;
        e = xe;
        len = xd.length;
      }

      // Numbers with massively different exponents would result in a very high number of
      // zeros needing to be prepended, but this can be avoided while still ensuring correct
      // rounding by limiting the number of zeros to `Math.ceil(pr / LOG_BASE) + 2`.
      i = Math.max(Math.ceil(pr / LOG_BASE), len) + 2;

      if (k > i) {
        k = i;
        d.length = 1;
      }

      // Prepend zeros to equalise exponents.
      d.reverse();
      for (i = k; i--;) d.push(0);
      d.reverse();

    // Base 1e7 exponents equal.
    } else {

      // Check digits to determine which is the bigger number.

      i = xd.length;
      len = yd.length;
      xLTy = i < len;
      if (xLTy) len = i;

      for (i = 0; i < len; i++) {
        if (xd[i] != yd[i]) {
          xLTy = xd[i] < yd[i];
          break;
        }
      }

      k = 0;
    }

    if (xLTy) {
      d = xd;
      xd = yd;
      yd = d;
      y.s = -y.s;
    }

    len = xd.length;

    // Append zeros to `xd` if shorter.
    // Don't add zeros to `yd` if shorter as subtraction only needs to start at `yd` length.
    for (i = yd.length - len; i > 0; --i) xd[len++] = 0;

    // Subtract yd from xd.
    for (i = yd.length; i > k;) {

      if (xd[--i] < yd[i]) {
        for (j = i; j && xd[--j] === 0;) xd[j] = BASE - 1;
        --xd[j];
        xd[i] += BASE;
      }

      xd[i] -= yd[i];
    }

    // Remove trailing zeros.
    for (; xd[--len] === 0;) xd.pop();

    // Remove leading zeros and adjust exponent accordingly.
    for (; xd[0] === 0; xd.shift()) --e;

    // Zero?
    if (!xd[0]) return new Ctor(rm === 3 ? -0 : 0);

    y.d = xd;
    y.e = getBase10Exponent(xd, e);

    return external ? finalise(y, pr, rm) : y;
  };


  /*
   *   n % 0 =  N
   *   n % N =  N
   *   n % I =  n
   *   0 % n =  0
   *  -0 % n = -0
   *   0 % 0 =  N
   *   0 % N =  N
   *   0 % I =  0
   *   N % n =  N
   *   N % 0 =  N
   *   N % N =  N
   *   N % I =  N
   *   I % n =  N
   *   I % 0 =  N
   *   I % N =  N
   *   I % I =  N
   *
   * Return a new Decimal whose value is the value of this Decimal modulo `y`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * The result depends on the modulo mode.
   *
   */
  P.modulo = P.mod = function (y) {
    var q,
      x = this,
      Ctor = x.constructor;

    y = new Ctor(y);

    // Return NaN if x is ±Infinity or NaN, or y is NaN or ±0.
    if (!x.d || !y.s || y.d && !y.d[0]) return new Ctor(NaN);

    // Return x if y is ±Infinity or x is ±0.
    if (!y.d || x.d && !x.d[0]) {
      return finalise(new Ctor(x), Ctor.precision, Ctor.rounding);
    }

    // Prevent rounding of intermediate calculations.
    external = false;

    if (Ctor.modulo == 9) {

      // Euclidian division: q = sign(y) * floor(x / abs(y))
      // result = x - q * y    where  0 <= result < abs(y)
      q = divide(x, y.abs(), 0, 3, 1);
      q.s *= y.s;
    } else {
      q = divide(x, y, 0, Ctor.modulo, 1);
    }

    q = q.times(y);

    external = true;

    return x.minus(q);
  };


  /*
   * Return a new Decimal whose value is the natural exponential of the value of this Decimal,
   * i.e. the base e raised to the power the value of this Decimal, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
  P.naturalExponential = P.exp = function () {
    return naturalExponential(this);
  };


  /*
   * Return a new Decimal whose value is the natural logarithm of the value of this Decimal,
   * rounded to `precision` significant digits using rounding mode `rounding`.
   *
   */
  P.naturalLogarithm = P.ln = function () {
    return naturalLogarithm(this);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal negated, i.e. as if multiplied by
   * -1.
   *
   */
  P.negated = P.neg = function () {
    var x = new this.constructor(this);
    x.s = -x.s;
    return finalise(x);
  };


  /*
   *  n + 0 = n
   *  n + N = N
   *  n + I = I
   *  0 + n = n
   *  0 + 0 = 0
   *  0 + N = N
   *  0 + I = I
   *  N + n = N
   *  N + 0 = N
   *  N + N = N
   *  N + I = N
   *  I + n = I
   *  I + 0 = I
   *  I + N = N
   *  I + I = I
   *
   * Return a new Decimal whose value is the value of this Decimal plus `y`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
  P.plus = P.add = function (y) {
    var carry, d, e, i, k, len, pr, rm, xd, yd,
      x = this,
      Ctor = x.constructor;

    y = new Ctor(y);

    // If either is not finite...
    if (!x.d || !y.d) {

      // Return NaN if either is NaN.
      if (!x.s || !y.s) y = new Ctor(NaN);

      // Return x if y is finite and x is ±Infinity.
      // Return x if both are ±Infinity with the same sign.
      // Return NaN if both are ±Infinity with different signs.
      // Return y if x is finite and y is ±Infinity.
      else if (!x.d) y = new Ctor(y.d || x.s === y.s ? x : NaN);

      return y;
    }

     // If signs differ...
    if (x.s != y.s) {
      y.s = -y.s;
      return x.minus(y);
    }

    xd = x.d;
    yd = y.d;
    pr = Ctor.precision;
    rm = Ctor.rounding;

    // If either is zero...
    if (!xd[0] || !yd[0]) {

      // Return x if y is zero.
      // Return y if y is non-zero.
      if (!yd[0]) y = new Ctor(x);

      return external ? finalise(y, pr, rm) : y;
    }

    // x and y are finite, non-zero numbers with the same sign.

    // Calculate base 1e7 exponents.
    k = mathfloor(x.e / LOG_BASE);
    e = mathfloor(y.e / LOG_BASE);

    xd = xd.slice();
    i = k - e;

    // If base 1e7 exponents differ...
    if (i) {

      if (i < 0) {
        d = xd;
        i = -i;
        len = yd.length;
      } else {
        d = yd;
        e = k;
        len = xd.length;
      }

      // Limit number of zeros prepended to max(ceil(pr / LOG_BASE), len) + 1.
      k = Math.ceil(pr / LOG_BASE);
      len = k > len ? k + 1 : len + 1;

      if (i > len) {
        i = len;
        d.length = 1;
      }

      // Prepend zeros to equalise exponents. Note: Faster to use reverse then do unshifts.
      d.reverse();
      for (; i--;) d.push(0);
      d.reverse();
    }

    len = xd.length;
    i = yd.length;

    // If yd is longer than xd, swap xd and yd so xd points to the longer array.
    if (len - i < 0) {
      i = len;
      d = yd;
      yd = xd;
      xd = d;
    }

    // Only start adding at yd.length - 1 as the further digits of xd can be left as they are.
    for (carry = 0; i;) {
      carry = (xd[--i] = xd[i] + yd[i] + carry) / BASE | 0;
      xd[i] %= BASE;
    }

    if (carry) {
      xd.unshift(carry);
      ++e;
    }

    // Remove trailing zeros.
    // No need to check for zero, as +x + +y != 0 && -x + -y != 0
    for (len = xd.length; xd[--len] == 0;) xd.pop();

    y.d = xd;
    y.e = getBase10Exponent(xd, e);

    return external ? finalise(y, pr, rm) : y;
  };


  /*
   * Return the number of significant digits of the value of this Decimal.
   *
   * [z] {boolean|number} Whether to count integer-part trailing zeros: true, false, 1 or 0.
   *
   */
  P.precision = P.sd = function (z) {
    var k,
      x = this;

    if (z !== void 0 && z !== !!z && z !== 1 && z !== 0) throw Error(invalidArgument + z);

    if (x.d) {
      k = getPrecision(x.d);
      if (z && x.e + 1 > k) k = x.e + 1;
    } else {
      k = NaN;
    }

    return k;
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number using
   * rounding mode `rounding`.
   *
   */
  P.round = function () {
    var x = this,
      Ctor = x.constructor;

    return finalise(new Ctor(x), x.e + 1, Ctor.rounding);
  };


  /*
   * Return a new Decimal whose value is the sine of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * sin(x) = x - x^3/3! + x^5/5! - ...
   *
   * sin(0)         = 0
   * sin(-0)        = -0
   * sin(Infinity)  = NaN
   * sin(-Infinity) = NaN
   * sin(NaN)       = NaN
   *
   */
  P.sine = P.sin = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite()) return new Ctor(NaN);
    if (x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(x.e, x.sd()) + LOG_BASE;
    Ctor.rounding = 1;

    x = sine(Ctor, toLessThanHalfPi(Ctor, x));

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return finalise(quadrant > 2 ? x.neg() : x, pr, rm, true);
  };


  /*
   * Return a new Decimal whose value is the square root of this Decimal, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   *  sqrt(-n) =  N
   *  sqrt(N)  =  N
   *  sqrt(-I) =  N
   *  sqrt(I)  =  I
   *  sqrt(0)  =  0
   *  sqrt(-0) = -0
   *
   */
  P.squareRoot = P.sqrt = function () {
    var m, n, sd, r, rep, t,
      x = this,
      d = x.d,
      e = x.e,
      s = x.s,
      Ctor = x.constructor;

    // Negative/NaN/Infinity/zero?
    if (s !== 1 || !d || !d[0]) {
      return new Ctor(!s || s < 0 && (!d || d[0]) ? NaN : d ? x : 1 / 0);
    }

    external = false;

    // Initial estimate.
    s = Math.sqrt(+x);

    // Math.sqrt underflow/overflow?
    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.
    if (s == 0 || s == 1 / 0) {
      n = digitsToString(d);

      if ((n.length + e) % 2 == 0) n += '0';
      s = Math.sqrt(n);
      e = mathfloor((e + 1) / 2) - (e < 0 || e % 2);

      if (s == 1 / 0) {
        n = '5e' + e;
      } else {
        n = s.toExponential();
        n = n.slice(0, n.indexOf('e') + 1) + e;
      }

      r = new Ctor(n);
    } else {
      r = new Ctor(s.toString());
    }

    sd = (e = Ctor.precision) + 3;

    // Newton-Raphson iteration.
    for (;;) {
      t = r;
      r = t.plus(divide(x, t, sd + 2, 1)).times(0.5);

      // TODO? Replace with for-loop and checkRoundingDigits.
      if (digitsToString(t.d).slice(0, sd) === (n = digitsToString(r.d)).slice(0, sd)) {
        n = n.slice(sd - 3, sd + 1);

        // The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or
        // 4999, i.e. approaching a rounding boundary, continue the iteration.
        if (n == '9999' || !rep && n == '4999') {

          // On the first iteration only, check to see if rounding up gives the exact result as the
          // nines may infinitely repeat.
          if (!rep) {
            finalise(t, e + 1, 0);

            if (t.times(t).eq(x)) {
              r = t;
              break;
            }
          }

          sd += 4;
          rep = 1;
        } else {

          // If the rounding digits are null, 0{0,4} or 50{0,3}, check for an exact result.
          // If not, then there are further digits and m will be truthy.
          if (!+n || !+n.slice(1) && n.charAt(0) == '5') {

            // Truncate to the first rounding digit.
            finalise(r, e + 1, 1);
            m = !r.times(r).eq(x);
          }

          break;
        }
      }
    }

    external = true;

    return finalise(r, e, Ctor.rounding, m);
  };


  /*
   * Return a new Decimal whose value is the tangent of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * tan(0)         = 0
   * tan(-0)        = -0
   * tan(Infinity)  = NaN
   * tan(-Infinity) = NaN
   * tan(NaN)       = NaN
   *
   */
  P.tangent = P.tan = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite()) return new Ctor(NaN);
    if (x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + 10;
    Ctor.rounding = 1;

    x = x.sin();
    x.s = 1;
    x = divide(x, new Ctor(1).minus(x.times(x)).sqrt(), pr + 10, 0);

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return finalise(quadrant == 2 || quadrant == 4 ? x.neg() : x, pr, rm, true);
  };


  /*
   *  n * 0 = 0
   *  n * N = N
   *  n * I = I
   *  0 * n = 0
   *  0 * 0 = 0
   *  0 * N = N
   *  0 * I = N
   *  N * n = N
   *  N * 0 = N
   *  N * N = N
   *  N * I = N
   *  I * n = I
   *  I * 0 = N
   *  I * N = N
   *  I * I = I
   *
   * Return a new Decimal whose value is this Decimal times `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   */
  P.times = P.mul = function (y) {
    var carry, e, i, k, r, rL, t, xdL, ydL,
      x = this,
      Ctor = x.constructor,
      xd = x.d,
      yd = (y = new Ctor(y)).d;

    y.s *= x.s;

     // If either is NaN, ±Infinity or ±0...
    if (!xd || !xd[0] || !yd || !yd[0]) {

      return new Ctor(!y.s || xd && !xd[0] && !yd || yd && !yd[0] && !xd

        // Return NaN if either is NaN.
        // Return NaN if x is ±0 and y is ±Infinity, or y is ±0 and x is ±Infinity.
        ? NaN

        // Return ±Infinity if either is ±Infinity.
        // Return ±0 if either is ±0.
        : !xd || !yd ? y.s / 0 : y.s * 0);
    }

    e = mathfloor(x.e / LOG_BASE) + mathfloor(y.e / LOG_BASE);
    xdL = xd.length;
    ydL = yd.length;

    // Ensure xd points to the longer array.
    if (xdL < ydL) {
      r = xd;
      xd = yd;
      yd = r;
      rL = xdL;
      xdL = ydL;
      ydL = rL;
    }

    // Initialise the result array with zeros.
    r = [];
    rL = xdL + ydL;
    for (i = rL; i--;) r.push(0);

    // Multiply!
    for (i = ydL; --i >= 0;) {
      carry = 0;
      for (k = xdL + i; k > i;) {
        t = r[k] + yd[i] * xd[k - i - 1] + carry;
        r[k--] = t % BASE | 0;
        carry = t / BASE | 0;
      }

      r[k] = (r[k] + carry) % BASE | 0;
    }

    // Remove trailing zeros.
    for (; !r[--rL];) r.pop();

    if (carry) ++e;
    else r.shift();

    y.d = r;
    y.e = getBase10Exponent(r, e);

    return external ? finalise(y, Ctor.precision, Ctor.rounding) : y;
  };


  /*
   * Return a string representing the value of this Decimal in base 2, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toBinary = function (sd, rm) {
    return toStringBinary(this, 2, sd, rm);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `dp`
   * decimal places using rounding mode `rm` or `rounding` if `rm` is omitted.
   *
   * If `dp` is omitted, return a new Decimal whose value is the value of this Decimal.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toDecimalPlaces = P.toDP = function (dp, rm) {
    var x = this,
      Ctor = x.constructor;

    x = new Ctor(x);
    if (dp === void 0) return x;

    checkInt32(dp, 0, MAX_DIGITS);

    if (rm === void 0) rm = Ctor.rounding;
    else checkInt32(rm, 0, 8);

    return finalise(x, dp + x.e + 1, rm);
  };


  /*
   * Return a string representing the value of this Decimal in exponential notation rounded to
   * `dp` fixed decimal places using rounding mode `rounding`.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toExponential = function (dp, rm) {
    var str,
      x = this,
      Ctor = x.constructor;

    if (dp === void 0) {
      str = finiteToString(x, true);
    } else {
      checkInt32(dp, 0, MAX_DIGITS);

      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);

      x = finalise(new Ctor(x), dp + 1, rm);
      str = finiteToString(x, true, dp + 1);
    }

    return x.isNeg() && !x.isZero() ? '-' + str : str;
  };


  /*
   * Return a string representing the value of this Decimal in normal (fixed-point) notation to
   * `dp` fixed decimal places and rounded using rounding mode `rm` or `rounding` if `rm` is
   * omitted.
   *
   * As with JavaScript numbers, (-0).toFixed(0) is '0', but e.g. (-0.00001).toFixed(0) is '-0'.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.
   * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.
   * (-0).toFixed(3) is '0.000'.
   * (-0.5).toFixed(0) is '-0'.
   *
   */
  P.toFixed = function (dp, rm) {
    var str, y,
      x = this,
      Ctor = x.constructor;

    if (dp === void 0) {
      str = finiteToString(x);
    } else {
      checkInt32(dp, 0, MAX_DIGITS);

      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);

      y = finalise(new Ctor(x), dp + x.e + 1, rm);
      str = finiteToString(y, false, dp + y.e + 1);
    }

    // To determine whether to add the minus sign look at the value before it was rounded,
    // i.e. look at `x` rather than `y`.
    return x.isNeg() && !x.isZero() ? '-' + str : str;
  };


  /*
   * Return an array representing the value of this Decimal as a simple fraction with an integer
   * numerator and an integer denominator.
   *
   * The denominator will be a positive non-zero value less than or equal to the specified maximum
   * denominator. If a maximum denominator is not specified, the denominator will be the lowest
   * value necessary to represent the number exactly.
   *
   * [maxD] {number|string|Decimal} Maximum denominator. Integer >= 1 and < Infinity.
   *
   */
  P.toFraction = function (maxD) {
    var d, d0, d1, d2, e, k, n, n0, n1, pr, q, r,
      x = this,
      xd = x.d,
      Ctor = x.constructor;

    if (!xd) return new Ctor(x);

    n1 = d0 = new Ctor(1);
    d1 = n0 = new Ctor(0);

    d = new Ctor(d1);
    e = d.e = getPrecision(xd) - x.e - 1;
    k = e % LOG_BASE;
    d.d[0] = mathpow(10, k < 0 ? LOG_BASE + k : k);

    if (maxD == null) {

      // d is 10**e, the minimum max-denominator needed.
      maxD = e > 0 ? d : n1;
    } else {
      n = new Ctor(maxD);
      if (!n.isInt() || n.lt(n1)) throw Error(invalidArgument + n);
      maxD = n.gt(d) ? (e > 0 ? d : n1) : n;
    }

    external = false;
    n = new Ctor(digitsToString(xd));
    pr = Ctor.precision;
    Ctor.precision = e = xd.length * LOG_BASE * 2;

    for (;;)  {
      q = divide(n, d, 0, 1, 1);
      d2 = d0.plus(q.times(d1));
      if (d2.cmp(maxD) == 1) break;
      d0 = d1;
      d1 = d2;
      d2 = n1;
      n1 = n0.plus(q.times(d2));
      n0 = d2;
      d2 = d;
      d = n.minus(q.times(d2));
      n = d2;
    }

    d2 = divide(maxD.minus(d0), d1, 0, 1, 1);
    n0 = n0.plus(d2.times(n1));
    d0 = d0.plus(d2.times(d1));
    n0.s = n1.s = x.s;

    // Determine which fraction is closer to x, n0/d0 or n1/d1?
    r = divide(n1, d1, e, 1).minus(x).abs().cmp(divide(n0, d0, e, 1).minus(x).abs()) < 1
        ? [n1, d1] : [n0, d0];

    Ctor.precision = pr;
    external = true;

    return r;
  };


  /*
   * Return a string representing the value of this Decimal in base 16, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toHexadecimal = P.toHex = function (sd, rm) {
    return toStringBinary(this, 16, sd, rm);
  };


  /*
   * Returns a new Decimal whose value is the nearest multiple of `y` in the direction of rounding
   * mode `rm`, or `Decimal.rounding` if `rm` is omitted, to the value of this Decimal.
   *
   * The return value will always have the same sign as this Decimal, unless either this Decimal
   * or `y` is NaN, in which case the return value will be also be NaN.
   *
   * The return value is not affected by the value of `precision`.
   *
   * y {number|string|Decimal} The magnitude to round to a multiple of.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * 'toNearest() rounding mode not an integer: {rm}'
   * 'toNearest() rounding mode out of range: {rm}'
   *
   */
  P.toNearest = function (y, rm) {
    var x = this,
      Ctor = x.constructor;

    x = new Ctor(x);

    if (y == null) {

      // If x is not finite, return x.
      if (!x.d) return x;

      y = new Ctor(1);
      rm = Ctor.rounding;
    } else {
      y = new Ctor(y);
      if (rm === void 0) {
        rm = Ctor.rounding;
      } else {
        checkInt32(rm, 0, 8);
      }

      // If x is not finite, return x if y is not NaN, else NaN.
      if (!x.d) return y.s ? x : y;

      // If y is not finite, return Infinity with the sign of x if y is Infinity, else NaN.
      if (!y.d) {
        if (y.s) y.s = x.s;
        return y;
      }
    }

    // If y is not zero, calculate the nearest multiple of y to x.
    if (y.d[0]) {
      external = false;
      x = divide(x, y, 0, rm, 1).times(y);
      external = true;
      finalise(x);

    // If y is zero, return zero with the sign of x.
    } else {
      y.s = x.s;
      x = y;
    }

    return x;
  };


  /*
   * Return the value of this Decimal converted to a number primitive.
   * Zero keeps its sign.
   *
   */
  P.toNumber = function () {
    return +this;
  };


  /*
   * Return a string representing the value of this Decimal in base 8, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toOctal = function (sd, rm) {
    return toStringBinary(this, 8, sd, rm);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal raised to the power `y`, rounded
   * to `precision` significant digits using rounding mode `rounding`.
   *
   * ECMAScript compliant.
   *
   *   pow(x, NaN)                           = NaN
   *   pow(x, ±0)                            = 1

   *   pow(NaN, non-zero)                    = NaN
   *   pow(abs(x) > 1, +Infinity)            = +Infinity
   *   pow(abs(x) > 1, -Infinity)            = +0
   *   pow(abs(x) == 1, ±Infinity)           = NaN
   *   pow(abs(x) < 1, +Infinity)            = +0
   *   pow(abs(x) < 1, -Infinity)            = +Infinity
   *   pow(+Infinity, y > 0)                 = +Infinity
   *   pow(+Infinity, y < 0)                 = +0
   *   pow(-Infinity, odd integer > 0)       = -Infinity
   *   pow(-Infinity, even integer > 0)      = +Infinity
   *   pow(-Infinity, odd integer < 0)       = -0
   *   pow(-Infinity, even integer < 0)      = +0
   *   pow(+0, y > 0)                        = +0
   *   pow(+0, y < 0)                        = +Infinity
   *   pow(-0, odd integer > 0)              = -0
   *   pow(-0, even integer > 0)             = +0
   *   pow(-0, odd integer < 0)              = -Infinity
   *   pow(-0, even integer < 0)             = +Infinity
   *   pow(finite x < 0, finite non-integer) = NaN
   *
   * For non-integer or very large exponents pow(x, y) is calculated using
   *
   *   x^y = exp(y*ln(x))
   *
   * Assuming the first 15 rounding digits are each equally likely to be any digit 0-9, the
   * probability of an incorrectly rounded result
   * P([49]9{14} | [50]0{14}) = 2 * 0.2 * 10^-14 = 4e-15 = 1/2.5e+14
   * i.e. 1 in 250,000,000,000,000
   *
   * If a result is incorrectly rounded the maximum error will be 1 ulp (unit in last place).
   *
   * y {number|string|Decimal} The power to which to raise this Decimal.
   *
   */
  P.toPower = P.pow = function (y) {
    var e, k, pr, r, rm, s,
      x = this,
      Ctor = x.constructor,
      yn = +(y = new Ctor(y));

    // Either ±Infinity, NaN or ±0?
    if (!x.d || !y.d || !x.d[0] || !y.d[0]) return new Ctor(mathpow(+x, yn));

    x = new Ctor(x);

    if (x.eq(1)) return x;

    pr = Ctor.precision;
    rm = Ctor.rounding;

    if (y.eq(1)) return finalise(x, pr, rm);

    // y exponent
    e = mathfloor(y.e / LOG_BASE);

    // If y is a small integer use the 'exponentiation by squaring' algorithm.
    if (e >= y.d.length - 1 && (k = yn < 0 ? -yn : yn) <= MAX_SAFE_INTEGER) {
      r = intPow(Ctor, x, k, pr);
      return y.s < 0 ? new Ctor(1).div(r) : finalise(r, pr, rm);
    }

    s = x.s;

    // if x is negative
    if (s < 0) {

      // if y is not an integer
      if (e < y.d.length - 1) return new Ctor(NaN);

      // Result is positive if x is negative and the last digit of integer y is even.
      if ((y.d[e] & 1) == 0) s = 1;

      // if x.eq(-1)
      if (x.e == 0 && x.d[0] == 1 && x.d.length == 1) {
        x.s = s;
        return x;
      }
    }

    // Estimate result exponent.
    // x^y = 10^e,  where e = y * log10(x)
    // log10(x) = log10(x_significand) + x_exponent
    // log10(x_significand) = ln(x_significand) / ln(10)
    k = mathpow(+x, yn);
    e = k == 0 || !isFinite(k)
      ? mathfloor(yn * (Math.log('0.' + digitsToString(x.d)) / Math.LN10 + x.e + 1))
      : new Ctor(k + '').e;

    // Exponent estimate may be incorrect e.g. x: 0.999999999999999999, y: 2.29, e: 0, r.e: -1.

    // Overflow/underflow?
    if (e > Ctor.maxE + 1 || e < Ctor.minE - 1) return new Ctor(e > 0 ? s / 0 : 0);

    external = false;
    Ctor.rounding = x.s = 1;

    // Estimate the extra guard digits needed to ensure five correct rounding digits from
    // naturalLogarithm(x). Example of failure without these extra digits (precision: 10):
    // new Decimal(2.32456).pow('2087987436534566.46411')
    // should be 1.162377823e+764914905173815, but is 1.162355823e+764914905173815
    k = Math.min(12, (e + '').length);

    // r = x^y = exp(y*ln(x))
    r = naturalExponential(y.times(naturalLogarithm(x, pr + k)), pr);

    // r may be Infinity, e.g. (0.9999999999999999).pow(-1e+40)
    if (r.d) {

      // Truncate to the required precision plus five rounding digits.
      r = finalise(r, pr + 5, 1);

      // If the rounding digits are [49]9999 or [50]0000 increase the precision by 10 and recalculate
      // the result.
      if (checkRoundingDigits(r.d, pr, rm)) {
        e = pr + 10;

        // Truncate to the increased precision plus five rounding digits.
        r = finalise(naturalExponential(y.times(naturalLogarithm(x, e + k)), e), e + 5, 1);

        // Check for 14 nines from the 2nd rounding digit (the first rounding digit may be 4 or 9).
        if (+digitsToString(r.d).slice(pr + 1, pr + 15) + 1 == 1e14) {
          r = finalise(r, pr + 1, 0);
        }
      }
    }

    r.s = s;
    external = true;
    Ctor.rounding = rm;

    return finalise(r, pr, rm);
  };


  /*
   * Return a string representing the value of this Decimal rounded to `sd` significant digits
   * using rounding mode `rounding`.
   *
   * Return exponential notation if `sd` is less than the number of digits necessary to represent
   * the integer part of the value in normal notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toPrecision = function (sd, rm) {
    var str,
      x = this,
      Ctor = x.constructor;

    if (sd === void 0) {
      str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);
    } else {
      checkInt32(sd, 1, MAX_DIGITS);

      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);

      x = finalise(new Ctor(x), sd, rm);
      str = finiteToString(x, sd <= x.e || x.e <= Ctor.toExpNeg, sd);
    }

    return x.isNeg() && !x.isZero() ? '-' + str : str;
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `sd`
   * significant digits using rounding mode `rm`, or to `precision` and `rounding` respectively if
   * omitted.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * 'toSD() digits out of range: {sd}'
   * 'toSD() digits not an integer: {sd}'
   * 'toSD() rounding mode not an integer: {rm}'
   * 'toSD() rounding mode out of range: {rm}'
   *
   */
  P.toSignificantDigits = P.toSD = function (sd, rm) {
    var x = this,
      Ctor = x.constructor;

    if (sd === void 0) {
      sd = Ctor.precision;
      rm = Ctor.rounding;
    } else {
      checkInt32(sd, 1, MAX_DIGITS);

      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);
    }

    return finalise(new Ctor(x), sd, rm);
  };


  /*
   * Return a string representing the value of this Decimal.
   *
   * Return exponential notation if this Decimal has a positive exponent equal to or greater than
   * `toExpPos`, or a negative exponent equal to or less than `toExpNeg`.
   *
   */
  P.toString = function () {
    var x = this,
      Ctor = x.constructor,
      str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);

    return x.isNeg() && !x.isZero() ? '-' + str : str;
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal truncated to a whole number.
   *
   */
  P.truncated = P.trunc = function () {
    return finalise(new this.constructor(this), this.e + 1, 1);
  };


  /*
   * Return a string representing the value of this Decimal.
   * Unlike `toString`, negative zero will include the minus sign.
   *
   */
  P.valueOf = P.toJSON = function () {
    var x = this,
      Ctor = x.constructor,
      str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);

    return x.isNeg() ? '-' + str : str;
  };


  // Helper functions for Decimal.prototype (P) and/or Decimal methods, and their callers.


  /*
   *  digitsToString           P.cubeRoot, P.logarithm, P.squareRoot, P.toFraction, P.toPower,
   *                           finiteToString, naturalExponential, naturalLogarithm
   *  checkInt32               P.toDecimalPlaces, P.toExponential, P.toFixed, P.toNearest,
   *                           P.toPrecision, P.toSignificantDigits, toStringBinary, random
   *  checkRoundingDigits      P.logarithm, P.toPower, naturalExponential, naturalLogarithm
   *  convertBase              toStringBinary, parseOther
   *  cos                      P.cos
   *  divide                   P.atanh, P.cubeRoot, P.dividedBy, P.dividedToIntegerBy,
   *                           P.logarithm, P.modulo, P.squareRoot, P.tan, P.tanh, P.toFraction,
   *                           P.toNearest, toStringBinary, naturalExponential, naturalLogarithm,
   *                           taylorSeries, atan2, parseOther
   *  finalise                 P.absoluteValue, P.atan, P.atanh, P.ceil, P.cos, P.cosh,
   *                           P.cubeRoot, P.dividedToIntegerBy, P.floor, P.logarithm, P.minus,
   *                           P.modulo, P.negated, P.plus, P.round, P.sin, P.sinh, P.squareRoot,
   *                           P.tan, P.times, P.toDecimalPlaces, P.toExponential, P.toFixed,
   *                           P.toNearest, P.toPower, P.toPrecision, P.toSignificantDigits,
   *                           P.truncated, divide, getLn10, getPi, naturalExponential,
   *                           naturalLogarithm, ceil, floor, round, trunc
   *  finiteToString           P.toExponential, P.toFixed, P.toPrecision, P.toString, P.valueOf,
   *                           toStringBinary
   *  getBase10Exponent        P.minus, P.plus, P.times, parseOther
   *  getLn10                  P.logarithm, naturalLogarithm
   *  getPi                    P.acos, P.asin, P.atan, toLessThanHalfPi, atan2
   *  getPrecision             P.precision, P.toFraction
   *  getZeroString            digitsToString, finiteToString
   *  intPow                   P.toPower, parseOther
   *  isOdd                    toLessThanHalfPi
   *  maxOrMin                 max, min
   *  naturalExponential       P.naturalExponential, P.toPower
   *  naturalLogarithm         P.acosh, P.asinh, P.atanh, P.logarithm, P.naturalLogarithm,
   *                           P.toPower, naturalExponential
   *  nonFiniteToString        finiteToString, toStringBinary
   *  parseDecimal             Decimal
   *  parseOther               Decimal
   *  sin                      P.sin
   *  taylorSeries             P.cosh, P.sinh, cos, sin
   *  toLessThanHalfPi         P.cos, P.sin
   *  toStringBinary           P.toBinary, P.toHexadecimal, P.toOctal
   *  truncate                 intPow
   *
   *  Throws:                  P.logarithm, P.precision, P.toFraction, checkInt32, getLn10, getPi,
   *                           naturalLogarithm, config, parseOther, random, Decimal
   */


  function digitsToString(d) {
    var i, k, ws,
      indexOfLastWord = d.length - 1,
      str = '',
      w = d[0];

    if (indexOfLastWord > 0) {
      str += w;
      for (i = 1; i < indexOfLastWord; i++) {
        ws = d[i] + '';
        k = LOG_BASE - ws.length;
        if (k) str += getZeroString(k);
        str += ws;
      }

      w = d[i];
      ws = w + '';
      k = LOG_BASE - ws.length;
      if (k) str += getZeroString(k);
    } else if (w === 0) {
      return '0';
    }

    // Remove trailing zeros of last w.
    for (; w % 10 === 0;) w /= 10;

    return str + w;
  }


  function checkInt32(i, min, max) {
    if (i !== ~~i || i < min || i > max) {
      throw Error(invalidArgument + i);
    }
  }


  /*
   * Check 5 rounding digits if `repeating` is null, 4 otherwise.
   * `repeating == null` if caller is `log` or `pow`,
   * `repeating != null` if caller is `naturalLogarithm` or `naturalExponential`.
   */
  function checkRoundingDigits(d, i, rm, repeating) {
    var di, k, r, rd;

    // Get the length of the first word of the array d.
    for (k = d[0]; k >= 10; k /= 10) --i;

    // Is the rounding digit in the first word of d?
    if (--i < 0) {
      i += LOG_BASE;
      di = 0;
    } else {
      di = Math.ceil((i + 1) / LOG_BASE);
      i %= LOG_BASE;
    }

    // i is the index (0 - 6) of the rounding digit.
    // E.g. if within the word 3487563 the first rounding digit is 5,
    // then i = 4, k = 1000, rd = 3487563 % 1000 = 563
    k = mathpow(10, LOG_BASE - i);
    rd = d[di] % k | 0;

    if (repeating == null) {
      if (i < 3) {
        if (i == 0) rd = rd / 100 | 0;
        else if (i == 1) rd = rd / 10 | 0;
        r = rm < 4 && rd == 99999 || rm > 3 && rd == 49999 || rd == 50000 || rd == 0;
      } else {
        r = (rm < 4 && rd + 1 == k || rm > 3 && rd + 1 == k / 2) &&
          (d[di + 1] / k / 100 | 0) == mathpow(10, i - 2) - 1 ||
            (rd == k / 2 || rd == 0) && (d[di + 1] / k / 100 | 0) == 0;
      }
    } else {
      if (i < 4) {
        if (i == 0) rd = rd / 1000 | 0;
        else if (i == 1) rd = rd / 100 | 0;
        else if (i == 2) rd = rd / 10 | 0;
        r = (repeating || rm < 4) && rd == 9999 || !repeating && rm > 3 && rd == 4999;
      } else {
        r = ((repeating || rm < 4) && rd + 1 == k ||
        (!repeating && rm > 3) && rd + 1 == k / 2) &&
          (d[di + 1] / k / 1000 | 0) == mathpow(10, i - 3) - 1;
      }
    }

    return r;
  }


  // Convert string of `baseIn` to an array of numbers of `baseOut`.
  // Eg. convertBase('255', 10, 16) returns [15, 15].
  // Eg. convertBase('ff', 16, 10) returns [2, 5, 5].
  function convertBase(str, baseIn, baseOut) {
    var j,
      arr = [0],
      arrL,
      i = 0,
      strL = str.length;

    for (; i < strL;) {
      for (arrL = arr.length; arrL--;) arr[arrL] *= baseIn;
      arr[0] += NUMERALS.indexOf(str.charAt(i++));
      for (j = 0; j < arr.length; j++) {
        if (arr[j] > baseOut - 1) {
          if (arr[j + 1] === void 0) arr[j + 1] = 0;
          arr[j + 1] += arr[j] / baseOut | 0;
          arr[j] %= baseOut;
        }
      }
    }

    return arr.reverse();
  }


  /*
   * cos(x) = 1 - x^2/2! + x^4/4! - ...
   * |x| < pi/2
   *
   */
  function cosine(Ctor, x) {
    var k, len, y;

    if (x.isZero()) return x;

    // Argument reduction: cos(4x) = 8*(cos^4(x) - cos^2(x)) + 1
    // i.e. cos(x) = 8*(cos^4(x/4) - cos^2(x/4)) + 1

    // Estimate the optimum number of times to use the argument reduction.
    len = x.d.length;
    if (len < 32) {
      k = Math.ceil(len / 3);
      y = (1 / tinyPow(4, k)).toString();
    } else {
      k = 16;
      y = '2.3283064365386962890625e-10';
    }

    Ctor.precision += k;

    x = taylorSeries(Ctor, 1, x.times(y), new Ctor(1));

    // Reverse argument reduction
    for (var i = k; i--;) {
      var cos2x = x.times(x);
      x = cos2x.times(cos2x).minus(cos2x).times(8).plus(1);
    }

    Ctor.precision -= k;

    return x;
  }


  /*
   * Perform division in the specified base.
   */
  var divide = (function () {

    // Assumes non-zero x and k, and hence non-zero result.
    function multiplyInteger(x, k, base) {
      var temp,
        carry = 0,
        i = x.length;

      for (x = x.slice(); i--;) {
        temp = x[i] * k + carry;
        x[i] = temp % base | 0;
        carry = temp / base | 0;
      }

      if (carry) x.unshift(carry);

      return x;
    }

    function compare(a, b, aL, bL) {
      var i, r;

      if (aL != bL) {
        r = aL > bL ? 1 : -1;
      } else {
        for (i = r = 0; i < aL; i++) {
          if (a[i] != b[i]) {
            r = a[i] > b[i] ? 1 : -1;
            break;
          }
        }
      }

      return r;
    }

    function subtract(a, b, aL, base) {
      var i = 0;

      // Subtract b from a.
      for (; aL--;) {
        a[aL] -= i;
        i = a[aL] < b[aL] ? 1 : 0;
        a[aL] = i * base + a[aL] - b[aL];
      }

      // Remove leading zeros.
      for (; !a[0] && a.length > 1;) a.shift();
    }

    return function (x, y, pr, rm, dp, base) {
      var cmp, e, i, k, logBase, more, prod, prodL, q, qd, rem, remL, rem0, sd, t, xi, xL, yd0,
        yL, yz,
        Ctor = x.constructor,
        sign = x.s == y.s ? 1 : -1,
        xd = x.d,
        yd = y.d;

      // Either NaN, Infinity or 0?
      if (!xd || !xd[0] || !yd || !yd[0]) {

        return new Ctor(// Return NaN if either NaN, or both Infinity or 0.
          !x.s || !y.s || (xd ? yd && xd[0] == yd[0] : !yd) ? NaN :

          // Return ±0 if x is 0 or y is ±Infinity, or return ±Infinity as y is 0.
          xd && xd[0] == 0 || !yd ? sign * 0 : sign / 0);
      }

      if (base) {
        logBase = 1;
        e = x.e - y.e;
      } else {
        base = BASE;
        logBase = LOG_BASE;
        e = mathfloor(x.e / logBase) - mathfloor(y.e / logBase);
      }

      yL = yd.length;
      xL = xd.length;
      q = new Ctor(sign);
      qd = q.d = [];

      // Result exponent may be one less than e.
      // The digit array of a Decimal from toStringBinary may have trailing zeros.
      for (i = 0; yd[i] == (xd[i] || 0); i++);

      if (yd[i] > (xd[i] || 0)) e--;

      if (pr == null) {
        sd = pr = Ctor.precision;
        rm = Ctor.rounding;
      } else if (dp) {
        sd = pr + (x.e - y.e) + 1;
      } else {
        sd = pr;
      }

      if (sd < 0) {
        qd.push(1);
        more = true;
      } else {

        // Convert precision in number of base 10 digits to base 1e7 digits.
        sd = sd / logBase + 2 | 0;
        i = 0;

        // divisor < 1e7
        if (yL == 1) {
          k = 0;
          yd = yd[0];
          sd++;

          // k is the carry.
          for (; (i < xL || k) && sd--; i++) {
            t = k * base + (xd[i] || 0);
            qd[i] = t / yd | 0;
            k = t % yd | 0;
          }

          more = k || i < xL;

        // divisor >= 1e7
        } else {

          // Normalise xd and yd so highest order digit of yd is >= base/2
          k = base / (yd[0] + 1) | 0;

          if (k > 1) {
            yd = multiplyInteger(yd, k, base);
            xd = multiplyInteger(xd, k, base);
            yL = yd.length;
            xL = xd.length;
          }

          xi = yL;
          rem = xd.slice(0, yL);
          remL = rem.length;

          // Add zeros to make remainder as long as divisor.
          for (; remL < yL;) rem[remL++] = 0;

          yz = yd.slice();
          yz.unshift(0);
          yd0 = yd[0];

          if (yd[1] >= base / 2) ++yd0;

          do {
            k = 0;

            // Compare divisor and remainder.
            cmp = compare(yd, rem, yL, remL);

            // If divisor < remainder.
            if (cmp < 0) {

              // Calculate trial digit, k.
              rem0 = rem[0];
              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);

              // k will be how many times the divisor goes into the current remainder.
              k = rem0 / yd0 | 0;

              //  Algorithm:
              //  1. product = divisor * trial digit (k)
              //  2. if product > remainder: product -= divisor, k--
              //  3. remainder -= product
              //  4. if product was < remainder at 2:
              //    5. compare new remainder and divisor
              //    6. If remainder > divisor: remainder -= divisor, k++

              if (k > 1) {
                if (k >= base) k = base - 1;

                // product = divisor * trial digit.
                prod = multiplyInteger(yd, k, base);
                prodL = prod.length;
                remL = rem.length;

                // Compare product and remainder.
                cmp = compare(prod, rem, prodL, remL);

                // product > remainder.
                if (cmp == 1) {
                  k--;

                  // Subtract divisor from product.
                  subtract(prod, yL < prodL ? yz : yd, prodL, base);
                }
              } else {

                // cmp is -1.
                // If k is 0, there is no need to compare yd and rem again below, so change cmp to 1
                // to avoid it. If k is 1 there is a need to compare yd and rem again below.
                if (k == 0) cmp = k = 1;
                prod = yd.slice();
              }

              prodL = prod.length;
              if (prodL < remL) prod.unshift(0);

              // Subtract product from remainder.
              subtract(rem, prod, remL, base);

              // If product was < previous remainder.
              if (cmp == -1) {
                remL = rem.length;

                // Compare divisor and new remainder.
                cmp = compare(yd, rem, yL, remL);

                // If divisor < new remainder, subtract divisor from remainder.
                if (cmp < 1) {
                  k++;

                  // Subtract divisor from remainder.
                  subtract(rem, yL < remL ? yz : yd, remL, base);
                }
              }

              remL = rem.length;
            } else if (cmp === 0) {
              k++;
              rem = [0];
            }    // if cmp === 1, k will be 0

            // Add the next digit, k, to the result array.
            qd[i++] = k;

            // Update the remainder.
            if (cmp && rem[0]) {
              rem[remL++] = xd[xi] || 0;
            } else {
              rem = [xd[xi]];
              remL = 1;
            }

          } while ((xi++ < xL || rem[0] !== void 0) && sd--);

          more = rem[0] !== void 0;
        }

        // Leading zero?
        if (!qd[0]) qd.shift();
      }

      // logBase is 1 when divide is being used for base conversion.
      if (logBase == 1) {
        q.e = e;
        inexact = more;
      } else {

        // To calculate q.e, first get the number of digits of qd[0].
        for (i = 1, k = qd[0]; k >= 10; k /= 10) i++;
        q.e = i + e * logBase - 1;

        finalise(q, dp ? pr + q.e + 1 : pr, rm, more);
      }

      return q;
    };
  })();


  /*
   * Round `x` to `sd` significant digits using rounding mode `rm`.
   * Check for over/under-flow.
   */
   function finalise(x, sd, rm, isTruncated) {
    var digits, i, j, k, rd, roundUp, w, xd, xdi,
      Ctor = x.constructor;

    // Don't round if sd is null or undefined.
    out: if (sd != null) {
      xd = x.d;

      // Infinity/NaN.
      if (!xd) return x;

      // rd: the rounding digit, i.e. the digit after the digit that may be rounded up.
      // w: the word of xd containing rd, a base 1e7 number.
      // xdi: the index of w within xd.
      // digits: the number of digits of w.
      // i: what would be the index of rd within w if all the numbers were 7 digits long (i.e. if
      // they had leading zeros)
      // j: if > 0, the actual index of rd within w (if < 0, rd is a leading zero).

      // Get the length of the first word of the digits array xd.
      for (digits = 1, k = xd[0]; k >= 10; k /= 10) digits++;
      i = sd - digits;

      // Is the rounding digit in the first word of xd?
      if (i < 0) {
        i += LOG_BASE;
        j = sd;
        w = xd[xdi = 0];

        // Get the rounding digit at index j of w.
        rd = w / mathpow(10, digits - j - 1) % 10 | 0;
      } else {
        xdi = Math.ceil((i + 1) / LOG_BASE);
        k = xd.length;
        if (xdi >= k) {
          if (isTruncated) {

            // Needed by `naturalExponential`, `naturalLogarithm` and `squareRoot`.
            for (; k++ <= xdi;) xd.push(0);
            w = rd = 0;
            digits = 1;
            i %= LOG_BASE;
            j = i - LOG_BASE + 1;
          } else {
            break out;
          }
        } else {
          w = k = xd[xdi];

          // Get the number of digits of w.
          for (digits = 1; k >= 10; k /= 10) digits++;

          // Get the index of rd within w.
          i %= LOG_BASE;

          // Get the index of rd within w, adjusted for leading zeros.
          // The number of leading zeros of w is given by LOG_BASE - digits.
          j = i - LOG_BASE + digits;

          // Get the rounding digit at index j of w.
          rd = j < 0 ? 0 : w / mathpow(10, digits - j - 1) % 10 | 0;
        }
      }

      // Are there any non-zero digits after the rounding digit?
      isTruncated = isTruncated || sd < 0 ||
        xd[xdi + 1] !== void 0 || (j < 0 ? w : w % mathpow(10, digits - j - 1));

      // The expression `w % mathpow(10, digits - j - 1)` returns all the digits of w to the right
      // of the digit at (left-to-right) index j, e.g. if w is 908714 and j is 2, the expression
      // will give 714.

      roundUp = rm < 4
        ? (rd || isTruncated) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))
        : rd > 5 || rd == 5 && (rm == 4 || isTruncated || rm == 6 &&

          // Check whether the digit to the left of the rounding digit is odd.
          ((i > 0 ? j > 0 ? w / mathpow(10, digits - j) : 0 : xd[xdi - 1]) % 10) & 1 ||
            rm == (x.s < 0 ? 8 : 7));

      if (sd < 1 || !xd[0]) {
        xd.length = 0;
        if (roundUp) {

          // Convert sd to decimal places.
          sd -= x.e + 1;

          // 1, 0.1, 0.01, 0.001, 0.0001 etc.
          xd[0] = mathpow(10, (LOG_BASE - sd % LOG_BASE) % LOG_BASE);
          x.e = -sd || 0;
        } else {

          // Zero.
          xd[0] = x.e = 0;
        }

        return x;
      }

      // Remove excess digits.
      if (i == 0) {
        xd.length = xdi;
        k = 1;
        xdi--;
      } else {
        xd.length = xdi + 1;
        k = mathpow(10, LOG_BASE - i);

        // E.g. 56700 becomes 56000 if 7 is the rounding digit.
        // j > 0 means i > number of leading zeros of w.
        xd[xdi] = j > 0 ? (w / mathpow(10, digits - j) % mathpow(10, j) | 0) * k : 0;
      }

      if (roundUp) {
        for (;;) {

          // Is the digit to be rounded up in the first word of xd?
          if (xdi == 0) {

            // i will be the length of xd[0] before k is added.
            for (i = 1, j = xd[0]; j >= 10; j /= 10) i++;
            j = xd[0] += k;
            for (k = 1; j >= 10; j /= 10) k++;

            // if i != k the length has increased.
            if (i != k) {
              x.e++;
              if (xd[0] == BASE) xd[0] = 1;
            }

            break;
          } else {
            xd[xdi] += k;
            if (xd[xdi] != BASE) break;
            xd[xdi--] = 0;
            k = 1;
          }
        }
      }

      // Remove trailing zeros.
      for (i = xd.length; xd[--i] === 0;) xd.pop();
    }

    if (external) {

      // Overflow?
      if (x.e > Ctor.maxE) {

        // Infinity.
        x.d = null;
        x.e = NaN;

      // Underflow?
      } else if (x.e < Ctor.minE) {

        // Zero.
        x.e = 0;
        x.d = [0];
        // Ctor.underflow = true;
      } // else Ctor.underflow = false;
    }

    return x;
  }


  function finiteToString(x, isExp, sd) {
    if (!x.isFinite()) return nonFiniteToString(x);
    var k,
      e = x.e,
      str = digitsToString(x.d),
      len = str.length;

    if (isExp) {
      if (sd && (k = sd - len) > 0) {
        str = str.charAt(0) + '.' + str.slice(1) + getZeroString(k);
      } else if (len > 1) {
        str = str.charAt(0) + '.' + str.slice(1);
      }

      str = str + (x.e < 0 ? 'e' : 'e+') + x.e;
    } else if (e < 0) {
      str = '0.' + getZeroString(-e - 1) + str;
      if (sd && (k = sd - len) > 0) str += getZeroString(k);
    } else if (e >= len) {
      str += getZeroString(e + 1 - len);
      if (sd && (k = sd - e - 1) > 0) str = str + '.' + getZeroString(k);
    } else {
      if ((k = e + 1) < len) str = str.slice(0, k) + '.' + str.slice(k);
      if (sd && (k = sd - len) > 0) {
        if (e + 1 === len) str += '.';
        str += getZeroString(k);
      }
    }

    return str;
  }


  // Calculate the base 10 exponent from the base 1e7 exponent.
  function getBase10Exponent(digits, e) {
    var w = digits[0];

    // Add the number of digits of the first word of the digits array.
    for ( e *= LOG_BASE; w >= 10; w /= 10) e++;
    return e;
  }


  function getLn10(Ctor, sd, pr) {
    if (sd > LN10_PRECISION) {

      // Reset global state in case the exception is caught.
      external = true;
      if (pr) Ctor.precision = pr;
      throw Error(precisionLimitExceeded);
    }
    return finalise(new Ctor(LN10), sd, 1, true);
  }


  function getPi(Ctor, sd, rm) {
    if (sd > PI_PRECISION) throw Error(precisionLimitExceeded);
    return finalise(new Ctor(PI), sd, rm, true);
  }


  function getPrecision(digits) {
    var w = digits.length - 1,
      len = w * LOG_BASE + 1;

    w = digits[w];

    // If non-zero...
    if (w) {

      // Subtract the number of trailing zeros of the last word.
      for (; w % 10 == 0; w /= 10) len--;

      // Add the number of digits of the first word.
      for (w = digits[0]; w >= 10; w /= 10) len++;
    }

    return len;
  }


  function getZeroString(k) {
    var zs = '';
    for (; k--;) zs += '0';
    return zs;
  }


  /*
   * Return a new Decimal whose value is the value of Decimal `x` to the power `n`, where `n` is an
   * integer of type number.
   *
   * Implements 'exponentiation by squaring'. Called by `pow` and `parseOther`.
   *
   */
  function intPow(Ctor, x, n, pr) {
    var isTruncated,
      r = new Ctor(1),

      // Max n of 9007199254740991 takes 53 loop iterations.
      // Maximum digits array length; leaves [28, 34] guard digits.
      k = Math.ceil(pr / LOG_BASE + 4);

    external = false;

    for (;;) {
      if (n % 2) {
        r = r.times(x);
        if (truncate(r.d, k)) isTruncated = true;
      }

      n = mathfloor(n / 2);
      if (n === 0) {

        // To ensure correct rounding when r.d is truncated, increment the last word if it is zero.
        n = r.d.length - 1;
        if (isTruncated && r.d[n] === 0) ++r.d[n];
        break;
      }

      x = x.times(x);
      truncate(x.d, k);
    }

    external = true;

    return r;
  }


  function isOdd(n) {
    return n.d[n.d.length - 1] & 1;
  }


  /*
   * Handle `max` and `min`. `ltgt` is 'lt' or 'gt'.
   */
  function maxOrMin(Ctor, args, ltgt) {
    var y,
      x = new Ctor(args[0]),
      i = 0;

    for (; ++i < args.length;) {
      y = new Ctor(args[i]);
      if (!y.s) {
        x = y;
        break;
      } else if (x[ltgt](y)) {
        x = y;
      }
    }

    return x;
  }


  /*
   * Return a new Decimal whose value is the natural exponential of `x` rounded to `sd` significant
   * digits.
   *
   * Taylor/Maclaurin series.
   *
   * exp(x) = x^0/0! + x^1/1! + x^2/2! + x^3/3! + ...
   *
   * Argument reduction:
   *   Repeat x = x / 32, k += 5, until |x| < 0.1
   *   exp(x) = exp(x / 2^k)^(2^k)
   *
   * Previously, the argument was initially reduced by
   * exp(x) = exp(r) * 10^k  where r = x - k * ln10, k = floor(x / ln10)
   * to first put r in the range [0, ln10], before dividing by 32 until |x| < 0.1, but this was
   * found to be slower than just dividing repeatedly by 32 as above.
   *
   * Max integer argument: exp('20723265836946413') = 6.3e+9000000000000000
   * Min integer argument: exp('-20723265836946411') = 1.2e-9000000000000000
   * (Math object integer min/max: Math.exp(709) = 8.2e+307, Math.exp(-745) = 5e-324)
   *
   *  exp(Infinity)  = Infinity
   *  exp(-Infinity) = 0
   *  exp(NaN)       = NaN
   *  exp(±0)        = 1
   *
   *  exp(x) is non-terminating for any finite, non-zero x.
   *
   *  The result will always be correctly rounded.
   *
   */
  function naturalExponential(x, sd) {
    var denominator, guard, j, pow, sum, t, wpr,
      rep = 0,
      i = 0,
      k = 0,
      Ctor = x.constructor,
      rm = Ctor.rounding,
      pr = Ctor.precision;

    // 0/NaN/Infinity?
    if (!x.d || !x.d[0] || x.e > 17) {

      return new Ctor(x.d
        ? !x.d[0] ? 1 : x.s < 0 ? 0 : 1 / 0
        : x.s ? x.s < 0 ? 0 : x : 0 / 0);
    }

    if (sd == null) {
      external = false;
      wpr = pr;
    } else {
      wpr = sd;
    }

    t = new Ctor(0.03125);

    // while abs(x) >= 0.1
    while (x.e > -2) {

      // x = x / 2^5
      x = x.times(t);
      k += 5;
    }

    // Use 2 * log10(2^k) + 5 (empirically derived) to estimate the increase in precision
    // necessary to ensure the first 4 rounding digits are correct.
    guard = Math.log(mathpow(2, k)) / Math.LN10 * 2 + 5 | 0;
    wpr += guard;
    denominator = pow = sum = new Ctor(1);
    Ctor.precision = wpr;

    for (;;) {
      pow = finalise(pow.times(x), wpr, 1);
      denominator = denominator.times(++i);
      t = sum.plus(divide(pow, denominator, wpr, 1));

      if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum.d).slice(0, wpr)) {
        j = k;
        while (j--) sum = finalise(sum.times(sum), wpr, 1);

        // Check to see if the first 4 rounding digits are [49]999.
        // If so, repeat the summation with a higher precision, otherwise
        // e.g. with precision: 18, rounding: 1
        // exp(18.404272462595034083567793919843761) = 98372560.1229999999 (should be 98372560.123)
        // `wpr - guard` is the index of first rounding digit.
        if (sd == null) {

          if (rep < 3 && checkRoundingDigits(sum.d, wpr - guard, rm, rep)) {
            Ctor.precision = wpr += 10;
            denominator = pow = t = new Ctor(1);
            i = 0;
            rep++;
          } else {
            return finalise(sum, Ctor.precision = pr, rm, external = true);
          }
        } else {
          Ctor.precision = pr;
          return sum;
        }
      }

      sum = t;
    }
  }


  /*
   * Return a new Decimal whose value is the natural logarithm of `x` rounded to `sd` significant
   * digits.
   *
   *  ln(-n)        = NaN
   *  ln(0)         = -Infinity
   *  ln(-0)        = -Infinity
   *  ln(1)         = 0
   *  ln(Infinity)  = Infinity
   *  ln(-Infinity) = NaN
   *  ln(NaN)       = NaN
   *
   *  ln(n) (n != 1) is non-terminating.
   *
   */
  function naturalLogarithm(y, sd) {
    var c, c0, denominator, e, numerator, rep, sum, t, wpr, x1, x2,
      n = 1,
      guard = 10,
      x = y,
      xd = x.d,
      Ctor = x.constructor,
      rm = Ctor.rounding,
      pr = Ctor.precision;

    // Is x negative or Infinity, NaN, 0 or 1?
    if (x.s < 0 || !xd || !xd[0] || !x.e && xd[0] == 1 && xd.length == 1) {
      return new Ctor(xd && !xd[0] ? -1 / 0 : x.s != 1 ? NaN : xd ? 0 : x);
    }

    if (sd == null) {
      external = false;
      wpr = pr;
    } else {
      wpr = sd;
    }

    Ctor.precision = wpr += guard;
    c = digitsToString(xd);
    c0 = c.charAt(0);

    if (Math.abs(e = x.e) < 1.5e15) {

      // Argument reduction.
      // The series converges faster the closer the argument is to 1, so using
      // ln(a^b) = b * ln(a),   ln(a) = ln(a^b) / b
      // multiply the argument by itself until the leading digits of the significand are 7, 8, 9,
      // 10, 11, 12 or 13, recording the number of multiplications so the sum of the series can
      // later be divided by this number, then separate out the power of 10 using
      // ln(a*10^b) = ln(a) + b*ln(10).

      // max n is 21 (gives 0.9, 1.0 or 1.1) (9e15 / 21 = 4.2e14).
      //while (c0 < 9 && c0 != 1 || c0 == 1 && c.charAt(1) > 1) {
      // max n is 6 (gives 0.7 - 1.3)
      while (c0 < 7 && c0 != 1 || c0 == 1 && c.charAt(1) > 3) {
        x = x.times(y);
        c = digitsToString(x.d);
        c0 = c.charAt(0);
        n++;
      }

      e = x.e;

      if (c0 > 1) {
        x = new Ctor('0.' + c);
        e++;
      } else {
        x = new Ctor(c0 + '.' + c.slice(1));
      }
    } else {

      // The argument reduction method above may result in overflow if the argument y is a massive
      // number with exponent >= 1500000000000000 (9e15 / 6 = 1.5e15), so instead recall this
      // function using ln(x*10^e) = ln(x) + e*ln(10).
      t = getLn10(Ctor, wpr + 2, pr).times(e + '');
      x = naturalLogarithm(new Ctor(c0 + '.' + c.slice(1)), wpr - guard).plus(t);
      Ctor.precision = pr;

      return sd == null ? finalise(x, pr, rm, external = true) : x;
    }

    // x1 is x reduced to a value near 1.
    x1 = x;

    // Taylor series.
    // ln(y) = ln((1 + x)/(1 - x)) = 2(x + x^3/3 + x^5/5 + x^7/7 + ...)
    // where x = (y - 1)/(y + 1)    (|x| < 1)
    sum = numerator = x = divide(x.minus(1), x.plus(1), wpr, 1);
    x2 = finalise(x.times(x), wpr, 1);
    denominator = 3;

    for (;;) {
      numerator = finalise(numerator.times(x2), wpr, 1);
      t = sum.plus(divide(numerator, new Ctor(denominator), wpr, 1));

      if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum.d).slice(0, wpr)) {
        sum = sum.times(2);

        // Reverse the argument reduction. Check that e is not 0 because, besides preventing an
        // unnecessary calculation, -0 + 0 = +0 and to ensure correct rounding -0 needs to stay -0.
        if (e !== 0) sum = sum.plus(getLn10(Ctor, wpr + 2, pr).times(e + ''));
        sum = divide(sum, new Ctor(n), wpr, 1);

        // Is rm > 3 and the first 4 rounding digits 4999, or rm < 4 (or the summation has
        // been repeated previously) and the first 4 rounding digits 9999?
        // If so, restart the summation with a higher precision, otherwise
        // e.g. with precision: 12, rounding: 1
        // ln(135520028.6126091714265381533) = 18.7246299999 when it should be 18.72463.
        // `wpr - guard` is the index of first rounding digit.
        if (sd == null) {
          if (checkRoundingDigits(sum.d, wpr - guard, rm, rep)) {
            Ctor.precision = wpr += guard;
            t = numerator = x = divide(x1.minus(1), x1.plus(1), wpr, 1);
            x2 = finalise(x.times(x), wpr, 1);
            denominator = rep = 1;
          } else {
            return finalise(sum, Ctor.precision = pr, rm, external = true);
          }
        } else {
          Ctor.precision = pr;
          return sum;
        }
      }

      sum = t;
      denominator += 2;
    }
  }


  // ±Infinity, NaN.
  function nonFiniteToString(x) {
    // Unsigned.
    return String(x.s * x.s / 0);
  }


  /*
   * Parse the value of a new Decimal `x` from string `str`.
   */
  function parseDecimal(x, str) {
    var e, i, len;

    // Decimal point?
    if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');

    // Exponential form?
    if ((i = str.search(/e/i)) > 0) {

      // Determine exponent.
      if (e < 0) e = i;
      e += +str.slice(i + 1);
      str = str.substring(0, i);
    } else if (e < 0) {

      // Integer.
      e = str.length;
    }

    // Determine leading zeros.
    for (i = 0; str.charCodeAt(i) === 48; i++);

    // Determine trailing zeros.
    for (len = str.length; str.charCodeAt(len - 1) === 48; --len);
    str = str.slice(i, len);

    if (str) {
      len -= i;
      x.e = e = e - i - 1;
      x.d = [];

      // Transform base

      // e is the base 10 exponent.
      // i is where to slice str to get the first word of the digits array.
      i = (e + 1) % LOG_BASE;
      if (e < 0) i += LOG_BASE;

      if (i < len) {
        if (i) x.d.push(+str.slice(0, i));
        for (len -= LOG_BASE; i < len;) x.d.push(+str.slice(i, i += LOG_BASE));
        str = str.slice(i);
        i = LOG_BASE - str.length;
      } else {
        i -= len;
      }

      for (; i--;) str += '0';
      x.d.push(+str);

      if (external) {

        // Overflow?
        if (x.e > x.constructor.maxE) {

          // Infinity.
          x.d = null;
          x.e = NaN;

        // Underflow?
        } else if (x.e < x.constructor.minE) {

          // Zero.
          x.e = 0;
          x.d = [0];
          // x.constructor.underflow = true;
        } // else x.constructor.underflow = false;
      }
    } else {

      // Zero.
      x.e = 0;
      x.d = [0];
    }

    return x;
  }


  /*
   * Parse the value of a new Decimal `x` from a string `str`, which is not a decimal value.
   */
  function parseOther(x, str) {
    var base, Ctor, divisor, i, isFloat, len, p, xd, xe;

    if (str.indexOf('_') > -1) {
      str = str.replace(/(\d)_(?=\d)/g, '$1');
      if (isDecimal.test(str)) return parseDecimal(x, str);
    } else if (str === 'Infinity' || str === 'NaN') {
      if (!+str) x.s = NaN;
      x.e = NaN;
      x.d = null;
      return x;
    }

    if (isHex.test(str))  {
      base = 16;
      str = str.toLowerCase();
    } else if (isBinary.test(str))  {
      base = 2;
    } else if (isOctal.test(str))  {
      base = 8;
    } else {
      throw Error(invalidArgument + str);
    }

    // Is there a binary exponent part?
    i = str.search(/p/i);

    if (i > 0) {
      p = +str.slice(i + 1);
      str = str.substring(2, i);
    } else {
      str = str.slice(2);
    }

    // Convert `str` as an integer then divide the result by `base` raised to a power such that the
    // fraction part will be restored.
    i = str.indexOf('.');
    isFloat = i >= 0;
    Ctor = x.constructor;

    if (isFloat) {
      str = str.replace('.', '');
      len = str.length;
      i = len - i;

      // log[10](16) = 1.2041... , log[10](88) = 1.9444....
      divisor = intPow(Ctor, new Ctor(base), i, i * 2);
    }

    xd = convertBase(str, base, BASE);
    xe = xd.length - 1;

    // Remove trailing zeros.
    for (i = xe; xd[i] === 0; --i) xd.pop();
    if (i < 0) return new Ctor(x.s * 0);
    x.e = getBase10Exponent(xd, xe);
    x.d = xd;
    external = false;

    // At what precision to perform the division to ensure exact conversion?
    // maxDecimalIntegerPartDigitCount = ceil(log[10](b) * otherBaseIntegerPartDigitCount)
    // log[10](2) = 0.30103, log[10](8) = 0.90309, log[10](16) = 1.20412
    // E.g. ceil(1.2 * 3) = 4, so up to 4 decimal digits are needed to represent 3 hex int digits.
    // maxDecimalFractionPartDigitCount = {Hex:4|Oct:3|Bin:1} * otherBaseFractionPartDigitCount
    // Therefore using 4 * the number of digits of str will always be enough.
    if (isFloat) x = divide(x, divisor, len * 4);

    // Multiply by the binary exponent part if present.
    if (p) x = x.times(Math.abs(p) < 54 ? mathpow(2, p) : Decimal.pow(2, p));
    external = true;

    return x;
  }


  /*
   * sin(x) = x - x^3/3! + x^5/5! - ...
   * |x| < pi/2
   *
   */
  function sine(Ctor, x) {
    var k,
      len = x.d.length;

    if (len < 3) {
      return x.isZero() ? x : taylorSeries(Ctor, 2, x, x);
    }

    // Argument reduction: sin(5x) = 16*sin^5(x) - 20*sin^3(x) + 5*sin(x)
    // i.e. sin(x) = 16*sin^5(x/5) - 20*sin^3(x/5) + 5*sin(x/5)
    // and  sin(x) = sin(x/5)(5 + sin^2(x/5)(16sin^2(x/5) - 20))

    // Estimate the optimum number of times to use the argument reduction.
    k = 1.4 * Math.sqrt(len);
    k = k > 16 ? 16 : k | 0;

    x = x.times(1 / tinyPow(5, k));
    x = taylorSeries(Ctor, 2, x, x);

    // Reverse argument reduction
    var sin2_x,
      d5 = new Ctor(5),
      d16 = new Ctor(16),
      d20 = new Ctor(20);
    for (; k--;) {
      sin2_x = x.times(x);
      x = x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));
    }

    return x;
  }


  // Calculate Taylor series for `cos`, `cosh`, `sin` and `sinh`.
  function taylorSeries(Ctor, n, x, y, isHyperbolic) {
    var j, t, u, x2,
      i = 1,
      pr = Ctor.precision,
      k = Math.ceil(pr / LOG_BASE);

    external = false;
    x2 = x.times(x);
    u = new Ctor(y);

    for (;;) {
      t = divide(u.times(x2), new Ctor(n++ * n++), pr, 1);
      u = isHyperbolic ? y.plus(t) : y.minus(t);
      y = divide(t.times(x2), new Ctor(n++ * n++), pr, 1);
      t = u.plus(y);

      if (t.d[k] !== void 0) {
        for (j = k; t.d[j] === u.d[j] && j--;);
        if (j == -1) break;
      }

      j = u;
      u = y;
      y = t;
      t = j;
      i++;
    }

    external = true;
    t.d.length = k + 1;

    return t;
  }


  // Exponent e must be positive and non-zero.
  function tinyPow(b, e) {
    var n = b;
    while (--e) n *= b;
    return n;
  }


  // Return the absolute value of `x` reduced to less than or equal to half pi.
  function toLessThanHalfPi(Ctor, x) {
    var t,
      isNeg = x.s < 0,
      pi = getPi(Ctor, Ctor.precision, 1),
      halfPi = pi.times(0.5);

    x = x.abs();

    if (x.lte(halfPi)) {
      quadrant = isNeg ? 4 : 1;
      return x;
    }

    t = x.divToInt(pi);

    if (t.isZero()) {
      quadrant = isNeg ? 3 : 2;
    } else {
      x = x.minus(t.times(pi));

      // 0 <= x < pi
      if (x.lte(halfPi)) {
        quadrant = isOdd(t) ? (isNeg ? 2 : 3) : (isNeg ? 4 : 1);
        return x;
      }

      quadrant = isOdd(t) ? (isNeg ? 1 : 4) : (isNeg ? 3 : 2);
    }

    return x.minus(pi).abs();
  }


  /*
   * Return the value of Decimal `x` as a string in base `baseOut`.
   *
   * If the optional `sd` argument is present include a binary exponent suffix.
   */
  function toStringBinary(x, baseOut, sd, rm) {
    var base, e, i, k, len, roundUp, str, xd, y,
      Ctor = x.constructor,
      isExp = sd !== void 0;

    if (isExp) {
      checkInt32(sd, 1, MAX_DIGITS);
      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);
    } else {
      sd = Ctor.precision;
      rm = Ctor.rounding;
    }

    if (!x.isFinite()) {
      str = nonFiniteToString(x);
    } else {
      str = finiteToString(x);
      i = str.indexOf('.');

      // Use exponential notation according to `toExpPos` and `toExpNeg`? No, but if required:
      // maxBinaryExponent = floor((decimalExponent + 1) * log[2](10))
      // minBinaryExponent = floor(decimalExponent * log[2](10))
      // log[2](10) = 3.321928094887362347870319429489390175864

      if (isExp) {
        base = 2;
        if (baseOut == 16) {
          sd = sd * 4 - 3;
        } else if (baseOut == 8) {
          sd = sd * 3 - 2;
        }
      } else {
        base = baseOut;
      }

      // Convert the number as an integer then divide the result by its base raised to a power such
      // that the fraction part will be restored.

      // Non-integer.
      if (i >= 0) {
        str = str.replace('.', '');
        y = new Ctor(1);
        y.e = str.length - i;
        y.d = convertBase(finiteToString(y), 10, base);
        y.e = y.d.length;
      }

      xd = convertBase(str, 10, base);
      e = len = xd.length;

      // Remove trailing zeros.
      for (; xd[--len] == 0;) xd.pop();

      if (!xd[0]) {
        str = isExp ? '0p+0' : '0';
      } else {
        if (i < 0) {
          e--;
        } else {
          x = new Ctor(x);
          x.d = xd;
          x.e = e;
          x = divide(x, y, sd, rm, 0, base);
          xd = x.d;
          e = x.e;
          roundUp = inexact;
        }

        // The rounding digit, i.e. the digit after the digit that may be rounded up.
        i = xd[sd];
        k = base / 2;
        roundUp = roundUp || xd[sd + 1] !== void 0;

        roundUp = rm < 4
          ? (i !== void 0 || roundUp) && (rm === 0 || rm === (x.s < 0 ? 3 : 2))
          : i > k || i === k && (rm === 4 || roundUp || rm === 6 && xd[sd - 1] & 1 ||
            rm === (x.s < 0 ? 8 : 7));

        xd.length = sd;

        if (roundUp) {

          // Rounding up may mean the previous digit has to be rounded up and so on.
          for (; ++xd[--sd] > base - 1;) {
            xd[sd] = 0;
            if (!sd) {
              ++e;
              xd.unshift(1);
            }
          }
        }

        // Determine trailing zeros.
        for (len = xd.length; !xd[len - 1]; --len);

        // E.g. [4, 11, 15] becomes 4bf.
        for (i = 0, str = ''; i < len; i++) str += NUMERALS.charAt(xd[i]);

        // Add binary exponent suffix?
        if (isExp) {
          if (len > 1) {
            if (baseOut == 16 || baseOut == 8) {
              i = baseOut == 16 ? 4 : 3;
              for (--len; len % i; len++) str += '0';
              xd = convertBase(str, base, baseOut);
              for (len = xd.length; !xd[len - 1]; --len);

              // xd[0] will always be be 1
              for (i = 1, str = '1.'; i < len; i++) str += NUMERALS.charAt(xd[i]);
            } else {
              str = str.charAt(0) + '.' + str.slice(1);
            }
          }

          str =  str + (e < 0 ? 'p' : 'p+') + e;
        } else if (e < 0) {
          for (; ++e;) str = '0' + str;
          str = '0.' + str;
        } else {
          if (++e > len) for (e -= len; e-- ;) str += '0';
          else if (e < len) str = str.slice(0, e) + '.' + str.slice(e);
        }
      }

      str = (baseOut == 16 ? '0x' : baseOut == 2 ? '0b' : baseOut == 8 ? '0o' : '') + str;
    }

    return x.s < 0 ? '-' + str : str;
  }


  // Does not strip trailing zeros.
  function truncate(arr, len) {
    if (arr.length > len) {
      arr.length = len;
      return true;
    }
  }


  // Decimal methods


  /*
   *  abs
   *  acos
   *  acosh
   *  add
   *  asin
   *  asinh
   *  atan
   *  atanh
   *  atan2
   *  cbrt
   *  ceil
   *  clamp
   *  clone
   *  config
   *  cos
   *  cosh
   *  div
   *  exp
   *  floor
   *  hypot
   *  ln
   *  log
   *  log2
   *  log10
   *  max
   *  min
   *  mod
   *  mul
   *  pow
   *  random
   *  round
   *  set
   *  sign
   *  sin
   *  sinh
   *  sqrt
   *  sub
   *  sum
   *  tan
   *  tanh
   *  trunc
   */


  /*
   * Return a new Decimal whose value is the absolute value of `x`.
   *
   * x {number|string|Decimal}
   *
   */
  function abs(x) {
    return new this(x).abs();
  }


  /*
   * Return a new Decimal whose value is the arccosine in radians of `x`.
   *
   * x {number|string|Decimal}
   *
   */
  function acos(x) {
    return new this(x).acos();
  }


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic cosine of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function acosh(x) {
    return new this(x).acosh();
  }


  /*
   * Return a new Decimal whose value is the sum of `x` and `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function add(x, y) {
    return new this(x).plus(y);
  }


  /*
   * Return a new Decimal whose value is the arcsine in radians of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function asin(x) {
    return new this(x).asin();
  }


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic sine of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function asinh(x) {
    return new this(x).asinh();
  }


  /*
   * Return a new Decimal whose value is the arctangent in radians of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function atan(x) {
    return new this(x).atan();
  }


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic tangent of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function atanh(x) {
    return new this(x).atanh();
  }


  /*
   * Return a new Decimal whose value is the arctangent in radians of `y/x` in the range -pi to pi
   * (inclusive), rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi, pi]
   *
   * y {number|string|Decimal} The y-coordinate.
   * x {number|string|Decimal} The x-coordinate.
   *
   * atan2(±0, -0)               = ±pi
   * atan2(±0, +0)               = ±0
   * atan2(±0, -x)               = ±pi for x > 0
   * atan2(±0, x)                = ±0 for x > 0
   * atan2(-y, ±0)               = -pi/2 for y > 0
   * atan2(y, ±0)                = pi/2 for y > 0
   * atan2(±y, -Infinity)        = ±pi for finite y > 0
   * atan2(±y, +Infinity)        = ±0 for finite y > 0
   * atan2(±Infinity, x)         = ±pi/2 for finite x
   * atan2(±Infinity, -Infinity) = ±3*pi/4
   * atan2(±Infinity, +Infinity) = ±pi/4
   * atan2(NaN, x) = NaN
   * atan2(y, NaN) = NaN
   *
   */
  function atan2(y, x) {
    y = new this(y);
    x = new this(x);
    var r,
      pr = this.precision,
      rm = this.rounding,
      wpr = pr + 4;

    // Either NaN
    if (!y.s || !x.s) {
      r = new this(NaN);

    // Both ±Infinity
    } else if (!y.d && !x.d) {
      r = getPi(this, wpr, 1).times(x.s > 0 ? 0.25 : 0.75);
      r.s = y.s;

    // x is ±Infinity or y is ±0
    } else if (!x.d || y.isZero()) {
      r = x.s < 0 ? getPi(this, pr, rm) : new this(0);
      r.s = y.s;

    // y is ±Infinity or x is ±0
    } else if (!y.d || x.isZero()) {
      r = getPi(this, wpr, 1).times(0.5);
      r.s = y.s;

    // Both non-zero and finite
    } else if (x.s < 0) {
      this.precision = wpr;
      this.rounding = 1;
      r = this.atan(divide(y, x, wpr, 1));
      x = getPi(this, wpr, 1);
      this.precision = pr;
      this.rounding = rm;
      r = y.s < 0 ? r.minus(x) : r.plus(x);
    } else {
      r = this.atan(divide(y, x, wpr, 1));
    }

    return r;
  }


  /*
   * Return a new Decimal whose value is the cube root of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function cbrt(x) {
    return new this(x).cbrt();
  }


  /*
   * Return a new Decimal whose value is `x` rounded to an integer using `ROUND_CEIL`.
   *
   * x {number|string|Decimal}
   *
   */
  function ceil(x) {
    return finalise(x = new this(x), x.e + 1, 2);
  }


  /*
   * Return a new Decimal whose value is `x` clamped to the range delineated by `min` and `max`.
   *
   * x {number|string|Decimal}
   * min {number|string|Decimal}
   * max {number|string|Decimal}
   *
   */
  function clamp(x, min, max) {
    return new this(x).clamp(min, max);
  }


  /*
   * Configure global settings for a Decimal constructor.
   *
   * `obj` is an object with one or more of the following properties,
   *
   *   precision  {number}
   *   rounding   {number}
   *   toExpNeg   {number}
   *   toExpPos   {number}
   *   maxE       {number}
   *   minE       {number}
   *   modulo     {number}
   *   crypto     {boolean|number}
   *   defaults   {true}
   *
   * E.g. Decimal.config({ precision: 20, rounding: 4 })
   *
   */
  function config(obj) {
    if (!obj || typeof obj !== 'object') throw Error(decimalError + 'Object expected');
    var i, p, v,
      useDefaults = obj.defaults === true,
      ps = [
        'precision', 1, MAX_DIGITS,
        'rounding', 0, 8,
        'toExpNeg', -EXP_LIMIT, 0,
        'toExpPos', 0, EXP_LIMIT,
        'maxE', 0, EXP_LIMIT,
        'minE', -EXP_LIMIT, 0,
        'modulo', 0, 9
      ];

    for (i = 0; i < ps.length; i += 3) {
      if (p = ps[i], useDefaults) this[p] = DEFAULTS[p];
      if ((v = obj[p]) !== void 0) {
        if (mathfloor(v) === v && v >= ps[i + 1] && v <= ps[i + 2]) this[p] = v;
        else throw Error(invalidArgument + p + ': ' + v);
      }
    }

    if (p = 'crypto', useDefaults) this[p] = DEFAULTS[p];
    if ((v = obj[p]) !== void 0) {
      if (v === true || v === false || v === 0 || v === 1) {
        if (v) {
          if (typeof crypto != 'undefined' && crypto &&
            (crypto.getRandomValues || crypto.randomBytes)) {
            this[p] = true;
          } else {
            throw Error(cryptoUnavailable);
          }
        } else {
          this[p] = false;
        }
      } else {
        throw Error(invalidArgument + p + ': ' + v);
      }
    }

    return this;
  }


  /*
   * Return a new Decimal whose value is the cosine of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function cos(x) {
    return new this(x).cos();
  }


  /*
   * Return a new Decimal whose value is the hyperbolic cosine of `x`, rounded to precision
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function cosh(x) {
    return new this(x).cosh();
  }


  /*
   * Create and return a Decimal constructor with the same configuration properties as this Decimal
   * constructor.
   *
   */
  function clone(obj) {
    var i, p, ps;

    /*
     * The Decimal constructor and exported function.
     * Return a new Decimal instance.
     *
     * v {number|string|Decimal} A numeric value.
     *
     */
    function Decimal(v) {
      var e, i, t,
        x = this;

      // Decimal called without new.
      if (!(x instanceof Decimal)) return new Decimal(v);

      // Retain a reference to this Decimal constructor, and shadow Decimal.prototype.constructor
      // which points to Object.
      x.constructor = Decimal;

      // Duplicate.
      if (isDecimalInstance(v)) {
        x.s = v.s;

        if (external) {
          if (!v.d || v.e > Decimal.maxE) {

            // Infinity.
            x.e = NaN;
            x.d = null;
          } else if (v.e < Decimal.minE) {

            // Zero.
            x.e = 0;
            x.d = [0];
          } else {
            x.e = v.e;
            x.d = v.d.slice();
          }
        } else {
          x.e = v.e;
          x.d = v.d ? v.d.slice() : v.d;
        }

        return;
      }

      t = typeof v;

      if (t === 'number') {
        if (v === 0) {
          x.s = 1 / v < 0 ? -1 : 1;
          x.e = 0;
          x.d = [0];
          return;
        }

        if (v < 0) {
          v = -v;
          x.s = -1;
        } else {
          x.s = 1;
        }

        // Fast path for small integers.
        if (v === ~~v && v < 1e7) {
          for (e = 0, i = v; i >= 10; i /= 10) e++;

          if (external) {
            if (e > Decimal.maxE) {
              x.e = NaN;
              x.d = null;
            } else if (e < Decimal.minE) {
              x.e = 0;
              x.d = [0];
            } else {
              x.e = e;
              x.d = [v];
            }
          } else {
            x.e = e;
            x.d = [v];
          }

          return;

        // Infinity, NaN.
        } else if (v * 0 !== 0) {
          if (!v) x.s = NaN;
          x.e = NaN;
          x.d = null;
          return;
        }

        return parseDecimal(x, v.toString());

      } else if (t !== 'string') {
        throw Error(invalidArgument + v);
      }

      // Minus sign?
      if ((i = v.charCodeAt(0)) === 45) {
        v = v.slice(1);
        x.s = -1;
      } else {
        // Plus sign?
        if (i === 43) v = v.slice(1);
        x.s = 1;
      }

      return isDecimal.test(v) ? parseDecimal(x, v) : parseOther(x, v);
    }

    Decimal.prototype = P;

    Decimal.ROUND_UP = 0;
    Decimal.ROUND_DOWN = 1;
    Decimal.ROUND_CEIL = 2;
    Decimal.ROUND_FLOOR = 3;
    Decimal.ROUND_HALF_UP = 4;
    Decimal.ROUND_HALF_DOWN = 5;
    Decimal.ROUND_HALF_EVEN = 6;
    Decimal.ROUND_HALF_CEIL = 7;
    Decimal.ROUND_HALF_FLOOR = 8;
    Decimal.EUCLID = 9;

    Decimal.config = Decimal.set = config;
    Decimal.clone = clone;
    Decimal.isDecimal = isDecimalInstance;

    Decimal.abs = abs;
    Decimal.acos = acos;
    Decimal.acosh = acosh;        // ES6
    Decimal.add = add;
    Decimal.asin = asin;
    Decimal.asinh = asinh;        // ES6
    Decimal.atan = atan;
    Decimal.atanh = atanh;        // ES6
    Decimal.atan2 = atan2;
    Decimal.cbrt = cbrt;          // ES6
    Decimal.ceil = ceil;
    Decimal.clamp = clamp;
    Decimal.cos = cos;
    Decimal.cosh = cosh;          // ES6
    Decimal.div = div;
    Decimal.exp = exp;
    Decimal.floor = floor;
    Decimal.hypot = hypot;        // ES6
    Decimal.ln = ln;
    Decimal.log = log;
    Decimal.log10 = log10;        // ES6
    Decimal.log2 = log2;          // ES6
    Decimal.max = max;
    Decimal.min = min;
    Decimal.mod = mod;
    Decimal.mul = mul;
    Decimal.pow = pow;
    Decimal.random = random;
    Decimal.round = round;
    Decimal.sign = sign;          // ES6
    Decimal.sin = sin;
    Decimal.sinh = sinh;          // ES6
    Decimal.sqrt = sqrt;
    Decimal.sub = sub;
    Decimal.sum = sum;
    Decimal.tan = tan;
    Decimal.tanh = tanh;          // ES6
    Decimal.trunc = trunc;        // ES6

    if (obj === void 0) obj = {};
    if (obj) {
      if (obj.defaults !== true) {
        ps = ['precision', 'rounding', 'toExpNeg', 'toExpPos', 'maxE', 'minE', 'modulo', 'crypto'];
        for (i = 0; i < ps.length;) if (!obj.hasOwnProperty(p = ps[i++])) obj[p] = this[p];
      }
    }

    Decimal.config(obj);

    return Decimal;
  }


  /*
   * Return a new Decimal whose value is `x` divided by `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function div(x, y) {
    return new this(x).div(y);
  }


  /*
   * Return a new Decimal whose value is the natural exponential of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} The power to which to raise the base of the natural log.
   *
   */
  function exp(x) {
    return new this(x).exp();
  }


  /*
   * Return a new Decimal whose value is `x` round to an integer using `ROUND_FLOOR`.
   *
   * x {number|string|Decimal}
   *
   */
  function floor(x) {
    return finalise(x = new this(x), x.e + 1, 3);
  }


  /*
   * Return a new Decimal whose value is the square root of the sum of the squares of the arguments,
   * rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * hypot(a, b, ...) = sqrt(a^2 + b^2 + ...)
   *
   * arguments {number|string|Decimal}
   *
   */
  function hypot() {
    var i, n,
      t = new this(0);

    external = false;

    for (i = 0; i < arguments.length;) {
      n = new this(arguments[i++]);
      if (!n.d) {
        if (n.s) {
          external = true;
          return new this(1 / 0);
        }
        t = n;
      } else if (t.d) {
        t = t.plus(n.times(n));
      }
    }

    external = true;

    return t.sqrt();
  }


  /*
   * Return true if object is a Decimal instance (where Decimal is any Decimal constructor),
   * otherwise return false.
   *
   */
  function isDecimalInstance(obj) {
    return obj instanceof Decimal || obj && obj.toStringTag === tag || false;
  }


  /*
   * Return a new Decimal whose value is the natural logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function ln(x) {
    return new this(x).ln();
  }


  /*
   * Return a new Decimal whose value is the log of `x` to the base `y`, or to base 10 if no base
   * is specified, rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * log[y](x)
   *
   * x {number|string|Decimal} The argument of the logarithm.
   * y {number|string|Decimal} The base of the logarithm.
   *
   */
  function log(x, y) {
    return new this(x).log(y);
  }


  /*
   * Return a new Decimal whose value is the base 2 logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function log2(x) {
    return new this(x).log(2);
  }


  /*
   * Return a new Decimal whose value is the base 10 logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function log10(x) {
    return new this(x).log(10);
  }


  /*
   * Return a new Decimal whose value is the maximum of the arguments.
   *
   * arguments {number|string|Decimal}
   *
   */
  function max() {
    return maxOrMin(this, arguments, 'lt');
  }


  /*
   * Return a new Decimal whose value is the minimum of the arguments.
   *
   * arguments {number|string|Decimal}
   *
   */
  function min() {
    return maxOrMin(this, arguments, 'gt');
  }


  /*
   * Return a new Decimal whose value is `x` modulo `y`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function mod(x, y) {
    return new this(x).mod(y);
  }


  /*
   * Return a new Decimal whose value is `x` multiplied by `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function mul(x, y) {
    return new this(x).mul(y);
  }


  /*
   * Return a new Decimal whose value is `x` raised to the power `y`, rounded to precision
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} The base.
   * y {number|string|Decimal} The exponent.
   *
   */
  function pow(x, y) {
    return new this(x).pow(y);
  }


  /*
   * Returns a new Decimal with a random value equal to or greater than 0 and less than 1, and with
   * `sd`, or `Decimal.precision` if `sd` is omitted, significant digits (or less if trailing zeros
   * are produced).
   *
   * [sd] {number} Significant digits. Integer, 0 to MAX_DIGITS inclusive.
   *
   */
  function random(sd) {
    var d, e, k, n,
      i = 0,
      r = new this(1),
      rd = [];

    if (sd === void 0) sd = this.precision;
    else checkInt32(sd, 1, MAX_DIGITS);

    k = Math.ceil(sd / LOG_BASE);

    if (!this.crypto) {
      for (; i < k;) rd[i++] = Math.random() * 1e7 | 0;

    // Browsers supporting crypto.getRandomValues.
    } else if (crypto.getRandomValues) {
      d = crypto.getRandomValues(new Uint32Array(k));

      for (; i < k;) {
        n = d[i];

        // 0 <= n < 4294967296
        // Probability n >= 4.29e9, is 4967296 / 4294967296 = 0.00116 (1 in 865).
        if (n >= 4.29e9) {
          d[i] = crypto.getRandomValues(new Uint32Array(1))[0];
        } else {

          // 0 <= n <= 4289999999
          // 0 <= (n % 1e7) <= 9999999
          rd[i++] = n % 1e7;
        }
      }

    // Node.js supporting crypto.randomBytes.
    } else if (crypto.randomBytes) {

      // buffer
      d = crypto.randomBytes(k *= 4);

      for (; i < k;) {

        // 0 <= n < 2147483648
        n = d[i] + (d[i + 1] << 8) + (d[i + 2] << 16) + ((d[i + 3] & 0x7f) << 24);

        // Probability n >= 2.14e9, is 7483648 / 2147483648 = 0.0035 (1 in 286).
        if (n >= 2.14e9) {
          crypto.randomBytes(4).copy(d, i);
        } else {

          // 0 <= n <= 2139999999
          // 0 <= (n % 1e7) <= 9999999
          rd.push(n % 1e7);
          i += 4;
        }
      }

      i = k / 4;
    } else {
      throw Error(cryptoUnavailable);
    }

    k = rd[--i];
    sd %= LOG_BASE;

    // Convert trailing digits to zeros according to sd.
    if (k && sd) {
      n = mathpow(10, LOG_BASE - sd);
      rd[i] = (k / n | 0) * n;
    }

    // Remove trailing words which are zero.
    for (; rd[i] === 0; i--) rd.pop();

    // Zero?
    if (i < 0) {
      e = 0;
      rd = [0];
    } else {
      e = -1;

      // Remove leading words which are zero and adjust exponent accordingly.
      for (; rd[0] === 0; e -= LOG_BASE) rd.shift();

      // Count the digits of the first word of rd to determine leading zeros.
      for (k = 1, n = rd[0]; n >= 10; n /= 10) k++;

      // Adjust the exponent for leading zeros of the first word of rd.
      if (k < LOG_BASE) e -= LOG_BASE - k;
    }

    r.e = e;
    r.d = rd;

    return r;
  }


  /*
   * Return a new Decimal whose value is `x` rounded to an integer using rounding mode `rounding`.
   *
   * To emulate `Math.round`, set rounding to 7 (ROUND_HALF_CEIL).
   *
   * x {number|string|Decimal}
   *
   */
  function round(x) {
    return finalise(x = new this(x), x.e + 1, this.rounding);
  }


  /*
   * Return
   *   1    if x > 0,
   *  -1    if x < 0,
   *   0    if x is 0,
   *  -0    if x is -0,
   *   NaN  otherwise
   *
   * x {number|string|Decimal}
   *
   */
  function sign(x) {
    x = new this(x);
    return x.d ? (x.d[0] ? x.s : 0 * x.s) : x.s || NaN;
  }


  /*
   * Return a new Decimal whose value is the sine of `x`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function sin(x) {
    return new this(x).sin();
  }


  /*
   * Return a new Decimal whose value is the hyperbolic sine of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function sinh(x) {
    return new this(x).sinh();
  }


  /*
   * Return a new Decimal whose value is the square root of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function sqrt(x) {
    return new this(x).sqrt();
  }


  /*
   * Return a new Decimal whose value is `x` minus `y`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function sub(x, y) {
    return new this(x).sub(y);
  }


  /*
   * Return a new Decimal whose value is the sum of the arguments, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * Only the result is rounded, not the intermediate calculations.
   *
   * arguments {number|string|Decimal}
   *
   */
  function sum() {
    var i = 0,
      args = arguments,
      x = new this(args[i]);

    external = false;
    for (; x.s && ++i < args.length;) x = x.plus(args[i]);
    external = true;

    return finalise(x, this.precision, this.rounding);
  }


  /*
   * Return a new Decimal whose value is the tangent of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function tan(x) {
    return new this(x).tan();
  }


  /*
   * Return a new Decimal whose value is the hyperbolic tangent of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function tanh(x) {
    return new this(x).tanh();
  }


  /*
   * Return a new Decimal whose value is `x` truncated to an integer.
   *
   * x {number|string|Decimal}
   *
   */
  function trunc(x) {
    return finalise(x = new this(x), x.e + 1, 1);
  }


  // Create and configure initial Decimal constructor.
  Decimal = clone(DEFAULTS);
  Decimal.prototype.constructor = Decimal;
  Decimal['default'] = Decimal.Decimal = Decimal;

  // Create the internal constants from their string values.
  LN10 = new Decimal(LN10);
  PI = new Decimal(PI);


  // Export.


  // AMD.
  if (true) {
    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
      return Decimal;
    }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

  // Node and other environments that support module.exports.
  } else {}
})(this);


/***/ }),

/***/ "./node_modules/jsxgraph/distrib/jsxgraphcore.js":
/*!*******************************************************!*\
  !*** ./node_modules/jsxgraph/distrib/jsxgraphcore.js ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

/* module decorator */ module = __webpack_require__.nmd(module);
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
    JSXGraph 1.4.4

    Copyright 2008-2022
        Matthias Ehmann,
        Michael Gerhaeuser,
        Carsten Miller,
        Bianca Valentin,
        Andreas Walter,
        Alfred Wassermann,
        Peter Wilfahrt

    This file is part of JSXGraph.

    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.

    You can redistribute it and/or modify it under the terms of the

      * GNU Lesser General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version
      OR
      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT

    JSXGraph is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License and
    the MIT License along with JSXGraph. If not, see <https://www.gnu.org/licenses/>
    and <https://opensource.org/licenses/MIT/>.
*/

/**
 * almond 0.2.5 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: https://github.com/jrburke/almond for details
 */

/**
 * UTF-8 Decoder by Bjoern Hoehrmann
 *
 * Copyright (c) 2008-2009 Bjoern Hoehrmann <bjoern@hoehrmann.de>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons
 * to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or
 * substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
 * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(t,e){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0}("undefined"!=typeof self?self:this,(function(){
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */
var requirejs,require,define;return function(t){var e,i,r,s,o={},n={},a={},h={},l=Object.prototype.hasOwnProperty,c=[].slice,d=/\.js$/;function u(t,e){return l.call(t,e)}function p(t,e){var i,r,s,o,n,h,l,c,u,p,f,m=e&&e.split("/"),g=a.map,b=g&&g["*"]||{};if(t){for(n=(t=t.split("/")).length-1,a.nodeIdCompat&&d.test(t[n])&&(t[n]=t[n].replace(d,"")),"."===t[0].charAt(0)&&m&&(t=m.slice(0,m.length-1).concat(t)),u=0;u<t.length;u++)if("."===(f=t[u]))t.splice(u,1),u-=1;else if(".."===f){if(0===u||1===u&&".."===t[2]||".."===t[u-1])continue;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}if((m||b)&&g){for(u=(i=t.split("/")).length;u>0;u-=1){if(r=i.slice(0,u).join("/"),m)for(p=m.length;p>0;p-=1)if((s=g[m.slice(0,p).join("/")])&&(s=s[r])){o=s,h=u;break}if(o)break;!l&&b&&b[r]&&(l=b[r],c=u)}!o&&l&&(o=l,h=c),o&&(i.splice(0,h,o),t=i.join("/"))}return t}function f(e,r){return function(){var s=c.call(arguments,0);return"string"!=typeof s[0]&&1===s.length&&s.push(null),i.apply(t,s.concat([e,r]))}}function m(t){return function(e){o[t]=e}}function g(i){if(u(n,i)){var r=n[i];delete n[i],h[i]=!0,e.apply(t,r)}if(!u(o,i)&&!u(h,i))throw new Error("No "+i);return o[i]}function b(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function v(t){return t?b(t):[]}function y(t){return function(){return a&&a.config&&a.config[t]||{}}}r=function(t,e){var i,r,s=b(t),o=s[0],n=e[1];return t=s[1],o&&(i=g(o=p(o,n))),o?t=i&&i.normalize?i.normalize(t,(r=n,function(t){return p(t,r)})):p(t,n):(o=(s=b(t=p(t,n)))[0],t=s[1],o&&(i=g(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},s={require:function(t){return f(t)},exports:function(t){var e=o[t];return void 0!==e?e:o[t]={}},module:function(t){return{id:t,uri:"",exports:o[t],config:y(t)}}},e=function(e,i,a,l){var c,d,p,b,y,C,_,P=[],E=typeof a;if(C=v(l=l||e),"undefined"===E||"function"===E){for(i=!i.length&&a.length?["require","exports","module"]:i,y=0;y<i.length;y+=1)if("require"===(d=(b=r(i[y],C)).f))P[y]=s.require(e);else if("exports"===d)P[y]=s.exports(e),_=!0;else if("module"===d)c=P[y]=s.module(e);else if(u(o,d)||u(n,d)||u(h,d))P[y]=g(d);else{if(!b.p)throw new Error(e+" missing "+d);b.p.load(b.n,f(l,!0),m(d),{}),P[y]=o[d]}p=a?a.apply(o[e],P):void 0,e&&(c&&c.exports!==t&&c.exports!==o[e]?o[e]=c.exports:p===t&&_||(o[e]=p))}else e&&(o[e]=a)},requirejs=require=i=function(o,n,h,l,c){if("string"==typeof o)return s[o]?s[o](n):g(r(o,v(n)).f);if(!o.splice){if((a=o).deps&&i(a.deps,a.callback),!n)return;n.splice?(o=n,n=h,h=null):o=t}return n=n||function(){},"function"==typeof h&&(h=l,l=c),l?e(t,o,n,h):setTimeout((function(){e(t,o,n,h)}),4),i},i.config=function(t){return i(t)},requirejs._defined=o,(define=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),u(o,t)||u(n,t)||(n[t]=[t,e,i])}).amd={jQuery:!0}}(),define("../node_modules/almond/almond",(function(){})),define("jxg",[],(function(){"use strict";var t={};return"object"!=typeof JXG||JXG.extend||(t=JXG),t.extend=function(t,e,i,r){var s;for(s in i=i||!1,r=r||!1,e)(!i||i&&e.hasOwnProperty(s))&&(t[r?s.toLowerCase():s]=e[s])},t.defineConstant=function(e,i,r,s){(s=s||!1)&&t.exists(e[i])||Object.defineProperty(e,i,{value:r,writable:!1,enumerable:!0,configurable:!1})},t.extendConstants=function(t,e,i,r){var s,o;for(s in i=i||!1,r=r||!1,e)(!i||i&&e.hasOwnProperty(s))&&(o=r?s.toUpperCase():s,this.defineConstant(t,o,e[s]))},t.extend(t,{boards:{},readers:{},elements:{},registerElement:function(t,e){t=t.toLowerCase(),this.elements[t]=e},registerReader:function(t,e){var i,r;for(i=0;i<e.length;i++)r=e[i].toLowerCase(),"function"!=typeof this.readers[r]&&(this.readers[r]=t)},shortcut:function(t,e){return function(){return t[e].apply(this,arguments)}},getRef:function(e,i){return t.deprecated("JXG.getRef()","Board.select()"),e.select(i)},getReference:function(e,i){return t.deprecated("JXG.getReference()","Board.select()"),e.select(i)},getBoardByContainerId:function(t){var e;for(e in JXG.boards)if(JXG.boards.hasOwnProperty(e)&&JXG.boards[e].container===t)return JXG.boards[e];return null},deprecated:function(e,i){var r=e+" is deprecated.";i&&(r+=" Please use "+i+" instead."),t.warn(r)},warn:function(t){"object"==typeof window&&window.console&&console.warn?console.warn("WARNING:",t):"object"==typeof document&&document.getElementById("warning")&&(document.getElementById("debug").innerHTML+="WARNING: "+t+"<br />")},debugInt:function(t){var e,i;for(e=0;e<arguments.length;e++)i=arguments[e],"object"==typeof window&&window.console&&console.log?console.log(i):"object"==typeof document&&document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=i+"<br/>")},debugWST:function(e){var i=new Error;t.debugInt.apply(this,arguments),i&&i.stack&&(t.debugInt("stacktrace"),t.debugInt(i.stack.split("\n").slice(1).join("\n")))},debugLine:function(e){var i=new Error;t.debugInt.apply(this,arguments),i&&i.stack&&t.debugInt("Called from",i.stack.split("\n").slice(2,3).join("\n"))},debug:function(e){t.debugInt.apply(this,arguments)}}),t})),define("base/constants",["jxg"],(function(t){"use strict";var e,i="1.4.4";return e={version:i,licenseText:"JSXGraph v1.4.4 Copyright (C) see https://jsxgraph.org",COORDS_BY_USER:1,COORDS_BY_SCREEN:2,OBJECT_TYPE_ARC:1,OBJECT_TYPE_ARROW:2,OBJECT_TYPE_AXIS:3,OBJECT_TYPE_AXISPOINT:4,OBJECT_TYPE_TICKS:5,OBJECT_TYPE_CIRCLE:6,OBJECT_TYPE_CONIC:7,OBJECT_TYPE_CURVE:8,OBJECT_TYPE_GLIDER:9,OBJECT_TYPE_IMAGE:10,OBJECT_TYPE_LINE:11,OBJECT_TYPE_POINT:12,OBJECT_TYPE_SLIDER:13,OBJECT_TYPE_CAS:14,OBJECT_TYPE_GXTCAS:15,OBJECT_TYPE_POLYGON:16,OBJECT_TYPE_SECTOR:17,OBJECT_TYPE_TEXT:18,OBJECT_TYPE_ANGLE:19,OBJECT_TYPE_INTERSECTION:20,OBJECT_TYPE_TURTLE:21,OBJECT_TYPE_VECTOR:22,OBJECT_TYPE_OPROJECT:23,OBJECT_TYPE_GRID:24,OBJECT_TYPE_TANGENT:25,OBJECT_TYPE_HTMLSLIDER:26,OBJECT_TYPE_CHECKBOX:27,OBJECT_TYPE_INPUT:28,OBJECT_TYPE_BUTTON:29,OBJECT_TYPE_TRANSFORMATION:30,OBJECT_TYPE_FOREIGNOBJECT:31,OBJECT_TYPE_VIEW3D:32,OBJECT_CLASS_POINT:1,OBJECT_CLASS_LINE:2,OBJECT_CLASS_CIRCLE:3,OBJECT_CLASS_CURVE:4,OBJECT_CLASS_AREA:5,OBJECT_CLASS_OTHER:6,OBJECT_CLASS_TEXT:7,GENTYPE_ABC:1,GENTYPE_AXIS:2,GENTYPE_MID:3,GENTYPE_REFLECTION:4,GENTYPE_MIRRORELEMENT:5,GENTYPE_REFLECTION_ON_LINE:4,GENTYPE_REFLECTION_ON_POINT:5,GENTYPE_TANGENT:6,GENTYPE_PARALLEL:7,GENTYPE_BISECTORLINES:8,GENTYPE_BOARDIMG:9,GENTYPE_BISECTOR:10,GENTYPE_NORMAL:11,GENTYPE_POINT:12,GENTYPE_GLIDER:13,GENTYPE_INTERSECTION:14,GENTYPE_CIRCLE:15,GENTYPE_CIRCLE2POINTS:16,GENTYPE_LINE:17,GENTYPE_TRIANGLE:18,GENTYPE_QUADRILATERAL:19,GENTYPE_TEXT:20,GENTYPE_POLYGON:21,GENTYPE_REGULARPOLYGON:22,GENTYPE_SECTOR:23,GENTYPE_ANGLE:24,GENTYPE_PLOT:25,GENTYPE_SLIDER:26,GENTYPE_TRUNCATE:27,GENTYPE_JCODE:28,GENTYPE_MOVEMENT:29,GENTYPE_COMBINED:30,GENTYPE_RULER:31,GENTYPE_SLOPETRIANGLE:32,GENTYPE_PERPSEGMENT:33,GENTYPE_LABELMOVEMENT:34,GENTYPE_VECTOR:35,GENTYPE_NONREFLEXANGLE:36,GENTYPE_REFLEXANGLE:37,GENTYPE_PATH:38,GENTYPE_DERIVATIVE:39,GENTYPE_DELETE:41,GENTYPE_COPY:42,GENTYPE_MIRROR:43,GENTYPE_ROTATE:44,GENTYPE_ABLATION:45,GENTYPE_MIGRATE:46,GENTYPE_VECTORCOPY:47,GENTYPE_POLYGONCOPY:48,GENTYPE_CTX_TYPE_G:51,GENTYPE_CTX_TYPE_P:52,GENTYPE_CTX_TRACE:53,GENTYPE_CTX_VISIBILITY:54,GENTYPE_CTX_CCVISIBILITY:55,GENTYPE_CTX_MPVISIBILITY:56,GENTYPE_CTX_WITHLABEL:57,GENTYPE_CTX_LABEL:58,GENTYPE_CTX_FIXED:59,GENTYPE_CTX_STROKEWIDTH:60,GENTYPE_CTX_LABELSIZE:61,GENTYPE_CTX_SIZE:62,GENTYPE_CTX_FACE:63,GENTYPE_CTX_STRAIGHT:64,GENTYPE_CTX_ARROW:65,GENTYPE_CTX_COLOR:66,GENTYPE_CTX_RADIUS:67,GENTYPE_CTX_COORDS:68,GENTYPE_CTX_TEXT:69,GENTYPE_CTX_ANGLERADIUS:70,GENTYPE_CTX_DOTVISIBILITY:71,GENTYPE_CTX_FILLOPACITY:72,GENTYPE_CTX_PLOT:73,GENTYPE_CTX_SCALE:74,GENTYPE_CTX_INTVAL:75,GENTYPE_CTX_POINT1:76,GENTYPE_CTX_POINT2:77,GENTYPE_CTX_LABELSTICKY:78,GENTYPE_CTX_TYPE_I:79,GENTYPE_CTX_HASINNERPOINTS:80,GENTYPE_CTX_SNAPWIDTH:81,GENTYPE_CTX_SNAPTOGRID:82},t.extendConstants(t,e),e})),define("utils/type",["jxg","base/constants"],(function(t,e){"use strict";return t.extend(t,{isId:function(t,e){return"string"==typeof e&&!!t.objects[e]},isName:function(t,e){return"string"==typeof e&&!!t.elementsByName[e]},isGroup:function(t,e){return"string"==typeof e&&!!t.groups[e]},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t||"[Object Number]"===Object.prototype.toString.call(t)},isFunction:function(t){return"function"==typeof t},isArray:function(t){return Array.isArray?Array.isArray(t):null!==t&&"object"==typeof t&&"function"==typeof t.splice&&"function"==typeof t.join},isObject:function(t){return"object"==typeof t&&!this.isArray(t)},isPoint:function(t){return null!==t&&"object"==typeof t&&t.elementClass===e.OBJECT_CLASS_POINT},isPointType:function(t,e){var i,r;return!!this.isArray(e)||(!!(this.isFunction(e)&&(i=e(),this.isArray(i)&&i.length>1))||(r=t.select(e),this.isPoint(r)))},isTransformationOrArray:function(t){if(null!==t){if(this.isArray(t)&&t.length>0)return this.isTransformationOrArray(t[0]);if("object"==typeof t)return t.type===e.OBJECT_TYPE_TRANSFORMATION}return!1},exists:function(t,e){var i=!(null==t||null===t);return(e=e||!1)?i&&""!==t:i},isEmpty:function(t){return 0===Object.keys(t).length},def:function(t,e){return this.exists(t)?t:e},str2Bool:function(t){return!this.exists(t)||("boolean"==typeof t?t:!!this.isString(t)&&"true"===t.toLowerCase())},createEvalFunction:function(e,i,r){var s,o=[];for(s=0;s<r;s++)o[s]=t.createFunction(i[s],e,"",!0);return function(t){return o[t]()}},createFunction:function(t,e,i,r){var s=null;return this.exists(r)&&!r||!this.isString(t)?this.isFunction(t)?s=t:(this.isNumber(t)||this.isString(t))&&(s=function(){return t}):s=e.jc.snippet(t,!0,i,!0),null!==s&&(s.origin=t),s},providePoints:function(t,e,i,r,s){var o,n,a,h,l,c=0,d=[];for(this.isArray(e)||(e=[e]),a=e.length,this.exists(s)&&(c=s.length),0===c&&(h=this.copyAttributes(i,t.options,r)),o=0;o<a;++o)if(c>0&&(n=Math.min(o,c-1),h=this.copyAttributes(i,t.options,r,s[n])),this.isArray(e[o])&&e[o].length>1?(d.push(t.create("point",e[o],h)),d[d.length-1]._is_new=!0):this.isFunction(e[o])?(l=e[o](),this.isArray(l)&&l.length>1&&(d.push(t.create("point",[e[o]],h)),d[d.length-1]._is_new=!0)):d.push(t.select(e[o])),!this.isPoint(d[o]))return!1;return d},bind:function(t,e){return function(){return t.apply(e,arguments)}},evaluate:function(t){return this.isFunction(t)?t():t},indexOf:function(t,e,i){var r,s=this.exists(i);if(Array.indexOf&&!s)return t.indexOf(e);for(r=0;r<t.length;r++)if(s&&t[r][i]===e||!s&&t[r]===e)return r;return-1},eliminateDuplicates:function(t){var e,i=t.length,r=[],s={};for(e=0;e<i;e++)s[t[e]]=0;for(e in s)s.hasOwnProperty(e)&&r.push(e);return r},swap:function(t,e,i){var r;return r=t[e],t[e]=t[i],t[i]=r,t},uniqueArray:function(e){var i,r,s,o=[];if(0===e.length)return[];for(i=0;i<e.length;i++)if(s=this.isArray(e[i]),this.exists(e[i]))for(r=i+1;r<e.length;r++)s&&t.cmpArrays(e[i],e[r])?e[i]=[]:s||e[i]!==e[r]||(e[i]="");else e[i]="";for(r=0,i=0;i<e.length;i++)(s=this.isArray(e[i]))||""===e[i]?s&&0!==e[i].length&&(o[r]=e[i].slice(0),r++):(o[r]=e[i],r++);return e=o,o},isInArray:function(e,i){return t.indexOf(e,i)>-1},coordsArrayToMatrix:function(t,e){var i,r=[],s=[];for(i=0;i<t.length;i++)e?(r.push(t[i].usrCoords[1]),s.push(t[i].usrCoords[2])):s.push([t[i].usrCoords[1],t[i].usrCoords[2]]);return e&&(s=[r,s]),s},cmpArrays:function(t,e){var i;if(t===e)return!0;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(this.isArray(t[i])&&this.isArray(e[i])){if(!this.cmpArrays(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0},removeElementFromArray:function(t,e){var i;for(i=0;i<t.length;i++)if(t[i]===e)return t.splice(i,1),t;return t},trunc:function(e,i){return i=t.def(i,0),this.toFixed(e,i)},_decimalAdjust:function(t,e,i){return void 0===i||0==+i?Math[t](e):(e=+e,i=+i,isNaN(e)||"number"!=typeof i||i%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-i:-i)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+i:i))))},_round10:function(t,e){return this._decimalAdjust("round",t,e)},_floor10:function(t,e){return this._decimalAdjust("floor",t,e)},_ceil10:function(t,e){return this._decimalAdjust("ceil",t,e)},toFixed:function(t,e){return this._round10(t,-e).toFixed(e)},autoDigits:function(t){var e=Math.abs(t);return e>.1?this.toFixed(t,2):e>=.01?this.toFixed(t,4):e>=1e-4?this.toFixed(t,6):t},keys:function(t,e){var i,r=[];for(i in t)e?t.hasOwnProperty(i)&&r.push(i):r.push(i);return r},clone:function(t){var e={};return e.prototype=t,e},cloneAndCopy:function(t,e){var i,r=function(){};for(i in r.prototype=t,e)r[i]=e[i];return r},merge:function(t,e){var i,r;for(i in e)if(e.hasOwnProperty(i))if(this.isArray(e[i]))for(t[i]||(t[i]=[]),r=0;r<e[i].length;r++)"object"==typeof e[i][r]?t[i][r]=this.merge(t[i][r],e[i][r]):t[i][r]=e[i][r];else"object"==typeof e[i]?(t[i]||(t[i]={}),t[i]=this.merge(t[i],e[i])):t[i]=e[i];return t},deepCopy:function(t,e,i){var r,s,o,n;if(i=i||!1,"object"!=typeof t||null===t)return t;if(this.isArray(t))for(r=[],s=0;s<t.length;s++)"object"==typeof(o=t[s])?this.exists(o.board)?r[s]=o.id:r[s]=this.deepCopy(o):r[s]=o;else{for(s in r={},t)t.hasOwnProperty(s)&&(n=i?s.toLowerCase():s,null!==(o=t[s])&&"object"==typeof o?this.exists(o.board)?r[n]=o.id:r[n]=this.deepCopy(o):r[n]=o);for(s in e)e.hasOwnProperty(s)&&(n=i?s.toLowerCase():s,"object"==typeof(o=e[s])?this.isArray(o)||!this.exists(r[n])?r[n]=this.deepCopy(o):r[n]=this.deepCopy(r[n],o,i):r[n]=o)}return r},copyAttributes:function(e,i,r){var s,o,n,a,h,l={circle:1,curve:1,image:1,line:1,point:1,polygon:1,text:1,ticks:1,integral:1};for(s=(n=arguments.length)<3||l[r]?t.deepCopy(i.elements,null,!0):{},n<4&&this.exists(r)&&this.exists(i.layer[r])&&(s.layer=i.layer[r]),a=i,h=!0,o=2;o<n;o++){if(!this.exists(a[arguments[o]])){h=!1;break}a=a[arguments[o]]}for(h&&(s=t.deepCopy(s,a,!0)),a="object"==typeof e?e:{},h=!0,o=3;o<n;o++){if(!this.exists(a[arguments[o]])){h=!1;break}a=a[arguments[o]]}if(h&&this.extend(s,a,null,!0),"board"===arguments[2])return s;for(a=i,h=!0,o=2;o<n;o++){if(!this.exists(a[arguments[o]])){h=!1;break}a=a[arguments[o]]}return h&&this.exists(a.label)&&(s.label=t.deepCopy(a.label,s.label)),s.label=t.deepCopy(i.label,s.label),s},copyPrototypeMethods:function(t,e,i){var r;for(r in t.prototype[i]=e.prototype.constructor,e.prototype)e.prototype.hasOwnProperty(r)&&(t.prototype[r]=e.prototype[r])},toJSON:function(e,i){var r,s,o,n;if(i=t.def(i,!1),JSON.stringify&&!i)try{return JSON.stringify(e)}catch(t){}switch(typeof e){case"object":if(e){if(r=[],this.isArray(e)){for(o=0;o<e.length;o++)r.push(t.toJSON(e[o],i));return"["+r.join(",")+"]"}for(s in e)if(e.hasOwnProperty(s)){try{n=t.toJSON(e[s],i)}catch(t){n=""}i?r.push(s+":"+n):r.push('"'+s+'":'+n)}return"{"+r.join(",")+"} "}return"null";case"string":return"'"+e.replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return e.toString()}return"0"},clearVisPropOld:function(t){return t.visPropOld={cssclass:"",cssdefaultstyle:"",cssstyle:"",fillcolor:"",fillopacity:"",firstarrow:!1,fontsize:-1,lastarrow:!1,left:-1e5,linecap:"",shadow:!1,strokecolor:"",strokeopacity:"",strokewidth:"",tabindex:-1e5,transitionduration:0,top:-1e5,visible:null},t},isInObject:function(t,e){var i;for(i in t)if(t.hasOwnProperty(i)&&t[i]===e)return!0;return!1},escapeHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(t){return t.replace(/<\/?[^>]+>/gi,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()},trimNumber:function(t){return"."!==(t=(t=t.replace(/^0+/,"")).replace(/0+$/,""))[t.length-1]&&","!==t[t.length-1]||(t=t.slice(0,-1)),"."!==t[0]&&","!==t[0]||(t="0"+t),t},filterElements:function(t,e){var i,r,s,o,n,a,h,l=t.length,c=[];if("function"!=typeof e&&"object"!=typeof e)return c;for(i=0;i<l;i++){if(h=!0,s=t[i],"object"==typeof e){for(r in e)if(e.hasOwnProperty(r)&&(o=r.toLowerCase(),n="function"==typeof s[r]?s[r]():s[r],a=s.visProp&&"function"==typeof s.visProp[o]?s.visProp[o]():s.visProp&&s.visProp[o],!(h="function"==typeof e[r]?e[r](n)||e[r](a):n===e[r]||a===e[r])))break}else"function"==typeof e&&(h=e(s));h&&c.push(s)}return c},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},sanitizeHTML:function(t,e){return"function"==typeof html_sanitize&&e?html_sanitize(t,(function(){}),(function(t){return t})):(t&&"string"==typeof t&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;")),t)},evalSlider:function(t){return t&&t.type===e.OBJECT_TYPE_GLIDER&&"function"==typeof t.Value?t.Value():t}}),t})),define("utils/env",["jxg","utils/type"],(function(t,e){"use strict";return t.extendConstants(t,{touchProperty:"touches"}),t.extend(t,{isTouchEvent:function(e){return t.exists(e[t.touchProperty])},isPointerEvent:function(e){return t.exists(e.pointerId)},isMouseEvent:function(e){return!t.isTouchEvent(e)&&!t.isPointerEvent(e)},getNumberOfTouchPoints:function(e){var i=-1;return t.isTouchEvent(e)&&(i=e[t.touchProperty].length),i},isFirstTouch:function(e){var i=t.getNumberOfTouchPoints(e);return t.isPointerEvent(e)?e.isPrimary:1===i},isBrowser:"object"==typeof window&&"object"==typeof document,supportsES6:function(){try{return new Function("(a = 0) => a"),!0}catch(t){return!1}},supportsVML:function(){return this.isBrowser&&!!document.namespaces},supportsSVG:function(){return this.isBrowser&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},supportsCanvas:function(){var t=!1;if(this.isNode())try{t=!!( true?__webpack_require__(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'canvas'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())):0)}catch(t){}return t||this.isBrowser&&!!document.createElement("canvas").getContext},isNode:function(){return!this.isBrowser&&( true&&!!module.exports||"object"==typeof __webpack_require__.g&&__webpack_require__.g.requirejsVars&&!__webpack_require__.g.requirejsVars.isBrowser)},isWebWorker:function(){return!this.isBrowser&&"object"==typeof self&&"function"==typeof self.postMessage},supportsPointerEvents:function(){return!!(this.isBrowser&&window.navigator&&(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled))},isTouchDevice:function(){return this.isBrowser&&void 0!==window.ontouchstart},isAndroid:function(){return e.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")>-1},isWebkitAndroid:function(){return this.isAndroid()&&navigator.userAgent.indexOf(" AppleWebKit/")>-1},isApple:function(){return e.exists(navigator)&&(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)},isWebkitApple:function(){return this.isApple()&&navigator.userAgent.search(/Mobile\/[0-9A-Za-z.]*Safari/)>-1},isMetroApp:function(){return"object"==typeof window&&window.clientInformation&&window.clientInformation.appVersion&&window.clientInformation.appVersion.indexOf("MSAppHost")>-1},isMozilla:function(){return e.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("apple")},isFirefoxOS:function(){return e.exists(navigator)&&-1===navigator.userAgent.toLowerCase().indexOf("android")&&-1===navigator.userAgent.toLowerCase().indexOf("apple")&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1},ieVersion:function(){var t,e,i=3;if("object"!=typeof document)return 0;e=(t=document.createElement("div")).getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++i+"]><i></i><![endif]--\x3e"}while(e[0]);return i>4?i:void 0}(),getDimensions:function(t,i){var r,s,o,n,a,h,l,c,d,u=/\d+(\.\d*)?px/;if(!this.isBrowser||null===t)return{width:500,height:500};if(r=(i=i||document).getElementById(t),!e.exists(r))throw new Error("\nJSXGraph: HTML container element '"+t+"' not found.");return"none"!==(s=r.style.display)&&null!==s?r.clientWidth>0&&r.clientHeight>0?{width:r.clientWidth,height:r.clientHeight}:(d=window.getComputedStyle?window.getComputedStyle(r):r.style,{width:u.test(d.width)?parseFloat(d.width):0,height:u.test(d.height)?parseFloat(d.height):0}):(n=(o=r.style).visibility,a=o.position,h=o.display,o.visibility="hidden",o.position="absolute",o.display="block",l=r.clientWidth,c=r.clientHeight,o.display=h,o.position=a,o.visibility=n,{width:l,height:c})},addEvent:function(t,i,r,s){var o=function(){return r.apply(s,arguments)};o.origin=r,s["x_internal"+i]=s["x_internal"+i]||[],s["x_internal"+i].push(o),e.exists(t)&&e.exists(t.addEventListener)&&t.addEventListener(i,o,!1),e.exists(t)&&e.exists(t.attachEvent)&&t.attachEvent("on"+i,o)},removeEvent:function(i,r,s,o){var n;if(e.exists(o))if(e.exists(o["x_internal"+r]))if(e.isArray(o["x_internal"+r]))if(-1!==(n=e.indexOf(o["x_internal"+r],s,"origin"))){try{e.exists(i)&&e.exists(i.removeEventListener)&&i.removeEventListener(r,o["x_internal"+r][n],!1),e.exists(i)&&e.exists(i.detachEvent)&&i.detachEvent("on"+r,o["x_internal"+r][n])}catch(e){t.debug("event not registered in browser: ("+r+" -- "+s+")")}o["x_internal"+r].splice(n,1)}else t.debug("removeEvent: no such event function in internal list: "+s);else t.debug("owner[x_internal + "+r+"] is not an array");else t.debug("no such type: "+r);else t.debug("no such owner")},removeAllEvents:function(e,i,r){var s;if(r["x_internal"+i]){for(s=r["x_internal"+i].length-1;s>=0;s--)t.removeEvent(e,i,r["x_internal"+i][s].origin,r);r["x_internal"+i].length>0&&t.debug("removeAllEvents: Not all events could be removed.")}},getPosition:function(i,r,s){var o,n,a,h=0,l=0;if(i||(i=window.event),s=s||document,a=i[t.touchProperty],e.exists(a)&&0===a.length&&(a=i.changedTouches),e.exists(r)&&e.exists(a))if(-1===r){for(n=a.length,o=0;o<n;o++)if(a[o]){i=a[o];break}}else i=a[r];return i.clientX&&(h=i.clientX,l=i.clientY),[h,l]},getOffset:function(t){var e,i=t,r=t,s=i.offsetLeft-i.scrollLeft,o=i.offsetTop-i.scrollTop;for(s=(e=this.getCSSTransform([s,o],i))[0],o=e[1],i=i.offsetParent;i;){for(s+=i.offsetLeft,o+=i.offsetTop,i.offsetParent&&(s+=i.clientLeft-i.scrollLeft,o+=i.clientTop-i.scrollTop),s=(e=this.getCSSTransform([s,o],i))[0],o=e[1],r=r.parentNode;r!==i;)s+=r.clientLeft-r.scrollLeft,o+=r.clientTop-r.scrollTop,s=(e=this.getCSSTransform([s,o],r))[0],o=e[1],r=r.parentNode;i=i.offsetParent}return[s,o]},getStyle:function(e,i){var r,s=e.ownerDocument;return s.defaultView&&s.defaultView.getComputedStyle?r=s.defaultView.getComputedStyle(e,null).getPropertyValue(i):e.currentStyle&&t.ieVersion>=9?r=e.currentStyle[i]:e.style&&(i=i.replace(/-([a-z]|[0-9])/gi,(function(t,e){return e.toUpperCase()})),r=e.style[i]),r},getProp:function(t,e){var i=parseInt(this.getStyle(t,e),10);return isNaN(i)?0:i},getCSSTransform:function(t,i){var r,s,o,n,a,h,l,c=["transform","webkitTransform","MozTransform","msTransform","oTransform"];for(a=c.length,r=0,o="";r<a;r++)if(e.exists(i.style[c[r]])){o=i.style[c[r]];break}if(""!==o&&(n=o.indexOf("("))>0){for(a=o.length,s=0,h=(l=o.substring(n+1,a-1).split(",")).length;s<h;s++)l[s]=parseFloat(l[s]);0===o.indexOf("matrix")?(t[0]+=l[4],t[1]+=l[5]):0===o.indexOf("translateX")?t[0]+=l[0]:0===o.indexOf("translateY")?t[1]+=l[0]:0===o.indexOf("translate")&&(t[0]+=l[0],t[1]+=l[1])}return e.exists(i.style.zoom)&&""!==(o=i.style.zoom)&&(t[0]*=parseFloat(o),t[1]*=parseFloat(o)),t},getCSSTransformMatrix:function(t){var i,r,s,o,n,a,h,l,c=t.ownerDocument,d=["transform","webkitTransform","MozTransform","msTransform","oTransform"],u=[[1,0,0],[0,1,0],[0,0,1]];if(c.defaultView&&c.defaultView.getComputedStyle)s=(l=c.defaultView.getComputedStyle(t,null)).getPropertyValue("-webkit-transform")||l.getPropertyValue("-moz-transform")||l.getPropertyValue("-ms-transform")||l.getPropertyValue("-o-transform")||l.getPropertyValue("transform");else for(n=d.length,i=0,s="";i<n;i++)if(e.exists(t.style[d[i]])){s=t.style[d[i]];break}if(""!==s&&(o=s.indexOf("("))>0){for(n=s.length,r=0,a=(h=s.substring(o+1,n-1).split(",")).length;r<a;r++)h[r]=parseFloat(h[r]);0===s.indexOf("matrix")?u=[[1,0,0],[0,h[0],h[1]],[0,h[2],h[3]]]:0===s.indexOf("scaleX")?u[1][1]=h[0]:0===s.indexOf("scaleY")?u[2][2]=h[0]:0===s.indexOf("scale")&&(u[1][1]=h[0],u[2][2]=h[1])}return e.exists(t.style.zoom)&&""!==(s=t.style.zoom)&&(u[1][1]*=parseFloat(s),u[2][2]*=parseFloat(s)),u},timedChunk:function(t,e,i,r){var s=t.concat(),o=function(){var n=+new Date;do{e.call(i,s.shift())}while(s.length>0&&+new Date-n<300);s.length>0?window.setTimeout(o,1):r(t)};window.setTimeout(o,1)},_getScaleFactors:function(t){var e=t.getBoundingClientRect().width,i=t.getBoundingClientRect().height,r=window.screen.width/e,s=window.screen.height/i,o=.5*(window.screen.height-i),n=Math.min(r,s);return window.matchMedia&&window.matchMedia("(orientation:landscape)").matches&&window.screen.width<window.screen.height&&(r=window.screen.height/e,s=window.screen.width/i,n=Math.min(r,s),o=.5*(window.screen.width-i)),{scale:n*=.85,vshift:o,width:e}},scaleJSXGraphDiv:function(t,e,i,r){var s,o,n=document.styleSheets.length,a=[":fullscreen",":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"],h=a.length,l="{margin:0 auto;transform:matrix("+i+",0,0,"+i+",0,"+r+");}",c=new RegExp(".*#"+t+":.*full.*screen.*#"+e+".*auto;.*transform:.*matrix");for(0===n&&((s=document.createElement("style")).appendChild(document.createTextNode("")),document.body.appendChild(s),n=document.styleSheets.length),document.styleSheets[n-1].cssRules.length>0&&c.test(document.styleSheets[n-1].cssRules[0].cssText)&&document.styleSheets[n-1].deleteRule&&document.styleSheets[n-1].deleteRule(0),o=0;o<h;o++)try{document.styleSheets[n-1].insertRule("#"+t+a[o]+" #"+e+l,0);break}catch(t){}o===h&&(console.log("JXG.scaleJSXGraphDiv: Could not add any CSS rule."),console.log("One possible reason could be that the id of the JSXGraph container does not start with a letter."))}}),t})),define("utils/xml",["jxg","utils/type"],(function(t,e){"use strict";return t.XML={cleanWhitespace:function(t){for(var i=t.firstChild;e.exists(i);)3!==i.nodeType||/\S/.test(i.nodeValue)?1===i.nodeType&&this.cleanWhitespace(i):t.removeChild(i),i=i.nextSibling},parse:function(t){var e,i;return i="function"==typeof DOMParser||"object"==typeof DOMParser?DOMParser:function(){this.parseFromString=function(t){var e;return"function"==typeof ActiveXObject&&(e=new ActiveXObject("MSXML.DomDocument")).loadXML(t),e}},e=(new i).parseFromString(t,"text/xml"),this.cleanWhitespace(e),e}},t.XML})),define("utils/event",["jxg","utils/type"],(function(t,e){"use strict";return t.EventEmitter={eventHandlers:{},suspended:{},trigger:function(t,e){var i,r,s,o,n,a;for(n=t.length,r=0;r<n;r++)if(o=this.eventHandlers[t[r]],!this.suspended[t[r]]){if(this.suspended[t[r]]=!0,o)for(a=o.length,i=0;i<a;i++)(s=o[i]).handler.apply(s.context,e);this.suspended[t[r]]=!1}return this},on:function(t,i,r){return e.isArray(this.eventHandlers[t])||(this.eventHandlers[t]=[]),r=e.def(r,this),this.eventHandlers[t].push({handler:i,context:r}),this},off:function(t,i){var r;return t&&e.isArray(this.eventHandlers[t])?(i?((r=e.indexOf(this.eventHandlers[t],i,"handler"))>-1&&this.eventHandlers[t].splice(r,1),0===this.eventHandlers[t].length&&delete this.eventHandlers[t]):delete this.eventHandlers[t],this):this},eventify:function(t){t.eventHandlers={},t.on=this.on,t.off=this.off,t.triggerEventHandlers=this.trigger,t.trigger=this.trigger,t.suspended={}}},t.EventEmitter})),define("math/math",["jxg","utils/type"],(function(t,e){"use strict";var i,r=function(t){var e,r;return t.memo||(e={},r=Array.prototype.join,t.memo=function(){var s=r.call(arguments);return e[s]!==i?e[s]:e[s]=t.apply(this,arguments)}),t.memo};return t.Math={eps:1e-6,relDif:function(t,e){var i=Math.abs(t),r=Math.abs(e);return 0===(r=Math.max(i,r))?0:Math.abs(t-e)/r},mod:function(t,e){return t-Math.floor(t/e)*e},vector:function(t,e){var i,r;for(e=e||0,i=[],r=0;r<t;r++)i[r]=e;return i},matrix:function(t,e,i){var r,s,o;for(i=i||0,e=e||t,r=[],s=0;s<t;s++)for(r[s]=[],o=0;o<e;o++)r[s][o]=i;return r},identity:function(t,e){var r,s;for(e===i&&"number"!=typeof e&&(e=t),r=this.matrix(t,e),s=0;s<Math.min(t,e);s++)r[s][s]=1;return r},frustum:function(t,e,i,r,s,o){var n=this.matrix(4,4);return n[0][0]=2*s/(e-t),n[0][1]=0,n[0][2]=(e+t)/(e-t),n[0][3]=0,n[1][0]=0,n[1][1]=2*s/(r-i),n[1][2]=(r+i)/(r-i),n[1][3]=0,n[2][0]=0,n[2][1]=0,n[2][2]=-(o+s)/(o-s),n[2][3]=-o*s*2/(o-s),n[3][0]=0,n[3][1]=0,n[3][2]=-1,n[3][3]=0,n},projection:function(t,e,i,r){var s=i*Math.tan(t/2),o=s*e;return this.frustum(-o,o,-s,s,i,r)},matVecMult:function(t,e){var i,r,s,o=t.length,n=e.length,a=[];if(3===n)for(i=0;i<o;i++)a[i]=t[i][0]*e[0]+t[i][1]*e[1]+t[i][2]*e[2];else for(i=0;i<o;i++){for(r=0,s=0;s<n;s++)r+=t[i][s]*e[s];a[i]=r}return a},matMatMult:function(t,e){var i,r,s,o,n=t.length,a=n>0?e[0].length:0,h=e.length,l=this.matrix(n,a);for(i=0;i<n;i++)for(r=0;r<a;r++){for(s=0,o=0;o<h;o++)s+=t[i][o]*e[o][r];l[i][r]=s}return l},transpose:function(t){var e,i,r,s,o;for(s=t.length,o=t.length>0?t[0].length:0,e=this.matrix(o,s),i=0;i<o;i++)for(r=0;r<s;r++)e[i][r]=t[r][i];return e},inverse:function(t){var e,i,r,s,o,n,a,h=t.length,l=[],c=[],d=[];for(e=0;e<h;e++){for(l[e]=[],i=0;i<h;i++)l[e][i]=t[e][i];c[e]=e}for(i=0;i<h;i++){for(o=Math.abs(l[i][i]),n=i,e=i+1;e<h;e++)Math.abs(l[e][i])>o&&(o=Math.abs(l[e][i]),n=e);if(o<=this.eps)return[];if(n>i){for(r=0;r<h;r++)a=l[i][r],l[i][r]=l[n][r],l[n][r]=a;a=c[i],c[i]=c[n],c[n]=a}for(s=1/l[i][i],e=0;e<h;e++)l[e][i]*=s;for(l[i][i]=s,r=0;r<h;r++)if(r!==i){for(e=0;e<h;e++)e!==i&&(l[e][r]-=l[e][i]*l[i][r]);l[i][r]=-s*l[i][r]}}for(e=0;e<h;e++){for(r=0;r<h;r++)d[c[r]]=l[e][r];for(r=0;r<h;r++)l[e][r]=d[r]}return l},innerProduct:function(t,r,s){var o,n=0;for(s!==i&&e.isNumber(s)||(s=t.length),o=0;o<s;o++)n+=t[o]*r[o];return n},crossProduct:function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},norm:function(t,r){var s,o=0;for(r!==i&&e.isNumber(r)||(r=t.length),s=0;s<r;s++)o+=t[s]*t[s];return Math.sqrt(o)},axpy:function(t,e,i){var r,s=e.length,o=[];for(r=0;r<s;r++)o[r]=t*e[r]+i[r];return o},factorial:r((function(t){return t<0?NaN:0===(t=Math.floor(t))||1===t?1:t*this.factorial(t-1)})),binomial:r((function(t,e){var i,r;if(e>t||e<0)return NaN;if(e=Math.round(e),t=Math.round(t),0===e||e===t)return 1;for(i=1,r=0;r<e;r++)i*=t-r,i/=r+1;return i})),cosh:Math.cosh||function(t){return.5*(Math.exp(t)+Math.exp(-t))},sinh:Math.sinh||function(t){return.5*(Math.exp(t)-Math.exp(-t))},acosh:Math.acosh||function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:Math.asinh||function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},cot:function(t){return 1/Math.tan(t)},acot:function(t){return(t>=0?.5:-.5)*Math.PI-Math.atan(t)},nthroot:function(t,e){var i=1/e;return e<=0||Math.floor(e)!==e?NaN:0===t?0:t>0?Math.exp(i*Math.log(t)):e%2==1?-Math.exp(i*Math.log(-t)):NaN},cbrt:Math.cbrt||function(t){return this.nthroot(t,3)},pow:function(t,e){return 0===t?0===e?1:0:Math.floor(e)===e?Math.pow(t,e):t>0?Math.exp(e*Math.log(t)):NaN},ratpow:function(t,e,i){var r;return 0===e?1:0===i?NaN:(r=this.gcd(e,i),this.nthroot(this.pow(t,e/r),i/r))},log10:function(t){return Math.log(t)/Math.log(10)},log2:function(t){return Math.log(t)/Math.log(2)},log:function(t,i){return void 0!==i&&e.isNumber(i)?Math.log(t)/Math.log(i):Math.log(t)},sign:Math.sign||function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},squampow:function(t,e){var i;if(Math.floor(e)===e){for(i=1,e<0&&(t=1/t,e*=-1);0!==e;)1&e&&(i*=t),e>>=1,t*=t;return i}return this.pow(t,e)},gcd:function(t,i){if(t=Math.abs(t),i=Math.abs(i),!e.isNumber(t)||!e.isNumber(i))return NaN;if(i>t){var r=t;t=i,i=r}for(;;){if(0===(t%=i))return i;if(0===(i%=t))return t}},lcm:function(t,i){var r;return e.isNumber(t)&&e.isNumber(i)?0!==(r=t*i)?r/this.gcd(t,i):0:NaN},erf:function(t){return this.ProbFuncs.erf(t)},erfc:function(t){return this.ProbFuncs.erfc(t)},erfi:function(t){return this.ProbFuncs.erfi(t)},ndtr:function(t){return this.ProbFuncs.ndtr(t)},ndtri:function(t){return this.ProbFuncs.ndtri(t)},lt:function(t,e){return t<e},leq:function(t,e){return t<=e},gt:function(t,e){return t>e},geq:function(t,e){return t>=e},eq:function(t,e){return t===e},neq:function(t,e){return t!==e},and:function(t,e){return t&&e},not:function(t){return!t},or:function(t,e){return t||e},xor:function(t,e){return(t||e)&&!(t&&e)},normalize:function(t){var e,i,r=2*t[3],s=t[4]/r;return t[5]=s,t[6]=-t[1]/r,t[7]=-t[2]/r,isFinite(s)?Math.abs(s)>=1?(t[0]=(t[6]*t[6]+t[7]*t[7]-s*s)/(2*s),t[1]=-t[6]/s,t[2]=-t[7]/s,t[3]=1/(2*s),t[4]=1):(i=s<=0?-1:1,t[0]=i*(t[6]*t[6]+t[7]*t[7]-s*s)*.5,t[1]=-i*t[6],t[2]=-i*t[7],t[3]=i/2,t[4]=i*s):(e=Math.sqrt(t[1]*t[1]+t[2]*t[2]),t[0]/=e,t[1]/=e,t[2]/=e,t[3]=0,t[4]=1),t},toGL:function(t){var e,i,r;if(e="function"==typeof Float32Array?new Float32Array(16):new Array(16),4!==t.length&&4!==t[0].length)return e;for(i=0;i<4;i++)for(r=0;r<4;r++)e[i+4*r]=t[i][r];return e},Vieta:function(t){var e,i,r,s=t.length,o=[];for(o=t.slice(),e=1;e<s;++e){for(r=o[e],o[e]*=o[e-1],i=e-1;i>=1;--i)o[i]+=o[i-1]*r;o[0]+=r}return o}},t.Math})),define("base/coords",["jxg","base/constants","utils/event","utils/type","math/math"],(function(t,e,i,r,s){"use strict";return t.Coords=function(t,e,s,o){this.board=s,this.usrCoords=[],this.scrCoords=[],this.emitter=!r.exists(o)||o,this.emitter&&i.eventify(this),this.setCoordinates(t,e,!1,!0)},t.extend(t.Coords.prototype,{normalizeUsrCoords:function(){Math.abs(this.usrCoords[0])>s.eps&&(this.usrCoords[1]/=this.usrCoords[0],this.usrCoords[2]/=this.usrCoords[0],this.usrCoords[0]=1)},usr2screen:function(t){var e=Math.round,i=this.board,r=this.usrCoords,s=i.origin.scrCoords;!0===t?(this.scrCoords[0]=e(r[0]),this.scrCoords[1]=e(r[0]*s[1]+r[1]*i.unitX),this.scrCoords[2]=e(r[0]*s[2]-r[2]*i.unitY)):(this.scrCoords[0]=r[0],this.scrCoords[1]=r[0]*s[1]+r[1]*i.unitX,this.scrCoords[2]=r[0]*s[2]-r[2]*i.unitY)},screen2usr:function(){var t=this.board.origin.scrCoords,e=this.scrCoords,i=this.board;this.usrCoords[0]=1,this.usrCoords[1]=(e[1]-t[1])/i.unitX,this.usrCoords[2]=(t[2]-e[2])/i.unitY},distance:function(t,i){var r,o,n=0,a=this.usrCoords,h=this.scrCoords;if(t===e.COORDS_BY_USER){if(r=i.usrCoords,(n=(o=a[0]-r[0])*o)>s.eps*s.eps)return Number.POSITIVE_INFINITY;n+=(o=a[1]-r[1])*o,n+=(o=a[2]-r[2])*o}else r=i.scrCoords,n+=(o=h[1]-r[1])*o,n+=(o=h[2]-r[2])*o;return Math.sqrt(n)},setCoordinates:function(t,i,r,s){var o=this.usrCoords,n=this.scrCoords,a=[o[0],o[1],o[2]],h=[n[0],n[1],n[2]];return t===e.COORDS_BY_USER?(2===i.length?(o[0]=1,o[1]=i[0],o[2]=i[1]):(o[0]=i[0],o[1]=i[1],o[2]=i[2],this.normalizeUsrCoords()),this.usr2screen(r)):(2===i.length?(n[1]=i[0],n[2]=i[1]):(n[1]=i[1],n[2]=i[2]),this.screen2usr()),!this.emitter||s||h[1]===n[1]&&h[2]===n[2]||this.triggerEventHandlers(["update"],[a,h]),this},copy:function(t,e){return void 0===e&&(e=0),this[t].slice(e)},isReal:function(){return!isNaN(this.usrCoords[1]+this.usrCoords[2])&&Math.abs(this.usrCoords[0])>s.eps},__evt__update:function(t,e){},__evt:function(){}}),t.Coords})),define("utils/expect",["jxg","utils/type","base/constants","base/coords"],(function(t,e,i,r){"use strict";var s={each:function(t,i,r){var s,o,n=[];if(e.exists(t.length))for(o=t.length,s=0;s<o;s++)n.push(i.call(this,t[s],r));return n},coords:function(t,e){var s=t;return t&&t.elementClass===i.OBJECT_CLASS_POINT?s=t.coords:t.usrCoords&&t.scrCoords&&t.usr2screen&&(s=t),e&&(s=new r(i.COORDS_BY_USER,s.usrCoords,s.board)),s},coordsArray:function(t,i){var r;return(r=e.isArray(t)?t:this.coords(t).usrCoords).length<3&&r.unshift(1),i&&(r=[r[0],r[1],r[2]]),r}};return t.Expect=s,s})),define("math/probfuncs",["math/math","utils/type"],(function(t,e){"use strict";return t.ProbFuncs={MAXNUM:17014118346046923e22,SQRTH:.7071067811865476,SQRT2:1.4142135623730951,MAXLOG:708.3964185322641,P:[2.461969814735305e-10,.5641895648310689,7.463210564422699,48.63719709856814,196.5208329560771,526.4451949954773,934.5285271719576,1027.5518868951572,557.5353353693994],Q:[13.228195115474499,86.70721408859897,354.9377788878199,975.7085017432055,1823.9091668790973,2246.3376081871097,1656.6630919416134,557.5353408177277],R:[.5641895835477551,1.275366707599781,5.019050422511805,6.160210979930536,7.4097426995044895,2.9788666537210022],S:[2.2605286322011726,9.396035249380015,12.048953980809666,17.08144507475659,9.608968090632859,3.369076451000815],T:[9.604973739870516,90.02601972038427,2232.005345946843,7003.325141128051,55592.30130103949],U:[33.56171416475031,521.3579497801527,4594.323829709801,22629.000061389095,49267.39426086359],M:128,MINV:.0078125,expx2:function(t,e){var i,r,s,o;return t=Math.abs(t),e<0&&(t=-t),i=(s=this.MINV*Math.floor(this.M*t+.5))*s,r=2*s*(o=t-s)+o*o,e<0&&(i=-i,r=-r),i+r>this.MAXLOG?1/0:i=Math.exp(i)*Math.exp(r)},polevl:function(t,i,r){var s,o;if(e.exists(i.reduce))return i.reduce((function(e,i){return e*t+i}),0);for(o=0,s=0;o<=r;o++)s=s*t+i[o];return s},p1evl:function(t,i,r){var s,o;if(e.exists(i.reduce))return i.reduce((function(e,i){return e*t+i}),1);for(o=0,s=1;o<r;o++)s=s*t+i[o];return s},ndtr:function(t){var e,i,r;return e=t*this.SQRTH,(r=Math.abs(e))<1?i=.5+.5*this.erf(e):(i=.5*this.erfce(r),r=this.expx2(t,-1),i*=Math.sqrt(r),e>0&&(i=1-i)),i},_underflow:function(t){return console.log("erfc","UNDERFLOW"),t<0?2:0},erfc:function(t){var e,i,r,s,o;return(r=t<0?-t:t)<1?1-this.erf(t):(o=-t*t)<-this.MAXLOG?this._underflow(t):(o=this.expx2(t,-1),r<8?(e=this.polevl(r,this.P,8),i=this.p1evl(r,this.Q,8)):(e=this.polevl(r,this.R,5),i=this.p1evl(r,this.S,6)),s=o*e/i,t<0&&(s=2-s),0===s?this._underflow(t):s)},erfce:function(t){var e,i;return t<8?(e=this.polevl(t,this.P,8),i=this.p1evl(t,this.Q,8)):(e=this.polevl(t,this.R,5),i=this.p1evl(t,this.S,6)),e/i},erf:function(t){var e;return Math.abs(t)>1?1-this.erfc(t):(e=t*t,t*this.polevl(e,this.T,4)/this.p1evl(e,this.U,5))},s2pi:2.5066282746310007,P0:[-59.96335010141079,98.00107541859997,-56.67628574690703,13.931260938727968,-1.2391658386738125],Q0:[1.9544885833814176,4.676279128988815,86.36024213908905,-225.46268785411937,200.26021238006066,-82.03722561683334,15.90562251262117,-1.1833162112133],P1:[4.0554489230596245,31.525109459989388,57.16281922464213,44.08050738932008,14.684956192885803,2.1866330685079025,-.1402560791713545,-.03504246268278482,-.0008574567851546854],Q1:[15.779988325646675,45.39076351288792,41.3172038254672,15.04253856929075,2.504649462083094,-.14218292285478779,-.03808064076915783,-.0009332594808954574],P2:[3.2377489177694603,6.915228890689842,3.9388102529247444,1.3330346081580755,.20148538954917908,.012371663481782003,.00030158155350823543,26580697468673755e-22,6.239745391849833e-9],Q2:[6.02427039364742,3.6798356385616087,1.3770209948908132,.21623699359449663,.013420400608854318,.00032801446468212774,28924786474538068e-22,6.790194080099813e-9],ndtri:function(t){var e,i,r,s,o;return t<=0?-1/0:t>=1?1/0:(o=1,(i=t)>.8646647167633873&&(i=1-i,o=0),i>.1353352832366127?(e=(i-=.5)+i*((s=i*i)*this.polevl(s,this.P0,4)/this.p1evl(s,this.Q0,8)),e*=this.s2pi):(r=1/(e=Math.sqrt(-2*Math.log(i))),e=e-Math.log(e)/e-(e<8?r*this.polevl(r,this.P1,8)/this.p1evl(r,this.Q1,8):r*this.polevl(r,this.P2,8)/this.p1evl(r,this.Q2,8)),0!==o&&(e=-e),e))},erfi:function(t){return this.ndtri(.5*(t+1))*this.SQRTH}},t.ProbFuncs})),define("math/ia",["jxg","math/math","utils/type"],(function(t,e,i){"use strict";t.Math.DoubleBits=function(){var t,e,i,r,s,o,n,a,h=new Float64Array(1),l=new Uint32Array(h.buffer);void 0!==Float64Array&&(h[0]=1,!0,1072693248===l[1]?(t=function(t){return h[0]=t,[l[0],l[1]]},e=function(t,e){return l[0]=t,l[1]=e,h[0]},i=function(t){return h[0]=t,l[0]},r=function(t){return h[0]=t,l[1]},this.doubleBits=t,this.pack=e,this.lo=i,this.hi=r):1072693248===l[0]&&(s=function(t){return h[0]=t,[l[1],l[0]]},o=function(t,e){return l[1]=t,l[0]=e,h[0]},n=function(t){return h[0]=t,l[1]},a=function(t){return h[0]=t,l[0]},this.doubleBits=s,this.pack=o,this.lo=n,this.hi=a))},t.extend(t.Math.DoubleBits.prototype,{sign:function(t){return this.hi(t)>>>31},exponent:function(t){return(this.hi(t)<<1>>>21)-1023},fraction:function(t){var e=this.lo(t),i=this.hi(t),r=1048575&i;return 2146435072&i&&(r+=1<<20),[e,r]},denormalized:function(t){return!(2146435072&this.hi(t))}});var r=new t.Math.DoubleBits,s=function(t,i){if(void 0!==t&&void 0!==i){if(e.IntervalArithmetic.isInterval(t)){if(!e.IntervalArithmetic.isSingleton(t))throw new TypeError("JXG.Math.IntervalArithmetic: interval `lo` must be a singleton");this.lo=t.lo}else this.lo=t;if(e.IntervalArithmetic.isInterval(i)){if(!e.IntervalArithmetic.isSingleton(i))throw new TypeError("JXG.Math.IntervalArithmetic: interval `hi` must be a singleton");this.hi=i.hi}else this.hi=i}else{if(void 0!==t)return Array.isArray(t)?new s(t[0],t[1]):new s(t,t);this.lo=this.hi=0}};return t.extend(s.prototype,{print:function(){console.log("[",this.lo,this.hi,"]")},set:function(t,e){return this.lo=t,this.hi=e,this},bounded:function(t,i){return this.set(e.IntervalArithmetic.prev(t),e.IntervalArithmetic.next(i))},boundedSingleton:function(t){return this.bounded(t,t)},assign:function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new TypeError("JXG.Math.Interval#assign: arguments must be numbers");return isNaN(t)||isNaN(e)||t>e?this.setEmpty():this.set(t,e)},setEmpty:function(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},setWhole:function(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)},open:function(t,i){return this.assign(e.IntervalArithmetic.next(t),e.IntervalArithmetic.prev(i))},halfOpenLeft:function(t,i){return this.assign(e.IntervalArithmetic.next(t),i)},halfOpenRight:function(t,i){return this.assign(t,e.IntervalArithmetic.prev(i))},toArray:function(){return[this.lo,this.hi]},clone:function(){return(new s).set(this.lo,this.hi)}}),t.Math.IntervalArithmetic={Interval:function(t,e){return new s(t,e)},isInterval:function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.lo&&"number"==typeof t.hi},isSingleton:function(t){return t.lo===t.hi},add:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),new s(this.addLo(t.lo,e.lo),this.addHi(t.hi,e.hi))},sub:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),new s(this.subLo(t.lo,e.hi),this.subHi(t.hi,e.lo))},mul:function(t,e){var r,o,n,a,h;return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(t)||this.isEmpty(e)?this.EMPTY.clone():(r=t.lo,o=t.hi,n=e.lo,a=e.hi,h=new s,r<0?o>0?n<0?a>0?(h.lo=Math.min(this.mulLo(r,a),this.mulLo(o,n)),h.hi=Math.max(this.mulHi(r,n),this.mulHi(o,a))):(h.lo=this.mulLo(o,n),h.hi=this.mulHi(r,n)):a>0?(h.lo=this.mulLo(r,a),h.hi=this.mulHi(o,a)):(h.lo=0,h.hi=0):n<0?a>0?(h.lo=this.mulLo(r,a),h.hi=this.mulHi(r,n)):(h.lo=this.mulLo(o,a),h.hi=this.mulHi(r,n)):a>0?(h.lo=this.mulLo(r,a),h.hi=this.mulHi(o,n)):(h.lo=0,h.hi=0):o>0?n<0?a>0?(h.lo=this.mulLo(o,n),h.hi=this.mulHi(o,a)):(h.lo=this.mulLo(o,n),h.hi=this.mulHi(r,a)):a>0?(h.lo=this.mulLo(r,n),h.hi=this.mulHi(o,a)):(h.lo=0,h.hi=0):(h.lo=0,h.hi=0),h)},div:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(t)||this.isEmpty(e)?this.EMPTY.clone():this.zeroIn(e)?0!==e.lo?0!==e.hi?this.divZero(t):this.divNegative(t,e.lo):0!==e.hi?this.divPositive(t,e.hi):this.EMPTY.clone():this.divNonZero(t,e)},positive:function(t){return new s(t.lo,t.hi)},negative:function(t){return i.isNumber(t)?new s(-t):new s(-t.hi,-t.lo)},isEmpty:function(t){return t.lo>t.hi},isWhole:function(t){return t.lo===-1/0&&t.hi===1/0},zeroIn:function(t){return this.hasValue(t,0)},hasValue:function(t,e){return!this.isEmpty(t)&&(t.lo<=e&&e<=t.hi)},hasInterval:function(t,e){return!!this.isEmpty(t)||!this.isEmpty(e)&&e.lo<=t.lo&&t.hi<=e.hi},intervalsOverlap:function(t,e){return!this.isEmpty(t)&&!this.isEmpty(e)&&(t.lo<=e.lo&&e.lo<=t.hi||e.lo<=t.lo&&t.lo<=e.hi)},divNonZero:function(t,e){var i=t.lo,r=t.hi,o=e.lo,n=e.hi,a=new s;return r<0?n<0?(a.lo=this.divLo(r,o),a.hi=this.divHi(i,n)):(a.lo=this.divLo(i,o),a.hi=this.divHi(r,n)):i<0?n<0?(a.lo=this.divLo(r,n),a.hi=this.divHi(i,n)):(a.lo=this.divLo(i,o),a.hi=this.divHi(r,o)):n<0?(a.lo=this.divLo(r,n),a.hi=this.divHi(i,o)):(a.lo=this.divLo(i,n),a.hi=this.divHi(r,o)),a},divPositive:function(t,e){return 0===t.lo&&0===t.hi?t:this.zeroIn(t)?this.WHOLE:t.hi<0?new s(Number.NEGATIVE_INFINITY,this.divHi(t.hi,e)):new s(this.divLo(t.lo,e),Number.POSITIVE_INFINITY)},divNegative:function(t,e){return 0===t.lo&&0===t.hi?t:this.zeroIn(t)?this.WHOLE:t.hi<0?new s(this.divLo(t.hi,e),Number.POSITIVE_INFINITY):new s(Number.NEGATIVE_INFINITY,this.divHi(t.lo,e))},divZero:function(t){return 0===t.lo&&0===t.hi?t:this.WHOLE},fmod:function(t,e){var r,o;return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(t)||this.isEmpty(e)?this.EMPTY.clone():(r=t.lo<0?e.lo:e.hi,o=(o=t.lo/r)<0?Math.ceil(o):Math.floor(o),this.sub(t,this.mul(e,new s(o))))},multiplicativeInverse:function(t){return i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():this.zeroIn(t)?0!==t.lo?0!==t.hi?this.WHOLE:new s(Number.NEGATIVE_INFINITY,this.divHi(1,t.lo)):0!==t.hi?new s(this.divLo(1,t.hi),Number.POSITIVE_INFINITY):this.EMPTY.clone():new s(this.divLo(1,t.hi),this.divHi(1,t.lo))},pow:function(t,e){var r,o;if(i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t))return this.EMPTY.clone();if(this.isInterval(e)){if(!this.isSingleton(e))return this.EMPTY.clone();e=e.lo}return 0===e?0===t.lo&&0===t.hi?this.EMPTY.clone():this.ONE.clone():e<0?this.pow(this.multiplicativeInverse(t),-e):e%1==0?t.hi<0?(r=this.powLo(-t.hi,e),o=this.powHi(-t.lo,e),1==(1&e)?new s(-o,-r):new s(r,o)):t.lo<0?1==(1&e)?new s(-this.powLo(-t.lo,e),this.powHi(t.hi,e)):new s(0,this.powHi(Math.max(-t.lo,t.hi),e)):new s(this.powLo(t.lo,e),this.powHi(t.hi,e)):(console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),this.EMPTY.clone())},sqrt:function(t){return i.isNumber(t)&&(t=this.Interval(t)),this.nthRoot(t,2)},nthRoot:function(t,e){var r,o,n,a,h;if(i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)||e<0)return this.EMPTY.clone();if(this.isInterval(e)){if(!this.isSingleton(e))return this.EMPTY.clone();e=e.lo}return r=1/e,t.hi<0?e%1==0&&1==(1&e)?(o=this.powHi(-t.lo,r),n=this.powLo(-t.hi,r),new s(-o,-n)):this.EMPTY.clone():t.lo<0?(a=this.powHi(t.hi,r),e%1==0&&1==(1&e)?(h=-this.powHi(-t.lo,r),new s(h,a)):new s(0,a)):new s(this.powLo(t.lo,r),this.powHi(t.hi,r))},exp:function(t){return i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():new s(this.expLo(t.lo),this.expHi(t.hi))},log:function(t){var e;return i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():(e=t.lo<=0?Number.NEGATIVE_INFINITY:this.logLo(t.lo),new s(e,this.logHi(t.hi)))},ln:function(t){return this.log(t)},log10:function(t){return this.isEmpty(t)?this.EMPTY.clone():this.div(this.log(t),this.log(new s(10,10)))},log2:function(t){return this.isEmpty(t)?this.EMPTY.clone():this.div(this.log(t),this.log(new s(2,2)))},hull:function(t,e){var i=this.isEmpty(t),r=this.isEmpty(e);return i&&r?this.EMPTY.clone():i?e.clone():r?t.clone():new s(Math.min(t.lo,e.lo),Math.max(t.hi,e.hi))},intersection:function(t,e){var i,r;return this.isEmpty(t)||this.isEmpty(e)?this.EMPTY.clone():(i=Math.max(t.lo,e.lo))<=(r=Math.min(t.hi,e.hi))?new s(i,r):this.EMPTY.clone()},union:function(t,e){if(!this.intervalsOverlap(t,e))throw new Error("Interval#unions do not overlap");return new s(Math.min(t.lo,e.lo),Math.max(t.hi,e.hi))},difference:function(t,e){if(this.isEmpty(t)||this.isWhole(e))return this.EMPTY.clone();if(this.intervalsOverlap(t,e)){if(t.lo<e.lo&&e.hi<t.hi)throw new Error("Interval.difference: difference creates multiple intervals");return e.lo<=t.lo&&e.hi===1/0||e.hi>=t.hi&&e.lo===-1/0?this.EMPTY.clone():e.lo<=t.lo?(new s).halfOpenLeft(e.hi,t.hi):(new s).halfOpenRight(t.lo,e.lo)}return t.clone()},width:function(t){return this.isEmpty(t)?0:this.subHi(t.hi,t.lo)},abs:function(t){return i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():t.lo>=0?t.clone():t.hi<=0?this.negative(t):new s(0,Math.max(-t.lo,t.hi))},max:function(t,e){var i=this.isEmpty(t),r=this.isEmpty(e);return i&&r?this.EMPTY.clone():i?e.clone():r?t.clone():new s(Math.max(t.lo,e.lo),Math.max(t.hi,e.hi))},min:function(t,e){var i=this.isEmpty(t),r=this.isEmpty(e);return i&&r?this.EMPTY.clone():i?e.clone():r?t.clone():new s(Math.min(t.lo,e.lo),Math.min(t.hi,e.hi))},onlyInfinity:function(t){return!isFinite(t.lo)&&t.lo===t.hi},_handleNegative:function(t){var e;return t.lo<0&&(t.lo===-1/0?(t.lo=0,t.hi=1/0):(e=Math.ceil(-t.lo/this.piTwiceLow),t.lo+=this.piTwiceLow*e,t.hi+=this.piTwiceLow*e)),t},cos:function(t){var e,i,r,o,n,a,h,l;return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():(e=(new s).set(t.lo,t.hi),this._handleNegative(e),i=this.PI_TWICE,r=this.fmod(e,i),this.width(r)>=i.lo?new s(-1,1):r.lo>=this.piHigh?(o=this.cos(this.sub(r,this.PI)),this.negative(o)):(n=r.lo,a=r.hi,h=this.cosLo(a),l=this.cosHi(n),a<=this.piLow?new s(h,l):a<=i.lo?new s(-1,Math.max(h,l)):new s(-1,1)))},sin:function(t){return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():this.cos(this.sub(t,this.PI_HALF))},tan:function(t){var e,i,r;return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():(e=(new s).set(t.lo,t.hi),this._handleNegative(e),r=this.PI,(i=this.fmod(e,r)).lo>=this.piHalfLow&&(i=this.sub(i,r)),i.lo<=-this.piHalfLow||i.hi>=this.piHalfLow?this.WHOLE.clone():new s(this.tanLo(i.lo),this.tanHi(i.hi)))},asin:function(t){var e,i;return this.isEmpty(t)||t.hi<-1||t.lo>1?this.EMPTY.clone():(e=t.lo<=-1?-this.piHalfHigh:this.asinLo(t.lo),i=t.hi>=1?this.piHalfHigh:this.asinHi(t.hi),new s(e,i))},acos:function(t){var e,i;return this.isEmpty(t)||t.hi<-1||t.lo>1?this.EMPTY.clone():(e=t.hi>=1?0:this.acosLo(t.hi),i=t.lo<=-1?this.piHigh:this.acosHi(t.lo),new s(e,i))},atan:function(t){return this.isEmpty(t)?this.EMPTY.clone():new s(this.atanLo(t.lo),this.atanHi(t.hi))},sinh:function(t){return this.isEmpty(t)?this.EMPTY.clone():new s(this.sinhLo(t.lo),this.sinhHi(t.hi))},cosh:function(t){return this.isEmpty(t)?this.EMPTY.clone():t.hi<0?new s(this.coshLo(t.hi),this.coshHi(t.lo)):t.lo>=0?new s(this.coshLo(t.lo),this.coshHi(t.hi)):new s(1,this.coshHi(-t.lo>t.hi?t.lo:t.hi))},tanh:function(t){return this.isEmpty(t)?this.EMPTY.clone():new s(this.tanhLo(t.lo),this.tanhHi(t.hi))},equal:function(t,e){return this.isEmpty(t)?this.isEmpty(e):!this.isEmpty(e)&&t.lo===e.lo&&t.hi===e.hi},notEqual:function(t,e){return this.isEmpty(t)?!this.isEmpty(e):this.isEmpty(e)||t.hi<e.lo||t.lo>e.hi},lt:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),!this.isEmpty(t)&&!this.isEmpty(e)&&t.hi<e.lo},gt:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),!this.isEmpty(t)&&!this.isEmpty(e)&&t.lo>e.hi},leq:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),!this.isEmpty(t)&&!this.isEmpty(e)&&t.hi<=e.lo},geq:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),!this.isEmpty(t)&&!this.isEmpty(e)&&t.lo>=e.hi},piLow:3.141592653589793,piHigh:3.1415926535897936,piHalfLow:1.5707963267948966,piHalfHigh:1.5707963267948968,piTwiceLow:6.283185307179586,piTwiceHigh:6.283185307179587,identity:function(t){return t},_prev:function(t){return t===1/0?t:this.nextafter(t,-1/0)},_next:function(t){return t===-1/0?t:this.nextafter(t,1/0)},prev:function(t){return this._prev(t)},next:function(t){return this._next(t)},toInteger:function(t){return t<0?Math.ceil(t):Math.floor(t)},addLo:function(t,e){return this.prev(t+e)},addHi:function(t,e){return this.next(t+e)},subLo:function(t,e){return this.prev(t-e)},subHi:function(t,e){return this.next(t-e)},mulLo:function(t,e){return this.prev(t*e)},mulHi:function(t,e){return this.next(t*e)},divLo:function(t,e){return this.prev(t/e)},divHi:function(t,e){return this.next(t/e)},intLo:function(t){return this.toInteger(this.prev(t))},intHi:function(t){return this.toInteger(this.next(t))},logLo:function(t){return this.prev(Math.log(t))},logHi:function(t){return this.next(Math.log(t))},expLo:function(t){return this.prev(Math.exp(t))},expHi:function(t){return this.next(Math.exp(t))},sinLo:function(t){return this.prev(Math.sin(t))},sinHi:function(t){return this.next(Math.sin(t))},cosLo:function(t){return this.prev(Math.cos(t))},cosHi:function(t){return this.next(Math.cos(t))},tanLo:function(t){return this.prev(Math.tan(t))},tanHi:function(t){return this.next(Math.tan(t))},asinLo:function(t){return this.prev(Math.asin(t))},asinHi:function(t){return this.next(Math.asin(t))},acosLo:function(t){return this.prev(Math.acos(t))},acosHi:function(t){return this.next(Math.acos(t))},atanLo:function(t){return this.prev(Math.atan(t))},atanHi:function(t){return this.next(Math.atan(t))},sinhLo:function(t){return this.prev(e.sinh(t))},sinhHi:function(t){return this.next(e.sinh(t))},coshLo:function(t){return this.prev(e.cosh(t))},coshHi:function(t){return this.next(e.cosh(t))},tanhLo:function(t){return this.prev(e.tanh(t))},tanhHi:function(t){return this.next(e.tanh(t))},sqrtLo:function(t){return this.prev(Math.sqrt(t))},sqrtHi:function(t){return this.next(Math.sqrt(t))},powLo:function(t,e){var i;if(e%1!=0)return this.prev(Math.pow(t,e));for(i=1==(1&e)?t:1,e>>=1;e>0;)t=this.mulLo(t,t),1==(1&e)&&(i=this.mulLo(t,i)),e>>=1;return i},powHi:function(t,e){var i;if(e%1!=0)return this.next(Math.pow(t,e));for(i=1==(1&e)?t:1,e>>=1;e>0;)t=this.mulHi(t,t),1==(1&e)&&(i=this.mulHi(t,i)),e>>=1;return i},disable:function(){this.next=this.prev=this.identity},enable:function(){this.prev=function(t){return this._prev(t)},this.next=function(t){return this._next(t)}},SMALLEST_DENORM:Math.pow(2,-1074),UINT_MAX:-1>>>0,nextafter:function(t,e){var i,s;return isNaN(t)||isNaN(e)?NaN:t===e?t:0===t?e<0?-this.SMALLEST_DENORM:this.SMALLEST_DENORM:(s=r.hi(t),i=r.lo(t),e>t==t>0?i===this.UINT_MAX?(s+=1,i=0):i+=1:0===i?(i=this.UINT_MAX,s-=1):i-=1,r.pack(i,s))}},t.Math.IntervalArithmetic.PI=new s(e.IntervalArithmetic.piLow,e.IntervalArithmetic.piHigh),t.Math.IntervalArithmetic.PI_HALF=new s(e.IntervalArithmetic.piHalfLow,e.IntervalArithmetic.piHalfHigh),t.Math.IntervalArithmetic.PI_TWICE=new s(e.IntervalArithmetic.piTwiceLow,e.IntervalArithmetic.piTwiceHigh),t.Math.IntervalArithmetic.ZERO=new s(0),t.Math.IntervalArithmetic.ONE=new s(1),t.Math.IntervalArithmetic.WHOLE=(new s).setWhole(),t.Math.IntervalArithmetic.EMPTY=(new s).setEmpty(),t.Math.IntervalArithmetic})),define("math/extrapolate",["math/math"],(function(t){"use strict";return t.Extrapolate={upper:15,infty:1e4,wynnEps:function(t,e,i){var r,s,o,n,a;if(i[e]=t,0===e)a=t;else{for(o=0,r=e;r>0;r--)s=o,o=i[r-1],n=i[r]-o,Math.abs(n)<=1e-15?i[r-1]=1e20:(1,i[r-1]=1*s+1/n);a=i[e%2]}return a},aitken:function(t,e,i){var r,s,o,n,a,h;if(i[e]=t,e<2)r=t;else{for(n=e/2,a=1;a<=n;a++)s=i[(h=e-2*a)+2]-2*i[h+1]+i[h],Math.abs(s)<1e-15?i[h]=1e20:(o=i[h]-i[h+1],i[h]-=o*o/s);r=i[e%2]}return r},brezinski:function(t,e,i){var r,s,o,n,a,h,l,c;if(i[e]=t,e<3)r=t;else{for(h=e/3,c=e,l=1;l<=h;l++)o=i[(c-=3)+1]-i[c],n=i[c+2]-i[c+1],s=(a=i[c+3]-i[c+2])*(n-o)-o*(a-n),Math.abs(s)<1e-15?i[c]=1e20:i[c]=i[c+1]-o*n*(a-n)/s;r=i[e%3]}return r},iteration:function(t,e,i,r,s){var o,n,a,h,l=NaN,c=[],d="finite",u=e;for(s=s||0,o=1;o<=this.upper;o++){if(n=i(t+(u=0===s?e/(o+1):.5*u),!0),a=this[r](n,o-1,c),isNaN(a)){d="NaN";break}if(0!==n&&a/n>this.infty){l=a,d="infinite";break}if(h=a-l,Math.abs(h)<1e-7)break;l=a}return[l,d,1-(o-1)/this.upper]},levin:function(t,e,i,r,s,o){var n,a,h,l;if(l=1/(r+e),s[e]=t/i,o[e]=1/i,e>0&&(s[e-1]=s[e]-s[e-1],o[e-1]=o[e]-o[e-1],e>1))for(h=(r+e-1)*l,n=2;n<=e;n++)a=(r+e-n)*Math.pow(h,n-2)*l,s[e-n]=s[e-n+1]-a*s[e-n],o[e-n]=o[e-n+1]-a*o[e-n],l*=h;return Math.abs(o[0])<1e-15?1e20:s[0]/o[0]},iteration_levin:function(t,e,i,r){var s,o,n,a,h,l,c,d=NaN,u=[],p=[],f="finite",m=e;for(r=r||0,a=i(t+e,!0),s=1;s<=this.upper;s++){if(h=(o=i(t+(m=0===r?e/(s+1):.5*m),!0))-a,c="u"===(Math.abs(h)<1?"u":"t")?(1+s)*h:h,a=o,l=(n=this.levin(o,s-1,c,1,u,p))-d,isNaN(n)){f="NaN";break}if(0!==o&&n/o>this.infty){d=n,f="infinite";break}if(Math.abs(l)<1e-7)break;d=n}return[d,f,1-(s-1)/this.upper]},limit:function(t,e,i){return this.iteration_levin(t,e,i,0)}},t.Extrapolate})),define("math/qdt",["math/math","utils/type"],(function(t,e){"use strict";return t.Quadtree=function(t){this.capacity=10,this.points=[],this.xlb=t[0],this.xub=t[2],this.ylb=t[3],this.yub=t[1],this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null},e.extend(t.Quadtree.prototype,{contains:function(t,e){return this.xlb<t&&t<=this.xub&&this.ylb<e&&e<=this.yub},insert:function(t){return!!this.contains(t.usrCoords[1],t.usrCoords[2])&&(this.points.length<this.capacity?(this.points.push(t),!0):(null===this.northWest&&this.subdivide(),!!this.northWest.insert(t)||(!!this.northEast.insert(t)||(!!this.southEast.insert(t)||!!this.southWest.insert(t)))))},subdivide:function(){var e,i=this.points.length,r=this.xlb+(this.xub-this.xlb)/2,s=this.ylb+(this.yub-this.ylb)/2;for(this.northWest=new t.Quadtree([this.xlb,this.yub,r,s]),this.northEast=new t.Quadtree([r,this.yub,this.xub,s]),this.southEast=new t.Quadtree([this.xlb,s,r,this.ylb]),this.southWest=new t.Quadtree([r,s,this.xub,this.ylb]),e=0;e<i;e+=1)this.northWest.insert(this.points[e]),this.northEast.insert(this.points[e]),this.southEast.insert(this.points[e]),this.southWest.insert(this.points[e])},_query:function(t,e){var i;if(this.contains(t,e)){if(null===this.northWest)return this;if(i=this.northWest._query(t,e))return i;if(i=this.northEast._query(t,e))return i;if(i=this.southEast._query(t,e))return i;if(i=this.southWest._query(t,e))return i}return!1},query:function(t,i){var r,s;return e.exists(i)?(r=t,s=i):(r=t.usrCoords[1],s=t.usrCoords[2]),this._query(r,s)}}),t.Quadtree})),define("math/numerics",["jxg","utils/type","utils/env","math/math"],(function(t,e,i,r){"use strict";var s={rk4:{s:4,A:[[0,0,0,0],[.5,0,0,0],[0,.5,0,0],[0,0,1,0]],b:[1/6,1/3,1/3,1/6],c:[0,.5,.5,1]},heun:{s:2,A:[[0,0],[1,0]],b:[.5,.5],c:[0,1]},euler:{s:1,A:[[0]],b:[1],c:[0]}};return r.Numerics={Gauss:function(t,i){var s,o,n,a,h,l=r.eps,c=t.length>0?t[0].length:0;if(c!==i.length||c!==t.length)throw new Error("JXG.Math.Numerics.Gauss: Dimensions don't match. A must be a square matrix and b must be of the same length as A.");for(a=[],h=i.slice(0,c),s=0;s<c;s++)a[s]=t[s].slice(0,c);for(o=0;o<c;o++){for(s=c-1;s>o;s--)if(Math.abs(a[s][o])>l)if(Math.abs(a[o][o])<l)e.swap(a,s,o),e.swap(h,s,o);else for(a[s][o]/=a[o][o],h[s]-=a[s][o]*h[o],n=o+1;n<c;n++)a[s][n]-=a[s][o]*a[o][n];if(Math.abs(a[o][o])<l)throw new Error("JXG.Math.Numerics.Gauss(): The given matrix seems to be singular.")}return this.backwardSolve(a,h,!0),h},backwardSolve:function(t,e,i){var r,s,o,n,a;for(r=i?e:e.slice(0,e.length),s=t.length,o=t.length>0?t[0].length:0,n=s-1;n>=0;n--){for(a=o-1;a>n;a--)r[n]-=t[n][a]*r[a];r[n]/=t[n][n]}return r},gaussBareiss:function(t){var e,i,s,o,n,a,h,l,c,d=r.eps;if((h=t.length)<=0)return 0;for(t[0].length<h&&(h=t[0].length),l=[],o=0;o<h;o++)l[o]=t[o].slice(0,h);for(i=1,s=1,e=0;e<h-1;e++){if(a=l[e][e],Math.abs(a)<d){for(o=e+1;o<h&&!(Math.abs(l[o][e])>=d);o++);if(o===h)return 0;for(n=e;n<h;n++)c=l[o][n],l[o][n]=l[e][n],l[e][n]=c;s=-s,a=l[e][e]}for(o=e+1;o<h;o++)for(n=e+1;n<h;n++)c=a*l[o][n]-l[o][e]*l[e][n],l[o][n]=c/i;i=a}return s*l[h-1][h-1]},det:function(t){return 2===t.length&&2===t[0].length?t[0][0]*t[1][1]-t[1][0]*t[0][1]:this.gaussBareiss(t)},Jacobi:function(t){var e,i,s,o,n,a,h,l,c,d=r.eps*r.eps,u=0,p=t.length,f=[[0,0,0],[0,0,0],[0,0,0]],m=[[0,0,0],[0,0,0],[0,0,0]],g=0;for(e=0;e<p;e++){for(i=0;i<p;i++)f[e][i]=0,m[e][i]=t[e][i],u+=Math.abs(m[e][i]);f[e][e]=1}if(1===p)return[m,f];if(u<=0)return[m,f];u/=p*p;do{for(l=0,c=0,i=1;i<p;i++)for(e=0;e<i;e++)if((o=Math.abs(m[e][i]))>c&&(c=o),l+=o,o>=d){for(o=.5*Math.atan2(2*m[e][i],m[e][e]-m[i][i]),n=Math.sin(o),a=Math.cos(o),s=0;s<p;s++)h=m[s][e],m[s][e]=a*h+n*m[s][i],m[s][i]=-n*h+a*m[s][i],h=f[s][e],f[s][e]=a*h+n*f[s][i],f[s][i]=-n*h+a*f[s][i];for(m[e][e]=a*m[e][e]+n*m[i][e],m[i][i]=-n*m[e][i]+a*m[i][i],m[e][i]=0,s=0;s<p;s++)m[e][s]=m[s][e],m[i][s]=m[s][i]}g+=1}while(Math.abs(l)/u>d&&g<2e3);return[m,f]},NewtonCotes:function(t,i,r){var s,o,n,a=0,h=r&&e.isNumber(r.number_of_nodes)?r.number_of_nodes:28,l={trapez:!0,simpson:!0,milne:!0},c=r&&r.integration_type&&l.hasOwnProperty(r.integration_type)&&l[r.integration_type]?r.integration_type:"milne",d=(t[1]-t[0])/h;switch(c){case"trapez":for(a=.5*(i(t[0])+i(t[1])),s=t[0],o=0;o<h-1;o++)a+=i(s+=d);a*=d;break;case"simpson":if(h%2>0)throw new Error("JSXGraph:  INT_SIMPSON requires config.number_of_nodes dividable by 2.");for(n=h/2,a=i(t[0])+i(t[1]),s=t[0],o=0;o<n-1;o++)a+=2*i(s+=2*d);for(s=t[0]-d,o=0;o<n;o++)a+=4*i(s+=2*d);a*=d/3;break;default:if(h%4>0)throw new Error("JSXGraph: Error in INT_MILNE: config.number_of_nodes must be a multiple of 4");for(n=.25*h,a=7*(i(t[0])+i(t[1])),s=t[0],o=0;o<n-1;o++)a+=14*i(s+=4*d);for(s=t[0]-3*d,o=0;o<n;o++)a+=32*(i(s+=4*d)+i(s+2*d));for(s=t[0]-2*d,o=0;o<n;o++)a+=12*i(s+=4*d);a*=2*d/45}return a},Romberg:function(t,i,r){var s,o,n,a,h,l,c,d,u=[],p=0,f=1/0,m=r&&e.isNumber(r.max_iterations)?r.max_iterations:20,g=r&&e.isNumber(r.eps)?r.eps:r.eps||1e-7;for(s=t[0],n=(o=t[1])-s,h=1,u[0]=.5*n*(i(s)+i(o)),l=0;l<m;++l){for(a=0,n*=.5,h*=2,d=1,c=1;c<h;c+=2)a+=i(s+c*n);for(u[l+1]=.5*u[l]+a*n,p=u[l+1],c=l-1;c>=0;--c)d*=4,u[c]=u[c+1]+(u[c+1]-u[c])/(d-1),p=u[c];if(Math.abs(p-f)<g*Math.abs(p))break;f=p}return p},GaussLegendre:function(t,i,r){var s,o,n,a,h,l,c,d,u=0,p=[],f=[],m=r&&e.isNumber(r.n)?r.n:12;if(m>18&&(m=18),p[2]=[.5773502691896257],f[2]=[1],p[4]=[.33998104358485626,.8611363115940526],f[4]=[.6521451548625461,.34785484513745385],p[6]=[.2386191860831969,.6612093864662645,.932469514203152],f[6]=[.46791393457269104,.3607615730481386,.17132449237917036],p[8]=[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],f[8]=[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],p[10]=[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],f[10]=[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],p[12]=[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],f[12]=[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],p[14]=[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],f[14]=[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],p[16]=[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],f[16]=[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],p[18]=[.0847750130417353,.2518862256915055,.41175116146284263,.5597708310739475,.6916870430603532,.8037049589725231,.8926024664975557,.9558239495713977,.9915651684209309],f[18]=[.1691423829631436,.16427648374583273,.15468467512626524,.14064291467065065,.12255520671147846,.10094204410628717,.07642573025488905,.0497145488949698,.02161601352648331],p[3]=[0,.7745966692414834],f[3]=[.8888888888888888,.5555555555555556],p[5]=[0,.5384693101056831,.906179845938664],f[5]=[.5688888888888889,.47862867049936647,.23692688505618908],p[7]=[0,.4058451513773972,.7415311855993945,.9491079123427585],f[7]=[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],p[9]=[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],f[9]=[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],p[11]=[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],f[11]=[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],p[13]=[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],f[13]=[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],p[15]=[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],f[15]=[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],p[17]=[0,.17848418149584785,.3512317634538763,.5126905370864769,.6576711592166907,.7815140038968014,.8802391537269859,.9506755217687678,.9905754753144174],f[17]=[.17944647035620653,.17656270536699264,.16800410215645004,.15404576107681028,.13513636846852548,.11188384719340397,.08503614831717918,.0554595293739872,.02414830286854793],s=t[0],o=t[1],a=m+1>>1,c=p[m],d=f[m],l=.5*(o-s),h=.5*(o+s),!0&m)for(u=d[0]*i(h),n=1;n<a;++n)u+=d[n]*(i(h+l*c[n])+i(h-l*c[n]));else for(u=0,n=0;n<a;++n)u+=d[n]*(i(h+l*c[n])+i(h-l*c[n]));return l*u},_rescale_error:function(t,e,i){var r,s,o=2220446049250313e-31;return t=Math.abs(t),0!==i&&0!==t&&(t=(r=Math.pow(200*t/i,1.5))<1?i*r:i),e>20041683600089728e-310&&(s=50*o*e)>t&&(t=s),t},_gaussKronrod:function(t,e,i,r,s,o,n){var a,h,l,c,d,u,p,f,m,g,b,v=t[0],y=t[1],C=.5*(v+y),_=.5*(y-v),P=Math.abs(_),E=e(C),x=0,S=E*o[i-1],O=Math.abs(S),w=0,T=[],N=[];for(i%2==0&&(x=E*s[i/2-1]),a=Math.floor((i-1)/2),d=0;d<a;d++)g=(f=e(C-(p=_*r[u=2*d+1])))+(m=e(C+p)),T[u]=f,N[u]=m,x+=s[d]*g,S+=o[u]*g,O+=o[u]*(Math.abs(f)+Math.abs(m));for(a=Math.floor(i/2),d=0;d<a;d++)f=e(C-(p=_*r[b=2*d])),m=e(C+p),T[b]=f,N[b]=m,S+=o[b]*(f+m),O+=o[b]*(Math.abs(f)+Math.abs(m));for(l=.5*S,w=o[i-1]*Math.abs(E-l),d=0;d<i-1;d++)w+=o[d]*(Math.abs(T[d]-l)+Math.abs(N[d]-l));return c=(S-x)*_,O*=P,w*=P,h=S*=_,n.abserr=this._rescale_error(c,O,w),n.resabs=O,n.resasc=w,h},GaussKronrod15:function(t,e,i){return this._gaussKronrod(t,e,8,[.9914553711208126,.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782],i)},GaussKronrod21:function(t,e,i){return this._gaussKronrod(t,e,11,[.9956571630258081,.9739065285171717,.9301574913557082,.8650633666889845,.7808177265864169,.6794095682990244,.5627571346686047,.4333953941292472,.2943928627014602,.14887433898163122,0],[.06667134430868814,.1494513491505806,.21908636251598204,.26926671930999635,.29552422471475287],[.011694638867371874,.032558162307964725,.054755896574351995,.07503967481091996,.0931254545836976,.10938715880229764,.12349197626206584,.13470921731147334,.14277593857706009,.14773910490133849,.1494455540029169],i)},GaussKronrod31:function(t,e,i){return this._gaussKronrod(t,e,16,[.9980022986933971,.9879925180204854,.9677390756791391,.937273392400706,.8972645323440819,.8482065834104272,.790418501442466,.7244177313601701,.650996741297417,.5709721726085388,.4850818636402397,.3941513470775634,.29918000715316884,.20119409399743451,.1011420669187175,0],[.03075324199611727,.07036604748810812,.10715922046717194,.13957067792615432,.16626920581699392,.1861610000155622,.19843148532711158,.2025782419255613],[.005377479872923349,.015007947329316122,.02546084732671532,.03534636079137585,.04458975132476488,.05348152469092809,.06200956780067064,.06985412131872826,.07684968075772038,.08308050282313302,.08856444305621176,.09312659817082532,.09664272698362368,.09917359872179196,.10076984552387559,.10133000701479154],i)},_workspace:function(t,e){return{limit:e,size:0,nrmax:0,i:0,alist:[t[0]],blist:[t[1]],rlist:[0],elist:[0],order:[0],level:[0],qpsrt:function(){var t,e,i,r,s,o=this.size-1,n=this.limit,a=this.nrmax,h=this.order[a];if(o<2)return this.order[0]=0,this.order[1]=1,void(this.i=h);for(t=this.elist[h];a>0&&t>this.elist[this.order[a-1]];)this.order[a]=this.order[a-1],a--;for(s=o<n/2+2?o:n-o+1,i=a+1;i<s&&t<this.elist[this.order[i]];)this.order[i-1]=this.order[i],i++;for(this.order[i-1]=h,e=this.elist[o],r=s-1;r>i-2&&e>=this.elist[this.order[r]];)this.order[r+1]=this.order[r],r--;this.order[r+1]=o,h=this.order[a],this.i=h,this.nrmax=a},set_initial_result:function(t,e){this.size=1,this.rlist[0]=t,this.elist[0]=e},update:function(t,e,i,r,s,o,n,a){var h=this.i,l=this.size,c=this.level[this.i]+1;a>r?(this.alist[h]=s,this.rlist[h]=n,this.elist[h]=a,this.level[h]=c,this.alist[l]=t,this.blist[l]=e,this.rlist[l]=i,this.elist[l]=r,this.level[l]=c):(this.blist[h]=e,this.rlist[h]=i,this.elist[h]=r,this.level[h]=c,this.alist[l]=s,this.blist[l]=o,this.rlist[l]=n,this.elist[l]=a,this.level[l]=c),this.size++,c>this.maximum_level&&(this.maximum_level=c),this.qpsrt()},retrieve:function(){var t=this.i;return{a:this.alist[t],b:this.blist[t],r:this.rlist[t],e:this.elist[t]}},sum_results:function(){var t,e=this.size,i=0;for(t=0;t<e;t++)i+=this.rlist[t];return i},subinterval_too_small:function(t,e,i){var r=1.0000000000000222*(Math.abs(e)+22250738585072014e-321);return Math.abs(t)<=r&&Math.abs(i)<=r}}},Qag:function(i,s,o){var n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x=this._workspace(i,1e3),S=o&&e.isNumber(o.limit)?o.limit:15,O=o&&e.isNumber(o.epsrel)?o.epsrel:1e-7,w=o&&e.isNumber(o.epsabs)?o.epsabs:1e-7,T=o&&e.isFunction(o.q)?o.q:this.GaussKronrod15,N={},M=0,A=0,R=0,L=0,k=0,D=0,B=0,I=0,Y=0,j=0;if(S>x.limit&&t.warn("iteration limit exceeds available workspace"),w<=0&&(O<50*r.eps||O<5e-29)&&t.warn("tolerance cannot be acheived with given epsabs and epsrel"),h=T.apply(this,[i,s,N]),l=N.abserr,c=N.resabs,d=N.resasc,x.set_initial_result(h,l),u=Math.max(w,O*Math.abs(h)),l<=11102230246251565e-30*c&&l>u)return h,t.warn("cannot reach tolerance because of roundoff error on first attempt"),-1/0;if(l<=u&&l!==d||0===l)return h;if(1===S)return h,t.warn("a maximum of one iteration was insufficient"),-1/0;n=h,a=l,M=1;do{k=0,D=0,B=0,I=0,Y=0,j=0,b=(P=x.retrieve()).a,v=P.b,y=P.r,C=P.e,p=b,m=f=.5*(b+v),g=v,k=T.apply(this,[[p,f],s,N]),I=N.abserr,_=N.resasc,D=T.apply(this,[[m,g],s,N]),a+=(j=I+(Y=N.abserr))-C,n+=(B=k+D)-y,_!==I&&N.resasc!==Y&&(E=y-B,Math.abs(E)<=1e-5*Math.abs(B)&&j>=.99*C&&A++,M>=10&&j>C&&R++),a>(u=Math.max(w,O*Math.abs(n)))&&((A>=6||R>=20)&&(L=2),x.subinterval_too_small(p,m,g)&&(L=3)),x.update(p,f,k,I,m,g,D,Y),b=(P=x.retrieve()).a_i,v=P.b_i,y=P.r_i,C=P.e_i,M++}while(M<S&&!L&&a>u);return x.sum_results()},I:function(t,e){return this.Qag(t,e,{q:this.GaussKronrod15,limit:15,epsrel:1e-7,epsabs:1e-7})},Newton:function(t,i,s){var o,n=0,a=r.eps,h=t.apply(s,[i]);for(e.isArray(i)&&(i=i[0]);n<50&&Math.abs(h)>a;)o=this.D(t,s)(i),Math.abs(o)>a?i-=h/o:i+=.2*Math.random()-1,h=t.apply(s,[i]),n+=1;return i},root:function(t,e,i){return this.chandrupatla(t,e,i)},generalizedNewton:function(t,e,i,s){var o,n,a,h,l,c,d,u,p,f,m,g,b,v,y=0;for(this.generalizedNewton.t1memo?(o=this.generalizedNewton.t1memo,n=this.generalizedNewton.t2memo):(o=i,n=s),f=(u=t.X(o)-e.X(n))*u+(p=t.Y(o)-e.Y(n))*p,m=this.D(t.X,t),g=this.D(e.X,e),b=this.D(t.Y,t),v=this.D(e.Y,e);f>r.eps&&y<10;)a=m(o),h=-g(n),l=b(o),o-=((c=-v(n))*u-h*p)/(d=a*c-h*l),n-=(a*p-l*u)/d,f=(u=t.X(o)-e.X(n))*u+(p=t.Y(o)-e.Y(n))*p,y+=1;return this.generalizedNewton.t1memo=o,this.generalizedNewton.t2memo=n,Math.abs(o)<Math.abs(n)?[t.X(o),t.Y(o)]:[e.X(n),e.Y(n)]},Neville:function(t){var e=[],i=function(i){return function(s,o){var n,a,h,l=r.binomial,c=t.length,d=c-1,u=0,p=0;if(!o)for(h=1,n=0;n<c;n++)e[n]=l(d,n)*h,h*=-1;for(a=s,n=0;n<c;n++){if(0===a)return t[n][i]();h=e[n]/a,a-=1,u+=t[n][i]()*h,p+=h}return u/p}};return[i("X"),i("Y"),0,function(){return t.length-1}]},splineDef:function(t,e){var i,r,s,o=Math.min(t.length,e.length),n=[],a=[],h=[],l=[],c=[],d=[];if(2===o)return[0,0];for(r=0;r<o;r++)i={X:t[r],Y:e[r]},h.push(i);for(h.sort((function(t,e){return t.X-e.X})),r=0;r<o;r++)t[r]=h[r].X,e[r]=h[r].Y;for(r=0;r<o-1;r++)l.push(t[r+1]-t[r]);for(r=0;r<o-2;r++)c.push(6*(e[r+2]-e[r+1])/l[r+1]-6*(e[r+1]-e[r])/l[r]);for(n.push(2*(l[0]+l[1])),a.push(c[0]),r=0;r<o-3;r++)s=l[r+1]/n[r],n.push(2*(l[r+1]+l[r+2])-s*l[r+1]),a.push(c[r+1]-s*a[r]);for(d[o-3]=a[o-3]/n[o-3],r=o-4;r>=0;r--)d[r]=(a[r]-l[r+1]*d[r+1])/n[r];for(r=o-3;r>=0;r--)d[r+1]=d[r];return d[0]=0,d[o-1]=0,d},splineEval:function(t,i,r,s){var o,n,a,h,l,c,d,u=Math.min(i.length,r.length),p=1,f=!1,m=[];for(e.isArray(t)?(p=t.length,f=!0):t=[t],o=0;o<p;o++){if(t[o]<i[0]||i[o]>i[u-1])return NaN;for(n=1;n<u&&!(t[o]<=i[n]);n++);a=r[n-=1],h=(r[n+1]-r[n])/(i[n+1]-i[n])-(i[n+1]-i[n])/6*(s[n+1]+2*s[n]),l=s[n]/2,c=(s[n+1]-s[n])/(6*(i[n+1]-i[n])),d=t[o]-i[n],m.push(a+(h+(l+c*d)*d)*d)}return f?m:m[0]},generatePolynomialTerm:function(t,e,i,r){var s,o=[];for(s=e;s>=0;s--)o=o.concat(["(",t[s].toPrecision(r),")"]),s>1?o=o.concat(["*",i,"<sup>",s,"<","/sup> + "]):1===s&&(o=o.concat(["*",i," + "]));return o.join("")},lagrangePolynomial:function(t){var e=[],i=this,r=function(i,r){var s,o,n,a,h=t.length,l=0,c=0;if(!r)for(s=0;s<h;s++){for(e[s]=1,n=t[s].X(),o=0;o<h;o++)o!==s&&(e[s]*=n-t[o].X());e[s]=1/e[s]}for(s=0;s<h;s++){if(i===(n=t[s].X()))return t[s].Y();c+=a=e[s]/(i-n),l+=a*t[s].Y()}return l/c};return r.getTerm=function(e,r,s){return i.lagrangePolynomialTerm(t,e,r,s)()},r},lagrangePolynomialTerm:function(e,s,o,n){return function(){var a,h,l,c,d,u,p=e.length,f=[],m=[],g=[],b=!0;for(o=o||"x",void 0===n&&(n=" * "),a=p-1,c=0;c<p;c++)g[c]=0;for(l=0;l<p;l++){for(d=e[l].Y(),u=e[l].X(),f=[],c=0;c<p;c++)c!==l&&(d/=u-e[c].X(),f.push(e[c].X()));for(m=[1].concat(r.Vieta(f)),c=0;c<m.length;c++)g[c]+=(c%2==1?-1:1)*m[c]*d}for(h="",c=0;c<g.length;c++)d=g[c],Math.abs(d)<r.eps||(t.exists(s)&&(d=i._round10(d,-s)),b?(h+=d>0?d:"-"+-d,b=!1):h+=d>0?" + "+d:" - "+-d,a-c>1?h+=n+o+"^"+(a-c):a-c==1&&(h+=n+o));return h}},_initCubicPoly:function(t,e,i,r){return[t,i,-3*t+3*e-2*i-r,2*t-2*e+i+r]},CardinalSpline:function(t,i,s){var o,n,a,h,l=[],c=this;return h=e.isFunction(i)?i:function(){return i},void 0===s&&(s="uniform"),n=function(e){return function(i,n){var d,u,p,f,m,g,b,v,y,C;if(t.length<2)return NaN;if(!n)for(a=h(),p={X:function(){return 2*t[0].X()-t[1].X()},Y:function(){return 2*t[0].Y()-t[1].Y()},Dist:function(t){var e=this.X()-t.X(),i=this.Y()-t.Y();return Math.sqrt(e*e+i*i)}},f={X:function(){return 2*t[t.length-1].X()-t[t.length-2].X()},Y:function(){return 2*t[t.length-1].Y()-t[t.length-2].Y()},Dist:function(t){var e=this.X()-t.X(),i=this.Y()-t.Y();return Math.sqrt(e*e+i*i)}},C=(o=[p].concat(t,[f])).length,l[e]=[],d=0;d<C-3;d++)"centripetal"===s?(b=o[d].Dist(o[d+1]),v=o[d+2].Dist(o[d+1]),y=o[d+3].Dist(o[d+2]),b=Math.sqrt(b),v=Math.sqrt(v),y=Math.sqrt(y),v<r.eps&&(v=1),b<r.eps&&(b=v),y<r.eps&&(y=v),m=(o[d+1][e]()-o[d][e]())/b-(o[d+2][e]()-o[d][e]())/(v+b)+(o[d+2][e]()-o[d+1][e]())/v,g=(o[d+2][e]()-o[d+1][e]())/v-(o[d+3][e]()-o[d+1][e]())/(y+v)+(o[d+3][e]()-o[d+2][e]())/y,m*=v,g*=v,l[e][d]=c._initCubicPoly(o[d+1][e](),o[d+2][e](),a*m,a*g)):l[e][d]=c._initCubicPoly(o[d+1][e](),o[d+2][e](),a*(o[d+2][e]()-o[d][e]()),a*(o[d+3][e]()-o[d+1][e]()));return isNaN(i)?NaN:(C=t.length,i<=0?t[0][e]():i>=C?t[C-1][e]():(d=Math.floor(i))===i?t[d][e]():(i-=d,void 0===(u=l[e][d])?NaN:((u[3]*i+u[2])*i+u[1])*i+u[0]))}},[n("X"),n("Y"),0,function(){return t.length-1}]},CatmullRomSpline:function(t,e){return this.CardinalSpline(t,.5,e)},regressionPolynomial:function(t,i,s){var o,n,a,h,l,c,d="";if(e.isPoint(t)&&e.isFunction(t.Value))n=function(){return t.Value()};else if(e.isFunction(t))n=t;else{if(!e.isNumber(t))throw new Error("JSXGraph: Can't create regressionPolynomial from degree of type'"+typeof t+"'.");n=function(){return t}}if(3===arguments.length&&e.isArray(i)&&e.isArray(s))l=0;else if(2===arguments.length&&e.isArray(i)&&i.length>0&&e.isPoint(i[0]))l=1;else{if(!(2===arguments.length&&e.isArray(i)&&i.length>0&&i[0].usrCoords&&i[0].scrCoords))throw new Error("JSXGraph: Can't create regressionPolynomial. Wrong parameters.");l=2}return(c=function(t,c){var u,p,f,m,g,b,v,y,C,_=i.length;if(C=Math.floor(n()),!c){if(1===l)for(a=[],h=[],u=0;u<_;u++)a[u]=i[u].X(),h[u]=i[u].Y();if(2===l)for(a=[],h=[],u=0;u<_;u++)a[u]=i[u].usrCoords[1],h[u]=i[u].usrCoords[2];if(0===l)for(a=[],h=[],u=0;u<_;u++)e.isFunction(i[u])?a.push(i[u]()):a.push(i[u]),e.isFunction(s[u])?h.push(s[u]()):h.push(s[u]);for(f=[],p=0;p<_;p++)f.push([1]);for(u=1;u<=C;u++)for(p=0;p<_;p++)f[p][u]=f[p][u-1]*a[p];g=h,m=r.transpose(f),b=r.matMatMult(m,f),v=r.matVecMult(m,g),o=r.Numerics.Gauss(b,v),d=r.Numerics.generatePolynomialTerm(o,C,"x",3)}for(y=o[C],u=C-1;u>=0;u--)y=y*t+o[u];return y}).getTerm=function(){return d},c},bezier:function(t){var e,i,r=function(r){return function(s,o){var n=3*Math.floor(s),a=s%1,h=1-a;return o||(i=3*Math.floor((t.length-1)/3),e=Math.floor(i/3)),s<0?t[0][r]():s>=e?t[i][r]():isNaN(s)?NaN:h*h*(h*t[n][r]()+3*a*t[n+1][r]())+(3*h*t[n+2][r]()+a*t[n+3][r]())*a*a}};return[r("X"),r("Y"),0,function(){return Math.floor(t.length/3)}]},bspline:function(t,e){var i,r=function(r){return function(s,o){var n,a,h,l,c=t.length,d=c-1,u=e;if(d<=0)return NaN;if(d+2<=u&&(u=d+1),s<=0)return t[0][r]();if(s>=d-u+2)return t[d][r]();for(h=Math.floor(s)+u-1,i=function(t,e){var i,r=[];for(i=0;i<t+e+1;i++)r[i]=i<e?0:i<=t?i-e+1:t-e+2;return r}(d,u),l=function(t,e,i,r){var s,o,n,a,h,l=[];for(e[r]<=t&&t<e[r+1]?l[r]=1:l[r]=0,s=2;s<=i;s++)for(o=r-s+1;o<=r;o++)n=o<=r-s+1||o<0?0:l[o],a=o>=r?0:l[o+1],h=e[o+s-1]-e[o],l[o]=0===h?0:(t-e[o])/h*n,0!=(h=e[o+s]-e[o+1])&&(l[o]+=(e[o+s]-t)/h*a);return l}(s,i,u,h),n=0,a=h-u+1;a<=h;a++)a<c&&a>=0&&(n+=t[a][r]()*l[a]);return n}};return[r("X"),r("Y"),0,function(){return t.length-1}]},D:function(t,i){return e.exists(i)?function(e,r){var s=1e-5;return(t.apply(i,[e+s,r])-t.apply(i,[e-s,r]))/2e-5}:function(e,i){var r=1e-5;return(t(e+r,i)-t(e-r,i))/2e-5}},_riemannValue:function(t,e,i,r){var s,o,n,a;if(r<0&&("trapezoidal"!==i&&(t+=r),r*=-1,"lower"===i?i="upper":"upper"===i&&(i="lower")),a=.01*r,"right"===i)s=e(t+r);else if("middle"===i)s=e(t+.5*r);else if("left"===i||"trapezoidal"===i)s=e(t);else if("lower"===i){for(s=e(t),n=t+a;n<=t+r;n+=a)(o=e(n))<s&&(s=o);(o=e(t+r))<s&&(s=o)}else if("upper"===i){for(s=e(t),n=t+a;n<=t+r;n+=a)(o=e(n))>s&&(s=o);(o=e(t+r))>s&&(s=o)}else s="random"===i?e(t+r*Math.random()):"simpson"===i?(e(t)+4*e(t+.5*r)+e(t+r))/6:e(t);return s},riemann:function(t,i,r,s,o){var n,a,h,l,c,d,u,p=[],f=[],m=0,g=s,b=0;if(e.isArray(t)?(c=t[0],l=t[1]):l=t,(i=Math.floor(i))<=0)return[p,f,b];for(a=(o-s)/i,n=0;n<i;n++)h=this._riemannValue(g,l,r,a),p[m]=g,f[m]=h,m+=1,g+=a,"trapezoidal"===r&&(h=l(g)),p[m]=g,f[m]=h,m+=1;for(n=0;n<i;n++)h=c?this._riemannValue(g,c,r,-a):0,p[m]=g,f[m]=h,m+=1,g-=a,"trapezoidal"===r&&c&&(h=c(g)),p[m]=g,f[m]=h,"trapezoidal"!==r?(d=h,u=f[2*(i-1)-2*n]):(u=.5*(l(g+a)+l(g)),d=c?.5*(c(g+a)+c(g)):0),b+=(u-d)*a,p[m+=1]=g,f[m]=f[2*(i-1)-2*n],m+=1;return[p,f,b]},riemannsum:function(e,i,r,s,o){return t.deprecated("Numerics.riemannsum()","Numerics.riemann()"),this.riemann(e,i,r,s,o)[2]},rungeKutta:function(t,i,r,o,n){var a,h,l,c,d,u,p=[],f=[],m=(r[1]-r[0])/o,g=r[0],b=i.length,v=[],y=0;for(e.isString(t)&&(t=s[t]||s.euler),u=t.s,a=0;a<b;a++)p[a]=i[a];for(h=0;h<o;h++){for(v[y]=[],a=0;a<b;a++)v[y][a]=p[a];for(y+=1,c=[],l=0;l<u;l++){for(a=0;a<b;a++)f[a]=0;for(d=0;d<l;d++)for(a=0;a<b;a++)f[a]+=t.A[l][d]*m*c[d][a];for(a=0;a<b;a++)f[a]+=p[a];c.push(n(g+t.c[l]*m,f))}for(a=0;a<b;a++)f[a]=0;for(d=0;d<u;d++)for(a=0;a<b;a++)f[a]+=t.b[d]*c[d][a];for(a=0;a<b;a++)p[a]=p[a]+m*f[a];g+=m}return v},maxIterationsRoot:80,maxIterationsMinimize:500,findBracket:function(t,i,r){var s,o,n,a,h,l,c,d,u,p;if(e.isArray(i))return i;for(s=i,n=t.call(r,s),p=(a=[s-.1*(o=0===s?1:s),s+.1*o,s-1,s+1,s-.5*o,s+.5*o,s-.6*o,s+.6*o,s-1*o,s+1*o,s-2*o,s+2*o,s-5*o,s+5*o,s-10*o,s+10*o,s-50*o,s+50*o,s-100*o,s+100*o]).length,u=0;u<p&&(h=a[u],!(n*(l=t.call(r,h))<=0));u++);return h<s&&(c=s,s=h,h=c,d=n,n=l,l=d),[s,n,h,l]},fzero:function(t,i,s){var o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C=r.eps,_=this.maxIterationsRoot,P=0;if(e.isArray(i)){if(i.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");o=i[0],h=t.call(s,o),n=i[1],l=t.call(s,n)}else o=(d=this.findBracket(t,i,s))[0],h=d[1],n=d[2],l=d[3];if(Math.abs(h)<=C)return o;if(Math.abs(l)<=C)return n;if(h*l>0)return e.isArray(i)?this.fminbr(t,[o,n],s):this.Newton(t,o,s);for(a=o,c=h;P<_;){if(u=n-o,Math.abs(c)<Math.abs(l)&&(o=n,n=a,a=o,h=l,l=c,c=h),g=2*C*Math.abs(n)+.5*C,y=.5*(a-n),Math.abs(y)<=g||Math.abs(l)<=C)return n;Math.abs(u)>=g&&Math.abs(h)>Math.abs(l)&&(f=a-n,o===a?(b=f*(p=l/h),v=1-p):(b=(m=l/h)*(f*(v=h/c)*(v-(p=l/c))-(n-o)*(p-1)),v=(v-1)*(p-1)*(m-1)),b>0?v=-v:b=-b,b<.75*f*v-.5*Math.abs(g*v)&&b<Math.abs(u*v*.5)&&(y=b/v)),Math.abs(y)<g&&(y=y>0?g:-g),o=n,h=l,n+=y,((l=t.call(s,n))>0&&c>0||l<0&&c<0)&&(a=o,c=h),P++}return n},chandrupatla:function(t,i,s){var o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S=0,O=this.maxIterationsRoot,w=1+.001*Math.random(),T=.5*w,N=r.eps;if(e.isArray(i)){if(i.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");o=i[0],n=t.call(s,o),a=i[1],h=t.call(s,a)}else o=(l=this.findBracket(t,i,s))[0],n=l[1],a=l[2],h=l[3];if(n*h>0)return e.isArray(i)?this.fminbr(t,[o,a],s):this.Newton(t,o,s);c=o,d=a,f=n,m=h;do{if(p=c+T*(d-c),b=t.call(s,p),Math.sign(b)===Math.sign(f)?(u=c,c=p,g=f,f=b):(u=d,d=c,g=m,m=f),v=c=p,y=f=b,Math.abs(m)<Math.abs(f)&&(v=d,y=m),(C=(2*N*Math.abs(v)+5e-6)/Math.abs(d-c))>.5||0===y)break;_=(c-d)/(u-d),P=(f-m)/(g-m),E=1-Math.sqrt(1-_),x=Math.sqrt(_),(T=E<P&&P<x?f/(m-f)*(g/(m-g))+f/(g-f)*(m/(g-m))*((u-c)/(d-c)):.5*w)<C&&(T=C),T>1-C&&(T=1-C),S++}while(S<=O);return v},fminbr:function(t,i,s){var o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_=.5*(3-Math.sqrt(5)),P=r.eps,E=r.eps,x=this.maxIterationsMinimize,S=0;if(!e.isArray(i)||i.length<2)throw new Error("JXG.Math.Numerics.fminbr: length of array x0 has to be at least two.");for(a=h=(o=i[0])+_*((n=i[1])-o),l=h,c=d=t.call(s,h),u=d;S<x;){if(p=n-o,f=.5*(o+n),m=E*Math.abs(a)+P/3,Math.abs(a-f)+.5*p<=2*m)return a;g=_*(a<f?n-a:o-a),Math.abs(a-l)>=m&&(b=(a-h)*(v=(a-h)*(c-u))-(a-l)*(y=(a-l)*(c-d)),(v=2*(v-y))>0?b=-b:v=-v,Math.abs(b)<Math.abs(g*v)&&b>v*(o-a+2*m)&&b<v*(n-a-2*m)&&(g=b/v)),Math.abs(g)<m&&(g=g>0?m:-m),y=a+g,(C=t.call(s,y))<=c?(y<a?n=a:o=a,h=l,l=a,a=y,d=u,u=c,c=C):(y<a?o=y:n=y,C<=u||l===a?(h=l,l=y,d=u,u=C):(C<=d||h===a||h===l)&&(h=y,d=C)),S+=1}return a},RamerDouglasPeucker:function(t,e){var i,s,o,n=[],a=[],h=function(t,e,i,s,o){var n=function(t,e,i){var s,o,n,a,h,l,c,d,u,p,f,m=1e4,g=0,b=e;if(i-e<2)return[-1,0];if(n=t[e].scrCoords,a=t[i].scrCoords,isNaN(n[1])||isNaN(n[2]))return[NaN,e];if(isNaN(a[1])||isNaN(a[2]))return[NaN,i];for(o=e+1;o<i;o++){if(h=t[o].scrCoords,isNaN(h[1])||isNaN(h[2]))return[NaN,o];l=(l=(l=h[1]-n[1])==1/0?m:l)===-1/0?-m:l,c=(c=(c=h[2]-n[2])==1/0?m:c)===-1/0?-m:c,(p=(d=(d=(d=a[1]-n[1])==1/0?m:d)===-1/0?-m:d)*d+(u=(u=(u=a[2]-n[2])==1/0?m:u)===-1/0?-m:u)*u)>=r.eps?((f=(l*d+c*u)/p)<0?f=0:f>1&&(f=1),s=(l-=f*d)*l+(c-=f*u)*c):(f=0,s=l*l+c*c),s>g&&(g=s,b=o)}return[Math.sqrt(g),b]}(t,e,i),a=n[1];if(isNaN(n[0])){h(t,e,a-1,s,o),o.push(t[a]);do{++a}while(a<=i&&isNaN(t[a].scrCoords[1]+t[a].scrCoords[2]));a<=i&&o.push(t[a]),h(t,a+1,i,s,o)}else n[0]>s?(h(t,e,a,s,o),h(t,a,i,s,o)):o.push(t[i])};for(o=t.length,i=0;;){for(;i<o&&isNaN(t[i].scrCoords[1]+t[i].scrCoords[2]);)i+=1;for(s=i+1;s<o&&!isNaN(t[s].scrCoords[1]+t[s].scrCoords[2]);)s+=1;if(s--,i<o&&s>i&&((a=[])[0]=t[i],h(t,i,s,e,a),n=n.concat(a)),i>=o)break;s<o-1&&n.push(t[s+1]),i=s+1}return n},RamerDouglasPeuker:function(e,i){return t.deprecated("Numerics.RamerDouglasPeuker()","Numerics.RamerDouglasPeucker()"),this.RamerDouglasPeucker(e,i)},Visvalingam:function(e,i){var r,s,o,n,a,h,l,c,d,u=[],p=[],f=[];if((s=e.length)<=2)return e;for(u[0]={used:!0,lft:null,node:null},a=0,r=1;r<s-1;r++)o=Math.abs(t.Math.Numerics.det([e[r-1].usrCoords,e[r].usrCoords,e[r+1].usrCoords])),isNaN(o)||(d={v:o,idx:r},p.push(d),u[r]={used:!0,lft:a,node:d},u[a].rt=r,a=r);for(u[s-1]={used:!0,rt:null,lft:a,node:null},u[a].rt=s-1,n=-1/0;p.length>i;)p.sort((function(t,e){return e.v-t.v})),u[r=p.pop().idx].used=!1,n=u[r].node.v,a=u[r].lft,h=u[r].rt,u[a].rt=h,u[h].lft=a,null!==(l=u[a].lft)&&(o=Math.abs(t.Math.Numerics.det([e[l].usrCoords,e[a].usrCoords,e[h].usrCoords])),u[a].node.v=o>=n?o:n),null!==(c=u[h].rt)&&(o=Math.abs(t.Math.Numerics.det([e[a].usrCoords,e[h].usrCoords,e[c].usrCoords])),u[h].node.v=o>=n?o:n);f=[e[r=0]];do{r=u[r].rt,f.push(e[r])}while(null!==u[r].rt);return f}},r.Numerics})),define("math/nlp",["jxg"],(function(t){"use strict";return t.Math.Nlp={arr:function(t){var e,i=new Array(t);for(e=0;e<t;e++)i[e]=0;return i},arr2:function(t,e){for(var i=0,r=new Array(t);i<t;)r[i]=this.arr(e),i++;return r},arraycopy:function(t,e,i,r,s){for(var o=0;o<s;)i[o+r]=t[o+e],o++},Normal:0,MaxIterationsReached:1,DivergingRoundingErrors:2,FindMinimum:function(t,e,i,r,s,o,n,a){var h,l,c=i+2,d=this.arr(e+1),u=this;return d[0]=0,this.arraycopy(r,0,d,1,e),l=function(e,i,r,s){var o,n,a=u.arr(e);return u.arraycopy(r,1,a,0,e),o=u.arr(i),n=t(e,i,a,o),u.arraycopy(o,0,s,1,i),n},h=this.cobylb(l,e,i,c,d,s,o,n,a),this.arraycopy(d,1,r,0,e),h},cobylb:function(t,e,i,r,s,o,n,a,h){var l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N,M,A,R,L,k,D,B,I,Y=-1,j=0,X=0,F=e+1,U=i+1,J=o,G=0,z=!1,H=!1,V=0,$=0,q=0,W=this.arr(1+r),Z=this.arr2(1+e,1+F),Q=this.arr2(1+e,1+e),K=this.arr2(1+r,1+F),tt=this.arr2(1+e,1+U),et=this.arr(1+e),it=this.arr(1+e),rt=this.arr(1+e),st=this.arr(1+e),ot=this.arr(1+e);for(a>=2&&console.log("The initial value of RHO is "+J+" and PARMU is set to zero."),g=0,f=1/J,c=1;c<=e;++c)Z[c][F]=s[c],Z[c][c]=J,Q[c][c]=f;b=F,v=!1;t:for(;;){if(g>=h&&g>0){Y=this.MaxIterationsReached;break t}for(++g,j=t(e,i,s,W),X=0,u=1;u<=i;++u)X=Math.max(X,-W[u]);if(g!==a-1&&3!==a||this.PrintIterationResult(g,j,X,s,e,a),W[U]=j,W[r]=X,y=!0,!v){for(y=!1,c=1;c<=r;++c)K[c][b]=W[c];if(g<=F){if(b<=e)if(K[U][F]<=j)s[b]=Z[b][F];else{for(Z[b][F]=s[b],u=1;u<=r;++u)K[u][b]=K[u][F],K[u][F]=W[u];for(u=1;u<=b;++u){for(Z[b][u]=-J,f=0,c=u;c<=b;++c)f-=Q[c][u];Q[b][u]=f}}if(g<=e){s[b=g]+=J;continue t}}v=!0}e:for(;;){i:do{if(!y){for(C=K[U][F]+G*K[r][F],_=F,d=1;d<=e;++d)(f=K[U][d]+G*K[r][d])<C?(_=d,C=f):f===C&&0===G&&K[r][d]<K[r][_]&&(_=d);if(_<=e){for(c=1;c<=r;++c)f=K[c][F],K[c][F]=K[c][_],K[c][_]=f;for(c=1;c<=e;++c){for(f=Z[c][_],Z[c][_]=0,Z[c][F]+=f,m=0,u=1;u<=e;++u)Z[c][u]-=f,m-=Q[u][c];Q[_][c]=m}}for(P=0,c=1;c<=e;++c)for(d=1;d<=e;++d)f=this.DOT_PRODUCT(this.PART(this.ROW(Q,c),1,e),this.PART(this.COL(Z,d),1,e))-(c===d?1:0),P=Math.max(P,Math.abs(f));if(P>.1){Y=this.DivergingRoundingErrors;break t}for(u=1;u<=U;++u){for(W[u]=-K[u][F],d=1;d<=e;++d)ot[d]=K[u][d]+W[u];for(c=1;c<=e;++c)tt[c][u]=(u===U?-1:1)*this.DOT_PRODUCT(this.PART(ot,1,e),this.PART(this.COL(Q,c),1,e))}for(z=!0,V=.25*J,E=2.1*J,d=1;d<=e;++d){for(x=0,u=1;u<=e;++u)x+=Q[d][u]*Q[d][u];for(S=0,u=1;u<=e;++u)S+=Z[u][d]*Z[u][d];et[d]=1/Math.sqrt(x),it[d]=Math.sqrt(S),(et[d]<V||it[d]>E)&&(z=!1)}if(!v&&!z){for(b=0,f=E,d=1;d<=e;++d)it[d]>f&&(b=d,f=it[d]);if(0===b)for(d=1;d<=e;++d)et[d]<f&&(b=d,f=et[d]);for(f=.5*J*et[b],u=1;u<=e;++u)st[u]=f*Q[b][u];for(O=0,w=0,l=0,u=1;u<=U;++u)l=this.DOT_PRODUCT(this.PART(this.COL(tt,u),1,e),this.PART(st,1,e)),u<U&&(f=K[u][F],O=Math.max(O,-l-f),w=Math.max(w,l-f));for(T=G*(O-w)>2*l?-1:1,f=0,c=1;c<=e;++c)st[c]=T*st[c],Z[c][b]=st[c],f+=Q[b][c]*st[c];for(u=1;u<=e;++u)Q[b][u]/=f;for(d=1;d<=e;++d){if(d!==b)for(f=this.DOT_PRODUCT(this.PART(this.ROW(Q,d),1,e),this.PART(st,1,e)),u=1;u<=e;++u)Q[d][u]-=f*Q[b][u];s[d]=Z[d][F]+st[d]}continue t}if(!(H=this.trstlp(e,i,tt,W,J,st))){for(f=0,u=1;u<=e;++u)f+=st[u]*st[u];if(f<.25*J*J){v=!0;break i}}for(l=0,N=0,W[U]=0,u=1;u<=U;++u)l=W[u]-this.DOT_PRODUCT(this.PART(this.COL(tt,u),1,e),this.PART(st,1,e)),u<U&&(N=Math.max(N,l));if(G<1.5*(M=($=K[r][F]-N)>0?l/$:0))for(G=2*M,a>=2&&console.log("Increase in PARMU to "+G),A=K[U][F]+G*K[r][F],d=1;d<=e;++d)if((f=K[U][d]+G*K[r][d])<A||f===A&&0===G&&K[r][d]<K[r][F])continue e;for(q=G*$-l,u=1;u<=e;++u)s[u]=Z[u][F]+st[u];v=!0;continue t}for(y=!1,R=K[U][F]+G*K[r][F]-(j+G*X),0===G&&j===K[U][F]&&(q=$,R=K[r][F]-X),L=R<=0?1:0,b=0,d=1;d<=e;++d)(f=Math.abs(this.DOT_PRODUCT(this.PART(this.ROW(Q,d),1,e),this.PART(st,1,e))))>L&&(b=d,L=f),rt[d]=f*et[d];for(k=1.1*J,p=0,d=1;d<=e;++d)if(rt[d]>=V||rt[d]>=et[d]){if(f=it[d],R>0){for(f=0,u=1;u<=e;++u)f+=Math.pow(st[u]-Z[u][d],2);f=Math.sqrt(f)}f>k&&(p=d,k=f)}if(p>0&&(b=p),0!==b){for(f=0,c=1;c<=e;++c)Z[c][b]=st[c],f+=Q[b][c]*st[c];for(u=1;u<=e;++u)Q[b][u]/=f;for(d=1;d<=e;++d)if(d!==b)for(f=this.DOT_PRODUCT(this.PART(this.ROW(Q,d),1,e),this.PART(st,1,e)),u=1;u<=e;++u)Q[d][u]-=f*Q[b][u];for(u=1;u<=r;++u)K[u][b]=W[u];if(R>0&&R>=.1*q)continue e}}while(0);if(z){if(J<=n){Y=this.Normal;break t}if(D=0,B=0,(J*=.5)<=1.5*n&&(J=n),G>0){for(I=0,u=1;u<=U;++u){for(B=D=K[u][F],c=1;c<=e;++c)D=Math.min(D,K[u][c]),B=Math.max(B,K[u][c]);u<=i&&D<.5*B&&(f=Math.max(B,0)-D,I=I<=0?f:Math.min(I,f))}0===I?G=0:B-D<G*I&&(G=(B-D)/I)}a>=2&&console.log("Reduction in RHO to "+J+"  and PARMU = "+G),2===a&&this.PrintIterationResult(g,K[U][F],K[r][F],this.COL(Z,F),e,a)}else v=!1}}switch(Y){case this.Normal:if(a>=1&&console.log("%nNormal return from subroutine COBYLA%n"),H)return a>=1&&this.PrintIterationResult(g,j,X,s,e,a),Y;break;case this.MaxIterationsReached:a>=1&&console.log("%nReturn from subroutine COBYLA because the MAXFUN limit has been reached.%n");break;case this.DivergingRoundingErrors:a>=1&&console.log("%nReturn from subroutine COBYLA because rounding errors are becoming damaging.%n")}for(u=1;u<=e;++u)s[u]=Z[u][F];return j=K[U][F],X=K[r][F],a>=1&&this.PrintIterationResult(g,j,X,s,e,a),Y},trstlp:function(t,e,i,r,s,o){var n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N,M,A,R,L,k,D,B,I,Y,j=0,X=0,F=0,U=this.arr2(1+t,1+t),J=this.arr(2+e),G=this.arr(2+e),z=this.arr(1+t),H=this.arr(1+t),V=this.arr(2+e),$=this.arr(2+e),q=e,W=0;for(h=1;h<=t;++h)U[h][h]=1,o[h]=0;if(n=0,a=0,e>=1){for(l=1;l<=e;++l)r[l]>a&&(a=r[l],n=l);for(l=1;l<=e;++l)$[l]=l,G[l]=a-r[l]}c=!0;do{t:for(;;){(!c||c&&0===a)&&(n=q=e+1,$[q]=q,G[q]=0),c=!1,d=0,u=0,p=0,f=0;e:do{if(m=q===e?a:-this.DOT_PRODUCT(this.PART(o,1,t),this.PART(this.COL(i,q),1,t)),0===u||m<d?(d=m,X=W,u=3):W>X?(X=W,u=3):--u,0===u)break t;if(g=0,n<=W){if(n<W){b=$[n],v=G[n],l=n;do{for(_=$[C=l+1],P=this.DOT_PRODUCT(this.PART(this.COL(U,l),1,t),this.PART(this.COL(i,_),1,t)),j=Math.sqrt(P*P+J[C]*J[C]),E=J[C]/j,x=P/j,J[C]=E*J[l],J[l]=j,h=1;h<=t;++h)j=E*U[h][C]+x*U[h][l],U[h][C]=E*U[h][l]-x*U[h][C],U[h][l]=j;$[l]=_,G[l]=G[C],l=C}while(l<W);$[l]=b,G[l]=v}if(--W,q>e)for(j=1/J[W],l=1;l<=t;++l)z[l]=j*U[l][W];else for(j=this.DOT_PRODUCT(this.PART(z,1,t),this.PART(this.COL(U,W+1),1,t)),l=1;l<=t;++l)z[l]-=j*U[l][W+1]}else{for(_=$[n],l=1;l<=t;++l)H[l]=i[l][_];for(S=0,l=t;l>W;){for(P=0,O=0,h=1;h<=t;++h)P+=j=U[h][l]*H[h],O+=Math.abs(j);if(w=O+.1*Math.abs(P),T=O+.2*Math.abs(P),(O>=w||w>=T)&&(P=0),0===S)S=P;else for(C=l+1,E=P/(j=Math.sqrt(P*P+S*S)),x=S/j,S=j,h=1;h<=t;++h)j=E*U[h][l]+x*U[h][C],U[h][C]=E*U[h][C]-x*U[h][l],U[h][l]=j;--l}if(0===S){g=-1,l=W;do{for(N=0,M=0,h=1;h<=t;++h)N+=j=U[h][l]*H[h],M+=Math.abs(j);if(w=M+.1*Math.abs(N),T=M+.2*Math.abs(N),M<w&&w<T){if((j=N/J[l])>0&&$[l]<=e&&(Y=G[l]/j,(g<0||Y<g)&&(g=Y)),l>=2)for(A=$[l],h=1;h<=t;++h)H[h]-=j*i[h][A];V[l]=j}else V[l]=0}while(--l>0);if(g<0)break t;for(l=1;l<=W;++l)G[l]=Math.max(0,G[l]-g*V[l]);if(n<W){b=$[n],v=G[n],l=n;do{for(A=$[C=l+1],P=this.DOT_PRODUCT(this.PART(this.COL(U,l),1,t),this.PART(this.COL(i,A),1,t)),j=Math.sqrt(P*P+J[C]*J[C]),E=J[C]/j,x=P/j,J[C]=E*J[l],J[l]=j,h=1;h<=t;++h)j=E*U[h][C]+x*U[h][l],U[h][C]=E*U[h][l]-x*U[h][C],U[h][l]=j;$[l]=A,G[l]=G[C],l=C}while(l<W);$[l]=b,G[l]=v}if(0===(j=this.DOT_PRODUCT(this.PART(this.COL(U,W),1,t),this.PART(this.COL(i,_),1,t))))break t;J[W]=j,G[n]=0,G[W]=g}else J[++W]=S,G[n]=G[W],G[W]=0;if($[n]=$[W],$[W]=_,q>e&&_!==q){for(l=W-1,P=this.DOT_PRODUCT(this.PART(this.COL(U,l),1,t),this.PART(this.COL(i,_),1,t)),j=Math.sqrt(P*P+J[W]*J[W]),E=J[W]/j,x=P/j,J[W]=E*J[l],J[l]=j,h=1;h<=t;++h)j=E*U[h][W]+x*U[h][l],U[h][W]=E*U[h][l]-x*U[h][W],U[h][l]=j;$[W]=$[l],$[l]=_,j=G[l],G[l]=G[W],G[W]=j}if(q>e)for(j=1/J[W],l=1;l<=t;++l)z[l]=j*U[l][W];else for(_=$[W],j=(this.DOT_PRODUCT(this.PART(z,1,t),this.PART(this.COL(i,_),1,t))-1)/J[W],l=1;l<=t;++l)z[l]-=j*U[l][W]}for(R=s*s,k=0,L=0,h=1;h<=t;++h)Math.abs(o[h])>=1e-6*s&&(R-=o[h]*o[h]),k+=o[h]*z[h],L+=z[h]*z[h];if(R<=0)break t;if(j=Math.sqrt(L*R),Math.abs(k)>=1e-6*j&&(j=Math.sqrt(L*R+k*k)),p=f=R/(j+k),q===e){if(T=p+.2*a,p>=(w=p+.1*a)||w>=T)break e;p=Math.min(p,a)}for(l=1;l<=t;++l)H[l]=o[l]+p*z[l];if(q===e)for(F=a,a=0,l=1;l<=W;++l)j=r[_=$[l]]-this.DOT_PRODUCT(this.PART(this.COL(i,_),1,t),this.PART(H,1,t)),a=Math.max(a,j);l=W;do{for(D=0,B=0,h=1;h<=t;++h)D+=j=U[h][l]*H[h],B+=Math.abs(j);if(w=B+.1*Math.abs(D),T=B+.2*Math.abs(D),(B>=w||w>=T)&&(D=0),V[l]=D/J[l],l>=2)for(_=$[l],h=1;h<=t;++h)H[h]-=V[l]*i[h][_]}while(l-- >=2);for(q>e&&(V[W]=Math.max(0,V[W])),l=1;l<=t;++l)H[l]=o[l]+p*z[l];if(q>W)for(l=W+1;l<=q;++l){for(y=a-r[_=$[l]],I=a+Math.abs(r[_]),h=1;h<=t;++h)y+=j=i[h][_]*H[h],I+=Math.abs(j);w=I+.1*Math.abs(y),T=I+.2*Math.abs(y),(I>=w||w>=T)&&(y=0),V[l]=y}for(g=1,n=0,l=1;l<=q;++l)V[l]<0&&(j=G[l]/(G[l]-V[l]))<g&&(g=j,n=l);for(j=1-g,l=1;l<=t;++l)o[l]=j*o[l]+g*H[l];for(l=1;l<=q;++l)G[l]=Math.max(0,j*G[l]+g*V[l]);q===e&&(a=F+g*(a-F))}while(n>0);if(p===f)return!0}}while(q===e);return!1},PrintIterationResult:function(t,e,i,r,s,o){o>1&&console.log("NFVALS = "+t+"  F = "+e+"  MAXCV = "+i),o>1&&console.log("X = "+this.PART(r,1,s))},ROW:function(t,e){return t[e].slice()},COL:function(t,e){var i,r=t.length,s=this.arr(r);for(i=0;i<r;++i)s[i]=t[i][e];return s},PART:function(t,e,i){return t.slice(e,i+1)},FORMAT:function(t){return t.join(",")},DOT_PRODUCT:function(t,e){var i,r=0,s=t.length;for(i=0;i<s;++i)r+=t[i]*e[i];return r}},t.Math.Nlp})),define("math/statistics",["jxg","math/math","utils/type"],(function(t,e,i){"use strict";return e.Statistics={sum:function(t){var e,i=t.length,r=0;for(e=0;e<i;e++)r+=t[e];return r},prod:function(t){var e,i=t.length,r=1;for(e=0;e<i;e++)r*=t[e];return r},mean:function(t){return t.length>0?this.sum(t)/t.length:0},median:function(t){var e,i;return t.length>0?(ArrayBuffer.isView(t)?(e=new Float64Array(t)).sort():(e=t.slice(0)).sort((function(t,e){return t-e})),1&(i=e.length)?e[parseInt(.5*i,10)]:.5*(e[.5*i-1]+e[.5*i])):0},percentile:function(t,e){var r,s,o,n,a,h=[];if(t.length>0){for(ArrayBuffer.isView(t)?(r=new Float64Array(t)).sort():(r=t.slice(0)).sort((function(t,e){return t-e})),s=r.length,n=i.isArray(e)?e:[e],o=0;o<n.length;o++)a=s*n[o]*.01,parseInt(a,10)===a?h.push(.5*(r[a-1]+r[a])):h.push(r[parseInt(a,10)]);return i.isArray(e)?h:h[0]}return 0},variance:function(t){var e,i,r,s=t.length;if(s>1){for(e=this.mean(t),i=0,r=0;r<s;r++)i+=(t[r]-e)*(t[r]-e);return i/(t.length-1)}return 0},sd:function(t){return Math.sqrt(this.variance(t))},weightedMean:function(t,e){if(t.length!==e.length)throw new Error("JSXGraph error (Math.Statistics.weightedMean): Array dimension mismatch.");return t.length>0?this.mean(this.multiply(t,e)):0},max:function(t){return Math.max.apply(this,t)},min:function(t){return Math.min.apply(this,t)},range:function(t){return[this.min(t),this.max(t)]},abs:function(t){var e,r,s;if(i.isArray(t))if(t.map)s=t.map(Math.abs);else for(r=t.length,s=[],e=0;e<r;e++)s[e]=Math.abs(t[e]);else s=ArrayBuffer.isView(t)?t.map(Math.abs):Math.abs(t);return s},add:function(t,e){var r,s,o=[];if(t=i.evalSlider(t),e=i.evalSlider(e),i.isArray(t)&&i.isNumber(e))for(s=t.length,r=0;r<s;r++)o[r]=t[r]+e;else if(i.isNumber(t)&&i.isArray(e))for(s=e.length,r=0;r<s;r++)o[r]=t+e[r];else if(i.isArray(t)&&i.isArray(e))for(s=Math.min(t.length,e.length),r=0;r<s;r++)o[r]=t[r]+e[r];else o=t+e;return o},div:function(t,e){var r,s,o=[];if(t=i.evalSlider(t),e=i.evalSlider(e),i.isArray(t)&&i.isNumber(e))for(s=t.length,r=0;r<s;r++)o[r]=t[r]/e;else if(i.isNumber(t)&&i.isArray(e))for(s=e.length,r=0;r<s;r++)o[r]=t/e[r];else if(i.isArray(t)&&i.isArray(e))for(s=Math.min(t.length,e.length),r=0;r<s;r++)o[r]=t[r]/e[r];else o=t/e;return o},divide:function(){t.deprecated("Statistics.divide()","Statistics.div()"),e.Statistics.div.apply(e.Statistics,arguments)},mod:function(t,r,s){var o,n,a=[],h=function(t,e){return t%e};if((s=i.def(s,!1))&&(h=e.mod),t=i.evalSlider(t),r=i.evalSlider(r),i.isArray(t)&&i.isNumber(r))for(n=t.length,o=0;o<n;o++)a[o]=h(t[o],r);else if(i.isNumber(t)&&i.isArray(r))for(n=r.length,o=0;o<n;o++)a[o]=h(t,r[o]);else if(i.isArray(t)&&i.isArray(r))for(n=Math.min(t.length,r.length),o=0;o<n;o++)a[o]=h(t[o],r[o]);else a=h(t,r);return a},multiply:function(t,e){var r,s,o=[];if(t=i.evalSlider(t),e=i.evalSlider(e),i.isArray(t)&&i.isNumber(e))for(s=t.length,r=0;r<s;r++)o[r]=t[r]*e;else if(i.isNumber(t)&&i.isArray(e))for(s=e.length,r=0;r<s;r++)o[r]=t*e[r];else if(i.isArray(t)&&i.isArray(e))for(s=Math.min(t.length,e.length),r=0;r<s;r++)o[r]=t[r]*e[r];else o=t*e;return o},subtract:function(t,e){var r,s,o=[];if(t=i.evalSlider(t),e=i.evalSlider(e),i.isArray(t)&&i.isNumber(e))for(s=t.length,r=0;r<s;r++)o[r]=t[r]-e;else if(i.isNumber(t)&&i.isArray(e))for(s=e.length,r=0;r<s;r++)o[r]=t-e[r];else if(i.isArray(t)&&i.isArray(e))for(s=Math.min(t.length,e.length),r=0;r<s;r++)o[r]=t[r]-e[r];else o=t-e;return o},TheilSenRegression:function(t){var i,r,s=[],o=[],n=[];for(i=0;i<t.length;i++){for(o.length=0,r=0;r<t.length;r++)Math.abs(t[r].usrCoords[1]-t[i].usrCoords[1])>e.eps&&(o[r]=(t[r].usrCoords[2]-t[i].usrCoords[2])/(t[r].usrCoords[1]-t[i].usrCoords[1]));s[i]=this.median(o),n.push(t[i].usrCoords[2]-s[i]*t[i].usrCoords[1])}return[this.median(n),this.median(s),-1]},generateGaussian:function(t,e){var i,r,s;if(this.hasSpare)return this.hasSpare=!1,this.spare*e+t;do{s=(i=2*Math.random()-1)*i+(r=2*Math.random()-1)*r}while(s>=1||0===s);return s=Math.sqrt(-2*Math.log(s)/s),this.spare=r*s,this.hasSpare=!0,t+e*i*s}},e.Statistics})),define("math/geometry",["jxg","base/constants","base/coords","math/math","math/numerics","utils/type","utils/expect"],(function(t,e,i,r,s,o,n){"use strict";return r.Geometry={},t.extend(r.Geometry,{angle:function(e,i,r){var s,o,n,a,h=[],l=[],c=[];return t.deprecated("Geometry.angle()","Geometry.rad()"),e.coords?(h[0]=e.coords.usrCoords[1],h[1]=e.coords.usrCoords[2]):(h[0]=e[0],h[1]=e[1]),i.coords?(l[0]=i.coords.usrCoords[1],l[1]=i.coords.usrCoords[2]):(l[0]=i[0],l[1]=i[1]),r.coords?(c[0]=r.coords.usrCoords[1],c[1]=r.coords.usrCoords[2]):(c[0]=r[0],c[1]=r[1]),s=h[0]-l[0],o=h[1]-l[1],n=c[0]-l[0],a=c[1]-l[1],Math.atan2(s*a-o*n,s*n+o*a)},trueAngle:function(t,e,i){return 57.29577951308232*this.rad(t,e,i)},rad:function(t,e,i){var r,s,o,n,a,h,l;return t.coords?(r=t.coords.usrCoords[1],s=t.coords.usrCoords[2]):(r=t[0],s=t[1]),e.coords?(o=e.coords.usrCoords[1],n=e.coords.usrCoords[2]):(o=e[0],n=e[1]),i.coords?(a=i.coords.usrCoords[1],h=i.coords.usrCoords[2]):(a=i[0],h=i[1]),(l=Math.atan2(h-n,a-o)-Math.atan2(s-n,r-o))<0&&(l+=6.283185307179586),l},angleBisector:function(t,r,s,n){var a,h,l,c,d,u=t.coords.usrCoords,p=r.coords.usrCoords,f=s.coords.usrCoords;return o.exists(n)||(n=t.board),0===p[0]?new i(e.COORDS_BY_USER,[1,.5*(u[1]+f[1]),.5*(u[2]+f[2])],n):(c=u[1]-p[1],d=u[2]-p[2],a=Math.atan2(d,c),c=f[1]-p[1],d=f[2]-p[2],l=.5*(a+(h=Math.atan2(d,c))),a>h&&(l+=Math.PI),c=Math.cos(l)+p[1],d=Math.sin(l)+p[2],new i(e.COORDS_BY_USER,[1,c,d],n))},reflection:function(t,r,s){var n,a,h,l,c,d,u=r.coords.usrCoords,p=t.point1.coords.usrCoords,f=t.point2.coords.usrCoords;return o.exists(s)||(s=r.board),l=f[1]-p[1],c=f[2]-p[2],n=u[1]-p[1],d=(l*(u[2]-p[2])-c*n)/(l*l+c*c),a=u[1]+2*d*c,h=u[2]-2*d*l,new i(e.COORDS_BY_USER,[a,h],s)},rotation:function(t,r,s,n){var a,h,l,c,d,u,p=r.coords.usrCoords,f=t.coords.usrCoords;return o.exists(n)||(n=r.board),a=p[1]-f[1],h=p[2]-f[2],d=a*(l=Math.cos(s))-h*(c=Math.sin(s))+f[1],u=a*c+h*l+f[2],new i(e.COORDS_BY_USER,[d,u],n)},perpendicular:function(t,s,n){var a,h,l,c,d,u=t.point1.coords.usrCoords,p=t.point2.coords.usrCoords,f=s.coords.usrCoords;return o.exists(n)||(n=s.board),s===t.point1?(a=u[1]+p[2]-u[2],h=u[2]-p[1]+u[1],d=u[0]*p[0],Math.abs(d)<r.eps&&(a=p[2],h=-p[1]),c=[d,a,h],l=!0):s===t.point2?(a=p[1]+u[2]-p[2],h=p[2]-u[1]+p[1],d=u[0]*p[0],Math.abs(d)<r.eps&&(a=u[2],h=-u[1]),c=[d,a,h],l=!1):Math.abs(r.innerProduct(f,t.stdform,3))<r.eps?(a=f[1]+p[2]-f[2],h=f[2]-p[1]+f[1],d=p[0],Math.abs(d)<r.eps&&(a=p[2],h=-p[1]),l=!0,Math.abs(d)>r.eps&&Math.abs(a-f[1])<r.eps&&Math.abs(h-f[2])<r.eps&&(a=f[1]+u[2]-f[2],h=f[2]-u[1]+f[1],l=!1),c=[d,a,h]):(c=[0,t.stdform[1],t.stdform[2]],c=r.crossProduct(c,f),c=r.crossProduct(c,t.stdform),l=!0),[new i(e.COORDS_BY_USER,c,n),l]},circumcenterMidpoint:function(){t.deprecated("Geometry.circumcenterMidpoint()","Geometry.circumcenter()"),this.circumcenter.apply(this,arguments)},circumcenter:function(t,s,n,a){var h,l,c,d,u=t.coords.usrCoords,p=s.coords.usrCoords,f=n.coords.usrCoords;return o.exists(a)||(a=t.board),h=[p[0]-u[0],-p[2]+u[2],p[1]-u[1]],l=[.5*(u[0]+p[0]),.5*(u[1]+p[1]),.5*(u[2]+p[2])],c=r.crossProduct(h,l),h=[f[0]-p[0],-f[2]+p[2],f[1]-p[1]],l=[.5*(p[0]+f[0]),.5*(p[1]+f[1]),.5*(p[2]+f[2])],d=r.crossProduct(h,l),new i(e.COORDS_BY_USER,r.crossProduct(c,d),a)},distance:function(t,e,i){var r,s=0;for(i||(i=Math.min(t.length,e.length)),r=0;r<i;r++)s+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(s)},affineDistance:function(t,e,i){var s;return(s=this.distance(t,e,i))>r.eps&&(Math.abs(t[0])<r.eps||Math.abs(e[0])<r.eps)?1/0:s},affineRatio:function(t,e,i){var s;return o.exists(t.usrCoords)&&(t=t.usrCoords),o.exists(e.usrCoords)&&(e=e.usrCoords),o.exists(i.usrCoords)&&(i=i.usrCoords),s=e[1]-t[1],Math.abs(s)>r.eps?(i[1]-t[1])/s:(i[2]-t[2])/(e[2]-t[2])},sortVertices:function(t){for(var e,i=n.each(t,n.coordsArray),r=i.length,s=null;i[0][0]===i[r-1][0]&&i[0][1]===i[r-1][1]&&i[0][2]===i[r-1][2];)s=i.pop(),r--;return e=i[0],i.sort((function(t,i){return(t[2]===e[2]&&t[1]===e[1]?-1/0:Math.atan2(t[2]-e[2],t[1]-e[1]))-(i[2]===e[2]&&i[1]===e[1]?-1/0:Math.atan2(i[2]-e[2],i[1]-e[1]))})),null!==s&&i.push(s),i},signedTriangle:function(t,e,i){var r=n.coordsArray(t),s=n.coordsArray(e),o=n.coordsArray(i);return.5*((s[1]-r[1])*(o[2]-r[2])-(s[2]-r[2])*(o[1]-r[1]))},signedPolygon:function(t,e){var i,r,s=0,o=n.each(t,n.coordsArray);for(void 0===e&&(e=!0),e?o.unshift(o[o.length-1]):o=this.sortVertices(o),r=o.length,i=1;i<r;i++)s+=o[i-1][1]*o[i][2]-o[i][1]*o[i-1][2];return.5*s},GrahamScan:function(t){var e,i=1,r=n.each(t,n.coordsArray),s=r.length;for(s=(r=this.sortVertices(r)).length,e=2;e<s;e++){for(;this.signedTriangle(r[i-1],r[i],r[e])<=0;){if(i>1)i-=1;else if(e===s-1)break;e+=1}i+=1,r=o.swap(r,i,e)}return r.slice(0,i)},calcStraight:function(t,i,s,n){var a,h,l,c,d,u,p,f,m,g;if(o.exists(n)||(n=10),u=o.evaluate(t.visProp.straightfirst),p=o.evaluate(t.visProp.straightlast),Math.abs(i.scrCoords[0])<r.eps&&(u=!0),Math.abs(s.scrCoords[0])<r.eps&&(p=!0),(u||p)&&((f=[])[0]=t.stdform[0]-t.stdform[1]*t.board.origin.scrCoords[1]/t.board.unitX+t.stdform[2]*t.board.origin.scrCoords[2]/t.board.unitY,f[1]=t.stdform[1]/t.board.unitX,f[2]=-t.stdform[2]/t.board.unitY,!isNaN(f[0]+f[1]+f[2]))){if(!1,!1,a=!u&&Math.abs(i.usrCoords[0])>=r.eps&&i.scrCoords[1]>=0&&i.scrCoords[1]<=t.board.canvasWidth&&i.scrCoords[2]>=0&&i.scrCoords[2]<=t.board.canvasHeight,h=!p&&Math.abs(s.usrCoords[0])>=r.eps&&s.scrCoords[1]>=0&&s.scrCoords[1]<=t.board.canvasWidth&&s.scrCoords[2]>=0&&s.scrCoords[2]<=t.board.canvasHeight,c=(l=this.meetLineBoard(f,t.board,n))[0],d=l[1],!a&&!h){if(!u&&p&&!this.isSameDirection(i,s,c)&&!this.isSameDirection(i,s,d))return;if(u&&!p&&!this.isSameDirection(s,i,c)&&!this.isSameDirection(s,i,d))return}a?h||(g=this.isSameDir(i,s,c,d)?d:c):h?m=this.isSameDir(i,s,c,d)?c:d:this.isSameDir(i,s,c,d)?(m=c,g=d):(g=c,m=d),m&&i.setCoordinates(e.COORDS_BY_USER,m.usrCoords),g&&s.setCoordinates(e.COORDS_BY_USER,g.usrCoords)}},calcLineDelimitingPoints:function(t,i,s){var n,a,h,l,c,d,u,p,f,m,g;if(c=o.evaluate(t.visProp.straightfirst),d=o.evaluate(t.visProp.straightlast),Math.abs(i.scrCoords[0])<r.eps&&(c=!0),Math.abs(s.scrCoords[0])<r.eps&&(d=!0),(u=[])[0]=t.stdform[0]-t.stdform[1]*t.board.origin.scrCoords[1]/t.board.unitX+t.stdform[2]*t.board.origin.scrCoords[2]/t.board.unitY,u[1]=t.stdform[1]/t.board.unitX,u[2]=-t.stdform[2]/t.board.unitY,!isNaN(u[0]+u[1]+u[2])){if(m=!c,g=!d,a=t.board.getBoundingBox(),t.getSlope()>=0?(h=this.projectPointToLine({coords:{usrCoords:[1,a[2],a[1]]}},t,t.board),l=this.projectPointToLine({coords:{usrCoords:[1,a[0],a[3]]}},t,t.board)):(h=this.projectPointToLine({coords:{usrCoords:[1,a[0],a[1]]}},t,t.board),l=this.projectPointToLine({coords:{usrCoords:[1,a[2],a[3]]}},t,t.board)),!m&&!g){if(!c&&!d){if(n=i.distance(e.COORDS_BY_USER,s),Math.abs(i.distance(e.COORDS_BY_USER,h)+h.distance(e.COORDS_BY_USER,s)-n)>r.eps)return;if(Math.abs(i.distance(e.COORDS_BY_USER,l)+l.distance(e.COORDS_BY_USER,s)-n)>r.eps)return}if(!c&&d&&!this.isSameDirection(i,s,h)&&!this.isSameDirection(i,s,l))return;if(c&&!d&&!this.isSameDirection(s,i,h)&&!this.isSameDirection(s,i,l))return}m?g||(f=this.isSameDir(i,s,h,l)?l:h):g?p=this.isSameDir(i,s,h,l)?h:l:this.isSameDir(i,s,h,l)?(p=h,f=l):(f=h,p=l),p&&i.setCoordinates(e.COORDS_BY_USER,p.usrCoords),f&&s.setCoordinates(e.COORDS_BY_USER,f.usrCoords)}},calcLabelQuadrant:function(t){return t<0&&(t+=2*Math.PI),["rt","urt","top","ulft","lft","llft","lrt"][Math.floor((t+Math.PI/8)/(Math.PI/4))%8]},isSameDir:function(t,e,i,s){var o=e.usrCoords[1]-t.usrCoords[1],n=e.usrCoords[2]-t.usrCoords[2],a=s.usrCoords[1]-i.usrCoords[1],h=s.usrCoords[2]-i.usrCoords[2];return Math.abs(e.usrCoords[0])<r.eps&&(o=e.usrCoords[1],n=e.usrCoords[2]),Math.abs(t.usrCoords[0])<r.eps&&(o=-t.usrCoords[1],n=-t.usrCoords[2]),o*a+n*h>=0},isSameDirection:function(t,e,i){var s,o,n,a,h=!1;return s=e.usrCoords[1]-t.usrCoords[1],o=e.usrCoords[2]-t.usrCoords[2],n=i.usrCoords[1]-t.usrCoords[1],a=i.usrCoords[2]-t.usrCoords[2],Math.abs(s)<r.eps&&(s=0),Math.abs(o)<r.eps&&(o=0),Math.abs(n)<r.eps&&(n=0),Math.abs(a)<r.eps&&(a=0),(s>=0&&n>=0||s<=0&&n<=0)&&(h=o>=0&&a>=0||o<=0&&a<=0),h},intersectionFunction:function(s,n,a,h,l,c){var d,u,p=this;return d=n.elementClass===e.OBJECT_CLASS_CURVE&&(n.type===e.OBJECT_TYPE_ARC||n.type===e.OBJECT_TYPE_SECTOR),u=a.elementClass===e.OBJECT_CLASS_CURVE&&(a.type===e.OBJECT_TYPE_ARC||a.type===e.OBJECT_TYPE_SECTOR),n.elementClass!==e.OBJECT_CLASS_CURVE&&a.elementClass!==e.OBJECT_CLASS_CURVE||n.elementClass!==e.OBJECT_CLASS_CURVE&&n.elementClass!==e.OBJECT_CLASS_CIRCLE||a.elementClass!==e.OBJECT_CLASS_CURVE&&a.elementClass!==e.OBJECT_CLASS_CIRCLE?n.elementClass===e.OBJECT_CLASS_CURVE&&!d&&a.elementClass===e.OBJECT_CLASS_LINE||a.elementClass===e.OBJECT_CLASS_CURVE&&!u&&n.elementClass===e.OBJECT_CLASS_LINE?function(){return p.meetCurveLine(n,a,h,n.board,c)}:n.type===e.OBJECT_TYPE_POLYGON||a.type===e.OBJECT_TYPE_POLYGON?n.elementClass===e.OBJECT_CLASS_LINE?function(){return p.meetPolygonLine(a,n,h,n.board,c)}:a.elementClass===e.OBJECT_CLASS_LINE?function(){return p.meetPolygonLine(n,a,h,n.board,c)}:function(){return p.meetPathPath(n,a,h,n.board)}:n.elementClass===e.OBJECT_CLASS_LINE&&a.elementClass===e.OBJECT_CLASS_LINE?function(){var t,r,s=o.evaluate(n.visProp.straightfirst),l=o.evaluate(n.visProp.straightlast),d=o.evaluate(a.visProp.straightfirst),u=o.evaluate(a.visProp.straightlast);return o.evaluate(c)||s&&l&&d&&u?p.meet(n.stdform,a.stdform,h,n.board):(t=p.meetSegmentSegment(n.point1.coords.usrCoords,n.point2.coords.usrCoords,a.point1.coords.usrCoords,a.point2.coords.usrCoords),r=!s&&t[1]<0||!l&&t[1]>1||!d&&t[2]<0||!u&&t[2]>1?[0,NaN,NaN]:t[0],new i(e.COORDS_BY_USER,r,n.board))}:function(){var s,l,f,m=p.meet(n.stdform,a.stdform,h,n.board),g=!0;return c?m:(n.elementClass!==e.OBJECT_CLASS_LINE||(s=o.evaluate(n.visProp.straightfirst),l=o.evaluate(n.visProp.straightlast),s&&l||(f=p.affineRatio(n.point1.coords,n.point2.coords,m),!(!l&&f>1+r.eps||!s&&f<0-r.eps))))&&(a.elementClass!==e.OBJECT_CLASS_LINE||(s=o.evaluate(a.visProp.straightfirst),l=o.evaluate(a.visProp.straightlast),s&&l||(f=p.affineRatio(a.point1.coords,a.point2.coords,m),!(!l&&f>1+r.eps||!s&&f<0-r.eps))))?d&&((g=p.coordsOnArc(n,m))&&u&&(g=p.coordsOnArc(a,m)),!g)?new i(t.COORDS_BY_USER,[0,NaN,NaN],n.board):m:new i(t.COORDS_BY_USER,[0,NaN,NaN],n.board)}:function(){return p.meetCurveCurve(n,a,h,l,n.board)}},coordsOnArc:function(t,e){var i=this.rad(t.radiuspoint,t.center,e.usrCoords.slice(1)),r=0,s=this.rad(t.radiuspoint,t.center,t.anglepoint),n=o.evaluate(t.visProp.selection);return("minor"===n&&s>Math.PI||"major"===n&&s<Math.PI)&&(r=s,s=2*Math.PI),!(i<r||i>s)},meet:function(t,e,i,s){var o=r.eps;return Math.abs(t[3])<o&&Math.abs(e[3])<o?this.meetLineLine(t,e,i,s):Math.abs(t[3])>=o&&Math.abs(e[3])<o?this.meetLineCircle(e,t,i,s):Math.abs(t[3])<o&&Math.abs(e[3])>=o?this.meetLineCircle(t,e,i,s):this.meetCircleCircle(t,e,i,s)},meetLineBoard:function(t,s,n){var a,h,l,c,d=[];for(o.exists(n)||(n=0),d[0]=r.crossProduct(t,[n,0,1]),d[1]=r.crossProduct(t,[n,1,0]),d[2]=r.crossProduct(t,[-n-s.canvasHeight,0,1]),d[3]=r.crossProduct(t,[-n-s.canvasWidth,1,0]),l=0;l<4;l++)if(Math.abs(d[l][0])>r.eps){for(c=2;c>0;c--)d[l][c]/=d[l][0];d[l][0]=1}return Math.abs(d[1][0])<r.eps?(a=d[0],h=d[2]):Math.abs(d[0][0])<r.eps?(a=d[1],h=d[3]):d[1][2]<0?(a=d[0],h=d[3][2]>s.canvasHeight?d[2]:d[3]):d[1][2]>s.canvasHeight?(a=d[2],h=d[3][2]<0?d[0]:d[3]):(a=d[1],h=d[3][2]<0?d[0]:d[3][2]>s.canvasHeight?d[2]:d[3]),[a=new i(e.COORDS_BY_SCREEN,a.slice(1),s),h=new i(e.COORDS_BY_SCREEN,h.slice(1),s)]},meetLineLine:function(t,s,o,n){var a=isNaN(t[5]+s[5])?[0,0,0]:r.crossProduct(t,s);return new i(e.COORDS_BY_USER,a,n)},meetLineCircle:function(t,s,o,n){var a,h,l,c,d,u,p,f,m;return s[4]<r.eps?Math.abs(r.innerProduct([1,s[6],s[7]],t,3))<r.eps?new i(e.COORDS_BY_USER,s.slice(6,8),n):new i(e.COORDS_BY_USER,[NaN,NaN],n):(l=s[0],h=s.slice(1,3),a=s[3],c=t[0],d=t.slice(1,3),u=a,(f=(p=h[0]*d[1]-h[1]*d[0])*p-4*u*(a*c*c-(h[0]*d[0]+h[1]*d[1])*c+l))>-r.eps*r.eps?(m=[(-p+(f=Math.sqrt(Math.abs(f))))/(2*u),(-p-f)/(2*u)],new i(e.COORDS_BY_USER,0===o?[-m[0]*-d[1]-c*d[0],-m[0]*d[0]-c*d[1]]:[-m[1]*-d[1]-c*d[0],-m[1]*d[0]-c*d[1]],n)):new i(e.COORDS_BY_USER,[0,0,0],n))},meetCircleCircle:function(t,s,o,n){var a;return t[4]<r.eps?Math.abs(this.distance(t.slice(6,2),s.slice(6,8))-s[4])<r.eps?new i(e.COORDS_BY_USER,t.slice(6,8),n):new i(e.COORDS_BY_USER,[0,0,0],n):s[4]<r.eps?Math.abs(this.distance(s.slice(6,2),t.slice(6,8))-t[4])<r.eps?new i(e.COORDS_BY_USER,s.slice(6,8),n):new i(e.COORDS_BY_USER,[0,0,0],n):(a=[s[3]*t[0]-t[3]*s[0],s[3]*t[1]-t[3]*s[1],s[3]*t[2]-t[3]*s[2],0,1,1/0,1/0,1/0],a=r.normalize(a),this.meetLineCircle(a,t,o,n))},meetCurveCurve:function(t,r,n,a,h,l){var c;return c=o.exists(l)&&"newton"===l?s.generalizedNewton(t,r,n,a):3===t.bezierDegree||3===r.bezierDegree?this.meetBezierCurveRedBlueSegments(t,r,n):this.meetCurveRedBlueSegments(t,r,n),new i(e.COORDS_BY_USER,c,h)},meetCurveLine:function(t,i,r,s,n){var a,h;return o.exists(s)||(s=t.board),t.elementClass===e.OBJECT_CLASS_CURVE?(a=t,h=i):(a=i,h=t),this.meetCurveLineDiscrete(a,h,r,s,!n)},meetCurveLineContinuous:function(t,o,n,a,h){var l,c,d,u,p,f,m,g,b,v,y,C,_,P=r.eps,E=r.eps;for(u=this.meetCurveLineDiscrete(t,o,n,a,h),p=u.usrCoords[1],f=u.usrCoords[2],c=function(e){var i,r;return e>t.maxX()||e<t.minX()?1/0:(i=p-t.X(e))*i+(r=f-t.Y(e))*r},d=function(e){var i=o.stdform[0]+o.stdform[1]*t.X(e)+o.stdform[2]*t.Y(e);return i*i},50,g=(t.maxX()-t.minX())/50,b=t.minX(),C=1e-4,y=NaN,v=0;v<50&&(l=s.root(c,[Math.max(b,t.minX()),Math.min(b+g,t.maxX())]),!((_=Math.abs(c(l)))<=C&&(y=l,(C=_)<P)));v++)b+=g;return l=y,_=d(l=s.root(d,[Math.max(l-g,t.minX()),Math.min(l+g,t.maxX())])),m=isNaN(_)||Math.abs(_)>E?0:1,new i(e.COORDS_BY_USER,[m,t.X(l),t.Y(l)],a)},meetCurveLineDiscrete:function(t,s,n,a,h){var l,c,d,u,p,f,m,g=s.point1.coords.usrCoords,b=s.point2.coords.usrCoords,v=0,y=t.numberPoints,C=o.evaluate(s.visProp.straightfirst),_=o.evaluate(s.visProp.straightlast);for(f=new i(e.COORDS_BY_USER,[0,NaN,NaN],a),0===g[0]?g=[1,b[1]+s.stdform[2],b[2]-s.stdform[1]]:0===b[0]&&(b=[1,g[1]+s.stdform[2],g[2]-s.stdform[1]]),u=t.points[0].usrCoords,l=1;l<y;l+=t.bezierDegree)if(d=u.slice(0),u=t.points[l].usrCoords,this.distance(d,u)>r.eps)for(m=3===t.bezierDegree?this.meetBeziersegmentBeziersegment([t.points[l-1].usrCoords.slice(1),t.points[l].usrCoords.slice(1),t.points[l+1].usrCoords.slice(1),t.points[l+2].usrCoords.slice(1)],[g.slice(1),b.slice(1)],h):[this.meetSegmentSegment(d,u,g,b)],c=0;c<m.length;c++)if(0<=(p=m[c])[1]&&p[1]<=1){if(v===n)return h&&(!C&&p[2]<0||!_&&p[2]>1)?f:f=new i(e.COORDS_BY_USER,p[0],a);v+=1}return f},meetCurveRedBlueSegments:function(t,e,i){var r,s,o,n,a,h,l,c,d,u=0,p=e.numberPoints,f=t.numberPoints;if(p<=1||f<=1)return[0,NaN,NaN];for(r=1;r<f;r++)for(o=t.points[r-1].usrCoords,n=t.points[r].usrCoords,c=Math.min(o[1],n[1]),d=Math.max(o[1],n[1]),h=e.points[0].usrCoords,s=1;s<p;s++)if(a=h,h=e.points[s].usrCoords,Math.min(a[1],h[1])<d&&Math.max(a[1],h[1])>c&&(l=this.meetSegmentSegment(o,n,a,h))[1]>=0&&l[2]>=0&&(l[1]<1&&l[2]<1||r===f-1&&1===l[1]||s===p-1&&1===l[2])){if(u===i)return l[0];u++}return[0,NaN,NaN]},meetSegmentSegment:function(t,e,i,s){var o,n,a,h=r.crossProduct(t,e),l=r.crossProduct(i,s),c=r.crossProduct(h,l);return Math.abs(c[0])<r.eps?[c,1/0,1/0]:(c[1]/=c[0],c[2]/=c[0],c[0]/=c[0],a=t[n=Math.abs(e[1]-e[0]*t[1])<r.eps?2:1]/t[0],o=(c[n]-a)/(0!==e[0]?e[n]/e[0]-a:e[n]),a=i[n=Math.abs(s[1]-s[0]*i[1])<r.eps?2:1]/i[0],[c,o,(c[n]-a)/(0!==s[0]?s[n]/s[0]-a:s[n])])},meetPathPath:function(s,o,n,a){var h,l,c,d;return(c=(h=t.Math.Clip._getPath(s,a)).length)>0&&this.distance(h[0].coords.usrCoords,h[c-1].coords.usrCoords,3)<r.eps&&h.pop(),(c=(l=t.Math.Clip._getPath(o,a)).length)>0&&this.distance(l[0].coords.usrCoords,l[c-1].coords.usrCoords,3)<r.eps*r.eps&&l.pop(),n<0||t.Math.Clip.isEmptyCase(h,l,"intersection")?new i(e.COORDS_BY_USER,[0,0,0],a):(t.Math.Clip.makeDoublyLinkedList(h),t.Math.Clip.makeDoublyLinkedList(l),n<(d=t.Math.Clip.findIntersections(h,l,a)[0]).length?d[n].coords:new i(e.COORDS_BY_USER,[0,0,0],a))},meetPolygonLine:function(t,r,s,o,n){var a,h,l,c=[0,0,0],d=t.borders.length,u=[];for(a=0;a<d;a++)l=t.borders[a],h=this.meetSegmentSegment(l.point1.coords.usrCoords,l.point2.coords.usrCoords,r.point1.coords.usrCoords,r.point2.coords.usrCoords),(!n||h[2]>=0&&h[2]<1)&&h[1]>=0&&h[1]<1&&u.push(h[0]);return s>=0&&s<u.length&&(c=u[s]),new i(e.COORDS_BY_USER,c,o)},_bezierSplit:function(t){var e,i,r,s,o,n;return e=[.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],i=[.5*(t[1][0]+t[2][0]),.5*(t[1][1]+t[2][1])],r=[.5*(t[2][0]+t[3][0]),.5*(t[2][1]+t[3][1])],n=[.5*((s=[.5*(e[0]+i[0]),.5*(e[1]+i[1])])[0]+(o=[.5*(i[0]+r[0]),.5*(i[1]+r[1])])[0]),.5*(s[1]+o[1])],[[t[0],e,s,n],[n,o,r,t[3]]]},_bezierBbox:function(t){var e=[];return 4===t.length?(e[0]=Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),e[1]=Math.max(t[0][1],t[1][1],t[2][1],t[3][1]),e[2]=Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),e[3]=Math.min(t[0][1],t[1][1],t[2][1],t[3][1])):(e[0]=Math.min(t[0][0],t[1][0]),e[1]=Math.max(t[0][1],t[1][1]),e[2]=Math.max(t[0][0],t[1][0]),e[3]=Math.min(t[0][1],t[1][1])),e},_bezierOverlap:function(t,e){return t[2]>=e[0]&&t[0]<=e[2]&&t[1]>=e[3]&&t[3]<=e[1]},_bezierListConcat:function(t,e,i,r){var s,n=o.exists(r),a=0,h=e.length,l=t.length;for(l>0&&h>0&&(1===t[l-1][1]&&0===e[0][1]||n&&1===t[l-1][2]&&0===e[0][2])&&(a=1),s=a;s<h;s++)n&&(e[s][2]*=.5,e[s][2]+=r),e[s][1]*=.5,e[s][1]+=i,t.push(e[s])},_bezierMeetSubdivision:function(t,e,i){var r,s,o,n,a,h,l,c,d,u,p,f,m=[];return s=this._bezierBbox(e),r=this._bezierBbox(t),this._bezierOverlap(s,r)?i<5?(h=(o=this._bezierSplit(t))[0],l=o[1],n=(o=this._bezierSplit(e))[0],a=o[1],this._bezierListConcat(m,this._bezierMeetSubdivision(h,n,i+1),0,0),this._bezierListConcat(m,this._bezierMeetSubdivision(h,a,i+1),0,.5),this._bezierListConcat(m,this._bezierMeetSubdivision(l,n,i+1),.5,0),this._bezierListConcat(m,this._bezierMeetSubdivision(l,a,i+1),.5,.5),m):(p=[1].concat(t[0]),f=[1].concat(t[3]),d=[1].concat(e[0]),u=[1].concat(e[3]),(c=this.meetSegmentSegment(p,f,d,u))[1]>=0&&c[2]>=0&&c[1]<=1&&c[2]<=1?[c]:[]):[]},_bezierLineMeetSubdivision:function(t,e,i,r){var s,o,n,a,h,l,c,d,u,p,f=[];return s=this._bezierBbox(e),o=this._bezierBbox(t),r&&!this._bezierOverlap(o,s)?[]:i<5?(a=(n=this._bezierSplit(t))[0],h=n[1],this._bezierListConcat(f,this._bezierLineMeetSubdivision(a,e,i+1),0),this._bezierListConcat(f,this._bezierLineMeetSubdivision(h,e,i+1),.5),f):(u=[1].concat(t[0]),p=[1].concat(t[3]),c=[1].concat(e[0]),d=[1].concat(e[1]),(l=this.meetSegmentSegment(u,p,c,d))[1]>=0&&l[1]<=1&&(!r||l[2]>=0&&l[2]<=1)?[l]:[])},meetBeziersegmentBeziersegment:function(t,e,i){var r,s,o;for((r=4===t.length&&4===e.length?this._bezierMeetSubdivision(t,e,0):this._bezierLineMeetSubdivision(t,e,0,i)).sort((function(t,e){return 1e7*(t[1]-e[1])+(t[2]-e[2])})),s=[],o=0;o<r.length;o++)0!==o&&r[o][1]===r[o-1][1]&&r[o][2]===r[o-1][2]||s.push(r[o]);return s},meetBezierCurveRedBlueSegments:function(t,i,s){var o,n,a,h,l,c,d,u,p,f,m=0,g=0,b=i.numberPoints,v=t.numberPoints,y=[];if(b<i.bezierDegree+1||v<t.bezierDegree+1)return[0,NaN,NaN];for(b-=i.bezierDegree,v-=t.bezierDegree,t.type===e.OBJECT_TYPE_SECTOR&&(m=3,v-=3),i.type===e.OBJECT_TYPE_SECTOR&&(g=3,b-=3),n=m;n<v;n+=t.bezierDegree)for(c=[(o=t.points)[n].usrCoords.slice(1),o[n+1].usrCoords.slice(1)],3===t.bezierDegree&&(c[2]=o[n+2].usrCoords.slice(1),c[3]=o[n+3].usrCoords.slice(1)),u=this._bezierBbox(c),a=g;a<b;a+=i.bezierDegree)if(d=[(o=i.points)[a].usrCoords.slice(1),o[a+1].usrCoords.slice(1)],3===i.bezierDegree&&(d[2]=o[a+2].usrCoords.slice(1),d[3]=o[a+3].usrCoords.slice(1)),p=this._bezierBbox(d),this._bezierOverlap(u,p)){if(0===(f=this.meetBeziersegmentBeziersegment(c,d)).length)continue;for(h=0;h<f.length;h++)(l=f[h])[1]<-r.eps||l[1]>1+r.eps||l[2]<-r.eps||l[2]>1+r.eps||y.push(l);if(y.length>s)return y[s][0]}return y.length>s?y[s][0]:[0,NaN,NaN]},bezierSegmentEval:function(t,e){var i,r,s,o=1-t;return r=0,s=0,r+=(i=o*o*o)*e[0][0],s+=i*e[0][1],r+=(i=3*t*o*o)*e[1][0],s+=i*e[1][1],r+=(i=3*t*t*o)*e[2][0],s+=i*e[2][1],[1,r+=(i=t*t*t)*e[3][0],s+=i*e[3][1]]},bezierArc:function(t,e,i,s,o){var n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E=.5*Math.PI,x=e[1],S=e[2],O=e[0],w=[],T=[];for(c=this.distance(e,t),x/=O,S/=O,d=this.rad(t.slice(1),e.slice(1),i.slice(1)),-1===o&&(d=2*Math.PI-d),(n=t)[1]/=n[0],n[2]/=n[0],n[0]/=n[0],l=n.slice(0),s?(w=[x,x+.333*(n[1]-x),x+.666*(n[1]-x),n[1]],T=[S,S+.333*(n[2]-S),S+.666*(n[2]-S),n[2]]):(w=[n[1]],T=[n[2]]);d>r.eps;)d>E?(u=E,d-=E):(u=d,d=0),P=[[1,0,0],[x*(1-(p=Math.cos(o*u)))+S*(f=Math.sin(o*u)),p,-f],[S*(1-p)-x*f,f,p]],l=[(C=r.matVecMult(P,n))[0]/C[0],C[1]/C[0],C[2]/C[0]],m=n[1]-x,g=n[2]-S,b=l[1]-x,v=l[2]-S,_=Math.sqrt((m+b)*(m+b)+(g+v)*(g+v)),y=Math.abs(v-g)>r.eps?(m+b)*(c/_-.5)/(v-g)*8/3:(g+v)*(c/_-.5)/(m-b)*8/3,a=[1,n[1]-y*g,n[2]+y*m],h=[1,l[1]+y*v,l[2]-y*b],w=w.concat([a[1],h[1],l[1]]),T=T.concat([a[2],h[2],l[2]]),n=l.slice(0);return s&&(w=w.concat([l[1]+.333*(x-l[1]),l[1]+.666*(x-l[1]),x]),T=T.concat([l[2]+.333*(S-l[2]),l[2]+.666*(S-l[2]),S])),[w,T]},projectPointToCircle:function(t,s,n){var a,h,l,c,d,u=s.center.coords.usrCoords;return o.exists(n)||(n=t.board),o.isPoint(t)?(a=t.coords.distance(e.COORDS_BY_USER,s.center.coords),h=t.coords.usrCoords):(a=t.distance(e.COORDS_BY_USER,s.center.coords),h=t.usrCoords),Math.abs(a)<r.eps&&(a=r.eps),d=s.Radius()/a,l=u[1]+d*(h[1]-u[1]),c=u[2]+d*(h[2]-u[2]),new i(e.COORDS_BY_USER,[l,c],n)},projectPointToLine:function(t,s,n){var a,h=[0,s.stdform[1],s.stdform[2]];return o.exists(n)||(n=o.exists(t.coords)?t.board:s.board),a=o.exists(t.coords)?t.coords.usrCoords:t.usrCoords,h=r.crossProduct(h,a),new i(e.COORDS_BY_USER,r.crossProduct(h,s.stdform),n)},projectCoordsToSegment:function(t,e,i){var s,o=[i[1]-e[1],i[2]-e[2]],n=[t[1]-e[1],t[2]-e[2]];return Math.abs(o[0])<r.eps&&Math.abs(o[1])<r.eps?[e,0]:(s=r.innerProduct(n,o),[[1,(s/=r.innerProduct(o,o))*o[0]+e[1],s*o[1]+e[2]],s])},projectCoordsToBeziersegment:function(e,i,r){var s;return s=t.Math.Numerics.fminbr((function(t){var s=[1,i.X(r+t),i.Y(r+t)];return s[1]-=e[1],s[2]-=e[2],s[1]*s[1]+s[2]*s[2]}),[0,1]),[[1,i.X(s+r),i.Y(s+r)],s]},projectPointToCurve:function(t,e,i){o.exists(i)||(i=t.board);var r=t.X(),s=t.Y(),n=t.position||0;return this.projectCoordsToCurve(r,s,n,e,i)},projectCoordsToCurve:function(t,r,n,a,h){var l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N=Number.POSITIVE_INFINITY;if(o.exists(h)||(h=a.board),"plot"===o.evaluate(a.visProp.curvetype)){if(n=0,p=N,l=0===a.numberPoints?[0,1,1]:[a.Z(0),a.X(0),a.Y(0)],a.numberPoints>1)for(g=[1,t,r],3===a.bezierDegree?u=0:y=[a.Z(0),a.X(0),a.Y(0)],d=0;d<a.numberPoints-1;d++)3===a.bezierDegree?_=this.projectCoordsToBeziersegment(g,a,u):(C=[a.Z(d+1),a.X(d+1),a.Y(d+1)],_=this.projectCoordsToSegment(g,y,C)),m=_[1],b=_[0],0<=m&&m<=1?(f=this.distance(b,g),v=d+m):m<0?(b=y,f=this.distance(y,g),v=d):m>1&&d===a.numberPoints-2&&(b=C,f=this.distance(b,g),v=a.numberPoints-1),f<p&&(p=f,n=v,l=b),3===a.bezierDegree?(u++,d+=2):y=C;c=new i(e.COORDS_BY_USER,l,h)}else{for(P=function(e){var i,s;return e<a.minX()||e>a.maxX()?1/0:(i=t-a.X(e))*i+(s=r-a.Y(e))*s},S=P(n),50,w=a.minX(),O=((T=a.maxX())-w)/50,E=w,d=0;d<50;d++)((x=P(E))<S||S===1/0)&&(n=E,S=x),E+=O;n=(n=(n=s.fminbr(P,[Math.max(n-O,w),Math.min(n+O,T)]))<w?w:n)>T?T:n,c=new i(e.COORDS_BY_USER,[a.X(n),a.Y(n)],h)}return[a.updateTransform(c),n]},projectCoordsToPolygon:function(e,i){var r,s,o,n,a,h=i.vertices.length,l=1/0;for(r=0;r<h-1;r++)0<=(o=t.Math.Geometry.projectCoordsToSegment(e,i.vertices[r].coords.usrCoords,i.vertices[r+1].coords.usrCoords))[1]&&o[1]<=1?(s=t.Math.Geometry.distance(o[0],e,3),n=o[0]):o[1]<0?(s=t.Math.Geometry.distance(i.vertices[r].coords.usrCoords,e,3),n=i.vertices[r].coords.usrCoords):(s=t.Math.Geometry.distance(i.vertices[r+1].coords.usrCoords,e,3),n=i.vertices[r+1].coords.usrCoords),s<l&&(a=n.slice(0),l=s);return a},projectPointToTurtle:function(t,r,s){var n,a,h,l,c,d,u,p,f,m,g=0,b=0,v=Number.POSITIVE_INFINITY,y=r.objects.length;for(o.exists(s)||(s=t.board),c=0;c<y;c++)(u=r.objects[c]).elementClass===e.OBJECT_CLASS_CURVE&&(n=(f=this.projectPointToCurve(t,u))[0],m=f[1],(d=this.distance(n.usrCoords,t.coords.usrCoords))<v&&(h=n.usrCoords[1],l=n.usrCoords[2],a=m,v=d,p=u,b=g),g+=u.numberPoints);return n=new i(e.COORDS_BY_USER,[h,l],s),[p.updateTransform(n),a+b]},projectPointToPoint:function(t,e){return e.coords},projectPointToBoard:function(t,e){var i,s,o,n=e||t.board,a=[[1,1,0,0,3,0,1],[-1,2,1,0,1,2,1],[-1,1,2,2,1,2,3],[1,2,3,0,3,2,3]],h=t.coords||t,l=n.getBoundingBox();for(i=0;i<4;i++)(o=a[i])[0]*h.usrCoords[o[1]]<o[0]*l[o[2]]&&((s=r.crossProduct([1,l[o[3]],l[o[4]]],[1,l[o[5]],l[o[6]]]))[3]=0,s=r.normalize(s),h=this.projectPointToLine({coords:h},{stdform:s},n));return h},distPointLine:function(t,e){var i,s=e[1],o=e[2],n=e[0];return Math.abs(s)+Math.abs(o)<r.eps?Number.POSITIVE_INFINITY:(i=s*t[1]+o*t[2]+n,s*=s,o*=o,Math.abs(i)/Math.sqrt(s+o))},reuleauxPolygon:function(t,e){var i,s=2*Math.PI,o=s/e,n=(e-1)/2,a=0,h=function(h,l){return function(c,d){var u=(c%s+s)%s,p=Math.floor(u/o)%e;return d||(a=t[0].Dist(t[n]),i=r.Geometry.rad([t[0].X()+1,t[0].Y()],t[0],t[n%e])),isNaN(p)?p:(u=.5*u+p*o*.5+i,t[p][h]()+a*Math[l](u))}};return[h("X","cos"),h("Y","sin"),0,s]},meet3Planes:function(t,e,i,s,o,n){var a,h,l,c,d,u=[0,0,0];for(a=r.crossProduct(o,t),h=r.crossProduct(t,i),l=r.crossProduct(i,o),c=r.innerProduct(t,l,3),d=0;d<3;d++)u[d]=(e*l[d]+s*a[d]+n*h[d])/c;return u},meetPlanePlane:function(t,e,i,s){var n,a,h,l=[0,0,0],c=[0,0,0];for(n=0;n<3;n++)l[n]=o.evaluate(t[n]),c[n]=o.evaluate(e[n]);for(a=r.crossProduct(l,c),n=0;n<3;n++)l[n]=o.evaluate(i[n]),c[n]=o.evaluate(s[n]);return h=r.crossProduct(l,c),r.crossProduct(a,h)},project3DTo3DPlane:function(t,e,i){var s,o;return i=i||[0,0,0],s=r.norm(e),o=(r.innerProduct(t,e,3)-r.innerProduct(i,e,3))/s,r.axpy(-o,e,t)},getPlaneBounds:function(t,e,i,r,o){var n,a,h,l,c;return t[2]+e[0]!==0?(h=[[t[0],e[0]],[t[1],e[1]]],l=[r-i[0],r-i[1]],n=(c=s.Gauss(h,l))[0],a=c[1],l=[o-i[0],o-i[1]],[n,(c=s.Gauss(h,l))[0],a,c[1]]):null}}),r.Geometry})),define("math/plot",["jxg","base/constants","base/coords","math/math","math/extrapolate","math/numerics","math/statistics","math/geometry","math/ia","utils/type"],(function(t,e,i,r,s,o,n,a,h,l){"use strict";return r.Plot={checkReal:function(t){var e,i,s=!1,o=t.length;for(e=0;e<o;e++)if(i=t[e].usrCoords,!isNaN(i[1])&&!isNaN(i[2])&&Math.abs(i[0])>r.eps){s=!0;break}return s},updateParametricCurveNaive:function(t,i,r,s){var o,n,a=!1,h=(r-i)/s;for(o=0;o<s;o++)n=i+o*h,t.points[o].setCoordinates(e.COORDS_BY_USER,[t.X(n,a),t.Y(n,a)],!1),t.points[o]._t=n,a=!0;return t},isSegmentOutside:function(t,e,i,r,s){return e<0&&r<0||e>s.canvasHeight&&r>s.canvasHeight||t<0&&i<0||t>s.canvasWidth&&i>s.canvasWidth},isDistOK:function(t,e,i,r){return Math.abs(t)<i&&Math.abs(e)<r&&!isNaN(t+e)},isSegmentDefined:function(t,e,i,r){return!(isNaN(t+e)&&isNaN(i+r))},updateParametricCurveOld:function(s,o,n){var a,h,l,c,d,u,p,f,m,g,b,v=!1,y=new i(e.COORDS_BY_USER,[0,0],s.board,!1),C=[],_=[],P=[],E=[],x=!1,S=0,O=function(t,e,i){var s,o,n=i[1]-t[1],a=i[2]-t[2],h=e[0]-t[1],l=e[1]-t[2],c=h*h+l*l;return c>=r.eps&&(s=(n*h+a*l)/c)>0&&(s<=1?(n-=s*h,a-=s*l):(n-=h,a-=l)),o=n*n+a*a,Math.sqrt(o)};for(t.deprecated("Curve.updateParametricCurveOld()"),s.board.updateQuality===s.board.BOARD_QUALITY_LOW?(m=15,g=10,b=10):(m=21,g=.7,b=.7),E[0]=n-o,a=1;a<m;a++)E[a]=.5*E[a-1];a=1,C[0]=1,_[0]=0,h=o,y.setCoordinates(e.COORDS_BY_USER,[s.X(h,v),s.Y(h,v)],!1),v=!0,d=y.scrCoords[1],u=y.scrCoords[2],h=n,y.setCoordinates(e.COORDS_BY_USER,[s.X(h,v),s.Y(h,v)],!1),l=y.scrCoords[1],c=y.scrCoords[2],P[0]=[l,c],p=1,f=0,s.points=[],s.points[S++]=new i(e.COORDS_BY_SCREEN,[d,u],s.board,!1);do{for(x=this.isDistOK(l-d,c-u,g,b)||this.isSegmentOutside(d,u,l,c,s.board);f<m&&(!x||f<6)&&(f<=7||this.isSegmentDefined(d,u,l,c));)C[p]=a,_[p]=f,P[p]=[l,c],p+=1,h=o+(a=2*a-1)*E[++f],y.setCoordinates(e.COORDS_BY_USER,[s.X(h,v),s.Y(h,v)],!1,!0),l=y.scrCoords[1],c=y.scrCoords[2],x=this.isDistOK(l-d,c-u,g,b)||this.isSegmentOutside(d,u,l,c,s.board);S>1&&O(s.points[S-2].scrCoords,[l,c],s.points[S-1].scrCoords)<.015&&(S-=1),s.points[S]=new i(e.COORDS_BY_SCREEN,[l,c],s.board,!1),s.points[S]._t=h,S+=1,d=l,u=c,h,l=P[p-=1][0],c=P[p][1],f=_[p]+1,a=2*C[p]}while(p>0&&S<5e5);return s.numberPoints=s.points.length,s},_insertPoint_v2:function(t,e,i){var r=!isNaN(this._lastCrds[1]+this._lastCrds[2]),s=!isNaN(e.scrCoords[1]+e.scrCoords[2]),o=t.board.canvasWidth,n=t.board.canvasHeight,a=500;(!(s=s&&e.scrCoords[1]>-500&&e.scrCoords[2]>-500&&e.scrCoords[1]<o+a&&e.scrCoords[2]<n+a)&&r||s&&(!r||Math.abs(e.scrCoords[1]-this._lastCrds[1])>.7||Math.abs(e.scrCoords[2]-this._lastCrds[2])>.7))&&(e._t=i,t.points.push(e),this._lastCrds=e.copy("scrCoords"))},neighborhood_isNaN_v2:function(t,s){var o,n,a=new i(e.COORDS_BY_USER,[0,0],t.board,!1);return o=s+r.eps,a.setCoordinates(e.COORDS_BY_USER,[t.X(o,!0),t.Y(o,!0)],!1),n=a.usrCoords,!!(isNaN(n[1]+n[2])||(o=s-r.eps,a.setCoordinates(e.COORDS_BY_USER,[t.X(o,!0),t.Y(o,!0)],!1),n=a.usrCoords,isNaN(n[1]+n[2])))},_borderCase:function(t,r,s,o,n,a,h,l){var c,d,u,p,f,m,g,b=null,v=!1;if(l<=1){if(d=new i(e.COORDS_BY_USER,[0,0],t.board,!1),isNaN(r[1]+r[2])&&!isNaN(o[1]+o[2])&&!this.neighborhood_isNaN_v2(t,n))return!1;if(isNaN(s[1]+s[2])&&!isNaN(o[1]+o[2])&&!this.neighborhood_isNaN_v2(t,a))return!1;if(isNaN(o[1]+o[2])&&(!isNaN(r[1]+r[2])||!isNaN(s[1]+s[2]))&&!this.neighborhood_isNaN_v2(t,h))return!1;p=0;do{if(isNaN(r[1]+r[2])&&!isNaN(o[1]+o[2]))f=n,m=h,g=a;else if(isNaN(s[1]+s[2])&&!isNaN(o[1]+o[2]))f=a,m=h,g=n;else if(isNaN(o[1]+o[2])&&!isNaN(s[1]+s[2]))f=h,m=a,g=a+(a-h);else{if(!isNaN(o[1]+o[2])||isNaN(r[1]+r[2]))return!1;f=h,m=n,g=n-(h-n)}c=.5*(f+m),d.setCoordinates(e.COORDS_BY_USER,[t.X(c,!0),t.Y(c,!0)],!1),u=d.usrCoords,(v=isNaN(u[1]+u[2]))?f=c:(g=m,m=c),++p}while(v&&p<30);if(p<30&&(b=u.slice(),o=u.slice(),m=c),(t.X(m,!0)-t.X(g,!0))/(m-g),(t.Y(m,!0)-t.Y(g,!0))/(m-g),null!==b)return this._insertPoint_v2(t,new i(e.COORDS_BY_USER,b,t.board,!1)),!0}return!1},_plotRecursive_v2:function(t,r,s,o,n,a,h){var l,c,d,u,p,f=0,m=new i(e.COORDS_BY_USER,[0,0],t.board,!1);if(!(t.numberPoints>65536))return a<this.nanLevel&&this._isUndefined(t,r,s,o,n)||a<this.nanLevel&&this._isOutside(r,s,o,n,t.board)?this:(l=.5*(s+n),m.setCoordinates(e.COORDS_BY_USER,[t.X(l,!0),t.Y(l,!0)],!1),c=m.scrCoords,this._borderCase(t,r,o,c,s,n,l,a)||(d=this._triangleDists(r,o,c),u=a<this.smoothLevel&&d[3]<h,p=a<this.jumpLevel&&(d[2]>.99*d[0]||d[1]>.99*d[0]||d[0]===1/0||d[1]===1/0||d[2]===1/0),a<this.smoothLevel+2&&d[0]<.5*(d[1]+d[2])&&(f=0,u=!1),--a,p?this._insertPoint_v2(t,new i(e.COORDS_BY_SCREEN,[NaN,NaN],t.board,!1),l):a<=f||u?this._insertPoint_v2(t,m,l):(this._plotRecursive_v2(t,r,s,c,l,a,h),isNaN(m.scrCoords[1]+m.scrCoords[2])||this._insertPoint_v2(t,m,l),this._plotRecursive_v2(t,c,l,o,n,a,h))),this)},updateParametricCurve_v2:function(t,r,s){var o,n,a,h,c,d,u,p,f,m=!1,g=new i(e.COORDS_BY_USER,[0,0],t.board,!1),b=new i(e.COORDS_BY_USER,[0,0],t.board,!1);return t.board.updateQuality===t.board.BOARD_QUALITY_LOW?(c=l.evaluate(t.visProp.recursiondepthlow)||13,d=2,this.smoothLevel=c-6,this.jumpLevel=3):(c=l.evaluate(t.visProp.recursiondepthhigh)||17,d=2,this.smoothLevel=c-9,this.jumpLevel=2),this.nanLevel=c-4,t.points=[],"x"===this.xterm?(u=.3*((p=t.board.getBoundingBox())[2]-p[0]),.3*(p[1]-p[3]),o=Math.max(r,p[0]-u),n=Math.min(s,p[2]+u)):(o=r,n=s),g.setCoordinates(e.COORDS_BY_USER,[t.X(o,m),t.Y(o,m)],!1),m=!0,b.setCoordinates(e.COORDS_BY_USER,[t.X(n,m),t.Y(n,m)],!1),f=this._findStartPoint(t,g.scrCoords,o,b.scrCoords,n),g.setCoordinates(e.COORDS_BY_SCREEN,f[0],!1),o=f[1],f=this._findStartPoint(t,b.scrCoords,n,g.scrCoords,o),b.setCoordinates(e.COORDS_BY_SCREEN,f[0],!1),n=f[1],this._visibleArea=[o,n],a=g.copy("scrCoords"),h=b.copy("scrCoords"),g._t=o,t.points.push(g),this._lastCrds=g.copy("scrCoords"),this._plotRecursive_v2(t,a,o,h,n,c,d),b._t=n,t.points.push(b),t.numberPoints=t.points.length,t},_insertLimesPoint:function(t,s,o,n,a){var h,l,c;Math.abs(this._lastUsrCrds[1])===1/0&&Math.abs(a.left_x)===1/0||Math.abs(this._lastUsrCrds[2])===1/0&&Math.abs(a.left_y)===1/0||((h=new i(e.COORDS_BY_USER,[a.left_x,a.left_y],t.board))._t=o,t.points.push(h),isNaN(a.left_x)||isNaN(a.left_y)||isNaN(a.right_x)||isNaN(a.right_y)||!(Math.abs(a.left_x-a.right_x)>r.eps||Math.abs(a.left_y-a.right_y)>r.eps)||((l=new i(e.COORDS_BY_SCREEN,s,t.board))._t=o,t.points.push(l)),(c=new i(e.COORDS_BY_USER,[a.right_x,a.right_y],t.board))._t=o,t.points.push(c),this._lastScrCrds=c.copy("scrCoords"),this._lastUsrCrds=c.copy("usrCoords"))},_insertPoint:function(t,r,s,o,n){var a,h=!isNaN(this._lastScrCrds[1]+this._lastScrCrds[2]),c=!isNaN(r[1]+r[2]),d=t.board.canvasWidth,u=t.board.canvasHeight,p=500;l.exists(n)?this._insertLimesPoint(t,r,s,o,n):(c=c&&r[1]>-500&&r[2]>-500&&r[1]<d+p&&r[2]<u+p,(h||c)&&(c&&h&&Math.abs(r[1]-this._lastScrCrds[1])<.8&&Math.abs(r[2]-this._lastScrCrds[2])<.8||Math.abs(r[1])===1/0&&Math.abs(this._lastUsrCrds[1])===1/0||Math.abs(r[2])===1/0&&Math.abs(this._lastUsrCrds[2])===1/0||((a=new i(e.COORDS_BY_SCREEN,r,t.board))._t=s,t.points.push(a),this._lastScrCrds=a.copy("scrCoords"),this._lastUsrCrds=a.copy("usrCoords"))))},_triangleDists:function(t,e,i){var r;return r=[t[0]*e[0],.5*(t[1]+e[1]),.5*(t[2]+e[2])],[a.distance(t,e,3),a.distance(t,i,3),a.distance(i,e,3),a.distance(i,r,3)]},_isUndefined:function(t,r,s,o,n){var a,h,l;if(!isNaN(r[1]+r[2])||!isNaN(o[1]+o[2]))return!1;for(l=new i(e.COORDS_BY_USER,[0,0],t.board,!1),h=0;h<20;++h)if(a=s+Math.random()*(n-s),l.setCoordinates(e.COORDS_BY_USER,[t.X(a,!0),t.Y(a,!0)],!1),!isNaN(l.scrCoords[0]+l.scrCoords[1]+l.scrCoords[2]))return!1;return!0},_isOutside:function(t,e,i,r,s){var o=500,n=s.canvasWidth,a=s.canvasHeight;return!!(t[1]<-500&&i[1]<-500||t[2]<-500&&i[2]<-500||t[1]>n+o&&i[1]>n+o||t[2]>a+o&&i[2]>a+o)},_isOutsidePoint:function(t,e){var i=500,r=e.canvasWidth,s=e.canvasHeight;return!!(t[1]<-500||t[2]<-500||t[1]>r+i||t[2]>s+i)},_findStartPoint:function(t,r,s,o,n){new i(e.COORDS_BY_USER,[0,0],t.board,!1),t.board.getBoundingBox();return[r,s]},_getBorderPos:function(t,s,o,n,a,h,l){var c,d,u,p,f,m;if(d=new i(e.COORDS_BY_USER,[0,0],t.board,!1),p=0,isNaN(o[1]+o[2])&&!isNaN(a[1]+a[2]))m=s,f=n,h;else if(isNaN(l[1]+l[2])&&!isNaN(a[1]+a[2]))m=h,f=n,s;else if(isNaN(a[1]+a[2])&&!isNaN(l[1]+l[2]))m=n,f=h,h+(h-n);else{if(!isNaN(a[1]+a[2])||isNaN(o[1]+o[2]))return!1;m=n,f=s,s-(n-s)}do{c=.5*(f+m),d.setCoordinates(e.COORDS_BY_USER,[t.X(c,!0),t.Y(c,!0)],!1),u=d.usrCoords,isNaN(u[1]+u[2])?m=c:(f,f=c),++p}while(p<30&&Math.abs(f-m)>r.eps);return c},_getCuspPos:function(t,e,i){var r=[t.X(e,!0),t.Y(e,!0)],s=[t.X(i,!0),t.Y(i,!0)];return o.fminbr((function(e){var i=[t.X(e,!0),t.Y(e,!0)];return-(Math.sqrt((r[0]-i[0])*(r[0]-i[0])+(r[1]-i[1])*(r[1]-i[1]))+Math.sqrt((s[0]-i[0])*(s[0]-i[0])+(s[1]-i[1])*(s[1]-i[1])))}),[e,i],t)},_getJumpPos:function(t,e,i){return o.fminbr((function(e){var i=r.eps*r.eps,s=[t.X(e,!0),t.Y(e,!0)],o=[t.X(e+i,!0),t.Y(e+i,!0)];return-Math.abs((o[1]-s[1])/(o[0]-s[0]))}),[e,i],t)},_getLimits:function(t,e){var i,r,o,n,a,h=2/(t.maxX()-t.minX());return r=(i=s.limit(e,-h,t.X))[0],"infinite"===i[1]&&(r=Math.sign(r)*(1/0)),n=(i=s.limit(e,-h,t.Y))[0],"infinite"===i[1]&&(n=Math.sign(n)*(1/0)),o=(i=s.limit(e,h,t.X))[0],"infinite"===i[1]&&(o=Math.sign(o)*(1/0)),a=(i=s.limit(e,h,t.Y))[0],"infinite"===i[1]&&(a=Math.sign(a)*(1/0)),{left_x:r,left_y:n,right_x:o,right_y:a,t:e}},_getLimes:function(t,e,i,r,s,o,n,a,h){var l;return"border"===a?l=this._getBorderPos(t,e,i,r,s,o,n):"cusp"===a?l=this._getCuspPos(t,e,o):"jump"===a&&(l=this._getJumpPos(t,e,o)),this._getLimits(t,l)},_plotNonRecursive:function(t,e,i,r,s,o){var n,a,h,l,c,d,u,p,f,m,g,b=null,v=!1,y="",C=[],_=0;for(p=t.board.origin.scrCoords,C[_++]=[e,i,r,s,o,1/0];_>0;){if(e=(g=C[--_])[0],i=g[1],r=g[2],s=g[3],f=g[4],m=g[5],v=!1,y="",b=null,t.points.length>65536)return;if(f<this.nanLevel){if(this._isUndefined(t,e,i,r,s))continue;if(this._isOutside(e,i,r,s,t.board))continue}n=.5*(i+s),d=t.X(n,!0),u=t.Y(n,!0),a=[1,p[1]+d*t.board.unitX,p[2]-u*t.board.unitY],h=this._triangleDists(e,r,a),l=isNaN(e[1]+e[2]),c=isNaN(r[1]+r[2]),l&&!c||!l&&c?y="border":h[0]>.66*m||h[0]<this.cusp_threshold*(h[1]+h[2])||h[1]>5*h[2]||h[2]>5*h[1]?y="cusp":(h[2]>this.jump_threshold*h[0]||h[1]>this.jump_threshold*h[0]||h[0]===1/0||h[1]===1/0||h[2]===1/0)&&(y="jump"),v=""===y&&f<this.smoothLevel&&h[3]<this.smooth_threshold,f<this.testLevel&&!v&&(""===y?v=!0:b=this._getLimes(t,i,e,n,a,s,r,y,f)),null!==b?(a=[1,NaN,NaN],this._insertPoint(t,a,n,f,b)):f<=0||v?this._insertPoint(t,a,n,f,null):(C[_++]=[a,n,r,s,f-1,h[0]],C[_++]=[e,i,a,n,f-1,h[0]])}return this},updateParametricCurve_v3:function(t,r,s){var o,n,a,h,c,d,u,p,f=!1,m=new i(e.COORDS_BY_USER,[0,0],t.board,!1),g=new i(e.COORDS_BY_USER,[0,0],t.board,!1);return c=t.board.updateQuality===t.board.BOARD_QUALITY_LOW?l.evaluate(t.visProp.recursiondepthlow)||14:l.evaluate(t.visProp.recursiondepthhigh)||17,this.smoothLevel=7,this.nanLevel=c-4,this.testLevel=4,this.cusp_threshold=.5,this.jump_threshold=.99,this.smooth_threshold=2,t.points=[],"x"===t.xterm?(d=.3*((u=t.board.getBoundingBox())[2]-u[0]),o=Math.max(r,u[0]-d),n=Math.min(s,u[2]+d)):(o=r,n=s),m.setCoordinates(e.COORDS_BY_USER,[t.X(o,f),t.Y(o,f)],!1),f=!0,g.setCoordinates(e.COORDS_BY_USER,[t.X(n,f),t.Y(n,f)],!1),p=this._findStartPoint(t,m.scrCoords,o,g.scrCoords,n),m.setCoordinates(e.COORDS_BY_SCREEN,p[0],!1),o=p[1],p=this._findStartPoint(t,g.scrCoords,n,m.scrCoords,o),g.setCoordinates(e.COORDS_BY_SCREEN,p[0],!1),n=p[1],this._visibleArea=[o,n],a=m.copy("scrCoords"),h=g.copy("scrCoords"),m._t=o,t.points.push(m),this._lastScrCrds=m.copy("scrCoords"),this._lastUsrCrds=m.copy("usrCoords"),this._plotNonRecursive(t,a,o,h,n,c),g._t=n,t.points.push(g),t.numberPoints=t.points.length,t},_criticalInterval:function(t,e,i){var r,s,o,a,h,l,c,d=!1,u=-1/0,p=!1,f=!1,m=0,g=[],b=[],v=[];for(c=n.abs(t),(a=n.median(c))<1e-7?(a=1e-7,p=!0):a*=this.criticalThreshold,r=0;r<e;r++)c[r]>a?(v.push({i:r,v:t[r],group:m}),u=r,d||(d=!0)):d&&r>u+4&&(v.length>0&&g.push(v.slice(0)),v=[],d=!1,m++);for(d&&v.length>1&&g.push(v.slice(0)),p&&0===g.length&&(f=!0),s=0;s<g.length;s++)if(b[s]="point",!((o=g[s].length)<64)){for(l=0,h=Math.sign(g[s][0].v),r=1;r<o;r++)Math.sign(g[s][r].v)!==h&&(l++,h=Math.sign(g[s][r].v));6*l>o&&(b[s]="interval")}return{smooth:f,groups:g,types:b}},Component:function(){this.left_isNaN=!1,this.right_isNaN=!1,this.left_t=null,this.right_t=null,this.t_values=[],this.x_values=[],this.y_values=[],this.len=0},findComponents:function(t,e,i,r){var s,o,n,a,h,l,c=[],d=0,u=0,p=0,f=!1,m=!1;for(n=(i-e)/r,c[d]=new this.Component,l=c[d],s=0,o=e;s<=r;s++,o+=n)a=t.X(o,m),h=t.Y(o,m),isNaN(a)||isNaN(h)?++p>1&&f&&(l.right_isNaN=!0,l.right_t=o-n,l.len=u,f=!1,c[++d]=new this.Component,l=c[d],p=0):(f||(f=!0,u=0,p>0&&(l.left_t=o-n,l.left_isNaN=!0)),p=0,l.t_values[u]=o,l.x_values[u]=a,l.y_values[u]=h,u++),0===s&&(m=!0);return f?l.len=u:c.pop(),c},getPointType:function(t,e,i,r,s,o,n){var a=s[0],h=o[0],l=r.length,c={idx:e,t:i,x:a[e],y:h[e],type:"other"};return e<5?(c.type="borderleft",c.idx=0,c.t=r[0],c.x=a[0],c.y=h[0],c):e>n-6?(c.type="borderright",c.idx=l-1,c.t=r[l-1],c.x=a[l-1],c.y=h[l-1],c):c},newtonApprox:function(t,e,i,r,s){var o,n=0;for(o=r;o>0;o--)n=(n+s[o][t])*(e-(o-1)*i)/o;return n+s[0][t]},thiele:function(t,e,i,r,s){var o,n=0;for(o=s;o>1;o--)n=(t-i[r+o])/(e[o][r+1]-e[o-2][r+1]+n);return e[0][r+1]+(t-i[r+1])/(e[1][r+1]+n)},differenceMethodExperiments:function(t,e){var i,r,s,o,n,a,h,l,c,d,u,p=t.t_values,f=t.x_values,m=t.y_values,g=[],b=[],v=[],y=[],C=[],_=[],P=[],E=[],x=0,S=[];for(n=p[1]-p[0],C.push([]),_.push([]),P.push([]),E.push([]),s=m.length,i=0;i<s;i++)C[0][i]=f[i],_[0][i]=m[i],P[0][i]=f[i],E[0][i]=m[i];for(C.push([]),_.push([]),P.push([]),E.push([]),a=n,s=m.length-1,i=0;i<s;i++)g[i]=f[i+1]-f[i],b[i]=m[i+1]-m[i],v[i]=g[i],y[i]=b[i],C[1][i]=g[i],_[1][i]=b[i],P[1][i]=a/g[i],E[1][i]=a/b[i];for(s--,o=Math.min(8,m.length-1),r=1;r<o;r++){for(C.push([]),_.push([]),P.push([]),E.push([]),a*=n,i=0;i<s;i++)g[i]=g[i+1]-g[i],b[i]=b[i+1]-b[i],C[r+1][i]=g[i],_[r+1][i]=b[i],P[r+1][i]=a/(P[r][i+1]-P[r][i])+P[r-1][i+1],E[r+1][i]=a/(E[r][i+1]-E[r][i])+E[r-1][i+1];if(!1===(u=this._criticalPoints(b,s,r))){console.log("Polynomial of degree",r),u=[];break}if(u.length>0&&++x>1&&r%2==0)break;s--}for(i=0;i<u.length;i++){for(l=-1/0,c=0;c<u[i].length;c++)(d=Math.abs(u[i][c].v))>l&&(l=d,h=c);h=Math.floor(u[i][h].i+r/2),S.push(this.getPointType(e,h,p,f,m,v,y,s+1))}return[S,C,_,P,E]},getCenterOfCriticalInterval:function(t,e,i){var r,s,o,n,a,h=0,l=0,c=i[1]-i[0],d=[];for(r=-1/0,d=[],s=0;s<t.length;s++)(n=Math.abs(t[s].v))>r?(d=[s],r=n,o=s):r===n&&d.push(s);if(d.length>0&&(a=d.reduce((function(t,e){return t+e}),0)/d.length,o=Math.floor(a),a+=t[0].i),r<1/0){for(s=0;s<t.length;s++)h+=Math.abs(t[s].v)*t[s].i,l+=Math.abs(t[s].v);a=h/l}return a+=e/2,[t[o].i+e/2,a,i[Math.floor(a)]+c*(a-Math.floor(a))]},differenceMethod:function(t,e){var i,r,s,o,n,a,h,l,c,d,u=t.t_values,p=t.x_values,f=t.y_values,m=[],g=[],b=0,v=-1,y=-1,C=[],_=[];for(s=f.length,m.push(new Float64Array(p)),g.push(new Float64Array(f)),s--,o=Math.min(12,s),r=0;r<o&&(m.push(new Float64Array(s)),g.push(new Float64Array(s)),m[r+1]=m[r].map((function(t,e,i){return i[e+1]-t})),g[r+1]=g[r].map((function(t,e,i){return i[e+1]-t})),!0===(l=this._criticalInterval(g[r+1],s,r)).smooth&&(y=r,C=[]),h=this._criticalInterval(m[r+1],s,r),-1===v&&!0===h.smooth&&(v=r),!(y>=0));r++){if(l.groups.length>0&&++b>2&&(r+1)%2==0){C=l.groups,d=l.types;break}s--}for(i=0;i<C.length;i++)"interval"!==d[i]&&(a=this.getCenterOfCriticalInterval(C[i],r+1,u),l[0],n=Math.floor(a[1]),c=a[2],_.push(this.getPointType(e,n,c,u,m,g,s+1)));return[_,m,g,v,y]},_insertPoint_v4:function(t,r,s,o){var n,a,h,l=null;t.points.length>0&&(l=t.points[t.points.length-1].scrCoords),n=new i(e.COORDS_BY_USER,r,t.board),null!==l&&(a=n.scrCoords[1]-l[1])*a+(h=n.scrCoords[2]-l[2])*h<.8*.8||(n._t=s,t.points.push(n))},getInterval:function(e,i,r){var s,o;return h.disable(),s=h.Interval(i,r),e.board.mathLib=h,e.board.mathLibJXG=h,e.X(s,!0),o=e.Y(s,!0),e.board.mathLib=Math,e.board.mathLibJXG=t.Math,o},sign:function(t){return t<0?-1:t>0?1:0},handleBorder:function(t,e,i,r,s){var o,n,a,h,c,d,u,p,f,m,g,b,v=i.idx;if(b=e.t_values[1]-e.t_values[0],"borderleft"===i.type?a=(n=o=e.left_isNaN?e.left_t:i.t-b)+b:"borderright"===i.type?n=(a=o=e.right_isNaN?e.right_t:i.t+b)-b:console.log("No bordercase!!!"),0!==(m=this.findComponents(t,n,a,32)).length){for("borderleft"===i.type&&(n=m[0].left_t,a=m[0].t_values[0],b=m[0].t_values[1]-m[0].t_values[0],o=n=null===n?a-b:n,h=this.getInterval(t,n,a),l.isObject(h)&&(u=h.lo,p=h.hi,c=t.X(o,!0),d=s[1][v]<0?p:u,this._insertPoint_v4(t,[1,c,d],o))),g=m[0].t_values.length,f=0;f<g;f++)o=m[0].t_values[f],c=m[0].x_values[f],d=m[0].y_values[f],this._insertPoint_v4(t,[1,c,d],o);"borderright"===i.type&&(n=m[0].t_values[g-1],a=m[0].right_t,b=m[0].t_values[1]-m[0].t_values[0],o=a=null===a?n+b:a,h=this.getInterval(t,n,a),l.isObject(h)&&(u=h.lo,p=h.hi,c=t.X(o,!0),d=s[1][v]>0?p:u,this._insertPoint_v4(t,[1,c,d],o)))}},_seconditeration_v4:function(t,e,i,r,s){var o,n,a,h,l,c,d,u,p,f,m,g,b;for(n=e.t_values[i.idx-2],a=e.t_values[i.idx+2],l=this.findComponents(t,n,a,64),d=0;d<l.length;d++){for(c=l[d],u=(h=this.differenceMethod(c,t))[0],f=h[1],m=h[2],g=0,p=0;p<=u.length;p++){for(b=p===u.length?c.len:u[p].idx,o=g;o<b;o++)isNaN(c.x_values[o])||isNaN(c.y_values[o])||this._insertPoint_v4(t,[1,c.x_values[o],c.y_values[o]],c.t_values[o]);p<u.length&&(this.handleSingularity(t,c,u[p],f,m),g=u[p].idx+1)}b=c.len,d<l.length-1&&this._insertPoint_v4(t,[1,NaN,NaN],c.right_t)}return this},_recurse_v4:function(t,e,i,r,s,o,n,a){var h,l,c=.5*(e+i),d=t.X(c,!0),u=t.Y(c,!0);0!==a?(h=(d-r)*t.board.unitX,l=(u-s)*t.board.unitY,Math.sqrt(h*h+l*l)>2?this._recurse_v4(t,e,c,r,s,d,u,a-1):this._insertPoint_v4(t,[1,d,u],c),h=(d-o)*t.board.unitX,l=(u-n)*t.board.unitY,Math.sqrt(h*h+l*l)>2?this._recurse_v4(t,c,i,d,u,o,n,a-1):this._insertPoint_v4(t,[1,d,u],c)):this._insertPoint_v4(t,[1,NaN,NaN],c)},handleSingularity:function(t,e,i,r,s){var o,n,a,h,c,d,u,p,f,m,g,b=i.idx,v=100;o=i.t,console.log("HandleSingularity at t =",o),n=e.t_values[b-5],a=e.t_values[b+5],h=this.getInterval(t,n,a),l.isObject(h)?(p=h.lo,f=h.hi):s[0][b-1]<s[0][b+1]?(p=s[0][b-1],f=s[0][b+1]):(p=s[0][b+1],f=s[0][b-1]),u=t.X(o,!0),m=(s[0][b-3]-s[0][b-5])/(e.t_values[b-3]-e.t_values[b-5]),g=(s[0][b+3]-s[0][b+5])/(e.t_values[b+3]-e.t_values[b+5]),console.log(":::",m,g),m<-100?(this._insertPoint_v4(t,[1,u,p],o,!0),g<=v&&this._insertPoint_v4(t,[1,NaN,NaN],o)):m>v?(this._insertPoint_v4(t,[1,u,f],o),g>=-100&&this._insertPoint_v4(t,[1,NaN,NaN],o)):(p===-1/0&&(this._insertPoint_v4(t,[1,u,p],o,!0),this._insertPoint_v4(t,[1,NaN,NaN],o)),f===1/0&&(this._insertPoint_v4(t,[1,NaN,NaN],o),this._insertPoint_v4(t,[1,u,f],o,!0)),i.t<e.t_values[b]?(c=b-1,d=b):(c=b,d=b+1),n=e.t_values[c],a=e.t_values[d],this._recurse_v4(t,n,a,r[0][c],s[0][c],r[0][d],s[0][d],10)),g<-100?this._insertPoint_v4(t,[1,u,f],o):g>v&&this._insertPoint_v4(t,[1,u,p],o)},steps:1021,criticalThreshold:1e3,plot_v4:function(t,e,i,r){var s,n,a,h,c,d,u,p,f,m,g,b,v,y,C,_=(i-e)/r,P=function(e){return t.Y(e,!0)},E=function(e){return-t.Y(e,!0)},x=.5*_;for(a=this.findComponents(t,e,i,r),h=0;h<a.length;h++){for(c=a[h],d=(f=this.differenceMethod(c,t))[0],m=f[1],g=f[2],f[3],f[4],0!==d.length&&"borderleft"===d[0].type||d.unshift({idx:0,t:c.t_values[0],x:c.x_values[0],y:c.y_values[0],type:"borderleft"}),"borderright"!==d[d.length-1].type&&(n=c.t_values.length,d.push({idx:n-1,t:c.t_values[n-1],x:c.x_values[n-1],y:c.y_values[n-1],type:"borderright"})),p=0,u=0;u<=d.length;u++){for(n=u===d.length?c.len:d[u].idx-1,0,0,s=p;s<n-2;s++)this._insertPoint_v4(t,[1,c.x_values[s],c.y_values[s]],c.t_values[s]),Math.max(0,s-2),s>=p+3&&s<n-3&&g.length>3&&Math.abs(g[2][s])>.2*Math.abs(g[0][s])?(b=c.t_values[s],x=.25*_,C=this.getInterval(t,b,b+_),l.isObject(C)?g[2][s]>0?this._insertPoint_v4(t,[1,b+x,C.lo],b+x):this._insertPoint_v4(t,[1,b+_-x,C.hi],b+_-x):(v=o.fminbr(P,[b,b+_]))<(y=o.fminbr(E,[b,b+_]))?(this._insertPoint_v4(t,[1,t.X(v,!0),t.Y(v,!0)],v),this._insertPoint_v4(t,[1,t.X(y,!0),t.Y(y,!0)],y)):(this._insertPoint_v4(t,[1,t.X(y,!0),t.Y(y,!0)],y),this._insertPoint_v4(t,[1,t.X(v,!0),t.Y(v,!0)],v))):0;u<d.length&&(s=d[u].idx,"borderleft"===d[u].type||"borderright"===d[u].type?this.handleBorder(t,c,d[u],m,g):this._seconditeration_v4(t,c,d[u],m,g),p=d[u].idx+1+1)}n=c.len,h<a.length-1&&this._insertPoint_v4(t,[1,NaN,NaN],c.right_t)}},updateParametricCurve_v4:function(t,e,i){var r,s,o,n;"x"===t.xterm?(o=.3*((n=t.board.getBoundingBox())[2]-n[0]),r=Math.max(e,n[0]-o),s=Math.min(i,n[2]+o)):(r=e,s=i),t.points=[],this.plot_v4(t,r,s,this.steps),t.numberPoints=t.points.length},updateParametricCurve:function(t,e,i){return this.updateParametricCurve_v2(t,e,i)}},r.Plot})),define("math/metapost",["utils/type","math/math"],(function(t,e){"use strict";return e.Metapost={MP_ENDPOINT:0,MP_EXPLICIT:1,MP_GIVEN:2,MP_CURL:3,MP_OPEN:4,MP_END_CYCLE:5,UNITY:1,FRACTION_ONE:1,FRACTION_THREE:3,ONE_EIGHTY_DEG:Math.PI,THREE_SIXTY_DEG:2*Math.PI,EPS_SQ:1e-5*1e-5,make_choices:function(t){var e,i,r,s,o,n,a,h,l,c,d,u,p,f,m;a=t[0];do{if(!a)break;n=a.next,a.rtype>this.MP_EXPLICIT&&(a.x-n.x)*(a.x-n.x)+(a.y-n.y)*(a.y-n.y)<this.EPS_SQ&&(a.rtype=this.MP_EXPLICIT,a.ltype===this.MP_OPEN&&(a.ltype=this.MP_CURL,a.set_left_curl(this.UNITY)),n.ltype=this.MP_EXPLICIT,n.rtype===this.MP_OPEN&&(n.rtype=this.MP_CURL,n.set_right_curl(this.UNITY)),a.rx=a.x,n.lx=a.x,a.ry=a.y,n.ly=a.y),a=n}while(a!==t[0]);for(i=t[0];i.ltype===this.MP_OPEN&&i.rtype===this.MP_OPEN;)if((i=i.next)===t[0]){i.ltype=this.MP_END_CYCLE;break}for(a=i;a;){if(n=a.next,a.rtype>=this.MP_GIVEN){for(;n.ltype===this.MP_OPEN&&n.rtype===this.MP_OPEN;)n=n.next;for(r=0,h=a,o=t.length,u=[],p=[],f=[],m=[null];c=h.next,u.push(c.x-h.x),p.push(c.y-h.y),f.push(this.mp_pyth_add(u[r],p[r])),r>0&&(d=p[r-1]/f[r-1],l=u[r-1]/f[r-1],m.push(Math.atan2(p[r]*l-u[r]*d,u[r]*l+p[r]*d))),r++,(h=c)===n&&(o=r),!(r>=o&&h.ltype!==this.MP_END_CYCLE););r===o?m.push(0):m.push(m[1]),n.ltype===this.MP_OPEN&&((s=n.rx-n.x)*s+(e=n.ry-n.y)*e<this.EPS_SQ?(n.ltype=this.MP_CURL,n.set_left_curl(this.UNITY)):(n.ltype=this.MP_GIVEN,n.set_left_given(Math.atan2(e,s)))),a.rtype===this.MP_OPEN&&a.ltype===this.MP_EXPLICIT&&((s=a.x-a.lx)*s+(e=a.y-a.ly)*e<this.EPS_SQ?(a.rtype=this.MP_CURL,a.set_right_curl(this.UNITY)):(a.rtype=this.MP_GIVEN,a.set_right_given(Math.atan2(e,s)))),this.mp_solve_choices(a,n,o,u,p,f,m)}else a.rtype===this.MP_ENDPOINT&&(a.rx=a.x,a.ry=a.y,n.lx=n.x,n.ly=n.y);if((a=n)===i)break}},mp_solve_choices:function(t,e,i,r,s,o,n){var a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N,M,A,R;for(d=o.length+1,g=new Array(d),m=new Array(d),l=new Array(d),_=new Array(d),A=0;A<d;A++)_[A]=l[A]=m[A]=g[A]=0;for(p=0,f=t,v=0;;){if(y=f.next,0===p)if(f.rtype===this.MP_GIVEN){if(y.ltype===this.MP_GIVEN)return a=Math.atan2(s[0],r[0]),O=(S=this.mp_n_sin_cos(t.right_given()-a))[0],w=S[1],N=(T=this.mp_n_sin_cos(e.left_given()-a))[0],M=T[1],void this.mp_set_controls(t,e,r[0],s[0],w,O,-M,N);l[0]=f.right_given()-Math.atan2(s[0],r[0]),l[0]=this.reduce_angle(l[0]),g[0]=0,m[0]=0}else if(f.rtype===this.MP_CURL){if(y.ltype===this.MP_CURL)return t.rtype=this.MP_EXPLICIT,e.ltype=this.MP_EXPLICIT,b=Math.abs(e.left_tension()),P=Math.abs(t.right_tension()),C=this.UNITY/(3*P),t.rx=t.x+r[0]*C,t.ry=t.y+s[0]*C,C=this.UNITY/(3*b),e.lx=e.x-r[0]*C,void(e.ly=e.y-s[0]*C);x=f.right_curl(),b=Math.abs(y.left_tension()),P=Math.abs(f.right_tension()),g[0]=this.mp_curl_ratio(x,P,b),l[0]=-n[1]*g[0],m[0]=0}else f.rtype===this.MP_OPEN&&(g[0]=0,l[0]=0,m[0]=this.FRACTION_ONE);else if(f.ltype===this.MP_END_CYCLE||f.ltype===this.MP_OPEN){if(a=this.UNITY/(3*Math.abs(v.right_tension())-this.UNITY),E=o[p]*(this.FRACTION_THREE-this.UNITY/Math.abs(v.right_tension())),c=this.UNITY/(3*Math.abs(y.left_tension())-this.UNITY),u=o[p-1]*(this.FRACTION_THREE-this.UNITY/Math.abs(y.left_tension())),E*=x=this.FRACTION_ONE-g[p-1]*a,(b=Math.abs(f.left_tension()))<(P=Math.abs(f.right_tension()))?E*=Math.pow(b/P,2):b>P&&(u*=Math.pow(P/b,2)),C=u/(u+E),g[p]=C*c,h=-n[p+1]*g[p],v.rtype===this.MP_CURL?(m[p]=0,l[p]=h-n[1]*(this.FRACTION_ONE-C)):(C=(this.FRACTION_ONE-C)/x,h-=n[p]*C,C*=a,l[p]=h-l[p-1]*C,m[p]=-m[p-1]*C),f.ltype===this.MP_END_CYCLE){for(a=0,c=this.FRACTION_ONE;0===(p-=1)&&(p=i),a=l[p]-a*g[p],c=m[p]-c*g[p],p!==i;);for(a/=this.FRACTION_ONE-c,_[i]=a,l[0]=a,R=1;R<i;R++)l[R]=l[R]+a*m[R];break}}else{if(f.ltype===this.MP_CURL){x=f.left_curl(),b=Math.abs(f.left_tension()),P=Math.abs(v.right_tension()),C=this.mp_curl_ratio(x,b,P),_[i]=-l[i-1]*C/(this.FRACTION_ONE-C*g[i-1]);break}if(f.ltype===this.MP_GIVEN){_[i]=f.left_given()-Math.atan2(s[i-1],r[i-1]),_[i]=this.reduce_angle(_[i]);break}}v=f,f=y,p+=1}for(p=i-1;p>-1;p--)_[p]=l[p]-_[p+1]*g[p];for(f=t,p=0;y=f.next,O=(S=this.mp_n_sin_cos(_[p]))[0],w=S[1],N=(T=this.mp_n_sin_cos(-n[p+1]-_[p+1]))[0],M=T[1],this.mp_set_controls(f,y,r[p],s[p],w,O,M,N),f=y,++p!==i;);},mp_n_sin_cos:function(t){return[Math.cos(t),Math.sin(t)]},mp_set_controls:function(t,e,i,r,s,o,n,a){var h,l,c,d,u;c=Math.abs(e.left_tension()),h=Math.abs(t.right_tension()),u=this.mp_velocity(s,o,n,a,h),l=this.mp_velocity(n,a,s,o,c),(t.right_tension()<0||e.left_tension()<0)&&(s>=0&&n>=0||s<=0&&n<=0)&&(d=Math.abs(s)*a+Math.abs(n)*o)>0&&(d*=1.00024414062,t.right_tension()<0&&this.mp_ab_vs_cd(Math.abs(n),this.FRACTION_ONE,u,d)<0&&(u=Math.abs(n)/d),e.left_tension()<0&&this.mp_ab_vs_cd(Math.abs(s),this.FRACTION_ONE,l,d)<0&&(l=Math.abs(s)/d)),t.rx=t.x+(i*o-r*s)*u,t.ry=t.y+(r*o+i*s)*u,e.lx=e.x-(i*a+r*n)*l,e.ly=e.y-(r*a-i*n)*l,t.rtype=this.MP_EXPLICIT,e.ltype=this.MP_EXPLICIT},mp_pyth_add:function(t,e){return Math.sqrt(t*t+e*e)},mp_curl_ratio:function(t,e,i){var r=1/e,s=1/i;return Math.min(4,((3-r)*r*r*t+s*s*s)/(r*r*r*t+(3-s)*s*s))},mp_ab_vs_cd:function(t,e,i,r){return t*e==i*r?0:t*e>i*r?1:-1},mp_velocity:function(t,e,i,r,s){return Math.min(4,(2+Math.sqrt(2)*(t-i/16)*(i-t/16)*(e-r))/(1.5*s*(2+(Math.sqrt(5)-1)*e+(3-Math.sqrt(5))*r)))},reduce_angle:function(t){return Math.abs(t)>this.ONE_EIGHTY_DEG&&(t>0?t-=this.THREE_SIXTY_DEG:t+=this.THREE_SIXTY_DEG),t},makeknots:function(t,e,i){var r,s,o=[];for(e=e||1,s=t.length,r=0;r<s;r++)o.push({x:t[r][0],y:t[r][1],ltype:this.MP_OPEN,rtype:this.MP_OPEN,ly:e,ry:e,lx:e,rx:e,left_curl:function(){return this.lx||0},right_curl:function(){return this.rx||0},left_tension:function(){return this.ly||(this.ly=1),this.ly},right_tension:function(){return this.ry||(this.ry=1),this.ry},set_right_curl:function(t){this.rx=t||0},set_left_curl:function(t){this.lx=t||0}});for(s=o.length,r=0;r<s;r++)o[r].next=o[r+1]||o[r],o[r].set_right_given=o[r].set_right_curl,o[r].set_left_given=o[r].set_left_curl,o[r].right_given=o[r].right_curl,o[r].left_given=o[r].left_curl;return o[s-1].next=o[0],i||(o[s-1].rtype=this.MP_ENDPOINT,o[s-1].ltype=this.MP_CURL,o[0].rtype=this.MP_CURL),o},curve:function(e,i){var r,s,o,n,a=[],h=[];for(o in i=i||{tension:1,direction:{},curl:{},isClosed:!1},s=(r=this.makeknots(e,t.evaluate(i.tension),i.isClosed)).length,i.direction)i.direction.hasOwnProperty(o)&&(n=t.evaluate(i.direction[o]),t.isArray(n)?(!1!==n[0]&&(r[o].lx=n[0]*Math.PI/180,r[o].ltype=this.MP_GIVEN),!1!==n[1]&&(r[o].rx=n[1]*Math.PI/180,r[o].rtype=this.MP_GIVEN)):(r[o].lx=n*Math.PI/180,r[o].rx=n*Math.PI/180,r[o].ltype=r[o].rtype=this.MP_GIVEN));for(o in i.curl)i.curl.hasOwnProperty(o)&&(n=t.evaluate(i.curl[o]),0===parseInt(o,10)?(r[o].rtype=this.MP_CURL,r[o].set_right_curl(n)):parseInt(o,10)===s-1&&(r[o].ltype=this.MP_CURL,r[o].set_left_curl(n)));for(this.make_choices(r),o=0;o<s-1;o++)a.push(r[o].x),a.push(r[o].rx),a.push(r[o+1].lx),h.push(r[o].y),h.push(r[o].ry),h.push(r[o+1].ly);return a.push(r[s-1].x),h.push(r[s-1].y),i.isClosed&&(a.push(r[s-1].rx),h.push(r[s-1].ry),a.push(r[0].lx),h.push(r[0].ly),a.push(r[0].x),h.push(r[0].y)),[a,h]}},e.Metapost})),define("utils/zip",["jxg"],(function(t){"use strict";var e=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];return t.Util=t.Util||{},t.Util.Unzip=function(a){var h,l,c,d,u=[],p=0,f=[],m=new Array(32768),g=0,b=!1,v=a.length,y=0,C=1,_=new Array(288),P=new Array(32),E=0,x=null,S=(new Array(64),new Array(64),0),O=new Array(17),w=[];function T(){return 8,y<v?a[y++]:-1}function N(){C=1}function M(){var t;try{return t=1&C,0===(C>>=1)&&(t=1&(C=T()),C=C>>1|128),t}catch(t){throw t}}function A(t){var i=0,r=t;try{for(;r--;)i=i<<1|M();t&&(i=e[i]>>8-t)}catch(t){throw t}return i}function R(){g=0}function L(t){m[g++]=t,u.push(String.fromCharCode(t)),32768===g&&(g=0)}function k(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function D(){for(;;){if(O[S]>=d)return-1;if(c[O[S]]===S)return O[S]++;O[S]++}}function B(){var t,e=x[E];if(17===S)return-1;if(E++,S++,(t=D())>=0)e.b0=t;else if(e.b0=32768,B())return-1;if((t=D())>=0)e.b1=t,e.jump=null;else if(e.b1=32768,e.jump=x[E],e.jumppos=E,B())return-1;return S--,0}function I(t,e,i,r){var s;for(x=t,E=0,c=i,d=e,s=0;s<17;s++)O[s]=0;return S=0,B()?-1:0}function Y(t){for(var e,i,r=0,s=t[r];;)if(M()){if(!(32768&s.b1))return s.b1;for(s=s.jump,e=t.length,i=0;i<e;i++)if(t[i]===s){r=i;break}}else{if(!(32768&s.b0))return s.b0;s=t[++r]}}function j(){var a,h,l,c,d,u,p,f,b,v,y,C,E,x,S;do{if(a=M(),0===(h=A(2)))for(N(),b=T(),b|=T()<<8,y=T(),65535&(b^~(y|=T()<<8))&&t.debug("BlockLen checksum mismatch\n");b--;)L(T());else if(1===h)for(;;)if((c=e[A(7)]>>1)>23?(c=c<<1|M())>199?c=(c-=128)<<1|M():(c-=48)>143&&(c+=136):c+=256,c<256)L(c);else{if(256===c)break;for(f=A(r[c-=257])+i[c],c=e[A(5)]>>3,o[c]>8?(v=A(8),v|=A(o[c]-8)<<8):v=A(o[c]),v+=s[c],c=0;c<f;c++)L(m[g-v&32767])}else if(2===h){for(u=new Array(320),E=257+A(5),x=1+A(5),S=4+A(4),c=0;c<19;c++)u[c]=0;for(c=0;c<S;c++)u[n[c]]=A(3);for(f=P.length,l=0;l<f;l++)P[l]=new k;if(I(P,19,u))return R(),1;for(C=E+x,l=0,-1;l<C;)if((c=Y(P))<16)u[l++]=c;else if(16===c){if(l+(c=3+A(2))>C)return R(),1;for(d=l?u[l-1]:0;c--;)u[l++]=d}else{if(l+(c=17===c?3+A(3):11+A(7))>C)return R(),1;for(;c--;)u[l++]=0}for(f=_.length,l=0;l<f;l++)_[l]=new k;if(I(_,E,u))return R(),1;for(f=_.length,l=0;l<f;l++)P[l]=new k;for(p=[],l=E;l<u.length;l++)p[l-E]=u[l];if(I(P,x,p))return R(),1;for(;;)if((c=Y(_))>=256){if(0===(c-=256))break;for(f=A(r[c-=1])+i[c],c=Y(P),o[c]>8?(v=A(8),v|=A(o[c]-8)<<8):v=A(o[c]),v+=s[c];f--;)L(m[g-v&32767])}else L(c)}}while(!a);return R(),N(),0}function X(){var t,e,i,r,s,o=[];try{if(u=[],b=!1,o[0]=T(),o[1]=T(),120===o[0]&&218===o[1]&&(j(),f[p]=[u.join(""),"geonext.gxt"],p++),31===o[0]&&139===o[1]&&(F(),f[p]=[u.join(""),"file"],p++),80===o[0]&&75===o[1]){if(b=!0,o[2]=T(),o[3]=T(),3===o[2]&&4===o[3]){for(o[0]=T(),o[1]=T(),h=T(),h|=T()<<8,s=T(),s|=T()<<8,T(),T(),T(),T(),T(),T()<<8,T()<<16,T()<<24,T(),T()<<8,T()<<16,T()<<24,T(),T()<<8,T()<<16,T()<<24,r=T(),r|=T()<<8,i=T(),i|=T()<<8,t=0,w=[];r--;)"/"===(e=T())|":"===e?t=0:t<255&&(w[t++]=String.fromCharCode(e));for(l||(l=w),t=0;t<i;)e=T(),t++;if(0,8===s&&(j(),f[p]=new Array(2),f[p][0]=u.join(""),f[p][1]=w.join(""),p++),F())return!1}return!0}}catch(t){throw t}return!1}function F(){var t,e,i=[];if(8&h&&(i[0]=T(),i[1]=T(),i[2]=T(),i[3]=T(),80===i[0]&&75===i[1]&&7===i[2]&&8===i[3]?(T(),T()<<8,T()<<16,T()<<24):i[0]|i[1]<<8|i[2]<<16|i[3]<<24,T(),T()<<8,T()<<16,T()<<24,T(),T()<<8,T()<<16,T()<<24),b&&X())return!1;if(i[0]=T(),8!==i[0])return!0;if(h=T(),T(),T(),T(),T(),T(),T(),4&h)for(i[0]=T(),i[2]=T(),S=i[0]+256*i[1],t=0;t<S;t++)T();if(8&h)for(t=0,w=[],e=T();e;)"7"!==e&&":"!==e||(t=0),t<255&&(w[t++]=e),e=T();if(16&h)for(e=T();e;)e=T();return 2&h&&(T(),T()),j(),T(),T()<<8,T()<<16,T()<<24,T(),T()<<8,T()<<16,T()<<24,b&&X(),!1}O[0]=0,t.Util.Unzip.prototype.unzipFile=function(t){var e;for(this.unzip(),e=0;e<f.length;e++)if(f[e][1]===t)return f[e][0];return""},t.Util.Unzip.prototype.unzip=function(){return X(),f}},t.Util})),define("utils/encoding",["jxg"],(function(t){"use strict";var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];return t.Util=t.Util||{},t.Util.UTF8={encode:function(t){var e,i,r="",s=t.length;if(t=t.replace(/\r\n/g,"\n"),"function"==typeof unescape&&"function"==typeof encodeURIComponent)return unescape(encodeURIComponent(t));for(e=0;e<s;e++)(i=t.charCodeAt(e))<128?r+=String.fromCharCode(i):i>127&&i<2048?(r+=String.fromCharCode(i>>6|192),r+=String.fromCharCode(63&i|128)):(r+=String.fromCharCode(i>>12|224),r+=String.fromCharCode(i>>6&63|128),r+=String.fromCharCode(63&i|128));return r},decode:function(t){var i,r,s,o=0,n=0,a=0,h=[],l=t.length,c=[];for(i=0;i<l;i++)r=t.charCodeAt(i),s=e[r],n=0!==a?63&r|n<<6:255>>s&r,0===(a=e[256+a+s])&&(n>65535?h.push(55232+(n>>10),56320+(1023&n)):h.push(n),++o%1e4==0&&(c.push(String.fromCharCode.apply(null,h)),h=[]));return c.push(String.fromCharCode.apply(null,h)),c.join("")},asciiCharCodeAt:function(t,e){var i=t.charCodeAt(e);if(i>255)switch(i){case 8364:i=128;break;case 8218:i=130;break;case 402:i=131;break;case 8222:i=132;break;case 8230:i=133;break;case 8224:i=134;break;case 8225:i=135;break;case 710:i=136;break;case 8240:i=137;break;case 352:i=138;break;case 8249:i=139;break;case 338:i=140;break;case 381:i=142;break;case 8216:i=145;break;case 8217:i=146;break;case 8220:i=147;break;case 8221:i=148;break;case 8226:i=149;break;case 8211:i=150;break;case 8212:i=151;break;case 732:i=152;break;case 8482:i=153;break;case 353:i=154;break;case 8250:i=155;break;case 339:i=156;break;case 382:i=158;break;case 376:i=159}return i}},t.Util.UTF8})),define("utils/base64",["jxg","utils/encoding"],(function(t,e){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="=";function s(t,e){return 255&t.charCodeAt(e)}function o(t,e){return i.indexOf(t.charAt(e))}return t.Util=t.Util||{},t.Util.Base64={encode:function(t){var o,n,a,h,l,c=[];for(h=(a=(l=e.encode(t)).length)%3,o=0;o<a-h;o+=3)n=s(l,o)<<16|s(l,o+1)<<8|s(l,o+2),c.push(i.charAt(n>>18),i.charAt(n>>12&63),i.charAt(n>>6&63),i.charAt(63&n));switch(h){case 1:n=s(l,a-1),c.push(i.charAt(n>>2),i.charAt(n<<4&63),r,r);break;case 2:n=s(l,a-2)<<8|s(l,a-1),c.push(i.charAt(n>>10),i.charAt(n>>4&63),i.charAt(n<<2&63),r)}return c.join("")},decode:function(t,i){var s,n,a,h,l,c,d=[],u=[];if((a=(s=t.replace(/[^A-Za-z0-9+/=]/g,"")).length)%4!=0)throw new Error("JSXGraph/utils/base64: Can't decode string (invalid input length).");for(s.charAt(a-1)===r&&(h=1,s.charAt(a-2)===r&&(h=2),a-=4),n=0;n<a;n+=4)l=o(s,n)<<18|o(s,n+1)<<12|o(s,n+2)<<6|o(s,n+3),u.push(l>>16,l>>8&255,255&l),n%1e4==0&&(d.push(String.fromCharCode.apply(null,u)),u=[]);switch(h){case 1:l=o(s,a)<<12|o(s,a+1)<<6|o(s,a+2),u.push(l>>10,l>>2&255);break;case 2:l=o(s,n)<<6|o(s,n+1),u.push(l>>4)}return d.push(String.fromCharCode.apply(null,u)),c=d.join(""),i&&(c=e.decode(c)),c},decodeAsArray:function(t){var e,i=this.decode(t),r=[],s=i.length;for(e=0;e<s;e++)r[e]=i.charCodeAt(e);return r}},t.Util.Base64})),define("server/server",["jxg","utils/zip","utils/base64","utils/type"],(function(t,e,i,r){"use strict";return t.Server={modules:{},runningCalls:{},handleError:function(e){t.debug("error occured, server says: "+e.message)},callServer:function(s,o,n,a){var h,l,c,d,u,p,f;for(p in a=a||!1,"",n)n.hasOwnProperty(p)&&"&"+escape(p)+"="+escape(n[p]);u=r.toJSON(n);do{d=s+Math.floor(4096*Math.random())}while(r.exists(this.runningCalls[d]));return this.runningCalls[d]={action:s},r.exists(n.module)&&(this.runningCalls[d].module=n.module),h=t.serverBase+"JXGServer.py",l="action="+escape(s)+"&id="+d+"&dataJSON="+escape(i.encode(u)),this.cbp=function(t){var s,n,a,h,l,c,d,u;if(s=new e.Unzip(i.decodeAsArray(t)).unzip(),r.isArray(s)&&s.length>0&&(s=s[0][0]),r.exists(s))if("error"===(n=window.JSON&&window.JSON.parse?window.JSON.parse(s):new Function("return "+s)()).type)this.handleError(n);else if("response"===n.type){for(c=n.id,d=0;d<n.fields.length;d++)h=(a=n.fields[d]).namespace+("object"==typeof new Function("return "+a.namespace)()?".":".prototype.")+a.name+" = "+a.value,new Function(h)();for(d=0;d<n.handler.length;d++){for(a=n.handler[d],l=[],u=0;u<a.parameters.length;u++)l[u]='"'+a.parameters[u]+'": '+a.parameters[u];h="if(typeof JXG.Server.modules."+this.runningCalls[c].module+' == "undefined")JXG.Server.modules.'+this.runningCalls[c].module+" = {};",h+="JXG.Server.modules."+this.runningCalls[c].module+"."+a.name+"_cb = "+a.callback+";",h+="JXG.Server.modules."+this.runningCalls[c].module+"."+a.name+" = function ("+a.parameters.join(",")+', __JXGSERVER_CB__, __JXGSERVER_SYNC) {if(typeof __JXGSERVER_CB__ == "undefined") __JXGSERVER_CB__ = JXG.Server.modules.'+this.runningCalls[c].module+"."+a.name+"_cb;var __JXGSERVER_PAR__ = {"+l.join(",")+', "module": "'+this.runningCalls[c].module+'", "handler": "'+a.name+'" };JXG.Server.callServer("exec", __JXGSERVER_CB__, __JXGSERVER_PAR__, __JXGSERVER_SYNC);};',new Function(h)()}delete this.runningCalls[c],o(n.data)}},this.cb=t.bind(this.cbp,this),window.XMLHttpRequest?(c=new XMLHttpRequest).overrideMimeType("text/plain; charset=iso-8859-1"):c=new ActiveXObject("Microsoft.XMLHTTP"),!(!c||(c.open("POST",h,!a),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a||(c.onreadystatechange=(f=this.cb,function(){return 4===c.readyState&&200===c.status&&(f(c.responseText),!0)})),c.send(l),!a))&&(this.cb(c.responseText),!0)},loadModule_cb:function(e){var i;for(i=0;i<e.length;i++)t.debug(e[i].name+": "+e[i].value)},loadModule:function(e){return t.Server.callServer("load",t.Server.loadModule_cb,{module:e},!0)}},t.Server.load=t.Server.loadModule,t.Server})),define("math/symbolic",["base/constants","base/coords","math/math","math/geometry","server/server","utils/type"],(function(t,e,i,r,s,o){"use strict";var n;return i.Symbolic={generateSymbolicCoordinatesPartial:function(t,e,i,r){var s,n,a,h=e.ancestors,l=0,c=function(t){return"underscore"===r?i+"_{"+t+"}":"brace"===r?i+"["+t+"]":i+t};for(n in t.listOfFreePoints=[],t.listOfDependantPoints=[],h)if(h.hasOwnProperty(n)&&(s=0,o.isPoint(h[n]))){for(a in h[n].ancestors)h[n].ancestors.hasOwnProperty(a)&&s++;0===s?(h[n].symbolic.x=h[n].coords.usrCoords[1],h[n].symbolic.y=h[n].coords.usrCoords[2],t.listOfFreePoints.push(h[n])):(l+=1,h[n].symbolic.x=c(l),l+=1,h[n].symbolic.y=c(l),t.listOfDependantPoints.push(h[n]))}return o.isPoint(e)&&(e.symbolic.x="x",e.symbolic.y="y"),l},clearSymbolicCoordinates:function(t){var e=function(t){var e,i=t&&t.length||0;for(e=0;e<i;e++)o.isPoint(t[e])&&(t[e].symbolic.x="",t[e].symbolic.y="")};e(t.listOfFreePoints),e(t.listOfDependantPoints),delete t.listOfFreePoints,delete t.listOfDependantPoints},generatePolynomials:function(t,e,i){var r,s,n,a,h=e.ancestors,l=[],c=[];for(r in i&&this.generateSymbolicCoordinatesPartial(t,e,"u","brace"),h[e.id]=e,h)if(h.hasOwnProperty(r)&&(a=0,l=[],o.isPoint(h[r]))){for(s in h[r].ancestors)h[r].ancestors.hasOwnProperty(s)&&a++;if(a>0)for(l=h[r].generatePolynomial(),n=0;n<l.length;n++)c.push(l[n])}return i&&this.clearSymbolicCoordinates(t),c},geometricLocusByGroebnerBase:function(a,h){var l,c,d,u,p,f,m,g,b,v,y,C,_=a.options.locus,P={},E=this.generateSymbolicCoordinatesPartial(a,h,"u","brace"),x=new e(t.COORDS_BY_USR,[0,0],a),S=new e(t.COORDS_BY_USR,[a.canvasWidth,a.canvasHeight],a),O=1,w=0,T=0,N=0;if(s.modules.geoloci===n&&s.loadModule("geoloci"),s.modules.geoloci===n)throw new Error("JSXGraph: Unable to load JXG.Server module 'geoloci.py'.");if(f=x.usrCoords[1],m=S.usrCoords[1],g=S.usrCoords[2],b=x.usrCoords[2],_.translateToOrigin&&a.listOfFreePoints.length>0){for(w=(d=_.toOrigin!==n&&null!==_.toOrigin&&o.isInArray(a.listOfFreePoints,_.toOrigin.id)?_.toOrigin:a.listOfFreePoints[0]).symbolic.x,T=d.symbolic.y,p=0;p<a.listOfFreePoints.length;p++)a.listOfFreePoints[p].symbolic.x-=w,a.listOfFreePoints[p].symbolic.y-=T;if(f-=w,m-=w,g-=T,b-=T,_.translateTo10&&a.listOfFreePoints.length>1){for(u=_.to10!==n&&null!==_.to10&&_.to10.id!==_.toOrigin.id&&o.isInArray(a.listOfFreePoints,_.to10.id)?_.to10:a.listOfFreePoints[0].id===d.id?a.listOfFreePoints[1]:a.listOfFreePoints[0],N=r.rad([1,0],[0,0],[u.symbolic.x,u.symbolic.y]),v=Math.cos(-N),y=Math.sin(-N),p=0;p<a.listOfFreePoints.length;p++)C=a.listOfFreePoints[p].symbolic.x,a.listOfFreePoints[p].symbolic.x=v*a.listOfFreePoints[p].symbolic.x-y*a.listOfFreePoints[p].symbolic.y,a.listOfFreePoints[p].symbolic.y=y*C+v*a.listOfFreePoints[p].symbolic.y;if(u.symbolic.y=0,C=f,f=v*f-y*g,g=y*C+v*g,C=m,m=v*m-y*b,b=y*C+v*b,_.stretch&&Math.abs(u.symbolic.x)>i.eps){for(O=u.symbolic.x,p=0;p<a.listOfFreePoints.length;p++)a.listOfFreePoints[p].symbolic.x/=O,a.listOfFreePoints[p].symbolic.y/=O;for(p=0;p<a.objectsList.length;p++)a.objectsList[p].elementClass===t.OBJECT_CLASS_CIRCLE&&"pointRadius"===a.objectsList[p].method&&(P[p]=a.objectsList[p].radius,a.objectsList[p].radius/=O);f/=O,m/=O,g/=O,b/=O,u.symbolic.x=1}}for(p=0;p<a.listOfFreePoints.length;p++)C=a.listOfFreePoints[p].symbolic.x,Math.abs(C)<i.eps&&(a.listOfFreePoints[p].symbolic.x=0),Math.abs(C-Math.round(C))<i.eps&&(a.listOfFreePoints[p].symbolic.x=Math.round(C)),C=a.listOfFreePoints[p].symbolic.y,Math.abs(C)<i.eps&&(a.listOfFreePoints[p].symbolic.y=0),Math.abs(C-Math.round(C))<i.eps&&(a.listOfFreePoints[p].symbolic.y=Math.round(C))}for(p in l=this.generatePolynomials(a,h).join(","),this.cbp=function(t){c=t},this.cb=o.bind(this.cbp,this),s.modules.geoloci.lociCoCoA(f,m,g,b,E,l,O,N,w,T,this.cb,!0),this.clearSymbolicCoordinates(a),P)P.hasOwnProperty(p)&&(a.objects[p].radius=P[p]);return c}},i.Symbolic})),define("math/clip",["jxg","base/constants","base/coords","math/math","math/geometry","utils/type"],(function(t,e,i,r,s,o){"use strict";return r.Clip={_isSeparator:function(t){return isNaN(t.coords.usrCoords[1])&&isNaN(t.coords.usrCoords[2])},makeDoublyLinkedList:function(t){var e,i=null,r=[],s=t.length;if(s>0)for(e=0;e<s;e++)this._isSeparator(t[e])?(t[e]._next=t[(e+1)%s],t[e]._prev=t[(s+e-1)%s]):(null===i&&(i=e,r.push(i)),this._isSeparator(t[(e+1)%s])||e===s-1?(t[e]._next=t[i],t[i]._prev=t[e],t[e]._end=!0,i=null):(t[e]._next=t[(e+1)%s],t[i]._prev=t[e]),this._isSeparator(t[(s+e-1)%s])||(t[e]._prev=t[(s+e-1)%s]));return r},det:function(t,e,i){return(t[1]-i[1])*(e[2]-i[2])-(e[1]-i[1])*(t[2]-i[2])},windingNumber:function(t,e){var i,s,o,n,a,h=0,l=e.length,c=t[1],d=t[2];if(0===l)return 0;if(isNaN(c)||isNaN(d))return 1;if(e[0].coords.usrCoords[1]===c&&e[0].coords.usrCoords[2]===d)return 1;for(a=0;a<l;a++)if(i=e[a].coords.usrCoords,s=e[(a+1)%l].coords.usrCoords,!(0===i[0]||0===s[0]||isNaN(i[1])||isNaN(s[1])||isNaN(i[2])||isNaN(s[2]))){if(s[2]===d){if(s[1]===c)return 1;if(i[2]===d&&s[1]>c==i[1]<c)return 0}if(i[2]<d!=s[2]<d)if(n=2*(s[2]>i[2]?1:0)-1,i[1]>=c)if(s[1]>c)h+=n;else{if(0===(o=this.det(i,s,t)))return 0;o>0==s[2]>i[2]&&(h+=n)}else s[1]>c&&(o=this.det(i,s,t))>0+r.eps==s[2]>i[2]&&(h+=n)}return h},Vertex:function(t,i,r,s,o,n){this.pos=i,this.intersection=!0,this.coords=t,this.elementClass=e.OBJECT_CLASS_POINT,this.data={alpha:r,path:s,pathname:o,done:!1,type:n,idx:0},this.neighbour=null,this.entry_exit=!1},_addToList:function(t,i,s){var o=t.length,n=r.eps*r.eps;o>0&&Math.abs(t[o-1].coords.usrCoords[0]-i.usrCoords[0])<n&&Math.abs(t[o-1].coords.usrCoords[1]-i.usrCoords[1])<n&&Math.abs(t[o-1].coords.usrCoords[2]-i.usrCoords[2])<n||t.push({pos:s,intersection:!1,coords:i,elementClass:e.OBJECT_CLASS_POINT})},sortIntersections:function(t){var e,i,r,s,o,n,a=[],h=t.length;for(e=0;e<h;e++)if(t[e].sort((function(t,e){return t.data.alpha>e.data.alpha?1:-1})),t[e].length>0){for(o=t[e].length-1,n=(s=(r=t[e][0]).data.path[r.pos])._next,e===h-1&&(s._end=!1),0===r.data.alpha&&"T"===r.data.type?(s.intersection=!0,s.data=r.data,s.neighbour=r.neighbour,s.neighbour.neighbour=s,s.entry_exit=!1,t[e][0]=s):(r._prev=s,r._prev._next=r),i=1;i<=o;i++)(r=t[e][i])._prev=t[e][i-1],r._prev._next=r;(r=t[e][o])._next=n,r._next._prev=r,e===h-1&&(r._end=!0),a=a.concat(t[e])}return a},_inbetween:function(t,e,i){var s,o=r.eps*r.eps,n=i[1]-e[1],a=i[2]-e[2],h=t[1]-e[1],l=t[2]-e[2];return 0===n&&0===a&&0===h&&0===l||(s=Math.abs(h)<o&&Math.abs(n)<o?l/a:h/n,Math.abs(s)<o&&(s=0),s)},_print_array:function(t){var e,i;for(e=0;e<t.length;e++)try{i="",t[e]._end&&(i=" end"),console.log(e,t[e].coords.usrCoords,t[e].data.type,"\t","prev",t[e]._prev.coords.usrCoords,"next",t[e]._next.coords.usrCoords+i)}catch(i){console.log(e,t[e].coords.usrCoords)}},_print_list:function(t){for(var e,i=0;i<100&&(e=t.data?t.data.alpha:"-",console.log("\t",t.coords.usrCoords,"\n\t\tis:",t.intersection,"end:",t._end,e,"\n\t\t-:",t._prev.coords.usrCoords,"\n\t\t+:",t._next.coords.usrCoords,"\n\t\tn:",t.intersection?t.neighbour.coords.usrCoords:"-"),!t._end);)t=t._next,i++},_noOverlap:function(t,e,i,s){var o,n,a,h,l,c=Math.sqrt(r.eps),d=!1;for(o=0;o<3;o++)if(n=Math.min(t[o],e[o]),a=Math.max(t[o],e[o]),h=Math.min(i[o],s[o]),l=Math.max(i[o],s[o]),a<h-c||n>l+c){d=!0;break}return d},findIntersections:function(t,o,n){var a,h,l,c,d,u,p,f,m,g,b,v,y,C=[],_=r.eps,P=t.length,E=o.length,x=[],S=[],O=[],w=!1,T=!1,N=!1;for(h=0;h<E;h++)O.push([]);for(a=0;a<P;a++)if(S.push([]),this._isSeparator(t[a])||this._isSeparator(t[(a+1)%P]))w=!0;else{if(w&&a===P-1)break;for(c=t[a].coords.usrCoords,d=t[(a+1)%P].coords.usrCoords,h=0;h<E;h++)if(this._isSeparator(o[h])||this._isSeparator(o[(h+1)%E]))T=!0;else{if(T&&h===E-1)break;if(u=o[h].coords.usrCoords,p=o[(h+1)%E].coords.usrCoords,!this._noOverlap(c,d,u,p)&&(C=s.meetSegmentSegment(c,d,u,p),f=s.distance(c,d,3),m=s.distance(u,p,3),C[1]*f>-_&&C[1]<1-_/f&&C[2]*m>-_&&C[2]<1-_/m||C[1]===1/0&&C[2]===1/0&&r.norm(C[0],3)<_)){if(l=new i(e.COORDS_BY_USER,C[0],n),b="X",Math.abs(C[1])*f<_||Math.abs(C[2])*m<_)b="T",Math.abs(C[1])*f<_&&(C[1]=0),Math.abs(C[2])*m<_&&(C[2]=0),l=0===C[1]?new i(e.COORDS_BY_USER,c,n):new i(e.COORDS_BY_USER,u,n);else if(C[1]===1/0&&C[2]===1/0&&r.norm(C[0],3)<_){(g=this._inbetween(c,u,p))>=0&&g<1&&(b="T",l=new i(e.COORDS_BY_USER,c,n),C[1]=0,C[2]=g,v=new this.Vertex(l,a,C[1],t,"S",b),y=new this.Vertex(l,h,C[2],o,"C",b),v.neighbour=y,y.neighbour=v,S[a].push(v),O[h].push(y)),g=this._inbetween(u,c,d),s.distance(c,u,3)>_&&g>=0&&g<1&&(b="T",l=new i(e.COORDS_BY_USER,u,n),C[1]=g,C[2]=0,v=new this.Vertex(l,a,C[1],t,"S",b),y=new this.Vertex(l,h,C[2],o,"C",b),v.neighbour=y,y.neighbour=v,S[a].push(v),O[h].push(y));continue}N,v=new this.Vertex(l,a,C[1],t,"S",b),y=new this.Vertex(l,h,C[2],o,"C",b),v.neighbour=y,y.neighbour=v,S[a].push(v),O[h].push(y)}}}for(x=this.sortIntersections(S),a=0;a<x.length;a++)x[a].data.idx=a,x[a].neighbour.data.idx=a;return[x,this.sortIntersections(O)]},_getPosition:function(t,e,i,r){var s=this.det(t,e,i),o=this.det(t,i,r);return this.det(e,i,r)>=0?s>=0&&o>=0?"left":"right":s>=0||o>=0?"left":"right"},_classifyDegenerateIntersections:function(t){var e,i,n,a,h,l,c,d,u,p,f,m,g,b=!1;for(b,c=0,t._tours=0;;){if(t.intersection&&"T"===t.data.type&&(e=t._next.coords.usrCoords,i=t._prev.coords.usrCoords,s.distance(t.coords.usrCoords,e,3)<r.eps&&(e=t._next._next.coords.usrCoords),s.distance(t.coords.usrCoords,i,3)<r.eps&&(i=t._prev._prev.coords.usrCoords),a=(h=t.neighbour)._prev.coords.usrCoords,n=h._next.coords.usrCoords,s.distance(h.coords.usrCoords,n,3)<r.eps&&(n=h._next._next.coords.usrCoords),s.distance(h.coords.usrCoords,a,3)<r.eps&&(a=h._prev._prev.coords.usrCoords),p=this.det(t.coords.usrCoords,i,a),f=this.det(t.coords.usrCoords,e,n),m=this.det(t.coords.usrCoords,i,n),g=this.det(t.coords.usrCoords,e,a),0===p&&0===f&&0===m&&0===g&&(t.coords.usrCoords[1]*=1+Math.random()*r.eps,t.coords.usrCoords[2]*=1+Math.random()*r.eps,h.coords.usrCoords[1]=t.coords.usrCoords[1],h.coords.usrCoords[2]=t.coords.usrCoords[2],p=this.det(t.coords.usrCoords,i,a),f=this.det(t.coords.usrCoords,e,n),m=this.det(t.coords.usrCoords,i,n),g=this.det(t.coords.usrCoords,e,a)),u=!1,0===p?s.affineRatio(t.coords.usrCoords,i,a)<0&&(u=!0):0===f?s.affineRatio(t.coords.usrCoords,e,n)<0&&(u=!0):0===m?s.affineRatio(t.coords.usrCoords,i,n)>0&&(u=!0):0===g&&s.affineRatio(t.coords.usrCoords,e,a)>0&&(u=!0),u&&(d=a,a=n,n=d,d=p,p=m,m=d,d=f,f=g,g=d),o.exists(t.delayedStatus)||(t.delayedStatus=[]),0===p&&0===f?t.delayedStatus=["on","on"]:0===p?(l=this._getPosition(e,a,h.coords.usrCoords,n),t.delayedStatus=["on",l]):0===f?(l=this._getPosition(i,a,h.coords.usrCoords,n),t.delayedStatus=[l,"on"]):0===t.delayedStatus.length&&(this._getPosition(i,a,h.coords.usrCoords,n)!==this._getPosition(e,a,h.coords.usrCoords,n)?t.data.type="X":t.data.type="B")),o.exists(t._tours)&&t._tours++,t._tours>3||t._end||c>1e3){c>1e3&&console.log("Clipping: _classifyDegenerateIntersections exit"),o.exists(t._tours)&&delete t._tours;break}t.intersection&&c++,t=t._next}},_handleIntersectionChains:function(t){var e,i=0,r="Null",s=!1,o=!1,n=!1;for(n;!0===t.intersection&&("T"===t.data.type&&("on"!==t.delayedStatus[0]&&"on"===t.delayedStatus[1]?(s=!0,e=t,r=t.delayedStatus[0]):s&&"on"===t.delayedStatus[0]&&"on"===t.delayedStatus[1]?t.data.type="B":s&&"on"===t.delayedStatus[0]&&"on"!==t.delayedStatus[1]&&(s=!1,r===t.delayedStatus[1]?(e.data.type="DB",t.data.type="DB"):(e.data.type="DX",t.data.type="DX"))),i++),t._end&&(o=!0),!o||s;){if(i>1e3){console.log("Warning: _handleIntersectionChains: intersection chain reached maximum numbers of iterations");break}t=t._next}},_handleFullyDegenerateCase:function(t,s,o){var n,a,h,l,c,d,u,p,f,m,g,b,v,y=[t,s];for(h=0;h<2;h++){for(m=(n=y[h]).length,p=0,v=!0;p<m;p++)if(!n[p].intersection){v=!1;break}if(v)for(g=(a=y[(h+1)%2]).length,p=0;p<m;p++){for(c=n[p].coords.usrCoords,d=n[(p+1)%m].coords.usrCoords,l=[.5*(c[0]+d[0]),.5*(c[1]+d[1]),.5*(c[2]+d[2])],f=0,b=!1;f<g;f++)if(Math.abs(this.det(a[f].coords.usrCoords,a[(f+1)%g].coords.usrCoords,l))<r.eps){b=!0;break}if(!b){u={pos:p,intersection:!1,coords:new i(e.COORDS_BY_USER,l,o),elementClass:e.OBJECT_CLASS_POINT},n[p]._next=u,u._prev=n[p],n[(p+1)%m]._prev=u,u._next=n[(p+1)%m],n[p]._end&&(n[p]._end=!1,u._end=!0);break}}}},_getStatus:function(t,e){for(;t.intersection&&!t._end;)t=t._next;return[t,this.windingNumber(t.coords.usrCoords,e)%2==0?"entry":"exit"]},markEntryExit:function(t,e,i){var r,s,n,a,h,l,c,d=null,u=0;for(l=i.length,h=0;h<l;h++)for(c=i[h],this._classifyDegenerateIntersections(t[c]),this._handleIntersectionChains(t[c]),s=(a=this._getStatus(t[c],e))[0],r=a[1],s._starter=!0,n=0,d=null,u=0;!0===s.intersection&&("X"===s.data.type&&1===u&&(d.entry_exit=r,"exit"===r&&(d.data.type="X"),u=2),"X"!==s.data.type&&"DB"!==s.data.type||(s.entry_exit=r,r="entry"===r?"exit":"entry"),"DX"===s.data.type&&(0===u?(d=s,u=1):1===u?(s.entry_exit=r,d.entry_exit=r,"exit"===r?d.data.type="X":s.data.type="X",r="entry"===r?"exit":"entry",d=null,u=0):2===u&&(s.entry_exit=r,s.data.type="X",r="entry"===r?"exit":"entry",d=null,u=0))),s=s._next,!(o.exists(s._starter)||n>1e4);)n++},_stayOnPath:function(t,e){var i=!0;return t.intersection&&"B"!==t.data.type&&(i=e===t.entry_exit),i},_addVertex:function(t,e,i){return isNaN(e.coords.usrCoords[1])||isNaN(e.coords.usrCoords[2])||t.push(e),e.intersection&&e.data.done?(i&&console.log("Add last intersection point",e.coords.usrCoords,"on",e.data.pathname,e.entry_exit,e.data.type),!0):(e.intersection&&(e.data.done=!0,i&&console.log("Add intersection point",e.coords.usrCoords,"on",e.data.pathname,e.entry_exit,e.data.type)),!1)},tracing:function(t,e,i){var r,s,o,n,a=0,h=1e4,l=0,c=[],d=!1,u=!1;for(u;l<e.length&&a<h;)if((s=e[l]).data.done||"X"!==s.data.type)l++;else{u,c.length>0&&c.push([NaN,NaN]),o=s.data.idx,r=t,d=this._addVertex(c,s,u),n=s.entry_exit;do{if(d)break;if("intersection"===i&&"entry"===s.entry_exit||"union"===i&&"exit"===s.entry_exit||"difference"===i&&r===t==("exit"===s.entry_exit)){u;do{if(s=s._next,d=this._addVertex(c,s,u))break}while(this._stayOnPath(s,n));a++}else{u;do{if(s=s._prev,d=this._addVertex(c,s,u))break}while(this._stayOnPath(s,n));a++}if(d)break;if(!s.neighbour)return console.log("Tracing: emergency break - no neighbour!!!!!!!!!!!!!!!!!",a),[[0],[0]];if((s=s.neighbour).data.done)break;s.data.done=!0,n=s.entry_exit,r=s.data.path}while(s.data.idx!==o&&a<h);a>=h&&console.log("Tracing: stopping an infinite loop!",a),l++}return this._getCoordsArrays(c,!1)},isEmptyCase:function(t,e,i){return"intersection"===i&&(0===t.length||0===e.length)||("union"===i&&0===t.length&&0===e.length||"difference"===i&&0===t.length)},_getCoordsArrays:function(t,e){var i,r=[],s=[],o=t.length;for(i=0;i<o;i++)t[i].coords?(r.push(t[i].coords.usrCoords[1]),s.push(t[i].coords.usrCoords[2])):(r.push(t[i][0]),s.push(t[i][1]));return e&&o>0&&(t[0].coords?(r.push(t[0].coords.usrCoords[1]),s.push(t[0].coords.usrCoords[2])):(r.push(t[0][0]),s.push(t[0][1]))),[r,s]},handleEmptyIntersection:function(t,e,i){var r,o,n=!1,a=[];if(0===t.length)return a="union"===i?e:[],this._getCoordsArrays(a,!0);if(0===e.length)return a="intersection"===i?[]:t,this._getCoordsArrays(a,!0);if(t.length>0)for(r=t[0];r.intersection&&!(r=r._next)._end;);if(e.length>0)for(o=e[0];o.intersection&&!(o=o._next)._end;);return 0===this.windingNumber(r.coords.usrCoords,e)?0!==this.windingNumber(o.coords.usrCoords,t)?("union"===i?(a=a.concat(t)).push(t[0]):"difference"===i&&((a=a.concat(t)).push(t[0]),s.signedPolygon(t)*s.signedPolygon(e)>0&&a.reverse(),a.push([NaN,NaN])),"difference"!==i&&"intersection"!==i||((a=a.concat(e)).push(e[0]),n=!1)):"difference"===i?(a=a.concat(t),n=!0):"union"===i&&((a=a.concat(t)).push(t[0]),a.push([NaN,NaN]),(a=a.concat(e)).push(e[0])):"intersection"===i?(a=a.concat(t),n=!0):"union"===i&&(a=a.concat(e)).push(e[0]),this._getCoordsArrays(a,n)},_countCrossingIntersections:function(t){var e,i=t.length,r=0;for(e=0;e<i;e++)"X"===t[e].data.type&&r++;return r},_getPath:function(t,r){var n,a,h,l,c,d,u,p=[];if(t.elementClass!==e.OBJECT_CLASS_CURVE||t.type!==e.OBJECT_TYPE_ARC&&t.type!==e.OBJECT_TYPE_SECTOR){if(t.elementClass===e.OBJECT_CLASS_CURVE&&o.exists(t.points))for(a=t.numberPoints,n=0;n<a;n++)this._addToList(p,t.points[n],n);else if(t.type===e.OBJECT_TYPE_POLYGON)for(n=0;n<t.vertices.length;n++)this._addToList(p,t.vertices[n].coords,n);else if(t.elementClass===e.OBJECT_CLASS_CIRCLE)for(u=359,h=t.Radius(),l=2*Math.PI/u,n=0;n<=u;n++)this._addToList(p,new i(e.COORDS_BY_USER,[t.center.coords.usrCoords[0],t.center.coords.usrCoords[1]+Math.cos(n*l)*h,t.center.coords.usrCoords[2]+Math.sin(n*l)*h],r),n);else if(o.isArray(t))for(a=t.length,n=0;n<a;n++)o.exists(t[n].coords)?this._addToList(p,t[n].coords,n):o.isArray(t[n])?this._addToList(p,new i(e.COORDS_BY_USER,t[n],r),n):o.exists(t[n].usrCoords)&&this._addToList(p,t[n],n)}else{for(c=s.rad(t.radiuspoint,t.center,t.anglepoint),u=Math.floor(180*c/Math.PI),h=t.Radius(),l=c/u,d=Math.atan2(t.radiuspoint.coords.usrCoords[2]-t.center.coords.usrCoords[2],t.radiuspoint.coords.usrCoords[1]-t.center.coords.usrCoords[1]),t.type===e.OBJECT_TYPE_SECTOR&&this._addToList(p,t.center.coords,0),n=0;n<=u;n++)this._addToList(p,new i(e.COORDS_BY_USER,[t.center.coords.usrCoords[0],t.center.coords.usrCoords[1]+Math.cos(n*l+d)*h,t.center.coords.usrCoords[2]+Math.sin(n*l+d)*h],r),n+1);t.type===e.OBJECT_TYPE_SECTOR&&this._addToList(p,t.center.coords,u+2)}return p},greinerHormann:function(t,e,i,o){var n,a,h,l,c=[],d=[];return(n=(c=this._getPath(t,o)).length)>0&&s.distance(c[0].coords.usrCoords,c[n-1].coords.usrCoords,3)<r.eps&&c.pop(),(n=(d=this._getPath(e,o)).length)>0&&s.distance(d[0].coords.usrCoords,d[n-1].coords.usrCoords,3)<r.eps*r.eps&&d.pop(),this.isEmptyCase(c,d,i)?[[],[]]:(h=this.makeDoublyLinkedList(c),l=this.makeDoublyLinkedList(d),a=this.findIntersections(c,d,o)[0],this._handleFullyDegenerateCase(c,d,o),this.markEntryExit(c,d,h),this.markEntryExit(d,c,l),0===this._countCrossingIntersections(a)?this.handleEmptyIntersection(c,d,i):this.tracing(c,a,i))},union:function(t,e,i){return this.greinerHormann(t,e,"union",i)},intersection:function(t,e,i){return this.greinerHormann(t,e,"intersection",i)},difference:function(t,e,i){return this.greinerHormann(t,e,"difference",i)}},t.extend(r.Clip,{}),r.Clip})),define("math/poly",["jxg","math/math","utils/type"],(function(t,e,i){"use strict";return e.Poly={},e.Poly.Ring=function(t){this.vars=t},t.extend(e.Poly.Ring.prototype,{}),e.Poly.Monomial=function(t,e,r){var s;if(!i.exists(t))throw new Error("JSXGraph error: In JXG.Math.Poly.monomial missing parameter 'ring'.");for(i.isArray(r)||(r=[]),s=(r=r.slice(0,t.vars.length)).length;s<t.vars.length;s++)r.push(0);this.ring=t,this.coefficient=e||0,this.exponents=i.deepCopy(r)},t.extend(e.Poly.Monomial.prototype,{copy:function(){return new e.Poly.Monomial(this.ring,this.coefficient,this.exponents)},print:function(){var t,e=[];for(t=0;t<this.ring.vars.length;t++)e.push(this.ring.vars[t]+"^"+this.exponents[t]);return this.coefficient+"*"+e.join("*")}}),e.Poly.Polynomial=function(t,e){var r;if(!i.exists(t))throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial missing parameter 'ring'.");r=i.exists(e)&&i.isString(e)?void 0:[],this.ring=t,this.monomials=r},t.extend(e.Poly.Polynomial.prototype,{findSignature:function(t){var e;for(e=0;e<this.monomials.length;e++)if(i.cmpArrays(this.monomials[e].exponents,t))return e;return-1},addSubMonomial:function(t,e){var i;(i=this.findSignature(t.exponents))>-1?this.monomials[i].coefficient+=e*t.coefficient:(t.coefficient*=e,this.monomials.push(t))},add:function(t){var e;if(!i.exists(t)||t.ring!==this.ring)throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.add either summand is undefined or rings don't match.");if(i.isArray(t.exponents))this.addSubMonomial(t,1);else for(e=0;e<t.monomials.length;e++)this.addSubMonomial(t.monomials[e],1)},sub:function(t){var e;if(!i.exists(t)||t.ring!==this.ring)throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.sub either summand is undefined or rings don't match.");if(i.isArray(t.exponents))this.addSubMonomial(t,-1);else for(e=0;e<t.monomials.length;e++)this.addSubMonomial(t.monomials[e],-1)},copy:function(){var t,i;for(i=new e.Poly.Polynomial(this.ring),t=0;t<this.monomials.length;t++)i.monomials.push(this.monomials[t].copy());return i},print:function(){var t,e=[];for(t=0;t<this.monomials.length;t++)e.push("("+this.monomials[t].print()+")");return e.join("+")}}),e.Poly})),define("math/complex",["jxg","utils/type"],(function(t,e){"use strict";return t.Complex=function(t,e){this.isComplex=!0,t&&t.isComplex&&(e=t.imaginary,t=t.real),this.real=t||0,this.imaginary=e||0,this.absval=0,this.angle=0},t.extend(t.Complex.prototype,{toString:function(){return this.real+" + "+this.imaginary+"i"},add:function(t){return e.isNumber(t)?this.real+=t:(this.real+=t.real,this.imaginary+=t.imaginary),this},sub:function(t){return e.isNumber(t)?this.real-=t:(this.real-=t.real,this.imaginary-=t.imaginary),this},mult:function(t){var i,r;return e.isNumber(t)?(this.real*=t,this.imaginary*=t):(i=this.real,r=this.imaginary,this.real=i*t.real-r*t.imaginary,this.imaginary=i*t.imaginary+r*t.real),this},div:function(t){var i,r,s;if(e.isNumber(t)){if(Math.abs(t)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;this.real/=t,this.imaginary/=t}else{if(Math.abs(t.real)<Math.eps&&Math.abs(t.imaginary)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;i=t.real*t.real+t.imaginary*t.imaginary,s=this.real,r=this.imaginary,this.real=(s*t.real+r*t.imaginary)/i,this.imaginary=(r*t.real-s*t.imaginary)/i}return this},conj:function(){return this.imaginary*=-1,this}}),t.C={},t.C.add=function(e,i){var r=new t.Complex(e);return r.add(i),r},t.C.sub=function(e,i){var r=new t.Complex(e);return r.sub(i),r},t.C.mult=function(e,i){var r=new t.Complex(e);return r.mult(i),r},t.C.div=function(e,i){var r=new t.Complex(e);return r.div(i),r},t.C.conj=function(e){var i=new t.Complex(e);return i.conj(),i},t.C.abs=function(e){var i=new t.Complex(e);return i.conj(),i.mult(e),Math.sqrt(i.real)},t.Complex.C=t.C,t.Complex})),define("utils/color",["jxg","utils/type","math/math"],(function(t,e,i){"use strict";var r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},s=[{re:/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d.]{1,3})\s*\)\s*$/,example:["rgba(123, 234, 45, 0.5)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}];return t.rgbParser=function(t,i,o){var n,a,h,l,c,d,u,p,f,m,g=t;if(!e.exists(t))return[];if(e.exists(i)&&e.exists(o)&&(g=[t,i,o]),n=g,m=!1,e.isArray(n)){for(d=0;d<3;d++)m=m||/\./.test(g[d].toString());for(d=0;d<3;d++)m=m&&g[d]>=0&&g[d]<=1;return m?[Math.ceil(255*g[0]),Math.ceil(255*g[1]),Math.ceil(255*g[2])]:g}for("string"==typeof g&&(n=g),"#"===n.charAt(0)&&(n=n.substr(1,6)),n=n.replace(/ /g,"").toLowerCase(),n=r[n]||n,d=0;d<s.length;d++)h=s[d].re,l=s[d].process,(c=h.exec(n))&&(u=(a=l(c))[0],p=a[1],f=a[2]);return isNaN(u)||isNaN(p)||isNaN(f)?[]:[u=u<0||isNaN(u)?0:u>255?255:u,p=p<0||isNaN(p)?0:p>255?255:p,f=f<0||isNaN(f)?0:f>255?255:f]},t.rgb2css=function(e,i,r){var s;return"rgb("+(s=t.rgbParser(e,i,r))[0]+", "+s[1]+", "+s[2]+")"},t.rgb2hex=function(e,i,r){var s,o,n;return o=(s=t.rgbParser(e,i,r))[1],n=s[2],s=(s=s[0]).toString(16),o=o.toString(16),n=n.toString(16),1===s.length&&(s="0"+s),1===o.length&&(o="0"+o),1===n.length&&(n="0"+n),"#"+s+o+n},t.hex2rgb=function(e){return t.deprecated("JXG.hex2rgb()","JXG.rgb2css()"),t.rgb2css(e)},t.hsv2rgb=function(t,e,r){var s,o,n,a,h,l,c,d,u;if(t=(t%360+360)%360,0===e){if(!(isNaN(t)||t<i.eps))return"#ffffff";s=r,o=r,n=r}else switch(l=t>=360?0:t,c=r*(1-e),d=r*(1-e*(a=(l/=60)-(h=Math.floor(l)))),u=r*(1-e*(1-a)),h){case 0:s=r,o=u,n=c;break;case 1:s=d,o=r,n=c;break;case 2:s=c,o=r,n=u;break;case 3:s=c,o=d,n=r;break;case 4:s=u,o=c,n=r;break;case 5:s=r,o=c,n=d}return["#",s=2===(s=Math.round(255*s).toString(16)).length?s:1===s.length?"0"+s:"00",o=2===(o=Math.round(255*o).toString(16)).length?o:1===o.length?"0"+o:"00",n=2===(n=Math.round(255*n).toString(16)).length?n:1===n.length?"0"+n:"00"].join("")},t.rgb2hsv=function(e,i,r){var s,o,n,a,h,l,c,d,u,p,f,m,g;return o=(s=t.rgbParser(e,i,r))[1],n=s[2],a=(s=s[0])/255,h=o/255,l=n/255,m=Math.max(s,o,n),d=(g=Math.min(s,o,n))/255,p=0,(f=c=m/255)>0&&(p=(f-d)/f),u=1/(c-d),p>0&&(m===s?u*=h-l:u=m===o?2+(l-a)*u:4+(a-h)*u),(u*=60)<0&&(u+=360),m===g&&(u=0),[u,p,f]},t.rgb2LMS=function(e,i,r){var s,o,n,a,h,l,c,d=[[.05059983,.08585369,.0095242],[.01893033,.08925308,.01370054],[.00292202,.00975732,.07145979]];return o=(s=t.rgbParser(e,i,r))[1],n=s[2],s=s[0],s=Math.pow(s,.476190476),o=Math.pow(o,.476190476),n=Math.pow(n,.476190476),(c=[a=s*d[0][0]+o*d[0][1]+n*d[0][2],h=s*d[1][0]+o*d[1][1]+n*d[1][2],l=s*d[2][0]+o*d[2][1]+n*d[2][2]]).l=a,c.m=h,c.s=l,c},t.LMS2rgb=function(t,e,i){var r,s,o,n,a=[[30.830854,-29.832659,1.610474],[-6.481468,17.715578,-2.532642],[-.37569,-1.199062,14.273846]],h=function(t){for(var e=127,i=64;i>0;){if(Math.pow(e,.476190476)>t)e-=i;else{if(Math.pow(e+1,.476190476)>t)return e;e+=i}i/=2}return 254===e&&13.994955247<t?255:e};return r=t*a[0][0]+e*a[0][1]+i*a[0][2],s=t*a[1][0]+e*a[1][1]+i*a[1][2],o=t*a[2][0]+e*a[2][1]+i*a[2][2],(n=[r=h(r),s=h(s),o=h(o)]).r=r,n.g=s,n.b=o,n},t.rgba2rgbo=function(t){var e;return 9===t.length&&"#"===t.charAt(0)?(e=parseInt(t.substr(7,2).toUpperCase(),16)/255,t=t.substr(0,7)):e=1,[t,e]},t.rgbo2rgba=function(t,e){var i;return"none"===t?t:(1===(i=Math.round(255*e).toString(16)).length&&(i="0"+i),t+i)},t.rgb2bw=function(e){var i,r,s,o="0123456789ABCDEF";return"none"===e?e:(s=t.rgbParser(e),i=Math.floor(.3*s[0]+.59*s[1]+.11*s[2]),e="#"+(r=o.charAt(i>>4&15)+o.charAt(15&i))+r+r)},t.rgb2cb=function(e,i){var r,s,o,n,a,h,l,c,d,u,p,f="0123456789ABCDEF";if("none"===e)return e;switch(s=(a=t.rgb2LMS(e))[0],o=a[1],n=a[2],i=i.toLowerCase()){case"protanopia":h=-.06150039994295001,l=.08277001656812001,c=-.013200141220000003,d=.05858939668799999,u=-.07934519995360001,p=.013289415272000003,s=n/o<.6903216543277437?-(l*o+c*n)/h:-(u*o+p*n)/d;break;case"tritanopia":h=-.00058973116217,l=.007690316482,c=-.01011703519052,d=.025495080838999994,u=-.0422740347,p=.017005316784,n=o/s<.8349489908460004?-(h*s+l*o)/c:-(d*s+u*o)/p;break;default:h=-.06150039994295001,l=.08277001656812001,c=-.013200141220000003,d=.05858939668799999,u=-.07934519995360001,p=.013289415272000003,o=n/s<.5763833686400911?-(h*s+c*n)/l:-(d*s+p*n)/u}return r=t.LMS2rgb(s,o,n),e="#"+(f.charAt(r[0]>>4&15)+f.charAt(15&r[0])),e+=f.charAt(r[1]>>4&15)+f.charAt(15&r[1]),e+=f.charAt(r[2]>>4&15)+f.charAt(15&r[2])},t.autoHighlight=function(e){var i=t.rgba2rgbo(e),r=i[0],s=i[1];return"#"===e.charAt(0)?(s*=s<.3?1.8:.4,t.rgbo2rgba(r,s)):e},t.contrast=function(e,i,r,s){var o,n,a,h,l;return i=i||"#000000",r=r||"#ffffff",s=s||7,o=t.rgbParser(e),n=t.rgbParser("#000000"),l=(a=.2126*Math.pow(o[0]/255,2.2)+.7152*Math.pow(o[1]/255,2.2)+.0722*Math.pow(o[2]/255,2.2))>(h=.2126*Math.pow(n[0]/255,2.2)+.7152*Math.pow(n[1]/255,2.2)+.0722*Math.pow(n[2]/255,2.2))?Math.floor((a+.05)/(h+.05)):Math.floor((h+.05)/(a+.05)),(l-=1)>s?i:r},t.setClassicColors=function(){t.Options.elements.strokeColor="blue",t.Options.elements.fillColor="red",t.Options.hatch.strokeColor="blue",t.Options.angle.fillColor="#ff7f00",t.Options.angle.highlightFillColor="#ff7f00",t.Options.angle.strokeColor="#ff7f00",t.Options.angle.label.strokeColor="blue",t.Options.arc.strokeColor="blue",t.Options.circle.center.fillColor="red",t.Options.circle.center.strokeColor="blue",t.Options.circumcircle.strokeColor="blue",t.Options.circumcircle.center.fillColor="red",t.Options.circumcircle.center.strokeColor="blue",t.Options.circumcirclearc.strokeColor="blue",t.Options.circumcirclesector.strokeColor="blue",t.Options.circumcirclesector.fillColor="green",t.Options.circumcirclesector.highlightFillColor="green",t.Options.conic.strokeColor="blue",t.Options.curve.strokeColor="blue",t.Options.incircle.strokeColor="blue",t.Options.incircle.center.fillColor="red",t.Options.incircle.center.strokeColor="blue",t.Options.inequality.fillColor="red",t.Options.integral.fillColor="red",t.Options.integral.curveLeft.color="red",t.Options.integral.curveRight.color="red",t.Options.line.strokeColor="blue",t.Options.point.fillColor="red",t.Options.point.strokeColor="red",t.Options.polygon.fillColor="green",t.Options.polygon.highlightFillColor="green",t.Options.polygon.vertices.strokeColor="red",t.Options.polygon.vertices.fillColor="red",t.Options.regularpolygon.fillColor="green",t.Options.regularpolygon.highlightFillColor="green",t.Options.regularpolygon.vertices.strokeColor="red",t.Options.regularpolygon.vertices.fillColor="red",t.Options.riemannsum.fillColor="yellow",t.Options.sector.fillColor="green",t.Options.sector.highlightFillColor="green",t.Options.semicircle.center.fillColor="red",t.Options.semicircle.center.strokeColor="blue",t.Options.slopetriangle.fillColor="red",t.Options.slopetriangle.highlightFillColor="red",t.Options.turtle.arrow.strokeColor="blue"},t.extend(t,{paletteWong:{black:"#000000",orange:"#E69F00",skyblue:"#56B4E9",bluishgreen:"#009E73",yellow:"#F0E442",darkblue:"#0072B2",vermillion:"#D55E00",reddishpurple:"#CC79A7",blue:"#0072B2",red:"#D55E00",green:"#009E73",purple:"#CC79A7",white:"#ffffff"}}),t.palette=t.paletteWong,t})),define("options",["jxg","base/constants","math/math","utils/color","utils/type"],(function(t,e,i,r,s){"use strict";return t.Options={jc:{enabled:!0,compile:!0},board:{boundingBox:[-5,5,5,-5],maxBoundingBox:[-1/0,1/0,1/0,-1/0],zoomFactor:1,zoomX:1,zoomY:1,title:"",description:"",showCopyright:!0,axis:!1,defaultAxes:{x:{name:"x",ticks:{label:{visible:"inherit",anchorX:"middle",anchorY:"top",fontSize:12,offset:[0,-3]},drawZero:!1,visible:"inherit"}},y:{name:"y",ticks:{label:{visible:"inherit",anchorX:"right",anchorY:"middle",fontSize:12,offset:[-6,0]},tickEndings:[1,0],drawZero:!1,visible:"inherit"}}},showNavigation:!0,showZoom:!0,showReload:!1,showScreenshot:!1,screenshot:{scale:1,type:"png",symbol:"⌘",css:"background-color:#eeeeee; opacity:1.0; border:2px solid black; border-radius:10px; text-align:center",cssButton:"padding: 4px 10px; border: solid #356AA0 1px; border-radius: 5px; position: absolute; right: 2ex; top: 2ex; background-color: rgba(255, 255, 255, 0.3);"},showFullscreen:!1,fullscreen:{symbol:"□",id:null},showClearTraces:!1,keepAspectRatio:!1,ignoreLabels:!0,maxNameLength:1,document:!1,takeFirst:!1,takeSizeFromFile:!1,renderer:"auto",animationDelay:35,maxFrameRate:40,registerEvents:!0,minimizeReflow:"none",offsetX:0,offsetY:0,zoom:{enabled:!0,factorX:1.25,factorY:1.25,wheel:!0,needShift:!0,min:1e-4,max:1e4,pinchHorizontal:!0,pinchVertical:!0,pinchSensitivity:7},pan:{needShift:!0,needTwoFingers:!1,enabled:!0},drag:{enabled:!0},keyboard:{enabled:!0,dx:10,dy:10,panShift:!0,panCtrl:!1},resize:{enabled:!0,throttle:10},moveTarget:null,selection:{enabled:!1,name:"selectionPolygon",needShift:!1,needCtrl:!0,withLines:!1,vertices:{visible:!1},fillColor:"#ffff00",visible:!1},showInfobox:!0},navbar:{strokeColor:"#333333",fillColor:"transparent",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"14px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"5px"},elements:{strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",fillColor:r.palette.red,highlightFillColor:"none",strokeOpacity:1,highlightStrokeOpacity:1,fillOpacity:1,highlightFillOpacity:1,gradient:null,gradientSecondColor:"#ffffff",gradientSecondOpacity:1,gradientStartOffset:0,gradientEndOffset:1,gradientAngle:0,gradientCX:.5,gradientCY:.5,gradientR:.5,gradientFX:.5,gradientFY:.5,gradientFR:0,transitionDuration:100,strokeWidth:2,highlightStrokeWidth:2,fixed:!1,frozen:!1,withLabel:!1,visible:!0,priv:!1,layer:0,dash:0,shadow:!1,trace:!1,traceAttributes:{},highlight:!0,needsRegularUpdate:!0,snapToGrid:!1,scalable:!0,dragToTopOfLayer:!1,precision:"inherit",draft:{draft:!1,strokeColor:"#565656",fillColor:"#565656",strokeOpacity:.8,fillOpacity:.8,strokeWidth:1},isLabel:!1,tabindex:0},ticks:{generateLabelText:null,generateLabelValue:null,drawLabels:!1,label:{},beautifulScientificTickLabels:!1,useUnicodeMinus:!0,anchor:"left",drawZero:!1,insertTicks:!1,minTicksDistance:10,minorHeight:4,majorHeight:10,tickEndings:[1,1],minorTicks:4,scale:1,scaleSymbol:"",labels:[],maxLabelLength:5,precision:3,digits:3,ticksDistance:1,face:"|",strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"none",highlightFillColor:"none",visible:"inherit",includeBoundaries:!1,type:"linear"},hatch:{drawLabels:!1,drawZero:!0,majorHeight:20,anchor:"middle",face:"|",strokeWidth:2,strokeColor:r.palette.blue,ticksDistance:.2},precision:{touch:30,touchMax:100,mouse:4,pen:4,epsilon:1e-4,hasPoint:4},layer:{numlayers:20,unused9:19,unused8:18,unused7:17,unused6:16,unused5:15,unused4:14,unused3:13,unused2:12,unused1:11,unused0:10,text:9,point:9,glider:9,arc:8,line:7,circle:6,curve:5,turtle:5,polygon:3,sector:3,angle:3,integral:3,axis:2,ticks:2,grid:1,image:0,trace:0},angle:{withLabel:!0,radius:"auto",type:"sector",orthoType:"square",orthoSensitivity:1,fillColor:r.palette.orange,highlightFillColor:r.palette.orange,strokeColor:r.palette.orange,fillOpacity:.3,highlightFillOpacity:.3,radiuspoint:{withLabel:!1,visible:!1,name:""},pointsquare:{withLabel:!1,visible:!1,name:""},dot:{visible:!1,strokeColor:"none",fillColor:"#000000",size:2,face:"o",withLabel:!1,name:""},label:{position:"top",offset:[0,0],strokeColor:r.palette.blue},arc:{visible:!1,fillColor:"none"}},arc:{selection:"auto",hasInnerPoints:!1,label:{anchorX:"auto",anchorY:"auto"},firstArrow:!1,lastArrow:!1,fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",useDirection:!1,center:{},radiusPoint:{},anglePoint:{}},arrow:{firstArrow:!1,lastArrow:{type:1,highlightSize:6,size:6}},axis:{name:"",needsRegularUpdate:!1,strokeWidth:1,lastArrow:{type:1,highlightSize:8,size:8},strokeColor:"#666666",highlightStrokeWidth:1,highlightStrokeColor:"#888888",withTicks:!0,straightFirst:!0,straightLast:!0,margin:-4,withLabel:!1,scalable:!1,ticks:{label:{offset:[4,-9],parse:!1,needsRegularUpdate:!1,display:"internal",visible:"inherit",layer:9},visible:"inherit",needsRegularUpdate:!1,strokeWidth:1,strokeColor:"#666666",highlightStrokeColor:"#888888",drawLabels:!0,drawZero:!1,insertTicks:!0,minTicksDistance:5,minorHeight:10,majorHeight:-1,tickEndings:[0,1],minorTicks:4,ticksDistance:1,strokeOpacity:.25},point1:{needsRegularUpdate:!1,visible:!1},point2:{needsRegularUpdate:!1,visible:!1},tabindex:-1,label:{position:"lft",offset:[10,10]}},bisector:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},bisectorlines:{line1:{strokeColor:"#000000"},line2:{strokeColor:"#000000"}},boxplot:{dir:"vertical",smallWidth:.5,strokeWidth:2,strokeColor:r.palette.blue,fillColor:r.palette.blue,fillOpacity:.2,highlightStrokeWidth:2,highlightStrokeColor:r.palette.blue,highlightFillColor:r.palette.blue,highlightFillOpacity:.1},button:{disabled:!1,display:"html"},cardinalspline:{createPoints:!0,isArrayOfCoordinates:!1,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},chart:{chartStyle:"line",colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],highlightcolors:null,fillcolor:null,highlightonsector:!1,highlightbysize:!1,fillOpacity:.6,withLines:!1,label:{}},checkbox:{disabled:!1,checked:!1,display:"html"},circle:{hasInnerPoints:!1,fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},label:{position:"urt"}},circumcircle:{fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},circumcirclearc:{fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,name:""}},circumcirclesector:{useDirection:!0,fillColor:r.palette.yellow,highlightFillColor:r.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},conic:{fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",foci:{fixed:!1,visible:!1,withLabel:!1,name:""},center:{visible:!1,withLabel:!1,name:""},point:{withLabel:!1,name:""},line:{visible:!1}},curve:{strokeWidth:1,strokeColor:r.palette.blue,fillColor:"none",fixed:!0,useQDT:!1,handDrawing:!1,curveType:null,RDPsmoothing:!1,numberPointsHigh:1600,numberPointsLow:400,doAdvancedPlot:!0,recursionDepthHigh:17,recursionDepthLow:15,doAdvancedPlotOld:!1,plotVersion:2,label:{position:"lft"},firstArrow:!1,lastArrow:!1},foreignobject:{attractors:[],fixed:!0,visible:!0},glider:{label:{}},grid:{needsRegularUpdate:!1,hasGrid:!1,gridX:1,gridY:1,strokeColor:"#c0c0c0",strokeOpacity:.5,strokeWidth:1,dash:0,snapToGrid:!1,snapSizeX:10,snapSizeY:10},group:{needsRegularUpdate:!0},htmlslider:{widthRange:100,widthOut:34,step:.01,frozen:!0,isLabel:!1,strokeColor:"#000000",display:"html",anchorX:"left",anchorY:"middle",withLabel:!1},image:{imageString:null,fillOpacity:1,highlightFillOpacity:.6,cssClass:"JXGimage",highlightCssClass:"JXGimageHighlight",rotate:0,snapSizeX:1,snapSizeY:1,attractors:[]},incircle:{fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},inequality:{fillColor:r.palette.red,fillOpacity:.2,strokeColor:"none",inverse:!1},infobox:{fontSize:12,isLabel:!1,strokeColor:"#bbbbbb",display:"html",anchorX:"left",anchorY:"middle",cssClass:"JXGinfobox",rotate:0,visible:!0,parse:!1,transitionDuration:0,needsRegularUpdate:!1},integral:{axis:"x",withLabel:!0,fixed:!0,strokeWidth:0,strokeOpacity:0,fillColor:r.palette.red,fillOpacity:.3,highlightFillColor:r.palette.red,highlightFillOpacity:.2,curveLeft:{visible:!0,withLabel:!1,color:r.palette.red,fillOpacity:.8,layer:9},baseLeft:{visible:!1,fixed:!1,withLabel:!1,name:""},curveRight:{visible:!0,withLabel:!1,color:r.palette.red,fillOpacity:.8,layer:9},baseRight:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{fontSize:20}},input:{disabled:!1,maxlength:524288,display:"html"},intersection:{alwaysIntersect:!0},label:{visible:"inherit",strokeColor:"#000000",strokeOpacity:1,highlightStrokeOpacity:.666666,highlightStrokeColor:"#000000",fixed:!0,position:"urt",offset:[10,10],autoPosition:!1},legend:{style:"vertical",labels:["1","2","3","4","5","6","7","8"],colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],rowHeight:20,strokeWidth:5},line:{firstArrow:!1,lastArrow:!1,margin:0,straightFirst:!0,straightLast:!0,fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",withTicks:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},ticks:{drawLabels:!0,label:{offset:[4,-9]},drawZero:!1,insertTicks:!1,minTicksDistance:50,minorHeight:4,majorHeight:-1,minorTicks:4,defaultDistance:1,strokeOpacity:.3,visible:"inherit"},label:{position:"llft"},snapToGrid:!1,snapSizeX:1,snapSizeY:1,touchFirstPoint:!1,touchLastPoint:!1,lineCap:"butt"},locus:{translateToOrigin:!1,translateTo10:!1,stretch:!1,toOrigin:null,to10:null},metapostspline:{createPoints:!0,isArrayOfCoordinates:!1,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},mirrorelement:{fixed:!0,point:{},center:{},type:"Euclidean"},normal:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},orthogonalprojection:{},parallel:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{position:"llft"}},perpendicular:{strokeColor:"#000000",straightFirst:!0,straightLast:!0},perpendicularsegment:{strokeColor:"#000000",straightFirst:!1,straightLast:!1,point:{visible:!1,fixed:!0,withLabel:!1,name:""}},point:{withLabel:!0,label:{},style:5,face:"o",size:3,sizeUnit:"screen",strokeWidth:2,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",zoom:!1,showInfobox:"inherit",infoboxDigits:"auto",draft:!1,attractors:[],attractorUnit:"user",attractorDistance:0,snatchDistance:0,snapToGrid:!1,attractToGrid:!1,snapSizeX:1,snapSizeY:1,snapToPoints:!1,ignoredSnapToPoints:[]},polygon:{hasInnerPoints:!1,fillColor:r.palette.yellow,highlightFillColor:r.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"},visible:"inherit"},vertices:{layer:9,withLabel:!1,name:"",strokeColor:r.palette.red,fillColor:r.palette.red,fixed:!1,visible:"inherit"},label:{offset:[0,0]}},polygonalchain:{fillColor:"none",highlightFillColor:"none"},prescribedangle:{anglePoint:{size:2,visible:!1,withLabel:!1}},reflection:{fixed:!0,center:{},type:"Euclidean"},regularpolygon:{hasInnerPoints:!1,fillColor:r.palette.yellow,highlightFillColor:r.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"}},vertices:{layer:9,withLabel:!0,strokeColor:r.palette.red,fillColor:r.palette.red,fixed:!1},label:{offset:[0,0]}},riemannsum:{withLabel:!1,fillOpacity:.3,fillColor:r.palette.yellow},sector:{fillColor:r.palette.yellow,highlightFillColor:r.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,highlightOnSector:!1,highlightStrokeWidth:0,selection:"auto",arc:{visible:!1,fillColor:"none"},radiusPoint:{visible:!1,withLabel:!1},center:{visible:!1,withLabel:!1},anglePoint:{visible:!1,withLabel:!1},label:{offset:[0,0],anchorX:"auto",anchorY:"auto"}},segment:{label:{position:"top"}},semicircle:{center:{visible:!1,withLabel:!1,fixed:!1,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#eeeeee",highlightStrokeColor:r.palette.red,name:""}},slider:{snapWidth:-1,precision:2,digits:2,firstArrow:!1,lastArrow:!1,withTicks:!0,withLabel:!0,suffixLabel:null,unitLabel:null,postLabel:null,layer:9,showInfobox:!1,name:"",visible:!0,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"#ffffff",highlightFillColor:"none",size:6,point1:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},point2:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},baseline:{needsRegularUpdate:!1,visible:"inherit",fixed:!0,scalable:!1,tabindex:null,name:"",strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888"},ticks:{needsRegularUpdate:!1,fixed:!0,drawLabels:!1,digits:2,includeBoundaries:1,drawZero:!0,label:{offset:[-4,-14],display:"internal"},minTicksDistance:30,insertTicks:!0,minorHeight:4,majorHeight:5,minorTicks:0,defaultDistance:1,strokeOpacity:1,strokeWidth:1,tickEndings:[0,1],strokeColor:"#000000",visible:"inherit"},highline:{strokeWidth:3,visible:"inherit",fixed:!0,tabindex:null,name:"",strokeColor:"#000000",highlightStrokeColor:"#888888"},label:{visible:"inherit",strokeColor:"#000000"},moveOnUp:!0},comb:{frequency:.2,width:.4,angle:Math.PI/3,reverse:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},curve:{strokeWidth:1,strokeColor:"#000000",fillColor:"none"}},slopetriangle:{fillColor:r.palette.red,fillOpacity:.4,highlightFillColor:r.palette.red,highlightFillOpacity:.3,borders:{lastArrow:{type:1,size:6}},glider:{fixed:!0,visible:!1,withLabel:!1},baseline:{visible:!1,withLabel:!1,name:""},basepoint:{visible:!1,withLabel:!1,name:""},tangent:{visible:!1,withLabel:!1,name:""},toppoint:{visible:!1,withLabel:!1,name:""},label:{visible:!0}},stepfunction:{},tapemeasure:{strokeColor:"#000000",strokeWidth:2,highlightStrokeColor:"#000000",withTicks:!0,withLabel:!0,precision:2,digits:2,point1:{visible:"inherit",strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},point2:{visible:"inherit",strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},ticks:{drawLabels:!1,drawZero:!0,insertTicks:!0,minorHeight:8,majorHeight:16,minorTicks:4,tickEndings:[0,1],defaultDistance:.1,strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",visible:"inherit"},label:{position:"top"}},text:{fontSize:12,fontUnit:"px",digits:2,parse:!0,useCaja:!1,isLabel:!1,strokeColor:"#000000",highlightStrokeColor:"#000000",highlightStrokeOpacity:.666666,cssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",highlightCssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",cssStyle:"",highlightCssStyle:"",useASCIIMathML:!1,useMathJax:!1,useKatex:!1,display:"html",anchor:null,anchorX:"left",anchorY:"middle",cssClass:"JXGtext",highlightCssClass:"JXGtext",dragArea:"all",withLabel:!1,rotate:0,visible:!0,snapSizeX:1,snapSizeY:1,attractors:[]},tracecurve:{strokeColor:"#000000",fillColor:"none",numberPoints:100},turtle:{strokeWidth:1,fillColor:"none",strokeColor:"#000000",arrow:{strokeWidth:2,withLabel:!1,strokeColor:r.palette.red,lastArrow:!0}},shortcuts:{color:["strokeColor","fillColor"],opacity:["strokeOpacity","fillOpacity"],highlightColor:["highlightStrokeColor","highlightFillColor"],highlightOpacity:["highlightStrokeOpacity","highlightFillOpacity"],strokeWidth:["strokeWidth","highlightStrokeWidth"]}},t.Validator=function(){var e,r=function(t){return s.isString(t)},o=function(t){return Math.abs(t-Math.round(t))<i.eps},n=function(t){return o(t)&&t>0},a=function(t){return t>0},h=function(t){return t>=0},l={},c={attractorDistance:h,color:r,defaultDistance:s.isNumber,display:function(t){return"html"===t||"internal"===t},doAdvancedPlot:!1,draft:!1,drawLabels:!1,drawZero:!1,face:function(e){return s.exists(t.normalizePointFace(e))},factor:s.isNumber,fillColor:r,fillOpacity:s.isNumber,firstArrow:!1,fontSize:o,dash:o,gridX:s.isNumber,gridY:s.isNumber,hasGrid:!1,highlightFillColor:r,highlightFillOpacity:s.isNumber,highlightStrokeColor:r,highlightStrokeOpacity:s.isNumber,insertTicks:!1,lastArrow:!1,layer:function(t){return o(t)&&t>=0},majorHeight:o,minorHeight:o,minorTicks:h,minTicksDistance:n,numberPointsHigh:n,numberPointsLow:n,opacity:s.isNumber,radius:s.isNumber,RDPsmoothing:!1,renderer:function(t){return"vml"===t||"svg"===t||"canvas"===t||"no"===t},right:function(t){return/^[0-9]+px$/.test(t)},showCopyright:!1,showInfobox:!1,showNavigation:!1,size:h,snapSizeX:a,snapSizeY:a,snapWidth:s.isNumber,snapToGrid:!1,snatchDistance:h,straightFirst:!1,straightLast:!1,stretch:!1,strokeColor:r,strokeOpacity:s.isNumber,strokeWidth:h,takeFirst:!1,takeSizeFromFile:!1,to10:!1,toOrigin:!1,translateTo10:!1,translateToOrigin:!1,useASCIIMathML:!1,useDirection:!1,useMathJax:!1,withLabel:!1,withTicks:!1,zoom:!1};for(e in c)c.hasOwnProperty(e)&&(l[e.toLowerCase()]=c[e]);return l}(),t.normalizePointFace=function(t){return{cross:"x",x:"x",circle:"o",o:"o",square:"[]","[]":"[]",plus:"+","+":"+",diamond:"<>","<>":"<>",triangleup:"^",a:"^","^":"^",triangledown:"v",v:"v",triangleleft:"<","<":"<",triangleright:">",">":">"}[t]},t.useStandardOptions=function(i){var r,s,o,n,a=t.Options,h=i.hasGrid;for(r in i.options.grid.hasGrid=a.grid.hasGrid,i.options.grid.gridX=a.grid.gridX,i.options.grid.gridY=a.grid.gridY,i.options.grid.gridColor=a.grid.gridColor,i.options.grid.gridOpacity=a.grid.gridOpacity,i.options.grid.gridDash=a.grid.gridDash,i.options.grid.snapToGrid=a.grid.snapToGrid,i.options.grid.snapSizeX=a.grid.SnapSizeX,i.options.grid.snapSizeY=a.grid.SnapSizeY,i.takeSizeFromFile=a.takeSizeFromFile,n=function(t,e){t.visProp.fillcolor=e.fillColor,t.visProp.highlightfillcolor=e.highlightFillColor,t.visProp.strokecolor=e.strokeColor,t.visProp.highlightstrokecolor=e.highlightStrokeColor},i.objects)if(i.objects.hasOwnProperty(r))if((o=i.objects[r]).elementClass===e.OBJECT_CLASS_POINT)n(o,a.point);else if(o.elementClass===e.OBJECT_CLASS_LINE)for(n(o,a.line),s=0;s<o.ticks.length;s++)o.ticks[s].majorTicks=a.line.ticks.majorTicks,o.ticks[s].minTicksDistance=a.line.ticks.minTicksDistance,o.ticks[s].visProp.minorheight=a.line.ticks.minorHeight,o.ticks[s].visProp.majorheight=a.line.ticks.majorHeight;else o.elementClass===e.OBJECT_CLASS_CIRCLE?n(o,a.circle):o.type===e.OBJECT_TYPE_ANGLE?n(o,a.angle):o.type===e.OBJECT_TYPE_ARC?n(o,a.arc):o.type===e.OBJECT_TYPE_POLYGON?n(o,a.polygon):o.type===e.OBJECT_TYPE_CONIC?n(o,a.conic):o.type===e.OBJECT_TYPE_CURVE?n(o,a.curve):o.type===e.OBJECT_TYPE_SECTOR&&(o.arc.visProp.fillcolor=a.sector.fillColor,o.arc.visProp.highlightfillcolor=a.sector.highlightFillColor,o.arc.visProp.fillopacity=a.sector.fillOpacity,o.arc.visProp.highlightfillopacity=a.sector.highlightFillOpacity);i.fullUpdate(),h&&!i.hasGrid?i.removeGrids(i):!h&&i.hasGrid&&i.create("grid",[])},t.useBlackWhiteOptions=function(e){var i=t.Options;i.point.fillColor=r.rgb2bw(i.point.fillColor),i.point.highlightFillColor=r.rgb2bw(i.point.highlightFillColor),i.point.strokeColor=r.rgb2bw(i.point.strokeColor),i.point.highlightStrokeColor=r.rgb2bw(i.point.highlightStrokeColor),i.line.fillColor=r.rgb2bw(i.line.fillColor),i.line.highlightFillColor=r.rgb2bw(i.line.highlightFillColor),i.line.strokeColor=r.rgb2bw(i.line.strokeColor),i.line.highlightStrokeColor=r.rgb2bw(i.line.highlightStrokeColor),i.circle.fillColor=r.rgb2bw(i.circle.fillColor),i.circle.highlightFillColor=r.rgb2bw(i.circle.highlightFillColor),i.circle.strokeColor=r.rgb2bw(i.circle.strokeColor),i.circle.highlightStrokeColor=r.rgb2bw(i.circle.highlightStrokeColor),i.arc.fillColor=r.rgb2bw(i.arc.fillColor),i.arc.highlightFillColor=r.rgb2bw(i.arc.highlightFillColor),i.arc.strokeColor=r.rgb2bw(i.arc.strokeColor),i.arc.highlightStrokeColor=r.rgb2bw(i.arc.highlightStrokeColor),i.polygon.fillColor=r.rgb2bw(i.polygon.fillColor),i.polygon.highlightFillColor=r.rgb2bw(i.polygon.highlightFillColor),i.sector.fillColor=r.rgb2bw(i.sector.fillColor),i.sector.highlightFillColor=r.rgb2bw(i.sector.highlightFillColor),i.curve.strokeColor=r.rgb2bw(i.curve.strokeColor),i.grid.gridColor=r.rgb2bw(i.grid.gridColor),t.useStandardOptions(e)},t.Options.normalizePointFace=t.normalizePointFace,t.Options})),define("renderer/abstract",["jxg","options","base/coords","base/constants","math/math","math/geometry","utils/type","utils/env"],(function(t,e,i,r,s,o,n,a){"use strict";return t.AbstractRenderer=function(){this.vOffsetText=0,this.enhancedRendering=!0,this.container=null,this.type="",this.supportsForeignObject=!1},t.extend(t.AbstractRenderer.prototype,{_updateVisual:function(t,e,i){(i||this.enhancedRendering)&&(e=e||{},this.setObjectTransition(t),n.evaluate(t.visProp.draft)?this.setDraft(t):(e.stroke||(t.highlighted?(this.setObjectStrokeColor(t,t.visProp.highlightstrokecolor,t.visProp.highlightstrokeopacity),this.setObjectStrokeWidth(t,t.visProp.highlightstrokewidth)):(this.setObjectStrokeColor(t,t.visProp.strokecolor,t.visProp.strokeopacity),this.setObjectStrokeWidth(t,t.visProp.strokewidth))),e.fill||(t.highlighted?this.setObjectFillColor(t,t.visProp.highlightfillcolor,t.visProp.highlightfillopacity):this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity)),e.dash||this.setDashStyle(t,t.visProp),e.shadow||this.setShadow(t),e.gradient||this.setShadow(t),e.tabindex||this.setTabindex(t)))},_getHighlighted:function(t){var e=!1;return n.exists(t.board)&&n.exists(t.board.highlightedObjects)||(e=!0),!e&&n.exists(t.board.highlightedObjects[t.id])?"highlight":""},drawPoint:function(t){var i,r=e.normalizePointFace(n.evaluate(t.visProp.face));i="o"===r?"ellipse":"[]"===r?"rect":"path",t.rendNode=this.appendChildPrim(this.createPrim(i,t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,i),this._updateVisual(t,{dash:!0,shadow:!0},!0),this.updatePoint(t)},updatePoint:function(t){var i,r=n.evaluate(t.visProp.size),s=e.normalizePointFace(n.evaluate(t.visProp.face)),o=n.evaluate(t.visProp.sizeunit),a=n.evaluate(t.visProp.zoom);isNaN(t.coords.scrCoords[2]+t.coords.scrCoords[1])||("user"===o&&(r*=Math.sqrt(t.board.unitX*t.board.unitY)),i=0===(r*=t.board&&a?Math.sqrt(t.board.zoomX*t.board.zoomY):1)?0:r+1,"o"===s?this.updateEllipsePrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2],i,i):"[]"===s?this.updateRectPrim(t.rendNode,t.coords.scrCoords[1]-r,t.coords.scrCoords[2]-r,2*r,2*r):this.updatePathPrim(t.rendNode,this.updatePathStringPoint(t,r,s),t.board),this._updateVisual(t,{dash:!1,shadow:!1}),this.setShadow(t))},changePointStyle:function(t){var e=this.getElementById(t.id);n.exists(e)&&this.remove(e),this.drawPoint(t),n.clearVisPropOld(t),t.visPropCalc.visible||this.display(t,!1),n.evaluate(t.visProp.draft)&&this.setDraft(t)},drawLine:function(t){t.rendNode=this.appendChildPrim(this.createPrim("line",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"lines"),this.updateLine(t)},updateLine:function(t){this._updateVisual(t),this.updatePathWithArrowHeads(t),this.setLineCap(t)},drawCurve:function(t){t.rendNode=this.appendChildPrim(this.createPrim("path",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"path"),this.updateCurve(t)},updateCurve:function(t){this._updateVisual(t),this.updatePathWithArrowHeads(t),this.setLineCap(t)},updatePathWithArrowHeads:function(t,e){var i,s,o=t.visProp,a=e?"highlight":"";i=e&&o.highlightstrokewidth?Math.max(n.evaluate(o.highlightstrokewidth),n.evaluate(o.strokewidth)):n.evaluate(o.strokewidth),s=this.getArrowHeadData(t,i,a),this.makeArrows(t,s),t.elementClass===r.OBJECT_CLASS_LINE?this.updateLineWithEndings(t,s):t.elementClass===r.OBJECT_CLASS_CURVE&&this.updatePath(t),this.setArrowSize(t,s)},getArrowHeadData:function(t,e,i){var o,a,h,l,c=s.eps,d=0,u=0,p=0,f=0,m=n.evaluate(t.visProp.firstarrow),g=n.evaluate(t.visProp.lastarrow);return(m||g)&&(o=n.exists(m.type)?n.evaluate(m.type):t.elementClass===r.OBJECT_CLASS_LINE?1:7,a=n.exists(g.type)?n.evaluate(g.type):t.elementClass===r.OBJECT_CLASS_LINE?1:7,m&&(l=6,n.exists(m.size)&&(l=n.evaluate(m.size)),""!==i&&n.exists(m[i+"size"])&&(l=n.evaluate(m[i+"size"])),h=e*l,2===o?(h*=.5,c+=e*l):3===o?(h=e*l/3,c+=e):4===o||5===o||6===o?(h=e*l/1.5,c+=e*l):7===o?(h=0,l=10,c+=e):c+=e*l,d+=h,p=l),g&&(l=6,n.exists(g.size)&&(l=n.evaluate(g.size)),""!==i&&n.exists(g[i+"size"])&&(l=n.evaluate(g[i+"size"])),h=e*l,2===a?(h*=.5,c+=e*l):3===a?(h=e*l/3,c+=e):4===a||5===a||6===a?(h=e*l/1.5,c+=e*l):7===a?(h=0,l=10,c+=e):c+=e*l,u+=h,f=l)),t.visPropCalc.typeFirst=o,t.visPropCalc.typeLast=a,{evFirst:m,evLast:g,typeFirst:o,typeLast:a,offFirst:d,offLast:u,sizeFirst:p,sizeLast:f,showFirst:1,showLast:1,minLen:c,strokeWidth:e}},updateLineWithEndings:function(t,e){var s,a,h;return s=new i(r.COORDS_BY_USER,t.point1.coords.usrCoords,t.board),a=new i(r.COORDS_BY_USER,t.point2.coords.usrCoords,t.board),h=n.evaluate(t.visProp.margin),o.calcStraight(t,s,a,h),this.handleTouchpoints(t,s,a,e),this.getPositionArrowHead(t,s,a,e),this.updateLinePrim(t.rendNode,s.scrCoords[1],s.scrCoords[2],a.scrCoords[1],a.scrCoords[2],t.board),this},updatePath:function(t){return n.evaluate(t.visProp.handdrawing)?this.updatePathPrim(t.rendNode,this.updatePathStringBezierPrim(t),t.board):this.updatePathPrim(t.rendNode,this.updatePathStringPrim(t),t.board),this},getPositionArrowHead:function(t,e,i,s){var o,n,a,h,l;return(s.evFirst||s.evLast)&&(n=a=h=l=0,o=e.distance(r.COORDS_BY_SCREEN,i),s.evFirst&&"vml"!==t.board.renderer.type&&(o>=s.minLen?(n=(i.scrCoords[1]-e.scrCoords[1])*s.offFirst/o,a=(i.scrCoords[2]-e.scrCoords[2])*s.offFirst/o):s.showFirst=0),s.evLast&&"vml"!==t.board.renderer.type&&(o>=s.minLen?(h=(i.scrCoords[1]-e.scrCoords[1])*s.offLast/o,l=(i.scrCoords[2]-e.scrCoords[2])*s.offLast/o):s.showLast=0),e.setCoordinates(r.COORDS_BY_SCREEN,[e.scrCoords[1]+n,e.scrCoords[2]+a],!1,!0),i.setCoordinates(r.COORDS_BY_SCREEN,[i.scrCoords[1]-h,i.scrCoords[2]-l],!1,!0)),this},handleTouchpoints:function(t,e,i,s){var o,a,h,l,c,d,u;return(s.evFirst||s.evLast)&&(h=l=c=d=u=0,o=n.evaluate(t.point1.visProp.size)+n.evaluate(t.point1.visProp.strokewidth),a=n.evaluate(t.point2.visProp.size)+n.evaluate(t.point2.visProp.strokewidth),s.evFirst&&n.evaluate(t.visProp.touchfirstpoint)&&(h=e.distance(r.COORDS_BY_SCREEN,i),l=(i.scrCoords[1]-e.scrCoords[1])*o/h,c=(i.scrCoords[2]-e.scrCoords[2])*o/h),s.evLast&&n.evaluate(t.visProp.touchlastpoint)&&(h=e.distance(r.COORDS_BY_SCREEN,i),d=(i.scrCoords[1]-e.scrCoords[1])*a/h,u=(i.scrCoords[2]-e.scrCoords[2])*a/h),e.setCoordinates(r.COORDS_BY_SCREEN,[e.scrCoords[1]+l,e.scrCoords[2]+c],!1,!0),i.setCoordinates(r.COORDS_BY_SCREEN,[i.scrCoords[1]-d,i.scrCoords[2]-u],!1,!0)),this},setArrowSize:function(t,e){return e.evFirst&&this._setArrowWidth(t.rendNodeTriangleStart,e.showFirst*e.strokeWidth,t.rendNode,e.sizeFirst),e.evLast&&this._setArrowWidth(t.rendNodeTriangleEnd,e.showLast*e.strokeWidth,t.rendNode,e.sizeLast),this},setLineCap:function(t){},drawTicks:function(t){t.rendNode=this.appendChildPrim(this.createPrim("path",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"path")},updateTicks:function(t){},drawEllipse:function(t){t.rendNode=this.appendChildPrim(this.createPrim("ellipse",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"ellipse"),this.updateEllipse(t)},updateEllipse:function(t){this._updateVisual(t);var e=t.Radius();e>0&&Math.abs(t.center.coords.usrCoords[0])>s.eps&&!isNaN(e+t.center.coords.scrCoords[1]+t.center.coords.scrCoords[2])&&e*t.board.unitX<2e6&&this.updateEllipsePrim(t.rendNode,t.center.coords.scrCoords[1],t.center.coords.scrCoords[2],e*t.board.unitX,e*t.board.unitY)},drawPolygon:function(t){t.rendNode=this.appendChildPrim(this.createPrim("polygon",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"polygon"),this.updatePolygon(t)},updatePolygon:function(t){this._updateVisual(t,{stroke:!0,dash:!0}),this.updatePolygonPrim(t.rendNode,t)},displayCopyright:function(t,e){},drawInternalText:function(t){},updateInternalText:function(t){},drawText:function(t){var e,i,r,s;"html"===n.evaluate(t.visProp.display)&&a.isBrowser&&"no"!==this.type?((e=this.container.ownerDocument.createElement("div")).style.position="absolute",e.className=n.evaluate(t.visProp.cssclass),r=n.evaluate(t.visProp.layer),n.exists(r)||(r=0),i=""===this.container.style.zIndex?0:parseInt(this.container.style.zIndex,10),e.style.zIndex=i+r,this.container.appendChild(e),e.setAttribute("id",this.container.id+"_"+t.id)):e=this.drawInternalText(t),t.rendNode=e,t.htmlStr="",t.visProp.islabel&&n.exists(t.visProp.anchor)?(s=n.evaluate(t.visProp.anchor.visProp.visible),t.prepareUpdate().updateVisibility(s)):t.prepareUpdate().updateVisibility(),this.updateText(t)},updateText:function(e){var i,r,s,o,h,l,c,d,u,p=e.plaintext;if(e.visPropCalc.visible)if(this.updateTextStyle(e,!1),"html"===n.evaluate(e.visProp.display)&&"no"!==this.type){if(isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])||(r=e.coords.scrCoords[1],r=Math.abs(r)<1e6?r:1e6,i="right"===(d=e.getAnchorX())?e.board.canvasWidth-r:"middle"===d?r-.5*e.size[0]:r,e.visPropOld.left!==d+i&&("right"===d?(e.rendNode.style.right=i+"px",e.rendNode.style.left="auto"):(e.rendNode.style.left=i+"px",e.rendNode.style.right="auto"),e.visPropOld.left=d+i),r=e.coords.scrCoords[2]+this.vOffsetText,r=Math.abs(r)<1e6?r:1e6,i="bottom"===(u=e.getAnchorY())?e.board.canvasHeight-r:"middle"===u?r-.5*e.size[1]:r,e.visPropOld.top!==u+i&&("bottom"===u?(e.rendNode.style.top="auto",e.rendNode.style.bottom=i+"px"):(e.rendNode.style.bottom="auto",e.rendNode.style.top=i+"px"),e.visPropOld.top=u+i)),e.htmlStr!==p){try{e.type===n.OBJECT_TYPE_BUTTON?e.rendNodeButton.innerHTML=p:e.type===n.OBJECT_TYPE_CHECKBOX||e.type===n.OBJECT_TYPE_INPUT?e.rendNodeLabel.innerHTML=p:e.rendNode.innerHTML=p}catch(t){s=e.rendNode.parentNode,e.rendNode.parentNode.removeChild(e.rendNode),e.rendNode.innerHTML=p,s.appendChild(e.rendNode)}if(e.htmlStr=p,n.evaluate(e.visProp.usemathjax))try{MathJax.typeset?MathJax.typeset([e.rendNode]):MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.rendNode]),c="fullscreenwrap_"+(l=e.board.container),document.getElementById(c)&&(o=e.board.containerObj._cssFullscreenStore.scale,h=e.board.containerObj._cssFullscreenStore.vshift,a.scaleJSXGraphDiv("#"+c,"#"+l,o,h))}catch(e){t.debug("MathJax (not yet) loaded")}else if(n.evaluate(e.visProp.usekatex))try{katex.render(p,e.rendNode,{throwOnError:!1})}catch(e){t.debug("KaTeX (not yet) loaded")}else if(n.evaluate(e.visProp.useasciimathml))try{AMprocessNode(e.rendNode,!1)}catch(e){t.debug("AsciiMathML (not yet) loaded")}}this.transformImage(e,e.transformations)}else this.updateInternalText(e)},_css2js:function(t){var e,i,r,s,o,a=[],h=n.trim(t).replace(/;$/,"").split(";");for(i=h.length,e=0;e<i;++e)""!==n.trim(h[e])&&(o=h[e].split(":"),r=n.trim(o[0].replace(/-([a-z])/gi,(function(t,e){return e.toUpperCase()}))),s=n.trim(o[1]),a.push({key:r,val:s}));return a},updateTextStyle:function(t,e){var i,r,s,o,h,l,c,d,u,p=t.visProp,f=a.isBrowser?p.display:"internal",m=["rendNode","rendNodeTag","rendNodeLabel"],g=m.length,b=n.evaluate(p.fontunit),v=["cssdefaultstyle","cssstyle"],y=v.length;if(e?(s=p.highlightstrokecolor,r=p.highlightstrokeopacity,o=p.highlightcssclass):(s=p.strokecolor,r=p.strokeopacity,o=p.cssclass),"no"!==this.type&&("html"===f||"canvas"!==this.type)){for(d=0;d<y;d++)if(""!==(u=n.evaluate(p[(e?"highlight":"")+v[d]]))&&t.visPropOld[v[d]]!==u){for(l=this._css2js(u),h=0;h<g;h++)if(n.exists(t[m[h]]))for(c in l)l.hasOwnProperty(c)&&(t[m[h]].style[l[c].key]=l[c].val);t.visPropOld[v[d]]=u}if(i=n.evaluate(p.fontsize),t.visPropOld.fontsize!==i){t.needsSizeUpdate=!0;try{for(h=0;h<g;h++)n.exists(t[m[h]])&&(t[m[h]].style.fontSize=i+b)}catch(e){for(h=0;h<g;h++)n.exists(t[m[h]])&&(t[m[h]].style.fontSize=i)}t.visPropOld.fontsize=i}}return this.setObjectTransition(t),"html"===f&&"no"!==this.type?(t.visPropOld.cssclass!==o&&(t.rendNode.className=o,t.visPropOld.cssclass=o,t.needsSizeUpdate=!0),this.setObjectStrokeColor(t,s,r)):this.updateInternalTextStyle(t,s,r),this},updateInternalTextStyle:function(t,e,i){this.setObjectStrokeColor(t,e,i)},drawImage:function(t){},updateImage:function(t){this.updateRectPrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),this.updateImageURL(t),this.transformImage(t,t.transformations),this._updateVisual(t,{stroke:!0,dash:!0},!0)},joinTransforms:function(t,e){var i,r=t.board.origin.scrCoords[1],o=t.board.origin.scrCoords[2],n=t.board.unitX,a=t.board.unitY,h=e.length,l=[[1,0,0],[-r/n,1/n,0],[o/a,0,-1/a]];for(i=0;i<h;i++)l=s.matMatMult(e[i].matrix,l);return l=s.matMatMult([[1,0,0],[r,n,0],[o,0,-a]],l)},transformImage:function(t,e){},updateImageURL:function(t){},updateImageStyle:function(t,e){t.rendNode.className=n.evaluate(e?t.visProp.highlightcssclass:t.visProp.cssclass)},drawForeignObject:function(t){},updateForeignObject:function(t){},appendChildPrim:function(t,e){},appendNodesToElement:function(t,e){},createPrim:function(t,e){return null},remove:function(t){},makeArrows:function(t,e){},_setArrowWidth:function(t,e,i){},updateEllipsePrim:function(t,e,i,r,s){},updateLinePrim:function(t,e,i,r,s,o){},updatePathPrim:function(t,e,i){},updatePathStringPoint:function(t,e,i){},updatePathStringPrim:function(t){},updatePathStringBezierPrim:function(t){},updatePolygonPrim:function(t,e){},updateRectPrim:function(t,e,i,r,s){},setPropertyPrim:function(t,e,i){},setTabindex:function(t){var e;t.board.attr.keyboard.enabled&&n.exists(t.rendNode)&&(e=n.evaluate(t.visProp.tabindex),t.visPropCalc.visible&&!n.evaluate(t.visProp.fixed)||(e=null),e!==t.visPropOld.tabindex&&(t.rendNode.setAttribute("tabindex",e),t.visPropOld.tabindex=e))},display:function(t,e){t&&(t.visPropOld.visible=e)},show:function(t){},hide:function(t){},setBuffering:function(t,e){},setDashStyle:function(t){},setDraft:function(t){if(n.evaluate(t.visProp.draft)){var e=t.board.options.elements.draft.color,i=t.board.options.elements.draft.opacity;this.setObjectTransition(t),t.type===r.OBJECT_TYPE_POLYGON?this.setObjectFillColor(t,e,i):(t.elementClass===r.OBJECT_CLASS_POINT?this.setObjectFillColor(t,e,i):this.setObjectFillColor(t,"none",0),this.setObjectStrokeColor(t,e,i),this.setObjectStrokeWidth(t,t.board.options.elements.draft.strokeWidth))}},removeDraft:function(t){this.setObjectTransition(t),t.type===r.OBJECT_TYPE_POLYGON?this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity):(t.type===r.OBJECT_CLASS_POINT&&this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity),this.setObjectStrokeColor(t,t.visProp.strokecolor,t.visProp.strokeopacity),this.setObjectStrokeWidth(t,t.visProp.strokewidth))},setGradient:function(t){},updateGradient:function(t){},setObjectTransition:function(t,e){},setObjectFillColor:function(t,e,i){},setObjectStrokeColor:function(t,e,i){},setObjectStrokeWidth:function(t,e){},setShadow:function(t){},highlight:function(t){var e,i,s=t.visProp;if(this.setObjectTransition(t),!s.draft){if(t.type===r.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(t,s.highlightfillcolor,s.highlightfillopacity),e=0;e<t.borders.length;e++)this.setObjectStrokeColor(t.borders[e],t.borders[e].visProp.highlightstrokecolor,t.borders[e].visProp.highlightstrokeopacity);else t.elementClass===r.OBJECT_CLASS_TEXT?this.updateTextStyle(t,!0):t.type===r.OBJECT_TYPE_IMAGE?(this.updateImageStyle(t,!0),this.setObjectFillColor(t,s.highlightfillcolor,s.highlightfillopacity)):(this.setObjectStrokeColor(t,s.highlightstrokecolor,s.highlightstrokeopacity),this.setObjectFillColor(t,s.highlightfillcolor,s.highlightfillopacity));s.highlightstrokewidth&&(i=Math.max(n.evaluate(s.highlightstrokewidth),n.evaluate(s.strokewidth)),this.setObjectStrokeWidth(t,i),t.elementClass!==r.OBJECT_CLASS_LINE&&t.elementClass!==r.OBJECT_CLASS_CURVE||this.updatePathWithArrowHeads(t,!0))}return this},noHighlight:function(t){var e,i,s=t.visProp;if(this.setObjectTransition(t),!n.evaluate(t.visProp.draft)){if(t.type===r.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(t,s.fillcolor,s.fillopacity),e=0;e<t.borders.length;e++)this.setObjectStrokeColor(t.borders[e],t.borders[e].visProp.strokecolor,t.borders[e].visProp.strokeopacity);else t.elementClass===r.OBJECT_CLASS_TEXT?this.updateTextStyle(t,!1):t.type===r.OBJECT_TYPE_IMAGE?(this.updateImageStyle(t,!1),this.setObjectFillColor(t,s.fillcolor,s.fillopacity)):(this.setObjectStrokeColor(t,s.strokecolor,s.strokeopacity),this.setObjectFillColor(t,s.fillcolor,s.fillopacity));i=n.evaluate(s.strokewidth),this.setObjectStrokeWidth(t,i),t.elementClass!==r.OBJECT_CLASS_LINE&&t.elementClass!==r.OBJECT_CLASS_CURVE||this.updatePathWithArrowHeads(t,!1)}return this},suspendRedraw:function(){},unsuspendRedraw:function(){},drawZoomBar:function(t,e){var i,r,s=function(t){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},o=function(e,o){var h;h=i.createElement("span"),r.appendChild(h),h.appendChild(i.createTextNode(e)),h.style.paddingLeft="7px",h.style.paddingRight="7px",void 0!==h.classList&&h.classList.add("JXG_navigation_button"),a.addEvent(h,"click",(function(e){return n.bind(o,t)(),!1}),t),a.addEvent(h,"mouseup",s,t),a.addEvent(h,"mousedown",s,t),a.addEvent(h,"touchend",s,t),a.addEvent(h,"touchstart",s,t)};a.isBrowser&&"no"!==this.type&&(i=t.containerObj.ownerDocument,(r=i.createElement("div")).setAttribute("id",t.containerObj.id+"_navigationbar"),r.style.color=e.strokecolor,r.style.backgroundColor=e.fillcolor,r.style.padding=e.padding,r.style.position=e.position,r.style.fontSize=e.fontsize,r.style.cursor=e.cursor,r.style.zIndex=e.zindex,t.containerObj.appendChild(r),r.style.right=e.right,r.style.bottom=e.bottom,void 0!==r.classList&&r.classList.add("JXG_navigation"),t.attr.showfullscreen&&o(t.attr.fullscreen.symbol,(function(){t.toFullscreen(t.attr.fullscreen.id)})),t.attr.showscreenshot&&o(t.attr.screenshot.symbol,(function(){window.setTimeout((function(){t.renderer.screenshot(t,"",!1)}),330)})),t.attr.showreload&&o("↻",(function(){t.reload()})),t.attr.showcleartraces&&o("⊗",(function(){t.clearTraces()})),t.attr.shownavigation&&(t.attr.showzoom&&(o("–",t.zoomOut),o("o",t.zoom100),o("+",t.zoomIn)),o("←",t.clickLeftArrow),o("↓",t.clickUpArrow),o("↑",t.clickDownArrow),o("→",t.clickRightArrow)))},getElementById:function(t){return n.exists(this.container)?this.container.ownerDocument.getElementById(this.container.id+"_"+t):""},removeToInsertLater:function(t){var e=t.parentNode,i=t.nextSibling;if(null!==e)return e.removeChild(t),function(){i?e.insertBefore(t,i):e.appendChild(t)}},resize:function(t,e){},createTouchpoints:function(t){},showTouchpoint:function(t){},hideTouchpoint:function(t){},updateTouchpoint:function(t,e){},dumpToDataURI:function(t){},dumpToCanvas:function(t,e,i,r){},screenshot:function(t){},setLayer:function(t,e){}}),t.AbstractRenderer})),define("reader/file",["jxg","utils/env","utils/type","utils/encoding","utils/base64"],(function(t,e,i,r,s){"use strict";return t.FileReader={handleRemoteFile:function(e,o,n,a,h,l){var c=!1;try{c=new XMLHttpRequest,"raw"===n.toLowerCase()?c.overrideMimeType("text/plain; charset="+h):c.overrideMimeType("text/xml; charset="+h)}catch(t){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){c=!1}}}if(c){c.open("GET",e,a),"raw"===n.toLowerCase()?this.cbp=function(){var t=c;4===t.readyState&&o(t.responseText)}:this.cbp=function(){var t=c,e="";4===t.readyState&&(e=!i.exists(t.responseStream)||"PK"!==t.responseText.slice(0,2)&&31!==r.asciiCharCodeAt(t.responseText.slice(0,1),0)?t.responseText:s.decode(jxgBinFileReader(t)),this.parseString(e,o,n,l))},this.cb=i.bind(this.cbp,this),c.onreadystatechange=this.cb;try{c.send(null)}catch(t){throw new Error("JSXGraph: A problem occurred while trying to read remote file '"+e+"'.")}}else t.debug("AJAX not activated!")},handleLocalFile:function(t,e,r,s,o,n){i.exists(s)||(s=!0),"raw"===r.toLowerCase()?this.cbp=function(t){e(t.target.result)}:this.cbp=function(t){var i=t.target.result;this.parseString(i,e,r,n)},this.cb=i.bind(this.cbp,this);var a=new FileReader;a.onload=this.cb,"raw"===r.toLowerCase()?a.readAsText(t):a.readAsText(t,o)},parseFileContent:function(t,e,r,s,o,n){i.isString(t)||void 0===FileReader?this.handleRemoteFile(t,e,r,s,o,n):this.handleLocalFile(t,e,r,s,o,n)},parseString:function(e,r,s,o){var n;if(s=s.toLowerCase(),n=t.readers[s],i.exists(n))new n(r,e).read();else if("jessiecode"!==s)throw new Error("JSXGraph: There is no reader available for '"+s+"'.");i.isFunction(o)&&o(r)}},!e.isMetroApp()&&e.isBrowser&&"object"==typeof navigator&&/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)&&document&&document.write&&document.write('<script type="text/vbscript">\nFunction Base64Encode(inData)\n  Const Base64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"\n  Dim cOut, sOut, I\n  For I = 1 To LenB(inData) Step 3\n    Dim nGroup, pOut, sGroup\n    nGroup = &H10000 * AscB(MidB(inData, I, 1)) + _\n      &H100 * MyASC(MidB(inData, I + 1, 1)) + MyASC(MidB(inData, I + 2, 1))\n    nGroup = Oct(nGroup)\n    nGroup = String(8 - Len(nGroup), "0") & nGroup\n    pOut = Mid(Base64, CLng("&o" & Mid(nGroup, 1, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 3, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 5, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 7, 2)) + 1, 1)\n    sOut = sOut + pOut\n  Next\n  Select Case LenB(inData) Mod 3\n    Case 1: \'8 bit final\n      sOut = Left(sOut, Len(sOut) - 2) + "=="\n    Case 2: \'16 bit final\n      sOut = Left(sOut, Len(sOut) - 1) + "="\n  End Select\n  Base64Encode = sOut\nEnd Function\n\nFunction MyASC(OneChar)\n  If OneChar = "" Then MyASC = 0 Else MyASC = AscB(OneChar)\nEnd Function\n\nFunction jxgBinFileReader(xhr)\n    Dim byteString\n    Dim b64String\n    Dim i\n    byteString = xhr.responseBody\n    ReDim byteArray(LenB(byteString))\n    For i = 1 To LenB(byteString)\n        byteArray(i-1) = AscB(MidB(byteString, i, 1))\n    Next\n    b64String = Base64Encode(byteString)\n    jxgBinFileReader = b64String\nEnd Function\n<\/script>\n'),t.FileReader})),define("parser/geonext",["jxg","base/constants","utils/type"],(function(t,e,i){"use strict";return t.GeonextParser={replacePow:function(t){var e,i,r,s,o,n,a,h,l,c,d,u;for(c=(t=t.replace(/(\s*)\^(\s*)/g,"^")).indexOf("^"),s=-1;c>=0&&c<t.length-1;){if(s===c)throw new Error("JSXGraph: Error while parsing expression '"+t+"'");if(s=c,l=t.slice(0,c),d=t.slice(c+1),")"===l.charAt(l.length-1)){for(e=1,i=l.length-2;i>=0&&e>0;)")"===(r=l.charAt(i))?e++:"("===r&&(e-=1),i-=1;if(0!==e)throw new Error("JSXGraph: Missing '(' in expression");for(o="",a=l.substring(0,i+1),h=i;h>=0&&a.substr(h,1).match(/([\w.]+)/);)o=RegExp.$1+o,h-=1;o=(o+=l.substring(i+1,l.length)).replace(/([()+*%^\-/\][])/g,"\\$1")}else o="[\\w\\.]+";if(d.match(/^([\w.]*\()/)){for(e=1,i=RegExp.$1.length;i<d.length&&e>0;)")"===(r=d.charAt(i))?e-=1:"("===r&&(e+=1),i+=1;if(0!==e)throw new Error("JSXGraph: Missing ')' in expression");n=(n=d.substring(0,i)).replace(/([()+*%^\-/[\]])/g,"\\$1")}else n="[\\w\\.]+";u=new RegExp("("+o+")\\^("+n+")"),c=(t=t.replace(u,"pow($1,$2)")).indexOf("^")}return t},replaceIf:function(t){var e,i,r,s,o,n,a,h,l,c="",d=null,u=null,p=null;if((r=t.indexOf("If("))<0)return t;for(t=t.replace(/""/g,"0");r>=0;){for(e=t.slice(0,r),i=t.slice(r+3),o=1,s=0,n=-1,a=-1;s<i.length&&o>0;)")"===(h=i.charAt(s))?o-=1:"("===h?o+=1:","===h&&1===o&&(n<0?n=s:a=s),s+=1;if(l=i.slice(0,s-1),i=i.slice(s),n<0)return"";if(a<0)return"";d=l.slice(0,n),u=l.slice(n+1,a),p=l.slice(a+1),c+=e+"(("+(d=this.replaceIf(d))+")?("+(u=this.replaceIf(u))+"):("+(p=this.replaceIf(p))+"))",d=null,u=null,r=(t=i).indexOf("If(")}return c+=i},replaceNameById:function(t,e,i){var r,s,o,n,a=0,h=["X","Y","L","V"],l=function(t){return i?"$('"+t+"')":t};for(n=0;n<h.length;n++)for(a=t.indexOf(h[n]+"(");a>=0;)a>=0&&(r=t.indexOf(")",a+2))>=0&&(s=(s=t.slice(a+2,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+2)+(i?"$('":"")+l(o.id)+t.slice(r))),r=t.indexOf(")",a+2),a=t.indexOf(h[n]+"(",r);for(a=t.indexOf("Dist(");a>=0;)a>=0&&(r=t.indexOf(",",a+5))>=0&&(s=(s=t.slice(a+5,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+5)+l(o.id)+t.slice(r))),r=t.indexOf(",",a+5),a=t.indexOf(",",r),(r=t.indexOf(")",a+1))>=0&&(s=(s=t.slice(a+1,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+1)+l(o.id)+t.slice(r))),r=t.indexOf(")",a+1),a=t.indexOf("Dist(",r);for(h=["Deg","Rad"],n=0;n<h.length;n++)for(a=t.indexOf(h[n]+"(");a>=0;)a>=0&&(r=t.indexOf(",",a+4))>=0&&(s=(s=t.slice(a+4,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+4)+l(o.id)+t.slice(r))),r=t.indexOf(",",a+4),a=t.indexOf(",",r),(r=t.indexOf(",",a+1))>=0&&(s=(s=t.slice(a+1,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+1)+l(o.id)+t.slice(r))),r=t.indexOf(",",a+1),a=t.indexOf(",",r),(r=t.indexOf(")",a+1))>=0&&(s=(s=t.slice(a+1,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+1)+l(o.id)+t.slice(r))),r=t.indexOf(")",a+1),a=t.indexOf(h[n]+"(",r);return t},replaceIdByObj:function(t){var e=/(X|Y|L)\(([\w_]+)\)/g;return t=t.replace(e,"$('$2').$1()"),e=/(V)\(([\w_]+)\)/g,t=t.replace(e,"$('$2').Value()"),e=/(Dist)\(([\w_]+),([\w_]+)\)/g,t=t.replace(e,"dist($('$2'), $('$3'))"),e=/(Deg)\(([\w_]+),([ \w[\w_]+),([\w_]+)\)/g,t=t.replace(e,"deg($('$2'),$('$3'),$('$4'))"),e=/Rad\(([\w_]+),([\w_]+),([\w_]+)\)/g,t=t.replace(e,"rad($('$1'),$('$2'),$('$3'))"),e=/N\((.+)\)/g,t=t.replace(e,"($1)")},geonext2JS:function(t,e){var i,r,s,o=["Abs","ACos","ASin","ATan","Ceil","Cos","Exp","Factorial","Floor","Log","Max","Min","Random","Round","Sin","Sqrt","Tan","Trunc"],n=["abs","acos","asin","atan","ceil","cos","exp","factorial","floor","log","max","min","random","round","sin","sqrt","tan","ceil"];for(r=t=(t=(t=t.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),r=this.replaceNameById(r,e),r=this.replaceIf(r),r=this.replacePow(r),r=this.replaceIdByObj(r),s=0;s<o.length;s++)i=new RegExp(["(\\W|^)(",o[s],")"].join(""),"ig"),r=r.replace(i,["$1",n[s]].join(""));return r=(r=(r=(r=(r=r.replace(/True/g,"true")).replace(/False/g,"false")).replace(/fasle/g,"false")).replace(/Pi/g,"PI")).replace(/"/g,"'")},findDependencies:function(t,r,s){var o,n,a,h;for(n in i.exists(s)||(s=t.board),o=s.elementsByName)o.hasOwnProperty(n)&&n!==t.name&&(o[n].elementClass===e.OBJECT_CLASS_TEXT&&i.evaluate(o[n].visProp.islabel)||(h=(h=n.replace(/\[/g,"\\[")).replace(/\]/g,"\\]"),a=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+h+")(,[\\w\\[\\]'_ ]+)*\\)","g"),r.search(a)>=0&&o[n].addChild(t)))},gxt2jc:function(t,e){var i;return i=t=(t=(t=t.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),i=(i=(i=(i=this.replaceNameById(i,e,!0)).replace(/True/g,"true")).replace(/False/g,"false")).replace(/fasle/g,"false")}},t.GeonextParser})),define("base/element",["jxg","base/constants","base/coords","math/math","math/statistics","options","utils/event","utils/color","utils/type"],(function(t,e,i,r,s,o,n,a,h){"use strict";return t.GeometryElement=function(t,i,r,s){var o,a,l;if(this.needsUpdate=!0,this.isDraggable=!1,this.isReal=!0,this.childElements={},this.hasLabel=!1,this.highlighted=!1,this.notExistingParents={},this.traces={},this.numTraces=0,this.transformations=[],this.baseElement=null,this.descendants={},this.ancestors={},this.parents=[],this.symbolic={},this.rendNode=null,this.elType="",this.dump=!0,this.subs={},this.inherits=[],this._pos=-1,this.stdform=[1,0,0,0,1,1,0,0],this.methodMap={setLabel:"setLabel",label:"label",setName:"setName",getName:"getName",addTransform:"addTransform",setProperty:"setAttribute",setAttribute:"setAttribute",addChild:"addChild",animate:"animate",on:"on",off:"off",trigger:"trigger",addTicks:"addTicks",removeTicks:"removeTicks",removeAllTicks:"removeAllTicks"},this.quadraticform=[[1,0,0],[0,1,0],[0,0,1]],this.visProp={},this.visPropCalc={visible:!1},n.eventify(this),this.mouseover=!1,this.lastDragTime=new Date,arguments.length>0){for(a in this.board=t,this.type=r,this._org_type=r,this.elementClass=s||e.OBJECT_CLASS_OTHER,this.id=i.id,o=i.name,h.exists(o)||(o=this.board.generateName(this)),""!==o&&(this.board.elementsByName[o]=this),this.name=o,this.needsRegularUpdate=i.needsregularupdate,h.clearVisPropOld(this),l=this.resolveShortcuts(i))l.hasOwnProperty(a)&&this._set(a,l[a]);this.visProp.draft=l.draft&&l.draft.draft}},t.extend(t.GeometryElement.prototype,{addChild:function(t){var e,i;for(e in this.childElements[t.id]=t,this.addDescendants(t),t.ancestors[this.id]=this,this.descendants)if(this.descendants.hasOwnProperty(e))for(i in this.descendants[e].ancestors[this.id]=this,this.ancestors)this.ancestors.hasOwnProperty(i)&&(this.descendants[e].ancestors[this.ancestors[i].id]=this.ancestors[i]);for(e in this.ancestors)if(this.ancestors.hasOwnProperty(e))for(i in this.descendants)this.descendants.hasOwnProperty(i)&&(this.ancestors[e].descendants[this.descendants[i].id]=this.descendants[i]);return this},addDescendants:function(t){var e;for(e in this.descendants[t.id]=t,t.childElements)t.childElements.hasOwnProperty(e)&&this.addDescendants(t.childElements[e]);return this},addParents:function(t){var e,i,r;for(i=(r=h.isArray(t)?t:arguments).length,e=0;e<i;++e)h.exists(r[e])&&(h.isId(this.board,r[e])?this.parents.push(r[e]):h.exists(r[e].id)&&this.parents.push(r[e].id));this.parents=h.uniqueArray(this.parents)},setParents:function(t){this.parents=[],this.addParents(t)},removeChild:function(t){return delete this.childElements[t.id],this.removeDescendants(t),delete t.ancestors[this.id],this},removeDescendants:function(t){var e;for(e in delete this.descendants[t.id],t.childElements)t.childElements.hasOwnProperty(e)&&this.removeDescendants(t.childElements[e]);return this},countChildren:function(){var t,e,i=0;for(t in e=this.childElements)e.hasOwnProperty(t)&&t.indexOf("Label")<0&&i++;return i},getName:function(){return this.name},addTransform:function(t){return this},draggable:function(){return this.isDraggable&&!h.evaluate(this.visProp.fixed)&&
/*!this.visProp.frozen &&*/this.type!==e.OBJECT_TYPE_GLIDER},setPosition:function(t,i){var r,s,o,n,a=[];if(!h.exists(this.parents))return this;for(o=this.parents.length,s=0;s<o;++s)if(r=this.board.select(this.parents[s]),h.isPoint(r)){if(!r.draggable())return this;a.push(r)}for(3===i.length&&(i=i.slice(1)),n=this.board.create("transform",i,{type:"translate"}),(o=a.length)>0?n.applyOnce(a):this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(n):this.addTransform(n),s=0;s<o;++s)a[s].type===e.OBJECT_TYPE_GLIDER&&a[s].updateGlider();return this},setPositionDirectly:function(t,r,o){var n=new i(t,r,this.board,!1),a=new i(t,o,this.board,!1),h=s.subtract(n.usrCoords,a.usrCoords);return this.setPosition(e.COORDS_BY_USER,h),this},generatePolynomial:function(){return[]},animate:function(t,e,i){i=i||{};var r,s,o,n=this.board.attr.animationdelay,l=Math.ceil(e/n),c=this,d=function(t,e,i){var r,s,n,h,d;for(r=a.rgb2hsv(t),n=((s=a.rgb2hsv(e))[0]-r[0])/l,h=(s[1]-r[1])/l,d=(s[2]-r[2])/l,c.animationData[i]=[],o=0;o<l;o++)c.animationData[i][l-o-1]=a.hsv2rgb(r[0]+(o+1)*n,r[1]+(o+1)*h,r[2]+(o+1)*d)},u=function(t,e,i,r){var s,n;if(t=parseFloat(t),e=parseFloat(e),!isNaN(t)&&!isNaN(e))for(n=(e-t)/l,c.animationData[i]=[],o=0;o<l;o++)s=t+(o+1)*n,c.animationData[i][l-o-1]=r?Math.floor(s):s};for(r in this.animationData={},t)if(t.hasOwnProperty(r))switch(s=r.toLowerCase()){case"strokecolor":case"fillcolor":d(this.visProp[s],t[r],s);break;case"size":if(!h.isPoint(this))break;u(this.visProp[s],t[r],s,!0);break;case"strokeopacity":case"strokewidth":case"fillopacity":u(this.visProp[s],t[r],s,!1)}return this.animationCallback=i.callback,this.board.addAnimation(this),this},update:function(){return h.evaluate(this.visProp.trace)&&this.cloneToBackground(),this},updateRenderer:function(){return this},fullUpdate:function(t){return this.prepareUpdate().update().updateVisibility(t).updateRenderer()},setDisplayRendNode:function(t){var e,i,r,s,o;if(void 0===t&&(t=this.visPropCalc.visible),t===this.visPropOld.visible)return this;for(this.board.renderer.display(this,t),i=this.inherits.length,r=0;r<i;r++)if(o=this.inherits[r],h.isArray(o))for(s=o.length,e=0;e<s;e++)h.exists(o[e])&&h.exists(o[e].rendNode)&&"inherit"===h.evaluate(o[e].visProp.visible)&&o[e].setDisplayRendNode(t);else h.exists(o)&&h.exists(o.rendNode)&&"inherit"===h.evaluate(o.visProp.visible)&&o.setDisplayRendNode(t);return this.hasLabel&&h.exists(this.label)&&h.exists(this.label.rendNode)&&"inherit"===h.evaluate(this.label.visProp.visible)&&this.label.setDisplayRendNode(t),this},hide:function(){return this.setAttribute({visible:!1}),this},hideElement:function(){return this.hide(),this},show:function(){return this.setAttribute({visible:!0}),this},showElement:function(){return this.show(),this},updateVisibility:function(t){var e,i,r,s,o,n;if(this.needsUpdate){for(void 0!==t?this.visPropCalc.visible=t:(n=h.evaluate(this.visProp.visible),h.exists(this.hiddenByParent)&&this.hiddenByParent&&(n=!1),"inherit"!==n&&(this.visPropCalc.visible=n)),i=this.inherits.length,r=0;r<i;r++)if(o=this.inherits[r],h.isArray(o))for(s=o.length,e=0;e<s;e++)h.exists(o[e])&&"inherit"===h.evaluate(o[e].visProp.visible)&&o[e].prepareUpdate().updateVisibility(this.visPropCalc.visible);else h.exists(o)&&"inherit"===h.evaluate(o.visProp.visible)&&o.prepareUpdate().updateVisibility(this.visPropCalc.visible);h.exists(this.label)&&h.exists(this.label.visProp)&&h.evaluate(this.label.visProp.visible)&&this.label.prepareUpdate().updateVisibility(this.visPropCalc.visible)}return this},_set:function(t,e){var i;if(t=t.toLocaleLowerCase(),this.visProp.hasOwnProperty(t)&&t.indexOf("color")>=0&&h.isString(e)&&9===e.length&&"#"===e.charAt(0))e=a.rgba2rgbo(e),this.visProp[t]=e[0],this.visProp[t.replace("color","opacity")]=e[1];else if(null===e||!h.isObject(e)||h.exists(e.id)||h.exists(e.name))this.visProp[t]=e;else for(i in this.visProp[t]={},e)e.hasOwnProperty(i)&&(this.visProp[t][i.toLocaleLowerCase()]=e[i])},resolveShortcuts:function(t){var e,i,r,s=["traceattributes","traceAttributes"];for(e in o.shortcuts)if(o.shortcuts.hasOwnProperty(e)){if(h.exists(t[e]))for(i=0;i<o.shortcuts[e].length;i++)h.exists(t[o.shortcuts[e][i]])||(t[o.shortcuts[e][i]]=t[e]);for(r=0;r<s.length;r++)h.isObject(t[s[r]])&&(t[s[r]]=this.resolveShortcuts(t[s[r]]))}return t},setLabel:function(t){this.hasLabel||this.setAttribute({withlabel:!0}),this.setLabelText(t)},setLabelText:function(t){return h.exists(this.label)&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.label.setText(t)),this},setName:function(t){t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"slider"!==this.elType&&this.setLabelText(t),this.setAttribute({name:t})},setProperty:function(){t.deprecated("setProperty()","setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(i){var r,s,o,n,l,c,d,u,p,f={};for(r=0;r<arguments.length;r++)c=arguments[r],h.isString(c)?(u=c.split(":"),f[h.trim(u[0])]=h.trim(u[1])):h.isArray(c)?f[c[0]]=c[1]:t.extend(f,c);for(r in f=this.resolveShortcuts(f))if(f.hasOwnProperty(r)){if(n=r.replace(/\s+/g,"").toLowerCase(),l=f[r],h.isObject(l)&&h.exists(this.visProp[n])){if(this.visProp[n]=h.merge(this.visProp[n],l),this.type===e.OBJECT_TYPE_TICKS&&h.exists(this.labels))for(o=this.labels.length,s=0;s<o;s++)this.labels[s].setAttribute(l);else if(h.exists(this[n]))if(h.isArray(this[n]))for(s=0;s<this[n].length;s++)this[n][s].setAttribute(l);else this[n].setAttribute(l);continue}switch(p=this.visProp[n],n){case"name":p=this.name,delete this.board.elementsByName[this.name],this.name=l,this.board.elementsByName[this.name]=this;break;case"needsregularupdate":this.needsRegularUpdate=!("false"===l||!1===l),this.board.renderer.setBuffering(this,this.needsRegularUpdate?"auto":"static");break;case"labelcolor":d=(l=a.rgba2rgbo(l))[1],l=l[0],0===d&&h.exists(this.label)&&this.hasLabel&&this.label.hideElement(),h.exists(this.label)&&this.hasLabel&&(this.label.visProp.strokecolor=l,this.board.renderer.setObjectStrokeColor(this.label,l,d)),this.elementClass===e.OBJECT_CLASS_TEXT&&(this.visProp.strokecolor=l,this.visProp.strokeopacity=d,this.board.renderer.setObjectStrokeColor(this,l,d));break;case"infoboxtext":h.isString(l)?this.infoboxText=l:this.infoboxText=!1;break;case"visible":this.visProp.visible="false"!==l&&("true"===l||l),this.setDisplayRendNode(h.evaluate(this.visProp.visible)),h.evaluate(this.visProp.visible)&&h.exists(this.updateSize)&&this.updateSize();break;case"face":h.isPoint(this)&&(this.visProp.face=l,this.board.renderer.changePointStyle(this));break;case"trace":"false"===l||!1===l?(this.clearTrace(),this.visProp.trace=!1):this.visProp.trace="pause"!==l;break;case"gradient":this.visProp.gradient=l,this.board.renderer.setGradient(this);break;case"gradientsecondcolor":l=a.rgba2rgbo(l),this.visProp.gradientsecondcolor=l[0],this.visProp.gradientsecondopacity=l[1],this.board.renderer.updateGradient(this);break;case"gradientsecondopacity":this.visProp.gradientsecondopacity=l,this.board.renderer.updateGradient(this);break;case"withlabel":this.visProp.withlabel=l,h.evaluate(l)?(this.label||this.createLabel(),this.label.setAttribute({visible:"inherit"})):this.label&&this.hasLabel&&this.label.setAttribute({visible:!1}),this.hasLabel=l;break;case"radius":this.type!==e.OBJECT_TYPE_ANGLE&&this.type!==e.OBJECT_TYPE_SECTOR||this.setRadius(l);break;case"rotate":(this.elementClass===e.OBJECT_CLASS_TEXT&&"internal"===h.evaluate(this.visProp.display)||this.type===e.OBJECT_TYPE_IMAGE)&&this.addRotation(l);break;case"ticksdistance":this.type===e.OBJECT_TYPE_TICKS&&h.isNumber(l)&&(this.ticksFunction=this.makeTicksFunction(l));break;case"generatelabelvalue":this.type===e.OBJECT_TYPE_TICKS&&h.isFunction(l)&&(this.generateLabelValue=l);break;case"onpolygon":this.type===e.OBJECT_TYPE_GLIDER&&(this.onPolygon=!!l);break;case"disabled":h.exists(this.rendNodeTag)&&(this.rendNodeTag.disabled=!!l);break;case"checked":h.exists(this.rendNodeTag)&&(this.rendNodeCheckbox.checked=!!l);break;case"maxlength":h.exists(this.rendNodeTag)&&(this.rendNodeTag.maxlength=!!l);break;case"layer":this.board.renderer.setLayer(this,h.evaluate(l)),this._set(n,l);break;case"tabindex":h.exists(this.rendNode)&&(this.rendNode.setAttribute("tabindex",l),this._set(n,l));break;default:h.exists(this.visProp[n])&&(!t.Validator[n]||t.Validator[n]&&t.Validator[n](l)||t.Validator[n]&&h.isFunction(l)&&t.Validator[n](l()))&&(l=(!l.toLowerCase||"false"!==l.toLowerCase())&&l,this._set(n,l))}this.triggerEventHandlers(["attribute:"+n],[p,l,this])}return this.triggerEventHandlers(["attribute"],[f,this]),h.evaluate(this.visProp.needsregularupdate)?this.board.update(this):this.board.fullUpdate(),this},getProperty:function(){t.deprecated("getProperty()","getAttribute()"),this.getProperty.apply(this,arguments)},getAttribute:function(t){var e;switch(t=t.toLowerCase()){case"needsregularupdate":e=this.needsRegularUpdate;break;case"labelcolor":e=this.label.visProp.strokecolor;break;case"infoboxtext":e=this.infoboxText;break;case"withlabel":e=this.hasLabel;break;default:e=this.visProp[t]}return e},setDash:function(t){return this.setAttribute({dash:t}),this},prepareUpdate:function(){return this.needsUpdate=!0,this},remove:function(){return this.board.renderer.remove(this.board.renderer.getElementById(this.id)),this.hasLabel&&this.board.renderer.remove(this.board.renderer.getElementById(this.label.id)),this},getTextAnchor:function(){return new i(e.COORDS_BY_USER,[0,0],this.board)},getLabelAnchor:function(){return new i(e.COORDS_BY_USER,[0,0],this.board)},setArrow:function(t,i){return this.visProp.firstarrow=t,this.visProp.lastarrow=i,i&&(this.type=e.OBJECT_TYPE_VECTOR,this.elType="arrow"),this.prepareUpdate().update().updateVisibility().updateRenderer(),this},createGradient:function(){var t=h.evaluate(this.visProp.gradient);"linear"!==t&&"radial"!==t||this.board.renderer.setGradient(this)},createLabel:function(){var e,i=this;return t.elements.text?((e=h.deepCopy(this.visProp.label,null)).id=this.id+"Label",e.isLabel=!0,e.anchor=this,e.priv=this.visProp.priv,this.visProp.withlabel&&(this.label=t.elements.text(this.board,[0,0,function(){return h.isFunction(i.name)?i.name():i.name}],e),this.label.needsUpdate=!0,this.label.dump=!1,this.label.fullUpdate(),this.hasLabel=!0)):t.debug("JSXGraph: Can't create label: text element is not available. Make sure you include base/text"),this},highlight:function(t){return t=h.def(t,!1),!h.evaluate(this.visProp.highlight)||this.highlighted&&!t||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this)),this},noHighlight:function(){return this.highlighted&&(this.highlighted=!1,delete this.board.highlightedObjects[this.id],this.board.renderer.noHighlight(this)),this},clearTrace:function(){var t;for(t in this.traces)this.traces.hasOwnProperty(t)&&this.board.renderer.remove(this.traces[t]);return this.numTraces=0,this},cloneToBackground:function(){return this},bounds:function(){return[0,0,0,0]},normalize:function(){return this.stdform=r.normalize(this.stdform),this},toJSON:function(){var t,e,i=['{"name":',this.name];for(e in i.push(', "id":'+this.id),t=[],this.visProp)this.visProp.hasOwnProperty(e)&&h.exists(this.visProp[e])&&t.push('"'+e+'":'+this.visProp[e]);return i.push(', "visProp":{'+t.toString()+"}"),i.push("}"),i.join("")},addRotation:function(t){var i,r,s,o,n,a=this;return(this.elementClass===e.OBJECT_CLASS_TEXT&&"internal"===h.evaluate(this.visProp.display)||this.type===e.OBJECT_TYPE_IMAGE)&&0!==t&&(i=this.board.create("transform",[function(){return-a.X()},function(){return-a.Y()}],{type:"translate"}),r=this.board.create("transform",[function(){return a.X()},function(){return a.Y()}],{type:"translate"}),s=this.board.create("transform",[function(){return a.board.unitX/a.board.unitY},function(){return 1}],{type:"scale"}),o=this.board.create("transform",[function(){return a.board.unitY/a.board.unitX},function(){return 1}],{type:"scale"}),n=this.board.create("transform",[function(){return h.evaluate(t)*Math.PI/180}],{type:"rotate"}),i.bindTo(this),s.bindTo(this),n.bindTo(this),o.bindTo(this),r.bindTo(this)),this},highlightStrokeColor:function(e){return t.deprecated("highlightStrokeColor()","setAttribute()"),this.setAttribute({highlightStrokeColor:e}),this},strokeColor:function(e){return t.deprecated("strokeColor()","setAttribute()"),this.setAttribute({strokeColor:e}),this},strokeWidth:function(e){return t.deprecated("strokeWidth()","setAttribute()"),this.setAttribute({strokeWidth:e}),this},fillColor:function(e){return t.deprecated("fillColor()","setAttribute()"),this.setAttribute({fillColor:e}),this},highlightFillColor:function(e){return t.deprecated("highlightFillColor()","setAttribute()"),this.setAttribute({highlightFillColor:e}),this},labelColor:function(e){return t.deprecated("labelColor()","setAttribute()"),this.setAttribute({labelColor:e}),this},dash:function(e){return t.deprecated("dash()","setAttribute()"),this.setAttribute({dash:e}),this},visible:function(e){return t.deprecated("visible()","setAttribute()"),this.setAttribute({visible:e}),this},shadow:function(e){return t.deprecated("shadow()","setAttribute()"),this.setAttribute({shadow:e}),this},getType:function(){return this.elType},getParents:function(){return h.isArray(this.parents)?this.parents:[]},snapToGrid:function(){return this},snapToPoints:function(){return this},getAttributes:function(){var t,e=h.deepCopy(this.visProp),i=[],r=i.length;for(e.id=this.id,e.name=this.name,t=0;t<r;t++)delete e[i[t]];return e},hasPoint:function(t,e){return!1},addTicks:function(t){return""!==t.id&&h.exists(t.id)||(t.id=this.id+"_ticks_"+(this.ticks.length+1)),this.board.renderer.drawTicks(t),this.ticks.push(t),t.id},removeAllTicks:function(){var t;if(h.exists(this.ticks)){for(t=this.ticks.length-1;t>=0;t--)this.removeTicks(this.ticks[t]);this.ticks=[],this.board.update()}},removeTicks:function(t){var e,i;if(h.exists(this.defaultTicks)&&this.defaultTicks===t&&(this.defaultTicks=null),h.exists(this.ticks))for(e=this.ticks.length-1;e>=0;e--)if(this.ticks[e]===t){if(this.board.removeObject(this.ticks[e]),this.ticks[e].ticks)for(i=0;i<this.ticks[e].ticks.length;i++)h.exists(this.ticks[e].labels[i])&&this.board.removeObject(this.ticks[e].labels[i]);delete this.ticks[e];break}},getSnapSizes:function(){var t,e,i;return t=h.evaluate(this.visProp.snapsizex),e=h.evaluate(this.visProp.snapsizey),t<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(t=(i=this.board.defaultAxes.x.defaultTicks).ticksDelta*(h.evaluate(i.visProp.minorticks)+1)),e<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(e=(i=this.board.defaultAxes.y.defaultTicks).ticksDelta*(h.evaluate(i.visProp.minorticks)+1)),[t,e]},handleSnapToGrid:function(i,r){var s,o,n,a,l,c,d,u,p,f=h.evaluate(this.visProp.attracttogrid),m=h.evaluate(this.visProp.attractorunit),g=h.evaluate(this.visProp.attractordistance);return!h.exists(this.coords)||h.evaluate(this.visProp.fixed)||(h.evaluate(this.visProp.snaptogrid)||f||!0===i)&&(s=this.coords.usrCoords[1],o=this.coords.usrCoords[2],u=(d=this.getSnapSizes())[0],p=d[1],u>0&&p>0&&(c=this.board.getBoundingBox(),n=Math.round(s/u)*u,a=Math.round(o/p)*p,l=new t.Coords(e.COORDS_BY_USER,[n,a],this.board),(!f||l.distance("screen"===m?e.COORDS_BY_SCREEN:e.COORDS_BY_USER,this.coords)<g)&&(s=n,o=a,r||(s<c[0]?s+=u:s>c[2]&&(s-=u),o<c[3]?o+=p:o>c[1]&&(o-=p)),this.coords.setCoordinates(e.COORDS_BY_USER,[s,o])))),this},getBoundingBox:function(){var t,i,r,s,o,n=[1/0,1/0,-1/0,-1/0];if(this.type===e.OBJECT_TYPE_POLYGON){if((i=this.vertices.length-1)<=0)return n;for(t=0;t<i;t++)r=this.vertices[t].X(),n[0]=r<n[0]?r:n[0],n[2]=r>n[2]?r:n[2],r=this.vertices[t].Y(),n[1]=r<n[1]?r:n[1],n[3]=r>n[3]?r:n[3]}else if(this.elementClass===e.OBJECT_CLASS_CIRCLE)s=this.center.X(),o=this.center.Y(),n=[s-this.radius,o+this.radius,s+this.radius,o-this.radius];else if(this.elementClass===e.OBJECT_CLASS_CURVE){if(0===(i=this.vertices.length))return n;for(t=0;t<i;t++)r=this.points[t].coords.usrCoords[1],n[0]=r<n[0]?r:n[0],n[2]=r>n[2]?r:n[2],r=this.points[t].coords.usrCoords[1],n[1]=r<n[1]?r:n[1],n[3]=r>n[3]?r:n[3]}return n},addEvent:t.shortcut(t.GeometryElement.prototype,"on"),removeEvent:t.shortcut(t.GeometryElement.prototype,"off"),__evt__over:function(t){},__evt__mouseover:function(t){},__evt__out:function(t){},__evt__mouseout:function(t){},__evt__move:function(t){},__evt__mousemove:function(t){},__evt__drag:function(t){},__evt__mousedrag:function(t){},__evt__pendrag:function(t){},__evt__touchdrag:function(t){},__evt__down:function(t){},__evt__mousedown:function(t){},__evt__pendown:function(t){},__evt__touchdown:function(t){},__evt__up:function(t){},__evt__mouseup:function(t){},__evt__penup:function(t){},__evt__touchup:function(t){},__evt__attribute:function(t,e){},__evt__attribute_:function(t,e,i){},__evt:function(){}}),t.GeometryElement})),define("base/coordselement",["jxg","math/math","math/geometry","math/numerics","math/statistics","base/coords","base/constants","utils/type"],(function(t,e,i,r,s,o,n,a){"use strict";return t.CoordsElement=function(t,e){var i;for(a.exists(t)||(t=[1,0,0]),i=0;i<t.length;++i)t[i]=parseFloat(t[i]);this.coords=new o(n.COORDS_BY_USER,t,this.board),this.initialCoords=new o(n.COORDS_BY_USER,t,this.board),this.position=null,this.isConstrained=!1,this.onPolygon=!1,this.slideObject=null,this.slideObjects=[],this.needsUpdateFromParent=!0,this.groups=[],this.Xjc=null,this.Yjc=null,this.methodMap=a.deepCopy(this.methodMap,{move:"moveTo",moveTo:"moveTo",moveAlong:"moveAlong",visit:"visit",glide:"makeGlider",makeGlider:"makeGlider",intersect:"makeIntersection",makeIntersection:"makeIntersection",X:"X",Y:"Y",free:"free",setPosition:"setGliderPosition",setGliderPosition:"setGliderPosition",addConstraint:"addConstraint",dist:"Dist",onPolygon:"onPolygon"}),a.exists(this.element)&&this.addAnchor(t,e),this.isDraggable=!0},t.extend(t.CoordsElement.prototype,{updateConstraint:function(){return this},updateCoords:function(t){return this.needsUpdate?(a.exists(t)||(t=!1),a.evaluate(this.visProp.frozen)||this.updateConstraint(),this.type===n.OBJECT_TYPE_GLIDER&&(this.isConstrained&&(t=!1),t?this.updateGliderFromParent():this.updateGlider()),this.updateTransform(t),this):this},updateGlider:function(){var t,r,s,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x=2*Math.PI,S=!1,O=this.slideObject,w=[];if(this.needsUpdateFromParent=!1,O.elementClass===n.OBJECT_CLASS_CIRCLE)a.evaluate(this.visProp.isgeonext)&&(x=1),v=i.projectPointToCircle(this,O,this.board),y=i.rad([O.center.X()+1,O.center.Y()],O.center,this)/x;else if(O.elementClass===n.OBJECT_CLASS_LINE){if(this.onPolygon){if(r=O.point1.coords.usrCoords,h=(s=O.point2.coords.usrCoords)[t=1]-r[t],Math.abs(h)<e.eps&&(h=s[t=2]-r[t]),d=(i.projectPointToLine(this,O,this.board).usrCoords[t]-r[t])/h,c=O.parentPolygon,d<0){for(t=0;t<c.borders.length;t++)if(O===c.borders[t]){O=c.borders[(t-1+c.borders.length)%c.borders.length];break}}else if(d>1)for(t=0;t<c.borders.length;t++)if(O===c.borders[t]){O=c.borders[(t+1+c.borders.length)%c.borders.length];break}O.id!==this.slideObject.id&&(this.slideObject=O)}r=O.point1.coords,s=O.point2.coords,(h=r.distance(n.COORDS_BY_USER,s))<e.eps?(v=r,S=!0,y=0):(v=i.projectPointToLine(this,O,this.board),r=r.usrCoords.slice(0),s=s.usrCoords.slice(0),Math.abs(s[0])<e.eps?(h=s[t=1],Math.abs(h)<e.eps&&(h=s[t=2]),y=((h=(v.usrCoords[t]-r[t])/h)>=0?1:-1)*(h=Math.abs(h))/(h+1)):Math.abs(r[0])<e.eps?(h=r[t=1],Math.abs(h)<e.eps&&(h=r[t=2]),y=(h=(v.usrCoords[t]-s[t])/h)<0?(1-2*h)/(1-h):1/(h+1)):(h=s[t=1]-r[t],Math.abs(h)<e.eps&&(h=s[t=2]-r[t]),y=(v.usrCoords[t]-r[t])/h)),C=a.evaluate(this.visProp.snapwidth),a.evaluate(C)>0&&Math.abs(this._smax-this._smin)>=e.eps&&(l=(y=Math.max(Math.min(y,1),0))*(this._smax-this._smin)+this._smin,y=((l=Math.round(l/C)*C)-this._smin)/(this._smax-this._smin),this.update(!0)),r=O.point1.coords,!a.evaluate(O.visProp.straightfirst)&&Math.abs(r.usrCoords[0])>e.eps&&y<0&&(v=r,S=!0,y=0),s=O.point2.coords,!a.evaluate(O.visProp.straightlast)&&Math.abs(s.usrCoords[0])>e.eps&&y>1&&(v=s,S=!0,y=1)}else if(O.type===n.OBJECT_TYPE_TURTLE)this.updateConstraint(),v=(_=i.projectPointToTurtle(this,O,this.board))[0],y=_[1];else if(O.elementClass===n.OBJECT_CLASS_CURVE)if(O.type===n.OBJECT_TYPE_ARC||O.type===n.OBJECT_TYPE_SECTOR)v=i.projectPointToCircle(this,O,this.board),f=i.rad(O.radiuspoint,O.center,this),u=0,p=i.rad(O.radiuspoint,O.center,O.anglepoint),y=f,("minor"===(C=a.evaluate(O.visProp.selection))&&p>Math.PI||"major"===C&&p<Math.PI)&&(u=p,p=2*Math.PI),(f<u||f>p)&&(y=p,(f<u&&f>.5*u||f>p&&f>.5*p+Math.PI)&&(y=u),this.needsUpdateFromParent=!0,this.updateGliderFromParent()),x=p-u,this.visProp.isgeonext&&(x=1),Math.abs(x)>e.eps&&(y/=x);else if(this.updateConstraint(),O.transformations.length>0){for(E=!1,(_=O.getTransformationSource())[0]&&(E=_[0],w.push(O),w.push(_[1]));_[0]&&a.exists(_[1]._transformationSource);)_=_[1].getTransformationSource(),w.push(_[1]);if(P=this.coords.usrCoords,E){for(t=0;t<w.length;t++)w[t].updateTransformMatrix(),b=e.inverse(w[t].transformMat),P=e.matVecMult(b,P);for(m=new o(n.COORDS_BY_USER,P,this.board).usrCoords,P=(g=i.projectCoordsToCurve(m[1],m[2],this.position||0,w[w.length-1],this.board))[0].usrCoords,t=w.length-2;t>=0;t--)P=e.matVecMult(w[t].transformMat,P);g[0]=new o(n.COORDS_BY_USER,P,this.board)}else O.updateTransformMatrix(),b=e.inverse(O.transformMat),P=e.matVecMult(b,P),m=new o(n.COORDS_BY_USER,P,this.board).usrCoords,g=i.projectCoordsToCurve(m[1],m[2],this.position||0,O,this.board);v=g[0],y=g[1]}else v=(_=i.projectPointToCurve(this,O,this.board))[0],y=_[1];else a.isPoint(O)&&(v=i.projectPointToPoint(this,O,this.board),y=this.position);this.coords.setCoordinates(n.COORDS_BY_USER,v.usrCoords,S),this.position=y},updateGliderFromParent:function(){var t,r,s,h,l,c,d,u,p,f,m,g,b=this.slideObject,v=[],y=2*Math.PI;if(this.needsUpdateFromParent){if(b.elementClass===n.OBJECT_CLASS_CIRCLE)s=b.Radius(),a.evaluate(this.visProp.isgeonext)&&(y=1),l=[b.center.X()+s*Math.cos(this.position*y),b.center.Y()+s*Math.sin(this.position*y)];else if(b.elementClass===n.OBJECT_CLASS_LINE)t=b.point1.coords.usrCoords,r=b.point2.coords.usrCoords,0===t[0]&&0===t[1]&&0===t[2]||0===r[0]&&0===r[1]&&0===r[2]?l=[0,0,0]:Math.abs(r[0])<e.eps?(h=Math.min(Math.abs(this.position),1-e.eps),h/=1-h,this.position<0&&(h=-h),l=[t[0]+h*r[0],t[1]+h*r[1],t[2]+h*r[2]]):Math.abs(t[0])<e.eps?(h=Math.max(this.position,e.eps),h=(h=Math.min(h,2-e.eps))>1?(h-1)/(h-2):(1-h)/h,l=[r[0]+h*t[0],r[1]+h*t[1],r[2]+h*t[2]]):(h=this.position,l=[t[0]+h*(r[0]-t[0]),t[1]+h*(r[1]-t[1]),t[2]+h*(r[2]-t[2])]);else if(b.type===n.OBJECT_TYPE_TURTLE)this.coords.setCoordinates(n.COORDS_BY_USER,[b.Z(this.position),b.X(this.position),b.Y(this.position)]),this.updateConstraint(),l=i.projectPointToTurtle(this,b,this.board)[0].usrCoords;else if(b.elementClass===n.OBJECT_CLASS_CURVE){for(u=!1,(c=b.getTransformationSource())[0]&&(u=c[0],v.push(b),v.push(c[1]));c[0]&&a.exists(c[1]._transformationSource);)c=c[1].getTransformationSource(),v.push(c[1]);if(u?this.coords.setCoordinates(n.COORDS_BY_USER,[v[v.length-1].Z(this.position),v[v.length-1].X(this.position),v[v.length-1].Y(this.position)]):this.coords.setCoordinates(n.COORDS_BY_USER,[b.Z(this.position),b.X(this.position),b.Y(this.position)]),b.type===n.OBJECT_TYPE_ARC||b.type===n.OBJECT_TYPE_SECTOR)p=i.rad([b.center.X()+1,b.center.Y()],b.center,b.radiuspoint),f=0,g=i.rad(b.radiuspoint,b.center,b.anglepoint),("minor"===b.visProp.selection&&g>Math.PI||"major"===b.visProp.selection&&g<Math.PI)&&(f=g,g=2*Math.PI),y=g-f,a.evaluate(this.visProp.isgeonext)&&(y=1),((m=this.position*y)<f||m>g)&&(((m=g)<f&&m>.5*f||m>g&&m>.5*g+Math.PI)&&(m=f),this.position=m,Math.abs(y)>e.eps&&(this.position/=y)),s=b.Radius(),l=[b.center.X()+s*Math.cos(this.position*y+p),b.center.Y()+s*Math.sin(this.position*y+p)];else if(this.updateConstraint(),u)for(l=i.projectPointToCurve(this,v[v.length-1],this.board)[0].usrCoords,d=v.length-2;d>=0;d--)l=new o(n.COORDS_BY_USER,e.matVecMult(v[d].transformMat,l),this.board).usrCoords;else l=i.projectPointToCurve(this,b,this.board)[0].usrCoords}else a.isPoint(b)&&(l=i.projectPointToPoint(this,b,this.board).usrCoords);this.coords.setCoordinates(n.COORDS_BY_USER,l,!1)}else this.needsUpdateFromParent=!0},updateRendererGeneric:function(t){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.coords.usrCoords[1]+this.coords.usrCoords[2]),this.isReal=Math.abs(this.coords.usrCoords[0])>e.eps&&this.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer[t](this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},X:function(){return this.coords.usrCoords[1]},Y:function(){return this.coords.usrCoords[2]},Z:function(){return this.coords.usrCoords[0]},XEval:function(){return this.coords.usrCoords[1]},YEval:function(){return this.coords.usrCoords[2]},ZEval:function(){return this.coords.usrCoords[0]},Dist:function(t){return this.isReal&&t.isReal?this.coords.distance(n.COORDS_BY_USER,t.coords):NaN},snapToGrid:function(t){return this.handleSnapToGrid(t)},handleSnapToPoints:function(t){var e,r,s,o,h,l,c,d,u=0,p=1/0,f=null,m=a.evaluate(this.visProp.ignoredsnaptopoints),g=!1;if(o=this.board.objectsList.length,m&&(c=m.length),a.evaluate(this.visProp.snaptopoints)||t){for(h=a.evaluate(this.visProp.attractorunit),l=a.evaluate(this.visProp.attractordistance),e=0;e<o;e++){if(r=this.board.objectsList[e],m){for(g=!1,d=0;d<c;d++)if(r===this.board.select(m[d])){g=!0;break}if(g)continue}a.isPoint(r)&&r!==this&&r.visPropCalc.visible&&(s=i.projectPointToPoint(this,r,this.board),(u="screen"===h?s.distance(n.COORDS_BY_SCREEN,this.coords):s.distance(n.COORDS_BY_USER,this.coords))<l&&u<p&&(p=u,f=s))}null!==f&&this.coords.setCoordinates(n.COORDS_BY_USER,f.usrCoords)}return this},snapToPoints:function(t){return this.handleSnapToPoints(t)},handleAttractors:function(){var t,e,r,s,h=0,l=a.evaluate(this.visProp.attractorunit),c=a.evaluate(this.visProp.attractordistance),d=a.evaluate(this.visProp.snatchdistance),u=a.evaluate(this.visProp.attractors),p=u.length;if(0!==c){for(t=0;t<p;t++)if(e=this.board.select(u[t]),a.exists(e)&&e!==this){if(a.isPoint(e)?r=i.projectPointToPoint(this,e,this.board):e.elementClass===n.OBJECT_CLASS_LINE?(s=i.projectCoordsToSegment(this.coords.usrCoords,e.point1.coords.usrCoords,e.point2.coords.usrCoords),r=!a.evaluate(e.visProp.straightfirst)&&s[1]<0?e.point1.coords:!a.evaluate(e.visProp.straightlast)&&s[1]>1?e.point2.coords:new o(n.COORDS_BY_USER,s[0],this.board)):e.elementClass===n.OBJECT_CLASS_CIRCLE?r=i.projectPointToCircle(this,e,this.board):e.elementClass===n.OBJECT_CLASS_CURVE?r=i.projectPointToCurve(this,e,this.board)[0]:e.type===n.OBJECT_TYPE_TURTLE?r=i.projectPointToTurtle(this,e,this.board)[0]:e.type===n.OBJECT_TYPE_POLYGON&&(r=new o(n.COORDS_BY_USER,i.projectCoordsToPolygon(this.coords.usrCoords,e),this.board)),(h="screen"===l?r.distance(n.COORDS_BY_SCREEN,this.coords):r.distance(n.COORDS_BY_USER,this.coords))<c){this.type===n.OBJECT_TYPE_GLIDER&&(e===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===e)||this.makeGlider(e);break}h>=d&&(e===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===e)&&this.popSlideObject()}return this}},setPositionDirectly:function(t,i){var r,h,l,c,d=this.coords;if(this.relativeCoords)return h=new o(t,i,this.board),a.evaluate(this.visProp.islabel)?(l=s.subtract(h.scrCoords,d.scrCoords),this.relativeCoords.scrCoords[1]+=l[1],this.relativeCoords.scrCoords[2]+=l[2]):(l=s.subtract(h.usrCoords,d.usrCoords),this.relativeCoords.usrCoords[1]+=l[1],this.relativeCoords.usrCoords[2]+=l[2]),this;for(this.coords.setCoordinates(t,i),this.handleSnapToGrid(),this.handleSnapToPoints(),this.handleAttractors(),r=this.transformations.length-1;r>=0;r--)t===n.COORDS_BY_SCREEN?c=new o(t,i,this.board).usrCoords:(2===i.length&&(i=[1].concat(i)),c=i),this.initialCoords.setCoordinates(n.COORDS_BY_USER,e.matVecMult(e.inverse(this.transformations[r].matrix),c));return this.prepareUpdate().update(),this.board.isSuspendedUpdate&&this.type===n.OBJECT_TYPE_GLIDER&&this.updateGlider(),this},setPositionByTransform:function(t,e){var i;return e=new o(t,e,this.board),i=this.board.create("transform",e.usrCoords.slice(1),{type:"translate"}),this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(i):this.addTransform(this,i),this.prepareUpdate().update(),this},setPosition:function(t,e){return this.setPositionDirectly(t,e)},setGliderPosition:function(t){return this.type===n.OBJECT_TYPE_GLIDER&&(this.position=t,this.board.update()),this},makeGlider:function(e){var i,r,s,o=this.board.select(e),h=!1;if(o.type===n.OBJECT_TYPE_POLYGON){for(i=Number.MAX_VALUE,r=0;r<o.borders.length;r++)(s=t.Math.Geometry.distPointLine(this.coords.usrCoords,o.borders[r].stdform))<i&&(i=s,e=o.borders[r]);o=this.board.select(e),h=!0}if(!a.exists(o))throw new Error("JSXGraph: slide object undefined.");if(o.type===n.OBJECT_TYPE_TICKS)throw new Error("JSXGraph: gliders on ticks are not possible.");return this.slideObject=this.board.select(e),this.slideObjects.push(this.slideObject),this.addParents(e),this.type=n.OBJECT_TYPE_GLIDER,this.elType="glider",this.visProp.snapwidth=-1,this.slideObject.addChild(this),this.isDraggable=!0,this.onPolygon=h,this.generatePolynomial=function(){return this.slideObject.generatePolynomial(this)},this.updateGlider(),this.needsUpdateFromParent=!0,this.updateGliderFromParent(),this},popSlideObject:function(){this.slideObjects.length>0&&(this.slideObjects.pop(),this.slideObject.removeChild(this),0===this.slideObjects.length?(this.type=this._org_type,this.type===n.OBJECT_TYPE_POINT?this.elType="point":this.elementClass===n.OBJECT_CLASS_TEXT?this.elType="text":this.type===n.OBJECT_TYPE_IMAGE?this.elType="image":this.type===n.OBJECT_TYPE_FOREIGNOBJECT&&(this.elType="foreignobject"),this.slideObject=null):this.slideObject=this.slideObjects[this.slideObjects.length-1])},free:function(){var t,e;if(this.type!==n.OBJECT_TYPE_GLIDER){if(this.transformations.length=0,delete this.updateConstraint,this.isConstrained=!1,this.isDraggable)return;this.isDraggable=!0,this.elementClass===n.OBJECT_CLASS_POINT&&(this.type=n.OBJECT_TYPE_POINT,this.elType="point"),this.XEval=function(){return this.coords.usrCoords[1]},this.YEval=function(){return this.coords.usrCoords[2]},this.ZEval=function(){return this.coords.usrCoords[0]},this.Xjc=null,this.Yjc=null}for(t in this.board.objects)this.board.objects.hasOwnProperty(t)&&(e=this.board.objects[t]).descendants&&(delete e.descendants[this.id],delete e.childElements[this.id],this.hasLabel&&(delete e.descendants[this.label.id],delete e.childElements[this.label.id]));this.ancestors={},this.slideObject=null,this.slideObjects=[],this.elementClass===n.OBJECT_CLASS_POINT?(this.type=n.OBJECT_TYPE_POINT,this.elType="point"):this.elementClass===n.OBJECT_CLASS_TEXT?(this.type=this._org_type,this.elType="text"):this.elementClass===n.OBJECT_CLASS_OTHER&&(this.type=this._org_type,this.elType="image")},addConstraint:function(t){var e,i,r=[],s=["X","Y"],o=function(t){return function(){return t}},h=function(t){return function(){return t.Value()}};for(this.elementClass===n.OBJECT_CLASS_POINT&&(this.type=n.OBJECT_TYPE_CAS),this.isDraggable=!1,e=0;e<t.length;e++)i=t[e],a.isString(i)?(r[e]=this.board.jc.snippet(i,!0,null,!0),2===t.length&&(this[s[e]+"jc"]=t[e])):a.isFunction(i)?r[e]=i:a.isNumber(i)?r[e]=o(i):a.isObject(i)&&a.isFunction(i.Value)&&(r[e]=h(i)),r[e].origin=i;return 1===t.length?this.updateConstraint=function(){var t=r[0]();return a.isArray(t)?this.coords.setCoordinates(n.COORDS_BY_USER,t):this.coords=t,this}:2===t.length?(this.XEval=r[0],this.YEval=r[1],this.setParents([r[0].origin,r[1].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(n.COORDS_BY_USER,[this.XEval(),this.YEval()]),this}):(this.ZEval=r[0],this.XEval=r[1],this.YEval=r[2],this.setParents([r[0].origin,r[1].origin,r[2].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(n.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()]),this}),this.isConstrained=!0,this.prepareUpdate().update(),this.board.isSuspendedUpdate||(this.updateVisibility().updateRenderer(),this.hasLabel&&this.label.fullUpdate()),this},addAnchor:function(t,e){this.relativeCoords=e?new o(n.COORDS_BY_SCREEN,t.slice(0,2),this.board):new o(n.COORDS_BY_USER,t,this.board),this.element.addChild(this),e&&this.addParents(this.element),this.XEval=function(){var t,e,i;return a.evaluate(this.visProp.islabel)?(i=a.evaluate(this.visProp.offset),t=parseFloat(i[0]),e=this.element.getLabelAnchor(),new o(n.COORDS_BY_SCREEN,[t+this.relativeCoords.scrCoords[1]+e.scrCoords[1],0],this.board).usrCoords[1]):(e=this.element.getTextAnchor(),this.relativeCoords.usrCoords[1]+e.usrCoords[1])},this.YEval=function(){var t,e,i;return a.evaluate(this.visProp.islabel)?(i=a.evaluate(this.visProp.offset),t=-parseFloat(i[1]),e=this.element.getLabelAnchor(),new o(n.COORDS_BY_SCREEN,[0,t+this.relativeCoords.scrCoords[2]+e.scrCoords[2]],this.board).usrCoords[2]):(e=this.element.getTextAnchor(),this.relativeCoords.usrCoords[2]+e.usrCoords[2])},this.ZEval=a.createFunction(1,this.board,""),this.updateConstraint=function(){this.coords.setCoordinates(n.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()])},this.isConstrained=!0,this.updateConstraint()},updateTransform:function(t){var e;if(0===this.transformations.length)return this;for(e=0;e<this.transformations.length;e++)this.transformations[e].update();return this},addTransform:function(t,e){var i,r=a.isArray(e)?e:[e],s=r.length;for(0===this.transformations.length&&(this.baseElement=t),i=0;i<s;i++)this.transformations.push(r[i]);return this},startAnimation:function(t,e,i){var r=this;return i=i||250,this.type!==n.OBJECT_TYPE_GLIDER||a.exists(this.intervalCode)||(this.intervalCode=window.setInterval((function(){r._anim(t,e)}),i),a.exists(this.intervalCount)||(this.intervalCount=0)),this},stopAnimation:function(){return a.exists(this.intervalCode)&&(window.clearInterval(this.intervalCode),delete this.intervalCode),this},moveAlong:function(t,e,i){i=i||{};var s,o,h,l,c,d=[],u=[],p=e/this.board.attr.animationdelay,f=function(e,i){return function(){return t[e][i]}};if(a.isArray(t)){for(h=t.length,s=0;s<h;s++)a.isPoint(t[s])?u[s]=t[s]:u[s]={elementClass:n.OBJECT_CLASS_POINT,X:f(s,0),Y:f(s,1)};if(0===(e=e||0))return this.setPosition(n.COORDS_BY_USER,[u[u.length-1].X(),u[u.length-1].Y()]),this.board.update(this);if(!a.exists(i.interpolate)||i.interpolate)for(o=r.Neville(u),s=0;s<p;s++)d[s]=[],d[s][0]=o[0]((p-s)/p*o[3]()),d[s][1]=o[1]((p-s)/p*o[3]());else{for(h=t.length-1,s=0;s<p;++s)c=s/p*h-(l=Math.floor(s/p*h)),d[s]=[],d[s][0]=(1-c)*u[l].X()+c*u[l+1].X(),d[s][1]=(1-c)*u[l].Y()+c*u[l+1].Y();d.push([u[h].X(),u[h].Y()]),d.reverse()}this.animationPath=d}else a.isFunction(t)&&(this.animationPath=t,this.animationStart=(new Date).getTime());return this.animationCallback=i.callback,this.board.addAnimation(this),this},moveTo:function(t,i,r){r=r||{},t=new o(n.COORDS_BY_USER,t,this.board);var s,h=this.board.attr.animationdelay,l=Math.ceil(i/h),c=[],d=this.coords.usrCoords[1],u=this.coords.usrCoords[2],p=t.usrCoords[1]-d,f=t.usrCoords[2]-u,m=function(t){return r.effect&&"<>"===r.effect?Math.pow(Math.sin(t/l*Math.PI/2),2):t/l};if(!a.exists(i)||0===i||Math.abs(t.usrCoords[0]-this.coords.usrCoords[0])>e.eps)return this.setPosition(n.COORDS_BY_USER,t.usrCoords),this.board.update(this);if(!a.exists(r.callback)&&Math.abs(p)<e.eps&&Math.abs(f)<e.eps)return this;for(s=l;s>=0;s--)c[l-s]=[t.usrCoords[0],d+p*m(s),u+f*m(s)];return this.animationPath=c,this.animationCallback=r.callback,this.board.addAnimation(this),this},visit:function(t,e,i){t=new o(n.COORDS_BY_USER,t,this.board);var r,s,h,l=this.board.attr.animationdelay,c=[],d=this.coords.usrCoords[1],u=this.coords.usrCoords[2],p=t.usrCoords[1]-d,f=t.usrCoords[2]-u,m=function(t){var e=t<h/2?2*t/h:2*(h-t)/h;return i.effect&&"<>"===i.effect?Math.pow(Math.sin(e*Math.PI/2),2):e};for(a.isNumber(i)?i={repeat:i}:(i=i||{},a.exists(i.repeat)||(i.repeat=1)),h=Math.ceil(e/(l*i.repeat)),s=0;s<i.repeat;s++)for(r=h;r>=0;r--)c[s*(h+1)+h-r]=[t.usrCoords[0],d+p*m(r),u+f*m(r)];return this.animationPath=c,this.animationCallback=i.callback,this.board.addAnimation(this),this},_anim:function(t,e){var r,s,o,a,h,l,c,d,u;return this.intervalCount+=1,this.intervalCount>e&&(this.intervalCount=0),this.slideObject.elementClass===n.OBJECT_CLASS_LINE?(c=this.slideObject.point1.coords.scrCoords,d=this.slideObject.point2.coords.scrCoords,r=Math.round((d[1]-c[1])*this.intervalCount/e),s=Math.round((d[2]-c[2])*this.intervalCount/e),t>0?a=this.slideObject.point1:(a=this.slideObject.point2,r*=-1,s*=-1),this.coords.setCoordinates(n.COORDS_BY_SCREEN,[a.coords.scrCoords[1]+r,a.coords.scrCoords[2]+s])):this.slideObject.elementClass===n.OBJECT_CLASS_CURVE?(h=t>0?Math.round(this.intervalCount/e*this.board.canvasWidth):Math.round((e-this.intervalCount)/e*this.board.canvasWidth),this.coords.setCoordinates(n.COORDS_BY_SCREEN,[h,0]),u=i.projectPointToCurve(this,this.slideObject,this.board),this.coords=u[0],this.position=u[1]):this.slideObject.elementClass===n.OBJECT_CLASS_CIRCLE&&(o=2*Math.PI,o*=t<0?this.intervalCount/e:(e-this.intervalCount)/e,l=this.slideObject.Radius(),this.coords.setCoordinates(n.COORDS_BY_USER,[this.slideObject.center.coords.usrCoords[1]+l*Math.cos(o),this.slideObject.center.coords.usrCoords[2]+l*Math.sin(o)])),this.board.update(this),this},getTextAnchor:function(){return this.coords},getLabelAnchor:function(){return this.coords},getParents:function(){var t=[this.Z(),this.X(),this.Y()];return 0!==this.parents.length&&(t=this.parents),this.type===n.OBJECT_TYPE_GLIDER&&(t=[this.X(),this.Y(),this.slideObject.id]),t}}),t.CoordsElement.create=function(t,e,i,r,s,o){var n,h,l=!1;for(h=0;h<i.length;h++)(a.isFunction(i[h])||a.isString(i[h]))&&(l=!0);if(l)(n=new t(e,[0,0],r,s,o)).addConstraint(i);else if(a.isNumber(i[0])&&a.isNumber(i[1]))n=new t(e,i,r,s,o),a.exists(r.slideobject)?n.makeGlider(r.slideobject):n.baseElement=n,n.isDraggable=!0;else{if(!a.isObject(i[0])||!a.isTransformationOrArray(i[1]))return!1;(n=new t(e,[0,0],r,s,o)).addTransform(i[0],i[1]),n.isDraggable=!1}return n.handleSnapToGrid(),n.handleSnapToPoints(),n.handleAttractors(),n.addParents(i),n},t.CoordsElement})),define("base/text",["jxg","base/constants","base/element","parser/geonext","utils/env","utils/type","math/math","base/coordselement"],(function(t,e,i,r,s,o,n,a){"use strict";var h=function(){this._val=parseFloat(this.rendNodeRange.value),this.rendNodeOut.value=this.rendNodeRange.value,this.board.update()};return t.Text=function(t,i,r,s){this.constructor(t,r,e.OBJECT_TYPE_TEXT,e.OBJECT_CLASS_TEXT),this.element=this.board.select(r.anchor),this.coordsConstructor(i,o.evaluate(this.visProp.islabel)),this.content="",this.plaintext="",this.plaintextOld=null,this.orgText="",this.needsSizeUpdate=!1,this.hiddenByParent=!1,this.size=[1,1],this.id=this.board.setId(this,"T"),this.board.renderer.drawText(this),this.board.finalizeAdding(this),this.setText(s),o.isString(this.content)&&this.notifyParents(this.content),this.elType="text",this.methodMap=o.deepCopy(this.methodMap,{setText:"setTextJessieCode",move:"setCoords"})},t.Text.prototype=new i,o.copyPrototypeMethods(t.Text,a,"coordsConstructor"),t.extend(t.Text.prototype,{hasPoint:function(t,e){var i,r,s,a,h,l,c,d;return o.isObject(o.evaluate(this.visProp.precision))?(c=this.board._inputDevice,d=o.evaluate(this.visProp.precision[c])):d=this.board.options.precision.hasPoint,this.transformations.length>0&&(t=(i=n.matVecMult(n.inverse(this.board.renderer.joinTransforms(this,this.transformations)),[1,t,e]))[1],e=i[2]),r=(i="right"===(h=this.getAnchorX())?this.coords.scrCoords[1]-this.size[0]:"middle"===h?this.coords.scrCoords[1]-.5*this.size[0]:this.coords.scrCoords[1])+this.size[0],s=(a="top"===(l=this.getAnchorY())?this.coords.scrCoords[2]+this.size[1]:"middle"===l?this.coords.scrCoords[2]+.5*this.size[1]:this.coords.scrCoords[2])-this.size[1],"all"===o.evaluate(this.visProp.dragarea)?t>=i-d&&t<r+d&&e>=s-d&&e<=a+d:e>=s-d&&e<=a+d&&(t>=i-d&&t<=i+2*d||t>=r-2*d&&t<=r+d)},_createFctUpdateText:function(t){var e,i,r=o.evaluate(this.visProp.parse),s=o.evaluate(this.visProp.usemathjax),n=o.evaluate(this.visProp.usekatex);this.orgText=t,o.isFunction(t)?this.updateText=function(){i=t().toString(),this.plaintext=!r||s||n?i:this.replaceSub(this.replaceSup(this.convertGeonextAndSketchometry2CSS(i)))}:o.isString(t)&&!r?this.updateText=function(){this.plaintext=t}:(o.isNumber(t)?this.content=o.toFixed(t,o.evaluate(this.visProp.digits)):o.evaluate(this.visProp.useasciimathml)?this.content="'`"+t+"`'":this.content=s||n?"'"+t+"'":this.generateTerm(t,!0,!0),e=this.board.jc.snippet(this.content,!0,"",!1),this.updateText=function(){this.plaintext=e()})},_setText:function(t){return this._createFctUpdateText(t),this.updateText(),this.fullUpdate(),this.board.infobox&&this.id===this.board.infobox.id||this.updateSize(),this},setTextJessieCode:function(t){var e;return this.visProp.castext=t,e=o.isFunction(t)?function(){return o.sanitizeHTML(t())}:o.isNumber(t)?t:o.sanitizeHTML(t),this._setText(e)},setText:function(t){return this._setText(t)},updateSize:function(){var t,e,i,r=o.evaluate(this.visProp.display);return s.isBrowser&&"no"!==this.board.renderer.type?(i=this.rendNode,"html"===r||"vml"===this.board.renderer.type?o.exists(i.offsetWidth)?(e=this,window.setTimeout((function(){e.size=[i.offsetWidth,i.offsetHeight],e.needsUpdate=!0,e.updateRenderer()}),0)):this.size=this.crudeSizeEstimate():"internal"===r&&("svg"===this.board.renderer.type?(e=this,window.setTimeout((function(){try{t=i.getBBox(),e.size=[t.width,t.height],e.needsUpdate=!0,e.updateRenderer()}catch(t){}}),0)):"canvas"===this.board.renderer.type&&(this.size=this.crudeSizeEstimate())),this):this},crudeSizeEstimate:function(){var t=parseFloat(o.evaluate(this.visProp.fontsize));return[t*this.plaintext.length*.45,.9*t]},utf8_decode:function(t){return t.replace(/&#x(\w+);/g,(function(t,e){return String.fromCharCode(parseInt(e,16))}))},replaceSub:function(t){if(!t.indexOf)return t;for(var e,i=t.indexOf("_{");i>=0;)(e=(t=t.substr(0,i)+t.substr(i).replace(/_\{/,"<sub>")).substr(i).indexOf("}"))>=0&&(t=t.substr(0,e)+t.substr(e).replace(/\}/,"</sub>")),i=t.indexOf("_{");for(i=t.indexOf("_");i>=0;)i=(t=t.substr(0,i)+t.substr(i).replace(/_(.?)/,"<sub>$1</sub>")).indexOf("_");return t},replaceSup:function(t){if(!t.indexOf)return t;for(var e,i=t.indexOf("^{");i>=0;)(e=(t=t.substr(0,i)+t.substr(i).replace(/\^\{/,"<sup>")).substr(i).indexOf("}"))>=0&&(t=t.substr(0,e)+t.substr(e).replace(/\}/,"</sup>")),i=t.indexOf("^{");for(i=t.indexOf("^");i>=0;)i=(t=t.substr(0,i)+t.substr(i).replace(/\^(.?)/,"<sup>$1</sup>")).indexOf("^");return t},getSize:function(){return this.size},setCoords:function(t,i){var r,s,n;return o.isArray(t)&&t.length>1&&(i=t[1],t=t[0]),o.evaluate(this.visProp.islabel)&&o.exists(this.element)?(s=(t-(r=this.element.getLabelAnchor()).usrCoords[1])*this.board.unitX,n=-(i-r.usrCoords[2])*this.board.unitY,this.relativeCoords.setCoordinates(e.COORDS_BY_SCREEN,[s,n])):this.coords.setCoordinates(e.COORDS_BY_USER,[t,i]),this.fullUpdate(),this},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateText(),"internal"===o.evaluate(this.visProp.display)&&o.isString(this.plaintext)&&(this.plaintext=this.utf8_decode(this.plaintext)),this.checkForSizeUpdate(),this.needsSizeUpdate&&this.updateSize(),this):this},checkForSizeUpdate:function(){this.board.infobox&&this.id===this.board.infobox.id?this.needsSizeUpdate=!1:(this.needsSizeUpdate=this.plaintextOld!==this.plaintext,this.needsSizeUpdate&&(this.plaintextOld=this.plaintext))},updateRenderer:function(){return o.evaluate(this.visProp.autoposition)&&this.setAutoPosition().updateConstraint(),this.updateRendererGeneric("updateText")},expandShortMath:function(t){return t.replace(/([)0-9.])\s*([(a-zA-Z_])/g,"$1*$2")},generateTerm:function(t,e,i){var s,n,a,h,l='""';if(a=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t||"").replace(/\r/g,"")).replace(/\n/g,"")).replace(/"/g,"'")).replace(/'/g,"\\'")).replace(/&amp;arc;/g,"&ang;")).replace(/<arc\s*\/>/g,"&ang;")).replace(/&lt;arc\s*\/&gt;/g,"&ang;")).replace(/&lt;sqrt\s*\/&gt;/g,"&radic;")).replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>")).indexOf("<value>"),h=t.indexOf("</value>"),a>=0)for(;a>=0;)l+=' + "'+this.replaceSub(this.replaceSup(t.slice(0,a)))+'"',n=(n=t.slice(a+7,h)).replace(/\s+/g,""),!0===e&&(n=this.expandShortMath(n)),(s=(s=(s=i?n:r.geonext2JS(n,this.board)).replace(/\\"/g,"'")).replace(/\\'/g,"'")).indexOf("toFixed")<0&&o.isNumber(o.bind(this.board.jc.snippet(s,!0,"",!1),this)())?l+="+("+s+").toFixed("+o.evaluate(this.visProp.digits)+")":l+="+("+s+")",a=(t=t.slice(h+8)).indexOf("<value>"),h=t.indexOf("</value>");return l+=' + "'+this.replaceSub(this.replaceSup(t))+'"',l=(l=(l=this.convertGeonextAndSketchometry2CSS(l)).replace(/&amp;/g,"&")).replace(/"/g,"'")},convertGeonext2CSS:function(t){return o.isString(t)&&(t=(t=(t=(t=t.replace(/(<|&lt;)overline(>|&gt;)/g,"<span style=text-decoration:overline;>")).replace(/(<|&lt;)\/overline(>|&gt;)/g,"</span>")).replace(/(<|&lt;)arrow(>|&gt;)/g,"<span style=text-decoration:overline;>")).replace(/(<|&lt;)\/arrow(>|&gt;)/g,"</span>")),t},convertSketchometry2CSS:function(t){return o.isString(t)&&(t=(t=(t=(t=t.replace(/(<|&lt;)sketchofont(>|&gt;)/g,"<span style=font-family:sketchometry-light;font-weight:500;>")).replace(/(<|&lt;)\/sketchofont(>|&gt;)/g,"</span>")).replace(/(<|&lt;)sketchometry-light(>|&gt;)/g,"<span style=font-family:sketchometry-light;font-weight:500;>")).replace(/(<|&lt;)\/sketchometry-light(>|&gt;)/g,"</span>")),t},convertGeonextAndSketchometry2CSS:function(t){return t=this.convertGeonext2CSS(t),t=this.convertSketchometry2CSS(t)},notifyParents:function(t){var e,i=null;t=(t=t.replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>");do{null!==(i=(e=/<value>([\w\s*/^\-+()[\],<>=!]+)<\/value>/).exec(t))&&(r.findDependencies(this,i[1],this.board),t=(t=t.substr(i.index)).replace(e,""))}while(null!==i);return this},getParents:function(){var t;return t=void 0!==this.relativeCoords?[this.relativeCoords.usrCoords[1],this.relativeCoords.usrCoords[2],this.orgText]:[this.Z(),this.X(),this.Y(),this.orgText],0!==this.parents.length&&(t=this.parents),t},bounds:function(){var t=this.coords.usrCoords;return o.evaluate(this.visProp.islabel)||0===this.board.unitY||0===this.board.unitX?[0,0,0,0]:[t[1],t[2]+this.size[1]/this.board.unitY,t[1]+this.size[0]/this.board.unitX,t[2]]},getAnchorX:function(){var t=o.evaluate(this.visProp.anchorx);if("auto"===t)switch(this.visProp.position){case"top":case"bot":return"middle";case"rt":case"lrt":case"urt":return"left";default:return"right"}return t},getAnchorY:function(){var t=o.evaluate(this.visProp.anchory);if("auto"===t)switch(this.visProp.position){case"top":case"ulft":case"urt":return"bottom";case"bot":case"lrt":case"llft":return"top";default:return"middle"}return t},getNumberofConflicts:function(t,e,i,r){var s,o,n,a,h=0;for(a=this.board.options.precision.hasPoint,this.board.options.precision.hasPoint=.25*(i+r),s=0,n=this.board.objectsList.length;s<n;s++)(o=this.board.objectsList[s]).visPropCalc.visible&&"axis"!==o.elType&&"ticks"!==o.elType&&o!==this.board.infobox&&o!==this&&o.hasPoint(t,e)&&h++;return this.board.options.precision.hasPoint=a,h},setAutoPosition:function(){var t,e,i,r,s,n,a,h,l,c,d,u,p,f,m,g,b=this.size[0],v=this.size[1],y={conflicts:1/0,angle:0,r:0},C=2*Math.PI/12;if(this===this.board.infobox||!this.visPropCalc.visible||!o.evaluate(this.visProp.islabel)||!this.element)return this;if(c=o.evaluate(this.visProp.offset),i=(s=this.element.getLabelAnchor()).scrCoords[1],r=s.scrCoords[2],p=c[0],f=c[1],0===(l=this.getNumberofConflicts(i+p,r-f,b,v)))return this;for(28,h=.2*(d=12),n=Math.atan2(f,p),y.conflicts=l,y.angle=n,y.r=d;y.conflicts>0&&d<28;){for(u=1,a=n+C;u<12&&y.conflicts>0&&(t=i+d*(m=Math.cos(a)),e=r-d*(g=Math.sin(a)),(l=this.getNumberofConflicts(t,e,b,v))<y.conflicts&&(y.conflicts=l,y.angle=a,y.r=d),0!==y.conflicts);u++)a+=C;d+=h}return d=y.r,m=Math.cos(y.angle),g=Math.sin(y.angle),this.visProp.offset=[d*m,d*g],this.visProp.anchorx=m<-.2?"right":m>.2?"left":"middle",this}}),t.createText=function(e,i,r){var s,n=o.copyAttributes(r,e.options,"text"),h=i.slice(0,-1),l=i[i.length-1];if(n.anchor=n.parent||n.anchor,!(s=a.create(t.Text,e,h,n,l)))throw new Error("JSXGraph: Can't create text with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==n.rotate&&"internal"===n.display&&s.addRotation(n.rotate),s},t.registerElement("text",t.createText),t.createHTMLSlider=function(e,i,r){var n,a,l=o.copyAttributes(r,e.options,"htmlslider");if(2!==i.length||2!==i[0].length||3!==i[1].length)throw new Error("JSXGraph: Can't create htmlslider with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parents are: [[x,y], [min, start, max]]");l.anchor=l.parent||l.anchor,l.fixed=l.fixed||!0,a=[i[0][0],i[0][1],'<form style="display:inline"><input type="range" /><span></span><input type="text" /></form>'],(n=t.createText(e,a,l)).type=o.OBJECT_TYPE_HTMLSLIDER,n.rendNodeForm=n.rendNode.childNodes[0],n.rendNodeRange=n.rendNodeForm.childNodes[0],n.rendNodeRange.min=i[1][0],n.rendNodeRange.max=i[1][2],n.rendNodeRange.step=l.step,n.rendNodeRange.value=i[1][1],n.rendNodeLabel=n.rendNodeForm.childNodes[1],n.rendNodeLabel.id=n.rendNode.id+"_label",l.withlabel&&(n.rendNodeLabel.innerHTML=n.name+"="),n.rendNodeOut=n.rendNodeForm.childNodes[2],n.rendNodeOut.value=i[1][1];try{n.rendNodeForm.id=n.rendNode.id+"_form",n.rendNodeRange.id=n.rendNode.id+"_range",n.rendNodeOut.id=n.rendNode.id+"_out"}catch(e){t.debug(e)}return n.rendNodeRange.style.width=l.widthrange+"px",n.rendNodeRange.style.verticalAlign="middle",n.rendNodeOut.style.width=l.widthout+"px",n._val=i[1][1],t.supportsVML()?s.addEvent(n.rendNodeForm,"change",h,n):s.addEvent(n.rendNodeForm,"input",h,n),n.Value=function(){return this._val},n},t.registerElement("htmlslider",t.createHTMLSlider),{Text:t.Text,createText:t.createText,createHTMLSlider:t.createHTMLSlider}})),define("utils/uuid",["jxg"],(function(t){"use strict";var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return t.Util=t.Util||{},t.Util.genUUID=function(t){var i,r,s=[],o=0;for(""!==(t=t||"")&&"-"!==t.substr(t.length-1)&&(t+="-"),r=0;r<36;r++)8===r||13===r||18===r||23===r?s[r]="-":14===r?s[r]="4":(o<=2&&(o=33554432+16777216*Math.random()|0),i=15&o,o>>=4,s[r]=e[19===r?3&i|8:i]);return t+s.join("")},t.Util})),define("parser/jessiecode",["jxg","base/constants","base/text","math/math","math/ia","math/geometry","math/statistics","utils/type","utils/uuid","utils/env"],(function(JXG,Const,Text,Mat,Interval,Geometry,Statistics,Type,UUID,Env){Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function i(){}return i.prototype=t,new i});var priv={modules:{math:Mat,"math/geometry":Geometry,"math/statistics":Statistics,"math/numerics":Mat.Numerics}},r,_ccache;JXG.JessieCode=function(t,e){this.scope={id:0,hasChild:!0,args:[],locals:{},context:null,previous:null},this.scopes=[],this.scopes.push(this.scope),this.dpstack=[[]],this.pscope=0,this.propstack=[{}],this.propscope=0,this.lhs=[],this.isLHS=!1,this.warnLog="jcwarn",this.$log=[],this.builtIn=this.defineBuiltIn(),this.operands=this.getPossibleOperands(),this.board=null,this.lineToElement={},this.parCurLine=1,this.parCurColumn=0,this.line=1,this.col=1,JXG.CA&&(this.CA=new JXG.CA(this.node,this.createNode,this)),this.code="","string"==typeof t&&this.parse(t,e)},JXG.extend(JXG.JessieCode.prototype,{node:function(t,e,i){return{type:t,value:e,children:i}},createNode:function(t,e,i){var r,s=this.node(t,e,[]);for(r=2;r<arguments.length;r++)s.children.push(arguments[r]);return"node_const"==s.type&&Type.isNumber(s.value)&&(s.isMath=!0),s.line=this.parCurLine,s.col=this.parCurColumn,s},pushScope:function(t){var e={args:t,locals:{},context:null,previous:this.scope};return this.scope.hasChild=!0,this.scope=e,e.id=this.scopes.push(e)-1,e},popScope:function(){var t=this.scope.previous;return this.scope=null!==t?t:this.scope,this.scope},getElementById:function(t){return this.board.objects[t]},log:function(){this.$log.push(arguments),"object"==typeof console&&console.log&&console.log.apply(console,arguments)},creator:(_ccache={},(r=function(t){var e,i;return"function"==typeof _ccache[this.board.id+t]?e=_ccache[this.board.id+t]:(i=this,(e=function(e,r){var s;return void 0===(s=Type.exists(r)?r:{}).name&&void 0===s.id&&(s.name=0!==i.lhs[i.scope.id]?i.lhs[i.scope.id]:""),i.board.create(t,e,s)}).creator=!0,_ccache[this.board.id+t]=e),e}).clearCache=function(){_ccache={}},r),letvar:function(t,e){this.builtIn[t]&&this._warn('"'+t+'" is a predefined value.'),this.scope.locals[t]=e},isLocalVariable:function(t){for(var e=this.scope;null!==e;){if(Type.exists(e.locals[t]))return e;e=e.previous}return null},isParameter:function(t){for(var e=this.scope;null!==e;){if(Type.indexOf(e.args,t)>-1)return e;e=e.previous}return null},isCreator:function(t){return!!JXG.elements[t]},isMathMethod:function(t){return"E"!==t&&!!Math[t]},isBuiltIn:function(t){return!!this.builtIn[t]},getvar:function(t,e,i){var r;if(e=Type.def(e,!1),null!==(r=this.isLocalVariable(t)))return r.locals[t];if("$board"===t||"EULER"===t||"PI"===t)return this.builtIn[t];if(i){if(this.isBuiltIn(t))return this.builtIn[t];if(this.isMathMethod(t))return Math[t];if(this.isCreator(t))return this.creator(t)}return e||(r=this.board.select(t))===t?void 0:r},resolve:function(t){for(var e=this.scope;null!==e;){if(Type.exists(e.locals[t]))return e.locals[t];e=e.previous}},getvarJS:function(t,e,i){var r,s="";return e=Type.def(e,!1),i=Type.def(i,!1),null!==this.isParameter(t)?t:null===this.isLocalVariable(t)||i?this.isCreator(t)?"(function () { var a = Array.prototype.slice.call(arguments, 0), props = "+(i?"a.pop()":"{}")+"; return $jc$.board.create.apply($jc$.board, ['"+t+"'].concat([a, props])); })":(i&&this._error("Syntax error (attribute values are allowed with element creators only)"),this.isBuiltIn(t)?(s=this.builtIn[t].src||this.builtIn[t],Type.isNumber(s)||s.match(/board\.select/)?s:(t=s.split(".").pop(),Type.exists(this.board.mathLib)&&null!==(r=new RegExp("^Math."+t)).exec(s)?s.replace(r,"$jc$.board.mathLib."+t):Type.exists(this.board.mathLibJXG)&&null!==(r=new RegExp("^JXG.Math.")).exec(s)?s.replace(r,"$jc$.board.mathLibJXG."):s)):this.isMathMethod(t)?"$jc$.board.mathLib."+t:e?"":(Type.isId(this.board,t)?(s="$jc$.board.objects['"+t+"']","slider"===this.board.objects[t].elType&&(s+=".Value()")):Type.isName(this.board,t)?(s="$jc$.board.elementsByName['"+t+"']","slider"===this.board.elementsByName[t].elType&&(s+=".Value()")):Type.isGroup(this.board,t)&&(s="$jc$.board.groups['"+t+"']"),s)):"$jc$.resolve('"+t+"')"},makeMap:function(t){return t.isMap=!0,t},functionCodeJS:function(t){var e=t.children[0].join(", "),i="",r="";return"op_map"===t.value&&(i="{ return  ",r=" }"),"function ("+e+") {\nvar $oldscope$ = $jc$.scope;\n$jc$.scope = $jc$.scopes["+this.scope.id+"];\nvar r = (function () "+i+this.compile(t.children[1],!0)+r+")();\n$jc$.scope = $oldscope$;\nreturn r;\n}"},defineFunction:function(node){var fun,i,that=this,list=node.children[0],scope=this.pushScope(list),_that;if(this.board.options.jc.compile){for(this.isLHS=!1,i=0;i<list.length;i++)scope.locals[list[i]]=list[i];this.replaceNames(node.children[1]),fun=function($jc$){var fun,str="var f = "+$jc$.functionCodeJS(node)+"; f;";try{for(fun=eval(str),scope.argtypes=[],i=0;i<list.length;i++)scope.argtypes.push(that.resolveType(list[i],node));return fun}catch(t){return $jc$._warn("error compiling function\n\n"+str+"\n\n"+t.toString()),function(){}}}(this),this.popScope()}else fun=function(t,e,i){return function(){var r,s;for(s=e.scope,e.scope=e.scopes[i],r=0;r<t.length;r++)e.scope.locals[t[r]]=arguments[r];return r=e.execute(node.children[1]),e.scope=s,r}}(list,this,scope.id);return fun.node=node,fun.scope=scope,fun.toJS=fun.toString,fun.toString=(_that=this,function(){return _that.compile(_that.replaceIDs(Type.deepCopy(node)))}),fun.deps={},this.collectDependencies(node.children[1],fun.deps),fun},mergeAttributes:function(t){var e,i={};for(e=0;e<arguments.length;e++)i=Type.deepCopy(i,arguments[e],!0);return i},setProp:function(t,e,i){var r,s,o={};t.elementClass!==Const.OBJECT_CLASS_POINT||"X"!==e&&"Y"!==e?t.elementClass!==Const.OBJECT_CLASS_TEXT||"X"!==e&&"Y"!==e?t.type&&t.elementClass&&t.visProp?Type.exists(t[t.methodMap[e]])&&"function"!=typeof t[t.methodMap[e]]?t[t.methodMap[e]]=i:(o[e]=i,t.setAttribute(o)):t[e]=i:("number"==typeof i?t[e]=function(){return i}:"function"==typeof i?(t.isDraggable=!1,t[e]=i):"string"==typeof i&&(t.isDraggable=!1,t[e]=Type.createFunction(i,this.board,null,!0),t[e+"jc"]=i),t[e].origin=i,this.board.update()):(e=e.toLowerCase(),t.isDraggable&&"number"==typeof i?(r="x"===e?i:t.X(),s="y"===e?i:t.Y(),t.setPosition(Const.COORDS_BY_USER,[r,s])):!t.isDraggable||"function"!=typeof i&&"string"!=typeof i?t.isDraggable||(r="x"===e?i:t.XEval.origin,s="y"===e?i:t.YEval.origin,t.addConstraint([r,s])):(r="x"===e?i:t.coords.usrCoords[1],s="y"===e?i:t.coords.usrCoords[2],t.addConstraint([r,s])),this.board.update())},_genericParse:function(t,e,i,r){var s,o,n,a,h=t.replace(/\r\n/g,"\n").split("\n"),l=[];r||(this.code+=t+"\n"),Text&&(o=Text.Text.prototype.setText,Text.Text.prototype.setText=Text.Text.prototype.setTextJessieCode);try{for(Type.exists(i)||(i=!1),s=0;s<h.length;s++)i&&(h[s]=JXG.GeonextParser.geonext2JS(h[s],this.board)),l.push(h[s]);switch(t=l.join("\n"),n=parser.parse(t),this.CA&&(n=this.CA.expandDerivatives(n,null,n),n=this.CA.removeTrivialNodes(n)),e){case"parse":a=this.execute(n);break;case"manipulate":a=this.compile(n);break;case"getAst":a=n;break;default:a=!1}}catch(t){throw t}finally{Text&&(Text.Text.prototype.setText=o)}return a},parse:function(t,e,i){return this._genericParse(t,"parse",e,i)},manipulate:function(t,e,i){return this._genericParse(t,"manipulate",e,i)},getAST:function(t,e,i){return this._genericParse(t,"getAst",e,i)},snippet:function(t,e,i,r){var s;return e=Type.def(e,!0),i=Type.def(i,""),r=Type.def(r,!1),s=(e?" function ("+i+") { return ":"")+t+(e?"; }":"")+";",this.parse(s,r,!0)},replaceIDs:function(t){var e,i;if(t.replaced&&(i=this.board.objects[t.children[1][0].value],Type.exists(i)&&""!==i.name&&(t.type="node_var",t.value=i.name,t.children.length=0,delete t.replaced)),Type.isArray(t))for(e=0;e<t.length;e++)t[e]=this.replaceIDs(t[e]);if(t.children)for(e=t.children.length;e>0;e--)Type.exists(t.children[e-1])&&(t.children[e-1]=this.replaceIDs(t.children[e-1]));return t},replaceNames:function(t){var e,i;if(i=t.value,"node_op"===t.type&&"op_lhs"===i&&1===t.children.length?this.isLHS=!0:"node_var"===t.type&&(this.isLHS?this.letvar(i,!0):!Type.exists(this.getvar(i,!0))&&Type.exists(this.board.elementsByName[i])&&(t=this.createReplacementNode(t))),Type.isArray(t))for(e=0;e<t.length;e++)t[e]=this.replaceNames(t[e]);if(t.children)for(e=t.children.length;e>0;e--)Type.exists(t.children[e-1])&&(t.children[e-1]=this.replaceNames(t.children[e-1]));return"node_op"===t.type&&"op_lhs"===t.value&&1===t.children.length&&(this.isLHS=!1),t},createReplacementNode:function(t){var e=t.value,i=this.board.elementsByName[e];return(t=this.createNode("node_op","op_execfun",this.createNode("node_var","$"),[this.createNode("node_str",i.id)])).replaced=!0,t},collectDependencies:function(t,e){var i,r,s,o;if(Type.isArray(t))for(o=t.length,i=0;i<o;i++)this.collectDependencies(t[i],e);else if(r=t.value,"node_var"===t.type&&(s=this.getvar(r))&&s.visProp&&s.type&&s.elementClass&&s.id&&(e[s.id]=s),"node_op"===t.type&&"op_execfun"===t.value&&t.children.length>1&&"$"===t.children[0].value&&t.children[1].length>0&&(e[s=t.children[1][0].value]=this.board.objects[s]),t.children)for(i=t.children.length;i>0;i--)Type.exists(t.children[i-1])&&this.collectDependencies(t.children[i-1],e)},resolveProperty:function(t,e,i){return i=Type.def(i,!1),t&&t.methodMap&&(Type.exists(t.subs)&&Type.exists(t.subs[e])?t=t.subs:Type.exists(t.methodMap[e])?e=t.methodMap[e]:(t=t.visProp,e=e.toLowerCase())),Type.isFunction(t)&&this._error("Accessing function properties is not allowed."),Type.exists(t)||this._error(t+" is not an object"),Type.exists(t[e])||this._error("unknown property "+e),i&&"function"==typeof t[e]?function(){return t[e].apply(t,arguments)}:t[e]},resolveType:function(t,e){var i,r;if(Type.isArray(e))for(i=0;i<e.length;i++)if("any"!==(r=this.resolveType(t,e[i])))return r;if("node_op"===e.type&&"op_execfun"===e.value&&"node_var"===e.children[0].type&&e.children[0].value===t)return"function";if("node_op"===e.type){for(i=0;i<e.children.length;i++)if("node_var"===e.children[0].type&&e.children[0].value===t&&("op_add"===e.value||"op_sub"===e.value||"op_mul"===e.value||"op_div"===e.value||"op_mod"===e.value||"op_exp"===e.value||"op_neg"===e.value))return"any";for(i=0;i<e.children.length;i++)if("any"!==(r=this.resolveType(t,e.children[i])))return r}return"any"},getLHS:function(t){var e;if("node_var"===t.type)e={o:this.scope.locals,what:t.value};else if("node_op"===t.type&&"op_property"===t.value)e={o:this.execute(t.children[0]),what:t.children[1]};else{if("node_op"!==t.type||"op_extvalue"!==t.value)throw new Error("Syntax error: Invalid left-hand side of assignment.");e={o:this.execute(t.children[0]),what:this.execute(t.children[1])}}return e},getLHSCompiler:function(t,e){var i;if("node_var"===t.type)i=t.value;else if("node_op"===t.type&&"op_property"===t.value)i=[this.compile(t.children[0],e),"'"+t.children[1]+"'"];else{if("node_op"!==t.type||"op_extvalue"!==t.value)throw new Error("Syntax error: Invalid left-hand side of assignment.");i=[this.compile(t.children[0],e),"node_const"===t.children[1].type?t.children[1].value:this.compile(t.children[1],e)]}return i},execute:function(t){var e,i,r,s,o,n,a,h,l,c,d=[];if(e=0,!t)return e;switch(this.line=t.line,this.col=t.col,t.type){case"node_op":switch(t.value){case"op_none":t.children[0]&&this.execute(t.children[0]),t.children[1]&&(e=this.execute(t.children[1]));break;case"op_assign":i=this.getLHS(t.children[0]),this.lhs[this.scope.id]=i.what,i.o.type&&i.o.elementClass&&i.o.methodMap&&"label"===i.what&&this._error("Left-hand side of assignment is read-only."),e=this.execute(t.children[1]),i.o!==this.scope.locals||Type.isArray(i.o)&&"number"==typeof i.what?this.setProp(i.o,i.what,e):this.letvar(i.what,e),this.lhs[this.scope.id]=0;break;case"op_if":this.execute(t.children[0])&&(e=this.execute(t.children[1]));break;case"op_conditional":case"op_if_else":e=this.execute(t.children[0])?this.execute(t.children[1]):this.execute(t.children[2]);break;case"op_while":for(;this.execute(t.children[0]);)this.execute(t.children[1]);break;case"op_do":do{this.execute(t.children[0])}while(this.execute(t.children[1]));break;case"op_for":for(this.execute(t.children[0]);this.execute(t.children[1]);this.execute(t.children[2]))this.execute(t.children[3]);break;case"op_proplst":t.children[0]&&this.execute(t.children[0]),t.children[1]&&this.execute(t.children[1]);break;case"op_emptyobject":e={};break;case"op_proplst_val":this.propstack.push({}),this.propscope++,this.execute(t.children[0]),e=this.propstack[this.propscope],this.propstack.pop(),this.propscope--;break;case"op_prop":this.propstack[this.propscope][t.children[0]]=this.execute(t.children[1]);break;case"op_array":for(e=[],o=t.children[0].length,r=0;r<o;r++)e.push(this.execute(t.children[0][r]));break;case"op_extvalue":e=this.execute(t.children[0]),e="number"==typeof(r=this.execute(t.children[1]))&&Math.abs(Math.round(r)-r)<Mat.eps?e[r]:undefined;break;case"op_return":if(0!==this.scope)return this.execute(t.children[0]);this._error("Unexpected return.");break;case"op_map":t.children[1].isMath||"node_var"===t.children[1].type||this._error("execute: In a map only function calls and mathematical expressions are allowed."),(h=this.defineFunction(t)).isMap=!0,e=h;break;case"op_function":(h=this.defineFunction(t)).isMap=!1,e=h;break;case"op_execfun":if(this.dpstack.push([]),this.pscope++,n=t.children[1],Type.exists(t.children[2]))if(t.children[3])for(a=t.children[2],l={},r=0;r<a.length;r++)l=Type.deepCopy(l,this.execute(a[r]),!0);else l=this.execute(t.children[2]);for(t.children[0]._isFunctionName=!0,h=this.execute(t.children[0]),delete t.children[0]._isFunctionName,c=h&&h.sc?h.sc:this,!h.creator&&Type.exists(t.children[2])&&this._error("Unexpected value. Only element creators are allowed to have a value after the function call."),r=0;r<n.length;r++)Type.exists(h.scope)&&Type.exists(h.scope.argtypes)&&"function"===h.scope.argtypes[r]?(n[r]._isFunctionName=!0,d[r]=this.execute(n[r]),delete n[r]._isFunctionName):d[r]=this.execute(n[r]),this.dpstack[this.pscope].push({line:t.children[1][r].line,col:t.children[1][r].ecol});if("function"!=typeof h||h.creator)if("function"==typeof h&&h.creator){s=this.line;try{for((e=h(d,l)).jcLineStart=s,e.jcLineEnd=t.eline,r=s;r<=t.line;r++)this.lineToElement[r]=e;e.debugParents=this.dpstack[this.pscope]}catch(t){this._error(t.toString())}}else this._error("Function '"+h+"' is undefined.");else e=h.apply(c,d);this.dpstack.pop(),this.pscope--;break;case"op_property":s=this.execute(t.children[0]),i=t.children[1],e=this.resolveProperty(s,i,!1),Type.exists(e)&&(e.sc=s);break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),this.use(t.children[0].toString());break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),i=this.getvar(t.children[0]),e=this.del(i);break;case"op_eq":e=this.execute(t.children[0])==this.execute(t.children[1]);break;case"op_neq":e=this.execute(t.children[0])!=this.execute(t.children[1]);break;case"op_approx":e=Math.abs(this.execute(t.children[0])-this.execute(t.children[1]))<Mat.eps;break;case"op_gt":e=this.execute(t.children[0])>this.execute(t.children[1]);break;case"op_lt":e=this.execute(t.children[0])<this.execute(t.children[1]);break;case"op_geq":e=this.execute(t.children[0])>=this.execute(t.children[1]);break;case"op_leq":e=this.execute(t.children[0])<=this.execute(t.children[1]);break;case"op_or":e=this.execute(t.children[0])||this.execute(t.children[1]);break;case"op_and":e=this.execute(t.children[0])&&this.execute(t.children[1]);break;case"op_not":e=!this.execute(t.children[0]);break;case"op_add":e=this.add(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_sub":e=this.sub(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_div":e=this.div(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_mod":e=this.mod(this.execute(t.children[0]),this.execute(t.children[1]),!0);break;case"op_mul":e=this.mul(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_exp":e=this.pow(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_neg":e=this.neg(this.execute(t.children[0]))}break;case"node_var":e=this.getvar(t.value,!1,t._isFunctionName);break;case"node_const":e=null===t.value?null:Number(t.value);break;case"node_const_bool":e=t.value;break;case"node_str":e=t.value.replace(/\\(.)/,"$1")}return e},compile:function(t,e){var i,r,s,o="";if(Type.exists(e)||(e=!1),!t)return o;switch(t.type){case"node_op":switch(t.value){case"op_none":t.children[0]&&(o=this.compile(t.children[0],e)),t.children[1]&&(o+=this.compile(t.children[1],e));break;case"op_assign":e?(i=this.getLHSCompiler(t.children[0],e),Type.isArray(i)?o="$jc$.setProp("+i[0]+", "+i[1]+", "+this.compile(t.children[1],e)+");\n":(this.isLocalVariable(i)!==this.scope&&(this.scope.locals[i]=!0),o="$jc$.scopes["+this.scope.id+"].locals['"+i+"'] = "+this.compile(t.children[1],e)+";\n")):o=(i=this.compile(t.children[0]))+" = "+this.compile(t.children[1],e)+";\n";break;case"op_if":o=" if ("+this.compile(t.children[0],e)+") "+this.compile(t.children[1],e);break;case"op_if_else":o=" if ("+this.compile(t.children[0],e)+")"+this.compile(t.children[1],e),o+=" else "+this.compile(t.children[2],e);break;case"op_conditional":o="(("+this.compile(t.children[0],e)+")?("+this.compile(t.children[1],e),o+="):("+this.compile(t.children[2],e)+"))";break;case"op_while":o=" while ("+this.compile(t.children[0],e)+") {\n"+this.compile(t.children[1],e)+"}\n";break;case"op_do":o=" do {\n"+this.compile(t.children[0],e)+"} while ("+this.compile(t.children[1],e)+");\n";break;case"op_for":o=" for ("+this.compile(t.children[0],e)+this.compile(t.children[1],e)+"; "+this.compile(t.children[2],e).slice(0,-2)+") {\n"+this.compile(t.children[3],e)+"\n}\n";break;case"op_proplst":t.children[0]&&(o=this.compile(t.children[0],e)+", "),o+=this.compile(t.children[1],e);break;case"op_prop":o=t.children[0]+": "+this.compile(t.children[1],e);break;case"op_emptyobject":o=e?"{}":"<< >>";break;case"op_proplst_val":o=this.compile(t.children[0],e);break;case"op_array":for(s=[],r=0;r<t.children[0].length;r++)s.push(this.compile(t.children[0][r],e));o="["+s.join(", ")+"]";break;case"op_extvalue":o=this.compile(t.children[0],e)+"["+this.compile(t.children[1],e)+"]";break;case"op_return":o=" return "+this.compile(t.children[0],e)+";\n";break;case"op_map":t.children[1].isMath||"node_var"===t.children[1].type||this._error("compile: In a map only function calls and mathematical expressions are allowed."),s=t.children[0],o=e?" $jc$.makeMap(function ("+s.join(", ")+") { return "+this.compile(t.children[1],e)+"; })":"map ("+s.join(", ")+") -> "+this.compile(t.children[1],e);break;case"op_function":s=t.children[0],this.pushScope(s),o=e?this.functionCodeJS(t):" function ("+s.join(", ")+") "+this.compile(t.children[1],e),this.popScope();break;case"op_execfunmath":console.log("op_execfunmath: TODO"),o="-1";break;case"op_execfun":if(t.children[2]){for(s=[],r=0;r<t.children[2].length;r++)s.push(this.compile(t.children[2][r],e));e&&(i="$jc$.mergeAttributes("+s.join(", ")+")")}for(t.children[0].withProps=!!t.children[2],s=[],r=0;r<t.children[1].length;r++)s.push(this.compile(t.children[1][r],e));o=this.compile(t.children[0],e)+"("+s.join(", ")+(t.children[2]&&e?", "+i:"")+")"+(t.children[2]&&!e?i:""),e&&(o+="\n"),e&&"$"===t.children[0].value&&(o="$jc$.board.objects["+this.compile(t.children[1][0],e)+"]");break;case"op_property":o=e&&"X"!==t.children[1]&&"Y"!==t.children[1]?"$jc$.resolveProperty("+this.compile(t.children[0],e)+", '"+t.children[1]+"', true)":this.compile(t.children[0],e)+"."+t.children[1];break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),o=e?"$jc$.use('":"use('",o+=t.children[0].toString()+"');";break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),o=e?"$jc$.del(":"remove(",o+=this.compile(t.children[0],e)+")";break;case"op_eq":o="("+this.compile(t.children[0],e)+" === "+this.compile(t.children[1],e)+")";break;case"op_neq":o="("+this.compile(t.children[0],e)+" !== "+this.compile(t.children[1],e)+")";break;case"op_approx":o="("+this.compile(t.children[0],e)+" ~= "+this.compile(t.children[1],e)+")";break;case"op_gt":o=e?"$jc$.gt("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" > "+this.compile(t.children[1],e)+")";break;case"op_lt":o=e?"$jc$.lt("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" < "+this.compile(t.children[1],e)+")";break;case"op_geq":o=e?"$jc$.geq("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" >= "+this.compile(t.children[1],e)+")";break;case"op_leq":o=e?"$jc$.leq("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" <= "+this.compile(t.children[1],e)+")";break;case"op_or":o="("+this.compile(t.children[0],e)+" || "+this.compile(t.children[1],e)+")";break;case"op_and":o="("+this.compile(t.children[0],e)+" && "+this.compile(t.children[1],e)+")";break;case"op_not":o="!("+this.compile(t.children[0],e)+")";break;case"op_add":o=e?"$jc$.add("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" + "+this.compile(t.children[1],e)+")";break;case"op_sub":o=e?"$jc$.sub("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" - "+this.compile(t.children[1],e)+")";break;case"op_div":o=e?"$jc$.div("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" / "+this.compile(t.children[1],e)+")";break;case"op_mod":o=e?"$jc$.mod("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+", true)":"("+this.compile(t.children[0],e)+" % "+this.compile(t.children[1],e)+")";break;case"op_mul":o=e?"$jc$.mul("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" * "+this.compile(t.children[1],e)+")";break;case"op_exp":o=e?"$jc$.pow("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+"^"+this.compile(t.children[1],e)+")";break;case"op_neg":o=e?"$jc$.neg("+this.compile(t.children[0],e)+")":"(-"+this.compile(t.children[0],e)+")"}break;case"node_var":o=e?this.getvarJS(t.value,!1,t.withProps):t.value;break;case"node_const":case"node_const_bool":o=t.value;break;case"node_str":o="'"+t.value+"'"}return t.needsBrackets&&(o="{\n"+o+"\n}\n"),o},getName:function(t,e){var i="";return Type.exists(t)&&Type.exists(t.getName)?(i=t.getName(),Type.exists(i)&&""!==i||!e||(i=t.id)):e&&(i=t.id),i},X:function(t){return t.X()},Y:function(t){return t.Y()},V:function(t){return t.Value()},L:function(t){return t.L()},area:function(t){return Type.exists(t)&&Type.exists(t.Area)||this._error("Error: Can't calculate area."),t.Area()},dist:function(t,e){return Type.exists(t)&&Type.exists(t.Dist)||this._error("Error: Can't calculate distance."),t.Dist(e)},radius:function(t){return Type.exists(t)&&Type.exists(t.Radius)||this._error("Error: Can't calculate radius."),t.Radius()},add:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e))s=Interval.add(t,e);else if(Type.isArray(t)&&Type.isArray(e))for(r=Math.min(t.length,e.length),s=[],i=0;i<r;i++)s[i]=t[i]+e[i];else Type.isNumber(t)&&Type.isNumber(e)?s=t+e:Type.isString(t)||Type.isString(e)?s=t.toString()+e.toString():this._error("Operation + not defined on operands "+typeof t+" and "+typeof e);return s},sub:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e))s=Interval.sub(t,e);else if(Type.isArray(t)&&Type.isArray(e))for(r=Math.min(t.length,e.length),s=[],i=0;i<r;i++)s[i]=t[i]-e[i];else Type.isNumber(t)&&Type.isNumber(e)?s=t-e:this._error("Operation - not defined on operands "+typeof t+" and "+typeof e);return s},neg:function(t){var e,i,r;if(t=Type.evalSlider(t),Interval.isInterval(t))r=Interval.negative(t);else if(Type.isArray(t))for(i=t.length,r=[],e=0;e<i;e++)r[e]=-t[e];else Type.isNumber(t)?r=-t:this._error("Unary operation - not defined on operand "+typeof t);return r},mul:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Type.isArray(t)&&Type.isNumber(e)&&(i=t,e=t=e),Interval.isInterval(t)||Interval.isInterval(e))s=Interval.mul(t,e);else if(Type.isArray(t)&&Type.isArray(e))r=Math.min(t.length,e.length),s=Mat.innerProduct(t,e,r);else if(Type.isNumber(t)&&Type.isArray(e))for(r=e.length,s=[],i=0;i<r;i++)s[i]=t*e[i];else Type.isNumber(t)&&Type.isNumber(e)?s=t*e:this._error("Operation * not defined on operands "+typeof t+" and "+typeof e);return s},div:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e))s=Interval.div(t,e);else if(Type.isArray(t)&&Type.isNumber(e))for(r=t.length,s=[],i=0;i<r;i++)s[i]=t[i]/e;else Type.isNumber(t)&&Type.isNumber(e)?s=t/e:this._error("Operation * not defined on operands "+typeof t+" and "+typeof e);return s},mod:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e))return Interval.fmod(t,e);if(Type.isArray(t)&&Type.isNumber(e))for(r=t.length,s=[],i=0;i<r;i++)s[i]=Mat.mod(t[i],e,!0);else Type.isNumber(t)&&Type.isNumber(e)?s=Mat.mod(t,e,!0):this._error("Operation * not defined on operands "+typeof t+" and "+typeof e);return s},pow:function(t,e){return t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e)?Interval.pow(t,e):Mat.pow(t,e)},lt:function(t,e){return Interval.isInterval(t)||Interval.isInterval(e)?Interval.lt(t,e):t<e},leq:function(t,e){return Interval.isInterval(t)||Interval.isInterval(e)?Interval.leq(t,e):t<=e},gt:function(t,e){return Interval.isInterval(t)||Interval.isInterval(e)?Interval.gt(t,e):t>e},geq:function(t,e){return Interval.isInterval(t)||Interval.isInterval(e)?Intervalt.geq(t,e):t>=e},randint:function(t,e,i){return Type.exists(i)||(i=1),Math.round(Math.random()*(e-t)/i)*i+t},DDD:function(t){console.log("Dummy derivative function. This should never appear!")},ifthen:function(t,e,i){return t?e:i},del:function(t){"object"==typeof t&&JXG.exists(t.type)&&JXG.exists(t.elementClass)&&this.board.removeObject(t)},use:function(t){var e,i,r=!1;if("string"==typeof t){for(e in JXG.boards)if(JXG.boards.hasOwnProperty(e)&&JXG.boards[e].container===t){i=JXG.boards[e],r=!0;break}}else i=t,r=!0;r?(this.board=i,this.builtIn.$board=i,this.builtIn.$board.src="$jc$.board"):this._error("Board '"+t+"' not found!")},findSymbol:function(t,e){var i,r;for(r=-1===(e=Type.def(e,-1))?this.scope:this.scopes[e];null!==r;){for(i in r.locals)if(r.locals.hasOwnProperty(i)&&r.locals[i]===t)return[i,r];r=r.previous}return[]},importModule:function(t){return priv.modules[t.toLowerCase()]},defineBuiltIn:function(){var t=this,e={PI:Math.PI,EULER:Math.E,D:t.DDD,X:t.X,Y:t.Y,V:t.V,L:t.L,acosh:Mat.acosh,acot:Mat.acot,asinh:Mat.asinh,binomial:Mat.binomial,cbrt:Mat.cbrt,cosh:Mat.cosh,cot:Mat.cot,deg:Geometry.trueAngle,A:t.area,area:t.area,dist:t.dist,R:t.radius,radius:t.radius,erf:Mat.erf,erfc:Mat.erfc,erfi:Mat.erfi,factorial:Mat.factorial,gcd:Mat.gcd,lb:Mat.log2,lcm:Mat.lcm,ld:Mat.log2,lg:Mat.log10,ln:Math.log,log:Mat.log,log10:Mat.log10,log2:Mat.log2,ndtr:Mat.ndtr,ndtri:Mat.ndtri,nthroot:Mat.nthroot,pow:Mat.pow,rad:Geometry.rad,ratpow:Mat.ratpow,trunc:Type.trunc,sinh:Mat.sinh,randint:t.randint,IfThen:t.ifthen,import:t.importModule,use:t.use,remove:t.del,$:t.getElementById,getName:t.getName,name:t.getName,$board:t.board,$log:t.log};return e.rad.sc=Geometry,e.deg.sc=Geometry,e.factorial.sc=Mat,e.X.src="$jc$.X",e.Y.src="$jc$.Y",e.V.src="$jc$.V",e.L.src="$jc$.L",e.acosh.src="JXG.Math.acosh",e.acot.src="JXG.Math.acot",e.asinh.src="JXG.Math.asinh",e.binomial.src="JXG.Math.binomial",e.cbrt.src="JXG.Math.cbrt",e.cot.src="JXG.Math.cot",e.cosh.src="JXG.Math.cosh",e.deg.src="JXG.Math.Geometry.trueAngle",e.erf.src="JXG.Math.erf",e.erfc.src="JXG.Math.erfc",e.erfi.src="JXG.Math.erfi",e.A.src="$jc$.area",e.area.src="$jc$.area",e.dist.src="$jc$.dist",e.R.src="$jc$.radius",e.radius.src="$jc$.radius",e.factorial.src="JXG.Math.factorial",e.gcd.src="JXG.Math.gcd",e.lb.src="JXG.Math.log2",e.lcm.src="JXG.Math.lcm",e.ld.src="JXG.Math.log2",e.lg.src="JXG.Math.log10",e.ln.src="Math.log",e.log.src="JXG.Math.log",e.log10.src="JXG.Math.log10",e.log2.src="JXG.Math.log2",e.ndtr.src="JXG.Math.ndtr",e.ndtri.src="JXG.Math.ndtri",e.nthroot.src="JXG.Math.nthroot",e.pow.src="JXG.Math.pow",e.rad.src="JXG.Math.Geometry.rad",e.ratpow.src="JXG.Math.ratpow",e.trunc.src="JXG.trunc",e.sinh.src="JXG.Math.sinh",e.randint.src="$jc$.randint",e.import.src="$jc$.importModule",e.use.src="$jc$.use",e.remove.src="$jc$.del",e.IfThen.src="$jc$.ifthen",e.$.src="(function (n) { return $jc$.board.select(n); })",e.getName.src="$jc$.getName",e.name.src="$jc$.getName",e.$board&&(e.$board.src="$jc$.board"),e.$log.src="$jc$.log",e},getPossibleOperands:function(){var t,e,i,r,s,o,n,a,h,l,c,d,u,p,f=["E"],m=this.defineBuiltIn(),g=Math;for(u=function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())},p=function(t,e){var i=null;if("jc"===e)i=m[t];else{if("Math"!==e)return;i=g[t]}if(!f.includes(t))return JXG.isFunction(i)?{name:t,type:"function",numParams:i.length,origin:e}:JXG.isNumber(i)?{name:t,type:"constant",value:i,origin:e}:void(void 0!==i&&console.error("undefined type",i))},t=Object.getOwnPropertyNames(m).sort(u),e=Object.getOwnPropertyNames(g).sort(u),i=[],r=0,s=0;r<t.length||s<e.length;)t[r]===e[s]?(o=p(e[s],"Math"),JXG.exists(o)&&i.push(o),r++,s++):!JXG.exists(e[s])||t[r].toLowerCase().localeCompare(e[s].toLowerCase())<0?(o=p(t[r],"jc"),JXG.exists(o)&&i.push(o),r++):(o=p(e[s],"Math"),JXG.exists(o)&&i.push(o),s++);for(h=[],l=[],c=[],d={},n=i.length,r=0;r<n;r++){switch((a=i[r]).type){case"function":h.push(a.name),"jc"===a.origin&&l.push(a.name);break;case"constant":c.push(a.name)}d[a.name]=a}return{all:d,list:i,functions:h,functions_jessiecode:l,constants:c}},_debug:function(t){"object"==typeof console?console.log(t):Env.isBrowser&&document&&null!==document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=t+"<br />")},_error:function(t){var e=new Error("Error("+this.line+"): "+t);throw e.line=this.line,e},_warn:function(t){"object"==typeof console?console.log("Warning("+this.line+"): "+t):Env.isBrowser&&document&&null!==document.getElementById(this.warnLog)&&(document.getElementById(this.warnLog).innerHTML+="Warning("+this.line+"): "+t+"<br />")},_log:function(t){"object"!=typeof window&&"object"==typeof self&&self.postMessage?self.postMessage({type:"log",msg:"Log: "+t.toString()}):console.log("Log: ",arguments)}});var parser=function(){var t=function(t,e,i,r){for(i=i||{},r=t.length;r--;i[t[r]]=e);return i},e=[2,14],i=[1,13],r=[1,37],s=[1,14],o=[1,15],n=[1,21],a=[1,16],h=[1,17],l=[1,33],c=[1,18],d=[1,19],u=[1,12],p=[1,59],f=[1,60],m=[1,58],g=[1,46],b=[1,48],v=[1,49],y=[1,50],C=[1,51],_=[1,52],P=[1,53],E=[1,54],x=[1,45],S=[1,38],O=[1,39],w=[5,7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],T=[5,7,8,12,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],N=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],M=[2,48],A=[1,72],R=[10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,66,83,86],L=[1,78],k=[8,10,16,32,34,35,37,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],D=[1,82],B=[8,10,16,32,34,35,37,39,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],I=[1,83],Y=[1,84],j=[1,85],X=[8,10,16,32,34,35,37,39,41,42,43,50,51,53,54,55,57,64,65,66,83,86],F=[1,89],U=[1,90],J=[1,91],G=[1,92],z=[1,97],H=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,53,54,55,57,64,65,66,83,86],V=[1,103],$=[1,104],q=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,57,64,65,66,83,86],W=[1,105],Z=[1,106],Q=[1,107],K=[1,126],tt=[1,139],et=[83,86],it=[1,150],rt=[10,66,86],st=[8,10,16,20,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,82,83,86],ot=[1,167],nt=[10,86],at={trace:function(){},yy:{},symbols_:{error:2,Program:3,StatementList:4,EOF:5,IfStatement:6,IF:7,"(":8,Expression:9,")":10,Statement:11,ELSE:12,LoopStatement:13,WHILE:14,FOR:15,";":16,DO:17,UnaryStatement:18,USE:19,IDENTIFIER:20,DELETE:21,ReturnStatement:22,RETURN:23,EmptyStatement:24,StatementBlock:25,"{":26,"}":27,ExpressionStatement:28,AssignmentExpression:29,ConditionalExpression:30,LeftHandSideExpression:31,"=":32,LogicalORExpression:33,"?":34,":":35,LogicalANDExpression:36,"||":37,EqualityExpression:38,"&&":39,RelationalExpression:40,"==":41,"!=":42,"~=":43,AdditiveExpression:44,"<":45,">":46,"<=":47,">=":48,MultiplicativeExpression:49,"+":50,"-":51,UnaryExpression:52,"*":53,"/":54,"%":55,ExponentExpression:56,"^":57,"!":58,MemberExpression:59,CallExpression:60,PrimaryExpression:61,FunctionExpression:62,MapExpression:63,".":64,"[":65,"]":66,BasicLiteral:67,ObjectLiteral:68,ArrayLiteral:69,NullLiteral:70,BooleanLiteral:71,StringLiteral:72,NumberLiteral:73,NULL:74,TRUE:75,FALSE:76,STRING:77,NUMBER:78,NAN:79,INFINITY:80,ElementList:81,"<<":82,">>":83,PropertyList:84,Property:85,",":86,PropertyName:87,Arguments:88,AttributeList:89,Attribute:90,FUNCTION:91,ParameterDefinitionList:92,MAP:93,"->":94,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"IF",8:"(",10:")",12:"ELSE",14:"WHILE",15:"FOR",16:";",17:"DO",19:"USE",20:"IDENTIFIER",21:"DELETE",23:"RETURN",26:"{",27:"}",32:"=",34:"?",35:":",37:"||",39:"&&",41:"==",42:"!=",43:"~=",45:"<",46:">",47:"<=",48:">=",50:"+",51:"-",53:"*",54:"/",55:"%",57:"^",58:"!",64:".",65:"[",66:"]",74:"NULL",75:"TRUE",76:"FALSE",77:"STRING",78:"NUMBER",79:"NAN",80:"INFINITY",82:"<<",83:">>",86:",",91:"FUNCTION",93:"MAP",94:"->"},productions_:[0,[3,2],[6,5],[6,7],[13,5],[13,9],[13,7],[18,2],[18,2],[22,2],[22,3],[24,1],[25,3],[4,2],[4,0],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[28,2],[9,1],[29,1],[29,3],[30,1],[30,5],[33,1],[33,3],[36,1],[36,3],[38,1],[38,3],[38,3],[38,3],[40,1],[40,3],[40,3],[40,3],[40,3],[44,1],[44,3],[44,3],[49,1],[49,3],[49,3],[49,3],[56,1],[56,3],[52,1],[52,2],[52,2],[52,2],[31,1],[31,1],[59,1],[59,1],[59,1],[59,3],[59,4],[61,1],[61,1],[61,1],[61,1],[61,3],[67,1],[67,1],[67,1],[67,1],[70,1],[71,1],[71,1],[72,1],[73,1],[73,1],[73,1],[69,2],[69,3],[68,2],[68,3],[84,1],[84,3],[85,3],[87,1],[87,1],[87,1],[60,2],[60,3],[60,2],[60,4],[60,3],[88,2],[88,3],[89,1],[89,3],[90,1],[90,1],[81,1],[81,3],[62,4],[62,5],[63,5],[63,6],[92,1],[92,3]],performAction:function(t,e,i,r,s,o,n){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=ht.createNode(lt(n[a-4]),"node_op","op_if",o[a-2],o[a]);break;case 3:this.$=ht.createNode(lt(n[a-6]),"node_op","op_if_else",o[a-4],o[a-2],o[a]);break;case 4:this.$=ht.createNode(lt(n[a-4]),"node_op","op_while",o[a-2],o[a]);break;case 5:this.$=ht.createNode(lt(n[a-8]),"node_op","op_for",o[a-6],o[a-4],o[a-2],o[a]);break;case 6:this.$=ht.createNode(lt(n[a-6]),"node_op","op_do",o[a-5],o[a-2]);break;case 7:this.$=ht.createNode(lt(n[a-1]),"node_op","op_use",o[a]);break;case 8:this.$=ht.createNode(lt(n[a-1]),"node_op","op_delete",o[a]);break;case 9:this.$=ht.createNode(lt(n[a-1]),"node_op","op_return",void 0);break;case 10:this.$=ht.createNode(lt(n[a-2]),"node_op","op_return",o[a-1]);break;case 11:case 14:this.$=ht.createNode(lt(n[a]),"node_op","op_none");break;case 12:this.$=o[a-1],this.$.needsBrackets=!0;break;case 13:this.$=ht.createNode(lt(n[a-1]),"node_op","op_none",o[a-1],o[a]);break;case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 23:case 24:case 26:case 28:case 30:case 32:case 36:case 41:case 44:case 48:case 50:case 52:case 54:case 55:case 56:case 58:case 62:case 81:case 84:case 85:case 86:this.$=o[a];break;case 22:case 65:case 93:this.$=o[a-1];break;case 25:this.$=ht.createNode(lt(n[a-2]),"node_op","op_assign",o[a-2],o[a]),this.$.isMath=!1;break;case 27:this.$=ht.createNode(lt(n[a-4]),"node_op","op_conditional",o[a-4],o[a-2],o[a]),this.$.isMath=!1;break;case 29:this.$=ht.createNode(lt(n[a-2]),"node_op","op_or",o[a-2],o[a]),this.$.isMath=!1;break;case 31:this.$=ht.createNode(lt(n[a-2]),"node_op","op_and",o[a-2],o[a]),this.$.isMath=!1;break;case 33:this.$=ht.createNode(lt(n[a-2]),"node_op","op_eq",o[a-2],o[a]),this.$.isMath=!1;break;case 34:this.$=ht.createNode(lt(n[a-2]),"node_op","op_neq",o[a-2],o[a]),this.$.isMath=!1;break;case 35:this.$=ht.createNode(lt(n[a-2]),"node_op","op_approx",o[a-2],o[a]),this.$.isMath=!1;break;case 37:this.$=ht.createNode(lt(n[a-2]),"node_op","op_lt",o[a-2],o[a]),this.$.isMath=!1;break;case 38:this.$=ht.createNode(lt(n[a-2]),"node_op","op_gt",o[a-2],o[a]),this.$.isMath=!1;break;case 39:this.$=ht.createNode(lt(n[a-2]),"node_op","op_leq",o[a-2],o[a]),this.$.isMath=!1;break;case 40:this.$=ht.createNode(lt(n[a-2]),"node_op","op_geq",o[a-2],o[a]),this.$.isMath=!1;break;case 42:this.$=ht.createNode(lt(n[a-2]),"node_op","op_add",o[a-2],o[a]),this.$.isMath=!0;break;case 43:this.$=ht.createNode(lt(n[a-2]),"node_op","op_sub",o[a-2],o[a]),this.$.isMath=!0;break;case 45:this.$=ht.createNode(lt(n[a-2]),"node_op","op_mul",o[a-2],o[a]),this.$.isMath=!0;break;case 46:this.$=ht.createNode(lt(n[a-2]),"node_op","op_div",o[a-2],o[a]),this.$.isMath=!0;break;case 47:this.$=ht.createNode(lt(n[a-2]),"node_op","op_mod",o[a-2],o[a]),this.$.isMath=!0;break;case 49:this.$=ht.createNode(lt(n[a-2]),"node_op","op_exp",o[a-2],o[a]),this.$.isMath=!0;break;case 51:this.$=ht.createNode(lt(n[a-1]),"node_op","op_not",o[a]),this.$.isMath=!1;break;case 53:this.$=ht.createNode(lt(n[a-1]),"node_op","op_neg",o[a]),this.$.isMath=!0;break;case 57:case 63:case 64:case 66:case 67:case 68:case 97:this.$=o[a],this.$.isMath=!1;break;case 59:case 91:this.$=ht.createNode(lt(n[a-2]),"node_op","op_property",o[a-2],o[a]),this.$.isMath=!0;break;case 60:case 90:this.$=ht.createNode(lt(n[a-3]),"node_op","op_extvalue",o[a-3],o[a-1]),this.$.isMath=!0;break;case 61:this.$=ht.createNode(lt(n[a]),"node_var",o[a]);break;case 69:this.$=o[a],this.$.isMath=!0;break;case 70:this.$=ht.createNode(lt(n[a]),"node_const",null);break;case 71:this.$=ht.createNode(lt(n[a]),"node_const_bool",!0);break;case 72:this.$=ht.createNode(lt(n[a]),"node_const_bool",!1);break;case 73:this.$=ht.createNode(lt(n[a]),"node_str",o[a].substring(1,o[a].length-1));break;case 74:this.$=ht.createNode(lt(n[a]),"node_const",parseFloat(o[a]));break;case 75:this.$=ht.createNode(lt(n[a]),"node_const",NaN);break;case 76:this.$=ht.createNode(lt(n[a]),"node_const",1/0);break;case 77:this.$=ht.createNode(lt(n[a-1]),"node_op","op_array",[]);break;case 78:this.$=ht.createNode(lt(n[a-2]),"node_op","op_array",o[a-1]);break;case 79:this.$=ht.createNode(lt(n[a-1]),"node_op","op_emptyobject",{}),this.$.needsBrackets=!0;break;case 80:this.$=ht.createNode(lt(n[a-2]),"node_op","op_proplst_val",o[a-1]),this.$.needsBrackets=!0;break;case 82:this.$=ht.createNode(lt(n[a-2]),"node_op","op_proplst",o[a-2],o[a]);break;case 83:this.$=ht.createNode(lt(n[a-2]),"node_op","op_prop",o[a-2],o[a]);break;case 87:case 89:this.$=ht.createNode(lt(n[a-1]),"node_op","op_execfun",o[a-1],o[a]),this.$.isMath=!0;break;case 88:this.$=ht.createNode(lt(n[a-2]),"node_op","op_execfun",o[a-2],o[a-1],o[a],!0),this.$.isMath=!1;break;case 92:this.$=[];break;case 94:case 98:case 104:this.$=[o[a]];break;case 95:case 99:case 105:this.$=o[a-2].concat(o[a]);break;case 96:this.$=ht.createNode(lt(n[a]),"node_var",o[a]),this.$.isMath=!0;break;case 100:this.$=ht.createNode(lt(n[a-3]),"node_op","op_function",[],o[a]),this.$.isMath=!1;break;case 101:this.$=ht.createNode(lt(n[a-4]),"node_op","op_function",o[a-2],o[a]),this.$.isMath=!1;break;case 102:this.$=ht.createNode(lt(n[a-4]),"node_op","op_map",[],o[a]);break;case 103:this.$=ht.createNode(lt(n[a-5]),"node_op","op_map",o[a-3],o[a])}},table:[t([5,7,8,14,15,16,17,19,20,21,23,26,50,51,58,65,74,75,76,77,78,79,80,82,91,93],e,{3:1,4:2}),{1:[3]},{5:[1,3],6:6,7:i,8:r,9:20,11:4,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{1:[2,1]},t(w,[2,13]),t(T,[2,15]),t(T,[2,16]),t(T,[2,17]),t(T,[2,18]),t(T,[2,19]),t(T,[2,20]),t(T,[2,21]),t([7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],e,{4:61}),{8:[1,62]},{8:[1,63]},{8:[1,64]},{6:6,7:i,8:r,9:20,11:65,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{20:[1,66]},{20:[1,67]},{8:r,9:69,16:[1,68],20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{16:[1,70]},t(T,[2,11]),t(N,[2,23]),t(N,[2,24]),t([8,10,16,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],M,{32:[1,71],57:A}),t([8,10,16,32,35,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],[2,26],{34:[1,73],37:[1,74]}),t(R,[2,54],{88:77,8:L,64:[1,75],65:[1,76]}),t(R,[2,55],{88:79,8:L,64:[1,81],65:[1,80]}),t(k,[2,28],{39:D}),t(N,[2,56]),t(N,[2,57]),t(N,[2,58]),t(B,[2,30],{41:I,42:Y,43:j}),t(N,[2,61]),t(N,[2,62]),t(N,[2,63]),t(N,[2,64]),{8:r,9:86,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:[1,87]},{8:[1,88]},t(X,[2,32],{45:F,46:U,47:J,48:G}),t(N,[2,66]),t(N,[2,67]),t(N,[2,68]),t(N,[2,69]),{20:z,72:98,73:99,77:C,78:_,79:P,80:E,83:[1,93],84:94,85:95,87:96},{8:r,20:l,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,66:[1,100],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,81:101,82:x,91:S,93:O},t(H,[2,36],{50:V,51:$}),t(N,[2,70]),t(N,[2,71]),t(N,[2,72]),t(N,[2,73]),t(N,[2,74]),t(N,[2,75]),t(N,[2,76]),t(q,[2,41],{53:W,54:Z,55:Q}),t(N,[2,44]),t(N,[2,50]),{8:r,20:l,31:109,50:p,51:f,52:108,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:110,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:111,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{6:6,7:i,8:r,9:20,11:4,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,27:[1,112],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:113,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:114,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:115,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{14:[1,116]},t(T,[2,7]),t(T,[2,8]),t(T,[2,9]),{16:[1,117]},t(T,[2,22]),{8:r,20:l,29:118,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:119,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,29:120,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,36:121,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{20:[1,122]},{8:r,9:123,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,87],{89:124,90:125,68:127,20:K,82:x}),{8:r,10:[1,128],20:l,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,81:129,82:x,91:S,93:O},t(N,[2,89]),{8:r,9:130,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{20:[1,131]},{8:r,20:l,31:109,38:132,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,40:133,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,40:134,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,40:135,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{10:[1,136]},{10:[1,137],20:tt,92:138},{10:[1,140],20:tt,92:141},{8:r,20:l,31:109,44:142,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,44:143,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,44:144,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,44:145,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,79]),{83:[1,146],86:[1,147]},t(et,[2,81]),{35:[1,148]},{35:[2,84]},{35:[2,85]},{35:[2,86]},t(N,[2,77]),{66:[1,149],86:it},t(rt,[2,98]),{8:r,20:l,31:109,49:151,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,49:152,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:153,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:154,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:155,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,51]),t([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],M,{57:A}),t(N,[2,52]),t(N,[2,53]),t([5,7,8,10,12,14,15,16,17,19,20,21,23,26,27,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,58,64,65,66,74,75,76,77,78,79,80,82,83,86,91,93],[2,12]),{10:[1,156]},{10:[1,157]},{16:[1,158]},{8:[1,159]},t(T,[2,10]),t(N,[2,25]),t(N,[2,49]),{35:[1,160]},t(k,[2,29],{39:D}),t(N,[2,59]),{66:[1,161]},t([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83],[2,88],{86:[1,162]}),t(N,[2,94]),t(N,[2,96]),t(N,[2,97]),t(st,[2,92]),{10:[1,163],86:it},{66:[1,164]},t(N,[2,91]),t(B,[2,31],{41:I,42:Y,43:j}),t(X,[2,33],{45:F,46:U,47:J,48:G}),t(X,[2,34],{45:F,46:U,47:J,48:G}),t(X,[2,35],{45:F,46:U,47:J,48:G}),t(N,[2,65]),{25:165,26:u},{10:[1,166],86:ot},t(nt,[2,104]),{94:[1,168]},{10:[1,169],86:ot},t(H,[2,37],{50:V,51:$}),t(H,[2,38],{50:V,51:$}),t(H,[2,39],{50:V,51:$}),t(H,[2,40],{50:V,51:$}),t(N,[2,80]),{20:z,72:98,73:99,77:C,78:_,79:P,80:E,85:170,87:96},{8:r,20:l,29:171,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,78]),{8:r,20:l,29:172,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(q,[2,42],{53:W,54:Z,55:Q}),t(q,[2,43],{53:W,54:Z,55:Q}),t(N,[2,45]),t(N,[2,46]),t(N,[2,47]),{6:6,7:i,8:r,9:20,11:173,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{6:6,7:i,8:r,9:20,11:174,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:175,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:176,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,29:177,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,60]),{20:K,68:127,82:x,90:178},t(st,[2,93]),t(N,[2,90]),t(N,[2,100]),{25:179,26:u},{20:[1,180]},{8:r,9:181,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{94:[1,182]},t(et,[2,82]),t(et,[2,83]),t(rt,[2,99]),t(w,[2,2],{12:[1,183]}),t(T,[2,4]),{16:[1,184]},{10:[1,185]},t(N,[2,27]),t(N,[2,95]),t(N,[2,101]),t(nt,[2,105]),t(N,[2,102]),{8:r,9:186,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{6:6,7:i,8:r,9:20,11:187,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:188,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{16:[1,189]},t(N,[2,103]),t(T,[2,3]),{10:[1,190]},t(T,[2,6]),{6:6,7:i,8:r,9:20,11:191,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(T,[2,5])],defaultActions:{3:[2,1],97:[2,84],98:[2,85],99:[2,86]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],r=[null],s=[],o=this.table,n="",a=0,h=0,l=0,c=2,d=1,u=s.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(f.yy[m]=this.yy[m]);p.setInput(t,f.yy),f.yy.lexer=p,f.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var g=p.yylloc;s.push(g);var b=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,y,C,_,P,E,x,S,O,w=function(){var t;return"number"!=typeof(t=p.lex()||d)&&(t=e.symbols_[t]||t),t},T={};;){if(C=i[i.length-1],this.defaultActions[C]?_=this.defaultActions[C]:(null==v&&(v=w()),_=o[C]&&o[C][v]),void 0===_||!_.length||!_[0]){var N="";for(E in O=[],o[C])this.terminals_[E]&&E>c&&O.push("'"+this.terminals_[E]+"'");N=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(a+1)+": Unexpected "+(v==d?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(N,{text:p.match,token:this.terminals_[v]||v,line:p.yylineno,loc:g,expected:O})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+v);switch(_[0]){case 1:i.push(v),r.push(p.yytext),s.push(p.yylloc),i.push(_[1]),v=null,y?(v=y,y=null):(h=p.yyleng,n=p.yytext,a=p.yylineno,g=p.yylloc,l>0&&l--);break;case 2:if(x=this.productions_[_[1]][1],T.$=r[r.length-x],T._$={first_line:s[s.length-(x||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(x||1)].first_column,last_column:s[s.length-1].last_column},b&&(T._$.range=[s[s.length-(x||1)].range[0],s[s.length-1].range[1]]),void 0!==(P=this.performAction.apply(T,[n,h,a,f.yy,_[1],r,s].concat(u))))return P;x&&(i=i.slice(0,-1*x*2),r=r.slice(0,-1*x),s=s.slice(0,-1*x)),i.push(this.productions_[_[1]][0]),r.push(T.$),s.push(T._$),S=o[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0}},ht={node:function(t,e,i){return{type:t,value:e,children:i}},createNode:function(t,e,i,r){var s,o=this.node(e,i,[]);for(s=3;s<arguments.length;s++)o.children.push(arguments[s]);return o.line=t[0],o.col=t[1],o.eline=t[2],o.ecol=t[3],o}},lt=function(t){return[t.first_line,t.first_column,t.last_line,t.last_column]},ct=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===r.length?this.yylloc.first_column:0)+r[r.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,r,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in s)this[o]=s[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length;o++)if((i=this._input.match(this.rules[s[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,s[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,s[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,i,r){switch(i){case 0:case 5:case 6:break;case 1:case 2:return 78;case 3:case 4:return 77;case 7:return 7;case 8:return 12;case 9:return 14;case 10:return 17;case 11:return 15;case 12:return 91;case 13:return 93;case 14:return 19;case 15:return 23;case 16:return 21;case 17:return 75;case 18:return 76;case 19:return 74;case 20:return 80;case 21:case 22:return 94;case 23:return 82;case 24:return 83;case 25:return 26;case 26:return 27;case 27:return 16;case 28:return"#";case 29:return 34;case 30:return 35;case 31:return 79;case 32:return 64;case 33:return 65;case 34:return 66;case 35:return 8;case 36:return 10;case 37:return 58;case 38:return 57;case 39:return 53;case 40:return 54;case 41:return 55;case 42:return 50;case 43:return 51;case 44:return 47;case 45:return 45;case 46:return 48;case 47:return 46;case 48:return 41;case 49:return 43;case 50:return 42;case 51:return 39;case 52:return 37;case 53:return 32;case 54:return 86;case 55:return 5;case 56:return 20;case 57:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:[0-9]+\.[0-9]*|[0-9]*\.[0-9]+\b)/,/^(?:[0-9]+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:\/\/.*)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:if\b)/,/^(?:else\b)/,/^(?:while\b)/,/^(?:do\b)/,/^(?:for\b)/,/^(?:function\b)/,/^(?:map\b)/,/^(?:use\b)/,/^(?:return\b)/,/^(?:delete\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:Infinity\b)/,/^(?:->)/,/^(?:=>)/,/^(?:<<)/,/^(?:>>)/,/^(?:\{)/,/^(?:\})/,/^(?:;)/,/^(?:#)/,/^(?:\?)/,/^(?::)/,/^(?:NaN\b)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:!)/,/^(?:\^)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:\+)/,/^(?:-)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:==)/,/^(?:~=)/,/^(?:!=)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:=)/,/^(?:,)/,/^(?:$)/,/^(?:[A-Za-z_\$][A-Za-z0-9_]*)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57],inclusive:!0}}};return t}();function dt(){this.yy={}}return at.lexer=ct,dt.prototype=at,at.Parser=dt,new dt}();return void 0!==require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var e=require("fs").readFileSync(require("path").normalize(t[1]),"utf8");return exports.parser.parse(e)}, true&&require.main===module&&exports.main(process.argv.slice(1))),parser.yy.parseError=parser.parseError,JXG.JessieCode})),define("base/composition",["jxg","utils/type"],(function(t,e){"use strict";return t.Composition=function(t){var i,r=this,s=["setAttribute","setParents","prepareUpdate","updateRenderer","update","fullUpdate","highlight","noHighlight"],o=function(t){return function(){var i;for(i in r.elements)r.elements.hasOwnProperty(i)&&e.exists(r.elements[i][t])&&r.elements[i][t].apply(r.elements[i],arguments);return r}};for(i=0;i<s.length;i++)this[s[i]]=o(s[i]);for(i in this.elements={},this.objects=this.elements,this.elementsByName={},this.objectsList=[],this.groups={},this.methodMap={setAttribute:"setAttribute",setProperty:"setAttribute",setParents:"setParents",add:"add",remove:"remove",select:"select"},t)t.hasOwnProperty(i)&&this.add(i,t[i]);this.dump=!0,this.subs={}},t.extend(t.Composition.prototype,{add:function(t,i){return!(e.exists(this[t])||!e.exists(i))&&(e.exists(i.id)?this.elements[i.id]=i:this.elements[t]=i,e.exists(i.name)&&(this.elementsByName[i.name]=i),i.on("attribute:name",this.nameListener,this),this.objectsList.push(i),this[t]=i,this.methodMap[t]=i,!0)},remove:function(t){var e,i=!1;for(e in this.elements)if(this.elements.hasOwnProperty(e)&&this.elements[e].id===this[t].id){i=!0;break}return i&&(delete this.elements[this[t].id],delete this[t]),i},nameListener:function(t,e,i){delete this.elementsByName[t],this.elementsByName[e]=i},select:function(i){return e.exists(t.Board)?t.Board.prototype.select.call(this,i):new t.Composition},getParents:function(){return this.parents},getType:function(){return this.elType},getAttributes:function(){var t,e={};for(t in this.subs)this.subs.hasOwnProperty(t)&&(e[t]=this.subs[t].visProp);return this.attr}}),t.Composition})),define("base/board",["jxg","base/constants","base/coords","options","math/numerics","math/math","math/geometry","math/complex","math/statistics","parser/jessiecode","utils/color","utils/type","utils/event","utils/env","base/composition"],(function(t,e,i,r,s,o,n,a,h,l,c,d,u,p,f){"use strict";return t.Board=function(i,s,o,n,a,h,c,f,m,g,b){if(this.BOARD_MODE_NONE=0,this.BOARD_MODE_DRAG=1,this.BOARD_MODE_MOVE_ORIGIN=2,this.BOARD_MODE_ZOOM=17,this.BOARD_QUALITY_LOW=1,this.BOARD_QUALITY_HIGH=2,d.exists(b.document)&&!1!==b.document?this.document=b.document:void 0!==document&&d.isObject(document)&&(this.document=document),this.container=i,this.containerObj=p.isBrowser?this.document.getElementById(this.container):null,p.isBrowser&&"no"!==s.type&&null===this.containerObj)throw new Error("\nJSXGraph: HTML container element '"+i+"' not found.");this.renderer=s,this.grids=[],this.options=d.deepCopy(r),this.attr=b,this.dimension=2,this.jc=new l,this.jc.use(this),this.origin={},this.origin.usrCoords=[1,0,0],this.origin.scrCoords=[1,n[0],n[1]],this.zoomX=a,this.zoomY=h,this.unitX=c*this.zoomX,this.unitY=f*this.zoomY,this.keepaspectratio=!1,this.canvasWidth=m,this.canvasHeight=g,d.exists(o)&&""!==o&&p.isBrowser&&!d.exists(this.document.getElementById(o))?this.id=o:this.id=this.generateId(),u.eventify(this),this.hooks=[],this.dependentBoards=[],this.inUpdate=!1,this.objects={},this.objectsList=[],this.groups={},this.animationObjects={},this.highlightedObjects={},this.numObjects=0,this.elementsByName={},this.mode=this.BOARD_MODE_NONE,this.updateQuality=this.BOARD_QUALITY_HIGH,this.isSuspendedRedraw=!1,this.calculateSnapSizes(),this.drag_dx=0,this.drag_dy=0,this.drag_position=[0,0],this.mouse={},this.touches=[],this.xmlString="",this.cPos=[],this.touchMoveLast=0,this.touchMoveLastId=1/0,this.positionAccessLast=0,this.downObjects=[],this.attr.showcopyright&&this.renderer.displayCopyright(e.licenseText,parseInt(this.options.text.fontSize,10)),this.needsFullUpdate=!1,this.reducedUpdate=!1,this.currentCBDef="none",this.geonextCompatibilityMode=!1,this.options.text.useASCIIMathML&&translateASCIIMath?init():this.options.text.useASCIIMathML=!1,this.hasMouseHandlers=!1,this.hasTouchHandlers=!1,this.hasPointerHandlers=!1,this.hasMouseUp=!1,this.hasTouchEnd=!1,this.hasPointerUp=!1,this._drag_offset=[0,0],this._inputDevice="mouse",this._board_touches=[],this.selectingMode=!1,this.isSelecting=!1,this._isScrolling=!1,this._isResizing=!1,this.selectingBox=[[0,0],[0,0]],this.mathLib=Math,this.mathLibJXG=t.Math,this.attr.registerevents&&this.addEventHandlers(),this.methodMap={update:"update",fullUpdate:"fullUpdate",on:"on",off:"off",trigger:"trigger",setView:"setBoundingBox",setBoundingBox:"setBoundingBox",migratePoint:"migratePoint",colorblind:"emulateColorblindness",suspendUpdate:"suspendUpdate",unsuspendUpdate:"unsuspendUpdate",clearTraces:"clearTraces",left:"clickLeftArrow",right:"clickRightArrow",up:"clickUpArrow",down:"clickDownArrow",zoomIn:"zoomIn",zoomOut:"zoomOut",zoom100:"zoom100",zoomElements:"zoomElements",remove:"removeObject",removeObject:"removeObject"}},t.extend(t.Board.prototype,{generateName:function(t){var i,r,s=this.attr.maxnamelength,o="",n="",a=[],h="";if(t.type===e.OBJECT_TYPE_TICKS)return"";for(i=d.isPoint(t)?["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:t.type===e.OBJECT_TYPE_ANGLE?["","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;"]:["","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],d.isPoint(t)||t.elementClass===e.OBJECT_CLASS_LINE||t.type===e.OBJECT_TYPE_ANGLE||(o=t.type===e.OBJECT_TYPE_POLYGON?"P_{":t.elementClass===e.OBJECT_CLASS_CIRCLE?"k_{":t.elementClass===e.OBJECT_CLASS_TEXT?"t_{":"s_{",n="}"),r=0;r<s;r++)a[r]=0;for(;a[s-1]<i.length;){for(a[0]=1;a[0]<i.length;a[0]++){for(h=o,r=s;r>0;r--)h+=i[a[r-1]];if(!d.exists(this.elementsByName[h+n]))return h+n}for(a[0]=i.length,r=1;r<s;r++)a[r-1]===i.length&&(a[r-1]=1,a[r]+=1)}return""},generateId:function(){for(var e=1;d.exists(t.boards["jxgBoard"+e]);)e=Math.round(65535*Math.random());return"jxgBoard"+e},setId:function(t,e){var i,r=this.numObjects,s=t.id;if(this.numObjects+=1,""===s||!d.exists(s))for(s=this.id+e+r;d.exists(this.objects[s]);)i=Math.round(65535*Math.random()),s=this.id+e+r+"-"+i;return t.id=s,this.objects[s]=t,t._pos=this.objectsList.length,this.objectsList[this.objectsList.length]=t,s},finalizeAdding:function(t){!1===d.evaluate(t.visProp.visible)&&this.renderer.display(t,!1)},finalizeLabel:function(t){t.hasLabel&&!d.evaluate(t.label.visProp.islabel)&&!1===d.evaluate(t.label.visProp.visible)&&this.renderer.display(t.label,!1)},checkFrameRate:function(t){var e=!1,i=(new Date).getTime();return d.exists(t.pointerId)&&this.touchMoveLastId!==t.pointerId&&(e=!0,this.touchMoveLastId=t.pointerId),!e&&(i-this.touchMoveLast)*this.attr.maxframerate>=1e3&&(e=!0),e&&(this.touchMoveLast=i),e},getCoordsTopLeftCorner:function(){var t,e,i,r,s,o=this.document.ownerDocument||this.document,n=o.documentElement||this.document.body.parentNode,a=o.body,h=this.containerObj;if(this.cPos.length>0&&(this.mode===this.BOARD_MODE_DRAG||this.mode===this.BOARD_MODE_MOVE_ORIGIN||(new Date).getTime()-this.positionAccessLast<1e3))return this.cPos;if(this.positionAccessLast=(new Date).getTime(),h.getBoundingClientRect){for(i=h.getBoundingClientRect(),r=1,s=h;s&&d.exists(s.parentNode);)d.exists(s.style)&&d.exists(s.style.zoom)&&""!==s.style.zoom&&(r*=parseFloat(s.style.zoom)),s=s.parentNode;return(t=[i.left*r,i.top*r])[0]+=p.getProp(h,"border-left-width"),t[1]+=p.getProp(h,"border-top-width"),"vml"!==this.renderer.type&&(t[0]+=p.getProp(h,"padding-left"),t[1]+=p.getProp(h,"padding-top")),this.cPos=t.slice(),this.cPos}return t=p.getOffset(h),e=this.document.documentElement.ownerDocument,!this.containerObj.currentStyle&&e.defaultView&&(t[0]+=p.getProp(n,"margin-left"),t[1]+=p.getProp(n,"margin-top"),t[0]+=p.getProp(n,"border-left-width"),t[1]+=p.getProp(n,"border-top-width"),t[0]+=p.getProp(n,"padding-left"),t[1]+=p.getProp(n,"padding-top")),a&&(t[0]+=p.getProp(a,"left"),t[1]+=p.getProp(a,"top")),"object"==typeof google&&google.translate&&(t[0]+=10,t[1]+=25),t[0]+=p.getProp(h,"border-left-width"),t[1]+=p.getProp(h,"border-top-width"),"vml"!==this.renderer.type&&(t[0]+=p.getProp(h,"padding-left"),t[1]+=p.getProp(h,"padding-top")),t[0]+=this.attr.offsetx,t[1]+=this.attr.offsety,this.cPos=t.slice(),this.cPos},getMousePosition:function(t,e){var i,r,s=this.getCoordsTopLeftCorner();return i=p.getPosition(t,e,this.document),d.exists(this.cssTransMat)||this.updateCSSTransforms(),r=[1,i[0]-s[0],i[1]-s[1]],(r=o.matVecMult(this.cssTransMat,r))[1]/=r[0],r[2]/=r[0],[r[1],r[2]]},initMoveOrigin:function(t,e){this.drag_dx=t-this.origin.scrCoords[1],this.drag_dy=e-this.origin.scrCoords[2],this.mode=this.BOARD_MODE_MOVE_ORIGIN,this.updateQuality=this.BOARD_QUALITY_LOW},initMoveObject:function(t,i,r,s){var o,n,a,l=[],c=[],u=this.objectsList.length,p={visProp:{layer:-1e4}};for(n=0;n<u;n++)a=(o=this.objectsList[n]).hasPoint&&o.hasPoint(t,i),o.visPropCalc.visible&&a&&(o.triggerEventHandlers([s+"down","down"],[r]),this.downObjects.push(o)),a&&o.isDraggable&&o.visPropCalc.visible&&(this.geonextCompatibilityMode&&(d.isPoint(o)||o.elementClass===e.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!d.evaluate(o.visProp.fixed)&&(o.visProp.layer>p.visProp.layer||o.visProp.layer===p.visProp.layer&&o.lastDragTime.getTime()>=p.lastDragTime.getTime())&&(this.attr.ignorelabels&&d.exists(p.label)&&o===p.label||(p=o,l.push(p),d.exists(p.coords)?c.push(h.subtract(p.coords.scrCoords.slice(1),[t,i])):c.push([0,0])));return this.attr.drag.enabled&&l.length>0&&(this.mode=this.BOARD_MODE_DRAG),this.attr.takefirst?(l.length=1,this._drag_offset=c[0]):(l=l.slice(-1),this._drag_offset=c[c.length-1]),this._drag_offset||(this._drag_offset=[0,0]),"svg"===this.renderer.type&&d.exists(l[0])&&d.evaluate(l[0].visProp.dragtotopoflayer)&&1===l.length&&d.exists(l[0].rendNode)&&l[0].rendNode.parentNode.appendChild(l[0].rendNode),this.previousRotation=0,this.previousScale=1,l.length>=1&&(l[0].highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[r,l[0]])),l},moveObject:function(t,r,s,o,n){var a,l,c,u=new i(e.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(t,r),this);s&&s.obj&&((a=s.obj).coords&&(l=a.coords.scrCoords.slice()),this.drag_position=[u.scrCoords[1],u.scrCoords[2]],this.drag_position=h.add(this.drag_position,this._drag_offset),d.exists(a.coords)?a.setPositionDirectly(e.COORDS_BY_SCREEN,this.drag_position):(this.displayInfobox(!1),isNaN(s.targets[0].Xprev+s.targets[0].Yprev)||a.setPositionDirectly(e.COORDS_BY_SCREEN,[u.scrCoords[1],u.scrCoords[2]],[s.targets[0].Xprev,s.targets[0].Yprev]),s.targets[0].Xprev=u.scrCoords[1],s.targets[0].Yprev=u.scrCoords[2]),d.exists(a.coords)&&(a.prepareUpdate().update(!1).updateRenderer(),this.updateInfobox(a),a.prepareUpdate().update(!0).updateRenderer()),a.coords&&(c=a.coords.scrCoords),a.coords&&l[1]===c[1]&&l[2]===c[2]||(a.triggerEventHandlers([n+"drag","drag"],[o]),this.update()),a.highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[o,a]),a.lastDragTime=new Date)},twoFingerMove:function(t,i,r){var s;d.exists(t)&&d.exists(t.obj)&&((s=t.obj).elementClass===e.OBJECT_CLASS_LINE||s.type===e.OBJECT_TYPE_POLYGON?this.twoFingerTouchObject(t.targets,s,i):s.elementClass===e.OBJECT_CLASS_CIRCLE&&this.twoFingerTouchCircle(t.targets,s,i),r&&s.triggerEventHandlers(["touchdrag","drag"],[r]))},twoFingerTouchObject:function(t,r,s){var a,h,l,c,u,p,f,m,g,b,v,y,C,_,P,E,x;if(d.exists(t[0])&&d.exists(t[1])&&!isNaN(t[0].Xprev+t[0].Yprev+t[1].Xprev+t[1].Yprev)){if(s===t[0].num?(P=t[1],E=t[0]):(P=t[0],E=t[1]),x=new i(e.COORDS_BY_SCREEN,[P.Xprev,P.Yprev],this).usrCoords,h=new i(e.COORDS_BY_SCREEN,[E.Xprev,E.Yprev],this).usrCoords,a=new i(e.COORDS_BY_SCREEN,[E.X,E.Y],this).usrCoords,c=o.crossProduct(x,h),l=o.crossProduct(x,a),f=o.crossProduct(c,l),Math.abs(f[0])<o.eps)return;if(p=n.rad(h.slice(1),x.slice(1),a.slice(1)),(m=this.create("transform",[p,[x[1],x[2]]],{type:"rotate"})).update(),d.evaluate(r.visProp.scalable)&&(u=n.distance(a,x)/n.distance(h,x),g=this.create("transform",[-x[1],-x[2]],{type:"translate"}),b=this.create("transform",[u,u],{type:"scale"}),v=this.create("transform",[x[1],x[2]],{type:"translate"}),m.melt(g).melt(b).melt(v)),r.elementClass===e.OBJECT_CLASS_LINE)y=[],r.point1.draggable()&&y.push(r.point1),r.point2.draggable()&&y.push(r.point2),m.applyOnce(y);else if(r.type===e.OBJECT_TYPE_POLYGON){for(y=[],_=r.vertices.length-1,C=0;C<_;++C)r.vertices[C].draggable()&&y.push(r.vertices[C]);m.applyOnce(y)}this.update(),r.highlight(!0)}},twoFingerTouchCircle:function(t,r,s){var o,a,h,l,c,u,p,f,m,g,b;"pointCircle"!==r.method&&"pointLine"!==r.method&&d.exists(t[0])&&d.exists(t[1])&&!isNaN(t[0].Xprev+t[0].Yprev+t[1].Xprev+t[1].Yprev)&&(s===t[0].num?(o=t[1],a=t[0]):(o=t[0],a=t[1]),c=new i(e.COORDS_BY_SCREEN,[o.Xprev,o.Yprev],this).usrCoords,l=new i(e.COORDS_BY_SCREEN,[a.Xprev,a.Yprev],this).usrCoords,h=new i(e.COORDS_BY_SCREEN,[a.X,a.Y],this).usrCoords,p=n.rad(l.slice(1),c.slice(1),h.slice(1)),f=this.create("transform",[-c[1],-c[2]],{type:"translate"}),m=this.create("transform",[p],{type:"rotate"}),f.melt(m),d.evaluate(r.visProp.scalable)&&(u=n.distance(c,h)/n.distance(c,l),g=this.create("transform",[u,u],{type:"scale"}),f.melt(g)),b=this.create("transform",[c[1],c[2]],{type:"translate"}),f.melt(b),r.center.draggable()&&f.applyOnce([r.center]),"twoPoints"===r.method?r.point2.draggable()&&f.applyOnce([r.point2]):"pointRadius"===r.method&&d.isNumber(r.updateRadius.origin)&&r.setRadius(r.radius*u),this.update(r.center),r.highlight(!0))},highlightElements:function(t,e,i,r){var s,o,n,a={},h=this.objectsList.length;for(s=0;s<h;s++)n=(o=this.objectsList[s]).id,d.exists(o.hasPoint)&&o.visPropCalc.visible&&o.hasPoint(t,e)&&(this.updateInfobox(o),d.exists(this.highlightedObjects[n])||(a[n]=o,o.highlight(),this.triggerEventHandlers(["mousehit","hit"],[i,o,r])),o.mouseover?o.triggerEventHandlers(["mousemove","move"],[i]):(o.triggerEventHandlers(["mouseover","over"],[i]),o.mouseover=!0));for(s=0;s<h;s++)n=(o=this.objectsList[s]).id,o.mouseover&&(a[n]||(o.triggerEventHandlers(["mouseout","out"],[i]),o.mouseover=!1))},saveStartPos:function(i,r){var s,o,n=[];if(i.type===e.OBJECT_TYPE_TICKS)n.push([1,NaN,NaN]);else if(i.elementClass===e.OBJECT_CLASS_LINE)n.push(i.point1.coords.usrCoords),n.push(i.point2.coords.usrCoords);else if(i.elementClass===e.OBJECT_CLASS_CIRCLE)n.push(i.center.coords.usrCoords),"twoPoints"===i.method&&n.push(i.point2.coords.usrCoords);else if(i.type===e.OBJECT_TYPE_POLYGON)for(o=i.vertices.length-1,s=0;s<o;s++)n.push(i.vertices[s].coords.usrCoords);else if(i.type===e.OBJECT_TYPE_SECTOR)n.push(i.point1.coords.usrCoords),n.push(i.point2.coords.usrCoords),n.push(i.point3.coords.usrCoords);else if(d.isPoint(i)||i.type===e.OBJECT_TYPE_GLIDER)n.push(i.coords.usrCoords);else if(i.elementClass===e.OBJECT_CLASS_CURVE)i.points.length>0&&n.push(i.points[0].usrCoords);else try{n.push(i.coords.usrCoords)}catch(e){t.debug("JSXGraph+ saveStartPos: obj.coords.usrCoords not available: "+e)}for(o=n.length,s=0;s<o;s++)r.Zstart.push(n[s][0]),r.Xstart.push(n[s][1]),r.Ystart.push(n[s][2])},mouseOriginMoveStart:function(t){var e,i;return(e=this._isRequiredKeyPressed(t,"pan"))&&(i=this.getMousePosition(t),this.initMoveOrigin(i[0],i[1])),e},mouseOriginMove:function(t){var e,i=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return i&&(e=this.getMousePosition(t),this.moveOrigin(e[0],e[1],!0)),i},touchStartMoveOriginOneFinger:function(e){var i,r,s=e[t.touchProperty];return(i=this.attr.pan.enabled&&!this.attr.pan.needtwofingers&&1===s.length)&&(r=this.getMousePosition(e,0),this.initMoveOrigin(r[0],r[1])),i},touchOriginMove:function(t){var e,i=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return i&&(e=this.getMousePosition(t,0),this.moveOrigin(e[0],e[1],!0)),i},originMoveEnd:function(){this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE},addEventHandlers:function(){if(p.supportsPointerEvents()?this.addPointerEventHandlers():(this.addMouseEventHandlers(),this.addTouchEventHandlers()),null!==this.containerObj&&(this.containerObj.oncontextmenu=function(t){return d.exists(t)&&t.preventDefault(),!1}),this.addFullscreenEventHandlers(),this.addKeyboardEventHandlers(),p.isBrowser){try{this.startResizeObserver()}catch(t){p.addEvent(window,"resize",this.resizeListener,this),this.startIntersectionObserver()}p.addEvent(window,"scroll",this.scrollListener,this)}},removeEventHandlers:function(){this.removeMouseEventHandlers(),this.removeTouchEventHandlers(),this.removePointerEventHandlers(),this.removeFullscreenEventHandlers(),this.removeKeyboardEventHandlers(),p.isBrowser&&(d.exists(this.resizeObserver)?this.stopResizeObserver():(p.removeEvent(window,"resize",this.resizeListener,this),this.stopIntersectionObserver()),p.removeEvent(window,"scroll",this.scrollListener,this))},addPointerEventHandlers:function(){if(!this.hasPointerHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(p.addEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),p.addEvent(t,"MSPointerMove",this.pointerMoveListener,this)):(p.addEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),p.addEvent(t,"pointermove",this.pointerMoveListener,this)),p.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),null!==this.containerObj&&(this.containerObj.style.touchAction="none"),this.hasPointerHandlers=!0}},addMouseEventHandlers:function(){if(!this.hasMouseHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;p.addEvent(this.containerObj,"mousedown",this.mouseDownListener,this),p.addEvent(t,"mousemove",this.mouseMoveListener,this),p.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!0}},addTouchEventHandlers:function(t){if(!this.hasTouchHandlers&&p.isBrowser){var e=this.attr.movetarget||this.containerObj;p.addEvent(this.containerObj,"touchstart",this.touchStartListener,this),p.addEvent(e,"touchmove",this.touchMoveListener,this),this.hasTouchHandlers=!0}},addFullscreenEventHandlers:function(){var t,e=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],i=e.length;if(!this.hasFullsceenEventHandlers&&p.isBrowser){for(t=0;t<i;t++)p.addEvent(this.document,e[t],this.fullscreenListener,this);this.hasFullsceenEventHandlers=!0}},addKeyboardEventHandlers:function(){this.attr.keyboard.enabled&&!this.hasKeyboardHandlers&&p.isBrowser&&(p.addEvent(this.containerObj,"keydown",this.keyDownListener,this),p.addEvent(this.containerObj,"focusin",this.keyFocusInListener,this),p.addEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!0)},removeKeyboardEventHandlers:function(){this.hasKeyboardHandlers&&p.isBrowser&&(p.removeEvent(this.containerObj,"keydown",this.keyDownListener,this),p.removeEvent(this.containerObj,"focusin",this.keyFocusInListener,this),p.removeEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!1)},removeFullscreenEventHandlers:function(){var t,e=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],i=e.length;if(this.hasFullsceenEventHandlers&&p.isBrowser){for(t=0;t<i;t++)p.removeEvent(this.document,e[t],this.fullscreenListener,this);this.hasFullsceenEventHandlers=!1}},removePointerEventHandlers:function(){if(this.hasPointerHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(p.removeEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),p.removeEvent(t,"MSPointerMove",this.pointerMoveListener,this)):(p.removeEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),p.removeEvent(t,"pointermove",this.pointerMoveListener,this)),p.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasPointerUp&&(window.navigator.msPointerEnabled?p.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.removeEvent(this.document,"pointerup",this.pointerUpListener,this),p.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this.hasPointerHandlers=!1}},removeMouseEventHandlers:function(){if(this.hasMouseHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;p.removeEvent(this.containerObj,"mousedown",this.mouseDownListener,this),p.removeEvent(t,"mousemove",this.mouseMoveListener,this),this.hasMouseUp&&(p.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),p.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!1}},removeTouchEventHandlers:function(){if(this.hasTouchHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;p.removeEvent(this.containerObj,"touchstart",this.touchStartListener,this),p.removeEvent(t,"touchmove",this.touchMoveListener,this),this.hasTouchEnd&&(p.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.hasTouchHandlers=!1}},clickLeftArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]+.1*this.canvasWidth,this.origin.scrCoords[2]),this},clickRightArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]-.1*this.canvasWidth,this.origin.scrCoords[2]),this},clickUpArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]-.1*this.canvasHeight),this},clickDownArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]+.1*this.canvasHeight),this},gestureChangeListener:function(t){var r,s,o,a,h,l,c,u,p,f,m,g,b=!1,v=this.attr.zoom.factorx,y=this.attr.zoom.factory;return this.mode!==this.BOARD_MODE_ZOOM||(t.preventDefault(),l=n.distance([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY],2),void 0===t.scale&&(t.scale=l/this.prevDist),!!d.exists(this.prevCoords)&&(s=[t.touches[0].clientX-this.prevCoords[0][0],t.touches[0].clientY-this.prevCoords[0][1]],o=[t.touches[1].clientX-this.prevCoords[1][0],t.touches[1].clientY-this.prevCoords[1][1]],s[0]*s[0]+s[1]*s[1]<100&&o[0]*o[0]+o[1]*o[1]<100||(a=n.rad(s,[0,0],o),"pan"!==this.isPreviousGesture&&Math.abs(a)>.2*Math.PI&&Math.abs(a)<1.8*Math.PI&&(b=!0),"pan"===this.isPreviousGesture||b||(Math.abs(t.scale)<.77||Math.abs(t.scale)>1.3)&&(b=!0),h=t.scale/this.prevScale,this.prevScale=t.scale,this.prevCoords=[[t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]],r=new i(e.COORDS_BY_SCREEN,this.getMousePosition(t,0),this),this.attr.pan.enabled&&this.attr.pan.needtwofingers&&!b?(this.isPreviousGesture="pan",this.moveOrigin(r.scrCoords[1],r.scrCoords[2],!0)):this.attr.zoom.enabled&&Math.abs(h-1)<.5&&((this.attr.zoom.pinchhorizontal||this.attr.zoom.pinchvertical)&&(c=Math.abs(t.touches[0].clientX-t.touches[1].clientX),u=Math.abs(t.touches[0].clientY-t.touches[1].clientY),p=Math.abs(Math.atan2(u,c)),g=Math.PI*this.attr.zoom.pinchsensitivity/90),this.attr.zoom.pinchhorizontal&&p<g?(this.attr.zoom.factorx=h,this.attr.zoom.factory=1,f=0,m=0):this.attr.zoom.pinchvertical&&Math.abs(p-.5*Math.PI)<g?(this.attr.zoom.factorx=1,this.attr.zoom.factory=h,f=0,m=0):(this.attr.zoom.factorx=h,this.attr.zoom.factory=h,f=r.usrCoords[1],m=r.usrCoords[2]),this.zoomIn(f,m),this.attr.zoom.factorx=v,this.attr.zoom.factory=y)),!1))},gestureStartListener:function(t){var e;return t.preventDefault(),this.prevScale=1,this.prevDist=n.distance([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY],2),this.prevCoords=[[t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]],this.isPreviousGesture="none",e=this.getMousePosition(t,0),this.initMoveOrigin(e[0],e[1]),this.mode=this.BOARD_MODE_ZOOM,!1},_isRequiredKeyPressed:function(t,e){var i=this.attr[e];return!!i.enabled&&!(!(i.needshift&&t.shiftKey||!i.needshift&&!t.shiftKey)||!(i.needctrl&&t.ctrlKey||!i.needctrl&&!t.ctrlKey))},_isPointerRegistered:function(t){var e,i=this._board_touches.length;for(e=0;e<i;e++)if(this._board_touches[e].pointerId===t.pointerId)return!0;return!1},_pointerStorePosition:function(t){var e,i;for(e=0,i=!1;e<this._board_touches.length;e++)if(this._board_touches[e].pointerId===t.pointerId){this._board_touches[e].clientX=t.clientX,this._board_touches[e].clientY=t.clientY,i=!0;break}return!i&&this._board_touches.length<2&&this._board_touches.push({pointerId:t.pointerId,clientX:t.clientX,clientY:t.clientY}),this},_pointerRemoveTouches:function(t){var e;for(e=0;e<this._board_touches.length;e++)if(this._board_touches[e].pointerId===t.pointerId){this._board_touches.splice(e,1);break}return this},_pointerClearTouches:function(){this._board_touches.length>0&&this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE,this._board_touches=[],this.touches=[]},_getPointerInputDevice:function(t){if(p.isBrowser){if("touch"===t.pointerType||window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>1)return"touch";if("mouse"===t.pointerType)return"mouse";if("pen"===t.pointerType)return"pen"}return"mouse"},pointerDownListener:function(t,e){var i,r,s,o,n,a,h,l,c,u;if(!e&&this._isPointerRegistered(t))return!1;if(!e&&t.isPrimary&&this._pointerClearTouches(),this.hasPointerUp||(window.navigator.msPointerEnabled?p.addEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.addEvent(this.document,"pointerup",this.pointerUpListener,this),p.addEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!0),this.hasMouseHandlers&&this.removeMouseEventHandlers(),this.hasTouchHandlers&&this.removeTouchEventHandlers(),this.document.selection&&d.isFunction(this.document.selection.empty))this.document.selection.empty();else if(window.getSelection&&(a=window.getSelection()).removeAllRanges)try{a.removeAllRanges()}catch(t){}if(this._inputDevice=this._getPointerInputDevice(t),l=this._inputDevice,this.options.precision.hasPoint=this.options.precision[l],o=this.getMousePosition(t),this._testForSelection(t),this.selectingMode)return this._startSelecting(o),void this.triggerEventHandlers(["touchstartselecting","pointerstartselecting","startselecting"],[t]);if(this.attr.drag.enabled&&e?(n=[e],this.mode=this.BOARD_MODE_DRAG):n=this.initMoveObject(o[0],o[1],t,l),h={num:t.pointerId,X:o[0],Y:o[1],Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},n.length>0){for(u=n[n.length-1],c=!1,i=0;i<this.touches.length;i++)if(this.touches[i].obj===u){r=i,s=this.touches[i].targets.push(h)-1,c=!0;break}c||(s=0,r=this.touches.push({obj:u,targets:[h]})-1),this.dehighlightAll(),u.highlight(!0),this.saveStartPos(u,this.touches[r].targets[s]),t&&t.preventDefault?t.preventDefault():window.event&&(window.event.returnValue=!1)}return this.touches.length>0&&(t.preventDefault(),t.stopPropagation()),!!p.isBrowser&&("touch"!==this._getPointerInputDevice(t)?this.mode===this.BOARD_MODE_NONE&&this.mouseOriginMoveStart(t):(this._pointerStorePosition(t),t.touches=this._board_touches,1===t.touches.length&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(t)||2!==t.touches.length||this.mode!==this.BOARD_MODE_NONE&&this.mode!==this.BOARD_MODE_MOVE_ORIGIN||(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(t))),this.triggerEventHandlers(["touchstart","down","pointerdown","MSPointerDown"],[t]),!1)},pointerMoveListener:function(t){var e,i,r,s,o;if("touch"===this._getPointerInputDevice(t)&&!this._isPointerRegistered(t))return this.BOARD_MODE_NONE;if(!this.checkFrameRate(t))return!1;if(this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.mode!==this.BOARD_MODE_NONE&&(t.preventDefault(),t.stopPropagation()),this.updateQuality=this.BOARD_QUALITY_LOW,this._inputDevice=this._getPointerInputDevice(t),o=this._inputDevice,this.options.precision.hasPoint=this.options.precision[o],this.selectingMode)r=this.getMousePosition(t),this._moveSelecting(r),this.triggerEventHandlers(["touchmoveselecting","moveselecting","pointermoveselecting"],[t,this.mode]);else if(!this.mouseOriginMove(t))if(this.mode===this.BOARD_MODE_DRAG){for(e=0;e<this.touches.length;e++)for(s=this.touches[e].targets,i=0;i<s.length;i++)if(s[i].num===t.pointerId){r=this.getMousePosition(t),s[i].X=r[0],s[i].Y=r[1],1===s.length?this.moveObject(r[0],r[1],this.touches[e],t,o):2===s.length&&(this.twoFingerMove(this.touches[e],t.pointerId,t),s[i].Xprev=r[0],s[i].Yprev=r[1]);break}}else"touch"===this._getPointerInputDevice(t)&&(this._pointerStorePosition(t),2===this._board_touches.length&&(t.touches=this._board_touches,this.gestureChangeListener(t))),r=this.getMousePosition(t),this.highlightElements(r[0],r[1],t,-1);return this.triggerEventHandlers(["touchmove","move","pointermove","MSPointerMove"],[t,this.mode]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},pointerUpListener:function(t){var e,i,r,s;if(this.triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[t]),this.displayInfobox(!1),t)for(e=0;e<this.touches.length;e++)for(s=this.touches[e].targets,i=0;i<s.length;i++)if(s[i].num===t.pointerId){s.splice(i,1),0===s.length&&this.touches.splice(e,1);break}if(this.originMoveEnd(),this.update(),this.selectingMode)this._stopSelecting(t),this.triggerEventHandlers(["touchstopselecting","pointerstopselecting","stopselecting"],[t]),this.stopSelectionMode();else for(e=this.downObjects.length-1;e>-1;e--){for(r=!1,i=0;i<this.touches.length;i++)this.touches[i].obj.id===this.downObjects[e].id&&(r=!0);r||(this.downObjects[e].triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[t]),this.downObjects.splice(e,1))}return this.hasPointerUp&&(window.navigator.msPointerEnabled?p.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.removeEvent(this.document,"pointerup",this.pointerUpListener,this),p.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this._pointerClearTouches(),!0},touchStartListener:function(i){var s,o,n,a,h,l,c,u,f,m,g=this.options.precision.touch,b=i[t.touchProperty];for(this.hasTouchEnd||(p.addEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!0),this.document.selection&&d.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,s=0;s<b.length;s++)b[s].jxg_isused=!1;for(s=0;s<this.touches.length;s++)for(m=this.touches[s].targets,a=0;a<m.length;a++){m[a].num=-1,g=this.options.precision.touch;do{for(h=0;h<b.length;h++)if(Math.abs(Math.pow(b[h].screenX-m[a].X,2)+Math.pow(b[h].screenY-m[a].Y,2))<g*g){m[a].num=h,m[a].X=b[h].screenX,m[a].Y=b[h].screenY,b[h].jxg_isused=!0;break}g*=2}while(-1===m[a].num&&g<this.options.precision.touchMax);-1===m[a].num&&(t.debug("i couldn't find a targettouches for target no "+a+" on "+this.touches[s].obj.name+" ("+this.touches[s].obj.id+"). Removed the target."),t.debug("eps = "+g+", touchMax = "+r.precision.touchMax),m.splice(s,1))}for(s=0;s<b.length;s++)if(!b[s].jxg_isused){if(o=this.getMousePosition(i,s),this.selectingMode)return this._startSelecting(o),this.triggerEventHandlers(["touchstartselecting","startselecting"],[i]),i.preventDefault(),i.stopPropagation(),this.options.precision.hasPoint=this.options.precision.mouse,this.touches.length>0;if(0!==(n=this.initMoveObject(o[0],o[1],i,"touch")).length)if(l=n[n.length-1],f={num:s,X:b[s].screenX,Y:b[s].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},d.isPoint(l)||l.elementClass===e.OBJECT_CLASS_TEXT||l.type===e.OBJECT_TYPE_TICKS||l.type===e.OBJECT_TYPE_IMAGE)u=[f],this.saveStartPos(l,u[0]),this.touches.push({obj:l,targets:u}),l.highlight(!0);else if(l.elementClass===e.OBJECT_CLASS_LINE||l.elementClass===e.OBJECT_CLASS_CIRCLE||l.elementClass===e.OBJECT_CLASS_CURVE||l.type===e.OBJECT_TYPE_POLYGON){for(c=!1,a=0;a<this.touches.length;a++)l.id===this.touches[a].obj.id&&(c=!0,1===this.touches[a].targets.length&&(this.saveStartPos(l,f),this.touches[a].targets.push(f)),b[s].jxg_isused=!0);c||(u=[f],this.saveStartPos(l,u[0]),this.touches.push({obj:l,targets:u}),l.highlight(!0))}b[s].jxg_isused=!0}return this.touches.length>0&&(i.preventDefault(),i.stopPropagation()),1===b.length&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(i)||2!==b.length||this.mode!==this.BOARD_MODE_NONE&&this.mode!==this.BOARD_MODE_MOVE_ORIGIN||(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(i)),this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchstart","down"],[i]),!1},touchMoveListener:function(e){var i,r,s,o,n=e[t.touchProperty];if(!this.checkFrameRate(e))return!1;if(this.mode!==this.BOARD_MODE_NONE&&(e.preventDefault(),e.stopPropagation()),this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,this.updateQuality=this.BOARD_QUALITY_LOW,this.selectingMode){for(i=0;i<n.length;i++)if(!n[i].jxg_isused){r=this.getMousePosition(e,i),this._moveSelecting(r),this.triggerEventHandlers(["touchmoves","moveselecting"],[e,this.mode]);break}}else if(!this.touchOriginMove(e))if(this.mode===this.BOARD_MODE_DRAG){for(i=0;i<this.touches.length;i++)if(1===(o=this.touches[i].targets).length){if(n[o[0].num]){if((r=this.getMousePosition(e,o[0].num))[0]<0||r[0]>this.canvasWidth||r[1]<0||r[1]>this.canvasHeight)return;o[0].X=r[0],o[0].Y=r[1],this.moveObject(r[0],r[1],this.touches[i],e,"touch")}}else if(2===o.length&&o[0].num>-1&&o[1].num>-1&&n[o[0].num]&&n[o[1].num]){if(r=this.getMousePosition(e,o[0].num),s=this.getMousePosition(e,o[1].num),r[0]<0||r[0]>this.canvasWidth||r[1]<0||r[1]>this.canvasHeight||s[0]<0||s[0]>this.canvasWidth||s[1]<0||s[1]>this.canvasHeight)return;o[0].X=r[0],o[0].Y=r[1],o[1].X=s[0],o[1].Y=s[1],this.twoFingerMove(this.touches[i],o[0].num,e),this.twoFingerMove(this.touches[i],o[1].num),o[0].Xprev=r[0],o[0].Yprev=r[1],o[1].Xprev=s[0],o[1].Yprev=s[1]}}else 2===n.length&&this.gestureChangeListener(e),r=this.getMousePosition(e,0),this.highlightElements(r[0],r[1],e,-1);return this.mode!==this.BOARD_MODE_DRAG&&this.displayInfobox(!1),this.triggerEventHandlers(["touchmove","move"],[e,this.mode]),this.options.precision.hasPoint=this.options.precision.mouse,this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},touchEndListener:function(i){var r,s,o,n,a,h,l=this.options.precision.touch,c=[],u=i&&i[t.touchProperty];if(this.triggerEventHandlers(["touchend","up"],[i]),this.displayInfobox(!1),this.selectingMode)this._stopSelecting(i),this.triggerEventHandlers(["touchstopselecting","stopselecting"],[i]),this.stopSelectionMode();else if(u&&u.length>0){for(r=0;r<this.touches.length;r++)c[r]=this.touches[r];for(this.touches.length=0,r=0;r<u.length;r++)u[r].jxg_isused=!1;for(r=0;r<c.length;r++){for(n=!1,a=0,h=c[r].targets,s=0;s<h.length;s++)for(h[s].found=!1,o=0;o<u.length;o++)if(Math.abs(Math.pow(u[o].screenX-h[s].X,2)+Math.pow(u[o].screenY-h[s].Y,2))<l*l){h[s].found=!0,h[s].num=o,h[s].X=u[o].screenX,h[s].Y=u[o].screenY,a+=1;break}if(d.isPoint(c[r].obj)?n=h[0]&&h[0].found:c[r].obj.elementClass===e.OBJECT_CLASS_LINE?n=h[0]&&h[0].found||h[1]&&h[1].found:c[r].obj.elementClass===e.OBJECT_CLASS_CIRCLE&&(n=1===a||3===a),n)for(this.touches.push({obj:c[r].obj,targets:[]}),s=0;s<h.length;s++)h[s].found&&this.touches[this.touches.length-1].targets.push({num:h[s].num,X:h[s].screenX,Y:h[s].screenY,Xprev:NaN,Yprev:NaN,Xstart:h[s].Xstart,Ystart:h[s].Ystart,Zstart:h[s].Zstart});else c[r].obj.noHighlight()}}else this.touches.length=0;for(r=this.downObjects.length-1;r>-1;r--){for(n=!1,s=0;s<this.touches.length;s++)this.touches[s].obj.id===this.downObjects[r].id&&(n=!0);n||(this.downObjects[r].triggerEventHandlers(["touchup","up"],[i]),this.downObjects.splice(r,1))}return u&&0!==u.length||(this.hasTouchEnd&&(p.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),this.update()),!0},mouseDownListener:function(t){var e,i,r;if(this.document.selection&&d.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),!this.hasMouseUp)return p.addEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!0,this._inputDevice="mouse",this.options.precision.hasPoint=this.options.precision.mouse,e=this.getMousePosition(t),this._testForSelection(t),this.selectingMode?(this._startSelecting(e),void this.triggerEventHandlers(["mousestartselecting","startselecting"],[t])):(0===(i=this.initMoveObject(e[0],e[1],t,"mouse")).length?(this.mode=this.BOARD_MODE_NONE,r=!0):(this.mouse={obj:null,targets:[{X:e[0],Y:e[1],Xprev:NaN,Yprev:NaN}]},this.mouse.obj=i[i.length-1],this.dehighlightAll(),this.mouse.obj.highlight(!0),this.mouse.targets[0].Xstart=[],this.mouse.targets[0].Ystart=[],this.mouse.targets[0].Zstart=[],this.saveStartPos(this.mouse.obj,this.mouse.targets[0]),t&&t.preventDefault?t.preventDefault():window.event&&(window.event.returnValue=!1)),this.mode===this.BOARD_MODE_NONE&&(r=this.mouseOriginMoveStart(t)),this.triggerEventHandlers(["mousedown","down"],[t]),r)},mouseMoveListener:function(t){var e;if(!this.checkFrameRate(t))return!1;e=this.getMousePosition(t),this.updateQuality=this.BOARD_QUALITY_LOW,this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.selectingMode?(this._moveSelecting(e),this.triggerEventHandlers(["mousemoveselecting","moveselecting"],[t,this.mode])):this.mouseOriginMove(t)||(this.mode===this.BOARD_MODE_DRAG?this.moveObject(e[0],e[1],this.mouse,t,"mouse"):this.highlightElements(e[0],e[1],t,-1),this.triggerEventHandlers(["mousemove","move"],[t,this.mode])),this.updateQuality=this.BOARD_QUALITY_HIGH},mouseUpListener:function(t){var e;if(!1===this.selectingMode&&this.triggerEventHandlers(["mouseup","up"],[t]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),this.dehighlightAll(),this.update(),this.selectingMode)this._stopSelecting(t),this.triggerEventHandlers(["mousestopselecting","stopselecting"],[t]),this.stopSelectionMode();else for(e=0;e<this.downObjects.length;e++)this.downObjects[e].triggerEventHandlers(["mouseup","up"],[t]);this.downObjects.length=0,this.hasMouseUp&&(p.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.mouse=null},mouseWheelListener:function(t){if(!this.attr.zoom.wheel||!this._isRequiredKeyPressed(t,"zoom"))return!0;var r=(t=t||window.event).detail?-t.detail:t.wheelDelta/40,s=new i(e.COORDS_BY_SCREEN,this.getMousePosition(t),this);return r>0?this.zoomIn(s.usrCoords[1],s.usrCoords[2]):this.zoomOut(s.usrCoords[1],s.usrCoords[2]),this.triggerEventHandlers(["mousewheel"],[t]),t.preventDefault(),!1},keyDownListener:function(i){var r,s,o,n,a,h=i.target.id,l=0,c=0,u=d.evaluate(this.attr.keyboard.dx)/this.unitX,p=d.evaluate(this.attr.keyboard.dy)/this.unitY,f=!1,m=!0;return!(!this.attr.keyboard.enabled||""===h)&&(r=h.replace(this.containerObj.id+"_",""),s=this.select(r),d.exists(s.coords)&&(a=s.coords.usrCoords.slice(1)),(d.evaluate(this.attr.keyboard.panshift)||d.evaluate(this.attr.keyboard.panctrl))&&(f=!0),d.evaluate(this.attr.keyboard.panshift)&&i.shiftKey||d.evaluate(this.attr.keyboard.panctrl)&&i.ctrlKey?38===i.keyCode?this.clickUpArrow():40===i.keyCode?this.clickDownArrow():37===i.keyCode?this.clickLeftArrow():39===i.keyCode?this.clickRightArrow():m=!1:(d.exists(s.visProp)&&(d.exists(s.visProp.snaptogrid)&&s.visProp.snaptogrid&&d.evaluate(s.visProp.snapsizex)&&d.evaluate(s.visProp.snapsizey)?(l=(o=s.getSnapSizes())[0],c=o[1],u=Math.max(l,u),p=Math.max(c,p)):d.exists(s.visProp.attracttogrid)&&s.visProp.attracttogrid&&d.evaluate(s.visProp.attractordistance)&&d.evaluate(s.visProp.attractorunit)&&(c=l=1.1*d.evaluate(s.visProp.attractordistance),"screen"===d.evaluate(s.visProp.attractorunit)&&(l/=this.unitX,c/=this.unitX),u=Math.max(l,u),p=Math.max(c,p))),38===i.keyCode?n=[0,p]:40===i.keyCode?n=[0,-p]:37===i.keyCode?n=[-u,0]:39===i.keyCode?n=[u,0]:f&&"+"===i.key?this.zoomIn():f&&"-"===i.key?this.zoomOut():f&&"o"===i.key?this.zoom100():m=!1,n&&s.isDraggable&&s.visPropCalc.visible&&(this.geonextCompatibilityMode&&(d.isPoint(s)||s.elementClass===e.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!d.evaluate(s.visProp.fixed)&&(d.exists(s.coords)&&(n[0]+=a[0],n[1]+=a[1]),s.setPosition(t.COORDS_BY_USER,n),d.exists(s.coords)&&this.updateInfobox(s),this.triggerEventHandlers(["hit"],[i,s]))),this.update(),m&&d.exists(i.preventDefault)&&i.preventDefault(),!0)},keyFocusInListener:function(t){var e,i,r=t.target.id;if(!this.attr.keyboard.enabled||""===r)return!1;e=r.replace(this.containerObj.id+"_",""),i=this.select(e),d.exists(i.highlight)&&i.highlight(!0),d.exists(i.coords)&&this.updateInfobox(i),this.triggerEventHandlers(["hit"],[t,i])},keyFocusOutListener:function(t){if(!this.attr.keyboard.enabled)return!1;this.dehighlightAll(),this.displayInfobox(!1)},updateContainerDims:function(){var t,e,i,r;t=(i=this.containerObj.getBoundingClientRect()).width,e=i.height,window&&window.getComputedStyle&&(r=window.getComputedStyle(this.containerObj,null),t-=parseFloat(r.getPropertyValue("border-left-width"))+parseFloat(r.getPropertyValue("border-right-width")),e-=parseFloat(r.getPropertyValue("border-top-width"))+parseFloat(r.getPropertyValue("border-bottom-width"))),t<=0||e<=0||d.isNaN(t)||d.isNaN(e)||(isNaN(this.getBoundingBox()[0])&&this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"keep"),d.exists(this._prevDim)&&this._prevDim.w===t&&this._prevDim.h===e||(this.resizeContainer(t,e,!0),this._prevDim={w:t,h:e}))},startResizeObserver:function(){var t=this;p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this.resizeObserver=new ResizeObserver((function(e){t._isResizing||(t._isResizing=!0,window.setTimeout((function(){try{t.updateContainerDims()}catch(e){t.stopResizeObserver()}finally{t._isResizing=!1}}),t.attr.resize.throttle))})),this.resizeObserver.observe(this.containerObj))},stopResizeObserver:function(){p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&d.exists(this.resizeObserver)&&this.resizeObserver.unobserve(this.containerObj)},resizeListener:function(){var t=this;p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this._isScrolling||this._isResizing||(this._isResizing=!0,window.setTimeout((function(){t.updateContainerDims(),t._isResizing=!1}),this.attr.resize.throttle)))},scrollListener:function(t){var e=this;p.isBrowser&&(this._isScrolling||(this._isScrolling=!0,window.setTimeout((function(){e._isScrolling=!1}),66)))},startIntersectionObserver:function(){var t=this;try{this.intersectionObserver=new IntersectionObserver((function(e){isNaN(t.getBoundingBox()[0])&&t.updateContainerDims()}),{root:null,rootMargin:"0px",threshold:.8}),this.intersectionObserver.observe(t.containerObj)}catch(t){console.log("JSXGraph: IntersectionObserver not available in this browser.")}},stopIntersectionObserver:function(){d.exists(this.intersectionObserver)&&this.intersectionObserver.unobserve(this.containerObj)},initInfobox:function(){var t=d.copyAttributes({},this.options,"infobox");return t.id=this.id+"_infobox",this.infobox=this.create("text",[0,0,"0,0"],t),this.infobox.distanceX=-20,this.infobox.distanceY=25,this.infobox.dump=!1,this.displayInfobox(!1),this},updateInfobox:function(t){var e,i,r,s,o,n=d.evaluate(t.visProp.showinfobox);return!d.evaluate(this.attr.showinfobox)&&"inherit"===n||!n||d.isPoint(t)&&(r=t.coords.usrCoords[1],s=t.coords.usrCoords[2],o=d.evaluate(t.visProp.infoboxdigits),this.infobox.setCoords(r+this.infobox.distanceX/this.unitX,s+this.infobox.distanceY/this.unitY),"string"!=typeof t.infoboxText?("auto"===o?(e=d.autoDigits(r),i=d.autoDigits(s)):d.isNumber(o)?(e=d.toFixed(r,o),i=d.toFixed(s,o)):(e=r,i=s),this.highlightInfobox(e,i,t)):this.highlightCustomInfobox(t.infoboxText,t),this.displayInfobox(!0)),this},displayInfobox:function(t){return this.infobox.hiddenByParent===t&&(this.infobox.hiddenByParent=!t,this.infobox.prepareUpdate().updateVisibility(t).updateRenderer()),this},showInfobox:function(t){return this.displayInfobox(t)},highlightInfobox:function(t,e,i){return this.highlightCustomInfobox("("+t+", "+e+")",i),this},highlightCustomInfobox:function(t,e){return this.infobox.setText(t),this},dehighlightAll:function(){var t,e,i=!1;for(t in this.highlightedObjects)this.highlightedObjects.hasOwnProperty(t)&&(e=this.highlightedObjects[t],(this.hasMouseHandlers||this.hasPointerHandlers)&&e.noHighlight(),i=!0);return this.highlightedObjects={},"canvas"===this.renderer.type&&i&&(this.prepareUpdate(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw()),this},getScrCoordsOfMouse:function(t,e){return[t,e]},getUsrCoordsOfMouse:function(t){var r=this.getCoordsTopLeftCorner(),s=p.getPosition(t,null,this.document),o=s[0]-r[0],n=s[1]-r[1];return new i(e.COORDS_BY_SCREEN,[o,n],this).usrCoords.slice(1)},getAllUnderMouse:function(t){var e=this.getAllObjectsUnderMouse(t);return e.push(this.getUsrCoordsOfMouse(t)),e},getAllObjectsUnderMouse:function(t){var e,i,r=this.getCoordsTopLeftCorner(),s=p.getPosition(t,null,this.document),o=s[0]-r[0],n=s[1]-r[1],a=[],h=this.objectsList.length;for(e=0;e<h;e++)(i=this.objectsList[e]).visPropCalc.visible&&i.hasPoint&&i.hasPoint(o,n)&&(a[a.length]=i);return a},updateCoords:function(){var t,e,i=this.objectsList.length;for(e=0;e<i;e++)t=this.objectsList[e],d.exists(t.coords)&&(d.evaluate(t.visProp.frozen)?t.coords.screen2usr():t.coords.usr2screen());return this},moveOrigin:function(t,r,s){var o,n,a,h;return d.exists(t)&&d.exists(r)&&(o=this.origin.scrCoords[1],n=this.origin.scrCoords[2],this.origin.scrCoords[1]=t,this.origin.scrCoords[2]=r,s&&(this.origin.scrCoords[1]-=this.drag_dx,this.origin.scrCoords[2]-=this.drag_dy),a=new i(e.COORDS_BY_SCREEN,[0,0],this).usrCoords,h=new i(e.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords,(a[1]<this.maxboundingbox[0]||a[2]>this.maxboundingbox[1]||h[1]>this.maxboundingbox[2]||h[2]<this.maxboundingbox[3])&&(this.origin.scrCoords[1]=o,this.origin.scrCoords[2]=n)),this.updateCoords().clearTraces().fullUpdate(),this.triggerEventHandlers(["boundingbox"]),this},addConditions:function(i){var r,s,o,n,a,h,l,u=[],p=i.indexOf("<data>"),f=i.indexOf("</data>"),m=function(t,i,r,s){return function(){var o,n;n=(o=t.select(i.id)).coords.usrCoords[s],2===s?o.setPositionDirectly(e.COORDS_BY_USER,[r(),n]):o.setPositionDirectly(e.COORDS_BY_USER,[n,r()]),o.prepareUpdate().update()}},g=function(t,e,i){return function(){var r,s;r=t.select(e.id),s=i(),r.setAttribute({visible:s})}},b=function(t,e,i,r){return function(){var s,o;s=t.select(e.id),o=i(),"strokewidth"===r?s.visProp.strokewidth=o:(o=c.rgba2rgbo(o),s.visProp[r+"color"]=o[0],s.visProp[r+"opacity"]=o[1])}},v=function(t,e,i){return function(){t.select(e.id).position=i()}},y=function(t,e,i){return function(){t.select(e.id).setStyle(i())}};if(!(p<0)){for(;p>=0;){if(s=(r=i.slice(p+6,f)).indexOf("="),o=r.slice(0,s),n=r.slice(s+1),s=o.indexOf("."),a=o.slice(0,s),h=this.elementsByName[d.unescapeHTML(a)],l=o.slice(s+1).replace(/\s+/g,"").toLowerCase(),n=d.createFunction(n,this,"",!0),d.exists(this.elementsByName[a]))switch(l){case"x":u.push(m(this,h,n,2));break;case"y":u.push(m(this,h,n,1));break;case"visible":u.push(g(this,h,n));break;case"position":u.push(v(this,h,n));break;case"stroke":u.push(b(this,h,n,"stroke"));break;case"style":u.push(y(this,h,n));break;case"strokewidth":u.push(b(this,h,n,"strokewidth"));break;case"fill":u.push(b(this,h,n,"fill"));break;case"label":break;default:t.debug("property '"+l+"' in conditions not yet implemented:"+n)}else t.debug("debug conditions: |"+a+"| undefined");p=(i=i.slice(f+7)).indexOf("<data>"),f=i.indexOf("</data>")}this.updateConditions=function(){var t;for(t=0;t<u.length;t++)u[t]();return this.prepareUpdate().updateElements(),!0},this.updateConditions()}},updateConditions:function(){return!1},calculateSnapSizes:function(){var t=new i(e.COORDS_BY_USER,[0,0],this),r=new i(e.COORDS_BY_USER,[this.options.grid.gridX,this.options.grid.gridY],this),s=t.scrCoords[1]-r.scrCoords[1],o=t.scrCoords[2]-r.scrCoords[2];for(this.options.grid.snapSizeX=this.options.grid.gridX;Math.abs(s)>25;)this.options.grid.snapSizeX*=2,s/=2;for(this.options.grid.snapSizeY=this.options.grid.gridY;Math.abs(o)>25;)this.options.grid.snapSizeY*=2,o/=2;return this},applyZoom:function(){return this.updateCoords().calculateSnapSizes().clearTraces().fullUpdate(),this},zoomIn:function(t,e){var i=this.getBoundingBox(),r=this.attr.zoom.factorx,s=this.attr.zoom.factory,o=(i[2]-i[0])*(1-1/r),n=(i[1]-i[3])*(1-1/s),a=.5,h=.5,l=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX>this.attr.zoom.max&&r>1||this.zoomY>this.attr.zoom.max&&s>1||this.zoomX<l&&r<1||this.zoomY<l&&s<1?this:(d.isNumber(t)&&d.isNumber(e)&&(a=(t-i[0])/(i[2]-i[0]),h=(i[1]-e)/(i[1]-i[3])),this.setBoundingBox([i[0]+o*a,i[1]-n*h,i[2]-o*(1-a),i[3]+n*(1-h)],this.keepaspectratio,"update"),this.applyZoom())},zoomOut:function(t,e){var i=this.getBoundingBox(),r=this.attr.zoom.factorx,s=this.attr.zoom.factory,o=(i[2]-i[0])*(1-r),n=(i[1]-i[3])*(1-s),a=.5,h=.5,l=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX<l||this.zoomY<l?this:(d.isNumber(t)&&d.isNumber(e)&&(a=(t-i[0])/(i[2]-i[0]),h=(i[1]-e)/(i[1]-i[3])),this.setBoundingBox([i[0]+o*a,i[1]-n*h,i[2]-o*(1-a),i[3]+n*(1-h)],this.keepaspectratio,"update"),this.applyZoom())},zoom100:function(){var t,e,i;return d.exists(this.attr.boundingbox)?this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"reset"):(e=((t=this.getBoundingBox())[2]-t[0])*(1-this.zoomX)*.5,i=(t[1]-t[3])*(1-this.zoomY)*.5,this.setBoundingBox([t[0]+e,t[1]-i,t[2]-e,t[3]+i],this.keepaspectratio,"reset")),this.applyZoom()},zoomAllPoints:function(){var t,e,i,r,s=0,o=0,n=0,a=0,h=this.objectsList.length;for(t=0;t<h;t++)r=this.objectsList[t],d.isPoint(r)&&r.visPropCalc.visible&&(r.coords.usrCoords[1]<s?s=r.coords.usrCoords[1]:r.coords.usrCoords[1]>o&&(o=r.coords.usrCoords[1]),r.coords.usrCoords[2]>a?a=r.coords.usrCoords[2]:r.coords.usrCoords[2]<n&&(n=r.coords.usrCoords[2]));return 50,e=50/this.unitX,i=50/this.unitY,this.setBoundingBox([s-e,a+i,o+e,n-i],this.keepaspectratio,"update"),this.applyZoom()},zoomElements:function(t){var e,i,r,s,o,n,a,h=[1/0,-1/0,-1/0,1/0];if(!d.isArray(t)||0===t.length)return this;for(e=0;e<t.length;e++)i=this.select(t[e]).bounds(),d.isArray(i)&&(i[0]<h[0]&&(h[0]=i[0]),i[1]>h[1]&&(h[1]=i[1]),i[2]>h[2]&&(h[2]=i[2]),i[3]<h[3]&&(h[3]=i[3]));return d.isArray(h)&&(r=.5*(h[0]+h[2]),s=.5*(h[1]+h[3]),o=1.5*(h[2]-h[0])*.5,n=1.5*(h[1]-h[3])*.5,a=Math.max(o,n),this.setBoundingBox([r-a,s+a,r+a,s-a],this.keepaspectratio,"update")),this},setZoom:function(t,e){var i=this.attr.zoom.factorx,r=this.attr.zoom.factory;return this.attr.zoom.factorx=t/this.zoomX,this.attr.zoom.factory=e/this.zoomY,this.zoomIn(),this.attr.zoom.factorx=i,this.attr.zoom.factory=r,this},removeObject:function(i,r){var s,o;if(d.isArray(i)){for(o=0;o<i.length;o++)this.removeObject(i[o]);return this}if(i=this.select(i),!d.exists(i)||d.isString(i))return this;try{for(s in i.childElements)i.childElements.hasOwnProperty(s)&&i.childElements[s].board.removeObject(i.childElements[s]);for(s in i.objects)i.objects.hasOwnProperty(s)&&i.objects[s].board.removeObject(i.objects[s]);if(r)for(s in this.objects)this.objects.hasOwnProperty(s)&&d.exists(this.objects[s].childElements)&&d.exists(this.objects[s].childElements.hasOwnProperty(i.id))&&(delete this.objects[s].childElements[i.id],delete this.objects[s].descendants[i.id]);else if(d.exists(i.ancestors))for(s in i.ancestors)i.ancestors.hasOwnProperty(s)&&d.exists(i.ancestors[s].childElements)&&d.exists(i.ancestors[s].childElements.hasOwnProperty(i.id))&&(delete i.ancestors[s].childElements[i.id],delete i.ancestors[s].descendants[i.id]);if(i._pos>-1)for(this.objectsList.splice(i._pos,1),s=i._pos;s<this.objectsList.length;s++)this.objectsList[s]._pos--;else i.type!==e.OBJECT_TYPE_TURTLE&&t.debug("Board.removeObject: object "+i.id+" not found in list.");delete this.objects[i.id],delete this.elementsByName[i.name],i.visProp&&d.evaluate(i.visProp.trace)&&i.clearTrace(),d.exists(i.remove)&&i.remove()}catch(e){t.debug(i.id+": Could not be removed: "+e)}return this.update(),this},removeAncestors:function(t){var e;for(e in t.ancestors)t.ancestors.hasOwnProperty(e)&&this.removeAncestors(t.ancestors[e]);return this.removeObject(t),this},initGeonextBoard:function(){var t,e,i;return t=this.create("point",[0,0],{id:this.id+"g00e0",name:"Ursprung",withLabel:!1,visible:!1,fixed:!0}),e=this.create("point",[1,0],{id:this.id+"gX0e0",name:"Punkt_1_0",withLabel:!1,visible:!1,fixed:!0}),i=this.create("point",[0,1],{id:this.id+"gY0e0",name:"Punkt_0_1",withLabel:!1,visible:!1,fixed:!0}),this.create("line",[t,e],{id:this.id+"gXLe0",name:"X-Achse",withLabel:!1,visible:!1}),this.create("line",[t,i],{id:this.id+"gYLe0",name:"Y-Achse",withLabel:!1,visible:!1}),this},resizeContainer:function(t,e,i,r){var s;return r||(s=this.getBoundingBox()),this.canvasWidth=parseFloat(t),this.canvasHeight=parseFloat(e),i||(this.containerObj.style.width=this.canvasWidth+"px",this.containerObj.style.height=this.canvasHeight+"px"),this.renderer.resize(this.canvasWidth,this.canvasHeight),r||this.setBoundingBox(s,this.keepaspectratio,"keep"),this},showDependencies:function(){var t,e,i,r,s;for(t in e="<p>\n",this.objects)if(this.objects.hasOwnProperty(t)){for(i in s=0,this.objects[t].childElements)this.objects[t].childElements.hasOwnProperty(i)&&(s+=1);for(i in s>=0&&(e+="<strong>"+this.objects[t].id+":</strong> "),this.objects[t].childElements)this.objects[t].childElements.hasOwnProperty(i)&&(e+=this.objects[t].childElements[i].id+"("+this.objects[t].childElements[i].name+"), ");e+="<p>\n"}return e+="</p>\n",(r=window.open()).document.open(),r.document.write(e),r.document.close(),this},showXML:function(){var t=window.open("");return t.document.open(),t.document.write("<pre>"+d.escapeHTML(this.xmlString)+"</pre>"),t.document.close(),this},prepareUpdate:function(){var t,e,i=this.objectsList.length;for(t=0;t<i;t++)(e=this.objectsList[t]).needsUpdate=e.needsRegularUpdate||this.needsFullUpdate;for(t in this.groups)this.groups.hasOwnProperty(t)&&((e=this.groups[t]).needsUpdate=e.needsRegularUpdate||this.needsFullUpdate);return this},updateElements:function(t){var i,r;for(t=this.select(t),i=0;i<this.objectsList.length;i++)r=this.objectsList[i],this.needsFullUpdate&&r.elementClass===e.OBJECT_CLASS_TEXT&&r.updateSize(),r.update(!d.exists(t)||r.id!==t.id).updateVisibility();for(i in this.groups)this.groups.hasOwnProperty(i)&&this.groups[i].update(t);return this},updateRenderer:function(){var t,e=this.objectsList.length;if("canvas"===this.renderer.type)this.updateRendererCanvas();else for(t=0;t<e;t++)this.objectsList[t].updateRenderer();return this},updateRendererCanvas:function(){var t,e,i,r,s,o=this.objectsList.length,n=this.options.layer,a=this.options.layer.numlayers,h=Number.NEGATIVE_INFINITY;for(i=0;i<a;i++){for(s in r=Number.POSITIVE_INFINITY,n)n.hasOwnProperty(s)&&n[s]>h&&n[s]<r&&(r=n[s]);for(h=r,t=0;t<o;t++)(e=this.objectsList[t]).visProp.layer===r&&e.prepareUpdate().updateRenderer()}return this},addHook:function(e,i,r){return t.deprecated("Board.addHook()","Board.on()"),i=d.def(i,"update"),r=d.def(r,this),this.hooks.push([i,e]),this.on(i,e,r),this.hooks.length-1},addEvent:t.shortcut(t.Board.prototype,"on"),removeHook:function(e){return t.deprecated("Board.removeHook()","Board.off()"),this.hooks[e]&&(this.off(this.hooks[e][0],this.hooks[e][1]),this.hooks[e]=null),this},removeEvent:t.shortcut(t.Board.prototype,"off"),updateHooks:function(e){var i=Array.prototype.slice.call(arguments,0);return t.deprecated("Board.updateHooks()","Board.triggerEventHandlers()"),i[0]=d.def(i[0],"update"),this.triggerEventHandlers([i[0]],arguments),this},addChild:function(t){return d.exists(t)&&d.exists(t.containerObj)&&(this.dependentBoards.push(t),this.update()),this},removeChild:function(t){var e;for(e=this.dependentBoards.length-1;e>=0;e--)this.dependentBoards[e]===t&&this.dependentBoards.splice(e,1);return this},update:function(t){var e,i,r,s,o;if(this.inUpdate||this.isSuspendedUpdate)return this;for(this.inUpdate=!0,"all"===this.attr.minimizereflow&&this.containerObj&&"vml"!==this.renderer.type&&(o=this.document.activeElement,s=this.renderer.removeToInsertLater(this.containerObj)),"svg"===this.attr.minimizereflow&&"svg"===this.renderer.type&&(o=this.document.activeElement,s=this.renderer.removeToInsertLater(this.renderer.svgRoot)),this.prepareUpdate().updateElements(t).updateConditions(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw(),this.triggerEventHandlers(["update"],[]),s&&(s(),o.focus()),i=this.dependentBoards.length,e=0;e<i;e++)r=this.dependentBoards[e],d.exists(r)&&r!==this&&(r.updateQuality=this.updateQuality,r.prepareUpdate().updateElements().updateConditions(),r.renderer.suspendRedraw(),r.updateRenderer(),r.renderer.unsuspendRedraw(),r.triggerEventHandlers(["update"],[]));return this.inUpdate=!1,this},fullUpdate:function(){return this.needsFullUpdate=!0,this.update(),this.needsFullUpdate=!1,this},addGrid:function(){return this.create("grid",[]),this},removeGrids:function(){var t;for(t=0;t<this.grids.length;t++)this.removeObject(this.grids[t]);return this.grids.length=0,this.update(),this},create:function(e,i,r){var s,o;for(e=e.toLowerCase(),d.exists(i)||(i=[]),d.exists(r)||(r={}),o=0;o<i.length;o++)!d.isString(i[o])||"text"===e&&2===o||"solidofrevolution3d"===e&&2===o||!("input"!==e&&"checkbox"!==e&&"button"!==e||2!==o&&3!==o)||"curve"===e&&o>0||(i[o]=this.select(i[o]));if(!d.isFunction(t.elements[e]))throw new Error("JSXGraph: create: Unknown element type given: "+e);return s=t.elements[e](this,i,r),d.exists(s)?(s.prepareUpdate&&s.update&&s.updateRenderer&&s.fullUpdate(),s):(t.debug("JSXGraph: create: failure creating "+e),s)},createElement:function(){return t.deprecated("Board.createElement()","Board.create()"),this.create.apply(this,arguments)},clearTraces:function(){var t;for(t=0;t<this.objectsList.length;t++)this.objectsList[t].clearTrace();return this.numTraces=0,this},suspendUpdate:function(){return this.inUpdate||(this.isSuspendedUpdate=!0),this},unsuspendUpdate:function(){return this.isSuspendedUpdate&&(this.isSuspendedUpdate=!1,this.fullUpdate()),this},setBoundingBox:function(t,e,i){var r,s,o,n,a=0,h=0,l=p.getDimensions(this.container,this.document);return d.isArray(t)?(t[0]<this.maxboundingbox[0]||t[1]>this.maxboundingbox[1]||t[2]>this.maxboundingbox[2]||t[3]<this.maxboundingbox[3]||(d.exists(i)||(i="reset"),o=this.unitX,n=this.unitY,this.canvasWidth=parseInt(l.width,10),this.canvasHeight=parseInt(l.height,10),s=this.canvasWidth,r=this.canvasHeight,e?(this.unitX=s/(t[2]-t[0]),this.unitY=r/(t[1]-t[3]),Math.abs(this.unitX)<Math.abs(this.unitY)?(this.unitY=Math.abs(this.unitX)*this.unitY/Math.abs(this.unitY),h=.5*(r/this.unitY-(t[1]-t[3]))):(this.unitX=Math.abs(this.unitY)*this.unitX/Math.abs(this.unitX),a=.5*(s/this.unitX-(t[2]-t[0]))),this.keepaspectratio=!0):(this.unitX=s/(t[2]-t[0]),this.unitY=r/(t[1]-t[3]),this.keepaspectratio=!1),this.moveOrigin(-this.unitX*(t[0]-a),this.unitY*(t[1]+h)),"update"===i?(this.zoomX*=this.unitX/o,this.zoomY*=this.unitY/n):"reset"===i&&(this.zoomX=d.exists(this.attr.zoomx)?this.attr.zoomx:1,this.zoomY=d.exists(this.attr.zoomy)?this.attr.zoomy:1)),this):this},getBoundingBox:function(){var t=new i(e.COORDS_BY_SCREEN,[0,0],this).usrCoords,r=new i(e.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords;return[t[1],t[2],r[1],r[2]]},addAnimation:function(t){var e=this;return this.animationObjects[t.id]=t,this.animationIntervalCode||(this.animationIntervalCode=window.setInterval((function(){e.animate()}),t.board.attr.animationdelay)),this},stopAllAnimation:function(){var t;for(t in this.animationObjects)this.animationObjects.hasOwnProperty(t)&&d.exists(this.animationObjects[t])&&(this.animationObjects[t]=null,delete this.animationObjects[t]);return window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode,this},animate:function(){var t,i,r,s,o,n,a,h,l=0,c=null;for(i in this.animationObjects)if(this.animationObjects.hasOwnProperty(i)&&d.exists(this.animationObjects[i])){if(l+=1,(r=this.animationObjects[i]).animationPath&&(s=d.isFunction(r.animationPath)?r.animationPath((new Date).getTime()-r.animationStart):r.animationPath.pop(),!d.exists(s)||!d.isArray(s)&&isNaN(s)?delete r.animationPath:(r.setPositionDirectly(e.COORDS_BY_USER,s),r.fullUpdate(),c=r)),r.animationData){for(o in a=0,r.animationData)r.animationData.hasOwnProperty(o)&&(n=r.animationData[o].pop(),d.exists(n)?(a+=1,(t={})[o]=n,r.setAttribute(t)):delete r.animationData[n]);0===a&&delete r.animationData}d.exists(r.animationData)||d.exists(r.animationPath)||(this.animationObjects[i]=null,delete this.animationObjects[i],d.exists(r.animationCallback)&&(h=r.animationCallback,r.animationCallback=null,h()))}return 0===l?(window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode):this.update(c),this},migratePoint:function(t,e,i){var r,s,o,n,a,h,l=!1;for(s in t=this.select(t),e=this.select(e),d.exists(t.label)&&(h=t.label.id,l=!0,this.removeObject(t.label)),t.childElements)if(t.childElements.hasOwnProperty(s)){for(o in n=!1,r=t.childElements[s])r.hasOwnProperty(o)&&r[o]===t&&(r[o]=e,n=!0);for(n&&delete t.childElements[s],a=0;a<r.parents.length;a++)r.parents[a]===t.id&&(r.parents[a]=e.id);e.addChild(r)}return i&&(l&&(delete e.childElements[h],delete e.descendants[h]),e.label&&this.removeObject(e.label),delete this.elementsByName[e.name],e.name=t.name,l&&e.createLabel()),this.removeObject(t),d.exists(e.name)&&""!==e.name&&(this.elementsByName[e.name]=e),this.fullUpdate(),this},emulateColorblindness:function(e){var i,r;if(d.exists(e)||(e="none"),this.currentCBDef===e)return this;for(i in this.objects)this.objects.hasOwnProperty(i)&&(r=this.objects[i],"none"!==e?("none"===this.currentCBDef&&(r.visPropOriginal={strokecolor:r.visProp.strokecolor,fillcolor:r.visProp.fillcolor,highlightstrokecolor:r.visProp.highlightstrokecolor,highlightfillcolor:r.visProp.highlightfillcolor}),r.setAttribute({strokecolor:c.rgb2cb(d.evaluate(r.visPropOriginal.strokecolor),e),fillcolor:c.rgb2cb(d.evaluate(r.visPropOriginal.fillcolor),e),highlightstrokecolor:c.rgb2cb(d.evaluate(r.visPropOriginal.highlightstrokecolor),e),highlightfillcolor:c.rgb2cb(d.evaluate(r.visPropOriginal.highlightfillcolor),e)})):d.exists(r.visPropOriginal)&&t.extend(r.visProp,r.visPropOriginal));return this.currentCBDef=e,this.update(),this},select:function(t,e){var i,r,s,o,n=t;if(null===n)return n;if(d.isString(n)&&""!==n)d.exists(this.objects[n])?n=this.objects[n]:d.exists(this.elementsByName[n])?n=this.elementsByName[n]:d.exists(this.groups[n])&&(n=this.groups[n]);else if(!e&&(d.isFunction(n)||d.isObject(n)&&!d.isFunction(n.setAttribute))){for(r={},o=(i=d.filterElements(this.objectsList,n)).length,s=0;s<o;s++)r[i[s].id]=i[s];n=new f(r)}else d.isObject(n)&&d.exists(n.id)&&!d.exists(this.objects[n.id])&&(n=null);return n},hasPoint:function(t,e){var i=t,r=e,s=this.getBoundingBox();return d.exists(t)&&d.isArray(t.usrCoords)&&(i=t.usrCoords[1],r=t.usrCoords[2]),!!(d.isNumber(i)&&d.isNumber(r)&&s[0]<i&&i<s[2]&&s[1]>r&&r>s[3])},updateCSSTransforms:function(){var t=this.containerObj,e=t,i=t;for(this.cssTransMat=p.getCSSTransformMatrix(e),e=e.offsetParent;e;){for(this.cssTransMat=o.matMatMult(p.getCSSTransformMatrix(e),this.cssTransMat),i=i.parentNode;i!==e;)this.cssTransMat=o.matMatMult(p.getCSSTransformMatrix(e),this.cssTransMat),i=i.parentNode||i.host;e=e.offsetParent}return this.cssTransMat=o.inverse(this.cssTransMat),this},startSelectionMode:function(){this.selectingMode=!0,this.selectionPolygon.setAttribute({visible:!0}),this.selectingBox=[[0,0],[0,0]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate()},stopSelectionMode:function(){return this.selectingMode=!1,this.selectionPolygon.setAttribute({visible:!1}),[this.selectionPolygon.vertices[0].coords,this.selectionPolygon.vertices[2].coords]},_startSelecting:function(t){this.isSelecting=!0,this.selectingBox=[[t[0],t[1]],[t[0],t[1]]],this._setSelectionPolygonFromBox()},_moveSelecting:function(t){this.isSelecting&&(this.selectingBox[1]=[t[0],t[1]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate())},_stopSelecting:function(t){var e=this.getMousePosition(t);this.isSelecting=!1,this.selectingBox[1]=[e[0],e[1]],this._setSelectionPolygonFromBox()},_setSelectionPolygonFromBox:function(){var e=this.selectingBox[0],i=this.selectingBox[1];this.selectionPolygon.vertices[0].setPositionDirectly(t.COORDS_BY_SCREEN,[e[0],e[1]]),this.selectionPolygon.vertices[1].setPositionDirectly(t.COORDS_BY_SCREEN,[e[0],i[1]]),this.selectionPolygon.vertices[2].setPositionDirectly(t.COORDS_BY_SCREEN,[i[0],i[1]]),this.selectionPolygon.vertices[3].setPositionDirectly(t.COORDS_BY_SCREEN,[i[0],e[1]])},_testForSelection:function(t){this._isRequiredKeyPressed(t,"selection")&&(d.exists(this.selectionPolygon)||this._createSelectionPolygon(this.attr),this.startSelectionMode())},_createSelectionPolygon:function(t){var e;return d.exists(this.selectionPolygon)||!0===(e=d.copyAttributes(t,r,"board","selection")).enabled&&(this.selectionPolygon=this.create("polygon",[[0,0],[0,0],[0,0],[0,0]],e)),this},__evt__down:function(t){},__evt__mousedown:function(t){},__evt__pendown:function(t){},__evt__pointerdown:function(t){},__evt__touchstart:function(t){},__evt__up:function(t){},__evt__mouseup:function(t){},__evt__pointerup:function(t){},__evt__touchend:function(t){},__evt__move:function(t,e){},__evt__mousemove:function(t,e){},__evt__penmove:function(t,e){},__evt__pointermove:function(t,e){},__evt__touchmove:function(t,e){},__evt__hit:function(t,e,i){},__evt__mousehit:function(t,e,i){},__evt__update:function(){},__evt__boundingbox:function(){},__evt__startselecting:function(){},__evt__mousestartselecting:function(){},__evt__pointerstartselecting:function(){},__evt__touchstartselecting:function(){},__evt__stopselecting:function(){},__evt__mousestopselecting:function(){},__evt__pointerstopselecting:function(){},__evt__touchstopselecting:function(){},__evt__moveselecting:function(){},__evt__mousemoveselecting:function(){},__evt__pointermoveselecting:function(){},__evt__touchmoveselecting:function(){},__evt:function(){},toFullscreen:function(t){var e,i,r;return t=t||this.container,this._fullscreen_inner_id=t,r=this.document.getElementById(t),e="fullscreenwrap_"+t,this.document.getElementById(e)?i=this.document.getElementById(e):((i=document.createElement("div")).classList.add("JXG_wrap_private"),i.setAttribute("id",e),r.parentNode.insertBefore(i,r),i.appendChild(r)),this._fullscreen_res=p._getScaleFactors(r),i.requestFullscreen=i.requestFullscreen||i.webkitRequestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen,i.requestFullscreen&&i.requestFullscreen(),this},fullscreenListener:function(t){var e,i,r;if(i=this._fullscreen_inner_id,d.exists(i)){if(this.document.fullscreenElement=this.document.fullscreenElement||this.document.webkitFullscreenElement||this.document.mozFullscreenElement||this.document.msFullscreenElement,r=this.document.getElementById(i),this.document.fullscreenElement)e=this._fullscreen_res,r._cssFullscreenStore={id:this.document.fullscreenElement.id,isFullscreen:!0,margin:r.style.margin,width:r.style.width,scale:e.scale,vshift:e.vshift},r.style.margin="",r.style.width=e.width+"px",p.scaleJSXGraphDiv(document.fullscreenElement.id,i,e.scale,e.vshift),this.document.fullscreenElement=null;else if(d.exists(r._cssFullscreenStore)){try{this.document.styleSheets[this.document.styleSheets.length-1].deleteRule(0)}catch(t){console.log("JSXGraph: Could not remove CSS rules for full screen mode")}r._cssFullscreenStore.isFullscreen=!1,r.style.margin=r._cssFullscreenStore.margin,r.style.width=r._cssFullscreenStore.width}this.updateCSSTransforms()}},createRoulette:function(t,e,i,r,o,n,h){var l=this;return new function(){var c,d=0,u=0,p=0,f=i,m=s.root((function(i){var r=t.X(f),s=t.Y(f),o=e.X(i),n=e.Y(i);return(r-o)*(r-o)+(s-n)*(s-n)}),[0,2*Math.PI]),g=0,b=0,v=l.create("transform",[function(){return d}],{type:"rotate"}),y=l.create("transform",[function(){return d},function(){return t.X(f)},function(){return t.Y(f)}],{type:"rotate"}),C=l.create("transform",[function(){return u},function(){return p}],{type:"translate"}),_=function(t,e,i){var r=s.D(t.X)(e),o=s.D(t.Y)(e),n=s.D(t.X)(i),a=s.D(t.Y)(i),h=s.D(t.X)(.5*(e+i)),l=s.D(t.Y)(.5*(e+i)),c=Math.sqrt(r*r+o*o),d=Math.sqrt(n*n+a*a);return(c+4*Math.sqrt(h*h+l*l)+d)*(i-e)/6},P=function(t){return c-_(e,m,t)},E=Math.PI/18,x=9*E,S=null;return this.rolling=function(){var i,n,S,O,w;c=_(t,f,g=f+o*r),b=s.root(P,m),i=new a(t.X(g),t.Y(g)),n=new a(e.X(b),e.Y(b)),S=new a(s.D(t.X)(g),s.D(t.Y)(g)),O=new a(s.D(e.X)(b),s.D(e.Y)(b)),w=a.C.div(S,O),d=Math.atan2(w.imaginary,w.real),w.div(a.C.abs(w)),w.mult(n),u=i.real-w.real,p=i.imaginary-w.imaginary,d<-E&&d>-x?(d=-E,y.applyOnce(h)):d>E&&d<x?(d=E,y.applyOnce(h)):(v.applyOnce(h),C.applyOnce(h),f=g,m=b),l.update()},this.start=function(){return n>0&&(S=window.setInterval(this.rolling,n)),this},this.stop=function(){return window.clearInterval(S),this},this}}}),t.Board})),define("renderer/svg",["jxg","options","renderer/abstract","base/constants","utils/type","utils/color","utils/base64","math/numerics"],(function(t,e,i,r,s,o,n,a){"use strict";return t.SVGRenderer=function(t,i){var r;for(this.type="svg",this.isIE=-1!==navigator.appVersion.indexOf("MSIE")||navigator.userAgent.match(/Trident\//),this.svgRoot=null,this.svgNamespace="http://www.w3.org/2000/svg",this.xlinkNamespace="http://www.w3.org/1999/xlink",this.container=t,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.svgRoot=this.container.ownerDocument.createElementNS(this.svgNamespace,"svg"),this.svgRoot.style.overflow="hidden",this.svgRoot.style.display="block",this.resize(i.width,i.height),this.container.appendChild(this.svgRoot),this.defs=this.container.ownerDocument.createElementNS(this.svgNamespace,"defs"),this.svgRoot.appendChild(this.defs),this.filter=this.container.ownerDocument.createElementNS(this.svgNamespace,"filter"),this.filter.setAttributeNS(null,"id",this.container.id+"_f1"),this.filter.setAttributeNS(null,"width","300%"),this.filter.setAttributeNS(null,"height","300%"),this.filter.setAttributeNS(null,"filterUnits","userSpaceOnUse"),this.feOffset=this.container.ownerDocument.createElementNS(this.svgNamespace,"feOffset"),this.feOffset.setAttributeNS(null,"result","offOut"),this.feOffset.setAttributeNS(null,"in","SourceAlpha"),this.feOffset.setAttributeNS(null,"dx","5"),this.feOffset.setAttributeNS(null,"dy","5"),this.filter.appendChild(this.feOffset),this.feGaussianBlur=this.container.ownerDocument.createElementNS(this.svgNamespace,"feGaussianBlur"),this.feGaussianBlur.setAttributeNS(null,"result","blurOut"),this.feGaussianBlur.setAttributeNS(null,"in","offOut"),this.feGaussianBlur.setAttributeNS(null,"stdDeviation","3"),this.filter.appendChild(this.feGaussianBlur),this.feBlend=this.container.ownerDocument.createElementNS(this.svgNamespace,"feBlend"),this.feBlend.setAttributeNS(null,"in","SourceGraphic"),this.feBlend.setAttributeNS(null,"in2","blurOut"),this.feBlend.setAttributeNS(null,"mode","normal"),this.filter.appendChild(this.feBlend),this.defs.appendChild(this.filter),this.layer=[],r=0;r<e.layer.numlayers;r++)this.layer[r]=this.container.ownerDocument.createElementNS(this.svgNamespace,"g"),this.svgRoot.appendChild(this.layer[r]);this.supportsForeignObject=document.implementation.hasFeature("http://w3.org/TR/SVG11/feature#Extensibility","1.1"),this.supportsForeignObject&&(this.foreignObjLayer=this.container.ownerDocument.createElementNS(this.svgNamespace,"foreignObject"),this.foreignObjLayer.setAttribute("display","none"),this.foreignObjLayer.setAttribute("x",0),this.foreignObjLayer.setAttribute("y",0),this.foreignObjLayer.setAttribute("width","100%"),this.foreignObjLayer.setAttribute("height","100%"),this.foreignObjLayer.setAttribute("id",this.container.id+"_foreignObj"),this.svgRoot.appendChild(this.foreignObjLayer)),this.dashArray=["2, 2","5, 5","10, 10","20, 20","20, 10, 10, 10","20, 5, 10, 5"]},t.SVGRenderer.prototype=new i,t.extend(t.SVGRenderer.prototype,{_createArrowHead:function(t,e,i){var o,n,a,h,l=t.id+"Triangle";return s.exists(e)&&(l+=e),(o=this.createPrim("marker",l)).setAttributeNS(null,"stroke",s.evaluate(t.visProp.strokecolor)),o.setAttributeNS(null,"stroke-opacity",s.evaluate(t.visProp.strokeopacity)),o.setAttributeNS(null,"fill",s.evaluate(t.visProp.strokecolor)),o.setAttributeNS(null,"fill-opacity",s.evaluate(t.visProp.strokeopacity)),o.setAttributeNS(null,"stroke-width",0),o.setAttributeNS(null,"orient","auto"),o.setAttributeNS(null,"markerUnits","strokeWidth"),n=this.container.ownerDocument.createElementNS(this.svgNamespace,"path"),h=5,"End"===e?(a=0,2===i?n.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 L 5,5 z"):3===i?n.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z"):4===i?(h=3.31,n.setAttributeNS(null,"d","M 0.00,3.31 C 3.53,3.84 7.13,4.50 10.00,6.63 C 9.33,5.52 8.67,4.42 8.00,3.31 C 8.67,2.21 9.33,1.10 10.00,0.00 C 7.13,2.13 3.53,2.79 0.00,3.31")):5===i?(h=3.28,n.setAttributeNS(null,"d","M 0.00,3.28 C 3.39,4.19 6.81,5.07 10.00,6.55 C 9.38,5.56 9.00,4.44 9.00,3.28 C 9.00,2.11 9.38,0.99 10.00,0.00 C 6.81,1.49 3.39,2.37 0.00,3.28")):6===i?(h=2.84,n.setAttributeNS(null,"d","M 0.00,2.84 C 3.39,3.59 6.79,4.35 10.00,5.68 C 9.67,4.73 9.33,3.78 9.00,2.84 C 9.33,1.89 9.67,0.95 10.00,0.00 C 6.79,1.33 3.39,2.09 0.00,2.84")):7===i?(h=5.2,n.setAttributeNS(null,"d","M 0.00,5.20 C 4.04,5.20 7.99,6.92 10.00,10.39 M 10.00,0.00 C 7.99,3.47 4.04,5.20 0.00,5.20")):n.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 z"),/*!Type.exists(el.rendNode.getTotalLength) && */t.elementClass===r.OBJECT_CLASS_LINE&&(a=2===i?4.9:3===i?3.3:4===i||5===i||6===i?6.66:7===i?0:10)):(a=10,2===i?n.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 L 5,5 z"):3===i?(a=3.3,n.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z")):4===i?(h=3.31,n.setAttributeNS(null,"d","M 10.00,3.31 C 6.47,3.84 2.87,4.50 0.00,6.63 C 0.67,5.52 1.33,4.42 2.00,3.31 C 1.33,2.21 0.67,1.10 0.00,0.00 C 2.87,2.13 6.47,2.79 10.00,3.31")):5===i?(h=3.28,n.setAttributeNS(null,"d","M 10.00,3.28 C 6.61,4.19 3.19,5.07 0.00,6.55 C 0.62,5.56 1.00,4.44 1.00,3.28 C 1.00,2.11 0.62,0.99 0.00,0.00 C 3.19,1.49 6.61,2.37 10.00,3.28")):6===i?(h=2.84,n.setAttributeNS(null,"d","M 10.00,2.84 C 6.61,3.59 3.21,4.35 0.00,5.68 C 0.33,4.73 0.67,3.78 1.00,2.84 C 0.67,1.89 0.33,0.95 0.00,0.00 C 3.21,1.33 6.61,2.09 10.00,2.84")):7===i?(h=5.2,n.setAttributeNS(null,"d","M 10.00,5.20 C 5.96,5.20 2.01,6.92 0.00,10.39 M 0.00,0.00 C 2.01,3.47 5.96,5.20 10.00,5.20")):n.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 z"),/*!Type.exists(el.rendNode.getTotalLength) &&*/t.elementClass===r.OBJECT_CLASS_LINE&&(a=2===i?5.1:3===i?.02:4===i||5===i||6===i?3.33:7===i?10:.05)),7===i&&(o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"stroke-width",1)),o.setAttributeNS(null,"refY",h),o.setAttributeNS(null,"refX",a),o.appendChild(n),o},_setArrowColor:function(t,e,i,r,o){t&&(s.isString(e)&&(7!==o?this._setAttribute((function(){t.setAttributeNS(null,"stroke",e),t.setAttributeNS(null,"fill",e),t.setAttributeNS(null,"stroke-opacity",i),t.setAttributeNS(null,"fill-opacity",i)}),r.visPropOld.fillcolor):this._setAttribute((function(){t.setAttributeNS(null,"fill","none"),t.setAttributeNS(null,"stroke",e),t.setAttributeNS(null,"stroke-opacity",i)}),r.visPropOld.fillcolor)),this.isIE&&r.rendNode.parentNode.insertBefore(r.rendNode,r.rendNode))},_setArrowWidth:function(t,e,i,r){var s,o;t&&(o=(s=e)*r,t.setAttributeNS(null,"viewBox","0 0 "+10*s+" "+10*s),t.setAttributeNS(null,"markerHeight",o),t.setAttributeNS(null,"markerWidth",o),t.setAttributeNS(null,"display","inherit"),this.isIE&&i.parentNode.insertBefore(i,i))},updateTicks:function(t){var e,i,r,o,n,a,h,l,c="",d=t.ticks.length,u=!0;for(e=0;e<d;e++){for(n=(r=t.ticks[e])[0],a=r[1],h=n.length,l=" M "+n[0]+" "+a[0],s.isNumber(n[0])||(u=!1),i=1;u&&i<h;++i)s.isNumber(n[i])?l+=" L "+n[i]+" "+a[i]:u=!1;u&&(c+=l)}o=t.rendNode,s.exists(o)||(o=this.createPrim("path",t.id),this.appendChildPrim(o,s.evaluate(t.visProp.layer)),t.rendNode=o),o.setAttributeNS(null,"stroke",s.evaluate(t.visProp.strokecolor)),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"stroke-opacity",s.evaluate(t.visProp.strokeopacity)),o.setAttributeNS(null,"stroke-width",s.evaluate(t.visProp.strokewidth)),this.updatePathPrim(o,c,t.board)},displayCopyright:function(t,e){var i,r=this.createPrim("text","licenseText");r.setAttributeNS(null,"x","20px"),r.setAttributeNS(null,"y",2+e+"px"),r.setAttributeNS(null,"style","font-family:Arial,Helvetica,sans-serif; font-size:"+e+"px; fill:#356AA0;  opacity:0.3;"),i=this.container.ownerDocument.createTextNode(t),r.appendChild(i),this.appendChildPrim(r,0)},drawInternalText:function(t){var e=this.createPrim("text",t.id);return e.style.whiteSpace="nowrap",t.rendNodeText=this.container.ownerDocument.createTextNode(""),e.appendChild(t.rendNodeText),this.appendChildPrim(e,s.evaluate(t.visProp.layer)),e},updateInternalText:function(t){var e,i=t.plaintext,r=t.getAnchorX(),o=t.getAnchorY();t.rendNode.getAttributeNS(null,"class")!==t.visProp.cssclass&&(t.rendNode.setAttributeNS(null,"class",s.evaluate(t.visProp.cssclass)),t.needsSizeUpdate=!0),isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])||(e=t.coords.scrCoords[1],t.visPropOld.left!==r+e&&(t.rendNode.setAttributeNS(null,"x",e+"px"),"left"===r?t.rendNode.setAttributeNS(null,"text-anchor","start"):"right"===r?t.rendNode.setAttributeNS(null,"text-anchor","end"):"middle"===r&&t.rendNode.setAttributeNS(null,"text-anchor","middle"),t.visPropOld.left=r+e),e=t.coords.scrCoords[2],t.visPropOld.top!==o+e&&(t.rendNode.setAttributeNS(null,"y",e+.5*this.vOffsetText+"px"),"bottom"===o?t.rendNode.setAttributeNS(null,"dominant-baseline","text-after-edge"):"top"===o?t.rendNode.setAttributeNS(null,"dy","1.6ex"):"middle"===o&&t.rendNode.setAttributeNS(null,"dy","0.6ex"),t.visPropOld.top=o+e)),t.htmlStr!==i&&(t.rendNodeText.data=i,t.htmlStr=i),this.transformImage(t,t.transformations)},updateInternalTextStyle:function(t,e,i,r){this.setObjectFillColor(t,e,i)},drawImage:function(t){var e=this.createPrim("image",t.id);e.setAttributeNS(null,"preserveAspectRatio","none"),this.appendChildPrim(e,s.evaluate(t.visProp.layer)),t.rendNode=e,this.updateImage(t)},transformImage:function(t,e){var i,r=t.rendNode,s="";e.length>0&&(s+=" matrix("+[(i=this.joinTransforms(t,e))[1][1],i[2][1],i[1][2],i[2][2],i[1][0],i[2][0]].join(",")+") ",r.setAttributeNS(null,"transform",s))},updateImageURL:function(t){var e=s.evaluate(t.url);return t._src!==e&&(t.imgIsLoaded=!1,t.rendNode.setAttributeNS(this.xlinkNamespace,"xlink:href",e),t._src=e,!0)},updateImageStyle:function(t,e){var i=s.evaluate(e?t.visProp.highlightcssclass:t.visProp.cssclass);t.rendNode.setAttributeNS(null,"class",i)},drawForeignObject:function(t){t.rendNode=this.appendChildPrim(this.createPrim("foreignObject",t.id),s.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"foreignObject"),this.updateForeignObject(t)},updateForeignObject:function(t){t._useUserSize?t.rendNode.style.overflow="hidden":t.rendNode.style.overflow="visible",this.updateRectPrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),t.rendNode.innerHTML=t.content,this._updateVisual(t,{stroke:!0,dash:!0},!0)},appendChildPrim:function(t,i){return s.exists(i)?i>=e.layer.numlayers&&(i=e.layer.numlayers-1):i=0,this.layer[i].appendChild(t),t},createPrim:function(t,e){var i=this.container.ownerDocument.createElementNS(this.svgNamespace,t);return i.setAttributeNS(null,"id",this.container.id+"_"+e),i.style.position="absolute","path"===t&&(i.setAttributeNS(null,"stroke-linecap","round"),i.setAttributeNS(null,"stroke-linejoin","round"),i.setAttributeNS(null,"fill-rule","evenodd")),i},remove:function(t){s.exists(t)&&s.exists(t.parentNode)&&t.parentNode.removeChild(t)},setLayer:function(t,i){s.exists(i)?i>=e.layer.numlayers&&(i=e.layer.numlayers-1):i=0,this.layer[i].appendChild(t.rendNode)},makeArrows:function(t,e){var i,r=e.evFirst,o=e.evLast;t.visPropOld.firstarrow!==r||t.visPropOld.lastarrow!==o?(r?(i=t.rendNodeTriangleStart,s.exists(i)?this.defs.appendChild(i):(i=this._createArrowHead(t,"End",e.typeFirst),this.defs.appendChild(i),t.rendNodeTriangleStart=i,t.rendNode.setAttributeNS(null,"marker-start","url(#"+this.container.id+"_"+t.id+"TriangleEnd)"))):(i=t.rendNodeTriangleStart,s.exists(i)&&this.remove(i)),o?(i=t.rendNodeTriangleEnd,s.exists(i)?this.defs.appendChild(i):(i=this._createArrowHead(t,"Start",e.typeLast),this.defs.appendChild(i),t.rendNodeTriangleEnd=i,t.rendNode.setAttributeNS(null,"marker-end","url(#"+this.container.id+"_"+t.id+"TriangleStart)"))):(i=t.rendNodeTriangleEnd,s.exists(i)&&this.remove(i)),t.visPropOld.firstarrow=r,t.visPropOld.lastarrow=o):this.isIE&&t.visPropCalc.visible&&(r||o)&&t.rendNode.parentNode.insertBefore(t.rendNode,t.rendNode)},updateEllipsePrim:function(t,e,i,r,s){var o;o=2e5,e=Math.abs(e)<o?e:o*e/Math.abs(e),i=Math.abs(i)<o?i:o*i/Math.abs(i),r=Math.abs(r)<o?r:o*r/Math.abs(r),s=Math.abs(s)<o?s:o*s/Math.abs(s),t.setAttributeNS(null,"cx",e),t.setAttributeNS(null,"cy",i),t.setAttributeNS(null,"rx",Math.abs(r)),t.setAttributeNS(null,"ry",Math.abs(s))},updateLinePrim:function(t,e,i,r,s){var o;o=2e5,isNaN(e+i+r+s)||(e=Math.abs(e)<o?e:o*e/Math.abs(e),i=Math.abs(i)<o?i:o*i/Math.abs(i),r=Math.abs(r)<o?r:o*r/Math.abs(r),s=Math.abs(s)<o?s:o*s/Math.abs(s),t.setAttributeNS(null,"x1",e),t.setAttributeNS(null,"y1",i),t.setAttributeNS(null,"x2",r),t.setAttributeNS(null,"y2",s))},updatePathPrim:function(t,e){""===e&&(e="M 0 0"),t.setAttributeNS(null,"d",e)},updatePathStringPoint:function(t,e,i){var r="",s=t.coords.scrCoords,o=e*Math.sqrt(3)*.5,n=.5*e;return"x"===i?r=" M "+(s[1]-e)+" "+(s[2]-e)+" L "+(s[1]+e)+" "+(s[2]+e)+" M "+(s[1]+e)+" "+(s[2]-e)+" L "+(s[1]-e)+" "+(s[2]+e):"+"===i?r=" M "+(s[1]-e)+" "+s[2]+" L "+(s[1]+e)+" "+s[2]+" M "+s[1]+" "+(s[2]-e)+" L "+s[1]+" "+(s[2]+e):"<>"===i?r=" M "+(s[1]-e)+" "+s[2]+" L "+s[1]+" "+(s[2]+e)+" L "+(s[1]+e)+" "+s[2]+" L "+s[1]+" "+(s[2]-e)+" Z ":"^"===i?r=" M "+s[1]+" "+(s[2]-e)+" L "+(s[1]-o)+" "+(s[2]+n)+" L "+(s[1]+o)+" "+(s[2]+n)+" Z ":"v"===i?r=" M "+s[1]+" "+(s[2]+e)+" L "+(s[1]-o)+" "+(s[2]-n)+" L "+(s[1]+o)+" "+(s[2]-n)+" Z ":">"===i?r=" M "+(s[1]+e)+" "+s[2]+" L "+(s[1]-n)+" "+(s[2]-o)+" L "+(s[1]-n)+" "+(s[2]+o)+" Z ":"<"===i&&(r=" M "+(s[1]-e)+" "+s[2]+" L "+(s[1]+n)+" "+(s[2]-o)+" L "+(s[1]+n)+" "+(s[2]+o)+" Z "),r},updatePathStringPrim:function(t){var e,i,r,s=" M ",o=s,n=5e3,a="";if(t.numberPoints<=0)return"";if(r=Math.min(t.points.length,t.numberPoints),1===t.bezierDegree)for(e=0;e<r;e++)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?o=s:(i[1]=Math.max(Math.min(i[1],n),-5e3),i[2]=Math.max(Math.min(i[2],n),-5e3),a+=o+i[1]+" "+i[2],o=" L ");else if(3===t.bezierDegree)for(e=0;e<r;)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?o=s:(a+=o+i[1]+" "+i[2]," C "===o&&(e+=1,a+=" "+(i=t.points[e].scrCoords)[1]+" "+i[2],e+=1,a+=" "+(i=t.points[e].scrCoords)[1]+" "+i[2]),o=" C "),e+=1;return a},updatePathStringBezierPrim:function(t){var e,i,r,o,n,h,l,c=" M ",d=c,u=5e3,p="",f=s.evaluate(t.visProp.strokewidth),m="plot"!==s.evaluate(t.visProp.curvetype);if(t.numberPoints<=0)return"";for(m&&t.board.options.curve.RDPsmoothing&&(t.points=a.RamerDouglasPeucker(t.points,.5)),l=Math.min(t.points.length,t.numberPoints),i=1;i<3;i++)for(d=c,e=0;e<l;e++)o=t.points[e].scrCoords,isNaN(o[1])||isNaN(o[2])?d=c:(o[1]=Math.max(Math.min(o[1],u),-5e3),o[2]=Math.max(Math.min(o[2],u),-5e3),d===c?p+=d+o[1]+" "+o[2]:(r=2*i,p+=[d,n+.333*(o[1]-n)+f*(r*Math.random()-i)," ",h+.333*(o[2]-h)+f*(r*Math.random()-i)," ",n+.666*(o[1]-n)+f*(r*Math.random()-i)," ",h+.666*(o[2]-h)+f*(r*Math.random()-i)," ",o[1]," ",o[2]].join("")),d=" C ",n=o[1],h=o[2]);return p},updatePolygonPrim:function(t,e){var i,r,s="",o=e.vertices.length;for(t.setAttributeNS(null,"stroke","none"),"polygonalchain"===e.elType&&o++,i=0;i<o-1;i++){if(!e.vertices[i].isReal)return void t.setAttributeNS(null,"points","");s=s+(r=e.vertices[i].coords.scrCoords)[1]+","+r[2],i<o-2&&(s+=" ")}-1===s.indexOf("NaN")&&t.setAttributeNS(null,"points",s)},updateRectPrim:function(t,e,i,r,s){t.setAttributeNS(null,"x",e),t.setAttributeNS(null,"y",i),t.setAttributeNS(null,"width",r),t.setAttributeNS(null,"height",s)},setPropertyPrim:function(t,e,i){"stroked"!==e&&t.setAttributeNS(null,e,i)},display:function(t,e){var i;t&&t.rendNode&&(t.visPropOld.visible=e,i=t.rendNode,e?(i.setAttributeNS(null,"display","inline"),i.style.visibility="inherit"):(i.setAttributeNS(null,"display","none"),i.style.visibility="hidden"))},show:function(e){t.deprecated("Board.renderer.show()","Board.renderer.display()"),this.display(e,!0)},hide:function(e){t.deprecated("Board.renderer.hide()","Board.renderer.display()"),this.display(e,!1)},setBuffering:function(t,e){t.rendNode.setAttribute("buffered-rendering",e)},setDashStyle:function(t){var e=s.evaluate(t.visProp.dash),i=t.rendNode;e>0?i.setAttributeNS(null,"stroke-dasharray",this.dashArray[e-1]):i.hasAttributeNS(null,"stroke-dasharray")&&i.removeAttributeNS(null,"stroke-dasharray")},setGradient:function(t){var e,i,r,o=t.rendNode,n=s.evaluate(t.visProp.gradient);"linear"===n||"radial"===n?(e=this.createPrim(n+"Gradient",t.id+"_gradient"),i=this.createPrim("stop",t.id+"_gradient1"),r=this.createPrim("stop",t.id+"_gradient2"),e.appendChild(i),e.appendChild(r),this.defs.appendChild(e),o.setAttributeNS(null,"style","fill:url(#"+this.container.id+"_"+t.id+"_gradient)"),t.gradNode1=i,t.gradNode2=r,t.gradNode=e):o.removeAttributeNS(null,"style")},updateGradientAngle:function(t,e){var i=1,r=Math.cos(e),s=Math.sin(e);Math.abs(r)>Math.abs(s)?i/=Math.abs(r):i/=Math.abs(s),r>=0?(t.setAttributeNS(null,"x1",0),t.setAttributeNS(null,"x2",r*i)):(t.setAttributeNS(null,"x1",-r*i),t.setAttributeNS(null,"x2",0)),s>=0?(t.setAttributeNS(null,"y1",0),t.setAttributeNS(null,"y2",s*i)):(t.setAttributeNS(null,"y1",-s*i),t.setAttributeNS(null,"y2",0))},updateGradientCircle:function(t,e,i,r,s,o,n){t.setAttributeNS(null,"cx",100*e+"%"),t.setAttributeNS(null,"cy",100*i+"%"),t.setAttributeNS(null,"r",100*r+"%"),t.setAttributeNS(null,"fx",100*s+"%"),t.setAttributeNS(null,"fy",100*o+"%"),t.setAttributeNS(null,"fr",100*n+"%")},updateGradient:function(t){var e,i,r=t.gradNode1,o=t.gradNode2,n=s.evaluate(t.visProp.gradient);s.exists(r)&&s.exists(o)&&(i=(i=s.evaluate(t.visProp.fillopacity))>0?i:0,e=s.evaluate(t.visProp.fillcolor),r.setAttributeNS(null,"style","stop-color:"+e+";stop-opacity:"+i),o.setAttributeNS(null,"style","stop-color:"+s.evaluate(t.visProp.gradientsecondcolor)+";stop-opacity:"+s.evaluate(t.visProp.gradientsecondopacity)),r.setAttributeNS(null,"offset",100*s.evaluate(t.visProp.gradientstartoffset)+"%"),o.setAttributeNS(null,"offset",100*s.evaluate(t.visProp.gradientendoffset)+"%"),"linear"===n?this.updateGradientAngle(t.gradNode,s.evaluate(t.visProp.gradientangle)):"radial"===n&&this.updateGradientCircle(t.gradNode,s.evaluate(t.visProp.gradientcx),s.evaluate(t.visProp.gradientcy),s.evaluate(t.visProp.gradientr),s.evaluate(t.visProp.gradientfx),s.evaluate(t.visProp.gradientfy),s.evaluate(t.visProp.gradientfr)))},setObjectTransition:function(t,e){var i,o,n,a=["rendNode","rendNodeTriangleStart","rendNodeTriangleEnd"];if(void 0===e&&(e=s.evaluate(t.visProp.transitionduration)),e!==t.visPropOld.transitionduration){for(i=t.elementClass===r.OBJECT_CLASS_TEXT&&"html"===s.evaluate(t.visProp.display)?" color "+e+"ms, opacity "+e+"ms":" fill "+e+"ms, fill-opacity "+e+"ms, stroke "+e+"ms, stroke-opacity "+e+"ms",n=a.length,o=0;o<n;++o)t[a[o]]&&(t[a[o]].style.transition=i);t.visPropOld.transitionduration=e}},_setAttribute:function(t,e){""===e?t():window.setTimeout(t,1)},setObjectFillColor:function(e,i,r,n){var a,h,l,c,d=s.evaluate(i),u=s.evaluate(r),p=s.evaluate(e.visProp.gradient);u=u>0?u:0,e.visPropOld.fillcolor===d&&e.visPropOld.fillopacity===u&&null===p||(s.exists(d)&&!1!==d&&(9!==d.length?(h=d,c=u):(l=o.rgba2rgbo(d),h=l[0],c=u*l[1]),a=void 0===n?e.rendNode:n,"none"!==h&&this._setAttribute((function(){a.setAttributeNS(null,"fill",h)}),e.visPropOld.fillcolor),e.type===t.OBJECT_TYPE_IMAGE?this._setAttribute((function(){a.setAttributeNS(null,"opacity",c)}),e.visPropOld.fillopacity):("none"===h?(c=0,a.setAttributeNS(null,"pointer-events","visibleStroke")):a.setAttributeNS(null,"pointer-events","visiblePainted"),this._setAttribute((function(){a.setAttributeNS(null,"fill-opacity",c)}),e.visPropOld.fillopacity)),"linear"!==p&&"radial"!==p||this.updateGradient(e)),e.visPropOld.fillcolor=d,e.visPropOld.fillopacity=u)},setObjectStrokeColor:function(t,e,i){var n,a,h,l,c=s.evaluate(e),d=s.evaluate(i);d=d>0?d:0,t.visPropOld.strokecolor===c&&t.visPropOld.strokeopacity===d||(s.exists(c)&&!1!==c&&(9!==c.length?(n=c,h=d):(a=o.rgba2rgbo(c),n=a[0],h=d*a[1]),l=t.rendNode,t.elementClass===r.OBJECT_CLASS_TEXT?"html"===s.evaluate(t.visProp.display)?this._setAttribute((function(){l.style.color=n,l.style.opacity=h}),t.visPropOld.strokecolor):this._setAttribute((function(){l.setAttributeNS(null,"style","fill:"+n),l.setAttributeNS(null,"style","fill-opacity:"+h)}),t.visPropOld.strokecolor):this._setAttribute((function(){l.setAttributeNS(null,"stroke",n),l.setAttributeNS(null,"stroke-opacity",h)}),t.visPropOld.strokecolor),t.elementClass!==r.OBJECT_CLASS_CURVE&&t.elementClass!==r.OBJECT_CLASS_LINE||(s.evaluate(t.visProp.firstarrow)&&this._setArrowColor(t.rendNodeTriangleStart,n,h,t,t.visPropCalc.typeFirst),s.evaluate(t.visProp.lastarrow)&&this._setArrowColor(t.rendNodeTriangleEnd,n,h,t,t.visPropCalc.typeLast))),t.visPropOld.strokecolor=c,t.visPropOld.strokeopacity=d)},setObjectStrokeWidth:function(t,e){var i,r=s.evaluate(e);isNaN(r)||t.visPropOld.strokewidth===r||(i=t.rendNode,this.setPropertyPrim(i,"stroked","true"),s.exists(r)&&this.setPropertyPrim(i,"stroke-width",r+"px"),t.visPropOld.strokewidth=r)},setLineCap:function(t){var e=s.evaluate(t.visProp.linecap);void 0!==e&&""!==e&&t.visPropOld.linecap!==e&&s.exists(t.rendNode)&&(this.setPropertyPrim(t.rendNode,"stroke-linecap",e),t.visPropOld.linecap=e)},setShadow:function(t){var e=s.evaluate(t.visProp.shadow);t.visPropOld.shadow!==e&&(s.exists(t.rendNode)&&(e?t.rendNode.setAttributeNS(null,"filter","url(#"+this.container.id+"_f1)"):t.rendNode.removeAttributeNS(null,"filter")),t.visPropOld.shadow=e)},suspendRedraw:function(){},unsuspendRedraw:function(){},resize:function(t,e){this.svgRoot.setAttribute("width",parseFloat(t)),this.svgRoot.setAttribute("height",parseFloat(e))},createTouchpoints:function(t){var e,i,r,s;for(this.touchpoints=[],e=0;e<t;e++)i="touchpoint1_"+e,s=this.createPrim("path",i),this.appendChildPrim(s,19),s.setAttributeNS(null,"d","M 0 0"),this.touchpoints.push(s),this.setPropertyPrim(s,"stroked","true"),this.setPropertyPrim(s,"stroke-width","1px"),s.setAttributeNS(null,"stroke","#000000"),s.setAttributeNS(null,"stroke-opacity",1),s.setAttributeNS(null,"display","none"),r="touchpoint2_"+e,s=this.createPrim("ellipse",r),this.appendChildPrim(s,19),this.updateEllipsePrim(s,0,0,0,0),this.touchpoints.push(s),this.setPropertyPrim(s,"stroked","true"),this.setPropertyPrim(s,"stroke-width","1px"),s.setAttributeNS(null,"stroke","#000000"),s.setAttributeNS(null,"stroke-opacity",1),s.setAttributeNS(null,"fill","#ffffff"),s.setAttributeNS(null,"fill-opacity",0),s.setAttributeNS(null,"display","none")},showTouchpoint:function(t){this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(this.touchpoints[2*t].setAttributeNS(null,"display","inline"),this.touchpoints[2*t+1].setAttributeNS(null,"display","inline"))},hideTouchpoint:function(t){this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(this.touchpoints[2*t].setAttributeNS(null,"display","none"),this.touchpoints[2*t+1].setAttributeNS(null,"display","none"))},updateTouchpoint:function(t,e){var i,r;this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(i=e[0],r=e[1],this.touchpoints[2*t].setAttributeNS(null,"d","M "+(i-37)+" "+r+" L "+(i+37)+" "+r+" M "+i+" "+(r-37)+" L "+i+" "+(r+37)),this.updateEllipsePrim(this.touchpoints[2*t+1],e[0],e[1],25,25))},_getValuesOfDOMElements:function(t){var e=[];if(1===t.nodeType)for(t=t.firstChild;t;)void 0!==t.id&&void 0!==t.value&&e.push([t.id,t.value]),e=e.concat(this._getValuesOfDOMElements(t)),t=t.nextSibling;return e},_getDataUri:function(t,e){var i=new Image;i.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(this,0,0),e(t.toDataURL("image/png")),t.remove()},i.src=t},_getImgDataURL:function(t){var e,i,r,s,o,n;if((i=(e=t.getElementsByTagName("image")).length)>0)for(r=document.createElement("canvas"),n=0;n<i;n++){e[n].setAttribute("crossorigin","anonymous"),s=r.getContext("2d"),r.width=e[n].getAttribute("width"),r.height=e[n].getAttribute("height");try{s.drawImage(e[n],0,0,r.width,r.height),o=r.toDataURL(),e[n].setAttribute("xlink:href",o)}catch(t){console.log("CORS problem! Image can not be used",t)}}return!0},dumpToDataURI:function(t){var e,i,r,o=this.svgRoot,a=window.btoa||n.encode,h=[];if(this.container.hasChildNodes()&&s.exists(this.foreignObjLayer))for(t||this.foreignObjLayer.setAttribute("display","inline");o.nextSibling;)h=h.concat(this._getValuesOfDOMElements(o.nextSibling)),this.foreignObjLayer.appendChild(o.nextSibling);if(this._getImgDataURL(o),o.setAttribute("xmlns","http://www.w3.org/2000/svg"),e=(new XMLSerializer).serializeToString(o),!0!==t)for(r=h.length,i=0;i<r;i++)e=e.replace('id="'+h[i][0]+'"','id="'+h[i][0]+'" value="'+h[i][1]+'"');if((e.match(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g)||[]).length>1&&(e=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"")),e=e.replace(/&nbsp;/g," "),s.exists(this.foreignObjLayer)&&this.foreignObjLayer.hasChildNodes()){for(;this.foreignObjLayer.firstChild;)this.container.appendChild(this.foreignObjLayer.firstChild);this.foreignObjLayer.setAttribute("display","none")}return"data:image/svg+xml;base64,"+a(unescape(encodeURIComponent(e)))},dumpToCanvas:function(t,e,i,r){var s,o,n,a;return(n=this.container.ownerDocument.getElementById(t)).width=n.width,a=n.getContext("2d"),void 0!==e&&void 0!==i&&(n.style.width=parseFloat(e)+"px",n.style.height=parseFloat(i)+"px",n.setAttribute("width",parseFloat(e)),n.setAttribute("height",parseFloat(i))),o=new Image,s=this.dumpToDataURI(r),o.src=s,"Promise"in window?new Promise((function(t,r){try{o.onload=function(){a.drawImage(o,0,0,e,i),t()}}catch(t){r(t)}})):(o.onload=function(){window.setTimeout((function(){try{a.drawImage(o,0,0,e,i)}catch(t){console.log("screenshots not longer supported on IE")}}),200)},this)},screenshot:function(t,e,i){var r,o,n,a,h,l,c,d,u,p,f,m=this.container.ownerDocument,g=this.container.parentNode,b=t.attr.screenshot,v=!1;return"no"===this.type||(c=b.scale*this.container.getBoundingClientRect().width,d=b.scale*this.container.getBoundingClientRect().height,void 0===e||""===e?(v=!0,(a=new Image).style.width=c+"px",a.style.height=d+"px"):(v=!1,a=m.getElementById(e)),v&&((r=m.createElement("div")).style.cssText=b.css,r.style.width=c+"px",r.style.height=d+"px",r.style.zIndex=this.container.style.zIndex+120,r.style.position="absolute",r.style.top=this.container.offsetTop+"px",r.style.left=this.container.offsetLeft+"px"),o=m.createElement("canvas"),n=Math.random().toString(36).substr(2,5),o.setAttribute("id",n),o.setAttribute("width",c),o.setAttribute("height",d),o.style.width=c+"px",o.style.height=c+"px",o.style.display="none",g.appendChild(o),v&&(h=m.createElement("span"),l=m.createTextNode("✖"),h.style.cssText=b.cssButton,h.appendChild(l),h.onclick=function(){r.parentNode.removeChild(r)},r.appendChild(a),r.appendChild(h),g.insertBefore(r,this.container.nextSibling)),u=m.getElementById(this.container.id+"_navigationbar"),s.exists(u)&&(p=u.style.display,u.style.display="none"),f=function(){a.src=o.toDataURL("image/png"),g.removeChild(o)},"Promise"in window?this.dumpToCanvas(n,c,d,i).then(f):(this.dumpToCanvas(n,c,d,i),window.setTimeout(f,200)),s.exists(u)&&(u.style.display=p)),this}}),t.SVGRenderer})),define("renderer/vml",["jxg","renderer/abstract","base/constants","utils/type","utils/color","math/math","math/numerics"],(function(t,e,i,r,s,o,n){"use strict";return t.VMLRenderer=function(e){this.type="vml",this.container=e,this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.onselectstart=function(){return!1},this.resolution=10,r.exists(t.vmlStylesheet)||(e.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),t.vmlStylesheet=this.container.ownerDocument.createStyleSheet(),t.vmlStylesheet.addRule(".jxgvml","behavior:url(#default#VML)"));try{e.ownerDocument.namespaces.jxgvml||e.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),this.createNode=function(t){return e.ownerDocument.createElement("<jxgvml:"+t+' class="jxgvml">')}}catch(t){this.createNode=function(t){return e.ownerDocument.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="jxgvml">')}}this.dashArray=["Solid","1 1","ShortDash","Dash","LongDash","ShortDashDot","LongDashDot"]},t.VMLRenderer.prototype=new e,t.extend(t.VMLRenderer.prototype,{_setAttr:function(e,i,r,s){try{8===this.container.ownerDocument.documentMode?e[i]=r:e.setAttribute(i,r,s)}catch(e){t.debug("_setAttr: "+i+" "+r+"<br>\n")}},updateTicks:function(t){var e,i,s,o,n,a=this.resolution,h=[];for(i=t.ticks.length,e=0;e<i;e++)o=(s=t.ticks[e])[0],n=s[1],r.isNumber(o[0])&&r.isNumber(o[1])&&h.push(" m "+Math.round(a*o[0])+", "+Math.round(a*n[0])+" l "+Math.round(a*o[1])+", "+Math.round(a*n[1])+" ");r.exists(t.rendNode)||(t.rendNode=this.createPrim("path",t.id),this.appendChildPrim(t.rendNode,r.evaluate(t.visProp.layer))),this._setAttr(t.rendNode,"stroked","true"),this._setAttr(t.rendNode,"strokecolor",r.evaluate(t.visProp.strokecolor),1),this._setAttr(t.rendNode,"strokeweight",r.evaluate(t.visProp.strokewidth)),this._setAttr(t.rendNodeStroke,"opacity",100*r.evaluate(t.visProp.strokeopacity)+"%"),this.updatePathPrim(t.rendNode,h,t.board)},displayCopyright:function(t,e){var i,r;(i=this.createNode("textbox")).style.position="absolute",this._setAttr(i,"id",this.container.id+"_licenseText"),i.style.left=20,i.style.top=2,i.style.fontSize=e,i.style.color="#356AA0",i.style.fontFamily="Arial,Helvetica,sans-serif",this._setAttr(i,"opacity","30%"),i.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 30, enabled = true)",r=this.container.ownerDocument.createTextNode(t),i.appendChild(r),this.appendChildPrim(i,0)},drawInternalText:function(t){var e;return(e=this.createNode("textbox")).style.position="absolute",t.rendNodeText=this.container.ownerDocument.createTextNode(""),e.appendChild(t.rendNodeText),this.appendChildPrim(e,9),e.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",e},updateInternalText:function(t){var e,i,r,s,n,a,h=t.plaintext,l=this.joinTransforms(t,t.transformations),c=[0,0],d=t.rendNode,u=[],p=t.getAnchorX(),f=t.getAnchorY();if(!isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])){for("right"===p?c[0]=1:"middle"===p&&(c[0]=.5),"bottom"===f?c[1]=1:"middle"===f&&(c[1]=.5),u[0]=o.matVecMult(l,[1,t.coords.scrCoords[1]-c[0]*t.size[0],t.coords.scrCoords[2]+(1-c[1])*t.size[1]+this.vOffsetText]),u[0][1]/=u[0][0],u[0][2]/=u[0][0],u[1]=o.matVecMult(l,[1,t.coords.scrCoords[1]+(1-c[0])*t.size[0],t.coords.scrCoords[2]+(1-c[1])*t.size[1]+this.vOffsetText]),u[1][1]/=u[1][0],u[1][2]/=u[1][0],u[2]=o.matVecMult(l,[1,t.coords.scrCoords[1]+(1-c[0])*t.size[0],t.coords.scrCoords[2]-c[1]*t.size[1]+this.vOffsetText]),u[2][1]/=u[2][0],u[2][2]/=u[2][0],u[3]=o.matVecMult(l,[1,t.coords.scrCoords[1]-c[0]*t.size[0],t.coords.scrCoords[2]-c[1]*t.size[1]+this.vOffsetText]),u[3][1]/=u[3][0],u[3][2]/=u[3][0],i=u[0][1],s=u[0][1],r=u[0][2],n=u[0][2],a=1;a<4;a++)i=Math.max(i,u[a][1]),s=Math.min(s,u[a][1]),r=Math.max(r,u[a][2]),n=Math.min(n,u[a][2]);e=1===c[0]?Math.floor(t.board.canvasWidth-i):Math.floor(s),t.visPropOld.left!==p+e&&(1===c[0]?(t.rendNode.style.right=e+"px",t.rendNode.style.left="auto"):(t.rendNode.style.left=e+"px",t.rendNode.style.right="auto"),t.visPropOld.left=p+e),e=1===c[1]?Math.floor(t.board.canvasHeight-r):Math.floor(n),t.visPropOld.top!==f+e&&(1===c[1]?(t.rendNode.style.bottom=e+"px",t.rendNode.style.top="auto"):(t.rendNode.style.top=e+"px",t.rendNode.style.bottom="auto"),t.visPropOld.top=f+e)}t.htmlStr!==h&&(t.rendNodeText.data=h,t.htmlStr=h),d.filters.item(0).M11=l[1][1],d.filters.item(0).M12=l[1][2],d.filters.item(0).M21=l[2][1],d.filters.item(0).M22=l[2][2],d.filters.item(0).enabled=!0},drawImage:function(t){var e;(e=this.container.ownerDocument.createElement("img")).style.position="absolute",this._setAttr(e,"id",this.container.id+"_"+t.id),this.container.appendChild(e),this.appendChildPrim(e,r.evaluate(t.visProp.layer)),e.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",t.rendNode=e,this.updateImage(t)},transformImage:function(t,e){var i,r,s,n,a,h,l=t.rendNode,c=[];if(e.length>0){for(i=this.joinTransforms(t,e),c[0]=o.matVecMult(i,t.coords.scrCoords),c[0][1]/=c[0][0],c[0][2]/=c[0][0],c[1]=o.matVecMult(i,[1,t.coords.scrCoords[1]+t.size[0],t.coords.scrCoords[2]]),c[1][1]/=c[1][0],c[1][2]/=c[1][0],c[2]=o.matVecMult(i,[1,t.coords.scrCoords[1]+t.size[0],t.coords.scrCoords[2]-t.size[1]]),c[2][1]/=c[2][0],c[2][2]/=c[2][0],c[3]=o.matVecMult(i,[1,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1]]),c[3][1]/=c[3][0],c[3][2]/=c[3][0],r=c[0][1],n=c[0][1],s=c[0][2],a=c[0][2],h=1;h<4;h++)r=Math.max(r,c[h][1]),n=Math.min(n,c[h][1]),s=Math.max(s,c[h][2]),a=Math.min(a,c[h][2]);l.style.left=Math.floor(n)+"px",l.style.top=Math.floor(a)+"px",l.filters.item(0).M11=i[1][1],l.filters.item(0).M12=i[1][2],l.filters.item(0).M21=i[2][1],l.filters.item(0).M22=i[2][2],l.filters.item(0).enabled=!0}},updateImageURL:function(t){var e=r.evaluate(t.url);this._setAttr(t.rendNode,"src",e)},appendChildPrim:function(t,e){return r.exists(e)||(e=0),t.style.zIndex=e,this.container.appendChild(t),t},appendNodesToElement:function(t,e){"shape"!==e&&"path"!==e&&"polygon"!==e||(t.rendNodePath=this.getElementById(t.id+"_path")),t.rendNodeFill=this.getElementById(t.id+"_fill"),t.rendNodeStroke=this.getElementById(t.id+"_stroke"),t.rendNodeShadow=this.getElementById(t.id+"_shadow"),t.rendNode=this.getElementById(t.id)},createPrim:function(t,e){var i,r,s=this.createNode("fill"),o=this.createNode("stroke"),n=this.createNode("shadow");return this._setAttr(s,"id",this.container.id+"_"+e+"_fill"),this._setAttr(o,"id",this.container.id+"_"+e+"_stroke"),this._setAttr(n,"id",this.container.id+"_"+e+"_shadow"),"circle"===t||"ellipse"===t?((i=this.createNode("oval")).appendChild(s),i.appendChild(o),i.appendChild(n)):"polygon"===t||"path"===t||"shape"===t||"line"===t?((i=this.createNode("shape")).appendChild(s),i.appendChild(o),i.appendChild(n),r=this.createNode("path"),this._setAttr(r,"id",this.container.id+"_"+e+"_path"),i.appendChild(r)):((i=this.createNode(t)).appendChild(s),i.appendChild(o),i.appendChild(n)),i.style.position="absolute",i.style.left="0px",i.style.top="0px",this._setAttr(i,"id",this.container.id+"_"+e),i},remove:function(t){r.exists(t)&&t.removeNode(!0)},makeArrows:function(t){var e,i=r.evaluate(t.visProp.firstarrow),s=r.evaluate(t.visProp.lastarrow);t.visPropOld.firstarrow===i&&t.visPropOld.lastarrow===s||(i?(e=t.rendNodeStroke,this._setAttr(e,"startarrow","block"),this._setAttr(e,"startarrowlength","long")):(e=t.rendNodeStroke,r.exists(e)&&this._setAttr(e,"startarrow","none")),s?(e=t.rendNodeStroke,this._setAttr(e,"id",this.container.id+"_"+t.id+"stroke"),this._setAttr(e,"endarrow","block"),this._setAttr(e,"endarrowlength","long")):(e=t.rendNodeStroke,r.exists(e)&&this._setAttr(e,"endarrow","none")),t.visPropOld.firstarrow=i,t.visPropOld.lastarrow=s)},updateEllipsePrim:function(t,e,i,r,s){t.style.left=Math.floor(e-r)+"px",t.style.top=Math.floor(i-s)+"px",t.style.width=Math.floor(2*Math.abs(r))+"px",t.style.height=Math.floor(2*Math.abs(s))+"px"},updateLinePrim:function(t,e,i,r,s,o){var n,a=this.resolution;isNaN(e+i+r+s)||(n=["m ",Math.floor(a*e),", ",Math.floor(a*i)," l ",Math.floor(a*r),", ",Math.floor(a*s)],this.updatePathPrim(t,n,o))},updatePathPrim:function(t,e,i){var r=i.canvasWidth,s=i.canvasHeight;e.length<=0&&(e=["m 0,0"]),t.style.width=r,t.style.height=s,this._setAttr(t,"coordsize",[Math.floor(this.resolution*r),Math.floor(this.resolution*s)].join(",")),this._setAttr(t,"path",e.join(""))},updatePathStringPoint:function(t,e,i){var r=[],s=Math.round,o=t.coords.scrCoords,n=e*Math.sqrt(3)*.5,a=.5*e,h=this.resolution;return"x"===i?r.push([" m ",s(h*(o[1]-e)),", ",s(h*(o[2]-e))," l ",s(h*(o[1]+e)),", ",s(h*(o[2]+e))," m ",s(h*(o[1]+e)),", ",s(h*(o[2]-e))," l ",s(h*(o[1]-e)),", ",s(h*(o[2]+e))].join("")):"+"===i?r.push([" m ",s(h*(o[1]-e)),", ",s(h*o[2])," l ",s(h*(o[1]+e)),", ",s(h*o[2])," m ",s(h*o[1]),", ",s(h*(o[2]-e))," l ",s(h*o[1]),", ",s(h*(o[2]+e))].join("")):"<>"===i?r.push([" m ",s(h*(o[1]-e)),", ",s(h*o[2])," l ",s(h*o[1]),", ",s(h*(o[2]+e))," l ",s(h*(o[1]+e)),", ",s(h*o[2])," l ",s(h*o[1]),", ",s(h*(o[2]-e))," x e "].join("")):"^"===i?r.push([" m ",s(h*o[1]),", ",s(h*(o[2]-e))," l ",s(h*(o[1]-n)),", ",s(h*(o[2]+a))," l ",s(h*(o[1]+n)),", ",s(h*(o[2]+a))," x e "].join("")):"v"===i?r.push([" m ",s(h*o[1]),", ",s(h*(o[2]+e))," l ",s(h*(o[1]-n)),", ",s(h*(o[2]-a))," l ",s(h*(o[1]+n)),", ",s(h*(o[2]-a))," x e "].join("")):">"===i?r.push([" m ",s(h*(o[1]+e)),", ",s(h*o[2])," l ",s(h*(o[1]-a)),", ",s(h*(o[2]-n))," l ",s(h*(o[1]-a)),", ",s(h*(o[2]+n))," l ",s(h*(o[1]+e)),", ",s(h*o[2])].join("")):"<"===i&&r.push([" m ",s(h*(o[1]-e)),", ",s(h*o[2])," l ",s(h*(o[1]+a)),", ",s(h*(o[2]-n))," l ",s(h*(o[1]+a)),", ",s(h*(o[2]+n))," x e "].join("")),r},updatePathStringPrim:function(t){var e,i,r=[],s=this.resolution,o=Math.round,n=" m ",a=n,h=Math.min(t.numberPoints,8192);if(t.numberPoints<=0)return"";if(h=Math.min(h,t.points.length),1===t.bezierDegree)for(e=0;e<h;e++)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?a=n:(i[1]>2e4?i[1]=2e4:i[1]<-2e4&&(i[1]=-2e4),i[2]>2e4?i[2]=2e4:i[2]<-2e4&&(i[2]=-2e4),r.push([a,o(s*i[1]),", ",o(s*i[2])].join("")),a=" l ");else if(3===t.bezierDegree)for(e=0;e<h;)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?a=n:(r.push([a,o(s*i[1]),", ",o(s*i[2])].join(""))," c "===a&&(e+=1,i=t.points[e].scrCoords,r.push([" ",o(s*i[1]),", ",o(s*i[2])].join("")),e+=1,i=t.points[e].scrCoords,r.push([" ",o(s*i[1]),", ",o(s*i[2])].join(""))),a=" c "),e+=1;return r.push(" e"),r},updatePathStringBezierPrim:function(t){var e,i,s,o,a,h,l=[],c=r.evaluate(t.visProp.strokewidth),d=this.resolution,u=Math.round,p=" m ",f=p,m="plot"!==r.evaluate(t.visProp.curvetype),g=Math.min(t.numberPoints,8192);if(t.numberPoints<=0)return"";for(m&&t.board.options.curve.RDPsmoothing&&(t.points=n.RamerDouglasPeucker(t.points,1)),g=Math.min(g,t.points.length),i=1;i<3;i++)for(f=p,e=0;e<g;e++)o=t.points[e].scrCoords,isNaN(o[1])||isNaN(o[2])?f=p:(o[1]>2e4?o[1]=2e4:o[1]<-2e4&&(o[1]=-2e4),o[2]>2e4?o[2]=2e4:o[2]<-2e4&&(o[2]=-2e4),f===p?l.push([f,u(d*o[1])," ",u(d*o[2])].join("")):(s=2*i,l.push([f,u(d*(a+.333*(o[1]-a)+c*(s*Math.random()-i)))," ",u(d*(h+.333*(o[2]-h)+c*(s*Math.random()-i)))," ",u(d*(a+.666*(o[1]-a)+c*(s*Math.random()-i)))," ",u(d*(h+.666*(o[2]-h)+c*(s*Math.random()-i)))," ",u(d*o[1])," ",u(d*o[2])].join(""))),f=" c ",a=o[1],h=o[2]);return l.push(" e"),l},updatePolygonPrim:function(t,e){var i,r,s=e.vertices.length,o=this.resolution,n=[];if(this._setAttr(t,"stroked","false"),r=e.vertices[0].coords.scrCoords,!isNaN(r[1]+r[2])){for(n.push(["m ",Math.floor(o*r[1]),",",Math.floor(o*r[2])," l "].join("")),i=1;i<s-1;i++){if(!e.vertices[i].isReal)return void this.updatePathPrim(t,"",e.board);if(r=e.vertices[i].coords.scrCoords,isNaN(r[1]+r[2]))return;n.push(Math.floor(o*r[1])+","+Math.floor(o*r[2])),i<s-2&&n.push(", ")}n.push(" x e"),this.updatePathPrim(t,n,e.board)}},updateRectPrim:function(t,e,i,r,s){t.style.left=Math.floor(e)+"px",t.style.top=Math.floor(i)+"px",r>=0&&(t.style.width=r+"px"),s>=0&&(t.style.height=s+"px")},setPropertyPrim:function(t,e,i){var s,o="";switch(e){case"stroke":o="strokecolor";break;case"stroke-width":o="strokeweight";break;case"stroke-dasharray":o="dashstyle"}""!==o&&(s=r.evaluate(i),this._setAttr(t,o,s))},display:function(t,e){t&&t.rendNode&&(t.visPropOld.visible=e,t.rendNode.style.visibility=e?"inherit":"hidden")},show:function(e){t.deprecated("Board.renderer.show()","Board.renderer.display()"),e&&e.rendNode&&(e.rendNode.style.visibility="inherit")},hide:function(e){t.deprecated("Board.renderer.hide()","Board.renderer.display()"),e&&e.rendNode&&(e.rendNode.style.visibility="hidden")},setDashStyle:function(t,e){var i;e.dash>=0&&(i=t.rendNodeStroke,this._setAttr(i,"dashstyle",this.dashArray[e.dash]))},setGradient:function(t){var e=t.rendNodeFill,i=r.evaluate(t.visProp.gradient);"linear"===i?(this._setAttr(e,"type","gradient"),this._setAttr(e,"color2",r.evaluate(t.visProp.gradientsecondcolor)),this._setAttr(e,"opacity2",r.evaluate(t.visProp.gradientsecondopacity)),this._setAttr(e,"angle",r.evaluate(t.visProp.gradientangle))):"radial"===i?(this._setAttr(e,"type","gradientradial"),this._setAttr(e,"color2",r.evaluate(t.visProp.gradientsecondcolor)),this._setAttr(e,"opacity2",r.evaluate(t.visProp.gradientsecondopacity)),this._setAttr(e,"focusposition",100*r.evaluate(t.visProp.gradientpositionx)+"%,"+100*r.evaluate(t.visProp.gradientpositiony)+"%"),this._setAttr(e,"focussize","0,0")):this._setAttr(e,"type","solid")},setObjectFillColor:function(t,e,o){var n,a,h,l=r.evaluate(e),c=r.evaluate(o),d=t.rendNode;c=c>0?c:0,t.visPropOld.fillcolor===l&&t.visPropOld.fillopacity===c||(r.exists(l)&&!1!==l&&(9!==l.length?(n=l,h=c):(n=(a=s.rgba2rgbo(l))[0],h=c*a[1]),"none"===n||!1===n?this._setAttr(t.rendNode,"filled","false"):(this._setAttr(t.rendNode,"filled","true"),this._setAttr(t.rendNode,"fillcolor",n),r.exists(h)&&t.rendNodeFill&&this._setAttr(t.rendNodeFill,"opacity",100*h+"%")),t.type===i.OBJECT_TYPE_IMAGE&&d.filters.length>1&&(d.filters.item(1).opacity=Math.round(100*h),d.filters.item(1).enabled=!0)),t.visPropOld.fillcolor=l,t.visPropOld.fillopacity=c)},setObjectStrokeColor:function(t,e,s){var o,n,a,h,l=r.evaluate(e),c=r.evaluate(s),d=t.rendNode;c=c>0?c:0,t.visPropOld.strokecolor===l&&t.visPropOld.strokeopacity===c||(r.exists(l)&&!1!==l&&(9!==l.length?(o=l,a=c):(o=(n=e.rgba2rgbo(l))[0],a=c*n[1]),t.elementClass===i.OBJECT_CLASS_TEXT?(d.filters.length>1&&(d.filters.item(1).opacity=Math.round(100*a),d.filters.item(1).enabled=!0),d.style.color=o):(!1!==o&&(this._setAttr(d,"stroked","true"),this._setAttr(d,"strokecolor",o)),h=t.rendNodeStroke,r.exists(a)&&t.type!==i.OBJECT_TYPE_IMAGE&&this._setAttr(h,"opacity",100*a+"%"))),t.visPropOld.strokecolor=l,t.visPropOld.strokeopacity=c)},setObjectStrokeWidth:function(t,e){var i,s=r.evaluate(e);isNaN(s)||t.visPropOld.strokewidth===s||(i=t.rendNode,this.setPropertyPrim(i,"stroked","true"),r.exists(s)&&(this.setPropertyPrim(i,"stroke-width",s),0===s&&r.exists(t.rendNodeStroke)&&this._setAttr(i,"stroked","false")),t.visPropOld.strokewidth=s)},setShadow:function(t){var e=t.rendNodeShadow,i=r.evaluate(t.visProp.shadow);e&&t.visPropOld.shadow!==i&&(i?(this._setAttr(e,"On","True"),this._setAttr(e,"Offset","3pt,3pt"),this._setAttr(e,"Opacity","60%"),this._setAttr(e,"Color","#aaaaaa")):this._setAttr(e,"On","False"),t.visPropOld.shadow=i)},suspendRedraw:function(){this.container.style.display="none"},unsuspendRedraw:function(){this.container.style.display=""}}),t.VMLRenderer})),define("renderer/canvas",["jxg","renderer/abstract","base/constants","utils/env","utils/type","utils/uuid","utils/color","base/coords","math/math","math/geometry","math/numerics"],(function(t,e,i,r,s,o,n,a,h,l,c){"use strict";return t.CanvasRenderer=function(t,e){if(this.type="canvas",this.canvasRoot=null,this.suspendHandle=null,this.canvasId=o.genUUID(),this.canvasNamespace=null,r.isBrowser)this.container=t,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.innerHTML=['<canvas id="',this.canvasId,'" width="',e.width,'px" height="',e.height,'px"><',"/canvas>"].join(""),this.canvasRoot=this.container.ownerDocument.getElementById(this.canvasId),this.canvasRoot.style.display="block",this.context=this.canvasRoot.getContext("2d");else if(r.isNode())try{this.canvasId= true?__webpack_require__(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'canvas'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())):0,this.canvasRoot=new this.canvasId(500,500),this.context=this.canvasRoot.getContext("2d")}catch(t){console.log("Warning: 'canvas' not found. You might need to call 'npm install canvas'")}this.dashArray=[[2,2],[5,5],[10,10],[20,20],[20,10,10,10],[20,5,10,5]]},t.CanvasRenderer.prototype=new e,t.extend(t.CanvasRenderer.prototype,{_drawPolygon:function(t,e,i){var r,s=t.length,o=this.context;if(s>0){if(i&&(o.lineWidth=0),o.beginPath(),o.moveTo(t[0][0],t[0][1]),1===e)for(r=1;r<s;r++)o.lineTo(t[r][0],t[r][1]);else for(r=1;r<s;r+=3)o.bezierCurveTo(t[r][0],t[r][1],t[r+1][0],t[r+1][1],t[r+2][0],t[r+2][1]);i?(o.lineTo(t[0][0],t[0][1]),o.closePath(),o.fill()):o.stroke()}},_fill:function(t){var e=this.context;e.save(),this._setColor(t,"fill")&&e.fill(),e.restore()},_rotatePoint:function(t,e,i){return[e*Math.cos(t)-i*Math.sin(t),e*Math.sin(t)+i*Math.cos(t)]},_rotateShape:function(t,e){var i,r=[],s=t.length;if(s<=0)return t;for(i=0;i<s;i++)r.push(this._rotatePoint(e,t[i][0],t[i][1]));return r},updateGradientAngle:function(t,e){var r,s,o,n,h,l,c,d,u,p,f,m,g=1,b=Math.cos(-e),v=Math.sin(-e),y=t.getBoundingBox();return Math.abs(b)>Math.abs(v)?g/=Math.abs(b):g/=Math.abs(v),b>=0?(o=0,n=b*g):(o=-b*g,n=0),v>=0?(h=0,l=v*g):(h=-v*g,l=0),r=new a(i.COORDS_BY_USER,[y[0],y[1]],t.board),f=(s=new a(i.COORDS_BY_USER,[y[2],y[3]],t.board)).scrCoords[1]-r.scrCoords[1],m=s.scrCoords[2]-r.scrCoords[2],c=r.scrCoords[1]+f*o,u=r.scrCoords[2]+m*h,d=r.scrCoords[1]+f*n,p=r.scrCoords[2]+m*l,this.context.createLinearGradient(c,u,d,p)},updateGradientCircle:function(t,e,r,s,o,n,h){var l,c,d,u,p,f,m,g,b,v,y=t.getBoundingBox();return l=new a(i.COORDS_BY_USER,[y[0],y[1]],t.board),b=(c=new a(i.COORDS_BY_USER,[y[2],y[3]],t.board)).scrCoords[1]-l.scrCoords[1],v=l.scrCoords[2]-c.scrCoords[2],d=l.scrCoords[1]+b*e,u=c.scrCoords[2]+v*r,f=l.scrCoords[1]+b*o,m=c.scrCoords[2]+v*n,p=s*(b+v)*.5,g=h*(b+v)*.5,this.context.createRadialGradient(f,m,g,d,u,p)},updateGradient:function(t){var e,i,r,o=s.evaluate(t.visProp.gradient);return i=(i=s.evaluate(t.visProp.fillopacity))>0?i:0,e=s.evaluate(t.visProp.fillcolor),"linear"===o?r=this.updateGradientAngle(t,s.evaluate(t.visProp.gradientangle)):"radial"===o&&(r=this.updateGradientCircle(t,s.evaluate(t.visProp.gradientcx),s.evaluate(t.visProp.gradientcy),s.evaluate(t.visProp.gradientr),s.evaluate(t.visProp.gradientfx),s.evaluate(t.visProp.gradientfy),s.evaluate(t.visProp.gradientfr))),r.addColorStop(s.evaluate(t.visProp.gradientstartoffset),e),r.addColorStop(s.evaluate(t.visProp.gradientendoffset),s.evaluate(t.visProp.gradientsecondcolor)),r},_setColor:function(t,e,i){var r,o,a,h,l,c,d,u,p=!0,f=t.visProp;return e=e||"stroke",i=i||e,r=this._getHighlighted(t),"linear"===(u=s.evaluate(t.visProp.gradient))||"radial"===u?(this.context[i+"Style"]=this.updateGradient(t),p):("none"!==(a=s.evaluate(f[r+e+"color"]))&&!1!==a?(c=(c=s.evaluate(f[r+e+"opacity"]))>0?c:0,9!==a.length?(l=a,d=c):(l=(h=n.rgba2rgbo(a))[0],d=c*h[1]),this.context.globalAlpha=d,this.context[i+"Style"]=l):p=!1,o=parseFloat(s.evaluate(f[r+"strokewidth"])),"stroke"!==e||isNaN(o)||(0===o?this.context.globalAlpha=0:this.context.lineWidth=o),"stroke"===e&&void 0!==f.linecap&&""!==f.linecap&&(this.context.lineCap=f.linecap),p)},_stroke:function(t){var e=this.context,i=s.evaluate(t.visProp.dash);e.save(),i>0?e.setLineDash&&e.setLineDash(this.dashArray[i]):this.context.lineDashArray=[],this._setColor(t,"stroke")&&e.stroke(),e.restore()},_translateShape:function(t,e,i){var r,s=[],o=t.length;if(o<=0)return t;for(r=0;r<o;r++)s.push([t[r][0]+e,t[r][1]+i]);return s},drawPoint:function(t){var e=s.evaluate(t.visProp.face),i=s.evaluate(t.visProp.size),r=t.coords.scrCoords,o=i*Math.sqrt(3)*.5,n=.5*i,a=parseFloat(s.evaluate(t.visProp.strokewidth))/2,h=this.context;if(t.visPropCalc.visible)switch(e){case"cross":case"x":h.beginPath(),h.moveTo(r[1]-i,r[2]-i),h.lineTo(r[1]+i,r[2]+i),h.moveTo(r[1]+i,r[2]-i),h.lineTo(r[1]-i,r[2]+i),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(t);break;case"circle":case"o":h.beginPath(),h.arc(r[1],r[2],i+1+a,0,2*Math.PI,!1),h.closePath(),this._fill(t),this._stroke(t);break;case"square":case"[]":if(i<=0)break;h.save(),this._setColor(t,"stroke","fill")&&h.fillRect(r[1]-i-a,r[2]-i-a,2*i+3*a,2*i+3*a),h.restore(),h.save(),this._setColor(t,"fill"),h.fillRect(r[1]-i+a,r[2]-i+a,2*i-a,2*i-a),h.restore();break;case"plus":case"+":h.beginPath(),h.moveTo(r[1]-i,r[2]),h.lineTo(r[1]+i,r[2]),h.moveTo(r[1],r[2]-i),h.lineTo(r[1],r[2]+i),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(t);break;case"diamond":case"<>":h.beginPath(),h.moveTo(r[1]-i,r[2]),h.lineTo(r[1],r[2]+i),h.lineTo(r[1]+i,r[2]),h.lineTo(r[1],r[2]-i),h.closePath(),this._fill(t),this._stroke(t);break;case"triangleup":case"a":case"^":h.beginPath(),h.moveTo(r[1],r[2]-i),h.lineTo(r[1]-o,r[2]+n),h.lineTo(r[1]+o,r[2]+n),h.closePath(),this._fill(t),this._stroke(t);break;case"triangledown":case"v":h.beginPath(),h.moveTo(r[1],r[2]+i),h.lineTo(r[1]-o,r[2]-n),h.lineTo(r[1]+o,r[2]-n),h.closePath(),this._fill(t),this._stroke(t);break;case"triangleleft":case"<":h.beginPath(),h.moveTo(r[1]-i,r[2]),h.lineTo(r[1]+n,r[2]-o),h.lineTo(r[1]+n,r[2]+o),h.closePath(),this._fill(t),this._stroke(t);break;case"triangleright":case">":h.beginPath(),h.moveTo(r[1]+i,r[2]),h.lineTo(r[1]-n,r[2]-o),h.lineTo(r[1]-n,r[2]+o),h.closePath(),this._fill(t),this._stroke(t)}},updatePoint:function(t){this.drawPoint(t)},drawArrows:function(t,e,r,o,n){var a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w=this.context,T=1,N=1,M=1,A=n.evFirst,R=n.evLast;if("none"!==s.evaluate(t.visProp.strokecolor)&&(A||R)){if(t.elementClass===i.OBJECT_CLASS_LINE)a=e.scrCoords[1],h=e.scrCoords[2],l=r.scrCoords[1],c=r.scrCoords[2],S=O=Math.atan2(c-h,l-a);else{if(a=t.points[0].scrCoords[1],h=t.points[0].scrCoords[2],(x=t.points.length-1)<1)return;l=t.points[t.points.length-1].scrCoords[1],c=t.points[t.points.length-1].scrCoords[2],C=t.points[1].scrCoords[1]-t.points[0].scrCoords[1],_=t.points[1].scrCoords[2]-t.points[0].scrCoords[2],P=t.points[x].scrCoords[1]-t.points[x-1].scrCoords[1],E=t.points[x].scrCoords[2]-t.points[x-1].scrCoords[2],A&&(S=Math.atan2(_,C)),R&&(O=Math.atan2(E,P))}if(d=s.evaluate(t.visProp[o+"strokewidth"]),A)if(u=d*n.sizeFirst,m=T=n.typeFirst,2===T)f=[[u,.5*-u],[0,0],[u,.5*u],[.5*u,0]];else if(3===T)f=[[u/3,.5*-u],[0,.5*-u],[0,.5*u],[u/3,.5*u]];else if(4===T)for(u/=10,N=3,y=(f=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]]).length,v=0;v<y;v++)f[v][0]*=-u,f[v][1]*=u,f[v][0]+=10*u,f[v][1]-=3.31*u;else if(5===T)for(u/=10,N=3,y=(f=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]]).length,v=0;v<y;v++)f[v][0]*=-u,f[v][1]*=u,f[v][0]+=10*u,f[v][1]-=3.28*u;else if(6===T)for(u/=10,N=3,y=(f=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]]).length,v=0;v<y;v++)f[v][0]*=-u,f[v][1]*=u,f[v][0]+=10*u,f[v][1]-=2.84*u;else if(7===T)for(u=d,N=3,y=(f=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]]).length,v=0;v<y;v++)f[v][0]*=-u,f[v][1]*=u,f[v][0]+=10*u,f[v][1]-=5.2*u;else f=[[u,.5*-u],[0,0],[u,.5*u]];if(R)if(u=d*n.sizeLast,g=T=n.typeLast,2===T)p=[[-u,.5*-u],[0,0],[-u,.5*u],[.5*-u,0]];else if(3===T)p=[[-u/3,.5*-u],[0,.5*-u],[0,.5*u],[-u/3,.5*u]];else if(4===T)for(u/=10,M=3,y=(p=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]]).length,v=0;v<y;v++)p[v][0]*=u,p[v][1]*=u,p[v][0]-=10*u,p[v][1]-=3.31*u;else if(5===T)for(u/=10,M=3,y=(p=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]]).length,v=0;v<y;v++)p[v][0]*=u,p[v][1]*=u,p[v][0]-=10*u,p[v][1]-=3.28*u;else if(6===T)for(u/=10,M=3,y=(p=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]]).length,v=0;v<y;v++)p[v][0]*=u,p[v][1]*=u,p[v][0]-=10*u,p[v][1]-=2.84*u;else if(7===T)for(u=d,M=3,y=(p=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]]).length,v=0;v<y;v++)p[v][0]*=u,p[v][1]*=u,p[v][0]-=10*u,p[v][1]-=5.2*u;else p=[[-u,.5*-u],[0,0],[-u,.5*u]];w.save(),this._setColor(t,"stroke","fill")&&(this._setColor(t,"stroke"),A&&(b=7!==m,this._drawPolygon(this._translateShape(this._rotateShape(f,S),a,h),N,b)),R&&(b=7!==g,this._drawPolygon(this._translateShape(this._rotateShape(p,O),l,c),M,b))),w.restore()}},drawLine:function(t){var e,r,o,n,h,c=new a(i.COORDS_BY_USER,t.point1.coords.usrCoords,t.board),d=new a(i.COORDS_BY_USER,t.point2.coords.usrCoords,t.board),u=null;t.visPropCalc.visible&&(o=this._getHighlighted(t),n=s.evaluate(t.visProp[o+"strokewidth"]),((h=this.getArrowHeadData(t,n,o)).evFirst||h.evLast)&&(u=-4),l.calcStraight(t,c,d,u),this.handleTouchpoints(t,c,d,h),e=new a(i.COORDS_BY_USER,c.usrCoords,t.board),r=new a(i.COORDS_BY_USER,d.usrCoords,t.board),this.getPositionArrowHead(t,c,d,h),this.context.beginPath(),this.context.moveTo(c.scrCoords[1],c.scrCoords[2]),this.context.lineTo(d.scrCoords[1],d.scrCoords[2]),this._stroke(t),(h.evFirst||h.evLast)&&this.drawArrows(t,e,r,o,h))},updateLine:function(t){this.drawLine(t)},drawTicks:function(){},updateTicks:function(t){var e,i,r,s,o,n,a=t.ticks.length,h=this.context;for(h.beginPath(),e=0;e<a;e++)for(r=(i=t.ticks[e])[0],s=i[1],o=r.length,h.moveTo(r[0],s[0]),n=1;n<o;++n)h.lineTo(r[n],s[n]);h.lineCap="round",this._stroke(t)},drawCurve:function(t){var e,i,r;s.evaluate(t.visProp.handdrawing)?this.updatePathStringBezierPrim(t):this.updatePathStringPrim(t),t.numberPoints>1&&(e=this._getHighlighted(t),i=s.evaluate(t.visProp[e+"strokewidth"]),((r=this.getArrowHeadData(t,i,e)).evFirst||r.evLast)&&this.drawArrows(t,null,null,e,r))},updateCurve:function(t){this.drawCurve(t)},drawEllipse:function(t){var e=t.center.coords.scrCoords[1],i=t.center.coords.scrCoords[2],r=t.board.unitX,s=t.board.unitY,o=2*t.Radius(),n=2*t.Radius(),a=o*r,h=n*s,l=e-a/2,c=i-h/2,d=a/2*.5522848,u=h/2*.5522848,p=l+a,f=c+h,m=l+a/2,g=c+h/2,b=this.context;o>0&&n>0&&!isNaN(e+i)&&(b.beginPath(),b.moveTo(l,g),b.bezierCurveTo(l,g-u,m-d,c,m,c),b.bezierCurveTo(m+d,c,p,g-u,p,g),b.bezierCurveTo(p,g+u,m+d,f,m,f),b.bezierCurveTo(m-d,f,l,g+u,l,g),b.closePath(),this._fill(t),this._stroke(t))},updateEllipse:function(t){return this.drawEllipse(t)},displayCopyright:function(t,e){var i=this.context;i.save(),i.font=e+"px Arial",i.fillStyle="#aaa",i.lineWidth=.5,i.fillText(t,10,2+e),i.restore()},drawInternalText:function(t){var e=s.evaluate(t.visProp.fontsize),i=s.evaluate(t.visProp.fontunit),r=t.getAnchorX(),o=t.getAnchorY(),n=this.context;return n.save(),this._setColor(t,"stroke","fill")&&!isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])&&(n.font=(e>0?e:0)+i+" Arial",this.transformImage(t,t.transformations),"left"===r?n.textAlign="left":"right"===r?n.textAlign="right":"middle"===r&&(n.textAlign="center"),"bottom"===o?n.textBaseline="bottom":"top"===o?n.textBaseline="top":"middle"===o&&(n.textBaseline="middle"),n.fillText(t.plaintext,t.coords.scrCoords[1],t.coords.scrCoords[2])),n.restore(),null},updateInternalText:function(t){this.drawInternalText(t)},setObjectStrokeColor:function(t,e,r){var o,a,h,l,c=s.evaluate(e),d=s.evaluate(r);d=d>0?d:0,t.visPropOld.strokecolor===c&&t.visPropOld.strokeopacity===d||(s.exists(c)&&!1!==c&&(9!==c.length?(o=c,h=d):(o=(a=n.rgba2rgbo(c))[0],h=d*a[1]),l=t.rendNode,t.elementClass===i.OBJECT_CLASS_TEXT&&"html"===s.evaluate(t.visProp.display)&&(l.style.color=o,l.style.opacity=h)),t.visPropOld.strokecolor=c,t.visPropOld.strokeopacity=d)},drawImage:function(t){t.rendNode=new Image,t._src="",this.updateImage(t)},updateImage:function(t){var e=this.context,i=s.evaluate(t.visProp.fillopacity),r=s.bind((function(){t.imgIsLoaded=!0,t.size[0]<=0||t.size[1]<=0||(e.save(),e.globalAlpha=i,this.transformImage(t,t.transformations),e.drawImage(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),e.restore())}),this);this.updateImageURL(t)?t.rendNode.onload=r:t.imgIsLoaded&&r()},transformImage:function(t,e){var i,r=e.length,s=this.context;r>0&&(i=this.joinTransforms(t,e),Math.abs(c.det(i))>=h.eps&&s.transform(i[1][1],i[2][1],i[1][2],i[2][2],i[1][0],i[2][0]))},updateImageURL:function(t){var e;return e=s.evaluate(t.url),t._src!==e&&(t.imgIsLoaded=!1,t.rendNode.src=e,t._src=e,!0)},remove:function(t){s.exists(t)&&s.exists(t.parentNode)&&t.parentNode.removeChild(t)},updatePathStringPrim:function(t){var e,i,r,s,o,n="M",a=n,h=5e3,l=this.context;if(!(t.numberPoints<=0)){if(o=Math.min(t.points.length,t.numberPoints),l.beginPath(),1===t.bezierDegree)for(e=0;e<o;e++)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?a=n:(i[1]>h?i[1]=h:i[1]<-5e3&&(i[1]=-5e3),i[2]>h?i[2]=h:i[2]<-5e3&&(i[2]=-5e3),a===n?l.moveTo(i[1],i[2]):l.lineTo(i[1],i[2]),a="L");else if(3===t.bezierDegree)for(e=0;e<o;)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?a=n:(a===n?l.moveTo(i[1],i[2]):(e+=1,r=t.points[e].scrCoords,e+=1,s=t.points[e].scrCoords,l.bezierCurveTo(i[1],i[2],r[1],r[2],s[1],s[2])),a="C"),e+=1;l.lineCap="round",this._fill(t),this._stroke(t)}},updatePathStringBezierPrim:function(t){var e,i,r,o,n,a,h,l="M",d=l,u=5e3,p=s.evaluate(t.visProp.strokewidth),f="plot"!==s.evaluate(t.visProp.curvetype),m=this.context;if(!(t.numberPoints<=0)){for(f&&t.board.options.curve.RDPsmoothing&&(t.points=c.RamerDouglasPeucker(t.points,.5)),h=Math.min(t.points.length,t.numberPoints),m.beginPath(),i=1;i<3;i++)for(d=l,e=0;e<h;e++)o=t.points[e].scrCoords,isNaN(o[1])||isNaN(o[2])?d=l:(o[1]>u?o[1]=u:o[1]<-5e3&&(o[1]=-5e3),o[2]>u?o[2]=u:o[2]<-5e3&&(o[2]=-5e3),d===l?m.moveTo(o[1],o[2]):(r=2*i,m.bezierCurveTo(n+.333*(o[1]-n)+p*(r*Math.random()-i),a+.333*(o[2]-a)+p*(r*Math.random()-i),n+.666*(o[1]-n)+p*(r*Math.random()-i),a+.666*(o[2]-a)+p*(r*Math.random()-i),o[1],o[2])),d="C",n=o[1],a=o[2]);m.lineCap="round",this._fill(t),this._stroke(t)}},updatePolygonPrim:function(t,e){var i,r,s,o=e.vertices.length,n=this.context,a=!0;if(!(o<=0)&&e.visPropCalc.visible){for("polygonalchain"===e.elType&&o++,n.beginPath(),r=0;!e.vertices[r].isReal&&r<o-1;)r++,a=!1;for(i=e.vertices[r].coords.scrCoords,n.moveTo(i[1],i[2]),s=r;s<o-1;s++)e.vertices[s].isReal||(a=!1),i=e.vertices[s].coords.scrCoords,n.lineTo(i[1],i[2]);n.closePath(),a&&this._fill(e)}},display:function(t,e){t&&t.rendNode&&(t.visPropOld.visible=e,t.rendNode.style.visibility=e?"inherit":"hidden")},show:function(e){t.deprecated("Board.renderer.show()","Board.renderer.display()"),s.exists(e.rendNode)&&(e.rendNode.style.visibility="inherit")},hide:function(e){t.deprecated("Board.renderer.hide()","Board.renderer.display()"),s.exists(e.rendNode)&&(e.rendNode.style.visibility="hidden")},setGradient:function(t){var e;e=(e=s.evaluate(t.visProp.fillopacity))>0?e:0},setShadow:function(t){t.visPropOld.shadow!==t.visProp.shadow&&(t.visPropOld.shadow=t.visProp.shadow)},highlight:function(t){return t.elementClass===i.OBJECT_CLASS_TEXT&&"html"===s.evaluate(t.visProp.display)?this.updateTextStyle(t,!0):(t.board.prepareUpdate(),t.board.renderer.suspendRedraw(t.board),t.board.updateRenderer(),t.board.renderer.unsuspendRedraw()),this},noHighlight:function(t){return t.elementClass===i.OBJECT_CLASS_TEXT&&"html"===s.evaluate(t.visProp.display)?this.updateTextStyle(t,!1):(t.board.prepareUpdate(),t.board.renderer.suspendRedraw(t.board),t.board.updateRenderer(),t.board.renderer.unsuspendRedraw()),this},suspendRedraw:function(e){this.context.save(),this.context.clearRect(0,0,this.canvasRoot.width,this.canvasRoot.height),e&&e.attr.showcopyright&&this.displayCopyright(t.licenseText,12)},unsuspendRedraw:function(){this.context.restore()},resize:function(t,e){this.container?(this.canvasRoot.style.width=parseFloat(t)+"px",this.canvasRoot.style.height=parseFloat(e)+"px",this.canvasRoot.setAttribute("width",2*parseFloat(t)+"px"),this.canvasRoot.setAttribute("height",2*parseFloat(e)+"px")):(this.canvasRoot.width=2*parseFloat(t),this.canvasRoot.height=2*parseFloat(e)),this.context=this.canvasRoot.getContext("2d"),this.context.scale(2,2)},removeToInsertLater:function(){return function(){}}}),t.CanvasRenderer})),define("renderer/no",["jxg","renderer/abstract"],(function(t,e){"use strict";return t.NoRenderer=function(){this.enhancedRendering=!1,this.type="no"},t.extend(t.NoRenderer.prototype,{drawPoint:function(t){},updatePoint:function(t){},changePointStyle:function(t){},drawLine:function(t){},updateLine:function(t){},drawTicks:function(t){},updateTicks:function(t){},drawCurve:function(t){},updateCurve:function(t){},drawEllipse:function(t){},updateEllipse:function(t){},drawPolygon:function(t){},updatePolygon:function(t){},displayCopyright:function(t,e){},drawInternalText:function(t){},updateInternalText:function(t){},drawText:function(t){},updateText:function(t){},updateTextStyle:function(t,e){},updateInternalTextStyle:function(t,e,i){},drawImage:function(t){},updateImage:function(t){},transformImage:function(t,e){},updateImageURL:function(t){},appendChildPrim:function(t,e){},appendNodesToElement:function(t,e){},createPrim:function(t,e){return null},remove:function(t){},makeArrows:function(t){},updateEllipsePrim:function(t,e,i,r,s){},updateLinePrim:function(t,e,i,r,s,o){},updatePathPrim:function(t,e,i){},updatePathStringPoint:function(t,e,i){},updatePathStringPrim:function(t){},updatePathStringBezierPrim:function(t){},updatePolygonPrim:function(t,e){},updateRectPrim:function(t,e,i,r,s){},setPropertyPrim:function(t,e,i){},display:function(t,e){t&&(t.visPropOld.visible=e)},show:function(t){},hide:function(t){},setBuffering:function(t,e){},setDashStyle:function(t){},setDraft:function(t){},removeDraft:function(t){},setGradient:function(t){},updateGradient:function(t){},setObjectTransition:function(t,e){},setObjectFillColor:function(t,e,i){},setObjectStrokeColor:function(t,e,i){},setObjectStrokeWidth:function(t,e){},setShadow:function(t){},highlight:function(t){},noHighlight:function(t){},suspendRedraw:function(){},unsuspendRedraw:function(){},drawZoomBar:function(t){},getElementById:function(t){return null},resize:function(t,e){},removeToInsertLater:function(){return function(){}}}),t.NoRenderer.prototype=new e,t.NoRenderer})),define("jsxgraph",["jxg","utils/env","utils/type","base/board","reader/file","options","renderer/svg","renderer/vml","renderer/canvas","renderer/no"],(function(t,e,i,r,s,o,n,a,h,l){"use strict";return t.JSXGraph={rendererType:(o.board.renderer="no",e.supportsVML()&&(o.board.renderer="vml",document.onmousemove=function(){var t;return document.body&&(t=document.body.scrollLeft,t+=document.body.scrollTop),t}),e.supportsCanvas()&&(o.board.renderer="canvas"),e.supportsSVG()&&(o.board.renderer="svg"),e.isNode()&&e.supportsCanvas()&&(o.board.renderer="canvas"),(e.isNode()||"no"===o.renderer)&&(o.text.display="internal",o.infobox.display="internal"),o.board.renderer),initRenderer:function(t,e,r,s){var o;if(i.exists(r)&&!1!==r||"object"!=typeof document||(r=document),"object"==typeof r&&null!==t)for(o=r.getElementById(t);o.firstChild;)o.removeChild(o.firstChild);else o=t;return void 0!==s&&"auto"!==s||(s=this.rendererType),"svg"===s?new n(o,e):"vml"===s?new a(o):"canvas"===s?new h(o,e):new l},_setAttributes:function(t){var e=i.copyAttributes(t,o,"board");return e.zoom=i.copyAttributes(e,o,"board","zoom"),e.pan=i.copyAttributes(e,o,"board","pan"),e.drag=i.copyAttributes(e,o,"board","drag"),e.keyboard=i.copyAttributes(e,o,"board","keyboard"),e.selection=i.copyAttributes(e,o,"board","selection"),e.navbar=i.copyAttributes(e.navbar,o,"navbar"),e.screenshot=i.copyAttributes(e,o,"board","screenshot"),e.resize=i.copyAttributes(e,o,"board","resize"),e.fullscreen=i.copyAttributes(e,o,"board","fullscreen"),e.movetarget=t.moveTarget||t.movetarget||o.board.moveTarget,e},_fillBoard:function(e,i,r){e.initInfobox(),e.maxboundingbox=i.maxboundingbox,e.resizeContainer(r.width,r.height,!0,!0),e._createSelectionPolygon(i),e.renderer.drawZoomBar(e,i.navbar),t.boards[e.id]=e},_setARIA:function(t,e){var i,r,s,o,n,a,h=e.document||document;"object"==typeof h&&(i=(r=h.getElementById(t)).ownerDocument,o=r.parentNode,n=t+"_ARIAlabel",a=t+"_ARIAdescription",(s=i.createElement("div")).innerHTML=e.title,s.setAttribute("id",n),s.style.display="none",o.insertBefore(s,r),(s=i.createElement("div")).innerHTML=e.description,s.setAttribute("id",a),s.style.display="none",o.insertBefore(s,r),r.setAttribute("aria-labelledby",n),r.setAttribute("aria-describedby",a))},_removeARIANodes:function(t){var e,i,r;"object"==typeof(r=t.document||document)&&(i=t.containerObj.getAttribute("aria-labelledby"),(e=r.getElementById(i))&&e.parentNode&&e.parentNode.removeChild(e),i=t.containerObj.getAttribute("aria-describedby"),(e=r.getElementById(i))&&e.parentNode&&e.parentNode.removeChild(e))},initBoard:function(t,s){var n,a,h,l,c,d,u,p,f,m,g,b,v,y,C=0,_=0;return s=s||{},m=this._setAttributes(s),p=e.getDimensions(t,m.document),m.unitx||m.unity?(n=i.def(m.originx,150),a=i.def(m.originy,150),h=i.def(m.unitx,50),l=i.def(m.unity,50)):((f=m.boundingbox)[0]<m.maxboundingbox[0]&&(f[0]=m.maxboundingbox[0]),f[1]>m.maxboundingbox[1]&&(f[1]=m.maxboundingbox[1]),f[2]>m.maxboundingbox[2]&&(f[2]=m.maxboundingbox[2]),f[3]<m.maxboundingbox[3]&&(f[3]=m.maxboundingbox[3]),d=parseInt(p.width,10),u=parseInt(p.height,10),i.exists(f)&&m.keepaspectratio?(h=d/(f[2]-f[0]),l=u/(f[1]-f[3]),Math.abs(h)<Math.abs(l)?_=.5*(u/(l=Math.abs(h)*l/Math.abs(l))-(f[1]-f[3])):C=.5*(d/(h=Math.abs(l)*h/Math.abs(h))-(f[2]-f[0]))):(h=d/(f[2]-f[0]),l=u/(f[1]-f[3])),n=-h*(f[0]-C),a=l*(f[1]+_)),c=this.initRenderer(t,p,m.document,m.renderer),this._setARIA(t,m),(y=new r(t,c,m.id,[n,a],m.zoomfactor*m.zoomx,m.zoomfactor*m.zoomy,h,l,p.width,p.height,m)).keepaspectratio=m.keepaspectratio,this._fillBoard(y,m,p),y.suspendUpdate(),m.axis&&(g="object"==typeof m.axis?m.axis:{},b=i.deepCopy(o.board.defaultAxes.x,g),v=i.deepCopy(o.board.defaultAxes.y,g),m.defaultaxes.x&&(b=i.deepCopy(b,m.defaultaxes.x)),m.defaultaxes.y&&(v=i.deepCopy(v,m.defaultaxes.y)),y.defaultAxes={},y.defaultAxes.x=y.create("axis",[[0,0],[1,0]],b),y.defaultAxes.y=y.create("axis",[[0,0],[0,1]],v)),m.grid&&y.create("grid",[],"object"==typeof m.grid?m.grid:{}),y.unsuspendUpdate(),y},loadBoardFromFile:function(t,i,o,n,a){var h,l,c,d,u;return n=n||{},h=this._setAttributes(n),d=e.getDimensions(t,h.document),l=this.initRenderer(t,d,h.document,h.renderer),this._setARIA(t,h),c=new r(t,l,"",[150,150],1,1,50,50,d.width,d.height,h),this._fillBoard(c,h,d),u=h.encoding||"iso-8859-1",s.parseFileContent(i,c,o,!0,u,a),c},loadBoardFromString:function(t,i,o,n,a){var h,l,c,d;return n=n||{},h=this._setAttributes(n),d=e.getDimensions(t,h.document),l=this.initRenderer(t,d,h.document),this._setARIA(t,h),c=new r(t,l,"",[150,150],1,1,50,50,d.width,d.height,h),this._fillBoard(c,h,d),s.parseString(i,c,o,!0,a),c},freeBoard:function(e){var i;for(i in"string"==typeof e&&(e=t.boards[e]),this._removeARIANodes(e),e.removeEventHandlers(),e.suspendUpdate(),e.objects)e.objects.hasOwnProperty(i)&&e.objects[i].remove();for(;e.containerObj.firstChild;)e.containerObj.removeChild(e.containerObj.firstChild);for(i in e.objects)e.objects.hasOwnProperty(i)&&delete e.objects[i];delete e.renderer,e.jc.creator.clearCache(),delete e.jc,delete t.boards[e.id]},registerElement:function(e,i){t.deprecated("JXG.JSXGraph.registerElement()","JXG.registerElement()"),t.registerElement(e,i)}},e.isBrowser&&"object"==typeof window&&"object"==typeof document&&e.addEvent(window,"load",(function(){var e,r,s,o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C=!1,_=document.getElementsByTagName("script"),P=function(e,i,r){var s=t.JSXGraph.initBoard(n,{boundingbox:r,keepaspectratio:!0,grid:g,axis:m,showReload:!0});if(i.toLowerCase().indexOf("script")>-1)s.construct(e);else try{s.jc.parse(e)}catch(e){t.debug(e)}return s},E=function(e,i,r,s){return function(){var o;t.JSXGraph.freeBoard(e),(o=P(i,r,s)).reload=E(o,i,r,s)}};for(r=0;r<_.length;r++)if(e=_[r].getAttribute("type",!1),i.exists(e)&&("text/jessiescript"===e.toLowerCase()||"jessiescript"===e.toLowerCase()||"text/jessiecode"===e.toLowerCase()||"jessiecode"===e.toLowerCase())){if(p=_[r].getAttribute("class",!1)||"",l=_[r].getAttribute("width",!1)||"",c=_[r].getAttribute("height",!1)||"",d=_[r].getAttribute("maxwidth",!1)||"100%",u=_[r].getAttribute("aspectratio",!1)||"1/1",f=_[r].getAttribute("boundingbox",!1)||"-5, 5, 5, -5",n=_[r].getAttribute("container",!1),v=_[r].getAttribute("src",!1),4!==(f=f.split(",")).length)f=[-5,5,5,-5];else for(s=0;s<f.length;s++)f[s]=parseFloat(f[s]);if(m=i.str2Bool(_[r].getAttribute("axis",!1)||"false"),g=i.str2Bool(_[r].getAttribute("grid",!1)||"false"),i.exists(n))o=document.getElementById(n);else{n="jessiescript_autgen_jxg_"+r,(o=document.createElement("div")).setAttribute("id",n),h=""!==l?"width:"+l+";":"",h+=""!==c?"height:"+c+";":"",h+=""!==d?"max-width:"+d+";":"",h+=""!==u?"aspect-ratio:"+u+";":"",o.setAttribute("style",h),o.setAttribute("class","jxgbox "+p);try{document.body.insertBefore(o,_[r])}catch(t){"object"==typeof jQuery&&jQuery(o).insertBefore(_[r])}}b="",i.exists(v)?(C=!0,(y=new XMLHttpRequest).open("GET",v),y.overrideMimeType("text/plain; charset=x-user-defined"),y.addEventListener("load",(function(){if(!(this.status<400))throw new Error("\nJSXGraph: failed to load file",v,":",this.responseText);b=this.responseText+"\n"+b,(a=P(b,e,f)).reload=E(a,b,e,f)})),y.addEventListener("error",(function(t){throw new Error("\nJSXGraph: failed to load file",v,":",t)})),y.send()):C=!1,document.getElementById(n)?(b=(b=_[r].innerHTML).replace(/<!\[CDATA\[/g,"").replace(/\]\]>/g,""),_[r].innerHTML=b,C||((a=P(b,e,f)).reload=E(a,b,e,f))):t.debug("JSXGraph: Apparently the div injection failed. Can't create a board, sorry.")}}),window),t.JSXGraph})),define("base/point",["jxg","options","math/math","math/geometry","base/constants","base/element","utils/type","base/coordselement"],(function(t,e,i,r,s,o,n,a){"use strict";return t.Point=function(t,e,i){this.constructor(t,i,s.OBJECT_TYPE_POINT,s.OBJECT_CLASS_POINT),this.element=this.board.select(i.anchor),this.coordsConstructor(e),this.elType="point",this.id=this.board.setId(this,"P"),this.board.renderer.drawPoint(this),this.board.finalizeAdding(this),this.createGradient(),this.createLabel()},t.Point.prototype=new o,n.copyPrototypeMethods(t.Point,a,"coordsConstructor"),t.extend(t.Point.prototype,{hasPoint:function(t,e){var i,r,s,o=this.coords.scrCoords,a=n.evaluate(this.visProp.sizeunit);return n.isObject(n.evaluate(this.visProp.precision))?(s=this.board._inputDevice,r=n.evaluate(this.visProp.precision[s])):r=this.board.options.precision.hasPoint,i=parseFloat(n.evaluate(this.visProp.size)),"user"===a&&(i*=Math.sqrt(this.board.unitX*this.board.unitY)),(i+=.5*parseFloat(n.evaluate(this.visProp.strokewidth)))<r&&(i=r),Math.abs(o[1]-t)<i+2&&Math.abs(o[2]-e)<i+2},update:function(t){return this.needsUpdate?(this.updateCoords(t),n.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateTransform:function(t){var e,i;if(0===this.transformations.length||null===this.baseElement)return this;for(this===this.baseElement?(e=this.transformations[0].apply(this.baseElement,"self"),this.coords.setCoordinates(s.COORDS_BY_USER,e)):e=this.transformations[0].apply(this.baseElement),this.coords.setCoordinates(s.COORDS_BY_USER,e),i=1;i<this.transformations.length;i++)this.coords.setCoordinates(s.COORDS_BY_USER,this.transformations[i].apply(this));return this},updateRenderer:function(){return this.updateRendererGeneric("updatePoint"),this},bounds:function(){return this.coords.usrCoords.slice(1).concat(this.coords.usrCoords.slice(1))},makeIntersection:function(t,e,i,o){var a;t=this.board.select(t),e=this.board.select(e),a=r.intersectionFunction(this.board,t,e,i,o,n.evaluate(this.visProp.alwaysintersect)),this.addConstraint([a]);try{t.addChild(this),e.addChild(this)}catch(i){throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof t+"' and '"+typeof e+"'.")}this.type=s.OBJECT_TYPE_INTERSECTION,this.elType="intersection",this.parents=[t.id,e.id,i,o],this.generatePolynomial=function(){var i=t.generatePolynomial(this),r=e.generatePolynomial(this);return 0===i.length||0===r.length?[]:[i[0],r[0]]},this.prepareUpdate().update()},setStyle:function(t){return this.visProp.face=["cross","cross","cross","circle","circle","circle","circle","square","square","square","plus","plus","plus"][t],this.visProp.size=[2,3,4,1,2,3,4,2,3,4,2,3,4][t],this.board.renderer.changePointStyle(this),this},normalizeFace:function(i){return t.deprecated("Point.normalizeFace()","JXG.normalizePointFace()"),e.normalizePointFace(i)},face:function(e){t.deprecated("Point.face()","Point.setAttribute()"),this.setAttribute({face:e})},size:function(e){t.deprecated("Point.size()","Point.setAttribute()"),this.setAttribute({size:e})},isOn:function(e,o){var a,h;return o=o||i.eps,n.isPoint(e)?this.Dist(e)<o:e.elementClass===s.OBJECT_CLASS_LINE?("segment"!==e.elType||n.evaluate(this.visProp.alwaysintersect)||(a=t.Math.Geometry.projectCoordsToSegment(this.coords.usrCoords,e.point1.coords.usrCoords,e.point2.coords.usrCoords))[1]>=0&&a[1]<=1)&&r.distPointLine(this.coords.usrCoords,e.stdform)<o:e.elementClass===s.OBJECT_CLASS_CIRCLE?n.evaluate(e.visProp.hasinnerpoints)?this.Dist(e.center)<e.Radius()+o:Math.abs(this.Dist(e.center)-e.Radius())<o:e.elementClass===s.OBJECT_CLASS_CURVE?(h=r.projectPointToCurve(this,e,this.board)[0],r.distance(this.coords.usrCoords,h.usrCoords,3)<o):e.type===s.OBJECT_TYPE_POLYGON?!(!n.evaluate(e.visProp.hasinnerpoints)||!e.pnpoly(this.coords.usrCoords[1],this.coords.usrCoords[2],t.COORDS_BY_USER))||(a=r.projectCoordsToPolygon(this.coords.usrCoords,e),r.distance(this.coords.usrCoords,a,3)<o):e.type===s.OBJECT_TYPE_TURTLE&&(h=r.projectPointToTurtle(this,e,this.board),r.distance(this.coords.usrCoords,h.usrCoords,3)<o)},cloneToBackground:function(){var t={};return t.id=this.id+"T"+this.numTraces,this.numTraces+=1,t.coords=this.coords,t.visProp=n.deepCopy(this.visProp,this.visProp.traceattributes,!0),t.visProp.layer=this.board.options.layer.trace,t.elementClass=s.OBJECT_CLASS_POINT,t.board=this.board,n.clearVisPropOld(t),t.visPropCalc={visible:n.evaluate(t.visProp.visible)},this.board.renderer.drawPoint(t),this.traces[t.id]=t.rendNode,this}}),t.createPoint=function(e,i,r){var s,o;if(o=n.copyAttributes(r,e.options,"point"),!(s=a.create(t.Point,e,i,o)))throw new Error("JSXGraph: Can't create point with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return s},t.createGlider=function(t,e,i){var r,s,o=n.copyAttributes(i,t.options,"glider");return s=1===e.length?[0,0]:e.slice(0,2),(r=t.create("point",s,o)).makeGlider(e[e.length-1]),r},t.createIntersectionPoint=function(t,e,i){var o,a,h,l,c,d,u=n.copyAttributes(i,t.options,"intersection");e.push(0,0),a=t.select(e[0]),h=t.select(e[1]),c=e[2]||0,d=e[3]||0,o=t.create("point",[0,0,0],u),l=r.intersectionFunction(t,a,h,c,d,o.visProp.alwaysintersect),o.addConstraint([l]);try{a.addChild(o),h.addChild(o)}catch(t){throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.")}return o.type=s.OBJECT_TYPE_INTERSECTION,o.elType="intersection",o.setParents([a.id,h.id]),o.intersectionNumbers=[c,d],o.getParents=function(){return this.parents.concat(this.intersectionNumbers)},o.generatePolynomial=function(){var t=a.generatePolynomial(o),e=h.generatePolynomial(o);return 0===t.length||0===e.length?[]:[t[0],e[0]]},o},t.createOtherIntersectionPoint=function(t,e,o){var a,h,l,c;if(3!==e.length||!n.isPoint(e[2])||e[0].elementClass!==s.OBJECT_CLASS_LINE&&e[0].elementClass!==s.OBJECT_CLASS_CIRCLE||e[1].elementClass!==s.OBJECT_CLASS_LINE&&e[1].elementClass!==s.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'other intersection point' with parent types '"+typeof e[0]+"',  '"+typeof e[1]+"'and  '"+typeof e[2]+"'.\nPossible parent types: [circle|line,circle|line,point]");return h=t.select(e[0]),l=t.select(e[1]),c=t.select(e[2]),(a=t.create("point",[function(){var t=r.meet(h.stdform,l.stdform,0,h.board);return Math.abs(c.X()-t.usrCoords[1])>i.eps||Math.abs(c.Y()-t.usrCoords[2])>i.eps||Math.abs(c.Z()-t.usrCoords[0])>i.eps?t:r.meet(h.stdform,l.stdform,1,h.board)}],o)).type=s.OBJECT_TYPE_INTERSECTION,a.elType="otherintersection",a.setParents([h.id,l.id,c]),h.addChild(a),l.addChild(a),a.generatePolynomial=function(){var t=h.generatePolynomial(a),e=l.generatePolynomial(a);return 0===t.length||0===e.length?[]:[t[0],e[0]]},a},t.createPolePoint=function(e,i,r){var o,n,a,h,l,c,d;if(i.length>1&&(h=i[0].type===s.OBJECT_TYPE_CONIC||i[0].elementClass===s.OBJECT_CLASS_CIRCLE,l=i[1].type===s.OBJECT_TYPE_CONIC||i[1].elementClass===s.OBJECT_CLASS_CIRCLE,c=i[0].elementClass===s.OBJECT_CLASS_LINE,d=i[1].elementClass===s.OBJECT_CLASS_LINE),2!==i.length||!(h&&d||c&&l))throw new Error("JSXGraph: Can't create 'pole point' with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent type: [conic|circle,line], [line,conic|circle]");return d?(n=e.select(i[0]),a=e.select(i[1])):(n=e.select(i[1]),a=e.select(i[0])),(o=e.create("point",[function(){var e=n.quadraticform,i=a.stdform.slice(0,3);return[t.Math.Numerics.det([i,e[1],e[2]]),t.Math.Numerics.det([e[0],i,e[2]]),t.Math.Numerics.det([e[0],e[1],i])]}],r)).elType="polepoint",o.setParents([n.id,a.id]),n.addChild(o),a.addChild(o),o},t.registerElement("point",t.createPoint),t.registerElement("glider",t.createGlider),t.registerElement("intersection",t.createIntersectionPoint),t.registerElement("otherintersection",t.createOtherIntersectionPoint),t.registerElement("polepoint",t.createPolePoint),{Point:t.Point,createPoint:t.createPoint,createGlider:t.createGlider,createIntersection:t.createIntersectionPoint,createOtherIntersection:t.createOtherIntersectionPoint,createPolePoint:t.createPolePoint}})),define("base/line",["jxg","math/math","math/geometry","math/numerics","math/statistics","base/constants","base/coords","base/element","utils/type","base/point"],(function(t,e,i,r,s,o,n,a,h,l){"use strict";return t.Line=function(e,i,r,s){this.constructor(e,s,o.OBJECT_TYPE_LINE,o.OBJECT_CLASS_LINE),this.point1=this.board.select(i),this.point2=this.board.select(r),this.ticks=[],this.defaultTicks=null,this.parentPolygon=null,this.id=this.board.setId(this,"L"),this.board.renderer.drawLine(this),this.board.finalizeAdding(this),this.elType="line",this.point1._is_new?(this.addChild(this.point1),delete this.point1._is_new):this.point1.addChild(this),this.point2._is_new?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this),this.inherits.push(this.point1,this.point2),this.updateStdform(),this.createLabel(),this.methodMap=t.deepCopy(this.methodMap,{point1:"point1",point2:"point2",getSlope:"getSlope",getRise:"getRise",getYIntersect:"getRise",getAngle:"getAngle",L:"L",length:"L"})},t.Line.prototype=new a,t.extend(t.Line.prototype,{hasPoint:function(t,r){var s,a,l,c,d,u,p,f,m,g=[],b=[1,t,r],v=h.evaluate(this.visProp.strokewidth);return h.isObject(h.evaluate(this.visProp.precision))?(m=this.board._inputDevice,f=h.evaluate(this.visProp.precision[m])):f=this.board.options.precision.hasPoint,f+=.5*v,g[0]=this.stdform[0]-this.stdform[1]*this.board.origin.scrCoords[1]/this.board.unitX+this.stdform[2]*this.board.origin.scrCoords[2]/this.board.unitY,g[1]=this.stdform[1]/this.board.unitX,g[2]=this.stdform[2]/-this.board.unitY,s=i.distPointLine(b,g),!(isNaN(s)||s>f)&&(!(!h.evaluate(this.visProp.straightfirst)||!h.evaluate(this.visProp.straightlast))||(l=this.point1.coords,c=this.point2.coords,a=[0,g[1],g[2]],a=e.crossProduct(a,b),(a=e.crossProduct(a,g))[1]/=a[0],a[2]/=a[0],a[0]=1,a=new n(o.COORDS_BY_SCREEN,a.slice(1),this.board).usrCoords,d=l.distance(o.COORDS_BY_USER,c),l=l.usrCoords.slice(0),c=c.usrCoords.slice(0),d<e.eps?u=0:(d===Number.POSITIVE_INFINITY&&(d=1/e.eps,Math.abs(c[0])<e.eps?(d/=i.distance([0,0,0],c),c=[1,l[1]+c[1]*d,l[2]+c[2]*d]):(d/=i.distance([0,0,0],l),l=[1,c[1]+l[1]*d,c[2]+l[2]*d])),d=c[p=1]-l[p],Math.abs(d)<e.eps&&(d=c[p=2]-l[p]),u=(a[p]-l[p])/d),!(!h.evaluate(this.visProp.straightfirst)&&u<0)&&!(!h.evaluate(this.visProp.straightlast)&&u>1)))},update:function(){var t;return this.needsUpdate?(this.constrained&&(h.isFunction(this.funps)?(t=this.funps())&&t.length&&2===t.length&&(this.point1=t[0],this.point2=t[1]):(h.isFunction(this.funp1)&&(t=this.funp1(),h.isPoint(t)?this.point1=t:t&&t.length&&2===t.length&&this.point1.setPositionDirectly(o.COORDS_BY_USER,t)),h.isFunction(this.funp2)&&(t=this.funp2(),h.isPoint(t)?this.point2=t:t&&t.length&&2===t.length&&this.point2.setPositionDirectly(o.COORDS_BY_USER,t)))),this.updateSegmentFixedLength(),this.updateStdform(),h.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateSegmentFixedLength:function(){var t,i,r,s,n,a,l,c;return this.hasFixedLength?(t=this.point1.Dist(this.point2),i=this.fixedLength(),r=this.fixedLengthOldCoords[0].distance(o.COORDS_BY_USER,this.point1.coords),s=this.fixedLengthOldCoords[1].distance(o.COORDS_BY_USER,this.point2.coords),(r>e.eps||s>e.eps||t!==i)&&(n=this.point1.isDraggable&&this.point1.type!==o.OBJECT_TYPE_GLIDER&&!h.evaluate(this.point1.visProp.fixed),a=this.point2.isDraggable&&this.point2.type!==o.OBJECT_TYPE_GLIDER&&!h.evaluate(this.point2.visProp.fixed),t>e.eps?r>s&&a||r<=s&&a&&!n?(this.point2.setPositionDirectly(o.COORDS_BY_USER,[this.point1.X()+(this.point2.X()-this.point1.X())*i/t,this.point1.Y()+(this.point2.Y()-this.point1.Y())*i/t]),this.point2.fullUpdate()):(r<=s&&n||r>s&&n&&!a)&&(this.point1.setPositionDirectly(o.COORDS_BY_USER,[this.point2.X()+(this.point1.X()-this.point2.X())*i/t,this.point2.Y()+(this.point1.Y()-this.point2.Y())*i/t]),this.point1.fullUpdate()):(l=Math.random()-.5,c=Math.random()-.5,t=Math.sqrt(l*l+c*c),a?(this.point2.setPositionDirectly(o.COORDS_BY_USER,[this.point1.X()+l*i/t,this.point1.Y()+c*i/t]),this.point2.fullUpdate()):n&&(this.point1.setPositionDirectly(o.COORDS_BY_USER,[this.point2.X()+l*i/t,this.point2.Y()+c*i/t]),this.point1.fullUpdate())),this.fixedLengthOldCoords[0].setCoordinates(o.COORDS_BY_USER,this.point1.coords.usrCoords),this.fixedLengthOldCoords[1].setCoordinates(o.COORDS_BY_USER,this.point2.coords.usrCoords)),this):this},updateStdform:function(){var t=e.crossProduct(this.point1.coords.usrCoords,this.point2.coords.usrCoords);this.stdform[0]=t[0],this.stdform[1]=t[1],this.stdform[2]=t[2],this.stdform[3]=0,this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.point1.coords.usrCoords[1]+this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[1]+this.point2.coords.usrCoords[2])&&e.innerProduct(this.stdform,this.stdform,3)>=e.eps*e.eps,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateLine(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},generatePolynomial:function(t){var e=this.point1.symbolic.x,i=this.point1.symbolic.y,r=this.point2.symbolic.x,s=this.point2.symbolic.y,o=t.symbolic.x,n=t.symbolic.y;return[["(",i,")*(",o,")-(",i,")*(",r,")+(",n,")*(",r,")-(",e,")*(",n,")+(",e,")*(",s,")-(",o,")*(",s,")"].join("")]},getRise:function(){return Math.abs(this.stdform[2])>=e.eps?-this.stdform[0]/this.stdform[2]:1/0},getSlope:function(){return Math.abs(this.stdform[2])>=e.eps?-this.stdform[1]/this.stdform[2]:1/0},getAngle:function(){return Math.atan2(-this.stdform[1],this.stdform[2])},setStraight:function(t,e){return this.visProp.straightfirst=t,this.visProp.straightlast=e,this.board.renderer.updateLine(this),this},getTextAnchor:function(){return new n(o.COORDS_BY_USER,[.5*(this.point2.X()+this.point1.X()),.5*(this.point2.Y()+this.point1.Y())],this.board)},setLabelRelativeCoords:function(t){h.exists(this.label)&&(this.label.relativeCoords=new n(o.COORDS_BY_SCREEN,[t[0],-t[1]],this.board))},getLabelAnchor:function(){var t,r,s=0,a=new n(o.COORDS_BY_USER,this.point1.coords.usrCoords,this.board),l=new n(o.COORDS_BY_USER,this.point2.coords.usrCoords,this.board),c=h.evaluate(this.visProp.straightfirst),d=h.evaluate(this.visProp.straightlast);if((c||d)&&i.calcStraight(this,a,l,0),a=a.scrCoords,l=l.scrCoords,!h.exists(this.label))return new n(o.COORDS_BY_SCREEN,[NaN,NaN],this.board);switch(h.evaluate(this.label.visProp.position)){case"lft":case"llft":case"ulft":a[1]<=l[1]?(t=a[1],r=a[2]):(t=l[1],r=l[2]);break;case"rt":case"lrt":case"urt":a[1]>l[1]?(t=a[1],r=a[2]):(t=l[1],r=l[2]);break;default:t=.5*(a[1]+l[1]),r=.5*(a[2]+l[2])}return(c||d)&&(h.exists(this.label)&&(s=h.evaluate(this.label.visProp.fontsize)),Math.abs(t)<e.eps?t=s:this.board.canvasWidth+e.eps>t&&t>this.board.canvasWidth-s-e.eps&&(t=this.board.canvasWidth-s),e.eps+s>r&&r>-e.eps?r=s:this.board.canvasHeight+e.eps>r&&r>this.board.canvasHeight-s-e.eps&&(r=this.board.canvasHeight-s)),new n(o.COORDS_BY_SCREEN,[t,r],this.board)},cloneToBackground:function(){var t,e,i,r={};return r.id=this.id+"T"+this.numTraces,r.elementClass=o.OBJECT_CLASS_LINE,this.numTraces++,r.point1=this.point1,r.point2=this.point2,r.stdform=this.stdform,r.board=this.board,r.visProp=h.deepCopy(this.visProp,this.visProp.traceattributes,!0),r.visProp.layer=this.board.options.layer.trace,h.clearVisPropOld(r),r.visPropCalc={visible:h.evaluate(r.visProp.visible)},e=this.getSlope(),t=this.getRise(),r.getSlope=function(){return e},r.getRise=function(){return t},i=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawLine(r),this.board.renderer.enhancedRendering=i,this.traces[r.id]=r.rendNode,this},addTransform:function(t){var e,i=h.isArray(t)?t:[t],r=i.length;for(e=0;e<r;e++)this.point1.transformations.push(i[e]),this.point2.transformations.push(i[e]);return this},snapToGrid:function(t){var e,r,a,l,c,d,u,p;return h.evaluate(this.visProp.snaptogrid)?this.parents.length<3?(this.point1.handleSnapToGrid(!0,!0),this.point2.handleSnapToGrid(!0,!0)):h.exists(t)&&(u=h.evaluate(this.visProp.snapsizex),p=h.evaluate(this.visProp.snapsizey),c=(e=new n(o.COORDS_BY_SCREEN,[t.Xprev,t.Yprev],this.board)).usrCoords[1],d=e.usrCoords[2],u<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(u=(l=this.board.defaultAxes.x.defaultTicks).ticksDelta*(h.evaluate(l.visProp.minorticks)+1)),p<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(p=(l=this.board.defaultAxes.y.defaultTicks).ticksDelta*(h.evaluate(l.visProp.minorticks)+1)),u>0&&p>0&&(r=i.projectPointToLine({coords:e},this,this.board),a=s.subtract([1,Math.round(c/u)*u,Math.round(d/p)*p],r.usrCoords),this.board.create("transform",a.slice(1),{type:"translate"}).applyOnce([this.point1,this.point2]))):(this.point1.handleSnapToGrid(!1,!0),this.point2.handleSnapToGrid(!1,!0)),this},snapToPoints:function(){var t=h.evaluate(this.visProp.snaptopoints);return this.parents.length<3&&(this.point1.handleSnapToPoints(t),this.point2.handleSnapToPoints(t)),this},X:function(t){var i,r=this.stdform[2];return i=Math.abs(this.point1.coords.usrCoords[0])>e.eps?this.point1.coords.usrCoords[1]:this.point2.coords.usrCoords[1],t=2*(t-.5),(1-Math.abs(t))*i-t*r},Y:function(t){var i,r=this.stdform[1];return i=Math.abs(this.point1.coords.usrCoords[0])>e.eps?this.point1.coords.usrCoords[2]:this.point2.coords.usrCoords[2],t=2*(t-.5),(1-Math.abs(t))*i+t*r},Z:function(t){var i=Math.abs(this.point1.coords.usrCoords[0])>e.eps?this.point1.coords.usrCoords[0]:this.point2.coords.usrCoords[0];return t=2*(t-.5),(1-Math.abs(t))*i},L:function(){return this.point1.Dist(this.point2)},minX:function(){return 0},maxX:function(){return 1},bounds:function(){var t=this.point1.coords.usrCoords,e=this.point2.coords.usrCoords;return[Math.min(t[1],e[1]),Math.max(t[2],e[2]),Math.max(t[1],e[1]),Math.min(t[2],e[2])]},remove:function(){this.removeAllTicks(),a.prototype.remove.call(this)}}),t.createLine=function(e,i,r){var s,o,n,a,c,d,u,p=[],f=!1,m=!1;if(2===i.length){if(h.isArray(i[0])&&i[0].length>1)d=h.copyAttributes(r,e.options,"line","point1"),n=e.create("point",i[0],d);else if(h.isString(i[0])||h.isPoint(i[0]))n=e.select(i[0]);else if(h.isFunction(i[0])&&h.isPoint(i[0]()))n=i[0](),m=!0;else if(h.isFunction(i[0])&&i[0]().length&&i[0]().length>=2)d=h.copyAttributes(r,e.options,"line","point1"),n=l.createPoint(e,i[0](),d),m=!0;else{if(!h.isObject(i[0])||!h.isTransformationOrArray(i[1]))throw new Error("JSXGraph: Can't create line with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");f=!0,d=h.copyAttributes(r,e.options,"line","point1"),n=e.create("point",[i[0].point1,i[1]],d)}if(f)d=h.copyAttributes(r,e.options,"line","point2"),a=e.create("point",[i[0].point2,i[1]],d);else if(h.isArray(i[1])&&i[1].length>1)d=h.copyAttributes(r,e.options,"line","point2"),a=e.create("point",i[1],d);else if(h.isString(i[1])||h.isPoint(i[1]))a=e.select(i[1]);else if(h.isFunction(i[1])&&h.isPoint(i[1]()))a=i[1](),m=!0;else{if(!(h.isFunction(i[1])&&i[1]().length&&i[1]().length>=2))throw new Error("JSXGraph: Can't create line with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");d=h.copyAttributes(r,e.options,"line","point2"),a=l.createPoint(e,i[1](),d),m=!0}d=h.copyAttributes(r,e.options,"line"),o=new t.Line(e,n,a,d),m?(o.constrained=!0,o.funp1=i[0],o.funp2=i[1]):f||(o.isDraggable=!0),o.setParents([n.id,a.id])}else if(3===i.length){for(u=!0,c=0;c<3;c++)if(h.isNumber(i[c]))p[c]=h.createFunction(i[c]);else{if(!h.isFunction(i[c]))throw new Error("JSXGraph: Can't create line with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");p[c]=i[c],u=!1}d=h.copyAttributes(r,e.options,"line","point1"),n=u?e.create("point",[p[2]()*p[2]()+p[1]()*p[1](),p[2]()-p[1]()*p[0]()+p[2](),-p[1]()-p[2]()*p[0]()-p[1]()],d):e.create("point",[function(){return.5*(p[2]()*p[2]()+p[1]()*p[1]())},function(){return.5*(p[2]()-p[1]()*p[0]()+p[2]())},function(){return.5*(-p[1]()-p[2]()*p[0]()-p[1]())}],d),d=h.copyAttributes(r,e.options,"line","point2"),a=u?e.create("point",[p[2]()*p[2]()+p[1]()*p[1](),-p[1]()*p[0]()+p[2](),-p[2]()*p[0]()-p[1]()],d):e.create("point",[function(){return p[2]()*p[2]()+p[1]()*p[1]()},function(){return-p[1]()*p[0]()+p[2]()},function(){return-p[2]()*p[0]()-p[1]()}],d),n.prepareUpdate().update(),a.prepareUpdate().update(),d=h.copyAttributes(r,e.options,"line"),(o=new t.Line(e,n,a,d)).isDraggable=u,o.setParents([n,a])}else if(1===i.length&&h.isFunction(i[0])&&2===i[0]().length&&h.isPoint(i[0]()[0])&&h.isPoint(i[0]()[1]))s=i[0](),d=h.copyAttributes(r,e.options,"line"),(o=new t.Line(e,s[0],s[1],d)).constrained=!0,o.funps=i[0],o.setParents(s);else{if(!(1===i.length&&h.isFunction(i[0])&&3===i[0]().length&&h.isNumber(i[0]()[0])&&h.isNumber(i[0]()[1])&&h.isNumber(i[0]()[2])))throw new Error("JSXGraph: Can't create line with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");s=i[0],d=h.copyAttributes(r,e.options,"line","point1"),n=e.create("point",[function(){var t=s();return[.5*(t[2]*t[2]+t[1]*t[1]),.5*(t[2]-t[1]*t[0]+t[2]),.5*(-t[1]-t[2]*t[0]-t[1])]}],d),d=h.copyAttributes(r,e.options,"line","point2"),a=e.create("point",[function(){var t=s();return[t[2]*t[2]+t[1]*t[1],-t[1]*t[0]+t[2],-t[2]*t[0]-t[1]]}],d),d=h.copyAttributes(r,e.options,"line"),(o=new t.Line(e,n,a,d)).constrained=!0,o.funps=i[0],o.setParents([n,a])}return o},t.registerElement("line",t.createLine),t.createSegment=function(t,e,i){var r,s;if(i.straightFirst=!1,i.straightLast=!1,s=h.copyAttributes(i,t.options,"segment"),r=t.create("line",e.slice(0,2),s),3===e.length){if(r.hasFixedLength=!0,h.isNumber(e[2]))r.fixedLength=function(){return e[2]};else{if(!h.isFunction(e[2]))throw new Error("JSXGraph: Can't create segment with third parent type '"+typeof e[2]+"'.\nPossible third parent types: number or function");r.fixedLength=e[2]}r.getParents=function(){return this.parents.concat(this.fixedLength())},r.fixedLengthOldCoords=[],r.fixedLengthOldCoords[0]=new n(o.COORDS_BY_USER,r.point1.coords.usrCoords.slice(1,3),t),r.fixedLengthOldCoords[1]=new n(o.COORDS_BY_USER,r.point2.coords.usrCoords.slice(1,3),t)}return r.elType="segment",r},t.registerElement("segment",t.createSegment),t.createArrow=function(t,e,i){var r,s;return i.straightFirst=!1,i.straightLast=!1,s=h.copyAttributes(i,t.options,"arrow"),(r=t.create("line",e,s)).type=o.OBJECT_TYPE_VECTOR,r.elType="arrow",r},t.registerElement("arrow",t.createArrow),t.createAxis=function(t,e,i){var r,s,n,a,l;if(!h.isArray(e[0])&&!h.isPoint(e[0])||!h.isArray(e[1])&&!h.isPoint(e[1]))throw new Error("JSXGraph: Can't create axis with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");for(a in r=h.copyAttributes(i,t.options,"axis"),(n=t.create("line",e,r)).type=o.OBJECT_TYPE_AXIS,n.isDraggable=!1,n.point1.isDraggable=!1,n.point2.isDraggable=!1,n.ancestors)n.ancestors.hasOwnProperty(a)&&(n.ancestors[a].type=o.OBJECT_TYPE_AXISPOINT);return s=h.copyAttributes(i,t.options,"axis","ticks"),l=h.exists(s.ticksdistance)?s.ticksdistance:h.isArray(s.ticks)?s.ticks:1,n.defaultTicks=t.create("ticks",[n,l],s),n.defaultTicks.dump=!1,n.elType="axis",n.subs={ticks:n.defaultTicks},n.inherits.push(n.defaultTicks),n},t.registerElement("axis",t.createAxis),t.createTangent=function(t,i,s){var n,a,l,c,d;if(1===i.length)n=i[0],a=n.slideObject;else{if(2!==i.length)throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [glider], [point,line|curve|circle|conic]");if(h.isPoint(i[0]))n=i[0],a=i[1];else{if(!h.isPoint(i[1]))throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [glider], [point,line|curve|circle|conic]");a=i[0],n=i[1]}}if(a.elementClass===o.OBJECT_CLASS_LINE?(d=t.create("line",[a.point1,a.point2],s)).glider=n:a.elementClass===o.OBJECT_CLASS_CURVE&&a.type!==o.OBJECT_TYPE_CONIC?"plot"!==h.evaluate(a.visProp.curvetype)?(d=t.create("line",[function(){var t=a.X,e=a.Y;return-n.X()*r.D(e)(n.position)+n.Y()*r.D(t)(n.position)},function(){return r.D(a.Y)(n.position)},function(){return-r.D(a.X)(n.position)}],s),n.addChild(d),d.glider=n):(d=t.create("line",[function(){var t,e,i,r,s,o,h,l,c,d,u=Math.floor(n.position);if(1===a.bezierDegree)u===a.numberPoints-1&&u--;else{if(3!==a.bezierDegree)return 0;u=3*Math.floor(n.position*(a.numberPoints-1)/3),i=(n.position*(a.numberPoints-1)-u)/3,u>=a.numberPoints-1&&(u=a.numberPoints-4,i=1)}return u<0?1:(1===a.bezierDegree?(t=a.points[u].usrCoords,e=a.points[u+1].usrCoords):(r=a.points[u].usrCoords,s=a.points[u+1].usrCoords,o=a.points[u+2].usrCoords,h=a.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(h[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(h[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=n.coords.usrCoords)[1]+l,t[2]+c]),t[2]*e[1]-t[1]*e[2])},function(){var t,e,i,r,s,o,h,l,c,d,u=Math.floor(n.position);if(1===a.bezierDegree)u===a.numberPoints-1&&u--;else{if(3!==a.bezierDegree)return 0;u=3*Math.floor(n.position*(a.numberPoints-1)/3),i=(n.position*(a.numberPoints-1)-u)/3,u>=a.numberPoints-1&&(u=a.numberPoints-4,i=1)}return u<0?0:(1===a.bezierDegree?(t=a.points[u].usrCoords,e=a.points[u+1].usrCoords):(r=a.points[u].usrCoords,s=a.points[u+1].usrCoords,o=a.points[u+2].usrCoords,h=a.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(h[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(h[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=n.coords.usrCoords)[1]+l,t[2]+c]),e[2]-t[2])},function(){var t,e,i,r,s,o,h,l,c,d,u=Math.floor(n.position);if(1===a.bezierDegree)u===a.numberPoints-1&&u--;else{if(3!==a.bezierDegree)return 0;u=3*Math.floor(n.position*(a.numberPoints-1)/3),i=(n.position*(a.numberPoints-1)-u)/3,u>=a.numberPoints-1&&(u=a.numberPoints-4,i=1)}return u<0?0:(1===a.bezierDegree?(t=a.points[u].usrCoords,e=a.points[u+1].usrCoords):(r=a.points[u].usrCoords,s=a.points[u+1].usrCoords,o=a.points[u+2].usrCoords,h=a.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(h[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(h[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=n.coords.usrCoords)[1]+l,t[2]+c]),t[1]-e[1])}],s),n.addChild(d),d.glider=n):a.type===o.OBJECT_TYPE_TURTLE?(d=t.create("line",[function(){var t=Math.floor(n.position);for(l=0;l<a.objects.length;l++)if((c=a.objects[l]).type===o.OBJECT_TYPE_CURVE){if(t<c.numberPoints)break;t-=c.numberPoints}return t===c.numberPoints-1&&t--,t<0?1:c.Y(t)*c.X(t+1)-c.X(t)*c.Y(t+1)},function(){var t=Math.floor(n.position);for(l=0;l<a.objects.length;l++)if((c=a.objects[l]).type===o.OBJECT_TYPE_CURVE){if(t<c.numberPoints)break;t-=c.numberPoints}return t===c.numberPoints-1&&t--,t<0?0:c.Y(t+1)-c.Y(t)},function(){var t=Math.floor(n.position);for(l=0;l<a.objects.length;l++)if((c=a.objects[l]).type===o.OBJECT_TYPE_CURVE){if(t<c.numberPoints)break;t-=c.numberPoints}return t===c.numberPoints-1&&t--,t<0?0:c.X(t)-c.X(t+1)}],s),n.addChild(d),d.glider=n):a.elementClass!==o.OBJECT_CLASS_CIRCLE&&a.type!==o.OBJECT_TYPE_CONIC||(d=t.create("line",[function(){return e.matVecMult(a.quadraticform,n.coords.usrCoords)[0]},function(){return e.matVecMult(a.quadraticform,n.coords.usrCoords)[1]},function(){return e.matVecMult(a.quadraticform,n.coords.usrCoords)[2]}],s),n.addChild(d),d.glider=n),!h.exists(d))throw new Error("JSXGraph: Couldn't create tangent with the given parents.");return d.elType="tangent",d.type=o.OBJECT_TYPE_TANGENT,d.setParents(i),d},t.createRadicalAxis=function(t,i,r){var s,n,a;if(2!==i.length||i[0].elementClass!==o.OBJECT_CLASS_CIRCLE||i[1].elementClass!==o.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'radical axis' with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent type: [circle,circle]");return n=t.select(i[0]),a=t.select(i[1]),(s=t.create("line",[function(){var t=n.stdform,i=a.stdform;return e.matVecMult(e.transpose([t.slice(0,3),i.slice(0,3)]),[i[3],-t[3]])}],r)).elType="radicalaxis",s.setParents([n.id,a.id]),n.addChild(s),a.addChild(s),s},t.createPolarLine=function(t,e,i){var r,s,n,a,l,c,d;if(e.length>1&&(a=e[0].type===o.OBJECT_TYPE_CONIC||e[0].elementClass===o.OBJECT_CLASS_CIRCLE,l=e[1].type===o.OBJECT_TYPE_CONIC||e[1].elementClass===o.OBJECT_CLASS_CIRCLE,c=h.isPoint(e[0]),d=h.isPoint(e[1])),2!==e.length||!(a&&d||c&&l))throw new Error("JSXGraph: Can't create 'polar line' with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent type: [conic|circle,point], [point,conic|circle]");return d?(s=t.select(e[0]),n=t.select(e[1])):(s=t.select(e[1]),n=t.select(e[0])),(r=t.create("tangent",[s,n],i)).elType="polarline",r},t.registerElement("tangent",t.createTangent),t.registerElement("polar",t.createTangent),t.registerElement("radicalaxis",t.createRadicalAxis),t.registerElement("polarline",t.createPolarLine),{Line:t.Line,createLine:t.createLine,createTangent:t.createTangent,createPolar:t.createTangent,createSegment:t.createSegment,createAxis:t.createAxis,createArrow:t.createArrow,createRadicalAxis:t.createRadicalAxis,createPolarLine:t.createPolarLine}})),define("base/group",["jxg","base/constants","math/math","math/geometry","utils/type"],(function(t,e,i,r,s){"use strict";return t.Group=function(t,i,r,o,n){var a,h,l,c;for(this.board=t,this.objects={},a=this.board.numObjects,this.board.numObjects+=1,""!==i&&s.exists(i)?this.id=i:this.id=this.board.id+"Group"+a,this.board.groups[this.id]=this,this.type=e.OBJECT_TYPE_POINT,this.elementClass=e.OBJECT_CLASS_POINT,""!==r&&s.exists(r)?this.name=r:this.name="group_"+this.board.generateName(this),delete this.type,this.coords={},this.needsRegularUpdate=n.needsregularupdate,this.rotationCenter="centroid",this.scaleCenter=null,this.rotationPoints=[],this.translationPoints=[],this.scalePoints=[],this.scaleDirections={},this.parents=[],h=s.isArray(o)?o:Array.prototype.slice.call(arguments,3),l=0;l<h.length;l++)c=this.board.select(h[l]),!s.evaluate(c.visProp.fixed)&&s.exists(c.coords)&&this.addPoint(c);this.methodMap={ungroup:"ungroup",add:"addPoint",addPoint:"addPoint",addPoints:"addPoints",addGroup:"addGroup",remove:"removePoint",removePoint:"removePoint",setAttribute:"setAttribute",setProperty:"setAttribute"}},t.extend(t.Group.prototype,{ungroup:function(){var t,e,i;for(t in this.objects)this.objects.hasOwnProperty(t)&&(e=this.objects[t].point,s.isArray(e.groups)&&(i=s.indexOf(e.groups,this.id))>=0&&delete e.groups[i]);return this.objects={},this},addParents:function(t){var e,i,r;for(i=(r=s.isArray(t)?t:arguments).length,e=0;e<i;++e)s.isId(this.board,r[e])?this.parents.push(r[e]):s.exists(r[e].id)&&this.parents.push(r[e].id);this.parents=s.uniqueArray(this.parents)},setParents:function(t){return this.parents=[],this.addParents(t),this},getParents:function(){return s.isArray(this.parents)?this.parents:[]},_updateCoordsCache:function(t){var e;""!==t&&s.exists(this.objects[t])&&(e=this.objects[t].point,this.coords[e.id]={usrCoords:e.coords.usrCoords.slice(0)})},update:function(){var t,e,o,n,a,h,l,c,d,u,p=null;if(!this.needsUpdate)return this;if("nothing"===(t=this._update_find_drag_type()).action)return this._updateCoordsCache(t.id),this;if(p=this.objects[t.id].point,"translation"===t.action)d=[p.coords.usrCoords[1]-this.coords[t.id].usrCoords[1],p.coords.usrCoords[2]-this.coords[t.id].usrCoords[2]];else if("rotation"===t.action||"scaling"===t.action){if(o="rotation"===t.action?"rotationCenter":"scaleCenter",s.isPoint(this[o]))u=this[o].coords.usrCoords.slice(1);else if("centroid"===this[o])u=this._update_centroid_center();else if(s.isArray(this[o]))u=this[o];else{if(!s.isFunction(this[o]))return this;u=this[o]()}if("rotation"===t.action)c=r.rad(this.coords[t.id].usrCoords.slice(1),u,this.objects[t.id].point),(d=this.board.create("transform",[c,u[0],u[1]],{type:"rotate"})).update();else{if("scaling"!==t.action)return this;if(a=r.distance(this.coords[t.id].usrCoords.slice(1),u),Math.abs(a)<i.eps)return this;a=r.distance(p.coords.usrCoords.slice(1),u)/a,h=this.scaleDirections[t.id].indexOf("x")>=0?a:1,l=this.scaleDirections[t.id].indexOf("y")>=0?a:1,(d=this.board.create("transform",[1,0,0,u[0]*(1-h),h,0,u[1]*(1-l),0,l],{type:"generic"})).update()}}for(e in this._update_apply_transformation(t,d),this.needsUpdate=!1,this.objects)if(this.objects.hasOwnProperty(e))for(n in this.objects[e].descendants)this.objects[e].descendants.hasOwnProperty(n)&&(this.objects[e].descendants.needsUpdate=this.objects[e].descendants.needsRegularUpdate||this.board.needsFullUpdate);for(e in this.board.updateElements(t),this.objects)this.objects.hasOwnProperty(e)&&this._updateCoordsCache(e);return this},_update_find_drag_type:function(){var t,r,o,n="nothing",a=[];for(t in this.objects)this.objects.hasOwnProperty(t)&&(r=this.objects[t].point).coords.distance(e.COORDS_BY_USER,this.coords[t])>i.eps&&a.push(r.id);return 0===a.length?{action:n,id:"",changed:a}:(o=a[0],r=this.objects[o].point,a.length>1?n="translation":s.isInArray(this.rotationPoints,r)&&s.exists(this.rotationCenter)?n="rotation":s.isInArray(this.scalePoints,r)&&s.exists(this.scaleCenter)?n="scaling":s.isInArray(this.translationPoints,r)&&(n="translation"),{action:n,id:o,changed:a})},_update_centroid_center:function(){var t,e,i;for(i in t=[0,0],e=0,this.coords)this.coords.hasOwnProperty(i)&&(t[0]+=this.coords[i].usrCoords[1],t[1]+=this.coords[i].usrCoords[2],++e);return e>0&&(t[0]/=e,t[1]/=e),t},_update_apply_transformation:function(t,r){var o,n;for(o in this.objects)this.objects.hasOwnProperty(o)&&(s.exists(this.board.objects[o])?(n=this.objects[o].point).id!==t.id?"translation"===t.action?s.isInArray(t.changed,n.id)||n.coords.setCoordinates(e.COORDS_BY_USER,[this.coords[o].usrCoords[1]+r[0],this.coords[o].usrCoords[2]+r[1]]):"rotation"!==t.action&&"scaling"!==t.action||r.applyOnce([n]):"rotation"!==t.action&&"scaling"!==t.action||n.coords.setCoordinates(e.COORDS_BY_USER,i.matVecMult(r.matrix,this.coords[n.id].usrCoords)):delete this.objects[o])},addPoint:function(t){return this.objects[t.id]={point:this.board.select(t)},this._updateCoordsCache(t.id),this.translationPoints.push(t),t.groups.push(this.id),t.groups=s.uniqueArray(t.groups),this},addPoints:function(t){var e;for(e=0;e<t.length;e++)this.addPoint(t[e]);return this},addGroup:function(t){var e;for(e in t.objects)t.objects.hasOwnProperty(e)&&this.addPoint(t.objects[e].point);return this},removePoint:function(t){return delete this.objects[t.id],this},setRotationCenter:function(t){return this.rotationCenter=t,this},setRotationPoints:function(t){return this._setActionPoints("rotation",t)},addRotationPoint:function(t){return this._addActionPoint("rotation",t)},removeRotationPoint:function(t){return this._removeActionPoint("rotation",t)},setTranslationPoints:function(t){return this._setActionPoints("translation",t)},addTranslationPoint:function(t){return this._addActionPoint("translation",t)},removeTranslationPoint:function(t){return this._removeActionPoint("translation",t)},setScaleCenter:function(t){return this.scaleCenter=t,this},setScalePoints:function(t,e){var i,r,o;for(o=(i=s.isArray(t)?t:arguments).length,r=0;r<o;++r)this.scaleDirections[this.board.select(i[r]).id]=e||"xy";return this._setActionPoints("scale",t)},addScalePoint:function(t,e){return this._addActionPoint("scale",t),this.scaleDirections[this.board.select(t).id]=e||"xy",this},removeScalePoint:function(t){return this._removeActionPoint("scale",t)},_setActionPoints:function(t,e){var i,r,o;for(o=(i=s.isArray(e)?e:arguments).length,this[t+"Points"]=[],r=0;r<o;++r)this._addActionPoint(t,i[r]);return this},_addActionPoint:function(t,e){return this[t+"Points"].push(this.board.select(e)),this},_removeActionPoint:function(t,e){var i=this[t+"Points"].indexOf(this.board.select(e));return i>-1&&this[t+"Points"].splice(i,1),this},setProperty:function(){t.deprecated("Group.setProperty","Group.setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(){var t;for(t in this.objects)this.objects.hasOwnProperty(t)&&this.objects[t].point.setAttribute.apply(this.objects[t].point,arguments);return this}}),t.createGroup=function(e,i,r){var o=s.copyAttributes(r,e.options,"group"),n=new t.Group(e,o.id,o.name,i,o);return n.elType="group",n.setParents(i),n},t.registerElement("group",t.createGroup),{Group:t.Group,createGroup:t.createGroup}})),define("element/conic",["jxg","base/constants","base/coords","math/math","math/numerics","math/geometry","utils/type"],(function(t,e,i,r,s,o,n){"use strict";return t.createEllipse=function(t,r,s){var o,a,h,l,c,d,u,p=[],f=n.copyAttributes(s,t.options,"conic","foci"),m=n.copyAttributes(s,t.options,"conic","center"),g=n.copyAttributes(s,t.options,"conic");for(d=0;d<2;d++)if(r[d].length>1)p[d]=t.create("point",r[d],f);else if(n.isPoint(r[d]))p[d]=t.select(r[d]);else if(n.isFunction(r[d])&&n.isPoint(r[d]()))p[d]=r[d]();else{if(!n.isString(r[d]))throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");p[d]=t.select(r[d])}if(n.isNumber(r[2]))c=n.createFunction(r[2],t);else if(n.isFunction(r[2])&&n.isNumber(r[2]()))c=r[2];else{if(n.isPoint(r[2]))l=t.select(r[2]);else if(r[2].length>1)l=t.create("point",r[2],f);else if(n.isFunction(r[2])&&n.isPoint(r[2]()))l=r[2]();else{if(!n.isString(r[2]))throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");l=t.select(r[2])}c=function(){return l.Dist(p[0])+l.Dist(p[1])}}for(n.exists(r[4])||(r[4]=2*Math.PI),n.exists(r[3])||(r[3]=0),h=t.create("point",[function(){return.5*(p[0].X()+p[1].X())},function(){return.5*(p[0].Y()+p[1].Y())}],m),(a=t.create("curve",[function(t){return 0},function(t){return 0},r[3],r[4]],g)).majorAxis=c,u=a.hasPoint,o=function(t,e){var i,r,s,o,n,h,l,d,u;e||(r=(i=c())*i,s=p[0].X(),o=p[0].Y(),l=s-(n=p[1].X()),d=o-(h=p[1].Y()),u=(r-s*s-o*o+n*n+h*h)/(2*i),a.quadraticform=[[u*u-n*n-h*h,u*l/i+n,u*d/i+h],[u*l/i+n,l*l/r-1,l*d/r],[u*d/i+h,l*d/r,d*d/r-1]])},a.X=function(t,e){var i=c(),r=p[1].Dist(p[0]),s=.5*(r*r-i*i)/(r*Math.cos(t)-i),n=Math.atan2(p[1].Y()-p[0].Y(),p[1].X()-p[0].X());return e||o(0,e),p[0].X()+Math.cos(n+t)*s},a.Y=function(t,e){var i=c(),r=p[1].Dist(p[0]),s=.5*(r*r-i*i)/(r*Math.cos(t)-i),o=Math.atan2(p[1].Y()-p[0].Y(),p[1].X()-p[0].X());return p[0].Y()+Math.sin(o+t)*s},a.midpoint=a.center=h,a.type=e.OBJECT_TYPE_CONIC,a.subs={center:a.center},a.inherits.push(a.center,p[0],p[1]),n.isPoint(l)&&a.inherits.push(l),a.hasPoint=function(t,r){var s,o,a,h;return n.evaluate(this.visProp.hasinnerpoints)?(s=p[0].coords,o=p[1].coords,a=this.majorAxis(),(h=new i(e.COORDS_BY_SCREEN,[t,r],this.board)).distance(e.COORDS_BY_USER,s)+h.distance(e.COORDS_BY_USER,o)<=a):u.apply(this,arguments)},h.addChild(a),d=0;d<2;d++)n.isPoint(p[d])&&p[d].addChild(a);return n.isPoint(l)&&l.addChild(a),a.setParents(r),a},t.createHyperbola=function(t,i,r){var s,o,a,h,l,c,d=[],u=n.copyAttributes(r,t.options,"conic","foci"),p=n.copyAttributes(r,t.options,"conic","center"),f=n.copyAttributes(r,t.options,"conic");for(c=0;c<2;c++)if(i[c].length>1)d[c]=t.create("point",i[c],u);else if(n.isPoint(i[c]))d[c]=t.select(i[c]);else if(n.isFunction(i[c])&&n.isPoint(i[c]()))d[c]=i[c]();else{if(!n.isString(i[c]))throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");d[c]=t.select(i[c])}if(n.isNumber(i[2]))l=n.createFunction(i[2],t);else if(n.isFunction(i[2])&&n.isNumber(i[2]()))l=i[2];else{if(n.isPoint(i[2]))h=t.select(i[2]);else if(i[2].length>1)h=t.create("point",i[2],u);else if(n.isFunction(i[2])&&n.isPoint(i[2]()))h=i[2]();else{if(!n.isString(i[2]))throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");h=t.select(i[2])}l=function(){return h.Dist(d[0])-h.Dist(d[1])}}for(n.exists(i[4])||(i[4]=1.0001*Math.PI),n.exists(i[3])||(i[3]=-1.0001*Math.PI),a=t.create("point",[function(){return.5*(d[0].X()+d[1].X())},function(){return.5*(d[0].Y()+d[1].Y())}],p),(o=t.create("curve",[function(t){return 0},function(t){return 0},i[3],i[4]],f)).majorAxis=l,s=function(t,e){var i,r,s,n,a,h,c,u,p;e||(r=(i=l())*i,s=d[0].X(),n=d[0].Y(),c=s-(a=d[1].X()),u=n-(h=d[1].Y()),p=(r-s*s-n*n+a*a+h*h)/(2*i),o.quadraticform=[[p*p-a*a-h*h,p*c/i+a,p*u/i+h],[p*c/i+a,c*c/r-1,c*u/r],[p*u/i+h,c*u/r,u*u/r-1]])},o.X=function(t,e){var i=l(),r=d[1].Dist(d[0]),o=.5*(r*r-i*i)/(r*Math.cos(t)+i),n=Math.atan2(d[1].Y()-d[0].Y(),d[1].X()-d[0].X());return e||s(0,e),d[0].X()+Math.cos(n+t)*o},o.Y=function(t,e){var i=l(),r=d[1].Dist(d[0]),s=.5*(r*r-i*i)/(r*Math.cos(t)+i),o=Math.atan2(d[1].Y()-d[0].Y(),d[1].X()-d[0].X());return d[0].Y()+Math.sin(o+t)*s},o.midpoint=o.center=a,o.subs={center:o.center},o.inherits.push(o.center,d[0],d[1]),n.isPoint(h)&&o.inherits.push(h),o.type=e.OBJECT_TYPE_CONIC,a.addChild(o),c=0;c<2;c++)n.isPoint(d[c])&&d[c].addChild(o);return n.isPoint(h)&&h.addChild(o),o.setParents(i),o},t.createParabola=function(t,i,r){var s,a,h,l,c=i[0],d=i[1],u=n.copyAttributes(r,t.options,"conic","foci"),p=n.copyAttributes(r,t.options,"conic","center"),f=n.copyAttributes(r,t.options,"conic");if(i[0].length>1)c=t.create("point",i[0],u);else if(n.isPoint(i[0]))c=t.select(i[0]);else if(n.isFunction(i[0])&&n.isPoint(i[0]()))c=i[0]();else{if(!n.isString(i[0]))throw new Error("JSXGraph: Can't create Parabola with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,line]");c=t.select(i[0])}return n.isArray(d)&&2===d.length&&(l=n.copyAttributes(r,t.options,"conic","line"),d=t.create("line",d,l)),n.exists(i[3])||(i[3]=2*Math.PI),n.exists(i[2])||(i[2]=0),h=t.create("point",[function(){return o.projectPointToLine(c,d,t).usrCoords}],p),(a=t.create("curve",[function(t){return 0},function(t){return 0},i[2],i[3]],f)).midpoint=a.center=h,a.subs={center:a.center},a.inherits.push(a.center),s=function(t,e){var i,r,s,o,n,h;e||(i=d.stdform[1],r=d.stdform[2],s=d.stdform[0],o=i*i+r*r,n=c.X(),h=c.Y(),a.quadraticform=[[s*s-o*(n*n+h*h),s*i+o*n,s*r+o*h],[s*i+o*n,-r*r,i*r],[s*r+o*h,i*r,-i*i]])},a.X=function(t,e){var i,r=d.getAngle(),n=o.distPointLine(c.coords.usrCoords,d.stdform),a=d.point1.coords.usrCoords,h=d.point2.coords.usrCoords,l=c.coords.usrCoords;return 0===a[0]?a=[1,h[1]+d.stdform[2],h[2]-d.stdform[1]]:0===h[0]&&(h=[1,a[1]+d.stdform[2],a[2]-d.stdform[1]]),i=((h[1]-a[1])*(l[2]-a[2])-(h[2]-a[2])*(l[1]-a[1])>=0?1:-1)*n/(1-Math.sin(t)),e||s(0,e),c.X()+Math.cos(t+r)*i},a.Y=function(t,e){var i,r=d.getAngle(),s=o.distPointLine(c.coords.usrCoords,d.stdform),n=d.point1.coords.usrCoords,a=d.point2.coords.usrCoords,h=c.coords.usrCoords;return 0===n[0]?n=[1,a[1]+d.stdform[2],a[2]-d.stdform[1]]:0===a[0]&&(a=[1,n[1]+d.stdform[2],n[2]-d.stdform[1]]),i=((a[1]-n[1])*(h[2]-n[2])-(a[2]-n[2])*(h[1]-n[1])>=0?1:-1)*s/(1-Math.sin(t)),c.Y()+Math.sin(t+r)*i},a.type=e.OBJECT_TYPE_CONIC,h.addChild(a),n.isPoint(c)&&(c.addChild(a),a.inherits.push(c)),d.addChild(a),a.setParents(i),a},t.createConic=function(t,i,o){var a,h,l,c,d,u,p,f,m,g,b,v,y,C,_=[[1,0,0],[0,1,0],[0,0,1]],P=[[1,0,0],[0,1,0],[0,0,1]],E=[],x=[],S=n.copyAttributes(o,t.options,"conic","point"),O=n.copyAttributes(o,t.options,"conic","center"),w=n.copyAttributes(o,t.options,"conic");if(5===i.length)C=!0;else{if(6!==i.length)throw new Error("JSXGraph: Can't create generic Conic with "+i.length+" parameters.");C=!1}if(C)for(v=0;v<5;v++)if(i[v].length>1)E[v]=t.create("point",i[v],S);else if(n.isPoint(i[v]))E[v]=t.select(i[v]);else if(n.isFunction(i[v])&&n.isPoint(i[v]()))E[v]=i[v]();else{if(!n.isString(i[v]))throw new Error("JSXGraph: Can't create Conic section with parent types '"+typeof i[v]+"'.\nPossible parent types: [point,point,point,point,point], [a00,a11,a22,a01,a02,a12]");E[v]=t.select(i[v])}else(y=[[0,0,0],[0,0,0],[0,0,0]])[0][0]=n.isFunction(i[2])?function(){return i[2]()}:function(){return i[2]},y[0][1]=n.isFunction(i[4])?function(){return i[4]()}:function(){return i[4]},y[0][2]=n.isFunction(i[5])?function(){return i[5]()}:function(){return i[5]},y[1][1]=n.isFunction(i[0])?function(){return i[0]()}:function(){return i[0]},y[1][2]=n.isFunction(i[3])?function(){return i[3]()}:function(){return i[3]},y[2][2]=n.isFunction(i[1])?function(){return i[1]()}:function(){return i[1]};if(d=function(t){var e,i;for(e=0;e<3;e++)for(i=e;i<3;i++)t[e][i]+=t[i][e];for(e=0;e<3;e++)for(i=0;i<e;i++)t[e][i]=t[i][e];return t},c=function(t,e){var i,r,s=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;i<3;i++)for(r=0;r<3;r++)s[i][r]=t[i]*e[r];return d(s)},l=function(t,e,i){var s,o,n,a,h,l=[[0,0,0],[0,0,0],[0,0,0]];for(h=r.matVecMult(e,i),n=r.innerProduct(i,h),h=r.matVecMult(t,i),a=r.innerProduct(i,h),s=0;s<3;s++)for(o=0;o<3;o++)l[s][o]=n*t[s][o]-a*e[s][o];return l},h=t.create("curve",[function(t){return 0},function(t){return 0},0,2*Math.PI],w),a=function(t,e){var i,o,a,d;if(!e){if(C){for(i=0;i<5;i++)x[i]=E[i].coords.usrCoords;g=c(r.crossProduct(x[0],x[1]),r.crossProduct(x[2],x[3])),b=c(r.crossProduct(x[0],x[2]),r.crossProduct(x[1],x[3])),P=l(g,b,x[4])}else for(i=0;i<3;i++)for(o=i;o<3;o++)P[i][o]=y[i][o](),o>i&&(P[o][i]=P[i][o]);for(h.quadraticform=P,(u=s.Jacobi(P))[0][0][0]<0&&(u[0][0][0]*=-1,u[0][1][1]*=-1,u[0][2][2]*=-1),i=0;i<3;i++){for(a=0,o=0;o<3;o++)a+=u[1][o][i]*u[1][o][i];a=Math.sqrt(a)}_=u[1],m=Math.sqrt(Math.abs(u[0][0][0])),p=Math.sqrt(Math.abs(u[0][1][1])),f=Math.sqrt(Math.abs(u[0][2][2]))}return u[0][1][1]<=0&&u[0][2][2]<=0?d=r.matVecMult(_,[1/m,Math.cos(t)/p,Math.sin(t)/f]):u[0][1][1]<=0&&u[0][2][2]>0?d=r.matVecMult(_,[Math.cos(t)/m,1/p,Math.sin(t)/f]):u[0][2][2]<0&&(d=r.matVecMult(_,[Math.sin(t)/m,Math.cos(t)/p,1/f])),n.exists(d)?(d[1]/=d[0],d[2]/=d[0],d[0]=1):d=[1,NaN,NaN],d},h.X=function(t,e){return a(t,e)[1]},h.Y=function(t,e){return a(t,e)[2]},h.midpoint=t.create("point",[function(){var t=h.quadraticform;return[t[1][1]*t[2][2]-t[1][2]*t[1][2],t[1][2]*t[0][2]-t[2][2]*t[0][1],t[0][1]*t[1][2]-t[1][1]*t[0][2]]}],O),h.type=e.OBJECT_TYPE_CONIC,h.center=h.midpoint,h.subs={center:h.center},h.inherits.push(h.center),h.inherits=h.inherits.concat(E),C){for(v=0;v<5;v++)n.isPoint(E[v])&&E[v].addChild(h);h.setParents(i)}return h.addChild(h.center),h},t.registerElement("ellipse",t.createEllipse),t.registerElement("hyperbola",t.createHyperbola),t.registerElement("parabola",t.createParabola),t.registerElement("conic",t.createConic),{createEllipse:t.createEllipse,createHyperbola:t.createHyperbola,createParabola:t.createParabola,createConic:t.createConic}})),define("base/circle",["jxg","base/element","base/coords","base/constants","element/conic","parser/geonext","utils/type"],(function(t,e,i,r,s,o,n){"use strict";return t.Circle=function(t,e,i,s,o){this.constructor(t,o,r.OBJECT_TYPE_CIRCLE,r.OBJECT_CLASS_CIRCLE),this.method=e,this.midpoint=this.board.select(i),this.center=this.board.select(i),this.point2=null,this.radius=0,this.line=null,this.circle=null,this.points=[],"twoPoints"===e?(this.point2=t.select(s),this.radius=this.Radius()):"pointRadius"===e?(this.gxtterm=s,this.updateRadius=n.createFunction(s,this.board,null,!0),this.updateRadius()):"pointLine"===e?(this.line=t.select(s),this.radius=this.line.point1.coords.distance(r.COORDS_BY_USER,this.line.point2.coords)):"pointCircle"===e&&(this.circle=t.select(s),this.radius=this.circle.Radius()),this.id=this.board.setId(this,"C"),this.board.renderer.drawEllipse(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="circle",this.createLabel(),n.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),"pointRadius"===e?this.notifyParents(s):"pointLine"===e?this.line.addChild(this):"pointCircle"===e?this.circle.addChild(this):"twoPoints"===e&&(n.exists(this.point2._is_new)?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this)),this.methodMap=n.deepCopy(this.methodMap,{setRadius:"setRadius",getRadius:"getRadius",Area:"Area",area:"Area",radius:"Radius",center:"center",line:"line",point2:"point2"})},t.Circle.prototype=new e,t.extend(t.Circle.prototype,{hasPoint:function(t,e){var s,o,a,h,l,c=this.center.coords.usrCoords,d=new i(r.COORDS_BY_SCREEN,[t,e],this.board),u=this.Radius();return n.isObject(n.evaluate(this.visProp.precision))?(o=this.board._inputDevice,s=n.evaluate(this.visProp.precision[o])):s=this.board.options.precision.hasPoint,a=c[1]-d.usrCoords[1],h=c[2]-d.usrCoords[2],l=Math.sqrt(a*a+h*h),s+=.5*n.evaluate(this.visProp.strokewidth),s/=Math.sqrt(this.board.unitX*this.board.unitY),n.evaluate(this.visProp.hasinnerpoints)?l<u+s:Math.abs(l-u)<s},generatePolynomial:function(t){var e=this.center.symbolic.x,i=this.center.symbolic.y,r=t.symbolic.x,s=t.symbolic.y,o=this.generateRadiusSquared();return""===o?[]:["(("+r+")-("+e+"))^2 + (("+s+")-("+i+"))^2 - ("+o+")"]},generateRadiusSquared:function(){var t,e,i,r,s="";return"twoPoints"===this.method?(t=this.center.symbolic.x,e=this.center.symbolic.y,s="(("+(i=this.point2.symbolic.x)+")-("+t+"))^2 + (("+(r=this.point2.symbolic.y)+")-("+e+"))^2"):"pointRadius"===this.method?n.isNumber(this.radius)&&(s=(this.radius*this.radius).toString()):"pointLine"===this.method?(i=this.line.point1.symbolic.x,r=this.line.point1.symbolic.y,s="(("+i+")-("+this.line.point2.symbolic.x+"))^2 + (("+r+")-("+this.line.point2.symbolic.y+"))^2"):"pointCircle"===this.method&&(s=this.circle.Radius()),s},update:function(){var t,e,s,o,a,h;if(this.needsUpdate)for(n.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),"pointLine"===this.method?this.radius=this.line.point1.coords.distance(r.COORDS_BY_USER,this.line.point2.coords):"pointCircle"===this.method?this.radius=this.circle.Radius():"pointRadius"===this.method&&(this.radius=this.updateRadius()),this.updateStdform(),this.updateQuadraticform(),s=this.center.coords.usrCoords[0],t=this.center.coords.usrCoords[1]/s,e=this.center.coords.usrCoords[2]/s,s/=s,o=this.Radius(),a=.551915024494,this.numberPoints=13,this.dataX=[t+o,t+o,t+o*a,t,t-o*a,t-o,t-o,t-o,t-o*a,t,t+o*a,t+o,t+o],this.dataY=[e,e+o*a,e+o,e+o,e+o,e+o*a,e,e-o*a,e-o,e-o,e-o,e-o*a,e],this.bezierDegree=3,h=0;h<this.numberPoints;h++)this.points[h]=new i(r.COORDS_BY_USER,[this.dataX[h],this.dataY[h]],this.board);return this},updateQuadraticform:function(){var t=this.center,e=t.X(),i=t.Y(),r=this.Radius();this.quadraticform=[[e*e+i*i-r*r,-e,-i],[-e,1,0],[-i,0,1]]},updateStdform:function(){this.stdform[3]=.5,this.stdform[4]=this.Radius(),this.stdform[1]=-this.center.coords.usrCoords[1],this.stdform[2]=-this.center.coords.usrCoords[2],isFinite(this.stdform[4])||(this.stdform[0]=n.exists(this.point2)?-(this.stdform[1]*this.point2.coords.usrCoords[1]+this.stdform[2]*this.point2.coords.usrCoords[2]):0),this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.center.coords.usrCoords[1]+this.center.coords.usrCoords[2]+this.Radius())&&this.center.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateEllipse(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},notifyParents:function(t){n.isString(t)&&o.findDependencies(this,t,this.board)},setRadius:function(t){return this.updateRadius=n.createFunction(t,this.board,null,!0),this.board.update(),this},Radius:function(t){return n.exists(t)?(this.setRadius(t),this.Radius()):"twoPoints"===this.method?n.cmpArrays(this.point2.coords.usrCoords,[0,0,0])||n.cmpArrays(this.center.coords.usrCoords,[0,0,0])?NaN:this.center.Dist(this.point2):"pointLine"===this.method||"pointCircle"===this.method?this.radius:"pointRadius"===this.method?this.updateRadius():NaN},getRadius:function(){return t.deprecated("Circle.getRadius()","Circle.Radius()"),this.Radius()},getTextAnchor:function(){return this.center.coords},getLabelAnchor:function(){var t,e,s=this.Radius(),o=this.center.coords.usrCoords,a=.7071067811865476;switch(n.evaluate(this.visProp.label.position)){case"lft":t=o[1]-s,e=o[2];break;case"llft":t=o[1]-a*s,e=o[2]-a*s;break;case"rt":t=o[1]+s,e=o[2];break;case"lrt":t=o[1]+a*s,e=o[2]-a*s;break;case"urt":t=o[1]+a*s,e=o[2]+a*s;break;case"top":t=o[1],e=o[2]+s;break;case"bot":t=o[1],e=o[2]-s;break;default:t=o[1]-a*s,e=o[2]+a*s}return new i(r.COORDS_BY_USER,[t,e],this.board)},cloneToBackground:function(){var t,e=this.Radius(),i={id:this.id+"T"+this.numTraces,elementClass:r.OBJECT_CLASS_CIRCLE,center:{coords:this.center.coords},Radius:function(){return e},getRadius:function(){return e},board:this.board,visProp:n.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return i.visProp.layer=this.board.options.layer.trace,this.numTraces++,n.clearVisPropOld(i),i.visPropCalc={visible:n.evaluate(i.visProp.visible)},t=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawEllipse(i),this.board.renderer.enhancedRendering=t,this.traces[i.id]=i.rendNode,this},addTransform:function(t){var e,i=n.isArray(t)?t:[t],r=i.length;for(e=0;e<r;e++)this.center.transformations.push(i[e]),"twoPoints"===this.method&&this.point2.transformations.push(i[e]);return this},snapToGrid:function(){var t=n.evaluate(this.visProp.snaptogrid);return this.center.handleSnapToGrid(t,!0),"twoPoints"===this.method&&this.point2.handleSnapToGrid(t,!0),this},snapToPoints:function(){var t=n.evaluate(this.visProp.snaptopoints);return this.center.handleSnapToPoints(t),"twoPoints"===this.method&&this.point2.handleSnapToPoints(t),this},X:function(t){return this.Radius()*Math.cos(2*t*Math.PI)+this.center.coords.usrCoords[1]},Y:function(t){return this.Radius()*Math.sin(2*t*Math.PI)+this.center.coords.usrCoords[2]},Z:function(t){return 1},minX:function(){return 0},maxX:function(){return 1},Area:function(){var t=this.Radius();return t*t*Math.PI},bounds:function(){var t=this.center.coords.usrCoords,e=this.Radius();return[t[1]-e,t[2]+e,t[1]+e,t[2]-e]},getParents:function(){return 1===this.parents.length?this.parents.concat(this.radius):this.parents}}),t.createCircle=function(e,i,o){var a,h,l,c,d,u=["center","point2"];if(h=[],d=e.select(i[0]),n.isObject(d)&&d.elementClass===r.OBJECT_CLASS_CIRCLE&&n.isTransformationOrArray(i[1]))return c=n.copyAttributes(o,e.options,"circle"),(a=s.createEllipse(e,[d.center,d.center,function(){return 2*d.Radius()}],c)).addTransform(i[1]),a;for(l=0;l<i.length;l++)if(n.isPointType(e,i[l])){if(!1===(h=h.concat(n.providePoints(e,[i[l]],o,"circle",[u[l]])))[h.length-1])throw new Error("JSXGraph: Can't create circle from this type. Please provide a point type.")}else h.push(i[l]);if(c=n.copyAttributes(o,e.options,"circle"),2===h.length&&n.isPoint(h[0])&&n.isPoint(h[1]))a=new t.Circle(e,"twoPoints",h[0],h[1],c);else if((n.isNumber(h[0])||n.isFunction(h[0])||n.isString(h[0]))&&n.isPoint(h[1]))a=new t.Circle(e,"pointRadius",h[1],h[0],c);else if((n.isNumber(h[1])||n.isFunction(h[1])||n.isString(h[1]))&&n.isPoint(h[0]))a=new t.Circle(e,"pointRadius",h[0],h[1],c);else if(h[0].elementClass===r.OBJECT_CLASS_CIRCLE&&n.isPoint(h[1]))a=new t.Circle(e,"pointCircle",h[1],h[0],c);else if(h[1].elementClass===r.OBJECT_CLASS_CIRCLE&&n.isPoint(h[0]))a=new t.Circle(e,"pointCircle",h[0],h[1],c);else if(h[0].elementClass===r.OBJECT_CLASS_LINE&&n.isPoint(h[1]))a=new t.Circle(e,"pointLine",h[1],h[0],c);else if(h[1].elementClass===r.OBJECT_CLASS_LINE&&n.isPoint(h[0]))a=new t.Circle(e,"pointLine",h[0],h[1],c);else{if(!(3===i.length&&n.isPoint(h[0])&&n.isPoint(h[1])&&n.isPoint(h[2])))throw new Error("JSXGraph: Can't create circle with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [point,number], [point,function], [point,circle], [point,point,point], [circle,transformation]");if(!t.elements.circumcircle)throw new Error("JSXGraph: Can't create circle with three points. Please include the circumcircle element (element/composition).");a=t.elements.circumcircle(e,h,c)}for(a.isDraggable=!0,a.setParents(h),a.elType="circle",l=0;l<h.length;l++)n.isPoint(h[l])&&a.inherits.push(h[l]);return a},t.registerElement("circle",t.createCircle),{Circle:t.Circle,createCircle:t.createCircle}})),define("base/polygon",["jxg","base/constants","base/coords","math/statistics","math/geometry","utils/type","base/element"],(function(t,e,i,r,s,o,n){"use strict";return t.Polygon=function(i,r,s){this.constructor(i,s,e.OBJECT_TYPE_POLYGON,e.OBJECT_CLASS_AREA);var n,a,h,l,c,d=o.copyAttributes(s,i.options,"polygon","borders");for(this.withLines=s.withlines,this.attr_line=d,this.vertices=[],n=0;n<r.length;n++)this.vertices[n]=this.board.select(r[n]);if(this.vertices.length>0&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.borders=[],this.withLines)for(h=this.vertices.length-1,l=0;l<h;l++)n=(l+1)%h,d.id=d.ids&&d.ids[n],d.name=d.names&&d.names[n],d.strokecolor=o.isArray(d.colors)&&d.colors[n%d.colors.length]||d.strokecolor,d.visible=o.exists(s.borders.visible)?s.borders.visible:s.visible,!1===d.strokecolor&&(d.strokecolor="none"),(a=i.create("segment",[this.vertices[n],this.vertices[n+1]],d)).dump=!1,this.borders[n]=a,a.parentPolygon=this;for(this.inherits.push(this.vertices,this.borders),this.id=this.board.setId(this,"Py"),n=0;n<this.vertices.length-1;n++)c=this.board.select(this.vertices[n]),o.exists(c._is_new)?(this.addChild(c),delete c._is_new):c.addChild(this);this.board.renderer.drawPolygon(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="polygon",this.createLabel(),this.methodMap=t.deepCopy(this.methodMap,{borders:"borders",vertices:"vertices",A:"Area",Area:"Area",Perimeter:"Perimeter",L:"Perimeter",Length:"Perimeter",boundingBox:"boundingBox",bounds:"bounds",addPoints:"addPoints",insertPoints:"insertPoints",removePoints:"removePoints"})},t.Polygon.prototype=new n,t.extend(t.Polygon.prototype,{pnpoly:function(t,r,s){var o,n,a,h,l,c,d=this.vertices,u=!1;for(s===e.COORDS_BY_USER?(h=(c=new i(e.COORDS_BY_USER,[t,r],this.board)).scrCoords[1],l=c.scrCoords[2]):(h=t,l=r),o=0,n=(a=this.vertices.length)-2;o<a-1;n=o++)d[o].coords.scrCoords[2]>l!=d[n].coords.scrCoords[2]>l&&h<(d[n].coords.scrCoords[1]-d[o].coords.scrCoords[1])*(l-d[o].coords.scrCoords[2])/(d[n].coords.scrCoords[2]-d[o].coords.scrCoords[2])+d[o].coords.scrCoords[1]&&(u=!u);return u},hasPoint:function(t,e){var i,r;if(o.evaluate(this.visProp.hasinnerpoints)&&this.pnpoly(t,e))return!0;for(r=this.borders.length,i=0;i<r;i++)if(this.borders[i].hasPoint(t,e))return!0;return!1},updateRenderer:function(){var t,e;if(!this.needsUpdate)return this;if(this.visPropCalc.visible){for(e=this.vertices.length,this.isReal=!0,t=0;t<e;++t)if(!this.vertices[t].isReal){this.isReal=!1;break}this.isReal||this.updateVisibility(!1)}return this.visPropCalc.visible&&this.board.renderer.updatePolygon(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this},getTextAnchor:function(){var t,r,s,o,n;if(0===this.vertices.length)return new i(e.COORDS_BY_USER,[1,0,0],this.board);for(s=t=this.vertices[0].X(),o=r=this.vertices[0].Y(),n=0;n<this.vertices.length;n++)this.vertices[n].X()<t&&(t=this.vertices[n].X()),this.vertices[n].X()>s&&(s=this.vertices[n].X()),this.vertices[n].Y()>r&&(r=this.vertices[n].Y()),this.vertices[n].Y()<o&&(o=this.vertices[n].Y());return new i(e.COORDS_BY_USER,[.5*(t+s),.5*(r+o)],this.board)},getLabelAnchor:t.shortcut(t.Polygon.prototype,"getTextAnchor"),cloneToBackground:function(){var t,e={};return e.id=this.id+"T"+this.numTraces,this.numTraces++,e.vertices=this.vertices,e.visProp=o.deepCopy(this.visProp,this.visProp.traceattributes,!0),e.visProp.layer=this.board.options.layer.trace,e.board=this.board,o.clearVisPropOld(e),e.visPropCalc={visible:o.evaluate(e.visProp.visible)},t=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawPolygon(e),this.board.renderer.enhancedRendering=t,this.traces[e.id]=e.rendNode,this},hideElement:function(e){var i;if(t.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),!e)for(i=0;i<this.borders.length;i++)this.borders[i].hideElement();this.hasLabel&&o.exists(this.label)&&(this.label.hiddenByParent=!0,this.label.visPropCalc.visible&&this.label.hideElement())},showElement:function(e){var i;if(t.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!0),!e)for(i=0;i<this.borders.length;i++)this.borders[i].showElement().updateRenderer();return o.exists(this.label)&&this.hasLabel&&this.label.hiddenByParent&&(this.label.hiddenByParent=!1,this.label.visPropCalc.visible||this.label.showElement().updateRenderer()),this},Area:function(){return Math.abs(s.signedPolygon(this.vertices,!0))},Perimeter:function(){var t,e=this.vertices.length,i=0;for(t=1;t<e;++t)i+=this.vertices[t].Dist(this.vertices[t-1]);return i},boundingBox:function(){var t,e,i=[0,0,0,0],r=this.vertices.length-1;if(0===r)return i;for(i[0]=this.vertices[0].X(),i[2]=i[0],i[1]=this.vertices[0].Y(),i[3]=i[1],t=1;t<r;++t)(e=this.vertices[t].X())<i[0]?i[0]=e:e>i[2]&&(i[2]=e),(e=this.vertices[t].Y())>i[1]?i[1]=e:e<i[3]&&(i[3]=e);return i},bounds:function(){return this.boundingBox()},remove:function(){var t;for(t=0;t<this.borders.length;t++)this.board.removeObject(this.borders[t]);n.prototype.remove.call(this)},findPoint:function(t){var e;if(!o.isPoint(t))return-1;for(e=0;e<this.vertices.length;e++)if(this.vertices[e].id===t.id)return e;return-1},addPoints:function(t){var e=Array.prototype.slice.call(arguments);return this.insertPoints.apply(this,[this.vertices.length-2].concat(e))},insertPoints:function(t,e){var i,r;if(0===arguments.length)return this;if(t<-1||t>this.vertices.length-2)return this;for(r=arguments.length-1,i=1;i<r+1;i++)this.vertices.splice(t+i,0,o.providePoints(this.board,[arguments[i]],{},"polygon",["vertices"])[0]);if(-1===t&&(this.vertices[this.vertices.length-1]=this.vertices[0]),this.withLines)for(t<0?this.borders[this.borders.length-1].point2=this.vertices[this.vertices.length-1]:this.borders[t].point2=this.vertices[t+1],i=t+1;i<t+1+r;i++)this.borders.splice(i,0,this.board.create("segment",[this.vertices[i],this.vertices[i+1]],this.attr_line));return this.board.update(),this},removePoints:function(t){var e,i,r,s=[],n=[],a=[],h=[];for(this.vertices=this.vertices.slice(0,this.vertices.length-1),e=0;e<arguments.length;e++)r=arguments[e],o.isPoint(r)&&(r=this.findPoint(r)),o.isNumber(r)&&r>-1&&r<this.vertices.length&&-1===o.indexOf(a,r)&&a.push(r);for(e=0;e<a.length;e++)this.vertices[a[e]].removeChild(this);for(a=a.sort(),s=this.vertices.slice(),n=this.borders.slice(),this.withLines&&h.push([a[a.length-1]]),e=a.length-1;e>-1;e--)s[a[e]]=-1,this.withLines&&a[e]-1>a[e-1]&&(h[h.length-1][1]=a[e],h.push([a[e-1]]));for(this.withLines&&(h[h.length-1][1]=a[0]),this.vertices=[],e=0;e<s.length;e++)o.isPoint(s[e])&&this.vertices.push(s[e]);if(this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.withLines){for(e=0;e<h.length;e++){for(i=h[e][1]-1;i<h[e][0]+1;i++)i<0?(i=0,this.board.removeObject(this.borders[n.length-1]),n[n.length-1]=-1):i>n.length-1&&(i=n.length-1),this.board.removeObject(this.borders[i]),n[i]=-1;0!==h[e][1]&&h[e][0]!==s.length-1&&(n[h[e][0]-1]=this.board.create("segment",[s[Math.max(h[e][1]-1,0)],s[Math.min(h[e][0]+1,this.vertices.length-1)]],this.attr_line))}for(this.borders=[],e=0;e<n.length;e++)-1!==n[e]&&this.borders.push(n[e]);h[0][1]!==this.vertices.length-1&&0!==h[h.length-1][1]||this.borders.push(this.board.create("segment",[this.vertices[0],this.vertices[this.vertices.length-2]],this.attr_line))}return this.board.update(),this},getParents:function(){return this.setParents(this.vertices),this.parents},getAttributes:function(){var t,e=n.prototype.getAttributes.call(this);if(this.withLines)for(e.lines=e.lines||{},e.lines.ids=[],e.lines.colors=[],t=0;t<this.borders.length;t++)e.lines.ids.push(this.borders[t].id),e.lines.colors.push(this.borders[t].visProp.strokecolor);return e},snapToGrid:function(){var t,e;for(e=!!o.evaluate(this.visProp.snaptogrid),t=0;t<this.vertices.length;t++)this.vertices[t].handleSnapToGrid(e,!0)},setPositionDirectly:function(t,e,s){var o,n,a,h=new i(t,e,this.board),l=new i(t,s,this.board);for(a=this.vertices.length-1,n=0;n<a;n++)if(!this.vertices[n].draggable())return this;return o=r.subtract(h.usrCoords,l.usrCoords),this.board.create("transform",o.slice(1),{type:"translate"}).applyOnce(this.vertices.slice(0,-1)),this},sutherlandHodgman:function(e){var i,r,s,o,n,a,h,l=t.Math.Geometry.sortVertices(this.vertices),c=t.Math.Geometry.sortVertices(e.vertices),d=l.length-1,u=c.length-1,p=[],f=function(t,e,i){return(e[1]-t[1])*(i[2]-t[2])-(e[2]-t[2])*(i[1]-t[1])>=0};for(s=0;s<u;s++)p.push(c[s]);for(s=0;s<d;s++)for(r=p.slice(0),p=[],n=r[(i=r.length)-1],o=0;o<i;o++)a=r[o],f(l[s],l[s+1],a)?(f(l[s],l[s+1],n)||((h=t.Math.Geometry.meetSegmentSegment(n,a,l[s],l[s+1]))[0][1]/=h[0][0],h[0][2]/=h[0][0],h[0][0]=1,p.push(h[0])),p.push(a)):f(l[s],l[s+1],n)&&((h=t.Math.Geometry.meetSegmentSegment(n,a,l[s],l[s+1]))[0][1]/=h[0][0],h[0][2]/=h[0][0],h[0][0]=1,p.push(h[0])),n=a;return p},intersect:function(t){return this.sutherlandHodgman(t)}}),t.createPolygon=function(i,r,s){var n,a,h,l,c,d,u=[],p=!1;if(o.copyAttributes(s,i.options,"polygon"),null===(l=i.select(r[0]))&&(l=r[0]),o.isObject(l)&&l.type===e.OBJECT_TYPE_POLYGON&&o.isTransformationOrArray(r[1]))for(p=!0,h=l.vertices.length-1,d=o.copyAttributes(s,i.options,"polygon","vertices"),a=0;a<h;a++)d.withlabel&&(d.name=""===l.vertices[a].name?"":l.vertices[a].name+"'"),u.push(i.create("point",[l.vertices[a],r[1]],d));else if(!1===(u=o.providePoints(i,r,s,"polygon",["vertices"])))throw new Error("JSXGraph: Can't create polygon / polygonalchain with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates. Alternatively, a polygon and a transformation can be supplied");if(c=o.copyAttributes(s,i.options,"polygon"),(n=new t.Polygon(i,u,c)).isDraggable=!0,p)for(n.prepareUpdate().update().updateVisibility().updateRenderer(),h=l.vertices.length-1,a=0;a<h;a++)u[a].prepareUpdate().update().updateVisibility().updateRenderer();return n},t.createRegularPolygon=function(t,i,r){var s,n,a,h,l,c,d,u=[];if(a=i[(l=i.length)-1],o.isNumber(a)&&(3!==i.length||a<3))throw new Error("JSXGraph: A regular polygon needs two point types and a number > 2 as input.");if(o.isNumber(t.select(a))?(l--,c=!1):(a=l,c=!0),!1===(u=o.providePoints(t,i.slice(0,l),r,"regularpolygon",["vertices"])))throw new Error("JSXGraph: Can't create regular polygon with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates");for(d=o.copyAttributes(r,t.options,"regularpolygon","vertices"),n=2;n<a;n++)h=t.create("transform",[Math.PI*(2-(a-2)/a),u[n-1]],{type:"rotate"}),c?(u[n].addTransform(u[n-2],h),u[n].fullUpdate()):(o.isArray(d.ids)&&d.ids.length>=a-2&&(d.id=d.ids[n-2]),u[n]=t.create("point",[u[n-2],h],d),u[n].type=e.OBJECT_TYPE_CAS,u[n].isDraggable=!0,u[n].visProp.fixed=!1);return d=o.copyAttributes(r,t.options,"regularpolygon"),(s=t.create("polygon",u,d)).elType="regularpolygon",s},t.createPolygonalChain=function(t,e,i){var r,s;return r=o.copyAttributes(i,t.options,"polygonalchain"),(s=t.create("polygon",e,r)).elType="polygonalchain",s.vertices.pop(),t.removeObject(s.borders[s.borders.length-1]),s.borders.pop(),s},t.registerElement("polygon",t.createPolygon),t.registerElement("regularpolygon",t.createRegularPolygon),t.registerElement("polygonalchain",t.createPolygonalChain),{Polygon:t.Polygon,createPolygon:t.createPolygon,createRegularPolygon:t.createRegularPolygon}})),define("base/curve",["jxg","base/constants","base/coords","base/element","math/math","math/numerics","math/plot","math/geometry","parser/geonext","utils/type","math/qdt"],(function(t,e,i,r,s,o,n,a,h,l,c){"use strict";return t.Curve=function(t,i,r){this.constructor(t,r,e.OBJECT_TYPE_CURVE,e.OBJECT_CLASS_CURVE),this.points=[],this.numberPoints=l.evaluate(this.visProp.numberpointshigh),this.bezierDegree=1,this.dataX=null,this.dataY=null,this.ticks=[],this.qdt=null,l.exists(i[0])?this.varname=i[0]:this.varname="x",this.xterm=i[1],this.yterm=i[2],this.generateTerm(this.varname,this.xterm,this.yterm,i[3],i[4]),this.updateCurve(),this.id=this.board.setId(this,"G"),this.board.renderer.drawCurve(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="curve",this.createLabel(),l.isString(this.xterm)&&this.notifyParents(this.xterm),l.isString(this.yterm)&&this.notifyParents(this.yterm),this.methodMap=l.deepCopy(this.methodMap,{generateTerm:"generateTerm",setTerm:"generateTerm",move:"moveTo",moveTo:"moveTo"})},t.Curve.prototype=new r,t.extend(t.Curve.prototype,{minX:function(){return"polar"===l.evaluate(this.visProp.curvetype)?0:new i(e.COORDS_BY_SCREEN,[.1*-this.board.canvasWidth,0],this.board,!1).usrCoords[1]},maxX:function(){return"polar"===l.evaluate(this.visProp.curvetype)?2*Math.PI:new i(e.COORDS_BY_SCREEN,[1.1*this.board.canvasWidth,0],this.board,!1).usrCoords[1]},X:function(t){return NaN},Y:function(t){return NaN},Z:function(t){return 1},hasPoint:function(t,r,o){var n,h,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x=[],S=l.evaluate(this.visProp.numberpointslow),O=(this.maxX()-this.minX())/S,w=1/0;if(l.isObject(l.evaluate(this.visProp.precision))?(y=this.board._inputDevice,v=l.evaluate(this.visProp.precision[y])):v=this.board.options.precision.hasPoint,t=(h=new i(e.COORDS_BY_SCREEN,[t,r],this.board,!1)).usrCoords[1],r=h.usrCoords[2],v+=.5*l.evaluate(this.visProp.strokewidth),v*=v,C=this.board.unitX*this.board.unitX,_=this.board.unitY*this.board.unitY,E=this.minX(),this.maxX(),l.exists(this._visibleArea)&&(E=this._visibleArea[0],O=(this._visibleArea[1]-E)/S),"parameter"===(P=l.evaluate(this.visProp.curvetype))||"polar"===P)for(this.transformations.length>0&&(this.updateTransformMatrix(),d=s.inverse(this.transformMat),t=(u=s.matVecMult(d,[1,t,r]))[1],r=u[2]),p=0,n=E;p<S;p++){if((w=(t-(f=this.X(n,true)))*(t-f)*C+(r-(m=this.Y(n,true)))*(r-m)*_)<=v)return!0;n+=O}else if("plot"===P||"functiongraph"===P){for((!l.exists(o)||o<0)&&(o=0),l.exists(this.qdt)&&l.evaluate(this.visProp.useqdt)&&3!==this.bezierDegree?c=(g=(b=this.qdt.query(new i(e.COORDS_BY_USER,[t,r],this.board))).points).length:(g=this.points,c=this.numberPoints-1),p=o;p<c;p++)if(3===this.bezierDegree?x.push(a.projectCoordsToBeziersegment([1,t,r],this,p)):b?(g[p].prev&&(x=a.projectCoordsToSegment([1,t,r],g[p].prev.usrCoords,g[p].usrCoords)),g[p].next&&g[p+1]!==g[p].next&&(x=a.projectCoordsToSegment([1,t,r],g[p].usrCoords,g[p].next.usrCoords))):x=a.projectCoordsToSegment([1,t,r],g[p].usrCoords,g[p+1].usrCoords),x[1]>=0&&x[1]<=1&&(t-x[0][1])*(t-x[0][1])*C+(r-x[0][2])*(r-x[0][2])*_<=v)return!0;return!1}return w<v},allocatePoints:function(){var t,r;if(r=this.numberPoints,this.points.length<this.numberPoints)for(t=this.points.length;t<r;t++)this.points[t]=new i(e.COORDS_BY_USER,[0,0],this.board,!1)},update:function(){return this.needsUpdate&&(l.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this.updateCurve()),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=n.checkReal(this.points),this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateCurve(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateDataArray:function(){},updateCurve:function(){var t,i,r,s,a,h,d=this.visProp.plotversion,u=!1;if(this.updateTransformMatrix(),this.updateDataArray(),i=this.minX(),r=this.maxX(),l.exists(this.dataX))for(this.numberPoints=this.dataX.length,t=this.numberPoints,this.allocatePoints(),h=0;h<t;h++)s=h,l.exists(this.dataY)?(a=h,this.points[h].setCoordinates(e.COORDS_BY_USER,[this.dataX[h],this.dataY[h]],!1)):(a=this.X(s),this.points[h].setCoordinates(e.COORDS_BY_USER,[this.dataX[h],this.Y(a,u)],!1)),this.points[h]._t=h,u=!0;else if(l.evaluate(this.visProp.doadvancedplot)?1===d||l.evaluate(this.visProp.doadvancedplotold)?n.updateParametricCurveOld(this,i,r):2===d?n.updateParametricCurve_v2(this,i,r):3===d?n.updateParametricCurve_v3(this,i,r):4===d?n.updateParametricCurve_v4(this,i,r):n.updateParametricCurve_v2(this,i,r):(this.board.updateQuality===this.board.BOARD_QUALITY_HIGH?this.numberPoints=l.evaluate(this.visProp.numberpointshigh):this.numberPoints=l.evaluate(this.visProp.numberpointslow),this.allocatePoints(),n.updateParametricCurveNaive(this,i,r,this.numberPoints)),t=this.numberPoints,l.evaluate(this.visProp.useqdt)&&this.board.updateQuality===this.board.BOARD_QUALITY_HIGH)for(this.qdt=new c(this.board.getBoundingBox()),h=0;h<this.points.length;h++)this.qdt.insert(this.points[h]),h>0&&(this.points[h].prev=this.points[h-1]),h<t-1&&(this.points[h].next=this.points[h+1]);for("plot"!==l.evaluate(this.visProp.curvetype)&&l.evaluate(this.visProp.rdpsmoothing)&&(this.points=o.RamerDouglasPeucker(this.points,.2),this.numberPoints=this.points.length),t=this.numberPoints,h=0;h<t;h++)this.updateTransform(this.points[h]);return this},updateTransformMatrix:function(){var t,e,i=this.transformations.length;for(this.transformMat=[[1,0,0],[0,1,0],[0,0,1]],e=0;e<i;e++)(t=this.transformations[e]).update(),this.transformMat=s.matMatMult(t.matrix,this.transformMat);return this},updateTransform:function(t){var i;return this.transformations.length>0&&(i=s.matVecMult(this.transformMat,t.usrCoords),t.setCoordinates(e.COORDS_BY_USER,i,!1,!0)),t},addTransform:function(t){var e,i=l.isArray(t)?t:[t],r=i.length;for(e=0;e<r;e++)this.transformations.push(i[e]);return this},interpolationFunctionFromArray:function(t){var e="data"+t,i=this;return function(t,r){var s,o,n,a,h=i[e],c=h.length,d=[];if(isNaN(t))return NaN;if(t<0)return l.isFunction(h[0])?h[0]():h[0];if(3===i.bezierDegree){if(t>=(c-1)/3)return l.isFunction(h[h.length-1])?h[h.length-1]():h[h.length-1];for(s=3*Math.floor(t),a=1-(n=t%1),o=0;o<4;o++)l.isFunction(h[s+o])?d[o]=h[s+o]():d[o]=h[s+o];return a*a*(a*d[0]+3*n*d[1])+(3*a*d[2]+n*d[3])*n*n}if((s=t>c-2?c-2:parseInt(Math.floor(t),10))===t)return l.isFunction(h[s])?h[s]():h[s];for(o=0;o<2;o++)l.isFunction(h[s+o])?d[o]=h[s+o]():d[o]=h[s+o];return d[0]+(d[1]-d[0])*(t-s)}},generateTerm:function(t,e,i,r,s){var o,n;l.isArray(e)?(this.dataX=e,this.numberPoints=this.dataX.length,this.X=this.interpolationFunctionFromArray.apply(this,["X"]),this.visProp.curvetype="plot",this.isDraggable=!0):(this.X=l.createFunction(e,this.board,t),l.isString(e)?this.visProp.curvetype="functiongraph":(l.isFunction(e)||l.isNumber(e))&&(this.visProp.curvetype="parameter"),this.isDraggable=!0),l.isArray(i)?(this.dataY=i,this.Y=this.interpolationFunctionFromArray.apply(this,["Y"])):this.Y=l.createFunction(i,this.board,t),l.isFunction(e)&&l.isArray(i)&&(o=l.createFunction(i[0],this.board,""),n=l.createFunction(i[1],this.board,""),this.X=function(t){return e(t)*Math.cos(t)+o()},this.Y=function(t){return e(t)*Math.sin(t)+n()},this.visProp.curvetype="polar"),l.exists(r)&&(this.minX=l.createFunction(r,this.board,"")),l.exists(s)&&(this.maxX=l.createFunction(s,this.board,""))},notifyParents:function(t){var e,i,r,s=!1;for(e in r={xterm:1,yterm:1})if(r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&this[e].origin)for(i in s=!0,this[e].origin.deps)this[e].origin.deps.hasOwnProperty(i)&&this[e].origin.deps[i].addChild(this);s||h.findDependencies(this,t,this.board)},getLabelAnchor:function(){var t,r,s,o=.05*this.board.canvasWidth,n=.05*this.board.canvasHeight,h=.95*this.board.canvasWidth,c=.95*this.board.canvasHeight;switch(l.evaluate(this.visProp.label.position)){case"ulft":r=o,s=n;break;case"llft":r=o,s=c;break;case"rt":r=h,s=.5*c;break;case"lrt":r=h,s=c;break;case"urt":r=h,s=n;break;case"top":r=.5*h,s=n;break;case"bot":r=.5*h,s=c;break;default:r=o,s=.5*c}return t=new i(e.COORDS_BY_SCREEN,[r,s],this.board,!1),a.projectCoordsToCurve(t.usrCoords[1],t.usrCoords[2],0,this,this.board)[0]},cloneToBackground:function(){var t,i={id:this.id+"T"+this.numTraces,elementClass:e.OBJECT_CLASS_CURVE,points:this.points.slice(0),bezierDegree:this.bezierDegree,numberPoints:this.numberPoints,board:this.board,visProp:l.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return i.visProp.layer=this.board.options.layer.trace,i.visProp.curvetype=this.visProp.curvetype,this.numTraces++,l.clearVisPropOld(i),i.visPropCalc={visible:l.evaluate(i.visProp.visible)},t=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawCurve(i),this.board.renderer.enhancedRendering=t,this.traces[i.id]=i.rendNode,this},bounds:function(){var t,e,i,r=1/0,s=-1/0,n=1/0,a=-1/0,h=this.points.length;if(3===this.bezierDegree){for(t=0;t<h;t++)this.points[t].X=l.bind((function(){return this.usrCoords[1]}),this.points[t]),this.points[t].Y=l.bind((function(){return this.usrCoords[2]}),this.points[t]);return i=(e=o.bezier(this.points))[3](),r=o.fminbr((function(t){return e[0](t)}),[0,i]),s=o.fminbr((function(t){return-e[0](t)}),[0,i]),n=o.fminbr((function(t){return e[1](t)}),[0,i]),a=o.fminbr((function(t){return-e[1](t)}),[0,i]),r=e[0](r),s=e[0](s),n=e[1](n),[r,a=e[1](a),s,n]}for(t=0;t<h;t++)r>this.points[t].usrCoords[1]&&(r=this.points[t].usrCoords[1]),s<this.points[t].usrCoords[1]&&(s=this.points[t].usrCoords[1]),n>this.points[t].usrCoords[2]&&(n=this.points[t].usrCoords[2]),a<this.points[t].usrCoords[2]&&(a=this.points[t].usrCoords[2]);return[r,a,s,n]},getParents:function(){var t=[this.xterm,this.yterm,this.minX(),this.maxX()];return 0!==this.parents.length&&(t=this.parents),t},moveTo:function(t){var i,r=[];return this.points.length>0&&!l.evaluate(this.visProp.fixed)&&(i=this.points[0],r=3===t.length?[t[0]-i.usrCoords[0],t[1]-i.usrCoords[1],t[2]-i.usrCoords[2]]:[t[0]-i.usrCoords[1],t[1]-i.usrCoords[2]],this.setPosition(e.COORDS_BY_USER,r)),this},getTransformationSource:function(){var t,i;return l.exists(this._transformationSource)&&(i=this._transformationSource).elementClass===e.OBJECT_CLASS_CURVE&&(t=!0),[t,i]}}),t.createCurve=function(i,r,s){var o,n,a=l.copyAttributes(s,i.options,"curve");return o=i.select(r[0],!0),l.isObject(o)&&(o.type===e.OBJECT_TYPE_CURVE||o.type===e.OBJECT_TYPE_ANGLE||o.type===e.OBJECT_TYPE_ARC||o.type===e.OBJECT_TYPE_CONIC||o.type===e.OBJECT_TYPE_SECTOR)&&l.isTransformationOrArray(r[1])?(o.type===e.OBJECT_TYPE_SECTOR?a=l.copyAttributes(s,i.options,"sector"):o.type===e.OBJECT_TYPE_ARC?a=l.copyAttributes(s,i.options,"arc"):o.type===e.OBJECT_TYPE_ANGLE?(l.exists(s.withLabel)||(s.withLabel=!1),a=l.copyAttributes(s,i.options,"angle")):a=l.copyAttributes(s,i.options,"curve"),a=l.copyAttributes(a,i.options,"curve"),(n=new t.Curve(i,["x",[],[]],a)).updateDataArray=function(){var t,e=o.numberPoints;for(this.bezierDegree=o.bezierDegree,this.dataX=[],this.dataY=[],t=0;t<e;t++)this.dataX.push(o.points[t].usrCoords[1]),this.dataY.push(o.points[t].usrCoords[2]);return this},n.addTransform(r[1]),o.addChild(n),n.setParents([o]),n._transformationSource=o,n):(a=l.copyAttributes(s,i.options,"curve"),new t.Curve(i,["x"].concat(r),a))},t.registerElement("curve",t.createCurve),t.createFunctiongraph=function(e,i,r){var s,o=["x","x"].concat(i);return(s=l.copyAttributes(r,e.options,"curve")).curvetype="functiongraph",new t.Curve(e,o,s)},t.registerElement("functiongraph",t.createFunctiongraph),t.registerElement("plot",t.createFunctiongraph),t.createSpline=function(e,i,r){var s,n,a;return n=function(){var t,e=[],r=[];return[function(s,n){var a,h,c;if(!n){if(e=[],r=[],2===i.length&&l.isArray(i[0])&&l.isArray(i[1])&&i[0].length===i[1].length)for(a=0;a<i[0].length;a++)l.isFunction(i[0][a])?e.push(i[0][a]()):e.push(i[0][a]),l.isFunction(i[1][a])?r.push(i[1][a]()):r.push(i[1][a]);else for(a=0;a<i.length;a++)if(l.isPoint(i[a]))e.push(i[a].X()),r.push(i[a].Y());else if(l.isArray(i[a])&&2===i[a].length)for(h=0;h<i.length;h++)l.isFunction(i[h][0])?e.push(i[h][0]()):e.push(i[h][0]),l.isFunction(i[h][1])?r.push(i[h][1]()):r.push(i[h][1]);else l.isFunction(i[a])&&2===i[a]().length&&(c=i[a](),e.push(c[0]),r.push(c[1]));t=o.splineDef(e,r)}return o.splineEval(s,e,r,t)},function(){return e[0]},function(){return e[e.length-1]}]},(r=l.copyAttributes(r,e.options,"curve")).curvetype="functiongraph",a=n(),(s=new t.Curve(e,["x","x",a[0],a[1],a[2]],r)).setParents(i),s.elType="spline",s},t.registerElement("spline",t.createSpline),t.createCardinalSpline=function(e,i,r){var s,n,a,h,c,d,u,p,f,m,g="\nPossible parent types: [points:array, tau:number|function, type:string]";if(!l.exists(i[0])||!l.isArray(i[0]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 1 'points' has to be array of points or coordinate pairs"+g);if(!l.exists(i[1])||!l.isNumber(i[1])&&!l.isFunction(i[1]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 2 'tau' has to be number between [0,1] or function'"+g);if(!l.exists(i[2])||!l.isString(i[2]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 3 'type' has to be string 'uniform' or 'centripetal'"+g);if(r=l.copyAttributes(r,e.options,"curve"),(r=l.copyAttributes(r,e.options,"cardinalspline")).curvetype="parameter",d=i[0],u=[],!r.isarrayofcoordinates&&2===d.length&&l.isArray(d[0])&&l.isArray(d[1])&&d[0].length===d[1].length)for(p=0;p<d[0].length;p++)u[p]=[],l.isFunction(d[0][p])?u[p].push(d[0][p]()):u[p].push(d[0][p]),l.isFunction(d[1][p])?u[p].push(d[1][p]()):u[p].push(d[1][p]);else for(p=0;p<d.length;p++)l.isString(d[p])?u.push(e.select(d[p])):l.isPoint(d[p])?u.push(d[p]):l.isArray(d[p])&&2===d[p].length?(u[p]=[],l.isFunction(d[p][0])?u[p].push(d[p][0]()):u[p].push(d[p][0]),l.isFunction(d[p][1])?u[p].push(d[p][1]()):u[p].push(d[p][1])):l.isFunction(d[p])&&2===d[p]().length&&u.push(i[p]());if(!0===r.createpoints)a=l.providePoints(e,u,r,"cardinalspline",["points"]);else for(a=[],n=function(t){return{X:function(){return u[t][0]},Y:function(){return u[t][1]},Dist:function(t){var e=this.X()-t.X(),i=this.Y()-t.Y();return Math.sqrt(e*e+i*i)}}},p=0;p<u.length;p++)l.isPoint(u[p])?a.push(u[p]):a.push(n(p));for(h=i[1],c=i[2],m=["x"].concat(o.CardinalSpline(a,h,c)),s=new t.Curve(e,m,r),f=a.length,s.setParents(a),p=0;p<f;p++)d=a[p],l.isPoint(d)&&(l.exists(d._is_new)?(s.addChild(d),delete d._is_new):d.addChild(s));return s.elType="cardinalspline",s},t.registerElement("cardinalspline",t.createCardinalSpline),t.createMetapostSpline=function(e,i,r){var s,o,n,a,h,c,d,u,p="\nPossible parent types: [points:array, controls:object";if(!l.exists(i[0])||!l.isArray(i[0]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 1 'points' has to be array of points or coordinate pairs"+p);if(!l.exists(i[1])||!l.isObject(i[1]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 2 'controls' has to be a JavaScript object'"+p);if(r=l.copyAttributes(r,e.options,"curve"),(r=l.copyAttributes(r,e.options,"metapostspline")).curvetype="parameter",h=i[0],c=[],!r.isarrayofcoordinates&&2===h.length&&l.isArray(h[0])&&l.isArray(h[1])&&h[0].length===h[1].length)for(d=0;d<h[0].length;d++)c[d]=[],l.isFunction(h[0][d])?c[d].push(h[0][d]()):c[d].push(h[0][d]),l.isFunction(h[1][d])?c[d].push(h[1][d]()):c[d].push(h[1][d]);else for(d=0;d<h.length;d++)l.isString(h[d])?c.push(e.select(h[d])):l.isPoint(h[d])?c.push(h[d]):l.isArray(h[d])&&2===h[d].length?(c[d]=[],l.isFunction(h[d][0])?c[d].push(h[d][0]()):c[d].push(h[d][0]),l.isFunction(h[d][1])?c[d].push(h[d][1]()):c[d].push(h[d][1])):l.isFunction(h[d])&&2===h[d]().length&&c.push(i[d]());if(!0===r.createpoints)n=l.providePoints(e,c,r,"metapostspline",["points"]);else for(n=[],o=function(t){return{X:function(){return c[t][0]},Y:function(){return c[t][1]}}},d=0;d<c.length;d++)l.isPoint(c[d])?n.push(c[d]):n.push(o);for(a=i[1],(s=new t.Curve(e,["t",[],[],0,h.length-1],r)).updateDataArray=function(){var e,i,r=n.length,s=[];for(i=0;i<r;i++)s.push([n[i].X(),n[i].Y()]);e=t.Math.Metapost.curve(s,a),this.dataX=e[0],this.dataY=e[1]},s.bezierDegree=3,u=n.length,s.setParents(n),d=0;d<u;d++)l.isPoint(n[d])&&n[d].addChild(s);return s.elType="metapostspline",s},t.registerElement("metapostspline",t.createMetapostSpline),t.createRiemannsum=function(t,e,i){var r,s,n,a,h,c;if((c=l.copyAttributes(i,t.options,"riemannsum")).curvetype="plot",n=e[0],r=l.createFunction(e[1],t,""),!l.exists(r))throw new Error("JSXGraph: JXG.createRiemannsum: argument '2' n has to be number or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");if(s=l.createFunction(e[2],t,"",!1),!l.exists(s))throw new Error("JSXGraph: JXG.createRiemannsum: argument 3 'type' has to be string or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");return a=[[0],[0]].concat(e.slice(3)),(h=t.create("curve",a,c)).sum=0,h.Value=function(){return this.sum},h.updateDataArray=function(){var t=o.riemann(n,r(),s(),this.minX(),this.maxX());this.dataX=t[0],this.dataY=t[1],this.sum=t[2]},h},t.registerElement("riemannsum",t.createRiemannsum),t.createTracecurve=function(t,i,r){var s,o,n,a;if(2!==i.length)throw new Error("JSXGraph: Can't create trace curve with given parent'\nPossible parent types: [glider, point]");if(o=t.select(i[0]),n=t.select(i[1]),o.type!==e.OBJECT_TYPE_GLIDER||!l.isPoint(n))throw new Error("JSXGraph: Can't create trace curve with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [glider, point]");return(a=l.copyAttributes(r,t.options,"tracecurve")).curvetype="plot",(s=t.create("curve",[[0],[0]],a)).updateDataArray=function(){var t,i,r,s,h,l,c,d,u,p=a.numberpoints,f=o.position,m=o.slideObject,g=m.minX();for(i=(m.maxX()-g)/p,this.dataX=[],this.dataY=[],m.elementClass!==e.OBJECT_CLASS_CURVE&&p++,t=0;t<p;t++){for(s in r=g+t*i,l=m.X(r)/m.Z(r),c=m.Y(r)/m.Z(r),o.setPositionDirectly(e.COORDS_BY_USER,[l,c]),d=!1,this.board.objects)if(this.board.objects.hasOwnProperty(s)&&((h=this.board.objects[s])===o&&(d=!0),d&&h.needsRegularUpdate&&(u=h.visProp.trace,h.visProp.trace=!1,h.needsUpdate=!0,h.update(!0),h.visProp.trace=u,h===n)))break;this.dataX[t]=n.X(),this.dataY[t]=n.Y()}for(s in o.position=f,d=!1,this.board.objects)if(this.board.objects.hasOwnProperty(s)&&((h=this.board.objects[s])===o&&(d=!0),d&&h.needsRegularUpdate&&(u=h.visProp.trace,h.visProp.trace=!1,h.needsUpdate=!0,h.update(!0),h.visProp.trace=u,h===n)))break},s},t.registerElement("tracecurve",t.createTracecurve),t.createStepfunction=function(t,e,i){var r,s;if(2!==e.length)throw new Error("JSXGraph: Can't create step function with given parent'\nPossible parent types: [array, array|function]");return s=l.copyAttributes(i,t.options,"stepfunction"),(r=t.create("curve",e,s)).updateDataArray=function(){var t,e=0,i=this.xterm.length;if(this.dataX=[],this.dataY=[],0!==i)for(this.dataX[e]=this.xterm[0],this.dataY[e]=this.yterm[0],++e,t=1;t<i;++t)this.dataX[e]=this.xterm[t],this.dataY[e]=this.dataY[e-1],++e,this.dataX[e]=this.xterm[t],this.dataY[e]=this.yterm[t],++e},r},t.registerElement("stepfunction",t.createStepfunction),t.createDerivative=function(t,i,r){var s,n,a,h,c;if(1!==i.length&&i[0].class!==e.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create derivative curve with given parent'\nPossible parent types: [curve]");return c=l.copyAttributes(r,t.options,"curve"),n=i[0],a=o.D(n.X),h=o.D(n.Y),(s=t.create("curve",[function(t){return n.X(t)},function(t){return h(t)/a(t)},n.minX(),n.maxX()],c)).setParents(n),s},t.registerElement("derivative",t.createDerivative),t.createCurveIntersection=function(e,i,r){var s;if(2!==i.length)throw new Error("JSXGraph: Can't create curve intersection with given parent'\nPossible parent types: [array, array|function]");return(s=e.create("curve",[[],[]],r)).updateDataArray=function(){var e=t.Math.Clip.intersection(i[0],i[1],this.board);this.dataX=e[0],this.dataY=e[1]},s},t.createCurveUnion=function(e,i,r){var s;if(2!==i.length)throw new Error("JSXGraph: Can't create curve union with given parent'\nPossible parent types: [array, array|function]");return(s=e.create("curve",[[],[]],r)).updateDataArray=function(){var e=t.Math.Clip.union(i[0],i[1],this.board);this.dataX=e[0],this.dataY=e[1]},s},t.createCurveDifference=function(e,i,r){var s;if(2!==i.length)throw new Error("JSXGraph: Can't create curve difference with given parent'\nPossible parent types: [array, array|function]");return(s=e.create("curve",[[],[]],r)).updateDataArray=function(){var e=t.Math.Clip.difference(i[0],i[1],this.board);this.dataX=e[0],this.dataY=e[1]},s},t.registerElement("curvedifference",t.createCurveDifference),t.registerElement("curveintersection",t.createCurveIntersection),t.registerElement("curveunion",t.createCurveUnion),t.createBoxPlot=function(t,e,i){var r,s,o,n=l.copyAttributes(i,t.options,"boxplot");if(3!==e.length)throw new Error("JSXGraph: Can't create box plot with given parent'\nPossible parent types: [array, number|function, number|function] containing quantiles, axis, width");if(e[0].length<5)throw new Error("JSXGraph: Can't create box plot with given parent[0]'\nparent[0] has to conatin at least 5 quantiles.");for(r=t.create("curve",[[],[]],n),o=e[0].length,r.Q=[],s=0;s<o;s++)r.Q[s]=l.createFunction(e[0][s],t,null,!0);return r.x=l.createFunction(e[1],t,null,!0),r.w=l.createFunction(e[2],t,null,!0),r.updateDataArray=function(){var t,e,i,r,s,o,n,a,h;n=l.evaluate(this.visProp.smallwidth),a=l.evaluate(this.visProp.dir),i=(h=this.x())-.5*this.w(),r=h-.5*this.w()*n,s=h+.5*this.w(),t=[h,r,o=h+.5*this.w()*n,h,h,i,i,s,s,h,NaN,i,s,NaN,h,h,r,o,h],e=[this.Q[0](),this.Q[0](),this.Q[0](),this.Q[0](),this.Q[1](),this.Q[1](),this.Q[3](),this.Q[3](),this.Q[1](),this.Q[1](),NaN,this.Q[2](),this.Q[2](),NaN,this.Q[3](),this.Q[4](),this.Q[4](),this.Q[4](),this.Q[4]()],"vertical"===a?(this.dataX=t,this.dataY=e):(this.dataX=e,this.dataY=t)},r},t.registerElement("boxplot",t.createBoxPlot),{Curve:t.Curve,createCardinalSpline:t.createCardinalSpline,createCurve:t.createCurve,createCurveDifference:t.createCurveDifference,createCurveIntersection:t.createCurveIntersection,createCurveUnion:t.createCurveUnion,createDerivative:t.createDerivative,createFunctiongraph:t.createFunctiongraph,createMetapostSpline:t.createMetapostSpline,createPlot:t.createFunctiongraph,createSpline:t.createSpline,createRiemannsum:t.createRiemannsum,createStepfunction:t.createStepfunction,createTracecurve:t.createTracecurve}})),define("element/arc",["jxg","math/geometry","math/math","base/coords","base/circle","utils/type","base/constants"],(function(t,e,i,r,s,o,n){"use strict";return t.createArc=function(a,h,l){var c,d,u;if(!1===(u=o.providePoints(a,h,l,"arc",["center","radiusPoint","anglePoint"]))||u.length<3)throw new Error("JSXGraph: Can't create Arc with parent types '"+typeof h[0]+"' and '"+typeof h[1]+"' and '"+typeof h[2]+"'.\nPossible parent types: [point,point,point], [arc, transformation]");return d=o.copyAttributes(l,a.options,"arc"),(c=a.create("curve",[[0],[0]],d)).elType="arc",c.setParents(u),c.type=n.OBJECT_TYPE_ARC,c.center=u[0],c.radiuspoint=u[1],c.point2=c.radiuspoint,c.anglepoint=u[2],c.point3=c.anglepoint,o.exists(c.center._is_new)?(c.addChild(c.center),delete c.center._is_new):c.center.addChild(c),o.exists(c.radiuspoint._is_new)?(c.addChild(c.radiuspoint),delete c.radiuspoint._is_new):c.radiuspoint.addChild(c),o.exists(c.anglepoint._is_new)?(c.addChild(c.anglepoint),delete c.anglepoint._is_new):c.anglepoint.addChild(c),c.useDirection=d.usedirection,c.updateDataArray=function(){var t,i,r,s,n,a=1,h=this.radiuspoint,l=this.center,c=this.anglepoint,d=o.evaluate(this.visProp.selection);i=e.rad(h,l,c),("minor"===d&&i>Math.PI||"major"===d&&i<Math.PI)&&(a=-1),this.useDirection&&(r=u[1].coords.usrCoords,s=u[3].coords.usrCoords,n=u[2].coords.usrCoords,(r[1]-n[1])*(r[2]-s[2])-(r[2]-n[2])*(r[1]-s[1])<0?(this.radiuspoint=u[1],this.anglepoint=u[2]):(this.radiuspoint=u[2],this.anglepoint=u[1])),h=h.coords.usrCoords,l=l.coords.usrCoords,c=c.coords.usrCoords,t=e.bezierArc(h,l,c,!1,a),this.dataX=t[0],this.dataY=t[1],this.bezierDegree=3,this.updateStdform(),this.updateQuadraticform()},c.Radius=function(){return this.radiuspoint.Dist(this.center)},c.getRadius=function(){return t.deprecated("Arc.getRadius()","Arc.Radius()"),this.Radius()},c.Value=function(){return this.Radius()*e.rad(this.radiuspoint,this.center,this.anglepoint)},c.hasPoint=function(t,s){var a,h,l,c,d,u,p,f=this.Radius();return o.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(t,s):(o.isObject(o.evaluate(this.visProp.precision))?(p=this.board._inputDevice,u=o.evaluate(this.visProp.precision[p])):u=this.board.options.precision.hasPoint,u/=Math.min(this.board.unitX,this.board.unitY),h=new r(n.COORDS_BY_SCREEN,[t,s],this.board),this.transformations.length>0&&(this.updateTransformMatrix(),c=i.inverse(this.transformMat),d=i.matVecMult(c,h.usrCoords),h=new r(n.COORDS_BY_USER,d,this.board)),a=this.center.coords.distance(n.COORDS_BY_USER,h),(l=Math.abs(a-f)<u)&&(l=e.coordsOnArc(this,h)),l)},c.hasPointSector=function(t,i){var s=new r(n.COORDS_BY_SCREEN,[t,i],this.board),o=this.Radius(),a=this.center.coords.distance(n.COORDS_BY_USER,s)<o;return a&&(a=e.coordsOnArc(this,s)),a},c.getTextAnchor=function(){return this.center.coords},c.getLabelAnchor=function(){var t,i,s,a,h,l=e.rad(this.radiuspoint,this.center,this.anglepoint),c=10/this.board.unitX,d=10/this.board.unitY,u=this.point2.coords.usrCoords,p=this.center.coords.usrCoords,f=u[1]-p[1],m=u[2]-p[2],g=o.evaluate(this.visProp.selection),b=this.label?this.label.visProp:this.visProp.label;return("minor"===g&&l>Math.PI||"major"===g&&l<Math.PI)&&(l=-(2*Math.PI-l)),s=(t=new r(n.COORDS_BY_USER,[p[1]+Math.cos(.5*l)*f-Math.sin(.5*l)*m,p[2]+Math.sin(.5*l)*f+Math.cos(.5*l)*m],this.board)).usrCoords[1]-p[1],a=t.usrCoords[2]-p[2],s=s*((h=Math.sqrt(s*s+a*a))+c)/h,a=a*(h+d)/h,i=[p[1]+s,p[2]+a],b.position=e.calcLabelQuadrant(e.rad([1,0],[0,0],i)),new r(n.COORDS_BY_USER,i,this.board)},c.updateQuadraticform=s.Circle.prototype.updateQuadraticform,c.updateStdform=s.Circle.prototype.updateStdform,c.methodMap=t.deepCopy(c.methodMap,{getRadius:"getRadius",radius:"Radius",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",Value:"Value"}),c.prepareUpdate().update(),c},t.registerElement("arc",t.createArc),t.createSemicircle=function(t,e,i){var r,s,n,a;if(!1===(a=o.providePoints(t,e,i,"point"))||2!==a.length)throw new Error("JSXGraph: Can't create Semicircle with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,point]");return n=o.copyAttributes(i,t.options,"semicircle","center"),(s=t.create("midpoint",a,n)).dump=!1,n=o.copyAttributes(i,t.options,"semicircle"),(r=t.create("arc",[s,a[1],a[0]],n)).elType="semicircle",r.setParents([a[0].id,a[1].id]),r.subs={midpoint:s},r.inherits.push(s),r.midpoint=r.center=s,r},t.registerElement("semicircle",t.createSemicircle),t.createCircumcircleArc=function(t,e,i){var r,s,n,a;if(!1===(a=o.providePoints(t,e,i,"point"))||3!==a.length)throw new Error("JSXGraph: create Circumcircle Arc with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"' and '"+typeof e[2]+"'.\nPossible parent types: [point,point,point]");return n=o.copyAttributes(i,t.options,"circumcirclearc","center"),(s=t.create("circumcenter",a,n)).dump=!1,(n=o.copyAttributes(i,t.options,"circumcirclearc")).usedirection=!0,(r=t.create("arc",[s,a[0],a[2],a[1]],n)).elType="circumcirclearc",r.setParents([a[0].id,a[1].id,a[2].id]),r.subs={center:s},r.inherits.push(s),r.center=s,r},t.registerElement("circumcirclearc",t.createCircumcircleArc),t.createMinorArc=function(e,i,r){return r.selection="minor",t.createArc(e,i,r)},t.registerElement("minorarc",t.createMinorArc),t.createMajorArc=function(e,i,r){return r.selection="major",t.createArc(e,i,r)},t.registerElement("majorarc",t.createMajorArc),{createArc:t.createArc,createSemicircle:t.createSemicircle,createCircumcircleArc:t.createCircumcircleArc,createMinorArc:t.createMinorArc,createMajorArc:t.createMajorArc}})),define("element/sector",["jxg","math/geometry","math/math","math/statistics","base/coords","base/constants","utils/type"],(function(t,e,i,r,s,o,n){"use strict";return t.createSector=function(a,h,l){var c,d,u,p,f,m,g="invalid";if(h[0].elementClass===o.OBJECT_CLASS_LINE&&h[1].elementClass===o.OBJECT_CLASS_LINE&&(n.isArray(h[2])||n.isNumber(h[2]))&&(n.isArray(h[3])||n.isNumber(h[3]))&&(n.isNumber(h[4])||n.isFunction(h[4])||n.isString(h[4])))g="2lines";else{if(!1===(m=n.providePoints(a,h,l,"sector",["center","radiusPoint","anglePoint"])))throw new Error("JSXGraph: Can't create Sector with parent types '"+typeof h[0]+"' and '"+typeof h[1]+"' and '"+typeof h[2]+"'.");g="3points"}if(d=n.copyAttributes(l,a.options,"sector"),(c=a.create("curve",[[0],[0]],d)).type=o.OBJECT_TYPE_SECTOR,c.elType="sector",c.autoRadius=function(){var t=20/c.board.unitX,e=1/0,i=50/c.board.unitX;return n.isPoint(c.center)&&(e=.3333*c.center.Dist(c.point2)),Math.max(t,Math.min(e,i))},"2lines"===g)c.Radius=function(){var t=n.evaluate(h[4]);return"auto"===t?this.autoRadius():t},c.line1=a.select(h[0]),c.line2=a.select(h[1]),c.line1.addChild(c),c.line2.addChild(c),c.setParents(h),c.point1={visProp:{}},c.point2={visProp:{}},c.point3={visProp:{}},p=e.meetLineLine(c.line1.stdform,c.line2.stdform,0,a),n.isArray(h[2])?(2===h[2].length&&(h[2]=[1].concat(h[2])),f=e.projectPointToLine({coords:{usrCoords:h[2]}},c.line1,a),f=r.subtract(f.usrCoords,p.usrCoords),c.direction1=i.innerProduct(f,[0,c.line1.stdform[2],-c.line1.stdform[1]],3)>=0?1:-1):c.direction1=h[2]>=0?1:-1,n.isArray(h[3])?(2===h[3].length&&(h[3]=[1].concat(h[3])),f=e.projectPointToLine({coords:{usrCoords:h[3]}},c.line2,a),f=r.subtract(f.usrCoords,p.usrCoords),c.direction2=i.innerProduct(f,[0,c.line2.stdform[2],-c.line2.stdform[1]],3)>=0?1:-1):c.direction2=h[3]>=0?1:-1,c.updateDataArray=function(){var t,n,a,h,l,d,u=[0,0,0];if(n=this.line1,a=this.line2,u=i.crossProduct(n.stdform,a.stdform),Math.abs(u[0])>i.eps*i.eps&&(u[1]/=u[0],u[2]/=u[0],u[0]/=u[0]),t=this.direction1*this.Radius(),h=r.add(u,[0,t*n.stdform[2],-t*n.stdform[1]]),t=this.direction2*this.Radius(),l=r.add(u,[0,t*a.stdform[2],-t*a.stdform[1]]),this.point2.coords=new s(o.COORDS_BY_USER,h,c.board),this.point1.coords=new s(o.COORDS_BY_USER,u,c.board),this.point3.coords=new s(o.COORDS_BY_USER,l,c.board),Math.abs(h[0])<i.eps||Math.abs(u[0])<i.eps||Math.abs(l[0])<i.eps)return this.dataX=[NaN],void(this.dataY=[NaN]);d=e.bezierArc(h,u,l,!0,1),this.dataX=d[0],this.dataY=d[1],this.bezierDegree=3},c.methodMap=t.deepCopy(c.methodMap,{radius:"Radius",getRadius:"Radius",setRadius:"setRadius"});else if("3points"===g){for(c.point1=m[0],c.point2=m[1],c.point3=m[2],u=0;u<3;u++)n.exists(m[u]._is_new)?(c.addChild(m[u]),delete m[u]._is_new):m[u].addChild(c);c.useDirection=l.usedirection,c.setParents(m),n.exists(m[3])&&(c.point4=m[3],c.point4.addChild(c)),c.methodMap=t.deepCopy(c.methodMap,{arc:"arc",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",radius:"Radius",getRadius:"Radius",setRadius:"setRadius"}),c.updateDataArray=function(){var t,i,r,s,o,a=this.point2,h=this.point1,l=this.point3,c=1,d=n.evaluate(this.visProp.selection);if(!a.isReal||!h.isReal||!l.isReal)return this.dataX=[NaN],void(this.dataY=[NaN]);o=e.rad(a,h,l),("minor"===d&&o>Math.PI||"major"===d&&o<Math.PI)&&(c=-1),this.useDirection&&n.exists(this.point4)&&(i=this.point2.coords.usrCoords,r=this.point4.coords.usrCoords,s=this.point3.coords.usrCoords,(i[1]-s[1])*(i[2]-r[2])-(i[2]-s[2])*(i[1]-r[1])>=0&&(l=this.point2,a=this.point3)),a=a.coords.usrCoords,h=h.coords.usrCoords,l=l.coords.usrCoords,t=e.bezierArc(a,h,l,!0,c),this.dataX=t[0],this.dataY=t[1],this.bezierDegree=3},c.Radius=function(){return this.point2.Dist(this.point1)},(d=n.copyAttributes(l,a.options,"sector","arc")).withLabel=!1,d.name+="_arc",c.arc=a.create("arc",[c.point1,c.point2,c.point3],d),c.addChild(c.arc)}return c.center=c.point1,c.radiuspoint=c.point2,c.anglepoint=c.point3,c.hasPointCurve=function(t,i){var r,a,h,l,c,d,u=new s(o.COORDS_BY_SCREEN,[t,i],this.board),p=this.Radius(),f=this.center.coords.distance(o.COORDS_BY_USER,u),m=n.evaluate(this.visProp.selection);return n.isObject(n.evaluate(this.visProp.precision))?(c=this.board._inputDevice,l=n.evaluate(this.visProp.precision[c])):l=this.board.options.precision.hasPoint,l/=Math.min(this.board.unitX,this.board.unitY),(d=Math.abs(f-p)<l)&&(r=e.rad(this.point2,this.center,u.usrCoords.slice(1)),a=0,h=e.rad(this.point2,this.center,this.point3),("minor"===m&&h>Math.PI||"major"===m&&h<Math.PI)&&(a=h,h=2*Math.PI),(r<a||r>h)&&(d=!1)),d},c.hasPointSector=function(t,i){var r,a,h,l=new s(o.COORDS_BY_SCREEN,[t,i],this.board),c=this.Radius(),d=this.point1.coords.distance(o.COORDS_BY_USER,l)<c,u=n.evaluate(this.visProp.selection);return d&&(r=e.rad(this.radiuspoint,this.center,l.usrCoords.slice(1)),a=0,h=e.rad(this.radiuspoint,this.center,this.anglepoint),("minor"===u&&h>Math.PI||"major"===u&&h<Math.PI)&&(a=h,h=2*Math.PI),(r<a||r>h)&&(d=!1)),d},c.hasPoint=function(t,e){return n.evaluate(this.visProp.highlightonsector)||n.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(t,e):this.hasPointCurve(t,e)},c.getTextAnchor=function(){return this.point1.coords},c.getLabelAnchor=function(){var t,i,r,a,h,l=e.rad(this.point2,this.point1,this.point3),c=13/this.board.unitX,d=13/this.board.unitY,u=this.point2.coords.usrCoords,p=this.point1.coords.usrCoords,f=u[1]-p[1],m=u[2]-p[2],g=n.evaluate(this.visProp.selection),b=this.label?this.label.visProp:this.visProp.label;return("minor"===g&&l>Math.PI||"major"===g&&l<Math.PI)&&(l=-(2*Math.PI-l)),r=(t=new s(o.COORDS_BY_USER,[p[1]+Math.cos(.5*l)*f-Math.sin(.5*l)*m,p[2]+Math.sin(.5*l)*f+Math.cos(.5*l)*m],this.board)).usrCoords[1]-p[1],a=t.usrCoords[2]-p[2],r=r*((h=Math.sqrt(r*r+a*a))+c)/h,a=a*(h+d)/h,i=[p[1]+r,p[2]+a],b.position=e.calcLabelQuadrant(e.rad([1,0],[0,0],i)),new s(o.COORDS_BY_USER,i,this.board)},c.setRadius=function(t){c.Radius=function(){var e=n.evaluate(t);return"auto"===e?this.autoRadius():e}},c.getRadius=function(){return t.deprecated("Sector.getRadius()","Sector.Radius()"),this.Radius()},"3points"===g&&(c.setPositionDirectly=function(t,e,i){var o,n=new s(t,e,this.board),a=new s(t,i,this.board);return c.point1.draggable()&&c.point2.draggable()&&c.point3.draggable()?(o=r.subtract(n.usrCoords,a.usrCoords),this.board.create("transform",o.slice(1),{type:"translate"}).applyOnce([c.point1,c.point2,c.point3]),this):this}),c.prepareUpdate().update(),c},t.registerElement("sector",t.createSector),t.createCircumcircleSector=function(t,e,i){var r,s,o,a;if(!1===(a=n.providePoints(t,e,i,"point")))throw new Error("JSXGraph: Can't create circumcircle sector with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"' and '"+typeof e[2]+"'.");return(s=t.create("circumcenter",a.slice(0,3),o)).dump=!1,o=n.copyAttributes(i,t.options,"circumcirclesector"),(r=t.create("sector",[s,a[0],a[2],a[1]],o)).elType="circumcirclesector",r.setParents(a),r.center=s,r.subs={center:s},r},t.registerElement("circumcirclesector",t.createCircumcircleSector),t.createMinorSector=function(e,i,r){return r.selection="minor",t.createSector(e,i,r)},t.registerElement("minorsector",t.createMinorSector),t.createMajorSector=function(e,i,r){return r.selection="major",t.createSector(e,i,r)},t.registerElement("majorsector",t.createMajorSector),t.createAngle=function(t,r,a){var h,l,c,d,u,p,f="invalid";if(r[0].elementClass===o.OBJECT_CLASS_LINE&&r[1].elementClass===o.OBJECT_CLASS_LINE&&(n.isArray(r[2])||n.isNumber(r[2]))&&(n.isArray(r[3])||n.isNumber(r[3])))f="2lines";else{if(!1===(p=n.providePoints(t,r,a,"point")))throw new Error("JSXGraph: Can't create angle with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.");f="3points"}if(c=n.copyAttributes(a,t.options,"angle"),n.exists(c.name)&&""!==c.name||(c.name=t.generateName({type:o.OBJECT_TYPE_ANGLE})),l=n.exists(c.radius)?c.radius:0,"2lines"===f?(r.push(l),(h=t.create("sector",r,c)).updateDataArraySector=h.updateDataArray,h.setAngle=function(t){},h.free=function(t){}):((h=t.create("sector",[p[1],p[0],p[2]],c)).arc.visProp.priv=!0,h.point=h.point2=h.radiuspoint=p[0],h.pointsquare=h.point3=h.anglepoint=p[2],h.Radius=function(){var t=n.evaluate(l);return"auto"===t?h.autoRadius():t},h.updateDataArraySector=function(){var t,i,r=this.point2,s=this.point1,o=this.point3,a=this.Radius(),h=s.Dist(r),l=1,c=n.evaluate(this.visProp.selection);i=e.rad(r,s,o),("minor"===c&&i>Math.PI||"major"===c&&i<Math.PI)&&(l=-1),r=r.coords.usrCoords,s=s.coords.usrCoords,o=o.coords.usrCoords,r=[1,s[1]+(r[1]-s[1])*a/h,s[2]+(r[2]-s[2])*a/h],o=[1,s[1]+(o[1]-s[1])*a/h,s[2]+(o[2]-s[2])*a/h],t=e.bezierArc(r,s,o,!0,l),this.dataX=t[0],this.dataY=t[1],this.bezierDegree=3},h.setAngle=function(t){var e,r,s,o=this.anglepoint,a=this.radiuspoint;return o.draggable()&&(e=this.board.create("transform",[t,this.center],{type:"rotate"}),o.addTransform(a,e),e.update(),o.moveTo(i.matVecMult(e.matrix,a.coords.usrCoords)),s=n.isFunction(t)?function(){return 2*Math.PI-t()}:function(){return 2*Math.PI-t},r=this.board.create("transform",[s,this.center],{type:"rotate"}),o.coords.on("update",(function(){r.update(),a.moveTo(i.matVecMult(r.matrix,o.coords.usrCoords))})),o.setParents(a)),this},h.free=function(){var t=this.anglepoint;return t.transformations.length>0&&(t.transformations.pop(),t.isDraggable=!0,t.parents=[],t.coords.off("update")),this},h.setParents(p)),n.exists(h.visProp.text)&&h.label.setText(n.evaluate(h.visProp.text)),h.elType="angle",h.type=o.OBJECT_TYPE_ANGLE,h.subs={},h.updateDataArraySquare=function(){var t,r,s,o,n,a,h,l,c=this.Radius();"2lines"===f&&this.updateDataArraySector(),t=this.point2,r=this.point1,s=this.point3,t=t.coords.usrCoords,r=r.coords.usrCoords,s=s.coords.usrCoords,o=e.distance(t,r,3),n=e.distance(s,r,3),t=[1,r[1]+(t[1]-r[1])*c/o,r[2]+(t[2]-r[2])*c/o],s=[1,r[1]+(s[1]-r[1])*c/n,r[2]+(s[2]-r[2])*c/n],a=i.crossProduct(s,r),h=[-t[1]*a[1]-t[2]*a[2],t[0]*a[1],t[0]*a[2]],a=i.crossProduct(t,r),l=[-s[1]*a[1]-s[2]*a[2],s[0]*a[1],s[0]*a[2]],(a=i.crossProduct(h,l))[1]/=a[0],a[2]/=a[0],this.dataX=[r[1],t[1],a[1],s[1],r[1]],this.dataY=[r[2],t[2],a[2],s[2],r[2]],this.bezierDegree=1},h.updateDataArrayNone=function(){this.dataX=[NaN],this.dataY=[NaN],this.bezierDegree=1},h.updateDataArray=function(){var t=n.evaluate(this.visProp.type),r=e.trueAngle(this.point2,this.point1,this.point3),s=n.evaluate(this.visProp.selection);("minor"===s&&r>180||"major"===s&&r<180)&&(r=360-r),Math.abs(r-90)<n.evaluate(this.visProp.orthosensitivity)+i.eps&&(t=n.evaluate(this.visProp.orthotype)),"none"===t?this.updateDataArrayNone():"square"===t?this.updateDataArraySquare():"sector"===t?this.updateDataArraySector():"sectordot"===t&&(this.updateDataArraySector(),this.dot.visProp.visible||this.dot.setAttribute({visible:!0})),(!this.visProp.visible||"sectordot"!==t&&this.dot.visProp.visible)&&this.dot.setAttribute({visible:!1})},d=n.copyAttributes(a,t.options,"angle","dot"),h.dot=t.create("point",[function(){var t,r,s,o,a,l,c,d,u;return n.exists(h.dot)&&!h.dot.visProp.visible?[0,0]:(t=h.point2.coords.usrCoords,r=h.point1.coords.usrCoords,s=h.Radius(),o=e.distance(t,r,3),a=e.rad(h.point2,h.point1,h.point3),("minor"===(u=n.evaluate(h.visProp.selection))&&a>Math.PI||"major"===u&&a<Math.PI)&&(a=-(2*Math.PI-a)),a*=.5,l=Math.cos(a),c=Math.sin(a),t=[1,r[1]+(t[1]-r[1])*s/o,r[2]+(t[2]-r[2])*s/o],d=[[1,0,0],[r[1]-.5*r[1]*l+.5*r[2]*c,.5*l,.5*-c],[r[2]-.5*r[1]*c-.5*r[2]*l,.5*c,.5*l]],i.matVecMult(d,t))}],d),h.dot.dump=!1,h.subs.dot=h.dot,"2lines"===f)for(u=0;u<2;u++)t.select(r[u]).addChild(h.dot);else for(u=0;u<3;u++)t.select(p[u]).addChild(h.dot);return h.getLabelAnchor=function(){var t,r,a,l,c,d,u,p,f,m=12,g=n.evaluate(h.visProp.selection),b=this.label?this.label.visProp:this.visProp.label;return n.exists(this.label.visProp.fontSize)&&(m=n.evaluate(this.label.visProp.fontSize)),m/=this.board.unitX,r=h.point2.coords.usrCoords,a=h.point1.coords.usrCoords,l=h.Radius(),c=e.distance(r,a,3),d=e.rad(h.point2,h.point1,h.point3),("minor"===g&&d>Math.PI||"major"===g&&d<Math.PI)&&(d=-(2*Math.PI-d)),d*=.5,u=Math.cos(d),p=Math.sin(d),r=[1,a[1]+(r[1]-a[1])*l/c,a[2]+(r[2]-a[2])*l/c],f=[[1,0,0],[a[1]-.5*a[1]*u+.5*a[2]*p,.5*u,.5*-p],[a[2]-.5*a[1]*p-.5*a[2]*u,.5*p,.5*u]],(t=i.matVecMult(f,r))[1]/=t[0],t[2]/=t[0],t[0]/=t[0],c=e.distance(t,a,3),t=[t[0],a[1]+(t[1]-a[1])*(l+m)/c,a[2]+(t[2]-a[2])*(l+m)/c],b.position=e.calcLabelQuadrant(e.rad([1,0],[0,0],t)),new s(o.COORDS_BY_USER,t,this.board)},h.Value=function(){return e.rad(this.point2,this.point1,this.point3)},h.methodMap=n.deepCopy(h.methodMap,{Value:"Value",setAngle:"setAngle",free:"free"}),h},t.registerElement("angle",t.createAngle),t.createNonreflexAngle=function(i,r,s){var o;return s.selection="minor",(o=t.createAngle(i,r,s)).Value=function(){var t=e.rad(this.point2,this.point1,this.point3);return t<Math.PI?t:2*Math.PI-t},o},t.registerElement("nonreflexangle",t.createNonreflexAngle),t.createReflexAngle=function(i,r,s){var o;return s.selection="major",(o=t.createAngle(i,r,s)).Value=function(){var t=e.rad(this.point2,this.point1,this.point3);return t>=Math.PI?t:2*Math.PI-t},o},t.registerElement("reflexangle",t.createReflexAngle),{createSector:t.createSector,createCircumcircleSector:t.createCircumcircleSector,createMinorSector:t.createMinorSector,createMajorSector:t.createMajorSector,createAngle:t.createAngle,createReflexAngle:t.createReflexAngle,createNonreflexAngle:t.createNonreflexAngle}})),define("base/transformation",["jxg","base/constants","math/math","utils/type"],(function(t,e,i,r){"use strict";return t.Transformation=function(t,i,r){this.elementClass=e.OBJECT_CLASS_OTHER,this.type=e.OBJECT_TYPE_TRANSFORMATION,this.matrix=[[1,0,0],[0,1,0],[0,0,1]],this.board=t,this.isNumericMatrix=!1,this.setMatrix(t,i,r),this.methodMap={apply:"apply",applyOnce:"applyOnce",bindTo:"bindTo",bind:"bindTo",melt:"melt"}},t.Transformation.prototype={},t.extend(t.Transformation.prototype,{update:function(){return this},setMatrix:function(t,e,s){var o;for(this.isNumericMatrix=!0,o=0;o<s.length;o++)if("number"!=typeof s[o]){this.isNumericMatrix=!1;break}if("translate"===e){if(2!==s.length)throw new Error("JSXGraph: translate transformation needs 2 parameters.");this.evalParam=r.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][0]=this.evalParam(0),this.matrix[2][0]=this.evalParam(1)}}else if("scale"===e){if(2!==s.length)throw new Error("JSXGraph: scale transformation needs 2 parameters.");this.evalParam=r.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][1]=this.evalParam(0),this.matrix[2][2]=this.evalParam(1)}}else if("reflect"===e)s.length<4&&(s[0]=t.select(s[0])),2===s.length&&(s[1]=t.select(s[1])),4===s.length&&(this.evalParam=r.createEvalFunction(t,s,4)),this.update=function(){var t,e,r,o,n,a,h,l;1===s.length?h=s[0].stdform:2===s.length?h=i.crossProduct(s[1].coords.usrCoords,s[0].coords.usrCoords):4===s.length&&(h=i.crossProduct([1,this.evalParam(2),this.evalParam(3)],[1,this.evalParam(0),this.evalParam(1)])),t=h[1],e=h[2],a=(l=[-(r=h[0])*t,-r*e,t*t+e*e])[2],o=l[0]/l[2],n=l[1]/l[2],t=-h[2],e=h[1],this.matrix[1][1]=(t*t-e*e)/a,this.matrix[1][2]=2*t*e/a,this.matrix[2][1]=this.matrix[1][2],this.matrix[2][2]=-this.matrix[1][1],this.matrix[1][0]=o*(1-this.matrix[1][1])-n*this.matrix[1][2],this.matrix[2][0]=n*(1-this.matrix[2][2])-o*this.matrix[2][1]};else if("rotate"===e)3===s.length?this.evalParam=r.createEvalFunction(t,s,3):s.length>0&&s.length<=2&&(this.evalParam=r.createEvalFunction(t,s,1),2!==s.length||r.isArray(s[1])||(s[1]=t.select(s[1]))),this.update=function(){var t,e,i=this.evalParam(0),o=Math.cos(i),n=Math.sin(i);this.matrix[1][1]=o,this.matrix[1][2]=-n,this.matrix[2][1]=n,this.matrix[2][2]=o,s.length>1&&(3===s.length?(t=this.evalParam(1),e=this.evalParam(2)):r.isArray(s[1])?(t=s[1][0],e=s[1][1]):(t=s[1].X(),e=s[1].Y()),this.matrix[1][0]=t*(1-o)+e*n,this.matrix[2][0]=e*(1-o)-t*n)};else if("shear"===e){if(2!==s.length)throw new Error("JSXGraph: shear transformation needs 2 parameters.");this.evalParam=r.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][2]=this.evalParam(0),this.matrix[2][1]=this.evalParam(1)}}else if("generic"===e){if(9!==s.length)throw new Error("JSXGraph: generic transformation needs 9 parameters.");this.evalParam=r.createEvalFunction(t,s,9),this.update=function(){this.matrix[0][0]=this.evalParam(0),this.matrix[0][1]=this.evalParam(1),this.matrix[0][2]=this.evalParam(2),this.matrix[1][0]=this.evalParam(3),this.matrix[1][1]=this.evalParam(4),this.matrix[1][2]=this.evalParam(5),this.matrix[2][0]=this.evalParam(6),this.matrix[2][1]=this.evalParam(7),this.matrix[2][2]=this.evalParam(8)}}},apply:function(t,e){return this.update(),r.exists(e)?i.matVecMult(this.matrix,t.initialCoords.usrCoords):i.matVecMult(this.matrix,t.coords.usrCoords)},applyOnce:function(t){var s,o,n;for(r.isArray(t)||(t=[t]),o=t.length,n=0;n<o;n++)this.update(),s=i.matVecMult(this.matrix,t[n].coords.usrCoords),t[n].coords.setCoordinates(e.COORDS_BY_USER,s)},bindTo:function(t){var e,i;if(r.isArray(t))for(i=t.length,e=0;e<i;e++)t[e].transformations.push(this);else t.transformations.push(this)},setProperty:function(e){t.deprecated("Transformation.setProperty()","Transformation.setAttribute()")},setAttribute:function(t){},melt:function(t){var e,i,r,s,o,n,a=[];for(i=t.matrix.length,r=this.matrix[0].length,e=0;e<i;e++)a[e]=[];for(this.update(),t.update(),e=0;e<i;e++)for(n=0;n<r;n++){for(o=0,s=0;s<i;s++)o+=t.matrix[e][s]*this.matrix[s][n];a[e][n]=o}return this.update=function(){var t=this.matrix.length,i=this.matrix[0].length;for(e=0;e<t;e++)for(n=0;n<i;n++)this.matrix[e][n]=a[e][n]},this},getParents:function(){var t=[[].concat.apply([],this.matrix)];return 0!==this.parents.length&&(t=this.parents),t}}),t.createTransform=function(e,i,r){return new t.Transformation(e,r.type,i)},t.registerElement("transform",t.createTransform),{Transformation:t.Transformation,createTransform:t.createTransform}})),define("element/composition",["jxg","math/math","math/geometry","math/numerics","base/coords","utils/type","base/constants","base/point","base/line","base/circle","base/transformation","base/composition","base/curve","base/polygon"],(function(t,e,i,r,s,o,n,a,h,l,c,d,u,p){"use strict";return t.createOrthogonalProjection=function(t,e,r){var s,a,h,l;if(e[0]=t.select(e[0]),e[1]=t.select(e[1]),o.isPointType(t,e[0])&&e[1].elementClass===n.OBJECT_CLASS_LINE)a=o.providePoints(t,[e[0]],r,"point")[0],s=e[1];else{if(!o.isPointType(t,e[1])||e[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,line]");a=o.providePoints(t,[e[1]],r,"point")[0],s=e[0]}return l=o.copyAttributes(r,t.options,"orthogonalprojection"),h=t.create("point",[function(){return i.projectPointToLine(a,s,t)}],l),o.exists(a._is_new)?(h.addChild(a),delete a._is_new):a.addChild(h),s.addChild(h),h.elType="orthogonalprojection",h.setParents([a.id,h.id]),h.update(),h.generatePolynomial=function(){var t=s.point1.symbolic.x,e=s.point1.symbolic.y,i=s.point2.symbolic.x,r=s.point2.symbolic.y,o=a.symbolic.x,n=a.symbolic.y,l=h.symbolic.x,c=h.symbolic.y;return["("+e+")*("+l+")-("+e+")*("+i+")+("+c+")*("+i+")-("+t+")*("+c+")+("+t+")*("+r+")-("+l+")*("+r+")","("+n+")*("+e+")-("+n+")*("+r+")-("+c+")*("+e+")+("+c+")*("+r+")+("+o+")*("+t+")-("+o+")*("+i+")-("+l+")*("+t+")+("+l+")*("+i+")"]},h},t.createPerpendicular=function(t,e,i){var r,s,a,l;if(e[0]=t.select(e[0]),e[1]=t.select(e[1]),o.isPointType(t,e[0])&&e[1].elementClass===n.OBJECT_CLASS_LINE)s=e[1],r=o.providePoints(t,[e[0]],i,"point")[0];else{if(!o.isPointType(t,e[1])||e[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [line,point]");s=e[0],r=o.providePoints(t,[e[1]],i,"point")[0]}return l=o.copyAttributes(i,t.options,"perpendicular"),(a=h.createLine(t,[function(){return s.stdform[2]*r.X()-s.stdform[1]*r.Y()},function(){return-s.stdform[2]*r.Z()},function(){return s.stdform[1]*r.Z()}],l)).elType="perpendicular",a.setParents([s.id,r.id]),o.exists(r._is_new)?(a.addChild(r),delete r._is_new):r.addChild(a),s.addChild(a),a},t.createPerpendicularPoint=function(t,e,r){var s,a,h;if(e[0]=t.select(e[0]),e[1]=t.select(e[1]),o.isPointType(t,e[0])&&e[1].elementClass===n.OBJECT_CLASS_LINE)a=o.providePoints(t,[e[0]],r,"point")[0],s=e[1];else{if(!o.isPointType(t,e[1])||e[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,line]");a=o.providePoints(t,[e[1]],r,"point")[0],s=e[0]}return h=t.create("point",[function(){return i.perpendicular(s,a,t)[0]}],r),o.exists(a._is_new)?(h.addChild(a),delete a._is_new):a.addChild(h),s.addChild(h),h.elType="perpendicularpoint",h.setParents([a.id,s.id]),h.update(),h.generatePolynomial=function(){var t=s.point1.symbolic.x,e=s.point1.symbolic.y,i=s.point2.symbolic.x,r=s.point2.symbolic.y,o=a.symbolic.x,n=a.symbolic.y,l=h.symbolic.x,c=h.symbolic.y;return["("+e+")*("+l+")-("+e+")*("+i+")+("+c+")*("+i+")-("+t+")*("+c+")+("+t+")*("+r+")-("+l+")*("+r+")","("+n+")*("+e+")-("+n+")*("+r+")-("+c+")*("+e+")+("+c+")*("+r+")+("+o+")*("+t+")-("+o+")*("+i+")-("+l+")*("+t+")+("+l+")*("+i+")"]},h},t.createPerpendicularSegment=function(e,r,s){var a,l,c,d,u;if(r[0]=e.select(r[0]),r[1]=e.select(r[1]),o.isPointType(e,r[0])&&r[1].elementClass===n.OBJECT_CLASS_LINE)l=r[1],a=o.providePoints(e,[r[0]],s,"point")[0];else{if(!o.isPointType(e,r[1])||r[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [line,point]");l=r[0],a=o.providePoints(e,[r[1]],s,"point")[0]}return u=o.copyAttributes(s,e.options,"perpendicularsegment","point"),(d=t.createPerpendicularPoint(e,[l,a],u)).dump=!1,o.exists(s.layer)||(s.layer=e.options.layer.line),u=o.copyAttributes(s,e.options,"perpendicularsegment"),(c=h.createLine(e,[function(){return i.perpendicular(l,a,e)[1]?[d,a]:[a,d]}],u)).point=d,o.exists(a._is_new)?(c.addChild(a),delete a._is_new):a.addChild(c),l.addChild(c),c.elType="perpendicularsegment",c.setParents([a.id,l.id]),c.subs={point:d},c.inherits.push(d),c},t.createMidpoint=function(t,i,r){var s,a,h,l,c;for(l=0;l<i.length;++l)i[l]=t.select(i[l]);if(2===i.length&&o.isPointType(t,i[0])&&o.isPointType(t,i[1]))i=o.providePoints(t,i,r,"point"),s=i[0],a=i[1];else{if(1!==i.length||i[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create midpoint.\nPossible parent types: [point,point], [line]");s=i[0].point1,a=i[0].point2}return c=o.copyAttributes(r,t.options,"midpoint"),h=t.create("point",[function(){var t=s.coords.usrCoords[1]+a.coords.usrCoords[1];return isNaN(t)||Math.abs(s.coords.usrCoords[0])<e.eps||Math.abs(a.coords.usrCoords[0])<e.eps?NaN:.5*t},function(){var t=s.coords.usrCoords[2]+a.coords.usrCoords[2];return isNaN(t)||Math.abs(s.coords.usrCoords[0])<e.eps||Math.abs(a.coords.usrCoords[0])<e.eps?NaN:.5*t}],c),o.exists(s._is_new)?(h.addChild(s),delete s._is_new):s.addChild(h),o.exists(a._is_new)?(h.addChild(a),delete a._is_new):a.addChild(h),h.elType="midpoint",h.setParents([s.id,a.id]),h.prepareUpdate().update(),h.generatePolynomial=function(){var t=s.symbolic.x,e=s.symbolic.y,i=a.symbolic.x,r=a.symbolic.y,o=h.symbolic.x,n=h.symbolic.y;return["("+e+")*("+o+")-("+e+")*("+i+")+("+n+")*("+i+")-("+t+")*("+n+")+("+t+")*("+r+")-("+o+")*("+r+")","("+t+")^2 - 2*("+t+")*("+o+")+("+e+")^2-2*("+e+")*("+n+")-("+i+")^2+2*("+i+")*("+o+")-("+r+")^2+2*("+r+")*("+n+")"]},h},t.createParallelPoint=function(t,e,i){var r,s,a,h,l;for(l=0;l<e.length;++l)e[l]=t.select(e[l]);if(3===e.length&&o.isPointType(t,e[0])&&o.isPointType(t,e[1])&&o.isPointType(t,e[2]))e=o.providePoints(t,e,i,"point"),r=e[0],s=e[1],a=e[2];else if(o.isPointType(t,e[0])&&e[1].elementClass===n.OBJECT_CLASS_LINE)a=o.providePoints(t,[e[0]],i,"point")[0],r=e[1].point1,s=e[1].point2;else{if(!o.isPointType(t,e[1])||e[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create parallel point with parent types '"+typeof e[0]+"', '"+typeof e[1]+"' and '"+typeof e[2]+"'.\nPossible parent types: [line,point], [point,point,point]");a=o.providePoints(t,[e[1]],i,"point")[0],r=e[0].point1,s=e[0].point2}return h=t.create("point",[function(){return a.coords.usrCoords[1]+s.coords.usrCoords[1]-r.coords.usrCoords[1]},function(){return a.coords.usrCoords[2]+s.coords.usrCoords[2]-r.coords.usrCoords[2]}],i),o.exists(r._is_new)?(h.addChild(r),delete r._is_new):r.addChild(h),o.exists(s._is_new)?(h.addChild(s),delete s._is_new):s.addChild(h),o.exists(a._is_new)?(h.addChild(a),delete a._is_new):a.addChild(h),h.elType="parallelpoint",h.setParents([r.id,s.id,a.id]),h.prepareUpdate().update(),h.generatePolynomial=function(){var t=r.symbolic.x,e=r.symbolic.y,i=s.symbolic.x,o=s.symbolic.y,n=a.symbolic.x,l=a.symbolic.y,c=h.symbolic.x,d=h.symbolic.y;return["("+o+")*("+c+")-("+o+")*("+n+")-("+e+")*("+c+")+("+e+")*("+n+")-("+d+")*("+i+")+("+d+")*("+t+")+("+l+")*("+i+")-("+l+")*("+t+")","("+d+")*("+t+")-("+d+")*("+n+")-("+o+")*("+t+")+("+o+")*("+n+")-("+c+")*("+e+")+("+c+")*("+l+")+("+i+")*("+e+")-("+i+")*("+l+")"]},h},t.createParallel=function(t,i,r){var s,n,a,h,l,c,d=1;for(l=0;l<i.length;++l)i[l]=t.select(i[l]);return s=null,3===i.length?(s=(i=o.providePoints(t,i,r,"point"))[2],d=0):o.isPointType(t,i[0])?(s=o.providePoints(t,[i[0]],r,"point")[0],h=function(){return i[1].stdform}):o.isPointType(t,i[1])&&(s=o.providePoints(t,[i[1]],r,"point")[0],h=function(){return i[0].stdform}),o.exists(r.layer)||(r.layer=t.options.layer.line),c=o.copyAttributes(r,t.options,"parallel","point"),(n=1===d?t.create("point",[function(){return e.crossProduct([1,0,0],h())}],c):t.create("parallelpoint",i,c)).isDraggable=!0,c=o.copyAttributes(r,t.options,"parallel"),(a=t.create("line",[s,n],c)).elType="parallel",a.subs={point:n},a.inherits.push(n),a.setParents([i[0].id,i[1].id]),3===i.length&&a.addParents(i[2].id),a.point=n,a},t.createArrowParallel=function(e,i,r){var s;try{return r.firstArrow=!1,r.lastArrow=!0,(s=t.createParallel(e,i,r).setAttribute({straightFirst:!1,straightLast:!1})).elType="arrowparallel",s}catch(t){throw new Error("JSXGraph: Can't create arrowparallel with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [line,point], [point,point,point]")}},t.createNormal=function(t,i,s){var a,h,l,c,d,u,p,f,m;for(c=0;c<i.length;++c)i[c]=t.select(i[c]);if(1===i.length)a=i[0],h=a.slideObject;else{if(2!==i.length)throw new Error("JSXGraph: Can't create normal with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");if(o.isPointType(t,i[0]))a=o.providePoints(t,[i[0]],s,"point")[0],h=i[1];else{if(!o.isPointType(t,i[1]))throw new Error("JSXGraph: Can't create normal with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");h=i[0],a=o.providePoints(t,[i[1]],s,"point")[0]}}if(p=o.copyAttributes(s,t.options,"normal"),h.elementClass===n.OBJECT_CLASS_LINE)m=o.copyAttributes(s,t.options,"normal","point"),f=t.create("point",[function(){var t=e.crossProduct([1,0,0],h.stdform);return[t[0],-t[2],t[1]]}],m),f.isDraggable=!0,(l=t.create("line",[a,f],p)).point=f,l.subs={point:f},l.inherits.push(f);else if(h.elementClass===n.OBJECT_CLASS_CIRCLE)l=t.create("line",[h.midpoint,a],p);else if(h.elementClass===n.OBJECT_CLASS_CURVE)"plot"!==o.evaluate(h.visProp.curvetype)?(d=h.X,u=h.Y,l=t.create("line",[function(){return-a.X()*r.D(d)(a.position)-a.Y()*r.D(u)(a.position)},function(){return r.D(d)(a.position)},function(){return r.D(u)(a.position)}],p)):l=t.create("line",[function(){var t,e,i,r,s,o,n,l,c,d,u=Math.floor(a.position),p=a.position-u;if(1===h.bezierdegree)u===h.numberPoints-1&&(u-=1,p=1);else{if(3!==h.bezierDegree)return 0;u=3*Math.floor(a.position*(h.numberPoints-1)/3),i=(a.position*(h.numberPoints-1)-u)/3,u>=h.numberPoints-1&&(u=h.numberPoints-4,i=1)}return u<0?1:1===h.bezierDegree?(h.Y(u)+p*(h.Y(u+1)-h.Y(u)))*(h.Y(u)-h.Y(u+1))-(h.X(u)+p*(h.X(u+1)-h.X(u)))*(h.X(u+1)-h.X(u)):(r=h.points[u].usrCoords,s=h.points[u+1].usrCoords,o=h.points[u+2].usrCoords,n=h.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(n[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(n[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=a.coords.usrCoords)[1]-c,t[2]+l],t[2]*e[1]-t[1]*e[2])},function(){var t,e,i,r,s,o,n,l,c,d=Math.floor(a.position);if(1===h.bezierdegree)d===h.numberPoints-1&&(d-=1);else{if(3!==h.bezierDegree)return 0;d=3*Math.floor(a.position*(h.numberPoints-1)/3),e=(a.position*(h.numberPoints-1)-d)/3,d>=h.numberPoints-1&&(d=h.numberPoints-4,e=1)}return d<0?0:1===h.bezierDegree?h.X(d+1)-h.X(d):(i=h.points[d].usrCoords,r=h.points[d+1].usrCoords,s=h.points[d+2].usrCoords,o=h.points[d+3].usrCoords,n=(1-e)*(1-e)*(r[1]-i[1])+2*(1-e)*e*(s[1]-r[1])+e*e*(o[1]-s[1]),l=(1-e)*(1-e)*(r[2]-i[2])+2*(1-e)*e*(s[2]-r[2])+e*e*(o[2]-s[2]),n/=c=Math.sqrt(n*n+l*l),l/=c,[1,(t=a.coords.usrCoords)[1]-l,t[2]+n][2]-t[2])},function(){var t,e,i,r,s,o,n,l,c,d,u=Math.floor(a.position);if(1===h.bezierdegree)u===h.numberPoints-1&&(u-=1);else{if(3!==h.bezierDegree)return 0;u=3*Math.floor(a.position*(h.numberPoints-1)/3),i=(a.position*(h.numberPoints-1)-u)/3,u>=h.numberPoints-1&&(u=h.numberPoints-4,i=1)}return u<0?0:1===h.bezierDegree?h.Y(u+1)-h.Y(u):(r=h.points[u].usrCoords,s=h.points[u+1].usrCoords,o=h.points[u+2].usrCoords,n=h.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(n[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(n[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=a.coords.usrCoords)[1]-c,t[2]+l],t[1]-e[1])}],p);else{if(h.type!==n.OBJECT_TYPE_TURTLE)throw new Error("JSXGraph: Can't create normal with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");l=t.create("line",[function(){var t,e,i=Math.floor(a.position),r=a.position-i;for(e=0;e<h.objects.length;e++)if((t=h.objects[e]).type===n.OBJECT_TYPE_CURVE){if(i<t.numberPoints)break;i-=t.numberPoints}return i===t.numberPoints-1&&(i-=1,r=1),i<0?1:(t.Y(i)+r*(t.Y(i+1)-t.Y(i)))*(t.Y(i)-t.Y(i+1))-(t.X(i)+r*(t.X(i+1)-t.X(i)))*(t.X(i+1)-t.X(i))},function(){var t,e,i=Math.floor(a.position);for(e=0;e<h.objects.length;e++)if((t=h.objects[e]).type===n.OBJECT_TYPE_CURVE){if(i<t.numberPoints)break;i-=t.numberPoints}return i===t.numberPoints-1&&(i-=1),i<0?0:t.X(i+1)-t.X(i)},function(){var t,e,i=Math.floor(a.position);for(e=0;e<h.objects.length;e++)if((t=h.objects[e]).type===n.OBJECT_TYPE_CURVE){if(i<t.numberPoints)break;i-=t.numberPoints}return i===t.numberPoints-1&&(i-=1),i<0?0:t.Y(i+1)-t.Y(i)}],p)}return l.elType="normal",l.setParents(i),o.exists(a._is_new)?(l.addChild(a),delete a._is_new):a.addChild(l),h.addChild(l),l},t.createBisector=function(t,e,r){var s,n,a,l;if(e=o.providePoints(t,e,r,"point"),o.isPoint(e[0])&&o.isPoint(e[1])&&o.isPoint(e[2])){for((l=o.copyAttributes(r,t.options,"bisector","point")).snapToGrid=!1,(s=t.create("point",[function(){return i.angleBisector(e[0],e[1],e[2],t)}],l)).dump=!1,a=0;a<3;a++)o.exists(e[a]._is_new)?(s.addChild(e[a]),delete e[a]._is_new):e[a].addChild(s);return o.exists(r.layer)||(r.layer=t.options.layer.line),l=o.copyAttributes(r,t.options,"bisector"),(n=h.createLine(t,[e[1],s],l)).point=s,n.elType="bisector",n.setParents(e),n.subs={point:s},n.inherits.push(s),n}throw new Error("JSXGraph: Can't create angle bisector with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,point,point]")},t.createAngularBisectorsOfTwoLines=function(t,e,i){var r,s,a,h,l=t.select(e[0]),c=t.select(e[1]);if(l.elementClass!==n.OBJECT_CLASS_LINE||c.elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create angle bisectors of two lines with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [line,line]");return o.exists(i.layer)||(i.layer=t.options.layer.line),a=o.copyAttributes(i,t.options,"bisectorlines","line1"),r=t.create("line",[function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[0]/t-c.stdform[0]/e},function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[1]/t-c.stdform[1]/e},function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[2]/t-c.stdform[2]/e}],a),o.exists(i.layer)||(i.layer=t.options.layer.line),a=o.copyAttributes(i,t.options,"bisectorlines","line2"),s=t.create("line",[function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[0]/t+c.stdform[0]/e},function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[1]/t+c.stdform[1]/e},function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[2]/t+c.stdform[2]/e}],a),h=new d({line1:r,line2:s}),r.dump=!1,s.dump=!1,h.elType="bisectorlines",h.setParents([l.id,c.id]),h.subs={line1:r,line2:s},h},t.createCircumcenter=function(t,e,r){var s,n,h,l,c;if(e=o.providePoints(t,e,r,"point"),o.isPoint(e[0])&&o.isPoint(e[1])&&o.isPoint(e[2])){for(h=e[0],l=e[1],c=e[2],s=a.createPoint(t,[function(){return i.circumcenter(h,l,c,t)}],r),n=0;n<3;n++)o.exists(e[n]._is_new)?(s.addChild(e[n]),delete e[n]._is_new):e[n].addChild(s);return s.elType="circumcenter",s.setParents(e),s.generatePolynomial=function(){var t=h.symbolic.x,e=h.symbolic.y,i=l.symbolic.x,r=l.symbolic.y,o=c.symbolic.x,n=c.symbolic.y,a=s.symbolic.x,d=s.symbolic.y;return[["((",a,")-(",t,"))^2+((",d,")-(",e,"))^2-((",a,")-(",i,"))^2-((",d,")-(",r,"))^2"].join(""),["((",a,")-(",t,"))^2+((",d,")-(",e,"))^2-((",a,")-(",o,"))^2-((",d,")-(",n,"))^2"].join("")]},s}throw new Error("JSXGraph: Can't create circumcircle midpoint with parent types '"+typeof e[0]+"', '"+typeof e[1]+"' and '"+typeof e[2]+"'.\nPossible parent types: [point,point,point]")},t.createIncenter=function(t,e,i){var r,a,h,l,c;if(!((e=o.providePoints(t,e,i,"point")).length>=3&&o.isPoint(e[0])&&o.isPoint(e[1])&&o.isPoint(e[2])))throw new Error("JSXGraph: Can't create incenter with parent types '"+typeof e[0]+"', '"+typeof e[1]+"' and '"+typeof e[2]+"'.\nPossible parent types: [point,point,point]");for(a=e[0],h=e[1],l=e[2],r=t.create("point",[function(){var e,i,r;return e=Math.sqrt((h.X()-l.X())*(h.X()-l.X())+(h.Y()-l.Y())*(h.Y()-l.Y())),i=Math.sqrt((a.X()-l.X())*(a.X()-l.X())+(a.Y()-l.Y())*(a.Y()-l.Y())),r=Math.sqrt((h.X()-a.X())*(h.X()-a.X())+(h.Y()-a.Y())*(h.Y()-a.Y())),new s(n.COORDS_BY_USER,[(e*a.X()+i*h.X()+r*l.X())/(e+i+r),(e*a.Y()+i*h.Y()+r*l.Y())/(e+i+r)],t)}],i),c=0;c<3;c++)o.exists(e[c]._is_new)?(r.addChild(e[c]),delete e[c]._is_new):e[c].addChild(r);return r.elType="incenter",r.setParents(e),r},t.createCircumcircle=function(e,i,r){var s,n,a,h;if(!1===(i=o.providePoints(e,i,r,"point")))throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof i[0]+"', '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]");try{for(a=o.copyAttributes(r,e.options,"circumcircle","center"),(s=t.createCircumcenter(e,i,a)).dump=!1,o.exists(r.layer)||(r.layer=e.options.layer.circle),a=o.copyAttributes(r,e.options,"circumcircle"),(n=l.createCircle(e,[s,i[0]],a)).elType="circumcircle",n.setParents(i),n.subs={center:s},n.inherits.push(n),h=0;h<3;h++)o.exists(i[h]._is_new)?(n.addChild(i[h]),delete i[h]._is_new):i[h].addChild(n)}catch(t){throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof i[0]+"', '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]")}return n},t.createIncircle=function(e,i,r){var s,n,a,h;if(!1===(i=o.providePoints(e,i,r,"point")))throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof i[0]+"', '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]");try{for(h=o.copyAttributes(r,e.options,"incircle","center"),(n=t.createIncenter(e,i,h)).dump=!1,o.exists(r.layer)||(r.layer=e.options.layer.circle),h=o.copyAttributes(r,e.options,"incircle"),(a=l.createCircle(e,[n,function(){var t=Math.sqrt((i[1].X()-i[2].X())*(i[1].X()-i[2].X())+(i[1].Y()-i[2].Y())*(i[1].Y()-i[2].Y())),e=Math.sqrt((i[0].X()-i[2].X())*(i[0].X()-i[2].X())+(i[0].Y()-i[2].Y())*(i[0].Y()-i[2].Y())),r=Math.sqrt((i[1].X()-i[0].X())*(i[1].X()-i[0].X())+(i[1].Y()-i[0].Y())*(i[1].Y()-i[0].Y())),s=(t+e+r)/2;return Math.sqrt((s-t)*(s-e)*(s-r)/s)}],h)).elType="incircle",a.setParents(i),s=0;s<3;s++)o.exists(i[s]._is_new)?(a.addChild(i[s]),delete i[s]._is_new):i[s].addChild(a);a.center=n,a.subs={center:a.center},a.inherits.push(n)}catch(t){throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof i[0]+"', '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]")}return a},t.createReflection=function(t,e,i){var r,s,d,f,m,g,b,v,y="\nPossible parent types: [point|line|curve|polygon|circle|arc|sector, line]";for(g=0;g<e.length;++g)e[g]=t.select(e[g]);if(b=o.copyAttributes(i,t.options,"reflection"),o.isPoint(e[0]))s=o.providePoints(t,[e[0]],v)[0];else{if(e[0].elementClass!==n.OBJECT_CLASS_CURVE&&e[0].elementClass!==n.OBJECT_CLASS_LINE&&e[0].type!==n.OBJECT_TYPE_POLYGON&&e[0].elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create reflection element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);s=e[0]}if(e[1].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);if(r=e[1],m=c.createTransform(t,[r],{type:"reflect"}),o.isPoint(s))d=a.createPoint(t,[s,m],b);else if(s.elementClass===n.OBJECT_CLASS_CURVE)d=u.createCurve(t,[s,m],b);else if(s.elementClass===n.OBJECT_CLASS_LINE)d=h.createLine(t,[s,m],b);else if(s.type===n.OBJECT_TYPE_POLYGON)d=p.createPolygon(t,[s,m],b);else{if(s.elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);"euclidean"===b.type.toLowerCase()?(v=o.copyAttributes(i,t.options,"reflection","center"),(f=a.createPoint(t,[s.center,m],v)).prepareUpdate().update().updateVisibility(o.evaluate(f.visProp.visible)).updateRenderer(),d=l.createCircle(t,[f,function(){return s.Radius()}],b)):d=l.createCircle(t,[s,m],b)}return o.exists(s._is_new)&&(d.addChild(s),delete s._is_new),r.addChild(d),d.elType="reflection",d.addParents(r),d.prepareUpdate().update(),o.isPoint(d)&&(d.generatePolynomial=function(){var t=r.point1.symbolic.x,e=r.point1.symbolic.y,i=r.point2.symbolic.x,o=r.point2.symbolic.y,n=s.symbolic.x,a=s.symbolic.y,h=d.symbolic.x,l=d.symbolic.y;return[["((",l,")-(",a,"))*((",e,")-(",o,"))+((",t,")-(",i,"))*((",h,")-(",n,"))"].join(""),["((",h,")-(",t,"))^2+((",l,")-(",e,"))^2-((",n,")-(",t,"))^2-((",a,")-(",e,"))^2"].join("")]}),d},t.createMirrorElement=function(t,e,i){var r,s,d,f,m,g,b,v,y="\nPossible parent types: [point|line|curve|polygon|circle|arc|sector, point]";for(s=0;s<e.length;++s)e[s]=t.select(e[s]);if(b=o.copyAttributes(i,t.options,"mirrorelement"),o.isPoint(e[0]))r=o.providePoints(t,[e[0]],b)[0];else{if(e[0].elementClass!==n.OBJECT_CLASS_CURVE&&e[0].elementClass!==n.OBJECT_CLASS_LINE&&e[0].type!==n.OBJECT_TYPE_POLYGON&&e[0].elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);r=e[0]}if(!o.isPoint(e[1]))throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);if(v=o.copyAttributes(i,t.options,"mirrorelement","point"),d=o.providePoints(t,[e[1]],v)[0],g=c.createTransform(t,[Math.PI,d],{type:"rotate"}),o.isPoint(r))f=a.createPoint(t,[r,g],b);else if(r.elementClass===n.OBJECT_CLASS_CURVE)f=u.createCurve(t,[r,g],b);else if(r.elementClass===n.OBJECT_CLASS_LINE)f=h.createLine(t,[r,g],b);else if(r.type===n.OBJECT_TYPE_POLYGON)f=p.createPolygon(t,[r,g],b);else{if(r.elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);"euclidean"===b.type.toLowerCase()?(v=o.copyAttributes(i,t.options,"mirrorelement","center"),(m=a.createPoint(t,[r.center,g],v)).prepareUpdate().update().updateVisibility(o.evaluate(m.visProp.visible)).updateRenderer(),f=l.createCircle(t,[m,function(){return r.Radius()}],b)):f=l.createCircle(t,[r,g],b)}return o.exists(r._is_new)&&(f.addChild(r),delete r._is_new),d.addChild(f),f.elType="mirrorelement",f.addParents(d),f.prepareUpdate().update(),f},t.createMirrorPoint=function(e,i,r){var s=t.createMirrorElement(e,i,r);return s.elType="mirrorpoint",s},t.createIntegral=function(e,i,a){var h,l,c,d,u,p,f,m,g,b,v,y,C,_,P=null;if(o.isArray(i[0])&&i[1].elementClass===n.OBJECT_CLASS_CURVE)h=i[0],l=i[1];else{if(!o.isArray(i[1])||i[0].elementClass!==n.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create integral with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [[number|function,number|function],curve]");h=i[1],l=i[0]}return(c=o.copyAttributes(a,e.options,"integral")).withLabel=!1,_=e.create("curve",[[0],[0]],c),d=h[0],u=h[1],o.isFunction(d)?(f=function(){return l.Y(p())},d=(p=d)()):(p=d,f=l.Y(d)),o.isFunction(u)?(g=function(){return l.Y(m())},u=(m=u)()):(m=u,g=l.Y(u)),c=o.copyAttributes(a,e.options,"integral","curveLeft"),b=e.create("glider",[p,f,l],c),o.isFunction(p)&&b.hideElement(),c=o.copyAttributes(a,e.options,"integral","baseLeft"),v=e.create("point",[function(){return"y"===o.evaluate(_.visProp.axis)?0:b.X()},function(){return"y"===o.evaluate(_.visProp.axis)?b.Y():0}],c),c=o.copyAttributes(a,e.options,"integral","curveRight"),y=e.create("glider",[m,g,l],c),o.isFunction(m)&&y.hideElement(),c=o.copyAttributes(a,e.options,"integral","baseRight"),C=e.create("point",[function(){return"y"===o.evaluate(_.visProp.axis)?0:y.X()},function(){return"y"===o.evaluate(_.visProp.axis)?y.Y():0}],c),!1!==(c=o.copyAttributes(a,e.options,"integral")).withlabel&&"y"!==c.axis&&(c=o.copyAttributes(a,e.options,"integral","label"),c=o.copyAttributes(c,e.options,"label"),(P=e.create("text",[function(){var t=new s(n.COORDS_BY_SCREEN,[o.evaluate(this.visProp.offset[0])+this.board.origin.scrCoords[1],0],this.board,!1),e=this.board.getBoundingBox(),i=.1*(e[2]-e[0]),r=y.X();return r<e[0]?r=e[0]+i:r>e[2]&&(r=e[2]-i),r+t.usrCoords[1]},function(){var t=new s(n.COORDS_BY_SCREEN,[0,o.evaluate(this.visProp.offset[1])+this.board.origin.scrCoords[2]],this.board,!1),e=this.board.getBoundingBox(),i=.1*(e[1]-e[3]),r=y.Y();return r>e[1]?r=e[1]-i:r<e[3]&&(r=e[3]+i),r+t.usrCoords[2]},function(){var t=r.NewtonCotes([v.X(),C.X()],l.Y);return"&int; = "+o.toFixed(t,4)}],c)).dump=!1,b.addChild(P),y.addChild(P)),b.dump=!1,v.dump=!1,y.dump=!1,C.dump=!1,_.elType="integral",_.setParents([l.id,h]),_.subs={curveLeft:b,baseLeft:v,curveRight:y,baseRight:C},_.inherits.push(b,v,y,C),c.withLabel&&(_.subs.label=P,_.inherits.push(P)),_.Value=function(){return r.I([v.X(),C.X()],l.Y)},_.updateDataArray=function(){var t,e,i,r,s,n,a,h,c;if("y"===o.evaluate(this.visProp.axis)){for(b.Y()<y.Y()?(n=b.X(),h=b.Y(),a=y.X(),c=y.Y()):(n=y.X(),h=y.Y(),a=b.X(),c=b.Y()),r=Math.min(n,a),s=Math.max(n,a),t=[0,n],e=[h,h],i=0;i<l.numberPoints;i++)h<=l.points[i].usrCoords[2]&&r<=l.points[i].usrCoords[1]&&l.points[i].usrCoords[2]<=c&&l.points[i].usrCoords[1]<=s&&(t.push(l.points[i].usrCoords[1]),e.push(l.points[i].usrCoords[2]));t.push(a),e.push(c),t.push(0),e.push(c),t.push(0),e.push(h)}else{for(v.X()<C.X()?(r=v.X(),s=C.X()):(r=C.X(),s=v.X()),t=[r,r],e=[0,l.Y(r)],i=0;i<l.numberPoints;i++)r<=l.points[i].usrCoords[1]&&l.points[i].usrCoords[1]<=s&&(t.push(l.points[i].usrCoords[1]),e.push(l.points[i].usrCoords[2]));t.push(s),e.push(l.Y(s)),t.push(s),e.push(0),t.push(r),e.push(0)}this.dataX=t,this.dataY=e},b.addChild(_),y.addChild(_),v.addChild(_),C.addChild(_),_.baseLeft=v,_.baseRight=C,_.curveLeft=b,_.curveRight=y,_.methodMap=t.deepCopy(_.methodMap,{curveLeft:"curveLeft",baseLeft:"baseLeft",curveRight:"curveRight",baseRight:"baseRight",Value:"Value"}),_.label=P,_},t.createGrid=function(t,e,i){var r,a;return a=o.copyAttributes(i,t.options,"grid"),(r=t.create("curve",[[null],[null]],a)).elType="grid",r.type=n.OBJECT_TYPE_GRID,r.updateDataArray=function(){var e,i,a,h,l,c=o.evaluate(this.visProp.gridx),d=o.evaluate(this.visProp.gridy);for(h=o.isArray(this.visProp.topleft)?new s(o.evaluate(this.visProp.tltype)||n.COORDS_BY_USER,this.visProp.topleft,t):new s(n.COORDS_BY_SCREEN,[0,0],t),l=o.isArray(this.visProp.bottomright)?new s(o.evaluate(this.visProp.brtype)||n.COORDS_BY_USER,this.visProp.bottomright,t):new s(n.COORDS_BY_SCREEN,[t.canvasWidth,t.canvasHeight],t),t.options.grid.hasGrid=!0,r.dataX=[],r.dataY=[],e=Math.floor(h.usrCoords[2]/d)*d,i=Math.ceil(l.usrCoords[2]/d)*d,h.usrCoords[2]<l.usrCoords[2]&&(e=Math.ceil(l.usrCoords[2]/d)*d,i=Math.floor(h.usrCoords[2]/d)*d),a=e;a>i-d;a-=d)r.dataX.push(h.usrCoords[1],l.usrCoords[1],NaN),r.dataY.push(a,a,NaN);for(e=Math.ceil(h.usrCoords[1]/c)*c,i=Math.floor(l.usrCoords[1]/c)*c,h.usrCoords[1]>l.usrCoords[1]&&(e=Math.floor(l.usrCoords[1]/c)*c,i=Math.ceil(h.usrCoords[1]/c)*c),a=e;a<i+c;a+=c)r.dataX.push(a,a,NaN),r.dataY.push(h.usrCoords[2],l.usrCoords[2],NaN)},r.hasPoint=function(){return!1},t.grids.push(r),r},t.createInequality=function(t,r,s){var a,h,l;if(l=o.copyAttributes(s,t.options,"inequality"),r[0].elementClass===n.OBJECT_CLASS_LINE)(h=t.create("curve",[[],[]],l)).hasPoint=function(){return!1},h.updateDataArray=function(){var s,o,a,h=t.getBoundingBox(),c=l.inverse?-1:1,d=1.5*Math.max(h[2]-h[0],h[1]-h[3]),u={coords:{usrCoords:[1,(h[0]+h[2])/2,l.inverse?h[1]:h[3]]}},p=r[0].stdform.slice(1),f=p;a=1.5*Math.max(i.perpendicular(r[0],u,t)[0].distance(n.COORDS_BY_USER,u.coords),d),a*=c,u={coords:{usrCoords:[1,(h[0]+h[2])/2,(h[1]+h[3])/2]}},s=[1,(u=Math.abs(e.innerProduct(u.coords.usrCoords,r[0].stdform,3))>=e.eps?i.perpendicular(r[0],u,t)[0].usrCoords:u.coords.usrCoords)[1]+p[1]*d,u[2]-p[0]*d],o=[1,u[1]-f[1]*d,u[2]+f[0]*d],this.dataX=[s[1],s[1]+p[0]*a,o[1]+f[0]*a,o[1],s[1]],this.dataY=[s[2],s[2]+p[1]*a,o[2]+f[1]*a,o[2],s[2]]};else if(r[0].elementClass===n.OBJECT_CLASS_CURVE&&"functiongraph"===r[0].visProp.curvetype)(h=t.create("curve",[[],[]],l)).updateDataArray=function(){var t,e,i,s,n,a,h,l,c,d=this.board.getBoundingBox(),u=[],p=r[0].minX(),f=r[0].maxX(),m=.3*(d[1]-d[3]);if(t=o.evaluate(this.visProp.inverse)?1:3,this.dataX=[],this.dataY=[],0!==(s=r[0].points.length))for(d[1]+=m,d[3]-=m,i=-1;i<s-1;){for(n=i+1,e=s;n<s;n++)if(r[0].points[n].isReal()){e=n;break}if(e>=s)break;for(n=e,i=s-1;n<s-1;n++)if(!r[0].points[n+1].isReal()){i=n;break}for(l=r[0].points[e].usrCoords[1],c=r[0].points[i].usrCoords[1],a=d[0]<p?p:d[0],h=d[2]>f?f:d[2],a=0===e?a:Math.max(a,l),h=i===s-1?h:Math.min(h,c),h=i===s-1?f:c,(u=[]).push([1,a=0===e?p:l,d[t]]),u.push([1,a,r[0].points[e].usrCoords[2]]),n=e;n<=i;n++)u.push(r[0].points[n].usrCoords);for(u.push([1,h,r[0].points[i].usrCoords[2]]),u.push([1,h,d[t]]),u.push(u[0]),n=0;n<u.length;n++)this.dataX.push(u[n][1]),this.dataY.push(u[n][2]);i<s-1&&(this.dataX.push(NaN),this.dataY.push(NaN))}},h.hasPoint=function(){return!1};else if(a=o.createFunction(r[0]),!o.exists(a))throw new Error("JSXGraph: Can't create area with the given parents.\nPossible parent types: [line], [function]");return h.addParents(r[0]),h},t.registerElement("arrowparallel",t.createArrowParallel),t.registerElement("bisector",t.createBisector),t.registerElement("bisectorlines",t.createAngularBisectorsOfTwoLines),t.registerElement("msector",t.createMsector),t.registerElement("circumcircle",t.createCircumcircle),t.registerElement("circumcirclemidpoint",t.createCircumcenter),t.registerElement("circumcenter",t.createCircumcenter),t.registerElement("incenter",t.createIncenter),t.registerElement("incircle",t.createIncircle),t.registerElement("integral",t.createIntegral),t.registerElement("midpoint",t.createMidpoint),t.registerElement("mirrorelement",t.createMirrorElement),t.registerElement("mirrorpoint",t.createMirrorPoint),t.registerElement("normal",t.createNormal),t.registerElement("orthogonalprojection",t.createOrthogonalProjection),t.registerElement("parallel",t.createParallel),t.registerElement("parallelpoint",t.createParallelPoint),t.registerElement("perpendicular",t.createPerpendicular),t.registerElement("perpendicularpoint",t.createPerpendicularPoint),t.registerElement("perpendicularsegment",t.createPerpendicularSegment),t.registerElement("reflection",t.createReflection),t.registerElement("grid",t.createGrid),t.registerElement("inequality",t.createInequality),{createArrowParallel:t.createArrowParallel,createBisector:t.createBisector,createAngularBisectorOfTwoLines:t.createAngularBisectorsOfTwoLines,createCircumcircle:t.createCircumcircle,createCircumcenter:t.createCircumcenter,createIncenter:t.createIncenter,createIncircle:t.createIncircle,createIntegral:t.createIntegral,createMidpoint:t.createMidpoint,createMirrorElement:t.createMirrorElement,createMirrorPoint:t.createMirrorPoint,createNormal:t.createNormal,createOrthogonalProjection:t.createOrthogonalProjection,createParallel:t.createParallel,createParallelPoint:t.createParallelPoint,createPerpendicular:t.createPerpendicular,createPerpendicularPoint:t.createPerpendicularPoint,createPerpendicularSegmen:t.createPerpendicularSegment,createReflection:t.createReflection,createGrid:t.createGrid,createInequality:t.createInequality}})),define("element/locus",["jxg","math/symbolic","utils/type"],(function(t,e,i){"use strict";return t.createLocus=function(t,r,s){var o,n;if(!i.isArray(r)||1!==r.length||!i.isPoint(r[0]))throw new Error("JSXGraph: Can't create locus with parent of type other than point.\nPossible parent types: [point]");return n=r[0],(o=t.create("curve",[[null],[null]],s)).dontCallServer=!1,o.elType="locus",o.setParents([n.id]),o.updateDataArray=function(){var i,r,s;o.board.mode>0||(i=e.generatePolynomials(t,n,!0).join("|"))!==o.spe&&(o.spe=i,(r=function(t,e,i,r){var s;o.dataX=t,o.dataY=e,o.eq=i,o.ctime=r,o.generatePolynomial=(s=i,function(t){var e,i="("+t.symbolic.x+")",r="("+t.symbolic.y+")",o=[];for(e=0;e<s.length;e++)o[e]=s[e].replace(/\*\*/g,"^").replace(/x/g,i).replace(/y/g,r);return o})})((s=e.geometricLocusByGroebnerBase(t,n,r)).datax,s.datay,s.polynomial,s.exectime))},o},t.registerElement("locus",t.createLocus),{createLocus:t.createLocus}})),define("base/image",["jxg","base/constants","base/coords","base/element","math/math","utils/type","base/coordselement"],(function(t,e,i,r,s,o,n){"use strict";return t.Image=function(i,r,s,n,a){this.constructor(i,s,e.OBJECT_TYPE_IMAGE,e.OBJECT_CLASS_OTHER),this.element=this.board.select(s.anchor),this.coordsConstructor(r),this.W=o.createFunction(a[0],this.board,""),this.H=o.createFunction(a[1],this.board,""),this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*i.unitX),Math.abs(this.usrSize[1]*i.unitY)],this.url=n,this.elType="image",this.span=[this.coords.usrCoords.slice(0),[this.coords.usrCoords[0],this.W(),0],[this.coords.usrCoords[0],0,this.H()]],this.id=this.board.setId(this,"Im"),this.board.renderer.drawImage(this),this.board.finalizeAdding(this),this.methodMap=t.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})},t.Image.prototype=new r,o.copyPrototypeMethods(t.Image,n,"coordsConstructor"),t.extend(t.Image.prototype,{hasPoint:function(t,r){var n,a,h,l,c,d,u,p,f,m=this.transformations.length;return o.isObject(o.evaluate(this.visProp.precision))?(l=this.board._inputDevice,c=o.evaluate(this.visProp.precision[l])):c=this.board.options.precision.hasPoint,0===m?(n=t-this.coords.scrCoords[1],a=this.coords.scrCoords[2]-r,n>=-(h=c)&&n-this.size[0]<=h&&a>=-h&&a-this.size[1]<=h):(u=[(d=(d=new i(e.COORDS_BY_SCREEN,[t,r],this.board)).usrCoords)[0]-this.span[0][0],d[1]-this.span[0][1],d[2]-this.span[0][2]],0<=(p=(f=s.innerProduct)(u,this.span[1]))&&p<=f(this.span[1],this.span[1])&&0<=(p=f(u,this.span[2]))&&p<=f(this.span[2],this.span[2]))},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateSize(),this.updateSpan(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateImage")},updateSize:function(){return this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)],this},updateSpan:function(){var t,e,i=this.transformations.length,r=[];if(0===i)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(r[0]=[this.Z(),this.X(),this.Y()],r[1]=[this.Z(),this.X()+this.W(),this.Y()],r[2]=[this.Z(),this.X(),this.Y()+this.H()],t=0;t<i;t++)for(e=0;e<3;e++)r[e]=s.matVecMult(this.transformations[t].matrix,r[e]);for(e=0;e<3;e++)r[e][1]/=r[e][0],r[e][2]/=r[e][0],r[e][0]/=r[e][0];for(e=1;e<3;e++)r[e][0]-=r[0][0],r[e][1]-=r[0][1],r[e][2]-=r[0][2];this.span=r}return this},addTransform:function(t){var e;if(o.isArray(t))for(e=0;e<t.length;e++)this.transformations.push(t[e]);else this.transformations.push(t);return this},getParents:function(){var t=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return 0!==this.parents.length&&(t=this.parents),t},setSize:function(t,e){return this.W=o.createFunction(t,this.board,""),this.H=o.createFunction(e,this.board,""),this},W:function(){},H:function(){}}),t.createImage=function(e,i,r){var s,a,h=i[0],l=i[1],c=i[2];if(s=o.copyAttributes(r,e.options,"image"),!(a=n.create(t.Image,e,l,s,h,c)))throw new Error("JSXGraph: Can't create image with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==s.rotate&&a.addRotation(s.rotate),a},t.registerElement("image",t.createImage),{Image:t.Image,createImage:t.createImage}})),define("element/slider",["jxg","math/math","base/constants","base/coords","utils/type","base/point"],(function(t,e,i,r,s,o){"use strict";return t.createSlider=function(t,n,a){var h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T;return x=(T=s.copyAttributes(a,t.options,"slider")).withticks,E=T.withlabel,S=T.snapwidth,T=s.copyAttributes(a,t.options,"slider","point1"),f=t.create("point",n[0],T),T=s.copyAttributes(a,t.options,"slider","point2"),m=t.create("point",n[1],T),T=s.copyAttributes(a,t.options,"slider","baseline"),(g=t.create("segment",[f,m],T)).updateStdform(),h=f.coords.usrCoords.slice(1),l=m.coords.usrCoords.slice(1),c=n[2][0],d=n[2][1],u=n[2][2],p=u-c,w=-1===(O=s.evaluate(S))?d:Math.round(d/O)*O,v=h[0]+(l[0]-h[0])*(w-c)/(u-c),y=h[1]+(l[1]-h[1])*(w-c)/(u-c),(T=s.copyAttributes(a,t.options,"slider")).withLabel=!1,(C=t.create("glider",[v,y,g],T)).setAttribute({snapwidth:S}),T=s.copyAttributes(a,t.options,"slider","highline"),_=t.create("segment",[f,C],T),C.Value=function(){var t=this._smax-this._smin,e=s.evaluate(this.visProp.snapwidth);return-1===e?this.position*t+this._smin:Math.round((this.position*t+this._smin)/e)*e},C.methodMap=s.deepCopy(C.methodMap,{Value:"Value",setValue:"setValue",smax:"_smax",smin:"_smin",setMax:"setMax",setMin:"setMin"}),C._smax=u,C._smin=c,C.setMax=function(t){return this._smax=t,this},C.setValue=function(t){var i=this._smax-this._smin;return Math.abs(i)>e.eps?this.position=(t-this._smin)/i:this.position=0,this.position=Math.max(0,Math.min(1,this.position)),this},C.setMin=function(t){return this._smin=t,this},E&&(T=s.copyAttributes(a,t.options,"slider","label"),P=t.create("text",[function(){return.05*(m.X()-f.X())+m.X()},function(){return.05*(m.Y()-f.Y())+m.Y()},function(){var t,e=s.evaluate(C.visProp.digits),i=s.evaluate(C.visProp.suffixlabel),r=s.evaluate(C.visProp.unitlabel),o=s.evaluate(C.visProp.postlabel);return 2===e&&2!==s.evaluate(C.visProp.precision)&&(e=s.evaluate(C.visProp.precision)),t=null!==i?i:C.name&&""!==C.name?C.name+" = ":"",t+=s.toFixed(C.Value(),e),null!==r&&(t+=r),null!==o&&(t+=o),t}],T),C.label=P,C.visProp.withlabel=!0,C.hasLabel=!0),C.point1=f,C.point2=m,C.baseline=g,C.highline=_,x&&(T=s.copyAttributes(a,t.options,"slider","ticks"),s.exists(T.generatelabeltext)||(T.generateLabelText=function(t,i,r){var s=C.point1.Dist(C.point2),o=C._smin,n=C._smax,a=this.getDistanceFromZero(i,t)*(n-o)/s+o;return s<e.eps||Math.abs(a)<e.eps?"0":this.formatLabelText(a)}),2,b=t.create("ticks",[C.baseline,C.point1.Dist(f)/2,function(t){var r=C.point1.Dist(C.point2),s=C.point1.coords.distance(i.COORDS_BY_USER,t);return r<e.eps?0:s/r*p+c}],T),C.ticks=b),C.remove=function(){E&&t.removeObject(P),t.removeObject(_),t.removeObject(g),t.removeObject(m),t.removeObject(f),o.Point.prototype.remove.call(C)},f.dump=!1,m.dump=!1,g.dump=!1,_.dump=!1,E&&(P.dump=!1),C.elType="slider",C.parents=n,C.subs={point1:f,point2:m,baseLine:g,highLine:_},C.inherits.push(f,m,g,_),x&&(b.dump=!1,C.subs.ticks=b,C.inherits.push(b)),C.getParents=function(){return[this.point1.coords.usrCoords.slice(1),this.point2.coords.usrCoords.slice(1),[this._smin,this.position*(this._smax-this._smin)+this._smin,this._smax]]},C.baseline.on("up",(function(t){var e,o;s.evaluate(C.visProp.moveonup)&&!s.evaluate(C.visProp.fixed)&&(e=g.board.getMousePosition(t,0),o=new r(i.COORDS_BY_SCREEN,e,this.board),C.moveTo([o.usrCoords[1],o.usrCoords[2]]))})),C.prepareUpdate().update(),t.isSuspendedUpdate||(C.updateVisibility().updateRenderer(),C.baseline.updateVisibility().updateRenderer(),C.highline.updateVisibility().updateRenderer(),x&&C.ticks.updateVisibility().updateRenderer()),C},t.registerElement("slider",t.createSlider),{createSlider:t.createSlider}})),define("element/measure",["jxg","utils/type","base/element"],(function(t,e,i){"use strict";return t.createTapemeasure=function(r,s,o){var n,a,h,l,c,d,u,p,f,m,g;return n=s[0],a=s[1],h=e.copyAttributes(o,r.options,"tapemeasure","point1"),p=r.create("point",n,h),h=e.copyAttributes(o,r.options,"tapemeasure","point2"),f=r.create("point",a,h),p.setAttribute({ignoredSnapToPoints:[f]}),f.setAttribute({ignoredSnapToPoints:[p]}),h=e.copyAttributes(o,r.options,"tapemeasure"),l=h.withticks,c=h.withlabel,2===(d=h.digits)&&2!==h.precision&&(d=h.precision),c&&(h.withlabel=!0),u=r.create("segment",[p,f],h),c&&(m=o.name&&""!==o.name?o.name+" = ":"",u.label.setText((function(){return m+e.toFixed(p.Dist(f),d)}))),l&&(h=e.copyAttributes(o,r.options,"tapemeasure","ticks"),g=r.create("ticks",[u,.1],h),u.inherits.push(g)),u.remove=function(){l&&u.removeTicks(g),r.removeObject(f),r.removeObject(p),i.prototype.remove.call(this)},u.Value=function(){return p.Dist(f)},p.dump=!1,f.dump=!1,u.elType="tapemeasure",u.getParents=function(){return[[p.X(),p.Y()],[f.X(),f.Y()]]},u.subs={point1:p,point2:f},l&&(g.dump=!1),u.methodMap=t.deepCopy(u.methodMap,{Value:"Value"}),u.prepareUpdate().update(),r.isSuspendedUpdate||(u.updateVisibility().updateRenderer(),u.point1.updateVisibility().updateRenderer(),u.point2.updateVisibility().updateRenderer()),u},t.registerElement("tapemeasure",t.createTapemeasure),{createTapemeasure:t.createTapemeasure}})),define("parser/datasource",["jxg","utils/type"],(function(t,e){"use strict";return t.DataSource=function(){return this.data=[],this.columnHeaders=[],this.rowHeaders=[],this},t.extend(t.DataSource.prototype,{loadFromArray:function(t,i,r){var s,o,n;if(e.isArray(i)&&(this.columnHeaders=i,i=!1),e.isArray(r)&&(this.rowHeaders=r,r=!1),this.data=[],i&&(this.columnHeaders=[]),r&&(this.rowHeaders=[]),e.exists(t)){for(this.data=[],s=0;s<t.length;s++)for(this.data[s]=[],o=0;o<t[s].length;o++)n=t[s][o],parseFloat(n).toString()===n?this.data[s][o]=parseFloat(n):this.data[s][o]="-"!==n?n:NaN;if(i&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),r)for(this.rowHeaders=[],s=0;s<this.data.length;s++)this.rowHeaders.push(this.data[s][0]),this.data[s]=this.data[s].slice(1)}return this},loadFromTable:function(t,i,r){var s,o,n,a,h;if(e.isArray(i)&&(this.columnHeaders=i,i=!1),e.isArray(r)&&(this.rowHeaders=r,r=!1),this.data=[],i&&(this.columnHeaders=[]),r&&(this.rowHeaders=[]),t=document.getElementById(t),e.exists(t)){for(s=t.getElementsByTagName("tr"),this.data=[],o=0;o<s.length;o++)for(a=s[o].getElementsByTagName("td"),this.data[o]=[],n=0;n<a.length;n++)h=a[n].innerHTML,parseFloat(h).toString()===h?this.data[o][n]=parseFloat(h):this.data[o][n]="-"!==h?h:NaN;if(i&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),r)for(this.rowHeaders=[],o=0;o<this.data.length;o++)this.rowHeaders.push(this.data[o][0]),this.data[o]=this.data[o].slice(1)}return this},addColumn:function(t,e,i){throw new Error("not implemented")},addRow:function(t,e,i){throw new Error("not implemented")},getColumn:function(t){var i,r=[];if(e.isString(t))for(i=0;i<this.columnHeaders.length;i++)if(t===this.columnHeaders[i]){t=i;break}for(i=0;i<this.data.length;i++)this.data[i].length>t&&(r[i]=parseFloat(this.data[i][t]));return r},getRow:function(t){var i,r;if(e.isString(t))for(r=0;r<this.rowHeaders.length;r++)if(t===this.rowHeaders[r]){t=r;break}for(i=[],r=0;r<this.data[t].length;r++)i[r]=this.data[t][r];return i}}),t.DataSource})),define("base/chart",["jxg","math/numerics","math/statistics","base/constants","base/coords","base/element","parser/datasource","utils/color","utils/type","utils/env","base/curve","base/point","base/text","base/polygon","element/sector","base/transformation","base/line","base/circle"],(function(t,e,i,r,s,o,n,a,h,l,c,d,u,p,f,m,g,b){"use strict";return t.Chart=function(t,e,i){var r,s,o,n,a,l;if(this.constructor(t,i),!h.isArray(e)||0===e.length)throw new Error("JSXGraph: Can't create a chart without data");if(this.elements=[],h.isNumber(e[0]))for(s=e,r=[],o=0;o<s.length;o++)r[o]=o+1;else if(1===e.length&&h.isArray(e[0]))for(s=e[0],r=[],l=h.evaluate(s).length,o=0;o<l;o++)r[o]=o+1;else 2===e.length&&(l=Math.min(e[0].length,e[1].length),r=e[0].slice(0,l),s=e[1].slice(0,l));if(h.isArray(s)&&0===s.length)throw new Error("JSXGraph: Can't create charts without data.");for(a=i.chartstyle.replace(/ /g,"").split(","),o=0;o<a.length;o++){switch(a[o]){case"bar":n=this.drawBar(t,r,s,i);break;case"line":n=this.drawLine(t,r,s,i);break;case"fit":n=this.drawFit(t,r,s,i);break;case"spline":n=this.drawSpline(t,r,s,i);break;case"pie":n=this.drawPie(t,s,i);break;case"point":n=this.drawPoints(t,r,s,i);break;case"radar":n=this.drawRadar(t,e,i)}this.elements.push(n)}return this.id=this.board.setId(this,"Chart"),this.elements},t.Chart.prototype=new o,t.extend(t.Chart.prototype,{drawLine:function(t,e,i,r){return r.fillcolor="none",r.highlightfillcolor="none",t.create("curve",[e,i],r)},drawSpline:function(t,e,i,r){return r.fillColor="none",r.highlightfillcolor="none",t.create("spline",[e,i],r)},drawFit:function(t,i,r,s){var o=s.degree;return o=Math.max(parseInt(o,10),1)||1,s.fillcolor="none",s.highlightfillcolor="none",t.create("functiongraph",[e.regressionPolynomial(o,i,r)],s)},drawBar:function(t,e,i,r){var s,o,n,a,l,c,d,u,p,f,m=[],g=[],b=function(t,i){return function(){return e[t]()-i*n}},v={fixed:!0,withLabel:!1,visible:!1,name:""};if((p=h.copyAttributes(r,t.options,"chart"))&&p.width)n=p.width;else{if(e.length<=1)n=1;else for(n=e[1]-e[0],s=1;s<e.length-1;s++)n=e[s+1]-e[s]<n?e[s+1]-e[s]:n;n*=.8}for(f=h.copyAttributes(r,t.options,"chart","label"),s=0;s<e.length;s++)h.isFunction(e[s])?(a=b(s,-.5),l=b(s,0),c=b(s,.5)):(a=e[s]-.5*n,l=e[s],c=e[s]+.5*n),d=h.isFunction(i[s])?i[s]():i[s],d=i[s],"horizontal"===p.dir?(g[0]=t.create("point",[0,a],v),g[1]=t.create("point",[d,a],v),g[2]=t.create("point",[d,c],v),g[3]=t.create("point",[0,c],v),h.exists(p.labels)&&h.exists(p.labels[s])&&(f.anchorY="middle",(o=t.create("text",[d,l,p.labels[s]],f)).visProp.anchorx=function(t){return function(){return t.X()>=0?"left":"right"}}(o))):(g[0]=t.create("point",[a,0],v),g[1]=t.create("point",[a,d],v),g[2]=t.create("point",[c,d],v),g[3]=t.create("point",[c,0],v),h.exists(p.labels)&&h.exists(p.labels[s])&&(f.anchorX="middle",(o=t.create("text",[l,d,p.labels[s]],f)).visProp.anchory=function(t){return function(){return t.Y()>=0?"bottom":"top"}}(o))),h.isArray(p.colors)&&(u=p.colors,p.fillcolor=u[s%u.length]),m[s]=t.create("polygon",g,p),h.exists(p.labels)&&h.exists(p.labels[s])&&(m[s].text=o);return m},drawPoints:function(t,e,i,r){var s,o=[],n=r.infoboxarray;for(r.fixed=!0,r.name="",s=0;s<e.length;s++)r.infoboxtext=!!n&&n[s%n.length],o[s]=t.create("point",[e[s],i[s]],r);return o},drawPie:function(t,e,o){var n,a,l=[],c=[],d=(i.sum(e),o.colors),u=o.highlightcolors,p=o.labels,f=o.radius||4,m=f,g=o.center||[0,0],b=g[0],v=g[1],y=function(t,i,r){return function(){var s,o,n,a=0;for(o=0;o<=t;o++)a+=parseFloat(h.evaluate(e[o]));for(s=a,o=t+1;o<e.length;o++)s+=parseFloat(h.evaluate(e[o]));return n=0!==s?2*Math.PI*a/s:0,m()*Math[i](n)+r}},C=function(t,e){var i=-this.point1.coords.usrCoords[1]+this.point2.coords.usrCoords[1],o=-this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[2];h.exists(this.label)&&(this.label.rendNode.style.fontSize=e*h.evaluate(this.label.visProp.fontsize)+"px",this.label.fullUpdate()),this.point2.coords=new s(r.COORDS_BY_USER,[this.point1.coords.usrCoords[1]+i*t,this.point1.coords.usrCoords[2]+o*t],this.board),this.fullUpdate()},_=function(){this.highlighted||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this),C.call(this,1.1,2))},P=function(){this.highlighted&&(this.highlighted=!1,this.board.renderer.noHighlight(this),C.call(this,.9090909,1))},E={fixed:!0,withLabel:!1,visible:!1,name:""};if(!h.isArray(p))for(p=[],n=0;n<e.length;n++)p[n]="";for(h.isFunction(f)||(m=function(){return f}),o.highlightonsector=o.highlightonsector||!1,o.straightfirst=!1,o.straightlast=!1,a=t.create("point",[b,v],E),l[0]=t.create("point",[function(){return m()+b},function(){return v}],E),n=0;n<e.length;n++)l[n+1]=t.create("point",[y(n,"cos",b),y(n,"sin",v)],E),o.name=p[n],o.withlabel=""!==o.name,o.fillcolor=d&&d[n%d.length],o.labelcolor=d&&d[n%d.length],o.highlightfillcolor=u&&u[n%u.length],c[n]=t.create("sector",[a,l[n],l[n+1]],o),o.highlightonsector&&(c[n].hasPoint=c[n].hasPointSector),o.highlightbysize&&(c[n].highlight=_,c[n].noHighlight=P);return{sectors:c,points:l,midpoint:a}},drawRadar:function(e,i,o){var n,a,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N,M,A,R,L,k,D,B,I,Y,j,X,F,U,J,G,z,H,V,$,q=i.length,W=function(){var t,e,i,o,n=h.evaluate(this.visProp.label.offset).slice(0);return t=this.point1.X(),e=this.point2.X(),i=this.point1.Y(),o=this.point2.Y(),e<t&&(n[0]=-n[0]),o<i&&(n[1]=-n[1]),this.setLabelRelativeCoords(n),new s(r.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)},Z=function(t,i){var r,s,o;return r=e.create("transform",[-(_[i]-y[i]),0],{type:"translate"}),s=e.create("transform",[S/(P[i]+C[i]-(_[i]-y[i])),1],{type:"scale"}),r.melt(s),o=e.create("transform",[t],{type:"rotate"}),r.melt(o),r};if(q<=0)throw new Error("JSXGraph radar chart: no data");if(l=o.paramarray,!h.exists(l))throw new Error("JSXGraph radar chart: need paramArray attribute");if((c=l.length)<=1)throw new Error("JSXGraph radar chart: need more than one param in paramArray");for(n=0;n<q;n++)if(c!==i[n].length)throw new Error("JSXGraph radar chart: use data length equal to number of params ("+i[n].length+" != "+c+")");for(d=[],u=[],a=0;a<c;a++)d[a]=i[0][a],u[a]=d[a];for(n=1;n<q;n++)for(a=0;a<c;a++)i[n][a]>d[a]&&(d[a]=i[n][a]),i[n][a]<u[a]&&(u[a]=i[n][a]);for(p=[],f=[],n=0;n<q;n++)p[n]="",f[n]=[];for(m=[],g=[],b=o.startshiftratio||0,v=o.endshiftratio||0,n=0;n<c;n++)m[n]=(d[n]-u[n])*b,g[n]=(d[n]-u[n])*v;if(y=o.startshiftarray||m,C=o.endshiftarray||g,_=o.startarray||u,h.exists(o.start))for(n=0;n<c;n++)_[n]=o.start;if(P=o.endarray||d,h.exists(o.end))for(n=0;n<c;n++)P[n]=o.end;if(y.length!==c)throw new Error("JSXGraph radar chart: start shifts length is not equal to number of parameters");if(C.length!==c)throw new Error("JSXGraph radar chart: end shifts length is not equal to number of parameters");if(_.length!==c)throw new Error("JSXGraph radar chart: starts length is not equal to number of parameters");if(P.length!==c)throw new Error("JSXGraph radar chart: snds length is not equal to number of parameters");for(E=o.labelarray||p,x=o.colors,o.highlightcolors,S=o.radius||10,V=o.strokewidth||1,h.exists(o.highlightonsector)||(o.highlightonsector=!1),O={name:o.name,id:o.id,strokewidth:V,polystrokewidth:o.polystrokewidth||V,strokecolor:o.strokecolor||"black",straightfirst:!1,straightlast:!1,fillcolor:o.fillColor||"#FFFF88",fillopacity:o.fillOpacity||.4,highlightfillcolor:o.highlightFillColor||"#FF7400",highlightstrokecolor:o.highlightStrokeColor||"black",gradient:o.gradient||"none"},T=(w=o.center||[0,0])[0],N=w[1],M=e.create("point",[T,N],{name:"",fixed:!0,withlabel:!1,visible:!1}),Math.PI/2-Math.PI/c,R=A=o.startangle||0,L=[],k=[],n=0;n<c;n++)for(R+=2*Math.PI/c,B=S*Math.cos(R)+T,I=S*Math.sin(R)+N,L[n]=e.create("point",[B,I],{name:"",fixed:!0,withlabel:!1,visible:!1}),k[n]=e.create("line",[M,L[n]],{name:l[n],strokeColor:O.strokecolor,strokeWidth:O.strokewidth,strokeOpacity:1,straightFirst:!1,straightLast:!1,withLabel:!0,highlightStrokeColor:O.highlightstrokecolor}),k[n].getLabelAnchor=W,D=Z(R,n),a=0;a<i.length;a++)$=i[a][n],f[a][n]=e.create("point",[$,0],{name:"",fixed:!0,withlabel:!1,visible:!1}),f[a][n].addTransform(f[a][n],D);for(Y=[],n=0;n<q;n++)for(O.labelcolor=x&&x[n%x.length],O.strokecolor=x&&x[n%x.length],O.fillcolor=x&&x[n%x.length],Y[n]=e.create("polygon",f[n],{withLines:!0,withLabel:!1,fillColor:O.fillcolor,fillOpacity:O.fillopacity,highlightFillColor:O.highlightfillcolor}),a=0;a<c;a++)Y[n].borders[a].setAttribute("strokecolor:"+x[n%x.length]),Y[n].borders[a].setAttribute("strokewidth:"+O.polystrokewidth);switch(o.legendposition||"none"){case"right":X=o.legendleftoffset||2,F=o.legendtopoffset||1,this.legend=e.create("legend",[T+S+X,N+S-F],{labels:E,colors:x});break;case"none":break;default:t.debug("Unknown legend position")}if(j=[],o.showcircles){for(U=[],n=0;n<6;n++)U[n]=20*n;if(U[0]="0",(G=(J=o.circlelabelarray||U).length)<2)throw new Error("JSXGraph radar chart: too less circles in circleLabelArray");for(z=[],D=Z(A+Math.PI/c,0),O.fillcolor="none",O.highlightfillcolor="none",O.strokecolor=o.strokecolor||"black",O.strokewidth=o.circlestrokewidth||.5,O.layer=0,H=(P[0]-_[0])/(G-1),n=0;n<G;n++)z[n]=e.create("point",[_[0]+n*H,0],{name:J[n],size:0,fixed:!0,withLabel:!0,visible:!0}),z[n].addTransform(z[n],D),j[n]=e.create("circle",[M,z[n]],O)}return this.rendNode=Y[0].rendNode,{circles:j,lines:k,points:f,midpoint:M,polygons:Y}},updateRenderer:function(){return this},update:function(){return this.needsUpdate&&this.updateDataArray(),this},updateDataArray:function(){return this}}),t.createChart=function(e,i,r){var s,o,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x=[],S=l.isBrowser?e.document.getElementById(i[0]):null;if(1===i.length&&h.isString(i[0])){if(h.exists(S)){if(g=h.copyAttributes(r,e.options,"chart"),s=(S=(new n).loadFromTable(i[0],g.withheaders,g.withheaders)).data,u=S.columnHeaders,o=S.rowHeaders,b=g.width,v=g.name,y=g.strokecolor,C=g.fillcolor,_=g.highlightstrokecolor,P=g.highlightfillcolor,e.suspendUpdate(),E=s.length,m=[],g.rows&&h.isArray(g.rows)){for(c=0;c<E;c++)for(d=0;d<g.rows.length;d++)if(g.rows[d]===c||g.withheaders&&g.rows[d]===o[c]){m.push(s[c]);break}}else m=s;for(E=m.length,c=0;c<E;c++){if(f=[],g.chartstyle&&-1!==g.chartstyle.indexOf("bar")){for(p=b||.8,f.push(1-p/2+(c+.5)*p/E),d=1;d<m[c].length;d++)f.push(f[d-1]+1);g.width=p/E}v&&v.length===E?g.name=v[c]:g.withheaders&&(g.name=u[c]),y&&y.length===E?g.strokecolor=y[c]:g.strokecolor=a.hsv2rgb((c+1)/E*360,.9,.6),C&&C.length===E?g.fillcolor=C[c]:g.fillcolor=a.hsv2rgb((c+1)/E*360,.9,1),_&&_.length===E?g.highlightstrokecolor=_[c]:g.highlightstrokecolor=a.hsv2rgb((c+1)/E*360,.9,1),P&&P.length===E?g.highlightfillcolor=P[c]:g.highlightfillcolor=a.hsv2rgb((c+1)/E*360,.9,.6),g.chartstyle&&-1!==g.chartstyle.indexOf("bar")?x.push(new t.Chart(e,[f,m[c]],g)):x.push(new t.Chart(e,[m[c]],g))}e.unsuspendUpdate()}return x}return g=h.copyAttributes(r,e.options,"chart"),new t.Chart(e,i,g)},t.registerElement("chart",t.createChart),t.Legend=function(t,e,i){var o;if(this.constructor(),o=h.copyAttributes(i,t.options,"legend"),this.board=t,this.coords=new s(r.COORDS_BY_USER,e,this.board),this.myAtts={},this.label_array=o.labelarray||o.labels,this.color_array=o.colorarray||o.colors,this.lines=[],this.myAtts.strokewidth=o.strokewidth||5,this.myAtts.straightfirst=!1,this.myAtts.straightlast=!1,this.myAtts.withlabel=!0,this.myAtts.fixed=!0,this.style=o.legendstyle||o.style,"vertical"!==this.style)throw new Error("JSXGraph: Unknown legend style: "+this.style);this.drawVerticalLegend(t,o)},t.Legend.prototype=new o,t.Legend.prototype.drawVerticalLegend=function(t,e){var i,o=e.linelength||1,n=(e.rowheight||20)/this.board.unitY,a=function(){return this.setLabelRelativeCoords(this.visProp.label.offset),new s(r.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)};for(i=0;i<this.label_array.length;i++)this.myAtts.name=this.label_array[i],this.myAtts.strokecolor=this.color_array[i%this.color_array.length],this.myAtts.highlightstrokecolor=this.color_array[i%this.color_array.length],this.myAtts.label={offset:[10,0],strokeColor:this.color_array[i%this.color_array.length],strokeWidth:this.myAtts.strokewidth},this.lines[i]=t.create("line",[[this.coords.usrCoords[1],this.coords.usrCoords[2]-i*n],[this.coords.usrCoords[1]+o,this.coords.usrCoords[2]-i*n]],this.myAtts),this.lines[i].getLabelAnchor=a,this.lines[i].prepareUpdate().update().updateVisibility(h.evaluate(this.lines[i].visProp.visible)).updateRenderer()},t.createLegend=function(e,i,r){var s=[0,0];if(!h.exists(i)||2!==i.length)throw new Error("JSXGraph: Legend element needs two numbers as parameters");return s=i,new t.Legend(e,s,r)},t.registerElement("legend",t.createLegend),{Chart:t.Chart,Legend:t.Legend,createChart:t.createChart,createLegend:t.createLegend}})),define("base/turtle",["jxg","base/constants","base/element","utils/type"],(function(t,e,i,r){"use strict";return t.Turtle=function(t,i,s){var o,n,a;return this.constructor(t,s,e.OBJECT_TYPE_TURTLE,e.OBJECT_CLASS_OTHER),this.turtleIsHidden=!1,this.board=t,this.visProp.curveType="plot",this._attributes=r.copyAttributes(this.visProp,t.options,"turtle"),delete this._attributes.id,o=0,n=0,a=90,0!==i.length&&(3===i.length?(o=i[0],n=i[1],a=i[2]):2===i.length?r.isArray(i[0])?(o=i[0][0],n=i[0][1],a=i[1]):(o=i[0],n=i[1]):(o=i[0][0],n=i[0][1])),this.init(o,n,a),this.methodMap=r.deepCopy(this.methodMap,{forward:"forward",fd:"forward",back:"back",bk:"back",right:"right",rt:"right",left:"left",lt:"left",penUp:"penUp",pu:"penUp",penDown:"penDown",pd:"penDown",clearScreen:"clearScreen",cs:"clearScreen",clean:"clean",setPos:"setPos",home:"home",hideTurtle:"hideTurtle",ht:"hideTurtle",showTurtle:"showTurtle",st:"showTurtle",penSize:"setPenSize",penColor:"setPenColor",pushTurtle:"pushTurtle",push:"pushTurtle",popTurtle:"popTurtle",pop:"popTurtle",lookTo:"lookTo",pos:"pos",moveTo:"moveTo",X:"X",Y:"Y"}),this},t.Turtle.prototype=new i,t.extend(t.Turtle.prototype,{init:function(t,e,i){var r={fixed:!0,name:"",visible:!1,withLabel:!1};this.arrowLen=20/Math.sqrt(this.board.unitX*this.board.unitX+this.board.unitY*this.board.unitY),this.pos=[t,e],this.isPenDown=!0,this.dir=90,this.stack=[],this.objects=[],this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.turtle=this.board.create("point",this.pos,r),this.objects.push(this.turtle),this.turtle2=this.board.create("point",[this.pos[0],this.pos[1]+this.arrowLen],r),this.objects.push(this.turtle2),this.visProp.arrow.lastArrow=!0,this.visProp.arrow.straightFirst=!1,this.visProp.arrow.straightLast=!1,this.arrow=this.board.create("line",[this.turtle,this.turtle2],this.visProp.arrow),this.objects.push(this.arrow),this.subs={arrow:this.arrow},this.inherits.push(this.arrow),this.right(90-i),this.board.update()},forward:function(t){if(0===t)return this;var e,i=t*Math.cos(this.dir*Math.PI/180),r=t*Math.sin(this.dir*Math.PI/180);return this.turtleIsHidden||((e=this.board.create("transform",[i,r],{type:"translate"})).applyOnce(this.turtle),e.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]+=i,this.pos[1]+=r,this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update(),this},back:function(t){return this.forward(-t)},right:function(t){(this.dir-=t,this.dir%=360,this.turtleIsHidden)||this.board.create("transform",[-t*Math.PI/180,this.turtle],{type:"rotate"}).applyOnce(this.turtle2);return this.board.update(),this},left:function(t){return this.right(-t)},penUp:function(){return this.isPenDown=!1,this},penDown:function(){return this.isPenDown=!0,this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this},clean:function(){var t,i;for(t=0;t<this.objects.length;t++)(i=this.objects[t]).type===e.OBJECT_TYPE_CURVE&&(this.board.removeObject(i),this.objects.splice(t,1));return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},clearScreen:function(){var t,e,i=this.objects.length;for(t=0;t<i;t++)e=this.objects[t],this.board.removeObject(e);return this.init(0,0,90),this},setPos:function(t,i){return r.isArray(t)?this.pos=t:this.pos=[t,i],this.turtleIsHidden||(this.turtle.setPositionDirectly(e.COORDS_BY_USER,[t,i]),this.turtle2.setPositionDirectly(e.COORDS_BY_USER,[t,i+this.arrowLen]),this.board.create("transform",[-(this.dir-90)*Math.PI/180,this.turtle],{type:"rotate"}).applyOnce(this.turtle2)),this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},setPenSize:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeWidth",t)),this.objects.push(this.curve),this},setPenColor:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeColor",t)),this.objects.push(this.curve),this},setHighlightPenColor:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("highlightStrokeColor",t)),this.objects.push(this.curve),this},setAttribute:function(t){var i,s,o,n=this.objects.length;for(i=0;i<n;i++)(s=this.objects[i]).type===e.OBJECT_TYPE_CURVE&&s.setAttribute(t);return o=this.visProp.id,this.visProp=r.deepCopy(this.curve.visProp),this.visProp.id=o,this._attributes=r.deepCopy(this.visProp),delete this._attributes.id,this},copyAttr:function(t,e){return this._attributes[t.toLowerCase()]=e,this._attributes},showTurtle:function(){return this.turtleIsHidden=!1,this.arrow.setAttribute({visible:!0}),this.visProp.arrow.visible=!1,this.setPos(this.pos[0],this.pos[1]),this.board.update(),this},hideTurtle:function(){return this.turtleIsHidden=!0,this.arrow.setAttribute({visible:!1}),this.visProp.arrow.visible=!1,this.board.update(),this},home:function(){return this.pos=[0,0],this.setPos(this.pos[0],this.pos[1]),this},pushTurtle:function(){return this.stack.push([this.pos[0],this.pos[1],this.dir]),this},popTurtle:function(){var t=this.stack.pop();return this.pos[0]=t[0],this.pos[1]=t[1],this.dir=t[2],this.setPos(this.pos[0],this.pos[1]),this},lookTo:function(t){var e,i,s,o,n;return r.isArray(t)?(e=this.pos[0],i=this.pos[1],s=t[0],o=t[1],n=Math.atan2(o-i,s-e),this.right(this.dir-180*n/Math.PI)):r.isNumber(t)&&this.right(this.dir-t),this},moveTo:function(t){var e,i,s;return r.isArray(t)&&(e=t[0]-this.pos[0],i=t[1]-this.pos[1],this.turtleIsHidden||((s=this.board.create("transform",[e,i],{type:"translate"})).applyOnce(this.turtle),s.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]=t[0],this.pos[1]=t[1],this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update()),this},fd:function(t){return this.forward(t)},bk:function(t){return this.back(t)},lt:function(t){return this.left(t)},rt:function(t){return this.right(t)},pu:function(){return this.penUp()},pd:function(){return this.penDown()},ht:function(){return this.hideTurtle()},st:function(){return this.showTurtle()},cs:function(){return this.clearScreen()},push:function(){return this.pushTurtle()},pop:function(){return this.popTurtle()},evalAt:function(t,i){var r,s,o,n,a=this.objects.length;for(r=0,s=0;r<a;r++)if((o=this.objects[r]).elementClass===e.OBJECT_CLASS_CURVE){if(s<=t&&t<s+o.numberPoints)return n=t-s,o[i](n);s+=o.numberPoints}return this[i]()},X:function(t){return r.exists(t)?this.evalAt(t,"X"):this.pos[0]},Y:function(t){return r.exists(t)?this.evalAt(t,"Y"):this.pos[1]},Z:function(t){return 1},minX:function(){return 0},maxX:function(){var t,i=this.objects.length,r=0;for(t=0;t<i;t++)this.objects[t].elementClass===e.OBJECT_CLASS_CURVE&&(r+=this.objects[t].numberPoints);return r},hasPoint:function(t,i){var r,s;for(r=0;r<this.objects.length;r++)if((s=this.objects[r]).type===e.OBJECT_TYPE_CURVE&&s.hasPoint(t,i))return!0;return!1}}),t.createTurtle=function(e,i,s){var o;return i=i||[],o=r.copyAttributes(s,e.options,"turtle"),new t.Turtle(e,i,o)},t.registerElement("turtle",t.createTurtle),{Turtle:t.Turtle,createTurtle:t.createTurtle}})),define("base/ticks",["jxg","math/math","math/geometry","math/numerics","base/constants","base/element","base/coords","utils/type","base/text"],(function(t,e,i,r,s,o,n,a,h){"use strict";return t.Ticks=function(t,i,r){if(this.constructor(t.board,r,s.OBJECT_TYPE_TICKS,s.OBJECT_CLASS_OTHER),this.line=t,this.board=this.line.board,this.ticksFunction=null,this.fixedTicks=null,this.equidistant=!1,this.labelsData=[],a.isFunction(i))throw this.ticksFunction=i,new Error("Function arguments are no longer supported.");a.isArray(i)?this.fixedTicks=i:((Math.abs(i)<e.eps||i<0)&&(i=r.defaultdistance),this.ticksFunction=this.makeTicksFunction(i),this.equidistant=!0),this.minTicksDistance=r.minticksdistance,this.ticks=[],this.ticksDelta=1,this.labels=[],this.labelData=[],this.labelCounter=0,this.id=this.line.addTicks(this),this.elType="ticks",this.inherits.push(this.labels),this.board.setId(this,"Ti")},t.Ticks.prototype=new o,t.extend(t.Ticks.prototype,{makeTicksFunction:function(t){return function(){var e,i,r;return a.evaluate(this.visProp.insertticks)?((r=(i=this.getLowerAndUpperBounds(this.getZeroCoordinates(),"ticksdistance")).upper-i.lower)<=6*(e=Math.pow(10,Math.floor(Math.log(.6*r)/Math.LN10)))&&(e*=.5),e):t}},hasPoint:function(t,i){var r,o,n,h,l=this.ticks&&this.ticks.length||0;if(a.isObject(a.evaluate(this.visProp.precision))?(h=this.board._inputDevice,n=a.evaluate(this.visProp.precision[h])):n=this.board.options.precision.hasPoint,n+=.5*a.evaluate(this.visProp.strokewidth),!a.evaluate(this.line.visProp.scalable)||this.line.elementClass===s.OBJECT_CLASS_CURVE)return!1;if(0!==this.line.stdform[1]&&0!==this.line.stdform[2]&&this.line.type!==s.OBJECT_TYPE_AXIS)return!1;for(r=0;r<l;r++)if((o=this.ticks[r])[2]&&!(0===this.line.stdform[1]&&Math.abs(o[0][0]-this.line.point1.coords.scrCoords[1])<e.eps||0===this.line.stdform[2]&&Math.abs(o[1][0]-this.line.point1.coords.scrCoords[2])<e.eps)&&(Math.abs(o[0][0]-o[0][1])>=1||Math.abs(o[1][0]-o[1][1])>=1))if(0===this.line.stdform[1]){if(Math.abs(i-.5*(o[1][0]+o[1][1]))<2*n&&o[0][0]-n<t&&t<o[0][1]+n)return!0}else if(0===this.line.stdform[2]&&Math.abs(t-.5*(o[0][0]+o[0][1]))<2*n&&o[1][0]-n<i&&i<o[1][1]+n)return!0;return!1},setPositionDirectly:function(t,i,r){var o,h,l=new n(t,i,this.board),c=new n(t,r,this.board),d=this.board.getBoundingBox();return this.line.type===s.OBJECT_TYPE_AXIS&&a.evaluate(this.line.visProp.scalable)?(Math.abs(this.line.stdform[1])<e.eps&&Math.abs(l.usrCoords[1]*c.usrCoords[1])>e.eps?(o=c.usrCoords[1]/l.usrCoords[1],d[0]*=o,d[2]*=o,this.board.setBoundingBox(d,this.board.keepaspectratio,"update")):Math.abs(this.line.stdform[2])<e.eps&&Math.abs(l.usrCoords[2]*c.usrCoords[2])>e.eps&&(h=c.usrCoords[2]/l.usrCoords[2],d[3]*=h,d[1]*=h,this.board.setBoundingBox(d,this.board.keepaspectratio,"update")),this):this},calculateTicksCoordinates:function(){var t,i,r,o;if(!(this.line.elementClass===s.OBJECT_CLASS_LINE&&(this.setTicksSizeVariables(),Math.abs(this.dx)<e.eps&&Math.abs(this.dy)<e.eps)))return t=this.getZeroCoordinates(),i=this.line.elementClass===s.OBJECT_CLASS_LINE?this.getLowerAndUpperBounds(t):{lower:this.line.minX(),upper:this.line.maxX()},"polar"===a.evaluate(this.visProp.type)&&(o=this.board.getBoundingBox(),r=Math.max(Math.sqrt(o[0]*o[0]+o[1]*o[1]),Math.sqrt(o[2]*o[2]+o[3]*o[3])),i.upper=r),this.ticks=[],this.labelsData=[],this.equidistant?this.generateEquidistantTicks(t,i):this.generateFixedTicks(t,i),this},setTicksSizeVariables:function(t){var i,s,o,n,h=.5*a.evaluate(this.visProp.majorheight),l=.5*a.evaluate(this.visProp.minorheight);a.exists(t)?(s=this.line.minX(),o=this.line.maxX(),(n=this.line.points.length)<2?(this.dxMaj=0,this.dyMaj=0):e.relDif(t,s)<e.eps?(this.dxMaj=this.line.points[0].usrCoords[2]-this.line.points[1].usrCoords[2],this.dyMaj=this.line.points[1].usrCoords[1]-this.line.points[0].usrCoords[1]):e.relDif(t,o)<e.eps?(this.dxMaj=this.line.points[n-2].usrCoords[2]-this.line.points[n-1].usrCoords[2],this.dyMaj=this.line.points[n-1].usrCoords[1]-this.line.points[n-2].usrCoords[1]):(this.dxMaj=-r.D(this.line.Y)(t),this.dyMaj=r.D(this.line.X)(t))):(this.dxMaj=this.line.stdform[1],this.dyMaj=this.line.stdform[2]),this.dxMin=this.dxMaj,this.dyMin=this.dyMaj,this.dx=this.dxMaj,this.dy=this.dyMaj,i=Math.sqrt(this.dxMaj*this.dxMaj*this.board.unitX*this.board.unitX+this.dyMaj*this.dyMaj*this.board.unitY*this.board.unitY),this.dxMaj*=h/i*this.board.unitX,this.dyMaj*=h/i*this.board.unitY,this.dxMin*=l/i*this.board.unitX,this.dyMin*=l/i*this.board.unitY,this.minStyle=a.evaluate(this.visProp.minorheight)<0?"infinite":"finite",this.majStyle=a.evaluate(this.visProp.majorheight)<0?"infinite":"finite"},getZeroCoordinates:function(){var t,e,r,o,h,l,c,d,u=a.evaluate(this.visProp.anchor);return this.line.elementClass===s.OBJECT_CLASS_LINE?this.line.type===s.OBJECT_TYPE_AXIS?i.projectPointToLine({coords:{usrCoords:[1,0,0]}},this.line,this.board):(r=this.line.point1.coords.usrCoords[0],t=this.line.point1.coords.usrCoords[1],e=this.line.point1.coords.usrCoords[2],l=this.line.point2.coords.usrCoords[0],o=this.line.point2.coords.usrCoords[1],h=this.line.point2.coords.usrCoords[2],"right"===u?this.line.point2.coords:"middle"===u?new n(s.COORDS_BY_USER,[.5*(r+l),.5*(t+o),.5*(e+h)],this.board):a.isNumber(u)?new n(s.COORDS_BY_USER,[r+(l-r)*u,t+(o-t)*u,e+(h-e)*u],this.board):this.line.point1.coords):(c=this.line.minX(),d=this.line.maxX(),"right"===u?d:"middle"===u?.5*(c+d):a.isNumber(u)?c*(1-u)+d*u:c)},getLowerAndUpperBounds:function(t,r){var o,h,l,c,d,u,p,f,m,g,b=a.evaluate(this.line.visProp.straightfirst),v=a.evaluate(this.line.visProp.straightlast),y=a.evaluate(this.visProp.includeboundaries);return this.line.elementClass===s.OBJECT_CLASS_CURVE?{lower:this.line.minX(),upper:this.line.maxX()}:(d=new n(s.COORDS_BY_USER,this.line.point1.coords.usrCoords,this.board),u=new n(s.COORDS_BY_USER,this.line.point2.coords.usrCoords,this.board),p=Math.abs(d.usrCoords[0])>=e.eps&&d.scrCoords[1]>=0&&d.scrCoords[1]<=this.board.canvasWidth&&d.scrCoords[2]>=0&&d.scrCoords[2]<=this.board.canvasHeight,f=Math.abs(u.usrCoords[0])>=e.eps&&u.scrCoords[1]>=0&&u.scrCoords[1]<=this.board.canvasWidth&&u.scrCoords[2]>=0&&u.scrCoords[2]<=this.board.canvasHeight,a.exists(r)||"tickdistance"===r?i.calcStraight(this.line,d,u,a.evaluate(this.line.visProp.margin)):i.calcLineDelimitingPoints(this.line,d,u),l=a.evaluate(this.line.visProp.firstarrow),c=a.evaluate(this.line.visProp.lastarrow),(l||c)&&(this.board.renderer.getPositionArrowHead(this.line,d,u,a.evaluate(this.line.visProp.strokewidth)),l&&d.setCoordinates(s.COORDS_BY_SCREEN,[d.scrCoords[1],d.scrCoords[2]]),c&&u.setCoordinates(s.COORDS_BY_SCREEN,[u.scrCoords[1],u.scrCoords[2]])),(m=this.getDistanceFromZero(t,d))<(g=this.getDistanceFromZero(t,u))?(o=m,b||!p||y||(o+=e.eps),h=g,v||!f||y||(h-=e.eps)):g<m?(o=g,v||!f||y||(o+=e.eps),h=m,b||!p||y||(h-=e.eps)):(o=0,h=0),{lower:o,upper:h})},getDistanceFromZero:function(t,i){var r,o,n,a,h;return r=this.line.point1.coords,o=this.line.point2.coords,h=t.distance(s.COORDS_BY_USER,i),n=[o.usrCoords[0]-r.usrCoords[0],o.usrCoords[1]-r.usrCoords[1],o.usrCoords[2]-r.usrCoords[2]],a=[i.usrCoords[0]-t.usrCoords[0],i.usrCoords[1]-t.usrCoords[1],i.usrCoords[2]-t.usrCoords[2]],e.innerProduct(n,a,3)<0&&(h*=-1),h},generateEquidistantTicks:function(t,i){var r,o,n=e.eps,h=this.equidistant?this.ticksFunction(1):this.ticksDelta,l=a.evaluate(this.visProp.insertticks),c=a.evaluate(this.visProp.minorticks);if(this.line.elementClass===s.OBJECT_CLASS_LINE&&(o=this.getXandYdeltas()),h*=a.evaluate(this.visProp.scale),l&&this.minTicksDistance>e.eps?(h=this.adjustTickDistance(h,t,o),h/=c+1):l||(h/=c+1),this.ticksDelta=h,!(h<e.eps)){for(r=0,a.evaluate(this.visProp.drawzero)||(r=h);r<=i.upper+n&&(r>=i.lower-n&&this.processTickPosition(t,r,h,o),r+=h,!(i.upper-r>1e4*h)););for(r=-h;r>=i.lower-n&&(r<=i.upper+n&&this.processTickPosition(t,r,h,o),!((r-=h)-i.lower>1e4*h)););}},adjustTickDistance:function(t,e,i){var r,o,h,l=1,c=a.evaluate(this.visProp.minorticks);if(this.line.elementClass===s.OBJECT_CLASS_CURVE)return t;if(this.getLowerAndUpperBounds(e,"ticksdistance"),r=e.usrCoords[1]+i.x*t,o=e.usrCoords[2]+i.y*t,h=e.distance(s.COORDS_BY_SCREEN,new n(s.COORDS_BY_USER,[r,o],this.board)),0===t)return 0;for(;h/(c+1)<this.minTicksDistance;)t*=1===l?2:5,l*=-1,r=e.usrCoords[1]+i.x*t,o=e.usrCoords[2]+i.y*t,h=e.distance(s.COORDS_BY_SCREEN,new n(s.COORDS_BY_USER,[r,o],this.board));return t},processTickPosition:function(t,e,i,r){var o,h,l,c,d=null;this.line.elementClass===s.OBJECT_CLASS_LINE?(o=t.usrCoords[1]+e*r.x,h=t.usrCoords[2]+e*r.y):(o=this.line.X(t+e),h=this.line.Y(t+e)),l=new n(s.COORDS_BY_USER,[o,h],this.board),this.line.elementClass===s.OBJECT_CLASS_CURVE&&(d=t+e,this.setTicksSizeVariables(d)),l.major=Math.round(e/i)%(a.evaluate(this.visProp.minorticks)+1)==0,3===(c=this.createTickPath(l,l.major)).length&&(this.ticks.push(c),l.major&&a.evaluate(this.visProp.drawlabels)?this.labelsData.push(this.generateLabelData(this.generateLabelText(l,t,d),l,this.ticks.length)):this.labelsData.push(null))},generateFixedTicks:function(t,i){var r,o,h,l,c,d,u,p,f=e.eps,m=a.isArray(this.visProp.labels),g=a.evaluate(this.visProp.drawlabels);for(this.line.elementClass===s.OBJECT_CLASS_LINE&&(p=this.getXandYdeltas()),h=0;h<this.fixedTicks.length;h++)this.line.elementClass===s.OBJECT_CLASS_LINE?(u=this.fixedTicks[h],c=t.usrCoords[1]+u*p.x,d=t.usrCoords[2]+u*p.y):(u=t+this.fixedTicks[h],c=this.line.X(u),d=this.line.Y(u)),r=new n(s.COORDS_BY_USER,[c,d],this.board),this.line.elementClass===s.OBJECT_CLASS_CURVE&&this.setTicksSizeVariables(u),3===(l=this.createTickPath(r,!0)).length&&u>=i.lower-f&&u<=i.upper+f&&(this.ticks.push(l),g&&(m||a.exists(this.visProp.labels[h]))?(o=m?a.evaluate(this.visProp.labels[h]):u,this.labelsData.push(this.generateLabelData(this.generateLabelText(r,t,o),r,h))):this.labelsData.push(null))},getXandYdeltas:function(){var t,i,r=this.line.point1.Dist(this.line.point2);return this.line.type===s.OBJECT_TYPE_AXIS?(t=this.line.point1.coords.usrCoords,i=this.line.point2.coords.usrCoords,(t[1]>i[1]||Math.abs(t[1]-i[1])<e.eps&&t[2]>i[2])&&(t=this.line.point2.coords.usrCoords,i=this.line.point1.coords.usrCoords)):(t=this.line.point1.coords.usrCoords,i=this.line.point2.coords.usrCoords),{x:(i[1]-t[1])/r,y:(i[2]-t[2])/r}},_isInsideCanvas:function(t,e,i){var r=this.board.canvasWidth,s=this.board.canvasHeight;return void 0===i&&(i=0),t[0]>=i&&t[0]<=r-i&&e[0]>=i&&e[0]<=s-i||t[1]>=i&&t[1]<=r-i&&e[1]>=i&&e[1]<=s-i},createTickPath:function(t,e){var r,s,o,n,h,l,c,d,u,p,f,m,g,b,v=[-2e6,-2e6],y=[-2e6,-2e6];if(r=t.scrCoords,e?(n=this.dxMaj,h=this.dyMaj,u=this.majStyle):(n=this.dxMin,h=this.dyMin,u=this.minStyle),s=[-h*r[1]-n*r[2],h,n],e&&"polar"===a.evaluate(this.visProp.type)){if(m=this.board.getBoundingBox(),b=(g=2*Math.PI)/180,r=t.usrCoords,(f=Math.sqrt(r[1]*r[1]+r[2]*r[2]))<Math.max(Math.sqrt(m[0]*m[0]+m[1]*m[1]),Math.sqrt(m[2]*m[2]+m[3]*m[3]))){for(v=[],y=[],p=0;p<=g;p+=b)v.push(this.board.origin.scrCoords[1]+f*Math.cos(p)*this.board.unitX),y.push(this.board.origin.scrCoords[2]+f*Math.sin(p)*this.board.unitY);return[v,y,e]}}else if("infinite"===u?(o=i.meetLineBoard(s,this.board),v[0]=o[0].scrCoords[1],v[1]=o[1].scrCoords[1],y[0]=o[0].scrCoords[2],y[1]=o[1].scrCoords[2]):(d=">"===a.evaluate(this.visProp.face)?Math.PI/4:"<"===a.evaluate(this.visProp.face)?-Math.PI/4:0,l=Math.cos(d)*n-Math.sin(d)*h,c=Math.sin(d)*n+Math.cos(d)*h,v[0]=r[1]+l*a.evaluate(this.visProp.tickendings[0]),y[0]=r[2]-c*a.evaluate(this.visProp.tickendings[0]),v[1]=r[1],y[1]=r[2],d=-d,l=Math.cos(d)*n-Math.sin(d)*h,c=Math.sin(d)*n+Math.cos(d)*h,v[2]=r[1]-l*a.evaluate(this.visProp.tickendings[1]),y[2]=r[2]+c*a.evaluate(this.visProp.tickendings[1])),this._isInsideCanvas(v,y))return[v,y,e];return[]},formatLabelText:function(t){var e,i,r=a.evaluate(this.visProp.scalesymbol);return a.isNumber(t)?(((e=(Math.round(1e13*t)/1e13).toString()).length>a.evaluate(this.visProp.maxlabellength)||-1!==e.indexOf("e"))&&(i=a.evaluate(this.visProp.digits),3!==a.evaluate(this.visProp.precision)&&3===i&&(i=a.evaluate(this.visProp.precision)),e=t.toExponential(i).toString()),a.evaluate(this.visProp.beautifulscientificticklabels)&&(e=this.beautifyScientificNotationLabel(e)),e.indexOf(".")>-1&&-1===e.indexOf("e")&&(e=(e=e.replace(/0+$/,"")).replace(/\.$/,""))):e=t.toString(),r.length>0&&("1"===e?e=r:"-1"===e?e="-"+r:"0"!==e&&(e+=r)),a.evaluate(this.visProp.useunicodeminus)&&(e=e.replace(/-/g,"−")),e},beautifyScientificNotationLabel:function(t){return-1===t.indexOf("e")?t:(parseFloat(t.substring(0,t.indexOf("e")))+t.substring(t.indexOf("e"))).replace(/e(.*)$/g,(function(t,e){var i="•10";return i+=e.replace(/-/g,"⁻").replace(/\+/g,"").replace(/0/g,"⁰").replace(/1/g,"¹").replace(/2/g,"²").replace(/3/g,"³").replace(/4/g,"⁴").replace(/5/g,"⁵").replace(/6/g,"⁶").replace(/7/g,"⁷").replace(/8/g,"⁸").replace(/9/g,"⁹")}))},generateLabelText:function(t,i,r){var s;if(!a.exists(r)){if(s=this.getDistanceFromZero(i,t),Math.abs(s)<e.eps)return"0";r=s/a.evaluate(this.visProp.scale)}return this.formatLabelText(r)},generateLabelData:function(t,e,i){var r,s,o,n;return n=a.evaluate(this.visProp.label.fontsize),r=[e.scrCoords[1],e.scrCoords[1]],s=[e.scrCoords[2],e.scrCoords[2]],o=void 0===n?12:n,o*=.5,this._isInsideCanvas(r,s,o)?(r=a.evaluate(this.visProp.label.offset[0]),s=a.evaluate(this.visProp.label.offset[1]),{x:e.usrCoords[1]+r/this.board.unitX,y:e.usrCoords[2]+s/this.board.unitY,t:t,i:i}):null},update:function(){return this.needsUpdate&&0!==this.board.canvasWidth&&0!==this.board.canvasHeight&&this.calculateTicksCoordinates(),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&this.board.renderer.updateTicks(this),this.updateRendererLabels(),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateRendererLabels:function(){var t,e,i,r,s,o,n,l;for(i=this.labelsData.length,r=this.labels.length,t=0,e=0;t<i;t++)null!==this.labelsData[t]&&(n=this.labelsData[t],e<r?((o=this.labels[e]).setText(n.t),o.setCoords(n.x,n.y),e++):(this.labelCounter+=1,s={isLabel:!0,layer:this.board.options.layer.line,highlightStrokeColor:this.board.options.text.strokeColor,highlightStrokeWidth:this.board.options.text.strokeWidth,highlightStrokeOpacity:this.board.options.text.strokeOpacity,priv:this.visProp.priv},(s=a.deepCopy(s,this.visProp.label)).id=this.id+n.i+"Label"+this.labelCounter,o=h.createText(this.board,[n.x,n.y,n.t],s),this.addChild(o),o.setParents(this),o.isDraggable=!1,o.dump=!1,this.labels.push(o)),"inherit"===(l=a.evaluate(this.visProp.label.visible))&&(l=this.visPropCalc.visible),o.prepareUpdate().updateVisibility(l).updateRenderer(),o.distanceX=a.evaluate(this.visProp.label.offset[0]),o.distanceY=a.evaluate(this.visProp.label.offset[1]));for(e=i=e;e<r;e++)this.board.renderer.display(this.labels[e],!1),this.labels[e].visProp.visible=this.labels[e].visPropCalc.visible=!1;return this},hideElement:function(){var e;for(t.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),e=0;e<this.labels.length;e++)a.exists(this.labels[e])&&this.labels[e].hideElement();return this},showElement:function(){var e;for(t.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!1),e=0;e<this.labels.length;e++)a.exists(this.labels[e])&&this.labels[e].showElement();return this}}),t.createTicks=function(e,i,r){var o,n,h=a.copyAttributes(r,e.options,"ticks");if(n=i.length<2?h.ticksdistance:i[1],i[0].elementClass!==s.OBJECT_CLASS_LINE&&i[0].elementClass!==s.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create Ticks with parent types '"+typeof i[0]+"'.");return o=new t.Ticks(i[0],n,h),a.isFunction(h.generatelabelvalue)&&(o.generateLabelText=h.generatelabelvalue),a.isFunction(h.generatelabeltext)&&(o.generateLabelText=h.generatelabeltext),o.setParents(i[0]),o.isDraggable=!0,o.fullUpdate(i[0].visPropCalc.visible),o},t.createHatchmark=function(t,e,i){var r,o,n,h,l,c=[],d=a.copyAttributes(i,t.options,"hatch");if(e[0].elementClass!==s.OBJECT_CLASS_LINE&&e[0].elementClass!==s.OBJECT_CLASS_CURVE||"number"!=typeof e[1])throw new Error("JSXGraph: Can't create Hatch mark with parent types '"+typeof e[0]+"' and '"+typeof e[1]+" and ''"+typeof e[2]+"'.");for(n=.5*-(((r=e[1])-1)*(h=d.ticksdistance)),o=0;o<r;o++)c[o]=n+o*h;return(l=t.create("ticks",[e[0],c],d)).elType="hatch",l},t.registerElement("ticks",t.createTicks),t.registerElement("hash",t.createHatchmark),t.registerElement("hatch",t.createHatchmark),{Ticks:t.Ticks,createTicks:t.createTicks,createHashmark:t.createHatchmark,createHatchmark:t.createHatchmark}})),define("parser/ca",["jxg","base/constants","base/text","math/math","math/geometry","math/statistics","utils/type","utils/env"],(function(t,e,i,r,s,o,n,a){"use strict";return t.CA=function(t,e,i){this.node=t,this.createNode=e,this.parser=i},t.extend(t.CA.prototype,{findMapNode:function(t,e){var i,r,s;if("op_assign"===e.value&&e.children[0].value===t)return e.children[1];if(e.children)for(r=e.children.length,i=0;i<r;++i)if(null!==(s=this.findMapNode(t,e.children[i])))return s;return null},setMath:function(t){var e,i;if(("node_op"!=t.type||"op_add"!=t.value&&"op_sub"!=t.value&&"op_mul"!=t.value&&"op_div"!=t.value&&"op_neg"!=t.value&&"op_execfun"!=t.value&&"op_exp"!=t.value)&&"node_var"!=t.type&&"node_const"!=t.type||(t.isMath=!0),t.children)for(i=t.children.length,e=0;e<i;++e)this.setMath(t.children[e])},deriveElementary:function(t,e){var i,r=t.children[0].value,s=t.children[1];switch(r){case"abs":i=this.createNode("node_op","op_div",s[0],this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0]))]));break;case"sqrt":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_mul",this.createNode("node_const",2),this.createNode(t.type,t.value,n.deepCopy(t.children[0]),n.deepCopy(t.children[1]))));break;case"sin":i=this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),n.deepCopy(s));break;case"cos":i=this.createNode("node_op","op_neg",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),n.deepCopy(s)));break;case"tan":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),n.deepCopy(s)),this.createNode("node_const",2)));break;case"cot":i=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),n.deepCopy(s)),this.createNode("node_const",2))));break;case"exp":i=this.createNode(t.type,t.value,n.deepCopy(t.children[0]),n.deepCopy(t.children[1]));break;case"pow":i=this.createNode("node_op","op_mul",this.createNode("node_op","op_execfun",n.deepCopy(t.children[0]),n.deepCopy(t.children[1])),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(t.children[1][0],e),this.createNode("node_op","op_div",n.deepCopy(t.children[1][1]),n.deepCopy(t.children[1][0]))),this.createNode("node_op","op_mul",this.derivative(t.children[1][1],e),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[n.deepCopy(t.children[1][0])]))));break;case"log":case"ln":i=this.createNode("node_op","op_div",this.createNode("node_const",1),n.deepCopy(s[0]));break;case"log2":case"lb":case"ld":i=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),n.deepCopy(s[0])),this.createNode("node_const",1.4426950408889634));break;case"log10":case"lg":i=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),n.deepCopy(s[0])),this.createNode("node_const",.43429448190325176));break;case"asin":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])))]));break;case"acos":i=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])))])));break;case"atan":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0]))));break;case"acot":i=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])))));break;case"sinh":i=this.createNode("node_op","op_execfun",this.createNode("node_var","cosh"),[n.deepCopy(s[0])]);break;case"cosh":i=this.createNode("node_op","op_execfun",this.createNode("node_var","sinh"),[n.deepCopy(s[0])]);break;case"tanh":i=this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","tanh"),[n.deepCopy(s[0])]),this.createNode("node_const",2)));break;case"asinh":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_add",this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])),this.createNode("node_const",1))]));break;case"acosh":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])),this.createNode("node_const",1))]));break;case"atanh":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0]))));break;default:throw i=this.createNode("node_const",0),console.log('Derivative of "'+r+'" not yet implemented'),new Error("Error("+this.line+"): ")}return i},derivative:function(t,e){var i;switch(t.type){case"node_op":switch(t.value){case"op_execfun":i="pow"==t.children[0].value?this.deriveElementary(t,e):0===t.children[1].length?this.createNode("node_const",0):this.createNode("node_op","op_mul",this.deriveElementary(t,e),this.derivative(t.children[1][0],e));break;case"op_div":i=this.createNode("node_op","op_div",this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",this.derivative(t.children[0],e),n.deepCopy(t.children[1])),this.createNode("node_op","op_mul",n.deepCopy(t.children[0]),this.derivative(t.children[1],e))),this.createNode("node_op","op_mul",n.deepCopy(t.children[1]),n.deepCopy(t.children[1])));break;case"op_mul":i=this.createNode("node_op","op_add",this.createNode("node_op","op_mul",n.deepCopy(t.children[0]),this.derivative(t.children[1],e)),this.createNode("node_op","op_mul",this.derivative(t.children[0],e),n.deepCopy(t.children[1])));break;case"op_neg":i=this.createNode("node_op","op_neg",this.derivative(t.children[0],e));break;case"op_add":case"op_sub":i=this.createNode("node_op",t.value,this.derivative(t.children[0],e),this.derivative(t.children[1],e));break;case"op_exp":i=this.createNode("node_op","op_mul",n.deepCopy(t),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(t.children[0],e),this.createNode("node_op","op_div",n.deepCopy(t.children[1]),n.deepCopy(t.children[0]))),this.createNode("node_op","op_mul",this.derivative(t.children[1],e),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[n.deepCopy(t.children[0])]))))}break;case"node_var":i=t.value===e?this.createNode("node_const",1):this.createNode("node_const",0);break;case"node_const":i=this.createNode("node_const",0)}return i},expandDerivatives:function(t,e,i){var r,s,o,a,h,l,c,d,u,p,f;if(0,!t)return 0;for(this.line=t.line,this.col=t.col,r=t.children.length,s=0;s<r;++s)if(t.children[s]&&t.children[s].type)t.children[s]=this.expandDerivatives(t.children[s],t,i);else if(n.isArray(t.children[s]))for(o=0;o<t.children[s].length;++o)t.children[s][o]&&t.children[s][o].type&&(t.children[s][o]=this.expandDerivatives(t.children[s][o],t,i));if("node_op"===t.type)if("op_execfun"===t.value)if(t.children[0]&&"D"===t.children[0].value){if("node_var"==t.children[1][0].type?(d=t.children[1][0].value,p=(a=this.findMapNode(d,i)).children[0],u=t.children[1].length>=2?t.children[1][1].value:a.children[0][0],h=a.children[1]):(h=t.children[1][0],p=["x"],u=t.children[1].length>=2?t.children[1][1].value:"x"),c=h,(f=t.children[1].length>=3?t.children[1][2].value:1)>=1)for(;f>=1;)c=this.derivative(c,u),c=this.removeTrivialNodes(c),f--;l="node_op"==e.type&&"op_assign"==e.value?this.createNode("node_op","op_map",p,c):c,this.setMath(l),t.type=l.type,t.value=l.value,t.children[0]=l.children[0],t.children[1]=l.children[1]}return t},removeTrivialNodes:function(t){var e,i,r,s,o;if(n.isArray(t))for(i=t.length,e=0;e<i;++e)t[e]=this.removeTrivialNodes(t[e]);if("node_op"!=t.type||!t.children)return t;for(i=t.children.length,e=0;e<i;++e){this.mayNotBeSimplified=!1;do{t.children[e]=this.removeTrivialNodes(t.children[e])}while(this.mayNotBeSimplified)}switch(t.value){case"op_map":if(r=t.children[0],"node_var"==(s=t.children[1]).type)for(e=0;e<r.length;++e)if(r[e]==s.value){s.isMath=!0;break}break;case"op_add":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&0===r.value)return s;if("node_const"==s.type&&0===s.value)return r;if("node_const"==r.type&&"node_const"==s.type)return r.value+=s.value,r;break;case"op_mul":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&1==r.value)return s;if("node_const"==s.type&&1==s.value)return r;if("node_const"==r.type&&0===r.value)return r;if("node_const"==s.type&&0===s.value)return s;if("node_const"==s.type&&0===s.value)return s;if("node_op"==r.type&&"op_neg"==r.value&&"node_op"==s.type&&"op_neg"==s.value)return t.children=[r.children[0],s.children[0]],this.mayNotBeSimplified=!0,t;if("op_neg"==r.value&&"op_neg"!=s.value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_mul",r.children[0],s)],this.mayNotBeSimplified=!0,t;if("op_neg"!=r.value&&"op_neg"==s.value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_mul",r,s.children[0])],this.mayNotBeSimplified=!0,t;if("op_div"==r.value&&"node_const"==r.children[0].type&&1==r.children[0].value)return t.type="node_op",t.value="op_div",t.children=[s,r.children[1]],this.mayNotBeSimplified=!0,t;if("op_div"==s.value&&"node_const"==s.children[0].type&&1==s.children[0].value)return t.type="node_op",t.value="op_div",t.children=[r,s.children[1]],this.mayNotBeSimplified=!0,t;if("node_const"!=r.type&&"node_const"==s.type)return t.children=[s,r],this.mayNotBeSimplified=!0,t;if("node_const"!=r.type&&"node_op"==s.type&&"op_neg"==s.value&&"node_const"==s.children[0].type)return t.children=[s,r],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_execfun"!=r.value&&("node_var"==s.type||"node_op"==s.type&&"op_execfun"==s.value))return t.children=[s,r],this.mayNotBeSimplified=!0,t;if("node_op"!=r.type&&"node_op"==s.type&&"op_neg"==s.value&&"node_var"==s.children[0].type)return t.children=[s,r],this.mayNotBeSimplified=!0,t;if("node_const"!=r.type&&"node_op"==s.type&&("op_mul"==s.value||"op_div"==s.value)&&"node_const"==s.children[0].type)return o=s.children[0],s.children[0]=r,t.children=[o,s],this.mayNotBeSimplified=!0,t;if("node_const"!=s.type&&"node_op"==r.type&&"op_mul"==r.value&&"node_const"==r.children[0].type)return t.children=[r.children[0],this.createNode("node_op","op_mul",r.children[1],s)],this.mayNotBeSimplified=!0,t;if("node_const"==r.type&&"node_const"==s.type)return r.value*=s.value,r;if("node_const"==r.type&&"node_op"==s.type&&("op_mul"==s.value||"op_div"==s.value)&&"node_const"==s.children[0].type)return s.children[0].value*=r.value,s;if(r.hash=this.parser.compile(r),s.hash=this.parser.compile(s),r.hash===s.hash)return t.value="op_exp",t.children[1]=this.createNode("node_const",2),t;if("node_const"==r.type&&"node_op"==s.type&&("op_mul"==s.value||"op_div"==s.value)&&"node_const"==s.children[0].type)return s.children[0].value*=r.value,s;if("node_op"==s.type&&"op_exp"==s.value&&(r.hash||(r.hash=this.parser.compile(r)),s.children[0].hash||(s.children[0].hash=this.parser.compile(s.children[0])),r.hash===s.children[0].hash))return s.children[1]=this.createNode("node_op","op_add",s.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,s;if("node_op"==r.type&&"op_exp"==r.value&&"node_op"==s.type&&"op_exp"==s.value&&(r.children[0].hash=this.parser.compile(r.children[0]),s.children[0].hash=this.parser.compile(s.children[0]),r.children[0].hash===s.children[0].hash))return r.children[1]=this.createNode("node_op","op_add",r.children[1],s.children[1]),this.mayNotBeSimplified=!0,r;break;case"op_sub":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&0===r.value)return t.value="op_neg",t.children[0]=s,t;if("node_const"==s.type&&0===s.value)return r;if("node_const"==r.type&&"node_const"==s.type&&r.value==s.value)return this.createNode("node_const",0);if("node_var"==r.type&&"node_var"==s.type&&r.value==s.value)return this.createNode("node_const",0);if("node_const"==r.type&&"node_const"==s.type)return r.value-=s.value,r;if("node_op"==r.type&&"op_mul"==r.value&&"node_op"==s.type&&"op_mul"==s.value&&(r.children[1].hash=this.parser.compile(r.children[1]),s.children[1].hash=this.parser.compile(s.children[1]),r.children[1].hash===s.children[1].hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",r.children[0],s.children[0]),r.children[1]],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_mul"==r.value&&(r.children[1].hash=this.parser.compile(r.children[1]),s.hash=this.parser.compile(s),r.children[1].hash===s.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",r.children[0],this.createNode("node_const",1)),s],this.mayNotBeSimplified=!0,t;if("node_op"==s.type&&"op_mul"==s.value&&(s.children[1].hash=this.parser.compile(s.children[1]),r.hash=this.parser.compile(r),s.children[1].hash===r.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",this.createNode("node_const",1),s.children[0]),r],this.mayNotBeSimplified=!0,t;break;case"op_neg":if("node_const"==(r=t.children[0]).type&&0===r.value)return r;if("node_op"==r.type&&"op_neg"==r.value)return r.children[0];break;case"op_div":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&"node_const"==s.type&&r.value==s.value&&0!==r.value)return r.value=1,r;if("node_const"==r.type&&0===r.value&&"node_const"==s.type&&0!==s.value)return r.value=0,r;if("node_const"==r.type&&0===r.value&&("node_op"==s.type||"node_var"==s.type))return t.type="node_const",t.value=0,t;if("node_var"==r.type&&"node_var"==s.type&&r.value==s.value)return this.createNode("node_const",1);if("node_const"==r.type&&0!==r.value&&"node_const"==s.type&&0===s.value)return r.value>0?r.value=1/0:r.value=-1/0,r;if("node_op"==r.type&&"op_neg"==r.value&&"node_op"==s.type&&"op_neg"==s.value)return t.children=[r.children[0],s.children[0]],this.mayNotBeSimplified=!0,t;if("op_neg"==r.value&&"op_neg"!=s.value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_div",r.children[0],s)],this.mayNotBeSimplified=!0,t;if("op_neg"!=r.value&&"op_neg"==s.value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_div",r,s.children[0])],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_exp"==r.value&&(s.hash||(s.hash=this.parser.compile(s)),r.children[0].hash||(r.children[0].hash=this.parser.compile(r.children[0])),s.hash===r.children[0].hash))return r.children[1]=this.createNode("node_op","op_sub",r.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,r;if("node_const"!=s.type&&"node_op"==r.type&&"op_mul"==r.value&&"node_const"==r.children[0].type)return t.value="op_mul",t.children=[r.children[0],this.createNode("node_op","op_div",r.children[1],s)],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_exp"==r.value&&"node_op"==s.type&&"op_exp"==s.value&&(r.children[0].hash=this.parser.compile(r.children[0]),s.children[0].hash=this.parser.compile(s.children[0]),r.children[0].hash===s.children[0].hash))return r.children[1]=this.createNode("node_op","op_sub",r.children[1],s.children[1]),this.mayNotBeSimplified=!0,r;break;case"op_exp":if(r=t.children[0],"node_const"==(s=t.children[1]).type&&0===s.value)return s.value=1,s;if("node_const"==s.type&&1==s.value)return r;if("node_const"==r.type&&1==r.value)return r;if("node_const"==r.type&&0===r.value&&"node_const"==s.type&&0!==s.value)return r;if("node_op"==r.type&&"op_exp"==r.value)return t.children=[r.children[0],this.createNode("node_op","op_mul",r.children[1],s)],t}switch(t.value){case"op_add":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&"node_const"==s.type&&r.value==s.value)return r.value+=s.value,r;if("node_var"==r.type&&"node_var"==s.type&&r.value==s.value)return t.children[0]=this.createNode("node_const",2),t.value="op_mul",t;if("node_op"==r.type&&"op_neg"==r.value)return t.value="op_sub",t.children[0]=s,t.children[1]=r.children[0],this.mayNotBeSimplified=!0,t;if("node_op"==s.type&&"op_neg"==s.value)return t.value="op_sub",t.children[1]=s.children[0],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_mul"==r.value&&"node_op"==s.type&&"op_mul"==s.value&&(r.children[1].hash=this.parser.compile(r.children[1]),s.children[1].hash=this.parser.compile(s.children[1]),r.children[1].hash===s.children[1].hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",r.children[0],s.children[0]),r.children[1]],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_mul"==r.value&&(r.children[1].hash=this.parser.compile(r.children[1]),s.hash=this.parser.compile(s),r.children[1].hash===s.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",r.children[0],this.createNode("node_const",1)),s],this.mayNotBeSimplified=!0,t;if("node_op"==s.type&&"op_mul"==s.value&&(s.children[1].hash=this.parser.compile(s.children[1]),r.hash=this.parser.compile(r),s.children[1].hash===r.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",this.createNode("node_const",1),s.children[0]),r],this.mayNotBeSimplified=!0,t;break;case"op_sub":if(r=t.children[0],"node_op"==(s=t.children[1]).type&&"op_neg"==s.value)return t.value="op_add",t.children[1]=s.children[0],this.mayNotBeSimplified=!0,t;break;case"op_execfun":return this.simplifyElementary(t)}return t},simplifyElementary:function(t){var e=t.children[0].value,i=t.children[1];if(0==i.length)return t;switch(e){case"sin":case"tan":if("node_const"==i[0].type&&0===i[0].value)return t.type="node_const",t.value=0,t;if("node_var"==i[0].type&&"PI"==i[0].value)return t.type="node_const",t.value=0,t;if("node_op"==i[0].type&&"op_mul"==i[0].value&&"node_const"==i[0].children[0].type&&i[0].children[0].value%1==0&&"node_var"==i[0].children[1].type&&"PI"==i[0].children[1].value)return t.type="node_const",t.value=0,t;break;case"cos":if("node_const"==i[0].type&&0===i[0].value)return t.type="node_const",t.value=1,t;if("node_var"==i[0].type&&"PI"==i[0].value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_const",1)],t;break;case"exp":if("node_const"==i[0].type&&0===i[0].value)return t.type="node_const",t.value=1,t;break;case"pow":if("node_const"==i[1].type&&0===i[1].value)return t.type="node_const",t.value=1,t}return t}}),t.CA})),define("utils/dump",["jxg","utils/type"],(function(t,e){"use strict";return t.Dump={addMarkers:function(t,i,r){var s,o,n;for(s in e.isArray(i)||(i=[i]),e.isArray(r)||(r=[r]),o=Math.min(i.length,r.length),i.length=o,r.length=o,t.objects)if(t.objects.hasOwnProperty(s))for(n=0;n<o;n++)t.objects[s][i[n]]=r[n]},deleteMarkers:function(t,i){var r,s,o;for(r in e.isArray(i)||(i=[i]),s=i.length,i.length=s,t.objects)if(t.objects.hasOwnProperty(r))for(o=0;o<s;o++)delete t.objects[r][i[o]]},str:function(t){return"string"==typeof t&&"function"!==t.substr(0,7)&&(t='"'+t+'"'),t},minimizeObject:function(i,r){var s,o,n,a={},h=e.deepCopy(i),l=[];for(n=1;n<arguments.length;n++)l.push(arguments[n]);for(a=e.deepCopy(a,t.Options.elements,!0),n=l.length;n>0;n--)a=e.deepCopy(a,l[n-1],!0);for(s in a)a.hasOwnProperty(s)&&(o=s.toLowerCase(),"object"!=typeof a[s]&&a[s]===h[o]&&delete h[o]);return h},prepareAttributes:function(e,i){var r,s;for(s in r=this.minimizeObject(i.getAttributes(),t.Options[i.elType]),i.subs)i.subs.hasOwnProperty(s)&&(r[s]=this.minimizeObject(i.subs[s].getAttributes(),t.Options[i.elType][s],t.Options[i.subs[s].elType]),r[s].id=i.subs[s].id,r[s].name=i.subs[s].name);return r.id=i.id,r.name=i.name,r},setBoundingBox:function(t,e,i){return t.push({obj:i,method:"setBoundingBox",params:[e.getBoundingBox(),e.keepaspectratio]}),t},dump:function(t){var i,r,s,o,n=[],a=[],h=t.objectsList.length;for(this.addMarkers(t,"dumped",!1),i=0;i<h;i++)if(s={},!(r=t.objectsList[i]).dumped&&r.dump){for(s.type=r.getType(),s.parents=r.getParents().slice(),"point"===s.type&&1===s.parents[0]&&(s.parents=s.parents.slice(1)),o=0;o<s.parents.length;o++)e.isString(s.parents[o])&&"'"!==s.parents[o][0]&&'"'!==s.parents[o][0]?s.parents[o]='"'+s.parents[o]+'"':e.isArray(s.parents[o])&&(s.parents[o]="["+s.parents[o].toString()+"]");s.attributes=this.prepareAttributes(t,r),"glider"===s.type&&r.onPolygon&&n.push({obj:r.id,prop:"onPolygon",val:!0}),a.push(s)}return this.deleteMarkers(t,"dumped"),{elements:a,props:n,methods:[]}},arrayToParamStr:function(t,e){var i,r=[];for(i=0;i<t.length;i++)r.push(e.call(this,t[i]));return r.join(", ")},toJCAN:function(t){var i,r,s;switch(typeof t){case"object":if(t){if(r=[],e.isArray(t)){for(i=0;i<t.length;i++)r.push(this.toJCAN(t[i]));return"["+r.join(",")+"]"}for(s in t)t.hasOwnProperty(s)&&r.push(s+": "+this.toJCAN(t[s]));return"<<"+r.join(", ")+">> "}return"null";case"string":return"'"+t.replace(/\\/g,"\\\\").replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return t.toString();case"null":return"null"}},toJessie:function(t){var e,i,r,s=this.dump(t),o=[];for(s.methods=this.setBoundingBox(s.methods,t,"$board"),i=s.elements,e=0;e<i.length;e++)i[e].attributes.name.length>0&&o.push("// "+i[e].attributes.name),o.push("s"+e+" = "+i[e].type+"("+i[e].parents.join(", ")+") "+this.toJCAN(i[e].attributes).replace(/\n/,"\\n")+";"),"axis"===i[e].type&&(r=i[e].attributes.id,null===t.objects[r].defaultTicks&&o.push("s"+e+".removeAllTicks();")),o.push("");for(e=0;e<s.methods.length;e++)o.push(s.methods[e].obj+"."+s.methods[e].method+"("+this.arrayToParamStr(s.methods[e].params,this.toJCAN)+");"),o.push("");for(e=0;e<s.props.length;e++)o.push(s.props[e].obj+"."+s.props[e].prop+" = "+this.toJCAN(s.props[e].val)+";"),o.push("");return o.join("\n")},toJavaScript:function(t){var i,r,s,o=this.dump(t),n=[];for(o.methods=this.setBoundingBox(o.methods,t,"board"),r=o.elements,i=0;i<r.length;i++)n.push('board.create("'+r[i].type+'", ['+r[i].parents.join(", ")+"], "+e.toJSON(r[i].attributes)+");"),"axis"===r[i].type&&(s=r[i].attributes.id,null===t.objects[s].defaultTicks&&n.push('board.objects["'+s+'"].removeTicks(board.objects["'+s+'"].defaultTicks);'));for(i=0;i<o.methods.length;i++)n.push(o.methods[i].obj+"."+o.methods[i].method+"("+this.arrayToParamStr(o.methods[i].params,e.toJSON)+");"),n.push("");for(i=0;i<o.props.length;i++)n.push(o.props[i].obj+"."+o.props[i].prop+" = "+e.toJSON(o.props[i].val)+";"),n.push("");return n.join("\n")}},t.Dump})),define("element/comb",["jxg","utils/type","base/point"],(function(t,e,i){"use strict";return t.createComb=function(t,r,s){var o,n,a,h,l;if(2!==r.length)throw l=r.map((function(t){return"'"+typeof t+"'"})),new Error("JSXGraph: Can't create comb with parent types "+l.join(", ")+".\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");if(e.isArray(r[0])&&r[0].length>1)h=e.copyAttributes(s,t.options,"comb","point1"),o=t.create("point",r[0],h);else if(e.isString(r[0])||e.isPoint(r[0]))o=t.select(r[0]);else if(e.isFunction(r[0])&&e.isPoint(r[0]()))o=r[0]();else{if(!(e.isFunction(r[0])&&r[0]().length&&r[0]().length>=2))throw new Error("JSXGraph: Can't create comb with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");h=e.copyAttributes(s,t.options,"comb","point1"),o=i.createPoint(t,r[0](),h)}if(e.isArray(r[1])&&r[1].length>1)h=e.copyAttributes(s,t.options,"comb","point2"),n=t.create("point",r[1],h);else if(e.isString(r[1])||e.isPoint(r[1]))n=t.select(r[1]);else if(e.isFunction(r[1])&&e.isPoint(r[1]()))n=r[1]();else{if(!(e.isFunction(r[1])&&r[1]().length&&r[1]().length>=2))throw new Error("JSXGraph: Can't create comb with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");h=e.copyAttributes(s,t.options,"comb","point2"),n=i.createPoint(t,r[1](),h)}return h=e.copyAttributes(s,t.options,"comb"),e.merge(h,e.copyAttributes(s,t.options,"comb","curve")),(a=t.create("curve",[[0],[0]],h)).updateDataArray=function(){var t,i,r,s,h,l,c,d,u,p,f=0,m=o.Dist(n),g=o,b=n;for(d=e.evaluate(a.visProp.frequency),u=-e.evaluate(a.visProp.angle),p=e.evaluate(a.visProp.width),e.evaluate(a.visProp.reverse)&&(g=n,b=o,u=-u),t=Math.cos(u),i=Math.sin(u),r=(b.X()-g.X())/m,s=(b.Y()-g.Y())/m,t*=p/Math.abs(i),i*=p/Math.abs(i),this.dataX=[],this.dataY=[];f<m;)h=g.X()+r*f,l=g.Y()+s*f,i*=c=Math.min(t,m-f)/Math.abs(t),t*=c,this.dataX.push(h),this.dataY.push(l),this.dataX.push(h+r*t+s*i),this.dataY.push(l-r*i+s*t),this.dataX.push(NaN),this.dataY.push(NaN),f+=d},a},t.registerElement("comb",t.createComb),{createComb:t.createComb}})),define("element/slopetriangle",["jxg","utils/type","base/constants","base/polygon"],(function(t,e,i,r){"use strict";var s=function(){r.Polygon.prototype.remove.call(this),this.board.removeObject(this.toppoint),this.board.removeObject(this.glider),this.board.removeObject(this.baseline),this.board.removeObject(this.basepoint),this.board.removeObject(this.label),this._isPrivateTangent&&this.board.removeObject(this.tangent)},o=function(){return this.tangent.getSlope()};return t.createSlopeTriangle=function(r,n,a){var h,l,c,d,u,p,f,m,g,b=!1;if(1===n.length&&n[0].type===i.OBJECT_TYPE_TANGENT)l=n[0],c=l.glider;else if(1===n.length&&n[0].type===i.OBJECT_TYPE_GLIDER)c=n[0],g=e.copyAttributes(a,r.options,"slopetriangle","tangent"),l=r.create("tangent",[c],g),b=!0;else{if(2!==n.length||n[0].elementClass!==i.OBJECT_CLASS_LINE||!e.isPoint(n[1]))throw new Error("JSXGraph: Can't create slope triangle with parent types '"+typeof n[0]+"'.");l=n[0],c=n[1]}return g=e.copyAttributes(a,r.options,"slopetriangle","basepoint"),f=r.create("point",[function(){return[c.X()+1,c.Y()]}],g),g=e.copyAttributes(a,r.options,"slopetriangle","baseline"),p=r.create("line",[c,f],g),g=e.copyAttributes(a,r.options,"slopetriangle","glider"),d=r.create("glider",[c.X()+1,c.Y(),p],g),g=e.copyAttributes(a,r.options,"slopetriangle","toppoint"),u=r.create("point",[function(){return[d.X(),d.Y()+(d.X()-c.X())*l.getSlope()]}],g),(g=e.copyAttributes(a,r.options,"slopetriangle")).borders=e.copyAttributes(g.borders,r.options,"slopetriangle","borders"),(h=r.create("polygon",[c,d,u],g)).Value=o,h.tangent=l,h._isPrivateTangent=b,h.borders[2].setArrow(!1,!1),g=e.copyAttributes(a,r.options,"slopetriangle","label"),(m=r.create("text",[function(){return d.X()+.1},function(){return.5*(d.Y()+u.Y())},function(){return""}],g))._setText((function(){return e.toFixed(h.Value(),e.evaluate(m.visProp.digits))})),m.fullUpdate(),h.glider=d,h.basepoint=f,h.baseline=p,h.toppoint=u,h.label=m,h.subs={glider:d,basePoint:f,baseLine:p,topPoint:u,label:m},h.inherits.push(d,f,p,u,m),h.methodMap=t.deepCopy(h.methodMap,{tangent:"tangent",glider:"glider",basepoint:"basepoint",baseline:"baseline",toppoint:"toppoint",label:"label",Value:"Value",V:"Value"}),h.remove=s,h},t.registerElement("slopetriangle",t.createSlopeTriangle),{createSlopeTriangle:t.createSlopeTriangle}})),define("element/checkbox",["jxg","utils/env","utils/type"],(function(t,e,i){"use strict";var r=function(){this._value=this.rendNodeCheckbox.checked,this.board.update()};return t.createCheckbox=function(s,o,n){var a,h,l=i.copyAttributes(n,s.options,"checkbox");return h=[o[0],o[1],'<span style="display:inline"><input type="checkbox" /><label for=""></label></span>'],(a=s.create("text",h,l)).type=i.OBJECT_TYPE_CHECKBOX,a.rendNodeCheckbox=a.rendNode.childNodes[0].childNodes[0],a.rendNodeLabel=a.rendNode.childNodes[0].childNodes[1],a.rendNodeTag=a.rendNodeCheckbox,a.rendNodeTag.disabled=!!l.disabled,a.rendNodeLabel.innerHTML=o[2],a.rendNodeCheckbox.id=a.rendNode.id+"_checkbox",a.rendNodeLabel.id=a.rendNode.id+"_label",a.rendNodeLabel.setAttribute("for",a.rendNodeCheckbox.id),a.visPropOld.fontsize="0px",s.renderer.updateTextStyle(a,!1),a.rendNodeCheckbox.checked=l.checked,a._value=l.checked,a.Value=function(){return this._value},a.update=function(){return this.needsUpdate&&(t.Text.prototype.update.call(this),this._value=this.rendNodeCheckbox.checked),this},e.addEvent(a.rendNodeCheckbox,"change",r,a),a},t.registerElement("checkbox",t.createCheckbox),{createCheckbox:t.createCheckbox}})),define("element/input",["jxg","utils/env","utils/type"],(function(t,e,i){"use strict";var r=function(t){this._value=this.rendNodeInput.value,this.board.update()};return t.createInput=function(s,o,n){var a,h,l=i.copyAttributes(n,s.options,"input");return h=[o[0],o[1],'<span style="display:inline; white-space:nowrap; padding:0px;"><span></span><input type="text" maxlength="'+l.maxlength+'" style="width:100%"/></span>'],(a=s.create("text",h,l)).type=i.OBJECT_TYPE_INPUT,a.rendNodeLabel=a.rendNode.childNodes[0].childNodes[0],a.rendNodeInput=a.rendNode.childNodes[0].childNodes[1],a.rendNodeLabel.innerHTML=o[3],a.rendNodeInput.value=o[2],a.rendNodeTag=a.rendNodeInput,a.rendNodeTag.disabled=!!l.disabled,a.rendNodeLabel.id=a.rendNode.id+"_label",a.rendNodeInput.id=a.rendNode.id+"_input",a._value=o[2],a.update=function(){return this.needsUpdate&&(t.Text.prototype.update.call(this),this._value=this.rendNodeInput.value),this},a.Value=function(){return this._value},a.set=function(t){return this._value=t,this.rendNodeInput.value=t,this},e.addEvent(a.rendNodeInput,"input",r,a),e.addEvent(a.rendNodeInput,"mousedown",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),e.addEvent(a.rendNodeInput,"touchstart",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),e.addEvent(a.rendNodeInput,"pointerdown",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),a.visPropOld.fontsize="0px",s.renderer.updateTextStyle(a,!1),a},t.registerElement("input",t.createInput),{createInput:t.createInput}})),define("element/button",["jxg","utils/env","utils/type"],(function(t,e,i){"use strict";var r=function(){this._handler&&this._handler(),this.board.update()};return t.createButton=function(s,o,n){var a,h,l=i.copyAttributes(n,s.options,"button");return h=[o[0],o[1],'<button type="button" style="width:100%;"></button>'],(a=s.create("text",h,l)).type=i.OBJECT_TYPE_BUTTON,a.rendNodeButton=a.rendNode.childNodes[0],a.rendNodeButton.id=a.rendNode.id+"_button",a.rendNodeButton.innerHTML=o[2],a.rendNodeTag=a.rendNodeButton,a.rendNodeTag.disabled=!!l.disabled,a.visPropOld.fontsize="0px",s.renderer.updateTextStyle(a,!1),o[3]&&(i.isString(o[3])?(a._jc=new t.JessieCode,a._jc.use(s),a._handler=function(){a._jc.parse(o[3])}):a._handler=o[3]),e.addEvent(a.rendNodeButton,"click",r,a),e.addEvent(a.rendNodeButton,"mousedown",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),e.addEvent(a.rendNodeButton,"touchstart",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),e.addEvent(a.rendNodeButton,"pointerdown",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),a},t.registerElement("button",t.createButton),{createButton:t.createButton}})),define("base/foreignobject",["jxg","base/constants","base/coords","base/element","math/math","utils/type","base/coordselement"],(function(t,e,i,r,s,o,n){"use strict";return t.ForeignObject=function(i,r,s,n,a){this.constructor(i,s,e.OBJECT_TYPE_FOREIGNOBJECT,e.OBJECT_CLASS_OTHER),this.element=this.board.select(s.anchor),this.coordsConstructor(r),this._useUserSize=!1,this.size=[1,1],o.exists(a)&&a.length>0&&(this._useUserSize=!0,this.W=o.createFunction(a[0],this.board,""),this.H=o.createFunction(a[1],this.board,""),this.usrSize=[this.W(),this.H()]),this.content=n,this.elType="foreignobject",this.id=this.board.setId(this,"Im"),this.board.renderer.drawForeignObject(this),this.board.finalizeAdding(this),this.methodMap=t.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})},t.ForeignObject.prototype=new r,o.copyPrototypeMethods(t.ForeignObject,n,"coordsConstructor"),t.extend(t.ForeignObject.prototype,{hasPoint:function(t,r){var n,a,h,l,c,d,u,p,f,m=this.transformations.length;return o.isObject(o.evaluate(this.visProp.precision))?(l=this.board._inputDevice,c=o.evaluate(this.visProp.precision[l])):c=this.board.options.precision.hasPoint,0===m?(n=t-this.coords.scrCoords[1],a=this.coords.scrCoords[2]-r,n>=-(h=c)&&n-this.size[0]<=h&&a>=-h&&a-this.size[1]<=h):(u=[(d=(d=new i(e.COORDS_BY_SCREEN,[t,r],this.board)).usrCoords)[0]-this.span[0][0],d[1]-this.span[0][1],d[2]-this.span[0][2]],0<=(p=(f=s.innerProduct)(u,this.span[1]))&&p<=f(this.span[1],this.span[1])&&0<=(p=f(u,this.span[2]))&&p<=f(this.span[2],this.span[2]))},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateSize(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateForeignObject")},updateSize:function(){var t=[0,0];return this._useUserSize?(this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)]):this.rendNode.hasChildNodes()&&(t=this.rendNode.childNodes[0].getBoundingClientRect(),this.size=[t.width,t.height]),this},updateSpan:function(){var t,e,i=this.transformations.length,r=[];if(0===i)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(r[0]=[this.Z(),this.X(),this.Y()],r[1]=[this.Z(),this.X()+this.W(),this.Y()],r[2]=[this.Z(),this.X(),this.Y()+this.H()],t=0;t<i;t++)for(e=0;e<3;e++)r[e]=s.matVecMult(this.transformations[t].matrix,r[e]);for(e=0;e<3;e++)r[e][1]/=r[e][0],r[e][2]/=r[e][0],r[e][0]/=r[e][0];for(e=1;e<3;e++)r[e][0]-=r[0][0],r[e][1]-=r[0][1],r[e][2]-=r[0][2];this.span=r}return this},addTransform:function(t){var e;if(o.isArray(t))for(e=0;e<t.length;e++)this.transformations.push(t[e]);else this.transformations.push(t);return this},getParents:function(){var t=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return 0!==this.parents.length&&(t=this.parents),t},setSize:function(t,e){return this.W=o.createFunction(t,this.board,""),this.H=o.createFunction(e,this.board,""),this._useUserSize=!0,this},W:function(){},H:function(){}}),t.createForeignObject=function(e,i,r){var s,a,h=i[0],l=i[1],c=[];if(i.length>=2&&(c=i[2]),s=o.copyAttributes(r,e.options,"foreignobject"),!(a=n.create(t.ForeignObject,e,l,s,h,c)))throw new Error("JSXGraph: Can't create foreignObject with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [string, [x, y], [w, h]], [string, [x, y]], [element,transformation]");return a},t.registerElement("foreignobject",t.createForeignObject),t.registerElement("fo",t.createForeignObject),{ForeignObject:t.ForeignObject,createForeignobject:t.createForeignObject}})),define("options3d",["jxg","options"],(function(t,e){"use strict";return t.extend(e,{infobox:{strokeColor:"black"},axes3d:{axesPosition:"center",xAxis:{visible:!0,point2:{name:"x"}},yAxis:{visible:!0,point2:{name:"y"}},zAxis:{visible:!0,point2:{name:"z"}},xPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},yPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},zPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},xPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},yPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},zPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},xPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1}},axis3d:{highlight:!1,strokecolor:"black",strokeWidth:1,tabindex:null,point1:{visible:!1,name:""},point2:{visible:!1,name:"",label:{visible:!0}}},mesh3d:{strokeWidth:1,strokeColor:"#9a9a9a",strokeOpacity:.6,highlight:!1,fillColor:"#9a9a9a",fillOpacity:.1,tabindex:null,visible:"inherit"},line3d:{strokeWidth:1,strokeColor:"black",fixed:!0,tabindex:null,gradient:"linear",gradientSecondColor:"#ffffff",point1:{visible:!1,name:""},point2:{visible:!1,name:""}},plane3d:{strokeWidth:0,strokeColor:"black",strokeOpacity:1,highlight:!1,tabindex:null,gradient:"linear",gradientSecondColor:"#ffffff",gradientAngle:Math.PI,fillColor:"#a7a7a7",fillOpacity:.6},point3d:{strokeWidth:0,gradient:"radial",gradientSecondColor:"#555555",fillColor:"yellow",highlightStrokeColor:"#555555"},surface3d:{highlight:!1,tabindex:-1,strokeWidth:1,stepsU:30,stepsV:30},view3d:{needsRegularUpdate:!0}}),t.Options})),define("3d/threed",["jxg"],(function(t){"use strict";return t.ThreeD={},t.ThreeD})),define("3d/view3d",["jxg","options","base/constants","utils/type","math/math","base/element","3d/threed"],(function(t,e,i,r,s,o,n){"use strict";return n.View3D=function(t,e,s){var o,n,a;this.constructor(t,s,i.OBJECT_TYPE_VIEW3D,i.OBJECT_CLASS_CURVE),o=e[2],n=e[0],a=e[1],this.D3={},this.D3.objects={},this.D3.objectsList=[],this.D3.defaultAxes=null,this.D3.matrix=[[1,0,0,0],[0,1,0,0],[0,0,1,0]],this.D3.bbox3d=o,this.D3.coords=n,this.D3.size=a,this.D3.r=-1,this.timeoutAzimuth=null,this.id=this.board.setId(this,"V"),this.board.finalizeAdding(this),this.elType="view3d",this.methodMap=r.deepCopy(this.methodMap,{})},n.View3D.prototype=new o,t.extend(n.View3D.prototype,{create:function(t,e,i){var r,s=[];return t.indexOf("3d")>0&&(!0,s.push(this)),r=this.board.create(t,s.concat(e),i),this.add(r),r},add:function(t){this.D3.objects[t.id]=t,this.D3.objectsList.push(t)},update:function(){var t,e,i,o,n,a=this.D3;return r.exists(a.el_slide)&&r.exists(a.az_slide)&&this.needsUpdate?(t=a.el_slide.Value(),e=a.r,i=a.az_slide.Value(),o=e*Math.sin(t),n=[[1,0,0],[0,1,0],[0,0,1]],a.matrix=[[1,0,0,0],[0,1,0,0],[0,0,1,0]],a.matrix[1][1]=e*Math.cos(i),a.matrix[1][2]=-e*Math.sin(i),a.matrix[2][1]=o*Math.sin(i),a.matrix[2][2]=o*Math.cos(i),a.matrix[2][3]=Math.cos(t),n[1][1]=a.size[0]/(a.bbox3d[0][1]-a.bbox3d[0][0]),n[2][2]=a.size[1]/(a.bbox3d[1][1]-a.bbox3d[1][0]),n[1][0]=a.coords[0]-n[1][1]*a.bbox3d[0][0],n[2][0]=a.coords[1]-n[2][2]*a.bbox3d[1][0],a.matrix=s.matMatMult(n,a.matrix),this):this},updateRenderer:function(){return this.needsUpdate=!1,this},project3DTo2D:function(t,e,i){var r;return r=3===arguments.length?[1,t,e,i]:3===t.length?[1].concat(t):t,s.matVecMult(this.D3.matrix,r)},project2DTo3DPlane:function(t,e,i){var r,o,n,a,h=e.slice(1),l=[1,0,0,0];i=i||[1,0,0,0],a=s.norm(h,3),n=s.innerProduct(i.slice(1),h,3)/a,(r=this.D3.matrix.slice(0,3)).push([0].concat(h)),o=t.coords.usrCoords.concat([n]);try{1===r[2][3]&&(r[2][1]=r[2][2]=.001*s.eps),l=s.Numerics.Gauss(r,o)}catch(t){l=[0,NaN,NaN,NaN]}return l},project3DToCube:function(t){var e=this.D3.bbox3d;return t[1]<e[0][0]&&(t[1]=e[0][0]),t[1]>e[0][1]&&(t[1]=e[0][1]),t[2]<e[1][0]&&(t[2]=e[1][0]),t[2]>e[1][1]&&(t[2]=e[1][1]),t[3]<e[2][0]&&(t[3]=e[2][0]),t[3]>e[2][1]&&(t[3]=e[2][1]),t},intersectionLineCube:function(t,e,i){var r,s,o,n;for(r=i,s=0;s<3;s++)0!==e[s]&&(o=(this.D3.bbox3d[s][0]-t[s])/e[s],n=(this.D3.bbox3d[s][1]-t[s])/e[s],r=i<0?Math.max(r,Math.min(o,n)):Math.min(r,Math.max(o,n)));return r},isInCube:function(t){return t[0]>this.D3.bbox3d[0][0]-s.eps&&t[0]<this.D3.bbox3d[0][1]+s.eps&&t[1]>this.D3.bbox3d[1][0]-s.eps&&t[1]<this.D3.bbox3d[1][1]+s.eps&&t[2]>this.D3.bbox3d[2][0]-s.eps&&t[2]<this.D3.bbox3d[2][1]+s.eps},intersectionPlanePlane:function(t,e,i){var r,o,n,a,h=[[],[]];return i=i||e.D3.d,r=s.Geometry.meet3Planes(t.D3.normal,t.D3.d,e.D3.normal,i,s.crossProduct(t.D3.normal,e.D3.normal),0),o=s.Geometry.meetPlanePlane(t.D3.dir1,t.D3.dir2,e.D3.dir1,e.D3.dir2),n=this.intersectionLineCube(r,o,1/0),a=s.axpy(n,o,r),this.isInCube(a)&&(h[0]=a),n=this.intersectionLineCube(r,o,-1/0),a=s.axpy(n,o,r),this.isInCube(a)&&(h[1]=a),h},getMesh:function(t,e,i,s,o){var n,a,h,l,c,d,u,p=[0,0,0],f=s[2],m=o[2],g=[],b=[];for(d=(r.evaluate(s[1])-r.evaluate(s[0]))/f,u=(r.evaluate(o[1])-r.evaluate(o[0]))/m,n=0;n<=f;n++){for(h=s[0]+d*n,a=0;a<=m;a++)l=o[0]+u*a,p[0]=t(h,l),p[1]=e(h,l),p[2]=i(h,l),c=this.project3DTo2D(p),g.push(c[1]),b.push(c[2]);g.push(NaN),b.push(NaN)}for(a=0;a<=m;a++){for(l=o[0]+u*a,n=0;n<=f;n++)h=s[0]+d*n,p[0]=t(h,l),p[1]=e(h,l),p[2]=i(h,l),c=this.project3DTo2D(p),g.push(c[1]),b.push(c[2]);g.push(NaN),b.push(NaN)}return[g,b]},animateAzimuth:function(){var t=this.D3.az_slide._smin,e=this.D3.az_slide._smax-t,i=this.D3.az_slide.Value()+.1;this.D3.az_slide.position=(i-t)/e,this.D3.az_slide.position>1&&(this.D3.az_slide.position=0),this.board.update(),this.timeoutAzimuth=setTimeout(function(){this.animateAzimuth()}.bind(this),200)},stopAzimuth:function(){clearTimeout(this.timeoutAzimuth),this.timeoutAzimuth=null}}),n.createView3D=function(t,e,i){var s,o,a,h,l,c,d=e[0],u=e[1];return o=r.copyAttributes(i,t.options,"view3d"),(s=new n.View3D(t,e,o)).defaultAxes=s.create("axes3d",e,i),a=d[0],h=d[1],l=u[0],c=u[1],s.D3.az_slide=t.create("slider",[[a-1,h-2],[a+l+1,h-2],[0,1,2*Math.PI]],{style:6,name:"az",point1:{frozen:!0},point2:{frozen:!0}}),s.D3.el_slide=t.create("slider",[[a-1,h],[a-1,h+c],[0,.3,Math.PI/2]],{style:6,name:"el",point1:{frozen:!0},point2:{frozen:!0}}),s.board.highlightInfobox=function(t,e,i){var o;r.exists(i.D3)?"auto"===(o=r.evaluate(i.visProp.infoboxdigits))?s.board.highlightCustomInfobox("("+r.autoDigits(i.D3.X())+" | "+r.autoDigits(i.D3.Y())+" | "+r.autoDigits(i.D3.Z())+")",i):s.board.highlightCustomInfobox("("+r.toFixed(i.D3.X(),o)+" | "+r.toFixed(i.D3.Y(),o)+" | "+r.toFixed(i.D3.Z(),o)+")",i):s.board.highlightCustomInfobox("("+t+", "+e+")",i)},s},t.registerElement("view3d",n.createView3D),n.View3D})),define("3d/box3d",["jxg","utils/type","math/math","math/geometry","3d/view3d"],(function(t,e,i,r,s){"use strict";s.createAxes=function(t,i,r){var s,o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_=i[0],P=["x","y","z"],E="Axis",x=["Rear","Front"],S=[0,0,0],O=[0,0,0],w={};if(e.exists(_.D3))for(s=0;s<P.length;s++)S[s]=_.D3.bbox3d[s][0],O[s]=_.D3.bbox3d[s][1];else for(s=0;s<P.length;s++)S[s]=i[1][s],O[s]=i[2][1];for(c=(l=e.copyAttributes(r,t.options,"axes3d")).axesposition,s=0;s<P.length;s++)v=(d=P[s])+E,"center"===c?(u=[0,0,0],(p=[0,0,0])[s]=O[s],w[v]=_.create("axis3d",[u,p],l[v.toLowerCase()])):(v+="Border",u=S.slice(),p=O.slice(),2===s?(u[1]=O[1],p[0]=S[0]):(u[s]=O[s],p[2]=S[2]),p[s]=O[s],l[v.toLowerCase()].lastArrow=!1,w[v]=_.create("axis3d",[u,p],l[v.toLowerCase()]),C={visible:!0,minorTicks:0,tickEndings:[0,1],drawLabels:!1},2===s&&(C.tickEndings=[1,0]),w[v+"Ticks"]=_.create("ticks",[w[v],1],C));for(w.O=t.create("intersection",[w[P[0]+E],w[P[1]+E]],{name:"",visible:!1,withLabel:!1}),s=0;s<P.length;s++)for(a=(s+1)%3,h=(s+2)%3,d=P[s],o=0;o<x.length;o++)(u=[0,0,0])[s]=0===o?S[s]:O[s],m=[0,0,0],(f=[0,0,0])[a]=1,m[h]=1,g=[S[a],O[a]],b=[S[h],O[h]],v=d+"Plane"+x[o],l=e.copyAttributes(r,t.options,"axes3d",v),w[v]=_.create("plane3d",[u,f,m,g,b],l),w[v].D3.elType="axisplane3d";for(s=0;s<P.length;s++)for(d=P[s],o=0;o<x.length;o++)for(n=1;n<=2;n++)v=d+"Plane"+x[o]+P[a=(s+n)%3].toUpperCase()+"Axis",y=d+"Plane"+x[o],(u=[0,0,0])[s]=(p=[0,0,0])[s]=0===o?S[s]:O[s],u[a]=S[a],p[a]=O[a],l=e.copyAttributes(r,t.options,"axes3d",v),w[v]=_.create("axis3d",[u,p],l),w[y].addChild(w[v]),w[y].inherits.push(w[v]);return w},t.registerElement("axes3d",s.createAxes),s.createAxis=function(t,i,r){var s,o,n,a,h,l,c=i[0],d=i[1],u=i[2];return s=e.copyAttributes(r.point1,t.options,"axis3d","point1"),o=t.create("point",[(a=d[0],h=d[1],l=d[2],function(){return c.project3DTo2D(a,h,l)[1]}),function(t,e,i){return function(){return c.project3DTo2D(t,e,i)[2]}}(d[0],d[1],d[2])],s),s=e.copyAttributes(r.point2,t.options,"axis3d","point2"),n=t.create("point",[function(t,e,i){return function(){return c.project3DTo2D(t,e,i)[1]}}(u[0],u[1],u[2]),function(t,e,i){return function(){return c.project3DTo2D(t,e,i)[2]}}(u[0],u[1],u[2])],s),s=e.copyAttributes(r,t.options,"axis3d"),t.create("arrow",[o,n],s)},t.registerElement("axis3d",s.createAxis),s.createMesh=function(i,r,s){var o,n=r[0],a=r[1],h=r[2],l=r[3],c=r[4],d=r[5];return(o=i.create("curve",[[],[]],s)).updateDataArray=function(){var i,r,s,o,u=l[0],p=l[1],f=d[0],m=d[1],g=[0,0,0],b=[0,0,0],v=[0,0,0];for(this.dataX=[],this.dataY=[],o=0;o<3;o++)v[o]=e.evaluate(a[o]),g[o]=e.evaluate(h[o]),b[o]=e.evaluate(c[o]);for(i=t.Math.norm(g,3),r=t.Math.norm(b,3),o=0;o<3;o++)g[o]/=i,b[o]/=r;s=n.getMesh((function(t,e){return v[0]+t*g[0]+e*b[0]}),(function(t,e){return v[1]+t*g[1]+e*b[1]}),(function(t,e){return v[2]+t*g[2]+e*b[2]}),[Math.ceil(u),Math.floor(p),(Math.ceil(p)-Math.floor(u))/1],[Math.ceil(f),Math.floor(m),(Math.ceil(m)-Math.floor(f))/1]),this.dataX=s[0],this.dataY=s[1]},o},t.registerElement("mesh3d",s.createMesh)})),define("3d/curve3d",["jxg","utils/type","3d/view3d"],(function(t,e,i){"use strict";i.createCurve=function(t,i,r){var s,o,n=i[0];return(s={elType:"curve3D",X:i[1],Y:i[2],Z:i[3]}).F=[s.X,s.Y,s.Z],(o=t.create("curve",[[],[]],r)).D3=s,e.isFunction(o.D3.X)?(o.D3.range=i[4],o.updateDataArray=function(){var t,i,r,s=e.evaluate(this.visProp.numberpointshigh),o=e.evaluate(this.D3.range[0]),a=e.evaluate(this.D3.range[1]),h=(a-o)/(s-1),l=[0,0,0];for(this.dataX=[],this.dataY=[],i=o;i<=a;i+=h){for(r=0;r<3;r++)l[r]=this.D3.F[r](i);t=n.project3DTo2D(l),this.dataX.push(t[1]),this.dataY.push(t[2])}}):e.isArray(o.D3.X)&&(o.updateDataArray=function(){var t,e,i=this.D3.X.length;for(this.dataX=[],this.dataY=[],t=0;t<i;t++)e=n.project3DTo2D([this.D3.X[t],this.D3.Y[t],this.D3.Z[t]]),this.dataX.push(e[1]),this.dataY.push(e[2])}),o},t.registerElement("curve3d",i.createCurve)})),define("3d/linspace3d",["jxg","utils/type","math/math","math/geometry","3d/view3d"],(function(t,e,i,r,s){"use strict";s.createLine=function(t,i,r){var s,o,n,a,h,l,c=i[0];return o={elType:"line3d",range:i[3]||[-1/0,1/0]},n=e.isPoint(i[1])?i[1]:c.create("point3d",i[1],{visible:!1,name:"",withLabel:!1}),o.point=n,e.isPoint(i[2])&&e.exists(i[2].D3)?(a=n,h=i[2],o.direction=function(){return[h.D3.X()-n.D3.X(),h.D3.Y()-n.D3.Y(),h.D3.Z()-n.D3.Z()]},o.range=[0,1]):(e.isFunction(i[2])?o.direction=i[2]:3===i[2].length?o.direction=[1].concat(i[2]):4===i[2].length&&(o.direction=i[2]),o.getPointCoords=function(t){var i,r=[],s=[];if(r.push(n.D3.X()),r.push(n.D3.Y()),r.push(n.D3.Z()),e.isFunction(o.direction))s=o.direction();else for(i=1;i<4;i++)s.push(e.evaluate(o.direction[i]));return Math.abs(t)===1/0&&(t=c.intersectionLineCube(r,s,t)),[r[0]+s[0]*t,r[1]+s[1]*t,r[2]+s[2]*t]},s=e.copyAttributes(r,t.options,"line3d","point1"),a=c.create("point3d",[function(){return o.getPointCoords(e.evaluate(o.range[0]))}],s),s=e.copyAttributes(r,t.options,"line3d","point2"),h=c.create("point3d",[function(){return o.getPointCoords(e.evaluate(o.range[1]))}],s)),s=e.copyAttributes(r,t.options,"line3d"),(l=c.create("segment",[a,h],s)).point1=a,l.point2=h,a.addChild(l),h.addChild(l),l.D3=o,l},t.registerElement("line3d",s.createLine),s.createPlane=function(t,s,o){var n,a,h,l,c,d=s[0],u=s[2],p=s[3];return a={elType:"plane3d",dir1:[],dir2:[],range1:s[4],range2:s[5],vec1:u,vec2:p},h=e.isPoint(s[1])?s[1]:d.create("point3d",s[1],{visible:!1,name:"",withLabel:!1}),a.point=h,a.updateNormal=function(){var t;for(t=0;t<3;t++)a.dir1[t]=e.evaluate(a.vec1[t]),a.dir2[t]=e.evaluate(a.vec2[t]);a.normal=i.crossProduct(a.dir1,a.dir2),a.d=i.innerProduct(a.point.D3.coords.slice(1),a.normal,3)},a.updateNormal(),n=e.copyAttributes(o,t.options,"plane3d"),(l=t.create("curve",[[],[]],n)).D3=a,l.updateDataArray=function(){var t,s,o,n,h,l,c,u,p,f,m,g,b,v,y=["xPlaneRear","yPlaneRear","zPlaneRear"],C=[],_=[0,0,0],P=[0,0,0],E=[0,0,0],x=[0,0,0];if(this.dataX=[],this.dataY=[],this.D3.updateNormal(),"axisplane3d"===this.D3.elType||!d.defaultAxes||a.range1&&a.range2){for(t=e.evaluate(this.D3.range1[0]),s=e.evaluate(this.D3.range1[1]),o=e.evaluate(this.D3.range2[0]),n=e.evaluate(this.D3.range2[1]),E=this.D3.point.D3.coords.slice(1),_=this.D3.dir1.slice(),P=this.D3.dir2.slice(),l=i.norm(_,3),c=i.norm(P,3),p=0;p<3;p++)_[p]/=l,P[p]/=c;for(f=0;f<4;f++){switch(f){case 0:m=t,g=o;break;case 1:m=s,g=o;break;case 2:m=s,g=n;break;case 3:m=t,g=n}for(p=0;p<3;p++)x[p]=E[p]+m*_[p]+g*P[p];h=d.project3DTo2D(x),this.dataX.push(h[1]),this.dataY.push(h[2])}this.dataX.push(this.dataX[0]),this.dataY.push(this.dataY[0])}else{for(f=0;f<y.length;f++){if(3===(x=d.intersectionPlanePlane(this,d.defaultAxes[y[f]]))[0].length&&3===x[1].length){for(p=0;p<C.length&&!(r.distance(x[0],C[p][0],3)<i.eps&&r.distance(x[1],C[p][1],3)<i.eps||r.distance(x[0],C[p][1],3)<i.eps&&r.distance(x[1],C[p][0],3)<i.eps);p++);p===C.length&&C.push(x.slice())}if((x=[0,0,0])[f]=d.D3.bbox3d[f][1],u=i.innerProduct(x,d.defaultAxes[y[f]].D3.normal,3),3===(x=d.intersectionPlanePlane(this,d.defaultAxes[y[f]],u))[0].length&&3===x[1].length){for(p=0;p<C.length&&!(r.distance(x[0],C[p][0],3)<i.eps&&r.distance(x[1],C[p][1],3)<i.eps||r.distance(x[0],C[p][1],3)<i.eps&&r.distance(x[1],C[p][0],3)<i.eps);p++);p===C.length&&C.push(x.slice())}}0,b=0,p=0;do{for(3===(x=C[b][p]).length&&(h=d.project3DTo2D(x),this.dataX.push(h[1]),this.dataY.push(h[2])),p=(p+1)%2,x=C[b][p],v=b,f=0;f<C.length;f++){if(f!==b&&r.distance(x,C[f][0])<i.eps){b=f,p=0;break}if(f!==b&&r.distance(x,C[f][1])<i.eps){b=f,p=1;break}}if(b===v){console.log("Error: update plane3d: did not find next",b);break}}while(0!==b);h=d.project3DTo2D(C[0][0]),this.dataX.push(h[1]),this.dataY.push(h[2])}},n=e.copyAttributes(o.mesh3d,t.options,"mesh3d"),a.range1&&a.range2&&(c=d.create("mesh3d",[h.D3.coords.slice(1),u,a.range1,p,a.range2],n),l.grid=c,l.inherits.push(c)),l},t.registerElement("plane3d",s.createPlane)})),define("3d/point3d",["jxg","base/constants","math/math","math/geometry","utils/type","3d/view3d"],(function(t,e,i,r,s,o){"use strict";o.createPoint=function(t,o,n){var a,h,l,c,d,u,p=o[0];if(a=s.copyAttributes(n,t.options,"point3d"),l={elType:"point3d",coords:[1,0,0,0],X:function(){return this.coords[1]},Y:function(){return this.coords[2]},Z:function(){return this.coords[3]}},o.length>2&&s.exists(o[o.length-1].D3)?l.slide=o.pop():l.slide=null,2===o.length)l.F=o[1],l.coords=[1].concat(s.evaluate(l.F));else if(4===o.length)for(l.F=o.slice(1),c=0;c<3;c++)l.coords[c+1]=s.evaluate(l.F[c]);return l.updateCoords=function(){var t,e;if(s.isFunction(this.F))t=s.evaluate(this.F),this.coords=[1,t[0],t[1],t[2]];else for(this.coords[0]=1,e=0;e<3;e++)s.isFunction(this.F[e])&&(this.coords[e+1]=s.evaluate(this.F[e]));return this},l.updateCoords(),d=p.project3DTo2D(l.coords),(u=t.create("point",d,a)).D3=l,u.D3.c2d=u.coords.usrCoords.slice(),h=u.update,u.D3.slide&&(u._minFunc=function(t,e,i,r){var s=u.D3.slide.D3,o=[1,s.X(i[0],i[1]),s.Y(i[0],i[1]),s.Z(i[0],i[1])],n=p.project3DTo2D(o);return r[0]=u.X()-n[1],r[1]=u.Y()-n[2],r[0]*r[0]+r[1]*r[1]},u.projectCoords2Surface=function(){var t,r,o=[0,0],n=this.D3.slide.D3;s.exists(this.D3.params)&&(o=this.D3.params.slice()),i.Nlp.FindMinimum(this._minFunc,2,2,o,5,1e-6,0,200),t=[1,n.X(o[0],o[1]),n.Y(o[0],o[1]),n.Z(o[0],o[1])],r=p.project3DTo2D(t),this.D3.params=o,this.D3.coords=t,this.coords.setCoordinates(e.COORDS_BY_USER,r),this.D3.c2d=r}),u.update=function(t){var i,s;return this.needsUpdate?(this.draggable()&&0!==r.distance(this.D3.c2d,this.coords.usrCoords)?this.D3.slide?this.projectCoords2Surface():(s=[1,0,0,this.D3.coords[3]],0!==(i=p.project2DTo3DPlane(u,[1,0,0,1],s))[0]&&(this.D3.coords=p.project3DToCube(i))):(this.D3.updateCoords(),u.coords.setCoordinates(e.COORDS_BY_USER,p.project3DTo2D([1,this.D3.X(),this.D3.Y(),this.D3.Z()]))),this.D3.c2d=u.coords.usrCoords.slice(),h.apply(this,[t]),this):this},u},t.registerElement("point3d",o.createPoint)})),define("3d/surface3d",["jxg","utils/type","3d/view3d"],(function(t,e,i){"use strict";i.createParametricSurface=function(t,i,r){var s,o,n,a=i[0];return o={elType:"surface3d",X:i[1],Y:i[2],Z:i[3],range_u:i[4],range_v:i[5]},s=e.copyAttributes(r,t.options,"surface3d"),(n=t.create("curve",[[],[]],s)).updateDataArray=function(){var t=e.evaluate(this.visProp.stepsu),i=e.evaluate(this.visProp.stepsv),r=e.evaluate(this.D3.range_u),s=e.evaluate(this.D3.range_v),o=a.getMesh(this.D3.X,this.D3.Y,this.D3.Z,r.concat([t]),s.concat([i]));this.dataX=o[0],this.dataY=o[1]},n.D3=o,n},t.registerElement("parametricsurface3d",i.createParametricSurface),i.createFunctiongraph=function(t,e,i){var r=e[0],s=e[1],o=e[2],n=e[3];return r.create("parametricsurface3d",[function(t,e){return t},function(t,e){return e},s,o,n],i)},t.registerElement("functiongraph3d",i.createFunctiongraph)})),define("../build/core.deps.js",["jxg","utils/env","base/constants","utils/type","utils/xml","utils/event","utils/expect","math/math","math/probfuncs","math/ia","math/extrapolate","math/qdt","math/numerics","math/nlp","math/plot","math/metapost","math/statistics","math/symbolic","math/geometry","math/clip","math/poly","math/complex","renderer/abstract","reader/file","parser/geonext","base/board","options","jsxgraph","base/element","base/coords","base/coordselement","base/point","base/line","base/group","base/circle","element/conic","base/polygon","base/curve","element/arc","element/sector","base/composition","element/composition","element/locus","base/text","base/image","element/slider","element/measure","base/chart","base/transformation","base/turtle","utils/color","base/ticks","utils/zip","utils/base64","utils/uuid","utils/encoding","server/server","parser/datasource","parser/jessiecode","parser/ca","utils/dump","renderer/svg","renderer/vml","renderer/canvas","renderer/no","element/comb","element/slopetriangle","element/checkbox","element/input","element/button","base/foreignobject","options3d","3d/box3d","3d/curve3d","3d/linspace3d","3d/point3d","3d/surface3d","3d/threed","3d/view3d"],(function(t,e){"use strict";return e.isBrowser?window.JXG=t:e.isNode()&&"object"=="object"?module.exports=t:e.isWebWorker()&&(self.JXG=t),t})),require("../build/core.deps.js")}));

/***/ }),

/***/ "./gui/chartview.ts":
/*!**************************!*\
  !*** ./gui/chartview.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FunctionEditView = exports.SliderView = exports.FunctionView = exports.FunctionsView = exports.ChartView = void 0;
const framework_1 = __webpack_require__(/*! ./framework */ "./gui/framework.ts");
const JXG = __importStar(__webpack_require__(/*! jsxgraph */ "./node_modules/jsxgraph/distrib/jsxgraphcore.js"));
class ChartView extends framework_1.View {
    chart;
    btnClose;
    btnRedraw;
    functionsView;
    board;
    colors = ["#A64499", "#84d4c9", "#fbc994"];
    graphs = [];
    constructor() {
        super(document.getElementById("plotOverlay"));
        this.chart = this.element[0].querySelector("#chart");
        this.btnClose = this.element[0].querySelector("#btnClose");
        this.btnRedraw = this.element[0].querySelector("#btnRedraw");
        this.btnRedraw.onclick = this.onButtonRedraw.bind(this);
        this.functionsView = new FunctionsView();
        this.functionsView.onkeyenter = this.onButtonRedraw.bind(this);
        this.functionsView.onpropertychange = (sender, view, property, value) => {
            if (property == "visible") {
                if (value) {
                    var index = this.functionsView.indexOf(view);
                    var m = view.getModel();
                    var graph = this.addGraph(m.function, this.colors[index]);
                    this.graphs[index] = graph;
                }
                else {
                    var index = this.functionsView.indexOf(view);
                    this.board.removeObject(this.graphs[index]);
                    this.graphs[index] = null;
                }
            }
        };
        this.functionsView.onchange = (sender, view, value) => {
        };
    }
    onButtonRedraw() {
        var model = this.functionsView.getModel();
        this.redraw(model);
    }
    get onbuttonclose() {
        return this.btnClose.onclick;
    }
    set onbuttonclose(value) {
        this.btnClose.onclick = value;
    }
    addGraph(func, color) {
        try {
            var d = this.board.jc.snippet(func, true, 'x', true);
        }
        catch (ex) {
            return null;
        }
        var graph = this.board.create("functiongraph", d, { strokeColor: color });
        return graph;
    }
    redraw(functions) {
        this.board.removeObject(this.graphs);
        this.graphs.length = 0;
        for (var c = 0; c < functions.length; c++) {
            var f = functions[c];
            if (!f.visible)
                continue;
            var graph = this.addGraph(f.function, this.colors[c]);
            this.graphs[c] = graph;
        }
    }
    setModel(value) {
        this.visible = value.visible;
        this.functionsView.setModel(value.functions);
        if (this.board != null)
            JXG.JSXGraph.freeBoard(this.board);
        this.board = JXG.JSXGraph.initBoard('chart', {
            boundingbox: [-5, 5, 5, -5],
            keepAspectRatio: true,
            axis: true,
            showCopyright: false,
            resize: { enabled: true, throttle: 200 },
            zoom: true,
            pan: true
        });
        this.redraw(value.functions);
    }
    getModel() {
        throw new Error("Method not implemented.");
    }
    dispose() {
        this.btnClose.onclick = null;
        this.btnRedraw.onclick = null;
        this.functionsView.clear();
        this.functionsView.onkeyenter = null;
        if (this.board != null)
            JXG.JSXGraph.freeBoard(this.board);
        this.graphs.length = 0;
        this.board = null;
    }
}
exports.ChartView = ChartView;
class FunctionsView extends framework_1.ViewList {
    onkeyenter;
    constructor() {
        super(document.querySelector("#plotOverlayContainer>.functions"));
        this.element.onkeydown = ((ev) => {
            if (ev.key == "Enter" && this.onkeyenter) {
                this.onkeyenter();
            }
        });
    }
    createViewmodel(model) {
        var f = new FunctionView();
        f.setModel(model);
        return f;
    }
    dispose() {
        this.element.onkeydown = null;
    }
}
exports.FunctionsView = FunctionsView;
class FunctionView extends framework_1.View {
    visibleView;
    functionEditView;
    constructor() {
        var visibleView = new SliderView();
        var functionEditView = new FunctionEditView();
        super([visibleView.element[0], functionEditView.element[0]]);
        this.visibleView = visibleView;
        this.functionEditView = functionEditView;
        this.visibleView.onchange = (sender, value) => {
            this.emitPropertyChange("visible", value);
        };
    }
    setModel(value) {
        this.visibleView.setModel(value.visible);
        this.functionEditView.setModel(value.function);
    }
    getModel() {
        return { function: this.functionEditView.getModel(), visible: this.visibleView.getModel() };
    }
    dispose() {
        this.visibleView.dispose();
        this.functionEditView.dispose();
    }
}
exports.FunctionView = FunctionView;
class SliderView extends framework_1.View {
    checkbox;
    constructor() {
        var l = document.createElement("label");
        l.className = "switch";
        var i = document.createElement("input");
        i.type = "checkbox";
        var s = document.createElement("span");
        s.className = "slider";
        l.appendChild(i);
        l.appendChild(s);
        super(l);
        this.checkbox = i;
        i.onchange = () => {
            var value = this.checkbox.checked;
            this.emitChange(value);
        };
    }
    setModel(value) {
        this.checkbox.checked = value;
    }
    getModel() {
        return this.checkbox.checked;
    }
    dispose() {
    }
}
exports.SliderView = SliderView;
class FunctionEditView extends framework_1.View {
    textBox;
    constructor() {
        super(document.getElementById("tmplEditFunction"));
        this.textBox = this.element[0];
    }
    setModel(value) {
        this.textBox.value = value;
    }
    getModel() {
        return this.textBox.value;
    }
    dispose() {
    }
}
exports.FunctionEditView = FunctionEditView;


/***/ }),

/***/ "./gui/framework.ts":
/*!**************************!*\
  !*** ./gui/framework.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.View = exports.ViewList = void 0;
class ViewList {
    set = new Set();
    container;
    element;
    onchange = null;
    onpropertychange = null;
    onadd = null;
    onremove = null;
    constructor(htmlElement, containerSelector, iterable) {
        if (htmlElement.tagName == "TEMPLATE") {
            this.element = htmlElement.content.cloneNode(true);
        }
        else {
            this.element = htmlElement;
        }
        this.container = containerSelector ? this.element.querySelector(containerSelector) : this.element;
        if (iterable) {
            for (var c of iterable) {
                this.add(c);
            }
        }
    }
    appendTo(target) {
        target.appendChild(this.element);
    }
    indexOf(view) {
        var index = 0;
        for (var c of this) {
            if (c === view)
                return index;
            index++;
        }
        return -1;
    }
    add(value) {
        var view = this.createViewmodel(value);
        view.appendTo(this.container);
        this.set.add(view);
        view.onchange = (sender, value) => {
            if (this.onchange != null)
                this.onchange(this, sender, value);
        };
        view.onpropertychange = (sender, property, value) => {
            if (this.onpropertychange != null)
                this.onpropertychange(this, sender, property, value);
        };
        if (this.onadd != null)
            this.onadd(this, view, value);
        return view;
    }
    clear() {
        for (var c of this.set.keys()) {
            c.remove();
            c.dispose();
        }
        this.set.clear();
    }
    delete(view) {
        if (!this.set.delete(view))
            return false;
        if (this.onremove != null)
            this.onremove(this, view);
        view.remove();
        view.dispose();
        return true;
    }
    has(value) {
        return this.set.has(value);
    }
    get size() {
        return this.set.size;
    }
    *[Symbol.iterator]() {
        for (var i of this.set) {
            yield i;
        }
    }
    setModel(values) {
        this.clear();
        for (var m of values) {
            this.add(m);
        }
    }
    getModel() {
        var arr = [];
        for (var m of this) {
            arr.push(m.getModel());
        }
        return arr;
    }
    set visible(value) {
        var visibility = value ? "visible" : "hidden";
        this.element.style.visibility = visibility;
    }
    set display(value) {
        this.element.style.display = value;
    }
}
exports.ViewList = ViewList;
class View {
    _element = [];
    get element() {
        return this._element;
    }
    onchange = null;
    onpropertychange = null;
    constructor(htmlElement) {
        if (Array.isArray(htmlElement)) {
            var arr = htmlElement;
            for (var e of arr) {
                this._element.push(e);
            }
        }
        else if (htmlElement.tagName == "TEMPLATE") {
            this._element = [htmlElement.content.firstElementChild.cloneNode(true)];
        }
        else {
            this._element = [htmlElement];
        }
    }
    remove() {
        for (var e of this._element) {
            e.remove();
        }
    }
    appendTo(target) {
        for (var e of this._element) {
            target.appendChild(e);
        }
    }
    emitChange(value) {
        if (this.onchange != null)
            this.onchange(this, value);
    }
    emitPropertyChange(property, value) {
        if (this.onpropertychange != null)
            this.onpropertychange(this, property, value);
    }
    /**Overwrite this method for unregistering events */
    dispose() {
        this.onchange = null;
        this.onpropertychange = null;
    }
    set visible(value) {
        var visibility = value ? "visible" : "hidden";
        for (var e of this._element) {
            e.style.visibility = visibility;
        }
    }
    set display(value) {
        for (var e of this._element) {
            e.style.display = value;
        }
    }
}
exports.View = View;


/***/ }),

/***/ "./gui/presenter.ts":
/*!**************************!*\
  !*** ./gui/presenter.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const view_1 = __webpack_require__(/*! ./view */ "./gui/view.ts");
const chartview_1 = __webpack_require__(/*! ./chartview */ "./gui/chartview.ts");
const solver = __importStar(__webpack_require__(/*! ../src/solver */ "./src/solver.ts"));
let divideOverlay = document.getElementById("divideOverlay");
var chartView = null;
var main = new view_1.MainView();
main.setModel({ polynomEdit: [null, null, null], solution: []
});
main.onbuttonadd = () => {
    if (main.polynomeditview.degree < 20)
        main.polynomeditview.push(null);
};
main.onbuttonremove = () => {
    if (main.polynomeditview.degree > 1)
        main.polynomeditview.pop();
};
function closeChartView() {
    if (chartView == null)
        return;
    chartView.visible = false;
    chartView.dispose();
    chartView = null;
}
main.onbuttonplot = () => {
    var model = main.polynomeditview.getModel();
    history.pushState("", "", "");
    chartView = new chartview_1.ChartView();
    chartView.onbuttonclose = () => {
        closeChartView();
    };
    var derivates = solver.calculateDerivates(model);
    derivates.unshift(model);
    derivates.length = Math.min(3, derivates.length - 1);
    var functions = derivates.map((p) => { return { function: solver.toString(p, 4), visible: true }; });
    chartView.setModel({ visible: true, functions });
};
main.polynomeditview.onkeyenter = () => {
    solve();
};
main.onbuttonsolve = () => {
    solve();
};
function formatResult(result) {
    var r = result.map(p => p.mul(10000).round().div(10000).toString());
    return r.toString();
}
function solve() {
    var m = main.polynomeditview.getModel();
    var polynom = solver.$(...m);
    var result = solver.solve(polynom, new solver.Decimal(0.001), 128);
    if (result == null)
        return;
    var derivations = solver.calculateDerivates(polynom);
    derivations.unshift(polynom);
    var max = Math.min(result.length - 1, 2);
    for (var c = max; c >= 0; c--) {
        var zero = result[c].zeros;
        var p = derivations[c];
        var solution = formatResult(zero);
        var view = main.solutionsview.add({ solution, polynom: p });
        if (c == max && main.solutionsview.size > 1) {
            view.seperator = true;
        }
    }
    main.solutionsview.scrollToBottom();
}
window.addEventListener("popstate", function (e) {
    //alert("back")
    closeChartView();
});


/***/ }),

/***/ "./gui/view.ts":
/*!*********************!*\
  !*** ./gui/view.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MainView = exports.FactorEditView = exports.PolynomEditView = exports.PolynomView = exports.SolutionView = exports.SolutionsView = void 0;
const framework_1 = __webpack_require__(/*! ./framework */ "./gui/framework.ts");
const solver_1 = __webpack_require__(/*! ../src/solver */ "./src/solver.ts");
class SolutionsView extends framework_1.ViewList {
    tableContainer = document.getElementById("tableContainer");
    constructor() {
        super(document.getElementById("table").getElementsByTagName("tbody")[0]);
    }
    createViewmodel(model) {
        var view = new SolutionView();
        view.setModel(model);
        return view;
    }
    scrollToBottom() {
        this.tableContainer.scrollTo(0, this.tableContainer.scrollHeight);
    }
    dispose() {
    }
}
exports.SolutionsView = SolutionsView;
class SolutionView extends framework_1.View {
    polynom;
    static tmplDisplaySolution = document.getElementById("tmplDisplaySolution");
    constructor() {
        super(document.getElementById("tmplDisplayRow"));
        this.polynom = new PolynomView();
    }
    get seperator() {
        return this.element[0].classList.contains("seperator");
    }
    set seperator(value) {
        if (value) {
            this.element[0].classList.add("seperator");
        }
        else {
            this.element[0].classList.remove("seperator");
        }
    }
    setModel(value) {
        this.polynom.setModel(value.polynom);
        var tr = this.element[0];
        var c1 = tr.children[0];
        c1.innerHTML = "";
        c1.appendChild(this.polynom.element[0]);
        var displaySolution = SolutionView.tmplDisplaySolution.content.cloneNode(true).querySelector(".displaysolution");
        displaySolution.innerHTML = value.solution;
        var c2 = tr.children[1];
        c2.innerHTML = "";
        c2.appendChild(displaySolution);
    }
    dispose() {
    }
    getModel() {
        throw new Error("Method not implemented.");
    }
}
exports.SolutionView = SolutionView;
class PolynomView extends framework_1.View {
    static tmplXtext = document.getElementById("tmplXtext");
    constructor() {
        super(document.getElementById("tmplFormula"));
    }
    setModel(value) {
        this.element[0].innerHTML = "";
        var degree = value.length - 1;
        var first = true;
        for (var c = 0; c < value.length; c++) {
            var v = value[c];
            if (v.isZero()) {
                continue;
            }
            var xtext = PolynomView.tmplXtext.content.cloneNode(true);
            var factor = xtext.querySelector(".factor");
            factor.innerHTML = v.abs().mul(10000).round().div(10000).toString();
            if (c != degree) {
                xtext.querySelector(".variablename").innerHTML = "x";
                var exponent = xtext.querySelector(".exponent");
                exponent.innerHTML = (degree - c).toString();
                if (c == degree - 1)
                    exponent.style.display = "none";
            }
            if (!first || v.isNegative()) {
                var sign = v.isPositive() ? "+" : "-";
                if (!first)
                    sign += " ";
                xtext.querySelector(".sign").innerHTML = sign;
            }
            this.element[0].appendChild(xtext);
            first = false;
        }
    }
    dispose() {
    }
    getModel() {
        throw new Error("Method not implemented.");
    }
}
exports.PolynomView = PolynomView;
class PolynomEditView extends framework_1.View {
    get degree() {
        return this.factorEditViews.length - 1;
    }
    editRowContainer;
    factorEditViews = [];
    onkeyenter;
    constructor() {
        super(document.getElementById("tmplEditRow"));
        this.editRowContainer = this.element[0];
        this.editRowContainer.onkeydown = ((ev) => {
            if (ev.key == "Enter" && this.onkeyenter) {
                this.onkeyenter();
            }
        });
    }
    setModel(value) {
        this.editRowContainer.innerHTML = "";
        this.factorEditViews.length = 0;
        var degree = value.length - 1;
        for (var c = degree; c >= 0; c--) {
            var v = new FactorEditView();
            v.setModel(value[degree - c]);
            v.degree = c;
            this.factorEditViews.push(v);
            this.editRowContainer.appendChild(v.element[0]);
        }
    }
    push(value) {
        var v = new FactorEditView();
        v.setModel(value);
        v.degree = this.factorEditViews.length;
        this.factorEditViews.unshift(v);
        this.editRowContainer.prepend(v.element[0]);
    }
    pop() {
        if (this.factorEditViews.shift() === undefined)
            return;
        this.editRowContainer.firstElementChild.remove();
    }
    getModel() {
        return this.factorEditViews.map(p => p.getModel());
    }
    dispose() {
        this.editRowContainer.onkeydown = null;
    }
}
exports.PolynomEditView = PolynomEditView;
class FactorEditView extends framework_1.View {
    static tmplXtext = document.getElementById("tmplXedit");
    factor;
    _degree;
    get degree() {
        return this._degree;
    }
    set degree(value) {
        this._degree = value;
        if (this.degree != 0) {
            this.element[0].querySelector(".variablename").innerHTML = "x";
            var exponent = this.element[0].querySelector(".exponent");
            exponent.innerHTML = this.degree.toString();
            if (this.degree == 1)
                exponent.style.display = "none";
            this.element[0].querySelector(".sign").innerHTML = "+";
        }
        else {
            this.element[0].querySelector(".sign").innerHTML = "=0";
        }
    }
    constructor() {
        super(FactorEditView.tmplXtext);
        this.factor = this.element[0].querySelector(".factor");
    }
    setModel(value) {
        this.factor.value = value === null || value.isNaN() ? "" : value.toString();
    }
    getModel() {
        var decimal;
        try {
            decimal = new solver_1.Decimal(this.factor.value);
        }
        catch (ex) {
            return new solver_1.Decimal(0);
        }
        return decimal.isNaN() ? new solver_1.Decimal(0) : decimal;
    }
    dispose() {
    }
}
exports.FactorEditView = FactorEditView;
class MainView extends framework_1.View {
    btnAdd = document.getElementById("btnAdd");
    btnRemove = document.getElementById("btnRemove");
    btnSolve = document.getElementById("btnSolve");
    btnPlot = document.getElementById("btnPlot");
    btnDivide = document.getElementById("btnDivide");
    polynomeditview;
    solutionsview;
    get onbuttonadd() {
        return this.btnAdd.onclick;
    }
    set onbuttonadd(value) {
        this.btnAdd.onclick = value;
    }
    get onbuttonremove() {
        return this.btnRemove.onclick;
    }
    set onbuttonremove(value) {
        this.btnRemove.onclick = value;
    }
    get onbuttonsolve() {
        return this.btnSolve.onclick;
    }
    set onbuttonsolve(value) {
        this.btnSolve.onclick = value;
    }
    get onbuttonplot() {
        return this.btnPlot.onclick;
    }
    set onbuttonplot(value) {
        this.btnPlot.onclick = value;
    }
    get onbuttondivide() {
        return this.btnDivide.onclick;
    }
    set onbuttondivide(value) {
        this.btnDivide.onclick = value;
    }
    constructor() {
        super(document.body);
        this.solutionsview = new SolutionsView();
        this.polynomeditview = new PolynomEditView();
        var topContainer = document.getElementById("topContainer");
        this.polynomeditview.appendTo(topContainer);
    }
    setModel(value) {
        this.polynomeditview.setModel(value.polynomEdit);
        this.solutionsview.setModel(value.solution);
    }
    getModel() {
        return { solution: this.solutionsview.getModel(), polynomEdit: this.polynomeditview.getModel() };
    }
    dispose() {
        throw new Error("Method not implemented.");
    }
}
exports.MainView = MainView;


/***/ }),

/***/ "./src/solver.ts":
/*!***********************!*\
  !*** ./src/solver.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isolateRoots = exports.solve = exports.toString = exports.$ = exports.antiderivative = exports.simplyfyPolynom = exports.generatePolynomFromRoots = exports.multiplicate = exports.isFunctionAscendingToTheLeft = exports.isFunctionAscendingToTheRight = exports.mergeNeighbouringRoots = exports.calculate = exports.derivative = exports.calculateDerivates = exports.newtonIterate = exports.superacid = exports.getIntervalsInPolynom = exports.Decimal = void 0;
const decimal_js_1 = __webpack_require__(/*! decimal.js */ "./node_modules/decimal.js/decimal.js");
Object.defineProperty(exports, "Decimal", ({ enumerable: true, get: function () { return decimal_js_1.Decimal; } }));
decimal_js_1.Decimal.set({ precision: 96 });
const negativeInfinity = new decimal_js_1.Decimal(Number.NEGATIVE_INFINITY);
const positiveInfinity = new decimal_js_1.Decimal(Number.POSITIVE_INFINITY);
const zero = new decimal_js_1.Decimal(0);
const one = new decimal_js_1.Decimal(1);
const two = new decimal_js_1.Decimal(2);
const nan = new decimal_js_1.Decimal(Number.NaN);
function* getIntervalsInPolynom(...sortedDerivateZeros) {
    var left, right;
    var index = sortedDerivateZeros.length;
    if (index == 0) {
        yield { left: negativeInfinity, right: positiveInfinity, start: zero };
        return;
    }
    right = sortedDerivateZeros[0];
    yield { left: negativeInfinity, right, start: right.sub(one) };
    for (var i = 1; i < index; i++) {
        left = right;
        right = sortedDerivateZeros[i];
        if (left.greaterThanOrEqualTo(right))
            throw new Error();
        yield { left, right, start: left.add(right).div(two) };
    }
    yield { left: right, right: positiveInfinity, start: right.add(one) };
}
exports.getIntervalsInPolynom = getIntervalsInPolynom;
function superacid(polynom, accuracy = new decimal_js_1.Decimal(0.01), newtonIterations = 32) {
    /*
     Simplify polynomial by dividing through the first coefficient.
     Smaller coefficients mean less chance of overflowing.
    */
    polynom = simplyfyPolynom(polynom);
    var degree = polynom.length - 1;
    if (degree <= 0)
        return null;
    var polynoms = calculateDerivates(polynom); //calculate all derivatives
    /*
      Add polynomial to the list of polynomials, whose roots need to be calculated
    */
    polynoms.unshift(polynom);
    var c = degree;
    var firstDegreeDerivation = polynoms[polynoms.length - 2];
    var derivateZeros = [firstDegreeDerivation[1].neg().div(firstDegreeDerivation[0])];
    var roots = derivateZeros;
    /*
     Calculate roots of polynomial and all its derivates, starting with lowest degree.
     Roots are needed for calculating the roots of the polynom with the next degree.
    */
    while (--c) {
        var fx = polynoms[c - 1];
        var fxx = polynoms[c];
        roots = [];
        /*
          Intervals are located from -infinity to the first stationary point, in between neigbouring
          stationary points, and from the last stationary point to +infinity. Because of that, the zeros
          of the derivate are needed, calculated in the last loop iteration.
          In each interval there is at most one zero, because the sign of the derivative is constant.
        */
        var intervals = getIntervalsInPolynom(...derivateZeros);
        for (var interval of intervals) { //Do Newton iterations seperately for each interval
            var root = newtonIterate(fx, fxx, interval.left, interval.right, interval.start, newtonIterations, accuracy);
            if (root == null)
                continue;
            //skip next interval, because root will be the same as in the current interval  
            if (interval.right.minus(root).abs().lessThan(accuracy))
                intervals.next();
            roots.push(root); //Add root to the list of found roots   
        }
        derivateZeros = roots; //Roots are needed for calculating the next intervals   
    }
    return roots; // return found roots
}
exports.superacid = superacid;
function newtonIterate(polynom, derivate, left, right, start, newtonIterations, accuracy) {
    var degree = polynom.length - 1;
    if (degree <= 0 || derivate.length != polynom.length - 1)
        return null;
    if (newtonIterations < 0)
        return null;
    var c = 0;
    var x = null;
    var fx = positiveInfinity;
    var fxx = null;
    var nextFx = null;
    while (true) {
        if (start.lessThan(left) || start.greaterThan(right)) {
            break;
        }
        nextFx = calculate(polynom, start);
        if (c > 1 && nextFx.abs().greaterThanOrEqualTo(fx.abs()) && fx.abs().lessThan(accuracy)) {
            return x;
        }
        fx = nextFx;
        x = start;
        if (fx.isZero() ||
            c >= newtonIterations ||
            (fxx = calculate(derivate, x)).isZero())
            break;
        var start = start.sub(fx.div(fxx));
        c++;
    }
    return fx.abs().lessThan(accuracy) ? x : null;
}
exports.newtonIterate = newtonIterate;
function calculateDerivates(polynom) {
    var derivatesCount = polynom.length - 1;
    if (derivatesCount < 1)
        return [];
    var derivations = new Array(derivatesCount);
    derivations[0] = derivative(polynom);
    for (var c = 1; c < derivatesCount; c++) {
        derivations[c] = derivative(derivations[c - 1]);
    }
    return derivations;
}
exports.calculateDerivates = calculateDerivates;
function derivative(polynom) {
    var c = polynom.length - 1;
    var derivative = new Array(c);
    var degree = 1;
    while (c--) {
        derivative[c] = (polynom[c].mul(degree));
        degree++;
    }
    return derivative;
}
exports.derivative = derivative;
function calculate(polynom, x) {
    var sum = zero;
    var c = polynom.length;
    var degree = 0;
    while (c--) {
        sum = sum.add(polynom[c].mul(decimal_js_1.Decimal.pow(x, degree)));
        degree++;
    }
    return sum;
}
exports.calculate = calculate;
function mergeNeighbouringRoots(roots, accuracy) {
    var length = roots.length;
    var count = 0;
    for (var c = 0; c < length;) {
        var sum = zero;
        var startMerge = c;
        do {
            var value = roots[c];
            sum = sum.add(value);
            c++;
        } while ((c < length) && value.sub(roots[c]).abs().lessThan(accuracy));
        roots[count] = sum.div(c - startMerge);
        count++;
    }
    roots.length = count;
}
exports.mergeNeighbouringRoots = mergeNeighbouringRoots;
function isFunctionAscendingToTheRight(polynoms, x, accuracy = new decimal_js_1.Decimal(0.001)) {
    //find first non-zero derivation
    for (var f = 1; f < polynoms.length; f++) {
        var value = calculate(polynoms[f], x);
        if (!value.abs().lessThan(accuracy)) {
            return value.isPositive();
        }
    }
    return null;
}
exports.isFunctionAscendingToTheRight = isFunctionAscendingToTheRight;
function isFunctionAscendingToTheLeft(polynoms, x, accuracy = new decimal_js_1.Decimal(0.001)) {
    //find first non-zero derivation
    for (var f = 1; f < polynoms.length; f++) {
        var value = calculate(polynoms[f], x);
        if (!value.abs().lessThan(accuracy)) {
            return value.isPositive() == (f % 2 == 0);
        }
    }
    return null;
}
exports.isFunctionAscendingToTheLeft = isFunctionAscendingToTheLeft;
function multiplicate(polynom1, polynom2) {
    var arraySize = polynom1.length - 1 + polynom2.length;
    var p = new Array(arraySize).fill(zero);
    for (var p1 = 0; p1 < polynom1.length; p1++) {
        for (var p2 = 0; p2 < polynom2.length; p2++) {
            var targetDegree = p1 + p2;
            var sum2add = polynom1[p1].mul(polynom2[p2]);
            p[targetDegree] = p[targetDegree].add(sum2add);
        }
    }
    return p;
}
exports.multiplicate = multiplicate;
function generatePolynomFromRoots(...roots) {
    var p = [one];
    for (var c = 0; c < roots.length; c++) {
        p = multiplicate(p, [one, roots[c].neg()]);
    }
    return p;
}
exports.generatePolynomFromRoots = generatePolynomFromRoots;
function simplyfyPolynom(polynom) {
    var p = [];
    var first = null;
    var length = polynom.length;
    for (var c = 0; c < length; c++) {
        var value = polynom[c];
        if (!value.isZero()) {
            first = value;
            break;
        }
    }
    for (; c < length; c++) {
        var value = polynom[c];
        p.push(value.div(first));
    }
    return p;
}
exports.simplyfyPolynom = simplyfyPolynom;
function antiderivative(polynom) {
    var degree = polynom.length;
    var ad = new Array(degree + 1);
    var lastIndex = degree;
    for (var c = 0; c < lastIndex; c++) {
        ad[c] = polynom[c].div(degree);
        degree--;
    }
    ad[lastIndex] = zero;
    return ad;
}
exports.antiderivative = antiderivative;
function $(...arr) {
    return arr.map(p => { return new decimal_js_1.Decimal(p); });
}
exports.$ = $;
function toString(polynom, decimalPlaces) {
    var factor = decimal_js_1.Decimal.pow(10, decimalPlaces);
    var degree = polynom.length;
    var c = 0;
    var result = "";
    var f = 0;
    while (degree--) {
        var value = polynom[c];
        if (!value.isZero()) {
            if (value.isPositive()) {
                if (f)
                    result += "+";
            }
            else {
                result += "-";
            }
            var abs = value.abs();
            var showFactor = degree == 0 || !abs.equals(one);
            if (showFactor)
                result += abs.mul(factor).round().div(factor).toString();
            if (degree != 0) {
                result += (showFactor ? "*" : "") + "x";
            }
            if (degree > 1) {
                result += "^" + degree;
            }
            f++;
        }
        c++;
    }
    return result;
}
exports.toString = toString;
function solve(polynom, accuracy = new decimal_js_1.Decimal(0.001), newtonIterations = 64) {
    polynom = simplyfyPolynom(polynom);
    var degree = polynom.length - 1;
    if (degree <= 0)
        return null;
    var polynoms = calculateDerivates(polynom);
    polynoms.unshift(polynom);
    var c = degree;
    var firstDegreeDerivation = polynoms[polynoms.length - 2];
    var derivateZeros = [firstDegreeDerivation[1].neg().div(firstDegreeDerivation[0])];
    var results = [];
    results.unshift({ polynom: firstDegreeDerivation, zeros: derivateZeros });
    while (--c) {
        var fx = polynoms[c - 1];
        var fxx = polynoms[c];
        var roots = [];
        var intervals = getIntervalsInPolynom(...derivateZeros);
        for (var interval of intervals) {
            var root = newtonIterate(fx, fxx, interval.left, interval.right, interval.start, newtonIterations, accuracy);
            if (root == null)
                continue;
            if (interval.right.minus(root).abs().lessThan(accuracy))
                intervals.next();
            roots.push(root);
        }
        results.unshift({ polynom: fx, zeros: roots });
        derivateZeros = roots;
    }
    return results;
}
exports.solve = solve;
function* isolateRoots(polynoms, sortedDerivateZeros, accuracy = new decimal_js_1.Decimal(0.001)) {
    var left, right;
    var polynom = polynoms[0];
    var index = sortedDerivateZeros.length;
    if (index == 0) {
        yield { left: negativeInfinity, right: positiveInfinity, start: zero };
        return;
    }
    right = sortedDerivateZeros[0];
    var fxRight = calculate(polynom, right);
    if (fxRight.abs().lessThan(accuracy) || (fxRight.isNegative() == isFunctionAscendingToTheLeft(polynoms, right, accuracy))) {
        yield { left: negativeInfinity, right, start: right.sub(one) };
    }
    for (var i = 1; i < index; i++) {
        left = right;
        right = sortedDerivateZeros[i];
        if (left.greaterThanOrEqualTo(right))
            throw new Error();
        var fxLeft = fxRight;
        var fxRight = calculate(polynom, right);
        if (fxRight.abs().lessThan(accuracy) || fxLeft.abs().lessThan(accuracy) || fxLeft.isPositive() != fxRight.isPositive()) {
            yield { left, right, start: left.add(right).div(two) };
        }
    }
    if (fxRight.abs().lessThan(accuracy) || (fxRight.isNegative() == isFunctionAscendingToTheRight(polynoms, right, accuracy))) {
        yield { left: right, right: positiveInfinity, start: right.add(one) };
    }
}
exports.isolateRoots = isolateRoots;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./gui/presenter.ts");
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ3VpL2J1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxtQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGVBQWUsRUFBRTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxPQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGdEQUFnRCxLQUFLLE1BQU0sSUFBSTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixhQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxJQUFJO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixHQUFHO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5QkFBeUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVCQUF1QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUix1QkFBdUIsYUFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixJQUFJO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0E7QUFDQSx3QkFBd0IsTUFBTTtBQUM5QjtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixFQUFFO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGdEQUFnRCxLQUFLLE1BQU0sSUFBSTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsSUFBSTtBQUNyQjtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQSx3QkFBd0IsTUFBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx1QkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxpREFBaUQsR0FBRztBQUNwRCwrQ0FBK0MsR0FBRztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsSUFBSSxRQUFRLEdBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxtQ0FBbUMsR0FBRztBQUN0QyxxQ0FBcUMsR0FBRztBQUN4Qyw0Q0FBNEMsR0FBRztBQUMvQywwQ0FBMEMsR0FBRztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEJBQTBCO0FBQzFDO0FBQ0E7QUFDQSwyQkFBMkIsZ0NBQWdDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBbUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLElBQUk7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGNBQWM7QUFDNUM7QUFDQTtBQUNBLDhCQUE4QixTQUFTO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixTQUFTO0FBQ25DO0FBQ0Esb0NBQW9DLGNBQWM7QUFDbEQ7QUFDQTtBQUNBLHNDQUFzQyxTQUFTO0FBQy9DLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLGlCQUFpQixJQUFJO0FBQ3JCO0FBQ0EsVUFBVTtBQUNWLHdDQUF3QyxLQUFLO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsVUFBVTtBQUNWLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQjtBQUNBLDJCQUEyQiw0QkFBNEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVCQUF1QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsU0FBUztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0IsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0E7Ozs7O1dDekJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsR0FBRztXQUNIO1dBQ0E7V0FDQSxDQUFDOzs7OztXQ1BEO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7Ozs7O1VFSkE7VUFDQTtVQUNBO1VBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyLy4vbm9kZV9tb2R1bGVzL2RlY2ltYWwuanMvZGVjaW1hbC5qcyIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyLy4vbm9kZV9tb2R1bGVzL2pzeGdyYXBoL2Rpc3RyaWIvanN4Z3JhcGhjb3JlLmpzIiwid2VicGFjazovL3BvbHlub21pYWxzb2x2ZXIvLi9ndWkvY2hhcnR2aWV3LnRzIiwid2VicGFjazovL3BvbHlub21pYWxzb2x2ZXIvLi9ndWkvZnJhbWV3b3JrLnRzIiwid2VicGFjazovL3BvbHlub21pYWxzb2x2ZXIvLi9ndWkvcHJlc2VudGVyLnRzIiwid2VicGFjazovL3BvbHlub21pYWxzb2x2ZXIvLi9ndWkvdmlldy50cyIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyLy4vc3JjL3NvbHZlci50cyIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3BvbHlub21pYWxzb2x2ZXIvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyL3dlYnBhY2svcnVudGltZS9ub2RlIG1vZHVsZSBkZWNvcmF0b3IiLCJ3ZWJwYWNrOi8vcG9seW5vbWlhbHNvbHZlci93ZWJwYWNrL2JlZm9yZS1zdGFydHVwIiwid2VicGFjazovL3BvbHlub21pYWxzb2x2ZXIvd2VicGFjay9zdGFydHVwIiwid2VicGFjazovL3BvbHlub21pYWxzb2x2ZXIvd2VicGFjay9hZnRlci1zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIjsoZnVuY3Rpb24gKGdsb2JhbFNjb3BlKSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgZGVjaW1hbC5qcyB2MTAuMy4xXHJcbiAgICogIEFuIGFyYml0cmFyeS1wcmVjaXNpb24gRGVjaW1hbCB0eXBlIGZvciBKYXZhU2NyaXB0LlxyXG4gICAqICBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9kZWNpbWFsLmpzXHJcbiAgICogIENvcHlyaWdodCAoYykgMjAyMSBNaWNoYWVsIE1jbGF1Z2hsaW4gPE04Y2g4OGxAZ21haWwuY29tPlxyXG4gICAqICBNSVQgTGljZW5jZVxyXG4gICAqL1xyXG5cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gIEVESVRBQkxFIERFRkFVTFRTICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4gICAgLy8gVGhlIG1heGltdW0gZXhwb25lbnQgbWFnbml0dWRlLlxyXG4gICAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBgdG9FeHBOZWdgLCBgdG9FeHBQb3NgLCBgbWluRWAgYW5kIGBtYXhFYC5cclxuICB2YXIgRVhQX0xJTUlUID0gOWUxNSwgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5ZTE1XHJcblxyXG4gICAgLy8gVGhlIGxpbWl0IG9uIHRoZSB2YWx1ZSBvZiBgcHJlY2lzaW9uYCwgYW5kIG9uIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgYXJndW1lbnQgdG9cclxuICAgIC8vIGB0b0RlY2ltYWxQbGFjZXNgLCBgdG9FeHBvbmVudGlhbGAsIGB0b0ZpeGVkYCwgYHRvUHJlY2lzaW9uYCBhbmQgYHRvU2lnbmlmaWNhbnREaWdpdHNgLlxyXG4gICAgTUFYX0RJR0lUUyA9IDFlOSwgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDFlOVxyXG5cclxuICAgIC8vIEJhc2UgY29udmVyc2lvbiBhbHBoYWJldC5cclxuICAgIE5VTUVSQUxTID0gJzAxMjM0NTY3ODlhYmNkZWYnLFxyXG5cclxuICAgIC8vIFRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiAxMCAoMTAyNSBkaWdpdHMpLlxyXG4gICAgTE4xMCA9ICcyLjMwMjU4NTA5Mjk5NDA0NTY4NDAxNzk5MTQ1NDY4NDM2NDIwNzYwMTEwMTQ4ODYyODc3Mjk3NjAzMzMyNzkwMDk2NzU3MjYwOTY3NzM1MjQ4MDIzNTk5NzIwNTA4OTU5ODI5ODM0MTk2Nzc4NDA0MjI4NjI0ODYzMzQwOTUyNTQ2NTA4MjgwNjc1NjY2NjI4NzM2OTA5ODc4MTY4OTQ4MjkwNzIwODMyNTU1NDY4MDg0Mzc5OTg5NDgyNjIzMzE5ODUyODM5MzUwNTMwODk2NTM3NzczMjYyODg0NjE2MzM2NjIyMjI4NzY5ODIxOTg4Njc0NjU0MzY2NzQ3NDQwNDI0MzI3NDM2NTE1NTA0ODkzNDMxNDkzOTM5MTQ3OTYxOTQwNDQwMDIyMjEwNTEwMTcxNDE3NDgwMDM2ODgwODQwMTI2NDcwODA2ODU1Njc3NDMyMTYyMjgzNTUyMjAxMTQ4MDQ2NjM3MTU2NTkxMjEzNzM0NTA3NDc4NTY5NDc2ODM0NjM2MTY3OTIxMDE4MDY0NDUwNzA2NDgwMDAyNzc1MDI2ODQ5MTY3NDY1NTA1ODY4NTY5MzU2NzM0MjA2NzA1ODExMzY0MjkyMjQ1NTQ0MDU3NTg5MjU3MjQyMDgyNDEzMTQ2OTU2ODkwMTY3NTg5NDAyNTY3NzYzMTEzNTY5MTkyOTIwMzMzNzY1ODcxNDE2NjAyMzAxMDU3MDMwODk2MzQ1NzIwNzU0NDAzNzA4NDc0Njk5NDAxNjgyNjkyODI4MDg0ODExODQyODkzMTQ4NDg1MjQ5NDg2NDQ4NzE5Mjc4MDk2NzYyNzEyNzU3NzUzOTcwMjc2Njg2MDU5NTI0OTY3MTY2NzQxODM0ODU3MDQ0MjI1MDcxOTc5NjUwMDQ3MTQ5NTEwNTA0OTIyMTQ3NzY1Njc2MzY5Mzg2NjI5NzY5Nzk1MjIxMTA3MTgyNjQ1NDk3MzQ3NzI2NjI0MjU3MDk0MjkzMjI1ODI3OTg1MDI1ODU1MDk3ODUyNjUzODMyMDc2MDY3MjYzMTcxNjQzMDk1MDU5OTUwODc4MDc1MjM3MTAzMzMxMDExOTc4NTc1NDczMzE1NDE0MjE4MDg0Mjc1NDM4NjM1OTE3NzgxMTcwNTQzMDk4Mjc0ODIzODUwNDU2NDgwMTkwOTU2MTAyOTkyOTE4MjQzMTgyMzc1MjUzNTc3MDk3NTA1Mzk1NjUxODc2OTc1MTAzNzQ5NzA4ODg2OTIxODAyMDUxODkzMzk1MDcyMzg1MzkyMDUxNDQ2MzQxOTcyNjUyODcyODY5NjUxMTA4NjI1NzE0OTIxOTg4NDk5Nzg3NDg4NzM3NzEzNDU2ODYyMDkxNjcwNTgnLFxyXG5cclxuICAgIC8vIFBpICgxMDI1IGRpZ2l0cykuXHJcbiAgICBQSSA9ICczLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTUwMjg4NDE5NzE2OTM5OTM3NTEwNTgyMDk3NDk0NDU5MjMwNzgxNjQwNjI4NjIwODk5ODYyODAzNDgyNTM0MjExNzA2Nzk4MjE0ODA4NjUxMzI4MjMwNjY0NzA5Mzg0NDYwOTU1MDU4MjIzMTcyNTM1OTQwODEyODQ4MTExNzQ1MDI4NDEwMjcwMTkzODUyMTEwNTU1OTY0NDYyMjk0ODk1NDkzMDM4MTk2NDQyODgxMDk3NTY2NTkzMzQ0NjEyODQ3NTY0ODIzMzc4Njc4MzE2NTI3MTIwMTkwOTE0NTY0ODU2NjkyMzQ2MDM0ODYxMDQ1NDMyNjY0ODIxMzM5MzYwNzI2MDI0OTE0MTI3MzcyNDU4NzAwNjYwNjMxNTU4ODE3NDg4MTUyMDkyMDk2MjgyOTI1NDA5MTcxNTM2NDM2Nzg5MjU5MDM2MDAxMTMzMDUzMDU0ODgyMDQ2NjUyMTM4NDE0Njk1MTk0MTUxMTYwOTQzMzA1NzI3MDM2NTc1OTU5MTk1MzA5MjE4NjExNzM4MTkzMjYxMTc5MzEwNTExODU0ODA3NDQ2MjM3OTk2Mjc0OTU2NzM1MTg4NTc1MjcyNDg5MTIyNzkzODE4MzAxMTk0OTEyOTgzMzY3MzM2MjQ0MDY1NjY0MzA4NjAyMTM5NDk0NjM5NTIyNDczNzE5MDcwMjE3OTg2MDk0MzcwMjc3MDUzOTIxNzE3NjI5MzE3Njc1MjM4NDY3NDgxODQ2NzY2OTQwNTEzMjAwMDU2ODEyNzE0NTI2MzU2MDgyNzc4NTc3MTM0Mjc1Nzc4OTYwOTE3MzYzNzE3ODcyMTQ2ODQ0MDkwMTIyNDk1MzQzMDE0NjU0OTU4NTM3MTA1MDc5MjI3OTY4OTI1ODkyMzU0MjAxOTk1NjExMjEyOTAyMTk2MDg2NDAzNDQxODE1OTgxMzYyOTc3NDc3MTMwOTk2MDUxODcwNzIxMTM0OTk5OTk5ODM3Mjk3ODA0OTk1MTA1OTczMTczMjgxNjA5NjMxODU5NTAyNDQ1OTQ1NTM0NjkwODMwMjY0MjUyMjMwODI1MzM0NDY4NTAzNTI2MTkzMTE4ODE3MTAxMDAwMzEzNzgzODc1Mjg4NjU4NzUzMzIwODM4MTQyMDYxNzE3NzY2OTE0NzMwMzU5ODI1MzQ5MDQyODc1NTQ2ODczMTE1OTU2Mjg2Mzg4MjM1Mzc4NzU5Mzc1MTk1Nzc4MTg1Nzc4MDUzMjE3MTIyNjgwNjYxMzAwMTkyNzg3NjYxMTE5NTkwOTIxNjQyMDE5ODkzODA5NTI1NzIwMTA2NTQ4NTg2MzI3ODknLFxyXG5cclxuXHJcbiAgICAvLyBUaGUgaW5pdGlhbCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMgb2YgdGhlIERlY2ltYWwgY29uc3RydWN0b3IuXHJcbiAgICBERUZBVUxUUyA9IHtcclxuXHJcbiAgICAgIC8vIFRoZXNlIHZhbHVlcyBtdXN0IGJlIGludGVnZXJzIHdpdGhpbiB0aGUgc3RhdGVkIHJhbmdlcyAoaW5jbHVzaXZlKS5cclxuICAgICAgLy8gTW9zdCBvZiB0aGVzZSB2YWx1ZXMgY2FuIGJlIGNoYW5nZWQgYXQgcnVuLXRpbWUgdXNpbmcgdGhlIGBEZWNpbWFsLmNvbmZpZ2AgbWV0aG9kLlxyXG5cclxuICAgICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgcmVzdWx0IG9mIGEgY2FsY3VsYXRpb24gb3IgYmFzZSBjb252ZXJzaW9uLlxyXG4gICAgICAvLyBFLmcuIGBEZWNpbWFsLmNvbmZpZyh7IHByZWNpc2lvbjogMjAgfSk7YFxyXG4gICAgICBwcmVjaXNpb246IDIwLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIE1BWF9ESUdJVFNcclxuXHJcbiAgICAgIC8vIFRoZSByb3VuZGluZyBtb2RlIHVzZWQgd2hlbiByb3VuZGluZyB0byBgcHJlY2lzaW9uYC5cclxuICAgICAgLy9cclxuICAgICAgLy8gUk9VTkRfVVAgICAgICAgICAwIEF3YXkgZnJvbSB6ZXJvLlxyXG4gICAgICAvLyBST1VORF9ET1dOICAgICAgIDEgVG93YXJkcyB6ZXJvLlxyXG4gICAgICAvLyBST1VORF9DRUlMICAgICAgIDIgVG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAgIC8vIFJPVU5EX0ZMT09SICAgICAgMyBUb3dhcmRzIC1JbmZpbml0eS5cclxuICAgICAgLy8gUk9VTkRfSEFMRl9VUCAgICA0IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB1cC5cclxuICAgICAgLy8gUk9VTkRfSEFMRl9ET1dOICA1IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCBkb3duLlxyXG4gICAgICAvLyBST1VORF9IQUxGX0VWRU4gIDYgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgZXZlbiBuZWlnaGJvdXIuXHJcbiAgICAgIC8vIFJPVU5EX0hBTEZfQ0VJTCAgNyBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyArSW5maW5pdHkuXHJcbiAgICAgIC8vIFJPVU5EX0hBTEZfRkxPT1IgOCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIEUuZy5cclxuICAgICAgLy8gYERlY2ltYWwucm91bmRpbmcgPSA0O2BcclxuICAgICAgLy8gYERlY2ltYWwucm91bmRpbmcgPSBEZWNpbWFsLlJPVU5EX0hBTEZfVVA7YFxyXG4gICAgICByb3VuZGluZzogNCwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDhcclxuXHJcbiAgICAgIC8vIFRoZSBtb2R1bG8gbW9kZSB1c2VkIHdoZW4gY2FsY3VsYXRpbmcgdGhlIG1vZHVsdXM6IGEgbW9kIG4uXHJcbiAgICAgIC8vIFRoZSBxdW90aWVudCAocSA9IGEgLyBuKSBpcyBjYWxjdWxhdGVkIGFjY29yZGluZyB0byB0aGUgY29ycmVzcG9uZGluZyByb3VuZGluZyBtb2RlLlxyXG4gICAgICAvLyBUaGUgcmVtYWluZGVyIChyKSBpcyBjYWxjdWxhdGVkIGFzOiByID0gYSAtIG4gKiBxLlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBVUCAgICAgICAgIDAgVGhlIHJlbWFpbmRlciBpcyBwb3NpdGl2ZSBpZiB0aGUgZGl2aWRlbmQgaXMgbmVnYXRpdmUsIGVsc2UgaXMgbmVnYXRpdmUuXHJcbiAgICAgIC8vIERPV04gICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZCAoSmF2YVNjcmlwdCAlKS5cclxuICAgICAgLy8gRkxPT1IgICAgICAzIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3IgKFB5dGhvbiAlKS5cclxuICAgICAgLy8gSEFMRl9FVkVOICA2IFRoZSBJRUVFIDc1NCByZW1haW5kZXIgZnVuY3Rpb24uXHJcbiAgICAgIC8vIEVVQ0xJRCAgICAgOSBFdWNsaWRpYW4gZGl2aXNpb24uIHEgPSBzaWduKG4pICogZmxvb3IoYSAvIGFicyhuKSkuIEFsd2F5cyBwb3NpdGl2ZS5cclxuICAgICAgLy9cclxuICAgICAgLy8gVHJ1bmNhdGVkIGRpdmlzaW9uICgxKSwgZmxvb3JlZCBkaXZpc2lvbiAoMyksIHRoZSBJRUVFIDc1NCByZW1haW5kZXIgKDYpLCBhbmQgRXVjbGlkaWFuXHJcbiAgICAgIC8vIGRpdmlzaW9uICg5KSBhcmUgY29tbW9ubHkgdXNlZCBmb3IgdGhlIG1vZHVsdXMgb3BlcmF0aW9uLiBUaGUgb3RoZXIgcm91bmRpbmcgbW9kZXMgY2FuIGFsc29cclxuICAgICAgLy8gYmUgdXNlZCwgYnV0IHRoZXkgbWF5IG5vdCBnaXZlIHVzZWZ1bCByZXN1bHRzLlxyXG4gICAgICBtb2R1bG86IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDlcclxuXHJcbiAgICAgIC8vIFRoZSBleHBvbmVudCB2YWx1ZSBhdCBhbmQgYmVuZWF0aCB3aGljaCBgdG9TdHJpbmdgIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogLTdcclxuICAgICAgdG9FeHBOZWc6IC03LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byAtRVhQX0xJTUlUXHJcblxyXG4gICAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGFib3ZlIHdoaWNoIGB0b1N0cmluZ2AgcmV0dXJucyBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAyMVxyXG4gICAgICB0b0V4cFBvczogIDIxLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIEVYUF9MSU1JVFxyXG5cclxuICAgICAgLy8gVGhlIG1pbmltdW0gZXhwb25lbnQgdmFsdWUsIGJlbmVhdGggd2hpY2ggdW5kZXJmbG93IHRvIHplcm8gb2NjdXJzLlxyXG4gICAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IC0zMjQgICg1ZS0zMjQpXHJcbiAgICAgIG1pbkU6IC1FWFBfTElNSVQsICAgICAgICAgICAgICAgICAgICAgIC8vIC0xIHRvIC1FWFBfTElNSVRcclxuXHJcbiAgICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IHZhbHVlLCBhYm92ZSB3aGljaCBvdmVyZmxvdyB0byBJbmZpbml0eSBvY2N1cnMuXHJcbiAgICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogMzA4ICAoMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpXHJcbiAgICAgIG1heEU6IEVYUF9MSU1JVCwgICAgICAgICAgICAgICAgICAgICAgIC8vIDEgdG8gRVhQX0xJTUlUXHJcblxyXG4gICAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXHJcbiAgICAgIGNyeXB0bzogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUvZmFsc2VcclxuICAgIH0sXHJcblxyXG5cclxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgT0YgRURJVEFCTEUgREVGQVVMVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuXHJcbiAgICBEZWNpbWFsLCBpbmV4YWN0LCBub0NvbmZsaWN0LCBxdWFkcmFudCxcclxuICAgIGV4dGVybmFsID0gdHJ1ZSxcclxuXHJcbiAgICBkZWNpbWFsRXJyb3IgPSAnW0RlY2ltYWxFcnJvcl0gJyxcclxuICAgIGludmFsaWRBcmd1bWVudCA9IGRlY2ltYWxFcnJvciArICdJbnZhbGlkIGFyZ3VtZW50OiAnLFxyXG4gICAgcHJlY2lzaW9uTGltaXRFeGNlZWRlZCA9IGRlY2ltYWxFcnJvciArICdQcmVjaXNpb24gbGltaXQgZXhjZWVkZWQnLFxyXG4gICAgY3J5cHRvVW5hdmFpbGFibGUgPSBkZWNpbWFsRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyxcclxuICAgIHRhZyA9ICdbb2JqZWN0IERlY2ltYWxdJyxcclxuXHJcbiAgICBtYXRoZmxvb3IgPSBNYXRoLmZsb29yLFxyXG4gICAgbWF0aHBvdyA9IE1hdGgucG93LFxyXG5cclxuICAgIGlzQmluYXJ5ID0gL14wYihbMDFdKyhcXC5bMDFdKik/fFxcLlswMV0rKShwWystXT9cXGQrKT8kL2ksXHJcbiAgICBpc0hleCA9IC9eMHgoWzAtOWEtZl0rKFxcLlswLTlhLWZdKik/fFxcLlswLTlhLWZdKykocFsrLV0/XFxkKyk/JC9pLFxyXG4gICAgaXNPY3RhbCA9IC9eMG8oWzAtN10rKFxcLlswLTddKik/fFxcLlswLTddKykocFsrLV0/XFxkKyk/JC9pLFxyXG4gICAgaXNEZWNpbWFsID0gL14oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pLFxyXG5cclxuICAgIEJBU0UgPSAxZTcsXHJcbiAgICBMT0dfQkFTRSA9IDcsXHJcbiAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MSxcclxuXHJcbiAgICBMTjEwX1BSRUNJU0lPTiA9IExOMTAubGVuZ3RoIC0gMSxcclxuICAgIFBJX1BSRUNJU0lPTiA9IFBJLmxlbmd0aCAtIDEsXHJcblxyXG4gICAgLy8gRGVjaW1hbC5wcm90b3R5cGUgb2JqZWN0XHJcbiAgICBQID0geyB0b1N0cmluZ1RhZzogdGFnIH07XHJcblxyXG5cclxuICAvLyBEZWNpbWFsIHByb3RvdHlwZSBtZXRob2RzXHJcblxyXG5cclxuICAvKlxyXG4gICAqICBhYnNvbHV0ZVZhbHVlICAgICAgICAgICAgIGFic1xyXG4gICAqICBjZWlsXHJcbiAgICogIGNsYW1wZWRUbyAgICAgICAgICAgICAgICAgY2xhbXBcclxuICAgKiAgY29tcGFyZWRUbyAgICAgICAgICAgICAgICBjbXBcclxuICAgKiAgY29zaW5lICAgICAgICAgICAgICAgICAgICBjb3NcclxuICAgKiAgY3ViZVJvb3QgICAgICAgICAgICAgICAgICBjYnJ0XHJcbiAgICogIGRlY2ltYWxQbGFjZXMgICAgICAgICAgICAgZHBcclxuICAgKiAgZGl2aWRlZEJ5ICAgICAgICAgICAgICAgICBkaXZcclxuICAgKiAgZGl2aWRlZFRvSW50ZWdlckJ5ICAgICAgICBkaXZUb0ludFxyXG4gICAqICBlcXVhbHMgICAgICAgICAgICAgICAgICAgIGVxXHJcbiAgICogIGZsb29yXHJcbiAgICogIGdyZWF0ZXJUaGFuICAgICAgICAgICAgICAgZ3RcclxuICAgKiAgZ3JlYXRlclRoYW5PckVxdWFsVG8gICAgICBndGVcclxuICAgKiAgaHlwZXJib2xpY0Nvc2luZSAgICAgICAgICBjb3NoXHJcbiAgICogIGh5cGVyYm9saWNTaW5lICAgICAgICAgICAgc2luaFxyXG4gICAqICBoeXBlcmJvbGljVGFuZ2VudCAgICAgICAgIHRhbmhcclxuICAgKiAgaW52ZXJzZUNvc2luZSAgICAgICAgICAgICBhY29zXHJcbiAgICogIGludmVyc2VIeXBlcmJvbGljQ29zaW5lICAgYWNvc2hcclxuICAgKiAgaW52ZXJzZUh5cGVyYm9saWNTaW5lICAgICBhc2luaFxyXG4gICAqICBpbnZlcnNlSHlwZXJib2xpY1RhbmdlbnQgIGF0YW5oXHJcbiAgICogIGludmVyc2VTaW5lICAgICAgICAgICAgICAgYXNpblxyXG4gICAqICBpbnZlcnNlVGFuZ2VudCAgICAgICAgICAgIGF0YW5cclxuICAgKiAgaXNGaW5pdGVcclxuICAgKiAgaXNJbnRlZ2VyICAgICAgICAgICAgICAgICBpc0ludFxyXG4gICAqICBpc05hTlxyXG4gICAqICBpc05lZ2F0aXZlICAgICAgICAgICAgICAgIGlzTmVnXHJcbiAgICogIGlzUG9zaXRpdmUgICAgICAgICAgICAgICAgaXNQb3NcclxuICAgKiAgaXNaZXJvXHJcbiAgICogIGxlc3NUaGFuICAgICAgICAgICAgICAgICAgbHRcclxuICAgKiAgbGVzc1RoYW5PckVxdWFsVG8gICAgICAgICBsdGVcclxuICAgKiAgbG9nYXJpdGhtICAgICAgICAgICAgICAgICBsb2dcclxuICAgKiAgW21heGltdW1dICAgICAgICAgICAgICAgICBbbWF4XVxyXG4gICAqICBbbWluaW11bV0gICAgICAgICAgICAgICAgIFttaW5dXHJcbiAgICogIG1pbnVzICAgICAgICAgICAgICAgICAgICAgc3ViXHJcbiAgICogIG1vZHVsbyAgICAgICAgICAgICAgICAgICAgbW9kXHJcbiAgICogIG5hdHVyYWxFeHBvbmVudGlhbCAgICAgICAgZXhwXHJcbiAgICogIG5hdHVyYWxMb2dhcml0aG0gICAgICAgICAgbG5cclxuICAgKiAgbmVnYXRlZCAgICAgICAgICAgICAgICAgICBuZWdcclxuICAgKiAgcGx1cyAgICAgICAgICAgICAgICAgICAgICBhZGRcclxuICAgKiAgcHJlY2lzaW9uICAgICAgICAgICAgICAgICBzZFxyXG4gICAqICByb3VuZFxyXG4gICAqICBzaW5lICAgICAgICAgICAgICAgICAgICAgIHNpblxyXG4gICAqICBzcXVhcmVSb290ICAgICAgICAgICAgICAgIHNxcnRcclxuICAgKiAgdGFuZ2VudCAgICAgICAgICAgICAgICAgICB0YW5cclxuICAgKiAgdGltZXMgICAgICAgICAgICAgICAgICAgICBtdWxcclxuICAgKiAgdG9CaW5hcnlcclxuICAgKiAgdG9EZWNpbWFsUGxhY2VzICAgICAgICAgICB0b0RQXHJcbiAgICogIHRvRXhwb25lbnRpYWxcclxuICAgKiAgdG9GaXhlZFxyXG4gICAqICB0b0ZyYWN0aW9uXHJcbiAgICogIHRvSGV4YWRlY2ltYWwgICAgICAgICAgICAgdG9IZXhcclxuICAgKiAgdG9OZWFyZXN0XHJcbiAgICogIHRvTnVtYmVyXHJcbiAgICogIHRvT2N0YWxcclxuICAgKiAgdG9Qb3dlciAgICAgICAgICAgICAgICAgICBwb3dcclxuICAgKiAgdG9QcmVjaXNpb25cclxuICAgKiAgdG9TaWduaWZpY2FudERpZ2l0cyAgICAgICB0b1NEXHJcbiAgICogIHRvU3RyaW5nXHJcbiAgICogIHRydW5jYXRlZCAgICAgICAgICAgICAgICAgdHJ1bmNcclxuICAgKiAgdmFsdWVPZiAgICAgICAgICAgICAgICAgICB0b0pTT05cclxuICAgKi9cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuYWJzb2x1dGVWYWx1ZSA9IFAuYWJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICAgIGlmICh4LnMgPCAwKSB4LnMgPSAxO1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHgpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIHdob2xlIG51bWJlciBpbiB0aGVcclxuICAgKiBkaXJlY3Rpb24gb2YgcG9zaXRpdmUgSW5maW5pdHkuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmNlaWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gZmluYWxpc2UobmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyksIHRoaXMuZSArIDEsIDIpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgY2xhbXBlZCB0byB0aGUgcmFuZ2VcclxuICAgKiBkZWxpbmVhdGVkIGJ5IGBtaW5gIGFuZCBgbWF4YC5cclxuICAgKlxyXG4gICAqIG1pbiB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqIG1heCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5jbGFtcGVkVG8gPSBQLmNsYW1wID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7XHJcbiAgICB2YXIgayxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG4gICAgbWluID0gbmV3IEN0b3IobWluKTtcclxuICAgIG1heCA9IG5ldyBDdG9yKG1heCk7XHJcbiAgICBpZiAoIW1pbi5zIHx8ICFtYXgucykgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgICBpZiAobWluLmd0KG1heCkpIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIG1heCk7XHJcbiAgICBrID0geC5jbXAobWluKTtcclxuICAgIHJldHVybiBrIDwgMCA/IG1pbiA6IHguY21wKG1heCkgPiAwID8gbWF4IDogbmV3IEN0b3IoeCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuXHJcbiAgICogICAxICAgIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAgICogIC0xICAgIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAgICogICAwICAgIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSB2YWx1ZSxcclxuICAgKiAgIE5hTiAgaWYgdGhlIHZhbHVlIG9mIGVpdGhlciBEZWNpbWFsIGlzIE5hTi5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuY29tcGFyZWRUbyA9IFAuY21wID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHZhciBpLCBqLCB4ZEwsIHlkTCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIHhkID0geC5kLFxyXG4gICAgICB5ZCA9ICh5ID0gbmV3IHguY29uc3RydWN0b3IoeSkpLmQsXHJcbiAgICAgIHhzID0geC5zLFxyXG4gICAgICB5cyA9IHkucztcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOIG9yIMKxSW5maW5pdHk/XHJcbiAgICBpZiAoIXhkIHx8ICF5ZCkge1xyXG4gICAgICByZXR1cm4gIXhzIHx8ICF5cyA/IE5hTiA6IHhzICE9PSB5cyA/IHhzIDogeGQgPT09IHlkID8gMCA6ICF4ZCBeIHhzIDwgMCA/IDEgOiAtMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFaXRoZXIgemVybz9cclxuICAgIGlmICgheGRbMF0gfHwgIXlkWzBdKSByZXR1cm4geGRbMF0gPyB4cyA6IHlkWzBdID8gLXlzIDogMDtcclxuXHJcbiAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICBpZiAoeHMgIT09IHlzKSByZXR1cm4geHM7XHJcblxyXG4gICAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgICBpZiAoeC5lICE9PSB5LmUpIHJldHVybiB4LmUgPiB5LmUgXiB4cyA8IDAgPyAxIDogLTE7XHJcblxyXG4gICAgeGRMID0geGQubGVuZ3RoO1xyXG4gICAgeWRMID0geWQubGVuZ3RoO1xyXG5cclxuICAgIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXHJcbiAgICBmb3IgKGkgPSAwLCBqID0geGRMIDwgeWRMID8geGRMIDogeWRMOyBpIDwgajsgKytpKSB7XHJcbiAgICAgIGlmICh4ZFtpXSAhPT0geWRbaV0pIHJldHVybiB4ZFtpXSA+IHlkW2ldIF4geHMgPCAwID8gMSA6IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXBhcmUgbGVuZ3Rocy5cclxuICAgIHJldHVybiB4ZEwgPT09IHlkTCA/IDAgOiB4ZEwgPiB5ZEwgXiB4cyA8IDAgPyAxIDogLTE7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGNvc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbLTEsIDFdXHJcbiAgICpcclxuICAgKiBjb3MoMCkgICAgICAgICA9IDFcclxuICAgKiBjb3MoLTApICAgICAgICA9IDFcclxuICAgKiBjb3MoSW5maW5pdHkpICA9IE5hTlxyXG4gICAqIGNvcygtSW5maW5pdHkpID0gTmFOXHJcbiAgICogY29zKE5hTikgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuY29zaW5lID0gUC5jb3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcHIsIHJtLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKCF4LmQpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIC8vIGNvcygwKSA9IGNvcygtMCkgPSAxXHJcbiAgICBpZiAoIXguZFswXSkgcmV0dXJuIG5ldyBDdG9yKDEpO1xyXG5cclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgTE9HX0JBU0U7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgICB4ID0gY29zaW5lKEN0b3IsIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkpO1xyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHF1YWRyYW50ID09IDIgfHwgcXVhZHJhbnQgPT0gMyA/IHgubmVnKCkgOiB4LCBwciwgcm0sIHRydWUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGN1YmUgcm9vdCBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvXHJcbiAgICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqICBjYnJ0KDApICA9ICAwXHJcbiAgICogIGNicnQoLTApID0gLTBcclxuICAgKiAgY2JydCgxKSAgPSAgMVxyXG4gICAqICBjYnJ0KC0xKSA9IC0xXHJcbiAgICogIGNicnQoTikgID0gIE5cclxuICAgKiAgY2JydCgtSSkgPSAtSVxyXG4gICAqICBjYnJ0KEkpICA9ICBJXHJcbiAgICpcclxuICAgKiBNYXRoLmNicnQoeCkgPSAoeCA8IDAgPyAtTWF0aC5wb3coLXgsIDEvMykgOiBNYXRoLnBvdyh4LCAxLzMpKVxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5jdWJlUm9vdCA9IFAuY2JydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlLCBtLCBuLCByLCByZXAsIHMsIHNkLCB0LCB0MywgdDNwbHVzeCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpIHx8IHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gICAgLy8gSW5pdGlhbCBlc3RpbWF0ZS5cclxuICAgIHMgPSB4LnMgKiBtYXRocG93KHgucyAqIHgsIDEgLyAzKTtcclxuXHJcbiAgICAgLy8gTWF0aC5jYnJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAgICAvLyBQYXNzIHggdG8gTWF0aC5wb3cgYXMgaW50ZWdlciwgdGhlbiBhZGp1c3QgdGhlIGV4cG9uZW50IG9mIHRoZSByZXN1bHQuXHJcbiAgICBpZiAoIXMgfHwgTWF0aC5hYnMocykgPT0gMSAvIDApIHtcclxuICAgICAgbiA9IGRpZ2l0c1RvU3RyaW5nKHguZCk7XHJcbiAgICAgIGUgPSB4LmU7XHJcblxyXG4gICAgICAvLyBBZGp1c3QgbiBleHBvbmVudCBzbyBpdCBpcyBhIG11bHRpcGxlIG9mIDMgYXdheSBmcm9tIHggZXhwb25lbnQuXHJcbiAgICAgIGlmIChzID0gKGUgLSBuLmxlbmd0aCArIDEpICUgMykgbiArPSAocyA9PSAxIHx8IHMgPT0gLTIgPyAnMCcgOiAnMDAnKTtcclxuICAgICAgcyA9IG1hdGhwb3cobiwgMSAvIDMpO1xyXG5cclxuICAgICAgLy8gUmFyZWx5LCBlIG1heSBiZSBvbmUgbGVzcyB0aGFuIHRoZSByZXN1bHQgZXhwb25lbnQgdmFsdWUuXHJcbiAgICAgIGUgPSBtYXRoZmxvb3IoKGUgKyAxKSAvIDMpIC0gKGUgJSAzID09IChlIDwgMCA/IC0xIDogMikpO1xyXG5cclxuICAgICAgaWYgKHMgPT0gMSAvIDApIHtcclxuICAgICAgICBuID0gJzVlJyArIGU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbiA9IHMudG9FeHBvbmVudGlhbCgpO1xyXG4gICAgICAgIG4gPSBuLnNsaWNlKDAsIG4uaW5kZXhPZignZScpICsgMSkgKyBlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByID0gbmV3IEN0b3Iobik7XHJcbiAgICAgIHIucyA9IHgucztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHIgPSBuZXcgQ3RvcihzLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNkID0gKGUgPSBDdG9yLnByZWNpc2lvbikgKyAzO1xyXG5cclxuICAgIC8vIEhhbGxleSdzIG1ldGhvZC5cclxuICAgIC8vIFRPRE8/IENvbXBhcmUgTmV3dG9uJ3MgbWV0aG9kLlxyXG4gICAgZm9yICg7Oykge1xyXG4gICAgICB0ID0gcjtcclxuICAgICAgdDMgPSB0LnRpbWVzKHQpLnRpbWVzKHQpO1xyXG4gICAgICB0M3BsdXN4ID0gdDMucGx1cyh4KTtcclxuICAgICAgciA9IGRpdmlkZSh0M3BsdXN4LnBsdXMoeCkudGltZXModCksIHQzcGx1c3gucGx1cyh0MyksIHNkICsgMiwgMSk7XHJcblxyXG4gICAgICAvLyBUT0RPPyBSZXBsYWNlIHdpdGggZm9yLWxvb3AgYW5kIGNoZWNrUm91bmRpbmdEaWdpdHMuXHJcbiAgICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHNkKSA9PT0gKG4gPSBkaWdpdHNUb1N0cmluZyhyLmQpKS5zbGljZSgwLCBzZCkpIHtcclxuICAgICAgICBuID0gbi5zbGljZShzZCAtIDMsIHNkICsgMSk7XHJcblxyXG4gICAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgOTk5OSBvciA0OTk5XHJcbiAgICAgICAgLy8gLCBpLmUuIGFwcHJvYWNoaW5nIGEgcm91bmRpbmcgYm91bmRhcnksIGNvbnRpbnVlIHRoZSBpdGVyYXRpb24uXHJcbiAgICAgICAgaWYgKG4gPT0gJzk5OTknIHx8ICFyZXAgJiYgbiA9PSAnNDk5OScpIHtcclxuXHJcbiAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGUgZXhhY3QgcmVzdWx0IGFzIHRoZVxyXG4gICAgICAgICAgLy8gbmluZXMgbWF5IGluZmluaXRlbHkgcmVwZWF0LlxyXG4gICAgICAgICAgaWYgKCFyZXApIHtcclxuICAgICAgICAgICAgZmluYWxpc2UodCwgZSArIDEsIDApO1xyXG5cclxuICAgICAgICAgICAgaWYgKHQudGltZXModCkudGltZXModCkuZXEoeCkpIHtcclxuICAgICAgICAgICAgICByID0gdDtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNkICs9IDQ7XHJcbiAgICAgICAgICByZXAgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhlIHJvdW5kaW5nIGRpZ2l0cyBhcmUgbnVsbCwgMHswLDR9IG9yIDUwezAsM30sIGNoZWNrIGZvciBhbiBleGFjdCByZXN1bHQuXHJcbiAgICAgICAgICAvLyBJZiBub3QsIHRoZW4gdGhlcmUgYXJlIGZ1cnRoZXIgZGlnaXRzIGFuZCBtIHdpbGwgYmUgdHJ1dGh5LlxyXG4gICAgICAgICAgaWYgKCErbiB8fCAhK24uc2xpY2UoMSkgJiYgbi5jaGFyQXQoMCkgPT0gJzUnKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgICAgIGZpbmFsaXNlKHIsIGUgKyAxLCAxKTtcclxuICAgICAgICAgICAgbSA9ICFyLnRpbWVzKHIpLnRpbWVzKHIpLmVxKHgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UociwgZSwgQ3Rvci5yb3VuZGluZywgbSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdyxcclxuICAgICAgZCA9IHRoaXMuZCxcclxuICAgICAgbiA9IE5hTjtcclxuXHJcbiAgICBpZiAoZCkge1xyXG4gICAgICB3ID0gZC5sZW5ndGggLSAxO1xyXG4gICAgICBuID0gKHcgLSBtYXRoZmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpKSAqIExPR19CQVNFO1xyXG5cclxuICAgICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCB3b3JkLlxyXG4gICAgICB3ID0gZFt3XTtcclxuICAgICAgaWYgKHcpIGZvciAoOyB3ICUgMTAgPT0gMDsgdyAvPSAxMCkgbi0tO1xyXG4gICAgICBpZiAobiA8IDApIG4gPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuIC8gMCA9IElcclxuICAgKiAgbiAvIE4gPSBOXHJcbiAgICogIG4gLyBJID0gMFxyXG4gICAqICAwIC8gbiA9IDBcclxuICAgKiAgMCAvIDAgPSBOXHJcbiAgICogIDAgLyBOID0gTlxyXG4gICAqICAwIC8gSSA9IDBcclxuICAgKiAgTiAvIG4gPSBOXHJcbiAgICogIE4gLyAwID0gTlxyXG4gICAqICBOIC8gTiA9IE5cclxuICAgKiAgTiAvIEkgPSBOXHJcbiAgICogIEkgLyBuID0gSVxyXG4gICAqICBJIC8gMCA9IElcclxuICAgKiAgSSAvIE4gPSBOXHJcbiAgICogIEkgLyBJID0gTlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBkaXZpZGVkIGJ5IGB5YCwgcm91bmRlZCB0b1xyXG4gICAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmRpdmlkZWRCeSA9IFAuZGl2ID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHJldHVybiBkaXZpZGUodGhpcywgbmV3IHRoaXMuY29uc3RydWN0b3IoeSkpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbFxyXG4gICAqIGJ5IHRoZSB2YWx1ZSBvZiBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuZGl2aWRlZFRvSW50ZWdlckJ5ID0gUC5kaXZUb0ludCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICB2YXIgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKGRpdmlkZSh4LCBuZXcgQ3Rvcih5KSwgMCwgMSwgMSksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBgeWAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmVxdWFscyA9IFAuZXEgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgcmV0dXJuIHRoaXMuY21wKHkpID09PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIHdob2xlIG51bWJlciBpbiB0aGVcclxuICAgKiBkaXJlY3Rpb24gb2YgbmVnYXRpdmUgSW5maW5pdHkuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmZsb29yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAzKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLCBvdGhlcndpc2UgcmV0dXJuXHJcbiAgICogZmFsc2UuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmdyZWF0ZXJUaGFuID0gUC5ndCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAoeSkgPiAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiBgeWAsXHJcbiAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuZ3JlYXRlclRoYW5PckVxdWFsVG8gPSBQLmd0ZSA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICB2YXIgayA9IHRoaXMuY21wKHkpO1xyXG4gICAgcmV0dXJuIGsgPT0gMSB8fCBrID09PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAgICogRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICogUmFuZ2U6IFsxLCBJbmZpbml0eV1cclxuICAgKlxyXG4gICAqIGNvc2goeCkgPSAxICsgeF4yLzIhICsgeF40LzQhICsgeF42LzYhICsgLi4uXHJcbiAgICpcclxuICAgKiBjb3NoKDApICAgICAgICAgPSAxXHJcbiAgICogY29zaCgtMCkgICAgICAgID0gMVxyXG4gICAqIGNvc2goSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAgICogY29zaCgtSW5maW5pdHkpID0gSW5maW5pdHlcclxuICAgKiBjb3NoKE5hTikgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqICB4ICAgICAgICB0aW1lIHRha2VuIChtcykgICByZXN1bHRcclxuICAgKiAxMDAwICAgICAgOSAgICAgICAgICAgICAgICAgOS44NTAzNTU1NzAwODUyMzQ5Njk0ZSs0MzNcclxuICAgKiAxMDAwMCAgICAgMjUgICAgICAgICAgICAgICAgNC40MDM0MDkxMTI4MzE0NjA3OTM2ZSs0MzQyXHJcbiAgICogMTAwMDAwICAgIDE3MSAgICAgICAgICAgICAgIDEuNDAzMzMxNjgwMjEzMDYxNTg5N2UrNDM0MjlcclxuICAgKiAxMDAwMDAwICAgMzgxNyAgICAgICAgICAgICAgMS41MTY2MDc2OTg0MDEwNDM3NzI1ZSs0MzQyOTRcclxuICAgKiAxMDAwMDAwMCAgYWJhbmRvbmVkIGFmdGVyIDIgbWludXRlIHdhaXRcclxuICAgKlxyXG4gICAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2YgY29zaCh4KSA9IDAuNSAqIChleHAoeCkgKyBleHAoLXgpKVxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5oeXBlcmJvbGljQ29zaW5lID0gUC5jb3NoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGssIG4sIHByLCBybSwgbGVuLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIG9uZSA9IG5ldyBDdG9yKDEpO1xyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoeC5zID8gMSAvIDAgOiBOYU4pO1xyXG4gICAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBvbmU7XHJcblxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyA0O1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogY29zKDR4KSA9IDEgLSA4Y29zXjIoeCkgKyA4Y29zXjQoeCkgKyAxXHJcbiAgICAvLyBpLmUuIGNvcyh4KSA9IDEgLSBjb3NeMih4LzQpKDggLSA4Y29zXjIoeC80KSlcclxuXHJcbiAgICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICAvLyBUT0RPPyBFc3RpbWF0aW9uIHJldXNlZCBmcm9tIGNvc2luZSgpIGFuZCBtYXkgbm90IGJlIG9wdGltYWwgaGVyZS5cclxuICAgIGlmIChsZW4gPCAzMikge1xyXG4gICAgICBrID0gTWF0aC5jZWlsKGxlbiAvIDMpO1xyXG4gICAgICBuID0gKDEgLyB0aW55UG93KDQsIGspKS50b1N0cmluZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgayA9IDE2O1xyXG4gICAgICBuID0gJzIuMzI4MzA2NDM2NTM4Njk2Mjg5MDYyNWUtMTAnO1xyXG4gICAgfVxyXG5cclxuICAgIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMSwgeC50aW1lcyhuKSwgbmV3IEN0b3IoMSksIHRydWUpO1xyXG5cclxuICAgIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgICB2YXIgY29zaDJfeCxcclxuICAgICAgaSA9IGssXHJcbiAgICAgIGQ4ID0gbmV3IEN0b3IoOCk7XHJcbiAgICBmb3IgKDsgaS0tOykge1xyXG4gICAgICBjb3NoMl94ID0geC50aW1lcyh4KTtcclxuICAgICAgeCA9IG9uZS5taW51cyhjb3NoMl94LnRpbWVzKGQ4Lm1pbnVzKGNvc2gyX3gudGltZXMoZDgpKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmaW5hbGlzZSh4LCBDdG9yLnByZWNpc2lvbiA9IHByLCBDdG9yLnJvdW5kaW5nID0gcm0sIHRydWUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIHNpbmUgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpc1xyXG4gICAqIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKlxyXG4gICAqIHNpbmgoeCkgPSB4ICsgeF4zLzMhICsgeF41LzUhICsgeF43LzchICsgLi4uXHJcbiAgICpcclxuICAgKiBzaW5oKDApICAgICAgICAgPSAwXHJcbiAgICogc2luaCgtMCkgICAgICAgID0gLTBcclxuICAgKiBzaW5oKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gICAqIHNpbmgoLUluZmluaXR5KSA9IC1JbmZpbml0eVxyXG4gICAqIHNpbmgoTmFOKSAgICAgICA9IE5hTlxyXG4gICAqXHJcbiAgICogeCAgICAgICAgdGltZSB0YWtlbiAobXMpXHJcbiAgICogMTAgICAgICAgMiBtc1xyXG4gICAqIDEwMCAgICAgIDUgbXNcclxuICAgKiAxMDAwICAgICAxNCBtc1xyXG4gICAqIDEwMDAwICAgIDgyIG1zXHJcbiAgICogMTAwMDAwICAgODg2IG1zICAgICAgICAgICAgMS40MDMzMzE2ODAyMTMwNjE1ODk3ZSs0MzQyOVxyXG4gICAqIDIwMDAwMCAgIDI2MTMgbXNcclxuICAgKiAzMDAwMDAgICA1NDA3IG1zXHJcbiAgICogNDAwMDAwICAgODgyNCBtc1xyXG4gICAqIDUwMDAwMCAgIDEzMDI2IG1zICAgICAgICAgIDguNzA4MDY0MzYxMjcxODA4NDEyOWUrMjE3MTQ2XHJcbiAgICogMTAwMDAwMCAgNDg1NDMgbXNcclxuICAgKlxyXG4gICAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2Ygc2luaCh4KSA9IDAuNSAqIChleHAoeCkgLSBleHAoLXgpKVxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5oeXBlcmJvbGljU2luZSA9IFAuc2luaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBrLCBwciwgcm0sIGxlbixcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpIHx8IHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KHguZSwgeC5zZCgpKSArIDQ7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICAgIGxlbiA9IHguZC5sZW5ndGg7XHJcblxyXG4gICAgaWYgKGxlbiA8IDMpIHtcclxuICAgICAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4LCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBBbHRlcm5hdGl2ZSBhcmd1bWVudCByZWR1Y3Rpb246IHNpbmgoM3gpID0gc2luaCh4KSgzICsgNHNpbmheMih4KSlcclxuICAgICAgLy8gaS5lLiBzaW5oKHgpID0gc2luaCh4LzMpKDMgKyA0c2luaF4yKHgvMykpXHJcbiAgICAgIC8vIDMgbXVsdGlwbGljYXRpb25zIGFuZCAxIGFkZGl0aW9uXHJcblxyXG4gICAgICAvLyBBcmd1bWVudCByZWR1Y3Rpb246IHNpbmgoNXgpID0gc2luaCh4KSg1ICsgc2luaF4yKHgpKDIwICsgMTZzaW5oXjIoeCkpKVxyXG4gICAgICAvLyBpLmUuIHNpbmgoeCkgPSBzaW5oKHgvNSkoNSArIHNpbmheMih4LzUpKDIwICsgMTZzaW5oXjIoeC81KSkpXHJcbiAgICAgIC8vIDQgbXVsdGlwbGljYXRpb25zIGFuZCAyIGFkZGl0aW9uc1xyXG5cclxuICAgICAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gICAgICBrID0gMS40ICogTWF0aC5zcXJ0KGxlbik7XHJcbiAgICAgIGsgPSBrID4gMTYgPyAxNiA6IGsgfCAwO1xyXG5cclxuICAgICAgeCA9IHgudGltZXMoMSAvIHRpbnlQb3coNSwgaykpO1xyXG4gICAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgsIHRydWUpO1xyXG5cclxuICAgICAgLy8gUmV2ZXJzZSBhcmd1bWVudCByZWR1Y3Rpb25cclxuICAgICAgdmFyIHNpbmgyX3gsXHJcbiAgICAgICAgZDUgPSBuZXcgQ3Rvcig1KSxcclxuICAgICAgICBkMTYgPSBuZXcgQ3RvcigxNiksXHJcbiAgICAgICAgZDIwID0gbmV3IEN0b3IoMjApO1xyXG4gICAgICBmb3IgKDsgay0tOykge1xyXG4gICAgICAgIHNpbmgyX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgICAgIHggPSB4LnRpbWVzKGQ1LnBsdXMoc2luaDJfeC50aW1lcyhkMTYudGltZXMoc2luaDJfeCkucGx1cyhkMjApKSkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UoeCwgcHIsIHJtLCB0cnVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyB0YW5nZW50IG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXNcclxuICAgKiBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKiBSYW5nZTogWy0xLCAxXVxyXG4gICAqXHJcbiAgICogdGFuaCh4KSA9IHNpbmgoeCkgLyBjb3NoKHgpXHJcbiAgICpcclxuICAgKiB0YW5oKDApICAgICAgICAgPSAwXHJcbiAgICogdGFuaCgtMCkgICAgICAgID0gLTBcclxuICAgKiB0YW5oKEluZmluaXR5KSAgPSAxXHJcbiAgICogdGFuaCgtSW5maW5pdHkpID0gLTFcclxuICAgKiB0YW5oKE5hTikgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaHlwZXJib2xpY1RhbmdlbnQgPSBQLnRhbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcHIsIHJtLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3Rvcih4LnMpO1xyXG4gICAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDc7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgICByZXR1cm4gZGl2aWRlKHguc2luaCgpLCB4LmNvc2goKSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgQ3Rvci5yb3VuZGluZyA9IHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjY29zaW5lIChpbnZlcnNlIGNvc2luZSkgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWUgb2ZcclxuICAgKiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstMSwgMV1cclxuICAgKiBSYW5nZTogWzAsIHBpXVxyXG4gICAqXHJcbiAgICogYWNvcyh4KSA9IHBpLzIgLSBhc2luKHgpXHJcbiAgICpcclxuICAgKiBhY29zKDApICAgICAgID0gcGkvMlxyXG4gICAqIGFjb3MoLTApICAgICAgPSBwaS8yXHJcbiAgICogYWNvcygxKSAgICAgICA9IDBcclxuICAgKiBhY29zKC0xKSAgICAgID0gcGlcclxuICAgKiBhY29zKDEvMikgICAgID0gcGkvM1xyXG4gICAqIGFjb3MoLTEvMikgICAgPSAyKnBpLzNcclxuICAgKiBhY29zKHx4fCA+IDEpID0gTmFOXHJcbiAgICogYWNvcyhOYU4pICAgICA9IE5hTlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5pbnZlcnNlQ29zaW5lID0gUC5hY29zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGhhbGZQaSxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICBrID0geC5hYnMoKS5jbXAoMSksXHJcbiAgICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgICBpZiAoayAhPT0gLTEpIHtcclxuICAgICAgcmV0dXJuIGsgPT09IDBcclxuICAgICAgICAvLyB8eHwgaXMgMVxyXG4gICAgICAgID8geC5pc05lZygpID8gZ2V0UGkoQ3RvciwgcHIsIHJtKSA6IG5ldyBDdG9yKDApXHJcbiAgICAgICAgLy8gfHh8ID4gMSBvciB4IGlzIE5hTlxyXG4gICAgICAgIDogbmV3IEN0b3IoTmFOKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcblxyXG4gICAgLy8gVE9ETz8gU3BlY2lhbCBjYXNlIGFjb3MoMC41KSA9IHBpLzMgYW5kIGFjb3MoLTAuNSkgPSAyKnBpLzNcclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByICsgNjtcclxuICAgIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICAgIHggPSB4LmFzaW4oKTtcclxuICAgIGhhbGZQaSA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgICByZXR1cm4gaGFsZlBpLm1pbnVzKHgpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIGNvc2luZSBpbiByYWRpYW5zIG9mIHRoZVxyXG4gICAqIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWzEsIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbMCwgSW5maW5pdHldXHJcbiAgICpcclxuICAgKiBhY29zaCh4KSA9IGxuKHggKyBzcXJ0KHheMiAtIDEpKVxyXG4gICAqXHJcbiAgICogYWNvc2goeCA8IDEpICAgICA9IE5hTlxyXG4gICAqIGFjb3NoKE5hTikgICAgICAgPSBOYU5cclxuICAgKiBhY29zaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICAgKiBhY29zaCgtSW5maW5pdHkpID0gTmFOXHJcbiAgICogYWNvc2goMCkgICAgICAgICA9IE5hTlxyXG4gICAqIGFjb3NoKC0wKSAgICAgICAgPSBOYU5cclxuICAgKiBhY29zaCgxKSAgICAgICAgID0gMFxyXG4gICAqIGFjb3NoKC0xKSAgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaW52ZXJzZUh5cGVyYm9saWNDb3NpbmUgPSBQLmFjb3NoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHByLCBybSxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICh4Lmx0ZSgxKSkgcmV0dXJuIG5ldyBDdG9yKHguZXEoMSkgPyAwIDogTmFOKTtcclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heChNYXRoLmFicyh4LmUpLCB4LnNkKCkpICsgNDtcclxuICAgIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgICB4ID0geC50aW1lcyh4KS5taW51cygxKS5zcXJ0KCkucGx1cyh4KTtcclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICAgIHJldHVybiB4LmxuKCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgc2luZSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZVxyXG4gICAqIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqXHJcbiAgICogYXNpbmgoeCkgPSBsbih4ICsgc3FydCh4XjIgKyAxKSlcclxuICAgKlxyXG4gICAqIGFzaW5oKE5hTikgICAgICAgPSBOYU5cclxuICAgKiBhc2luaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICAgKiBhc2luaCgtSW5maW5pdHkpID0gLUluZmluaXR5XHJcbiAgICogYXNpbmgoMCkgICAgICAgICA9IDBcclxuICAgKiBhc2luaCgtMCkgICAgICAgID0gLTBcclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaW52ZXJzZUh5cGVyYm9saWNTaW5lID0gUC5hc2luaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwciwgcm0sXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoIXguaXNGaW5pdGUoKSB8fCB4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyAyICogTWF0aC5tYXgoTWF0aC5hYnMoeC5lKSwgeC5zZCgpKSArIDY7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gICAgeCA9IHgudGltZXMoeCkucGx1cygxKS5zcXJ0KCkucGx1cyh4KTtcclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICAgIHJldHVybiB4LmxuKCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBpbiByYWRpYW5zIG9mIHRoZVxyXG4gICAqIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWy0xLCAxXVxyXG4gICAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKlxyXG4gICAqIGF0YW5oKHgpID0gMC41ICogbG4oKDEgKyB4KSAvICgxIC0geCkpXHJcbiAgICpcclxuICAgKiBhdGFuaCh8eHwgPiAxKSAgID0gTmFOXHJcbiAgICogYXRhbmgoTmFOKSAgICAgICA9IE5hTlxyXG4gICAqIGF0YW5oKEluZmluaXR5KSAgPSBOYU5cclxuICAgKiBhdGFuaCgtSW5maW5pdHkpID0gTmFOXHJcbiAgICogYXRhbmgoMCkgICAgICAgICA9IDBcclxuICAgKiBhdGFuaCgtMCkgICAgICAgID0gLTBcclxuICAgKiBhdGFuaCgxKSAgICAgICAgID0gSW5maW5pdHlcclxuICAgKiBhdGFuaCgtMSkgICAgICAgID0gLUluZmluaXR5XHJcbiAgICpcclxuICAgKi9cclxuICBQLmludmVyc2VIeXBlcmJvbGljVGFuZ2VudCA9IFAuYXRhbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcHIsIHJtLCB3cHIsIHhzZCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICAgIGlmICh4LmUgPj0gMCkgcmV0dXJuIG5ldyBDdG9yKHguYWJzKCkuZXEoMSkgPyB4LnMgLyAwIDogeC5pc1plcm8oKSA/IHggOiBOYU4pO1xyXG5cclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICB4c2QgPSB4LnNkKCk7XHJcblxyXG4gICAgaWYgKE1hdGgubWF4KHhzZCwgcHIpIDwgMiAqIC14LmUgLSAxKSByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIHByLCBybSwgdHJ1ZSk7XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgPSB4c2QgLSB4LmU7XHJcblxyXG4gICAgeCA9IGRpdmlkZSh4LnBsdXMoMSksIG5ldyBDdG9yKDEpLm1pbnVzKHgpLCB3cHIgKyBwciwgMSk7XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDQ7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgICB4ID0geC5sbigpO1xyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gICAgcmV0dXJuIHgudGltZXMoMC41KTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjc2luZSAoaW52ZXJzZSBzaW5lKSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICogRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICogUmFuZ2U6IFstcGkvMiwgcGkvMl1cclxuICAgKlxyXG4gICAqIGFzaW4oeCkgPSAyKmF0YW4oeC8oMSArIHNxcnQoMSAtIHheMikpKVxyXG4gICAqXHJcbiAgICogYXNpbigwKSAgICAgICA9IDBcclxuICAgKiBhc2luKC0wKSAgICAgID0gLTBcclxuICAgKiBhc2luKDEvMikgICAgID0gcGkvNlxyXG4gICAqIGFzaW4oLTEvMikgICAgPSAtcGkvNlxyXG4gICAqIGFzaW4oMSkgICAgICAgPSBwaS8yXHJcbiAgICogYXNpbigtMSkgICAgICA9IC1waS8yXHJcbiAgICogYXNpbih8eHwgPiAxKSA9IE5hTlxyXG4gICAqIGFzaW4oTmFOKSAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqIFRPRE8/IENvbXBhcmUgcGVyZm9ybWFuY2Ugb2YgVGF5bG9yIHNlcmllcy5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaW52ZXJzZVNpbmUgPSBQLmFzaW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaGFsZlBpLCBrLFxyXG4gICAgICBwciwgcm0sXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIGsgPSB4LmFicygpLmNtcCgxKTtcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gICAgaWYgKGsgIT09IC0xKSB7XHJcblxyXG4gICAgICAvLyB8eHwgaXMgMVxyXG4gICAgICBpZiAoayA9PT0gMCkge1xyXG4gICAgICAgIGhhbGZQaSA9IGdldFBpKEN0b3IsIHByICsgNCwgcm0pLnRpbWVzKDAuNSk7XHJcbiAgICAgICAgaGFsZlBpLnMgPSB4LnM7XHJcbiAgICAgICAgcmV0dXJuIGhhbGZQaTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gfHh8ID4gMSBvciB4IGlzIE5hTlxyXG4gICAgICByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUT0RPPyBTcGVjaWFsIGNhc2UgYXNpbigxLzIpID0gcGkvNiBhbmQgYXNpbigtMS8yKSA9IC1waS82XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDY7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgICB4ID0geC5kaXYobmV3IEN0b3IoMSkubWludXMoeC50aW1lcyh4KSkuc3FydCgpLnBsdXMoMSkpLmF0YW4oKTtcclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICAgIHJldHVybiB4LnRpbWVzKDIpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IChpbnZlcnNlIHRhbmdlbnQpIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlXHJcbiAgICogb2YgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKiBSYW5nZTogWy1waS8yLCBwaS8yXVxyXG4gICAqXHJcbiAgICogYXRhbih4KSA9IHggLSB4XjMvMyArIHheNS81IC0geF43LzcgKyAuLi5cclxuICAgKlxyXG4gICAqIGF0YW4oMCkgICAgICAgICA9IDBcclxuICAgKiBhdGFuKC0wKSAgICAgICAgPSAtMFxyXG4gICAqIGF0YW4oMSkgICAgICAgICA9IHBpLzRcclxuICAgKiBhdGFuKC0xKSAgICAgICAgPSAtcGkvNFxyXG4gICAqIGF0YW4oSW5maW5pdHkpICA9IHBpLzJcclxuICAgKiBhdGFuKC1JbmZpbml0eSkgPSAtcGkvMlxyXG4gICAqIGF0YW4oTmFOKSAgICAgICA9IE5hTlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5pbnZlcnNlVGFuZ2VudCA9IFAuYXRhbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBpLCBqLCBrLCBuLCBweCwgdCwgciwgd3ByLCB4MixcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gICAgaWYgKCF4LmlzRmluaXRlKCkpIHtcclxuICAgICAgaWYgKCF4LnMpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gICAgICBpZiAocHIgKyA0IDw9IFBJX1BSRUNJU0lPTikge1xyXG4gICAgICAgIHIgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG4gICAgICAgIHIucyA9IHgucztcclxuICAgICAgICByZXR1cm4gcjtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh4LmlzWmVybygpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuICAgIH0gZWxzZSBpZiAoeC5hYnMoKS5lcSgxKSAmJiBwciArIDQgPD0gUElfUFJFQ0lTSU9OKSB7XHJcbiAgICAgIHIgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjI1KTtcclxuICAgICAgci5zID0geC5zO1xyXG4gICAgICByZXR1cm4gcjtcclxuICAgIH1cclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHdwciA9IHByICsgMTA7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgICAvLyBUT0RPPyBpZiAoeCA+PSAxICYmIHByIDw9IFBJX1BSRUNJU0lPTikgYXRhbih4KSA9IGhhbGZQaSAqIHgucyAtIGF0YW4oMSAvIHgpO1xyXG5cclxuICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvblxyXG4gICAgLy8gRW5zdXJlIHx4fCA8IDAuNDJcclxuICAgIC8vIGF0YW4oeCkgPSAyICogYXRhbih4IC8gKDEgKyBzcXJ0KDEgKyB4XjIpKSlcclxuXHJcbiAgICBrID0gTWF0aC5taW4oMjgsIHdwciAvIExPR19CQVNFICsgMiB8IDApO1xyXG5cclxuICAgIGZvciAoaSA9IGs7IGk7IC0taSkgeCA9IHguZGl2KHgudGltZXMoeCkucGx1cygxKS5zcXJ0KCkucGx1cygxKSk7XHJcblxyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgICBqID0gTWF0aC5jZWlsKHdwciAvIExPR19CQVNFKTtcclxuICAgIG4gPSAxO1xyXG4gICAgeDIgPSB4LnRpbWVzKHgpO1xyXG4gICAgciA9IG5ldyBDdG9yKHgpO1xyXG4gICAgcHggPSB4O1xyXG5cclxuICAgIC8vIGF0YW4oeCkgPSB4IC0geF4zLzMgKyB4XjUvNSAtIHheNy83ICsgLi4uXHJcbiAgICBmb3IgKDsgaSAhPT0gLTE7KSB7XHJcbiAgICAgIHB4ID0gcHgudGltZXMoeDIpO1xyXG4gICAgICB0ID0gci5taW51cyhweC5kaXYobiArPSAyKSk7XHJcblxyXG4gICAgICBweCA9IHB4LnRpbWVzKHgyKTtcclxuICAgICAgciA9IHQucGx1cyhweC5kaXYobiArPSAyKSk7XHJcblxyXG4gICAgICBpZiAoci5kW2pdICE9PSB2b2lkIDApIGZvciAoaSA9IGo7IHIuZFtpXSA9PT0gdC5kW2ldICYmIGktLTspO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChrKSByID0gci50aW1lcygyIDw8IChrIC0gMSkpO1xyXG5cclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UociwgQ3Rvci5wcmVjaXNpb24gPSBwciwgQ3Rvci5yb3VuZGluZyA9IHJtLCB0cnVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGEgZmluaXRlIG51bWJlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaXNGaW5pdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gISF0aGlzLmQ7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBhbiBpbnRlZ2VyLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5pc0ludGVnZXIgPSBQLmlzSW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICEhdGhpcy5kICYmIG1hdGhmbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkgPiB0aGlzLmQubGVuZ3RoIC0gMjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIE5hTiwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaXNOYU4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gIXRoaXMucztcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIG5lZ2F0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5pc05lZ2F0aXZlID0gUC5pc05lZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnMgPCAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgcG9zaXRpdmUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmlzUG9zaXRpdmUgPSBQLmlzUG9zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucyA+IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyAwIG9yIC0wLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5pc1plcm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gISF0aGlzLmQgJiYgdGhpcy5kWzBdID09PSAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbGVzcyB0aGFuIGB5YCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAubGVzc1RoYW4gPSBQLmx0ID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHJldHVybiB0aGlzLmNtcCh5KSA8IDA7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5sZXNzVGhhbk9yRXF1YWxUbyA9IFAubHRlID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHJldHVybiB0aGlzLmNtcCh5KSA8IDE7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRoZSBsb2dhcml0aG0gb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCB0byB0aGUgc3BlY2lmaWVkIGJhc2UsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogSWYgbm8gYmFzZSBpcyBzcGVjaWZpZWQsIHJldHVybiBsb2dbMTBdKGFyZykuXHJcbiAgICpcclxuICAgKiBsb2dbYmFzZV0oYXJnKSA9IGxuKGFyZykgLyBsbihiYXNlKVxyXG4gICAqXHJcbiAgICogVGhlIHJlc3VsdCB3aWxsIGFsd2F5cyBiZSBjb3JyZWN0bHkgcm91bmRlZCBpZiB0aGUgYmFzZSBvZiB0aGUgbG9nIGlzIDEwLCBhbmQgJ2FsbW9zdCBhbHdheXMnXHJcbiAgICogb3RoZXJ3aXNlOlxyXG4gICAqXHJcbiAgICogRGVwZW5kaW5nIG9uIHRoZSByb3VuZGluZyBtb2RlLCB0aGUgcmVzdWx0IG1heSBiZSBpbmNvcnJlY3RseSByb3VuZGVkIGlmIHRoZSBmaXJzdCBmaWZ0ZWVuXHJcbiAgICogcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OTk5OTk5OTk5OTkgb3IgWzUwXTAwMDAwMDAwMDAwMDAwLiBJbiB0aGF0IGNhc2UsIHRoZSBtYXhpbXVtIGVycm9yXHJcbiAgICogYmV0d2VlbiB0aGUgcmVzdWx0IGFuZCB0aGUgY29ycmVjdGx5IHJvdW5kZWQgcmVzdWx0IHdpbGwgYmUgb25lIHVscCAodW5pdCBpbiB0aGUgbGFzdCBwbGFjZSkuXHJcbiAgICpcclxuICAgKiBsb2dbLWJdKGEpICAgICAgID0gTmFOXHJcbiAgICogbG9nWzBdKGEpICAgICAgICA9IE5hTlxyXG4gICAqIGxvZ1sxXShhKSAgICAgICAgPSBOYU5cclxuICAgKiBsb2dbTmFOXShhKSAgICAgID0gTmFOXHJcbiAgICogbG9nW0luZmluaXR5XShhKSA9IE5hTlxyXG4gICAqIGxvZ1tiXSgwKSAgICAgICAgPSAtSW5maW5pdHlcclxuICAgKiBsb2dbYl0oLTApICAgICAgID0gLUluZmluaXR5XHJcbiAgICogbG9nW2JdKC1hKSAgICAgICA9IE5hTlxyXG4gICAqIGxvZ1tiXSgxKSAgICAgICAgPSAwXHJcbiAgICogbG9nW2JdKEluZmluaXR5KSA9IEluZmluaXR5XHJcbiAgICogbG9nW2JdKE5hTikgICAgICA9IE5hTlxyXG4gICAqXHJcbiAgICogW2Jhc2VdIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlIG9mIHRoZSBsb2dhcml0aG0uXHJcbiAgICpcclxuICAgKi9cclxuICBQLmxvZ2FyaXRobSA9IFAubG9nID0gZnVuY3Rpb24gKGJhc2UpIHtcclxuICAgIHZhciBpc0Jhc2UxMCwgZCwgZGVub21pbmF0b3IsIGssIGluZiwgbnVtLCBzZCwgcixcclxuICAgICAgYXJnID0gdGhpcyxcclxuICAgICAgQ3RvciA9IGFyZy5jb25zdHJ1Y3RvcixcclxuICAgICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nLFxyXG4gICAgICBndWFyZCA9IDU7XHJcblxyXG4gICAgLy8gRGVmYXVsdCBiYXNlIGlzIDEwLlxyXG4gICAgaWYgKGJhc2UgPT0gbnVsbCkge1xyXG4gICAgICBiYXNlID0gbmV3IEN0b3IoMTApO1xyXG4gICAgICBpc0Jhc2UxMCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBiYXNlID0gbmV3IEN0b3IoYmFzZSk7XHJcbiAgICAgIGQgPSBiYXNlLmQ7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGJhc2UgaXMgbmVnYXRpdmUsIG9yIG5vbi1maW5pdGUsIG9yIGlzIDAgb3IgMS5cclxuICAgICAgaWYgKGJhc2UucyA8IDAgfHwgIWQgfHwgIWRbMF0gfHwgYmFzZS5lcSgxKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgICBpc0Jhc2UxMCA9IGJhc2UuZXEoMTApO1xyXG4gICAgfVxyXG5cclxuICAgIGQgPSBhcmcuZDtcclxuXHJcbiAgICAvLyBJcyBhcmcgbmVnYXRpdmUsIG5vbi1maW5pdGUsIDAgb3IgMT9cclxuICAgIGlmIChhcmcucyA8IDAgfHwgIWQgfHwgIWRbMF0gfHwgYXJnLmVxKDEpKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQ3RvcihkICYmICFkWzBdID8gLTEgLyAwIDogYXJnLnMgIT0gMSA/IE5hTiA6IGQgPyAwIDogMSAvIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoZSByZXN1bHQgd2lsbCBoYXZlIGEgbm9uLXRlcm1pbmF0aW5nIGRlY2ltYWwgZXhwYW5zaW9uIGlmIGJhc2UgaXMgMTAgYW5kIGFyZyBpcyBub3QgYW5cclxuICAgIC8vIGludGVnZXIgcG93ZXIgb2YgMTAuXHJcbiAgICBpZiAoaXNCYXNlMTApIHtcclxuICAgICAgaWYgKGQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGluZiA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChrID0gZFswXTsgayAlIDEwID09PSAwOykgayAvPSAxMDtcclxuICAgICAgICBpbmYgPSBrICE9PSAxO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIHNkID0gcHIgKyBndWFyZDtcclxuICAgIG51bSA9IG5hdHVyYWxMb2dhcml0aG0oYXJnLCBzZCk7XHJcbiAgICBkZW5vbWluYXRvciA9IGlzQmFzZTEwID8gZ2V0TG4xMChDdG9yLCBzZCArIDEwKSA6IG5hdHVyYWxMb2dhcml0aG0oYmFzZSwgc2QpO1xyXG5cclxuICAgIC8vIFRoZSByZXN1bHQgd2lsbCBoYXZlIDUgcm91bmRpbmcgZGlnaXRzLlxyXG4gICAgciA9IGRpdmlkZShudW0sIGRlbm9taW5hdG9yLCBzZCwgMSk7XHJcblxyXG4gICAgLy8gSWYgYXQgYSByb3VuZGluZyBib3VuZGFyeSwgaS5lLiB0aGUgcmVzdWx0J3Mgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OSBvciBbNTBdMDAwMCxcclxuICAgIC8vIGNhbGN1bGF0ZSAxMCBmdXJ0aGVyIGRpZ2l0cy5cclxuICAgIC8vXHJcbiAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIGtub3duIHRvIGhhdmUgYW4gaW5maW5pdGUgZGVjaW1hbCBleHBhbnNpb24sIHJlcGVhdCB0aGlzIHVudGlsIGl0IGlzIGNsZWFyXHJcbiAgICAvLyB0aGF0IHRoZSByZXN1bHQgaXMgYWJvdmUgb3IgYmVsb3cgdGhlIGJvdW5kYXJ5LiBPdGhlcndpc2UsIGlmIGFmdGVyIGNhbGN1bGF0aW5nIHRoZSAxMFxyXG4gICAgLy8gZnVydGhlciBkaWdpdHMsIHRoZSBsYXN0IDE0IGFyZSBuaW5lcywgcm91bmQgdXAgYW5kIGFzc3VtZSB0aGUgcmVzdWx0IGlzIGV4YWN0LlxyXG4gICAgLy8gQWxzbyBhc3N1bWUgdGhlIHJlc3VsdCBpcyBleGFjdCBpZiB0aGUgbGFzdCAxNCBhcmUgemVyby5cclxuICAgIC8vXHJcbiAgICAvLyBFeGFtcGxlIG9mIGEgcmVzdWx0IHRoYXQgd2lsbCBiZSBpbmNvcnJlY3RseSByb3VuZGVkOlxyXG4gICAgLy8gbG9nWzEwNDg1NzZdKDQ1MDM1OTk2MjczNzA1MDIpID0gMi42MDAwMDAwMDAwMDAwMDAwOTYxMDI3OTUxMTQ0NDc0Ni4uLlxyXG4gICAgLy8gVGhlIGFib3ZlIHJlc3VsdCBjb3JyZWN0bHkgcm91bmRlZCB1c2luZyBST1VORF9DRUlMIHRvIDEgZGVjaW1hbCBwbGFjZSBzaG91bGQgYmUgMi43LCBidXQgaXRcclxuICAgIC8vIHdpbGwgYmUgZ2l2ZW4gYXMgMi42IGFzIHRoZXJlIGFyZSAxNSB6ZXJvcyBpbW1lZGlhdGVseSBhZnRlciB0aGUgcmVxdWVzdGVkIGRlY2ltYWwgcGxhY2UsIHNvXHJcbiAgICAvLyB0aGUgZXhhY3QgcmVzdWx0IHdvdWxkIGJlIGFzc3VtZWQgdG8gYmUgMi42LCB3aGljaCByb3VuZGVkIHVzaW5nIFJPVU5EX0NFSUwgdG8gMSBkZWNpbWFsXHJcbiAgICAvLyBwbGFjZSBpcyBzdGlsbCAyLjYuXHJcbiAgICBpZiAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhyLmQsIGsgPSBwciwgcm0pKSB7XHJcblxyXG4gICAgICBkbyB7XHJcbiAgICAgICAgc2QgKz0gMTA7XHJcbiAgICAgICAgbnVtID0gbmF0dXJhbExvZ2FyaXRobShhcmcsIHNkKTtcclxuICAgICAgICBkZW5vbWluYXRvciA9IGlzQmFzZTEwID8gZ2V0TG4xMChDdG9yLCBzZCArIDEwKSA6IG5hdHVyYWxMb2dhcml0aG0oYmFzZSwgc2QpO1xyXG4gICAgICAgIHIgPSBkaXZpZGUobnVtLCBkZW5vbWluYXRvciwgc2QsIDEpO1xyXG5cclxuICAgICAgICBpZiAoIWluZikge1xyXG5cclxuICAgICAgICAgIC8vIENoZWNrIGZvciAxNCBuaW5lcyBmcm9tIHRoZSAybmQgcm91bmRpbmcgZGlnaXQsIGFzIHRoZSBmaXJzdCBtYXkgYmUgNC5cclxuICAgICAgICAgIGlmICgrZGlnaXRzVG9TdHJpbmcoci5kKS5zbGljZShrICsgMSwgayArIDE1KSArIDEgPT0gMWUxNCkge1xyXG4gICAgICAgICAgICByID0gZmluYWxpc2UociwgcHIgKyAxLCAwKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH0gd2hpbGUgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBrICs9IDEwLCBybSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UociwgcHIsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzIGFuZCB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICBQLm1heCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmNhbGwoYXJndW1lbnRzLCB0aGlzKTtcclxuICAgIHJldHVybiBtYXhPck1pbih0aGlzLmNvbnN0cnVjdG9yLCBhcmd1bWVudHMsICdsdCcpO1xyXG4gIH07XHJcbiAgICovXHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtaW5pbXVtIG9mIHRoZSBhcmd1bWVudHMgYW5kIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gIFAubWluID0gZnVuY3Rpb24gKCkge1xyXG4gICAgQXJyYXkucHJvdG90eXBlLnB1c2guY2FsbChhcmd1bWVudHMsIHRoaXMpO1xyXG4gICAgcmV0dXJuIG1heE9yTWluKHRoaXMuY29uc3RydWN0b3IsIGFyZ3VtZW50cywgJ2d0Jyk7XHJcbiAgfTtcclxuICAgKi9cclxuXHJcblxyXG4gIC8qXHJcbiAgICogIG4gLSAwID0gblxyXG4gICAqICBuIC0gTiA9IE5cclxuICAgKiAgbiAtIEkgPSAtSVxyXG4gICAqICAwIC0gbiA9IC1uXHJcbiAgICogIDAgLSAwID0gMFxyXG4gICAqICAwIC0gTiA9IE5cclxuICAgKiAgMCAtIEkgPSAtSVxyXG4gICAqICBOIC0gbiA9IE5cclxuICAgKiAgTiAtIDAgPSBOXHJcbiAgICogIE4gLSBOID0gTlxyXG4gICAqICBOIC0gSSA9IE5cclxuICAgKiAgSSAtIG4gPSBJXHJcbiAgICogIEkgLSAwID0gSVxyXG4gICAqICBJIC0gTiA9IE5cclxuICAgKiAgSSAtIEkgPSBOXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG1pbnVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKi9cclxuICBQLm1pbnVzID0gUC5zdWIgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgdmFyIGQsIGUsIGksIGosIGssIGxlbiwgcHIsIHJtLCB4ZCwgeGUsIHhMVHksIHlkLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAgIC8vIElmIGVpdGhlciBpcyBub3QgZmluaXRlLi4uXHJcbiAgICBpZiAoIXguZCB8fCAheS5kKSB7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICAgIGlmICgheC5zIHx8ICF5LnMpIHkgPSBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHkgbmVnYXRlZCBpZiB4IGlzIGZpbml0ZSBhbmQgeSBpcyDCsUluZmluaXR5LlxyXG4gICAgICBlbHNlIGlmICh4LmQpIHkucyA9IC15LnM7XHJcblxyXG4gICAgICAvLyBSZXR1cm4geCBpZiB5IGlzIGZpbml0ZSBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgICAvLyBSZXR1cm4geCBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggZGlmZmVyZW50IHNpZ25zLlxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG4gICAgICBlbHNlIHkgPSBuZXcgQ3Rvcih5LmQgfHwgeC5zICE9PSB5LnMgPyB4IDogTmFOKTtcclxuXHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHNpZ25zIGRpZmZlci4uLlxyXG4gICAgaWYgKHgucyAhPSB5LnMpIHtcclxuICAgICAgeS5zID0gLXkucztcclxuICAgICAgcmV0dXJuIHgucGx1cyh5KTtcclxuICAgIH1cclxuXHJcbiAgICB4ZCA9IHguZDtcclxuICAgIHlkID0geS5kO1xyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgICAvLyBJZiBlaXRoZXIgaXMgemVyby4uLlxyXG4gICAgaWYgKCF4ZFswXSB8fCAheWRbMF0pIHtcclxuXHJcbiAgICAgIC8vIFJldHVybiB5IG5lZ2F0ZWQgaWYgeCBpcyB6ZXJvIGFuZCB5IGlzIG5vbi16ZXJvLlxyXG4gICAgICBpZiAoeWRbMF0pIHkucyA9IC15LnM7XHJcblxyXG4gICAgICAvLyBSZXR1cm4geCBpZiB5IGlzIHplcm8gYW5kIHggaXMgbm9uLXplcm8uXHJcbiAgICAgIGVsc2UgaWYgKHhkWzBdKSB5ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gemVybyBpZiBib3RoIGFyZSB6ZXJvLlxyXG4gICAgICAvLyBGcm9tIElFRUUgNzU0ICgyMDA4KSA2LjM6IDAgLSAwID0gLTAgLSAtMCA9IC0wIHdoZW4gcm91bmRpbmcgdG8gLUluZmluaXR5LlxyXG4gICAgICBlbHNlIHJldHVybiBuZXcgQ3RvcihybSA9PT0gMyA/IC0wIDogMCk7XHJcblxyXG4gICAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB4IGFuZCB5IGFyZSBmaW5pdGUsIG5vbi16ZXJvIG51bWJlcnMgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBiYXNlIDFlNyBleHBvbmVudHMuXHJcbiAgICBlID0gbWF0aGZsb29yKHkuZSAvIExPR19CQVNFKTtcclxuICAgIHhlID0gbWF0aGZsb29yKHguZSAvIExPR19CQVNFKTtcclxuXHJcbiAgICB4ZCA9IHhkLnNsaWNlKCk7XHJcbiAgICBrID0geGUgLSBlO1xyXG5cclxuICAgIC8vIElmIGJhc2UgMWU3IGV4cG9uZW50cyBkaWZmZXIuLi5cclxuICAgIGlmIChrKSB7XHJcbiAgICAgIHhMVHkgPSBrIDwgMDtcclxuXHJcbiAgICAgIGlmICh4TFR5KSB7XHJcbiAgICAgICAgZCA9IHhkO1xyXG4gICAgICAgIGsgPSAtaztcclxuICAgICAgICBsZW4gPSB5ZC5sZW5ndGg7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZCA9IHlkO1xyXG4gICAgICAgIGUgPSB4ZTtcclxuICAgICAgICBsZW4gPSB4ZC5sZW5ndGg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE51bWJlcnMgd2l0aCBtYXNzaXZlbHkgZGlmZmVyZW50IGV4cG9uZW50cyB3b3VsZCByZXN1bHQgaW4gYSB2ZXJ5IGhpZ2ggbnVtYmVyIG9mXHJcbiAgICAgIC8vIHplcm9zIG5lZWRpbmcgdG8gYmUgcHJlcGVuZGVkLCBidXQgdGhpcyBjYW4gYmUgYXZvaWRlZCB3aGlsZSBzdGlsbCBlbnN1cmluZyBjb3JyZWN0XHJcbiAgICAgIC8vIHJvdW5kaW5nIGJ5IGxpbWl0aW5nIHRoZSBudW1iZXIgb2YgemVyb3MgdG8gYE1hdGguY2VpbChwciAvIExPR19CQVNFKSArIDJgLlxyXG4gICAgICBpID0gTWF0aC5tYXgoTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UpLCBsZW4pICsgMjtcclxuXHJcbiAgICAgIGlmIChrID4gaSkge1xyXG4gICAgICAgIGsgPSBpO1xyXG4gICAgICAgIGQubGVuZ3RoID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUHJlcGVuZCB6ZXJvcyB0byBlcXVhbGlzZSBleHBvbmVudHMuXHJcbiAgICAgIGQucmV2ZXJzZSgpO1xyXG4gICAgICBmb3IgKGkgPSBrOyBpLS07KSBkLnB1c2goMCk7XHJcbiAgICAgIGQucmV2ZXJzZSgpO1xyXG5cclxuICAgIC8vIEJhc2UgMWU3IGV4cG9uZW50cyBlcXVhbC5cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBDaGVjayBkaWdpdHMgdG8gZGV0ZXJtaW5lIHdoaWNoIGlzIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG5cclxuICAgICAgaSA9IHhkLmxlbmd0aDtcclxuICAgICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgICB4TFR5ID0gaSA8IGxlbjtcclxuICAgICAgaWYgKHhMVHkpIGxlbiA9IGk7XHJcblxyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICBpZiAoeGRbaV0gIT0geWRbaV0pIHtcclxuICAgICAgICAgIHhMVHkgPSB4ZFtpXSA8IHlkW2ldO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBrID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoeExUeSkge1xyXG4gICAgICBkID0geGQ7XHJcbiAgICAgIHhkID0geWQ7XHJcbiAgICAgIHlkID0gZDtcclxuICAgICAgeS5zID0gLXkucztcclxuICAgIH1cclxuXHJcbiAgICBsZW4gPSB4ZC5sZW5ndGg7XHJcblxyXG4gICAgLy8gQXBwZW5kIHplcm9zIHRvIGB4ZGAgaWYgc2hvcnRlci5cclxuICAgIC8vIERvbid0IGFkZCB6ZXJvcyB0byBgeWRgIGlmIHNob3J0ZXIgYXMgc3VidHJhY3Rpb24gb25seSBuZWVkcyB0byBzdGFydCBhdCBgeWRgIGxlbmd0aC5cclxuICAgIGZvciAoaSA9IHlkLmxlbmd0aCAtIGxlbjsgaSA+IDA7IC0taSkgeGRbbGVuKytdID0gMDtcclxuXHJcbiAgICAvLyBTdWJ0cmFjdCB5ZCBmcm9tIHhkLlxyXG4gICAgZm9yIChpID0geWQubGVuZ3RoOyBpID4gazspIHtcclxuXHJcbiAgICAgIGlmICh4ZFstLWldIDwgeWRbaV0pIHtcclxuICAgICAgICBmb3IgKGogPSBpOyBqICYmIHhkWy0tal0gPT09IDA7KSB4ZFtqXSA9IEJBU0UgLSAxO1xyXG4gICAgICAgIC0teGRbal07XHJcbiAgICAgICAgeGRbaV0gKz0gQkFTRTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGRbaV0gLT0geWRbaV07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yICg7IHhkWy0tbGVuXSA9PT0gMDspIHhkLnBvcCgpO1xyXG5cclxuICAgIC8vIFJlbW92ZSBsZWFkaW5nIHplcm9zIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXHJcbiAgICBmb3IgKDsgeGRbMF0gPT09IDA7IHhkLnNoaWZ0KCkpIC0tZTtcclxuXHJcbiAgICAvLyBaZXJvP1xyXG4gICAgaWYgKCF4ZFswXSkgcmV0dXJuIG5ldyBDdG9yKHJtID09PSAzID8gLTAgOiAwKTtcclxuXHJcbiAgICB5LmQgPSB4ZDtcclxuICAgIHkuZSA9IGdldEJhc2UxMEV4cG9uZW50KHhkLCBlKTtcclxuXHJcbiAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgIG4gJSAwID0gIE5cclxuICAgKiAgIG4gJSBOID0gIE5cclxuICAgKiAgIG4gJSBJID0gIG5cclxuICAgKiAgIDAgJSBuID0gIDBcclxuICAgKiAgLTAgJSBuID0gLTBcclxuICAgKiAgIDAgJSAwID0gIE5cclxuICAgKiAgIDAgJSBOID0gIE5cclxuICAgKiAgIDAgJSBJID0gIDBcclxuICAgKiAgIE4gJSBuID0gIE5cclxuICAgKiAgIE4gJSAwID0gIE5cclxuICAgKiAgIE4gJSBOID0gIE5cclxuICAgKiAgIE4gJSBJID0gIE5cclxuICAgKiAgIEkgJSBuID0gIE5cclxuICAgKiAgIEkgJSAwID0gIE5cclxuICAgKiAgIEkgJSBOID0gIE5cclxuICAgKiAgIEkgJSBJID0gIE5cclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgbW9kdWxvIGB5YCwgcm91bmRlZCB0b1xyXG4gICAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiBUaGUgcmVzdWx0IGRlcGVuZHMgb24gdGhlIG1vZHVsbyBtb2RlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5tb2R1bG8gPSBQLm1vZCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICB2YXIgcSxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIHkgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgwrFJbmZpbml0eSBvciBOYU4sIG9yIHkgaXMgTmFOIG9yIMKxMC5cclxuICAgIGlmICgheC5kIHx8ICF5LnMgfHwgeS5kICYmICF5LmRbMF0pIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgIC8vIFJldHVybiB4IGlmIHkgaXMgwrFJbmZpbml0eSBvciB4IGlzIMKxMC5cclxuICAgIGlmICgheS5kIHx8IHguZCAmJiAheC5kWzBdKSB7XHJcbiAgICAgIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgQ3Rvci5wcmVjaXNpb24sIEN0b3Iucm91bmRpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByZXZlbnQgcm91bmRpbmcgb2YgaW50ZXJtZWRpYXRlIGNhbGN1bGF0aW9ucy5cclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKEN0b3IubW9kdWxvID09IDkpIHtcclxuXHJcbiAgICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgICAvLyByZXN1bHQgPSB4IC0gcSAqIHkgICAgd2hlcmUgIDAgPD0gcmVzdWx0IDwgYWJzKHkpXHJcbiAgICAgIHEgPSBkaXZpZGUoeCwgeS5hYnMoKSwgMCwgMywgMSk7XHJcbiAgICAgIHEucyAqPSB5LnM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBxID0gZGl2aWRlKHgsIHksIDAsIEN0b3IubW9kdWxvLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBxID0gcS50aW1lcyh5KTtcclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIHgubWludXMocSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCxcclxuICAgKiBpLmUuIHRoZSBiYXNlIGUgcmFpc2VkIHRvIHRoZSBwb3dlciB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAubmF0dXJhbEV4cG9uZW50aWFsID0gUC5leHAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbmF0dXJhbEV4cG9uZW50aWFsKHRoaXMpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLFxyXG4gICAqIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAubmF0dXJhbExvZ2FyaXRobSA9IFAubG4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gbmF0dXJhbExvZ2FyaXRobSh0aGlzKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG5lZ2F0ZWQsIGkuZS4gYXMgaWYgbXVsdGlwbGllZCBieVxyXG4gICAqIC0xLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5uZWdhdGVkID0gUC5uZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgeCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpO1xyXG4gICAgeC5zID0gLXgucztcclxuICAgIHJldHVybiBmaW5hbGlzZSh4KTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiArIDAgPSBuXHJcbiAgICogIG4gKyBOID0gTlxyXG4gICAqICBuICsgSSA9IElcclxuICAgKiAgMCArIG4gPSBuXHJcbiAgICogIDAgKyAwID0gMFxyXG4gICAqICAwICsgTiA9IE5cclxuICAgKiAgMCArIEkgPSBJXHJcbiAgICogIE4gKyBuID0gTlxyXG4gICAqICBOICsgMCA9IE5cclxuICAgKiAgTiArIE4gPSBOXHJcbiAgICogIE4gKyBJID0gTlxyXG4gICAqICBJICsgbiA9IElcclxuICAgKiAgSSArIDAgPSBJXHJcbiAgICogIEkgKyBOID0gTlxyXG4gICAqICBJICsgSSA9IElcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcGx1cyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5wbHVzID0gUC5hZGQgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgdmFyIGNhcnJ5LCBkLCBlLCBpLCBrLCBsZW4sIHByLCBybSwgeGQsIHlkLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgeSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAgIC8vIElmIGVpdGhlciBpcyBub3QgZmluaXRlLi4uXHJcbiAgICBpZiAoIXguZCB8fCAheS5kKSB7XHJcblxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICAgIGlmICgheC5zIHx8ICF5LnMpIHkgPSBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHggaWYgeSBpcyBmaW5pdGUgYW5kIHggaXMgwrFJbmZpbml0eS5cclxuICAgICAgLy8gUmV0dXJuIHggaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcbiAgICAgIC8vIFJldHVybiBOYU4gaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIGRpZmZlcmVudCBzaWducy5cclxuICAgICAgLy8gUmV0dXJuIHkgaWYgeCBpcyBmaW5pdGUgYW5kIHkgaXMgwrFJbmZpbml0eS5cclxuICAgICAgZWxzZSBpZiAoIXguZCkgeSA9IG5ldyBDdG9yKHkuZCB8fCB4LnMgPT09IHkucyA/IHggOiBOYU4pO1xyXG5cclxuICAgICAgcmV0dXJuIHk7XHJcbiAgICB9XHJcblxyXG4gICAgIC8vIElmIHNpZ25zIGRpZmZlci4uLlxyXG4gICAgaWYgKHgucyAhPSB5LnMpIHtcclxuICAgICAgeS5zID0gLXkucztcclxuICAgICAgcmV0dXJuIHgubWludXMoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgeGQgPSB4LmQ7XHJcbiAgICB5ZCA9IHkuZDtcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gICAgLy8gSWYgZWl0aGVyIGlzIHplcm8uLi5cclxuICAgIGlmICgheGRbMF0gfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgICAvLyBSZXR1cm4geCBpZiB5IGlzIHplcm8uXHJcbiAgICAgIC8vIFJldHVybiB5IGlmIHkgaXMgbm9uLXplcm8uXHJcbiAgICAgIGlmICgheWRbMF0pIHkgPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICAgIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHggYW5kIHkgYXJlIGZpbml0ZSwgbm9uLXplcm8gbnVtYmVycyB3aXRoIHRoZSBzYW1lIHNpZ24uXHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIGJhc2UgMWU3IGV4cG9uZW50cy5cclxuICAgIGsgPSBtYXRoZmxvb3IoeC5lIC8gTE9HX0JBU0UpO1xyXG4gICAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgeGQgPSB4ZC5zbGljZSgpO1xyXG4gICAgaSA9IGsgLSBlO1xyXG5cclxuICAgIC8vIElmIGJhc2UgMWU3IGV4cG9uZW50cyBkaWZmZXIuLi5cclxuICAgIGlmIChpKSB7XHJcblxyXG4gICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICBkID0geGQ7XHJcbiAgICAgICAgaSA9IC1pO1xyXG4gICAgICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkID0geWQ7XHJcbiAgICAgICAgZSA9IGs7XHJcbiAgICAgICAgbGVuID0geGQubGVuZ3RoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMaW1pdCBudW1iZXIgb2YgemVyb3MgcHJlcGVuZGVkIHRvIG1heChjZWlsKHByIC8gTE9HX0JBU0UpLCBsZW4pICsgMS5cclxuICAgICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFKTtcclxuICAgICAgbGVuID0gayA+IGxlbiA/IGsgKyAxIDogbGVuICsgMTtcclxuXHJcbiAgICAgIGlmIChpID4gbGVuKSB7XHJcbiAgICAgICAgaSA9IGxlbjtcclxuICAgICAgICBkLmxlbmd0aCA9IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLiBOb3RlOiBGYXN0ZXIgdG8gdXNlIHJldmVyc2UgdGhlbiBkbyB1bnNoaWZ0cy5cclxuICAgICAgZC5yZXZlcnNlKCk7XHJcbiAgICAgIGZvciAoOyBpLS07KSBkLnB1c2goMCk7XHJcbiAgICAgIGQucmV2ZXJzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGxlbiA9IHhkLmxlbmd0aDtcclxuICAgIGkgPSB5ZC5sZW5ndGg7XHJcblxyXG4gICAgLy8gSWYgeWQgaXMgbG9uZ2VyIHRoYW4geGQsIHN3YXAgeGQgYW5kIHlkIHNvIHhkIHBvaW50cyB0byB0aGUgbG9uZ2VyIGFycmF5LlxyXG4gICAgaWYgKGxlbiAtIGkgPCAwKSB7XHJcbiAgICAgIGkgPSBsZW47XHJcbiAgICAgIGQgPSB5ZDtcclxuICAgICAgeWQgPSB4ZDtcclxuICAgICAgeGQgPSBkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9ubHkgc3RhcnQgYWRkaW5nIGF0IHlkLmxlbmd0aCAtIDEgYXMgdGhlIGZ1cnRoZXIgZGlnaXRzIG9mIHhkIGNhbiBiZSBsZWZ0IGFzIHRoZXkgYXJlLlxyXG4gICAgZm9yIChjYXJyeSA9IDA7IGk7KSB7XHJcbiAgICAgIGNhcnJ5ID0gKHhkWy0taV0gPSB4ZFtpXSArIHlkW2ldICsgY2FycnkpIC8gQkFTRSB8IDA7XHJcbiAgICAgIHhkW2ldICU9IEJBU0U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNhcnJ5KSB7XHJcbiAgICAgIHhkLnVuc2hpZnQoY2FycnkpO1xyXG4gICAgICArK2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgLy8gTm8gbmVlZCB0byBjaGVjayBmb3IgemVybywgYXMgK3ggKyAreSAhPSAwICYmIC14ICsgLXkgIT0gMFxyXG4gICAgZm9yIChsZW4gPSB4ZC5sZW5ndGg7IHhkWy0tbGVuXSA9PSAwOykgeGQucG9wKCk7XHJcblxyXG4gICAgeS5kID0geGQ7XHJcbiAgICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgZSk7XHJcblxyXG4gICAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRoZSBudW1iZXIgb2Ygc2lnbmlmaWNhbnQgZGlnaXRzIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBbel0ge2Jvb2xlYW58bnVtYmVyfSBXaGV0aGVyIHRvIGNvdW50IGludGVnZXItcGFydCB0cmFpbGluZyB6ZXJvczogdHJ1ZSwgZmFsc2UsIDEgb3IgMC5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAucHJlY2lzaW9uID0gUC5zZCA9IGZ1bmN0aW9uICh6KSB7XHJcbiAgICB2YXIgayxcclxuICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgaWYgKHogIT09IHZvaWQgMCAmJiB6ICE9PSAhIXogJiYgeiAhPT0gMSAmJiB6ICE9PSAwKSB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyB6KTtcclxuXHJcbiAgICBpZiAoeC5kKSB7XHJcbiAgICAgIGsgPSBnZXRQcmVjaXNpb24oeC5kKTtcclxuICAgICAgaWYgKHogJiYgeC5lICsgMSA+IGspIGsgPSB4LmUgKyAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgayA9IE5hTjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaztcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSB3aG9sZSBudW1iZXIgdXNpbmdcclxuICAgKiByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnJvdW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIHguZSArIDEsIEN0b3Iucm91bmRpbmcpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICogUmFuZ2U6IFstMSwgMV1cclxuICAgKlxyXG4gICAqIHNpbih4KSA9IHggLSB4XjMvMyEgKyB4XjUvNSEgLSAuLi5cclxuICAgKlxyXG4gICAqIHNpbigwKSAgICAgICAgID0gMFxyXG4gICAqIHNpbigtMCkgICAgICAgID0gLTBcclxuICAgKiBzaW4oSW5maW5pdHkpICA9IE5hTlxyXG4gICAqIHNpbigtSW5maW5pdHkpID0gTmFOXHJcbiAgICogc2luKE5hTikgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuc2luZSA9IFAuc2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHByLCBybSxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICAgIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyBMT0dfQkFTRTtcclxuICAgIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICAgIHggPSBzaW5lKEN0b3IsIHRvTGVzc1RoYW5IYWxmUGkoQ3RvciwgeCkpO1xyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHF1YWRyYW50ID4gMiA/IHgubmVnKCkgOiB4LCBwciwgcm0sIHRydWUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiB0aGlzIERlY2ltYWwsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogIHNxcnQoLW4pID0gIE5cclxuICAgKiAgc3FydChOKSAgPSAgTlxyXG4gICAqICBzcXJ0KC1JKSA9ICBOXHJcbiAgICogIHNxcnQoSSkgID0gIElcclxuICAgKiAgc3FydCgwKSAgPSAgMFxyXG4gICAqICBzcXJ0KC0wKSA9IC0wXHJcbiAgICpcclxuICAgKi9cclxuICBQLnNxdWFyZVJvb3QgPSBQLnNxcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbSwgbiwgc2QsIHIsIHJlcCwgdCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIGQgPSB4LmQsXHJcbiAgICAgIGUgPSB4LmUsXHJcbiAgICAgIHMgPSB4LnMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIC8vIE5lZ2F0aXZlL05hTi9JbmZpbml0eS96ZXJvP1xyXG4gICAgaWYgKHMgIT09IDEgfHwgIWQgfHwgIWRbMF0pIHtcclxuICAgICAgcmV0dXJuIG5ldyBDdG9yKCFzIHx8IHMgPCAwICYmICghZCB8fCBkWzBdKSA/IE5hTiA6IGQgPyB4IDogMSAvIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gICAgLy8gSW5pdGlhbCBlc3RpbWF0ZS5cclxuICAgIHMgPSBNYXRoLnNxcnQoK3gpO1xyXG5cclxuICAgIC8vIE1hdGguc3FydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgICAvLyBQYXNzIHggdG8gTWF0aC5zcXJ0IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSBleHBvbmVudCBvZiB0aGUgcmVzdWx0LlxyXG4gICAgaWYgKHMgPT0gMCB8fCBzID09IDEgLyAwKSB7XHJcbiAgICAgIG4gPSBkaWdpdHNUb1N0cmluZyhkKTtcclxuXHJcbiAgICAgIGlmICgobi5sZW5ndGggKyBlKSAlIDIgPT0gMCkgbiArPSAnMCc7XHJcbiAgICAgIHMgPSBNYXRoLnNxcnQobik7XHJcbiAgICAgIGUgPSBtYXRoZmxvb3IoKGUgKyAxKSAvIDIpIC0gKGUgPCAwIHx8IGUgJSAyKTtcclxuXHJcbiAgICAgIGlmIChzID09IDEgLyAwKSB7XHJcbiAgICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcclxuICAgICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgciA9IG5ldyBDdG9yKG4pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9IG5ldyBDdG9yKHMudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2QgPSAoZSA9IEN0b3IucHJlY2lzaW9uKSArIDM7XHJcblxyXG4gICAgLy8gTmV3dG9uLVJhcGhzb24gaXRlcmF0aW9uLlxyXG4gICAgZm9yICg7Oykge1xyXG4gICAgICB0ID0gcjtcclxuICAgICAgciA9IHQucGx1cyhkaXZpZGUoeCwgdCwgc2QgKyAyLCAxKSkudGltZXMoMC41KTtcclxuXHJcbiAgICAgIC8vIFRPRE8/IFJlcGxhY2Ugd2l0aCBmb3ItbG9vcCBhbmQgY2hlY2tSb3VuZGluZ0RpZ2l0cy5cclxuICAgICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgc2QpID09PSAobiA9IGRpZ2l0c1RvU3RyaW5nKHIuZCkpLnNsaWNlKDAsIHNkKSkge1xyXG4gICAgICAgIG4gPSBuLnNsaWNlKHNkIC0gMywgc2QgKyAxKTtcclxuXHJcbiAgICAgICAgLy8gVGhlIDR0aCByb3VuZGluZyBkaWdpdCBtYXkgYmUgaW4gZXJyb3IgYnkgLTEgc28gaWYgdGhlIDQgcm91bmRpbmcgZGlnaXRzIGFyZSA5OTk5IG9yXHJcbiAgICAgICAgLy8gNDk5OSwgaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBjb250aW51ZSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvbmx5LCBjaGVjayB0byBzZWUgaWYgcm91bmRpbmcgdXAgZ2l2ZXMgdGhlIGV4YWN0IHJlc3VsdCBhcyB0aGVcclxuICAgICAgICAgIC8vIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICAgIGZpbmFsaXNlKHQsIGUgKyAxLCAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0LnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgICAgciA9IHQ7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZCArPSA0O1xyXG4gICAgICAgICAgcmVwID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdHMgYXJlIG51bGwsIDB7MCw0fSBvciA1MHswLDN9LCBjaGVjayBmb3IgYW4gZXhhY3QgcmVzdWx0LlxyXG4gICAgICAgICAgLy8gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICAgIGlmICghK24gfHwgIStuLnNsaWNlKDEpICYmIG4uY2hhckF0KDApID09ICc1Jykge1xyXG5cclxuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgICBmaW5hbGlzZShyLCBlICsgMSwgMSk7XHJcbiAgICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHIsIGUsIEN0b3Iucm91bmRpbmcsIG0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB0YW5nZW50IG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICogUmFuZ2U6IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqXHJcbiAgICogdGFuKDApICAgICAgICAgPSAwXHJcbiAgICogdGFuKC0wKSAgICAgICAgPSAtMFxyXG4gICAqIHRhbihJbmZpbml0eSkgID0gTmFOXHJcbiAgICogdGFuKC1JbmZpbml0eSkgPSBOYU5cclxuICAgKiB0YW4oTmFOKSAgICAgICA9IE5hTlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50YW5nZW50ID0gUC50YW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcHIsIHJtLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gICAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDEwO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gICAgeCA9IHguc2luKCk7XHJcbiAgICB4LnMgPSAxO1xyXG4gICAgeCA9IGRpdmlkZSh4LCBuZXcgQ3RvcigxKS5taW51cyh4LnRpbWVzKHgpKS5zcXJ0KCksIHByICsgMTAsIDApO1xyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHF1YWRyYW50ID09IDIgfHwgcXVhZHJhbnQgPT0gNCA/IHgubmVnKCkgOiB4LCBwciwgcm0sIHRydWUpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuICogMCA9IDBcclxuICAgKiAgbiAqIE4gPSBOXHJcbiAgICogIG4gKiBJID0gSVxyXG4gICAqICAwICogbiA9IDBcclxuICAgKiAgMCAqIDAgPSAwXHJcbiAgICogIDAgKiBOID0gTlxyXG4gICAqICAwICogSSA9IE5cclxuICAgKiAgTiAqIG4gPSBOXHJcbiAgICogIE4gKiAwID0gTlxyXG4gICAqICBOICogTiA9IE5cclxuICAgKiAgTiAqIEkgPSBOXHJcbiAgICogIEkgKiBuID0gSVxyXG4gICAqICBJICogMCA9IE5cclxuICAgKiAgSSAqIE4gPSBOXHJcbiAgICogIEkgKiBJID0gSVxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhpcyBEZWNpbWFsIHRpbWVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRpbWVzID0gUC5tdWwgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgdmFyIGNhcnJ5LCBlLCBpLCBrLCByLCByTCwgdCwgeGRMLCB5ZEwsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgeGQgPSB4LmQsXHJcbiAgICAgIHlkID0gKHkgPSBuZXcgQ3Rvcih5KSkuZDtcclxuXHJcbiAgICB5LnMgKj0geC5zO1xyXG5cclxuICAgICAvLyBJZiBlaXRoZXIgaXMgTmFOLCDCsUluZmluaXR5IG9yIMKxMC4uLlxyXG4gICAgaWYgKCF4ZCB8fCAheGRbMF0gfHwgIXlkIHx8ICF5ZFswXSkge1xyXG5cclxuICAgICAgcmV0dXJuIG5ldyBDdG9yKCF5LnMgfHwgeGQgJiYgIXhkWzBdICYmICF5ZCB8fCB5ZCAmJiAheWRbMF0gJiYgIXhkXHJcblxyXG4gICAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIGlzIE5hTi5cclxuICAgICAgICAvLyBSZXR1cm4gTmFOIGlmIHggaXMgwrEwIGFuZCB5IGlzIMKxSW5maW5pdHksIG9yIHkgaXMgwrEwIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAgICAgPyBOYU5cclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIMKxSW5maW5pdHkgaWYgZWl0aGVyIGlzIMKxSW5maW5pdHkuXHJcbiAgICAgICAgLy8gUmV0dXJuIMKxMCBpZiBlaXRoZXIgaXMgwrEwLlxyXG4gICAgICAgIDogIXhkIHx8ICF5ZCA/IHkucyAvIDAgOiB5LnMgKiAwKTtcclxuICAgIH1cclxuXHJcbiAgICBlID0gbWF0aGZsb29yKHguZSAvIExPR19CQVNFKSArIG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICB4ZEwgPSB4ZC5sZW5ndGg7XHJcbiAgICB5ZEwgPSB5ZC5sZW5ndGg7XHJcblxyXG4gICAgLy8gRW5zdXJlIHhkIHBvaW50cyB0byB0aGUgbG9uZ2VyIGFycmF5LlxyXG4gICAgaWYgKHhkTCA8IHlkTCkge1xyXG4gICAgICByID0geGQ7XHJcbiAgICAgIHhkID0geWQ7XHJcbiAgICAgIHlkID0gcjtcclxuICAgICAgckwgPSB4ZEw7XHJcbiAgICAgIHhkTCA9IHlkTDtcclxuICAgICAgeWRMID0gckw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSW5pdGlhbGlzZSB0aGUgcmVzdWx0IGFycmF5IHdpdGggemVyb3MuXHJcbiAgICByID0gW107XHJcbiAgICByTCA9IHhkTCArIHlkTDtcclxuICAgIGZvciAoaSA9IHJMOyBpLS07KSByLnB1c2goMCk7XHJcblxyXG4gICAgLy8gTXVsdGlwbHkhXHJcbiAgICBmb3IgKGkgPSB5ZEw7IC0taSA+PSAwOykge1xyXG4gICAgICBjYXJyeSA9IDA7XHJcbiAgICAgIGZvciAoayA9IHhkTCArIGk7IGsgPiBpOykge1xyXG4gICAgICAgIHQgPSByW2tdICsgeWRbaV0gKiB4ZFtrIC0gaSAtIDFdICsgY2Fycnk7XHJcbiAgICAgICAgcltrLS1dID0gdCAlIEJBU0UgfCAwO1xyXG4gICAgICAgIGNhcnJ5ID0gdCAvIEJBU0UgfCAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByW2tdID0gKHJba10gKyBjYXJyeSkgJSBCQVNFIHwgMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICBmb3IgKDsgIXJbLS1yTF07KSByLnBvcCgpO1xyXG5cclxuICAgIGlmIChjYXJyeSkgKytlO1xyXG4gICAgZWxzZSByLnNoaWZ0KCk7XHJcblxyXG4gICAgeS5kID0gcjtcclxuICAgIHkuZSA9IGdldEJhc2UxMEV4cG9uZW50KHIsIGUpO1xyXG5cclxuICAgIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKSA6IHk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGJhc2UgMiwgcm91bmQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IHRoZW4gcmV0dXJuIGJpbmFyeSBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKlxyXG4gICAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAudG9CaW5hcnkgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgMiwgc2QsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSBtYXhpbXVtIG9mIGBkcGBcclxuICAgKiBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAgb3IgYHJvdW5kaW5nYCBpZiBgcm1gIGlzIG9taXR0ZWQuXHJcbiAgICpcclxuICAgKiBJZiBgZHBgIGlzIG9taXR0ZWQsIHJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAudG9EZWNpbWFsUGxhY2VzID0gUC50b0RQID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gICAgdmFyIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICB4ID0gbmV3IEN0b3IoeCk7XHJcbiAgICBpZiAoZHAgPT09IHZvaWQgMCkgcmV0dXJuIHg7XHJcblxyXG4gICAgY2hlY2tJbnQzMihkcCwgMCwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHgsIGRwICsgeC5lICsgMSwgcm0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBleHBvbmVudGlhbCBub3RhdGlvbiByb3VuZGVkIHRvXHJcbiAgICogYGRwYCBmaXhlZCBkZWNpbWFsIHBsYWNlcyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIHZhciBzdHIsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoZHAgPT09IHZvaWQgMCkge1xyXG4gICAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuXHJcbiAgICAgIHggPSBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgZHAgKyAxLCBybSk7XHJcbiAgICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHRydWUsIGRwICsgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gbm9ybWFsIChmaXhlZC1wb2ludCkgbm90YXRpb24gdG9cclxuICAgKiBgZHBgIGZpeGVkIGRlY2ltYWwgcGxhY2VzIGFuZCByb3VuZGVkIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYCBvciBgcm91bmRpbmdgIGlmIGBybWAgaXNcclxuICAgKiBvbWl0dGVkLlxyXG4gICAqXHJcbiAgICogQXMgd2l0aCBKYXZhU2NyaXB0IG51bWJlcnMsICgtMCkudG9GaXhlZCgwKSBpcyAnMCcsIGJ1dCBlLmcuICgtMC4wMDAwMSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLCBidXQgKC0wLjEpLnRvRml4ZWQoMCkgaXMgJy0wJy5cclxuICAgKiAoLTApLnRvRml4ZWQoMSkgaXMgJzAuMCcsIGJ1dCAoLTAuMDEpLnRvRml4ZWQoMSkgaXMgJy0wLjAnLlxyXG4gICAqICgtMCkudG9GaXhlZCgzKSBpcyAnMC4wMDAnLlxyXG4gICAqICgtMC41KS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvRml4ZWQgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICB2YXIgc3RyLCB5LFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKGRwID09PSB2b2lkIDApIHtcclxuICAgICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gICAgICB5ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIGRwICsgeC5lICsgMSwgcm0pO1xyXG4gICAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh5LCBmYWxzZSwgZHAgKyB5LmUgKyAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUbyBkZXRlcm1pbmUgd2hldGhlciB0byBhZGQgdGhlIG1pbnVzIHNpZ24gbG9vayBhdCB0aGUgdmFsdWUgYmVmb3JlIGl0IHdhcyByb3VuZGVkLFxyXG4gICAgLy8gaS5lLiBsb29rIGF0IGB4YCByYXRoZXIgdGhhbiBgeWAuXHJcbiAgICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBhcyBhIHNpbXBsZSBmcmFjdGlvbiB3aXRoIGFuIGludGVnZXJcclxuICAgKiBudW1lcmF0b3IgYW5kIGFuIGludGVnZXIgZGVub21pbmF0b3IuXHJcbiAgICpcclxuICAgKiBUaGUgZGVub21pbmF0b3Igd2lsbCBiZSBhIHBvc2l0aXZlIG5vbi16ZXJvIHZhbHVlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgc3BlY2lmaWVkIG1heGltdW1cclxuICAgKiBkZW5vbWluYXRvci4gSWYgYSBtYXhpbXVtIGRlbm9taW5hdG9yIGlzIG5vdCBzcGVjaWZpZWQsIHRoZSBkZW5vbWluYXRvciB3aWxsIGJlIHRoZSBsb3dlc3RcclxuICAgKiB2YWx1ZSBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBudW1iZXIgZXhhY3RseS5cclxuICAgKlxyXG4gICAqIFttYXhEXSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBNYXhpbXVtIGRlbm9taW5hdG9yLiBJbnRlZ2VyID49IDEgYW5kIDwgSW5maW5pdHkuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvRnJhY3Rpb24gPSBmdW5jdGlvbiAobWF4RCkge1xyXG4gICAgdmFyIGQsIGQwLCBkMSwgZDIsIGUsIGssIG4sIG4wLCBuMSwgcHIsIHEsIHIsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICB4ZCA9IHguZCxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKCF4ZCkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIG4xID0gZDAgPSBuZXcgQ3RvcigxKTtcclxuICAgIGQxID0gbjAgPSBuZXcgQ3RvcigwKTtcclxuXHJcbiAgICBkID0gbmV3IEN0b3IoZDEpO1xyXG4gICAgZSA9IGQuZSA9IGdldFByZWNpc2lvbih4ZCkgLSB4LmUgLSAxO1xyXG4gICAgayA9IGUgJSBMT0dfQkFTRTtcclxuICAgIGQuZFswXSA9IG1hdGhwb3coMTAsIGsgPCAwID8gTE9HX0JBU0UgKyBrIDogayk7XHJcblxyXG4gICAgaWYgKG1heEQgPT0gbnVsbCkge1xyXG5cclxuICAgICAgLy8gZCBpcyAxMCoqZSwgdGhlIG1pbmltdW0gbWF4LWRlbm9taW5hdG9yIG5lZWRlZC5cclxuICAgICAgbWF4RCA9IGUgPiAwID8gZCA6IG4xO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IG5ldyBDdG9yKG1heEQpO1xyXG4gICAgICBpZiAoIW4uaXNJbnQoKSB8fCBuLmx0KG4xKSkgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgbik7XHJcbiAgICAgIG1heEQgPSBuLmd0KGQpID8gKGUgPiAwID8gZCA6IG4xKSA6IG47XHJcbiAgICB9XHJcblxyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIG4gPSBuZXcgQ3RvcihkaWdpdHNUb1N0cmluZyh4ZCkpO1xyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIEN0b3IucHJlY2lzaW9uID0gZSA9IHhkLmxlbmd0aCAqIExPR19CQVNFICogMjtcclxuXHJcbiAgICBmb3IgKDs7KSAge1xyXG4gICAgICBxID0gZGl2aWRlKG4sIGQsIDAsIDEsIDEpO1xyXG4gICAgICBkMiA9IGQwLnBsdXMocS50aW1lcyhkMSkpO1xyXG4gICAgICBpZiAoZDIuY21wKG1heEQpID09IDEpIGJyZWFrO1xyXG4gICAgICBkMCA9IGQxO1xyXG4gICAgICBkMSA9IGQyO1xyXG4gICAgICBkMiA9IG4xO1xyXG4gICAgICBuMSA9IG4wLnBsdXMocS50aW1lcyhkMikpO1xyXG4gICAgICBuMCA9IGQyO1xyXG4gICAgICBkMiA9IGQ7XHJcbiAgICAgIGQgPSBuLm1pbnVzKHEudGltZXMoZDIpKTtcclxuICAgICAgbiA9IGQyO1xyXG4gICAgfVxyXG5cclxuICAgIGQyID0gZGl2aWRlKG1heEQubWludXMoZDApLCBkMSwgMCwgMSwgMSk7XHJcbiAgICBuMCA9IG4wLnBsdXMoZDIudGltZXMobjEpKTtcclxuICAgIGQwID0gZDAucGx1cyhkMi50aW1lcyhkMSkpO1xyXG4gICAgbjAucyA9IG4xLnMgPSB4LnM7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHdoaWNoIGZyYWN0aW9uIGlzIGNsb3NlciB0byB4LCBuMC9kMCBvciBuMS9kMT9cclxuICAgIHIgPSBkaXZpZGUobjEsIGQxLCBlLCAxKS5taW51cyh4KS5hYnMoKS5jbXAoZGl2aWRlKG4wLCBkMCwgZSwgMSkubWludXMoeCkuYWJzKCkpIDwgMVxyXG4gICAgICAgID8gW24xLCBkMV0gOiBbbjAsIGQwXTtcclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICAgIHJldHVybiByO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDE2LCByb3VuZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAgICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICAgKlxyXG4gICAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgdGhlbiByZXR1cm4gYmluYXJ5IGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAqXHJcbiAgICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50b0hleGFkZWNpbWFsID0gUC50b0hleCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCAxNiwgc2QsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm5zIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5lYXJlc3QgbXVsdGlwbGUgb2YgYHlgIGluIHRoZSBkaXJlY3Rpb24gb2Ygcm91bmRpbmdcclxuICAgKiBtb2RlIGBybWAsIG9yIGBEZWNpbWFsLnJvdW5kaW5nYCBpZiBgcm1gIGlzIG9taXR0ZWQsIHRvIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgYWx3YXlzIGhhdmUgdGhlIHNhbWUgc2lnbiBhcyB0aGlzIERlY2ltYWwsIHVubGVzcyBlaXRoZXIgdGhpcyBEZWNpbWFsXHJcbiAgICogb3IgYHlgIGlzIE5hTiwgaW4gd2hpY2ggY2FzZSB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgYWxzbyBiZSBOYU4uXHJcbiAgICpcclxuICAgKiBUaGUgcmV0dXJuIHZhbHVlIGlzIG5vdCBhZmZlY3RlZCBieSB0aGUgdmFsdWUgb2YgYHByZWNpc2lvbmAuXHJcbiAgICpcclxuICAgKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBtYWduaXR1ZGUgdG8gcm91bmQgdG8gYSBtdWx0aXBsZSBvZi5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAndG9OZWFyZXN0KCkgcm91bmRpbmcgbW9kZSBub3QgYW4gaW50ZWdlcjoge3JtfSdcclxuICAgKiAndG9OZWFyZXN0KCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvTmVhcmVzdCA9IGZ1bmN0aW9uICh5LCBybSkge1xyXG4gICAgdmFyIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICB4ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgaWYgKHkgPT0gbnVsbCkge1xyXG5cclxuICAgICAgLy8gSWYgeCBpcyBub3QgZmluaXRlLCByZXR1cm4geC5cclxuICAgICAgaWYgKCF4LmQpIHJldHVybiB4O1xyXG5cclxuICAgICAgeSA9IG5ldyBDdG9yKDEpO1xyXG4gICAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB5ID0gbmV3IEN0b3IoeSk7XHJcbiAgICAgIGlmIChybSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiB4IGlzIG5vdCBmaW5pdGUsIHJldHVybiB4IGlmIHkgaXMgbm90IE5hTiwgZWxzZSBOYU4uXHJcbiAgICAgIGlmICgheC5kKSByZXR1cm4geS5zID8geCA6IHk7XHJcblxyXG4gICAgICAvLyBJZiB5IGlzIG5vdCBmaW5pdGUsIHJldHVybiBJbmZpbml0eSB3aXRoIHRoZSBzaWduIG9mIHggaWYgeSBpcyBJbmZpbml0eSwgZWxzZSBOYU4uXHJcbiAgICAgIGlmICgheS5kKSB7XHJcbiAgICAgICAgaWYgKHkucykgeS5zID0geC5zO1xyXG4gICAgICAgIHJldHVybiB5O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgeSBpcyBub3QgemVybywgY2FsY3VsYXRlIHRoZSBuZWFyZXN0IG11bHRpcGxlIG9mIHkgdG8geC5cclxuICAgIGlmICh5LmRbMF0pIHtcclxuICAgICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgICAgeCA9IGRpdmlkZSh4LCB5LCAwLCBybSwgMSkudGltZXMoeSk7XHJcbiAgICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgICAgZmluYWxpc2UoeCk7XHJcblxyXG4gICAgLy8gSWYgeSBpcyB6ZXJvLCByZXR1cm4gemVybyB3aXRoIHRoZSBzaWduIG9mIHguXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB5LnMgPSB4LnM7XHJcbiAgICAgIHggPSB5O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGNvbnZlcnRlZCB0byBhIG51bWJlciBwcmltaXRpdmUuXHJcbiAgICogWmVybyBrZWVwcyBpdHMgc2lnbi5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAudG9OdW1iZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gK3RoaXM7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIGJhc2UgOCwgcm91bmQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IHRoZW4gcmV0dXJuIGJpbmFyeSBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKlxyXG4gICAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAudG9PY3RhbCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgIHJldHVybiB0b1N0cmluZ0JpbmFyeSh0aGlzLCA4LCBzZCwgcm0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcmFpc2VkIHRvIHRoZSBwb3dlciBgeWAsIHJvdW5kZWRcclxuICAgKiB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogRUNNQVNjcmlwdCBjb21wbGlhbnQuXHJcbiAgICpcclxuICAgKiAgIHBvdyh4LCBOYU4pICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBOYU5cclxuICAgKiAgIHBvdyh4LCDCsTApICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gMVxyXG5cclxuICAgKiAgIHBvdyhOYU4sIG5vbi16ZXJvKSAgICAgICAgICAgICAgICAgICAgPSBOYU5cclxuICAgKiAgIHBvdyhhYnMoeCkgPiAxLCArSW5maW5pdHkpICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICAgKiAgIHBvdyhhYnMoeCkgPiAxLCAtSW5maW5pdHkpICAgICAgICAgICAgPSArMFxyXG4gICAqICAgcG93KGFicyh4KSA9PSAxLCDCsUluZmluaXR5KSAgICAgICAgICAgPSBOYU5cclxuICAgKiAgIHBvdyhhYnMoeCkgPCAxLCArSW5maW5pdHkpICAgICAgICAgICAgPSArMFxyXG4gICAqICAgcG93KGFicyh4KSA8IDEsIC1JbmZpbml0eSkgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gICAqICAgcG93KCtJbmZpbml0eSwgeSA+IDApICAgICAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gICAqICAgcG93KCtJbmZpbml0eSwgeSA8IDApICAgICAgICAgICAgICAgICA9ICswXHJcbiAgICogICBwb3coLUluZmluaXR5LCBvZGQgaW50ZWdlciA+IDApICAgICAgID0gLUluZmluaXR5XHJcbiAgICogICBwb3coLUluZmluaXR5LCBldmVuIGludGVnZXIgPiAwKSAgICAgID0gK0luZmluaXR5XHJcbiAgICogICBwb3coLUluZmluaXR5LCBvZGQgaW50ZWdlciA8IDApICAgICAgID0gLTBcclxuICAgKiAgIHBvdygtSW5maW5pdHksIGV2ZW4gaW50ZWdlciA8IDApICAgICAgPSArMFxyXG4gICAqICAgcG93KCswLCB5ID4gMCkgICAgICAgICAgICAgICAgICAgICAgICA9ICswXHJcbiAgICogICBwb3coKzAsIHkgPCAwKSAgICAgICAgICAgICAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAgICogICBwb3coLTAsIG9kZCBpbnRlZ2VyID4gMCkgICAgICAgICAgICAgID0gLTBcclxuICAgKiAgIHBvdygtMCwgZXZlbiBpbnRlZ2VyID4gMCkgICAgICAgICAgICAgPSArMFxyXG4gICAqICAgcG93KC0wLCBvZGQgaW50ZWdlciA8IDApICAgICAgICAgICAgICA9IC1JbmZpbml0eVxyXG4gICAqICAgcG93KC0wLCBldmVuIGludGVnZXIgPCAwKSAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gICAqICAgcG93KGZpbml0ZSB4IDwgMCwgZmluaXRlIG5vbi1pbnRlZ2VyKSA9IE5hTlxyXG4gICAqXHJcbiAgICogRm9yIG5vbi1pbnRlZ2VyIG9yIHZlcnkgbGFyZ2UgZXhwb25lbnRzIHBvdyh4LCB5KSBpcyBjYWxjdWxhdGVkIHVzaW5nXHJcbiAgICpcclxuICAgKiAgIHheeSA9IGV4cCh5KmxuKHgpKVxyXG4gICAqXHJcbiAgICogQXNzdW1pbmcgdGhlIGZpcnN0IDE1IHJvdW5kaW5nIGRpZ2l0cyBhcmUgZWFjaCBlcXVhbGx5IGxpa2VseSB0byBiZSBhbnkgZGlnaXQgMC05LCB0aGVcclxuICAgKiBwcm9iYWJpbGl0eSBvZiBhbiBpbmNvcnJlY3RseSByb3VuZGVkIHJlc3VsdFxyXG4gICAqIFAoWzQ5XTl7MTR9IHwgWzUwXTB7MTR9KSA9IDIgKiAwLjIgKiAxMF4tMTQgPSA0ZS0xNSA9IDEvMi41ZSsxNFxyXG4gICAqIGkuZS4gMSBpbiAyNTAsMDAwLDAwMCwwMDAsMDAwXHJcbiAgICpcclxuICAgKiBJZiBhIHJlc3VsdCBpcyBpbmNvcnJlY3RseSByb3VuZGVkIHRoZSBtYXhpbXVtIGVycm9yIHdpbGwgYmUgMSB1bHAgKHVuaXQgaW4gbGFzdCBwbGFjZSkuXHJcbiAgICpcclxuICAgKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBwb3dlciB0byB3aGljaCB0byByYWlzZSB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvUG93ZXIgPSBQLnBvdyA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICB2YXIgZSwgaywgcHIsIHIsIHJtLCBzLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHluID0gKyh5ID0gbmV3IEN0b3IoeSkpO1xyXG5cclxuICAgIC8vIEVpdGhlciDCsUluZmluaXR5LCBOYU4gb3IgwrEwP1xyXG4gICAgaWYgKCF4LmQgfHwgIXkuZCB8fCAheC5kWzBdIHx8ICF5LmRbMF0pIHJldHVybiBuZXcgQ3RvcihtYXRocG93KCt4LCB5bikpO1xyXG5cclxuICAgIHggPSBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICBpZiAoeC5lcSgxKSkgcmV0dXJuIHg7XHJcblxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuXHJcbiAgICBpZiAoeS5lcSgxKSkgcmV0dXJuIGZpbmFsaXNlKHgsIHByLCBybSk7XHJcblxyXG4gICAgLy8geSBleHBvbmVudFxyXG4gICAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgLy8gSWYgeSBpcyBhIHNtYWxsIGludGVnZXIgdXNlIHRoZSAnZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcnIGFsZ29yaXRobS5cclxuICAgIGlmIChlID49IHkuZC5sZW5ndGggLSAxICYmIChrID0geW4gPCAwID8gLXluIDogeW4pIDw9IE1BWF9TQUZFX0lOVEVHRVIpIHtcclxuICAgICAgciA9IGludFBvdyhDdG9yLCB4LCBrLCBwcik7XHJcbiAgICAgIHJldHVybiB5LnMgPCAwID8gbmV3IEN0b3IoMSkuZGl2KHIpIDogZmluYWxpc2UociwgcHIsIHJtKTtcclxuICAgIH1cclxuXHJcbiAgICBzID0geC5zO1xyXG5cclxuICAgIC8vIGlmIHggaXMgbmVnYXRpdmVcclxuICAgIGlmIChzIDwgMCkge1xyXG5cclxuICAgICAgLy8gaWYgeSBpcyBub3QgYW4gaW50ZWdlclxyXG4gICAgICBpZiAoZSA8IHkuZC5sZW5ndGggLSAxKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAgIC8vIFJlc3VsdCBpcyBwb3NpdGl2ZSBpZiB4IGlzIG5lZ2F0aXZlIGFuZCB0aGUgbGFzdCBkaWdpdCBvZiBpbnRlZ2VyIHkgaXMgZXZlbi5cclxuICAgICAgaWYgKCh5LmRbZV0gJiAxKSA9PSAwKSBzID0gMTtcclxuXHJcbiAgICAgIC8vIGlmIHguZXEoLTEpXHJcbiAgICAgIGlmICh4LmUgPT0gMCAmJiB4LmRbMF0gPT0gMSAmJiB4LmQubGVuZ3RoID09IDEpIHtcclxuICAgICAgICB4LnMgPSBzO1xyXG4gICAgICAgIHJldHVybiB4O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXN0aW1hdGUgcmVzdWx0IGV4cG9uZW50LlxyXG4gICAgLy8geF55ID0gMTBeZSwgIHdoZXJlIGUgPSB5ICogbG9nMTAoeClcclxuICAgIC8vIGxvZzEwKHgpID0gbG9nMTAoeF9zaWduaWZpY2FuZCkgKyB4X2V4cG9uZW50XHJcbiAgICAvLyBsb2cxMCh4X3NpZ25pZmljYW5kKSA9IGxuKHhfc2lnbmlmaWNhbmQpIC8gbG4oMTApXHJcbiAgICBrID0gbWF0aHBvdygreCwgeW4pO1xyXG4gICAgZSA9IGsgPT0gMCB8fCAhaXNGaW5pdGUoaylcclxuICAgICAgPyBtYXRoZmxvb3IoeW4gKiAoTWF0aC5sb2coJzAuJyArIGRpZ2l0c1RvU3RyaW5nKHguZCkpIC8gTWF0aC5MTjEwICsgeC5lICsgMSkpXHJcbiAgICAgIDogbmV3IEN0b3IoayArICcnKS5lO1xyXG5cclxuICAgIC8vIEV4cG9uZW50IGVzdGltYXRlIG1heSBiZSBpbmNvcnJlY3QgZS5nLiB4OiAwLjk5OTk5OTk5OTk5OTk5OTk5OSwgeTogMi4yOSwgZTogMCwgci5lOiAtMS5cclxuXHJcbiAgICAvLyBPdmVyZmxvdy91bmRlcmZsb3c/XHJcbiAgICBpZiAoZSA+IEN0b3IubWF4RSArIDEgfHwgZSA8IEN0b3IubWluRSAtIDEpIHJldHVybiBuZXcgQ3RvcihlID4gMCA/IHMgLyAwIDogMCk7XHJcblxyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIEN0b3Iucm91bmRpbmcgPSB4LnMgPSAxO1xyXG5cclxuICAgIC8vIEVzdGltYXRlIHRoZSBleHRyYSBndWFyZCBkaWdpdHMgbmVlZGVkIHRvIGVuc3VyZSBmaXZlIGNvcnJlY3Qgcm91bmRpbmcgZGlnaXRzIGZyb21cclxuICAgIC8vIG5hdHVyYWxMb2dhcml0aG0oeCkuIEV4YW1wbGUgb2YgZmFpbHVyZSB3aXRob3V0IHRoZXNlIGV4dHJhIGRpZ2l0cyAocHJlY2lzaW9uOiAxMCk6XHJcbiAgICAvLyBuZXcgRGVjaW1hbCgyLjMyNDU2KS5wb3coJzIwODc5ODc0MzY1MzQ1NjYuNDY0MTEnKVxyXG4gICAgLy8gc2hvdWxkIGJlIDEuMTYyMzc3ODIzZSs3NjQ5MTQ5MDUxNzM4MTUsIGJ1dCBpcyAxLjE2MjM1NTgyM2UrNzY0OTE0OTA1MTczODE1XHJcbiAgICBrID0gTWF0aC5taW4oMTIsIChlICsgJycpLmxlbmd0aCk7XHJcblxyXG4gICAgLy8gciA9IHheeSA9IGV4cCh5KmxuKHgpKVxyXG4gICAgciA9IG5hdHVyYWxFeHBvbmVudGlhbCh5LnRpbWVzKG5hdHVyYWxMb2dhcml0aG0oeCwgcHIgKyBrKSksIHByKTtcclxuXHJcbiAgICAvLyByIG1heSBiZSBJbmZpbml0eSwgZS5nLiAoMC45OTk5OTk5OTk5OTk5OTk5KS5wb3coLTFlKzQwKVxyXG4gICAgaWYgKHIuZCkge1xyXG5cclxuICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIHJlcXVpcmVkIHByZWNpc2lvbiBwbHVzIGZpdmUgcm91bmRpbmcgZGlnaXRzLlxyXG4gICAgICByID0gZmluYWxpc2UociwgcHIgKyA1LCAxKTtcclxuXHJcbiAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTk5IG9yIFs1MF0wMDAwIGluY3JlYXNlIHRoZSBwcmVjaXNpb24gYnkgMTAgYW5kIHJlY2FsY3VsYXRlXHJcbiAgICAgIC8vIHRoZSByZXN1bHQuXHJcbiAgICAgIGlmIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgcHIsIHJtKSkge1xyXG4gICAgICAgIGUgPSBwciArIDEwO1xyXG5cclxuICAgICAgICAvLyBUcnVuY2F0ZSB0byB0aGUgaW5jcmVhc2VkIHByZWNpc2lvbiBwbHVzIGZpdmUgcm91bmRpbmcgZGlnaXRzLlxyXG4gICAgICAgIHIgPSBmaW5hbGlzZShuYXR1cmFsRXhwb25lbnRpYWwoeS50aW1lcyhuYXR1cmFsTG9nYXJpdGhtKHgsIGUgKyBrKSksIGUpLCBlICsgNSwgMSk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGZvciAxNCBuaW5lcyBmcm9tIHRoZSAybmQgcm91bmRpbmcgZGlnaXQgKHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdCBtYXkgYmUgNCBvciA5KS5cclxuICAgICAgICBpZiAoK2RpZ2l0c1RvU3RyaW5nKHIuZCkuc2xpY2UocHIgKyAxLCBwciArIDE1KSArIDEgPT0gMWUxNCkge1xyXG4gICAgICAgICAgciA9IGZpbmFsaXNlKHIsIHByICsgMSwgMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgci5zID0gcztcclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UociwgcHIsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBgc2RgIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gICAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIFJldHVybiBleHBvbmVudGlhbCBub3RhdGlvbiBpZiBgc2RgIGlzIGxlc3MgdGhhbiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBuZWNlc3NhcnkgdG8gcmVwcmVzZW50XHJcbiAgICogdGhlIGludGVnZXIgcGFydCBvZiB0aGUgdmFsdWUgaW4gbm9ybWFsIG5vdGF0aW9uLlxyXG4gICAqXHJcbiAgICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50b1ByZWNpc2lvbiA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgIHZhciBzdHIsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoc2QgPT09IHZvaWQgMCkge1xyXG4gICAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB4LmUgPD0gQ3Rvci50b0V4cE5lZyB8fCB4LmUgPj0gQ3Rvci50b0V4cFBvcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gICAgICB4ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIHNkLCBybSk7XHJcbiAgICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHNkIDw9IHguZSB8fCB4LmUgPD0gQ3Rvci50b0V4cE5lZywgc2QpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBgc2RgXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYCwgb3IgdG8gYHByZWNpc2lvbmAgYW5kIGByb3VuZGluZ2AgcmVzcGVjdGl2ZWx5IGlmXHJcbiAgICogb21pdHRlZC5cclxuICAgKlxyXG4gICAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqICd0b1NEKCkgZGlnaXRzIG91dCBvZiByYW5nZToge3NkfSdcclxuICAgKiAndG9TRCgpIGRpZ2l0cyBub3QgYW4gaW50ZWdlcjoge3NkfSdcclxuICAgKiAndG9TRCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXHJcbiAgICogJ3RvU0QoKSByb3VuZGluZyBtb2RlIG91dCBvZiByYW5nZToge3JtfSdcclxuICAgKlxyXG4gICAqL1xyXG4gIFAudG9TaWduaWZpY2FudERpZ2l0cyA9IFAudG9TRCA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgIHZhciB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKHNkID09PSB2b2lkIDApIHtcclxuICAgICAgc2QgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hlY2tJbnQzMihzZCwgMSwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmaW5hbGlzZShuZXcgQ3Rvcih4KSwgc2QsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24gaWYgdGhpcyBEZWNpbWFsIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhblxyXG4gICAqIGB0b0V4cFBvc2AsIG9yIGEgbmVnYXRpdmUgZXhwb25lbnQgZXF1YWwgdG8gb3IgbGVzcyB0aGFuIGB0b0V4cE5lZ2AuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG5cclxuICAgIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCB0cnVuY2F0ZWQgdG8gYSB3aG9sZSBudW1iZXIuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRydW5jYXRlZCA9IFAudHJ1bmMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gZmluYWxpc2UobmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyksIHRoaXMuZSArIDEsIDEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKiBVbmxpa2UgYHRvU3RyaW5nYCwgbmVnYXRpdmUgemVybyB3aWxsIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24uXHJcbiAgICpcclxuICAgKi9cclxuICBQLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHguZSA8PSBDdG9yLnRvRXhwTmVnIHx8IHguZSA+PSBDdG9yLnRvRXhwUG9zKTtcclxuXHJcbiAgICByZXR1cm4geC5pc05lZygpID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH07XHJcblxyXG5cclxuICAvLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBEZWNpbWFsLnByb3RvdHlwZSAoUCkgYW5kL29yIERlY2ltYWwgbWV0aG9kcywgYW5kIHRoZWlyIGNhbGxlcnMuXHJcblxyXG5cclxuICAvKlxyXG4gICAqICBkaWdpdHNUb1N0cmluZyAgICAgICAgICAgUC5jdWJlUm9vdCwgUC5sb2dhcml0aG0sIFAuc3F1YXJlUm9vdCwgUC50b0ZyYWN0aW9uLCBQLnRvUG93ZXIsXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5pdGVUb1N0cmluZywgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAgICogIGNoZWNrSW50MzIgICAgICAgICAgICAgICBQLnRvRGVjaW1hbFBsYWNlcywgUC50b0V4cG9uZW50aWFsLCBQLnRvRml4ZWQsIFAudG9OZWFyZXN0LFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b1ByZWNpc2lvbiwgUC50b1NpZ25pZmljYW50RGlnaXRzLCB0b1N0cmluZ0JpbmFyeSwgcmFuZG9tXHJcbiAgICogIGNoZWNrUm91bmRpbmdEaWdpdHMgICAgICBQLmxvZ2FyaXRobSwgUC50b1Bvd2VyLCBuYXR1cmFsRXhwb25lbnRpYWwsIG5hdHVyYWxMb2dhcml0aG1cclxuICAgKiAgY29udmVydEJhc2UgICAgICAgICAgICAgIHRvU3RyaW5nQmluYXJ5LCBwYXJzZU90aGVyXHJcbiAgICogIGNvcyAgICAgICAgICAgICAgICAgICAgICBQLmNvc1xyXG4gICAqICBkaXZpZGUgICAgICAgICAgICAgICAgICAgUC5hdGFuaCwgUC5jdWJlUm9vdCwgUC5kaXZpZGVkQnksIFAuZGl2aWRlZFRvSW50ZWdlckJ5LFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIFAubW9kdWxvLCBQLnNxdWFyZVJvb3QsIFAudGFuLCBQLnRhbmgsIFAudG9GcmFjdGlvbixcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9OZWFyZXN0LCB0b1N0cmluZ0JpbmFyeSwgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdGF5bG9yU2VyaWVzLCBhdGFuMiwgcGFyc2VPdGhlclxyXG4gICAqICBmaW5hbGlzZSAgICAgICAgICAgICAgICAgUC5hYnNvbHV0ZVZhbHVlLCBQLmF0YW4sIFAuYXRhbmgsIFAuY2VpbCwgUC5jb3MsIFAuY29zaCxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAuY3ViZVJvb3QsIFAuZGl2aWRlZFRvSW50ZWdlckJ5LCBQLmZsb29yLCBQLmxvZ2FyaXRobSwgUC5taW51cyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAubW9kdWxvLCBQLm5lZ2F0ZWQsIFAucGx1cywgUC5yb3VuZCwgUC5zaW4sIFAuc2luaCwgUC5zcXVhcmVSb290LFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50YW4sIFAudGltZXMsIFAudG9EZWNpbWFsUGxhY2VzLCBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9OZWFyZXN0LCBQLnRvUG93ZXIsIFAudG9QcmVjaXNpb24sIFAudG9TaWduaWZpY2FudERpZ2l0cyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudHJ1bmNhdGVkLCBkaXZpZGUsIGdldExuMTAsIGdldFBpLCBuYXR1cmFsRXhwb25lbnRpYWwsXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmFsTG9nYXJpdGhtLCBjZWlsLCBmbG9vciwgcm91bmQsIHRydW5jXHJcbiAgICogIGZpbml0ZVRvU3RyaW5nICAgICAgICAgICBQLnRvRXhwb25lbnRpYWwsIFAudG9GaXhlZCwgUC50b1ByZWNpc2lvbiwgUC50b1N0cmluZywgUC52YWx1ZU9mLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9TdHJpbmdCaW5hcnlcclxuICAgKiAgZ2V0QmFzZTEwRXhwb25lbnQgICAgICAgIFAubWludXMsIFAucGx1cywgUC50aW1lcywgcGFyc2VPdGhlclxyXG4gICAqICBnZXRMbjEwICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIG5hdHVyYWxMb2dhcml0aG1cclxuICAgKiAgZ2V0UGkgICAgICAgICAgICAgICAgICAgIFAuYWNvcywgUC5hc2luLCBQLmF0YW4sIHRvTGVzc1RoYW5IYWxmUGksIGF0YW4yXHJcbiAgICogIGdldFByZWNpc2lvbiAgICAgICAgICAgICBQLnByZWNpc2lvbiwgUC50b0ZyYWN0aW9uXHJcbiAgICogIGdldFplcm9TdHJpbmcgICAgICAgICAgICBkaWdpdHNUb1N0cmluZywgZmluaXRlVG9TdHJpbmdcclxuICAgKiAgaW50UG93ICAgICAgICAgICAgICAgICAgIFAudG9Qb3dlciwgcGFyc2VPdGhlclxyXG4gICAqICBpc09kZCAgICAgICAgICAgICAgICAgICAgdG9MZXNzVGhhbkhhbGZQaVxyXG4gICAqICBtYXhPck1pbiAgICAgICAgICAgICAgICAgbWF4LCBtaW5cclxuICAgKiAgbmF0dXJhbEV4cG9uZW50aWFsICAgICAgIFAubmF0dXJhbEV4cG9uZW50aWFsLCBQLnRvUG93ZXJcclxuICAgKiAgbmF0dXJhbExvZ2FyaXRobSAgICAgICAgIFAuYWNvc2gsIFAuYXNpbmgsIFAuYXRhbmgsIFAubG9nYXJpdGhtLCBQLm5hdHVyYWxMb2dhcml0aG0sXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvUG93ZXIsIG5hdHVyYWxFeHBvbmVudGlhbFxyXG4gICAqICBub25GaW5pdGVUb1N0cmluZyAgICAgICAgZmluaXRlVG9TdHJpbmcsIHRvU3RyaW5nQmluYXJ5XHJcbiAgICogIHBhcnNlRGVjaW1hbCAgICAgICAgICAgICBEZWNpbWFsXHJcbiAgICogIHBhcnNlT3RoZXIgICAgICAgICAgICAgICBEZWNpbWFsXHJcbiAgICogIHNpbiAgICAgICAgICAgICAgICAgICAgICBQLnNpblxyXG4gICAqICB0YXlsb3JTZXJpZXMgICAgICAgICAgICAgUC5jb3NoLCBQLnNpbmgsIGNvcywgc2luXHJcbiAgICogIHRvTGVzc1RoYW5IYWxmUGkgICAgICAgICBQLmNvcywgUC5zaW5cclxuICAgKiAgdG9TdHJpbmdCaW5hcnkgICAgICAgICAgIFAudG9CaW5hcnksIFAudG9IZXhhZGVjaW1hbCwgUC50b09jdGFsXHJcbiAgICogIHRydW5jYXRlICAgICAgICAgICAgICAgICBpbnRQb3dcclxuICAgKlxyXG4gICAqICBUaHJvd3M6ICAgICAgICAgICAgICAgICAgUC5sb2dhcml0aG0sIFAucHJlY2lzaW9uLCBQLnRvRnJhY3Rpb24sIGNoZWNrSW50MzIsIGdldExuMTAsIGdldFBpLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJhbExvZ2FyaXRobSwgY29uZmlnLCBwYXJzZU90aGVyLCByYW5kb20sIERlY2ltYWxcclxuICAgKi9cclxuXHJcblxyXG4gIGZ1bmN0aW9uIGRpZ2l0c1RvU3RyaW5nKGQpIHtcclxuICAgIHZhciBpLCBrLCB3cyxcclxuICAgICAgaW5kZXhPZkxhc3RXb3JkID0gZC5sZW5ndGggLSAxLFxyXG4gICAgICBzdHIgPSAnJyxcclxuICAgICAgdyA9IGRbMF07XHJcblxyXG4gICAgaWYgKGluZGV4T2ZMYXN0V29yZCA+IDApIHtcclxuICAgICAgc3RyICs9IHc7XHJcbiAgICAgIGZvciAoaSA9IDE7IGkgPCBpbmRleE9mTGFzdFdvcmQ7IGkrKykge1xyXG4gICAgICAgIHdzID0gZFtpXSArICcnO1xyXG4gICAgICAgIGsgPSBMT0dfQkFTRSAtIHdzLmxlbmd0aDtcclxuICAgICAgICBpZiAoaykgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgICAgICAgc3RyICs9IHdzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB3ID0gZFtpXTtcclxuICAgICAgd3MgPSB3ICsgJyc7XHJcbiAgICAgIGsgPSBMT0dfQkFTRSAtIHdzLmxlbmd0aDtcclxuICAgICAgaWYgKGspIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgfSBlbHNlIGlmICh3ID09PSAwKSB7XHJcbiAgICAgIHJldHVybiAnMCc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zIG9mIGxhc3Qgdy5cclxuICAgIGZvciAoOyB3ICUgMTAgPT09IDA7KSB3IC89IDEwO1xyXG5cclxuICAgIHJldHVybiBzdHIgKyB3O1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrSW50MzIoaSwgbWluLCBtYXgpIHtcclxuICAgIGlmIChpICE9PSB+fmkgfHwgaSA8IG1pbiB8fCBpID4gbWF4KSB7XHJcbiAgICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIGkpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogQ2hlY2sgNSByb3VuZGluZyBkaWdpdHMgaWYgYHJlcGVhdGluZ2AgaXMgbnVsbCwgNCBvdGhlcndpc2UuXHJcbiAgICogYHJlcGVhdGluZyA9PSBudWxsYCBpZiBjYWxsZXIgaXMgYGxvZ2Agb3IgYHBvd2AsXHJcbiAgICogYHJlcGVhdGluZyAhPSBudWxsYCBpZiBjYWxsZXIgaXMgYG5hdHVyYWxMb2dhcml0aG1gIG9yIGBuYXR1cmFsRXhwb25lbnRpYWxgLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNoZWNrUm91bmRpbmdEaWdpdHMoZCwgaSwgcm0sIHJlcGVhdGluZykge1xyXG4gICAgdmFyIGRpLCBrLCByLCByZDtcclxuXHJcbiAgICAvLyBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgYXJyYXkgZC5cclxuICAgIGZvciAoayA9IGRbMF07IGsgPj0gMTA7IGsgLz0gMTApIC0taTtcclxuXHJcbiAgICAvLyBJcyB0aGUgcm91bmRpbmcgZGlnaXQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgZD9cclxuICAgIGlmICgtLWkgPCAwKSB7XHJcbiAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgIGRpID0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRpID0gTWF0aC5jZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcbiAgICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaSBpcyB0aGUgaW5kZXggKDAgLSA2KSBvZiB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAvLyBFLmcuIGlmIHdpdGhpbiB0aGUgd29yZCAzNDg3NTYzIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdCBpcyA1LFxyXG4gICAgLy8gdGhlbiBpID0gNCwgayA9IDEwMDAsIHJkID0gMzQ4NzU2MyAlIDEwMDAgPSA1NjNcclxuICAgIGsgPSBtYXRocG93KDEwLCBMT0dfQkFTRSAtIGkpO1xyXG4gICAgcmQgPSBkW2RpXSAlIGsgfCAwO1xyXG5cclxuICAgIGlmIChyZXBlYXRpbmcgPT0gbnVsbCkge1xyXG4gICAgICBpZiAoaSA8IDMpIHtcclxuICAgICAgICBpZiAoaSA9PSAwKSByZCA9IHJkIC8gMTAwIHwgMDtcclxuICAgICAgICBlbHNlIGlmIChpID09IDEpIHJkID0gcmQgLyAxMCB8IDA7XHJcbiAgICAgICAgciA9IHJtIDwgNCAmJiByZCA9PSA5OTk5OSB8fCBybSA+IDMgJiYgcmQgPT0gNDk5OTkgfHwgcmQgPT0gNTAwMDAgfHwgcmQgPT0gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByID0gKHJtIDwgNCAmJiByZCArIDEgPT0gayB8fCBybSA+IDMgJiYgcmQgKyAxID09IGsgLyAyKSAmJlxyXG4gICAgICAgICAgKGRbZGkgKyAxXSAvIGsgLyAxMDAgfCAwKSA9PSBtYXRocG93KDEwLCBpIC0gMikgLSAxIHx8XHJcbiAgICAgICAgICAgIChyZCA9PSBrIC8gMiB8fCByZCA9PSAwKSAmJiAoZFtkaSArIDFdIC8gayAvIDEwMCB8IDApID09IDA7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmIChpIDwgNCkge1xyXG4gICAgICAgIGlmIChpID09IDApIHJkID0gcmQgLyAxMDAwIHwgMDtcclxuICAgICAgICBlbHNlIGlmIChpID09IDEpIHJkID0gcmQgLyAxMDAgfCAwO1xyXG4gICAgICAgIGVsc2UgaWYgKGkgPT0gMikgcmQgPSByZCAvIDEwIHwgMDtcclxuICAgICAgICByID0gKHJlcGVhdGluZyB8fCBybSA8IDQpICYmIHJkID09IDk5OTkgfHwgIXJlcGVhdGluZyAmJiBybSA+IDMgJiYgcmQgPT0gNDk5OTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByID0gKChyZXBlYXRpbmcgfHwgcm0gPCA0KSAmJiByZCArIDEgPT0gayB8fFxyXG4gICAgICAgICghcmVwZWF0aW5nICYmIHJtID4gMykgJiYgcmQgKyAxID09IGsgLyAyKSAmJlxyXG4gICAgICAgICAgKGRbZGkgKyAxXSAvIGsgLyAxMDAwIHwgMCkgPT0gbWF0aHBvdygxMCwgaSAtIDMpIC0gMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIENvbnZlcnQgc3RyaW5nIG9mIGBiYXNlSW5gIHRvIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgYGJhc2VPdXRgLlxyXG4gIC8vIEVnLiBjb252ZXJ0QmFzZSgnMjU1JywgMTAsIDE2KSByZXR1cm5zIFsxNSwgMTVdLlxyXG4gIC8vIEVnLiBjb252ZXJ0QmFzZSgnZmYnLCAxNiwgMTApIHJldHVybnMgWzIsIDUsIDVdLlxyXG4gIGZ1bmN0aW9uIGNvbnZlcnRCYXNlKHN0ciwgYmFzZUluLCBiYXNlT3V0KSB7XHJcbiAgICB2YXIgaixcclxuICAgICAgYXJyID0gWzBdLFxyXG4gICAgICBhcnJMLFxyXG4gICAgICBpID0gMCxcclxuICAgICAgc3RyTCA9IHN0ci5sZW5ndGg7XHJcblxyXG4gICAgZm9yICg7IGkgPCBzdHJMOykge1xyXG4gICAgICBmb3IgKGFyckwgPSBhcnIubGVuZ3RoOyBhcnJMLS07KSBhcnJbYXJyTF0gKj0gYmFzZUluO1xyXG4gICAgICBhcnJbMF0gKz0gTlVNRVJBTFMuaW5kZXhPZihzdHIuY2hhckF0KGkrKykpO1xyXG4gICAgICBmb3IgKGogPSAwOyBqIDwgYXJyLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKGFycltqXSA+IGJhc2VPdXQgLSAxKSB7XHJcbiAgICAgICAgICBpZiAoYXJyW2ogKyAxXSA9PT0gdm9pZCAwKSBhcnJbaiArIDFdID0gMDtcclxuICAgICAgICAgIGFycltqICsgMV0gKz0gYXJyW2pdIC8gYmFzZU91dCB8IDA7XHJcbiAgICAgICAgICBhcnJbal0gJT0gYmFzZU91dDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXJyLnJldmVyc2UoKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIGNvcyh4KSA9IDEgLSB4XjIvMiEgKyB4XjQvNCEgLSAuLi5cclxuICAgKiB8eHwgPCBwaS8yXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBjb3NpbmUoQ3RvciwgeCkge1xyXG4gICAgdmFyIGssIGxlbiwgeTtcclxuXHJcbiAgICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIHg7XHJcblxyXG4gICAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBjb3MoNHgpID0gOCooY29zXjQoeCkgLSBjb3NeMih4KSkgKyAxXHJcbiAgICAvLyBpLmUuIGNvcyh4KSA9IDgqKGNvc140KHgvNCkgLSBjb3NeMih4LzQpKSArIDFcclxuXHJcbiAgICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICBsZW4gPSB4LmQubGVuZ3RoO1xyXG4gICAgaWYgKGxlbiA8IDMyKSB7XHJcbiAgICAgIGsgPSBNYXRoLmNlaWwobGVuIC8gMyk7XHJcbiAgICAgIHkgPSAoMSAvIHRpbnlQb3coNCwgaykpLnRvU3RyaW5nKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBrID0gMTY7XHJcbiAgICAgIHkgPSAnMi4zMjgzMDY0MzY1Mzg2OTYyODkwNjI1ZS0xMCc7XHJcbiAgICB9XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gKz0gaztcclxuXHJcbiAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDEsIHgudGltZXMoeSksIG5ldyBDdG9yKDEpKTtcclxuXHJcbiAgICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gICAgZm9yICh2YXIgaSA9IGs7IGktLTspIHtcclxuICAgICAgdmFyIGNvczJ4ID0geC50aW1lcyh4KTtcclxuICAgICAgeCA9IGNvczJ4LnRpbWVzKGNvczJ4KS5taW51cyhjb3MyeCkudGltZXMoOCkucGx1cygxKTtcclxuICAgIH1cclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiAtPSBrO1xyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUGVyZm9ybSBkaXZpc2lvbiBpbiB0aGUgc3BlY2lmaWVkIGJhc2UuXHJcbiAgICovXHJcbiAgdmFyIGRpdmlkZSA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgLy8gQXNzdW1lcyBub24temVybyB4IGFuZCBrLCBhbmQgaGVuY2Ugbm9uLXplcm8gcmVzdWx0LlxyXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlJbnRlZ2VyKHgsIGssIGJhc2UpIHtcclxuICAgICAgdmFyIHRlbXAsXHJcbiAgICAgICAgY2FycnkgPSAwLFxyXG4gICAgICAgIGkgPSB4Lmxlbmd0aDtcclxuXHJcbiAgICAgIGZvciAoeCA9IHguc2xpY2UoKTsgaS0tOykge1xyXG4gICAgICAgIHRlbXAgPSB4W2ldICogayArIGNhcnJ5O1xyXG4gICAgICAgIHhbaV0gPSB0ZW1wICUgYmFzZSB8IDA7XHJcbiAgICAgICAgY2FycnkgPSB0ZW1wIC8gYmFzZSB8IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjYXJyeSkgeC51bnNoaWZ0KGNhcnJ5KTtcclxuXHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYiwgYUwsIGJMKSB7XHJcbiAgICAgIHZhciBpLCByO1xyXG5cclxuICAgICAgaWYgKGFMICE9IGJMKSB7XHJcbiAgICAgICAgciA9IGFMID4gYkwgPyAxIDogLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChpID0gciA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAoYVtpXSAhPSBiW2ldKSB7XHJcbiAgICAgICAgICAgIHIgPSBhW2ldID4gYltpXSA/IDEgOiAtMTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdWJ0cmFjdChhLCBiLCBhTCwgYmFzZSkge1xyXG4gICAgICB2YXIgaSA9IDA7XHJcblxyXG4gICAgICAvLyBTdWJ0cmFjdCBiIGZyb20gYS5cclxuICAgICAgZm9yICg7IGFMLS07KSB7XHJcbiAgICAgICAgYVthTF0gLT0gaTtcclxuICAgICAgICBpID0gYVthTF0gPCBiW2FMXSA/IDEgOiAwO1xyXG4gICAgICAgIGFbYUxdID0gaSAqIGJhc2UgKyBhW2FMXSAtIGJbYUxdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgZm9yICg7ICFhWzBdICYmIGEubGVuZ3RoID4gMTspIGEuc2hpZnQoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHksIHByLCBybSwgZHAsIGJhc2UpIHtcclxuICAgICAgdmFyIGNtcCwgZSwgaSwgaywgbG9nQmFzZSwgbW9yZSwgcHJvZCwgcHJvZEwsIHEsIHFkLCByZW0sIHJlbUwsIHJlbTAsIHNkLCB0LCB4aSwgeEwsIHlkMCxcclxuICAgICAgICB5TCwgeXosXHJcbiAgICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgICAgc2lnbiA9IHgucyA9PSB5LnMgPyAxIDogLTEsXHJcbiAgICAgICAgeGQgPSB4LmQsXHJcbiAgICAgICAgeWQgPSB5LmQ7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgTmFOLCBJbmZpbml0eSBvciAwP1xyXG4gICAgICBpZiAoIXhkIHx8ICF4ZFswXSB8fCAheWQgfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgQ3RvcigvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBOYU4sIG9yIGJvdGggSW5maW5pdHkgb3IgMC5cclxuICAgICAgICAgICF4LnMgfHwgIXkucyB8fCAoeGQgPyB5ZCAmJiB4ZFswXSA9PSB5ZFswXSA6ICF5ZCkgPyBOYU4gOlxyXG5cclxuICAgICAgICAgIC8vIFJldHVybiDCsTAgaWYgeCBpcyAwIG9yIHkgaXMgwrFJbmZpbml0eSwgb3IgcmV0dXJuIMKxSW5maW5pdHkgYXMgeSBpcyAwLlxyXG4gICAgICAgICAgeGQgJiYgeGRbMF0gPT0gMCB8fCAheWQgPyBzaWduICogMCA6IHNpZ24gLyAwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGJhc2UpIHtcclxuICAgICAgICBsb2dCYXNlID0gMTtcclxuICAgICAgICBlID0geC5lIC0geS5lO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJhc2UgPSBCQVNFO1xyXG4gICAgICAgIGxvZ0Jhc2UgPSBMT0dfQkFTRTtcclxuICAgICAgICBlID0gbWF0aGZsb29yKHguZSAvIGxvZ0Jhc2UpIC0gbWF0aGZsb29yKHkuZSAvIGxvZ0Jhc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB5TCA9IHlkLmxlbmd0aDtcclxuICAgICAgeEwgPSB4ZC5sZW5ndGg7XHJcbiAgICAgIHEgPSBuZXcgQ3RvcihzaWduKTtcclxuICAgICAgcWQgPSBxLmQgPSBbXTtcclxuXHJcbiAgICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhhbiBlLlxyXG4gICAgICAvLyBUaGUgZGlnaXQgYXJyYXkgb2YgYSBEZWNpbWFsIGZyb20gdG9TdHJpbmdCaW5hcnkgbWF5IGhhdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoaSA9IDA7IHlkW2ldID09ICh4ZFtpXSB8fCAwKTsgaSsrKTtcclxuXHJcbiAgICAgIGlmICh5ZFtpXSA+ICh4ZFtpXSB8fCAwKSkgZS0tO1xyXG5cclxuICAgICAgaWYgKHByID09IG51bGwpIHtcclxuICAgICAgICBzZCA9IHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgICB9IGVsc2UgaWYgKGRwKSB7XHJcbiAgICAgICAgc2QgPSBwciArICh4LmUgLSB5LmUpICsgMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZCA9IHByO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc2QgPCAwKSB7XHJcbiAgICAgICAgcWQucHVzaCgxKTtcclxuICAgICAgICBtb3JlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCBwcmVjaXNpb24gaW4gbnVtYmVyIG9mIGJhc2UgMTAgZGlnaXRzIHRvIGJhc2UgMWU3IGRpZ2l0cy5cclxuICAgICAgICBzZCA9IHNkIC8gbG9nQmFzZSArIDIgfCAwO1xyXG4gICAgICAgIGkgPSAwO1xyXG5cclxuICAgICAgICAvLyBkaXZpc29yIDwgMWU3XHJcbiAgICAgICAgaWYgKHlMID09IDEpIHtcclxuICAgICAgICAgIGsgPSAwO1xyXG4gICAgICAgICAgeWQgPSB5ZFswXTtcclxuICAgICAgICAgIHNkKys7XHJcblxyXG4gICAgICAgICAgLy8gayBpcyB0aGUgY2FycnkuXHJcbiAgICAgICAgICBmb3IgKDsgKGkgPCB4TCB8fCBrKSAmJiBzZC0tOyBpKyspIHtcclxuICAgICAgICAgICAgdCA9IGsgKiBiYXNlICsgKHhkW2ldIHx8IDApO1xyXG4gICAgICAgICAgICBxZFtpXSA9IHQgLyB5ZCB8IDA7XHJcbiAgICAgICAgICAgIGsgPSB0ICUgeWQgfCAwO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG1vcmUgPSBrIHx8IGkgPCB4TDtcclxuXHJcbiAgICAgICAgLy8gZGl2aXNvciA+PSAxZTdcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIE5vcm1hbGlzZSB4ZCBhbmQgeWQgc28gaGlnaGVzdCBvcmRlciBkaWdpdCBvZiB5ZCBpcyA+PSBiYXNlLzJcclxuICAgICAgICAgIGsgPSBiYXNlIC8gKHlkWzBdICsgMSkgfCAwO1xyXG5cclxuICAgICAgICAgIGlmIChrID4gMSkge1xyXG4gICAgICAgICAgICB5ZCA9IG11bHRpcGx5SW50ZWdlcih5ZCwgaywgYmFzZSk7XHJcbiAgICAgICAgICAgIHhkID0gbXVsdGlwbHlJbnRlZ2VyKHhkLCBrLCBiYXNlKTtcclxuICAgICAgICAgICAgeUwgPSB5ZC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHhMID0geGQubGVuZ3RoO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHhpID0geUw7XHJcbiAgICAgICAgICByZW0gPSB4ZC5zbGljZSgwLCB5TCk7XHJcbiAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgICAgICAgZm9yICg7IHJlbUwgPCB5TDspIHJlbVtyZW1MKytdID0gMDtcclxuXHJcbiAgICAgICAgICB5eiA9IHlkLnNsaWNlKCk7XHJcbiAgICAgICAgICB5ei51bnNoaWZ0KDApO1xyXG4gICAgICAgICAgeWQwID0geWRbMF07XHJcblxyXG4gICAgICAgICAgaWYgKHlkWzFdID49IGJhc2UgLyAyKSArK3lkMDtcclxuXHJcbiAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIGsgPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWQsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCA8IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBrLlxyXG4gICAgICAgICAgICAgIHJlbTAgPSByZW1bMF07XHJcbiAgICAgICAgICAgICAgaWYgKHlMICE9IHJlbUwpIHJlbTAgPSByZW0wICogYmFzZSArIChyZW1bMV0gfHwgMCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIGsgd2lsbCBiZSBob3cgbWFueSB0aW1lcyB0aGUgZGl2aXNvciBnb2VzIGludG8gdGhlIGN1cnJlbnQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGsgPSByZW0wIC8geWQwIHwgMDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gIEFsZ29yaXRobTpcclxuICAgICAgICAgICAgICAvLyAgMS4gcHJvZHVjdCA9IGRpdmlzb3IgKiB0cmlhbCBkaWdpdCAoaylcclxuICAgICAgICAgICAgICAvLyAgMi4gaWYgcHJvZHVjdCA+IHJlbWFpbmRlcjogcHJvZHVjdCAtPSBkaXZpc29yLCBrLS1cclxuICAgICAgICAgICAgICAvLyAgMy4gcmVtYWluZGVyIC09IHByb2R1Y3RcclxuICAgICAgICAgICAgICAvLyAgNC4gaWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIgYXQgMjpcclxuICAgICAgICAgICAgICAvLyAgICA1LiBjb21wYXJlIG5ldyByZW1haW5kZXIgYW5kIGRpdmlzb3JcclxuICAgICAgICAgICAgICAvLyAgICA2LiBJZiByZW1haW5kZXIgPiBkaXZpc29yOiByZW1haW5kZXIgLT0gZGl2aXNvciwgaysrXHJcblxyXG4gICAgICAgICAgICAgIGlmIChrID4gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGsgPj0gYmFzZSkgayA9IGJhc2UgLSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQuXHJcbiAgICAgICAgICAgICAgICBwcm9kID0gbXVsdGlwbHlJbnRlZ2VyKHlkLCBrLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21wYXJlIHByb2R1Y3QgYW5kIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIGNtcCA9IGNvbXBhcmUocHJvZCwgcmVtLCBwcm9kTCwgcmVtTCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHJvZHVjdCA+IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIGlmIChjbXAgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICBrLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdC5cclxuICAgICAgICAgICAgICAgICAgc3VidHJhY3QocHJvZCwgeUwgPCBwcm9kTCA/IHl6IDogeWQsIHByb2RMLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNtcCBpcyAtMS5cclxuICAgICAgICAgICAgICAgIC8vIElmIGsgaXMgMCwgdGhlcmUgaXMgbm8gbmVlZCB0byBjb21wYXJlIHlkIGFuZCByZW0gYWdhaW4gYmVsb3csIHNvIGNoYW5nZSBjbXAgdG8gMVxyXG4gICAgICAgICAgICAgICAgLy8gdG8gYXZvaWQgaXQuIElmIGsgaXMgMSB0aGVyZSBpcyBhIG5lZWQgdG8gY29tcGFyZSB5ZCBhbmQgcmVtIGFnYWluIGJlbG93LlxyXG4gICAgICAgICAgICAgICAgaWYgKGsgPT0gMCkgY21wID0gayA9IDE7XHJcbiAgICAgICAgICAgICAgICBwcm9kID0geWQuc2xpY2UoKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgaWYgKHByb2RMIDwgcmVtTCkgcHJvZC51bnNoaWZ0KDApO1xyXG5cclxuICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBwcm9kdWN0IGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgcHJvZCwgcmVtTCwgYmFzZSk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHByb2R1Y3Qgd2FzIDwgcHJldmlvdXMgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWQsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCBuZXcgcmVtYWluZGVyLCBzdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgaWYgKGNtcCA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgaysrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgICAgc3VidHJhY3QocmVtLCB5TCA8IHJlbUwgPyB5eiA6IHlkLCByZW1MLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgIGsrKztcclxuICAgICAgICAgICAgICByZW0gPSBbMF07XHJcbiAgICAgICAgICAgIH0gICAgLy8gaWYgY21wID09PSAxLCBrIHdpbGwgYmUgMFxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBrLCB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICAgICAgICBxZFtpKytdID0gaztcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBpZiAoY21wICYmIHJlbVswXSkge1xyXG4gICAgICAgICAgICAgIHJlbVtyZW1MKytdID0geGRbeGldIHx8IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmVtID0gW3hkW3hpXV07XHJcbiAgICAgICAgICAgICAgcmVtTCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9IHdoaWxlICgoeGkrKyA8IHhMIHx8IHJlbVswXSAhPT0gdm9pZCAwKSAmJiBzZC0tKTtcclxuXHJcbiAgICAgICAgICBtb3JlID0gcmVtWzBdICE9PSB2b2lkIDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMZWFkaW5nIHplcm8/XHJcbiAgICAgICAgaWYgKCFxZFswXSkgcWQuc2hpZnQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gbG9nQmFzZSBpcyAxIHdoZW4gZGl2aWRlIGlzIGJlaW5nIHVzZWQgZm9yIGJhc2UgY29udmVyc2lvbi5cclxuICAgICAgaWYgKGxvZ0Jhc2UgPT0gMSkge1xyXG4gICAgICAgIHEuZSA9IGU7XHJcbiAgICAgICAgaW5leGFjdCA9IG1vcmU7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIFRvIGNhbGN1bGF0ZSBxLmUsIGZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBxZFswXS5cclxuICAgICAgICBmb3IgKGkgPSAxLCBrID0gcWRbMF07IGsgPj0gMTA7IGsgLz0gMTApIGkrKztcclxuICAgICAgICBxLmUgPSBpICsgZSAqIGxvZ0Jhc2UgLSAxO1xyXG5cclxuICAgICAgICBmaW5hbGlzZShxLCBkcCA/IHByICsgcS5lICsgMSA6IHByLCBybSwgbW9yZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBxO1xyXG4gICAgfTtcclxuICB9KSgpO1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSb3VuZCBgeGAgdG8gYHNkYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gLlxyXG4gICAqIENoZWNrIGZvciBvdmVyL3VuZGVyLWZsb3cuXHJcbiAgICovXHJcbiAgIGZ1bmN0aW9uIGZpbmFsaXNlKHgsIHNkLCBybSwgaXNUcnVuY2F0ZWQpIHtcclxuICAgIHZhciBkaWdpdHMsIGksIGosIGssIHJkLCByb3VuZFVwLCB3LCB4ZCwgeGRpLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICAvLyBEb24ndCByb3VuZCBpZiBzZCBpcyBudWxsIG9yIHVuZGVmaW5lZC5cclxuICAgIG91dDogaWYgKHNkICE9IG51bGwpIHtcclxuICAgICAgeGQgPSB4LmQ7XHJcblxyXG4gICAgICAvLyBJbmZpbml0eS9OYU4uXHJcbiAgICAgIGlmICgheGQpIHJldHVybiB4O1xyXG5cclxuICAgICAgLy8gcmQ6IHRoZSByb3VuZGluZyBkaWdpdCwgaS5lLiB0aGUgZGlnaXQgYWZ0ZXIgdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXAuXHJcbiAgICAgIC8vIHc6IHRoZSB3b3JkIG9mIHhkIGNvbnRhaW5pbmcgcmQsIGEgYmFzZSAxZTcgbnVtYmVyLlxyXG4gICAgICAvLyB4ZGk6IHRoZSBpbmRleCBvZiB3IHdpdGhpbiB4ZC5cclxuICAgICAgLy8gZGlnaXRzOiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB3LlxyXG4gICAgICAvLyBpOiB3aGF0IHdvdWxkIGJlIHRoZSBpbmRleCBvZiByZCB3aXRoaW4gdyBpZiBhbGwgdGhlIG51bWJlcnMgd2VyZSA3IGRpZ2l0cyBsb25nIChpLmUuIGlmXHJcbiAgICAgIC8vIHRoZXkgaGFkIGxlYWRpbmcgemVyb3MpXHJcbiAgICAgIC8vIGo6IGlmID4gMCwgdGhlIGFjdHVhbCBpbmRleCBvZiByZCB3aXRoaW4gdyAoaWYgPCAwLCByZCBpcyBhIGxlYWRpbmcgemVybykuXHJcblxyXG4gICAgICAvLyBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgZGlnaXRzIGFycmF5IHhkLlxyXG4gICAgICBmb3IgKGRpZ2l0cyA9IDEsIGsgPSB4ZFswXTsgayA+PSAxMDsgayAvPSAxMCkgZGlnaXRzKys7XHJcbiAgICAgIGkgPSBzZCAtIGRpZ2l0cztcclxuXHJcbiAgICAgIC8vIElzIHRoZSByb3VuZGluZyBkaWdpdCBpbiB0aGUgZmlyc3Qgd29yZCBvZiB4ZD9cclxuICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgaSArPSBMT0dfQkFTRTtcclxuICAgICAgICBqID0gc2Q7XHJcbiAgICAgICAgdyA9IHhkW3hkaSA9IDBdO1xyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygdy5cclxuICAgICAgICByZCA9IHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSkgJSAxMCB8IDA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeGRpID0gTWF0aC5jZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcbiAgICAgICAgayA9IHhkLmxlbmd0aDtcclxuICAgICAgICBpZiAoeGRpID49IGspIHtcclxuICAgICAgICAgIGlmIChpc1RydW5jYXRlZCkge1xyXG5cclxuICAgICAgICAgICAgLy8gTmVlZGVkIGJ5IGBuYXR1cmFsRXhwb25lbnRpYWxgLCBgbmF0dXJhbExvZ2FyaXRobWAgYW5kIGBzcXVhcmVSb290YC5cclxuICAgICAgICAgICAgZm9yICg7IGsrKyA8PSB4ZGk7KSB4ZC5wdXNoKDApO1xyXG4gICAgICAgICAgICB3ID0gcmQgPSAwO1xyXG4gICAgICAgICAgICBkaWdpdHMgPSAxO1xyXG4gICAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgMTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJyZWFrIG91dDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdyA9IGsgPSB4ZFt4ZGldO1xyXG5cclxuICAgICAgICAgIC8vIEdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB3LlxyXG4gICAgICAgICAgZm9yIChkaWdpdHMgPSAxOyBrID49IDEwOyBrIC89IDEwKSBkaWdpdHMrKztcclxuXHJcbiAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3LlxyXG4gICAgICAgICAgaSAlPSBMT0dfQkFTRTtcclxuXHJcbiAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiB3LCBhZGp1c3RlZCBmb3IgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAgIC8vIFRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBvZiB3IGlzIGdpdmVuIGJ5IExPR19CQVNFIC0gZGlnaXRzLlxyXG4gICAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIGRpZ2l0cztcclxuXHJcbiAgICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygdy5cclxuICAgICAgICAgIHJkID0gaiA8IDAgPyAwIDogdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSAlIDEwIHwgMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFyZSB0aGVyZSBhbnkgbm9uLXplcm8gZGlnaXRzIGFmdGVyIHRoZSByb3VuZGluZyBkaWdpdD9cclxuICAgICAgaXNUcnVuY2F0ZWQgPSBpc1RydW5jYXRlZCB8fCBzZCA8IDAgfHxcclxuICAgICAgICB4ZFt4ZGkgKyAxXSAhPT0gdm9pZCAwIHx8IChqIDwgMCA/IHcgOiB3ICUgbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpKTtcclxuXHJcbiAgICAgIC8vIFRoZSBleHByZXNzaW9uIGB3ICUgbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpYCByZXR1cm5zIGFsbCB0aGUgZGlnaXRzIG9mIHcgdG8gdGhlIHJpZ2h0XHJcbiAgICAgIC8vIG9mIHRoZSBkaWdpdCBhdCAobGVmdC10by1yaWdodCkgaW5kZXggaiwgZS5nLiBpZiB3IGlzIDkwODcxNCBhbmQgaiBpcyAyLCB0aGUgZXhwcmVzc2lvblxyXG4gICAgICAvLyB3aWxsIGdpdmUgNzE0LlxyXG5cclxuICAgICAgcm91bmRVcCA9IHJtIDwgNFxyXG4gICAgICAgID8gKHJkIHx8IGlzVHJ1bmNhdGVkKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICA6IHJkID4gNSB8fCByZCA9PSA1ICYmIChybSA9PSA0IHx8IGlzVHJ1bmNhdGVkIHx8IHJtID09IDYgJiZcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBkaWdpdCB0byB0aGUgbGVmdCBvZiB0aGUgcm91bmRpbmcgZGlnaXQgaXMgb2RkLlxyXG4gICAgICAgICAgKChpID4gMCA/IGogPiAwID8gdyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGopIDogMCA6IHhkW3hkaSAtIDFdKSAlIDEwKSAmIDEgfHxcclxuICAgICAgICAgICAgcm0gPT0gKHgucyA8IDAgPyA4IDogNykpO1xyXG5cclxuICAgICAgaWYgKHNkIDwgMSB8fCAheGRbMF0pIHtcclxuICAgICAgICB4ZC5sZW5ndGggPSAwO1xyXG4gICAgICAgIGlmIChyb3VuZFVwKSB7XHJcblxyXG4gICAgICAgICAgLy8gQ29udmVydCBzZCB0byBkZWNpbWFsIHBsYWNlcy5cclxuICAgICAgICAgIHNkIC09IHguZSArIDE7XHJcblxyXG4gICAgICAgICAgLy8gMSwgMC4xLCAwLjAxLCAwLjAwMSwgMC4wMDAxIGV0Yy5cclxuICAgICAgICAgIHhkWzBdID0gbWF0aHBvdygxMCwgKExPR19CQVNFIC0gc2QgJSBMT0dfQkFTRSkgJSBMT0dfQkFTRSk7XHJcbiAgICAgICAgICB4LmUgPSAtc2QgfHwgMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICB4ZFswXSA9IHguZSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIGV4Y2VzcyBkaWdpdHMuXHJcbiAgICAgIGlmIChpID09IDApIHtcclxuICAgICAgICB4ZC5sZW5ndGggPSB4ZGk7XHJcbiAgICAgICAgayA9IDE7XHJcbiAgICAgICAgeGRpLS07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeGQubGVuZ3RoID0geGRpICsgMTtcclxuICAgICAgICBrID0gbWF0aHBvdygxMCwgTE9HX0JBU0UgLSBpKTtcclxuXHJcbiAgICAgICAgLy8gRS5nLiA1NjcwMCBiZWNvbWVzIDU2MDAwIGlmIDcgaXMgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgIC8vIGogPiAwIG1lYW5zIGkgPiBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBvZiB3LlxyXG4gICAgICAgIHhkW3hkaV0gPSBqID4gMCA/ICh3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaikgJSBtYXRocG93KDEwLCBqKSB8IDApICogayA6IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyb3VuZFVwKSB7XHJcbiAgICAgICAgZm9yICg7Oykge1xyXG5cclxuICAgICAgICAgIC8vIElzIHRoZSBkaWdpdCB0byBiZSByb3VuZGVkIHVwIGluIHRoZSBmaXJzdCB3b3JkIG9mIHhkP1xyXG4gICAgICAgICAgaWYgKHhkaSA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBpIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB4ZFswXSBiZWZvcmUgayBpcyBhZGRlZC5cclxuICAgICAgICAgICAgZm9yIChpID0gMSwgaiA9IHhkWzBdOyBqID49IDEwOyBqIC89IDEwKSBpKys7XHJcbiAgICAgICAgICAgIGogPSB4ZFswXSArPSBrO1xyXG4gICAgICAgICAgICBmb3IgKGsgPSAxOyBqID49IDEwOyBqIC89IDEwKSBrKys7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBpICE9IGsgdGhlIGxlbmd0aCBoYXMgaW5jcmVhc2VkLlxyXG4gICAgICAgICAgICBpZiAoaSAhPSBrKSB7XHJcbiAgICAgICAgICAgICAgeC5lKys7XHJcbiAgICAgICAgICAgICAgaWYgKHhkWzBdID09IEJBU0UpIHhkWzBdID0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4ZFt4ZGldICs9IGs7XHJcbiAgICAgICAgICAgIGlmICh4ZFt4ZGldICE9IEJBU0UpIGJyZWFrO1xyXG4gICAgICAgICAgICB4ZFt4ZGktLV0gPSAwO1xyXG4gICAgICAgICAgICBrID0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChpID0geGQubGVuZ3RoOyB4ZFstLWldID09PSAwOykgeGQucG9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4dGVybmFsKSB7XHJcblxyXG4gICAgICAvLyBPdmVyZmxvdz9cclxuICAgICAgaWYgKHguZSA+IEN0b3IubWF4RSkge1xyXG5cclxuICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgIHguZSA9IE5hTjtcclxuXHJcbiAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgfSBlbHNlIGlmICh4LmUgPCBDdG9yLm1pbkUpIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICAvLyBDdG9yLnVuZGVyZmxvdyA9IHRydWU7XHJcbiAgICAgIH0gLy8gZWxzZSBDdG9yLnVuZGVyZmxvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIGZpbml0ZVRvU3RyaW5nKHgsIGlzRXhwLCBzZCkge1xyXG4gICAgaWYgKCF4LmlzRmluaXRlKCkpIHJldHVybiBub25GaW5pdGVUb1N0cmluZyh4KTtcclxuICAgIHZhciBrLFxyXG4gICAgICBlID0geC5lLFxyXG4gICAgICBzdHIgPSBkaWdpdHNUb1N0cmluZyh4LmQpLFxyXG4gICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgIGlmIChpc0V4cCkge1xyXG4gICAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSB7XHJcbiAgICAgICAgc3RyID0gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKSArIGdldFplcm9TdHJpbmcoayk7XHJcbiAgICAgIH0gZWxzZSBpZiAobGVuID4gMSkge1xyXG4gICAgICAgIHN0ciA9IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0ciA9IHN0ciArICh4LmUgPCAwID8gJ2UnIDogJ2UrJykgKyB4LmU7XHJcbiAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcbiAgICAgIHN0ciA9ICcwLicgKyBnZXRaZXJvU3RyaW5nKC1lIC0gMSkgKyBzdHI7XHJcbiAgICAgIGlmIChzZCAmJiAoayA9IHNkIC0gbGVuKSA+IDApIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgfSBlbHNlIGlmIChlID49IGxlbikge1xyXG4gICAgICBzdHIgKz0gZ2V0WmVyb1N0cmluZyhlICsgMSAtIGxlbik7XHJcbiAgICAgIGlmIChzZCAmJiAoayA9IHNkIC0gZSAtIDEpID4gMCkgc3RyID0gc3RyICsgJy4nICsgZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICgoayA9IGUgKyAxKSA8IGxlbikgc3RyID0gc3RyLnNsaWNlKDAsIGspICsgJy4nICsgc3RyLnNsaWNlKGspO1xyXG4gICAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSB7XHJcbiAgICAgICAgaWYgKGUgKyAxID09PSBsZW4pIHN0ciArPSAnLic7XHJcbiAgICAgICAgc3RyICs9IGdldFplcm9TdHJpbmcoayk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc3RyO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIENhbGN1bGF0ZSB0aGUgYmFzZSAxMCBleHBvbmVudCBmcm9tIHRoZSBiYXNlIDFlNyBleHBvbmVudC5cclxuICBmdW5jdGlvbiBnZXRCYXNlMTBFeHBvbmVudChkaWdpdHMsIGUpIHtcclxuICAgIHZhciB3ID0gZGlnaXRzWzBdO1xyXG5cclxuICAgIC8vIEFkZCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgZGlnaXRzIGFycmF5LlxyXG4gICAgZm9yICggZSAqPSBMT0dfQkFTRTsgdyA+PSAxMDsgdyAvPSAxMCkgZSsrO1xyXG4gICAgcmV0dXJuIGU7XHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gZ2V0TG4xMChDdG9yLCBzZCwgcHIpIHtcclxuICAgIGlmIChzZCA+IExOMTBfUFJFQ0lTSU9OKSB7XHJcblxyXG4gICAgICAvLyBSZXNldCBnbG9iYWwgc3RhdGUgaW4gY2FzZSB0aGUgZXhjZXB0aW9uIGlzIGNhdWdodC5cclxuICAgICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgICBpZiAocHIpIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgIHRocm93IEVycm9yKHByZWNpc2lvbkxpbWl0RXhjZWVkZWQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKExOMTApLCBzZCwgMSwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gZ2V0UGkoQ3Rvciwgc2QsIHJtKSB7XHJcbiAgICBpZiAoc2QgPiBQSV9QUkVDSVNJT04pIHRocm93IEVycm9yKHByZWNpc2lvbkxpbWl0RXhjZWVkZWQpO1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKFBJKSwgc2QsIHJtLCB0cnVlKTtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiBnZXRQcmVjaXNpb24oZGlnaXRzKSB7XHJcbiAgICB2YXIgdyA9IGRpZ2l0cy5sZW5ndGggLSAxLFxyXG4gICAgICBsZW4gPSB3ICogTE9HX0JBU0UgKyAxO1xyXG5cclxuICAgIHcgPSBkaWdpdHNbd107XHJcblxyXG4gICAgLy8gSWYgbm9uLXplcm8uLi5cclxuICAgIGlmICh3KSB7XHJcblxyXG4gICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IHdvcmQuXHJcbiAgICAgIGZvciAoOyB3ICUgMTAgPT0gMDsgdyAvPSAxMCkgbGVuLS07XHJcblxyXG4gICAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQuXHJcbiAgICAgIGZvciAodyA9IGRpZ2l0c1swXTsgdyA+PSAxMDsgdyAvPSAxMCkgbGVuKys7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxlbjtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiBnZXRaZXJvU3RyaW5nKGspIHtcclxuICAgIHZhciB6cyA9ICcnO1xyXG4gICAgZm9yICg7IGstLTspIHpzICs9ICcwJztcclxuICAgIHJldHVybiB6cztcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiBEZWNpbWFsIGB4YCB0byB0aGUgcG93ZXIgYG5gLCB3aGVyZSBgbmAgaXMgYW5cclxuICAgKiBpbnRlZ2VyIG9mIHR5cGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICogSW1wbGVtZW50cyAnZXhwb25lbnRpYXRpb24gYnkgc3F1YXJpbmcnLiBDYWxsZWQgYnkgYHBvd2AgYW5kIGBwYXJzZU90aGVyYC5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGludFBvdyhDdG9yLCB4LCBuLCBwcikge1xyXG4gICAgdmFyIGlzVHJ1bmNhdGVkLFxyXG4gICAgICByID0gbmV3IEN0b3IoMSksXHJcblxyXG4gICAgICAvLyBNYXggbiBvZiA5MDA3MTk5MjU0NzQwOTkxIHRha2VzIDUzIGxvb3AgaXRlcmF0aW9ucy5cclxuICAgICAgLy8gTWF4aW11bSBkaWdpdHMgYXJyYXkgbGVuZ3RoOyBsZWF2ZXMgWzI4LCAzNF0gZ3VhcmQgZGlnaXRzLlxyXG4gICAgICBrID0gTWF0aC5jZWlsKHByIC8gTE9HX0JBU0UgKyA0KTtcclxuXHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAgIGZvciAoOzspIHtcclxuICAgICAgaWYgKG4gJSAyKSB7XHJcbiAgICAgICAgciA9IHIudGltZXMoeCk7XHJcbiAgICAgICAgaWYgKHRydW5jYXRlKHIuZCwgaykpIGlzVHJ1bmNhdGVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbiA9IG1hdGhmbG9vcihuIC8gMik7XHJcbiAgICAgIGlmIChuID09PSAwKSB7XHJcblxyXG4gICAgICAgIC8vIFRvIGVuc3VyZSBjb3JyZWN0IHJvdW5kaW5nIHdoZW4gci5kIGlzIHRydW5jYXRlZCwgaW5jcmVtZW50IHRoZSBsYXN0IHdvcmQgaWYgaXQgaXMgemVyby5cclxuICAgICAgICBuID0gci5kLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgaWYgKGlzVHJ1bmNhdGVkICYmIHIuZFtuXSA9PT0gMCkgKytyLmRbbl07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHggPSB4LnRpbWVzKHgpO1xyXG4gICAgICB0cnVuY2F0ZSh4LmQsIGspO1xyXG4gICAgfVxyXG5cclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiBpc09kZChuKSB7XHJcbiAgICByZXR1cm4gbi5kW24uZC5sZW5ndGggLSAxXSAmIDE7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBIYW5kbGUgYG1heGAgYW5kIGBtaW5gLiBgbHRndGAgaXMgJ2x0JyBvciAnZ3QnLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG1heE9yTWluKEN0b3IsIGFyZ3MsIGx0Z3QpIHtcclxuICAgIHZhciB5LFxyXG4gICAgICB4ID0gbmV3IEN0b3IoYXJnc1swXSksXHJcbiAgICAgIGkgPSAwO1xyXG5cclxuICAgIGZvciAoOyArK2kgPCBhcmdzLmxlbmd0aDspIHtcclxuICAgICAgeSA9IG5ldyBDdG9yKGFyZ3NbaV0pO1xyXG4gICAgICBpZiAoIXkucykge1xyXG4gICAgICAgIHggPSB5O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9IGVsc2UgaWYgKHhbbHRndF0oeSkpIHtcclxuICAgICAgICB4ID0geTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgYHhgIHJvdW5kZWQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cy5cclxuICAgKlxyXG4gICAqIFRheWxvci9NYWNsYXVyaW4gc2VyaWVzLlxyXG4gICAqXHJcbiAgICogZXhwKHgpID0geF4wLzAhICsgeF4xLzEhICsgeF4yLzIhICsgeF4zLzMhICsgLi4uXHJcbiAgICpcclxuICAgKiBBcmd1bWVudCByZWR1Y3Rpb246XHJcbiAgICogICBSZXBlYXQgeCA9IHggLyAzMiwgayArPSA1LCB1bnRpbCB8eHwgPCAwLjFcclxuICAgKiAgIGV4cCh4KSA9IGV4cCh4IC8gMl5rKV4oMl5rKVxyXG4gICAqXHJcbiAgICogUHJldmlvdXNseSwgdGhlIGFyZ3VtZW50IHdhcyBpbml0aWFsbHkgcmVkdWNlZCBieVxyXG4gICAqIGV4cCh4KSA9IGV4cChyKSAqIDEwXmsgIHdoZXJlIHIgPSB4IC0gayAqIGxuMTAsIGsgPSBmbG9vcih4IC8gbG4xMClcclxuICAgKiB0byBmaXJzdCBwdXQgciBpbiB0aGUgcmFuZ2UgWzAsIGxuMTBdLCBiZWZvcmUgZGl2aWRpbmcgYnkgMzIgdW50aWwgfHh8IDwgMC4xLCBidXQgdGhpcyB3YXNcclxuICAgKiBmb3VuZCB0byBiZSBzbG93ZXIgdGhhbiBqdXN0IGRpdmlkaW5nIHJlcGVhdGVkbHkgYnkgMzIgYXMgYWJvdmUuXHJcbiAgICpcclxuICAgKiBNYXggaW50ZWdlciBhcmd1bWVudDogZXhwKCcyMDcyMzI2NTgzNjk0NjQxMycpID0gNi4zZSs5MDAwMDAwMDAwMDAwMDAwXHJcbiAgICogTWluIGludGVnZXIgYXJndW1lbnQ6IGV4cCgnLTIwNzIzMjY1ODM2OTQ2NDExJykgPSAxLjJlLTkwMDAwMDAwMDAwMDAwMDBcclxuICAgKiAoTWF0aCBvYmplY3QgaW50ZWdlciBtaW4vbWF4OiBNYXRoLmV4cCg3MDkpID0gOC4yZSszMDcsIE1hdGguZXhwKC03NDUpID0gNWUtMzI0KVxyXG4gICAqXHJcbiAgICogIGV4cChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICAgKiAgZXhwKC1JbmZpbml0eSkgPSAwXHJcbiAgICogIGV4cChOYU4pICAgICAgID0gTmFOXHJcbiAgICogIGV4cCjCsTApICAgICAgICA9IDFcclxuICAgKlxyXG4gICAqICBleHAoeCkgaXMgbm9uLXRlcm1pbmF0aW5nIGZvciBhbnkgZmluaXRlLCBub24temVybyB4LlxyXG4gICAqXHJcbiAgICogIFRoZSByZXN1bHQgd2lsbCBhbHdheXMgYmUgY29ycmVjdGx5IHJvdW5kZWQuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBuYXR1cmFsRXhwb25lbnRpYWwoeCwgc2QpIHtcclxuICAgIHZhciBkZW5vbWluYXRvciwgZ3VhcmQsIGosIHBvdywgc3VtLCB0LCB3cHIsXHJcbiAgICAgIHJlcCA9IDAsXHJcbiAgICAgIGkgPSAwLFxyXG4gICAgICBrID0gMCxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuXHJcbiAgICAvLyAwL05hTi9JbmZpbml0eT9cclxuICAgIGlmICgheC5kIHx8ICF4LmRbMF0gfHwgeC5lID4gMTcpIHtcclxuXHJcbiAgICAgIHJldHVybiBuZXcgQ3Rvcih4LmRcclxuICAgICAgICA/ICF4LmRbMF0gPyAxIDogeC5zIDwgMCA/IDAgOiAxIC8gMFxyXG4gICAgICAgIDogeC5zID8geC5zIDwgMCA/IDAgOiB4IDogMCAvIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICAgIHdwciA9IHByO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3ByID0gc2Q7XHJcbiAgICB9XHJcblxyXG4gICAgdCA9IG5ldyBDdG9yKDAuMDMxMjUpO1xyXG5cclxuICAgIC8vIHdoaWxlIGFicyh4KSA+PSAwLjFcclxuICAgIHdoaWxlICh4LmUgPiAtMikge1xyXG5cclxuICAgICAgLy8geCA9IHggLyAyXjVcclxuICAgICAgeCA9IHgudGltZXModCk7XHJcbiAgICAgIGsgKz0gNTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVc2UgMiAqIGxvZzEwKDJeaykgKyA1IChlbXBpcmljYWxseSBkZXJpdmVkKSB0byBlc3RpbWF0ZSB0aGUgaW5jcmVhc2UgaW4gcHJlY2lzaW9uXHJcbiAgICAvLyBuZWNlc3NhcnkgdG8gZW5zdXJlIHRoZSBmaXJzdCA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgY29ycmVjdC5cclxuICAgIGd1YXJkID0gTWF0aC5sb2cobWF0aHBvdygyLCBrKSkgLyBNYXRoLkxOMTAgKiAyICsgNSB8IDA7XHJcbiAgICB3cHIgKz0gZ3VhcmQ7XHJcbiAgICBkZW5vbWluYXRvciA9IHBvdyA9IHN1bSA9IG5ldyBDdG9yKDEpO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSB3cHI7XHJcblxyXG4gICAgZm9yICg7Oykge1xyXG4gICAgICBwb3cgPSBmaW5hbGlzZShwb3cudGltZXMoeCksIHdwciwgMSk7XHJcbiAgICAgIGRlbm9taW5hdG9yID0gZGVub21pbmF0b3IudGltZXMoKytpKTtcclxuICAgICAgdCA9IHN1bS5wbHVzKGRpdmlkZShwb3csIGRlbm9taW5hdG9yLCB3cHIsIDEpKTtcclxuXHJcbiAgICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHdwcikgPT09IGRpZ2l0c1RvU3RyaW5nKHN1bS5kKS5zbGljZSgwLCB3cHIpKSB7XHJcbiAgICAgICAgaiA9IGs7XHJcbiAgICAgICAgd2hpbGUgKGotLSkgc3VtID0gZmluYWxpc2Uoc3VtLnRpbWVzKHN1bSksIHdwciwgMSk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgYXJlIFs0OV05OTkuXHJcbiAgICAgICAgLy8gSWYgc28sIHJlcGVhdCB0aGUgc3VtbWF0aW9uIHdpdGggYSBoaWdoZXIgcHJlY2lzaW9uLCBvdGhlcndpc2VcclxuICAgICAgICAvLyBlLmcuIHdpdGggcHJlY2lzaW9uOiAxOCwgcm91bmRpbmc6IDFcclxuICAgICAgICAvLyBleHAoMTguNDA0MjcyNDYyNTk1MDM0MDgzNTY3NzkzOTE5ODQzNzYxKSA9IDk4MzcyNTYwLjEyMjk5OTk5OTkgKHNob3VsZCBiZSA5ODM3MjU2MC4xMjMpXHJcbiAgICAgICAgLy8gYHdwciAtIGd1YXJkYCBpcyB0aGUgaW5kZXggb2YgZmlyc3Qgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgICAgaWYgKHNkID09IG51bGwpIHtcclxuXHJcbiAgICAgICAgICBpZiAocmVwIDwgMyAmJiBjaGVja1JvdW5kaW5nRGlnaXRzKHN1bS5kLCB3cHIgLSBndWFyZCwgcm0sIHJlcCkpIHtcclxuICAgICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gMTA7XHJcbiAgICAgICAgICAgIGRlbm9taW5hdG9yID0gcG93ID0gdCA9IG5ldyBDdG9yKDEpO1xyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICAgICAgcmVwKys7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmluYWxpc2Uoc3VtLCBDdG9yLnByZWNpc2lvbiA9IHByLCBybSwgZXh0ZXJuYWwgPSB0cnVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgICAgICAgIHJldHVybiBzdW07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzdW0gPSB0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGB4YCByb3VuZGVkIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMuXHJcbiAgICpcclxuICAgKiAgbG4oLW4pICAgICAgICA9IE5hTlxyXG4gICAqICBsbigwKSAgICAgICAgID0gLUluZmluaXR5XHJcbiAgICogIGxuKC0wKSAgICAgICAgPSAtSW5maW5pdHlcclxuICAgKiAgbG4oMSkgICAgICAgICA9IDBcclxuICAgKiAgbG4oSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAgICogIGxuKC1JbmZpbml0eSkgPSBOYU5cclxuICAgKiAgbG4oTmFOKSAgICAgICA9IE5hTlxyXG4gICAqXHJcbiAgICogIGxuKG4pIChuICE9IDEpIGlzIG5vbi10ZXJtaW5hdGluZy5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG5hdHVyYWxMb2dhcml0aG0oeSwgc2QpIHtcclxuICAgIHZhciBjLCBjMCwgZGVub21pbmF0b3IsIGUsIG51bWVyYXRvciwgcmVwLCBzdW0sIHQsIHdwciwgeDEsIHgyLFxyXG4gICAgICBuID0gMSxcclxuICAgICAgZ3VhcmQgPSAxMCxcclxuICAgICAgeCA9IHksXHJcbiAgICAgIHhkID0geC5kLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nLFxyXG4gICAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG5cclxuICAgIC8vIElzIHggbmVnYXRpdmUgb3IgSW5maW5pdHksIE5hTiwgMCBvciAxP1xyXG4gICAgaWYgKHgucyA8IDAgfHwgIXhkIHx8ICF4ZFswXSB8fCAheC5lICYmIHhkWzBdID09IDEgJiYgeGQubGVuZ3RoID09IDEpIHtcclxuICAgICAgcmV0dXJuIG5ldyBDdG9yKHhkICYmICF4ZFswXSA/IC0xIC8gMCA6IHgucyAhPSAxID8gTmFOIDogeGQgPyAwIDogeCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNkID09IG51bGwpIHtcclxuICAgICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgICAgd3ByID0gcHI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3cHIgPSBzZDtcclxuICAgIH1cclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHdwciArPSBndWFyZDtcclxuICAgIGMgPSBkaWdpdHNUb1N0cmluZyh4ZCk7XHJcbiAgICBjMCA9IGMuY2hhckF0KDApO1xyXG5cclxuICAgIGlmIChNYXRoLmFicyhlID0geC5lKSA8IDEuNWUxNSkge1xyXG5cclxuICAgICAgLy8gQXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gICAgICAvLyBUaGUgc2VyaWVzIGNvbnZlcmdlcyBmYXN0ZXIgdGhlIGNsb3NlciB0aGUgYXJndW1lbnQgaXMgdG8gMSwgc28gdXNpbmdcclxuICAgICAgLy8gbG4oYV5iKSA9IGIgKiBsbihhKSwgICBsbihhKSA9IGxuKGFeYikgLyBiXHJcbiAgICAgIC8vIG11bHRpcGx5IHRoZSBhcmd1bWVudCBieSBpdHNlbGYgdW50aWwgdGhlIGxlYWRpbmcgZGlnaXRzIG9mIHRoZSBzaWduaWZpY2FuZCBhcmUgNywgOCwgOSxcclxuICAgICAgLy8gMTAsIDExLCAxMiBvciAxMywgcmVjb3JkaW5nIHRoZSBudW1iZXIgb2YgbXVsdGlwbGljYXRpb25zIHNvIHRoZSBzdW0gb2YgdGhlIHNlcmllcyBjYW5cclxuICAgICAgLy8gbGF0ZXIgYmUgZGl2aWRlZCBieSB0aGlzIG51bWJlciwgdGhlbiBzZXBhcmF0ZSBvdXQgdGhlIHBvd2VyIG9mIDEwIHVzaW5nXHJcbiAgICAgIC8vIGxuKGEqMTBeYikgPSBsbihhKSArIGIqbG4oMTApLlxyXG5cclxuICAgICAgLy8gbWF4IG4gaXMgMjEgKGdpdmVzIDAuOSwgMS4wIG9yIDEuMSkgKDllMTUgLyAyMSA9IDQuMmUxNCkuXHJcbiAgICAgIC8vd2hpbGUgKGMwIDwgOSAmJiBjMCAhPSAxIHx8IGMwID09IDEgJiYgYy5jaGFyQXQoMSkgPiAxKSB7XHJcbiAgICAgIC8vIG1heCBuIGlzIDYgKGdpdmVzIDAuNyAtIDEuMylcclxuICAgICAgd2hpbGUgKGMwIDwgNyAmJiBjMCAhPSAxIHx8IGMwID09IDEgJiYgYy5jaGFyQXQoMSkgPiAzKSB7XHJcbiAgICAgICAgeCA9IHgudGltZXMoeSk7XHJcbiAgICAgICAgYyA9IGRpZ2l0c1RvU3RyaW5nKHguZCk7XHJcbiAgICAgICAgYzAgPSBjLmNoYXJBdCgwKTtcclxuICAgICAgICBuKys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGUgPSB4LmU7XHJcblxyXG4gICAgICBpZiAoYzAgPiAxKSB7XHJcbiAgICAgICAgeCA9IG5ldyBDdG9yKCcwLicgKyBjKTtcclxuICAgICAgICBlKys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeCA9IG5ldyBDdG9yKGMwICsgJy4nICsgYy5zbGljZSgxKSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBUaGUgYXJndW1lbnQgcmVkdWN0aW9uIG1ldGhvZCBhYm92ZSBtYXkgcmVzdWx0IGluIG92ZXJmbG93IGlmIHRoZSBhcmd1bWVudCB5IGlzIGEgbWFzc2l2ZVxyXG4gICAgICAvLyBudW1iZXIgd2l0aCBleHBvbmVudCA+PSAxNTAwMDAwMDAwMDAwMDAwICg5ZTE1IC8gNiA9IDEuNWUxNSksIHNvIGluc3RlYWQgcmVjYWxsIHRoaXNcclxuICAgICAgLy8gZnVuY3Rpb24gdXNpbmcgbG4oeCoxMF5lKSA9IGxuKHgpICsgZSpsbigxMCkuXHJcbiAgICAgIHQgPSBnZXRMbjEwKEN0b3IsIHdwciArIDIsIHByKS50aW1lcyhlICsgJycpO1xyXG4gICAgICB4ID0gbmF0dXJhbExvZ2FyaXRobShuZXcgQ3RvcihjMCArICcuJyArIGMuc2xpY2UoMSkpLCB3cHIgLSBndWFyZCkucGx1cyh0KTtcclxuICAgICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuXHJcbiAgICAgIHJldHVybiBzZCA9PSBudWxsID8gZmluYWxpc2UoeCwgcHIsIHJtLCBleHRlcm5hbCA9IHRydWUpIDogeDtcclxuICAgIH1cclxuXHJcbiAgICAvLyB4MSBpcyB4IHJlZHVjZWQgdG8gYSB2YWx1ZSBuZWFyIDEuXHJcbiAgICB4MSA9IHg7XHJcblxyXG4gICAgLy8gVGF5bG9yIHNlcmllcy5cclxuICAgIC8vIGxuKHkpID0gbG4oKDEgKyB4KS8oMSAtIHgpKSA9IDIoeCArIHheMy8zICsgeF41LzUgKyB4XjcvNyArIC4uLilcclxuICAgIC8vIHdoZXJlIHggPSAoeSAtIDEpLyh5ICsgMSkgICAgKHx4fCA8IDEpXHJcbiAgICBzdW0gPSBudW1lcmF0b3IgPSB4ID0gZGl2aWRlKHgubWludXMoMSksIHgucGx1cygxKSwgd3ByLCAxKTtcclxuICAgIHgyID0gZmluYWxpc2UoeC50aW1lcyh4KSwgd3ByLCAxKTtcclxuICAgIGRlbm9taW5hdG9yID0gMztcclxuXHJcbiAgICBmb3IgKDs7KSB7XHJcbiAgICAgIG51bWVyYXRvciA9IGZpbmFsaXNlKG51bWVyYXRvci50aW1lcyh4MiksIHdwciwgMSk7XHJcbiAgICAgIHQgPSBzdW0ucGx1cyhkaXZpZGUobnVtZXJhdG9yLCBuZXcgQ3RvcihkZW5vbWluYXRvciksIHdwciwgMSkpO1xyXG5cclxuICAgICAgaWYgKGRpZ2l0c1RvU3RyaW5nKHQuZCkuc2xpY2UoMCwgd3ByKSA9PT0gZGlnaXRzVG9TdHJpbmcoc3VtLmQpLnNsaWNlKDAsIHdwcikpIHtcclxuICAgICAgICBzdW0gPSBzdW0udGltZXMoMik7XHJcblxyXG4gICAgICAgIC8vIFJldmVyc2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi4gQ2hlY2sgdGhhdCBlIGlzIG5vdCAwIGJlY2F1c2UsIGJlc2lkZXMgcHJldmVudGluZyBhblxyXG4gICAgICAgIC8vIHVubmVjZXNzYXJ5IGNhbGN1bGF0aW9uLCAtMCArIDAgPSArMCBhbmQgdG8gZW5zdXJlIGNvcnJlY3Qgcm91bmRpbmcgLTAgbmVlZHMgdG8gc3RheSAtMC5cclxuICAgICAgICBpZiAoZSAhPT0gMCkgc3VtID0gc3VtLnBsdXMoZ2V0TG4xMChDdG9yLCB3cHIgKyAyLCBwcikudGltZXMoZSArICcnKSk7XHJcbiAgICAgICAgc3VtID0gZGl2aWRlKHN1bSwgbmV3IEN0b3IobiksIHdwciwgMSk7XHJcblxyXG4gICAgICAgIC8vIElzIHJtID4gMyBhbmQgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIDQ5OTksIG9yIHJtIDwgNCAob3IgdGhlIHN1bW1hdGlvbiBoYXNcclxuICAgICAgICAvLyBiZWVuIHJlcGVhdGVkIHByZXZpb3VzbHkpIGFuZCB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgOTk5OT9cclxuICAgICAgICAvLyBJZiBzbywgcmVzdGFydCB0aGUgc3VtbWF0aW9uIHdpdGggYSBoaWdoZXIgcHJlY2lzaW9uLCBvdGhlcndpc2VcclxuICAgICAgICAvLyBlLmcuIHdpdGggcHJlY2lzaW9uOiAxMiwgcm91bmRpbmc6IDFcclxuICAgICAgICAvLyBsbigxMzU1MjAwMjguNjEyNjA5MTcxNDI2NTM4MTUzMykgPSAxOC43MjQ2Mjk5OTk5IHdoZW4gaXQgc2hvdWxkIGJlIDE4LjcyNDYzLlxyXG4gICAgICAgIC8vIGB3cHIgLSBndWFyZGAgaXMgdGhlIGluZGV4IG9mIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICBpZiAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhzdW0uZCwgd3ByIC0gZ3VhcmQsIHJtLCByZXApKSB7XHJcbiAgICAgICAgICAgIEN0b3IucHJlY2lzaW9uID0gd3ByICs9IGd1YXJkO1xyXG4gICAgICAgICAgICB0ID0gbnVtZXJhdG9yID0geCA9IGRpdmlkZSh4MS5taW51cygxKSwgeDEucGx1cygxKSwgd3ByLCAxKTtcclxuICAgICAgICAgICAgeDIgPSBmaW5hbGlzZSh4LnRpbWVzKHgpLCB3cHIsIDEpO1xyXG4gICAgICAgICAgICBkZW5vbWluYXRvciA9IHJlcCA9IDE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmluYWxpc2Uoc3VtLCBDdG9yLnByZWNpc2lvbiA9IHByLCBybSwgZXh0ZXJuYWwgPSB0cnVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgICAgICAgIHJldHVybiBzdW07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzdW0gPSB0O1xyXG4gICAgICBkZW5vbWluYXRvciArPSAyO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8vIMKxSW5maW5pdHksIE5hTi5cclxuICBmdW5jdGlvbiBub25GaW5pdGVUb1N0cmluZyh4KSB7XHJcbiAgICAvLyBVbnNpZ25lZC5cclxuICAgIHJldHVybiBTdHJpbmcoeC5zICogeC5zIC8gMCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBQYXJzZSB0aGUgdmFsdWUgb2YgYSBuZXcgRGVjaW1hbCBgeGAgZnJvbSBzdHJpbmcgYHN0cmAuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcGFyc2VEZWNpbWFsKHgsIHN0cikge1xyXG4gICAgdmFyIGUsIGksIGxlbjtcclxuXHJcbiAgICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcblxyXG4gICAgLy8gRXhwb25lbnRpYWwgZm9ybT9cclxuICAgIGlmICgoaSA9IHN0ci5zZWFyY2goL2UvaSkpID4gMCkge1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxyXG4gICAgICBpZiAoZSA8IDApIGUgPSBpO1xyXG4gICAgICBlICs9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG5cclxuICAgICAgLy8gSW50ZWdlci5cclxuICAgICAgZSA9IHN0ci5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICBmb3IgKGkgPSAwOyBzdHIuY2hhckNvZGVBdChpKSA9PT0gNDg7IGkrKyk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBzdHIuY2hhckNvZGVBdChsZW4gLSAxKSA9PT0gNDg7IC0tbGVuKTtcclxuICAgIHN0ciA9IHN0ci5zbGljZShpLCBsZW4pO1xyXG5cclxuICAgIGlmIChzdHIpIHtcclxuICAgICAgbGVuIC09IGk7XHJcbiAgICAgIHguZSA9IGUgPSBlIC0gaSAtIDE7XHJcbiAgICAgIHguZCA9IFtdO1xyXG5cclxuICAgICAgLy8gVHJhbnNmb3JtIGJhc2VcclxuXHJcbiAgICAgIC8vIGUgaXMgdGhlIGJhc2UgMTAgZXhwb25lbnQuXHJcbiAgICAgIC8vIGkgaXMgd2hlcmUgdG8gc2xpY2Ugc3RyIHRvIGdldCB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgZGlnaXRzIGFycmF5LlxyXG4gICAgICBpID0gKGUgKyAxKSAlIExPR19CQVNFO1xyXG4gICAgICBpZiAoZSA8IDApIGkgKz0gTE9HX0JBU0U7XHJcblxyXG4gICAgICBpZiAoaSA8IGxlbikge1xyXG4gICAgICAgIGlmIChpKSB4LmQucHVzaCgrc3RyLnNsaWNlKDAsIGkpKTtcclxuICAgICAgICBmb3IgKGxlbiAtPSBMT0dfQkFTRTsgaSA8IGxlbjspIHguZC5wdXNoKCtzdHIuc2xpY2UoaSwgaSArPSBMT0dfQkFTRSkpO1xyXG4gICAgICAgIHN0ciA9IHN0ci5zbGljZShpKTtcclxuICAgICAgICBpID0gTE9HX0JBU0UgLSBzdHIubGVuZ3RoO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGkgLT0gbGVuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKDsgaS0tOykgc3RyICs9ICcwJztcclxuICAgICAgeC5kLnB1c2goK3N0cik7XHJcblxyXG4gICAgICBpZiAoZXh0ZXJuYWwpIHtcclxuXHJcbiAgICAgICAgLy8gT3ZlcmZsb3c/XHJcbiAgICAgICAgaWYgKHguZSA+IHguY29uc3RydWN0b3IubWF4RSkge1xyXG5cclxuICAgICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICAgIHguZSA9IE5hTjtcclxuXHJcbiAgICAgICAgLy8gVW5kZXJmbG93P1xyXG4gICAgICAgIH0gZWxzZSBpZiAoeC5lIDwgeC5jb25zdHJ1Y3Rvci5taW5FKSB7XHJcblxyXG4gICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgIHguZSA9IDA7XHJcbiAgICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgICAvLyB4LmNvbnN0cnVjdG9yLnVuZGVyZmxvdyA9IHRydWU7XHJcbiAgICAgICAgfSAvLyBlbHNlIHguY29uc3RydWN0b3IudW5kZXJmbG93ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAvLyBaZXJvLlxyXG4gICAgICB4LmUgPSAwO1xyXG4gICAgICB4LmQgPSBbMF07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBQYXJzZSB0aGUgdmFsdWUgb2YgYSBuZXcgRGVjaW1hbCBgeGAgZnJvbSBhIHN0cmluZyBgc3RyYCwgd2hpY2ggaXMgbm90IGEgZGVjaW1hbCB2YWx1ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiBwYXJzZU90aGVyKHgsIHN0cikge1xyXG4gICAgdmFyIGJhc2UsIEN0b3IsIGRpdmlzb3IsIGksIGlzRmxvYXQsIGxlbiwgcCwgeGQsIHhlO1xyXG5cclxuICAgIGlmIChzdHIuaW5kZXhPZignXycpID4gLTEpIHtcclxuICAgICAgc3RyID0gc3RyLnJlcGxhY2UoLyhcXGQpXyg/PVxcZCkvZywgJyQxJyk7XHJcbiAgICAgIGlmIChpc0RlY2ltYWwudGVzdChzdHIpKSByZXR1cm4gcGFyc2VEZWNpbWFsKHgsIHN0cik7XHJcbiAgICB9IGVsc2UgaWYgKHN0ciA9PT0gJ0luZmluaXR5JyB8fCBzdHIgPT09ICdOYU4nKSB7XHJcbiAgICAgIGlmICghK3N0cikgeC5zID0gTmFOO1xyXG4gICAgICB4LmUgPSBOYU47XHJcbiAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0hleC50ZXN0KHN0cikpICB7XHJcbiAgICAgIGJhc2UgPSAxNjtcclxuICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9IGVsc2UgaWYgKGlzQmluYXJ5LnRlc3Qoc3RyKSkgIHtcclxuICAgICAgYmFzZSA9IDI7XHJcbiAgICB9IGVsc2UgaWYgKGlzT2N0YWwudGVzdChzdHIpKSAge1xyXG4gICAgICBiYXNlID0gODtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHN0cik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSXMgdGhlcmUgYSBiaW5hcnkgZXhwb25lbnQgcGFydD9cclxuICAgIGkgPSBzdHIuc2VhcmNoKC9wL2kpO1xyXG5cclxuICAgIGlmIChpID4gMCkge1xyXG4gICAgICBwID0gK3N0ci5zbGljZShpICsgMSk7XHJcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMiwgaSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdHIgPSBzdHIuc2xpY2UoMik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udmVydCBgc3RyYCBhcyBhbiBpbnRlZ2VyIHRoZW4gZGl2aWRlIHRoZSByZXN1bHQgYnkgYGJhc2VgIHJhaXNlZCB0byBhIHBvd2VyIHN1Y2ggdGhhdCB0aGVcclxuICAgIC8vIGZyYWN0aW9uIHBhcnQgd2lsbCBiZSByZXN0b3JlZC5cclxuICAgIGkgPSBzdHIuaW5kZXhPZignLicpO1xyXG4gICAgaXNGbG9hdCA9IGkgPj0gMDtcclxuICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmIChpc0Zsb2F0KSB7XHJcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG4gICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG4gICAgICBpID0gbGVuIC0gaTtcclxuXHJcbiAgICAgIC8vIGxvZ1sxMF0oMTYpID0gMS4yMDQxLi4uICwgbG9nWzEwXSg4OCkgPSAxLjk0NDQuLi4uXHJcbiAgICAgIGRpdmlzb3IgPSBpbnRQb3coQ3RvciwgbmV3IEN0b3IoYmFzZSksIGksIGkgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgYmFzZSwgQkFTRSk7XHJcbiAgICB4ZSA9IHhkLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChpID0geGU7IHhkW2ldID09PSAwOyAtLWkpIHhkLnBvcCgpO1xyXG4gICAgaWYgKGkgPCAwKSByZXR1cm4gbmV3IEN0b3IoeC5zICogMCk7XHJcbiAgICB4LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgeGUpO1xyXG4gICAgeC5kID0geGQ7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEF0IHdoYXQgcHJlY2lzaW9uIHRvIHBlcmZvcm0gdGhlIGRpdmlzaW9uIHRvIGVuc3VyZSBleGFjdCBjb252ZXJzaW9uP1xyXG4gICAgLy8gbWF4RGVjaW1hbEludGVnZXJQYXJ0RGlnaXRDb3VudCA9IGNlaWwobG9nWzEwXShiKSAqIG90aGVyQmFzZUludGVnZXJQYXJ0RGlnaXRDb3VudClcclxuICAgIC8vIGxvZ1sxMF0oMikgPSAwLjMwMTAzLCBsb2dbMTBdKDgpID0gMC45MDMwOSwgbG9nWzEwXSgxNikgPSAxLjIwNDEyXHJcbiAgICAvLyBFLmcuIGNlaWwoMS4yICogMykgPSA0LCBzbyB1cCB0byA0IGRlY2ltYWwgZGlnaXRzIGFyZSBuZWVkZWQgdG8gcmVwcmVzZW50IDMgaGV4IGludCBkaWdpdHMuXHJcbiAgICAvLyBtYXhEZWNpbWFsRnJhY3Rpb25QYXJ0RGlnaXRDb3VudCA9IHtIZXg6NHxPY3Q6M3xCaW46MX0gKiBvdGhlckJhc2VGcmFjdGlvblBhcnREaWdpdENvdW50XHJcbiAgICAvLyBUaGVyZWZvcmUgdXNpbmcgNCAqIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHN0ciB3aWxsIGFsd2F5cyBiZSBlbm91Z2guXHJcbiAgICBpZiAoaXNGbG9hdCkgeCA9IGRpdmlkZSh4LCBkaXZpc29yLCBsZW4gKiA0KTtcclxuXHJcbiAgICAvLyBNdWx0aXBseSBieSB0aGUgYmluYXJ5IGV4cG9uZW50IHBhcnQgaWYgcHJlc2VudC5cclxuICAgIGlmIChwKSB4ID0geC50aW1lcyhNYXRoLmFicyhwKSA8IDU0ID8gbWF0aHBvdygyLCBwKSA6IERlY2ltYWwucG93KDIsIHApKTtcclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIHNpbih4KSA9IHggLSB4XjMvMyEgKyB4XjUvNSEgLSAuLi5cclxuICAgKiB8eHwgPCBwaS8yXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBzaW5lKEN0b3IsIHgpIHtcclxuICAgIHZhciBrLFxyXG4gICAgICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICAgIGlmIChsZW4gPCAzKSB7XHJcbiAgICAgIHJldHVybiB4LmlzWmVybygpID8geCA6IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBcmd1bWVudCByZWR1Y3Rpb246IHNpbig1eCkgPSAxNipzaW5eNSh4KSAtIDIwKnNpbl4zKHgpICsgNSpzaW4oeClcclxuICAgIC8vIGkuZS4gc2luKHgpID0gMTYqc2luXjUoeC81KSAtIDIwKnNpbl4zKHgvNSkgKyA1KnNpbih4LzUpXHJcbiAgICAvLyBhbmQgIHNpbih4KSA9IHNpbih4LzUpKDUgKyBzaW5eMih4LzUpKDE2c2luXjIoeC81KSAtIDIwKSlcclxuXHJcbiAgICAvLyBFc3RpbWF0ZSB0aGUgb3B0aW11bSBudW1iZXIgb2YgdGltZXMgdG8gdXNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uXHJcbiAgICBrID0gMS40ICogTWF0aC5zcXJ0KGxlbik7XHJcbiAgICBrID0gayA+IDE2ID8gMTYgOiBrIHwgMDtcclxuXHJcbiAgICB4ID0geC50aW1lcygxIC8gdGlueVBvdyg1LCBrKSk7XHJcbiAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDIsIHgsIHgpO1xyXG5cclxuICAgIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgICB2YXIgc2luMl94LFxyXG4gICAgICBkNSA9IG5ldyBDdG9yKDUpLFxyXG4gICAgICBkMTYgPSBuZXcgQ3RvcigxNiksXHJcbiAgICAgIGQyMCA9IG5ldyBDdG9yKDIwKTtcclxuICAgIGZvciAoOyBrLS07KSB7XHJcbiAgICAgIHNpbjJfeCA9IHgudGltZXMoeCk7XHJcbiAgICAgIHggPSB4LnRpbWVzKGQ1LnBsdXMoc2luMl94LnRpbWVzKGQxNi50aW1lcyhzaW4yX3gpLm1pbnVzKGQyMCkpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQ2FsY3VsYXRlIFRheWxvciBzZXJpZXMgZm9yIGBjb3NgLCBgY29zaGAsIGBzaW5gIGFuZCBgc2luaGAuXHJcbiAgZnVuY3Rpb24gdGF5bG9yU2VyaWVzKEN0b3IsIG4sIHgsIHksIGlzSHlwZXJib2xpYykge1xyXG4gICAgdmFyIGosIHQsIHUsIHgyLFxyXG4gICAgICBpID0gMSxcclxuICAgICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFKTtcclxuXHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgeDIgPSB4LnRpbWVzKHgpO1xyXG4gICAgdSA9IG5ldyBDdG9yKHkpO1xyXG5cclxuICAgIGZvciAoOzspIHtcclxuICAgICAgdCA9IGRpdmlkZSh1LnRpbWVzKHgyKSwgbmV3IEN0b3IobisrICogbisrKSwgcHIsIDEpO1xyXG4gICAgICB1ID0gaXNIeXBlcmJvbGljID8geS5wbHVzKHQpIDogeS5taW51cyh0KTtcclxuICAgICAgeSA9IGRpdmlkZSh0LnRpbWVzKHgyKSwgbmV3IEN0b3IobisrICogbisrKSwgcHIsIDEpO1xyXG4gICAgICB0ID0gdS5wbHVzKHkpO1xyXG5cclxuICAgICAgaWYgKHQuZFtrXSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgICAgZm9yIChqID0gazsgdC5kW2pdID09PSB1LmRbal0gJiYgai0tOyk7XHJcbiAgICAgICAgaWYgKGogPT0gLTEpIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBqID0gdTtcclxuICAgICAgdSA9IHk7XHJcbiAgICAgIHkgPSB0O1xyXG4gICAgICB0ID0gajtcclxuICAgICAgaSsrO1xyXG4gICAgfVxyXG5cclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgIHQuZC5sZW5ndGggPSBrICsgMTtcclxuXHJcbiAgICByZXR1cm4gdDtcclxuICB9XHJcblxyXG5cclxuICAvLyBFeHBvbmVudCBlIG11c3QgYmUgcG9zaXRpdmUgYW5kIG5vbi16ZXJvLlxyXG4gIGZ1bmN0aW9uIHRpbnlQb3coYiwgZSkge1xyXG4gICAgdmFyIG4gPSBiO1xyXG4gICAgd2hpbGUgKC0tZSkgbiAqPSBiO1xyXG4gICAgcmV0dXJuIG47XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gUmV0dXJuIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBgeGAgcmVkdWNlZCB0byBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gaGFsZiBwaS5cclxuICBmdW5jdGlvbiB0b0xlc3NUaGFuSGFsZlBpKEN0b3IsIHgpIHtcclxuICAgIHZhciB0LFxyXG4gICAgICBpc05lZyA9IHgucyA8IDAsXHJcbiAgICAgIHBpID0gZ2V0UGkoQ3RvciwgQ3Rvci5wcmVjaXNpb24sIDEpLFxyXG4gICAgICBoYWxmUGkgPSBwaS50aW1lcygwLjUpO1xyXG5cclxuICAgIHggPSB4LmFicygpO1xyXG5cclxuICAgIGlmICh4Lmx0ZShoYWxmUGkpKSB7XHJcbiAgICAgIHF1YWRyYW50ID0gaXNOZWcgPyA0IDogMTtcclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9XHJcblxyXG4gICAgdCA9IHguZGl2VG9JbnQocGkpO1xyXG5cclxuICAgIGlmICh0LmlzWmVybygpKSB7XHJcbiAgICAgIHF1YWRyYW50ID0gaXNOZWcgPyAzIDogMjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHggPSB4Lm1pbnVzKHQudGltZXMocGkpKTtcclxuXHJcbiAgICAgIC8vIDAgPD0geCA8IHBpXHJcbiAgICAgIGlmICh4Lmx0ZShoYWxmUGkpKSB7XHJcbiAgICAgICAgcXVhZHJhbnQgPSBpc09kZCh0KSA/IChpc05lZyA/IDIgOiAzKSA6IChpc05lZyA/IDQgOiAxKTtcclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcXVhZHJhbnQgPSBpc09kZCh0KSA/IChpc05lZyA/IDEgOiA0KSA6IChpc05lZyA/IDMgOiAyKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geC5taW51cyhwaSkuYWJzKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIERlY2ltYWwgYHhgIGFzIGEgc3RyaW5nIGluIGJhc2UgYGJhc2VPdXRgLlxyXG4gICAqXHJcbiAgICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCBpbmNsdWRlIGEgYmluYXJ5IGV4cG9uZW50IHN1ZmZpeC5cclxuICAgKi9cclxuICBmdW5jdGlvbiB0b1N0cmluZ0JpbmFyeSh4LCBiYXNlT3V0LCBzZCwgcm0pIHtcclxuICAgIHZhciBiYXNlLCBlLCBpLCBrLCBsZW4sIHJvdW5kVXAsIHN0ciwgeGQsIHksXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICBpc0V4cCA9IHNkICE9PSB2b2lkIDA7XHJcblxyXG4gICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG4gICAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2QgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSB7XHJcbiAgICAgIHN0ciA9IG5vbkZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgICAgIGkgPSBzdHIuaW5kZXhPZignLicpO1xyXG5cclxuICAgICAgLy8gVXNlIGV4cG9uZW50aWFsIG5vdGF0aW9uIGFjY29yZGluZyB0byBgdG9FeHBQb3NgIGFuZCBgdG9FeHBOZWdgPyBObywgYnV0IGlmIHJlcXVpcmVkOlxyXG4gICAgICAvLyBtYXhCaW5hcnlFeHBvbmVudCA9IGZsb29yKChkZWNpbWFsRXhwb25lbnQgKyAxKSAqIGxvZ1syXSgxMCkpXHJcbiAgICAgIC8vIG1pbkJpbmFyeUV4cG9uZW50ID0gZmxvb3IoZGVjaW1hbEV4cG9uZW50ICogbG9nWzJdKDEwKSlcclxuICAgICAgLy8gbG9nWzJdKDEwKSA9IDMuMzIxOTI4MDk0ODg3MzYyMzQ3ODcwMzE5NDI5NDg5MzkwMTc1ODY0XHJcblxyXG4gICAgICBpZiAoaXNFeHApIHtcclxuICAgICAgICBiYXNlID0gMjtcclxuICAgICAgICBpZiAoYmFzZU91dCA9PSAxNikge1xyXG4gICAgICAgICAgc2QgPSBzZCAqIDQgLSAzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmFzZU91dCA9PSA4KSB7XHJcbiAgICAgICAgICBzZCA9IHNkICogMyAtIDI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJhc2UgPSBiYXNlT3V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb252ZXJ0IHRoZSBudW1iZXIgYXMgYW4gaW50ZWdlciB0aGVuIGRpdmlkZSB0aGUgcmVzdWx0IGJ5IGl0cyBiYXNlIHJhaXNlZCB0byBhIHBvd2VyIHN1Y2hcclxuICAgICAgLy8gdGhhdCB0aGUgZnJhY3Rpb24gcGFydCB3aWxsIGJlIHJlc3RvcmVkLlxyXG5cclxuICAgICAgLy8gTm9uLWludGVnZXIuXHJcbiAgICAgIGlmIChpID49IDApIHtcclxuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgICAgICB5ID0gbmV3IEN0b3IoMSk7XHJcbiAgICAgICAgeS5lID0gc3RyLmxlbmd0aCAtIGk7XHJcbiAgICAgICAgeS5kID0gY29udmVydEJhc2UoZmluaXRlVG9TdHJpbmcoeSksIDEwLCBiYXNlKTtcclxuICAgICAgICB5LmUgPSB5LmQubGVuZ3RoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgMTAsIGJhc2UpO1xyXG4gICAgICBlID0gbGVuID0geGQubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKDsgeGRbLS1sZW5dID09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgICAgIGlmICgheGRbMF0pIHtcclxuICAgICAgICBzdHIgPSBpc0V4cCA/ICcwcCswJyA6ICcwJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgIGUtLTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeCA9IG5ldyBDdG9yKHgpO1xyXG4gICAgICAgICAgeC5kID0geGQ7XHJcbiAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgeCA9IGRpdmlkZSh4LCB5LCBzZCwgcm0sIDAsIGJhc2UpO1xyXG4gICAgICAgICAgeGQgPSB4LmQ7XHJcbiAgICAgICAgICBlID0geC5lO1xyXG4gICAgICAgICAgcm91bmRVcCA9IGluZXhhY3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUaGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICAgIGkgPSB4ZFtzZF07XHJcbiAgICAgICAgayA9IGJhc2UgLyAyO1xyXG4gICAgICAgIHJvdW5kVXAgPSByb3VuZFVwIHx8IHhkW3NkICsgMV0gIT09IHZvaWQgMDtcclxuXHJcbiAgICAgICAgcm91bmRVcCA9IHJtIDwgNFxyXG4gICAgICAgICAgPyAoaSAhPT0gdm9pZCAwIHx8IHJvdW5kVXApICYmIChybSA9PT0gMCB8fCBybSA9PT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgICAgICA6IGkgPiBrIHx8IGkgPT09IGsgJiYgKHJtID09PSA0IHx8IHJvdW5kVXAgfHwgcm0gPT09IDYgJiYgeGRbc2QgLSAxXSAmIDEgfHxcclxuICAgICAgICAgICAgcm0gPT09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICAgICAgeGQubGVuZ3RoID0gc2Q7XHJcblxyXG4gICAgICAgIGlmIChyb3VuZFVwKSB7XHJcblxyXG4gICAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cclxuICAgICAgICAgIGZvciAoOyArK3hkWy0tc2RdID4gYmFzZSAtIDE7KSB7XHJcbiAgICAgICAgICAgIHhkW3NkXSA9IDA7XHJcbiAgICAgICAgICAgIGlmICghc2QpIHtcclxuICAgICAgICAgICAgICArK2U7XHJcbiAgICAgICAgICAgICAgeGQudW5zaGlmdCgxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgIGZvciAobGVuID0geGQubGVuZ3RoOyAheGRbbGVuIC0gMV07IC0tbGVuKTtcclxuXHJcbiAgICAgICAgLy8gRS5nLiBbNCwgMTEsIDE1XSBiZWNvbWVzIDRiZi5cclxuICAgICAgICBmb3IgKGkgPSAwLCBzdHIgPSAnJzsgaSA8IGxlbjsgaSsrKSBzdHIgKz0gTlVNRVJBTFMuY2hhckF0KHhkW2ldKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGJpbmFyeSBleHBvbmVudCBzdWZmaXg/XHJcbiAgICAgICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgICAgICBpZiAobGVuID4gMSkge1xyXG4gICAgICAgICAgICBpZiAoYmFzZU91dCA9PSAxNiB8fCBiYXNlT3V0ID09IDgpIHtcclxuICAgICAgICAgICAgICBpID0gYmFzZU91dCA9PSAxNiA/IDQgOiAzO1xyXG4gICAgICAgICAgICAgIGZvciAoLS1sZW47IGxlbiAlIGk7IGxlbisrKSBzdHIgKz0gJzAnO1xyXG4gICAgICAgICAgICAgIHhkID0gY29udmVydEJhc2Uoc3RyLCBiYXNlLCBiYXNlT3V0KTtcclxuICAgICAgICAgICAgICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgIXhkW2xlbiAtIDFdOyAtLWxlbik7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHhkWzBdIHdpbGwgYWx3YXlzIGJlIGJlIDFcclxuICAgICAgICAgICAgICBmb3IgKGkgPSAxLCBzdHIgPSAnMS4nOyBpIDwgbGVuOyBpKyspIHN0ciArPSBOVU1FUkFMUy5jaGFyQXQoeGRbaV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHN0ciA9IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzdHIgPSAgc3RyICsgKGUgPCAwID8gJ3AnIDogJ3ArJykgKyBlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuICAgICAgICAgIGZvciAoOyArK2U7KSBzdHIgPSAnMCcgKyBzdHI7XHJcbiAgICAgICAgICBzdHIgPSAnMC4nICsgc3RyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoKytlID4gbGVuKSBmb3IgKGUgLT0gbGVuOyBlLS0gOykgc3RyICs9ICcwJztcclxuICAgICAgICAgIGVsc2UgaWYgKGUgPCBsZW4pIHN0ciA9IHN0ci5zbGljZSgwLCBlKSArICcuJyArIHN0ci5zbGljZShlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0ciA9IChiYXNlT3V0ID09IDE2ID8gJzB4JyA6IGJhc2VPdXQgPT0gMiA/ICcwYicgOiBiYXNlT3V0ID09IDggPyAnMG8nIDogJycpICsgc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4LnMgPCAwID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIERvZXMgbm90IHN0cmlwIHRyYWlsaW5nIHplcm9zLlxyXG4gIGZ1bmN0aW9uIHRydW5jYXRlKGFyciwgbGVuKSB7XHJcbiAgICBpZiAoYXJyLmxlbmd0aCA+IGxlbikge1xyXG4gICAgICBhcnIubGVuZ3RoID0gbGVuO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvLyBEZWNpbWFsIG1ldGhvZHNcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIGFic1xyXG4gICAqICBhY29zXHJcbiAgICogIGFjb3NoXHJcbiAgICogIGFkZFxyXG4gICAqICBhc2luXHJcbiAgICogIGFzaW5oXHJcbiAgICogIGF0YW5cclxuICAgKiAgYXRhbmhcclxuICAgKiAgYXRhbjJcclxuICAgKiAgY2JydFxyXG4gICAqICBjZWlsXHJcbiAgICogIGNsYW1wXHJcbiAgICogIGNsb25lXHJcbiAgICogIGNvbmZpZ1xyXG4gICAqICBjb3NcclxuICAgKiAgY29zaFxyXG4gICAqICBkaXZcclxuICAgKiAgZXhwXHJcbiAgICogIGZsb29yXHJcbiAgICogIGh5cG90XHJcbiAgICogIGxuXHJcbiAgICogIGxvZ1xyXG4gICAqICBsb2cyXHJcbiAgICogIGxvZzEwXHJcbiAgICogIG1heFxyXG4gICAqICBtaW5cclxuICAgKiAgbW9kXHJcbiAgICogIG11bFxyXG4gICAqICBwb3dcclxuICAgKiAgcmFuZG9tXHJcbiAgICogIHJvdW5kXHJcbiAgICogIHNldFxyXG4gICAqICBzaWduXHJcbiAgICogIHNpblxyXG4gICAqICBzaW5oXHJcbiAgICogIHNxcnRcclxuICAgKiAgc3ViXHJcbiAgICogIHN1bVxyXG4gICAqICB0YW5cclxuICAgKiAgdGFuaFxyXG4gICAqICB0cnVuY1xyXG4gICAqL1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYHhgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYWJzKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5hYnMoKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmNjb3NpbmUgaW4gcmFkaWFucyBvZiBgeGAuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBhY29zKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5hY29zKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvXHJcbiAgICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYWNvc2goeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmFjb3NoKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3VtIG9mIGB4YCBhbmQgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAgICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBhZGQoeCwgeSkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLnBsdXMoeSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjc2luZSBpbiByYWRpYW5zIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBhc2luKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5hc2luKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIGB4YCwgcm91bmRlZCB0b1xyXG4gICAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFzaW5oKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5hc2luaCgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3RhbmdlbnQgaW4gcmFkaWFucyBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYXRhbih4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuYXRhbigpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICAgKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBhdGFuaCh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuYXRhbmgoKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IGluIHJhZGlhbnMgb2YgYHkveGAgaW4gdGhlIHJhbmdlIC1waSB0byBwaVxyXG4gICAqIChpbmNsdXNpdmUpLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbLXBpLCBwaV1cclxuICAgKlxyXG4gICAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHktY29vcmRpbmF0ZS5cclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSB4LWNvb3JkaW5hdGUuXHJcbiAgICpcclxuICAgKiBhdGFuMijCsTAsIC0wKSAgICAgICAgICAgICAgID0gwrFwaVxyXG4gICAqIGF0YW4yKMKxMCwgKzApICAgICAgICAgICAgICAgPSDCsTBcclxuICAgKiBhdGFuMijCsTAsIC14KSAgICAgICAgICAgICAgID0gwrFwaSBmb3IgeCA+IDBcclxuICAgKiBhdGFuMijCsTAsIHgpICAgICAgICAgICAgICAgID0gwrEwIGZvciB4ID4gMFxyXG4gICAqIGF0YW4yKC15LCDCsTApICAgICAgICAgICAgICAgPSAtcGkvMiBmb3IgeSA+IDBcclxuICAgKiBhdGFuMih5LCDCsTApICAgICAgICAgICAgICAgID0gcGkvMiBmb3IgeSA+IDBcclxuICAgKiBhdGFuMijCsXksIC1JbmZpbml0eSkgICAgICAgID0gwrFwaSBmb3IgZmluaXRlIHkgPiAwXHJcbiAgICogYXRhbjIowrF5LCArSW5maW5pdHkpICAgICAgICA9IMKxMCBmb3IgZmluaXRlIHkgPiAwXHJcbiAgICogYXRhbjIowrFJbmZpbml0eSwgeCkgICAgICAgICA9IMKxcGkvMiBmb3IgZmluaXRlIHhcclxuICAgKiBhdGFuMijCsUluZmluaXR5LCAtSW5maW5pdHkpID0gwrEzKnBpLzRcclxuICAgKiBhdGFuMijCsUluZmluaXR5LCArSW5maW5pdHkpID0gwrFwaS80XHJcbiAgICogYXRhbjIoTmFOLCB4KSA9IE5hTlxyXG4gICAqIGF0YW4yKHksIE5hTikgPSBOYU5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGF0YW4yKHksIHgpIHtcclxuICAgIHkgPSBuZXcgdGhpcyh5KTtcclxuICAgIHggPSBuZXcgdGhpcyh4KTtcclxuICAgIHZhciByLFxyXG4gICAgICBwciA9IHRoaXMucHJlY2lzaW9uLFxyXG4gICAgICBybSA9IHRoaXMucm91bmRpbmcsXHJcbiAgICAgIHdwciA9IHByICsgNDtcclxuXHJcbiAgICAvLyBFaXRoZXIgTmFOXHJcbiAgICBpZiAoIXkucyB8fCAheC5zKSB7XHJcbiAgICAgIHIgPSBuZXcgdGhpcyhOYU4pO1xyXG5cclxuICAgIC8vIEJvdGggwrFJbmZpbml0eVxyXG4gICAgfSBlbHNlIGlmICgheS5kICYmICF4LmQpIHtcclxuICAgICAgciA9IGdldFBpKHRoaXMsIHdwciwgMSkudGltZXMoeC5zID4gMCA/IDAuMjUgOiAwLjc1KTtcclxuICAgICAgci5zID0geS5zO1xyXG5cclxuICAgIC8vIHggaXMgwrFJbmZpbml0eSBvciB5IGlzIMKxMFxyXG4gICAgfSBlbHNlIGlmICgheC5kIHx8IHkuaXNaZXJvKCkpIHtcclxuICAgICAgciA9IHgucyA8IDAgPyBnZXRQaSh0aGlzLCBwciwgcm0pIDogbmV3IHRoaXMoMCk7XHJcbiAgICAgIHIucyA9IHkucztcclxuXHJcbiAgICAvLyB5IGlzIMKxSW5maW5pdHkgb3IgeCBpcyDCsTBcclxuICAgIH0gZWxzZSBpZiAoIXkuZCB8fCB4LmlzWmVybygpKSB7XHJcbiAgICAgIHIgPSBnZXRQaSh0aGlzLCB3cHIsIDEpLnRpbWVzKDAuNSk7XHJcbiAgICAgIHIucyA9IHkucztcclxuXHJcbiAgICAvLyBCb3RoIG5vbi16ZXJvIGFuZCBmaW5pdGVcclxuICAgIH0gZWxzZSBpZiAoeC5zIDwgMCkge1xyXG4gICAgICB0aGlzLnByZWNpc2lvbiA9IHdwcjtcclxuICAgICAgdGhpcy5yb3VuZGluZyA9IDE7XHJcbiAgICAgIHIgPSB0aGlzLmF0YW4oZGl2aWRlKHksIHgsIHdwciwgMSkpO1xyXG4gICAgICB4ID0gZ2V0UGkodGhpcywgd3ByLCAxKTtcclxuICAgICAgdGhpcy5wcmVjaXNpb24gPSBwcjtcclxuICAgICAgdGhpcy5yb3VuZGluZyA9IHJtO1xyXG4gICAgICByID0geS5zIDwgMCA/IHIubWludXMoeCkgOiByLnBsdXMoeCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gdGhpcy5hdGFuKGRpdmlkZSh5LCB4LCB3cHIsIDEpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjdWJlIHJvb3Qgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAgICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNicnQoeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmNicnQoKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZGVkIHRvIGFuIGludGVnZXIgdXNpbmcgYFJPVU5EX0NFSUxgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY2VpbCh4KSB7XHJcbiAgICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAyKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBjbGFtcGVkIHRvIHRoZSByYW5nZSBkZWxpbmVhdGVkIGJ5IGBtaW5gIGFuZCBgbWF4YC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKiBtaW4ge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKiBtYXgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNsYW1wKHgsIG1pbiwgbWF4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuY2xhbXAobWluLCBtYXgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogQ29uZmlndXJlIGdsb2JhbCBzZXR0aW5ncyBmb3IgYSBEZWNpbWFsIGNvbnN0cnVjdG9yLlxyXG4gICAqXHJcbiAgICogYG9iamAgaXMgYW4gb2JqZWN0IHdpdGggb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzLFxyXG4gICAqXHJcbiAgICogICBwcmVjaXNpb24gIHtudW1iZXJ9XHJcbiAgICogICByb3VuZGluZyAgIHtudW1iZXJ9XHJcbiAgICogICB0b0V4cE5lZyAgIHtudW1iZXJ9XHJcbiAgICogICB0b0V4cFBvcyAgIHtudW1iZXJ9XHJcbiAgICogICBtYXhFICAgICAgIHtudW1iZXJ9XHJcbiAgICogICBtaW5FICAgICAgIHtudW1iZXJ9XHJcbiAgICogICBtb2R1bG8gICAgIHtudW1iZXJ9XHJcbiAgICogICBjcnlwdG8gICAgIHtib29sZWFufG51bWJlcn1cclxuICAgKiAgIGRlZmF1bHRzICAge3RydWV9XHJcbiAgICpcclxuICAgKiBFLmcuIERlY2ltYWwuY29uZmlnKHsgcHJlY2lzaW9uOiAyMCwgcm91bmRpbmc6IDQgfSlcclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNvbmZpZyhvYmopIHtcclxuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB0aHJvdyBFcnJvcihkZWNpbWFsRXJyb3IgKyAnT2JqZWN0IGV4cGVjdGVkJyk7XHJcbiAgICB2YXIgaSwgcCwgdixcclxuICAgICAgdXNlRGVmYXVsdHMgPSBvYmouZGVmYXVsdHMgPT09IHRydWUsXHJcbiAgICAgIHBzID0gW1xyXG4gICAgICAgICdwcmVjaXNpb24nLCAxLCBNQVhfRElHSVRTLFxyXG4gICAgICAgICdyb3VuZGluZycsIDAsIDgsXHJcbiAgICAgICAgJ3RvRXhwTmVnJywgLUVYUF9MSU1JVCwgMCxcclxuICAgICAgICAndG9FeHBQb3MnLCAwLCBFWFBfTElNSVQsXHJcbiAgICAgICAgJ21heEUnLCAwLCBFWFBfTElNSVQsXHJcbiAgICAgICAgJ21pbkUnLCAtRVhQX0xJTUlULCAwLFxyXG4gICAgICAgICdtb2R1bG8nLCAwLCA5XHJcbiAgICAgIF07XHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IHBzLmxlbmd0aDsgaSArPSAzKSB7XHJcbiAgICAgIGlmIChwID0gcHNbaV0sIHVzZURlZmF1bHRzKSB0aGlzW3BdID0gREVGQVVMVFNbcF07XHJcbiAgICAgIGlmICgodiA9IG9ialtwXSkgIT09IHZvaWQgMCkge1xyXG4gICAgICAgIGlmIChtYXRoZmxvb3IodikgPT09IHYgJiYgdiA+PSBwc1tpICsgMV0gJiYgdiA8PSBwc1tpICsgMl0pIHRoaXNbcF0gPSB2O1xyXG4gICAgICAgIGVsc2UgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgcCArICc6ICcgKyB2KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChwID0gJ2NyeXB0bycsIHVzZURlZmF1bHRzKSB0aGlzW3BdID0gREVGQVVMVFNbcF07XHJcbiAgICBpZiAoKHYgPSBvYmpbcF0pICE9PSB2b2lkIDApIHtcclxuICAgICAgaWYgKHYgPT09IHRydWUgfHwgdiA9PT0gZmFsc2UgfHwgdiA9PT0gMCB8fCB2ID09PSAxKSB7XHJcbiAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9ICd1bmRlZmluZWQnICYmIGNyeXB0byAmJlxyXG4gICAgICAgICAgICAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyB8fCBjcnlwdG8ucmFuZG9tQnl0ZXMpKSB7XHJcbiAgICAgICAgICAgIHRoaXNbcF0gPSB0cnVlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoY3J5cHRvVW5hdmFpbGFibGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzW3BdID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHAgKyAnOiAnICsgdik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAgICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY29zKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5jb3MoKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIGNvc2luZSBvZiBgeGAsIHJvdW5kZWQgdG8gcHJlY2lzaW9uXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY29zaCh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuY29zaCgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogQ3JlYXRlIGFuZCByZXR1cm4gYSBEZWNpbWFsIGNvbnN0cnVjdG9yIHdpdGggdGhlIHNhbWUgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIGFzIHRoaXMgRGVjaW1hbFxyXG4gICAqIGNvbnN0cnVjdG9yLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY2xvbmUob2JqKSB7XHJcbiAgICB2YXIgaSwgcCwgcHM7XHJcblxyXG4gICAgLypcclxuICAgICAqIFRoZSBEZWNpbWFsIGNvbnN0cnVjdG9yIGFuZCBleHBvcnRlZCBmdW5jdGlvbi5cclxuICAgICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIHYge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSBudW1lcmljIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gRGVjaW1hbCh2KSB7XHJcbiAgICAgIHZhciBlLCBpLCB0LFxyXG4gICAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgICAgLy8gRGVjaW1hbCBjYWxsZWQgd2l0aG91dCBuZXcuXHJcbiAgICAgIGlmICghKHggaW5zdGFuY2VvZiBEZWNpbWFsKSkgcmV0dXJuIG5ldyBEZWNpbWFsKHYpO1xyXG5cclxuICAgICAgLy8gUmV0YWluIGEgcmVmZXJlbmNlIHRvIHRoaXMgRGVjaW1hbCBjb25zdHJ1Y3RvciwgYW5kIHNoYWRvdyBEZWNpbWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvclxyXG4gICAgICAvLyB3aGljaCBwb2ludHMgdG8gT2JqZWN0LlxyXG4gICAgICB4LmNvbnN0cnVjdG9yID0gRGVjaW1hbDtcclxuXHJcbiAgICAgIC8vIER1cGxpY2F0ZS5cclxuICAgICAgaWYgKGlzRGVjaW1hbEluc3RhbmNlKHYpKSB7XHJcbiAgICAgICAgeC5zID0gdi5zO1xyXG5cclxuICAgICAgICBpZiAoZXh0ZXJuYWwpIHtcclxuICAgICAgICAgIGlmICghdi5kIHx8IHYuZSA+IERlY2ltYWwubWF4RSkge1xyXG5cclxuICAgICAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodi5lIDwgRGVjaW1hbC5taW5FKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4LmUgPSB2LmU7XHJcbiAgICAgICAgICAgIHguZCA9IHYuZC5zbGljZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LmUgPSB2LmU7XHJcbiAgICAgICAgICB4LmQgPSB2LmQgPyB2LmQuc2xpY2UoKSA6IHYuZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdCA9IHR5cGVvZiB2O1xyXG5cclxuICAgICAgaWYgKHQgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgaWYgKHYgPT09IDApIHtcclxuICAgICAgICAgIHgucyA9IDEgLyB2IDwgMCA/IC0xIDogMTtcclxuICAgICAgICAgIHguZSA9IDA7XHJcbiAgICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodiA8IDApIHtcclxuICAgICAgICAgIHYgPSAtdjtcclxuICAgICAgICAgIHgucyA9IC0xO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LnMgPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBzbWFsbCBpbnRlZ2Vycy5cclxuICAgICAgICBpZiAodiA9PT0gfn52ICYmIHYgPCAxZTcpIHtcclxuICAgICAgICAgIGZvciAoZSA9IDAsIGkgPSB2OyBpID49IDEwOyBpIC89IDEwKSBlKys7XHJcblxyXG4gICAgICAgICAgaWYgKGV4dGVybmFsKSB7XHJcbiAgICAgICAgICAgIGlmIChlID4gRGVjaW1hbC5tYXhFKSB7XHJcbiAgICAgICAgICAgICAgeC5lID0gTmFOO1xyXG4gICAgICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZSA8IERlY2ltYWwubWluRSkge1xyXG4gICAgICAgICAgICAgIHguZSA9IDA7XHJcbiAgICAgICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICAgICAgeC5kID0gW3ZdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgICB4LmQgPSBbdl07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBJbmZpbml0eSwgTmFOLlxyXG4gICAgICAgIH0gZWxzZSBpZiAodiAqIDAgIT09IDApIHtcclxuICAgICAgICAgIGlmICghdikgeC5zID0gTmFOO1xyXG4gICAgICAgICAgeC5lID0gTmFOO1xyXG4gICAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwYXJzZURlY2ltYWwoeCwgdi50b1N0cmluZygpKTtcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAodCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyB2KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTWludXMgc2lnbj9cclxuICAgICAgaWYgKChpID0gdi5jaGFyQ29kZUF0KDApKSA9PT0gNDUpIHtcclxuICAgICAgICB2ID0gdi5zbGljZSgxKTtcclxuICAgICAgICB4LnMgPSAtMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBQbHVzIHNpZ24/XHJcbiAgICAgICAgaWYgKGkgPT09IDQzKSB2ID0gdi5zbGljZSgxKTtcclxuICAgICAgICB4LnMgPSAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gaXNEZWNpbWFsLnRlc3QodikgPyBwYXJzZURlY2ltYWwoeCwgdikgOiBwYXJzZU90aGVyKHgsIHYpO1xyXG4gICAgfVxyXG5cclxuICAgIERlY2ltYWwucHJvdG90eXBlID0gUDtcclxuXHJcbiAgICBEZWNpbWFsLlJPVU5EX1VQID0gMDtcclxuICAgIERlY2ltYWwuUk9VTkRfRE9XTiA9IDE7XHJcbiAgICBEZWNpbWFsLlJPVU5EX0NFSUwgPSAyO1xyXG4gICAgRGVjaW1hbC5ST1VORF9GTE9PUiA9IDM7XHJcbiAgICBEZWNpbWFsLlJPVU5EX0hBTEZfVVAgPSA0O1xyXG4gICAgRGVjaW1hbC5ST1VORF9IQUxGX0RPV04gPSA1O1xyXG4gICAgRGVjaW1hbC5ST1VORF9IQUxGX0VWRU4gPSA2O1xyXG4gICAgRGVjaW1hbC5ST1VORF9IQUxGX0NFSUwgPSA3O1xyXG4gICAgRGVjaW1hbC5ST1VORF9IQUxGX0ZMT09SID0gODtcclxuICAgIERlY2ltYWwuRVVDTElEID0gOTtcclxuXHJcbiAgICBEZWNpbWFsLmNvbmZpZyA9IERlY2ltYWwuc2V0ID0gY29uZmlnO1xyXG4gICAgRGVjaW1hbC5jbG9uZSA9IGNsb25lO1xyXG4gICAgRGVjaW1hbC5pc0RlY2ltYWwgPSBpc0RlY2ltYWxJbnN0YW5jZTtcclxuXHJcbiAgICBEZWNpbWFsLmFicyA9IGFicztcclxuICAgIERlY2ltYWwuYWNvcyA9IGFjb3M7XHJcbiAgICBEZWNpbWFsLmFjb3NoID0gYWNvc2g7ICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwuYWRkID0gYWRkO1xyXG4gICAgRGVjaW1hbC5hc2luID0gYXNpbjtcclxuICAgIERlY2ltYWwuYXNpbmggPSBhc2luaDsgICAgICAgIC8vIEVTNlxyXG4gICAgRGVjaW1hbC5hdGFuID0gYXRhbjtcclxuICAgIERlY2ltYWwuYXRhbmggPSBhdGFuaDsgICAgICAgIC8vIEVTNlxyXG4gICAgRGVjaW1hbC5hdGFuMiA9IGF0YW4yO1xyXG4gICAgRGVjaW1hbC5jYnJ0ID0gY2JydDsgICAgICAgICAgLy8gRVM2XHJcbiAgICBEZWNpbWFsLmNlaWwgPSBjZWlsO1xyXG4gICAgRGVjaW1hbC5jbGFtcCA9IGNsYW1wO1xyXG4gICAgRGVjaW1hbC5jb3MgPSBjb3M7XHJcbiAgICBEZWNpbWFsLmNvc2ggPSBjb3NoOyAgICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwuZGl2ID0gZGl2O1xyXG4gICAgRGVjaW1hbC5leHAgPSBleHA7XHJcbiAgICBEZWNpbWFsLmZsb29yID0gZmxvb3I7XHJcbiAgICBEZWNpbWFsLmh5cG90ID0gaHlwb3Q7ICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwubG4gPSBsbjtcclxuICAgIERlY2ltYWwubG9nID0gbG9nO1xyXG4gICAgRGVjaW1hbC5sb2cxMCA9IGxvZzEwOyAgICAgICAgLy8gRVM2XHJcbiAgICBEZWNpbWFsLmxvZzIgPSBsb2cyOyAgICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwubWF4ID0gbWF4O1xyXG4gICAgRGVjaW1hbC5taW4gPSBtaW47XHJcbiAgICBEZWNpbWFsLm1vZCA9IG1vZDtcclxuICAgIERlY2ltYWwubXVsID0gbXVsO1xyXG4gICAgRGVjaW1hbC5wb3cgPSBwb3c7XHJcbiAgICBEZWNpbWFsLnJhbmRvbSA9IHJhbmRvbTtcclxuICAgIERlY2ltYWwucm91bmQgPSByb3VuZDtcclxuICAgIERlY2ltYWwuc2lnbiA9IHNpZ247ICAgICAgICAgIC8vIEVTNlxyXG4gICAgRGVjaW1hbC5zaW4gPSBzaW47XHJcbiAgICBEZWNpbWFsLnNpbmggPSBzaW5oOyAgICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwuc3FydCA9IHNxcnQ7XHJcbiAgICBEZWNpbWFsLnN1YiA9IHN1YjtcclxuICAgIERlY2ltYWwuc3VtID0gc3VtO1xyXG4gICAgRGVjaW1hbC50YW4gPSB0YW47XHJcbiAgICBEZWNpbWFsLnRhbmggPSB0YW5oOyAgICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwudHJ1bmMgPSB0cnVuYzsgICAgICAgIC8vIEVTNlxyXG5cclxuICAgIGlmIChvYmogPT09IHZvaWQgMCkgb2JqID0ge307XHJcbiAgICBpZiAob2JqKSB7XHJcbiAgICAgIGlmIChvYmouZGVmYXVsdHMgIT09IHRydWUpIHtcclxuICAgICAgICBwcyA9IFsncHJlY2lzaW9uJywgJ3JvdW5kaW5nJywgJ3RvRXhwTmVnJywgJ3RvRXhwUG9zJywgJ21heEUnLCAnbWluRScsICdtb2R1bG8nLCAnY3J5cHRvJ107XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBzLmxlbmd0aDspIGlmICghb2JqLmhhc093blByb3BlcnR5KHAgPSBwc1tpKytdKSkgb2JqW3BdID0gdGhpc1twXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERlY2ltYWwuY29uZmlnKG9iaik7XHJcblxyXG4gICAgcmV0dXJuIERlY2ltYWw7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgZGl2aWRlZCBieSBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGRpdih4LCB5KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuZGl2KHkpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgZXhwb25lbnRpYWwgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIHBvd2VyIHRvIHdoaWNoIHRvIHJhaXNlIHRoZSBiYXNlIG9mIHRoZSBuYXR1cmFsIGxvZy5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGV4cCh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuZXhwKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcm91bmQgdG8gYW4gaW50ZWdlciB1c2luZyBgUk9VTkRfRkxPT1JgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZmxvb3IoeCkge1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgMyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhlIHN1bSBvZiB0aGUgc3F1YXJlcyBvZiB0aGUgYXJndW1lbnRzLFxyXG4gICAqIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIGh5cG90KGEsIGIsIC4uLikgPSBzcXJ0KGFeMiArIGJeMiArIC4uLilcclxuICAgKlxyXG4gICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaHlwb3QoKSB7XHJcbiAgICB2YXIgaSwgbixcclxuICAgICAgdCA9IG5ldyB0aGlzKDApO1xyXG5cclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7KSB7XHJcbiAgICAgIG4gPSBuZXcgdGhpcyhhcmd1bWVudHNbaSsrXSk7XHJcbiAgICAgIGlmICghbi5kKSB7XHJcbiAgICAgICAgaWYgKG4ucykge1xyXG4gICAgICAgICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgICAgICAgcmV0dXJuIG5ldyB0aGlzKDEgLyAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdCA9IG47XHJcbiAgICAgIH0gZWxzZSBpZiAodC5kKSB7XHJcbiAgICAgICAgdCA9IHQucGx1cyhuLnRpbWVzKG4pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gdC5zcXJ0KCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiBvYmplY3QgaXMgYSBEZWNpbWFsIGluc3RhbmNlICh3aGVyZSBEZWNpbWFsIGlzIGFueSBEZWNpbWFsIGNvbnN0cnVjdG9yKSxcclxuICAgKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNEZWNpbWFsSW5zdGFuY2Uob2JqKSB7XHJcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRGVjaW1hbCB8fCBvYmogJiYgb2JqLnRvU3RyaW5nVGFnID09PSB0YWcgfHwgZmFsc2U7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGxuKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5sbigpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGxvZyBvZiBgeGAgdG8gdGhlIGJhc2UgYHlgLCBvciB0byBiYXNlIDEwIGlmIG5vIGJhc2VcclxuICAgKiBpcyBzcGVjaWZpZWQsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIGxvZ1t5XSh4KVxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYXJndW1lbnQgb2YgdGhlIGxvZ2FyaXRobS5cclxuICAgKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlIG9mIHRoZSBsb2dhcml0aG0uXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBsb2coeCwgeSkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmxvZyh5KTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBiYXNlIDIgbG9nYXJpdGhtIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBsb2cyKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5sb2coMik7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYmFzZSAxMCBsb2dhcml0aG0gb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGxvZzEwKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5sb2coMTApO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1heGltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICAgKlxyXG4gICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbWF4KCkge1xyXG4gICAgcmV0dXJuIG1heE9yTWluKHRoaXMsIGFyZ3VtZW50cywgJ2x0Jyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBtaW4oKSB7XHJcbiAgICByZXR1cm4gbWF4T3JNaW4odGhpcywgYXJndW1lbnRzLCAnZ3QnKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtb2R1bG8gYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0c1xyXG4gICAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBtb2QoeCwgeSkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLm1vZCh5KTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtdWx0aXBsaWVkIGJ5IGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbXVsKHgsIHkpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5tdWwoeSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcmFpc2VkIHRvIHRoZSBwb3dlciBgeWAsIHJvdW5kZWQgdG8gcHJlY2lzaW9uXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGJhc2UuXHJcbiAgICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgZXhwb25lbnQuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBwb3coeCwgeSkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLnBvdyh5KTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybnMgYSBuZXcgRGVjaW1hbCB3aXRoIGEgcmFuZG9tIHZhbHVlIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gMSwgYW5kIHdpdGhcclxuICAgKiBgc2RgLCBvciBgRGVjaW1hbC5wcmVjaXNpb25gIGlmIGBzZGAgaXMgb21pdHRlZCwgc2lnbmlmaWNhbnQgZGlnaXRzIChvciBsZXNzIGlmIHRyYWlsaW5nIHplcm9zXHJcbiAgICogYXJlIHByb2R1Y2VkKS5cclxuICAgKlxyXG4gICAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAwIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcmFuZG9tKHNkKSB7XHJcbiAgICB2YXIgZCwgZSwgaywgbixcclxuICAgICAgaSA9IDAsXHJcbiAgICAgIHIgPSBuZXcgdGhpcygxKSxcclxuICAgICAgcmQgPSBbXTtcclxuXHJcbiAgICBpZiAoc2QgPT09IHZvaWQgMCkgc2QgPSB0aGlzLnByZWNpc2lvbjtcclxuICAgIGVsc2UgY2hlY2tJbnQzMihzZCwgMSwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgayA9IE1hdGguY2VpbChzZCAvIExPR19CQVNFKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuY3J5cHRvKSB7XHJcbiAgICAgIGZvciAoOyBpIDwgazspIHJkW2krK10gPSBNYXRoLnJhbmRvbSgpICogMWU3IHwgMDtcclxuXHJcbiAgICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgICB9IGVsc2UgaWYgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcclxuICAgICAgZCA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KGspKTtcclxuXHJcbiAgICAgIGZvciAoOyBpIDwgazspIHtcclxuICAgICAgICBuID0gZFtpXTtcclxuXHJcbiAgICAgICAgLy8gMCA8PSBuIDwgNDI5NDk2NzI5NlxyXG4gICAgICAgIC8vIFByb2JhYmlsaXR5IG4gPj0gNC4yOWU5LCBpcyA0OTY3Mjk2IC8gNDI5NDk2NzI5NiA9IDAuMDAxMTYgKDEgaW4gODY1KS5cclxuICAgICAgICBpZiAobiA+PSA0LjI5ZTkpIHtcclxuICAgICAgICAgIGRbaV0gPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheSgxKSlbMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyAwIDw9IG4gPD0gNDI4OTk5OTk5OVxyXG4gICAgICAgICAgLy8gMCA8PSAobiAlIDFlNykgPD0gOTk5OTk5OVxyXG4gICAgICAgICAgcmRbaSsrXSA9IG4gJSAxZTc7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgLy8gTm9kZS5qcyBzdXBwb3J0aW5nIGNyeXB0by5yYW5kb21CeXRlcy5cclxuICAgIH0gZWxzZSBpZiAoY3J5cHRvLnJhbmRvbUJ5dGVzKSB7XHJcblxyXG4gICAgICAvLyBidWZmZXJcclxuICAgICAgZCA9IGNyeXB0by5yYW5kb21CeXRlcyhrICo9IDQpO1xyXG5cclxuICAgICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgICAvLyAwIDw9IG4gPCAyMTQ3NDgzNjQ4XHJcbiAgICAgICAgbiA9IGRbaV0gKyAoZFtpICsgMV0gPDwgOCkgKyAoZFtpICsgMl0gPDwgMTYpICsgKChkW2kgKyAzXSAmIDB4N2YpIDw8IDI0KTtcclxuXHJcbiAgICAgICAgLy8gUHJvYmFiaWxpdHkgbiA+PSAyLjE0ZTksIGlzIDc0ODM2NDggLyAyMTQ3NDgzNjQ4ID0gMC4wMDM1ICgxIGluIDI4NikuXHJcbiAgICAgICAgaWYgKG4gPj0gMi4xNGU5KSB7XHJcbiAgICAgICAgICBjcnlwdG8ucmFuZG9tQnl0ZXMoNCkuY29weShkLCBpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIDAgPD0gbiA8PSAyMTM5OTk5OTk5XHJcbiAgICAgICAgICAvLyAwIDw9IChuICUgMWU3KSA8PSA5OTk5OTk5XHJcbiAgICAgICAgICByZC5wdXNoKG4gJSAxZTcpO1xyXG4gICAgICAgICAgaSArPSA0O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaSA9IGsgLyA0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgRXJyb3IoY3J5cHRvVW5hdmFpbGFibGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGsgPSByZFstLWldO1xyXG4gICAgc2QgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIHNkLlxyXG4gICAgaWYgKGsgJiYgc2QpIHtcclxuICAgICAgbiA9IG1hdGhwb3coMTAsIExPR19CQVNFIC0gc2QpO1xyXG4gICAgICByZFtpXSA9IChrIC8gbiB8IDApICogbjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgdHJhaWxpbmcgd29yZHMgd2hpY2ggYXJlIHplcm8uXHJcbiAgICBmb3IgKDsgcmRbaV0gPT09IDA7IGktLSkgcmQucG9wKCk7XHJcblxyXG4gICAgLy8gWmVybz9cclxuICAgIGlmIChpIDwgMCkge1xyXG4gICAgICBlID0gMDtcclxuICAgICAgcmQgPSBbMF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlID0gLTE7XHJcblxyXG4gICAgICAvLyBSZW1vdmUgbGVhZGluZyB3b3JkcyB3aGljaCBhcmUgemVybyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgICBmb3IgKDsgcmRbMF0gPT09IDA7IGUgLT0gTE9HX0JBU0UpIHJkLnNoaWZ0KCk7XHJcblxyXG4gICAgICAvLyBDb3VudCB0aGUgZGlnaXRzIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHJkIHRvIGRldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKGsgPSAxLCBuID0gcmRbMF07IG4gPj0gMTA7IG4gLz0gMTApIGsrKztcclxuXHJcbiAgICAgIC8vIEFkanVzdCB0aGUgZXhwb25lbnQgZm9yIGxlYWRpbmcgemVyb3Mgb2YgdGhlIGZpcnN0IHdvcmQgb2YgcmQuXHJcbiAgICAgIGlmIChrIDwgTE9HX0JBU0UpIGUgLT0gTE9HX0JBU0UgLSBrO1xyXG4gICAgfVxyXG5cclxuICAgIHIuZSA9IGU7XHJcbiAgICByLmQgPSByZDtcclxuXHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCByb3VuZGVkIHRvIGFuIGludGVnZXIgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogVG8gZW11bGF0ZSBgTWF0aC5yb3VuZGAsIHNldCByb3VuZGluZyB0byA3IChST1VORF9IQUxGX0NFSUwpLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcm91bmQoeCkge1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgdGhpcy5yb3VuZGluZyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm5cclxuICAgKiAgIDEgICAgaWYgeCA+IDAsXHJcbiAgICogIC0xICAgIGlmIHggPCAwLFxyXG4gICAqICAgMCAgICBpZiB4IGlzIDAsXHJcbiAgICogIC0wICAgIGlmIHggaXMgLTAsXHJcbiAgICogICBOYU4gIG90aGVyd2lzZVxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc2lnbih4KSB7XHJcbiAgICB4ID0gbmV3IHRoaXMoeCk7XHJcbiAgICByZXR1cm4geC5kID8gKHguZFswXSA/IHgucyA6IDAgKiB4LnMpIDogeC5zIHx8IE5hTjtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNpbih4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuc2luKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNpbmgoeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLnNpbmgoKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBzcXVhcmUgcm9vdCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc3FydCh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuc3FydCgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIG1pbnVzIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc3ViKHgsIHkpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5zdWIoeSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3VtIG9mIHRoZSBhcmd1bWVudHMsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogT25seSB0aGUgcmVzdWx0IGlzIHJvdW5kZWQsIG5vdCB0aGUgaW50ZXJtZWRpYXRlIGNhbGN1bGF0aW9ucy5cclxuICAgKlxyXG4gICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc3VtKCkge1xyXG4gICAgdmFyIGkgPSAwLFxyXG4gICAgICBhcmdzID0gYXJndW1lbnRzLFxyXG4gICAgICB4ID0gbmV3IHRoaXMoYXJnc1tpXSk7XHJcblxyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIGZvciAoOyB4LnMgJiYgKytpIDwgYXJncy5sZW5ndGg7KSB4ID0geC5wbHVzKGFyZ3NbaV0pO1xyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICAgIHJldHVybiBmaW5hbGlzZSh4LCB0aGlzLnByZWNpc2lvbiwgdGhpcy5yb3VuZGluZyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiB0YW4oeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLnRhbigpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiB0YW5oKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS50YW5oKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgdHJ1bmNhdGVkIHRvIGFuIGludGVnZXIuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiB0cnVuYyh4KSB7XHJcbiAgICByZXR1cm4gZmluYWxpc2UoeCA9IG5ldyB0aGlzKHgpLCB4LmUgKyAxLCAxKTtcclxuICB9XHJcblxyXG5cclxuICAvLyBDcmVhdGUgYW5kIGNvbmZpZ3VyZSBpbml0aWFsIERlY2ltYWwgY29uc3RydWN0b3IuXHJcbiAgRGVjaW1hbCA9IGNsb25lKERFRkFVTFRTKTtcclxuICBEZWNpbWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERlY2ltYWw7XHJcbiAgRGVjaW1hbFsnZGVmYXVsdCddID0gRGVjaW1hbC5EZWNpbWFsID0gRGVjaW1hbDtcclxuXHJcbiAgLy8gQ3JlYXRlIHRoZSBpbnRlcm5hbCBjb25zdGFudHMgZnJvbSB0aGVpciBzdHJpbmcgdmFsdWVzLlxyXG4gIExOMTAgPSBuZXcgRGVjaW1hbChMTjEwKTtcclxuICBQSSA9IG5ldyBEZWNpbWFsKFBJKTtcclxuXHJcblxyXG4gIC8vIEV4cG9ydC5cclxuXHJcblxyXG4gIC8vIEFNRC5cclxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgIGRlZmluZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBEZWNpbWFsO1xyXG4gICAgfSk7XHJcblxyXG4gIC8vIE5vZGUgYW5kIG90aGVyIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMuXHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XHJcbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcpIHtcclxuICAgICAgUFtTeW1ib2xbJ2ZvciddKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IFAudG9TdHJpbmc7XHJcbiAgICAgIFBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEZWNpbWFsJztcclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGUuZXhwb3J0cyA9IERlY2ltYWw7XHJcblxyXG4gIC8vIEJyb3dzZXIuXHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICghZ2xvYmFsU2NvcGUpIHtcclxuICAgICAgZ2xvYmFsU2NvcGUgPSB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmICYmIHNlbGYuc2VsZiA9PSBzZWxmID8gc2VsZiA6IHdpbmRvdztcclxuICAgIH1cclxuXHJcbiAgICBub0NvbmZsaWN0ID0gZ2xvYmFsU2NvcGUuRGVjaW1hbDtcclxuICAgIERlY2ltYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgZ2xvYmFsU2NvcGUuRGVjaW1hbCA9IG5vQ29uZmxpY3Q7XHJcbiAgICAgIHJldHVybiBEZWNpbWFsO1xyXG4gICAgfTtcclxuXHJcbiAgICBnbG9iYWxTY29wZS5EZWNpbWFsID0gRGVjaW1hbDtcclxuICB9XHJcbn0pKHRoaXMpO1xyXG4iLCIvKlxuICAgIEpTWEdyYXBoIDEuNC40XG5cbiAgICBDb3B5cmlnaHQgMjAwOC0yMDIyXG4gICAgICAgIE1hdHRoaWFzIEVobWFubixcbiAgICAgICAgTWljaGFlbCBHZXJoYWV1c2VyLFxuICAgICAgICBDYXJzdGVuIE1pbGxlcixcbiAgICAgICAgQmlhbmNhIFZhbGVudGluLFxuICAgICAgICBBbmRyZWFzIFdhbHRlcixcbiAgICAgICAgQWxmcmVkIFdhc3Nlcm1hbm4sXG4gICAgICAgIFBldGVyIFdpbGZhaHJ0XG5cbiAgICBUaGlzIGZpbGUgaXMgcGFydCBvZiBKU1hHcmFwaC5cblxuICAgIEpTWEdyYXBoIGlzIGZyZWUgc29mdHdhcmUgZHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgR05VIExHUEwgb3IgTUlUIExpY2Vuc2UuXG5cbiAgICBZb3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGVcblxuICAgICAgKiBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gICAgICAgIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gICAgICAgIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb25cbiAgICAgIE9SXG4gICAgICAqIE1JVCBMaWNlbnNlOiBodHRwczovL2dpdGh1Yi5jb20vanN4Z3JhcGgvanN4Z3JhcGgvYmxvYi9tYXN0ZXIvTElDRU5TRS5NSVRcblxuICAgIEpTWEdyYXBoIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gICAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gICAgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG5cbiAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYW5kXG4gICAgdGhlIE1JVCBMaWNlbnNlIGFsb25nIHdpdGggSlNYR3JhcGguIElmIG5vdCwgc2VlIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz5cbiAgICBhbmQgPGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULz4uXG4qL1xuXG4vKipcbiAqIGFsbW9uZCAwLjIuNSBDb3B5cmlnaHQgKGMpIDIwMTEtMjAxMiwgVGhlIERvam8gRm91bmRhdGlvbiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogQXZhaWxhYmxlIHZpYSB0aGUgTUlUIG9yIG5ldyBCU0QgbGljZW5zZS5cbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvYWxtb25kIGZvciBkZXRhaWxzXG4gKi9cblxuLyoqXG4gKiBVVEYtOCBEZWNvZGVyIGJ5IEJqb2VybiBIb2Vocm1hbm5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDgtMjAwOSBCam9lcm4gSG9laHJtYW5uIDxiam9lcm5AaG9laHJtYW5uLmRlPlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpc1xuICogc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlXG4gKiB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLFxuICogcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zXG4gKiB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICpcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3JcbiAqIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElOR1xuICogQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4gKiBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuICogREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbiFmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJqc3hncmFwaGNvcmVcIixbXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKCk6dC5yZXR1cm5FeHBvcnRzPWUoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLChmdW5jdGlvbigpe1xuLyoqXG4gKiBAbGljZW5zZSBhbG1vbmQgMC4zLjMgQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMuXG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSwgaHR0cDovL2dpdGh1Yi5jb20vcmVxdWlyZWpzL2FsbW9uZC9MSUNFTlNFXG4gKi9cbnZhciByZXF1aXJlanMscmVxdWlyZSxkZWZpbmU7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG89e30sbj17fSxhPXt9LGg9e30sbD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGM9W10uc2xpY2UsZD0vXFwuanMkLztmdW5jdGlvbiB1KHQsZSl7cmV0dXJuIGwuY2FsbCh0LGUpfWZ1bmN0aW9uIHAodCxlKXt2YXIgaSxyLHMsbyxuLGgsbCxjLHUscCxmLG09ZSYmZS5zcGxpdChcIi9cIiksZz1hLm1hcCxiPWcmJmdbXCIqXCJdfHx7fTtpZih0KXtmb3Iobj0odD10LnNwbGl0KFwiL1wiKSkubGVuZ3RoLTEsYS5ub2RlSWRDb21wYXQmJmQudGVzdCh0W25dKSYmKHRbbl09dFtuXS5yZXBsYWNlKGQsXCJcIikpLFwiLlwiPT09dFswXS5jaGFyQXQoMCkmJm0mJih0PW0uc2xpY2UoMCxtLmxlbmd0aC0xKS5jb25jYXQodCkpLHU9MDt1PHQubGVuZ3RoO3UrKylpZihcIi5cIj09PShmPXRbdV0pKXQuc3BsaWNlKHUsMSksdS09MTtlbHNlIGlmKFwiLi5cIj09PWYpe2lmKDA9PT11fHwxPT09dSYmXCIuLlwiPT09dFsyXXx8XCIuLlwiPT09dFt1LTFdKWNvbnRpbnVlO3U+MCYmKHQuc3BsaWNlKHUtMSwyKSx1LT0yKX10PXQuam9pbihcIi9cIil9aWYoKG18fGIpJiZnKXtmb3IodT0oaT10LnNwbGl0KFwiL1wiKSkubGVuZ3RoO3U+MDt1LT0xKXtpZihyPWkuc2xpY2UoMCx1KS5qb2luKFwiL1wiKSxtKWZvcihwPW0ubGVuZ3RoO3A+MDtwLT0xKWlmKChzPWdbbS5zbGljZSgwLHApLmpvaW4oXCIvXCIpXSkmJihzPXNbcl0pKXtvPXMsaD11O2JyZWFrfWlmKG8pYnJlYWs7IWwmJmImJmJbcl0mJihsPWJbcl0sYz11KX0hbyYmbCYmKG89bCxoPWMpLG8mJihpLnNwbGljZSgwLGgsbyksdD1pLmpvaW4oXCIvXCIpKX1yZXR1cm4gdH1mdW5jdGlvbiBmKGUscil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHM9Yy5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Ygc1swXSYmMT09PXMubGVuZ3RoJiZzLnB1c2gobnVsbCksaS5hcHBseSh0LHMuY29uY2F0KFtlLHJdKSl9fWZ1bmN0aW9uIG0odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe29bdF09ZX19ZnVuY3Rpb24gZyhpKXtpZih1KG4saSkpe3ZhciByPW5baV07ZGVsZXRlIG5baV0saFtpXT0hMCxlLmFwcGx5KHQscil9aWYoIXUobyxpKSYmIXUoaCxpKSl0aHJvdyBuZXcgRXJyb3IoXCJObyBcIitpKTtyZXR1cm4gb1tpXX1mdW5jdGlvbiBiKHQpe3ZhciBlLGk9dD90LmluZGV4T2YoXCIhXCIpOi0xO3JldHVybiBpPi0xJiYoZT10LnN1YnN0cmluZygwLGkpLHQ9dC5zdWJzdHJpbmcoaSsxLHQubGVuZ3RoKSksW2UsdF19ZnVuY3Rpb24gdih0KXtyZXR1cm4gdD9iKHQpOltdfWZ1bmN0aW9uIHkodCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEmJmEuY29uZmlnJiZhLmNvbmZpZ1t0XXx8e319fXI9ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM9Yih0KSxvPXNbMF0sbj1lWzFdO3JldHVybiB0PXNbMV0sbyYmKGk9ZyhvPXAobyxuKSkpLG8/dD1pJiZpLm5vcm1hbGl6ZT9pLm5vcm1hbGl6ZSh0LChyPW4sZnVuY3Rpb24odCl7cmV0dXJuIHAodCxyKX0pKTpwKHQsbik6KG89KHM9Yih0PXAodCxuKSkpWzBdLHQ9c1sxXSxvJiYoaT1nKG8pKSkse2Y6bz9vK1wiIVwiK3Q6dCxuOnQscHI6byxwOml9fSxzPXtyZXF1aXJlOmZ1bmN0aW9uKHQpe3JldHVybiBmKHQpfSxleHBvcnRzOmZ1bmN0aW9uKHQpe3ZhciBlPW9bdF07cmV0dXJuIHZvaWQgMCE9PWU/ZTpvW3RdPXt9fSxtb2R1bGU6ZnVuY3Rpb24odCl7cmV0dXJue2lkOnQsdXJpOlwiXCIsZXhwb3J0czpvW3RdLGNvbmZpZzp5KHQpfX19LGU9ZnVuY3Rpb24oZSxpLGEsbCl7dmFyIGMsZCxwLGIseSxDLF8sUD1bXSxFPXR5cGVvZiBhO2lmKEM9dihsPWx8fGUpLFwidW5kZWZpbmVkXCI9PT1FfHxcImZ1bmN0aW9uXCI9PT1FKXtmb3IoaT0haS5sZW5ndGgmJmEubGVuZ3RoP1tcInJlcXVpcmVcIixcImV4cG9ydHNcIixcIm1vZHVsZVwiXTppLHk9MDt5PGkubGVuZ3RoO3krPTEpaWYoXCJyZXF1aXJlXCI9PT0oZD0oYj1yKGlbeV0sQykpLmYpKVBbeV09cy5yZXF1aXJlKGUpO2Vsc2UgaWYoXCJleHBvcnRzXCI9PT1kKVBbeV09cy5leHBvcnRzKGUpLF89ITA7ZWxzZSBpZihcIm1vZHVsZVwiPT09ZCljPVBbeV09cy5tb2R1bGUoZSk7ZWxzZSBpZih1KG8sZCl8fHUobixkKXx8dShoLGQpKVBbeV09ZyhkKTtlbHNle2lmKCFiLnApdGhyb3cgbmV3IEVycm9yKGUrXCIgbWlzc2luZyBcIitkKTtiLnAubG9hZChiLm4sZihsLCEwKSxtKGQpLHt9KSxQW3ldPW9bZF19cD1hP2EuYXBwbHkob1tlXSxQKTp2b2lkIDAsZSYmKGMmJmMuZXhwb3J0cyE9PXQmJmMuZXhwb3J0cyE9PW9bZV0/b1tlXT1jLmV4cG9ydHM6cD09PXQmJl98fChvW2VdPXApKX1lbHNlIGUmJihvW2VdPWEpfSxyZXF1aXJlanM9cmVxdWlyZT1pPWZ1bmN0aW9uKG8sbixoLGwsYyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG8pcmV0dXJuIHNbb10/c1tvXShuKTpnKHIobyx2KG4pKS5mKTtpZighby5zcGxpY2Upe2lmKChhPW8pLmRlcHMmJmkoYS5kZXBzLGEuY2FsbGJhY2spLCFuKXJldHVybjtuLnNwbGljZT8obz1uLG49aCxoPW51bGwpOm89dH1yZXR1cm4gbj1ufHxmdW5jdGlvbigpe30sXCJmdW5jdGlvblwiPT10eXBlb2YgaCYmKGg9bCxsPWMpLGw/ZSh0LG8sbixoKTpzZXRUaW1lb3V0KChmdW5jdGlvbigpe2UodCxvLG4saCl9KSw0KSxpfSxpLmNvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gaSh0KX0scmVxdWlyZWpzLl9kZWZpbmVkPW8sKGRlZmluZT1mdW5jdGlvbih0LGUsaSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiU2VlIGFsbW9uZCBSRUFETUU6IGluY29ycmVjdCBtb2R1bGUgYnVpbGQsIG5vIG1vZHVsZSBuYW1lXCIpO2Uuc3BsaWNlfHwoaT1lLGU9W10pLHUobyx0KXx8dShuLHQpfHwoblt0XT1bdCxlLGldKX0pLmFtZD17alF1ZXJ5OiEwfX0oKSxkZWZpbmUoXCIuLi9ub2RlX21vZHVsZXMvYWxtb25kL2FsbW9uZFwiLChmdW5jdGlvbigpe30pKSxkZWZpbmUoXCJqeGdcIixbXSwoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgdD17fTtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgSlhHfHxKWEcuZXh0ZW5kfHwodD1KWEcpLHQuZXh0ZW5kPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzO2ZvcihzIGluIGk9aXx8ITEscj1yfHwhMSxlKSghaXx8aSYmZS5oYXNPd25Qcm9wZXJ0eShzKSkmJih0W3I/cy50b0xvd2VyQ2FzZSgpOnNdPWVbc10pfSx0LmRlZmluZUNvbnN0YW50PWZ1bmN0aW9uKGUsaSxyLHMpeyhzPXN8fCExKSYmdC5leGlzdHMoZVtpXSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkse3ZhbHVlOnIsd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITF9KX0sdC5leHRlbmRDb25zdGFudHM9ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbztmb3IocyBpbiBpPWl8fCExLHI9cnx8ITEsZSkoIWl8fGkmJmUuaGFzT3duUHJvcGVydHkocykpJiYobz1yP3MudG9VcHBlckNhc2UoKTpzLHRoaXMuZGVmaW5lQ29uc3RhbnQodCxvLGVbc10pKX0sdC5leHRlbmQodCx7Ym9hcmRzOnt9LHJlYWRlcnM6e30sZWxlbWVudHM6e30scmVnaXN0ZXJFbGVtZW50OmZ1bmN0aW9uKHQsZSl7dD10LnRvTG93ZXJDYXNlKCksdGhpcy5lbGVtZW50c1t0XT1lfSxyZWdpc3RlclJlYWRlcjpmdW5jdGlvbih0LGUpe3ZhciBpLHI7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKylyPWVbaV0udG9Mb3dlckNhc2UoKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0aGlzLnJlYWRlcnNbcl0mJih0aGlzLnJlYWRlcnNbcl09dCl9LHNob3J0Y3V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sZ2V0UmVmOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcIkpYRy5nZXRSZWYoKVwiLFwiQm9hcmQuc2VsZWN0KClcIiksZS5zZWxlY3QoaSl9LGdldFJlZmVyZW5jZTpmdW5jdGlvbihlLGkpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJKWEcuZ2V0UmVmZXJlbmNlKClcIixcIkJvYXJkLnNlbGVjdCgpXCIpLGUuc2VsZWN0KGkpfSxnZXRCb2FyZEJ5Q29udGFpbmVySWQ6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gSlhHLmJvYXJkcylpZihKWEcuYm9hcmRzLmhhc093blByb3BlcnR5KGUpJiZKWEcuYm9hcmRzW2VdLmNvbnRhaW5lcj09PXQpcmV0dXJuIEpYRy5ib2FyZHNbZV07cmV0dXJuIG51bGx9LGRlcHJlY2F0ZWQ6ZnVuY3Rpb24oZSxpKXt2YXIgcj1lK1wiIGlzIGRlcHJlY2F0ZWQuXCI7aSYmKHIrPVwiIFBsZWFzZSB1c2UgXCIraStcIiBpbnN0ZWFkLlwiKSx0Lndhcm4ocil9LHdhcm46ZnVuY3Rpb24odCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUud2Fybj9jb25zb2xlLndhcm4oXCJXQVJOSU5HOlwiLHQpOlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3YXJuaW5nXCIpJiYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Z1wiKS5pbm5lckhUTUwrPVwiV0FSTklORzogXCIrdCtcIjxiciAvPlwiKX0sZGVidWdJbnQ6ZnVuY3Rpb24odCl7dmFyIGUsaTtmb3IoZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspaT1hcmd1bWVudHNbZV0sXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nP2NvbnNvbGUubG9nKGkpOlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Z1wiKSYmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdcIikuaW5uZXJIVE1MKz1pK1wiPGJyLz5cIil9LGRlYnVnV1NUOmZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBFcnJvcjt0LmRlYnVnSW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpJiZpLnN0YWNrJiYodC5kZWJ1Z0ludChcInN0YWNrdHJhY2VcIiksdC5kZWJ1Z0ludChpLnN0YWNrLnNwbGl0KFwiXFxuXCIpLnNsaWNlKDEpLmpvaW4oXCJcXG5cIikpKX0sZGVidWdMaW5lOmZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBFcnJvcjt0LmRlYnVnSW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpJiZpLnN0YWNrJiZ0LmRlYnVnSW50KFwiQ2FsbGVkIGZyb21cIixpLnN0YWNrLnNwbGl0KFwiXFxuXCIpLnNsaWNlKDIsMykuam9pbihcIlxcblwiKSl9LGRlYnVnOmZ1bmN0aW9uKGUpe3QuZGVidWdJbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pLHR9KSksZGVmaW5lKFwiYmFzZS9jb25zdGFudHNcIixbXCJqeGdcIl0sKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlLGk9XCIxLjQuNFwiO3JldHVybiBlPXt2ZXJzaW9uOmksbGljZW5zZVRleHQ6XCJKU1hHcmFwaCB2MS40LjQgQ29weXJpZ2h0IChDKSBzZWUgaHR0cHM6Ly9qc3hncmFwaC5vcmdcIixDT09SRFNfQllfVVNFUjoxLENPT1JEU19CWV9TQ1JFRU46MixPQkpFQ1RfVFlQRV9BUkM6MSxPQkpFQ1RfVFlQRV9BUlJPVzoyLE9CSkVDVF9UWVBFX0FYSVM6MyxPQkpFQ1RfVFlQRV9BWElTUE9JTlQ6NCxPQkpFQ1RfVFlQRV9USUNLUzo1LE9CSkVDVF9UWVBFX0NJUkNMRTo2LE9CSkVDVF9UWVBFX0NPTklDOjcsT0JKRUNUX1RZUEVfQ1VSVkU6OCxPQkpFQ1RfVFlQRV9HTElERVI6OSxPQkpFQ1RfVFlQRV9JTUFHRToxMCxPQkpFQ1RfVFlQRV9MSU5FOjExLE9CSkVDVF9UWVBFX1BPSU5UOjEyLE9CSkVDVF9UWVBFX1NMSURFUjoxMyxPQkpFQ1RfVFlQRV9DQVM6MTQsT0JKRUNUX1RZUEVfR1hUQ0FTOjE1LE9CSkVDVF9UWVBFX1BPTFlHT046MTYsT0JKRUNUX1RZUEVfU0VDVE9SOjE3LE9CSkVDVF9UWVBFX1RFWFQ6MTgsT0JKRUNUX1RZUEVfQU5HTEU6MTksT0JKRUNUX1RZUEVfSU5URVJTRUNUSU9OOjIwLE9CSkVDVF9UWVBFX1RVUlRMRToyMSxPQkpFQ1RfVFlQRV9WRUNUT1I6MjIsT0JKRUNUX1RZUEVfT1BST0pFQ1Q6MjMsT0JKRUNUX1RZUEVfR1JJRDoyNCxPQkpFQ1RfVFlQRV9UQU5HRU5UOjI1LE9CSkVDVF9UWVBFX0hUTUxTTElERVI6MjYsT0JKRUNUX1RZUEVfQ0hFQ0tCT1g6MjcsT0JKRUNUX1RZUEVfSU5QVVQ6MjgsT0JKRUNUX1RZUEVfQlVUVE9OOjI5LE9CSkVDVF9UWVBFX1RSQU5TRk9STUFUSU9OOjMwLE9CSkVDVF9UWVBFX0ZPUkVJR05PQkpFQ1Q6MzEsT0JKRUNUX1RZUEVfVklFVzNEOjMyLE9CSkVDVF9DTEFTU19QT0lOVDoxLE9CSkVDVF9DTEFTU19MSU5FOjIsT0JKRUNUX0NMQVNTX0NJUkNMRTozLE9CSkVDVF9DTEFTU19DVVJWRTo0LE9CSkVDVF9DTEFTU19BUkVBOjUsT0JKRUNUX0NMQVNTX09USEVSOjYsT0JKRUNUX0NMQVNTX1RFWFQ6NyxHRU5UWVBFX0FCQzoxLEdFTlRZUEVfQVhJUzoyLEdFTlRZUEVfTUlEOjMsR0VOVFlQRV9SRUZMRUNUSU9OOjQsR0VOVFlQRV9NSVJST1JFTEVNRU5UOjUsR0VOVFlQRV9SRUZMRUNUSU9OX09OX0xJTkU6NCxHRU5UWVBFX1JFRkxFQ1RJT05fT05fUE9JTlQ6NSxHRU5UWVBFX1RBTkdFTlQ6NixHRU5UWVBFX1BBUkFMTEVMOjcsR0VOVFlQRV9CSVNFQ1RPUkxJTkVTOjgsR0VOVFlQRV9CT0FSRElNRzo5LEdFTlRZUEVfQklTRUNUT1I6MTAsR0VOVFlQRV9OT1JNQUw6MTEsR0VOVFlQRV9QT0lOVDoxMixHRU5UWVBFX0dMSURFUjoxMyxHRU5UWVBFX0lOVEVSU0VDVElPTjoxNCxHRU5UWVBFX0NJUkNMRToxNSxHRU5UWVBFX0NJUkNMRTJQT0lOVFM6MTYsR0VOVFlQRV9MSU5FOjE3LEdFTlRZUEVfVFJJQU5HTEU6MTgsR0VOVFlQRV9RVUFEUklMQVRFUkFMOjE5LEdFTlRZUEVfVEVYVDoyMCxHRU5UWVBFX1BPTFlHT046MjEsR0VOVFlQRV9SRUdVTEFSUE9MWUdPTjoyMixHRU5UWVBFX1NFQ1RPUjoyMyxHRU5UWVBFX0FOR0xFOjI0LEdFTlRZUEVfUExPVDoyNSxHRU5UWVBFX1NMSURFUjoyNixHRU5UWVBFX1RSVU5DQVRFOjI3LEdFTlRZUEVfSkNPREU6MjgsR0VOVFlQRV9NT1ZFTUVOVDoyOSxHRU5UWVBFX0NPTUJJTkVEOjMwLEdFTlRZUEVfUlVMRVI6MzEsR0VOVFlQRV9TTE9QRVRSSUFOR0xFOjMyLEdFTlRZUEVfUEVSUFNFR01FTlQ6MzMsR0VOVFlQRV9MQUJFTE1PVkVNRU5UOjM0LEdFTlRZUEVfVkVDVE9SOjM1LEdFTlRZUEVfTk9OUkVGTEVYQU5HTEU6MzYsR0VOVFlQRV9SRUZMRVhBTkdMRTozNyxHRU5UWVBFX1BBVEg6MzgsR0VOVFlQRV9ERVJJVkFUSVZFOjM5LEdFTlRZUEVfREVMRVRFOjQxLEdFTlRZUEVfQ09QWTo0MixHRU5UWVBFX01JUlJPUjo0MyxHRU5UWVBFX1JPVEFURTo0NCxHRU5UWVBFX0FCTEFUSU9OOjQ1LEdFTlRZUEVfTUlHUkFURTo0NixHRU5UWVBFX1ZFQ1RPUkNPUFk6NDcsR0VOVFlQRV9QT0xZR09OQ09QWTo0OCxHRU5UWVBFX0NUWF9UWVBFX0c6NTEsR0VOVFlQRV9DVFhfVFlQRV9QOjUyLEdFTlRZUEVfQ1RYX1RSQUNFOjUzLEdFTlRZUEVfQ1RYX1ZJU0lCSUxJVFk6NTQsR0VOVFlQRV9DVFhfQ0NWSVNJQklMSVRZOjU1LEdFTlRZUEVfQ1RYX01QVklTSUJJTElUWTo1NixHRU5UWVBFX0NUWF9XSVRITEFCRUw6NTcsR0VOVFlQRV9DVFhfTEFCRUw6NTgsR0VOVFlQRV9DVFhfRklYRUQ6NTksR0VOVFlQRV9DVFhfU1RST0tFV0lEVEg6NjAsR0VOVFlQRV9DVFhfTEFCRUxTSVpFOjYxLEdFTlRZUEVfQ1RYX1NJWkU6NjIsR0VOVFlQRV9DVFhfRkFDRTo2MyxHRU5UWVBFX0NUWF9TVFJBSUdIVDo2NCxHRU5UWVBFX0NUWF9BUlJPVzo2NSxHRU5UWVBFX0NUWF9DT0xPUjo2NixHRU5UWVBFX0NUWF9SQURJVVM6NjcsR0VOVFlQRV9DVFhfQ09PUkRTOjY4LEdFTlRZUEVfQ1RYX1RFWFQ6NjksR0VOVFlQRV9DVFhfQU5HTEVSQURJVVM6NzAsR0VOVFlQRV9DVFhfRE9UVklTSUJJTElUWTo3MSxHRU5UWVBFX0NUWF9GSUxMT1BBQ0lUWTo3MixHRU5UWVBFX0NUWF9QTE9UOjczLEdFTlRZUEVfQ1RYX1NDQUxFOjc0LEdFTlRZUEVfQ1RYX0lOVFZBTDo3NSxHRU5UWVBFX0NUWF9QT0lOVDE6NzYsR0VOVFlQRV9DVFhfUE9JTlQyOjc3LEdFTlRZUEVfQ1RYX0xBQkVMU1RJQ0tZOjc4LEdFTlRZUEVfQ1RYX1RZUEVfSTo3OSxHRU5UWVBFX0NUWF9IQVNJTk5FUlBPSU5UUzo4MCxHRU5UWVBFX0NUWF9TTkFQV0lEVEg6ODEsR0VOVFlQRV9DVFhfU05BUFRPR1JJRDo4Mn0sdC5leHRlbmRDb25zdGFudHModCxlKSxlfSkpLGRlZmluZShcInV0aWxzL3R5cGVcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiB0LmV4dGVuZCh0LHtpc0lkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJiEhdC5vYmplY3RzW2VdfSxpc05hbWU6ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmISF0LmVsZW1lbnRzQnlOYW1lW2VdfSxpc0dyb3VwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJiEhdC5ncm91cHNbZV19LGlzU3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fSxpc051bWJlcjpmdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdHx8XCJbT2JqZWN0IE51bWJlcl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX0saXNGdW5jdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fSxpc0FycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5pc0FycmF5P0FycmF5LmlzQXJyYXkodCk6bnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnNwbGljZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5qb2lufSxpc09iamVjdDpmdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmIXRoaXMuaXNBcnJheSh0KX0saXNQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX1BPSU5UfSxpc1BvaW50VHlwZTpmdW5jdGlvbih0LGUpe3ZhciBpLHI7cmV0dXJuISF0aGlzLmlzQXJyYXkoZSl8fCghISh0aGlzLmlzRnVuY3Rpb24oZSkmJihpPWUoKSx0aGlzLmlzQXJyYXkoaSkmJmkubGVuZ3RoPjEpKXx8KHI9dC5zZWxlY3QoZSksdGhpcy5pc1BvaW50KHIpKSl9LGlzVHJhbnNmb3JtYXRpb25PckFycmF5OmZ1bmN0aW9uKHQpe2lmKG51bGwhPT10KXtpZih0aGlzLmlzQXJyYXkodCkmJnQubGVuZ3RoPjApcmV0dXJuIHRoaXMuaXNUcmFuc2Zvcm1hdGlvbk9yQXJyYXkodFswXSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQpcmV0dXJuIHQudHlwZT09PWUuT0JKRUNUX1RZUEVfVFJBTlNGT1JNQVRJT059cmV0dXJuITF9LGV4aXN0czpmdW5jdGlvbih0LGUpe3ZhciBpPSEobnVsbD09dHx8bnVsbD09PXQpO3JldHVybihlPWV8fCExKT9pJiZcIlwiIT09dDppfSxpc0VtcHR5OmZ1bmN0aW9uKHQpe3JldHVybiAwPT09T2JqZWN0LmtleXModCkubGVuZ3RofSxkZWY6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5leGlzdHModCk/dDplfSxzdHIyQm9vbDpmdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5leGlzdHModCl8fChcImJvb2xlYW5cIj09dHlwZW9mIHQ/dDohIXRoaXMuaXNTdHJpbmcodCkmJlwidHJ1ZVwiPT09dC50b0xvd2VyQ2FzZSgpKX0sY3JlYXRlRXZhbEZ1bmN0aW9uOmZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvPVtdO2ZvcihzPTA7czxyO3MrKylvW3NdPXQuY3JlYXRlRnVuY3Rpb24oaVtzXSxlLFwiXCIsITApO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gb1t0XSgpfX0sY3JlYXRlRnVuY3Rpb246ZnVuY3Rpb24odCxlLGkscil7dmFyIHM9bnVsbDtyZXR1cm4gdGhpcy5leGlzdHMocikmJiFyfHwhdGhpcy5pc1N0cmluZyh0KT90aGlzLmlzRnVuY3Rpb24odCk/cz10Oih0aGlzLmlzTnVtYmVyKHQpfHx0aGlzLmlzU3RyaW5nKHQpKSYmKHM9ZnVuY3Rpb24oKXtyZXR1cm4gdH0pOnM9ZS5qYy5zbmlwcGV0KHQsITAsaSwhMCksbnVsbCE9PXMmJihzLm9yaWdpbj10KSxzfSxwcm92aWRlUG9pbnRzOmZ1bmN0aW9uKHQsZSxpLHIscyl7dmFyIG8sbixhLGgsbCxjPTAsZD1bXTtmb3IodGhpcy5pc0FycmF5KGUpfHwoZT1bZV0pLGE9ZS5sZW5ndGgsdGhpcy5leGlzdHMocykmJihjPXMubGVuZ3RoKSwwPT09YyYmKGg9dGhpcy5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxyKSksbz0wO288YTsrK28paWYoYz4wJiYobj1NYXRoLm1pbihvLGMtMSksaD10aGlzLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLHIsc1tuXSkpLHRoaXMuaXNBcnJheShlW29dKSYmZVtvXS5sZW5ndGg+MT8oZC5wdXNoKHQuY3JlYXRlKFwicG9pbnRcIixlW29dLGgpKSxkW2QubGVuZ3RoLTFdLl9pc19uZXc9ITApOnRoaXMuaXNGdW5jdGlvbihlW29dKT8obD1lW29dKCksdGhpcy5pc0FycmF5KGwpJiZsLmxlbmd0aD4xJiYoZC5wdXNoKHQuY3JlYXRlKFwicG9pbnRcIixbZVtvXV0saCkpLGRbZC5sZW5ndGgtMV0uX2lzX25ldz0hMCkpOmQucHVzaCh0LnNlbGVjdChlW29dKSksIXRoaXMuaXNQb2ludChkW29dKSlyZXR1cm4hMTtyZXR1cm4gZH0sYmluZDpmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LGV2YWx1YXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzRnVuY3Rpb24odCk/dCgpOnR9LGluZGV4T2Y6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM9dGhpcy5leGlzdHMoaSk7aWYoQXJyYXkuaW5kZXhPZiYmIXMpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3Iocj0wO3I8dC5sZW5ndGg7cisrKWlmKHMmJnRbcl1baV09PT1lfHwhcyYmdFtyXT09PWUpcmV0dXJuIHI7cmV0dXJuLTF9LGVsaW1pbmF0ZUR1cGxpY2F0ZXM6ZnVuY3Rpb24odCl7dmFyIGUsaT10Lmxlbmd0aCxyPVtdLHM9e307Zm9yKGU9MDtlPGk7ZSsrKXNbdFtlXV09MDtmb3IoZSBpbiBzKXMuaGFzT3duUHJvcGVydHkoZSkmJnIucHVzaChlKTtyZXR1cm4gcn0sc3dhcDpmdW5jdGlvbih0LGUsaSl7dmFyIHI7cmV0dXJuIHI9dFtlXSx0W2VdPXRbaV0sdFtpXT1yLHR9LHVuaXF1ZUFycmF5OmZ1bmN0aW9uKGUpe3ZhciBpLHIscyxvPVtdO2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKHM9dGhpcy5pc0FycmF5KGVbaV0pLHRoaXMuZXhpc3RzKGVbaV0pKWZvcihyPWkrMTtyPGUubGVuZ3RoO3IrKylzJiZ0LmNtcEFycmF5cyhlW2ldLGVbcl0pP2VbaV09W106c3x8ZVtpXSE9PWVbcl18fChlW2ldPVwiXCIpO2Vsc2UgZVtpXT1cIlwiO2ZvcihyPTAsaT0wO2k8ZS5sZW5ndGg7aSsrKShzPXRoaXMuaXNBcnJheShlW2ldKSl8fFwiXCI9PT1lW2ldP3MmJjAhPT1lW2ldLmxlbmd0aCYmKG9bcl09ZVtpXS5zbGljZSgwKSxyKyspOihvW3JdPWVbaV0scisrKTtyZXR1cm4gZT1vLG99LGlzSW5BcnJheTpmdW5jdGlvbihlLGkpe3JldHVybiB0LmluZGV4T2YoZSxpKT4tMX0sY29vcmRzQXJyYXlUb01hdHJpeDpmdW5jdGlvbih0LGUpe3ZhciBpLHI9W10scz1bXTtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWU/KHIucHVzaCh0W2ldLnVzckNvb3Jkc1sxXSkscy5wdXNoKHRbaV0udXNyQ29vcmRzWzJdKSk6cy5wdXNoKFt0W2ldLnVzckNvb3Jkc1sxXSx0W2ldLnVzckNvb3Jkc1syXV0pO3JldHVybiBlJiYocz1bcixzXSksc30sY21wQXJyYXlzOmZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYodD09PWUpcmV0dXJuITA7aWYodC5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4hMTtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRoaXMuaXNBcnJheSh0W2ldKSYmdGhpcy5pc0FycmF5KGVbaV0pKXtpZighdGhpcy5jbXBBcnJheXModFtpXSxlW2ldKSlyZXR1cm4hMX1lbHNlIGlmKHRbaV0hPT1lW2ldKXJldHVybiExO3JldHVybiEwfSxyZW1vdmVFbGVtZW50RnJvbUFycmF5OmZ1bmN0aW9uKHQsZSl7dmFyIGk7Zm9yKGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldPT09ZSlyZXR1cm4gdC5zcGxpY2UoaSwxKSx0O3JldHVybiB0fSx0cnVuYzpmdW5jdGlvbihlLGkpe3JldHVybiBpPXQuZGVmKGksMCksdGhpcy50b0ZpeGVkKGUsaSl9LF9kZWNpbWFsQWRqdXN0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdm9pZCAwPT09aXx8MD09K2k/TWF0aFt0XShlKTooZT0rZSxpPStpLGlzTmFOKGUpfHxcIm51bWJlclwiIT10eXBlb2YgaXx8aSUxIT0wP05hTjooZT1lLnRvU3RyaW5nKCkuc3BsaXQoXCJlXCIpLCsoKGU9KGU9TWF0aFt0XSgrKGVbMF0rXCJlXCIrKGVbMV0/K2VbMV0taTotaSkpKSkudG9TdHJpbmcoKS5zcGxpdChcImVcIikpWzBdK1wiZVwiKyhlWzFdPytlWzFdK2k6aSkpKSl9LF9yb3VuZDEwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RlY2ltYWxBZGp1c3QoXCJyb3VuZFwiLHQsZSl9LF9mbG9vcjEwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RlY2ltYWxBZGp1c3QoXCJmbG9vclwiLHQsZSl9LF9jZWlsMTA6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGVjaW1hbEFkanVzdChcImNlaWxcIix0LGUpfSx0b0ZpeGVkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX3JvdW5kMTAodCwtZSkudG9GaXhlZChlKX0sYXV0b0RpZ2l0czpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmFicyh0KTtyZXR1cm4gZT4uMT90aGlzLnRvRml4ZWQodCwyKTplPj0uMDE/dGhpcy50b0ZpeGVkKHQsNCk6ZT49MWUtND90aGlzLnRvRml4ZWQodCw2KTp0fSxrZXlzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj1bXTtmb3IoaSBpbiB0KWU/dC5oYXNPd25Qcm9wZXJ0eShpKSYmci5wdXNoKGkpOnIucHVzaChpKTtyZXR1cm4gcn0sY2xvbmU6ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIGUucHJvdG90eXBlPXQsZX0sY2xvbmVBbmRDb3B5OmZ1bmN0aW9uKHQsZSl7dmFyIGkscj1mdW5jdGlvbigpe307Zm9yKGkgaW4gci5wcm90b3R5cGU9dCxlKXJbaV09ZVtpXTtyZXR1cm4gcn0sbWVyZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxyO2ZvcihpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSlpZih0aGlzLmlzQXJyYXkoZVtpXSkpZm9yKHRbaV18fCh0W2ldPVtdKSxyPTA7cjxlW2ldLmxlbmd0aDtyKyspXCJvYmplY3RcIj09dHlwZW9mIGVbaV1bcl0/dFtpXVtyXT10aGlzLm1lcmdlKHRbaV1bcl0sZVtpXVtyXSk6dFtpXVtyXT1lW2ldW3JdO2Vsc2VcIm9iamVjdFwiPT10eXBlb2YgZVtpXT8odFtpXXx8KHRbaV09e30pLHRbaV09dGhpcy5tZXJnZSh0W2ldLGVbaV0pKTp0W2ldPWVbaV07cmV0dXJuIHR9LGRlZXBDb3B5OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbjtpZihpPWl8fCExLFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4gdDtpZih0aGlzLmlzQXJyYXkodCkpZm9yKHI9W10scz0wO3M8dC5sZW5ndGg7cysrKVwib2JqZWN0XCI9PXR5cGVvZihvPXRbc10pP3RoaXMuZXhpc3RzKG8uYm9hcmQpP3Jbc109by5pZDpyW3NdPXRoaXMuZGVlcENvcHkobyk6cltzXT1vO2Vsc2V7Zm9yKHMgaW4gcj17fSx0KXQuaGFzT3duUHJvcGVydHkocykmJihuPWk/cy50b0xvd2VyQ2FzZSgpOnMsbnVsbCE9PShvPXRbc10pJiZcIm9iamVjdFwiPT10eXBlb2Ygbz90aGlzLmV4aXN0cyhvLmJvYXJkKT9yW25dPW8uaWQ6cltuXT10aGlzLmRlZXBDb3B5KG8pOnJbbl09byk7Zm9yKHMgaW4gZSllLmhhc093blByb3BlcnR5KHMpJiYobj1pP3MudG9Mb3dlckNhc2UoKTpzLFwib2JqZWN0XCI9PXR5cGVvZihvPWVbc10pP3RoaXMuaXNBcnJheShvKXx8IXRoaXMuZXhpc3RzKHJbbl0pP3Jbbl09dGhpcy5kZWVwQ29weShvKTpyW25dPXRoaXMuZGVlcENvcHkocltuXSxvLGkpOnJbbl09byl9cmV0dXJuIHJ9LGNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvLG4sYSxoLGw9e2NpcmNsZToxLGN1cnZlOjEsaW1hZ2U6MSxsaW5lOjEscG9pbnQ6MSxwb2x5Z29uOjEsdGV4dDoxLHRpY2tzOjEsaW50ZWdyYWw6MX07Zm9yKHM9KG49YXJndW1lbnRzLmxlbmd0aCk8M3x8bFtyXT90LmRlZXBDb3B5KGkuZWxlbWVudHMsbnVsbCwhMCk6e30sbjw0JiZ0aGlzLmV4aXN0cyhyKSYmdGhpcy5leGlzdHMoaS5sYXllcltyXSkmJihzLmxheWVyPWkubGF5ZXJbcl0pLGE9aSxoPSEwLG89MjtvPG47bysrKXtpZighdGhpcy5leGlzdHMoYVthcmd1bWVudHNbb11dKSl7aD0hMTticmVha31hPWFbYXJndW1lbnRzW29dXX1mb3IoaCYmKHM9dC5kZWVwQ29weShzLGEsITApKSxhPVwib2JqZWN0XCI9PXR5cGVvZiBlP2U6e30saD0hMCxvPTM7bzxuO28rKyl7aWYoIXRoaXMuZXhpc3RzKGFbYXJndW1lbnRzW29dXSkpe2g9ITE7YnJlYWt9YT1hW2FyZ3VtZW50c1tvXV19aWYoaCYmdGhpcy5leHRlbmQocyxhLG51bGwsITApLFwiYm9hcmRcIj09PWFyZ3VtZW50c1syXSlyZXR1cm4gcztmb3IoYT1pLGg9ITAsbz0yO288bjtvKyspe2lmKCF0aGlzLmV4aXN0cyhhW2FyZ3VtZW50c1tvXV0pKXtoPSExO2JyZWFrfWE9YVthcmd1bWVudHNbb11dfXJldHVybiBoJiZ0aGlzLmV4aXN0cyhhLmxhYmVsKSYmKHMubGFiZWw9dC5kZWVwQ29weShhLmxhYmVsLHMubGFiZWwpKSxzLmxhYmVsPXQuZGVlcENvcHkoaS5sYWJlbCxzLmxhYmVsKSxzfSxjb3B5UHJvdG90eXBlTWV0aG9kczpmdW5jdGlvbih0LGUsaSl7dmFyIHI7Zm9yKHIgaW4gdC5wcm90b3R5cGVbaV09ZS5wcm90b3R5cGUuY29uc3RydWN0b3IsZS5wcm90b3R5cGUpZS5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkocikmJih0LnByb3RvdHlwZVtyXT1lLnByb3RvdHlwZVtyXSl9LHRvSlNPTjpmdW5jdGlvbihlLGkpe3ZhciByLHMsbyxuO2lmKGk9dC5kZWYoaSwhMSksSlNPTi5zdHJpbmdpZnkmJiFpKXRyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2godCl7fXN3aXRjaCh0eXBlb2YgZSl7Y2FzZVwib2JqZWN0XCI6aWYoZSl7aWYocj1bXSx0aGlzLmlzQXJyYXkoZSkpe2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspci5wdXNoKHQudG9KU09OKGVbb10saSkpO3JldHVyblwiW1wiK3Iuam9pbihcIixcIikrXCJdXCJ9Zm9yKHMgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHMpKXt0cnl7bj10LnRvSlNPTihlW3NdLGkpfWNhdGNoKHQpe249XCJcIn1pP3IucHVzaChzK1wiOlwiK24pOnIucHVzaCgnXCInK3MrJ1wiOicrbil9cmV0dXJuXCJ7XCIrci5qb2luKFwiLFwiKStcIn0gXCJ9cmV0dXJuXCJudWxsXCI7Y2FzZVwic3RyaW5nXCI6cmV0dXJuXCInXCIrZS5yZXBsYWNlKC8oW1wiJ10pL2csXCJcXFxcJDFcIikrXCInXCI7Y2FzZVwibnVtYmVyXCI6Y2FzZVwiYm9vbGVhblwiOnJldHVybiBlLnRvU3RyaW5nKCl9cmV0dXJuXCIwXCJ9LGNsZWFyVmlzUHJvcE9sZDpmdW5jdGlvbih0KXtyZXR1cm4gdC52aXNQcm9wT2xkPXtjc3NjbGFzczpcIlwiLGNzc2RlZmF1bHRzdHlsZTpcIlwiLGNzc3N0eWxlOlwiXCIsZmlsbGNvbG9yOlwiXCIsZmlsbG9wYWNpdHk6XCJcIixmaXJzdGFycm93OiExLGZvbnRzaXplOi0xLGxhc3RhcnJvdzohMSxsZWZ0Oi0xZTUsbGluZWNhcDpcIlwiLHNoYWRvdzohMSxzdHJva2Vjb2xvcjpcIlwiLHN0cm9rZW9wYWNpdHk6XCJcIixzdHJva2V3aWR0aDpcIlwiLHRhYmluZGV4Oi0xZTUsdHJhbnNpdGlvbmR1cmF0aW9uOjAsdG9wOi0xZTUsdmlzaWJsZTpudWxsfSx0fSxpc0luT2JqZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIGk7Zm9yKGkgaW4gdClpZih0Lmhhc093blByb3BlcnR5KGkpJiZ0W2ldPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sZXNjYXBlSFRNTDpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC8mL2csXCImYW1wO1wiKS5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIil9LHVuZXNjYXBlSFRNTDpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC88XFwvP1tePl0rPi9naSxcIlwiKS5yZXBsYWNlKC8mYW1wOy9nLFwiJlwiKS5yZXBsYWNlKC8mbHQ7L2csXCI8XCIpLnJlcGxhY2UoLyZndDsvZyxcIj5cIil9LGNhcGl0YWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKX0sdHJpbU51bWJlcjpmdW5jdGlvbih0KXtyZXR1cm5cIi5cIiE9PSh0PSh0PXQucmVwbGFjZSgvXjArLyxcIlwiKSkucmVwbGFjZSgvMCskLyxcIlwiKSlbdC5sZW5ndGgtMV0mJlwiLFwiIT09dFt0Lmxlbmd0aC0xXXx8KHQ9dC5zbGljZSgwLC0xKSksXCIuXCIhPT10WzBdJiZcIixcIiE9PXRbMF18fCh0PVwiMFwiK3QpLHR9LGZpbHRlckVsZW1lbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG8sbixhLGgsbD10Lmxlbmd0aCxjPVtdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJlwib2JqZWN0XCIhPXR5cGVvZiBlKXJldHVybiBjO2ZvcihpPTA7aTxsO2krKyl7aWYoaD0hMCxzPXRbaV0sXCJvYmplY3RcIj09dHlwZW9mIGUpe2ZvcihyIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSYmKG89ci50b0xvd2VyQ2FzZSgpLG49XCJmdW5jdGlvblwiPT10eXBlb2Ygc1tyXT9zW3JdKCk6c1tyXSxhPXMudmlzUHJvcCYmXCJmdW5jdGlvblwiPT10eXBlb2Ygcy52aXNQcm9wW29dP3MudmlzUHJvcFtvXSgpOnMudmlzUHJvcCYmcy52aXNQcm9wW29dLCEoaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlW3JdP2Vbcl0obil8fGVbcl0oYSk6bj09PWVbcl18fGE9PT1lW3JdKSkpYnJlYWt9ZWxzZVwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihoPWUocykpO2gmJmMucHVzaChzKX1yZXR1cm4gY30sdHJpbTpmdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKX0sc2FuaXRpemVIVE1MOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgaHRtbF9zYW5pdGl6ZSYmZT9odG1sX3Nhbml0aXplKHQsKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKHQpe3JldHVybiB0fSkpOih0JiZcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9dC5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIikpLHQpfSxldmFsU2xpZGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX0dMSURFUiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5WYWx1ZT90LlZhbHVlKCk6dH19KSx0fSkpLGRlZmluZShcInV0aWxzL2VudlwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5leHRlbmRDb25zdGFudHModCx7dG91Y2hQcm9wZXJ0eTpcInRvdWNoZXNcIn0pLHQuZXh0ZW5kKHQse2lzVG91Y2hFdmVudDpmdW5jdGlvbihlKXtyZXR1cm4gdC5leGlzdHMoZVt0LnRvdWNoUHJvcGVydHldKX0saXNQb2ludGVyRXZlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXhpc3RzKGUucG9pbnRlcklkKX0saXNNb3VzZUV2ZW50OmZ1bmN0aW9uKGUpe3JldHVybiF0LmlzVG91Y2hFdmVudChlKSYmIXQuaXNQb2ludGVyRXZlbnQoZSl9LGdldE51bWJlck9mVG91Y2hQb2ludHM6ZnVuY3Rpb24oZSl7dmFyIGk9LTE7cmV0dXJuIHQuaXNUb3VjaEV2ZW50KGUpJiYoaT1lW3QudG91Y2hQcm9wZXJ0eV0ubGVuZ3RoKSxpfSxpc0ZpcnN0VG91Y2g6ZnVuY3Rpb24oZSl7dmFyIGk9dC5nZXROdW1iZXJPZlRvdWNoUG9pbnRzKGUpO3JldHVybiB0LmlzUG9pbnRlckV2ZW50KGUpP2UuaXNQcmltYXJ5OjE9PT1pfSxpc0Jyb3dzZXI6XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmXCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50LHN1cHBvcnRzRVM2OmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgRnVuY3Rpb24oXCIoYSA9IDApID0+IGFcIiksITB9Y2F0Y2godCl7cmV0dXJuITF9fSxzdXBwb3J0c1ZNTDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQnJvd3NlciYmISFkb2N1bWVudC5uYW1lc3BhY2VzfSxzdXBwb3J0c1NWRzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQnJvd3NlciYmZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjQmFzaWNTdHJ1Y3R1cmVcIixcIjEuMVwiKX0sc3VwcG9ydHNDYW52YXM6ZnVuY3Rpb24oKXt2YXIgdD0hMTtpZih0aGlzLmlzTm9kZSgpKXRyeXt0PSEhKFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLnJlcXVpcmUoXCJjYW52YXNcIik6cmVxdWlyZShcImNhbnZhc1wiKSl9Y2F0Y2godCl7fXJldHVybiB0fHx0aGlzLmlzQnJvd3NlciYmISFkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHR9LGlzTm9kZTpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzQnJvd3NlciYmKFwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJiEhbW9kdWxlLmV4cG9ydHN8fFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbC5yZXF1aXJlanNWYXJzJiYhZ2xvYmFsLnJlcXVpcmVqc1ZhcnMuaXNCcm93c2VyKX0saXNXZWJXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0Jyb3dzZXImJlwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzZWxmLnBvc3RNZXNzYWdlfSxzdXBwb3J0c1BvaW50ZXJFdmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLmlzQnJvd3NlciYmd2luZG93Lm5hdmlnYXRvciYmKHdpbmRvdy5Qb2ludGVyRXZlbnR8fHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWR8fHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCkpfSxpc1RvdWNoRGV2aWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNCcm93c2VyJiZ2b2lkIDAhPT13aW5kb3cub250b3VjaHN0YXJ0fSxpc0FuZHJvaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5leGlzdHMobmF2aWdhdG9yKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJhbmRyb2lkXCIpPi0xfSxpc1dlYmtpdEFuZHJvaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0FuZHJvaWQoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiIEFwcGxlV2ViS2l0L1wiKT4tMX0saXNBcHBsZTpmdW5jdGlvbigpe3JldHVybiBlLmV4aXN0cyhuYXZpZ2F0b3IpJiYobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiaVBhZFwiKT4tMXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiaVBob25lXCIpPi0xKX0saXNXZWJraXRBcHBsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQXBwbGUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5zZWFyY2goL01vYmlsZVxcL1swLTlBLVphLXouXSpTYWZhcmkvKT4tMX0saXNNZXRyb0FwcDpmdW5jdGlvbigpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jbGllbnRJbmZvcm1hdGlvbiYmd2luZG93LmNsaWVudEluZm9ybWF0aW9uLmFwcFZlcnNpb24mJndpbmRvdy5jbGllbnRJbmZvcm1hdGlvbi5hcHBWZXJzaW9uLmluZGV4T2YoXCJNU0FwcEhvc3RcIik+LTF9LGlzTW96aWxsYTpmdW5jdGlvbigpe3JldHVybiBlLmV4aXN0cyhuYXZpZ2F0b3IpJiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIm1vemlsbGFcIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJhcHBsZVwiKX0saXNGaXJlZm94T1M6ZnVuY3Rpb24oKXtyZXR1cm4gZS5leGlzdHMobmF2aWdhdG9yKSYmLTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImFuZHJvaWRcIikmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJhcHBsZVwiKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJtb2JpbGVcIik+LTEmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwibW96aWxsYVwiKT4tMX0saWVWZXJzaW9uOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPTM7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGRvY3VtZW50KXJldHVybiAwO2U9KHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpXCIpO2Rve3QuaW5uZXJIVE1MPVwiXFx4M2MhLS1baWYgZ3QgSUUgXCIrICsraStcIl0+PGk+PC9pPjwhW2VuZGlmXS0tXFx4M2VcIn13aGlsZShlWzBdKTtyZXR1cm4gaT40P2k6dm9pZCAwfSgpLGdldERpbWVuc2lvbnM6ZnVuY3Rpb24odCxpKXt2YXIgcixzLG8sbixhLGgsbCxjLGQsdT0vXFxkKyhcXC5cXGQqKT9weC87aWYoIXRoaXMuaXNCcm93c2VyfHxudWxsPT09dClyZXR1cm57d2lkdGg6NTAwLGhlaWdodDo1MDB9O2lmKHI9KGk9aXx8ZG9jdW1lbnQpLmdldEVsZW1lbnRCeUlkKHQpLCFlLmV4aXN0cyhyKSl0aHJvdyBuZXcgRXJyb3IoXCJcXG5KU1hHcmFwaDogSFRNTCBjb250YWluZXIgZWxlbWVudCAnXCIrdCtcIicgbm90IGZvdW5kLlwiKTtyZXR1cm5cIm5vbmVcIiE9PShzPXIuc3R5bGUuZGlzcGxheSkmJm51bGwhPT1zP3IuY2xpZW50V2lkdGg+MCYmci5jbGllbnRIZWlnaHQ+MD97d2lkdGg6ci5jbGllbnRXaWR0aCxoZWlnaHQ6ci5jbGllbnRIZWlnaHR9OihkPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlP3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHIpOnIuc3R5bGUse3dpZHRoOnUudGVzdChkLndpZHRoKT9wYXJzZUZsb2F0KGQud2lkdGgpOjAsaGVpZ2h0OnUudGVzdChkLmhlaWdodCk/cGFyc2VGbG9hdChkLmhlaWdodCk6MH0pOihuPShvPXIuc3R5bGUpLnZpc2liaWxpdHksYT1vLnBvc2l0aW9uLGg9by5kaXNwbGF5LG8udmlzaWJpbGl0eT1cImhpZGRlblwiLG8ucG9zaXRpb249XCJhYnNvbHV0ZVwiLG8uZGlzcGxheT1cImJsb2NrXCIsbD1yLmNsaWVudFdpZHRoLGM9ci5jbGllbnRIZWlnaHQsby5kaXNwbGF5PWgsby5wb3NpdGlvbj1hLG8udmlzaWJpbGl0eT1uLHt3aWR0aDpsLGhlaWdodDpjfSl9LGFkZEV2ZW50OmZ1bmN0aW9uKHQsaSxyLHMpe3ZhciBvPWZ1bmN0aW9uKCl7cmV0dXJuIHIuYXBwbHkocyxhcmd1bWVudHMpfTtvLm9yaWdpbj1yLHNbXCJ4X2ludGVybmFsXCIraV09c1tcInhfaW50ZXJuYWxcIitpXXx8W10sc1tcInhfaW50ZXJuYWxcIitpXS5wdXNoKG8pLGUuZXhpc3RzKHQpJiZlLmV4aXN0cyh0LmFkZEV2ZW50TGlzdGVuZXIpJiZ0LmFkZEV2ZW50TGlzdGVuZXIoaSxvLCExKSxlLmV4aXN0cyh0KSYmZS5leGlzdHModC5hdHRhY2hFdmVudCkmJnQuYXR0YWNoRXZlbnQoXCJvblwiK2ksbyl9LHJlbW92ZUV2ZW50OmZ1bmN0aW9uKGkscixzLG8pe3ZhciBuO2lmKGUuZXhpc3RzKG8pKWlmKGUuZXhpc3RzKG9bXCJ4X2ludGVybmFsXCIrcl0pKWlmKGUuaXNBcnJheShvW1wieF9pbnRlcm5hbFwiK3JdKSlpZigtMSE9PShuPWUuaW5kZXhPZihvW1wieF9pbnRlcm5hbFwiK3JdLHMsXCJvcmlnaW5cIikpKXt0cnl7ZS5leGlzdHMoaSkmJmUuZXhpc3RzKGkucmVtb3ZlRXZlbnRMaXN0ZW5lcikmJmkucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLG9bXCJ4X2ludGVybmFsXCIrcl1bbl0sITEpLGUuZXhpc3RzKGkpJiZlLmV4aXN0cyhpLmRldGFjaEV2ZW50KSYmaS5kZXRhY2hFdmVudChcIm9uXCIrcixvW1wieF9pbnRlcm5hbFwiK3JdW25dKX1jYXRjaChlKXt0LmRlYnVnKFwiZXZlbnQgbm90IHJlZ2lzdGVyZWQgaW4gYnJvd3NlcjogKFwiK3IrXCIgLS0gXCIrcytcIilcIil9b1tcInhfaW50ZXJuYWxcIityXS5zcGxpY2UobiwxKX1lbHNlIHQuZGVidWcoXCJyZW1vdmVFdmVudDogbm8gc3VjaCBldmVudCBmdW5jdGlvbiBpbiBpbnRlcm5hbCBsaXN0OiBcIitzKTtlbHNlIHQuZGVidWcoXCJvd25lclt4X2ludGVybmFsICsgXCIrcitcIl0gaXMgbm90IGFuIGFycmF5XCIpO2Vsc2UgdC5kZWJ1ZyhcIm5vIHN1Y2ggdHlwZTogXCIrcik7ZWxzZSB0LmRlYnVnKFwibm8gc3VjaCBvd25lclwiKX0scmVtb3ZlQWxsRXZlbnRzOmZ1bmN0aW9uKGUsaSxyKXt2YXIgcztpZihyW1wieF9pbnRlcm5hbFwiK2ldKXtmb3Iocz1yW1wieF9pbnRlcm5hbFwiK2ldLmxlbmd0aC0xO3M+PTA7cy0tKXQucmVtb3ZlRXZlbnQoZSxpLHJbXCJ4X2ludGVybmFsXCIraV1bc10ub3JpZ2luLHIpO3JbXCJ4X2ludGVybmFsXCIraV0ubGVuZ3RoPjAmJnQuZGVidWcoXCJyZW1vdmVBbGxFdmVudHM6IE5vdCBhbGwgZXZlbnRzIGNvdWxkIGJlIHJlbW92ZWQuXCIpfX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oaSxyLHMpe3ZhciBvLG4sYSxoPTAsbD0wO2lmKGl8fChpPXdpbmRvdy5ldmVudCkscz1zfHxkb2N1bWVudCxhPWlbdC50b3VjaFByb3BlcnR5XSxlLmV4aXN0cyhhKSYmMD09PWEubGVuZ3RoJiYoYT1pLmNoYW5nZWRUb3VjaGVzKSxlLmV4aXN0cyhyKSYmZS5leGlzdHMoYSkpaWYoLTE9PT1yKXtmb3Iobj1hLmxlbmd0aCxvPTA7bzxuO28rKylpZihhW29dKXtpPWFbb107YnJlYWt9fWVsc2UgaT1hW3JdO3JldHVybiBpLmNsaWVudFgmJihoPWkuY2xpZW50WCxsPWkuY2xpZW50WSksW2gsbF19LGdldE9mZnNldDpmdW5jdGlvbih0KXt2YXIgZSxpPXQscj10LHM9aS5vZmZzZXRMZWZ0LWkuc2Nyb2xsTGVmdCxvPWkub2Zmc2V0VG9wLWkuc2Nyb2xsVG9wO2ZvcihzPShlPXRoaXMuZ2V0Q1NTVHJhbnNmb3JtKFtzLG9dLGkpKVswXSxvPWVbMV0saT1pLm9mZnNldFBhcmVudDtpOyl7Zm9yKHMrPWkub2Zmc2V0TGVmdCxvKz1pLm9mZnNldFRvcCxpLm9mZnNldFBhcmVudCYmKHMrPWkuY2xpZW50TGVmdC1pLnNjcm9sbExlZnQsbys9aS5jbGllbnRUb3AtaS5zY3JvbGxUb3ApLHM9KGU9dGhpcy5nZXRDU1NUcmFuc2Zvcm0oW3Msb10saSkpWzBdLG89ZVsxXSxyPXIucGFyZW50Tm9kZTtyIT09aTspcys9ci5jbGllbnRMZWZ0LXIuc2Nyb2xsTGVmdCxvKz1yLmNsaWVudFRvcC1yLnNjcm9sbFRvcCxzPShlPXRoaXMuZ2V0Q1NTVHJhbnNmb3JtKFtzLG9dLHIpKVswXSxvPWVbMV0scj1yLnBhcmVudE5vZGU7aT1pLm9mZnNldFBhcmVudH1yZXR1cm5bcyxvXX0sZ2V0U3R5bGU6ZnVuY3Rpb24oZSxpKXt2YXIgcixzPWUub3duZXJEb2N1bWVudDtyZXR1cm4gcy5kZWZhdWx0VmlldyYmcy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlP3I9cy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShpKTplLmN1cnJlbnRTdHlsZSYmdC5pZVZlcnNpb24+PTk/cj1lLmN1cnJlbnRTdHlsZVtpXTplLnN0eWxlJiYoaT1pLnJlcGxhY2UoLy0oW2Etel18WzAtOV0pL2dpLChmdW5jdGlvbih0LGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KSkscj1lLnN0eWxlW2ldKSxyfSxnZXRQcm9wOmZ1bmN0aW9uKHQsZSl7dmFyIGk9cGFyc2VJbnQodGhpcy5nZXRTdHlsZSh0LGUpLDEwKTtyZXR1cm4gaXNOYU4oaSk/MDppfSxnZXRDU1NUcmFuc2Zvcm06ZnVuY3Rpb24odCxpKXt2YXIgcixzLG8sbixhLGgsbCxjPVtcInRyYW5zZm9ybVwiLFwid2Via2l0VHJhbnNmb3JtXCIsXCJNb3pUcmFuc2Zvcm1cIixcIm1zVHJhbnNmb3JtXCIsXCJvVHJhbnNmb3JtXCJdO2ZvcihhPWMubGVuZ3RoLHI9MCxvPVwiXCI7cjxhO3IrKylpZihlLmV4aXN0cyhpLnN0eWxlW2Nbcl1dKSl7bz1pLnN0eWxlW2Nbcl1dO2JyZWFrfWlmKFwiXCIhPT1vJiYobj1vLmluZGV4T2YoXCIoXCIpKT4wKXtmb3IoYT1vLmxlbmd0aCxzPTAsaD0obD1vLnN1YnN0cmluZyhuKzEsYS0xKS5zcGxpdChcIixcIikpLmxlbmd0aDtzPGg7cysrKWxbc109cGFyc2VGbG9hdChsW3NdKTswPT09by5pbmRleE9mKFwibWF0cml4XCIpPyh0WzBdKz1sWzRdLHRbMV0rPWxbNV0pOjA9PT1vLmluZGV4T2YoXCJ0cmFuc2xhdGVYXCIpP3RbMF0rPWxbMF06MD09PW8uaW5kZXhPZihcInRyYW5zbGF0ZVlcIik/dFsxXSs9bFswXTowPT09by5pbmRleE9mKFwidHJhbnNsYXRlXCIpJiYodFswXSs9bFswXSx0WzFdKz1sWzFdKX1yZXR1cm4gZS5leGlzdHMoaS5zdHlsZS56b29tKSYmXCJcIiE9PShvPWkuc3R5bGUuem9vbSkmJih0WzBdKj1wYXJzZUZsb2F0KG8pLHRbMV0qPXBhcnNlRmxvYXQobykpLHR9LGdldENTU1RyYW5zZm9ybU1hdHJpeDpmdW5jdGlvbih0KXt2YXIgaSxyLHMsbyxuLGEsaCxsLGM9dC5vd25lckRvY3VtZW50LGQ9W1widHJhbnNmb3JtXCIsXCJ3ZWJraXRUcmFuc2Zvcm1cIixcIk1velRyYW5zZm9ybVwiLFwibXNUcmFuc2Zvcm1cIixcIm9UcmFuc2Zvcm1cIl0sdT1bWzEsMCwwXSxbMCwxLDBdLFswLDAsMV1dO2lmKGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSlzPShsPWMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LG51bGwpKS5nZXRQcm9wZXJ0eVZhbHVlKFwiLXdlYmtpdC10cmFuc2Zvcm1cIil8fGwuZ2V0UHJvcGVydHlWYWx1ZShcIi1tb3otdHJhbnNmb3JtXCIpfHxsLmdldFByb3BlcnR5VmFsdWUoXCItbXMtdHJhbnNmb3JtXCIpfHxsLmdldFByb3BlcnR5VmFsdWUoXCItby10cmFuc2Zvcm1cIil8fGwuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zZm9ybVwiKTtlbHNlIGZvcihuPWQubGVuZ3RoLGk9MCxzPVwiXCI7aTxuO2krKylpZihlLmV4aXN0cyh0LnN0eWxlW2RbaV1dKSl7cz10LnN0eWxlW2RbaV1dO2JyZWFrfWlmKFwiXCIhPT1zJiYobz1zLmluZGV4T2YoXCIoXCIpKT4wKXtmb3Iobj1zLmxlbmd0aCxyPTAsYT0oaD1zLnN1YnN0cmluZyhvKzEsbi0xKS5zcGxpdChcIixcIikpLmxlbmd0aDtyPGE7cisrKWhbcl09cGFyc2VGbG9hdChoW3JdKTswPT09cy5pbmRleE9mKFwibWF0cml4XCIpP3U9W1sxLDAsMF0sWzAsaFswXSxoWzFdXSxbMCxoWzJdLGhbM11dXTowPT09cy5pbmRleE9mKFwic2NhbGVYXCIpP3VbMV1bMV09aFswXTowPT09cy5pbmRleE9mKFwic2NhbGVZXCIpP3VbMl1bMl09aFswXTowPT09cy5pbmRleE9mKFwic2NhbGVcIikmJih1WzFdWzFdPWhbMF0sdVsyXVsyXT1oWzFdKX1yZXR1cm4gZS5leGlzdHModC5zdHlsZS56b29tKSYmXCJcIiE9PShzPXQuc3R5bGUuem9vbSkmJih1WzFdWzFdKj1wYXJzZUZsb2F0KHMpLHVbMl1bMl0qPXBhcnNlRmxvYXQocykpLHV9LHRpbWVkQ2h1bms6ZnVuY3Rpb24odCxlLGkscil7dmFyIHM9dC5jb25jYXQoKSxvPWZ1bmN0aW9uKCl7dmFyIG49K25ldyBEYXRlO2Rve2UuY2FsbChpLHMuc2hpZnQoKSl9d2hpbGUocy5sZW5ndGg+MCYmK25ldyBEYXRlLW48MzAwKTtzLmxlbmd0aD4wP3dpbmRvdy5zZXRUaW1lb3V0KG8sMSk6cih0KX07d2luZG93LnNldFRpbWVvdXQobywxKX0sX2dldFNjYWxlRmFjdG9yczpmdW5jdGlvbih0KXt2YXIgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQscj13aW5kb3cuc2NyZWVuLndpZHRoL2Uscz13aW5kb3cuc2NyZWVuLmhlaWdodC9pLG89LjUqKHdpbmRvdy5zY3JlZW4uaGVpZ2h0LWkpLG49TWF0aC5taW4ocixzKTtyZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEmJndpbmRvdy5tYXRjaE1lZGlhKFwiKG9yaWVudGF0aW9uOmxhbmRzY2FwZSlcIikubWF0Y2hlcyYmd2luZG93LnNjcmVlbi53aWR0aDx3aW5kb3cuc2NyZWVuLmhlaWdodCYmKHI9d2luZG93LnNjcmVlbi5oZWlnaHQvZSxzPXdpbmRvdy5zY3JlZW4ud2lkdGgvaSxuPU1hdGgubWluKHIscyksbz0uNSood2luZG93LnNjcmVlbi53aWR0aC1pKSkse3NjYWxlOm4qPS44NSx2c2hpZnQ6byx3aWR0aDplfX0sc2NhbGVKU1hHcmFwaERpdjpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvLG49ZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoLGE9W1wiOmZ1bGxzY3JlZW5cIixcIjotd2Via2l0LWZ1bGwtc2NyZWVuXCIsXCI6LW1vei1mdWxsLXNjcmVlblwiLFwiOi1tcy1mdWxsc2NyZWVuXCJdLGg9YS5sZW5ndGgsbD1cInttYXJnaW46MCBhdXRvO3RyYW5zZm9ybTptYXRyaXgoXCIraStcIiwwLDAsXCIraStcIiwwLFwiK3IrXCIpO31cIixjPW5ldyBSZWdFeHAoXCIuKiNcIit0K1wiOi4qZnVsbC4qc2NyZWVuLiojXCIrZStcIi4qYXV0bzsuKnRyYW5zZm9ybTouKm1hdHJpeFwiKTtmb3IoMD09PW4mJigocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIikpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLG49ZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoKSxkb2N1bWVudC5zdHlsZVNoZWV0c1tuLTFdLmNzc1J1bGVzLmxlbmd0aD4wJiZjLnRlc3QoZG9jdW1lbnQuc3R5bGVTaGVldHNbbi0xXS5jc3NSdWxlc1swXS5jc3NUZXh0KSYmZG9jdW1lbnQuc3R5bGVTaGVldHNbbi0xXS5kZWxldGVSdWxlJiZkb2N1bWVudC5zdHlsZVNoZWV0c1tuLTFdLmRlbGV0ZVJ1bGUoMCksbz0wO288aDtvKyspdHJ5e2RvY3VtZW50LnN0eWxlU2hlZXRzW24tMV0uaW5zZXJ0UnVsZShcIiNcIit0K2Fbb10rXCIgI1wiK2UrbCwwKTticmVha31jYXRjaCh0KXt9bz09PWgmJihjb25zb2xlLmxvZyhcIkpYRy5zY2FsZUpTWEdyYXBoRGl2OiBDb3VsZCBub3QgYWRkIGFueSBDU1MgcnVsZS5cIiksY29uc29sZS5sb2coXCJPbmUgcG9zc2libGUgcmVhc29uIGNvdWxkIGJlIHRoYXQgdGhlIGlkIG9mIHRoZSBKU1hHcmFwaCBjb250YWluZXIgZG9lcyBub3Qgc3RhcnQgd2l0aCBhIGxldHRlci5cIikpfX0pLHR9KSksZGVmaW5lKFwidXRpbHMveG1sXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlhNTD17Y2xlYW5XaGl0ZXNwYWNlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10LmZpcnN0Q2hpbGQ7ZS5leGlzdHMoaSk7KTMhPT1pLm5vZGVUeXBlfHwvXFxTLy50ZXN0KGkubm9kZVZhbHVlKT8xPT09aS5ub2RlVHlwZSYmdGhpcy5jbGVhbldoaXRlc3BhY2UoaSk6dC5yZW1vdmVDaGlsZChpKSxpPWkubmV4dFNpYmxpbmd9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgRE9NUGFyc2VyfHxcIm9iamVjdFwiPT10eXBlb2YgRE9NUGFyc2VyP0RPTVBhcnNlcjpmdW5jdGlvbigpe3RoaXMucGFyc2VGcm9tU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIEFjdGl2ZVhPYmplY3QmJihlPW5ldyBBY3RpdmVYT2JqZWN0KFwiTVNYTUwuRG9tRG9jdW1lbnRcIikpLmxvYWRYTUwodCksZX19LGU9KG5ldyBpKS5wYXJzZUZyb21TdHJpbmcodCxcInRleHQveG1sXCIpLHRoaXMuY2xlYW5XaGl0ZXNwYWNlKGUpLGV9fSx0LlhNTH0pKSxkZWZpbmUoXCJ1dGlscy9ldmVudFwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5FdmVudEVtaXR0ZXI9e2V2ZW50SGFuZGxlcnM6e30sc3VzcGVuZGVkOnt9LHRyaWdnZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuLGE7Zm9yKG49dC5sZW5ndGgscj0wO3I8bjtyKyspaWYobz10aGlzLmV2ZW50SGFuZGxlcnNbdFtyXV0sIXRoaXMuc3VzcGVuZGVkW3Rbcl1dKXtpZih0aGlzLnN1c3BlbmRlZFt0W3JdXT0hMCxvKWZvcihhPW8ubGVuZ3RoLGk9MDtpPGE7aSsrKShzPW9baV0pLmhhbmRsZXIuYXBwbHkocy5jb250ZXh0LGUpO3RoaXMuc3VzcGVuZGVkW3Rbcl1dPSExfXJldHVybiB0aGlzfSxvbjpmdW5jdGlvbih0LGkscil7cmV0dXJuIGUuaXNBcnJheSh0aGlzLmV2ZW50SGFuZGxlcnNbdF0pfHwodGhpcy5ldmVudEhhbmRsZXJzW3RdPVtdKSxyPWUuZGVmKHIsdGhpcyksdGhpcy5ldmVudEhhbmRsZXJzW3RdLnB1c2goe2hhbmRsZXI6aSxjb250ZXh0OnJ9KSx0aGlzfSxvZmY6ZnVuY3Rpb24odCxpKXt2YXIgcjtyZXR1cm4gdCYmZS5pc0FycmF5KHRoaXMuZXZlbnRIYW5kbGVyc1t0XSk/KGk/KChyPWUuaW5kZXhPZih0aGlzLmV2ZW50SGFuZGxlcnNbdF0saSxcImhhbmRsZXJcIikpPi0xJiZ0aGlzLmV2ZW50SGFuZGxlcnNbdF0uc3BsaWNlKHIsMSksMD09PXRoaXMuZXZlbnRIYW5kbGVyc1t0XS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmV2ZW50SGFuZGxlcnNbdF0pOmRlbGV0ZSB0aGlzLmV2ZW50SGFuZGxlcnNbdF0sdGhpcyk6dGhpc30sZXZlbnRpZnk6ZnVuY3Rpb24odCl7dC5ldmVudEhhbmRsZXJzPXt9LHQub249dGhpcy5vbix0Lm9mZj10aGlzLm9mZix0LnRyaWdnZXJFdmVudEhhbmRsZXJzPXRoaXMudHJpZ2dlcix0LnRyaWdnZXI9dGhpcy50cmlnZ2VyLHQuc3VzcGVuZGVkPXt9fX0sdC5FdmVudEVtaXR0ZXJ9KSksZGVmaW5lKFwibWF0aC9tYXRoXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpLHI9ZnVuY3Rpb24odCl7dmFyIGUscjtyZXR1cm4gdC5tZW1vfHwoZT17fSxyPUFycmF5LnByb3RvdHlwZS5qb2luLHQubWVtbz1mdW5jdGlvbigpe3ZhciBzPXIuY2FsbChhcmd1bWVudHMpO3JldHVybiBlW3NdIT09aT9lW3NdOmVbc109dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSx0Lm1lbW99O3JldHVybiB0Lk1hdGg9e2VwczoxZS02LHJlbERpZjpmdW5jdGlvbih0LGUpe3ZhciBpPU1hdGguYWJzKHQpLHI9TWF0aC5hYnMoZSk7cmV0dXJuIDA9PT0ocj1NYXRoLm1heChpLHIpKT8wOk1hdGguYWJzKHQtZSkvcn0sbW9kOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtTWF0aC5mbG9vcih0L2UpKmV9LHZlY3RvcjpmdW5jdGlvbih0LGUpe3ZhciBpLHI7Zm9yKGU9ZXx8MCxpPVtdLHI9MDtyPHQ7cisrKWlbcl09ZTtyZXR1cm4gaX0sbWF0cml4OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG87Zm9yKGk9aXx8MCxlPWV8fHQscj1bXSxzPTA7czx0O3MrKylmb3IocltzXT1bXSxvPTA7bzxlO28rKylyW3NdW29dPWk7cmV0dXJuIHJ9LGlkZW50aXR5OmZ1bmN0aW9uKHQsZSl7dmFyIHIscztmb3IoZT09PWkmJlwibnVtYmVyXCIhPXR5cGVvZiBlJiYoZT10KSxyPXRoaXMubWF0cml4KHQsZSkscz0wO3M8TWF0aC5taW4odCxlKTtzKyspcltzXVtzXT0xO3JldHVybiByfSxmcnVzdHVtOmZ1bmN0aW9uKHQsZSxpLHIscyxvKXt2YXIgbj10aGlzLm1hdHJpeCg0LDQpO3JldHVybiBuWzBdWzBdPTIqcy8oZS10KSxuWzBdWzFdPTAsblswXVsyXT0oZSt0KS8oZS10KSxuWzBdWzNdPTAsblsxXVswXT0wLG5bMV1bMV09MipzLyhyLWkpLG5bMV1bMl09KHIraSkvKHItaSksblsxXVszXT0wLG5bMl1bMF09MCxuWzJdWzFdPTAsblsyXVsyXT0tKG8rcykvKG8tcyksblsyXVszXT0tbypzKjIvKG8tcyksblszXVswXT0wLG5bM11bMV09MCxuWzNdWzJdPS0xLG5bM11bM109MCxufSxwcm9qZWN0aW9uOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzPWkqTWF0aC50YW4odC8yKSxvPXMqZTtyZXR1cm4gdGhpcy5mcnVzdHVtKC1vLG8sLXMscyxpLHIpfSxtYXRWZWNNdWx0OmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG89dC5sZW5ndGgsbj1lLmxlbmd0aCxhPVtdO2lmKDM9PT1uKWZvcihpPTA7aTxvO2krKylhW2ldPXRbaV1bMF0qZVswXSt0W2ldWzFdKmVbMV0rdFtpXVsyXSplWzJdO2Vsc2UgZm9yKGk9MDtpPG87aSsrKXtmb3Iocj0wLHM9MDtzPG47cysrKXIrPXRbaV1bc10qZVtzXTthW2ldPXJ9cmV0dXJuIGF9LG1hdE1hdE11bHQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuPXQubGVuZ3RoLGE9bj4wP2VbMF0ubGVuZ3RoOjAsaD1lLmxlbmd0aCxsPXRoaXMubWF0cml4KG4sYSk7Zm9yKGk9MDtpPG47aSsrKWZvcihyPTA7cjxhO3IrKyl7Zm9yKHM9MCxvPTA7bzxoO28rKylzKz10W2ldW29dKmVbb11bcl07bFtpXVtyXT1zfXJldHVybiBsfSx0cmFuc3Bvc2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbztmb3Iocz10Lmxlbmd0aCxvPXQubGVuZ3RoPjA/dFswXS5sZW5ndGg6MCxlPXRoaXMubWF0cml4KG8scyksaT0wO2k8bztpKyspZm9yKHI9MDtyPHM7cisrKWVbaV1bcl09dFtyXVtpXTtyZXR1cm4gZX0saW52ZXJzZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG4sYSxoPXQubGVuZ3RoLGw9W10sYz1bXSxkPVtdO2ZvcihlPTA7ZTxoO2UrKyl7Zm9yKGxbZV09W10saT0wO2k8aDtpKyspbFtlXVtpXT10W2VdW2ldO2NbZV09ZX1mb3IoaT0wO2k8aDtpKyspe2ZvcihvPU1hdGguYWJzKGxbaV1baV0pLG49aSxlPWkrMTtlPGg7ZSsrKU1hdGguYWJzKGxbZV1baV0pPm8mJihvPU1hdGguYWJzKGxbZV1baV0pLG49ZSk7aWYobzw9dGhpcy5lcHMpcmV0dXJuW107aWYobj5pKXtmb3Iocj0wO3I8aDtyKyspYT1sW2ldW3JdLGxbaV1bcl09bFtuXVtyXSxsW25dW3JdPWE7YT1jW2ldLGNbaV09Y1tuXSxjW25dPWF9Zm9yKHM9MS9sW2ldW2ldLGU9MDtlPGg7ZSsrKWxbZV1baV0qPXM7Zm9yKGxbaV1baV09cyxyPTA7cjxoO3IrKylpZihyIT09aSl7Zm9yKGU9MDtlPGg7ZSsrKWUhPT1pJiYobFtlXVtyXS09bFtlXVtpXSpsW2ldW3JdKTtsW2ldW3JdPS1zKmxbaV1bcl19fWZvcihlPTA7ZTxoO2UrKyl7Zm9yKHI9MDtyPGg7cisrKWRbY1tyXV09bFtlXVtyXTtmb3Iocj0wO3I8aDtyKyspbFtlXVtyXT1kW3JdfXJldHVybiBsfSxpbm5lclByb2R1Y3Q6ZnVuY3Rpb24odCxyLHMpe3ZhciBvLG49MDtmb3IocyE9PWkmJmUuaXNOdW1iZXIocyl8fChzPXQubGVuZ3RoKSxvPTA7bzxzO28rKyluKz10W29dKnJbb107cmV0dXJuIG59LGNyb3NzUHJvZHVjdDpmdW5jdGlvbih0LGUpe3JldHVyblt0WzFdKmVbMl0tdFsyXSplWzFdLHRbMl0qZVswXS10WzBdKmVbMl0sdFswXSplWzFdLXRbMV0qZVswXV19LG5vcm06ZnVuY3Rpb24odCxyKXt2YXIgcyxvPTA7Zm9yKHIhPT1pJiZlLmlzTnVtYmVyKHIpfHwocj10Lmxlbmd0aCkscz0wO3M8cjtzKyspbys9dFtzXSp0W3NdO3JldHVybiBNYXRoLnNxcnQobyl9LGF4cHk6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM9ZS5sZW5ndGgsbz1bXTtmb3Iocj0wO3I8cztyKyspb1tyXT10KmVbcl0raVtyXTtyZXR1cm4gb30sZmFjdG9yaWFsOnIoKGZ1bmN0aW9uKHQpe3JldHVybiB0PDA/TmFOOjA9PT0odD1NYXRoLmZsb29yKHQpKXx8MT09PXQ/MTp0KnRoaXMuZmFjdG9yaWFsKHQtMSl9KSksYmlub21pYWw6cigoZnVuY3Rpb24odCxlKXt2YXIgaSxyO2lmKGU+dHx8ZTwwKXJldHVybiBOYU47aWYoZT1NYXRoLnJvdW5kKGUpLHQ9TWF0aC5yb3VuZCh0KSwwPT09ZXx8ZT09PXQpcmV0dXJuIDE7Zm9yKGk9MSxyPTA7cjxlO3IrKylpKj10LXIsaS89cisxO3JldHVybiBpfSkpLGNvc2g6TWF0aC5jb3NofHxmdW5jdGlvbih0KXtyZXR1cm4uNSooTWF0aC5leHAodCkrTWF0aC5leHAoLXQpKX0sc2luaDpNYXRoLnNpbmh8fGZ1bmN0aW9uKHQpe3JldHVybi41KihNYXRoLmV4cCh0KS1NYXRoLmV4cCgtdCkpfSxhY29zaDpNYXRoLmFjb3NofHxmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5sb2codCtNYXRoLnNxcnQodCp0LTEpKX0sYXNpbmg6TWF0aC5hc2luaHx8ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0tMS8wP3Q6TWF0aC5sb2codCtNYXRoLnNxcnQodCp0KzEpKX0sY290OmZ1bmN0aW9uKHQpe3JldHVybiAxL01hdGgudGFuKHQpfSxhY290OmZ1bmN0aW9uKHQpe3JldHVybih0Pj0wPy41Oi0uNSkqTWF0aC5QSS1NYXRoLmF0YW4odCl9LG50aHJvb3Q6ZnVuY3Rpb24odCxlKXt2YXIgaT0xL2U7cmV0dXJuIGU8PTB8fE1hdGguZmxvb3IoZSkhPT1lP05hTjowPT09dD8wOnQ+MD9NYXRoLmV4cChpKk1hdGgubG9nKHQpKTplJTI9PTE/LU1hdGguZXhwKGkqTWF0aC5sb2coLXQpKTpOYU59LGNicnQ6TWF0aC5jYnJ0fHxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5udGhyb290KHQsMyl9LHBvdzpmdW5jdGlvbih0LGUpe3JldHVybiAwPT09dD8wPT09ZT8xOjA6TWF0aC5mbG9vcihlKT09PWU/TWF0aC5wb3codCxlKTp0PjA/TWF0aC5leHAoZSpNYXRoLmxvZyh0KSk6TmFOfSxyYXRwb3c6ZnVuY3Rpb24odCxlLGkpe3ZhciByO3JldHVybiAwPT09ZT8xOjA9PT1pP05hTjoocj10aGlzLmdjZChlLGkpLHRoaXMubnRocm9vdCh0aGlzLnBvdyh0LGUvciksaS9yKSl9LGxvZzEwOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmxvZyh0KS9NYXRoLmxvZygxMCl9LGxvZzI6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubG9nKHQpL01hdGgubG9nKDIpfSxsb2c6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwIT09aSYmZS5pc051bWJlcihpKT9NYXRoLmxvZyh0KS9NYXRoLmxvZyhpKTpNYXRoLmxvZyh0KX0sc2lnbjpNYXRoLnNpZ258fGZ1bmN0aW9uKHQpe3JldHVybiAwPT09KHQ9K3QpfHxpc05hTih0KT90OnQ+MD8xOi0xfSxzcXVhbXBvdzpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKE1hdGguZmxvb3IoZSk9PT1lKXtmb3IoaT0xLGU8MCYmKHQ9MS90LGUqPS0xKTswIT09ZTspMSZlJiYoaSo9dCksZT4+PTEsdCo9dDtyZXR1cm4gaX1yZXR1cm4gdGhpcy5wb3codCxlKX0sZ2NkOmZ1bmN0aW9uKHQsaSl7aWYodD1NYXRoLmFicyh0KSxpPU1hdGguYWJzKGkpLCFlLmlzTnVtYmVyKHQpfHwhZS5pc051bWJlcihpKSlyZXR1cm4gTmFOO2lmKGk+dCl7dmFyIHI9dDt0PWksaT1yfWZvcig7Oyl7aWYoMD09PSh0JT1pKSlyZXR1cm4gaTtpZigwPT09KGklPXQpKXJldHVybiB0fX0sbGNtOmZ1bmN0aW9uKHQsaSl7dmFyIHI7cmV0dXJuIGUuaXNOdW1iZXIodCkmJmUuaXNOdW1iZXIoaSk/MCE9PShyPXQqaSk/ci90aGlzLmdjZCh0LGkpOjA6TmFOfSxlcmY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuUHJvYkZ1bmNzLmVyZih0KX0sZXJmYzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5Qcm9iRnVuY3MuZXJmYyh0KX0sZXJmaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5Qcm9iRnVuY3MuZXJmaSh0KX0sbmR0cjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5Qcm9iRnVuY3MubmR0cih0KX0sbmR0cmk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuUHJvYkZ1bmNzLm5kdHJpKHQpfSxsdDpmdW5jdGlvbih0LGUpe3JldHVybiB0PGV9LGxlcTpmdW5jdGlvbih0LGUpe3JldHVybiB0PD1lfSxndDpmdW5jdGlvbih0LGUpe3JldHVybiB0PmV9LGdlcTpmdW5jdGlvbih0LGUpe3JldHVybiB0Pj1lfSxlcTpmdW5jdGlvbih0LGUpe3JldHVybiB0PT09ZX0sbmVxOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPT1lfSxhbmQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZX0sbm90OmZ1bmN0aW9uKHQpe3JldHVybiF0fSxvcjpmdW5jdGlvbih0LGUpe3JldHVybiB0fHxlfSx4b3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4odHx8ZSkmJiEodCYmZSl9LG5vcm1hbGl6ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHI9Mip0WzNdLHM9dFs0XS9yO3JldHVybiB0WzVdPXMsdFs2XT0tdFsxXS9yLHRbN109LXRbMl0vcixpc0Zpbml0ZShzKT9NYXRoLmFicyhzKT49MT8odFswXT0odFs2XSp0WzZdK3RbN10qdFs3XS1zKnMpLygyKnMpLHRbMV09LXRbNl0vcyx0WzJdPS10WzddL3MsdFszXT0xLygyKnMpLHRbNF09MSk6KGk9czw9MD8tMToxLHRbMF09aSoodFs2XSp0WzZdK3RbN10qdFs3XS1zKnMpKi41LHRbMV09LWkqdFs2XSx0WzJdPS1pKnRbN10sdFszXT1pLzIsdFs0XT1pKnMpOihlPU1hdGguc3FydCh0WzFdKnRbMV0rdFsyXSp0WzJdKSx0WzBdLz1lLHRbMV0vPWUsdFsyXS89ZSx0WzNdPTAsdFs0XT0xKSx0fSx0b0dMOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtpZihlPVwiZnVuY3Rpb25cIj09dHlwZW9mIEZsb2F0MzJBcnJheT9uZXcgRmxvYXQzMkFycmF5KDE2KTpuZXcgQXJyYXkoMTYpLDQhPT10Lmxlbmd0aCYmNCE9PXRbMF0ubGVuZ3RoKXJldHVybiBlO2ZvcihpPTA7aTw0O2krKylmb3Iocj0wO3I8NDtyKyspZVtpKzQqcl09dFtpXVtyXTtyZXR1cm4gZX0sVmlldGE6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHM9dC5sZW5ndGgsbz1bXTtmb3Iobz10LnNsaWNlKCksZT0xO2U8czsrK2Upe2ZvcihyPW9bZV0sb1tlXSo9b1tlLTFdLGk9ZS0xO2k+PTE7LS1pKW9baV0rPW9baS0xXSpyO29bMF0rPXJ9cmV0dXJuIG99fSx0Lk1hdGh9KSksZGVmaW5lKFwiYmFzZS9jb29yZHNcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJ1dGlscy9ldmVudFwiLFwidXRpbHMvdHlwZVwiLFwibWF0aC9tYXRoXCJdLChmdW5jdGlvbih0LGUsaSxyLHMpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkNvb3Jkcz1mdW5jdGlvbih0LGUscyxvKXt0aGlzLmJvYXJkPXMsdGhpcy51c3JDb29yZHM9W10sdGhpcy5zY3JDb29yZHM9W10sdGhpcy5lbWl0dGVyPSFyLmV4aXN0cyhvKXx8byx0aGlzLmVtaXR0ZXImJmkuZXZlbnRpZnkodGhpcyksdGhpcy5zZXRDb29yZGluYXRlcyh0LGUsITEsITApfSx0LmV4dGVuZCh0LkNvb3Jkcy5wcm90b3R5cGUse25vcm1hbGl6ZVVzckNvb3JkczpmdW5jdGlvbigpe01hdGguYWJzKHRoaXMudXNyQ29vcmRzWzBdKT5zLmVwcyYmKHRoaXMudXNyQ29vcmRzWzFdLz10aGlzLnVzckNvb3Jkc1swXSx0aGlzLnVzckNvb3Jkc1syXS89dGhpcy51c3JDb29yZHNbMF0sdGhpcy51c3JDb29yZHNbMF09MSl9LHVzcjJzY3JlZW46ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5yb3VuZCxpPXRoaXMuYm9hcmQscj10aGlzLnVzckNvb3JkcyxzPWkub3JpZ2luLnNjckNvb3JkczshMD09PXQ/KHRoaXMuc2NyQ29vcmRzWzBdPWUoclswXSksdGhpcy5zY3JDb29yZHNbMV09ZShyWzBdKnNbMV0rclsxXSppLnVuaXRYKSx0aGlzLnNjckNvb3Jkc1syXT1lKHJbMF0qc1syXS1yWzJdKmkudW5pdFkpKToodGhpcy5zY3JDb29yZHNbMF09clswXSx0aGlzLnNjckNvb3Jkc1sxXT1yWzBdKnNbMV0rclsxXSppLnVuaXRYLHRoaXMuc2NyQ29vcmRzWzJdPXJbMF0qc1syXS1yWzJdKmkudW5pdFkpfSxzY3JlZW4ydXNyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzLGU9dGhpcy5zY3JDb29yZHMsaT10aGlzLmJvYXJkO3RoaXMudXNyQ29vcmRzWzBdPTEsdGhpcy51c3JDb29yZHNbMV09KGVbMV0tdFsxXSkvaS51bml0WCx0aGlzLnVzckNvb3Jkc1syXT0odFsyXS1lWzJdKS9pLnVuaXRZfSxkaXN0YW5jZTpmdW5jdGlvbih0LGkpe3ZhciByLG8sbj0wLGE9dGhpcy51c3JDb29yZHMsaD10aGlzLnNjckNvb3JkcztpZih0PT09ZS5DT09SRFNfQllfVVNFUil7aWYocj1pLnVzckNvb3Jkcywobj0obz1hWzBdLXJbMF0pKm8pPnMuZXBzKnMuZXBzKXJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7bis9KG89YVsxXS1yWzFdKSpvLG4rPShvPWFbMl0tclsyXSkqb31lbHNlIHI9aS5zY3JDb29yZHMsbis9KG89aFsxXS1yWzFdKSpvLG4rPShvPWhbMl0tclsyXSkqbztyZXR1cm4gTWF0aC5zcXJ0KG4pfSxzZXRDb29yZGluYXRlczpmdW5jdGlvbih0LGkscixzKXt2YXIgbz10aGlzLnVzckNvb3JkcyxuPXRoaXMuc2NyQ29vcmRzLGE9W29bMF0sb1sxXSxvWzJdXSxoPVtuWzBdLG5bMV0sblsyXV07cmV0dXJuIHQ9PT1lLkNPT1JEU19CWV9VU0VSPygyPT09aS5sZW5ndGg/KG9bMF09MSxvWzFdPWlbMF0sb1syXT1pWzFdKToob1swXT1pWzBdLG9bMV09aVsxXSxvWzJdPWlbMl0sdGhpcy5ub3JtYWxpemVVc3JDb29yZHMoKSksdGhpcy51c3Iyc2NyZWVuKHIpKTooMj09PWkubGVuZ3RoPyhuWzFdPWlbMF0sblsyXT1pWzFdKTooblsxXT1pWzFdLG5bMl09aVsyXSksdGhpcy5zY3JlZW4ydXNyKCkpLCF0aGlzLmVtaXR0ZXJ8fHN8fGhbMV09PT1uWzFdJiZoWzJdPT09blsyXXx8dGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ1cGRhdGVcIl0sW2EsaF0pLHRoaXN9LGNvcHk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9MCksdGhpc1t0XS5zbGljZShlKX0saXNSZWFsOmZ1bmN0aW9uKCl7cmV0dXJuIWlzTmFOKHRoaXMudXNyQ29vcmRzWzFdK3RoaXMudXNyQ29vcmRzWzJdKSYmTWF0aC5hYnModGhpcy51c3JDb29yZHNbMF0pPnMuZXBzfSxfX2V2dF9fdXBkYXRlOmZ1bmN0aW9uKHQsZSl7fSxfX2V2dDpmdW5jdGlvbigpe319KSx0LkNvb3Jkc30pKSxkZWZpbmUoXCJ1dGlscy9leHBlY3RcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiXSwoZnVuY3Rpb24odCxlLGkscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9e2VhY2g6ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbj1bXTtpZihlLmV4aXN0cyh0Lmxlbmd0aCkpZm9yKG89dC5sZW5ndGgscz0wO3M8bztzKyspbi5wdXNoKGkuY2FsbCh0aGlzLHRbc10scikpO3JldHVybiBufSxjb29yZHM6ZnVuY3Rpb24odCxlKXt2YXIgcz10O3JldHVybiB0JiZ0LmVsZW1lbnRDbGFzcz09PWkuT0JKRUNUX0NMQVNTX1BPSU5UP3M9dC5jb29yZHM6dC51c3JDb29yZHMmJnQuc2NyQ29vcmRzJiZ0LnVzcjJzY3JlZW4mJihzPXQpLGUmJihzPW5ldyByKGkuQ09PUkRTX0JZX1VTRVIscy51c3JDb29yZHMscy5ib2FyZCkpLHN9LGNvb3Jkc0FycmF5OmZ1bmN0aW9uKHQsaSl7dmFyIHI7cmV0dXJuKHI9ZS5pc0FycmF5KHQpP3Q6dGhpcy5jb29yZHModCkudXNyQ29vcmRzKS5sZW5ndGg8MyYmci51bnNoaWZ0KDEpLGkmJihyPVtyWzBdLHJbMV0sclsyXV0pLHJ9fTtyZXR1cm4gdC5FeHBlY3Q9cyxzfSkpLGRlZmluZShcIm1hdGgvcHJvYmZ1bmNzXCIsW1wibWF0aC9tYXRoXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlByb2JGdW5jcz17TUFYTlVNOjE3MDE0MTE4MzQ2MDQ2OTIzZTIyLFNRUlRIOi43MDcxMDY3ODExODY1NDc2LFNRUlQyOjEuNDE0MjEzNTYyMzczMDk1MSxNQVhMT0c6NzA4LjM5NjQxODUzMjI2NDEsUDpbMi40NjE5Njk4MTQ3MzUzMDVlLTEwLC41NjQxODk1NjQ4MzEwNjg5LDcuNDYzMjEwNTY0NDIyNjk5LDQ4LjYzNzE5NzA5ODU2ODE0LDE5Ni41MjA4MzI5NTYwNzcxLDUyNi40NDUxOTQ5OTU0NzczLDkzNC41Mjg1MjcxNzE5NTc2LDEwMjcuNTUxODg2ODk1MTU3Miw1NTcuNTM1MzM1MzY5Mzk5NF0sUTpbMTMuMjI4MTk1MTE1NDc0NDk5LDg2LjcwNzIxNDA4ODU5ODk3LDM1NC45Mzc3Nzg4ODc4MTk5LDk3NS43MDg1MDE3NDMyMDU1LDE4MjMuOTA5MTY2ODc5MDk3MywyMjQ2LjMzNzYwODE4NzEwOTcsMTY1Ni42NjMwOTE5NDE2MTM0LDU1Ny41MzUzNDA4MTc3Mjc3XSxSOlsuNTY0MTg5NTgzNTQ3NzU1MSwxLjI3NTM2NjcwNzU5OTc4MSw1LjAxOTA1MDQyMjUxMTgwNSw2LjE2MDIxMDk3OTkzMDUzNiw3LjQwOTc0MjY5OTUwNDQ4OTUsMi45Nzg4NjY2NTM3MjEwMDIyXSxTOlsyLjI2MDUyODYzMjIwMTE3MjYsOS4zOTYwMzUyNDkzODAwMTUsMTIuMDQ4OTUzOTgwODA5NjY2LDE3LjA4MTQ0NTA3NDc1NjU5LDkuNjA4OTY4MDkwNjMyODU5LDMuMzY5MDc2NDUxMDAwODE1XSxUOls5LjYwNDk3MzczOTg3MDUxNiw5MC4wMjYwMTk3MjAzODQyNywyMjMyLjAwNTM0NTk0Njg0Myw3MDAzLjMyNTE0MTEyODA1MSw1NTU5Mi4zMDEzMDEwMzk0OV0sVTpbMzMuNTYxNzE0MTY0NzUwMzEsNTIxLjM1Nzk0OTc4MDE1MjcsNDU5NC4zMjM4Mjk3MDk4MDEsMjI2MjkuMDAwMDYxMzg5MDk1LDQ5MjY3LjM5NDI2MDg2MzU5XSxNOjEyOCxNSU5WOi4wMDc4MTI1LGV4cHgyOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG87cmV0dXJuIHQ9TWF0aC5hYnModCksZTwwJiYodD0tdCksaT0ocz10aGlzLk1JTlYqTWF0aC5mbG9vcih0aGlzLk0qdCsuNSkpKnMscj0yKnMqKG89dC1zKStvKm8sZTwwJiYoaT0taSxyPS1yKSxpK3I+dGhpcy5NQVhMT0c/MS8wOmk9TWF0aC5leHAoaSkqTWF0aC5leHAocil9LHBvbGV2bDpmdW5jdGlvbih0LGkscil7dmFyIHMsbztpZihlLmV4aXN0cyhpLnJlZHVjZSkpcmV0dXJuIGkucmVkdWNlKChmdW5jdGlvbihlLGkpe3JldHVybiBlKnQraX0pLDApO2ZvcihvPTAscz0wO288PXI7bysrKXM9cyp0K2lbb107cmV0dXJuIHN9LHAxZXZsOmZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvO2lmKGUuZXhpc3RzKGkucmVkdWNlKSlyZXR1cm4gaS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGUqdCtpfSksMSk7Zm9yKG89MCxzPTE7bzxyO28rKylzPXMqdCtpW29dO3JldHVybiBzfSxuZHRyOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtyZXR1cm4gZT10KnRoaXMuU1FSVEgsKHI9TWF0aC5hYnMoZSkpPDE/aT0uNSsuNSp0aGlzLmVyZihlKTooaT0uNSp0aGlzLmVyZmNlKHIpLHI9dGhpcy5leHB4Mih0LC0xKSxpKj1NYXRoLnNxcnQociksZT4wJiYoaT0xLWkpKSxpfSxfdW5kZXJmbG93OmZ1bmN0aW9uKHQpe3JldHVybiBjb25zb2xlLmxvZyhcImVyZmNcIixcIlVOREVSRkxPV1wiKSx0PDA/MjowfSxlcmZjOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG87cmV0dXJuKHI9dDwwPy10OnQpPDE/MS10aGlzLmVyZih0KToobz0tdCp0KTwtdGhpcy5NQVhMT0c/dGhpcy5fdW5kZXJmbG93KHQpOihvPXRoaXMuZXhweDIodCwtMSkscjw4PyhlPXRoaXMucG9sZXZsKHIsdGhpcy5QLDgpLGk9dGhpcy5wMWV2bChyLHRoaXMuUSw4KSk6KGU9dGhpcy5wb2xldmwocix0aGlzLlIsNSksaT10aGlzLnAxZXZsKHIsdGhpcy5TLDYpKSxzPW8qZS9pLHQ8MCYmKHM9Mi1zKSwwPT09cz90aGlzLl91bmRlcmZsb3codCk6cyl9LGVyZmNlOmZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIHQ8OD8oZT10aGlzLnBvbGV2bCh0LHRoaXMuUCw4KSxpPXRoaXMucDFldmwodCx0aGlzLlEsOCkpOihlPXRoaXMucG9sZXZsKHQsdGhpcy5SLDUpLGk9dGhpcy5wMWV2bCh0LHRoaXMuUyw2KSksZS9pfSxlcmY6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIE1hdGguYWJzKHQpPjE/MS10aGlzLmVyZmModCk6KGU9dCp0LHQqdGhpcy5wb2xldmwoZSx0aGlzLlQsNCkvdGhpcy5wMWV2bChlLHRoaXMuVSw1KSl9LHMycGk6Mi41MDY2MjgyNzQ2MzEwMDA3LFAwOlstNTkuOTYzMzUwMTAxNDEwNzksOTguMDAxMDc1NDE4NTk5OTcsLTU2LjY3NjI4NTc0NjkwNzAzLDEzLjkzMTI2MDkzODcyNzk2OCwtMS4yMzkxNjU4Mzg2NzM4MTI1XSxRMDpbMS45NTQ0ODg1ODMzODE0MTc2LDQuNjc2Mjc5MTI4OTg4ODE1LDg2LjM2MDI0MjEzOTA4OTA1LC0yMjUuNDYyNjg3ODU0MTE5MzcsMjAwLjI2MDIxMjM4MDA2MDY2LC04Mi4wMzcyMjU2MTY4MzMzNCwxNS45MDU2MjI1MTI2MjExNywtMS4xODMzMTYyMTEyMTMzXSxQMTpbNC4wNTU0NDg5MjMwNTk2MjQ1LDMxLjUyNTEwOTQ1OTk4OTM4OCw1Ny4xNjI4MTkyMjQ2NDIxMyw0NC4wODA1MDczODkzMjAwOCwxNC42ODQ5NTYxOTI4ODU4MDMsMi4xODY2MzMwNjg1MDc5MDI1LC0uMTQwMjU2MDc5MTcxMzU0NSwtLjAzNTA0MjQ2MjY4Mjc4NDgyLC0uMDAwODU3NDU2Nzg1MTU0Njg1NF0sUTE6WzE1Ljc3OTk4ODMyNTY0NjY3NSw0NS4zOTA3NjM1MTI4ODc5Miw0MS4zMTcyMDM4MjU0NjcyLDE1LjA0MjUzODU2OTI5MDc1LDIuNTA0NjQ5NDYyMDgzMDk0LC0uMTQyMTgyOTIyODU0Nzg3NzksLS4wMzgwODA2NDA3NjkxNTc4MywtLjAwMDkzMzI1OTQ4MDg5NTQ1NzRdLFAyOlszLjIzNzc0ODkxNzc2OTQ2MDMsNi45MTUyMjg4OTA2ODk4NDIsMy45Mzg4MTAyNTI5MjQ3NDQ0LDEuMzMzMDM0NjA4MTU4MDc1NSwuMjAxNDg1Mzg5NTQ5MTc5MDgsLjAxMjM3MTY2MzQ4MTc4MjAwMywuMDAwMzAxNTgxNTUzNTA4MjM1NDMsMjY1ODA2OTc0Njg2NzM3NTVlLTIyLDYuMjM5NzQ1MzkxODQ5ODMzZS05XSxRMjpbNi4wMjQyNzAzOTM2NDc0MiwzLjY3OTgzNTYzODU2MTYwODcsMS4zNzcwMjA5OTQ4OTA4MTMyLC4yMTYyMzY5OTM1OTQ0OTY2MywuMDEzNDIwNDAwNjA4ODU0MzE4LC4wMDAzMjgwMTQ0NjQ2ODIxMjc3NCwyODkyNDc4NjQ3NDUzODA2OGUtMjIsNi43OTAxOTQwODAwOTk4MTNlLTldLG5kdHJpOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG87cmV0dXJuIHQ8PTA/LTEvMDp0Pj0xPzEvMDoobz0xLChpPXQpPi44NjQ2NjQ3MTY3NjMzODczJiYoaT0xLWksbz0wKSxpPi4xMzUzMzUyODMyMzY2MTI3PyhlPShpLT0uNSkraSooKHM9aSppKSp0aGlzLnBvbGV2bChzLHRoaXMuUDAsNCkvdGhpcy5wMWV2bChzLHRoaXMuUTAsOCkpLGUqPXRoaXMuczJwaSk6KHI9MS8oZT1NYXRoLnNxcnQoLTIqTWF0aC5sb2coaSkpKSxlPWUtTWF0aC5sb2coZSkvZS0oZTw4P3IqdGhpcy5wb2xldmwocix0aGlzLlAxLDgpL3RoaXMucDFldmwocix0aGlzLlExLDgpOnIqdGhpcy5wb2xldmwocix0aGlzLlAyLDgpL3RoaXMucDFldmwocix0aGlzLlEyLDgpKSwwIT09byYmKGU9LWUpLGUpKX0sZXJmaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZHRyaSguNSoodCsxKSkqdGhpcy5TUVJUSH19LHQuUHJvYkZ1bmNzfSkpLGRlZmluZShcIm1hdGgvaWFcIixbXCJqeGdcIixcIm1hdGgvbWF0aFwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3QuTWF0aC5Eb3VibGVCaXRzPWZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvLG4sYSxoPW5ldyBGbG9hdDY0QXJyYXkoMSksbD1uZXcgVWludDMyQXJyYXkoaC5idWZmZXIpO3ZvaWQgMCE9PUZsb2F0NjRBcnJheSYmKGhbMF09MSwhMCwxMDcyNjkzMjQ4PT09bFsxXT8odD1mdW5jdGlvbih0KXtyZXR1cm4gaFswXT10LFtsWzBdLGxbMV1dfSxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGxbMF09dCxsWzFdPWUsaFswXX0saT1mdW5jdGlvbih0KXtyZXR1cm4gaFswXT10LGxbMF19LHI9ZnVuY3Rpb24odCl7cmV0dXJuIGhbMF09dCxsWzFdfSx0aGlzLmRvdWJsZUJpdHM9dCx0aGlzLnBhY2s9ZSx0aGlzLmxvPWksdGhpcy5oaT1yKToxMDcyNjkzMjQ4PT09bFswXSYmKHM9ZnVuY3Rpb24odCl7cmV0dXJuIGhbMF09dCxbbFsxXSxsWzBdXX0sbz1mdW5jdGlvbih0LGUpe3JldHVybiBsWzFdPXQsbFswXT1lLGhbMF19LG49ZnVuY3Rpb24odCl7cmV0dXJuIGhbMF09dCxsWzFdfSxhPWZ1bmN0aW9uKHQpe3JldHVybiBoWzBdPXQsbFswXX0sdGhpcy5kb3VibGVCaXRzPXMsdGhpcy5wYWNrPW8sdGhpcy5sbz1uLHRoaXMuaGk9YSkpfSx0LmV4dGVuZCh0Lk1hdGguRG91YmxlQml0cy5wcm90b3R5cGUse3NpZ246ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGkodCk+Pj4zMX0sZXhwb25lbnQ6ZnVuY3Rpb24odCl7cmV0dXJuKHRoaXMuaGkodCk8PDE+Pj4yMSktMTAyM30sZnJhY3Rpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5sbyh0KSxpPXRoaXMuaGkodCkscj0xMDQ4NTc1Jmk7cmV0dXJuIDIxNDY0MzUwNzImaSYmKHIrPTE8PDIwKSxbZSxyXX0sZGVub3JtYWxpemVkOmZ1bmN0aW9uKHQpe3JldHVybiEoMjE0NjQzNTA3MiZ0aGlzLmhpKHQpKX19KTt2YXIgcj1uZXcgdC5NYXRoLkRvdWJsZUJpdHMscz1mdW5jdGlvbih0LGkpe2lmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PWkpe2lmKGUuSW50ZXJ2YWxBcml0aG1ldGljLmlzSW50ZXJ2YWwodCkpe2lmKCFlLkludGVydmFsQXJpdGhtZXRpYy5pc1NpbmdsZXRvbih0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlhHLk1hdGguSW50ZXJ2YWxBcml0aG1ldGljOiBpbnRlcnZhbCBgbG9gIG11c3QgYmUgYSBzaW5nbGV0b25cIik7dGhpcy5sbz10LmxvfWVsc2UgdGhpcy5sbz10O2lmKGUuSW50ZXJ2YWxBcml0aG1ldGljLmlzSW50ZXJ2YWwoaSkpe2lmKCFlLkludGVydmFsQXJpdGhtZXRpYy5pc1NpbmdsZXRvbihpKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlhHLk1hdGguSW50ZXJ2YWxBcml0aG1ldGljOiBpbnRlcnZhbCBgaGlgIG11c3QgYmUgYSBzaW5nbGV0b25cIik7dGhpcy5oaT1pLmhpfWVsc2UgdGhpcy5oaT1pfWVsc2V7aWYodm9pZCAwIT09dClyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9uZXcgcyh0WzBdLHRbMV0pOm5ldyBzKHQsdCk7dGhpcy5sbz10aGlzLmhpPTB9fTtyZXR1cm4gdC5leHRlbmQocy5wcm90b3R5cGUse3ByaW50OmZ1bmN0aW9uKCl7Y29uc29sZS5sb2coXCJbXCIsdGhpcy5sbyx0aGlzLmhpLFwiXVwiKX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubG89dCx0aGlzLmhpPWUsdGhpc30sYm91bmRlZDpmdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLnNldChlLkludGVydmFsQXJpdGhtZXRpYy5wcmV2KHQpLGUuSW50ZXJ2YWxBcml0aG1ldGljLm5leHQoaSkpfSxib3VuZGVkU2luZ2xldG9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJvdW5kZWQodCx0KX0sYXNzaWduOmZ1bmN0aW9uKHQsZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHR8fFwibnVtYmVyXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJKWEcuTWF0aC5JbnRlcnZhbCNhc3NpZ246IGFyZ3VtZW50cyBtdXN0IGJlIG51bWJlcnNcIik7cmV0dXJuIGlzTmFOKHQpfHxpc05hTihlKXx8dD5lP3RoaXMuc2V0RW1wdHkoKTp0aGlzLnNldCh0LGUpfSxzZXRFbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldChOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKX0sc2V0V2hvbGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXQoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSl9LG9wZW46ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5hc3NpZ24oZS5JbnRlcnZhbEFyaXRobWV0aWMubmV4dCh0KSxlLkludGVydmFsQXJpdGhtZXRpYy5wcmV2KGkpKX0saGFsZk9wZW5MZWZ0OmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuYXNzaWduKGUuSW50ZXJ2YWxBcml0aG1ldGljLm5leHQodCksaSl9LGhhbGZPcGVuUmlnaHQ6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5hc3NpZ24odCxlLkludGVydmFsQXJpdGhtZXRpYy5wcmV2KGkpKX0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVyblt0aGlzLmxvLHRoaXMuaGldfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgcykuc2V0KHRoaXMubG8sdGhpcy5oaSl9fSksdC5NYXRoLkludGVydmFsQXJpdGhtZXRpYz17SW50ZXJ2YWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHModCxlKX0saXNJbnRlcnZhbDpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sbyYmXCJudW1iZXJcIj09dHlwZW9mIHQuaGl9LGlzU2luZ2xldG9uOmZ1bmN0aW9uKHQpe3JldHVybiB0LmxvPT09dC5oaX0sYWRkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLGkuaXNOdW1iZXIoZSkmJihlPXRoaXMuSW50ZXJ2YWwoZSkpLG5ldyBzKHRoaXMuYWRkTG8odC5sbyxlLmxvKSx0aGlzLmFkZEhpKHQuaGksZS5oaSkpfSxzdWI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksaS5pc051bWJlcihlKSYmKGU9dGhpcy5JbnRlcnZhbChlKSksbmV3IHModGhpcy5zdWJMbyh0LmxvLGUuaGkpLHRoaXMuc3ViSGkodC5oaSxlLmxvKSl9LG11bDpmdW5jdGlvbih0LGUpe3ZhciByLG8sbixhLGg7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLGkuaXNOdW1iZXIoZSkmJihlPXRoaXMuSW50ZXJ2YWwoZSkpLHRoaXMuaXNFbXB0eSh0KXx8dGhpcy5pc0VtcHR5KGUpP3RoaXMuRU1QVFkuY2xvbmUoKToocj10LmxvLG89dC5oaSxuPWUubG8sYT1lLmhpLGg9bmV3IHMscjwwP28+MD9uPDA/YT4wPyhoLmxvPU1hdGgubWluKHRoaXMubXVsTG8ocixhKSx0aGlzLm11bExvKG8sbikpLGguaGk9TWF0aC5tYXgodGhpcy5tdWxIaShyLG4pLHRoaXMubXVsSGkobyxhKSkpOihoLmxvPXRoaXMubXVsTG8obyxuKSxoLmhpPXRoaXMubXVsSGkocixuKSk6YT4wPyhoLmxvPXRoaXMubXVsTG8ocixhKSxoLmhpPXRoaXMubXVsSGkobyxhKSk6KGgubG89MCxoLmhpPTApOm48MD9hPjA/KGgubG89dGhpcy5tdWxMbyhyLGEpLGguaGk9dGhpcy5tdWxIaShyLG4pKTooaC5sbz10aGlzLm11bExvKG8sYSksaC5oaT10aGlzLm11bEhpKHIsbikpOmE+MD8oaC5sbz10aGlzLm11bExvKHIsYSksaC5oaT10aGlzLm11bEhpKG8sbikpOihoLmxvPTAsaC5oaT0wKTpvPjA/bjwwP2E+MD8oaC5sbz10aGlzLm11bExvKG8sbiksaC5oaT10aGlzLm11bEhpKG8sYSkpOihoLmxvPXRoaXMubXVsTG8obyxuKSxoLmhpPXRoaXMubXVsSGkocixhKSk6YT4wPyhoLmxvPXRoaXMubXVsTG8ocixuKSxoLmhpPXRoaXMubXVsSGkobyxhKSk6KGgubG89MCxoLmhpPTApOihoLmxvPTAsaC5oaT0wKSxoKX0sZGl2OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLGkuaXNOdW1iZXIoZSkmJihlPXRoaXMuSW50ZXJ2YWwoZSkpLHRoaXMuaXNFbXB0eSh0KXx8dGhpcy5pc0VtcHR5KGUpP3RoaXMuRU1QVFkuY2xvbmUoKTp0aGlzLnplcm9JbihlKT8wIT09ZS5sbz8wIT09ZS5oaT90aGlzLmRpdlplcm8odCk6dGhpcy5kaXZOZWdhdGl2ZSh0LGUubG8pOjAhPT1lLmhpP3RoaXMuZGl2UG9zaXRpdmUodCxlLmhpKTp0aGlzLkVNUFRZLmNsb25lKCk6dGhpcy5kaXZOb25aZXJvKHQsZSl9LHBvc2l0aXZlOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgcyh0LmxvLHQuaGkpfSxuZWdhdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gaS5pc051bWJlcih0KT9uZXcgcygtdCk6bmV3IHMoLXQuaGksLXQubG8pfSxpc0VtcHR5OmZ1bmN0aW9uKHQpe3JldHVybiB0LmxvPnQuaGl9LGlzV2hvbGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubG89PT0tMS8wJiZ0LmhpPT09MS8wfSx6ZXJvSW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzVmFsdWUodCwwKX0saGFzVmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hdGhpcy5pc0VtcHR5KHQpJiYodC5sbzw9ZSYmZTw9dC5oaSl9LGhhc0ludGVydmFsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuISF0aGlzLmlzRW1wdHkodCl8fCF0aGlzLmlzRW1wdHkoZSkmJmUubG88PXQubG8mJnQuaGk8PWUuaGl9LGludGVydmFsc092ZXJsYXA6ZnVuY3Rpb24odCxlKXtyZXR1cm4hdGhpcy5pc0VtcHR5KHQpJiYhdGhpcy5pc0VtcHR5KGUpJiYodC5sbzw9ZS5sbyYmZS5sbzw9dC5oaXx8ZS5sbzw9dC5sbyYmdC5sbzw9ZS5oaSl9LGRpdk5vblplcm86ZnVuY3Rpb24odCxlKXt2YXIgaT10LmxvLHI9dC5oaSxvPWUubG8sbj1lLmhpLGE9bmV3IHM7cmV0dXJuIHI8MD9uPDA/KGEubG89dGhpcy5kaXZMbyhyLG8pLGEuaGk9dGhpcy5kaXZIaShpLG4pKTooYS5sbz10aGlzLmRpdkxvKGksbyksYS5oaT10aGlzLmRpdkhpKHIsbikpOmk8MD9uPDA/KGEubG89dGhpcy5kaXZMbyhyLG4pLGEuaGk9dGhpcy5kaXZIaShpLG4pKTooYS5sbz10aGlzLmRpdkxvKGksbyksYS5oaT10aGlzLmRpdkhpKHIsbykpOm48MD8oYS5sbz10aGlzLmRpdkxvKHIsbiksYS5oaT10aGlzLmRpdkhpKGksbykpOihhLmxvPXRoaXMuZGl2TG8oaSxuKSxhLmhpPXRoaXMuZGl2SGkocixvKSksYX0sZGl2UG9zaXRpdmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PXQubG8mJjA9PT10LmhpP3Q6dGhpcy56ZXJvSW4odCk/dGhpcy5XSE9MRTp0LmhpPDA/bmV3IHMoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLHRoaXMuZGl2SGkodC5oaSxlKSk6bmV3IHModGhpcy5kaXZMbyh0LmxvLGUpLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSl9LGRpdk5lZ2F0aXZlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT10LmxvJiYwPT09dC5oaT90OnRoaXMuemVyb0luKHQpP3RoaXMuV0hPTEU6dC5oaTwwP25ldyBzKHRoaXMuZGl2TG8odC5oaSxlKSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpOm5ldyBzKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSx0aGlzLmRpdkhpKHQubG8sZSkpfSxkaXZaZXJvOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dC5sbyYmMD09PXQuaGk/dDp0aGlzLldIT0xFfSxmbW9kOmZ1bmN0aW9uKHQsZSl7dmFyIHIsbztyZXR1cm4gaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksaS5pc051bWJlcihlKSYmKGU9dGhpcy5JbnRlcnZhbChlKSksdGhpcy5pc0VtcHR5KHQpfHx0aGlzLmlzRW1wdHkoZSk/dGhpcy5FTVBUWS5jbG9uZSgpOihyPXQubG88MD9lLmxvOmUuaGksbz0obz10LmxvL3IpPDA/TWF0aC5jZWlsKG8pOk1hdGguZmxvb3IobyksdGhpcy5zdWIodCx0aGlzLm11bChlLG5ldyBzKG8pKSkpfSxtdWx0aXBsaWNhdGl2ZUludmVyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLHRoaXMuaXNFbXB0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6dGhpcy56ZXJvSW4odCk/MCE9PXQubG8/MCE9PXQuaGk/dGhpcy5XSE9MRTpuZXcgcyhOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksdGhpcy5kaXZIaSgxLHQubG8pKTowIT09dC5oaT9uZXcgcyh0aGlzLmRpdkxvKDEsdC5oaSksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTp0aGlzLkVNUFRZLmNsb25lKCk6bmV3IHModGhpcy5kaXZMbygxLHQuaGkpLHRoaXMuZGl2SGkoMSx0LmxvKSl9LHBvdzpmdW5jdGlvbih0LGUpe3ZhciByLG87aWYoaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksdGhpcy5pc0VtcHR5KHQpKXJldHVybiB0aGlzLkVNUFRZLmNsb25lKCk7aWYodGhpcy5pc0ludGVydmFsKGUpKXtpZighdGhpcy5pc1NpbmdsZXRvbihlKSlyZXR1cm4gdGhpcy5FTVBUWS5jbG9uZSgpO2U9ZS5sb31yZXR1cm4gMD09PWU/MD09PXQubG8mJjA9PT10LmhpP3RoaXMuRU1QVFkuY2xvbmUoKTp0aGlzLk9ORS5jbG9uZSgpOmU8MD90aGlzLnBvdyh0aGlzLm11bHRpcGxpY2F0aXZlSW52ZXJzZSh0KSwtZSk6ZSUxPT0wP3QuaGk8MD8ocj10aGlzLnBvd0xvKC10LmhpLGUpLG89dGhpcy5wb3dIaSgtdC5sbyxlKSwxPT0oMSZlKT9uZXcgcygtbywtcik6bmV3IHMocixvKSk6dC5sbzwwPzE9PSgxJmUpP25ldyBzKC10aGlzLnBvd0xvKC10LmxvLGUpLHRoaXMucG93SGkodC5oaSxlKSk6bmV3IHMoMCx0aGlzLnBvd0hpKE1hdGgubWF4KC10LmxvLHQuaGkpLGUpKTpuZXcgcyh0aGlzLnBvd0xvKHQubG8sZSksdGhpcy5wb3dIaSh0LmhpLGUpKTooY29uc29sZS53YXJuKFwicG93ZXIgaXMgbm90IGFuIGludGVnZXIsIHlvdSBzaG91bGQgdXNlIG50aC1yb290IGluc3RlYWQsIHJldHVybmluZyBhbiBlbXB0eSBpbnRlcnZhbFwiKSx0aGlzLkVNUFRZLmNsb25lKCkpfSxzcXJ0OmZ1bmN0aW9uKHQpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSx0aGlzLm50aFJvb3QodCwyKX0sbnRoUm9vdDpmdW5jdGlvbih0LGUpe3ZhciByLG8sbixhLGg7aWYoaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksdGhpcy5pc0VtcHR5KHQpfHxlPDApcmV0dXJuIHRoaXMuRU1QVFkuY2xvbmUoKTtpZih0aGlzLmlzSW50ZXJ2YWwoZSkpe2lmKCF0aGlzLmlzU2luZ2xldG9uKGUpKXJldHVybiB0aGlzLkVNUFRZLmNsb25lKCk7ZT1lLmxvfXJldHVybiByPTEvZSx0LmhpPDA/ZSUxPT0wJiYxPT0oMSZlKT8obz10aGlzLnBvd0hpKC10LmxvLHIpLG49dGhpcy5wb3dMbygtdC5oaSxyKSxuZXcgcygtbywtbikpOnRoaXMuRU1QVFkuY2xvbmUoKTp0LmxvPDA/KGE9dGhpcy5wb3dIaSh0LmhpLHIpLGUlMT09MCYmMT09KDEmZSk/KGg9LXRoaXMucG93SGkoLXQubG8sciksbmV3IHMoaCxhKSk6bmV3IHMoMCxhKSk6bmV3IHModGhpcy5wb3dMbyh0LmxvLHIpLHRoaXMucG93SGkodC5oaSxyKSl9LGV4cDpmdW5jdGlvbih0KXtyZXR1cm4gaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksdGhpcy5pc0VtcHR5KHQpP3RoaXMuRU1QVFkuY2xvbmUoKTpuZXcgcyh0aGlzLmV4cExvKHQubG8pLHRoaXMuZXhwSGkodC5oaSkpfSxsb2c6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLHRoaXMuaXNFbXB0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6KGU9dC5sbzw9MD9OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk6dGhpcy5sb2dMbyh0LmxvKSxuZXcgcyhlLHRoaXMubG9nSGkodC5oaSkpKX0sbG46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubG9nKHQpfSxsb2cxMDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpP3RoaXMuRU1QVFkuY2xvbmUoKTp0aGlzLmRpdih0aGlzLmxvZyh0KSx0aGlzLmxvZyhuZXcgcygxMCwxMCkpKX0sbG9nMjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpP3RoaXMuRU1QVFkuY2xvbmUoKTp0aGlzLmRpdih0aGlzLmxvZyh0KSx0aGlzLmxvZyhuZXcgcygyLDIpKSl9LGh1bGw6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmlzRW1wdHkodCkscj10aGlzLmlzRW1wdHkoZSk7cmV0dXJuIGkmJnI/dGhpcy5FTVBUWS5jbG9uZSgpOmk/ZS5jbG9uZSgpOnI/dC5jbG9uZSgpOm5ldyBzKE1hdGgubWluKHQubG8sZS5sbyksTWF0aC5tYXgodC5oaSxlLmhpKSl9LGludGVyc2VjdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpLHI7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KXx8dGhpcy5pc0VtcHR5KGUpP3RoaXMuRU1QVFkuY2xvbmUoKTooaT1NYXRoLm1heCh0LmxvLGUubG8pKTw9KHI9TWF0aC5taW4odC5oaSxlLmhpKSk/bmV3IHMoaSxyKTp0aGlzLkVNUFRZLmNsb25lKCl9LHVuaW9uOmZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuaW50ZXJ2YWxzT3ZlcmxhcCh0LGUpKXRocm93IG5ldyBFcnJvcihcIkludGVydmFsI3VuaW9ucyBkbyBub3Qgb3ZlcmxhcFwiKTtyZXR1cm4gbmV3IHMoTWF0aC5taW4odC5sbyxlLmxvKSxNYXRoLm1heCh0LmhpLGUuaGkpKX0sZGlmZmVyZW5jZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuaXNFbXB0eSh0KXx8dGhpcy5pc1dob2xlKGUpKXJldHVybiB0aGlzLkVNUFRZLmNsb25lKCk7aWYodGhpcy5pbnRlcnZhbHNPdmVybGFwKHQsZSkpe2lmKHQubG88ZS5sbyYmZS5oaTx0LmhpKXRocm93IG5ldyBFcnJvcihcIkludGVydmFsLmRpZmZlcmVuY2U6IGRpZmZlcmVuY2UgY3JlYXRlcyBtdWx0aXBsZSBpbnRlcnZhbHNcIik7cmV0dXJuIGUubG88PXQubG8mJmUuaGk9PT0xLzB8fGUuaGk+PXQuaGkmJmUubG89PT0tMS8wP3RoaXMuRU1QVFkuY2xvbmUoKTplLmxvPD10LmxvPyhuZXcgcykuaGFsZk9wZW5MZWZ0KGUuaGksdC5oaSk6KG5ldyBzKS5oYWxmT3BlblJpZ2h0KHQubG8sZS5sbyl9cmV0dXJuIHQuY2xvbmUoKX0sd2lkdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KT8wOnRoaXMuc3ViSGkodC5oaSx0LmxvKX0sYWJzOmZ1bmN0aW9uKHQpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSx0aGlzLmlzRW1wdHkodCk/dGhpcy5FTVBUWS5jbG9uZSgpOnQubG8+PTA/dC5jbG9uZSgpOnQuaGk8PTA/dGhpcy5uZWdhdGl2ZSh0KTpuZXcgcygwLE1hdGgubWF4KC10LmxvLHQuaGkpKX0sbWF4OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5pc0VtcHR5KHQpLHI9dGhpcy5pc0VtcHR5KGUpO3JldHVybiBpJiZyP3RoaXMuRU1QVFkuY2xvbmUoKTppP2UuY2xvbmUoKTpyP3QuY2xvbmUoKTpuZXcgcyhNYXRoLm1heCh0LmxvLGUubG8pLE1hdGgubWF4KHQuaGksZS5oaSkpfSxtaW46ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmlzRW1wdHkodCkscj10aGlzLmlzRW1wdHkoZSk7cmV0dXJuIGkmJnI/dGhpcy5FTVBUWS5jbG9uZSgpOmk/ZS5jbG9uZSgpOnI/dC5jbG9uZSgpOm5ldyBzKE1hdGgubWluKHQubG8sZS5sbyksTWF0aC5taW4odC5oaSxlLmhpKSl9LG9ubHlJbmZpbml0eTpmdW5jdGlvbih0KXtyZXR1cm4haXNGaW5pdGUodC5sbykmJnQubG89PT10LmhpfSxfaGFuZGxlTmVnYXRpdmU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQubG88MCYmKHQubG89PT0tMS8wPyh0LmxvPTAsdC5oaT0xLzApOihlPU1hdGguY2VpbCgtdC5sby90aGlzLnBpVHdpY2VMb3cpLHQubG8rPXRoaXMucGlUd2ljZUxvdyplLHQuaGkrPXRoaXMucGlUd2ljZUxvdyplKSksdH0sY29zOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixvLG4sYSxoLGw7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KXx8dGhpcy5vbmx5SW5maW5pdHkodCk/dGhpcy5FTVBUWS5jbG9uZSgpOihlPShuZXcgcykuc2V0KHQubG8sdC5oaSksdGhpcy5faGFuZGxlTmVnYXRpdmUoZSksaT10aGlzLlBJX1RXSUNFLHI9dGhpcy5mbW9kKGUsaSksdGhpcy53aWR0aChyKT49aS5sbz9uZXcgcygtMSwxKTpyLmxvPj10aGlzLnBpSGlnaD8obz10aGlzLmNvcyh0aGlzLnN1YihyLHRoaXMuUEkpKSx0aGlzLm5lZ2F0aXZlKG8pKToobj1yLmxvLGE9ci5oaSxoPXRoaXMuY29zTG8oYSksbD10aGlzLmNvc0hpKG4pLGE8PXRoaXMucGlMb3c/bmV3IHMoaCxsKTphPD1pLmxvP25ldyBzKC0xLE1hdGgubWF4KGgsbCkpOm5ldyBzKC0xLDEpKSl9LHNpbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpfHx0aGlzLm9ubHlJbmZpbml0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6dGhpcy5jb3ModGhpcy5zdWIodCx0aGlzLlBJX0hBTEYpKX0sdGFuOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpfHx0aGlzLm9ubHlJbmZpbml0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6KGU9KG5ldyBzKS5zZXQodC5sbyx0LmhpKSx0aGlzLl9oYW5kbGVOZWdhdGl2ZShlKSxyPXRoaXMuUEksKGk9dGhpcy5mbW9kKGUscikpLmxvPj10aGlzLnBpSGFsZkxvdyYmKGk9dGhpcy5zdWIoaSxyKSksaS5sbzw9LXRoaXMucGlIYWxmTG93fHxpLmhpPj10aGlzLnBpSGFsZkxvdz90aGlzLldIT0xFLmNsb25lKCk6bmV3IHModGhpcy50YW5MbyhpLmxvKSx0aGlzLnRhbkhpKGkuaGkpKSl9LGFzaW46ZnVuY3Rpb24odCl7dmFyIGUsaTtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpfHx0LmhpPC0xfHx0LmxvPjE/dGhpcy5FTVBUWS5jbG9uZSgpOihlPXQubG88PS0xPy10aGlzLnBpSGFsZkhpZ2g6dGhpcy5hc2luTG8odC5sbyksaT10LmhpPj0xP3RoaXMucGlIYWxmSGlnaDp0aGlzLmFzaW5IaSh0LmhpKSxuZXcgcyhlLGkpKX0sYWNvczpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiB0aGlzLmlzRW1wdHkodCl8fHQuaGk8LTF8fHQubG8+MT90aGlzLkVNUFRZLmNsb25lKCk6KGU9dC5oaT49MT8wOnRoaXMuYWNvc0xvKHQuaGkpLGk9dC5sbzw9LTE/dGhpcy5waUhpZ2g6dGhpcy5hY29zSGkodC5sbyksbmV3IHMoZSxpKSl9LGF0YW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6bmV3IHModGhpcy5hdGFuTG8odC5sbyksdGhpcy5hdGFuSGkodC5oaSkpfSxzaW5oOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzRW1wdHkodCk/dGhpcy5FTVBUWS5jbG9uZSgpOm5ldyBzKHRoaXMuc2luaExvKHQubG8pLHRoaXMuc2luaEhpKHQuaGkpKX0sY29zaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpP3RoaXMuRU1QVFkuY2xvbmUoKTp0LmhpPDA/bmV3IHModGhpcy5jb3NoTG8odC5oaSksdGhpcy5jb3NoSGkodC5sbykpOnQubG8+PTA/bmV3IHModGhpcy5jb3NoTG8odC5sbyksdGhpcy5jb3NoSGkodC5oaSkpOm5ldyBzKDEsdGhpcy5jb3NoSGkoLXQubG8+dC5oaT90LmxvOnQuaGkpKX0sdGFuaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpP3RoaXMuRU1QVFkuY2xvbmUoKTpuZXcgcyh0aGlzLnRhbmhMbyh0LmxvKSx0aGlzLnRhbmhIaSh0LmhpKSl9LGVxdWFsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KT90aGlzLmlzRW1wdHkoZSk6IXRoaXMuaXNFbXB0eShlKSYmdC5sbz09PWUubG8mJnQuaGk9PT1lLmhpfSxub3RFcXVhbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmlzRW1wdHkodCk/IXRoaXMuaXNFbXB0eShlKTp0aGlzLmlzRW1wdHkoZSl8fHQuaGk8ZS5sb3x8dC5sbz5lLmhpfSxsdDpmdW5jdGlvbih0LGUpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSxpLmlzTnVtYmVyKGUpJiYoZT10aGlzLkludGVydmFsKGUpKSwhdGhpcy5pc0VtcHR5KHQpJiYhdGhpcy5pc0VtcHR5KGUpJiZ0LmhpPGUubG99LGd0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLGkuaXNOdW1iZXIoZSkmJihlPXRoaXMuSW50ZXJ2YWwoZSkpLCF0aGlzLmlzRW1wdHkodCkmJiF0aGlzLmlzRW1wdHkoZSkmJnQubG8+ZS5oaX0sbGVxOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLGkuaXNOdW1iZXIoZSkmJihlPXRoaXMuSW50ZXJ2YWwoZSkpLCF0aGlzLmlzRW1wdHkodCkmJiF0aGlzLmlzRW1wdHkoZSkmJnQuaGk8PWUubG99LGdlcTpmdW5jdGlvbih0LGUpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSxpLmlzTnVtYmVyKGUpJiYoZT10aGlzLkludGVydmFsKGUpKSwhdGhpcy5pc0VtcHR5KHQpJiYhdGhpcy5pc0VtcHR5KGUpJiZ0LmxvPj1lLmhpfSxwaUxvdzozLjE0MTU5MjY1MzU4OTc5MyxwaUhpZ2g6My4xNDE1OTI2NTM1ODk3OTM2LHBpSGFsZkxvdzoxLjU3MDc5NjMyNjc5NDg5NjYscGlIYWxmSGlnaDoxLjU3MDc5NjMyNjc5NDg5NjgscGlUd2ljZUxvdzo2LjI4MzE4NTMwNzE3OTU4NixwaVR3aWNlSGlnaDo2LjI4MzE4NTMwNzE3OTU4NyxpZGVudGl0eTpmdW5jdGlvbih0KXtyZXR1cm4gdH0sX3ByZXY6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0xLzA/dDp0aGlzLm5leHRhZnRlcih0LC0xLzApfSxfbmV4dDpmdW5jdGlvbih0KXtyZXR1cm4gdD09PS0xLzA/dDp0aGlzLm5leHRhZnRlcih0LDEvMCl9LHByZXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3ByZXYodCl9LG5leHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX25leHQodCl9LHRvSW50ZWdlcjpmdW5jdGlvbih0KXtyZXR1cm4gdDwwP01hdGguY2VpbCh0KTpNYXRoLmZsb29yKHQpfSxhZGRMbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnByZXYodCtlKX0sYWRkSGk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5uZXh0KHQrZSl9LHN1YkxvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucHJldih0LWUpfSxzdWJIaTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm5leHQodC1lKX0sbXVsTG86ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wcmV2KHQqZSl9LG11bEhpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubmV4dCh0KmUpfSxkaXZMbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnByZXYodC9lKX0sZGl2SGk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5uZXh0KHQvZSl9LGludExvOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRvSW50ZWdlcih0aGlzLnByZXYodCkpfSxpbnRIaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50b0ludGVnZXIodGhpcy5uZXh0KHQpKX0sbG9nTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihNYXRoLmxvZyh0KSl9LGxvZ0hpOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5leHQoTWF0aC5sb2codCkpfSxleHBMbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KE1hdGguZXhwKHQpKX0sZXhwSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChNYXRoLmV4cCh0KSl9LHNpbkxvOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByZXYoTWF0aC5zaW4odCkpfSxzaW5IaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KE1hdGguc2luKHQpKX0sY29zTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihNYXRoLmNvcyh0KSl9LGNvc0hpOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5leHQoTWF0aC5jb3ModCkpfSx0YW5MbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KE1hdGgudGFuKHQpKX0sdGFuSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChNYXRoLnRhbih0KSl9LGFzaW5MbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KE1hdGguYXNpbih0KSl9LGFzaW5IaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KE1hdGguYXNpbih0KSl9LGFjb3NMbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KE1hdGguYWNvcyh0KSl9LGFjb3NIaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KE1hdGguYWNvcyh0KSl9LGF0YW5MbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KE1hdGguYXRhbih0KSl9LGF0YW5IaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KE1hdGguYXRhbih0KSl9LHNpbmhMbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KGUuc2luaCh0KSl9LHNpbmhIaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KGUuc2luaCh0KSl9LGNvc2hMbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KGUuY29zaCh0KSl9LGNvc2hIaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KGUuY29zaCh0KSl9LHRhbmhMbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KGUudGFuaCh0KSl9LHRhbmhIaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KGUudGFuaCh0KSl9LHNxcnRMbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KE1hdGguc3FydCh0KSl9LHNxcnRIaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KE1hdGguc3FydCh0KSl9LHBvd0xvOmZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoZSUxIT0wKXJldHVybiB0aGlzLnByZXYoTWF0aC5wb3codCxlKSk7Zm9yKGk9MT09KDEmZSk/dDoxLGU+Pj0xO2U+MDspdD10aGlzLm11bExvKHQsdCksMT09KDEmZSkmJihpPXRoaXMubXVsTG8odCxpKSksZT4+PTE7cmV0dXJuIGl9LHBvd0hpOmZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoZSUxIT0wKXJldHVybiB0aGlzLm5leHQoTWF0aC5wb3codCxlKSk7Zm9yKGk9MT09KDEmZSk/dDoxLGU+Pj0xO2U+MDspdD10aGlzLm11bEhpKHQsdCksMT09KDEmZSkmJihpPXRoaXMubXVsSGkodCxpKSksZT4+PTE7cmV0dXJuIGl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5wcmV2PXRoaXMuaWRlbnRpdHl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMucHJldj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcHJldih0KX0sdGhpcy5uZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9uZXh0KHQpfX0sU01BTExFU1RfREVOT1JNOk1hdGgucG93KDIsLTEwNzQpLFVJTlRfTUFYOi0xPj4+MCxuZXh0YWZ0ZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxzO3JldHVybiBpc05hTih0KXx8aXNOYU4oZSk/TmFOOnQ9PT1lP3Q6MD09PXQ/ZTwwPy10aGlzLlNNQUxMRVNUX0RFTk9STTp0aGlzLlNNQUxMRVNUX0RFTk9STToocz1yLmhpKHQpLGk9ci5sbyh0KSxlPnQ9PXQ+MD9pPT09dGhpcy5VSU5UX01BWD8ocys9MSxpPTApOmkrPTE6MD09PWk/KGk9dGhpcy5VSU5UX01BWCxzLT0xKTppLT0xLHIucGFjayhpLHMpKX19LHQuTWF0aC5JbnRlcnZhbEFyaXRobWV0aWMuUEk9bmV3IHMoZS5JbnRlcnZhbEFyaXRobWV0aWMucGlMb3csZS5JbnRlcnZhbEFyaXRobWV0aWMucGlIaWdoKSx0Lk1hdGguSW50ZXJ2YWxBcml0aG1ldGljLlBJX0hBTEY9bmV3IHMoZS5JbnRlcnZhbEFyaXRobWV0aWMucGlIYWxmTG93LGUuSW50ZXJ2YWxBcml0aG1ldGljLnBpSGFsZkhpZ2gpLHQuTWF0aC5JbnRlcnZhbEFyaXRobWV0aWMuUElfVFdJQ0U9bmV3IHMoZS5JbnRlcnZhbEFyaXRobWV0aWMucGlUd2ljZUxvdyxlLkludGVydmFsQXJpdGhtZXRpYy5waVR3aWNlSGlnaCksdC5NYXRoLkludGVydmFsQXJpdGhtZXRpYy5aRVJPPW5ldyBzKDApLHQuTWF0aC5JbnRlcnZhbEFyaXRobWV0aWMuT05FPW5ldyBzKDEpLHQuTWF0aC5JbnRlcnZhbEFyaXRobWV0aWMuV0hPTEU9KG5ldyBzKS5zZXRXaG9sZSgpLHQuTWF0aC5JbnRlcnZhbEFyaXRobWV0aWMuRU1QVFk9KG5ldyBzKS5zZXRFbXB0eSgpLHQuTWF0aC5JbnRlcnZhbEFyaXRobWV0aWN9KSksZGVmaW5lKFwibWF0aC9leHRyYXBvbGF0ZVwiLFtcIm1hdGgvbWF0aFwiXSwoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRXh0cmFwb2xhdGU9e3VwcGVyOjE1LGluZnR5OjFlNCx3eW5uRXBzOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhO2lmKGlbZV09dCwwPT09ZSlhPXQ7ZWxzZXtmb3Iobz0wLHI9ZTtyPjA7ci0tKXM9byxvPWlbci0xXSxuPWlbcl0tbyxNYXRoLmFicyhuKTw9MWUtMTU/aVtyLTFdPTFlMjA6KDEsaVtyLTFdPTEqcysxL24pO2E9aVtlJTJdfXJldHVybiBhfSxhaXRrZW46ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGEsaDtpZihpW2VdPXQsZTwyKXI9dDtlbHNle2ZvcihuPWUvMixhPTE7YTw9bjthKyspcz1pWyhoPWUtMiphKSsyXS0yKmlbaCsxXStpW2hdLE1hdGguYWJzKHMpPDFlLTE1P2lbaF09MWUyMDoobz1pW2hdLWlbaCsxXSxpW2hdLT1vKm8vcyk7cj1pW2UlMl19cmV0dXJuIHJ9LGJyZXppbnNraTpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG4sYSxoLGwsYztpZihpW2VdPXQsZTwzKXI9dDtlbHNle2ZvcihoPWUvMyxjPWUsbD0xO2w8PWg7bCsrKW89aVsoYy09MykrMV0taVtjXSxuPWlbYysyXS1pW2MrMV0scz0oYT1pW2MrM10taVtjKzJdKSoobi1vKS1vKihhLW4pLE1hdGguYWJzKHMpPDFlLTE1P2lbY109MWUyMDppW2NdPWlbYysxXS1vKm4qKGEtbikvcztyPWlbZSUzXX1yZXR1cm4gcn0saXRlcmF0aW9uOmZ1bmN0aW9uKHQsZSxpLHIscyl7dmFyIG8sbixhLGgsbD1OYU4sYz1bXSxkPVwiZmluaXRlXCIsdT1lO2ZvcihzPXN8fDAsbz0xO288PXRoaXMudXBwZXI7bysrKXtpZihuPWkodCsodT0wPT09cz9lLyhvKzEpOi41KnUpLCEwKSxhPXRoaXNbcl0obixvLTEsYyksaXNOYU4oYSkpe2Q9XCJOYU5cIjticmVha31pZigwIT09biYmYS9uPnRoaXMuaW5mdHkpe2w9YSxkPVwiaW5maW5pdGVcIjticmVha31pZihoPWEtbCxNYXRoLmFicyhoKTwxZS03KWJyZWFrO2w9YX1yZXR1cm5bbCxkLDEtKG8tMSkvdGhpcy51cHBlcl19LGxldmluOmZ1bmN0aW9uKHQsZSxpLHIscyxvKXt2YXIgbixhLGgsbDtpZihsPTEvKHIrZSksc1tlXT10L2ksb1tlXT0xL2ksZT4wJiYoc1tlLTFdPXNbZV0tc1tlLTFdLG9bZS0xXT1vW2VdLW9bZS0xXSxlPjEpKWZvcihoPShyK2UtMSkqbCxuPTI7bjw9ZTtuKyspYT0ocitlLW4pKk1hdGgucG93KGgsbi0yKSpsLHNbZS1uXT1zW2UtbisxXS1hKnNbZS1uXSxvW2Utbl09b1tlLW4rMV0tYSpvW2Utbl0sbCo9aDtyZXR1cm4gTWF0aC5hYnMob1swXSk8MWUtMTU/MWUyMDpzWzBdL29bMF19LGl0ZXJhdGlvbl9sZXZpbjpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvLG4sYSxoLGwsYyxkPU5hTix1PVtdLHA9W10sZj1cImZpbml0ZVwiLG09ZTtmb3Iocj1yfHwwLGE9aSh0K2UsITApLHM9MTtzPD10aGlzLnVwcGVyO3MrKyl7aWYoaD0obz1pKHQrKG09MD09PXI/ZS8ocysxKTouNSptKSwhMCkpLWEsYz1cInVcIj09PShNYXRoLmFicyhoKTwxP1widVwiOlwidFwiKT8oMStzKSpoOmgsYT1vLGw9KG49dGhpcy5sZXZpbihvLHMtMSxjLDEsdSxwKSktZCxpc05hTihuKSl7Zj1cIk5hTlwiO2JyZWFrfWlmKDAhPT1vJiZuL28+dGhpcy5pbmZ0eSl7ZD1uLGY9XCJpbmZpbml0ZVwiO2JyZWFrfWlmKE1hdGguYWJzKGwpPDFlLTcpYnJlYWs7ZD1ufXJldHVybltkLGYsMS0ocy0xKS90aGlzLnVwcGVyXX0sbGltaXQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLml0ZXJhdGlvbl9sZXZpbih0LGUsaSwwKX19LHQuRXh0cmFwb2xhdGV9KSksZGVmaW5lKFwibWF0aC9xZHRcIixbXCJtYXRoL21hdGhcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuUXVhZHRyZWU9ZnVuY3Rpb24odCl7dGhpcy5jYXBhY2l0eT0xMCx0aGlzLnBvaW50cz1bXSx0aGlzLnhsYj10WzBdLHRoaXMueHViPXRbMl0sdGhpcy55bGI9dFszXSx0aGlzLnl1Yj10WzFdLHRoaXMubm9ydGhXZXN0PW51bGwsdGhpcy5ub3J0aEVhc3Q9bnVsbCx0aGlzLnNvdXRoRWFzdD1udWxsLHRoaXMuc291dGhXZXN0PW51bGx9LGUuZXh0ZW5kKHQuUXVhZHRyZWUucHJvdG90eXBlLHtjb250YWluczpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnhsYjx0JiZ0PD10aGlzLnh1YiYmdGhpcy55bGI8ZSYmZTw9dGhpcy55dWJ9LGluc2VydDpmdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuY29udGFpbnModC51c3JDb29yZHNbMV0sdC51c3JDb29yZHNbMl0pJiYodGhpcy5wb2ludHMubGVuZ3RoPHRoaXMuY2FwYWNpdHk/KHRoaXMucG9pbnRzLnB1c2godCksITApOihudWxsPT09dGhpcy5ub3J0aFdlc3QmJnRoaXMuc3ViZGl2aWRlKCksISF0aGlzLm5vcnRoV2VzdC5pbnNlcnQodCl8fCghIXRoaXMubm9ydGhFYXN0Lmluc2VydCh0KXx8KCEhdGhpcy5zb3V0aEVhc3QuaW5zZXJ0KHQpfHwhIXRoaXMuc291dGhXZXN0Lmluc2VydCh0KSkpKSl9LHN1YmRpdmlkZTpmdW5jdGlvbigpe3ZhciBlLGk9dGhpcy5wb2ludHMubGVuZ3RoLHI9dGhpcy54bGIrKHRoaXMueHViLXRoaXMueGxiKS8yLHM9dGhpcy55bGIrKHRoaXMueXViLXRoaXMueWxiKS8yO2Zvcih0aGlzLm5vcnRoV2VzdD1uZXcgdC5RdWFkdHJlZShbdGhpcy54bGIsdGhpcy55dWIscixzXSksdGhpcy5ub3J0aEVhc3Q9bmV3IHQuUXVhZHRyZWUoW3IsdGhpcy55dWIsdGhpcy54dWIsc10pLHRoaXMuc291dGhFYXN0PW5ldyB0LlF1YWR0cmVlKFt0aGlzLnhsYixzLHIsdGhpcy55bGJdKSx0aGlzLnNvdXRoV2VzdD1uZXcgdC5RdWFkdHJlZShbcixzLHRoaXMueHViLHRoaXMueWxiXSksZT0wO2U8aTtlKz0xKXRoaXMubm9ydGhXZXN0Lmluc2VydCh0aGlzLnBvaW50c1tlXSksdGhpcy5ub3J0aEVhc3QuaW5zZXJ0KHRoaXMucG9pbnRzW2VdKSx0aGlzLnNvdXRoRWFzdC5pbnNlcnQodGhpcy5wb2ludHNbZV0pLHRoaXMuc291dGhXZXN0Lmluc2VydCh0aGlzLnBvaW50c1tlXSl9LF9xdWVyeTpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKHRoaXMuY29udGFpbnModCxlKSl7aWYobnVsbD09PXRoaXMubm9ydGhXZXN0KXJldHVybiB0aGlzO2lmKGk9dGhpcy5ub3J0aFdlc3QuX3F1ZXJ5KHQsZSkpcmV0dXJuIGk7aWYoaT10aGlzLm5vcnRoRWFzdC5fcXVlcnkodCxlKSlyZXR1cm4gaTtpZihpPXRoaXMuc291dGhFYXN0Ll9xdWVyeSh0LGUpKXJldHVybiBpO2lmKGk9dGhpcy5zb3V0aFdlc3QuX3F1ZXJ5KHQsZSkpcmV0dXJuIGl9cmV0dXJuITF9LHF1ZXJ5OmZ1bmN0aW9uKHQsaSl7dmFyIHIscztyZXR1cm4gZS5leGlzdHMoaSk/KHI9dCxzPWkpOihyPXQudXNyQ29vcmRzWzFdLHM9dC51c3JDb29yZHNbMl0pLHRoaXMuX3F1ZXJ5KHIscyl9fSksdC5RdWFkdHJlZX0pKSxkZWZpbmUoXCJtYXRoL251bWVyaWNzXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy9lbnZcIixcIm1hdGgvbWF0aFwiXSwoZnVuY3Rpb24odCxlLGkscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9e3JrNDp7czo0LEE6W1swLDAsMCwwXSxbLjUsMCwwLDBdLFswLC41LDAsMF0sWzAsMCwxLDBdXSxiOlsxLzYsMS8zLDEvMywxLzZdLGM6WzAsLjUsLjUsMV19LGhldW46e3M6MixBOltbMCwwXSxbMSwwXV0sYjpbLjUsLjVdLGM6WzAsMV19LGV1bGVyOntzOjEsQTpbWzBdXSxiOlsxXSxjOlswXX19O3JldHVybiByLk51bWVyaWNzPXtHYXVzczpmdW5jdGlvbih0LGkpe3ZhciBzLG8sbixhLGgsbD1yLmVwcyxjPXQubGVuZ3RoPjA/dFswXS5sZW5ndGg6MDtpZihjIT09aS5sZW5ndGh8fGMhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKWEcuTWF0aC5OdW1lcmljcy5HYXVzczogRGltZW5zaW9ucyBkb24ndCBtYXRjaC4gQSBtdXN0IGJlIGEgc3F1YXJlIG1hdHJpeCBhbmQgYiBtdXN0IGJlIG9mIHRoZSBzYW1lIGxlbmd0aCBhcyBBLlwiKTtmb3IoYT1bXSxoPWkuc2xpY2UoMCxjKSxzPTA7czxjO3MrKylhW3NdPXRbc10uc2xpY2UoMCxjKTtmb3Iobz0wO288YztvKyspe2ZvcihzPWMtMTtzPm87cy0tKWlmKE1hdGguYWJzKGFbc11bb10pPmwpaWYoTWF0aC5hYnMoYVtvXVtvXSk8bCllLnN3YXAoYSxzLG8pLGUuc3dhcChoLHMsbyk7ZWxzZSBmb3IoYVtzXVtvXS89YVtvXVtvXSxoW3NdLT1hW3NdW29dKmhbb10sbj1vKzE7bjxjO24rKylhW3NdW25dLT1hW3NdW29dKmFbb11bbl07aWYoTWF0aC5hYnMoYVtvXVtvXSk8bCl0aHJvdyBuZXcgRXJyb3IoXCJKWEcuTWF0aC5OdW1lcmljcy5HYXVzcygpOiBUaGUgZ2l2ZW4gbWF0cml4IHNlZW1zIHRvIGJlIHNpbmd1bGFyLlwiKX1yZXR1cm4gdGhpcy5iYWNrd2FyZFNvbHZlKGEsaCwhMCksaH0sYmFja3dhcmRTb2x2ZTpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG4sYTtmb3Iocj1pP2U6ZS5zbGljZSgwLGUubGVuZ3RoKSxzPXQubGVuZ3RoLG89dC5sZW5ndGg+MD90WzBdLmxlbmd0aDowLG49cy0xO24+PTA7bi0tKXtmb3IoYT1vLTE7YT5uO2EtLSlyW25dLT10W25dW2FdKnJbYV07cltuXS89dFtuXVtuXX1yZXR1cm4gcn0sZ2F1c3NCYXJlaXNzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxvLG4sYSxoLGwsYyxkPXIuZXBzO2lmKChoPXQubGVuZ3RoKTw9MClyZXR1cm4gMDtmb3IodFswXS5sZW5ndGg8aCYmKGg9dFswXS5sZW5ndGgpLGw9W10sbz0wO288aDtvKyspbFtvXT10W29dLnNsaWNlKDAsaCk7Zm9yKGk9MSxzPTEsZT0wO2U8aC0xO2UrKyl7aWYoYT1sW2VdW2VdLE1hdGguYWJzKGEpPGQpe2ZvcihvPWUrMTtvPGgmJiEoTWF0aC5hYnMobFtvXVtlXSk+PWQpO28rKyk7aWYobz09PWgpcmV0dXJuIDA7Zm9yKG49ZTtuPGg7bisrKWM9bFtvXVtuXSxsW29dW25dPWxbZV1bbl0sbFtlXVtuXT1jO3M9LXMsYT1sW2VdW2VdfWZvcihvPWUrMTtvPGg7bysrKWZvcihuPWUrMTtuPGg7bisrKWM9YSpsW29dW25dLWxbb11bZV0qbFtlXVtuXSxsW29dW25dPWMvaTtpPWF9cmV0dXJuIHMqbFtoLTFdW2gtMV19LGRldDpmdW5jdGlvbih0KXtyZXR1cm4gMj09PXQubGVuZ3RoJiYyPT09dFswXS5sZW5ndGg/dFswXVswXSp0WzFdWzFdLXRbMV1bMF0qdFswXVsxXTp0aGlzLmdhdXNzQmFyZWlzcyh0KX0sSmFjb2JpOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxvLG4sYSxoLGwsYyxkPXIuZXBzKnIuZXBzLHU9MCxwPXQubGVuZ3RoLGY9W1swLDAsMF0sWzAsMCwwXSxbMCwwLDBdXSxtPVtbMCwwLDBdLFswLDAsMF0sWzAsMCwwXV0sZz0wO2ZvcihlPTA7ZTxwO2UrKyl7Zm9yKGk9MDtpPHA7aSsrKWZbZV1baV09MCxtW2VdW2ldPXRbZV1baV0sdSs9TWF0aC5hYnMobVtlXVtpXSk7ZltlXVtlXT0xfWlmKDE9PT1wKXJldHVyblttLGZdO2lmKHU8PTApcmV0dXJuW20sZl07dS89cCpwO2Rve2ZvcihsPTAsYz0wLGk9MTtpPHA7aSsrKWZvcihlPTA7ZTxpO2UrKylpZigobz1NYXRoLmFicyhtW2VdW2ldKSk+YyYmKGM9byksbCs9byxvPj1kKXtmb3Iobz0uNSpNYXRoLmF0YW4yKDIqbVtlXVtpXSxtW2VdW2VdLW1baV1baV0pLG49TWF0aC5zaW4obyksYT1NYXRoLmNvcyhvKSxzPTA7czxwO3MrKyloPW1bc11bZV0sbVtzXVtlXT1hKmgrbiptW3NdW2ldLG1bc11baV09LW4qaCthKm1bc11baV0saD1mW3NdW2VdLGZbc11bZV09YSpoK24qZltzXVtpXSxmW3NdW2ldPS1uKmgrYSpmW3NdW2ldO2ZvcihtW2VdW2VdPWEqbVtlXVtlXStuKm1baV1bZV0sbVtpXVtpXT0tbiptW2VdW2ldK2EqbVtpXVtpXSxtW2VdW2ldPTAscz0wO3M8cDtzKyspbVtlXVtzXT1tW3NdW2VdLG1baV1bc109bVtzXVtpXX1nKz0xfXdoaWxlKE1hdGguYWJzKGwpL3U+ZCYmZzwyZTMpO3JldHVyblttLGZdfSxOZXd0b25Db3RlczpmdW5jdGlvbih0LGkscil7dmFyIHMsbyxuLGE9MCxoPXImJmUuaXNOdW1iZXIoci5udW1iZXJfb2Zfbm9kZXMpP3IubnVtYmVyX29mX25vZGVzOjI4LGw9e3RyYXBlejohMCxzaW1wc29uOiEwLG1pbG5lOiEwfSxjPXImJnIuaW50ZWdyYXRpb25fdHlwZSYmbC5oYXNPd25Qcm9wZXJ0eShyLmludGVncmF0aW9uX3R5cGUpJiZsW3IuaW50ZWdyYXRpb25fdHlwZV0/ci5pbnRlZ3JhdGlvbl90eXBlOlwibWlsbmVcIixkPSh0WzFdLXRbMF0pL2g7c3dpdGNoKGMpe2Nhc2VcInRyYXBlelwiOmZvcihhPS41KihpKHRbMF0pK2kodFsxXSkpLHM9dFswXSxvPTA7bzxoLTE7bysrKWErPWkocys9ZCk7YSo9ZDticmVhaztjYXNlXCJzaW1wc29uXCI6aWYoaCUyPjApdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6ICBJTlRfU0lNUFNPTiByZXF1aXJlcyBjb25maWcubnVtYmVyX29mX25vZGVzIGRpdmlkYWJsZSBieSAyLlwiKTtmb3Iobj1oLzIsYT1pKHRbMF0pK2kodFsxXSkscz10WzBdLG89MDtvPG4tMTtvKyspYSs9MippKHMrPTIqZCk7Zm9yKHM9dFswXS1kLG89MDtvPG47bysrKWErPTQqaShzKz0yKmQpO2EqPWQvMzticmVhaztkZWZhdWx0OmlmKGglND4wKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBFcnJvciBpbiBJTlRfTUlMTkU6IGNvbmZpZy5udW1iZXJfb2Zfbm9kZXMgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDRcIik7Zm9yKG49LjI1KmgsYT03KihpKHRbMF0pK2kodFsxXSkpLHM9dFswXSxvPTA7bzxuLTE7bysrKWErPTE0Kmkocys9NCpkKTtmb3Iocz10WzBdLTMqZCxvPTA7bzxuO28rKylhKz0zMiooaShzKz00KmQpK2kocysyKmQpKTtmb3Iocz10WzBdLTIqZCxvPTA7bzxuO28rKylhKz0xMippKHMrPTQqZCk7YSo9MipkLzQ1fXJldHVybiBhfSxSb21iZXJnOmZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG4sYSxoLGwsYyxkLHU9W10scD0wLGY9MS8wLG09ciYmZS5pc051bWJlcihyLm1heF9pdGVyYXRpb25zKT9yLm1heF9pdGVyYXRpb25zOjIwLGc9ciYmZS5pc051bWJlcihyLmVwcyk/ci5lcHM6ci5lcHN8fDFlLTc7Zm9yKHM9dFswXSxuPShvPXRbMV0pLXMsaD0xLHVbMF09LjUqbiooaShzKStpKG8pKSxsPTA7bDxtOysrbCl7Zm9yKGE9MCxuKj0uNSxoKj0yLGQ9MSxjPTE7YzxoO2MrPTIpYSs9aShzK2Mqbik7Zm9yKHVbbCsxXT0uNSp1W2xdK2EqbixwPXVbbCsxXSxjPWwtMTtjPj0wOy0tYylkKj00LHVbY109dVtjKzFdKyh1W2MrMV0tdVtjXSkvKGQtMSkscD11W2NdO2lmKE1hdGguYWJzKHAtZik8ZypNYXRoLmFicyhwKSlicmVhaztmPXB9cmV0dXJuIHB9LEdhdXNzTGVnZW5kcmU6ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbixhLGgsbCxjLGQsdT0wLHA9W10sZj1bXSxtPXImJmUuaXNOdW1iZXIoci5uKT9yLm46MTI7aWYobT4xOCYmKG09MTgpLHBbMl09Wy41NzczNTAyNjkxODk2MjU3XSxmWzJdPVsxXSxwWzRdPVsuMzM5OTgxMDQzNTg0ODU2MjYsLjg2MTEzNjMxMTU5NDA1MjZdLGZbNF09Wy42NTIxNDUxNTQ4NjI1NDYxLC4zNDc4NTQ4NDUxMzc0NTM4NV0scFs2XT1bLjIzODYxOTE4NjA4MzE5NjksLjY2MTIwOTM4NjQ2NjI2NDUsLjkzMjQ2OTUxNDIwMzE1Ml0sZls2XT1bLjQ2NzkxMzkzNDU3MjY5MTA0LC4zNjA3NjE1NzMwNDgxMzg2LC4xNzEzMjQ0OTIzNzkxNzAzNl0scFs4XT1bLjE4MzQzNDY0MjQ5NTY0OTgsLjUyNTUzMjQwOTkxNjMyOSwuNzk2NjY2NDc3NDEzNjI2NywuOTYwMjg5ODU2NDk3NTM2M10sZls4XT1bLjM2MjY4Mzc4MzM3ODM2MiwuMzEzNzA2NjQ1ODc3ODg3MjcsLjIyMjM4MTAzNDQ1MzM3NDQ4LC4xMDEyMjg1MzYyOTAzNzYyNl0scFsxMF09Wy4xNDg4NzQzMzg5ODE2MzEyMiwuNDMzMzk1Mzk0MTI5MjQ3MiwuNjc5NDA5NTY4Mjk5MDI0NCwuODY1MDYzMzY2Njg4OTg0NSwuOTczOTA2NTI4NTE3MTcxN10sZlsxMF09Wy4yOTU1MjQyMjQ3MTQ3NTI4NywuMjY5MjY2NzE5MzA5OTk2MzUsLjIxOTA4NjM2MjUxNTk4MjA0LC4xNDk0NTEzNDkxNTA1ODA2LC4wNjY2NzEzNDQzMDg2ODgxNF0scFsxMl09Wy4xMjUyMzM0MDg1MTE0Njg5LC4zNjc4MzE0OTg5OTgxODAyLC41ODczMTc5NTQyODY2MTc1LC43Njk5MDI2NzQxOTQzMDQ3LC45MDQxMTcyNTYzNzA0NzQ5LC45ODE1NjA2MzQyNDY3MTkyXSxmWzEyXT1bLjI0OTE0NzA0NTgxMzQwMjc3LC4yMzM0OTI1MzY1MzgzNTQ4LC4yMDMxNjc0MjY3MjMwNjU5MiwuMTYwMDc4MzI4NTQzMzQ2MjIsLjEwNjkzOTMyNTk5NTMxODQzLC4wNDcxNzUzMzYzODY1MTE4M10scFsxNF09Wy4xMDgwNTQ5NDg3MDczNDM2NywuMzE5MTEyMzY4OTI3ODg5NzQsLjUxNTI0ODYzNjM1ODE1NDEsLjY4NzI5MjkwNDgxMTY4NTUsLjgyNzIwMTMxNTA2OTc2NSwuOTI4NDM0ODgzNjYzNTczNSwuOTg2MjgzODA4Njk2ODEyM10sZlsxNF09Wy4yMTUyNjM4NTM0NjMxNTc4LC4yMDUxOTg0NjM3MjEyOTU2LC4xODU1MzgzOTc0Nzc5Mzc4MiwuMTU3MjAzMTY3MTU4MTkzNTUsLjEyMTUxODU3MDY4NzkwMzE5LC4wODAxNTgwODcxNTk3NjAyMSwuMDM1MTE5NDYwMzMxNzUxODZdLHBbMTZdPVsuMDk1MDEyNTA5ODM3NjM3NDQsLjI4MTYwMzU1MDc3OTI1ODksLjQ1ODAxNjc3NzY1NzIyNzM3LC42MTc4NzYyNDQ0MDI2NDM4LC43NTU0MDQ0MDgzNTUwMDMsLjg2NTYzMTIwMjM4NzgzMTgsLjk0NDU3NTAyMzA3MzIzMjYsLjk4OTQwMDkzNDk5MTY0OTldLGZbMTZdPVsuMTg5NDUwNjEwNDU1MDY4NSwuMTgyNjAzNDE1MDQ0OTIzNTgsLjE2OTE1NjUxOTM5NTAwMjU0LC4xNDk1OTU5ODg4MTY1NzY3NCwuMTI0NjI4OTcxMjU1NTMzODgsLjA5NTE1ODUxMTY4MjQ5Mjc5LC4wNjIyNTM1MjM5Mzg2NDc4OTQsLjAyNzE1MjQ1OTQxMTc1NDA5Nl0scFsxOF09Wy4wODQ3NzUwMTMwNDE3MzUzLC4yNTE4ODYyMjU2OTE1MDU1LC40MTE3NTExNjE0NjI4NDI2MywuNTU5NzcwODMxMDczOTQ3NSwuNjkxNjg3MDQzMDYwMzUzMiwuODAzNzA0OTU4OTcyNTIzMSwuODkyNjAyNDY2NDk3NTU1NywuOTU1ODIzOTQ5NTcxMzk3NywuOTkxNTY1MTY4NDIwOTMwOV0sZlsxOF09Wy4xNjkxNDIzODI5NjMxNDM2LC4xNjQyNzY0ODM3NDU4MzI3MywuMTU0Njg0Njc1MTI2MjY1MjQsLjE0MDY0MjkxNDY3MDY1MDY1LC4xMjI1NTUyMDY3MTE0Nzg0NiwuMTAwOTQyMDQ0MTA2Mjg3MTcsLjA3NjQyNTczMDI1NDg4OTA1LC4wNDk3MTQ1NDg4OTQ5Njk4LC4wMjE2MTYwMTM1MjY0ODMzMV0scFszXT1bMCwuNzc0NTk2NjY5MjQxNDgzNF0sZlszXT1bLjg4ODg4ODg4ODg4ODg4ODgsLjU1NTU1NTU1NTU1NTU1NTZdLHBbNV09WzAsLjUzODQ2OTMxMDEwNTY4MzEsLjkwNjE3OTg0NTkzODY2NF0sZls1XT1bLjU2ODg4ODg4ODg4ODg4ODksLjQ3ODYyODY3MDQ5OTM2NjQ3LC4yMzY5MjY4ODUwNTYxODkwOF0scFs3XT1bMCwuNDA1ODQ1MTUxMzc3Mzk3MiwuNzQxNTMxMTg1NTk5Mzk0NSwuOTQ5MTA3OTEyMzQyNzU4NV0sZls3XT1bLjQxNzk1OTE4MzY3MzQ2OTQsLjM4MTgzMDA1MDUwNTExODksLjI3OTcwNTM5MTQ4OTI3NjY0LC4xMjk0ODQ5NjYxNjg4Njk3XSxwWzldPVswLC4zMjQyNTM0MjM0MDM4MDg5LC42MTMzNzE0MzI3MDA1OTA0LC44MzYwMzExMDczMjY2MzU4LC45NjgxNjAyMzk1MDc2MjYxXSxmWzldPVsuMzMwMjM5MzU1MDAxMjU5OCwuMzEyMzQ3MDc3MDQwMDAyODYsLjI2MDYxMDY5NjQwMjkzNTQ0LC4xODA2NDgxNjA2OTQ4NTc0LC4wODEyNzQzODgzNjE1NzQ0MV0scFsxMV09WzAsLjI2OTU0MzE1NTk1MjM0NDk2LC41MTkwOTYxMjkyMDY4MTE4LC43MzAxNTIwMDU1NzQwNDk0LC44ODcwNjI1OTk3NjgwOTUzLC45NzgyMjg2NTgxNDYwNTddLGZbMTFdPVsuMjcyOTI1MDg2Nzc3OTAwNiwuMjYyODA0NTQ0NTEwMjQ2NjUsLjIzMzE5Mzc2NDU5MTk5MDQ4LC4xODYyOTAyMTA5Mjc3MzQyNiwuMTI1NTgwMzY5NDY0OTA0NiwuMDU1NjY4NTY3MTE2MTczNjZdLHBbMTNdPVswLC4yMzA0NTgzMTU5NTUxMzQ4LC40NDg0OTI3NTEwMzY0NDY4NywuNjQyMzQ5MzM5NDQwMzQwMiwuODAxNTc4MDkwNzMzMzA5OSwuOTE3NTk4Mzk5MjIyOTc3OSwuOTg0MTgzMDU0NzE4NTg4MV0sZlsxM109Wy4yMzI1NTE1NTMyMzA4NzM5LC4yMjYyODMxODAyNjI4OTcyMywuMjA3ODE2MDQ3NTM2ODg4NSwuMTc4MTQ1OTgwNzYxOTQ1NzQsLjEzODg3MzUxMDIxOTc4NzI1LC4wOTIxMjE0OTk4Mzc3Mjg0NSwuMDQwNDg0MDA0NzY1MzE1ODhdLHBbMTVdPVswLC4yMDExOTQwOTM5OTc0MzQ1MSwuMzk0MTUxMzQ3MDc3NTYzNCwuNTcwOTcyMTcyNjA4NTM4OCwuNzI0NDE3NzMxMzYwMTcwMSwuODQ4MjA2NTgzNDEwNDI3MiwuOTM3MjczMzkyNDAwNzA2LC45ODc5OTI1MTgwMjA0ODU0XSxmWzE1XT1bLjIwMjU3ODI0MTkyNTU2MTMsLjE5ODQzMTQ4NTMyNzExMTU4LC4xODYxNjEwMDAwMTU1NjIyLC4xNjYyNjkyMDU4MTY5OTM5MiwuMTM5NTcwNjc3OTI2MTU0MzIsLjEwNzE1OTIyMDQ2NzE3MTk0LC4wNzAzNjYwNDc0ODgxMDgxMiwuMDMwNzUzMjQxOTk2MTE3MjddLHBbMTddPVswLC4xNzg0ODQxODE0OTU4NDc4NSwuMzUxMjMxNzYzNDUzODc2MywuNTEyNjkwNTM3MDg2NDc2OSwuNjU3NjcxMTU5MjE2NjkwNywuNzgxNTE0MDAzODk2ODAxNCwuODgwMjM5MTUzNzI2OTg1OSwuOTUwNjc1NTIxNzY4NzY3OCwuOTkwNTc1NDc1MzE0NDE3NF0sZlsxN109Wy4xNzk0NDY0NzAzNTYyMDY1MywuMTc2NTYyNzA1MzY2OTkyNjQsLjE2ODAwNDEwMjE1NjQ1MDA0LC4xNTQwNDU3NjEwNzY4MTAyOCwuMTM1MTM2MzY4NDY4NTI1NDgsLjExMTg4Mzg0NzE5MzQwMzk3LC4wODUwMzYxNDgzMTcxNzkxOCwuMDU1NDU5NTI5MzczOTg3MiwuMDI0MTQ4MzAyODY4NTQ3OTNdLHM9dFswXSxvPXRbMV0sYT1tKzE+PjEsYz1wW21dLGQ9ZlttXSxsPS41KihvLXMpLGg9LjUqKG8rcyksITAmbSlmb3IodT1kWzBdKmkoaCksbj0xO248YTsrK24pdSs9ZFtuXSooaShoK2wqY1tuXSkraShoLWwqY1tuXSkpO2Vsc2UgZm9yKHU9MCxuPTA7bjxhOysrbil1Kz1kW25dKihpKGgrbCpjW25dKStpKGgtbCpjW25dKSk7cmV0dXJuIGwqdX0sX3Jlc2NhbGVfZXJyb3I6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbz0yMjIwNDQ2MDQ5MjUwMzEzZS0zMTtyZXR1cm4gdD1NYXRoLmFicyh0KSwwIT09aSYmMCE9PXQmJih0PShyPU1hdGgucG93KDIwMCp0L2ksMS41KSk8MT9pKnI6aSksZT4yMDA0MTY4MzYwMDA4OTcyOGUtMzEwJiYocz01MCpvKmUpPnQmJih0PXMpLHR9LF9nYXVzc0tyb25yb2Q6ZnVuY3Rpb24odCxlLGkscixzLG8sbil7dmFyIGEsaCxsLGMsZCx1LHAsZixtLGcsYix2PXRbMF0seT10WzFdLEM9LjUqKHYreSksXz0uNSooeS12KSxQPU1hdGguYWJzKF8pLEU9ZShDKSx4PTAsUz1FKm9baS0xXSxPPU1hdGguYWJzKFMpLHc9MCxUPVtdLE49W107Zm9yKGklMj09MCYmKHg9RSpzW2kvMi0xXSksYT1NYXRoLmZsb29yKChpLTEpLzIpLGQ9MDtkPGE7ZCsrKWc9KGY9ZShDLShwPV8qclt1PTIqZCsxXSkpKSsobT1lKEMrcCkpLFRbdV09ZixOW3VdPW0seCs9c1tkXSpnLFMrPW9bdV0qZyxPKz1vW3VdKihNYXRoLmFicyhmKStNYXRoLmFicyhtKSk7Zm9yKGE9TWF0aC5mbG9vcihpLzIpLGQ9MDtkPGE7ZCsrKWY9ZShDLShwPV8qcltiPTIqZF0pKSxtPWUoQytwKSxUW2JdPWYsTltiXT1tLFMrPW9bYl0qKGYrbSksTys9b1tiXSooTWF0aC5hYnMoZikrTWF0aC5hYnMobSkpO2ZvcihsPS41KlMsdz1vW2ktMV0qTWF0aC5hYnMoRS1sKSxkPTA7ZDxpLTE7ZCsrKXcrPW9bZF0qKE1hdGguYWJzKFRbZF0tbCkrTWF0aC5hYnMoTltkXS1sKSk7cmV0dXJuIGM9KFMteCkqXyxPKj1QLHcqPVAsaD1TKj1fLG4uYWJzZXJyPXRoaXMuX3Jlc2NhbGVfZXJyb3IoYyxPLHcpLG4ucmVzYWJzPU8sbi5yZXNhc2M9dyxofSxHYXVzc0tyb25yb2QxNTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2dhdXNzS3JvbnJvZCh0LGUsOCxbLjk5MTQ1NTM3MTEyMDgxMjYsLjk0OTEwNzkxMjM0Mjc1ODUsLjg2NDg2NDQyMzM1OTc2OTEsLjc0MTUzMTE4NTU5OTM5NDUsLjU4NjA4NzIzNTQ2NzY5MTEsLjQwNTg0NTE1MTM3NzM5NzIsLjIwNzc4NDk1NTAwNzg5ODQ4LDBdLFsuMTI5NDg0OTY2MTY4ODY5NywuMjc5NzA1MzkxNDg5Mjc2NjQsLjM4MTgzMDA1MDUwNTExODksLjQxNzk1OTE4MzY3MzQ2OTRdLFsuMDIyOTM1MzIyMDEwNTI5MjI0LC4wNjMwOTIwOTI2Mjk5Nzg1NiwuMTA0NzkwMDEwMzIyMjUwMTksLjE0MDY1MzI1OTcxNTUyNTkyLC4xNjkwMDQ3MjY2MzkyNjc5LC4xOTAzNTA1NzgwNjQ3ODU0MiwuMjA0NDMyOTQwMDc1Mjk4ODksLjIwOTQ4MjE0MTA4NDcyNzgyXSxpKX0sR2F1c3NLcm9ucm9kMjE6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9nYXVzc0tyb25yb2QodCxlLDExLFsuOTk1NjU3MTYzMDI1ODA4MSwuOTczOTA2NTI4NTE3MTcxNywuOTMwMTU3NDkxMzU1NzA4MiwuODY1MDYzMzY2Njg4OTg0NSwuNzgwODE3NzI2NTg2NDE2OSwuNjc5NDA5NTY4Mjk5MDI0NCwuNTYyNzU3MTM0NjY4NjA0NywuNDMzMzk1Mzk0MTI5MjQ3MiwuMjk0MzkyODYyNzAxNDYwMiwuMTQ4ODc0MzM4OTgxNjMxMjIsMF0sWy4wNjY2NzEzNDQzMDg2ODgxNCwuMTQ5NDUxMzQ5MTUwNTgwNiwuMjE5MDg2MzYyNTE1OTgyMDQsLjI2OTI2NjcxOTMwOTk5NjM1LC4yOTU1MjQyMjQ3MTQ3NTI4N10sWy4wMTE2OTQ2Mzg4NjczNzE4NzQsLjAzMjU1ODE2MjMwNzk2NDcyNSwuMDU0NzU1ODk2NTc0MzUxOTk1LC4wNzUwMzk2NzQ4MTA5MTk5NiwuMDkzMTI1NDU0NTgzNjk3NiwuMTA5Mzg3MTU4ODAyMjk3NjQsLjEyMzQ5MTk3NjI2MjA2NTg0LC4xMzQ3MDkyMTczMTE0NzMzNCwuMTQyNzc1OTM4NTc3MDYwMDksLjE0NzczOTEwNDkwMTMzODQ5LC4xNDk0NDU1NTQwMDI5MTY5XSxpKX0sR2F1c3NLcm9ucm9kMzE6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9nYXVzc0tyb25yb2QodCxlLDE2LFsuOTk4MDAyMjk4NjkzMzk3MSwuOTg3OTkyNTE4MDIwNDg1NCwuOTY3NzM5MDc1Njc5MTM5MSwuOTM3MjczMzkyNDAwNzA2LC44OTcyNjQ1MzIzNDQwODE5LC44NDgyMDY1ODM0MTA0MjcyLC43OTA0MTg1MDE0NDI0NjYsLjcyNDQxNzczMTM2MDE3MDEsLjY1MDk5Njc0MTI5NzQxNywuNTcwOTcyMTcyNjA4NTM4OCwuNDg1MDgxODYzNjQwMjM5NywuMzk0MTUxMzQ3MDc3NTYzNCwuMjk5MTgwMDA3MTUzMTY4ODQsLjIwMTE5NDA5Mzk5NzQzNDUxLC4xMDExNDIwNjY5MTg3MTc1LDBdLFsuMDMwNzUzMjQxOTk2MTE3MjcsLjA3MDM2NjA0NzQ4ODEwODEyLC4xMDcxNTkyMjA0NjcxNzE5NCwuMTM5NTcwNjc3OTI2MTU0MzIsLjE2NjI2OTIwNTgxNjk5MzkyLC4xODYxNjEwMDAwMTU1NjIyLC4xOTg0MzE0ODUzMjcxMTE1OCwuMjAyNTc4MjQxOTI1NTYxM10sWy4wMDUzNzc0Nzk4NzI5MjMzNDksLjAxNTAwNzk0NzMyOTMxNjEyMiwuMDI1NDYwODQ3MzI2NzE1MzIsLjAzNTM0NjM2MDc5MTM3NTg1LC4wNDQ1ODk3NTEzMjQ3NjQ4OCwuMDUzNDgxNTI0NjkwOTI4MDksLjA2MjAwOTU2NzgwMDY3MDY0LC4wNjk4NTQxMjEzMTg3MjgyNiwuMDc2ODQ5NjgwNzU3NzIwMzgsLjA4MzA4MDUwMjgyMzEzMzAyLC4wODg1NjQ0NDMwNTYyMTE3NiwuMDkzMTI2NTk4MTcwODI1MzIsLjA5NjY0MjcyNjk4MzYyMzY4LC4wOTkxNzM1OTg3MjE3OTE5NiwuMTAwNzY5ODQ1NTIzODc1NTksLjEwMTMzMDAwNzAxNDc5MTU0XSxpKX0sX3dvcmtzcGFjZTpmdW5jdGlvbih0LGUpe3JldHVybntsaW1pdDplLHNpemU6MCxucm1heDowLGk6MCxhbGlzdDpbdFswXV0sYmxpc3Q6W3RbMV1dLHJsaXN0OlswXSxlbGlzdDpbMF0sb3JkZXI6WzBdLGxldmVsOlswXSxxcHNydDpmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbz10aGlzLnNpemUtMSxuPXRoaXMubGltaXQsYT10aGlzLm5ybWF4LGg9dGhpcy5vcmRlclthXTtpZihvPDIpcmV0dXJuIHRoaXMub3JkZXJbMF09MCx0aGlzLm9yZGVyWzFdPTEsdm9pZCh0aGlzLmk9aCk7Zm9yKHQ9dGhpcy5lbGlzdFtoXTthPjAmJnQ+dGhpcy5lbGlzdFt0aGlzLm9yZGVyW2EtMV1dOyl0aGlzLm9yZGVyW2FdPXRoaXMub3JkZXJbYS0xXSxhLS07Zm9yKHM9bzxuLzIrMj9vOm4tbysxLGk9YSsxO2k8cyYmdDx0aGlzLmVsaXN0W3RoaXMub3JkZXJbaV1dOyl0aGlzLm9yZGVyW2ktMV09dGhpcy5vcmRlcltpXSxpKys7Zm9yKHRoaXMub3JkZXJbaS0xXT1oLGU9dGhpcy5lbGlzdFtvXSxyPXMtMTtyPmktMiYmZT49dGhpcy5lbGlzdFt0aGlzLm9yZGVyW3JdXTspdGhpcy5vcmRlcltyKzFdPXRoaXMub3JkZXJbcl0sci0tO3RoaXMub3JkZXJbcisxXT1vLGg9dGhpcy5vcmRlclthXSx0aGlzLmk9aCx0aGlzLm5ybWF4PWF9LHNldF9pbml0aWFsX3Jlc3VsdDpmdW5jdGlvbih0LGUpe3RoaXMuc2l6ZT0xLHRoaXMucmxpc3RbMF09dCx0aGlzLmVsaXN0WzBdPWV9LHVwZGF0ZTpmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEpe3ZhciBoPXRoaXMuaSxsPXRoaXMuc2l6ZSxjPXRoaXMubGV2ZWxbdGhpcy5pXSsxO2E+cj8odGhpcy5hbGlzdFtoXT1zLHRoaXMucmxpc3RbaF09bix0aGlzLmVsaXN0W2hdPWEsdGhpcy5sZXZlbFtoXT1jLHRoaXMuYWxpc3RbbF09dCx0aGlzLmJsaXN0W2xdPWUsdGhpcy5ybGlzdFtsXT1pLHRoaXMuZWxpc3RbbF09cix0aGlzLmxldmVsW2xdPWMpOih0aGlzLmJsaXN0W2hdPWUsdGhpcy5ybGlzdFtoXT1pLHRoaXMuZWxpc3RbaF09cix0aGlzLmxldmVsW2hdPWMsdGhpcy5hbGlzdFtsXT1zLHRoaXMuYmxpc3RbbF09byx0aGlzLnJsaXN0W2xdPW4sdGhpcy5lbGlzdFtsXT1hLHRoaXMubGV2ZWxbbF09YyksdGhpcy5zaXplKyssYz50aGlzLm1heGltdW1fbGV2ZWwmJih0aGlzLm1heGltdW1fbGV2ZWw9YyksdGhpcy5xcHNydCgpfSxyZXRyaWV2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaTtyZXR1cm57YTp0aGlzLmFsaXN0W3RdLGI6dGhpcy5ibGlzdFt0XSxyOnRoaXMucmxpc3RbdF0sZTp0aGlzLmVsaXN0W3RdfX0sc3VtX3Jlc3VsdHM6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuc2l6ZSxpPTA7Zm9yKHQ9MDt0PGU7dCsrKWkrPXRoaXMucmxpc3RbdF07cmV0dXJuIGl9LHN1YmludGVydmFsX3Rvb19zbWFsbDpmdW5jdGlvbih0LGUsaSl7dmFyIHI9MS4wMDAwMDAwMDAwMDAwMjIyKihNYXRoLmFicyhlKSsyMjI1MDczODU4NTA3MjAxNGUtMzIxKTtyZXR1cm4gTWF0aC5hYnModCk8PXImJk1hdGguYWJzKGkpPD1yfX19LFFhZzpmdW5jdGlvbihpLHMsbyl7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHg9dGhpcy5fd29ya3NwYWNlKGksMWUzKSxTPW8mJmUuaXNOdW1iZXIoby5saW1pdCk/by5saW1pdDoxNSxPPW8mJmUuaXNOdW1iZXIoby5lcHNyZWwpP28uZXBzcmVsOjFlLTcsdz1vJiZlLmlzTnVtYmVyKG8uZXBzYWJzKT9vLmVwc2FiczoxZS03LFQ9byYmZS5pc0Z1bmN0aW9uKG8ucSk/by5xOnRoaXMuR2F1c3NLcm9ucm9kMTUsTj17fSxNPTAsQT0wLFI9MCxMPTAsaz0wLEQ9MCxCPTAsST0wLFk9MCxqPTA7aWYoUz54LmxpbWl0JiZ0Lndhcm4oXCJpdGVyYXRpb24gbGltaXQgZXhjZWVkcyBhdmFpbGFibGUgd29ya3NwYWNlXCIpLHc8PTAmJihPPDUwKnIuZXBzfHxPPDVlLTI5KSYmdC53YXJuKFwidG9sZXJhbmNlIGNhbm5vdCBiZSBhY2hlaXZlZCB3aXRoIGdpdmVuIGVwc2FicyBhbmQgZXBzcmVsXCIpLGg9VC5hcHBseSh0aGlzLFtpLHMsTl0pLGw9Ti5hYnNlcnIsYz1OLnJlc2FicyxkPU4ucmVzYXNjLHguc2V0X2luaXRpYWxfcmVzdWx0KGgsbCksdT1NYXRoLm1heCh3LE8qTWF0aC5hYnMoaCkpLGw8PTExMTAyMjMwMjQ2MjUxNTY1ZS0zMCpjJiZsPnUpcmV0dXJuIGgsdC53YXJuKFwiY2Fubm90IHJlYWNoIHRvbGVyYW5jZSBiZWNhdXNlIG9mIHJvdW5kb2ZmIGVycm9yIG9uIGZpcnN0IGF0dGVtcHRcIiksLTEvMDtpZihsPD11JiZsIT09ZHx8MD09PWwpcmV0dXJuIGg7aWYoMT09PVMpcmV0dXJuIGgsdC53YXJuKFwiYSBtYXhpbXVtIG9mIG9uZSBpdGVyYXRpb24gd2FzIGluc3VmZmljaWVudFwiKSwtMS8wO249aCxhPWwsTT0xO2Rve2s9MCxEPTAsQj0wLEk9MCxZPTAsaj0wLGI9KFA9eC5yZXRyaWV2ZSgpKS5hLHY9UC5iLHk9UC5yLEM9UC5lLHA9YixtPWY9LjUqKGIrdiksZz12LGs9VC5hcHBseSh0aGlzLFtbcCxmXSxzLE5dKSxJPU4uYWJzZXJyLF89Ti5yZXNhc2MsRD1ULmFwcGx5KHRoaXMsW1ttLGddLHMsTl0pLGErPShqPUkrKFk9Ti5hYnNlcnIpKS1DLG4rPShCPWsrRCkteSxfIT09SSYmTi5yZXNhc2MhPT1ZJiYoRT15LUIsTWF0aC5hYnMoRSk8PTFlLTUqTWF0aC5hYnMoQikmJmo+PS45OSpDJiZBKyssTT49MTAmJmo+QyYmUisrKSxhPih1PU1hdGgubWF4KHcsTypNYXRoLmFicyhuKSkpJiYoKEE+PTZ8fFI+PTIwKSYmKEw9MikseC5zdWJpbnRlcnZhbF90b29fc21hbGwocCxtLGcpJiYoTD0zKSkseC51cGRhdGUocCxmLGssSSxtLGcsRCxZKSxiPShQPXgucmV0cmlldmUoKSkuYV9pLHY9UC5iX2kseT1QLnJfaSxDPVAuZV9pLE0rK313aGlsZShNPFMmJiFMJiZhPnUpO3JldHVybiB4LnN1bV9yZXN1bHRzKCl9LEk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5RYWcodCxlLHtxOnRoaXMuR2F1c3NLcm9ucm9kMTUsbGltaXQ6MTUsZXBzcmVsOjFlLTcsZXBzYWJzOjFlLTd9KX0sTmV3dG9uOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxuPTAsYT1yLmVwcyxoPXQuYXBwbHkocyxbaV0pO2ZvcihlLmlzQXJyYXkoaSkmJihpPWlbMF0pO248NTAmJk1hdGguYWJzKGgpPmE7KW89dGhpcy5EKHQscykoaSksTWF0aC5hYnMobyk+YT9pLT1oL286aSs9LjIqTWF0aC5yYW5kb20oKS0xLGg9dC5hcHBseShzLFtpXSksbis9MTtyZXR1cm4gaX0scm9vdDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuY2hhbmRydXBhdGxhKHQsZSxpKX0sZ2VuZXJhbGl6ZWROZXd0b246ZnVuY3Rpb24odCxlLGkscyl7dmFyIG8sbixhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5PTA7Zm9yKHRoaXMuZ2VuZXJhbGl6ZWROZXd0b24udDFtZW1vPyhvPXRoaXMuZ2VuZXJhbGl6ZWROZXd0b24udDFtZW1vLG49dGhpcy5nZW5lcmFsaXplZE5ld3Rvbi50Mm1lbW8pOihvPWksbj1zKSxmPSh1PXQuWChvKS1lLlgobikpKnUrKHA9dC5ZKG8pLWUuWShuKSkqcCxtPXRoaXMuRCh0LlgsdCksZz10aGlzLkQoZS5YLGUpLGI9dGhpcy5EKHQuWSx0KSx2PXRoaXMuRChlLlksZSk7Zj5yLmVwcyYmeTwxMDspYT1tKG8pLGg9LWcobiksbD1iKG8pLG8tPSgoYz0tdihuKSkqdS1oKnApLyhkPWEqYy1oKmwpLG4tPShhKnAtbCp1KS9kLGY9KHU9dC5YKG8pLWUuWChuKSkqdSsocD10LlkobyktZS5ZKG4pKSpwLHkrPTE7cmV0dXJuIHRoaXMuZ2VuZXJhbGl6ZWROZXd0b24udDFtZW1vPW8sdGhpcy5nZW5lcmFsaXplZE5ld3Rvbi50Mm1lbW89bixNYXRoLmFicyhvKTxNYXRoLmFicyhuKT9bdC5YKG8pLHQuWShvKV06W2UuWChuKSxlLlkobildfSxOZXZpbGxlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdLGk9ZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKHMsbyl7dmFyIG4sYSxoLGw9ci5iaW5vbWlhbCxjPXQubGVuZ3RoLGQ9Yy0xLHU9MCxwPTA7aWYoIW8pZm9yKGg9MSxuPTA7bjxjO24rKyllW25dPWwoZCxuKSpoLGgqPS0xO2ZvcihhPXMsbj0wO248YztuKyspe2lmKDA9PT1hKXJldHVybiB0W25dW2ldKCk7aD1lW25dL2EsYS09MSx1Kz10W25dW2ldKCkqaCxwKz1ofXJldHVybiB1L3B9fTtyZXR1cm5baShcIlhcIiksaShcIllcIiksMCxmdW5jdGlvbigpe3JldHVybiB0Lmxlbmd0aC0xfV19LHNwbGluZURlZjpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxuPVtdLGE9W10saD1bXSxsPVtdLGM9W10sZD1bXTtpZigyPT09bylyZXR1cm5bMCwwXTtmb3Iocj0wO3I8bztyKyspaT17WDp0W3JdLFk6ZVtyXX0saC5wdXNoKGkpO2ZvcihoLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuWC1lLlh9KSkscj0wO3I8bztyKyspdFtyXT1oW3JdLlgsZVtyXT1oW3JdLlk7Zm9yKHI9MDtyPG8tMTtyKyspbC5wdXNoKHRbcisxXS10W3JdKTtmb3Iocj0wO3I8by0yO3IrKyljLnB1c2goNiooZVtyKzJdLWVbcisxXSkvbFtyKzFdLTYqKGVbcisxXS1lW3JdKS9sW3JdKTtmb3Iobi5wdXNoKDIqKGxbMF0rbFsxXSkpLGEucHVzaChjWzBdKSxyPTA7cjxvLTM7cisrKXM9bFtyKzFdL25bcl0sbi5wdXNoKDIqKGxbcisxXStsW3IrMl0pLXMqbFtyKzFdKSxhLnB1c2goY1tyKzFdLXMqYVtyXSk7Zm9yKGRbby0zXT1hW28tM10vbltvLTNdLHI9by00O3I+PTA7ci0tKWRbcl09KGFbcl0tbFtyKzFdKmRbcisxXSkvbltyXTtmb3Iocj1vLTM7cj49MDtyLS0pZFtyKzFdPWRbcl07cmV0dXJuIGRbMF09MCxkW28tMV09MCxkfSxzcGxpbmVFdmFsOmZ1bmN0aW9uKHQsaSxyLHMpe3ZhciBvLG4sYSxoLGwsYyxkLHU9TWF0aC5taW4oaS5sZW5ndGgsci5sZW5ndGgpLHA9MSxmPSExLG09W107Zm9yKGUuaXNBcnJheSh0KT8ocD10Lmxlbmd0aCxmPSEwKTp0PVt0XSxvPTA7bzxwO28rKyl7aWYodFtvXTxpWzBdfHxpW29dPmlbdS0xXSlyZXR1cm4gTmFOO2ZvcihuPTE7bjx1JiYhKHRbb108PWlbbl0pO24rKyk7YT1yW24tPTFdLGg9KHJbbisxXS1yW25dKS8oaVtuKzFdLWlbbl0pLShpW24rMV0taVtuXSkvNiooc1tuKzFdKzIqc1tuXSksbD1zW25dLzIsYz0oc1tuKzFdLXNbbl0pLyg2KihpW24rMV0taVtuXSkpLGQ9dFtvXS1pW25dLG0ucHVzaChhKyhoKyhsK2MqZCkqZCkqZCl9cmV0dXJuIGY/bTptWzBdfSxnZW5lcmF0ZVBvbHlub21pYWxUZXJtOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG89W107Zm9yKHM9ZTtzPj0wO3MtLSlvPW8uY29uY2F0KFtcIihcIix0W3NdLnRvUHJlY2lzaW9uKHIpLFwiKVwiXSkscz4xP289by5jb25jYXQoW1wiKlwiLGksXCI8c3VwPlwiLHMsXCI8XCIsXCIvc3VwPiArIFwiXSk6MT09PXMmJihvPW8uY29uY2F0KFtcIipcIixpLFwiICsgXCJdKSk7cmV0dXJuIG8uam9pbihcIlwiKX0sbGFncmFuZ2VQb2x5bm9taWFsOmZ1bmN0aW9uKHQpe3ZhciBlPVtdLGk9dGhpcyxyPWZ1bmN0aW9uKGkscil7dmFyIHMsbyxuLGEsaD10Lmxlbmd0aCxsPTAsYz0wO2lmKCFyKWZvcihzPTA7czxoO3MrKyl7Zm9yKGVbc109MSxuPXRbc10uWCgpLG89MDtvPGg7bysrKW8hPT1zJiYoZVtzXSo9bi10W29dLlgoKSk7ZVtzXT0xL2Vbc119Zm9yKHM9MDtzPGg7cysrKXtpZihpPT09KG49dFtzXS5YKCkpKXJldHVybiB0W3NdLlkoKTtjKz1hPWVbc10vKGktbiksbCs9YSp0W3NdLlkoKX1yZXR1cm4gbC9jfTtyZXR1cm4gci5nZXRUZXJtPWZ1bmN0aW9uKGUscixzKXtyZXR1cm4gaS5sYWdyYW5nZVBvbHlub21pYWxUZXJtKHQsZSxyLHMpKCl9LHJ9LGxhZ3JhbmdlUG9seW5vbWlhbFRlcm06ZnVuY3Rpb24oZSxzLG8sbil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGEsaCxsLGMsZCx1LHA9ZS5sZW5ndGgsZj1bXSxtPVtdLGc9W10sYj0hMDtmb3Iobz1vfHxcInhcIix2b2lkIDA9PT1uJiYobj1cIiAqIFwiKSxhPXAtMSxjPTA7YzxwO2MrKylnW2NdPTA7Zm9yKGw9MDtsPHA7bCsrKXtmb3IoZD1lW2xdLlkoKSx1PWVbbF0uWCgpLGY9W10sYz0wO2M8cDtjKyspYyE9PWwmJihkLz11LWVbY10uWCgpLGYucHVzaChlW2NdLlgoKSkpO2ZvcihtPVsxXS5jb25jYXQoci5WaWV0YShmKSksYz0wO2M8bS5sZW5ndGg7YysrKWdbY10rPShjJTI9PTE/LTE6MSkqbVtjXSpkfWZvcihoPVwiXCIsYz0wO2M8Zy5sZW5ndGg7YysrKWQ9Z1tjXSxNYXRoLmFicyhkKTxyLmVwc3x8KHQuZXhpc3RzKHMpJiYoZD1pLl9yb3VuZDEwKGQsLXMpKSxiPyhoKz1kPjA/ZDpcIi1cIistZCxiPSExKTpoKz1kPjA/XCIgKyBcIitkOlwiIC0gXCIrLWQsYS1jPjE/aCs9bitvK1wiXlwiKyhhLWMpOmEtYz09MSYmKGgrPW4rbykpO3JldHVybiBofX0sX2luaXRDdWJpY1BvbHk6ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuW3QsaSwtMyp0KzMqZS0yKmktciwyKnQtMiplK2krcl19LENhcmRpbmFsU3BsaW5lOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxuLGEsaCxsPVtdLGM9dGhpcztyZXR1cm4gaD1lLmlzRnVuY3Rpb24oaSk/aTpmdW5jdGlvbigpe3JldHVybiBpfSx2b2lkIDA9PT1zJiYocz1cInVuaWZvcm1cIiksbj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oaSxuKXt2YXIgZCx1LHAsZixtLGcsYix2LHksQztpZih0Lmxlbmd0aDwyKXJldHVybiBOYU47aWYoIW4pZm9yKGE9aCgpLHA9e1g6ZnVuY3Rpb24oKXtyZXR1cm4gMip0WzBdLlgoKS10WzFdLlgoKX0sWTpmdW5jdGlvbigpe3JldHVybiAyKnRbMF0uWSgpLXRbMV0uWSgpfSxEaXN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuWCgpLXQuWCgpLGk9dGhpcy5ZKCktdC5ZKCk7cmV0dXJuIE1hdGguc3FydChlKmUraSppKX19LGY9e1g6ZnVuY3Rpb24oKXtyZXR1cm4gMip0W3QubGVuZ3RoLTFdLlgoKS10W3QubGVuZ3RoLTJdLlgoKX0sWTpmdW5jdGlvbigpe3JldHVybiAyKnRbdC5sZW5ndGgtMV0uWSgpLXRbdC5sZW5ndGgtMl0uWSgpfSxEaXN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuWCgpLXQuWCgpLGk9dGhpcy5ZKCktdC5ZKCk7cmV0dXJuIE1hdGguc3FydChlKmUraSppKX19LEM9KG89W3BdLmNvbmNhdCh0LFtmXSkpLmxlbmd0aCxsW2VdPVtdLGQ9MDtkPEMtMztkKyspXCJjZW50cmlwZXRhbFwiPT09cz8oYj1vW2RdLkRpc3Qob1tkKzFdKSx2PW9bZCsyXS5EaXN0KG9bZCsxXSkseT1vW2QrM10uRGlzdChvW2QrMl0pLGI9TWF0aC5zcXJ0KGIpLHY9TWF0aC5zcXJ0KHYpLHk9TWF0aC5zcXJ0KHkpLHY8ci5lcHMmJih2PTEpLGI8ci5lcHMmJihiPXYpLHk8ci5lcHMmJih5PXYpLG09KG9bZCsxXVtlXSgpLW9bZF1bZV0oKSkvYi0ob1tkKzJdW2VdKCktb1tkXVtlXSgpKS8oditiKSsob1tkKzJdW2VdKCktb1tkKzFdW2VdKCkpL3YsZz0ob1tkKzJdW2VdKCktb1tkKzFdW2VdKCkpL3YtKG9bZCszXVtlXSgpLW9bZCsxXVtlXSgpKS8oeSt2KSsob1tkKzNdW2VdKCktb1tkKzJdW2VdKCkpL3ksbSo9dixnKj12LGxbZV1bZF09Yy5faW5pdEN1YmljUG9seShvW2QrMV1bZV0oKSxvW2QrMl1bZV0oKSxhKm0sYSpnKSk6bFtlXVtkXT1jLl9pbml0Q3ViaWNQb2x5KG9bZCsxXVtlXSgpLG9bZCsyXVtlXSgpLGEqKG9bZCsyXVtlXSgpLW9bZF1bZV0oKSksYSoob1tkKzNdW2VdKCktb1tkKzFdW2VdKCkpKTtyZXR1cm4gaXNOYU4oaSk/TmFOOihDPXQubGVuZ3RoLGk8PTA/dFswXVtlXSgpOmk+PUM/dFtDLTFdW2VdKCk6KGQ9TWF0aC5mbG9vcihpKSk9PT1pP3RbZF1bZV0oKTooaS09ZCx2b2lkIDA9PT0odT1sW2VdW2RdKT9OYU46KCh1WzNdKmkrdVsyXSkqaSt1WzFdKSppK3VbMF0pKX19LFtuKFwiWFwiKSxuKFwiWVwiKSwwLGZ1bmN0aW9uKCl7cmV0dXJuIHQubGVuZ3RoLTF9XX0sQ2F0bXVsbFJvbVNwbGluZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkNhcmRpbmFsU3BsaW5lKHQsLjUsZSl9LHJlZ3Jlc3Npb25Qb2x5bm9taWFsOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxuLGEsaCxsLGMsZD1cIlwiO2lmKGUuaXNQb2ludCh0KSYmZS5pc0Z1bmN0aW9uKHQuVmFsdWUpKW49ZnVuY3Rpb24oKXtyZXR1cm4gdC5WYWx1ZSgpfTtlbHNlIGlmKGUuaXNGdW5jdGlvbih0KSluPXQ7ZWxzZXtpZighZS5pc051bWJlcih0KSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHJlZ3Jlc3Npb25Qb2x5bm9taWFsIGZyb20gZGVncmVlIG9mIHR5cGUnXCIrdHlwZW9mIHQrXCInLlwiKTtuPWZ1bmN0aW9uKCl7cmV0dXJuIHR9fWlmKDM9PT1hcmd1bWVudHMubGVuZ3RoJiZlLmlzQXJyYXkoaSkmJmUuaXNBcnJheShzKSlsPTA7ZWxzZSBpZigyPT09YXJndW1lbnRzLmxlbmd0aCYmZS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZlLmlzUG9pbnQoaVswXSkpbD0xO2Vsc2V7aWYoISgyPT09YXJndW1lbnRzLmxlbmd0aCYmZS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZpWzBdLnVzckNvb3JkcyYmaVswXS5zY3JDb29yZHMpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgcmVncmVzc2lvblBvbHlub21pYWwuIFdyb25nIHBhcmFtZXRlcnMuXCIpO2w9Mn1yZXR1cm4oYz1mdW5jdGlvbih0LGMpe3ZhciB1LHAsZixtLGcsYix2LHksQyxfPWkubGVuZ3RoO2lmKEM9TWF0aC5mbG9vcihuKCkpLCFjKXtpZigxPT09bClmb3IoYT1bXSxoPVtdLHU9MDt1PF87dSsrKWFbdV09aVt1XS5YKCksaFt1XT1pW3VdLlkoKTtpZigyPT09bClmb3IoYT1bXSxoPVtdLHU9MDt1PF87dSsrKWFbdV09aVt1XS51c3JDb29yZHNbMV0saFt1XT1pW3VdLnVzckNvb3Jkc1syXTtpZigwPT09bClmb3IoYT1bXSxoPVtdLHU9MDt1PF87dSsrKWUuaXNGdW5jdGlvbihpW3VdKT9hLnB1c2goaVt1XSgpKTphLnB1c2goaVt1XSksZS5pc0Z1bmN0aW9uKHNbdV0pP2gucHVzaChzW3VdKCkpOmgucHVzaChzW3VdKTtmb3IoZj1bXSxwPTA7cDxfO3ArKylmLnB1c2goWzFdKTtmb3IodT0xO3U8PUM7dSsrKWZvcihwPTA7cDxfO3ArKylmW3BdW3VdPWZbcF1bdS0xXSphW3BdO2c9aCxtPXIudHJhbnNwb3NlKGYpLGI9ci5tYXRNYXRNdWx0KG0sZiksdj1yLm1hdFZlY011bHQobSxnKSxvPXIuTnVtZXJpY3MuR2F1c3MoYix2KSxkPXIuTnVtZXJpY3MuZ2VuZXJhdGVQb2x5bm9taWFsVGVybShvLEMsXCJ4XCIsMyl9Zm9yKHk9b1tDXSx1PUMtMTt1Pj0wO3UtLSl5PXkqdCtvW3VdO3JldHVybiB5fSkuZ2V0VGVybT1mdW5jdGlvbigpe3JldHVybiBkfSxjfSxiZXppZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxyPWZ1bmN0aW9uKHIpe3JldHVybiBmdW5jdGlvbihzLG8pe3ZhciBuPTMqTWF0aC5mbG9vcihzKSxhPXMlMSxoPTEtYTtyZXR1cm4gb3x8KGk9MypNYXRoLmZsb29yKCh0Lmxlbmd0aC0xKS8zKSxlPU1hdGguZmxvb3IoaS8zKSksczwwP3RbMF1bcl0oKTpzPj1lP3RbaV1bcl0oKTppc05hTihzKT9OYU46aCpoKihoKnRbbl1bcl0oKSszKmEqdFtuKzFdW3JdKCkpKygzKmgqdFtuKzJdW3JdKCkrYSp0W24rM11bcl0oKSkqYSphfX07cmV0dXJuW3IoXCJYXCIpLHIoXCJZXCIpLDAsZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0Lmxlbmd0aC8zKX1dfSxic3BsaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj1mdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24ocyxvKXt2YXIgbixhLGgsbCxjPXQubGVuZ3RoLGQ9Yy0xLHU9ZTtpZihkPD0wKXJldHVybiBOYU47aWYoZCsyPD11JiYodT1kKzEpLHM8PTApcmV0dXJuIHRbMF1bcl0oKTtpZihzPj1kLXUrMilyZXR1cm4gdFtkXVtyXSgpO2ZvcihoPU1hdGguZmxvb3IocykrdS0xLGk9ZnVuY3Rpb24odCxlKXt2YXIgaSxyPVtdO2ZvcihpPTA7aTx0K2UrMTtpKyspcltpXT1pPGU/MDppPD10P2ktZSsxOnQtZSsyO3JldHVybiByfShkLHUpLGw9ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbyxuLGEsaCxsPVtdO2ZvcihlW3JdPD10JiZ0PGVbcisxXT9sW3JdPTE6bFtyXT0wLHM9MjtzPD1pO3MrKylmb3Iobz1yLXMrMTtvPD1yO28rKyluPW88PXItcysxfHxvPDA/MDpsW29dLGE9bz49cj8wOmxbbysxXSxoPWVbbytzLTFdLWVbb10sbFtvXT0wPT09aD8wOih0LWVbb10pL2gqbiwwIT0oaD1lW28rc10tZVtvKzFdKSYmKGxbb10rPShlW28rc10tdCkvaCphKTtyZXR1cm4gbH0ocyxpLHUsaCksbj0wLGE9aC11KzE7YTw9aDthKyspYTxjJiZhPj0wJiYobis9dFthXVtyXSgpKmxbYV0pO3JldHVybiBufX07cmV0dXJuW3IoXCJYXCIpLHIoXCJZXCIpLDAsZnVuY3Rpb24oKXtyZXR1cm4gdC5sZW5ndGgtMX1dfSxEOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUuZXhpc3RzKGkpP2Z1bmN0aW9uKGUscil7dmFyIHM9MWUtNTtyZXR1cm4odC5hcHBseShpLFtlK3Mscl0pLXQuYXBwbHkoaSxbZS1zLHJdKSkvMmUtNX06ZnVuY3Rpb24oZSxpKXt2YXIgcj0xZS01O3JldHVybih0KGUrcixpKS10KGUtcixpKSkvMmUtNX19LF9yaWVtYW5uVmFsdWU6ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbyxuLGE7aWYocjwwJiYoXCJ0cmFwZXpvaWRhbFwiIT09aSYmKHQrPXIpLHIqPS0xLFwibG93ZXJcIj09PWk/aT1cInVwcGVyXCI6XCJ1cHBlclwiPT09aSYmKGk9XCJsb3dlclwiKSksYT0uMDEqcixcInJpZ2h0XCI9PT1pKXM9ZSh0K3IpO2Vsc2UgaWYoXCJtaWRkbGVcIj09PWkpcz1lKHQrLjUqcik7ZWxzZSBpZihcImxlZnRcIj09PWl8fFwidHJhcGV6b2lkYWxcIj09PWkpcz1lKHQpO2Vsc2UgaWYoXCJsb3dlclwiPT09aSl7Zm9yKHM9ZSh0KSxuPXQrYTtuPD10K3I7bis9YSkobz1lKG4pKTxzJiYocz1vKTsobz1lKHQrcikpPHMmJihzPW8pfWVsc2UgaWYoXCJ1cHBlclwiPT09aSl7Zm9yKHM9ZSh0KSxuPXQrYTtuPD10K3I7bis9YSkobz1lKG4pKT5zJiYocz1vKTsobz1lKHQrcikpPnMmJihzPW8pfWVsc2Ugcz1cInJhbmRvbVwiPT09aT9lKHQrcipNYXRoLnJhbmRvbSgpKTpcInNpbXBzb25cIj09PWk/KGUodCkrNCplKHQrLjUqcikrZSh0K3IpKS82OmUodCk7cmV0dXJuIHN9LHJpZW1hbm46ZnVuY3Rpb24odCxpLHIscyxvKXt2YXIgbixhLGgsbCxjLGQsdSxwPVtdLGY9W10sbT0wLGc9cyxiPTA7aWYoZS5pc0FycmF5KHQpPyhjPXRbMF0sbD10WzFdKTpsPXQsKGk9TWF0aC5mbG9vcihpKSk8PTApcmV0dXJuW3AsZixiXTtmb3IoYT0oby1zKS9pLG49MDtuPGk7bisrKWg9dGhpcy5fcmllbWFublZhbHVlKGcsbCxyLGEpLHBbbV09ZyxmW21dPWgsbSs9MSxnKz1hLFwidHJhcGV6b2lkYWxcIj09PXImJihoPWwoZykpLHBbbV09ZyxmW21dPWgsbSs9MTtmb3Iobj0wO248aTtuKyspaD1jP3RoaXMuX3JpZW1hbm5WYWx1ZShnLGMsciwtYSk6MCxwW21dPWcsZlttXT1oLG0rPTEsZy09YSxcInRyYXBlem9pZGFsXCI9PT1yJiZjJiYoaD1jKGcpKSxwW21dPWcsZlttXT1oLFwidHJhcGV6b2lkYWxcIiE9PXI/KGQ9aCx1PWZbMiooaS0xKS0yKm5dKToodT0uNSoobChnK2EpK2woZykpLGQ9Yz8uNSooYyhnK2EpK2MoZykpOjApLGIrPSh1LWQpKmEscFttKz0xXT1nLGZbbV09ZlsyKihpLTEpLTIqbl0sbSs9MTtyZXR1cm5bcCxmLGJdfSxyaWVtYW5uc3VtOmZ1bmN0aW9uKGUsaSxyLHMsbyl7cmV0dXJuIHQuZGVwcmVjYXRlZChcIk51bWVyaWNzLnJpZW1hbm5zdW0oKVwiLFwiTnVtZXJpY3MucmllbWFubigpXCIpLHRoaXMucmllbWFubihlLGkscixzLG8pWzJdfSxydW5nZUt1dHRhOmZ1bmN0aW9uKHQsaSxyLG8sbil7dmFyIGEsaCxsLGMsZCx1LHA9W10sZj1bXSxtPShyWzFdLXJbMF0pL28sZz1yWzBdLGI9aS5sZW5ndGgsdj1bXSx5PTA7Zm9yKGUuaXNTdHJpbmcodCkmJih0PXNbdF18fHMuZXVsZXIpLHU9dC5zLGE9MDthPGI7YSsrKXBbYV09aVthXTtmb3IoaD0wO2g8bztoKyspe2Zvcih2W3ldPVtdLGE9MDthPGI7YSsrKXZbeV1bYV09cFthXTtmb3IoeSs9MSxjPVtdLGw9MDtsPHU7bCsrKXtmb3IoYT0wO2E8YjthKyspZlthXT0wO2ZvcihkPTA7ZDxsO2QrKylmb3IoYT0wO2E8YjthKyspZlthXSs9dC5BW2xdW2RdKm0qY1tkXVthXTtmb3IoYT0wO2E8YjthKyspZlthXSs9cFthXTtjLnB1c2gobihnK3QuY1tsXSptLGYpKX1mb3IoYT0wO2E8YjthKyspZlthXT0wO2ZvcihkPTA7ZDx1O2QrKylmb3IoYT0wO2E8YjthKyspZlthXSs9dC5iW2RdKmNbZF1bYV07Zm9yKGE9MDthPGI7YSsrKXBbYV09cFthXSttKmZbYV07Zys9bX1yZXR1cm4gdn0sbWF4SXRlcmF0aW9uc1Jvb3Q6ODAsbWF4SXRlcmF0aW9uc01pbmltaXplOjUwMCxmaW5kQnJhY2tldDpmdW5jdGlvbih0LGkscil7dmFyIHMsbyxuLGEsaCxsLGMsZCx1LHA7aWYoZS5pc0FycmF5KGkpKXJldHVybiBpO2ZvcihzPWksbj10LmNhbGwocixzKSxwPShhPVtzLS4xKihvPTA9PT1zPzE6cykscysuMSpvLHMtMSxzKzEscy0uNSpvLHMrLjUqbyxzLS42Km8scysuNipvLHMtMSpvLHMrMSpvLHMtMipvLHMrMipvLHMtNSpvLHMrNSpvLHMtMTAqbyxzKzEwKm8scy01MCpvLHMrNTAqbyxzLTEwMCpvLHMrMTAwKm9dKS5sZW5ndGgsdT0wO3U8cCYmKGg9YVt1XSwhKG4qKGw9dC5jYWxsKHIsaCkpPD0wKSk7dSsrKTtyZXR1cm4gaDxzJiYoYz1zLHM9aCxoPWMsZD1uLG49bCxsPWQpLFtzLG4saCxsXX0sZnplcm86ZnVuY3Rpb24odCxpLHMpe3ZhciBvLG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDPXIuZXBzLF89dGhpcy5tYXhJdGVyYXRpb25zUm9vdCxQPTA7aWYoZS5pc0FycmF5KGkpKXtpZihpLmxlbmd0aDwyKXRocm93IG5ldyBFcnJvcihcIkpYRy5NYXRoLk51bWVyaWNzLmZ6ZXJvOiBsZW5ndGggb2YgYXJyYXkgeDAgaGFzIHRvIGJlIGF0IGxlYXN0IHR3by5cIik7bz1pWzBdLGg9dC5jYWxsKHMsbyksbj1pWzFdLGw9dC5jYWxsKHMsbil9ZWxzZSBvPShkPXRoaXMuZmluZEJyYWNrZXQodCxpLHMpKVswXSxoPWRbMV0sbj1kWzJdLGw9ZFszXTtpZihNYXRoLmFicyhoKTw9QylyZXR1cm4gbztpZihNYXRoLmFicyhsKTw9QylyZXR1cm4gbjtpZihoKmw+MClyZXR1cm4gZS5pc0FycmF5KGkpP3RoaXMuZm1pbmJyKHQsW28sbl0scyk6dGhpcy5OZXd0b24odCxvLHMpO2ZvcihhPW8sYz1oO1A8Xzspe2lmKHU9bi1vLE1hdGguYWJzKGMpPE1hdGguYWJzKGwpJiYobz1uLG49YSxhPW8saD1sLGw9YyxjPWgpLGc9MipDKk1hdGguYWJzKG4pKy41KkMseT0uNSooYS1uKSxNYXRoLmFicyh5KTw9Z3x8TWF0aC5hYnMobCk8PUMpcmV0dXJuIG47TWF0aC5hYnModSk+PWcmJk1hdGguYWJzKGgpPk1hdGguYWJzKGwpJiYoZj1hLW4sbz09PWE/KGI9ZioocD1sL2gpLHY9MS1wKTooYj0obT1sL2gpKihmKih2PWgvYykqKHYtKHA9bC9jKSktKG4tbykqKHAtMSkpLHY9KHYtMSkqKHAtMSkqKG0tMSkpLGI+MD92PS12OmI9LWIsYjwuNzUqZip2LS41Kk1hdGguYWJzKGcqdikmJmI8TWF0aC5hYnModSp2Ki41KSYmKHk9Yi92KSksTWF0aC5hYnMoeSk8ZyYmKHk9eT4wP2c6LWcpLG89bixoPWwsbis9eSwoKGw9dC5jYWxsKHMsbikpPjAmJmM+MHx8bDwwJiZjPDApJiYoYT1vLGM9aCksUCsrfXJldHVybiBufSxjaGFuZHJ1cGF0bGE6ZnVuY3Rpb24odCxpLHMpe3ZhciBvLG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHgsUz0wLE89dGhpcy5tYXhJdGVyYXRpb25zUm9vdCx3PTErLjAwMSpNYXRoLnJhbmRvbSgpLFQ9LjUqdyxOPXIuZXBzO2lmKGUuaXNBcnJheShpKSl7aWYoaS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJKWEcuTWF0aC5OdW1lcmljcy5memVybzogbGVuZ3RoIG9mIGFycmF5IHgwIGhhcyB0byBiZSBhdCBsZWFzdCB0d28uXCIpO289aVswXSxuPXQuY2FsbChzLG8pLGE9aVsxXSxoPXQuY2FsbChzLGEpfWVsc2Ugbz0obD10aGlzLmZpbmRCcmFja2V0KHQsaSxzKSlbMF0sbj1sWzFdLGE9bFsyXSxoPWxbM107aWYobipoPjApcmV0dXJuIGUuaXNBcnJheShpKT90aGlzLmZtaW5icih0LFtvLGFdLHMpOnRoaXMuTmV3dG9uKHQsbyxzKTtjPW8sZD1hLGY9bixtPWg7ZG97aWYocD1jK1QqKGQtYyksYj10LmNhbGwocyxwKSxNYXRoLnNpZ24oYik9PT1NYXRoLnNpZ24oZik/KHU9YyxjPXAsZz1mLGY9Yik6KHU9ZCxkPWMsZz1tLG09Ziksdj1jPXAseT1mPWIsTWF0aC5hYnMobSk8TWF0aC5hYnMoZikmJih2PWQseT1tKSwoQz0oMipOKk1hdGguYWJzKHYpKzVlLTYpL01hdGguYWJzKGQtYykpPi41fHwwPT09eSlicmVhaztfPShjLWQpLyh1LWQpLFA9KGYtbSkvKGctbSksRT0xLU1hdGguc3FydCgxLV8pLHg9TWF0aC5zcXJ0KF8pLChUPUU8UCYmUDx4P2YvKG0tZikqKGcvKG0tZykpK2YvKGctZikqKG0vKGctbSkpKigodS1jKS8oZC1jKSk6LjUqdyk8QyYmKFQ9QyksVD4xLUMmJihUPTEtQyksUysrfXdoaWxlKFM8PU8pO3JldHVybiB2fSxmbWluYnI6ZnVuY3Rpb24odCxpLHMpe3ZhciBvLG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF89LjUqKDMtTWF0aC5zcXJ0KDUpKSxQPXIuZXBzLEU9ci5lcHMseD10aGlzLm1heEl0ZXJhdGlvbnNNaW5pbWl6ZSxTPTA7aWYoIWUuaXNBcnJheShpKXx8aS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJKWEcuTWF0aC5OdW1lcmljcy5mbWluYnI6IGxlbmd0aCBvZiBhcnJheSB4MCBoYXMgdG8gYmUgYXQgbGVhc3QgdHdvLlwiKTtmb3IoYT1oPShvPWlbMF0pK18qKChuPWlbMV0pLW8pLGw9aCxjPWQ9dC5jYWxsKHMsaCksdT1kO1M8eDspe2lmKHA9bi1vLGY9LjUqKG8rbiksbT1FKk1hdGguYWJzKGEpK1AvMyxNYXRoLmFicyhhLWYpKy41KnA8PTIqbSlyZXR1cm4gYTtnPV8qKGE8Zj9uLWE6by1hKSxNYXRoLmFicyhhLWwpPj1tJiYoYj0oYS1oKSoodj0oYS1oKSooYy11KSktKGEtbCkqKHk9KGEtbCkqKGMtZCkpLCh2PTIqKHYteSkpPjA/Yj0tYjp2PS12LE1hdGguYWJzKGIpPE1hdGguYWJzKGcqdikmJmI+diooby1hKzIqbSkmJmI8dioobi1hLTIqbSkmJihnPWIvdikpLE1hdGguYWJzKGcpPG0mJihnPWc+MD9tOi1tKSx5PWErZywoQz10LmNhbGwocyx5KSk8PWM/KHk8YT9uPWE6bz1hLGg9bCxsPWEsYT15LGQ9dSx1PWMsYz1DKTooeTxhP289eTpuPXksQzw9dXx8bD09PWE/KGg9bCxsPXksZD11LHU9Qyk6KEM8PWR8fGg9PT1hfHxoPT09bCkmJihoPXksZD1DKSksUys9MX1yZXR1cm4gYX0sUmFtZXJEb3VnbGFzUGV1Y2tlcjpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbyxuPVtdLGE9W10saD1mdW5jdGlvbih0LGUsaSxzLG8pe3ZhciBuPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxvLG4sYSxoLGwsYyxkLHUscCxmLG09MWU0LGc9MCxiPWU7aWYoaS1lPDIpcmV0dXJuWy0xLDBdO2lmKG49dFtlXS5zY3JDb29yZHMsYT10W2ldLnNjckNvb3Jkcyxpc05hTihuWzFdKXx8aXNOYU4oblsyXSkpcmV0dXJuW05hTixlXTtpZihpc05hTihhWzFdKXx8aXNOYU4oYVsyXSkpcmV0dXJuW05hTixpXTtmb3Iobz1lKzE7bzxpO28rKyl7aWYoaD10W29dLnNjckNvb3Jkcyxpc05hTihoWzFdKXx8aXNOYU4oaFsyXSkpcmV0dXJuW05hTixvXTtsPShsPShsPWhbMV0tblsxXSk9PTEvMD9tOmwpPT09LTEvMD8tbTpsLGM9KGM9KGM9aFsyXS1uWzJdKT09MS8wP206Yyk9PT0tMS8wPy1tOmMsKHA9KGQ9KGQ9KGQ9YVsxXS1uWzFdKT09MS8wP206ZCk9PT0tMS8wPy1tOmQpKmQrKHU9KHU9KHU9YVsyXS1uWzJdKT09MS8wP206dSk9PT0tMS8wPy1tOnUpKnUpPj1yLmVwcz8oKGY9KGwqZCtjKnUpL3ApPDA/Zj0wOmY+MSYmKGY9MSkscz0obC09ZipkKSpsKyhjLT1mKnUpKmMpOihmPTAscz1sKmwrYypjKSxzPmcmJihnPXMsYj1vKX1yZXR1cm5bTWF0aC5zcXJ0KGcpLGJdfSh0LGUsaSksYT1uWzFdO2lmKGlzTmFOKG5bMF0pKXtoKHQsZSxhLTEscyxvKSxvLnB1c2godFthXSk7ZG97KythfXdoaWxlKGE8PWkmJmlzTmFOKHRbYV0uc2NyQ29vcmRzWzFdK3RbYV0uc2NyQ29vcmRzWzJdKSk7YTw9aSYmby5wdXNoKHRbYV0pLGgodCxhKzEsaSxzLG8pfWVsc2UgblswXT5zPyhoKHQsZSxhLHMsbyksaCh0LGEsaSxzLG8pKTpvLnB1c2godFtpXSl9O2ZvcihvPXQubGVuZ3RoLGk9MDs7KXtmb3IoO2k8byYmaXNOYU4odFtpXS5zY3JDb29yZHNbMV0rdFtpXS5zY3JDb29yZHNbMl0pOylpKz0xO2ZvcihzPWkrMTtzPG8mJiFpc05hTih0W3NdLnNjckNvb3Jkc1sxXSt0W3NdLnNjckNvb3Jkc1syXSk7KXMrPTE7aWYocy0tLGk8byYmcz5pJiYoKGE9W10pWzBdPXRbaV0saCh0LGkscyxlLGEpLG49bi5jb25jYXQoYSkpLGk+PW8pYnJlYWs7czxvLTEmJm4ucHVzaCh0W3MrMV0pLGk9cysxfXJldHVybiBufSxSYW1lckRvdWdsYXNQZXVrZXI6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiTnVtZXJpY3MuUmFtZXJEb3VnbGFzUGV1a2VyKClcIixcIk51bWVyaWNzLlJhbWVyRG91Z2xhc1BldWNrZXIoKVwiKSx0aGlzLlJhbWVyRG91Z2xhc1BldWNrZXIoZSxpKX0sVmlzdmFsaW5nYW06ZnVuY3Rpb24oZSxpKXt2YXIgcixzLG8sbixhLGgsbCxjLGQsdT1bXSxwPVtdLGY9W107aWYoKHM9ZS5sZW5ndGgpPD0yKXJldHVybiBlO2Zvcih1WzBdPXt1c2VkOiEwLGxmdDpudWxsLG5vZGU6bnVsbH0sYT0wLHI9MTtyPHMtMTtyKyspbz1NYXRoLmFicyh0Lk1hdGguTnVtZXJpY3MuZGV0KFtlW3ItMV0udXNyQ29vcmRzLGVbcl0udXNyQ29vcmRzLGVbcisxXS51c3JDb29yZHNdKSksaXNOYU4obyl8fChkPXt2Om8saWR4OnJ9LHAucHVzaChkKSx1W3JdPXt1c2VkOiEwLGxmdDphLG5vZGU6ZH0sdVthXS5ydD1yLGE9cik7Zm9yKHVbcy0xXT17dXNlZDohMCxydDpudWxsLGxmdDphLG5vZGU6bnVsbH0sdVthXS5ydD1zLTEsbj0tMS8wO3AubGVuZ3RoPmk7KXAuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS52LXQudn0pKSx1W3I9cC5wb3AoKS5pZHhdLnVzZWQ9ITEsbj11W3JdLm5vZGUudixhPXVbcl0ubGZ0LGg9dVtyXS5ydCx1W2FdLnJ0PWgsdVtoXS5sZnQ9YSxudWxsIT09KGw9dVthXS5sZnQpJiYobz1NYXRoLmFicyh0Lk1hdGguTnVtZXJpY3MuZGV0KFtlW2xdLnVzckNvb3JkcyxlW2FdLnVzckNvb3JkcyxlW2hdLnVzckNvb3Jkc10pKSx1W2FdLm5vZGUudj1vPj1uP286biksbnVsbCE9PShjPXVbaF0ucnQpJiYobz1NYXRoLmFicyh0Lk1hdGguTnVtZXJpY3MuZGV0KFtlW2FdLnVzckNvb3JkcyxlW2hdLnVzckNvb3JkcyxlW2NdLnVzckNvb3Jkc10pKSx1W2hdLm5vZGUudj1vPj1uP286bik7Zj1bZVtyPTBdXTtkb3tyPXVbcl0ucnQsZi5wdXNoKGVbcl0pfXdoaWxlKG51bGwhPT11W3JdLnJ0KTtyZXR1cm4gZn19LHIuTnVtZXJpY3N9KSksZGVmaW5lKFwibWF0aC9ubHBcIixbXCJqeGdcIl0sKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lk1hdGguTmxwPXthcnI6ZnVuY3Rpb24odCl7dmFyIGUsaT1uZXcgQXJyYXkodCk7Zm9yKGU9MDtlPHQ7ZSsrKWlbZV09MDtyZXR1cm4gaX0sYXJyMjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLHI9bmV3IEFycmF5KHQpO2k8dDspcltpXT10aGlzLmFycihlKSxpKys7cmV0dXJuIHJ9LGFycmF5Y29weTpmdW5jdGlvbih0LGUsaSxyLHMpe2Zvcih2YXIgbz0wO288czspaVtvK3JdPXRbbytlXSxvKyt9LE5vcm1hbDowLE1heEl0ZXJhdGlvbnNSZWFjaGVkOjEsRGl2ZXJnaW5nUm91bmRpbmdFcnJvcnM6MixGaW5kTWluaW11bTpmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEpe3ZhciBoLGwsYz1pKzIsZD10aGlzLmFycihlKzEpLHU9dGhpcztyZXR1cm4gZFswXT0wLHRoaXMuYXJyYXljb3B5KHIsMCxkLDEsZSksbD1mdW5jdGlvbihlLGkscixzKXt2YXIgbyxuLGE9dS5hcnIoZSk7cmV0dXJuIHUuYXJyYXljb3B5KHIsMSxhLDAsZSksbz11LmFycihpKSxuPXQoZSxpLGEsbyksdS5hcnJheWNvcHkobywwLHMsMSxpKSxufSxoPXRoaXMuY29ieWxiKGwsZSxpLGMsZCxzLG8sbixhKSx0aGlzLmFycmF5Y29weShkLDEsciwwLGUpLGh9LGNvYnlsYjpmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEsaCl7dmFyIGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHgsUyxPLHcsVCxOLE0sQSxSLEwsayxELEIsSSxZPS0xLGo9MCxYPTAsRj1lKzEsVT1pKzEsSj1vLEc9MCx6PSExLEg9ITEsVj0wLCQ9MCxxPTAsVz10aGlzLmFycigxK3IpLFo9dGhpcy5hcnIyKDErZSwxK0YpLFE9dGhpcy5hcnIyKDErZSwxK2UpLEs9dGhpcy5hcnIyKDErciwxK0YpLHR0PXRoaXMuYXJyMigxK2UsMStVKSxldD10aGlzLmFycigxK2UpLGl0PXRoaXMuYXJyKDErZSkscnQ9dGhpcy5hcnIoMStlKSxzdD10aGlzLmFycigxK2UpLG90PXRoaXMuYXJyKDErZSk7Zm9yKGE+PTImJmNvbnNvbGUubG9nKFwiVGhlIGluaXRpYWwgdmFsdWUgb2YgUkhPIGlzIFwiK0orXCIgYW5kIFBBUk1VIGlzIHNldCB0byB6ZXJvLlwiKSxnPTAsZj0xL0osYz0xO2M8PWU7KytjKVpbY11bRl09c1tjXSxaW2NdW2NdPUosUVtjXVtjXT1mO2I9Rix2PSExO3Q6Zm9yKDs7KXtpZihnPj1oJiZnPjApe1k9dGhpcy5NYXhJdGVyYXRpb25zUmVhY2hlZDticmVhayB0fWZvcigrK2csaj10KGUsaSxzLFcpLFg9MCx1PTE7dTw9aTsrK3UpWD1NYXRoLm1heChYLC1XW3VdKTtpZihnIT09YS0xJiYzIT09YXx8dGhpcy5QcmludEl0ZXJhdGlvblJlc3VsdChnLGosWCxzLGUsYSksV1tVXT1qLFdbcl09WCx5PSEwLCF2KXtmb3IoeT0hMSxjPTE7Yzw9cjsrK2MpS1tjXVtiXT1XW2NdO2lmKGc8PUYpe2lmKGI8PWUpaWYoS1tVXVtGXTw9ailzW2JdPVpbYl1bRl07ZWxzZXtmb3IoWltiXVtGXT1zW2JdLHU9MTt1PD1yOysrdSlLW3VdW2JdPUtbdV1bRl0sS1t1XVtGXT1XW3VdO2Zvcih1PTE7dTw9YjsrK3Upe2ZvcihaW2JdW3VdPS1KLGY9MCxjPXU7Yzw9YjsrK2MpZi09UVtjXVt1XTtRW2JdW3VdPWZ9fWlmKGc8PWUpe3NbYj1nXSs9Sjtjb250aW51ZSB0fX12PSEwfWU6Zm9yKDs7KXtpOmRve2lmKCF5KXtmb3IoQz1LW1VdW0ZdK0cqS1tyXVtGXSxfPUYsZD0xO2Q8PWU7KytkKShmPUtbVV1bZF0rRypLW3JdW2RdKTxDPyhfPWQsQz1mKTpmPT09QyYmMD09PUcmJktbcl1bZF08S1tyXVtfXSYmKF89ZCk7aWYoXzw9ZSl7Zm9yKGM9MTtjPD1yOysrYylmPUtbY11bRl0sS1tjXVtGXT1LW2NdW19dLEtbY11bX109Zjtmb3IoYz0xO2M8PWU7KytjKXtmb3IoZj1aW2NdW19dLFpbY11bX109MCxaW2NdW0ZdKz1mLG09MCx1PTE7dTw9ZTsrK3UpWltjXVt1XS09ZixtLT1RW3VdW2NdO1FbX11bY109bX19Zm9yKFA9MCxjPTE7Yzw9ZTsrK2MpZm9yKGQ9MTtkPD1lOysrZClmPXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuUk9XKFEsYyksMSxlKSx0aGlzLlBBUlQodGhpcy5DT0woWixkKSwxLGUpKS0oYz09PWQ/MTowKSxQPU1hdGgubWF4KFAsTWF0aC5hYnMoZikpO2lmKFA+LjEpe1k9dGhpcy5EaXZlcmdpbmdSb3VuZGluZ0Vycm9yczticmVhayB0fWZvcih1PTE7dTw9VTsrK3Upe2ZvcihXW3VdPS1LW3VdW0ZdLGQ9MTtkPD1lOysrZClvdFtkXT1LW3VdW2RdK1dbdV07Zm9yKGM9MTtjPD1lOysrYyl0dFtjXVt1XT0odT09PVU/LTE6MSkqdGhpcy5ET1RfUFJPRFVDVCh0aGlzLlBBUlQob3QsMSxlKSx0aGlzLlBBUlQodGhpcy5DT0woUSxjKSwxLGUpKX1mb3Ioej0hMCxWPS4yNSpKLEU9Mi4xKkosZD0xO2Q8PWU7KytkKXtmb3IoeD0wLHU9MTt1PD1lOysrdSl4Kz1RW2RdW3VdKlFbZF1bdV07Zm9yKFM9MCx1PTE7dTw9ZTsrK3UpUys9Wlt1XVtkXSpaW3VdW2RdO2V0W2RdPTEvTWF0aC5zcXJ0KHgpLGl0W2RdPU1hdGguc3FydChTKSwoZXRbZF08Vnx8aXRbZF0+RSkmJih6PSExKX1pZighdiYmIXope2ZvcihiPTAsZj1FLGQ9MTtkPD1lOysrZClpdFtkXT5mJiYoYj1kLGY9aXRbZF0pO2lmKDA9PT1iKWZvcihkPTE7ZDw9ZTsrK2QpZXRbZF08ZiYmKGI9ZCxmPWV0W2RdKTtmb3IoZj0uNSpKKmV0W2JdLHU9MTt1PD1lOysrdSlzdFt1XT1mKlFbYl1bdV07Zm9yKE89MCx3PTAsbD0wLHU9MTt1PD1VOysrdSlsPXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuQ09MKHR0LHUpLDEsZSksdGhpcy5QQVJUKHN0LDEsZSkpLHU8VSYmKGY9S1t1XVtGXSxPPU1hdGgubWF4KE8sLWwtZiksdz1NYXRoLm1heCh3LGwtZikpO2ZvcihUPUcqKE8tdyk+MipsPy0xOjEsZj0wLGM9MTtjPD1lOysrYylzdFtjXT1UKnN0W2NdLFpbY11bYl09c3RbY10sZis9UVtiXVtjXSpzdFtjXTtmb3IodT0xO3U8PWU7Kyt1KVFbYl1bdV0vPWY7Zm9yKGQ9MTtkPD1lOysrZCl7aWYoZCE9PWIpZm9yKGY9dGhpcy5ET1RfUFJPRFVDVCh0aGlzLlBBUlQodGhpcy5ST1coUSxkKSwxLGUpLHRoaXMuUEFSVChzdCwxLGUpKSx1PTE7dTw9ZTsrK3UpUVtkXVt1XS09ZipRW2JdW3VdO3NbZF09WltkXVtGXStzdFtkXX1jb250aW51ZSB0fWlmKCEoSD10aGlzLnRyc3RscChlLGksdHQsVyxKLHN0KSkpe2ZvcihmPTAsdT0xO3U8PWU7Kyt1KWYrPXN0W3VdKnN0W3VdO2lmKGY8LjI1KkoqSil7dj0hMDticmVhayBpfX1mb3IobD0wLE49MCxXW1VdPTAsdT0xO3U8PVU7Kyt1KWw9V1t1XS10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLkNPTCh0dCx1KSwxLGUpLHRoaXMuUEFSVChzdCwxLGUpKSx1PFUmJihOPU1hdGgubWF4KE4sbCkpO2lmKEc8MS41KihNPSgkPUtbcl1bRl0tTik+MD9sLyQ6MCkpZm9yKEc9MipNLGE+PTImJmNvbnNvbGUubG9nKFwiSW5jcmVhc2UgaW4gUEFSTVUgdG8gXCIrRyksQT1LW1VdW0ZdK0cqS1tyXVtGXSxkPTE7ZDw9ZTsrK2QpaWYoKGY9S1tVXVtkXStHKktbcl1bZF0pPEF8fGY9PT1BJiYwPT09RyYmS1tyXVtkXTxLW3JdW0ZdKWNvbnRpbnVlIGU7Zm9yKHE9RyokLWwsdT0xO3U8PWU7Kyt1KXNbdV09Wlt1XVtGXStzdFt1XTt2PSEwO2NvbnRpbnVlIHR9Zm9yKHk9ITEsUj1LW1VdW0ZdK0cqS1tyXVtGXS0oaitHKlgpLDA9PT1HJiZqPT09S1tVXVtGXSYmKHE9JCxSPUtbcl1bRl0tWCksTD1SPD0wPzE6MCxiPTAsZD0xO2Q8PWU7KytkKShmPU1hdGguYWJzKHRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuUk9XKFEsZCksMSxlKSx0aGlzLlBBUlQoc3QsMSxlKSkpKT5MJiYoYj1kLEw9ZikscnRbZF09ZipldFtkXTtmb3Ioaz0xLjEqSixwPTAsZD0xO2Q8PWU7KytkKWlmKHJ0W2RdPj1WfHxydFtkXT49ZXRbZF0pe2lmKGY9aXRbZF0sUj4wKXtmb3IoZj0wLHU9MTt1PD1lOysrdSlmKz1NYXRoLnBvdyhzdFt1XS1aW3VdW2RdLDIpO2Y9TWF0aC5zcXJ0KGYpfWY+ayYmKHA9ZCxrPWYpfWlmKHA+MCYmKGI9cCksMCE9PWIpe2ZvcihmPTAsYz0xO2M8PWU7KytjKVpbY11bYl09c3RbY10sZis9UVtiXVtjXSpzdFtjXTtmb3IodT0xO3U8PWU7Kyt1KVFbYl1bdV0vPWY7Zm9yKGQ9MTtkPD1lOysrZClpZihkIT09Yilmb3IoZj10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLlJPVyhRLGQpLDEsZSksdGhpcy5QQVJUKHN0LDEsZSkpLHU9MTt1PD1lOysrdSlRW2RdW3VdLT1mKlFbYl1bdV07Zm9yKHU9MTt1PD1yOysrdSlLW3VdW2JdPVdbdV07aWYoUj4wJiZSPj0uMSpxKWNvbnRpbnVlIGV9fXdoaWxlKDApO2lmKHope2lmKEo8PW4pe1k9dGhpcy5Ob3JtYWw7YnJlYWsgdH1pZihEPTAsQj0wLChKKj0uNSk8PTEuNSpuJiYoSj1uKSxHPjApe2ZvcihJPTAsdT0xO3U8PVU7Kyt1KXtmb3IoQj1EPUtbdV1bRl0sYz0xO2M8PWU7KytjKUQ9TWF0aC5taW4oRCxLW3VdW2NdKSxCPU1hdGgubWF4KEIsS1t1XVtjXSk7dTw9aSYmRDwuNSpCJiYoZj1NYXRoLm1heChCLDApLUQsST1JPD0wP2Y6TWF0aC5taW4oSSxmKSl9MD09PUk/Rz0wOkItRDxHKkkmJihHPShCLUQpL0kpfWE+PTImJmNvbnNvbGUubG9nKFwiUmVkdWN0aW9uIGluIFJITyB0byBcIitKK1wiICBhbmQgUEFSTVUgPSBcIitHKSwyPT09YSYmdGhpcy5QcmludEl0ZXJhdGlvblJlc3VsdChnLEtbVV1bRl0sS1tyXVtGXSx0aGlzLkNPTChaLEYpLGUsYSl9ZWxzZSB2PSExfX1zd2l0Y2goWSl7Y2FzZSB0aGlzLk5vcm1hbDppZihhPj0xJiZjb25zb2xlLmxvZyhcIiVuTm9ybWFsIHJldHVybiBmcm9tIHN1YnJvdXRpbmUgQ09CWUxBJW5cIiksSClyZXR1cm4gYT49MSYmdGhpcy5QcmludEl0ZXJhdGlvblJlc3VsdChnLGosWCxzLGUsYSksWTticmVhaztjYXNlIHRoaXMuTWF4SXRlcmF0aW9uc1JlYWNoZWQ6YT49MSYmY29uc29sZS5sb2coXCIlblJldHVybiBmcm9tIHN1YnJvdXRpbmUgQ09CWUxBIGJlY2F1c2UgdGhlIE1BWEZVTiBsaW1pdCBoYXMgYmVlbiByZWFjaGVkLiVuXCIpO2JyZWFrO2Nhc2UgdGhpcy5EaXZlcmdpbmdSb3VuZGluZ0Vycm9yczphPj0xJiZjb25zb2xlLmxvZyhcIiVuUmV0dXJuIGZyb20gc3Vicm91dGluZSBDT0JZTEEgYmVjYXVzZSByb3VuZGluZyBlcnJvcnMgYXJlIGJlY29taW5nIGRhbWFnaW5nLiVuXCIpfWZvcih1PTE7dTw9ZTsrK3Upc1t1XT1aW3VdW0ZdO3JldHVybiBqPUtbVV1bRl0sWD1LW3JdW0ZdLGE+PTEmJnRoaXMuUHJpbnRJdGVyYXRpb25SZXN1bHQoZyxqLFgscyxlLGEpLFl9LHRyc3RscDpmdW5jdGlvbih0LGUsaSxyLHMsbyl7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHgsUyxPLHcsVCxOLE0sQSxSLEwsayxELEIsSSxZLGo9MCxYPTAsRj0wLFU9dGhpcy5hcnIyKDErdCwxK3QpLEo9dGhpcy5hcnIoMitlKSxHPXRoaXMuYXJyKDIrZSksej10aGlzLmFycigxK3QpLEg9dGhpcy5hcnIoMSt0KSxWPXRoaXMuYXJyKDIrZSksJD10aGlzLmFycigyK2UpLHE9ZSxXPTA7Zm9yKGg9MTtoPD10OysraClVW2hdW2hdPTEsb1toXT0wO2lmKG49MCxhPTAsZT49MSl7Zm9yKGw9MTtsPD1lOysrbClyW2xdPmEmJihhPXJbbF0sbj1sKTtmb3IobD0xO2w8PWU7KytsKSRbbF09bCxHW2xdPWEtcltsXX1jPSEwO2Rve3Q6Zm9yKDs7KXsoIWN8fGMmJjA9PT1hKSYmKG49cT1lKzEsJFtxXT1xLEdbcV09MCksYz0hMSxkPTAsdT0wLHA9MCxmPTA7ZTpkb3tpZihtPXE9PT1lP2E6LXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKG8sMSx0KSx0aGlzLlBBUlQodGhpcy5DT0woaSxxKSwxLHQpKSwwPT09dXx8bTxkPyhkPW0sWD1XLHU9Myk6Vz5YPyhYPVcsdT0zKTotLXUsMD09PXUpYnJlYWsgdDtpZihnPTAsbjw9Vyl7aWYobjxXKXtiPSRbbl0sdj1HW25dLGw9bjtkb3tmb3IoXz0kW0M9bCsxXSxQPXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuQ09MKFUsbCksMSx0KSx0aGlzLlBBUlQodGhpcy5DT0woaSxfKSwxLHQpKSxqPU1hdGguc3FydChQKlArSltDXSpKW0NdKSxFPUpbQ10vaix4PVAvaixKW0NdPUUqSltsXSxKW2xdPWosaD0xO2g8PXQ7KytoKWo9RSpVW2hdW0NdK3gqVVtoXVtsXSxVW2hdW0NdPUUqVVtoXVtsXS14KlVbaF1bQ10sVVtoXVtsXT1qOyRbbF09XyxHW2xdPUdbQ10sbD1DfXdoaWxlKGw8Vyk7JFtsXT1iLEdbbF09dn1pZigtLVcscT5lKWZvcihqPTEvSltXXSxsPTE7bDw9dDsrK2wpeltsXT1qKlVbbF1bV107ZWxzZSBmb3Ioaj10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh6LDEsdCksdGhpcy5QQVJUKHRoaXMuQ09MKFUsVysxKSwxLHQpKSxsPTE7bDw9dDsrK2wpeltsXS09aipVW2xdW1crMV19ZWxzZXtmb3IoXz0kW25dLGw9MTtsPD10OysrbClIW2xdPWlbbF1bX107Zm9yKFM9MCxsPXQ7bD5XOyl7Zm9yKFA9MCxPPTAsaD0xO2g8PXQ7KytoKVArPWo9VVtoXVtsXSpIW2hdLE8rPU1hdGguYWJzKGopO2lmKHc9TysuMSpNYXRoLmFicyhQKSxUPU8rLjIqTWF0aC5hYnMoUCksKE8+PXd8fHc+PVQpJiYoUD0wKSwwPT09UylTPVA7ZWxzZSBmb3IoQz1sKzEsRT1QLyhqPU1hdGguc3FydChQKlArUypTKSkseD1TL2osUz1qLGg9MTtoPD10OysraClqPUUqVVtoXVtsXSt4KlVbaF1bQ10sVVtoXVtDXT1FKlVbaF1bQ10teCpVW2hdW2xdLFVbaF1bbF09ajstLWx9aWYoMD09PVMpe2c9LTEsbD1XO2Rve2ZvcihOPTAsTT0wLGg9MTtoPD10OysraClOKz1qPVVbaF1bbF0qSFtoXSxNKz1NYXRoLmFicyhqKTtpZih3PU0rLjEqTWF0aC5hYnMoTiksVD1NKy4yKk1hdGguYWJzKE4pLE08dyYmdzxUKXtpZigoaj1OL0pbbF0pPjAmJiRbbF08PWUmJihZPUdbbF0vaiwoZzwwfHxZPGcpJiYoZz1ZKSksbD49Milmb3IoQT0kW2xdLGg9MTtoPD10OysraClIW2hdLT1qKmlbaF1bQV07VltsXT1qfWVsc2UgVltsXT0wfXdoaWxlKC0tbD4wKTtpZihnPDApYnJlYWsgdDtmb3IobD0xO2w8PVc7KytsKUdbbF09TWF0aC5tYXgoMCxHW2xdLWcqVltsXSk7aWYobjxXKXtiPSRbbl0sdj1HW25dLGw9bjtkb3tmb3IoQT0kW0M9bCsxXSxQPXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuQ09MKFUsbCksMSx0KSx0aGlzLlBBUlQodGhpcy5DT0woaSxBKSwxLHQpKSxqPU1hdGguc3FydChQKlArSltDXSpKW0NdKSxFPUpbQ10vaix4PVAvaixKW0NdPUUqSltsXSxKW2xdPWosaD0xO2g8PXQ7KytoKWo9RSpVW2hdW0NdK3gqVVtoXVtsXSxVW2hdW0NdPUUqVVtoXVtsXS14KlVbaF1bQ10sVVtoXVtsXT1qOyRbbF09QSxHW2xdPUdbQ10sbD1DfXdoaWxlKGw8Vyk7JFtsXT1iLEdbbF09dn1pZigwPT09KGo9dGhpcy5ET1RfUFJPRFVDVCh0aGlzLlBBUlQodGhpcy5DT0woVSxXKSwxLHQpLHRoaXMuUEFSVCh0aGlzLkNPTChpLF8pLDEsdCkpKSlicmVhayB0O0pbV109aixHW25dPTAsR1tXXT1nfWVsc2UgSlsrK1ddPVMsR1tuXT1HW1ddLEdbV109MDtpZigkW25dPSRbV10sJFtXXT1fLHE+ZSYmXyE9PXEpe2ZvcihsPVctMSxQPXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuQ09MKFUsbCksMSx0KSx0aGlzLlBBUlQodGhpcy5DT0woaSxfKSwxLHQpKSxqPU1hdGguc3FydChQKlArSltXXSpKW1ddKSxFPUpbV10vaix4PVAvaixKW1ddPUUqSltsXSxKW2xdPWosaD0xO2g8PXQ7KytoKWo9RSpVW2hdW1ddK3gqVVtoXVtsXSxVW2hdW1ddPUUqVVtoXVtsXS14KlVbaF1bV10sVVtoXVtsXT1qOyRbV109JFtsXSwkW2xdPV8saj1HW2xdLEdbbF09R1tXXSxHW1ddPWp9aWYocT5lKWZvcihqPTEvSltXXSxsPTE7bDw9dDsrK2wpeltsXT1qKlVbbF1bV107ZWxzZSBmb3IoXz0kW1ddLGo9KHRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHosMSx0KSx0aGlzLlBBUlQodGhpcy5DT0woaSxfKSwxLHQpKS0xKS9KW1ddLGw9MTtsPD10OysrbCl6W2xdLT1qKlVbbF1bV119Zm9yKFI9cypzLGs9MCxMPTAsaD0xO2g8PXQ7KytoKU1hdGguYWJzKG9baF0pPj0xZS02KnMmJihSLT1vW2hdKm9baF0pLGsrPW9baF0qeltoXSxMKz16W2hdKnpbaF07aWYoUjw9MClicmVhayB0O2lmKGo9TWF0aC5zcXJ0KEwqUiksTWF0aC5hYnMoayk+PTFlLTYqaiYmKGo9TWF0aC5zcXJ0KEwqUitrKmspKSxwPWY9Ui8oaitrKSxxPT09ZSl7aWYoVD1wKy4yKmEscD49KHc9cCsuMSphKXx8dz49VClicmVhayBlO3A9TWF0aC5taW4ocCxhKX1mb3IobD0xO2w8PXQ7KytsKUhbbF09b1tsXStwKnpbbF07aWYocT09PWUpZm9yKEY9YSxhPTAsbD0xO2w8PVc7KytsKWo9cltfPSRbbF1dLXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuQ09MKGksXyksMSx0KSx0aGlzLlBBUlQoSCwxLHQpKSxhPU1hdGgubWF4KGEsaik7bD1XO2Rve2ZvcihEPTAsQj0wLGg9MTtoPD10OysraClEKz1qPVVbaF1bbF0qSFtoXSxCKz1NYXRoLmFicyhqKTtpZih3PUIrLjEqTWF0aC5hYnMoRCksVD1CKy4yKk1hdGguYWJzKEQpLChCPj13fHx3Pj1UKSYmKEQ9MCksVltsXT1EL0pbbF0sbD49Milmb3IoXz0kW2xdLGg9MTtoPD10OysraClIW2hdLT1WW2xdKmlbaF1bX119d2hpbGUobC0tID49Mik7Zm9yKHE+ZSYmKFZbV109TWF0aC5tYXgoMCxWW1ddKSksbD0xO2w8PXQ7KytsKUhbbF09b1tsXStwKnpbbF07aWYocT5XKWZvcihsPVcrMTtsPD1xOysrbCl7Zm9yKHk9YS1yW189JFtsXV0sST1hK01hdGguYWJzKHJbX10pLGg9MTtoPD10OysraCl5Kz1qPWlbaF1bX10qSFtoXSxJKz1NYXRoLmFicyhqKTt3PUkrLjEqTWF0aC5hYnMoeSksVD1JKy4yKk1hdGguYWJzKHkpLChJPj13fHx3Pj1UKSYmKHk9MCksVltsXT15fWZvcihnPTEsbj0wLGw9MTtsPD1xOysrbClWW2xdPDAmJihqPUdbbF0vKEdbbF0tVltsXSkpPGcmJihnPWosbj1sKTtmb3Ioaj0xLWcsbD0xO2w8PXQ7KytsKW9bbF09aipvW2xdK2cqSFtsXTtmb3IobD0xO2w8PXE7KytsKUdbbF09TWF0aC5tYXgoMCxqKkdbbF0rZypWW2xdKTtxPT09ZSYmKGE9RitnKihhLUYpKX13aGlsZShuPjApO2lmKHA9PT1mKXJldHVybiEwfX13aGlsZShxPT09ZSk7cmV0dXJuITF9LFByaW50SXRlcmF0aW9uUmVzdWx0OmZ1bmN0aW9uKHQsZSxpLHIscyxvKXtvPjEmJmNvbnNvbGUubG9nKFwiTkZWQUxTID0gXCIrdCtcIiAgRiA9IFwiK2UrXCIgIE1BWENWID0gXCIraSksbz4xJiZjb25zb2xlLmxvZyhcIlggPSBcIit0aGlzLlBBUlQociwxLHMpKX0sUk9XOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZV0uc2xpY2UoKX0sQ09MOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj10Lmxlbmd0aCxzPXRoaXMuYXJyKHIpO2ZvcihpPTA7aTxyOysraSlzW2ldPXRbaV1bZV07cmV0dXJuIHN9LFBBUlQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0LnNsaWNlKGUsaSsxKX0sRk9STUFUOmZ1bmN0aW9uKHQpe3JldHVybiB0LmpvaW4oXCIsXCIpfSxET1RfUFJPRFVDVDpmdW5jdGlvbih0LGUpe3ZhciBpLHI9MCxzPXQubGVuZ3RoO2ZvcihpPTA7aTxzOysraSlyKz10W2ldKmVbaV07cmV0dXJuIHJ9fSx0Lk1hdGguTmxwfSkpLGRlZmluZShcIm1hdGgvc3RhdGlzdGljc1wiLFtcImp4Z1wiLFwibWF0aC9tYXRoXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIGUuU3RhdGlzdGljcz17c3VtOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5sZW5ndGgscj0wO2ZvcihlPTA7ZTxpO2UrKylyKz10W2VdO3JldHVybiByfSxwcm9kOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5sZW5ndGgscj0xO2ZvcihlPTA7ZTxpO2UrKylyKj10W2VdO3JldHVybiByfSxtZWFuOmZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD4wP3RoaXMuc3VtKHQpL3QubGVuZ3RoOjB9LG1lZGlhbjpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiB0Lmxlbmd0aD4wPyhBcnJheUJ1ZmZlci5pc1ZpZXcodCk/KGU9bmV3IEZsb2F0NjRBcnJheSh0KSkuc29ydCgpOihlPXQuc2xpY2UoMCkpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pKSwxJihpPWUubGVuZ3RoKT9lW3BhcnNlSW50KC41KmksMTApXTouNSooZVsuNSppLTFdK2VbLjUqaV0pKTowfSxwZXJjZW50aWxlOmZ1bmN0aW9uKHQsZSl7dmFyIHIscyxvLG4sYSxoPVtdO2lmKHQubGVuZ3RoPjApe2ZvcihBcnJheUJ1ZmZlci5pc1ZpZXcodCk/KHI9bmV3IEZsb2F0NjRBcnJheSh0KSkuc29ydCgpOihyPXQuc2xpY2UoMCkpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQtZX0pKSxzPXIubGVuZ3RoLG49aS5pc0FycmF5KGUpP2U6W2VdLG89MDtvPG4ubGVuZ3RoO28rKylhPXMqbltvXSouMDEscGFyc2VJbnQoYSwxMCk9PT1hP2gucHVzaCguNSooclthLTFdK3JbYV0pKTpoLnB1c2gocltwYXJzZUludChhLDEwKV0pO3JldHVybiBpLmlzQXJyYXkoZSk/aDpoWzBdfXJldHVybiAwfSx2YXJpYW5jZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscz10Lmxlbmd0aDtpZihzPjEpe2ZvcihlPXRoaXMubWVhbih0KSxpPTAscj0wO3I8cztyKyspaSs9KHRbcl0tZSkqKHRbcl0tZSk7cmV0dXJuIGkvKHQubGVuZ3RoLTEpfXJldHVybiAwfSxzZDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMudmFyaWFuY2UodCkpfSx3ZWlnaHRlZE1lYW46ZnVuY3Rpb24odCxlKXtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIGVycm9yIChNYXRoLlN0YXRpc3RpY3Mud2VpZ2h0ZWRNZWFuKTogQXJyYXkgZGltZW5zaW9uIG1pc21hdGNoLlwiKTtyZXR1cm4gdC5sZW5ndGg+MD90aGlzLm1lYW4odGhpcy5tdWx0aXBseSh0LGUpKTowfSxtYXg6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWF4LmFwcGx5KHRoaXMsdCl9LG1pbjpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5taW4uYXBwbHkodGhpcyx0KX0scmFuZ2U6ZnVuY3Rpb24odCl7cmV0dXJuW3RoaXMubWluKHQpLHRoaXMubWF4KHQpXX0sYWJzOmZ1bmN0aW9uKHQpe3ZhciBlLHIscztpZihpLmlzQXJyYXkodCkpaWYodC5tYXApcz10Lm1hcChNYXRoLmFicyk7ZWxzZSBmb3Iocj10Lmxlbmd0aCxzPVtdLGU9MDtlPHI7ZSsrKXNbZV09TWF0aC5hYnModFtlXSk7ZWxzZSBzPUFycmF5QnVmZmVyLmlzVmlldyh0KT90Lm1hcChNYXRoLmFicyk6TWF0aC5hYnModCk7cmV0dXJuIHN9LGFkZDpmdW5jdGlvbih0LGUpe3ZhciByLHMsbz1bXTtpZih0PWkuZXZhbFNsaWRlcih0KSxlPWkuZXZhbFNsaWRlcihlKSxpLmlzQXJyYXkodCkmJmkuaXNOdW1iZXIoZSkpZm9yKHM9dC5sZW5ndGgscj0wO3I8cztyKyspb1tyXT10W3JdK2U7ZWxzZSBpZihpLmlzTnVtYmVyKHQpJiZpLmlzQXJyYXkoZSkpZm9yKHM9ZS5sZW5ndGgscj0wO3I8cztyKyspb1tyXT10K2Vbcl07ZWxzZSBpZihpLmlzQXJyYXkodCkmJmkuaXNBcnJheShlKSlmb3Iocz1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCkscj0wO3I8cztyKyspb1tyXT10W3JdK2Vbcl07ZWxzZSBvPXQrZTtyZXR1cm4gb30sZGl2OmZ1bmN0aW9uKHQsZSl7dmFyIHIscyxvPVtdO2lmKHQ9aS5ldmFsU2xpZGVyKHQpLGU9aS5ldmFsU2xpZGVyKGUpLGkuaXNBcnJheSh0KSYmaS5pc051bWJlcihlKSlmb3Iocz10Lmxlbmd0aCxyPTA7cjxzO3IrKylvW3JdPXRbcl0vZTtlbHNlIGlmKGkuaXNOdW1iZXIodCkmJmkuaXNBcnJheShlKSlmb3Iocz1lLmxlbmd0aCxyPTA7cjxzO3IrKylvW3JdPXQvZVtyXTtlbHNlIGlmKGkuaXNBcnJheSh0KSYmaS5pc0FycmF5KGUpKWZvcihzPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxyPTA7cjxzO3IrKylvW3JdPXRbcl0vZVtyXTtlbHNlIG89dC9lO3JldHVybiBvfSxkaXZpZGU6ZnVuY3Rpb24oKXt0LmRlcHJlY2F0ZWQoXCJTdGF0aXN0aWNzLmRpdmlkZSgpXCIsXCJTdGF0aXN0aWNzLmRpdigpXCIpLGUuU3RhdGlzdGljcy5kaXYuYXBwbHkoZS5TdGF0aXN0aWNzLGFyZ3VtZW50cyl9LG1vZDpmdW5jdGlvbih0LHIscyl7dmFyIG8sbixhPVtdLGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCVlfTtpZigocz1pLmRlZihzLCExKSkmJihoPWUubW9kKSx0PWkuZXZhbFNsaWRlcih0KSxyPWkuZXZhbFNsaWRlcihyKSxpLmlzQXJyYXkodCkmJmkuaXNOdW1iZXIocikpZm9yKG49dC5sZW5ndGgsbz0wO288bjtvKyspYVtvXT1oKHRbb10scik7ZWxzZSBpZihpLmlzTnVtYmVyKHQpJiZpLmlzQXJyYXkocikpZm9yKG49ci5sZW5ndGgsbz0wO288bjtvKyspYVtvXT1oKHQscltvXSk7ZWxzZSBpZihpLmlzQXJyYXkodCkmJmkuaXNBcnJheShyKSlmb3Iobj1NYXRoLm1pbih0Lmxlbmd0aCxyLmxlbmd0aCksbz0wO288bjtvKyspYVtvXT1oKHRbb10scltvXSk7ZWxzZSBhPWgodCxyKTtyZXR1cm4gYX0sbXVsdGlwbHk6ZnVuY3Rpb24odCxlKXt2YXIgcixzLG89W107aWYodD1pLmV2YWxTbGlkZXIodCksZT1pLmV2YWxTbGlkZXIoZSksaS5pc0FycmF5KHQpJiZpLmlzTnVtYmVyKGUpKWZvcihzPXQubGVuZ3RoLHI9MDtyPHM7cisrKW9bcl09dFtyXSplO2Vsc2UgaWYoaS5pc051bWJlcih0KSYmaS5pc0FycmF5KGUpKWZvcihzPWUubGVuZ3RoLHI9MDtyPHM7cisrKW9bcl09dCplW3JdO2Vsc2UgaWYoaS5pc0FycmF5KHQpJiZpLmlzQXJyYXkoZSkpZm9yKHM9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpLHI9MDtyPHM7cisrKW9bcl09dFtyXSplW3JdO2Vsc2Ugbz10KmU7cmV0dXJuIG99LHN1YnRyYWN0OmZ1bmN0aW9uKHQsZSl7dmFyIHIscyxvPVtdO2lmKHQ9aS5ldmFsU2xpZGVyKHQpLGU9aS5ldmFsU2xpZGVyKGUpLGkuaXNBcnJheSh0KSYmaS5pc051bWJlcihlKSlmb3Iocz10Lmxlbmd0aCxyPTA7cjxzO3IrKylvW3JdPXRbcl0tZTtlbHNlIGlmKGkuaXNOdW1iZXIodCkmJmkuaXNBcnJheShlKSlmb3Iocz1lLmxlbmd0aCxyPTA7cjxzO3IrKylvW3JdPXQtZVtyXTtlbHNlIGlmKGkuaXNBcnJheSh0KSYmaS5pc0FycmF5KGUpKWZvcihzPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxyPTA7cjxzO3IrKylvW3JdPXRbcl0tZVtyXTtlbHNlIG89dC1lO3JldHVybiBvfSxUaGVpbFNlblJlZ3Jlc3Npb246ZnVuY3Rpb24odCl7dmFyIGkscixzPVtdLG89W10sbj1bXTtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKXtmb3Ioby5sZW5ndGg9MCxyPTA7cjx0Lmxlbmd0aDtyKyspTWF0aC5hYnModFtyXS51c3JDb29yZHNbMV0tdFtpXS51c3JDb29yZHNbMV0pPmUuZXBzJiYob1tyXT0odFtyXS51c3JDb29yZHNbMl0tdFtpXS51c3JDb29yZHNbMl0pLyh0W3JdLnVzckNvb3Jkc1sxXS10W2ldLnVzckNvb3Jkc1sxXSkpO3NbaV09dGhpcy5tZWRpYW4obyksbi5wdXNoKHRbaV0udXNyQ29vcmRzWzJdLXNbaV0qdFtpXS51c3JDb29yZHNbMV0pfXJldHVyblt0aGlzLm1lZGlhbihuKSx0aGlzLm1lZGlhbihzKSwtMV19LGdlbmVyYXRlR2F1c3NpYW46ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM7aWYodGhpcy5oYXNTcGFyZSlyZXR1cm4gdGhpcy5oYXNTcGFyZT0hMSx0aGlzLnNwYXJlKmUrdDtkb3tzPShpPTIqTWF0aC5yYW5kb20oKS0xKSppKyhyPTIqTWF0aC5yYW5kb20oKS0xKSpyfXdoaWxlKHM+PTF8fDA9PT1zKTtyZXR1cm4gcz1NYXRoLnNxcnQoLTIqTWF0aC5sb2cocykvcyksdGhpcy5zcGFyZT1yKnMsdGhpcy5oYXNTcGFyZT0hMCx0K2UqaSpzfX0sZS5TdGF0aXN0aWNzfSkpLGRlZmluZShcIm1hdGgvZ2VvbWV0cnlcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL251bWVyaWNzXCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy9leHBlY3RcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe1widXNlIHN0cmljdFwiO3JldHVybiByLkdlb21ldHJ5PXt9LHQuZXh0ZW5kKHIuR2VvbWV0cnkse2FuZ2xlOmZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvLG4sYSxoPVtdLGw9W10sYz1bXTtyZXR1cm4gdC5kZXByZWNhdGVkKFwiR2VvbWV0cnkuYW5nbGUoKVwiLFwiR2VvbWV0cnkucmFkKClcIiksZS5jb29yZHM/KGhbMF09ZS5jb29yZHMudXNyQ29vcmRzWzFdLGhbMV09ZS5jb29yZHMudXNyQ29vcmRzWzJdKTooaFswXT1lWzBdLGhbMV09ZVsxXSksaS5jb29yZHM/KGxbMF09aS5jb29yZHMudXNyQ29vcmRzWzFdLGxbMV09aS5jb29yZHMudXNyQ29vcmRzWzJdKToobFswXT1pWzBdLGxbMV09aVsxXSksci5jb29yZHM/KGNbMF09ci5jb29yZHMudXNyQ29vcmRzWzFdLGNbMV09ci5jb29yZHMudXNyQ29vcmRzWzJdKTooY1swXT1yWzBdLGNbMV09clsxXSkscz1oWzBdLWxbMF0sbz1oWzFdLWxbMV0sbj1jWzBdLWxbMF0sYT1jWzFdLWxbMV0sTWF0aC5hdGFuMihzKmEtbypuLHMqbitvKmEpfSx0cnVlQW5nbGU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiA1Ny4yOTU3Nzk1MTMwODIzMip0aGlzLnJhZCh0LGUsaSl9LHJhZDpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG4sYSxoLGw7cmV0dXJuIHQuY29vcmRzPyhyPXQuY29vcmRzLnVzckNvb3Jkc1sxXSxzPXQuY29vcmRzLnVzckNvb3Jkc1syXSk6KHI9dFswXSxzPXRbMV0pLGUuY29vcmRzPyhvPWUuY29vcmRzLnVzckNvb3Jkc1sxXSxuPWUuY29vcmRzLnVzckNvb3Jkc1syXSk6KG89ZVswXSxuPWVbMV0pLGkuY29vcmRzPyhhPWkuY29vcmRzLnVzckNvb3Jkc1sxXSxoPWkuY29vcmRzLnVzckNvb3Jkc1syXSk6KGE9aVswXSxoPWlbMV0pLChsPU1hdGguYXRhbjIoaC1uLGEtbyktTWF0aC5hdGFuMihzLW4sci1vKSk8MCYmKGwrPTYuMjgzMTg1MzA3MTc5NTg2KSxsfSxhbmdsZUJpc2VjdG9yOmZ1bmN0aW9uKHQscixzLG4pe3ZhciBhLGgsbCxjLGQsdT10LmNvb3Jkcy51c3JDb29yZHMscD1yLmNvb3Jkcy51c3JDb29yZHMsZj1zLmNvb3Jkcy51c3JDb29yZHM7cmV0dXJuIG8uZXhpc3RzKG4pfHwobj10LmJvYXJkKSwwPT09cFswXT9uZXcgaShlLkNPT1JEU19CWV9VU0VSLFsxLC41Kih1WzFdK2ZbMV0pLC41Kih1WzJdK2ZbMl0pXSxuKTooYz11WzFdLXBbMV0sZD11WzJdLXBbMl0sYT1NYXRoLmF0YW4yKGQsYyksYz1mWzFdLXBbMV0sZD1mWzJdLXBbMl0sbD0uNSooYSsoaD1NYXRoLmF0YW4yKGQsYykpKSxhPmgmJihsKz1NYXRoLlBJKSxjPU1hdGguY29zKGwpK3BbMV0sZD1NYXRoLnNpbihsKStwWzJdLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzEsYyxkXSxuKSl9LHJlZmxlY3Rpb246ZnVuY3Rpb24odCxyLHMpe3ZhciBuLGEsaCxsLGMsZCx1PXIuY29vcmRzLnVzckNvb3JkcyxwPXQucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsZj10LnBvaW50Mi5jb29yZHMudXNyQ29vcmRzO3JldHVybiBvLmV4aXN0cyhzKXx8KHM9ci5ib2FyZCksbD1mWzFdLXBbMV0sYz1mWzJdLXBbMl0sbj11WzFdLXBbMV0sZD0obCoodVsyXS1wWzJdKS1jKm4pLyhsKmwrYypjKSxhPXVbMV0rMipkKmMsaD11WzJdLTIqZCpsLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW2EsaF0scyl9LHJvdGF0aW9uOmZ1bmN0aW9uKHQscixzLG4pe3ZhciBhLGgsbCxjLGQsdSxwPXIuY29vcmRzLnVzckNvb3JkcyxmPXQuY29vcmRzLnVzckNvb3JkcztyZXR1cm4gby5leGlzdHMobil8fChuPXIuYm9hcmQpLGE9cFsxXS1mWzFdLGg9cFsyXS1mWzJdLGQ9YSoobD1NYXRoLmNvcyhzKSktaCooYz1NYXRoLnNpbihzKSkrZlsxXSx1PWEqYytoKmwrZlsyXSxuZXcgaShlLkNPT1JEU19CWV9VU0VSLFtkLHVdLG4pfSxwZXJwZW5kaWN1bGFyOmZ1bmN0aW9uKHQscyxuKXt2YXIgYSxoLGwsYyxkLHU9dC5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxwPXQucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMsZj1zLmNvb3Jkcy51c3JDb29yZHM7cmV0dXJuIG8uZXhpc3RzKG4pfHwobj1zLmJvYXJkKSxzPT09dC5wb2ludDE/KGE9dVsxXStwWzJdLXVbMl0saD11WzJdLXBbMV0rdVsxXSxkPXVbMF0qcFswXSxNYXRoLmFicyhkKTxyLmVwcyYmKGE9cFsyXSxoPS1wWzFdKSxjPVtkLGEsaF0sbD0hMCk6cz09PXQucG9pbnQyPyhhPXBbMV0rdVsyXS1wWzJdLGg9cFsyXS11WzFdK3BbMV0sZD11WzBdKnBbMF0sTWF0aC5hYnMoZCk8ci5lcHMmJihhPXVbMl0saD0tdVsxXSksYz1bZCxhLGhdLGw9ITEpOk1hdGguYWJzKHIuaW5uZXJQcm9kdWN0KGYsdC5zdGRmb3JtLDMpKTxyLmVwcz8oYT1mWzFdK3BbMl0tZlsyXSxoPWZbMl0tcFsxXStmWzFdLGQ9cFswXSxNYXRoLmFicyhkKTxyLmVwcyYmKGE9cFsyXSxoPS1wWzFdKSxsPSEwLE1hdGguYWJzKGQpPnIuZXBzJiZNYXRoLmFicyhhLWZbMV0pPHIuZXBzJiZNYXRoLmFicyhoLWZbMl0pPHIuZXBzJiYoYT1mWzFdK3VbMl0tZlsyXSxoPWZbMl0tdVsxXStmWzFdLGw9ITEpLGM9W2QsYSxoXSk6KGM9WzAsdC5zdGRmb3JtWzFdLHQuc3RkZm9ybVsyXV0sYz1yLmNyb3NzUHJvZHVjdChjLGYpLGM9ci5jcm9zc1Byb2R1Y3QoYyx0LnN0ZGZvcm0pLGw9ITApLFtuZXcgaShlLkNPT1JEU19CWV9VU0VSLGMsbiksbF19LGNpcmN1bWNlbnRlck1pZHBvaW50OmZ1bmN0aW9uKCl7dC5kZXByZWNhdGVkKFwiR2VvbWV0cnkuY2lyY3VtY2VudGVyTWlkcG9pbnQoKVwiLFwiR2VvbWV0cnkuY2lyY3VtY2VudGVyKClcIiksdGhpcy5jaXJjdW1jZW50ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjaXJjdW1jZW50ZXI6ZnVuY3Rpb24odCxzLG4sYSl7dmFyIGgsbCxjLGQsdT10LmNvb3Jkcy51c3JDb29yZHMscD1zLmNvb3Jkcy51c3JDb29yZHMsZj1uLmNvb3Jkcy51c3JDb29yZHM7cmV0dXJuIG8uZXhpc3RzKGEpfHwoYT10LmJvYXJkKSxoPVtwWzBdLXVbMF0sLXBbMl0rdVsyXSxwWzFdLXVbMV1dLGw9Wy41Kih1WzBdK3BbMF0pLC41Kih1WzFdK3BbMV0pLC41Kih1WzJdK3BbMl0pXSxjPXIuY3Jvc3NQcm9kdWN0KGgsbCksaD1bZlswXS1wWzBdLC1mWzJdK3BbMl0sZlsxXS1wWzFdXSxsPVsuNSoocFswXStmWzBdKSwuNSoocFsxXStmWzFdKSwuNSoocFsyXStmWzJdKV0sZD1yLmNyb3NzUHJvZHVjdChoLGwpLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsci5jcm9zc1Byb2R1Y3QoYyxkKSxhKX0sZGlzdGFuY2U6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM9MDtmb3IoaXx8KGk9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpKSxyPTA7cjxpO3IrKylzKz0odFtyXS1lW3JdKSoodFtyXS1lW3JdKTtyZXR1cm4gTWF0aC5zcXJ0KHMpfSxhZmZpbmVEaXN0YW5jZTpmdW5jdGlvbih0LGUsaSl7dmFyIHM7cmV0dXJuKHM9dGhpcy5kaXN0YW5jZSh0LGUsaSkpPnIuZXBzJiYoTWF0aC5hYnModFswXSk8ci5lcHN8fE1hdGguYWJzKGVbMF0pPHIuZXBzKT8xLzA6c30sYWZmaW5lUmF0aW86ZnVuY3Rpb24odCxlLGkpe3ZhciBzO3JldHVybiBvLmV4aXN0cyh0LnVzckNvb3JkcykmJih0PXQudXNyQ29vcmRzKSxvLmV4aXN0cyhlLnVzckNvb3JkcykmJihlPWUudXNyQ29vcmRzKSxvLmV4aXN0cyhpLnVzckNvb3JkcykmJihpPWkudXNyQ29vcmRzKSxzPWVbMV0tdFsxXSxNYXRoLmFicyhzKT5yLmVwcz8oaVsxXS10WzFdKS9zOihpWzJdLXRbMl0pLyhlWzJdLXRbMl0pfSxzb3J0VmVydGljZXM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9bi5lYWNoKHQsbi5jb29yZHNBcnJheSkscj1pLmxlbmd0aCxzPW51bGw7aVswXVswXT09PWlbci0xXVswXSYmaVswXVsxXT09PWlbci0xXVsxXSYmaVswXVsyXT09PWlbci0xXVsyXTspcz1pLnBvcCgpLHItLTtyZXR1cm4gZT1pWzBdLGkuc29ydCgoZnVuY3Rpb24odCxpKXtyZXR1cm4odFsyXT09PWVbMl0mJnRbMV09PT1lWzFdPy0xLzA6TWF0aC5hdGFuMih0WzJdLWVbMl0sdFsxXS1lWzFdKSktKGlbMl09PT1lWzJdJiZpWzFdPT09ZVsxXT8tMS8wOk1hdGguYXRhbjIoaVsyXS1lWzJdLGlbMV0tZVsxXSkpfSkpLG51bGwhPT1zJiZpLnB1c2gocyksaX0sc2lnbmVkVHJpYW5nbGU6ZnVuY3Rpb24odCxlLGkpe3ZhciByPW4uY29vcmRzQXJyYXkodCkscz1uLmNvb3Jkc0FycmF5KGUpLG89bi5jb29yZHNBcnJheShpKTtyZXR1cm4uNSooKHNbMV0tclsxXSkqKG9bMl0tclsyXSktKHNbMl0tclsyXSkqKG9bMV0tclsxXSkpfSxzaWduZWRQb2x5Z29uOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzPTAsbz1uLmVhY2godCxuLmNvb3Jkc0FycmF5KTtmb3Iodm9pZCAwPT09ZSYmKGU9ITApLGU/by51bnNoaWZ0KG9bby5sZW5ndGgtMV0pOm89dGhpcy5zb3J0VmVydGljZXMobykscj1vLmxlbmd0aCxpPTE7aTxyO2krKylzKz1vW2ktMV1bMV0qb1tpXVsyXS1vW2ldWzFdKm9baS0xXVsyXTtyZXR1cm4uNSpzfSxHcmFoYW1TY2FuOmZ1bmN0aW9uKHQpe3ZhciBlLGk9MSxyPW4uZWFjaCh0LG4uY29vcmRzQXJyYXkpLHM9ci5sZW5ndGg7Zm9yKHM9KHI9dGhpcy5zb3J0VmVydGljZXMocikpLmxlbmd0aCxlPTI7ZTxzO2UrKyl7Zm9yKDt0aGlzLnNpZ25lZFRyaWFuZ2xlKHJbaS0xXSxyW2ldLHJbZV0pPD0wOyl7aWYoaT4xKWktPTE7ZWxzZSBpZihlPT09cy0xKWJyZWFrO2UrPTF9aSs9MSxyPW8uc3dhcChyLGksZSl9cmV0dXJuIHIuc2xpY2UoMCxpKX0sY2FsY1N0cmFpZ2h0OmZ1bmN0aW9uKHQsaSxzLG4pe3ZhciBhLGgsbCxjLGQsdSxwLGYsbSxnO2lmKG8uZXhpc3RzKG4pfHwobj0xMCksdT1vLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJhaWdodGZpcnN0KSxwPW8uZXZhbHVhdGUodC52aXNQcm9wLnN0cmFpZ2h0bGFzdCksTWF0aC5hYnMoaS5zY3JDb29yZHNbMF0pPHIuZXBzJiYodT0hMCksTWF0aC5hYnMocy5zY3JDb29yZHNbMF0pPHIuZXBzJiYocD0hMCksKHV8fHApJiYoKGY9W10pWzBdPXQuc3RkZm9ybVswXS10LnN0ZGZvcm1bMV0qdC5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzFdL3QuYm9hcmQudW5pdFgrdC5zdGRmb3JtWzJdKnQuYm9hcmQub3JpZ2luLnNjckNvb3Jkc1syXS90LmJvYXJkLnVuaXRZLGZbMV09dC5zdGRmb3JtWzFdL3QuYm9hcmQudW5pdFgsZlsyXT0tdC5zdGRmb3JtWzJdL3QuYm9hcmQudW5pdFksIWlzTmFOKGZbMF0rZlsxXStmWzJdKSkpe2lmKCExLCExLGE9IXUmJk1hdGguYWJzKGkudXNyQ29vcmRzWzBdKT49ci5lcHMmJmkuc2NyQ29vcmRzWzFdPj0wJiZpLnNjckNvb3Jkc1sxXTw9dC5ib2FyZC5jYW52YXNXaWR0aCYmaS5zY3JDb29yZHNbMl0+PTAmJmkuc2NyQ29vcmRzWzJdPD10LmJvYXJkLmNhbnZhc0hlaWdodCxoPSFwJiZNYXRoLmFicyhzLnVzckNvb3Jkc1swXSk+PXIuZXBzJiZzLnNjckNvb3Jkc1sxXT49MCYmcy5zY3JDb29yZHNbMV08PXQuYm9hcmQuY2FudmFzV2lkdGgmJnMuc2NyQ29vcmRzWzJdPj0wJiZzLnNjckNvb3Jkc1syXTw9dC5ib2FyZC5jYW52YXNIZWlnaHQsYz0obD10aGlzLm1lZXRMaW5lQm9hcmQoZix0LmJvYXJkLG4pKVswXSxkPWxbMV0sIWEmJiFoKXtpZighdSYmcCYmIXRoaXMuaXNTYW1lRGlyZWN0aW9uKGkscyxjKSYmIXRoaXMuaXNTYW1lRGlyZWN0aW9uKGkscyxkKSlyZXR1cm47aWYodSYmIXAmJiF0aGlzLmlzU2FtZURpcmVjdGlvbihzLGksYykmJiF0aGlzLmlzU2FtZURpcmVjdGlvbihzLGksZCkpcmV0dXJufWE/aHx8KGc9dGhpcy5pc1NhbWVEaXIoaSxzLGMsZCk/ZDpjKTpoP209dGhpcy5pc1NhbWVEaXIoaSxzLGMsZCk/YzpkOnRoaXMuaXNTYW1lRGlyKGkscyxjLGQpPyhtPWMsZz1kKTooZz1jLG09ZCksbSYmaS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLG0udXNyQ29vcmRzKSxnJiZzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsZy51c3JDb29yZHMpfX0sY2FsY0xpbmVEZWxpbWl0aW5nUG9pbnRzOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbixhLGgsbCxjLGQsdSxwLGYsbSxnO2lmKGM9by5ldmFsdWF0ZSh0LnZpc1Byb3Auc3RyYWlnaHRmaXJzdCksZD1vLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJhaWdodGxhc3QpLE1hdGguYWJzKGkuc2NyQ29vcmRzWzBdKTxyLmVwcyYmKGM9ITApLE1hdGguYWJzKHMuc2NyQ29vcmRzWzBdKTxyLmVwcyYmKGQ9ITApLCh1PVtdKVswXT10LnN0ZGZvcm1bMF0tdC5zdGRmb3JtWzFdKnQuYm9hcmQub3JpZ2luLnNjckNvb3Jkc1sxXS90LmJvYXJkLnVuaXRYK3Quc3RkZm9ybVsyXSp0LmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMl0vdC5ib2FyZC51bml0WSx1WzFdPXQuc3RkZm9ybVsxXS90LmJvYXJkLnVuaXRYLHVbMl09LXQuc3RkZm9ybVsyXS90LmJvYXJkLnVuaXRZLCFpc05hTih1WzBdK3VbMV0rdVsyXSkpe2lmKG09IWMsZz0hZCxhPXQuYm9hcmQuZ2V0Qm91bmRpbmdCb3goKSx0LmdldFNsb3BlKCk+PTA/KGg9dGhpcy5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3Jkczp7dXNyQ29vcmRzOlsxLGFbMl0sYVsxXV19fSx0LHQuYm9hcmQpLGw9dGhpcy5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3Jkczp7dXNyQ29vcmRzOlsxLGFbMF0sYVszXV19fSx0LHQuYm9hcmQpKTooaD10aGlzLnByb2plY3RQb2ludFRvTGluZSh7Y29vcmRzOnt1c3JDb29yZHM6WzEsYVswXSxhWzFdXX19LHQsdC5ib2FyZCksbD10aGlzLnByb2plY3RQb2ludFRvTGluZSh7Y29vcmRzOnt1c3JDb29yZHM6WzEsYVsyXSxhWzNdXX19LHQsdC5ib2FyZCkpLCFtJiYhZyl7aWYoIWMmJiFkKXtpZihuPWkuZGlzdGFuY2UoZS5DT09SRFNfQllfVVNFUixzKSxNYXRoLmFicyhpLmRpc3RhbmNlKGUuQ09PUkRTX0JZX1VTRVIsaCkraC5kaXN0YW5jZShlLkNPT1JEU19CWV9VU0VSLHMpLW4pPnIuZXBzKXJldHVybjtpZihNYXRoLmFicyhpLmRpc3RhbmNlKGUuQ09PUkRTX0JZX1VTRVIsbCkrbC5kaXN0YW5jZShlLkNPT1JEU19CWV9VU0VSLHMpLW4pPnIuZXBzKXJldHVybn1pZighYyYmZCYmIXRoaXMuaXNTYW1lRGlyZWN0aW9uKGkscyxoKSYmIXRoaXMuaXNTYW1lRGlyZWN0aW9uKGkscyxsKSlyZXR1cm47aWYoYyYmIWQmJiF0aGlzLmlzU2FtZURpcmVjdGlvbihzLGksaCkmJiF0aGlzLmlzU2FtZURpcmVjdGlvbihzLGksbCkpcmV0dXJufW0/Z3x8KGY9dGhpcy5pc1NhbWVEaXIoaSxzLGgsbCk/bDpoKTpnP3A9dGhpcy5pc1NhbWVEaXIoaSxzLGgsbCk/aDpsOnRoaXMuaXNTYW1lRGlyKGkscyxoLGwpPyhwPWgsZj1sKTooZj1oLHA9bCkscCYmaS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLHAudXNyQ29vcmRzKSxmJiZzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsZi51c3JDb29yZHMpfX0sY2FsY0xhYmVsUXVhZHJhbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MCYmKHQrPTIqTWF0aC5QSSksW1wicnRcIixcInVydFwiLFwidG9wXCIsXCJ1bGZ0XCIsXCJsZnRcIixcImxsZnRcIixcImxydFwiXVtNYXRoLmZsb29yKCh0K01hdGguUEkvOCkvKE1hdGguUEkvNCkpJThdfSxpc1NhbWVEaXI6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG89ZS51c3JDb29yZHNbMV0tdC51c3JDb29yZHNbMV0sbj1lLnVzckNvb3Jkc1syXS10LnVzckNvb3Jkc1syXSxhPXMudXNyQ29vcmRzWzFdLWkudXNyQ29vcmRzWzFdLGg9cy51c3JDb29yZHNbMl0taS51c3JDb29yZHNbMl07cmV0dXJuIE1hdGguYWJzKGUudXNyQ29vcmRzWzBdKTxyLmVwcyYmKG89ZS51c3JDb29yZHNbMV0sbj1lLnVzckNvb3Jkc1syXSksTWF0aC5hYnModC51c3JDb29yZHNbMF0pPHIuZXBzJiYobz0tdC51c3JDb29yZHNbMV0sbj0tdC51c3JDb29yZHNbMl0pLG8qYStuKmg+PTB9LGlzU2FtZURpcmVjdGlvbjpmdW5jdGlvbih0LGUsaSl7dmFyIHMsbyxuLGEsaD0hMTtyZXR1cm4gcz1lLnVzckNvb3Jkc1sxXS10LnVzckNvb3Jkc1sxXSxvPWUudXNyQ29vcmRzWzJdLXQudXNyQ29vcmRzWzJdLG49aS51c3JDb29yZHNbMV0tdC51c3JDb29yZHNbMV0sYT1pLnVzckNvb3Jkc1syXS10LnVzckNvb3Jkc1syXSxNYXRoLmFicyhzKTxyLmVwcyYmKHM9MCksTWF0aC5hYnMobyk8ci5lcHMmJihvPTApLE1hdGguYWJzKG4pPHIuZXBzJiYobj0wKSxNYXRoLmFicyhhKTxyLmVwcyYmKGE9MCksKHM+PTAmJm4+PTB8fHM8PTAmJm48PTApJiYoaD1vPj0wJiZhPj0wfHxvPD0wJiZhPD0wKSxofSxpbnRlcnNlY3Rpb25GdW5jdGlvbjpmdW5jdGlvbihzLG4sYSxoLGwsYyl7dmFyIGQsdSxwPXRoaXM7cmV0dXJuIGQ9bi5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmKG4udHlwZT09PWUuT0JKRUNUX1RZUEVfQVJDfHxuLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1NFQ1RPUiksdT1hLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NVUlZFJiYoYS50eXBlPT09ZS5PQkpFQ1RfVFlQRV9BUkN8fGEudHlwZT09PWUuT0JKRUNUX1RZUEVfU0VDVE9SKSxuLmVsZW1lbnRDbGFzcyE9PWUuT0JKRUNUX0NMQVNTX0NVUlZFJiZhLmVsZW1lbnRDbGFzcyE9PWUuT0JKRUNUX0NMQVNTX0NVUlZFfHxuLmVsZW1lbnRDbGFzcyE9PWUuT0JKRUNUX0NMQVNTX0NVUlZFJiZuLmVsZW1lbnRDbGFzcyE9PWUuT0JKRUNUX0NMQVNTX0NJUkNMRXx8YS5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmYS5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19DSVJDTEU/bi5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmIWQmJmEuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORXx8YS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmIXUmJm4uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORT9mdW5jdGlvbigpe3JldHVybiBwLm1lZXRDdXJ2ZUxpbmUobixhLGgsbi5ib2FyZCxjKX06bi50eXBlPT09ZS5PQkpFQ1RfVFlQRV9QT0xZR09OfHxhLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1BPTFlHT04/bi5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FP2Z1bmN0aW9uKCl7cmV0dXJuIHAubWVldFBvbHlnb25MaW5lKGEsbixoLG4uYm9hcmQsYyl9OmEuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORT9mdW5jdGlvbigpe3JldHVybiBwLm1lZXRQb2x5Z29uTGluZShuLGEsaCxuLmJvYXJkLGMpfTpmdW5jdGlvbigpe3JldHVybiBwLm1lZXRQYXRoUGF0aChuLGEsaCxuLmJvYXJkKX06bi5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FJiZhLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0xJTkU/ZnVuY3Rpb24oKXt2YXIgdCxyLHM9by5ldmFsdWF0ZShuLnZpc1Byb3Auc3RyYWlnaHRmaXJzdCksbD1vLmV2YWx1YXRlKG4udmlzUHJvcC5zdHJhaWdodGxhc3QpLGQ9by5ldmFsdWF0ZShhLnZpc1Byb3Auc3RyYWlnaHRmaXJzdCksdT1vLmV2YWx1YXRlKGEudmlzUHJvcC5zdHJhaWdodGxhc3QpO3JldHVybiBvLmV2YWx1YXRlKGMpfHxzJiZsJiZkJiZ1P3AubWVldChuLnN0ZGZvcm0sYS5zdGRmb3JtLGgsbi5ib2FyZCk6KHQ9cC5tZWV0U2VnbWVudFNlZ21lbnQobi5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxuLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLGEucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsYS5wb2ludDIuY29vcmRzLnVzckNvb3Jkcykscj0hcyYmdFsxXTwwfHwhbCYmdFsxXT4xfHwhZCYmdFsyXTwwfHwhdSYmdFsyXT4xP1swLE5hTixOYU5dOnRbMF0sbmV3IGkoZS5DT09SRFNfQllfVVNFUixyLG4uYm9hcmQpKX06ZnVuY3Rpb24oKXt2YXIgcyxsLGYsbT1wLm1lZXQobi5zdGRmb3JtLGEuc3RkZm9ybSxoLG4uYm9hcmQpLGc9ITA7cmV0dXJuIGM/bToobi5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19MSU5FfHwocz1vLmV2YWx1YXRlKG4udmlzUHJvcC5zdHJhaWdodGZpcnN0KSxsPW8uZXZhbHVhdGUobi52aXNQcm9wLnN0cmFpZ2h0bGFzdCkscyYmbHx8KGY9cC5hZmZpbmVSYXRpbyhuLnBvaW50MS5jb29yZHMsbi5wb2ludDIuY29vcmRzLG0pLCEoIWwmJmY+MStyLmVwc3x8IXMmJmY8MC1yLmVwcykpKSkmJihhLmVsZW1lbnRDbGFzcyE9PWUuT0JKRUNUX0NMQVNTX0xJTkV8fChzPW8uZXZhbHVhdGUoYS52aXNQcm9wLnN0cmFpZ2h0Zmlyc3QpLGw9by5ldmFsdWF0ZShhLnZpc1Byb3Auc3RyYWlnaHRsYXN0KSxzJiZsfHwoZj1wLmFmZmluZVJhdGlvKGEucG9pbnQxLmNvb3JkcyxhLnBvaW50Mi5jb29yZHMsbSksISghbCYmZj4xK3IuZXBzfHwhcyYmZjwwLXIuZXBzKSkpKT9kJiYoKGc9cC5jb29yZHNPbkFyYyhuLG0pKSYmdSYmKGc9cC5jb29yZHNPbkFyYyhhLG0pKSwhZyk/bmV3IGkodC5DT09SRFNfQllfVVNFUixbMCxOYU4sTmFOXSxuLmJvYXJkKTptOm5ldyBpKHQuQ09PUkRTX0JZX1VTRVIsWzAsTmFOLE5hTl0sbi5ib2FyZCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHAubWVldEN1cnZlQ3VydmUobixhLGgsbCxuLmJvYXJkKX19LGNvb3Jkc09uQXJjOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5yYWQodC5yYWRpdXNwb2ludCx0LmNlbnRlcixlLnVzckNvb3Jkcy5zbGljZSgxKSkscj0wLHM9dGhpcy5yYWQodC5yYWRpdXNwb2ludCx0LmNlbnRlcix0LmFuZ2xlcG9pbnQpLG49by5ldmFsdWF0ZSh0LnZpc1Byb3Auc2VsZWN0aW9uKTtyZXR1cm4oXCJtaW5vclwiPT09biYmcz5NYXRoLlBJfHxcIm1ham9yXCI9PT1uJiZzPE1hdGguUEkpJiYocj1zLHM9MipNYXRoLlBJKSwhKGk8cnx8aT5zKX0sbWVldDpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbz1yLmVwcztyZXR1cm4gTWF0aC5hYnModFszXSk8byYmTWF0aC5hYnMoZVszXSk8bz90aGlzLm1lZXRMaW5lTGluZSh0LGUsaSxzKTpNYXRoLmFicyh0WzNdKT49byYmTWF0aC5hYnMoZVszXSk8bz90aGlzLm1lZXRMaW5lQ2lyY2xlKGUsdCxpLHMpOk1hdGguYWJzKHRbM10pPG8mJk1hdGguYWJzKGVbM10pPj1vP3RoaXMubWVldExpbmVDaXJjbGUodCxlLGkscyk6dGhpcy5tZWV0Q2lyY2xlQ2lyY2xlKHQsZSxpLHMpfSxtZWV0TGluZUJvYXJkOmZ1bmN0aW9uKHQscyxuKXt2YXIgYSxoLGwsYyxkPVtdO2ZvcihvLmV4aXN0cyhuKXx8KG49MCksZFswXT1yLmNyb3NzUHJvZHVjdCh0LFtuLDAsMV0pLGRbMV09ci5jcm9zc1Byb2R1Y3QodCxbbiwxLDBdKSxkWzJdPXIuY3Jvc3NQcm9kdWN0KHQsWy1uLXMuY2FudmFzSGVpZ2h0LDAsMV0pLGRbM109ci5jcm9zc1Byb2R1Y3QodCxbLW4tcy5jYW52YXNXaWR0aCwxLDBdKSxsPTA7bDw0O2wrKylpZihNYXRoLmFicyhkW2xdWzBdKT5yLmVwcyl7Zm9yKGM9MjtjPjA7Yy0tKWRbbF1bY10vPWRbbF1bMF07ZFtsXVswXT0xfXJldHVybiBNYXRoLmFicyhkWzFdWzBdKTxyLmVwcz8oYT1kWzBdLGg9ZFsyXSk6TWF0aC5hYnMoZFswXVswXSk8ci5lcHM/KGE9ZFsxXSxoPWRbM10pOmRbMV1bMl08MD8oYT1kWzBdLGg9ZFszXVsyXT5zLmNhbnZhc0hlaWdodD9kWzJdOmRbM10pOmRbMV1bMl0+cy5jYW52YXNIZWlnaHQ/KGE9ZFsyXSxoPWRbM11bMl08MD9kWzBdOmRbM10pOihhPWRbMV0saD1kWzNdWzJdPDA/ZFswXTpkWzNdWzJdPnMuY2FudmFzSGVpZ2h0P2RbMl06ZFszXSksW2E9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLGEuc2xpY2UoMSkscyksaD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4saC5zbGljZSgxKSxzKV19LG1lZXRMaW5lTGluZTpmdW5jdGlvbih0LHMsbyxuKXt2YXIgYT1pc05hTih0WzVdK3NbNV0pP1swLDAsMF06ci5jcm9zc1Byb2R1Y3QodCxzKTtyZXR1cm4gbmV3IGkoZS5DT09SRFNfQllfVVNFUixhLG4pfSxtZWV0TGluZUNpcmNsZTpmdW5jdGlvbih0LHMsbyxuKXt2YXIgYSxoLGwsYyxkLHUscCxmLG07cmV0dXJuIHNbNF08ci5lcHM/TWF0aC5hYnMoci5pbm5lclByb2R1Y3QoWzEsc1s2XSxzWzddXSx0LDMpKTxyLmVwcz9uZXcgaShlLkNPT1JEU19CWV9VU0VSLHMuc2xpY2UoNiw4KSxuKTpuZXcgaShlLkNPT1JEU19CWV9VU0VSLFtOYU4sTmFOXSxuKToobD1zWzBdLGg9cy5zbGljZSgxLDMpLGE9c1szXSxjPXRbMF0sZD10LnNsaWNlKDEsMyksdT1hLChmPShwPWhbMF0qZFsxXS1oWzFdKmRbMF0pKnAtNCp1KihhKmMqYy0oaFswXSpkWzBdK2hbMV0qZFsxXSkqYytsKSk+LXIuZXBzKnIuZXBzPyhtPVsoLXArKGY9TWF0aC5zcXJ0KE1hdGguYWJzKGYpKSkpLygyKnUpLCgtcC1mKS8oMip1KV0sbmV3IGkoZS5DT09SRFNfQllfVVNFUiwwPT09bz9bLW1bMF0qLWRbMV0tYypkWzBdLC1tWzBdKmRbMF0tYypkWzFdXTpbLW1bMV0qLWRbMV0tYypkWzBdLC1tWzFdKmRbMF0tYypkWzFdXSxuKSk6bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwLDBdLG4pKX0sbWVldENpcmNsZUNpcmNsZTpmdW5jdGlvbih0LHMsbyxuKXt2YXIgYTtyZXR1cm4gdFs0XTxyLmVwcz9NYXRoLmFicyh0aGlzLmRpc3RhbmNlKHQuc2xpY2UoNiwyKSxzLnNsaWNlKDYsOCkpLXNbNF0pPHIuZXBzP25ldyBpKGUuQ09PUkRTX0JZX1VTRVIsdC5zbGljZSg2LDgpLG4pOm5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMCwwXSxuKTpzWzRdPHIuZXBzP01hdGguYWJzKHRoaXMuZGlzdGFuY2Uocy5zbGljZSg2LDIpLHQuc2xpY2UoNiw4KSktdFs0XSk8ci5lcHM/bmV3IGkoZS5DT09SRFNfQllfVVNFUixzLnNsaWNlKDYsOCksbik6bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwLDBdLG4pOihhPVtzWzNdKnRbMF0tdFszXSpzWzBdLHNbM10qdFsxXS10WzNdKnNbMV0sc1szXSp0WzJdLXRbM10qc1syXSwwLDEsMS8wLDEvMCwxLzBdLGE9ci5ub3JtYWxpemUoYSksdGhpcy5tZWV0TGluZUNpcmNsZShhLHQsbyxuKSl9LG1lZXRDdXJ2ZUN1cnZlOmZ1bmN0aW9uKHQscixuLGEsaCxsKXt2YXIgYztyZXR1cm4gYz1vLmV4aXN0cyhsKSYmXCJuZXd0b25cIj09PWw/cy5nZW5lcmFsaXplZE5ld3Rvbih0LHIsbixhKTozPT09dC5iZXppZXJEZWdyZWV8fDM9PT1yLmJlemllckRlZ3JlZT90aGlzLm1lZXRCZXppZXJDdXJ2ZVJlZEJsdWVTZWdtZW50cyh0LHIsbik6dGhpcy5tZWV0Q3VydmVSZWRCbHVlU2VnbWVudHModCxyLG4pLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsYyxoKX0sbWVldEN1cnZlTGluZTpmdW5jdGlvbih0LGkscixzLG4pe3ZhciBhLGg7cmV0dXJuIG8uZXhpc3RzKHMpfHwocz10LmJvYXJkKSx0LmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NVUlZFPyhhPXQsaD1pKTooYT1pLGg9dCksdGhpcy5tZWV0Q3VydmVMaW5lRGlzY3JldGUoYSxoLHIscywhbil9LG1lZXRDdXJ2ZUxpbmVDb250aW51b3VzOmZ1bmN0aW9uKHQsbyxuLGEsaCl7dmFyIGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUD1yLmVwcyxFPXIuZXBzO2Zvcih1PXRoaXMubWVldEN1cnZlTGluZURpc2NyZXRlKHQsbyxuLGEsaCkscD11LnVzckNvb3Jkc1sxXSxmPXUudXNyQ29vcmRzWzJdLGM9ZnVuY3Rpb24oZSl7dmFyIGkscjtyZXR1cm4gZT50Lm1heFgoKXx8ZTx0Lm1pblgoKT8xLzA6KGk9cC10LlgoZSkpKmkrKHI9Zi10LlkoZSkpKnJ9LGQ9ZnVuY3Rpb24oZSl7dmFyIGk9by5zdGRmb3JtWzBdK28uc3RkZm9ybVsxXSp0LlgoZSkrby5zdGRmb3JtWzJdKnQuWShlKTtyZXR1cm4gaSppfSw1MCxnPSh0Lm1heFgoKS10Lm1pblgoKSkvNTAsYj10Lm1pblgoKSxDPTFlLTQseT1OYU4sdj0wO3Y8NTAmJihsPXMucm9vdChjLFtNYXRoLm1heChiLHQubWluWCgpKSxNYXRoLm1pbihiK2csdC5tYXhYKCkpXSksISgoXz1NYXRoLmFicyhjKGwpKSk8PUMmJih5PWwsKEM9Xyk8UCkpKTt2KyspYis9ZztyZXR1cm4gbD15LF89ZChsPXMucm9vdChkLFtNYXRoLm1heChsLWcsdC5taW5YKCkpLE1hdGgubWluKGwrZyx0Lm1heFgoKSldKSksbT1pc05hTihfKXx8TWF0aC5hYnMoXyk+RT8wOjEsbmV3IGkoZS5DT09SRFNfQllfVVNFUixbbSx0LlgobCksdC5ZKGwpXSxhKX0sbWVldEN1cnZlTGluZURpc2NyZXRlOmZ1bmN0aW9uKHQscyxuLGEsaCl7dmFyIGwsYyxkLHUscCxmLG0sZz1zLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGI9cy5wb2ludDIuY29vcmRzLnVzckNvb3Jkcyx2PTAseT10Lm51bWJlclBvaW50cyxDPW8uZXZhbHVhdGUocy52aXNQcm9wLnN0cmFpZ2h0Zmlyc3QpLF89by5ldmFsdWF0ZShzLnZpc1Byb3Auc3RyYWlnaHRsYXN0KTtmb3IoZj1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLE5hTixOYU5dLGEpLDA9PT1nWzBdP2c9WzEsYlsxXStzLnN0ZGZvcm1bMl0sYlsyXS1zLnN0ZGZvcm1bMV1dOjA9PT1iWzBdJiYoYj1bMSxnWzFdK3Muc3RkZm9ybVsyXSxnWzJdLXMuc3RkZm9ybVsxXV0pLHU9dC5wb2ludHNbMF0udXNyQ29vcmRzLGw9MTtsPHk7bCs9dC5iZXppZXJEZWdyZWUpaWYoZD11LnNsaWNlKDApLHU9dC5wb2ludHNbbF0udXNyQ29vcmRzLHRoaXMuZGlzdGFuY2UoZCx1KT5yLmVwcylmb3IobT0zPT09dC5iZXppZXJEZWdyZWU/dGhpcy5tZWV0QmV6aWVyc2VnbWVudEJlemllcnNlZ21lbnQoW3QucG9pbnRzW2wtMV0udXNyQ29vcmRzLnNsaWNlKDEpLHQucG9pbnRzW2xdLnVzckNvb3Jkcy5zbGljZSgxKSx0LnBvaW50c1tsKzFdLnVzckNvb3Jkcy5zbGljZSgxKSx0LnBvaW50c1tsKzJdLnVzckNvb3Jkcy5zbGljZSgxKV0sW2cuc2xpY2UoMSksYi5zbGljZSgxKV0saCk6W3RoaXMubWVldFNlZ21lbnRTZWdtZW50KGQsdSxnLGIpXSxjPTA7YzxtLmxlbmd0aDtjKyspaWYoMDw9KHA9bVtjXSlbMV0mJnBbMV08PTEpe2lmKHY9PT1uKXJldHVybiBoJiYoIUMmJnBbMl08MHx8IV8mJnBbMl0+MSk/ZjpmPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIscFswXSxhKTt2Kz0xfXJldHVybiBmfSxtZWV0Q3VydmVSZWRCbHVlU2VnbWVudHM6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGEsaCxsLGMsZCx1PTAscD1lLm51bWJlclBvaW50cyxmPXQubnVtYmVyUG9pbnRzO2lmKHA8PTF8fGY8PTEpcmV0dXJuWzAsTmFOLE5hTl07Zm9yKHI9MTtyPGY7cisrKWZvcihvPXQucG9pbnRzW3ItMV0udXNyQ29vcmRzLG49dC5wb2ludHNbcl0udXNyQ29vcmRzLGM9TWF0aC5taW4ob1sxXSxuWzFdKSxkPU1hdGgubWF4KG9bMV0sblsxXSksaD1lLnBvaW50c1swXS51c3JDb29yZHMscz0xO3M8cDtzKyspaWYoYT1oLGg9ZS5wb2ludHNbc10udXNyQ29vcmRzLE1hdGgubWluKGFbMV0saFsxXSk8ZCYmTWF0aC5tYXgoYVsxXSxoWzFdKT5jJiYobD10aGlzLm1lZXRTZWdtZW50U2VnbWVudChvLG4sYSxoKSlbMV0+PTAmJmxbMl0+PTAmJihsWzFdPDEmJmxbMl08MXx8cj09PWYtMSYmMT09PWxbMV18fHM9PT1wLTEmJjE9PT1sWzJdKSl7aWYodT09PWkpcmV0dXJuIGxbMF07dSsrfXJldHVyblswLE5hTixOYU5dfSxtZWV0U2VnbWVudFNlZ21lbnQ6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG8sbixhLGg9ci5jcm9zc1Byb2R1Y3QodCxlKSxsPXIuY3Jvc3NQcm9kdWN0KGkscyksYz1yLmNyb3NzUHJvZHVjdChoLGwpO3JldHVybiBNYXRoLmFicyhjWzBdKTxyLmVwcz9bYywxLzAsMS8wXTooY1sxXS89Y1swXSxjWzJdLz1jWzBdLGNbMF0vPWNbMF0sYT10W249TWF0aC5hYnMoZVsxXS1lWzBdKnRbMV0pPHIuZXBzPzI6MV0vdFswXSxvPShjW25dLWEpLygwIT09ZVswXT9lW25dL2VbMF0tYTplW25dKSxhPWlbbj1NYXRoLmFicyhzWzFdLXNbMF0qaVsxXSk8ci5lcHM/MjoxXS9pWzBdLFtjLG8sKGNbbl0tYSkvKDAhPT1zWzBdP3Nbbl0vc1swXS1hOnNbbl0pXSl9LG1lZXRQYXRoUGF0aDpmdW5jdGlvbihzLG8sbixhKXt2YXIgaCxsLGMsZDtyZXR1cm4oYz0oaD10Lk1hdGguQ2xpcC5fZ2V0UGF0aChzLGEpKS5sZW5ndGgpPjAmJnRoaXMuZGlzdGFuY2UoaFswXS5jb29yZHMudXNyQ29vcmRzLGhbYy0xXS5jb29yZHMudXNyQ29vcmRzLDMpPHIuZXBzJiZoLnBvcCgpLChjPShsPXQuTWF0aC5DbGlwLl9nZXRQYXRoKG8sYSkpLmxlbmd0aCk+MCYmdGhpcy5kaXN0YW5jZShsWzBdLmNvb3Jkcy51c3JDb29yZHMsbFtjLTFdLmNvb3Jkcy51c3JDb29yZHMsMyk8ci5lcHMqci5lcHMmJmwucG9wKCksbjwwfHx0Lk1hdGguQ2xpcC5pc0VtcHR5Q2FzZShoLGwsXCJpbnRlcnNlY3Rpb25cIik/bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwLDBdLGEpOih0Lk1hdGguQ2xpcC5tYWtlRG91Ymx5TGlua2VkTGlzdChoKSx0Lk1hdGguQ2xpcC5tYWtlRG91Ymx5TGlua2VkTGlzdChsKSxuPChkPXQuTWF0aC5DbGlwLmZpbmRJbnRlcnNlY3Rpb25zKGgsbCxhKVswXSkubGVuZ3RoP2Rbbl0uY29vcmRzOm5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMCwwXSxhKSl9LG1lZXRQb2x5Z29uTGluZTpmdW5jdGlvbih0LHIscyxvLG4pe3ZhciBhLGgsbCxjPVswLDAsMF0sZD10LmJvcmRlcnMubGVuZ3RoLHU9W107Zm9yKGE9MDthPGQ7YSsrKWw9dC5ib3JkZXJzW2FdLGg9dGhpcy5tZWV0U2VnbWVudFNlZ21lbnQobC5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxsLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLHIucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsci5wb2ludDIuY29vcmRzLnVzckNvb3JkcyksKCFufHxoWzJdPj0wJiZoWzJdPDEpJiZoWzFdPj0wJiZoWzFdPDEmJnUucHVzaChoWzBdKTtyZXR1cm4gcz49MCYmczx1Lmxlbmd0aCYmKGM9dVtzXSksbmV3IGkoZS5DT09SRFNfQllfVVNFUixjLG8pfSxfYmV6aWVyU3BsaXQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuO3JldHVybiBlPVsuNSoodFswXVswXSt0WzFdWzBdKSwuNSoodFswXVsxXSt0WzFdWzFdKV0saT1bLjUqKHRbMV1bMF0rdFsyXVswXSksLjUqKHRbMV1bMV0rdFsyXVsxXSldLHI9Wy41Kih0WzJdWzBdK3RbM11bMF0pLC41Kih0WzJdWzFdK3RbM11bMV0pXSxuPVsuNSooKHM9Wy41KihlWzBdK2lbMF0pLC41KihlWzFdK2lbMV0pXSlbMF0rKG89Wy41KihpWzBdK3JbMF0pLC41KihpWzFdK3JbMV0pXSlbMF0pLC41KihzWzFdK29bMV0pXSxbW3RbMF0sZSxzLG5dLFtuLG8scix0WzNdXV19LF9iZXppZXJCYm94OmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiA0PT09dC5sZW5ndGg/KGVbMF09TWF0aC5taW4odFswXVswXSx0WzFdWzBdLHRbMl1bMF0sdFszXVswXSksZVsxXT1NYXRoLm1heCh0WzBdWzFdLHRbMV1bMV0sdFsyXVsxXSx0WzNdWzFdKSxlWzJdPU1hdGgubWF4KHRbMF1bMF0sdFsxXVswXSx0WzJdWzBdLHRbM11bMF0pLGVbM109TWF0aC5taW4odFswXVsxXSx0WzFdWzFdLHRbMl1bMV0sdFszXVsxXSkpOihlWzBdPU1hdGgubWluKHRbMF1bMF0sdFsxXVswXSksZVsxXT1NYXRoLm1heCh0WzBdWzFdLHRbMV1bMV0pLGVbMl09TWF0aC5tYXgodFswXVswXSx0WzFdWzBdKSxlWzNdPU1hdGgubWluKHRbMF1bMV0sdFsxXVsxXSkpLGV9LF9iZXppZXJPdmVybGFwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbMl0+PWVbMF0mJnRbMF08PWVbMl0mJnRbMV0+PWVbM10mJnRbM108PWVbMV19LF9iZXppZXJMaXN0Q29uY2F0OmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG49by5leGlzdHMociksYT0wLGg9ZS5sZW5ndGgsbD10Lmxlbmd0aDtmb3IobD4wJiZoPjAmJigxPT09dFtsLTFdWzFdJiYwPT09ZVswXVsxXXx8biYmMT09PXRbbC0xXVsyXSYmMD09PWVbMF1bMl0pJiYoYT0xKSxzPWE7czxoO3MrKyluJiYoZVtzXVsyXSo9LjUsZVtzXVsyXSs9ciksZVtzXVsxXSo9LjUsZVtzXVsxXSs9aSx0LnB1c2goZVtzXSl9LF9iZXppZXJNZWV0U3ViZGl2aXNpb246ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGEsaCxsLGMsZCx1LHAsZixtPVtdO3JldHVybiBzPXRoaXMuX2JlemllckJib3goZSkscj10aGlzLl9iZXppZXJCYm94KHQpLHRoaXMuX2Jlemllck92ZXJsYXAocyxyKT9pPDU/KGg9KG89dGhpcy5fYmV6aWVyU3BsaXQodCkpWzBdLGw9b1sxXSxuPShvPXRoaXMuX2JlemllclNwbGl0KGUpKVswXSxhPW9bMV0sdGhpcy5fYmV6aWVyTGlzdENvbmNhdChtLHRoaXMuX2Jlemllck1lZXRTdWJkaXZpc2lvbihoLG4saSsxKSwwLDApLHRoaXMuX2Jlemllckxpc3RDb25jYXQobSx0aGlzLl9iZXppZXJNZWV0U3ViZGl2aXNpb24oaCxhLGkrMSksMCwuNSksdGhpcy5fYmV6aWVyTGlzdENvbmNhdChtLHRoaXMuX2Jlemllck1lZXRTdWJkaXZpc2lvbihsLG4saSsxKSwuNSwwKSx0aGlzLl9iZXppZXJMaXN0Q29uY2F0KG0sdGhpcy5fYmV6aWVyTWVldFN1YmRpdmlzaW9uKGwsYSxpKzEpLC41LC41KSxtKToocD1bMV0uY29uY2F0KHRbMF0pLGY9WzFdLmNvbmNhdCh0WzNdKSxkPVsxXS5jb25jYXQoZVswXSksdT1bMV0uY29uY2F0KGVbM10pLChjPXRoaXMubWVldFNlZ21lbnRTZWdtZW50KHAsZixkLHUpKVsxXT49MCYmY1syXT49MCYmY1sxXTw9MSYmY1syXTw9MT9bY106W10pOltdfSxfYmV6aWVyTGluZU1lZXRTdWJkaXZpc2lvbjpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvLG4sYSxoLGwsYyxkLHUscCxmPVtdO3JldHVybiBzPXRoaXMuX2JlemllckJib3goZSksbz10aGlzLl9iZXppZXJCYm94KHQpLHImJiF0aGlzLl9iZXppZXJPdmVybGFwKG8scyk/W106aTw1PyhhPShuPXRoaXMuX2JlemllclNwbGl0KHQpKVswXSxoPW5bMV0sdGhpcy5fYmV6aWVyTGlzdENvbmNhdChmLHRoaXMuX2JlemllckxpbmVNZWV0U3ViZGl2aXNpb24oYSxlLGkrMSksMCksdGhpcy5fYmV6aWVyTGlzdENvbmNhdChmLHRoaXMuX2JlemllckxpbmVNZWV0U3ViZGl2aXNpb24oaCxlLGkrMSksLjUpLGYpOih1PVsxXS5jb25jYXQodFswXSkscD1bMV0uY29uY2F0KHRbM10pLGM9WzFdLmNvbmNhdChlWzBdKSxkPVsxXS5jb25jYXQoZVsxXSksKGw9dGhpcy5tZWV0U2VnbWVudFNlZ21lbnQodSxwLGMsZCkpWzFdPj0wJiZsWzFdPD0xJiYoIXJ8fGxbMl0+PTAmJmxbMl08PTEpP1tsXTpbXSl9LG1lZXRCZXppZXJzZWdtZW50QmV6aWVyc2VnbWVudDpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvO2Zvcigocj00PT09dC5sZW5ndGgmJjQ9PT1lLmxlbmd0aD90aGlzLl9iZXppZXJNZWV0U3ViZGl2aXNpb24odCxlLDApOnRoaXMuX2JlemllckxpbmVNZWV0U3ViZGl2aXNpb24odCxlLDAsaSkpLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIDFlNyoodFsxXS1lWzFdKSsodFsyXS1lWzJdKX0pKSxzPVtdLG89MDtvPHIubGVuZ3RoO28rKykwIT09byYmcltvXVsxXT09PXJbby0xXVsxXSYmcltvXVsyXT09PXJbby0xXVsyXXx8cy5wdXNoKHJbb10pO3JldHVybiBzfSxtZWV0QmV6aWVyQ3VydmVSZWRCbHVlU2VnbWVudHM6ZnVuY3Rpb24odCxpLHMpe3ZhciBvLG4sYSxoLGwsYyxkLHUscCxmLG09MCxnPTAsYj1pLm51bWJlclBvaW50cyx2PXQubnVtYmVyUG9pbnRzLHk9W107aWYoYjxpLmJlemllckRlZ3JlZSsxfHx2PHQuYmV6aWVyRGVncmVlKzEpcmV0dXJuWzAsTmFOLE5hTl07Zm9yKGItPWkuYmV6aWVyRGVncmVlLHYtPXQuYmV6aWVyRGVncmVlLHQudHlwZT09PWUuT0JKRUNUX1RZUEVfU0VDVE9SJiYobT0zLHYtPTMpLGkudHlwZT09PWUuT0JKRUNUX1RZUEVfU0VDVE9SJiYoZz0zLGItPTMpLG49bTtuPHY7bis9dC5iZXppZXJEZWdyZWUpZm9yKGM9WyhvPXQucG9pbnRzKVtuXS51c3JDb29yZHMuc2xpY2UoMSksb1tuKzFdLnVzckNvb3Jkcy5zbGljZSgxKV0sMz09PXQuYmV6aWVyRGVncmVlJiYoY1syXT1vW24rMl0udXNyQ29vcmRzLnNsaWNlKDEpLGNbM109b1tuKzNdLnVzckNvb3Jkcy5zbGljZSgxKSksdT10aGlzLl9iZXppZXJCYm94KGMpLGE9ZzthPGI7YSs9aS5iZXppZXJEZWdyZWUpaWYoZD1bKG89aS5wb2ludHMpW2FdLnVzckNvb3Jkcy5zbGljZSgxKSxvW2ErMV0udXNyQ29vcmRzLnNsaWNlKDEpXSwzPT09aS5iZXppZXJEZWdyZWUmJihkWzJdPW9bYSsyXS51c3JDb29yZHMuc2xpY2UoMSksZFszXT1vW2ErM10udXNyQ29vcmRzLnNsaWNlKDEpKSxwPXRoaXMuX2JlemllckJib3goZCksdGhpcy5fYmV6aWVyT3ZlcmxhcCh1LHApKXtpZigwPT09KGY9dGhpcy5tZWV0QmV6aWVyc2VnbWVudEJlemllcnNlZ21lbnQoYyxkKSkubGVuZ3RoKWNvbnRpbnVlO2ZvcihoPTA7aDxmLmxlbmd0aDtoKyspKGw9ZltoXSlbMV08LXIuZXBzfHxsWzFdPjErci5lcHN8fGxbMl08LXIuZXBzfHxsWzJdPjErci5lcHN8fHkucHVzaChsKTtpZih5Lmxlbmd0aD5zKXJldHVybiB5W3NdWzBdfXJldHVybiB5Lmxlbmd0aD5zP3lbc11bMF06WzAsTmFOLE5hTl19LGJlemllclNlZ21lbnRFdmFsOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG89MS10O3JldHVybiByPTAscz0wLHIrPShpPW8qbypvKSplWzBdWzBdLHMrPWkqZVswXVsxXSxyKz0oaT0zKnQqbypvKSplWzFdWzBdLHMrPWkqZVsxXVsxXSxyKz0oaT0zKnQqdCpvKSplWzJdWzBdLHMrPWkqZVsyXVsxXSxbMSxyKz0oaT10KnQqdCkqZVszXVswXSxzKz1pKmVbM11bMV1dfSxiZXppZXJBcmM6ZnVuY3Rpb24odCxlLGkscyxvKXt2YXIgbixhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXyxQLEU9LjUqTWF0aC5QSSx4PWVbMV0sUz1lWzJdLE89ZVswXSx3PVtdLFQ9W107Zm9yKGM9dGhpcy5kaXN0YW5jZShlLHQpLHgvPU8sUy89TyxkPXRoaXMucmFkKHQuc2xpY2UoMSksZS5zbGljZSgxKSxpLnNsaWNlKDEpKSwtMT09PW8mJihkPTIqTWF0aC5QSS1kKSwobj10KVsxXS89blswXSxuWzJdLz1uWzBdLG5bMF0vPW5bMF0sbD1uLnNsaWNlKDApLHM/KHc9W3gseCsuMzMzKihuWzFdLXgpLHgrLjY2NiooblsxXS14KSxuWzFdXSxUPVtTLFMrLjMzMyooblsyXS1TKSxTKy42NjYqKG5bMl0tUyksblsyXV0pOih3PVtuWzFdXSxUPVtuWzJdXSk7ZD5yLmVwczspZD5FPyh1PUUsZC09RSk6KHU9ZCxkPTApLFA9W1sxLDAsMF0sW3gqKDEtKHA9TWF0aC5jb3Mobyp1KSkpK1MqKGY9TWF0aC5zaW4obyp1KSkscCwtZl0sW1MqKDEtcCkteCpmLGYscF1dLGw9WyhDPXIubWF0VmVjTXVsdChQLG4pKVswXS9DWzBdLENbMV0vQ1swXSxDWzJdL0NbMF1dLG09blsxXS14LGc9blsyXS1TLGI9bFsxXS14LHY9bFsyXS1TLF89TWF0aC5zcXJ0KChtK2IpKihtK2IpKyhnK3YpKihnK3YpKSx5PU1hdGguYWJzKHYtZyk+ci5lcHM/KG0rYikqKGMvXy0uNSkvKHYtZykqOC8zOihnK3YpKihjL18tLjUpLyhtLWIpKjgvMyxhPVsxLG5bMV0teSpnLG5bMl0reSptXSxoPVsxLGxbMV0reSp2LGxbMl0teSpiXSx3PXcuY29uY2F0KFthWzFdLGhbMV0sbFsxXV0pLFQ9VC5jb25jYXQoW2FbMl0saFsyXSxsWzJdXSksbj1sLnNsaWNlKDApO3JldHVybiBzJiYodz13LmNvbmNhdChbbFsxXSsuMzMzKih4LWxbMV0pLGxbMV0rLjY2NiooeC1sWzFdKSx4XSksVD1ULmNvbmNhdChbbFsyXSsuMzMzKihTLWxbMl0pLGxbMl0rLjY2NiooUy1sWzJdKSxTXSkpLFt3LFRdfSxwcm9qZWN0UG9pbnRUb0NpcmNsZTpmdW5jdGlvbih0LHMsbil7dmFyIGEsaCxsLGMsZCx1PXMuY2VudGVyLmNvb3Jkcy51c3JDb29yZHM7cmV0dXJuIG8uZXhpc3RzKG4pfHwobj10LmJvYXJkKSxvLmlzUG9pbnQodCk/KGE9dC5jb29yZHMuZGlzdGFuY2UoZS5DT09SRFNfQllfVVNFUixzLmNlbnRlci5jb29yZHMpLGg9dC5jb29yZHMudXNyQ29vcmRzKTooYT10LmRpc3RhbmNlKGUuQ09PUkRTX0JZX1VTRVIscy5jZW50ZXIuY29vcmRzKSxoPXQudXNyQ29vcmRzKSxNYXRoLmFicyhhKTxyLmVwcyYmKGE9ci5lcHMpLGQ9cy5SYWRpdXMoKS9hLGw9dVsxXStkKihoWzFdLXVbMV0pLGM9dVsyXStkKihoWzJdLXVbMl0pLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW2wsY10sbil9LHByb2plY3RQb2ludFRvTGluZTpmdW5jdGlvbih0LHMsbil7dmFyIGEsaD1bMCxzLnN0ZGZvcm1bMV0scy5zdGRmb3JtWzJdXTtyZXR1cm4gby5leGlzdHMobil8fChuPW8uZXhpc3RzKHQuY29vcmRzKT90LmJvYXJkOnMuYm9hcmQpLGE9by5leGlzdHModC5jb29yZHMpP3QuY29vcmRzLnVzckNvb3Jkczp0LnVzckNvb3JkcyxoPXIuY3Jvc3NQcm9kdWN0KGgsYSksbmV3IGkoZS5DT09SRFNfQllfVVNFUixyLmNyb3NzUHJvZHVjdChoLHMuc3RkZm9ybSksbil9LHByb2plY3RDb29yZHNUb1NlZ21lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG89W2lbMV0tZVsxXSxpWzJdLWVbMl1dLG49W3RbMV0tZVsxXSx0WzJdLWVbMl1dO3JldHVybiBNYXRoLmFicyhvWzBdKTxyLmVwcyYmTWF0aC5hYnMob1sxXSk8ci5lcHM/W2UsMF06KHM9ci5pbm5lclByb2R1Y3QobixvKSxbWzEsKHMvPXIuaW5uZXJQcm9kdWN0KG8sbykpKm9bMF0rZVsxXSxzKm9bMV0rZVsyXV0sc10pfSxwcm9qZWN0Q29vcmRzVG9CZXppZXJzZWdtZW50OmZ1bmN0aW9uKGUsaSxyKXt2YXIgcztyZXR1cm4gcz10Lk1hdGguTnVtZXJpY3MuZm1pbmJyKChmdW5jdGlvbih0KXt2YXIgcz1bMSxpLlgocit0KSxpLlkocit0KV07cmV0dXJuIHNbMV0tPWVbMV0sc1syXS09ZVsyXSxzWzFdKnNbMV0rc1syXSpzWzJdfSksWzAsMV0pLFtbMSxpLlgocytyKSxpLlkocytyKV0sc119LHByb2plY3RQb2ludFRvQ3VydmU6ZnVuY3Rpb24odCxlLGkpe28uZXhpc3RzKGkpfHwoaT10LmJvYXJkKTt2YXIgcj10LlgoKSxzPXQuWSgpLG49dC5wb3NpdGlvbnx8MDtyZXR1cm4gdGhpcy5wcm9qZWN0Q29vcmRzVG9DdXJ2ZShyLHMsbixlLGkpfSxwcm9qZWN0Q29vcmRzVG9DdXJ2ZTpmdW5jdGlvbih0LHIsbixhLGgpe3ZhciBsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4LFMsTyx3LFQsTj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7aWYoby5leGlzdHMoaCl8fChoPWEuYm9hcmQpLFwicGxvdFwiPT09by5ldmFsdWF0ZShhLnZpc1Byb3AuY3VydmV0eXBlKSl7aWYobj0wLHA9TixsPTA9PT1hLm51bWJlclBvaW50cz9bMCwxLDFdOlthLlooMCksYS5YKDApLGEuWSgwKV0sYS5udW1iZXJQb2ludHM+MSlmb3IoZz1bMSx0LHJdLDM9PT1hLmJlemllckRlZ3JlZT91PTA6eT1bYS5aKDApLGEuWCgwKSxhLlkoMCldLGQ9MDtkPGEubnVtYmVyUG9pbnRzLTE7ZCsrKTM9PT1hLmJlemllckRlZ3JlZT9fPXRoaXMucHJvamVjdENvb3Jkc1RvQmV6aWVyc2VnbWVudChnLGEsdSk6KEM9W2EuWihkKzEpLGEuWChkKzEpLGEuWShkKzEpXSxfPXRoaXMucHJvamVjdENvb3Jkc1RvU2VnbWVudChnLHksQykpLG09X1sxXSxiPV9bMF0sMDw9bSYmbTw9MT8oZj10aGlzLmRpc3RhbmNlKGIsZyksdj1kK20pOm08MD8oYj15LGY9dGhpcy5kaXN0YW5jZSh5LGcpLHY9ZCk6bT4xJiZkPT09YS5udW1iZXJQb2ludHMtMiYmKGI9QyxmPXRoaXMuZGlzdGFuY2UoYixnKSx2PWEubnVtYmVyUG9pbnRzLTEpLGY8cCYmKHA9ZixuPXYsbD1iKSwzPT09YS5iZXppZXJEZWdyZWU/KHUrKyxkKz0yKTp5PUM7Yz1uZXcgaShlLkNPT1JEU19CWV9VU0VSLGwsaCl9ZWxzZXtmb3IoUD1mdW5jdGlvbihlKXt2YXIgaSxzO3JldHVybiBlPGEubWluWCgpfHxlPmEubWF4WCgpPzEvMDooaT10LWEuWChlKSkqaSsocz1yLWEuWShlKSkqc30sUz1QKG4pLDUwLHc9YS5taW5YKCksTz0oKFQ9YS5tYXhYKCkpLXcpLzUwLEU9dyxkPTA7ZDw1MDtkKyspKCh4PVAoRSkpPFN8fFM9PT0xLzApJiYobj1FLFM9eCksRSs9TztuPShuPShuPXMuZm1pbmJyKFAsW01hdGgubWF4KG4tTyx3KSxNYXRoLm1pbihuK08sVCldKSk8dz93Om4pPlQ/VDpuLGM9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbYS5YKG4pLGEuWShuKV0saCl9cmV0dXJuW2EudXBkYXRlVHJhbnNmb3JtKGMpLG5dfSxwcm9qZWN0Q29vcmRzVG9Qb2x5Z29uOmZ1bmN0aW9uKGUsaSl7dmFyIHIscyxvLG4sYSxoPWkudmVydGljZXMubGVuZ3RoLGw9MS8wO2ZvcihyPTA7cjxoLTE7cisrKTA8PShvPXQuTWF0aC5HZW9tZXRyeS5wcm9qZWN0Q29vcmRzVG9TZWdtZW50KGUsaS52ZXJ0aWNlc1tyXS5jb29yZHMudXNyQ29vcmRzLGkudmVydGljZXNbcisxXS5jb29yZHMudXNyQ29vcmRzKSlbMV0mJm9bMV08PTE/KHM9dC5NYXRoLkdlb21ldHJ5LmRpc3RhbmNlKG9bMF0sZSwzKSxuPW9bMF0pOm9bMV08MD8ocz10Lk1hdGguR2VvbWV0cnkuZGlzdGFuY2UoaS52ZXJ0aWNlc1tyXS5jb29yZHMudXNyQ29vcmRzLGUsMyksbj1pLnZlcnRpY2VzW3JdLmNvb3Jkcy51c3JDb29yZHMpOihzPXQuTWF0aC5HZW9tZXRyeS5kaXN0YW5jZShpLnZlcnRpY2VzW3IrMV0uY29vcmRzLnVzckNvb3JkcyxlLDMpLG49aS52ZXJ0aWNlc1tyKzFdLmNvb3Jkcy51c3JDb29yZHMpLHM8bCYmKGE9bi5zbGljZSgwKSxsPXMpO3JldHVybiBhfSxwcm9qZWN0UG9pbnRUb1R1cnRsZTpmdW5jdGlvbih0LHIscyl7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG0sZz0wLGI9MCx2PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSx5PXIub2JqZWN0cy5sZW5ndGg7Zm9yKG8uZXhpc3RzKHMpfHwocz10LmJvYXJkKSxjPTA7Yzx5O2MrKykodT1yLm9iamVjdHNbY10pLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NVUlZFJiYobj0oZj10aGlzLnByb2plY3RQb2ludFRvQ3VydmUodCx1KSlbMF0sbT1mWzFdLChkPXRoaXMuZGlzdGFuY2Uobi51c3JDb29yZHMsdC5jb29yZHMudXNyQ29vcmRzKSk8diYmKGg9bi51c3JDb29yZHNbMV0sbD1uLnVzckNvb3Jkc1syXSxhPW0sdj1kLHA9dSxiPWcpLGcrPXUubnVtYmVyUG9pbnRzKTtyZXR1cm4gbj1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFtoLGxdLHMpLFtwLnVwZGF0ZVRyYW5zZm9ybShuKSxhK2JdfSxwcm9qZWN0UG9pbnRUb1BvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuY29vcmRzfSxwcm9qZWN0UG9pbnRUb0JvYXJkOmZ1bmN0aW9uKHQsZSl7dmFyIGkscyxvLG49ZXx8dC5ib2FyZCxhPVtbMSwxLDAsMCwzLDAsMV0sWy0xLDIsMSwwLDEsMiwxXSxbLTEsMSwyLDIsMSwyLDNdLFsxLDIsMywwLDMsMiwzXV0saD10LmNvb3Jkc3x8dCxsPW4uZ2V0Qm91bmRpbmdCb3goKTtmb3IoaT0wO2k8NDtpKyspKG89YVtpXSlbMF0qaC51c3JDb29yZHNbb1sxXV08b1swXSpsW29bMl1dJiYoKHM9ci5jcm9zc1Byb2R1Y3QoWzEsbFtvWzNdXSxsW29bNF1dXSxbMSxsW29bNV1dLGxbb1s2XV1dKSlbM109MCxzPXIubm9ybWFsaXplKHMpLGg9dGhpcy5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3JkczpofSx7c3RkZm9ybTpzfSxuKSk7cmV0dXJuIGh9LGRpc3RQb2ludExpbmU6ZnVuY3Rpb24odCxlKXt2YXIgaSxzPWVbMV0sbz1lWzJdLG49ZVswXTtyZXR1cm4gTWF0aC5hYnMocykrTWF0aC5hYnMobyk8ci5lcHM/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOihpPXMqdFsxXStvKnRbMl0rbixzKj1zLG8qPW8sTWF0aC5hYnMoaSkvTWF0aC5zcXJ0KHMrbykpfSxyZXVsZWF1eFBvbHlnb246ZnVuY3Rpb24odCxlKXt2YXIgaSxzPTIqTWF0aC5QSSxvPXMvZSxuPShlLTEpLzIsYT0wLGg9ZnVuY3Rpb24oaCxsKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgdT0oYyVzK3MpJXMscD1NYXRoLmZsb29yKHUvbyklZTtyZXR1cm4gZHx8KGE9dFswXS5EaXN0KHRbbl0pLGk9ci5HZW9tZXRyeS5yYWQoW3RbMF0uWCgpKzEsdFswXS5ZKCldLHRbMF0sdFtuJWVdKSksaXNOYU4ocCk/cDoodT0uNSp1K3AqbyouNStpLHRbcF1baF0oKSthKk1hdGhbbF0odSkpfX07cmV0dXJuW2goXCJYXCIsXCJjb3NcIiksaChcIllcIixcInNpblwiKSwwLHNdfSxtZWV0M1BsYW5lczpmdW5jdGlvbih0LGUsaSxzLG8sbil7dmFyIGEsaCxsLGMsZCx1PVswLDAsMF07Zm9yKGE9ci5jcm9zc1Byb2R1Y3Qobyx0KSxoPXIuY3Jvc3NQcm9kdWN0KHQsaSksbD1yLmNyb3NzUHJvZHVjdChpLG8pLGM9ci5pbm5lclByb2R1Y3QodCxsLDMpLGQ9MDtkPDM7ZCsrKXVbZF09KGUqbFtkXStzKmFbZF0rbipoW2RdKS9jO3JldHVybiB1fSxtZWV0UGxhbmVQbGFuZTpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbixhLGgsbD1bMCwwLDBdLGM9WzAsMCwwXTtmb3Iobj0wO248MztuKyspbFtuXT1vLmV2YWx1YXRlKHRbbl0pLGNbbl09by5ldmFsdWF0ZShlW25dKTtmb3IoYT1yLmNyb3NzUHJvZHVjdChsLGMpLG49MDtuPDM7bisrKWxbbl09by5ldmFsdWF0ZShpW25dKSxjW25dPW8uZXZhbHVhdGUoc1tuXSk7cmV0dXJuIGg9ci5jcm9zc1Byb2R1Y3QobCxjKSxyLmNyb3NzUHJvZHVjdChhLGgpfSxwcm9qZWN0M0RUbzNEUGxhbmU6ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG87cmV0dXJuIGk9aXx8WzAsMCwwXSxzPXIubm9ybShlKSxvPShyLmlubmVyUHJvZHVjdCh0LGUsMyktci5pbm5lclByb2R1Y3QoaSxlLDMpKS9zLHIuYXhweSgtbyxlLHQpfSxnZXRQbGFuZUJvdW5kczpmdW5jdGlvbih0LGUsaSxyLG8pe3ZhciBuLGEsaCxsLGM7cmV0dXJuIHRbMl0rZVswXSE9PTA/KGg9W1t0WzBdLGVbMF1dLFt0WzFdLGVbMV1dXSxsPVtyLWlbMF0sci1pWzFdXSxuPShjPXMuR2F1c3MoaCxsKSlbMF0sYT1jWzFdLGw9W28taVswXSxvLWlbMV1dLFtuLChjPXMuR2F1c3MoaCxsKSlbMF0sYSxjWzFdXSk6bnVsbH19KSxyLkdlb21ldHJ5fSkpLGRlZmluZShcIm1hdGgvcGxvdFwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZXh0cmFwb2xhdGVcIixcIm1hdGgvbnVtZXJpY3NcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwibWF0aC9nZW9tZXRyeVwiLFwibWF0aC9pYVwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhLGgsbCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHIuUGxvdD17Y2hlY2tSZWFsOmZ1bmN0aW9uKHQpe3ZhciBlLGkscz0hMSxvPXQubGVuZ3RoO2ZvcihlPTA7ZTxvO2UrKylpZihpPXRbZV0udXNyQ29vcmRzLCFpc05hTihpWzFdKSYmIWlzTmFOKGlbMl0pJiZNYXRoLmFicyhpWzBdKT5yLmVwcyl7cz0hMDticmVha31yZXR1cm4gc30sdXBkYXRlUGFyYW1ldHJpY0N1cnZlTmFpdmU6ZnVuY3Rpb24odCxpLHIscyl7dmFyIG8sbixhPSExLGg9KHItaSkvcztmb3Iobz0wO288cztvKyspbj1pK28qaCx0LnBvaW50c1tvXS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0LlgobixhKSx0LlkobixhKV0sITEpLHQucG9pbnRzW29dLl90PW4sYT0hMDtyZXR1cm4gdH0saXNTZWdtZW50T3V0c2lkZTpmdW5jdGlvbih0LGUsaSxyLHMpe3JldHVybiBlPDAmJnI8MHx8ZT5zLmNhbnZhc0hlaWdodCYmcj5zLmNhbnZhc0hlaWdodHx8dDwwJiZpPDB8fHQ+cy5jYW52YXNXaWR0aCYmaT5zLmNhbnZhc1dpZHRofSxpc0Rpc3RPSzpmdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gTWF0aC5hYnModCk8aSYmTWF0aC5hYnMoZSk8ciYmIWlzTmFOKHQrZSl9LGlzU2VnbWVudERlZmluZWQ6ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIShpc05hTih0K2UpJiZpc05hTihpK3IpKX0sdXBkYXRlUGFyYW1ldHJpY0N1cnZlT2xkOmZ1bmN0aW9uKHMsbyxuKXt2YXIgYSxoLGwsYyxkLHUscCxmLG0sZyxiLHY9ITEseT1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHMuYm9hcmQsITEpLEM9W10sXz1bXSxQPVtdLEU9W10seD0hMSxTPTAsTz1mdW5jdGlvbih0LGUsaSl7dmFyIHMsbyxuPWlbMV0tdFsxXSxhPWlbMl0tdFsyXSxoPWVbMF0tdFsxXSxsPWVbMV0tdFsyXSxjPWgqaCtsKmw7cmV0dXJuIGM+PXIuZXBzJiYocz0obipoK2EqbCkvYyk+MCYmKHM8PTE/KG4tPXMqaCxhLT1zKmwpOihuLT1oLGEtPWwpKSxvPW4qbithKmEsTWF0aC5zcXJ0KG8pfTtmb3IodC5kZXByZWNhdGVkKFwiQ3VydmUudXBkYXRlUGFyYW1ldHJpY0N1cnZlT2xkKClcIikscy5ib2FyZC51cGRhdGVRdWFsaXR5PT09cy5ib2FyZC5CT0FSRF9RVUFMSVRZX0xPVz8obT0xNSxnPTEwLGI9MTApOihtPTIxLGc9LjcsYj0uNyksRVswXT1uLW8sYT0xO2E8bTthKyspRVthXT0uNSpFW2EtMV07YT0xLENbMF09MSxfWzBdPTAsaD1vLHkuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbcy5YKGgsdikscy5ZKGgsdildLCExKSx2PSEwLGQ9eS5zY3JDb29yZHNbMV0sdT15LnNjckNvb3Jkc1syXSxoPW4seS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFtzLlgoaCx2KSxzLlkoaCx2KV0sITEpLGw9eS5zY3JDb29yZHNbMV0sYz15LnNjckNvb3Jkc1syXSxQWzBdPVtsLGNdLHA9MSxmPTAscy5wb2ludHM9W10scy5wb2ludHNbUysrXT1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW2QsdV0scy5ib2FyZCwhMSk7ZG97Zm9yKHg9dGhpcy5pc0Rpc3RPSyhsLWQsYy11LGcsYil8fHRoaXMuaXNTZWdtZW50T3V0c2lkZShkLHUsbCxjLHMuYm9hcmQpO2Y8bSYmKCF4fHxmPDYpJiYoZjw9N3x8dGhpcy5pc1NlZ21lbnREZWZpbmVkKGQsdSxsLGMpKTspQ1twXT1hLF9bcF09ZixQW3BdPVtsLGNdLHArPTEsaD1vKyhhPTIqYS0xKSpFWysrZl0seS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFtzLlgoaCx2KSxzLlkoaCx2KV0sITEsITApLGw9eS5zY3JDb29yZHNbMV0sYz15LnNjckNvb3Jkc1syXSx4PXRoaXMuaXNEaXN0T0sobC1kLGMtdSxnLGIpfHx0aGlzLmlzU2VnbWVudE91dHNpZGUoZCx1LGwsYyxzLmJvYXJkKTtTPjEmJk8ocy5wb2ludHNbUy0yXS5zY3JDb29yZHMsW2wsY10scy5wb2ludHNbUy0xXS5zY3JDb29yZHMpPC4wMTUmJihTLT0xKSxzLnBvaW50c1tTXT1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW2wsY10scy5ib2FyZCwhMSkscy5wb2ludHNbU10uX3Q9aCxTKz0xLGQ9bCx1PWMsaCxsPVBbcC09MV1bMF0sYz1QW3BdWzFdLGY9X1twXSsxLGE9MipDW3BdfXdoaWxlKHA+MCYmUzw1ZTUpO3JldHVybiBzLm51bWJlclBvaW50cz1zLnBvaW50cy5sZW5ndGgsc30sX2luc2VydFBvaW50X3YyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcj0haXNOYU4odGhpcy5fbGFzdENyZHNbMV0rdGhpcy5fbGFzdENyZHNbMl0pLHM9IWlzTmFOKGUuc2NyQ29vcmRzWzFdK2Uuc2NyQ29vcmRzWzJdKSxvPXQuYm9hcmQuY2FudmFzV2lkdGgsbj10LmJvYXJkLmNhbnZhc0hlaWdodCxhPTUwMDsoIShzPXMmJmUuc2NyQ29vcmRzWzFdPi01MDAmJmUuc2NyQ29vcmRzWzJdPi01MDAmJmUuc2NyQ29vcmRzWzFdPG8rYSYmZS5zY3JDb29yZHNbMl08bithKSYmcnx8cyYmKCFyfHxNYXRoLmFicyhlLnNjckNvb3Jkc1sxXS10aGlzLl9sYXN0Q3Jkc1sxXSk+Ljd8fE1hdGguYWJzKGUuc2NyQ29vcmRzWzJdLXRoaXMuX2xhc3RDcmRzWzJdKT4uNykpJiYoZS5fdD1pLHQucG9pbnRzLnB1c2goZSksdGhpcy5fbGFzdENyZHM9ZS5jb3B5KFwic2NyQ29vcmRzXCIpKX0sbmVpZ2hib3Job29kX2lzTmFOX3YyOmZ1bmN0aW9uKHQscyl7dmFyIG8sbixhPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdC5ib2FyZCwhMSk7cmV0dXJuIG89cytyLmVwcyxhLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3QuWChvLCEwKSx0LlkobywhMCldLCExKSxuPWEudXNyQ29vcmRzLCEhKGlzTmFOKG5bMV0rblsyXSl8fChvPXMtci5lcHMsYS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0LlgobywhMCksdC5ZKG8sITApXSwhMSksbj1hLnVzckNvb3Jkcyxpc05hTihuWzFdK25bMl0pKSl9LF9ib3JkZXJDYXNlOmZ1bmN0aW9uKHQscixzLG8sbixhLGgsbCl7dmFyIGMsZCx1LHAsZixtLGcsYj1udWxsLHY9ITE7aWYobDw9MSl7aWYoZD1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHQuYm9hcmQsITEpLGlzTmFOKHJbMV0rclsyXSkmJiFpc05hTihvWzFdK29bMl0pJiYhdGhpcy5uZWlnaGJvcmhvb2RfaXNOYU5fdjIodCxuKSlyZXR1cm4hMTtpZihpc05hTihzWzFdK3NbMl0pJiYhaXNOYU4ob1sxXStvWzJdKSYmIXRoaXMubmVpZ2hib3Job29kX2lzTmFOX3YyKHQsYSkpcmV0dXJuITE7aWYoaXNOYU4ob1sxXStvWzJdKSYmKCFpc05hTihyWzFdK3JbMl0pfHwhaXNOYU4oc1sxXStzWzJdKSkmJiF0aGlzLm5laWdoYm9yaG9vZF9pc05hTl92Mih0LGgpKXJldHVybiExO3A9MDtkb3tpZihpc05hTihyWzFdK3JbMl0pJiYhaXNOYU4ob1sxXStvWzJdKSlmPW4sbT1oLGc9YTtlbHNlIGlmKGlzTmFOKHNbMV0rc1syXSkmJiFpc05hTihvWzFdK29bMl0pKWY9YSxtPWgsZz1uO2Vsc2UgaWYoaXNOYU4ob1sxXStvWzJdKSYmIWlzTmFOKHNbMV0rc1syXSkpZj1oLG09YSxnPWErKGEtaCk7ZWxzZXtpZighaXNOYU4ob1sxXStvWzJdKXx8aXNOYU4oclsxXStyWzJdKSlyZXR1cm4hMTtmPWgsbT1uLGc9bi0oaC1uKX1jPS41KihmK20pLGQuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKGMsITApLHQuWShjLCEwKV0sITEpLHU9ZC51c3JDb29yZHMsKHY9aXNOYU4odVsxXSt1WzJdKSk/Zj1jOihnPW0sbT1jKSwrK3B9d2hpbGUodiYmcDwzMCk7aWYocDwzMCYmKGI9dS5zbGljZSgpLG89dS5zbGljZSgpLG09YyksKHQuWChtLCEwKS10LlgoZywhMCkpLyhtLWcpLCh0LlkobSwhMCktdC5ZKGcsITApKS8obS1nKSxudWxsIT09YilyZXR1cm4gdGhpcy5faW5zZXJ0UG9pbnRfdjIodCxuZXcgaShlLkNPT1JEU19CWV9VU0VSLGIsdC5ib2FyZCwhMSkpLCEwfXJldHVybiExfSxfcGxvdFJlY3Vyc2l2ZV92MjpmdW5jdGlvbih0LHIscyxvLG4sYSxoKXt2YXIgbCxjLGQsdSxwLGY9MCxtPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdC5ib2FyZCwhMSk7aWYoISh0Lm51bWJlclBvaW50cz42NTUzNikpcmV0dXJuIGE8dGhpcy5uYW5MZXZlbCYmdGhpcy5faXNVbmRlZmluZWQodCxyLHMsbyxuKXx8YTx0aGlzLm5hbkxldmVsJiZ0aGlzLl9pc091dHNpZGUocixzLG8sbix0LmJvYXJkKT90aGlzOihsPS41KihzK24pLG0uc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKGwsITApLHQuWShsLCEwKV0sITEpLGM9bS5zY3JDb29yZHMsdGhpcy5fYm9yZGVyQ2FzZSh0LHIsbyxjLHMsbixsLGEpfHwoZD10aGlzLl90cmlhbmdsZURpc3RzKHIsbyxjKSx1PWE8dGhpcy5zbW9vdGhMZXZlbCYmZFszXTxoLHA9YTx0aGlzLmp1bXBMZXZlbCYmKGRbMl0+Ljk5KmRbMF18fGRbMV0+Ljk5KmRbMF18fGRbMF09PT0xLzB8fGRbMV09PT0xLzB8fGRbMl09PT0xLzApLGE8dGhpcy5zbW9vdGhMZXZlbCsyJiZkWzBdPC41KihkWzFdK2RbMl0pJiYoZj0wLHU9ITEpLC0tYSxwP3RoaXMuX2luc2VydFBvaW50X3YyKHQsbmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFtOYU4sTmFOXSx0LmJvYXJkLCExKSxsKTphPD1mfHx1P3RoaXMuX2luc2VydFBvaW50X3YyKHQsbSxsKToodGhpcy5fcGxvdFJlY3Vyc2l2ZV92Mih0LHIscyxjLGwsYSxoKSxpc05hTihtLnNjckNvb3Jkc1sxXSttLnNjckNvb3Jkc1syXSl8fHRoaXMuX2luc2VydFBvaW50X3YyKHQsbSxsKSx0aGlzLl9wbG90UmVjdXJzaXZlX3YyKHQsYyxsLG8sbixhLGgpKSksdGhpcyl9LHVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZV92MjpmdW5jdGlvbih0LHIscyl7dmFyIG8sbixhLGgsYyxkLHUscCxmLG09ITEsZz1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHQuYm9hcmQsITEpLGI9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSx0LmJvYXJkLCExKTtyZXR1cm4gdC5ib2FyZC51cGRhdGVRdWFsaXR5PT09dC5ib2FyZC5CT0FSRF9RVUFMSVRZX0xPVz8oYz1sLmV2YWx1YXRlKHQudmlzUHJvcC5yZWN1cnNpb25kZXB0aGxvdyl8fDEzLGQ9Mix0aGlzLnNtb290aExldmVsPWMtNix0aGlzLmp1bXBMZXZlbD0zKTooYz1sLmV2YWx1YXRlKHQudmlzUHJvcC5yZWN1cnNpb25kZXB0aGhpZ2gpfHwxNyxkPTIsdGhpcy5zbW9vdGhMZXZlbD1jLTksdGhpcy5qdW1wTGV2ZWw9MiksdGhpcy5uYW5MZXZlbD1jLTQsdC5wb2ludHM9W10sXCJ4XCI9PT10aGlzLnh0ZXJtPyh1PS4zKigocD10LmJvYXJkLmdldEJvdW5kaW5nQm94KCkpWzJdLXBbMF0pLC4zKihwWzFdLXBbM10pLG89TWF0aC5tYXgocixwWzBdLXUpLG49TWF0aC5taW4ocyxwWzJdK3UpKToobz1yLG49cyksZy5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0LlgobyxtKSx0LlkobyxtKV0sITEpLG09ITAsYi5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0LlgobixtKSx0LlkobixtKV0sITEpLGY9dGhpcy5fZmluZFN0YXJ0UG9pbnQodCxnLnNjckNvb3JkcyxvLGIuc2NyQ29vcmRzLG4pLGcuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfU0NSRUVOLGZbMF0sITEpLG89ZlsxXSxmPXRoaXMuX2ZpbmRTdGFydFBvaW50KHQsYi5zY3JDb29yZHMsbixnLnNjckNvb3JkcyxvKSxiLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1NDUkVFTixmWzBdLCExKSxuPWZbMV0sdGhpcy5fdmlzaWJsZUFyZWE9W28sbl0sYT1nLmNvcHkoXCJzY3JDb29yZHNcIiksaD1iLmNvcHkoXCJzY3JDb29yZHNcIiksZy5fdD1vLHQucG9pbnRzLnB1c2goZyksdGhpcy5fbGFzdENyZHM9Zy5jb3B5KFwic2NyQ29vcmRzXCIpLHRoaXMuX3Bsb3RSZWN1cnNpdmVfdjIodCxhLG8saCxuLGMsZCksYi5fdD1uLHQucG9pbnRzLnB1c2goYiksdC5udW1iZXJQb2ludHM9dC5wb2ludHMubGVuZ3RoLHR9LF9pbnNlcnRMaW1lc1BvaW50OmZ1bmN0aW9uKHQscyxvLG4sYSl7dmFyIGgsbCxjO01hdGguYWJzKHRoaXMuX2xhc3RVc3JDcmRzWzFdKT09PTEvMCYmTWF0aC5hYnMoYS5sZWZ0X3gpPT09MS8wfHxNYXRoLmFicyh0aGlzLl9sYXN0VXNyQ3Jkc1syXSk9PT0xLzAmJk1hdGguYWJzKGEubGVmdF95KT09PTEvMHx8KChoPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW2EubGVmdF94LGEubGVmdF95XSx0LmJvYXJkKSkuX3Q9byx0LnBvaW50cy5wdXNoKGgpLGlzTmFOKGEubGVmdF94KXx8aXNOYU4oYS5sZWZ0X3kpfHxpc05hTihhLnJpZ2h0X3gpfHxpc05hTihhLnJpZ2h0X3kpfHwhKE1hdGguYWJzKGEubGVmdF94LWEucmlnaHRfeCk+ci5lcHN8fE1hdGguYWJzKGEubGVmdF95LWEucmlnaHRfeSk+ci5lcHMpfHwoKGw9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLHMsdC5ib2FyZCkpLl90PW8sdC5wb2ludHMucHVzaChsKSksKGM9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbYS5yaWdodF94LGEucmlnaHRfeV0sdC5ib2FyZCkpLl90PW8sdC5wb2ludHMucHVzaChjKSx0aGlzLl9sYXN0U2NyQ3Jkcz1jLmNvcHkoXCJzY3JDb29yZHNcIiksdGhpcy5fbGFzdFVzckNyZHM9Yy5jb3B5KFwidXNyQ29vcmRzXCIpKX0sX2luc2VydFBvaW50OmZ1bmN0aW9uKHQscixzLG8sbil7dmFyIGEsaD0haXNOYU4odGhpcy5fbGFzdFNjckNyZHNbMV0rdGhpcy5fbGFzdFNjckNyZHNbMl0pLGM9IWlzTmFOKHJbMV0rclsyXSksZD10LmJvYXJkLmNhbnZhc1dpZHRoLHU9dC5ib2FyZC5jYW52YXNIZWlnaHQscD01MDA7bC5leGlzdHMobik/dGhpcy5faW5zZXJ0TGltZXNQb2ludCh0LHIscyxvLG4pOihjPWMmJnJbMV0+LTUwMCYmclsyXT4tNTAwJiZyWzFdPGQrcCYmclsyXTx1K3AsKGh8fGMpJiYoYyYmaCYmTWF0aC5hYnMoclsxXS10aGlzLl9sYXN0U2NyQ3Jkc1sxXSk8LjgmJk1hdGguYWJzKHJbMl0tdGhpcy5fbGFzdFNjckNyZHNbMl0pPC44fHxNYXRoLmFicyhyWzFdKT09PTEvMCYmTWF0aC5hYnModGhpcy5fbGFzdFVzckNyZHNbMV0pPT09MS8wfHxNYXRoLmFicyhyWzJdKT09PTEvMCYmTWF0aC5hYnModGhpcy5fbGFzdFVzckNyZHNbMl0pPT09MS8wfHwoKGE9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLHIsdC5ib2FyZCkpLl90PXMsdC5wb2ludHMucHVzaChhKSx0aGlzLl9sYXN0U2NyQ3Jkcz1hLmNvcHkoXCJzY3JDb29yZHNcIiksdGhpcy5fbGFzdFVzckNyZHM9YS5jb3B5KFwidXNyQ29vcmRzXCIpKSkpfSxfdHJpYW5nbGVEaXN0czpmdW5jdGlvbih0LGUsaSl7dmFyIHI7cmV0dXJuIHI9W3RbMF0qZVswXSwuNSoodFsxXStlWzFdKSwuNSoodFsyXStlWzJdKV0sW2EuZGlzdGFuY2UodCxlLDMpLGEuZGlzdGFuY2UodCxpLDMpLGEuZGlzdGFuY2UoaSxlLDMpLGEuZGlzdGFuY2UoaSxyLDMpXX0sX2lzVW5kZWZpbmVkOmZ1bmN0aW9uKHQscixzLG8sbil7dmFyIGEsaCxsO2lmKCFpc05hTihyWzFdK3JbMl0pfHwhaXNOYU4ob1sxXStvWzJdKSlyZXR1cm4hMTtmb3IobD1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHQuYm9hcmQsITEpLGg9MDtoPDIwOysraClpZihhPXMrTWF0aC5yYW5kb20oKSoobi1zKSxsLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3QuWChhLCEwKSx0LlkoYSwhMCldLCExKSwhaXNOYU4obC5zY3JDb29yZHNbMF0rbC5zY3JDb29yZHNbMV0rbC5zY3JDb29yZHNbMl0pKXJldHVybiExO3JldHVybiEwfSxfaXNPdXRzaWRlOmZ1bmN0aW9uKHQsZSxpLHIscyl7dmFyIG89NTAwLG49cy5jYW52YXNXaWR0aCxhPXMuY2FudmFzSGVpZ2h0O3JldHVybiEhKHRbMV08LTUwMCYmaVsxXTwtNTAwfHx0WzJdPC01MDAmJmlbMl08LTUwMHx8dFsxXT5uK28mJmlbMV0+bitvfHx0WzJdPmErbyYmaVsyXT5hK28pfSxfaXNPdXRzaWRlUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT01MDAscj1lLmNhbnZhc1dpZHRoLHM9ZS5jYW52YXNIZWlnaHQ7cmV0dXJuISEodFsxXTwtNTAwfHx0WzJdPC01MDB8fHRbMV0+citpfHx0WzJdPnMraSl9LF9maW5kU3RhcnRQb2ludDpmdW5jdGlvbih0LHIscyxvLG4pe25ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdC5ib2FyZCwhMSksdC5ib2FyZC5nZXRCb3VuZGluZ0JveCgpO3JldHVybltyLHNdfSxfZ2V0Qm9yZGVyUG9zOmZ1bmN0aW9uKHQscyxvLG4sYSxoLGwpe3ZhciBjLGQsdSxwLGYsbTtpZihkPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdC5ib2FyZCwhMSkscD0wLGlzTmFOKG9bMV0rb1syXSkmJiFpc05hTihhWzFdK2FbMl0pKW09cyxmPW4saDtlbHNlIGlmKGlzTmFOKGxbMV0rbFsyXSkmJiFpc05hTihhWzFdK2FbMl0pKW09aCxmPW4scztlbHNlIGlmKGlzTmFOKGFbMV0rYVsyXSkmJiFpc05hTihsWzFdK2xbMl0pKW09bixmPWgsaCsoaC1uKTtlbHNle2lmKCFpc05hTihhWzFdK2FbMl0pfHxpc05hTihvWzFdK29bMl0pKXJldHVybiExO209bixmPXMscy0obi1zKX1kb3tjPS41KihmK20pLGQuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKGMsITApLHQuWShjLCEwKV0sITEpLHU9ZC51c3JDb29yZHMsaXNOYU4odVsxXSt1WzJdKT9tPWM6KGYsZj1jKSwrK3B9d2hpbGUocDwzMCYmTWF0aC5hYnMoZi1tKT5yLmVwcyk7cmV0dXJuIGN9LF9nZXRDdXNwUG9zOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1bdC5YKGUsITApLHQuWShlLCEwKV0scz1bdC5YKGksITApLHQuWShpLCEwKV07cmV0dXJuIG8uZm1pbmJyKChmdW5jdGlvbihlKXt2YXIgaT1bdC5YKGUsITApLHQuWShlLCEwKV07cmV0dXJuLShNYXRoLnNxcnQoKHJbMF0taVswXSkqKHJbMF0taVswXSkrKHJbMV0taVsxXSkqKHJbMV0taVsxXSkpK01hdGguc3FydCgoc1swXS1pWzBdKSooc1swXS1pWzBdKSsoc1sxXS1pWzFdKSooc1sxXS1pWzFdKSkpfSksW2UsaV0sdCl9LF9nZXRKdW1wUG9zOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gby5mbWluYnIoKGZ1bmN0aW9uKGUpe3ZhciBpPXIuZXBzKnIuZXBzLHM9W3QuWChlLCEwKSx0LlkoZSwhMCldLG89W3QuWChlK2ksITApLHQuWShlK2ksITApXTtyZXR1cm4tTWF0aC5hYnMoKG9bMV0tc1sxXSkvKG9bMF0tc1swXSkpfSksW2UsaV0sdCl9LF9nZXRMaW1pdHM6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG8sbixhLGg9Mi8odC5tYXhYKCktdC5taW5YKCkpO3JldHVybiByPShpPXMubGltaXQoZSwtaCx0LlgpKVswXSxcImluZmluaXRlXCI9PT1pWzFdJiYocj1NYXRoLnNpZ24ocikqKDEvMCkpLG49KGk9cy5saW1pdChlLC1oLHQuWSkpWzBdLFwiaW5maW5pdGVcIj09PWlbMV0mJihuPU1hdGguc2lnbihuKSooMS8wKSksbz0oaT1zLmxpbWl0KGUsaCx0LlgpKVswXSxcImluZmluaXRlXCI9PT1pWzFdJiYobz1NYXRoLnNpZ24obykqKDEvMCkpLGE9KGk9cy5saW1pdChlLGgsdC5ZKSlbMF0sXCJpbmZpbml0ZVwiPT09aVsxXSYmKGE9TWF0aC5zaWduKGEpKigxLzApKSx7bGVmdF94OnIsbGVmdF95Om4scmlnaHRfeDpvLHJpZ2h0X3k6YSx0OmV9fSxfZ2V0TGltZXM6ZnVuY3Rpb24odCxlLGkscixzLG8sbixhLGgpe3ZhciBsO3JldHVyblwiYm9yZGVyXCI9PT1hP2w9dGhpcy5fZ2V0Qm9yZGVyUG9zKHQsZSxpLHIscyxvLG4pOlwiY3VzcFwiPT09YT9sPXRoaXMuX2dldEN1c3BQb3ModCxlLG8pOlwianVtcFwiPT09YSYmKGw9dGhpcy5fZ2V0SnVtcFBvcyh0LGUsbykpLHRoaXMuX2dldExpbWl0cyh0LGwpfSxfcGxvdE5vblJlY3Vyc2l2ZTpmdW5jdGlvbih0LGUsaSxyLHMsbyl7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiPW51bGwsdj0hMSx5PVwiXCIsQz1bXSxfPTA7Zm9yKHA9dC5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzLENbXysrXT1bZSxpLHIscyxvLDEvMF07Xz4wOyl7aWYoZT0oZz1DWy0tX10pWzBdLGk9Z1sxXSxyPWdbMl0scz1nWzNdLGY9Z1s0XSxtPWdbNV0sdj0hMSx5PVwiXCIsYj1udWxsLHQucG9pbnRzLmxlbmd0aD42NTUzNilyZXR1cm47aWYoZjx0aGlzLm5hbkxldmVsKXtpZih0aGlzLl9pc1VuZGVmaW5lZCh0LGUsaSxyLHMpKWNvbnRpbnVlO2lmKHRoaXMuX2lzT3V0c2lkZShlLGkscixzLHQuYm9hcmQpKWNvbnRpbnVlfW49LjUqKGkrcyksZD10LlgobiwhMCksdT10LlkobiwhMCksYT1bMSxwWzFdK2QqdC5ib2FyZC51bml0WCxwWzJdLXUqdC5ib2FyZC51bml0WV0saD10aGlzLl90cmlhbmdsZURpc3RzKGUscixhKSxsPWlzTmFOKGVbMV0rZVsyXSksYz1pc05hTihyWzFdK3JbMl0pLGwmJiFjfHwhbCYmYz95PVwiYm9yZGVyXCI6aFswXT4uNjYqbXx8aFswXTx0aGlzLmN1c3BfdGhyZXNob2xkKihoWzFdK2hbMl0pfHxoWzFdPjUqaFsyXXx8aFsyXT41KmhbMV0/eT1cImN1c3BcIjooaFsyXT50aGlzLmp1bXBfdGhyZXNob2xkKmhbMF18fGhbMV0+dGhpcy5qdW1wX3RocmVzaG9sZCpoWzBdfHxoWzBdPT09MS8wfHxoWzFdPT09MS8wfHxoWzJdPT09MS8wKSYmKHk9XCJqdW1wXCIpLHY9XCJcIj09PXkmJmY8dGhpcy5zbW9vdGhMZXZlbCYmaFszXTx0aGlzLnNtb290aF90aHJlc2hvbGQsZjx0aGlzLnRlc3RMZXZlbCYmIXYmJihcIlwiPT09eT92PSEwOmI9dGhpcy5fZ2V0TGltZXModCxpLGUsbixhLHMscix5LGYpKSxudWxsIT09Yj8oYT1bMSxOYU4sTmFOXSx0aGlzLl9pbnNlcnRQb2ludCh0LGEsbixmLGIpKTpmPD0wfHx2P3RoaXMuX2luc2VydFBvaW50KHQsYSxuLGYsbnVsbCk6KENbXysrXT1bYSxuLHIscyxmLTEsaFswXV0sQ1tfKytdPVtlLGksYSxuLGYtMSxoWzBdXSl9cmV0dXJuIHRoaXN9LHVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZV92MzpmdW5jdGlvbih0LHIscyl7dmFyIG8sbixhLGgsYyxkLHUscCxmPSExLG09bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSx0LmJvYXJkLCExKSxnPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdC5ib2FyZCwhMSk7cmV0dXJuIGM9dC5ib2FyZC51cGRhdGVRdWFsaXR5PT09dC5ib2FyZC5CT0FSRF9RVUFMSVRZX0xPVz9sLmV2YWx1YXRlKHQudmlzUHJvcC5yZWN1cnNpb25kZXB0aGxvdyl8fDE0OmwuZXZhbHVhdGUodC52aXNQcm9wLnJlY3Vyc2lvbmRlcHRoaGlnaCl8fDE3LHRoaXMuc21vb3RoTGV2ZWw9Nyx0aGlzLm5hbkxldmVsPWMtNCx0aGlzLnRlc3RMZXZlbD00LHRoaXMuY3VzcF90aHJlc2hvbGQ9LjUsdGhpcy5qdW1wX3RocmVzaG9sZD0uOTksdGhpcy5zbW9vdGhfdGhyZXNob2xkPTIsdC5wb2ludHM9W10sXCJ4XCI9PT10Lnh0ZXJtPyhkPS4zKigodT10LmJvYXJkLmdldEJvdW5kaW5nQm94KCkpWzJdLXVbMF0pLG89TWF0aC5tYXgocix1WzBdLWQpLG49TWF0aC5taW4ocyx1WzJdK2QpKToobz1yLG49cyksbS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0LlgobyxmKSx0LlkobyxmKV0sITEpLGY9ITAsZy5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0LlgobixmKSx0LlkobixmKV0sITEpLHA9dGhpcy5fZmluZFN0YXJ0UG9pbnQodCxtLnNjckNvb3JkcyxvLGcuc2NyQ29vcmRzLG4pLG0uc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfU0NSRUVOLHBbMF0sITEpLG89cFsxXSxwPXRoaXMuX2ZpbmRTdGFydFBvaW50KHQsZy5zY3JDb29yZHMsbixtLnNjckNvb3JkcyxvKSxnLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1NDUkVFTixwWzBdLCExKSxuPXBbMV0sdGhpcy5fdmlzaWJsZUFyZWE9W28sbl0sYT1tLmNvcHkoXCJzY3JDb29yZHNcIiksaD1nLmNvcHkoXCJzY3JDb29yZHNcIiksbS5fdD1vLHQucG9pbnRzLnB1c2gobSksdGhpcy5fbGFzdFNjckNyZHM9bS5jb3B5KFwic2NyQ29vcmRzXCIpLHRoaXMuX2xhc3RVc3JDcmRzPW0uY29weShcInVzckNvb3Jkc1wiKSx0aGlzLl9wbG90Tm9uUmVjdXJzaXZlKHQsYSxvLGgsbixjKSxnLl90PW4sdC5wb2ludHMucHVzaChnKSx0Lm51bWJlclBvaW50cz10LnBvaW50cy5sZW5ndGgsdH0sX2NyaXRpY2FsSW50ZXJ2YWw6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxhLGgsbCxjLGQ9ITEsdT0tMS8wLHA9ITEsZj0hMSxtPTAsZz1bXSxiPVtdLHY9W107Zm9yKGM9bi5hYnModCksKGE9bi5tZWRpYW4oYykpPDFlLTc/KGE9MWUtNyxwPSEwKTphKj10aGlzLmNyaXRpY2FsVGhyZXNob2xkLHI9MDtyPGU7cisrKWNbcl0+YT8odi5wdXNoKHtpOnIsdjp0W3JdLGdyb3VwOm19KSx1PXIsZHx8KGQ9ITApKTpkJiZyPnUrNCYmKHYubGVuZ3RoPjAmJmcucHVzaCh2LnNsaWNlKDApKSx2PVtdLGQ9ITEsbSsrKTtmb3IoZCYmdi5sZW5ndGg+MSYmZy5wdXNoKHYuc2xpY2UoMCkpLHAmJjA9PT1nLmxlbmd0aCYmKGY9ITApLHM9MDtzPGcubGVuZ3RoO3MrKylpZihiW3NdPVwicG9pbnRcIiwhKChvPWdbc10ubGVuZ3RoKTw2NCkpe2ZvcihsPTAsaD1NYXRoLnNpZ24oZ1tzXVswXS52KSxyPTE7cjxvO3IrKylNYXRoLnNpZ24oZ1tzXVtyXS52KSE9PWgmJihsKyssaD1NYXRoLnNpZ24oZ1tzXVtyXS52KSk7NipsPm8mJihiW3NdPVwiaW50ZXJ2YWxcIil9cmV0dXJue3Ntb290aDpmLGdyb3VwczpnLHR5cGVzOmJ9fSxDb21wb25lbnQ6ZnVuY3Rpb24oKXt0aGlzLmxlZnRfaXNOYU49ITEsdGhpcy5yaWdodF9pc05hTj0hMSx0aGlzLmxlZnRfdD1udWxsLHRoaXMucmlnaHRfdD1udWxsLHRoaXMudF92YWx1ZXM9W10sdGhpcy54X3ZhbHVlcz1bXSx0aGlzLnlfdmFsdWVzPVtdLHRoaXMubGVuPTB9LGZpbmRDb21wb25lbnRzOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG8sbixhLGgsbCxjPVtdLGQ9MCx1PTAscD0wLGY9ITEsbT0hMTtmb3Iobj0oaS1lKS9yLGNbZF09bmV3IHRoaXMuQ29tcG9uZW50LGw9Y1tkXSxzPTAsbz1lO3M8PXI7cysrLG8rPW4pYT10LlgobyxtKSxoPXQuWShvLG0pLGlzTmFOKGEpfHxpc05hTihoKT8rK3A+MSYmZiYmKGwucmlnaHRfaXNOYU49ITAsbC5yaWdodF90PW8tbixsLmxlbj11LGY9ITEsY1srK2RdPW5ldyB0aGlzLkNvbXBvbmVudCxsPWNbZF0scD0wKTooZnx8KGY9ITAsdT0wLHA+MCYmKGwubGVmdF90PW8tbixsLmxlZnRfaXNOYU49ITApKSxwPTAsbC50X3ZhbHVlc1t1XT1vLGwueF92YWx1ZXNbdV09YSxsLnlfdmFsdWVzW3VdPWgsdSsrKSwwPT09cyYmKG09ITApO3JldHVybiBmP2wubGVuPXU6Yy5wb3AoKSxjfSxnZXRQb2ludFR5cGU6ZnVuY3Rpb24odCxlLGkscixzLG8sbil7dmFyIGE9c1swXSxoPW9bMF0sbD1yLmxlbmd0aCxjPXtpZHg6ZSx0OmkseDphW2VdLHk6aFtlXSx0eXBlOlwib3RoZXJcIn07cmV0dXJuIGU8NT8oYy50eXBlPVwiYm9yZGVybGVmdFwiLGMuaWR4PTAsYy50PXJbMF0sYy54PWFbMF0sYy55PWhbMF0sYyk6ZT5uLTY/KGMudHlwZT1cImJvcmRlcnJpZ2h0XCIsYy5pZHg9bC0xLGMudD1yW2wtMV0sYy54PWFbbC0xXSxjLnk9aFtsLTFdLGMpOmN9LG5ld3RvbkFwcHJveDpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciBvLG49MDtmb3Iobz1yO28+MDtvLS0pbj0obitzW29dW3RdKSooZS0oby0xKSppKS9vO3JldHVybiBuK3NbMF1bdF19LHRoaWVsZTpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciBvLG49MDtmb3Iobz1zO28+MTtvLS0pbj0odC1pW3Irb10pLyhlW29dW3IrMV0tZVtvLTJdW3IrMV0rbik7cmV0dXJuIGVbMF1bcisxXSsodC1pW3IrMV0pLyhlWzFdW3IrMV0rbil9LGRpZmZlcmVuY2VNZXRob2RFeHBlcmltZW50czpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvLG4sYSxoLGwsYyxkLHUscD10LnRfdmFsdWVzLGY9dC54X3ZhbHVlcyxtPXQueV92YWx1ZXMsZz1bXSxiPVtdLHY9W10seT1bXSxDPVtdLF89W10sUD1bXSxFPVtdLHg9MCxTPVtdO2ZvcihuPXBbMV0tcFswXSxDLnB1c2goW10pLF8ucHVzaChbXSksUC5wdXNoKFtdKSxFLnB1c2goW10pLHM9bS5sZW5ndGgsaT0wO2k8cztpKyspQ1swXVtpXT1mW2ldLF9bMF1baV09bVtpXSxQWzBdW2ldPWZbaV0sRVswXVtpXT1tW2ldO2ZvcihDLnB1c2goW10pLF8ucHVzaChbXSksUC5wdXNoKFtdKSxFLnB1c2goW10pLGE9bixzPW0ubGVuZ3RoLTEsaT0wO2k8cztpKyspZ1tpXT1mW2krMV0tZltpXSxiW2ldPW1baSsxXS1tW2ldLHZbaV09Z1tpXSx5W2ldPWJbaV0sQ1sxXVtpXT1nW2ldLF9bMV1baV09YltpXSxQWzFdW2ldPWEvZ1tpXSxFWzFdW2ldPWEvYltpXTtmb3Iocy0tLG89TWF0aC5taW4oOCxtLmxlbmd0aC0xKSxyPTE7cjxvO3IrKyl7Zm9yKEMucHVzaChbXSksXy5wdXNoKFtdKSxQLnB1c2goW10pLEUucHVzaChbXSksYSo9bixpPTA7aTxzO2krKylnW2ldPWdbaSsxXS1nW2ldLGJbaV09YltpKzFdLWJbaV0sQ1tyKzFdW2ldPWdbaV0sX1tyKzFdW2ldPWJbaV0sUFtyKzFdW2ldPWEvKFBbcl1baSsxXS1QW3JdW2ldKStQW3ItMV1baSsxXSxFW3IrMV1baV09YS8oRVtyXVtpKzFdLUVbcl1baV0pK0Vbci0xXVtpKzFdO2lmKCExPT09KHU9dGhpcy5fY3JpdGljYWxQb2ludHMoYixzLHIpKSl7Y29uc29sZS5sb2coXCJQb2x5bm9taWFsIG9mIGRlZ3JlZVwiLHIpLHU9W107YnJlYWt9aWYodS5sZW5ndGg+MCYmKyt4PjEmJnIlMj09MClicmVhaztzLS19Zm9yKGk9MDtpPHUubGVuZ3RoO2krKyl7Zm9yKGw9LTEvMCxjPTA7Yzx1W2ldLmxlbmd0aDtjKyspKGQ9TWF0aC5hYnModVtpXVtjXS52KSk+bCYmKGw9ZCxoPWMpO2g9TWF0aC5mbG9vcih1W2ldW2hdLmkrci8yKSxTLnB1c2godGhpcy5nZXRQb2ludFR5cGUoZSxoLHAsZixtLHYseSxzKzEpKX1yZXR1cm5bUyxDLF8sUCxFXX0sZ2V0Q2VudGVyT2ZDcml0aWNhbEludGVydmFsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhLGg9MCxsPTAsYz1pWzFdLWlbMF0sZD1bXTtmb3Iocj0tMS8wLGQ9W10scz0wO3M8dC5sZW5ndGg7cysrKShuPU1hdGguYWJzKHRbc10udikpPnI/KGQ9W3NdLHI9bixvPXMpOnI9PT1uJiZkLnB1c2gocyk7aWYoZC5sZW5ndGg+MCYmKGE9ZC5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLDApL2QubGVuZ3RoLG89TWF0aC5mbG9vcihhKSxhKz10WzBdLmkpLHI8MS8wKXtmb3Iocz0wO3M8dC5sZW5ndGg7cysrKWgrPU1hdGguYWJzKHRbc10udikqdFtzXS5pLGwrPU1hdGguYWJzKHRbc10udik7YT1oL2x9cmV0dXJuIGErPWUvMixbdFtvXS5pK2UvMixhLGlbTWF0aC5mbG9vcihhKV0rYyooYS1NYXRoLmZsb29yKGEpKV19LGRpZmZlcmVuY2VNZXRob2Q6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuLGEsaCxsLGMsZCx1PXQudF92YWx1ZXMscD10LnhfdmFsdWVzLGY9dC55X3ZhbHVlcyxtPVtdLGc9W10sYj0wLHY9LTEseT0tMSxDPVtdLF89W107Zm9yKHM9Zi5sZW5ndGgsbS5wdXNoKG5ldyBGbG9hdDY0QXJyYXkocCkpLGcucHVzaChuZXcgRmxvYXQ2NEFycmF5KGYpKSxzLS0sbz1NYXRoLm1pbigxMixzKSxyPTA7cjxvJiYobS5wdXNoKG5ldyBGbG9hdDY0QXJyYXkocykpLGcucHVzaChuZXcgRmxvYXQ2NEFycmF5KHMpKSxtW3IrMV09bVtyXS5tYXAoKGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaVtlKzFdLXR9KSksZ1tyKzFdPWdbcl0ubWFwKChmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGlbZSsxXS10fSkpLCEwPT09KGw9dGhpcy5fY3JpdGljYWxJbnRlcnZhbChnW3IrMV0scyxyKSkuc21vb3RoJiYoeT1yLEM9W10pLGg9dGhpcy5fY3JpdGljYWxJbnRlcnZhbChtW3IrMV0scyxyKSwtMT09PXYmJiEwPT09aC5zbW9vdGgmJih2PXIpLCEoeT49MCkpO3IrKyl7aWYobC5ncm91cHMubGVuZ3RoPjAmJisrYj4yJiYocisxKSUyPT0wKXtDPWwuZ3JvdXBzLGQ9bC50eXBlczticmVha31zLS19Zm9yKGk9MDtpPEMubGVuZ3RoO2krKylcImludGVydmFsXCIhPT1kW2ldJiYoYT10aGlzLmdldENlbnRlck9mQ3JpdGljYWxJbnRlcnZhbChDW2ldLHIrMSx1KSxsWzBdLG49TWF0aC5mbG9vcihhWzFdKSxjPWFbMl0sXy5wdXNoKHRoaXMuZ2V0UG9pbnRUeXBlKGUsbixjLHUsbSxnLHMrMSkpKTtyZXR1cm5bXyxtLGcsdix5XX0sX2luc2VydFBvaW50X3Y0OmZ1bmN0aW9uKHQscixzLG8pe3ZhciBuLGEsaCxsPW51bGw7dC5wb2ludHMubGVuZ3RoPjAmJihsPXQucG9pbnRzW3QucG9pbnRzLmxlbmd0aC0xXS5zY3JDb29yZHMpLG49bmV3IGkoZS5DT09SRFNfQllfVVNFUixyLHQuYm9hcmQpLG51bGwhPT1sJiYoYT1uLnNjckNvb3Jkc1sxXS1sWzFdKSphKyhoPW4uc2NyQ29vcmRzWzJdLWxbMl0pKmg8LjgqLjh8fChuLl90PXMsdC5wb2ludHMucHVzaChuKSl9LGdldEludGVydmFsOmZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvO3JldHVybiBoLmRpc2FibGUoKSxzPWguSW50ZXJ2YWwoaSxyKSxlLmJvYXJkLm1hdGhMaWI9aCxlLmJvYXJkLm1hdGhMaWJKWEc9aCxlLlgocywhMCksbz1lLlkocywhMCksZS5ib2FyZC5tYXRoTGliPU1hdGgsZS5ib2FyZC5tYXRoTGliSlhHPXQuTWF0aCxvfSxzaWduOmZ1bmN0aW9uKHQpe3JldHVybiB0PDA/LTE6dD4wPzE6MH0saGFuZGxlQm9yZGVyOmZ1bmN0aW9uKHQsZSxpLHIscyl7dmFyIG8sbixhLGgsYyxkLHUscCxmLG0sZyxiLHY9aS5pZHg7aWYoYj1lLnRfdmFsdWVzWzFdLWUudF92YWx1ZXNbMF0sXCJib3JkZXJsZWZ0XCI9PT1pLnR5cGU/YT0obj1vPWUubGVmdF9pc05hTj9lLmxlZnRfdDppLnQtYikrYjpcImJvcmRlcnJpZ2h0XCI9PT1pLnR5cGU/bj0oYT1vPWUucmlnaHRfaXNOYU4/ZS5yaWdodF90OmkudCtiKS1iOmNvbnNvbGUubG9nKFwiTm8gYm9yZGVyY2FzZSEhIVwiKSwwIT09KG09dGhpcy5maW5kQ29tcG9uZW50cyh0LG4sYSwzMikpLmxlbmd0aCl7Zm9yKFwiYm9yZGVybGVmdFwiPT09aS50eXBlJiYobj1tWzBdLmxlZnRfdCxhPW1bMF0udF92YWx1ZXNbMF0sYj1tWzBdLnRfdmFsdWVzWzFdLW1bMF0udF92YWx1ZXNbMF0sbz1uPW51bGw9PT1uP2EtYjpuLGg9dGhpcy5nZXRJbnRlcnZhbCh0LG4sYSksbC5pc09iamVjdChoKSYmKHU9aC5sbyxwPWguaGksYz10LlgobywhMCksZD1zWzFdW3ZdPDA/cDp1LHRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsYyxkXSxvKSkpLGc9bVswXS50X3ZhbHVlcy5sZW5ndGgsZj0wO2Y8ZztmKyspbz1tWzBdLnRfdmFsdWVzW2ZdLGM9bVswXS54X3ZhbHVlc1tmXSxkPW1bMF0ueV92YWx1ZXNbZl0sdGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSxjLGRdLG8pO1wiYm9yZGVycmlnaHRcIj09PWkudHlwZSYmKG49bVswXS50X3ZhbHVlc1tnLTFdLGE9bVswXS5yaWdodF90LGI9bVswXS50X3ZhbHVlc1sxXS1tWzBdLnRfdmFsdWVzWzBdLG89YT1udWxsPT09YT9uK2I6YSxoPXRoaXMuZ2V0SW50ZXJ2YWwodCxuLGEpLGwuaXNPYmplY3QoaCkmJih1PWgubG8scD1oLmhpLGM9dC5YKG8sITApLGQ9c1sxXVt2XT4wP3A6dSx0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLGMsZF0sbykpKX19LF9zZWNvbmRpdGVyYXRpb25fdjQ6ZnVuY3Rpb24odCxlLGkscixzKXt2YXIgbyxuLGEsaCxsLGMsZCx1LHAsZixtLGcsYjtmb3Iobj1lLnRfdmFsdWVzW2kuaWR4LTJdLGE9ZS50X3ZhbHVlc1tpLmlkeCsyXSxsPXRoaXMuZmluZENvbXBvbmVudHModCxuLGEsNjQpLGQ9MDtkPGwubGVuZ3RoO2QrKyl7Zm9yKGM9bFtkXSx1PShoPXRoaXMuZGlmZmVyZW5jZU1ldGhvZChjLHQpKVswXSxmPWhbMV0sbT1oWzJdLGc9MCxwPTA7cDw9dS5sZW5ndGg7cCsrKXtmb3IoYj1wPT09dS5sZW5ndGg/Yy5sZW46dVtwXS5pZHgsbz1nO288YjtvKyspaXNOYU4oYy54X3ZhbHVlc1tvXSl8fGlzTmFOKGMueV92YWx1ZXNbb10pfHx0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLGMueF92YWx1ZXNbb10sYy55X3ZhbHVlc1tvXV0sYy50X3ZhbHVlc1tvXSk7cDx1Lmxlbmd0aCYmKHRoaXMuaGFuZGxlU2luZ3VsYXJpdHkodCxjLHVbcF0sZixtKSxnPXVbcF0uaWR4KzEpfWI9Yy5sZW4sZDxsLmxlbmd0aC0xJiZ0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLE5hTixOYU5dLGMucmlnaHRfdCl9cmV0dXJuIHRoaXN9LF9yZWN1cnNlX3Y0OmZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSl7dmFyIGgsbCxjPS41KihlK2kpLGQ9dC5YKGMsITApLHU9dC5ZKGMsITApOzAhPT1hPyhoPShkLXIpKnQuYm9hcmQudW5pdFgsbD0odS1zKSp0LmJvYXJkLnVuaXRZLE1hdGguc3FydChoKmgrbCpsKT4yP3RoaXMuX3JlY3Vyc2VfdjQodCxlLGMscixzLGQsdSxhLTEpOnRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsZCx1XSxjKSxoPShkLW8pKnQuYm9hcmQudW5pdFgsbD0odS1uKSp0LmJvYXJkLnVuaXRZLE1hdGguc3FydChoKmgrbCpsKT4yP3RoaXMuX3JlY3Vyc2VfdjQodCxjLGksZCx1LG8sbixhLTEpOnRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsZCx1XSxjKSk6dGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSxOYU4sTmFOXSxjKX0saGFuZGxlU2luZ3VsYXJpdHk6ZnVuY3Rpb24odCxlLGkscixzKXt2YXIgbyxuLGEsaCxjLGQsdSxwLGYsbSxnLGI9aS5pZHgsdj0xMDA7bz1pLnQsY29uc29sZS5sb2coXCJIYW5kbGVTaW5ndWxhcml0eSBhdCB0ID1cIixvKSxuPWUudF92YWx1ZXNbYi01XSxhPWUudF92YWx1ZXNbYis1XSxoPXRoaXMuZ2V0SW50ZXJ2YWwodCxuLGEpLGwuaXNPYmplY3QoaCk/KHA9aC5sbyxmPWguaGkpOnNbMF1bYi0xXTxzWzBdW2IrMV0/KHA9c1swXVtiLTFdLGY9c1swXVtiKzFdKToocD1zWzBdW2IrMV0sZj1zWzBdW2ItMV0pLHU9dC5YKG8sITApLG09KHNbMF1bYi0zXS1zWzBdW2ItNV0pLyhlLnRfdmFsdWVzW2ItM10tZS50X3ZhbHVlc1tiLTVdKSxnPShzWzBdW2IrM10tc1swXVtiKzVdKS8oZS50X3ZhbHVlc1tiKzNdLWUudF92YWx1ZXNbYis1XSksY29uc29sZS5sb2coXCI6OjpcIixtLGcpLG08LTEwMD8odGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSx1LHBdLG8sITApLGc8PXYmJnRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsTmFOLE5hTl0sbykpOm0+dj8odGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSx1LGZdLG8pLGc+PS0xMDAmJnRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsTmFOLE5hTl0sbykpOihwPT09LTEvMCYmKHRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsdSxwXSxvLCEwKSx0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLE5hTixOYU5dLG8pKSxmPT09MS8wJiYodGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSxOYU4sTmFOXSxvKSx0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLHUsZl0sbywhMCkpLGkudDxlLnRfdmFsdWVzW2JdPyhjPWItMSxkPWIpOihjPWIsZD1iKzEpLG49ZS50X3ZhbHVlc1tjXSxhPWUudF92YWx1ZXNbZF0sdGhpcy5fcmVjdXJzZV92NCh0LG4sYSxyWzBdW2NdLHNbMF1bY10sclswXVtkXSxzWzBdW2RdLDEwKSksZzwtMTAwP3RoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsdSxmXSxvKTpnPnYmJnRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsdSxwXSxvKX0sc3RlcHM6MTAyMSxjcml0aWNhbFRocmVzaG9sZDoxZTMscGxvdF92NDpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxuLGEsaCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXz0oaS1lKS9yLFA9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuWShlLCEwKX0sRT1mdW5jdGlvbihlKXtyZXR1cm4tdC5ZKGUsITApfSx4PS41Kl87Zm9yKGE9dGhpcy5maW5kQ29tcG9uZW50cyh0LGUsaSxyKSxoPTA7aDxhLmxlbmd0aDtoKyspe2ZvcihjPWFbaF0sZD0oZj10aGlzLmRpZmZlcmVuY2VNZXRob2QoYyx0KSlbMF0sbT1mWzFdLGc9ZlsyXSxmWzNdLGZbNF0sMCE9PWQubGVuZ3RoJiZcImJvcmRlcmxlZnRcIj09PWRbMF0udHlwZXx8ZC51bnNoaWZ0KHtpZHg6MCx0OmMudF92YWx1ZXNbMF0seDpjLnhfdmFsdWVzWzBdLHk6Yy55X3ZhbHVlc1swXSx0eXBlOlwiYm9yZGVybGVmdFwifSksXCJib3JkZXJyaWdodFwiIT09ZFtkLmxlbmd0aC0xXS50eXBlJiYobj1jLnRfdmFsdWVzLmxlbmd0aCxkLnB1c2goe2lkeDpuLTEsdDpjLnRfdmFsdWVzW24tMV0seDpjLnhfdmFsdWVzW24tMV0seTpjLnlfdmFsdWVzW24tMV0sdHlwZTpcImJvcmRlcnJpZ2h0XCJ9KSkscD0wLHU9MDt1PD1kLmxlbmd0aDt1Kyspe2ZvcihuPXU9PT1kLmxlbmd0aD9jLmxlbjpkW3VdLmlkeC0xLDAsMCxzPXA7czxuLTI7cysrKXRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsYy54X3ZhbHVlc1tzXSxjLnlfdmFsdWVzW3NdXSxjLnRfdmFsdWVzW3NdKSxNYXRoLm1heCgwLHMtMikscz49cCszJiZzPG4tMyYmZy5sZW5ndGg+MyYmTWF0aC5hYnMoZ1syXVtzXSk+LjIqTWF0aC5hYnMoZ1swXVtzXSk/KGI9Yy50X3ZhbHVlc1tzXSx4PS4yNSpfLEM9dGhpcy5nZXRJbnRlcnZhbCh0LGIsYitfKSxsLmlzT2JqZWN0KEMpP2dbMl1bc10+MD90aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLGIreCxDLmxvXSxiK3gpOnRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsYitfLXgsQy5oaV0sYitfLXgpOih2PW8uZm1pbmJyKFAsW2IsYitfXSkpPCh5PW8uZm1pbmJyKEUsW2IsYitfXSkpPyh0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLHQuWCh2LCEwKSx0LlkodiwhMCldLHYpLHRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsdC5YKHksITApLHQuWSh5LCEwKV0seSkpOih0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLHQuWCh5LCEwKSx0LlkoeSwhMCldLHkpLHRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsdC5YKHYsITApLHQuWSh2LCEwKV0sdikpKTowO3U8ZC5sZW5ndGgmJihzPWRbdV0uaWR4LFwiYm9yZGVybGVmdFwiPT09ZFt1XS50eXBlfHxcImJvcmRlcnJpZ2h0XCI9PT1kW3VdLnR5cGU/dGhpcy5oYW5kbGVCb3JkZXIodCxjLGRbdV0sbSxnKTp0aGlzLl9zZWNvbmRpdGVyYXRpb25fdjQodCxjLGRbdV0sbSxnKSxwPWRbdV0uaWR4KzErMSl9bj1jLmxlbixoPGEubGVuZ3RoLTEmJnRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsTmFOLE5hTl0sYy5yaWdodF90KX19LHVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZV92NDpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG47XCJ4XCI9PT10Lnh0ZXJtPyhvPS4zKigobj10LmJvYXJkLmdldEJvdW5kaW5nQm94KCkpWzJdLW5bMF0pLHI9TWF0aC5tYXgoZSxuWzBdLW8pLHM9TWF0aC5taW4oaSxuWzJdK28pKToocj1lLHM9aSksdC5wb2ludHM9W10sdGhpcy5wbG90X3Y0KHQscixzLHRoaXMuc3RlcHMpLHQubnVtYmVyUG9pbnRzPXQucG9pbnRzLmxlbmd0aH0sdXBkYXRlUGFyYW1ldHJpY0N1cnZlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy51cGRhdGVQYXJhbWV0cmljQ3VydmVfdjIodCxlLGkpfX0sci5QbG90fSkpLGRlZmluZShcIm1hdGgvbWV0YXBvc3RcIixbXCJ1dGlscy90eXBlXCIsXCJtYXRoL21hdGhcIl0sKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIGUuTWV0YXBvc3Q9e01QX0VORFBPSU5UOjAsTVBfRVhQTElDSVQ6MSxNUF9HSVZFTjoyLE1QX0NVUkw6MyxNUF9PUEVOOjQsTVBfRU5EX0NZQ0xFOjUsVU5JVFk6MSxGUkFDVElPTl9PTkU6MSxGUkFDVElPTl9USFJFRTozLE9ORV9FSUdIVFlfREVHOk1hdGguUEksVEhSRUVfU0lYVFlfREVHOjIqTWF0aC5QSSxFUFNfU1E6MWUtNSoxZS01LG1ha2VfY2hvaWNlczpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG4sYSxoLGwsYyxkLHUscCxmLG07YT10WzBdO2Rve2lmKCFhKWJyZWFrO249YS5uZXh0LGEucnR5cGU+dGhpcy5NUF9FWFBMSUNJVCYmKGEueC1uLngpKihhLngtbi54KSsoYS55LW4ueSkqKGEueS1uLnkpPHRoaXMuRVBTX1NRJiYoYS5ydHlwZT10aGlzLk1QX0VYUExJQ0lULGEubHR5cGU9PT10aGlzLk1QX09QRU4mJihhLmx0eXBlPXRoaXMuTVBfQ1VSTCxhLnNldF9sZWZ0X2N1cmwodGhpcy5VTklUWSkpLG4ubHR5cGU9dGhpcy5NUF9FWFBMSUNJVCxuLnJ0eXBlPT09dGhpcy5NUF9PUEVOJiYobi5ydHlwZT10aGlzLk1QX0NVUkwsbi5zZXRfcmlnaHRfY3VybCh0aGlzLlVOSVRZKSksYS5yeD1hLngsbi5seD1hLngsYS5yeT1hLnksbi5seT1hLnkpLGE9bn13aGlsZShhIT09dFswXSk7Zm9yKGk9dFswXTtpLmx0eXBlPT09dGhpcy5NUF9PUEVOJiZpLnJ0eXBlPT09dGhpcy5NUF9PUEVOOylpZigoaT1pLm5leHQpPT09dFswXSl7aS5sdHlwZT10aGlzLk1QX0VORF9DWUNMRTticmVha31mb3IoYT1pO2E7KXtpZihuPWEubmV4dCxhLnJ0eXBlPj10aGlzLk1QX0dJVkVOKXtmb3IoO24ubHR5cGU9PT10aGlzLk1QX09QRU4mJm4ucnR5cGU9PT10aGlzLk1QX09QRU47KW49bi5uZXh0O2ZvcihyPTAsaD1hLG89dC5sZW5ndGgsdT1bXSxwPVtdLGY9W10sbT1bbnVsbF07Yz1oLm5leHQsdS5wdXNoKGMueC1oLngpLHAucHVzaChjLnktaC55KSxmLnB1c2godGhpcy5tcF9weXRoX2FkZCh1W3JdLHBbcl0pKSxyPjAmJihkPXBbci0xXS9mW3ItMV0sbD11W3ItMV0vZltyLTFdLG0ucHVzaChNYXRoLmF0YW4yKHBbcl0qbC11W3JdKmQsdVtyXSpsK3Bbcl0qZCkpKSxyKyssKGg9Yyk9PT1uJiYobz1yKSwhKHI+PW8mJmgubHR5cGUhPT10aGlzLk1QX0VORF9DWUNMRSk7KTtyPT09bz9tLnB1c2goMCk6bS5wdXNoKG1bMV0pLG4ubHR5cGU9PT10aGlzLk1QX09QRU4mJigocz1uLnJ4LW4ueCkqcysoZT1uLnJ5LW4ueSkqZTx0aGlzLkVQU19TUT8obi5sdHlwZT10aGlzLk1QX0NVUkwsbi5zZXRfbGVmdF9jdXJsKHRoaXMuVU5JVFkpKToobi5sdHlwZT10aGlzLk1QX0dJVkVOLG4uc2V0X2xlZnRfZ2l2ZW4oTWF0aC5hdGFuMihlLHMpKSkpLGEucnR5cGU9PT10aGlzLk1QX09QRU4mJmEubHR5cGU9PT10aGlzLk1QX0VYUExJQ0lUJiYoKHM9YS54LWEubHgpKnMrKGU9YS55LWEubHkpKmU8dGhpcy5FUFNfU1E/KGEucnR5cGU9dGhpcy5NUF9DVVJMLGEuc2V0X3JpZ2h0X2N1cmwodGhpcy5VTklUWSkpOihhLnJ0eXBlPXRoaXMuTVBfR0lWRU4sYS5zZXRfcmlnaHRfZ2l2ZW4oTWF0aC5hdGFuMihlLHMpKSkpLHRoaXMubXBfc29sdmVfY2hvaWNlcyhhLG4sbyx1LHAsZixtKX1lbHNlIGEucnR5cGU9PT10aGlzLk1QX0VORFBPSU5UJiYoYS5yeD1hLngsYS5yeT1hLnksbi5seD1uLngsbi5seT1uLnkpO2lmKChhPW4pPT09aSlicmVha319LG1wX3NvbHZlX2Nob2ljZXM6ZnVuY3Rpb24odCxlLGkscixzLG8sbil7dmFyIGEsaCxsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4LFMsTyx3LFQsTixNLEEsUjtmb3IoZD1vLmxlbmd0aCsxLGc9bmV3IEFycmF5KGQpLG09bmV3IEFycmF5KGQpLGw9bmV3IEFycmF5KGQpLF89bmV3IEFycmF5KGQpLEE9MDtBPGQ7QSsrKV9bQV09bFtBXT1tW0FdPWdbQV09MDtmb3IocD0wLGY9dCx2PTA7Oyl7aWYoeT1mLm5leHQsMD09PXApaWYoZi5ydHlwZT09PXRoaXMuTVBfR0lWRU4pe2lmKHkubHR5cGU9PT10aGlzLk1QX0dJVkVOKXJldHVybiBhPU1hdGguYXRhbjIoc1swXSxyWzBdKSxPPShTPXRoaXMubXBfbl9zaW5fY29zKHQucmlnaHRfZ2l2ZW4oKS1hKSlbMF0sdz1TWzFdLE49KFQ9dGhpcy5tcF9uX3Npbl9jb3MoZS5sZWZ0X2dpdmVuKCktYSkpWzBdLE09VFsxXSx2b2lkIHRoaXMubXBfc2V0X2NvbnRyb2xzKHQsZSxyWzBdLHNbMF0sdyxPLC1NLE4pO2xbMF09Zi5yaWdodF9naXZlbigpLU1hdGguYXRhbjIoc1swXSxyWzBdKSxsWzBdPXRoaXMucmVkdWNlX2FuZ2xlKGxbMF0pLGdbMF09MCxtWzBdPTB9ZWxzZSBpZihmLnJ0eXBlPT09dGhpcy5NUF9DVVJMKXtpZih5Lmx0eXBlPT09dGhpcy5NUF9DVVJMKXJldHVybiB0LnJ0eXBlPXRoaXMuTVBfRVhQTElDSVQsZS5sdHlwZT10aGlzLk1QX0VYUExJQ0lULGI9TWF0aC5hYnMoZS5sZWZ0X3RlbnNpb24oKSksUD1NYXRoLmFicyh0LnJpZ2h0X3RlbnNpb24oKSksQz10aGlzLlVOSVRZLygzKlApLHQucng9dC54K3JbMF0qQyx0LnJ5PXQueStzWzBdKkMsQz10aGlzLlVOSVRZLygzKmIpLGUubHg9ZS54LXJbMF0qQyx2b2lkKGUubHk9ZS55LXNbMF0qQyk7eD1mLnJpZ2h0X2N1cmwoKSxiPU1hdGguYWJzKHkubGVmdF90ZW5zaW9uKCkpLFA9TWF0aC5hYnMoZi5yaWdodF90ZW5zaW9uKCkpLGdbMF09dGhpcy5tcF9jdXJsX3JhdGlvKHgsUCxiKSxsWzBdPS1uWzFdKmdbMF0sbVswXT0wfWVsc2UgZi5ydHlwZT09PXRoaXMuTVBfT1BFTiYmKGdbMF09MCxsWzBdPTAsbVswXT10aGlzLkZSQUNUSU9OX09ORSk7ZWxzZSBpZihmLmx0eXBlPT09dGhpcy5NUF9FTkRfQ1lDTEV8fGYubHR5cGU9PT10aGlzLk1QX09QRU4pe2lmKGE9dGhpcy5VTklUWS8oMypNYXRoLmFicyh2LnJpZ2h0X3RlbnNpb24oKSktdGhpcy5VTklUWSksRT1vW3BdKih0aGlzLkZSQUNUSU9OX1RIUkVFLXRoaXMuVU5JVFkvTWF0aC5hYnModi5yaWdodF90ZW5zaW9uKCkpKSxjPXRoaXMuVU5JVFkvKDMqTWF0aC5hYnMoeS5sZWZ0X3RlbnNpb24oKSktdGhpcy5VTklUWSksdT1vW3AtMV0qKHRoaXMuRlJBQ1RJT05fVEhSRUUtdGhpcy5VTklUWS9NYXRoLmFicyh5LmxlZnRfdGVuc2lvbigpKSksRSo9eD10aGlzLkZSQUNUSU9OX09ORS1nW3AtMV0qYSwoYj1NYXRoLmFicyhmLmxlZnRfdGVuc2lvbigpKSk8KFA9TWF0aC5hYnMoZi5yaWdodF90ZW5zaW9uKCkpKT9FKj1NYXRoLnBvdyhiL1AsMik6Yj5QJiYodSo9TWF0aC5wb3coUC9iLDIpKSxDPXUvKHUrRSksZ1twXT1DKmMsaD0tbltwKzFdKmdbcF0sdi5ydHlwZT09PXRoaXMuTVBfQ1VSTD8obVtwXT0wLGxbcF09aC1uWzFdKih0aGlzLkZSQUNUSU9OX09ORS1DKSk6KEM9KHRoaXMuRlJBQ1RJT05fT05FLUMpL3gsaC09bltwXSpDLEMqPWEsbFtwXT1oLWxbcC0xXSpDLG1bcF09LW1bcC0xXSpDKSxmLmx0eXBlPT09dGhpcy5NUF9FTkRfQ1lDTEUpe2ZvcihhPTAsYz10aGlzLkZSQUNUSU9OX09ORTswPT09KHAtPTEpJiYocD1pKSxhPWxbcF0tYSpnW3BdLGM9bVtwXS1jKmdbcF0scCE9PWk7KTtmb3IoYS89dGhpcy5GUkFDVElPTl9PTkUtYyxfW2ldPWEsbFswXT1hLFI9MTtSPGk7UisrKWxbUl09bFtSXSthKm1bUl07YnJlYWt9fWVsc2V7aWYoZi5sdHlwZT09PXRoaXMuTVBfQ1VSTCl7eD1mLmxlZnRfY3VybCgpLGI9TWF0aC5hYnMoZi5sZWZ0X3RlbnNpb24oKSksUD1NYXRoLmFicyh2LnJpZ2h0X3RlbnNpb24oKSksQz10aGlzLm1wX2N1cmxfcmF0aW8oeCxiLFApLF9baV09LWxbaS0xXSpDLyh0aGlzLkZSQUNUSU9OX09ORS1DKmdbaS0xXSk7YnJlYWt9aWYoZi5sdHlwZT09PXRoaXMuTVBfR0lWRU4pe19baV09Zi5sZWZ0X2dpdmVuKCktTWF0aC5hdGFuMihzW2ktMV0scltpLTFdKSxfW2ldPXRoaXMucmVkdWNlX2FuZ2xlKF9baV0pO2JyZWFrfX12PWYsZj15LHArPTF9Zm9yKHA9aS0xO3A+LTE7cC0tKV9bcF09bFtwXS1fW3ArMV0qZ1twXTtmb3IoZj10LHA9MDt5PWYubmV4dCxPPShTPXRoaXMubXBfbl9zaW5fY29zKF9bcF0pKVswXSx3PVNbMV0sTj0oVD10aGlzLm1wX25fc2luX2NvcygtbltwKzFdLV9bcCsxXSkpWzBdLE09VFsxXSx0aGlzLm1wX3NldF9jb250cm9scyhmLHkscltwXSxzW3BdLHcsTyxNLE4pLGY9eSwrK3AhPT1pOyk7fSxtcF9uX3Npbl9jb3M6ZnVuY3Rpb24odCl7cmV0dXJuW01hdGguY29zKHQpLE1hdGguc2luKHQpXX0sbXBfc2V0X2NvbnRyb2xzOmZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSl7dmFyIGgsbCxjLGQsdTtjPU1hdGguYWJzKGUubGVmdF90ZW5zaW9uKCkpLGg9TWF0aC5hYnModC5yaWdodF90ZW5zaW9uKCkpLHU9dGhpcy5tcF92ZWxvY2l0eShzLG8sbixhLGgpLGw9dGhpcy5tcF92ZWxvY2l0eShuLGEscyxvLGMpLCh0LnJpZ2h0X3RlbnNpb24oKTwwfHxlLmxlZnRfdGVuc2lvbigpPDApJiYocz49MCYmbj49MHx8czw9MCYmbjw9MCkmJihkPU1hdGguYWJzKHMpKmErTWF0aC5hYnMobikqbyk+MCYmKGQqPTEuMDAwMjQ0MTQwNjIsdC5yaWdodF90ZW5zaW9uKCk8MCYmdGhpcy5tcF9hYl92c19jZChNYXRoLmFicyhuKSx0aGlzLkZSQUNUSU9OX09ORSx1LGQpPDAmJih1PU1hdGguYWJzKG4pL2QpLGUubGVmdF90ZW5zaW9uKCk8MCYmdGhpcy5tcF9hYl92c19jZChNYXRoLmFicyhzKSx0aGlzLkZSQUNUSU9OX09ORSxsLGQpPDAmJihsPU1hdGguYWJzKHMpL2QpKSx0LnJ4PXQueCsoaSpvLXIqcykqdSx0LnJ5PXQueSsocipvK2kqcykqdSxlLmx4PWUueC0oaSphK3IqbikqbCxlLmx5PWUueS0ociphLWkqbikqbCx0LnJ0eXBlPXRoaXMuTVBfRVhQTElDSVQsZS5sdHlwZT10aGlzLk1QX0VYUExJQ0lUfSxtcF9weXRoX2FkZDpmdW5jdGlvbih0LGUpe3JldHVybiBNYXRoLnNxcnQodCp0K2UqZSl9LG1wX2N1cmxfcmF0aW86ZnVuY3Rpb24odCxlLGkpe3ZhciByPTEvZSxzPTEvaTtyZXR1cm4gTWF0aC5taW4oNCwoKDMtcikqcipyKnQrcypzKnMpLyhyKnIqcip0KygzLXMpKnMqcykpfSxtcF9hYl92c19jZDpmdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gdCplPT1pKnI/MDp0KmU+aSpyPzE6LTF9LG1wX3ZlbG9jaXR5OmZ1bmN0aW9uKHQsZSxpLHIscyl7cmV0dXJuIE1hdGgubWluKDQsKDIrTWF0aC5zcXJ0KDIpKih0LWkvMTYpKihpLXQvMTYpKihlLXIpKS8oMS41KnMqKDIrKE1hdGguc3FydCg1KS0xKSplKygzLU1hdGguc3FydCg1KSkqcikpKX0scmVkdWNlX2FuZ2xlOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmFicyh0KT50aGlzLk9ORV9FSUdIVFlfREVHJiYodD4wP3QtPXRoaXMuVEhSRUVfU0lYVFlfREVHOnQrPXRoaXMuVEhSRUVfU0lYVFlfREVHKSx0fSxtYWtla25vdHM6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbz1bXTtmb3IoZT1lfHwxLHM9dC5sZW5ndGgscj0wO3I8cztyKyspby5wdXNoKHt4OnRbcl1bMF0seTp0W3JdWzFdLGx0eXBlOnRoaXMuTVBfT1BFTixydHlwZTp0aGlzLk1QX09QRU4sbHk6ZSxyeTplLGx4OmUscng6ZSxsZWZ0X2N1cmw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5seHx8MH0scmlnaHRfY3VybDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ4fHwwfSxsZWZ0X3RlbnNpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5seXx8KHRoaXMubHk9MSksdGhpcy5seX0scmlnaHRfdGVuc2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ5fHwodGhpcy5yeT0xKSx0aGlzLnJ5fSxzZXRfcmlnaHRfY3VybDpmdW5jdGlvbih0KXt0aGlzLnJ4PXR8fDB9LHNldF9sZWZ0X2N1cmw6ZnVuY3Rpb24odCl7dGhpcy5seD10fHwwfX0pO2ZvcihzPW8ubGVuZ3RoLHI9MDtyPHM7cisrKW9bcl0ubmV4dD1vW3IrMV18fG9bcl0sb1tyXS5zZXRfcmlnaHRfZ2l2ZW49b1tyXS5zZXRfcmlnaHRfY3VybCxvW3JdLnNldF9sZWZ0X2dpdmVuPW9bcl0uc2V0X2xlZnRfY3VybCxvW3JdLnJpZ2h0X2dpdmVuPW9bcl0ucmlnaHRfY3VybCxvW3JdLmxlZnRfZ2l2ZW49b1tyXS5sZWZ0X2N1cmw7cmV0dXJuIG9bcy0xXS5uZXh0PW9bMF0saXx8KG9bcy0xXS5ydHlwZT10aGlzLk1QX0VORFBPSU5ULG9bcy0xXS5sdHlwZT10aGlzLk1QX0NVUkwsb1swXS5ydHlwZT10aGlzLk1QX0NVUkwpLG99LGN1cnZlOmZ1bmN0aW9uKGUsaSl7dmFyIHIscyxvLG4sYT1bXSxoPVtdO2ZvcihvIGluIGk9aXx8e3RlbnNpb246MSxkaXJlY3Rpb246e30sY3VybDp7fSxpc0Nsb3NlZDohMX0scz0ocj10aGlzLm1ha2Vrbm90cyhlLHQuZXZhbHVhdGUoaS50ZW5zaW9uKSxpLmlzQ2xvc2VkKSkubGVuZ3RoLGkuZGlyZWN0aW9uKWkuZGlyZWN0aW9uLmhhc093blByb3BlcnR5KG8pJiYobj10LmV2YWx1YXRlKGkuZGlyZWN0aW9uW29dKSx0LmlzQXJyYXkobik/KCExIT09blswXSYmKHJbb10ubHg9blswXSpNYXRoLlBJLzE4MCxyW29dLmx0eXBlPXRoaXMuTVBfR0lWRU4pLCExIT09blsxXSYmKHJbb10ucng9blsxXSpNYXRoLlBJLzE4MCxyW29dLnJ0eXBlPXRoaXMuTVBfR0lWRU4pKToocltvXS5seD1uKk1hdGguUEkvMTgwLHJbb10ucng9bipNYXRoLlBJLzE4MCxyW29dLmx0eXBlPXJbb10ucnR5cGU9dGhpcy5NUF9HSVZFTikpO2ZvcihvIGluIGkuY3VybClpLmN1cmwuaGFzT3duUHJvcGVydHkobykmJihuPXQuZXZhbHVhdGUoaS5jdXJsW29dKSwwPT09cGFyc2VJbnQobywxMCk/KHJbb10ucnR5cGU9dGhpcy5NUF9DVVJMLHJbb10uc2V0X3JpZ2h0X2N1cmwobikpOnBhcnNlSW50KG8sMTApPT09cy0xJiYocltvXS5sdHlwZT10aGlzLk1QX0NVUkwscltvXS5zZXRfbGVmdF9jdXJsKG4pKSk7Zm9yKHRoaXMubWFrZV9jaG9pY2VzKHIpLG89MDtvPHMtMTtvKyspYS5wdXNoKHJbb10ueCksYS5wdXNoKHJbb10ucngpLGEucHVzaChyW28rMV0ubHgpLGgucHVzaChyW29dLnkpLGgucHVzaChyW29dLnJ5KSxoLnB1c2gocltvKzFdLmx5KTtyZXR1cm4gYS5wdXNoKHJbcy0xXS54KSxoLnB1c2gocltzLTFdLnkpLGkuaXNDbG9zZWQmJihhLnB1c2gocltzLTFdLnJ4KSxoLnB1c2gocltzLTFdLnJ5KSxhLnB1c2goclswXS5seCksaC5wdXNoKHJbMF0ubHkpLGEucHVzaChyWzBdLngpLGgucHVzaChyWzBdLnkpKSxbYSxoXX19LGUuTWV0YXBvc3R9KSksZGVmaW5lKFwidXRpbHMvemlwXCIsW1wianhnXCJdLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1bMCwxMjgsNjQsMTkyLDMyLDE2MCw5NiwyMjQsMTYsMTQ0LDgwLDIwOCw0OCwxNzYsMTEyLDI0MCw4LDEzNiw3MiwyMDAsNDAsMTY4LDEwNCwyMzIsMjQsMTUyLDg4LDIxNiw1NiwxODQsMTIwLDI0OCw0LDEzMiw2OCwxOTYsMzYsMTY0LDEwMCwyMjgsMjAsMTQ4LDg0LDIxMiw1MiwxODAsMTE2LDI0NCwxMiwxNDAsNzYsMjA0LDQ0LDE3MiwxMDgsMjM2LDI4LDE1Niw5MiwyMjAsNjAsMTg4LDEyNCwyNTIsMiwxMzAsNjYsMTk0LDM0LDE2Miw5OCwyMjYsMTgsMTQ2LDgyLDIxMCw1MCwxNzgsMTE0LDI0MiwxMCwxMzgsNzQsMjAyLDQyLDE3MCwxMDYsMjM0LDI2LDE1NCw5MCwyMTgsNTgsMTg2LDEyMiwyNTAsNiwxMzQsNzAsMTk4LDM4LDE2NiwxMDIsMjMwLDIyLDE1MCw4NiwyMTQsNTQsMTgyLDExOCwyNDYsMTQsMTQyLDc4LDIwNiw0NiwxNzQsMTEwLDIzOCwzMCwxNTgsOTQsMjIyLDYyLDE5MCwxMjYsMjU0LDEsMTI5LDY1LDE5MywzMywxNjEsOTcsMjI1LDE3LDE0NSw4MSwyMDksNDksMTc3LDExMywyNDEsOSwxMzcsNzMsMjAxLDQxLDE2OSwxMDUsMjMzLDI1LDE1Myw4OSwyMTcsNTcsMTg1LDEyMSwyNDksNSwxMzMsNjksMTk3LDM3LDE2NSwxMDEsMjI5LDIxLDE0OSw4NSwyMTMsNTMsMTgxLDExNywyNDUsMTMsMTQxLDc3LDIwNSw0NSwxNzMsMTA5LDIzNywyOSwxNTcsOTMsMjIxLDYxLDE4OSwxMjUsMjUzLDMsMTMxLDY3LDE5NSwzNSwxNjMsOTksMjI3LDE5LDE0Nyw4MywyMTEsNTEsMTc5LDExNSwyNDMsMTEsMTM5LDc1LDIwMyw0MywxNzEsMTA3LDIzNSwyNywxNTUsOTEsMjE5LDU5LDE4NywxMjMsMjUxLDcsMTM1LDcxLDE5OSwzOSwxNjcsMTAzLDIzMSwyMywxNTEsODcsMjE1LDU1LDE4MywxMTksMjQ3LDE1LDE0Myw3OSwyMDcsNDcsMTc1LDExMSwyMzksMzEsMTU5LDk1LDIyMyw2MywxOTEsMTI3LDI1NV0saT1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdLHI9WzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCw5OSw5OV0scz1bMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3XSxvPVswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSxuPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XTtyZXR1cm4gdC5VdGlsPXQuVXRpbHx8e30sdC5VdGlsLlVuemlwPWZ1bmN0aW9uKGEpe3ZhciBoLGwsYyxkLHU9W10scD0wLGY9W10sbT1uZXcgQXJyYXkoMzI3NjgpLGc9MCxiPSExLHY9YS5sZW5ndGgseT0wLEM9MSxfPW5ldyBBcnJheSgyODgpLFA9bmV3IEFycmF5KDMyKSxFPTAseD1udWxsLFM9KG5ldyBBcnJheSg2NCksbmV3IEFycmF5KDY0KSwwKSxPPW5ldyBBcnJheSgxNyksdz1bXTtmdW5jdGlvbiBUKCl7cmV0dXJuIDgseTx2P2FbeSsrXTotMX1mdW5jdGlvbiBOKCl7Qz0xfWZ1bmN0aW9uIE0oKXt2YXIgdDt0cnl7cmV0dXJuIHQ9MSZDLDA9PT0oQz4+PTEpJiYodD0xJihDPVQoKSksQz1DPj4xfDEyOCksdH1jYXRjaCh0KXt0aHJvdyB0fX1mdW5jdGlvbiBBKHQpe3ZhciBpPTAscj10O3RyeXtmb3IoO3ItLTspaT1pPDwxfE0oKTt0JiYoaT1lW2ldPj44LXQpfWNhdGNoKHQpe3Rocm93IHR9cmV0dXJuIGl9ZnVuY3Rpb24gUigpe2c9MH1mdW5jdGlvbiBMKHQpe21bZysrXT10LHUucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHQpKSwzMjc2OD09PWcmJihnPTApfWZ1bmN0aW9uIGsoKXt0aGlzLmIwPTAsdGhpcy5iMT0wLHRoaXMuanVtcD1udWxsLHRoaXMuanVtcHBvcz0tMX1mdW5jdGlvbiBEKCl7Zm9yKDs7KXtpZihPW1NdPj1kKXJldHVybi0xO2lmKGNbT1tTXV09PT1TKXJldHVybiBPW1NdKys7T1tTXSsrfX1mdW5jdGlvbiBCKCl7dmFyIHQsZT14W0VdO2lmKDE3PT09UylyZXR1cm4tMTtpZihFKyssUysrLCh0PUQoKSk+PTApZS5iMD10O2Vsc2UgaWYoZS5iMD0zMjc2OCxCKCkpcmV0dXJuLTE7aWYoKHQ9RCgpKT49MCllLmIxPXQsZS5qdW1wPW51bGw7ZWxzZSBpZihlLmIxPTMyNzY4LGUuanVtcD14W0VdLGUuanVtcHBvcz1FLEIoKSlyZXR1cm4tMTtyZXR1cm4gUy0tLDB9ZnVuY3Rpb24gSSh0LGUsaSxyKXt2YXIgcztmb3IoeD10LEU9MCxjPWksZD1lLHM9MDtzPDE3O3MrKylPW3NdPTA7cmV0dXJuIFM9MCxCKCk/LTE6MH1mdW5jdGlvbiBZKHQpe2Zvcih2YXIgZSxpLHI9MCxzPXRbcl07OylpZihNKCkpe2lmKCEoMzI3Njgmcy5iMSkpcmV0dXJuIHMuYjE7Zm9yKHM9cy5qdW1wLGU9dC5sZW5ndGgsaT0wO2k8ZTtpKyspaWYodFtpXT09PXMpe3I9aTticmVha319ZWxzZXtpZighKDMyNzY4JnMuYjApKXJldHVybiBzLmIwO3M9dFsrK3JdfX1mdW5jdGlvbiBqKCl7dmFyIGEsaCxsLGMsZCx1LHAsZixiLHYseSxDLEUseCxTO2Rve2lmKGE9TSgpLDA9PT0oaD1BKDIpKSlmb3IoTigpLGI9VCgpLGJ8PVQoKTw8OCx5PVQoKSw2NTUzNSYoYl5+KHl8PVQoKTw8OCkpJiZ0LmRlYnVnKFwiQmxvY2tMZW4gY2hlY2tzdW0gbWlzbWF0Y2hcXG5cIik7Yi0tOylMKFQoKSk7ZWxzZSBpZigxPT09aClmb3IoOzspaWYoKGM9ZVtBKDcpXT4+MSk+MjM/KGM9Yzw8MXxNKCkpPjE5OT9jPShjLT0xMjgpPDwxfE0oKTooYy09NDgpPjE0MyYmKGMrPTEzNik6Yys9MjU2LGM8MjU2KUwoYyk7ZWxzZXtpZigyNTY9PT1jKWJyZWFrO2ZvcihmPUEocltjLT0yNTddKStpW2NdLGM9ZVtBKDUpXT4+MyxvW2NdPjg/KHY9QSg4KSx2fD1BKG9bY10tOCk8PDgpOnY9QShvW2NdKSx2Kz1zW2NdLGM9MDtjPGY7YysrKUwobVtnLXYmMzI3NjddKX1lbHNlIGlmKDI9PT1oKXtmb3IodT1uZXcgQXJyYXkoMzIwKSxFPTI1NytBKDUpLHg9MStBKDUpLFM9NCtBKDQpLGM9MDtjPDE5O2MrKyl1W2NdPTA7Zm9yKGM9MDtjPFM7YysrKXVbbltjXV09QSgzKTtmb3IoZj1QLmxlbmd0aCxsPTA7bDxmO2wrKylQW2xdPW5ldyBrO2lmKEkoUCwxOSx1KSlyZXR1cm4gUigpLDE7Zm9yKEM9RSt4LGw9MCwtMTtsPEM7KWlmKChjPVkoUCkpPDE2KXVbbCsrXT1jO2Vsc2UgaWYoMTY9PT1jKXtpZihsKyhjPTMrQSgyKSk+QylyZXR1cm4gUigpLDE7Zm9yKGQ9bD91W2wtMV06MDtjLS07KXVbbCsrXT1kfWVsc2V7aWYobCsoYz0xNz09PWM/MytBKDMpOjExK0EoNykpPkMpcmV0dXJuIFIoKSwxO2Zvcig7Yy0tOyl1W2wrK109MH1mb3IoZj1fLmxlbmd0aCxsPTA7bDxmO2wrKylfW2xdPW5ldyBrO2lmKEkoXyxFLHUpKXJldHVybiBSKCksMTtmb3IoZj1fLmxlbmd0aCxsPTA7bDxmO2wrKylQW2xdPW5ldyBrO2ZvcihwPVtdLGw9RTtsPHUubGVuZ3RoO2wrKylwW2wtRV09dVtsXTtpZihJKFAseCxwKSlyZXR1cm4gUigpLDE7Zm9yKDs7KWlmKChjPVkoXykpPj0yNTYpe2lmKDA9PT0oYy09MjU2KSlicmVhaztmb3IoZj1BKHJbYy09MV0pK2lbY10sYz1ZKFApLG9bY10+OD8odj1BKDgpLHZ8PUEob1tjXS04KTw8OCk6dj1BKG9bY10pLHYrPXNbY107Zi0tOylMKG1bZy12JjMyNzY3XSl9ZWxzZSBMKGMpfX13aGlsZSghYSk7cmV0dXJuIFIoKSxOKCksMH1mdW5jdGlvbiBYKCl7dmFyIHQsZSxpLHIscyxvPVtdO3RyeXtpZih1PVtdLGI9ITEsb1swXT1UKCksb1sxXT1UKCksMTIwPT09b1swXSYmMjE4PT09b1sxXSYmKGooKSxmW3BdPVt1LmpvaW4oXCJcIiksXCJnZW9uZXh0Lmd4dFwiXSxwKyspLDMxPT09b1swXSYmMTM5PT09b1sxXSYmKEYoKSxmW3BdPVt1LmpvaW4oXCJcIiksXCJmaWxlXCJdLHArKyksODA9PT1vWzBdJiY3NT09PW9bMV0pe2lmKGI9ITAsb1syXT1UKCksb1szXT1UKCksMz09PW9bMl0mJjQ9PT1vWzNdKXtmb3Iob1swXT1UKCksb1sxXT1UKCksaD1UKCksaHw9VCgpPDw4LHM9VCgpLHN8PVQoKTw8OCxUKCksVCgpLFQoKSxUKCksVCgpLFQoKTw8OCxUKCk8PDE2LFQoKTw8MjQsVCgpLFQoKTw8OCxUKCk8PDE2LFQoKTw8MjQsVCgpLFQoKTw8OCxUKCk8PDE2LFQoKTw8MjQscj1UKCkscnw9VCgpPDw4LGk9VCgpLGl8PVQoKTw8OCx0PTAsdz1bXTtyLS07KVwiL1wiPT09KGU9VCgpKXxcIjpcIj09PWU/dD0wOnQ8MjU1JiYod1t0KytdPVN0cmluZy5mcm9tQ2hhckNvZGUoZSkpO2ZvcihsfHwobD13KSx0PTA7dDxpOyllPVQoKSx0Kys7aWYoMCw4PT09cyYmKGooKSxmW3BdPW5ldyBBcnJheSgyKSxmW3BdWzBdPXUuam9pbihcIlwiKSxmW3BdWzFdPXcuam9pbihcIlwiKSxwKyspLEYoKSlyZXR1cm4hMX1yZXR1cm4hMH19Y2F0Y2godCl7dGhyb3cgdH1yZXR1cm4hMX1mdW5jdGlvbiBGKCl7dmFyIHQsZSxpPVtdO2lmKDgmaCYmKGlbMF09VCgpLGlbMV09VCgpLGlbMl09VCgpLGlbM109VCgpLDgwPT09aVswXSYmNzU9PT1pWzFdJiY3PT09aVsyXSYmOD09PWlbM10/KFQoKSxUKCk8PDgsVCgpPDwxNixUKCk8PDI0KTppWzBdfGlbMV08PDh8aVsyXTw8MTZ8aVszXTw8MjQsVCgpLFQoKTw8OCxUKCk8PDE2LFQoKTw8MjQsVCgpLFQoKTw8OCxUKCk8PDE2LFQoKTw8MjQpLGImJlgoKSlyZXR1cm4hMTtpZihpWzBdPVQoKSw4IT09aVswXSlyZXR1cm4hMDtpZihoPVQoKSxUKCksVCgpLFQoKSxUKCksVCgpLFQoKSw0JmgpZm9yKGlbMF09VCgpLGlbMl09VCgpLFM9aVswXSsyNTYqaVsxXSx0PTA7dDxTO3QrKylUKCk7aWYoOCZoKWZvcih0PTAsdz1bXSxlPVQoKTtlOylcIjdcIiE9PWUmJlwiOlwiIT09ZXx8KHQ9MCksdDwyNTUmJih3W3QrK109ZSksZT1UKCk7aWYoMTYmaClmb3IoZT1UKCk7ZTspZT1UKCk7cmV0dXJuIDImaCYmKFQoKSxUKCkpLGooKSxUKCksVCgpPDw4LFQoKTw8MTYsVCgpPDwyNCxUKCksVCgpPDw4LFQoKTw8MTYsVCgpPDwyNCxiJiZYKCksITF9T1swXT0wLHQuVXRpbC5VbnppcC5wcm90b3R5cGUudW56aXBGaWxlPWZ1bmN0aW9uKHQpe3ZhciBlO2Zvcih0aGlzLnVuemlwKCksZT0wO2U8Zi5sZW5ndGg7ZSsrKWlmKGZbZV1bMV09PT10KXJldHVybiBmW2VdWzBdO3JldHVyblwiXCJ9LHQuVXRpbC5VbnppcC5wcm90b3R5cGUudW56aXA9ZnVuY3Rpb24oKXtyZXR1cm4gWCgpLGZ9fSx0LlV0aWx9KSksZGVmaW5lKFwidXRpbHMvZW5jb2RpbmdcIixbXCJqeGdcIl0sKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3ZhciBlPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSw5LDksOSw5LDksOSw5LDksOSw5LDksOSw5LDksOSw5LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw4LDgsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMTAsMywzLDMsMywzLDMsMywzLDMsMywzLDMsNCwzLDMsMTEsNiw2LDYsNSw4LDgsOCw4LDgsOCw4LDgsOCw4LDgsMCwxMiwyNCwzNiw2MCw5Niw4NCwxMiwxMiwxMiw0OCw3MiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwwLDEyLDEyLDEyLDEyLDEyLDAsMTIsMCwxMiwxMiwxMiwyNCwxMiwxMiwxMiwxMiwxMiwyNCwxMiwyNCwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwyNCwxMiwxMiwxMiwxMiwxMiwyNCwxMiwxMiwxMiwxMiwxMiwxMiwxMiwyNCwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwzNiwxMiwzNiwxMiwxMiwxMiwzNiwxMiwxMiwxMiwxMiwxMiwzNiwxMiwzNiwxMiwxMiwxMiwzNiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMiwxMl07cmV0dXJuIHQuVXRpbD10LlV0aWx8fHt9LHQuVXRpbC5VVEY4PXtlbmNvZGU6ZnVuY3Rpb24odCl7dmFyIGUsaSxyPVwiXCIscz10Lmxlbmd0aDtpZih0PXQucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIiksXCJmdW5jdGlvblwiPT10eXBlb2YgdW5lc2NhcGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGVuY29kZVVSSUNvbXBvbmVudClyZXR1cm4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHQpKTtmb3IoZT0wO2U8cztlKyspKGk9dC5jaGFyQ29kZUF0KGUpKTwxMjg/cis9U3RyaW5nLmZyb21DaGFyQ29kZShpKTppPjEyNyYmaTwyMDQ4PyhyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGk+PjZ8MTkyKSxyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDYzJml8MTI4KSk6KHIrPVN0cmluZy5mcm9tQ2hhckNvZGUoaT4+MTJ8MjI0KSxyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGk+PjYmNjN8MTI4KSxyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDYzJml8MTI4KSk7cmV0dXJuIHJ9LGRlY29kZTpmdW5jdGlvbih0KXt2YXIgaSxyLHMsbz0wLG49MCxhPTAsaD1bXSxsPXQubGVuZ3RoLGM9W107Zm9yKGk9MDtpPGw7aSsrKXI9dC5jaGFyQ29kZUF0KGkpLHM9ZVtyXSxuPTAhPT1hPzYzJnJ8bjw8NjoyNTU+PnMmciwwPT09KGE9ZVsyNTYrYStzXSkmJihuPjY1NTM1P2gucHVzaCg1NTIzMisobj4+MTApLDU2MzIwKygxMDIzJm4pKTpoLnB1c2gobiksKytvJTFlND09MCYmKGMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsaCkpLGg9W10pKTtyZXR1cm4gYy5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxoKSksYy5qb2luKFwiXCIpfSxhc2NpaUNoYXJDb2RlQXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmNoYXJDb2RlQXQoZSk7aWYoaT4yNTUpc3dpdGNoKGkpe2Nhc2UgODM2NDppPTEyODticmVhaztjYXNlIDgyMTg6aT0xMzA7YnJlYWs7Y2FzZSA0MDI6aT0xMzE7YnJlYWs7Y2FzZSA4MjIyOmk9MTMyO2JyZWFrO2Nhc2UgODIzMDppPTEzMzticmVhaztjYXNlIDgyMjQ6aT0xMzQ7YnJlYWs7Y2FzZSA4MjI1Omk9MTM1O2JyZWFrO2Nhc2UgNzEwOmk9MTM2O2JyZWFrO2Nhc2UgODI0MDppPTEzNzticmVhaztjYXNlIDM1MjppPTEzODticmVhaztjYXNlIDgyNDk6aT0xMzk7YnJlYWs7Y2FzZSAzMzg6aT0xNDA7YnJlYWs7Y2FzZSAzODE6aT0xNDI7YnJlYWs7Y2FzZSA4MjE2Omk9MTQ1O2JyZWFrO2Nhc2UgODIxNzppPTE0NjticmVhaztjYXNlIDgyMjA6aT0xNDc7YnJlYWs7Y2FzZSA4MjIxOmk9MTQ4O2JyZWFrO2Nhc2UgODIyNjppPTE0OTticmVhaztjYXNlIDgyMTE6aT0xNTA7YnJlYWs7Y2FzZSA4MjEyOmk9MTUxO2JyZWFrO2Nhc2UgNzMyOmk9MTUyO2JyZWFrO2Nhc2UgODQ4MjppPTE1MzticmVhaztjYXNlIDM1MzppPTE1NDticmVhaztjYXNlIDgyNTA6aT0xNTU7YnJlYWs7Y2FzZSAzMzk6aT0xNTY7YnJlYWs7Y2FzZSAzODI6aT0xNTg7YnJlYWs7Y2FzZSAzNzY6aT0xNTl9cmV0dXJuIGl9fSx0LlV0aWwuVVRGOH0pKSxkZWZpbmUoXCJ1dGlscy9iYXNlNjRcIixbXCJqeGdcIixcInV0aWxzL2VuY29kaW5nXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciBpPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLHI9XCI9XCI7ZnVuY3Rpb24gcyh0LGUpe3JldHVybiAyNTUmdC5jaGFyQ29kZUF0KGUpfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gaS5pbmRleE9mKHQuY2hhckF0KGUpKX1yZXR1cm4gdC5VdGlsPXQuVXRpbHx8e30sdC5VdGlsLkJhc2U2ND17ZW5jb2RlOmZ1bmN0aW9uKHQpe3ZhciBvLG4sYSxoLGwsYz1bXTtmb3IoaD0oYT0obD1lLmVuY29kZSh0KSkubGVuZ3RoKSUzLG89MDtvPGEtaDtvKz0zKW49cyhsLG8pPDwxNnxzKGwsbysxKTw8OHxzKGwsbysyKSxjLnB1c2goaS5jaGFyQXQobj4+MTgpLGkuY2hhckF0KG4+PjEyJjYzKSxpLmNoYXJBdChuPj42JjYzKSxpLmNoYXJBdCg2MyZuKSk7c3dpdGNoKGgpe2Nhc2UgMTpuPXMobCxhLTEpLGMucHVzaChpLmNoYXJBdChuPj4yKSxpLmNoYXJBdChuPDw0JjYzKSxyLHIpO2JyZWFrO2Nhc2UgMjpuPXMobCxhLTIpPDw4fHMobCxhLTEpLGMucHVzaChpLmNoYXJBdChuPj4xMCksaS5jaGFyQXQobj4+NCY2MyksaS5jaGFyQXQobjw8MiY2Mykscil9cmV0dXJuIGMuam9pbihcIlwiKX0sZGVjb2RlOmZ1bmN0aW9uKHQsaSl7dmFyIHMsbixhLGgsbCxjLGQ9W10sdT1bXTtpZigoYT0ocz10LnJlcGxhY2UoL1teQS1aYS16MC05Ky89XS9nLFwiXCIpKS5sZW5ndGgpJTQhPTApdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGgvdXRpbHMvYmFzZTY0OiBDYW4ndCBkZWNvZGUgc3RyaW5nIChpbnZhbGlkIGlucHV0IGxlbmd0aCkuXCIpO2ZvcihzLmNoYXJBdChhLTEpPT09ciYmKGg9MSxzLmNoYXJBdChhLTIpPT09ciYmKGg9MiksYS09NCksbj0wO248YTtuKz00KWw9byhzLG4pPDwxOHxvKHMsbisxKTw8MTJ8byhzLG4rMik8PDZ8byhzLG4rMyksdS5wdXNoKGw+PjE2LGw+PjgmMjU1LDI1NSZsKSxuJTFlND09MCYmKGQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdSkpLHU9W10pO3N3aXRjaChoKXtjYXNlIDE6bD1vKHMsYSk8PDEyfG8ocyxhKzEpPDw2fG8ocyxhKzIpLHUucHVzaChsPj4xMCxsPj4yJjI1NSk7YnJlYWs7Y2FzZSAyOmw9byhzLG4pPDw2fG8ocyxuKzEpLHUucHVzaChsPj40KX1yZXR1cm4gZC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx1KSksYz1kLmpvaW4oXCJcIiksaSYmKGM9ZS5kZWNvZGUoYykpLGN9LGRlY29kZUFzQXJyYXk6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLmRlY29kZSh0KSxyPVtdLHM9aS5sZW5ndGg7Zm9yKGU9MDtlPHM7ZSsrKXJbZV09aS5jaGFyQ29kZUF0KGUpO3JldHVybiByfX0sdC5VdGlsLkJhc2U2NH0pKSxkZWZpbmUoXCJzZXJ2ZXIvc2VydmVyXCIsW1wianhnXCIsXCJ1dGlscy96aXBcIixcInV0aWxzL2Jhc2U2NFwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU2VydmVyPXttb2R1bGVzOnt9LHJ1bm5pbmdDYWxsczp7fSxoYW5kbGVFcnJvcjpmdW5jdGlvbihlKXt0LmRlYnVnKFwiZXJyb3Igb2NjdXJlZCwgc2VydmVyIHNheXM6IFwiK2UubWVzc2FnZSl9LGNhbGxTZXJ2ZXI6ZnVuY3Rpb24ocyxvLG4sYSl7dmFyIGgsbCxjLGQsdSxwLGY7Zm9yKHAgaW4gYT1hfHwhMSxcIlwiLG4pbi5oYXNPd25Qcm9wZXJ0eShwKSYmXCImXCIrZXNjYXBlKHApK1wiPVwiK2VzY2FwZShuW3BdKTt1PXIudG9KU09OKG4pO2Rve2Q9cytNYXRoLmZsb29yKDQwOTYqTWF0aC5yYW5kb20oKSl9d2hpbGUoci5leGlzdHModGhpcy5ydW5uaW5nQ2FsbHNbZF0pKTtyZXR1cm4gdGhpcy5ydW5uaW5nQ2FsbHNbZF09e2FjdGlvbjpzfSxyLmV4aXN0cyhuLm1vZHVsZSkmJih0aGlzLnJ1bm5pbmdDYWxsc1tkXS5tb2R1bGU9bi5tb2R1bGUpLGg9dC5zZXJ2ZXJCYXNlK1wiSlhHU2VydmVyLnB5XCIsbD1cImFjdGlvbj1cIitlc2NhcGUocykrXCImaWQ9XCIrZCtcIiZkYXRhSlNPTj1cIitlc2NhcGUoaS5lbmNvZGUodSkpLHRoaXMuY2JwPWZ1bmN0aW9uKHQpe3ZhciBzLG4sYSxoLGwsYyxkLHU7aWYocz1uZXcgZS5VbnppcChpLmRlY29kZUFzQXJyYXkodCkpLnVuemlwKCksci5pc0FycmF5KHMpJiZzLmxlbmd0aD4wJiYocz1zWzBdWzBdKSxyLmV4aXN0cyhzKSlpZihcImVycm9yXCI9PT0obj13aW5kb3cuSlNPTiYmd2luZG93LkpTT04ucGFyc2U/d2luZG93LkpTT04ucGFyc2Uocyk6bmV3IEZ1bmN0aW9uKFwicmV0dXJuIFwiK3MpKCkpLnR5cGUpdGhpcy5oYW5kbGVFcnJvcihuKTtlbHNlIGlmKFwicmVzcG9uc2VcIj09PW4udHlwZSl7Zm9yKGM9bi5pZCxkPTA7ZDxuLmZpZWxkcy5sZW5ndGg7ZCsrKWg9KGE9bi5maWVsZHNbZF0pLm5hbWVzcGFjZSsoXCJvYmplY3RcIj09dHlwZW9mIG5ldyBGdW5jdGlvbihcInJldHVybiBcIithLm5hbWVzcGFjZSkoKT9cIi5cIjpcIi5wcm90b3R5cGUuXCIpK2EubmFtZStcIiA9IFwiK2EudmFsdWUsbmV3IEZ1bmN0aW9uKGgpKCk7Zm9yKGQ9MDtkPG4uaGFuZGxlci5sZW5ndGg7ZCsrKXtmb3IoYT1uLmhhbmRsZXJbZF0sbD1bXSx1PTA7dTxhLnBhcmFtZXRlcnMubGVuZ3RoO3UrKylsW3VdPSdcIicrYS5wYXJhbWV0ZXJzW3VdKydcIjogJythLnBhcmFtZXRlcnNbdV07aD1cImlmKHR5cGVvZiBKWEcuU2VydmVyLm1vZHVsZXMuXCIrdGhpcy5ydW5uaW5nQ2FsbHNbY10ubW9kdWxlKycgPT0gXCJ1bmRlZmluZWRcIilKWEcuU2VydmVyLm1vZHVsZXMuJyt0aGlzLnJ1bm5pbmdDYWxsc1tjXS5tb2R1bGUrXCIgPSB7fTtcIixoKz1cIkpYRy5TZXJ2ZXIubW9kdWxlcy5cIit0aGlzLnJ1bm5pbmdDYWxsc1tjXS5tb2R1bGUrXCIuXCIrYS5uYW1lK1wiX2NiID0gXCIrYS5jYWxsYmFjaytcIjtcIixoKz1cIkpYRy5TZXJ2ZXIubW9kdWxlcy5cIit0aGlzLnJ1bm5pbmdDYWxsc1tjXS5tb2R1bGUrXCIuXCIrYS5uYW1lK1wiID0gZnVuY3Rpb24gKFwiK2EucGFyYW1ldGVycy5qb2luKFwiLFwiKSsnLCBfX0pYR1NFUlZFUl9DQl9fLCBfX0pYR1NFUlZFUl9TWU5DKSB7aWYodHlwZW9mIF9fSlhHU0VSVkVSX0NCX18gPT0gXCJ1bmRlZmluZWRcIikgX19KWEdTRVJWRVJfQ0JfXyA9IEpYRy5TZXJ2ZXIubW9kdWxlcy4nK3RoaXMucnVubmluZ0NhbGxzW2NdLm1vZHVsZStcIi5cIithLm5hbWUrXCJfY2I7dmFyIF9fSlhHU0VSVkVSX1BBUl9fID0ge1wiK2wuam9pbihcIixcIikrJywgXCJtb2R1bGVcIjogXCInK3RoaXMucnVubmluZ0NhbGxzW2NdLm1vZHVsZSsnXCIsIFwiaGFuZGxlclwiOiBcIicrYS5uYW1lKydcIiB9O0pYRy5TZXJ2ZXIuY2FsbFNlcnZlcihcImV4ZWNcIiwgX19KWEdTRVJWRVJfQ0JfXywgX19KWEdTRVJWRVJfUEFSX18sIF9fSlhHU0VSVkVSX1NZTkMpO307JyxuZXcgRnVuY3Rpb24oaCkoKX1kZWxldGUgdGhpcy5ydW5uaW5nQ2FsbHNbY10sbyhuLmRhdGEpfX0sdGhpcy5jYj10LmJpbmQodGhpcy5jYnAsdGhpcyksd2luZG93LlhNTEh0dHBSZXF1ZXN0PyhjPW5ldyBYTUxIdHRwUmVxdWVzdCkub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9aXNvLTg4NTktMVwiKTpjPW5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIiksISghY3x8KGMub3BlbihcIlBPU1RcIixoLCFhKSxjLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSxhfHwoYy5vbnJlYWR5c3RhdGVjaGFuZ2U9KGY9dGhpcy5jYixmdW5jdGlvbigpe3JldHVybiA0PT09Yy5yZWFkeVN0YXRlJiYyMDA9PT1jLnN0YXR1cyYmKGYoYy5yZXNwb25zZVRleHQpLCEwKX0pKSxjLnNlbmQobCksIWEpKSYmKHRoaXMuY2IoYy5yZXNwb25zZVRleHQpLCEwKX0sbG9hZE1vZHVsZV9jYjpmdW5jdGlvbihlKXt2YXIgaTtmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKXQuZGVidWcoZVtpXS5uYW1lK1wiOiBcIitlW2ldLnZhbHVlKX0sbG9hZE1vZHVsZTpmdW5jdGlvbihlKXtyZXR1cm4gdC5TZXJ2ZXIuY2FsbFNlcnZlcihcImxvYWRcIix0LlNlcnZlci5sb2FkTW9kdWxlX2NiLHttb2R1bGU6ZX0sITApfX0sdC5TZXJ2ZXIubG9hZD10LlNlcnZlci5sb2FkTW9kdWxlLHQuU2VydmVyfSkpLGRlZmluZShcIm1hdGgvc3ltYm9saWNcIixbXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwic2VydmVyL3NlcnZlclwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8pe1widXNlIHN0cmljdFwiO3ZhciBuO3JldHVybiBpLlN5bWJvbGljPXtnZW5lcmF0ZVN5bWJvbGljQ29vcmRpbmF0ZXNQYXJ0aWFsOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG4sYSxoPWUuYW5jZXN0b3JzLGw9MCxjPWZ1bmN0aW9uKHQpe3JldHVyblwidW5kZXJzY29yZVwiPT09cj9pK1wiX3tcIit0K1wifVwiOlwiYnJhY2VcIj09PXI/aStcIltcIit0K1wiXVwiOmkrdH07Zm9yKG4gaW4gdC5saXN0T2ZGcmVlUG9pbnRzPVtdLHQubGlzdE9mRGVwZW5kYW50UG9pbnRzPVtdLGgpaWYoaC5oYXNPd25Qcm9wZXJ0eShuKSYmKHM9MCxvLmlzUG9pbnQoaFtuXSkpKXtmb3IoYSBpbiBoW25dLmFuY2VzdG9ycyloW25dLmFuY2VzdG9ycy5oYXNPd25Qcm9wZXJ0eShhKSYmcysrOzA9PT1zPyhoW25dLnN5bWJvbGljLng9aFtuXS5jb29yZHMudXNyQ29vcmRzWzFdLGhbbl0uc3ltYm9saWMueT1oW25dLmNvb3Jkcy51c3JDb29yZHNbMl0sdC5saXN0T2ZGcmVlUG9pbnRzLnB1c2goaFtuXSkpOihsKz0xLGhbbl0uc3ltYm9saWMueD1jKGwpLGwrPTEsaFtuXS5zeW1ib2xpYy55PWMobCksdC5saXN0T2ZEZXBlbmRhbnRQb2ludHMucHVzaChoW25dKSl9cmV0dXJuIG8uaXNQb2ludChlKSYmKGUuc3ltYm9saWMueD1cInhcIixlLnN5bWJvbGljLnk9XCJ5XCIpLGx9LGNsZWFyU3ltYm9saWNDb29yZGluYXRlczpmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZSxpPXQmJnQubGVuZ3RofHwwO2ZvcihlPTA7ZTxpO2UrKylvLmlzUG9pbnQodFtlXSkmJih0W2VdLnN5bWJvbGljLng9XCJcIix0W2VdLnN5bWJvbGljLnk9XCJcIil9O2UodC5saXN0T2ZGcmVlUG9pbnRzKSxlKHQubGlzdE9mRGVwZW5kYW50UG9pbnRzKSxkZWxldGUgdC5saXN0T2ZGcmVlUG9pbnRzLGRlbGV0ZSB0Lmxpc3RPZkRlcGVuZGFudFBvaW50c30sZ2VuZXJhdGVQb2x5bm9taWFsczpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxuLGEsaD1lLmFuY2VzdG9ycyxsPVtdLGM9W107Zm9yKHIgaW4gaSYmdGhpcy5nZW5lcmF0ZVN5bWJvbGljQ29vcmRpbmF0ZXNQYXJ0aWFsKHQsZSxcInVcIixcImJyYWNlXCIpLGhbZS5pZF09ZSxoKWlmKGguaGFzT3duUHJvcGVydHkocikmJihhPTAsbD1bXSxvLmlzUG9pbnQoaFtyXSkpKXtmb3IocyBpbiBoW3JdLmFuY2VzdG9ycyloW3JdLmFuY2VzdG9ycy5oYXNPd25Qcm9wZXJ0eShzKSYmYSsrO2lmKGE+MClmb3IobD1oW3JdLmdlbmVyYXRlUG9seW5vbWlhbCgpLG49MDtuPGwubGVuZ3RoO24rKyljLnB1c2gobFtuXSl9cmV0dXJuIGkmJnRoaXMuY2xlYXJTeW1ib2xpY0Nvb3JkaW5hdGVzKHQpLGN9LGdlb21ldHJpY0xvY3VzQnlHcm9lYm5lckJhc2U6ZnVuY3Rpb24oYSxoKXt2YXIgbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXz1hLm9wdGlvbnMubG9jdXMsUD17fSxFPXRoaXMuZ2VuZXJhdGVTeW1ib2xpY0Nvb3JkaW5hdGVzUGFydGlhbChhLGgsXCJ1XCIsXCJicmFjZVwiKSx4PW5ldyBlKHQuQ09PUkRTX0JZX1VTUixbMCwwXSxhKSxTPW5ldyBlKHQuQ09PUkRTX0JZX1VTUixbYS5jYW52YXNXaWR0aCxhLmNhbnZhc0hlaWdodF0sYSksTz0xLHc9MCxUPTAsTj0wO2lmKHMubW9kdWxlcy5nZW9sb2NpPT09biYmcy5sb2FkTW9kdWxlKFwiZ2VvbG9jaVwiKSxzLm1vZHVsZXMuZ2VvbG9jaT09PW4pdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IFVuYWJsZSB0byBsb2FkIEpYRy5TZXJ2ZXIgbW9kdWxlICdnZW9sb2NpLnB5Jy5cIik7aWYoZj14LnVzckNvb3Jkc1sxXSxtPVMudXNyQ29vcmRzWzFdLGc9Uy51c3JDb29yZHNbMl0sYj14LnVzckNvb3Jkc1syXSxfLnRyYW5zbGF0ZVRvT3JpZ2luJiZhLmxpc3RPZkZyZWVQb2ludHMubGVuZ3RoPjApe2Zvcih3PShkPV8udG9PcmlnaW4hPT1uJiZudWxsIT09Xy50b09yaWdpbiYmby5pc0luQXJyYXkoYS5saXN0T2ZGcmVlUG9pbnRzLF8udG9PcmlnaW4uaWQpP18udG9PcmlnaW46YS5saXN0T2ZGcmVlUG9pbnRzWzBdKS5zeW1ib2xpYy54LFQ9ZC5zeW1ib2xpYy55LHA9MDtwPGEubGlzdE9mRnJlZVBvaW50cy5sZW5ndGg7cCsrKWEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy54LT13LGEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy55LT1UO2lmKGYtPXcsbS09dyxnLT1ULGItPVQsXy50cmFuc2xhdGVUbzEwJiZhLmxpc3RPZkZyZWVQb2ludHMubGVuZ3RoPjEpe2Zvcih1PV8udG8xMCE9PW4mJm51bGwhPT1fLnRvMTAmJl8udG8xMC5pZCE9PV8udG9PcmlnaW4uaWQmJm8uaXNJbkFycmF5KGEubGlzdE9mRnJlZVBvaW50cyxfLnRvMTAuaWQpP18udG8xMDphLmxpc3RPZkZyZWVQb2ludHNbMF0uaWQ9PT1kLmlkP2EubGlzdE9mRnJlZVBvaW50c1sxXTphLmxpc3RPZkZyZWVQb2ludHNbMF0sTj1yLnJhZChbMSwwXSxbMCwwXSxbdS5zeW1ib2xpYy54LHUuc3ltYm9saWMueV0pLHY9TWF0aC5jb3MoLU4pLHk9TWF0aC5zaW4oLU4pLHA9MDtwPGEubGlzdE9mRnJlZVBvaW50cy5sZW5ndGg7cCsrKUM9YS5saXN0T2ZGcmVlUG9pbnRzW3BdLnN5bWJvbGljLngsYS5saXN0T2ZGcmVlUG9pbnRzW3BdLnN5bWJvbGljLng9diphLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueC15KmEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy55LGEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy55PXkqQyt2KmEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy55O2lmKHUuc3ltYm9saWMueT0wLEM9ZixmPXYqZi15KmcsZz15KkMrdipnLEM9bSxtPXYqbS15KmIsYj15KkMrdipiLF8uc3RyZXRjaCYmTWF0aC5hYnModS5zeW1ib2xpYy54KT5pLmVwcyl7Zm9yKE89dS5zeW1ib2xpYy54LHA9MDtwPGEubGlzdE9mRnJlZVBvaW50cy5sZW5ndGg7cCsrKWEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy54Lz1PLGEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy55Lz1PO2ZvcihwPTA7cDxhLm9iamVjdHNMaXN0Lmxlbmd0aDtwKyspYS5vYmplY3RzTGlzdFtwXS5lbGVtZW50Q2xhc3M9PT10Lk9CSkVDVF9DTEFTU19DSVJDTEUmJlwicG9pbnRSYWRpdXNcIj09PWEub2JqZWN0c0xpc3RbcF0ubWV0aG9kJiYoUFtwXT1hLm9iamVjdHNMaXN0W3BdLnJhZGl1cyxhLm9iamVjdHNMaXN0W3BdLnJhZGl1cy89Tyk7Zi89TyxtLz1PLGcvPU8sYi89Tyx1LnN5bWJvbGljLng9MX19Zm9yKHA9MDtwPGEubGlzdE9mRnJlZVBvaW50cy5sZW5ndGg7cCsrKUM9YS5saXN0T2ZGcmVlUG9pbnRzW3BdLnN5bWJvbGljLngsTWF0aC5hYnMoQyk8aS5lcHMmJihhLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueD0wKSxNYXRoLmFicyhDLU1hdGgucm91bmQoQykpPGkuZXBzJiYoYS5saXN0T2ZGcmVlUG9pbnRzW3BdLnN5bWJvbGljLng9TWF0aC5yb3VuZChDKSksQz1hLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueSxNYXRoLmFicyhDKTxpLmVwcyYmKGEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy55PTApLE1hdGguYWJzKEMtTWF0aC5yb3VuZChDKSk8aS5lcHMmJihhLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueT1NYXRoLnJvdW5kKEMpKX1mb3IocCBpbiBsPXRoaXMuZ2VuZXJhdGVQb2x5bm9taWFscyhhLGgpLmpvaW4oXCIsXCIpLHRoaXMuY2JwPWZ1bmN0aW9uKHQpe2M9dH0sdGhpcy5jYj1vLmJpbmQodGhpcy5jYnAsdGhpcykscy5tb2R1bGVzLmdlb2xvY2kubG9jaUNvQ29BKGYsbSxnLGIsRSxsLE8sTix3LFQsdGhpcy5jYiwhMCksdGhpcy5jbGVhclN5bWJvbGljQ29vcmRpbmF0ZXMoYSksUClQLmhhc093blByb3BlcnR5KHApJiYoYS5vYmplY3RzW3BdLnJhZGl1cz1QW3BdKTtyZXR1cm4gY319LGkuU3ltYm9saWN9KSksZGVmaW5lKFwibWF0aC9jbGlwXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8pe1widXNlIHN0cmljdFwiO3JldHVybiByLkNsaXA9e19pc1NlcGFyYXRvcjpmdW5jdGlvbih0KXtyZXR1cm4gaXNOYU4odC5jb29yZHMudXNyQ29vcmRzWzFdKSYmaXNOYU4odC5jb29yZHMudXNyQ29vcmRzWzJdKX0sbWFrZURvdWJseUxpbmtlZExpc3Q6ZnVuY3Rpb24odCl7dmFyIGUsaT1udWxsLHI9W10scz10Lmxlbmd0aDtpZihzPjApZm9yKGU9MDtlPHM7ZSsrKXRoaXMuX2lzU2VwYXJhdG9yKHRbZV0pPyh0W2VdLl9uZXh0PXRbKGUrMSklc10sdFtlXS5fcHJldj10WyhzK2UtMSklc10pOihudWxsPT09aSYmKGk9ZSxyLnB1c2goaSkpLHRoaXMuX2lzU2VwYXJhdG9yKHRbKGUrMSklc10pfHxlPT09cy0xPyh0W2VdLl9uZXh0PXRbaV0sdFtpXS5fcHJldj10W2VdLHRbZV0uX2VuZD0hMCxpPW51bGwpOih0W2VdLl9uZXh0PXRbKGUrMSklc10sdFtpXS5fcHJldj10W2VdKSx0aGlzLl9pc1NlcGFyYXRvcih0WyhzK2UtMSklc10pfHwodFtlXS5fcHJldj10WyhzK2UtMSklc10pKTtyZXR1cm4gcn0sZGV0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4odFsxXS1pWzFdKSooZVsyXS1pWzJdKS0oZVsxXS1pWzFdKSoodFsyXS1pWzJdKX0sd2luZGluZ051bWJlcjpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbyxuLGEsaD0wLGw9ZS5sZW5ndGgsYz10WzFdLGQ9dFsyXTtpZigwPT09bClyZXR1cm4gMDtpZihpc05hTihjKXx8aXNOYU4oZCkpcmV0dXJuIDE7aWYoZVswXS5jb29yZHMudXNyQ29vcmRzWzFdPT09YyYmZVswXS5jb29yZHMudXNyQ29vcmRzWzJdPT09ZClyZXR1cm4gMTtmb3IoYT0wO2E8bDthKyspaWYoaT1lW2FdLmNvb3Jkcy51c3JDb29yZHMscz1lWyhhKzEpJWxdLmNvb3Jkcy51c3JDb29yZHMsISgwPT09aVswXXx8MD09PXNbMF18fGlzTmFOKGlbMV0pfHxpc05hTihzWzFdKXx8aXNOYU4oaVsyXSl8fGlzTmFOKHNbMl0pKSl7aWYoc1syXT09PWQpe2lmKHNbMV09PT1jKXJldHVybiAxO2lmKGlbMl09PT1kJiZzWzFdPmM9PWlbMV08YylyZXR1cm4gMH1pZihpWzJdPGQhPXNbMl08ZClpZihuPTIqKHNbMl0+aVsyXT8xOjApLTEsaVsxXT49YylpZihzWzFdPmMpaCs9bjtlbHNle2lmKDA9PT0obz10aGlzLmRldChpLHMsdCkpKXJldHVybiAwO28+MD09c1syXT5pWzJdJiYoaCs9bil9ZWxzZSBzWzFdPmMmJihvPXRoaXMuZGV0KGkscyx0KSk+MCtyLmVwcz09c1syXT5pWzJdJiYoaCs9bil9cmV0dXJuIGh9LFZlcnRleDpmdW5jdGlvbih0LGkscixzLG8sbil7dGhpcy5wb3M9aSx0aGlzLmludGVyc2VjdGlvbj0hMCx0aGlzLmNvb3Jkcz10LHRoaXMuZWxlbWVudENsYXNzPWUuT0JKRUNUX0NMQVNTX1BPSU5ULHRoaXMuZGF0YT17YWxwaGE6cixwYXRoOnMscGF0aG5hbWU6byxkb25lOiExLHR5cGU6bixpZHg6MH0sdGhpcy5uZWlnaGJvdXI9bnVsbCx0aGlzLmVudHJ5X2V4aXQ9ITF9LF9hZGRUb0xpc3Q6ZnVuY3Rpb24odCxpLHMpe3ZhciBvPXQubGVuZ3RoLG49ci5lcHMqci5lcHM7bz4wJiZNYXRoLmFicyh0W28tMV0uY29vcmRzLnVzckNvb3Jkc1swXS1pLnVzckNvb3Jkc1swXSk8biYmTWF0aC5hYnModFtvLTFdLmNvb3Jkcy51c3JDb29yZHNbMV0taS51c3JDb29yZHNbMV0pPG4mJk1hdGguYWJzKHRbby0xXS5jb29yZHMudXNyQ29vcmRzWzJdLWkudXNyQ29vcmRzWzJdKTxufHx0LnB1c2goe3BvczpzLGludGVyc2VjdGlvbjohMSxjb29yZHM6aSxlbGVtZW50Q2xhc3M6ZS5PQkpFQ1RfQ0xBU1NfUE9JTlR9KX0sc29ydEludGVyc2VjdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuLGE9W10saD10Lmxlbmd0aDtmb3IoZT0wO2U8aDtlKyspaWYodFtlXS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LmRhdGEuYWxwaGE+ZS5kYXRhLmFscGhhPzE6LTF9KSksdFtlXS5sZW5ndGg+MCl7Zm9yKG89dFtlXS5sZW5ndGgtMSxuPShzPShyPXRbZV1bMF0pLmRhdGEucGF0aFtyLnBvc10pLl9uZXh0LGU9PT1oLTEmJihzLl9lbmQ9ITEpLDA9PT1yLmRhdGEuYWxwaGEmJlwiVFwiPT09ci5kYXRhLnR5cGU/KHMuaW50ZXJzZWN0aW9uPSEwLHMuZGF0YT1yLmRhdGEscy5uZWlnaGJvdXI9ci5uZWlnaGJvdXIscy5uZWlnaGJvdXIubmVpZ2hib3VyPXMscy5lbnRyeV9leGl0PSExLHRbZV1bMF09cyk6KHIuX3ByZXY9cyxyLl9wcmV2Ll9uZXh0PXIpLGk9MTtpPD1vO2krKykocj10W2VdW2ldKS5fcHJldj10W2VdW2ktMV0sci5fcHJldi5fbmV4dD1yOyhyPXRbZV1bb10pLl9uZXh0PW4sci5fbmV4dC5fcHJldj1yLGU9PT1oLTEmJihyLl9lbmQ9ITApLGE9YS5jb25jYXQodFtlXSl9cmV0dXJuIGF9LF9pbmJldHdlZW46ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG89ci5lcHMqci5lcHMsbj1pWzFdLWVbMV0sYT1pWzJdLWVbMl0saD10WzFdLWVbMV0sbD10WzJdLWVbMl07cmV0dXJuIDA9PT1uJiYwPT09YSYmMD09PWgmJjA9PT1sfHwocz1NYXRoLmFicyhoKTxvJiZNYXRoLmFicyhuKTxvP2wvYTpoL24sTWF0aC5hYnMocyk8byYmKHM9MCkscyl9LF9wcmludF9hcnJheTpmdW5jdGlvbih0KXt2YXIgZSxpO2ZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspdHJ5e2k9XCJcIix0W2VdLl9lbmQmJihpPVwiIGVuZFwiKSxjb25zb2xlLmxvZyhlLHRbZV0uY29vcmRzLnVzckNvb3Jkcyx0W2VdLmRhdGEudHlwZSxcIlxcdFwiLFwicHJldlwiLHRbZV0uX3ByZXYuY29vcmRzLnVzckNvb3JkcyxcIm5leHRcIix0W2VdLl9uZXh0LmNvb3Jkcy51c3JDb29yZHMraSl9Y2F0Y2goaSl7Y29uc29sZS5sb2coZSx0W2VdLmNvb3Jkcy51c3JDb29yZHMpfX0sX3ByaW50X2xpc3Q6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9MDtpPDEwMCYmKGU9dC5kYXRhP3QuZGF0YS5hbHBoYTpcIi1cIixjb25zb2xlLmxvZyhcIlxcdFwiLHQuY29vcmRzLnVzckNvb3JkcyxcIlxcblxcdFxcdGlzOlwiLHQuaW50ZXJzZWN0aW9uLFwiZW5kOlwiLHQuX2VuZCxlLFwiXFxuXFx0XFx0LTpcIix0Ll9wcmV2LmNvb3Jkcy51c3JDb29yZHMsXCJcXG5cXHRcXHQrOlwiLHQuX25leHQuY29vcmRzLnVzckNvb3JkcyxcIlxcblxcdFxcdG46XCIsdC5pbnRlcnNlY3Rpb24/dC5uZWlnaGJvdXIuY29vcmRzLnVzckNvb3JkczpcIi1cIiksIXQuX2VuZCk7KXQ9dC5fbmV4dCxpKyt9LF9ub092ZXJsYXA6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG8sbixhLGgsbCxjPU1hdGguc3FydChyLmVwcyksZD0hMTtmb3Iobz0wO288MztvKyspaWYobj1NYXRoLm1pbih0W29dLGVbb10pLGE9TWF0aC5tYXgodFtvXSxlW29dKSxoPU1hdGgubWluKGlbb10sc1tvXSksbD1NYXRoLm1heChpW29dLHNbb10pLGE8aC1jfHxuPmwrYyl7ZD0hMDticmVha31yZXR1cm4gZH0sZmluZEludGVyc2VjdGlvbnM6ZnVuY3Rpb24odCxvLG4pe3ZhciBhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEM9W10sXz1yLmVwcyxQPXQubGVuZ3RoLEU9by5sZW5ndGgseD1bXSxTPVtdLE89W10sdz0hMSxUPSExLE49ITE7Zm9yKGg9MDtoPEU7aCsrKU8ucHVzaChbXSk7Zm9yKGE9MDthPFA7YSsrKWlmKFMucHVzaChbXSksdGhpcy5faXNTZXBhcmF0b3IodFthXSl8fHRoaXMuX2lzU2VwYXJhdG9yKHRbKGErMSklUF0pKXc9ITA7ZWxzZXtpZih3JiZhPT09UC0xKWJyZWFrO2ZvcihjPXRbYV0uY29vcmRzLnVzckNvb3JkcyxkPXRbKGErMSklUF0uY29vcmRzLnVzckNvb3JkcyxoPTA7aDxFO2grKylpZih0aGlzLl9pc1NlcGFyYXRvcihvW2hdKXx8dGhpcy5faXNTZXBhcmF0b3Iob1soaCsxKSVFXSkpVD0hMDtlbHNle2lmKFQmJmg9PT1FLTEpYnJlYWs7aWYodT1vW2hdLmNvb3Jkcy51c3JDb29yZHMscD1vWyhoKzEpJUVdLmNvb3Jkcy51c3JDb29yZHMsIXRoaXMuX25vT3ZlcmxhcChjLGQsdSxwKSYmKEM9cy5tZWV0U2VnbWVudFNlZ21lbnQoYyxkLHUscCksZj1zLmRpc3RhbmNlKGMsZCwzKSxtPXMuZGlzdGFuY2UodSxwLDMpLENbMV0qZj4tXyYmQ1sxXTwxLV8vZiYmQ1syXSptPi1fJiZDWzJdPDEtXy9tfHxDWzFdPT09MS8wJiZDWzJdPT09MS8wJiZyLm5vcm0oQ1swXSwzKTxfKSl7aWYobD1uZXcgaShlLkNPT1JEU19CWV9VU0VSLENbMF0sbiksYj1cIlhcIixNYXRoLmFicyhDWzFdKSpmPF98fE1hdGguYWJzKENbMl0pKm08XyliPVwiVFwiLE1hdGguYWJzKENbMV0pKmY8XyYmKENbMV09MCksTWF0aC5hYnMoQ1syXSkqbTxfJiYoQ1syXT0wKSxsPTA9PT1DWzFdP25ldyBpKGUuQ09PUkRTX0JZX1VTRVIsYyxuKTpuZXcgaShlLkNPT1JEU19CWV9VU0VSLHUsbik7ZWxzZSBpZihDWzFdPT09MS8wJiZDWzJdPT09MS8wJiZyLm5vcm0oQ1swXSwzKTxfKXsoZz10aGlzLl9pbmJldHdlZW4oYyx1LHApKT49MCYmZzwxJiYoYj1cIlRcIixsPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsYyxuKSxDWzFdPTAsQ1syXT1nLHY9bmV3IHRoaXMuVmVydGV4KGwsYSxDWzFdLHQsXCJTXCIsYikseT1uZXcgdGhpcy5WZXJ0ZXgobCxoLENbMl0sbyxcIkNcIixiKSx2Lm5laWdoYm91cj15LHkubmVpZ2hib3VyPXYsU1thXS5wdXNoKHYpLE9baF0ucHVzaCh5KSksZz10aGlzLl9pbmJldHdlZW4odSxjLGQpLHMuZGlzdGFuY2UoYyx1LDMpPl8mJmc+PTAmJmc8MSYmKGI9XCJUXCIsbD1uZXcgaShlLkNPT1JEU19CWV9VU0VSLHUsbiksQ1sxXT1nLENbMl09MCx2PW5ldyB0aGlzLlZlcnRleChsLGEsQ1sxXSx0LFwiU1wiLGIpLHk9bmV3IHRoaXMuVmVydGV4KGwsaCxDWzJdLG8sXCJDXCIsYiksdi5uZWlnaGJvdXI9eSx5Lm5laWdoYm91cj12LFNbYV0ucHVzaCh2KSxPW2hdLnB1c2goeSkpO2NvbnRpbnVlfU4sdj1uZXcgdGhpcy5WZXJ0ZXgobCxhLENbMV0sdCxcIlNcIixiKSx5PW5ldyB0aGlzLlZlcnRleChsLGgsQ1syXSxvLFwiQ1wiLGIpLHYubmVpZ2hib3VyPXkseS5uZWlnaGJvdXI9dixTW2FdLnB1c2godiksT1toXS5wdXNoKHkpfX19Zm9yKHg9dGhpcy5zb3J0SW50ZXJzZWN0aW9ucyhTKSxhPTA7YTx4Lmxlbmd0aDthKyspeFthXS5kYXRhLmlkeD1hLHhbYV0ubmVpZ2hib3VyLmRhdGEuaWR4PWE7cmV0dXJuW3gsdGhpcy5zb3J0SW50ZXJzZWN0aW9ucyhPKV19LF9nZXRQb3NpdGlvbjpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcz10aGlzLmRldCh0LGUsaSksbz10aGlzLmRldCh0LGkscik7cmV0dXJuIHRoaXMuZGV0KGUsaSxyKT49MD9zPj0wJiZvPj0wP1wibGVmdFwiOlwicmlnaHRcIjpzPj0wfHxvPj0wP1wibGVmdFwiOlwicmlnaHRcIn0sX2NsYXNzaWZ5RGVnZW5lcmF0ZUludGVyc2VjdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGUsaSxuLGEsaCxsLGMsZCx1LHAsZixtLGcsYj0hMTtmb3IoYixjPTAsdC5fdG91cnM9MDs7KXtpZih0LmludGVyc2VjdGlvbiYmXCJUXCI9PT10LmRhdGEudHlwZSYmKGU9dC5fbmV4dC5jb29yZHMudXNyQ29vcmRzLGk9dC5fcHJldi5jb29yZHMudXNyQ29vcmRzLHMuZGlzdGFuY2UodC5jb29yZHMudXNyQ29vcmRzLGUsMyk8ci5lcHMmJihlPXQuX25leHQuX25leHQuY29vcmRzLnVzckNvb3Jkcykscy5kaXN0YW5jZSh0LmNvb3Jkcy51c3JDb29yZHMsaSwzKTxyLmVwcyYmKGk9dC5fcHJldi5fcHJldi5jb29yZHMudXNyQ29vcmRzKSxhPShoPXQubmVpZ2hib3VyKS5fcHJldi5jb29yZHMudXNyQ29vcmRzLG49aC5fbmV4dC5jb29yZHMudXNyQ29vcmRzLHMuZGlzdGFuY2UoaC5jb29yZHMudXNyQ29vcmRzLG4sMyk8ci5lcHMmJihuPWguX25leHQuX25leHQuY29vcmRzLnVzckNvb3Jkcykscy5kaXN0YW5jZShoLmNvb3Jkcy51c3JDb29yZHMsYSwzKTxyLmVwcyYmKGE9aC5fcHJldi5fcHJldi5jb29yZHMudXNyQ29vcmRzKSxwPXRoaXMuZGV0KHQuY29vcmRzLnVzckNvb3JkcyxpLGEpLGY9dGhpcy5kZXQodC5jb29yZHMudXNyQ29vcmRzLGUsbiksbT10aGlzLmRldCh0LmNvb3Jkcy51c3JDb29yZHMsaSxuKSxnPXRoaXMuZGV0KHQuY29vcmRzLnVzckNvb3JkcyxlLGEpLDA9PT1wJiYwPT09ZiYmMD09PW0mJjA9PT1nJiYodC5jb29yZHMudXNyQ29vcmRzWzFdKj0xK01hdGgucmFuZG9tKCkqci5lcHMsdC5jb29yZHMudXNyQ29vcmRzWzJdKj0xK01hdGgucmFuZG9tKCkqci5lcHMsaC5jb29yZHMudXNyQ29vcmRzWzFdPXQuY29vcmRzLnVzckNvb3Jkc1sxXSxoLmNvb3Jkcy51c3JDb29yZHNbMl09dC5jb29yZHMudXNyQ29vcmRzWzJdLHA9dGhpcy5kZXQodC5jb29yZHMudXNyQ29vcmRzLGksYSksZj10aGlzLmRldCh0LmNvb3Jkcy51c3JDb29yZHMsZSxuKSxtPXRoaXMuZGV0KHQuY29vcmRzLnVzckNvb3JkcyxpLG4pLGc9dGhpcy5kZXQodC5jb29yZHMudXNyQ29vcmRzLGUsYSkpLHU9ITEsMD09PXA/cy5hZmZpbmVSYXRpbyh0LmNvb3Jkcy51c3JDb29yZHMsaSxhKTwwJiYodT0hMCk6MD09PWY/cy5hZmZpbmVSYXRpbyh0LmNvb3Jkcy51c3JDb29yZHMsZSxuKTwwJiYodT0hMCk6MD09PW0/cy5hZmZpbmVSYXRpbyh0LmNvb3Jkcy51c3JDb29yZHMsaSxuKT4wJiYodT0hMCk6MD09PWcmJnMuYWZmaW5lUmF0aW8odC5jb29yZHMudXNyQ29vcmRzLGUsYSk+MCYmKHU9ITApLHUmJihkPWEsYT1uLG49ZCxkPXAscD1tLG09ZCxkPWYsZj1nLGc9ZCksby5leGlzdHModC5kZWxheWVkU3RhdHVzKXx8KHQuZGVsYXllZFN0YXR1cz1bXSksMD09PXAmJjA9PT1mP3QuZGVsYXllZFN0YXR1cz1bXCJvblwiLFwib25cIl06MD09PXA/KGw9dGhpcy5fZ2V0UG9zaXRpb24oZSxhLGguY29vcmRzLnVzckNvb3JkcyxuKSx0LmRlbGF5ZWRTdGF0dXM9W1wib25cIixsXSk6MD09PWY/KGw9dGhpcy5fZ2V0UG9zaXRpb24oaSxhLGguY29vcmRzLnVzckNvb3JkcyxuKSx0LmRlbGF5ZWRTdGF0dXM9W2wsXCJvblwiXSk6MD09PXQuZGVsYXllZFN0YXR1cy5sZW5ndGgmJih0aGlzLl9nZXRQb3NpdGlvbihpLGEsaC5jb29yZHMudXNyQ29vcmRzLG4pIT09dGhpcy5fZ2V0UG9zaXRpb24oZSxhLGguY29vcmRzLnVzckNvb3JkcyxuKT90LmRhdGEudHlwZT1cIlhcIjp0LmRhdGEudHlwZT1cIkJcIikpLG8uZXhpc3RzKHQuX3RvdXJzKSYmdC5fdG91cnMrKyx0Ll90b3Vycz4zfHx0Ll9lbmR8fGM+MWUzKXtjPjFlMyYmY29uc29sZS5sb2coXCJDbGlwcGluZzogX2NsYXNzaWZ5RGVnZW5lcmF0ZUludGVyc2VjdGlvbnMgZXhpdFwiKSxvLmV4aXN0cyh0Ll90b3VycykmJmRlbGV0ZSB0Ll90b3VyczticmVha310LmludGVyc2VjdGlvbiYmYysrLHQ9dC5fbmV4dH19LF9oYW5kbGVJbnRlcnNlY3Rpb25DaGFpbnM6ZnVuY3Rpb24odCl7dmFyIGUsaT0wLHI9XCJOdWxsXCIscz0hMSxvPSExLG49ITE7Zm9yKG47ITA9PT10LmludGVyc2VjdGlvbiYmKFwiVFwiPT09dC5kYXRhLnR5cGUmJihcIm9uXCIhPT10LmRlbGF5ZWRTdGF0dXNbMF0mJlwib25cIj09PXQuZGVsYXllZFN0YXR1c1sxXT8ocz0hMCxlPXQscj10LmRlbGF5ZWRTdGF0dXNbMF0pOnMmJlwib25cIj09PXQuZGVsYXllZFN0YXR1c1swXSYmXCJvblwiPT09dC5kZWxheWVkU3RhdHVzWzFdP3QuZGF0YS50eXBlPVwiQlwiOnMmJlwib25cIj09PXQuZGVsYXllZFN0YXR1c1swXSYmXCJvblwiIT09dC5kZWxheWVkU3RhdHVzWzFdJiYocz0hMSxyPT09dC5kZWxheWVkU3RhdHVzWzFdPyhlLmRhdGEudHlwZT1cIkRCXCIsdC5kYXRhLnR5cGU9XCJEQlwiKTooZS5kYXRhLnR5cGU9XCJEWFwiLHQuZGF0YS50eXBlPVwiRFhcIikpKSxpKyspLHQuX2VuZCYmKG89ITApLCFvfHxzOyl7aWYoaT4xZTMpe2NvbnNvbGUubG9nKFwiV2FybmluZzogX2hhbmRsZUludGVyc2VjdGlvbkNoYWluczogaW50ZXJzZWN0aW9uIGNoYWluIHJlYWNoZWQgbWF4aW11bSBudW1iZXJzIG9mIGl0ZXJhdGlvbnNcIik7YnJlYWt9dD10Ll9uZXh0fX0sX2hhbmRsZUZ1bGx5RGVnZW5lcmF0ZUNhc2U6ZnVuY3Rpb24odCxzLG8pe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtLGcsYix2LHk9W3Qsc107Zm9yKGg9MDtoPDI7aCsrKXtmb3IobT0obj15W2hdKS5sZW5ndGgscD0wLHY9ITA7cDxtO3ArKylpZighbltwXS5pbnRlcnNlY3Rpb24pe3Y9ITE7YnJlYWt9aWYodilmb3IoZz0oYT15WyhoKzEpJTJdKS5sZW5ndGgscD0wO3A8bTtwKyspe2ZvcihjPW5bcF0uY29vcmRzLnVzckNvb3JkcyxkPW5bKHArMSklbV0uY29vcmRzLnVzckNvb3JkcyxsPVsuNSooY1swXStkWzBdKSwuNSooY1sxXStkWzFdKSwuNSooY1syXStkWzJdKV0sZj0wLGI9ITE7ZjxnO2YrKylpZihNYXRoLmFicyh0aGlzLmRldChhW2ZdLmNvb3Jkcy51c3JDb29yZHMsYVsoZisxKSVnXS5jb29yZHMudXNyQ29vcmRzLGwpKTxyLmVwcyl7Yj0hMDticmVha31pZighYil7dT17cG9zOnAsaW50ZXJzZWN0aW9uOiExLGNvb3JkczpuZXcgaShlLkNPT1JEU19CWV9VU0VSLGwsbyksZWxlbWVudENsYXNzOmUuT0JKRUNUX0NMQVNTX1BPSU5UfSxuW3BdLl9uZXh0PXUsdS5fcHJldj1uW3BdLG5bKHArMSklbV0uX3ByZXY9dSx1Ll9uZXh0PW5bKHArMSklbV0sbltwXS5fZW5kJiYobltwXS5fZW5kPSExLHUuX2VuZD0hMCk7YnJlYWt9fX19LF9nZXRTdGF0dXM6ZnVuY3Rpb24odCxlKXtmb3IoO3QuaW50ZXJzZWN0aW9uJiYhdC5fZW5kOyl0PXQuX25leHQ7cmV0dXJuW3QsdGhpcy53aW5kaW5nTnVtYmVyKHQuY29vcmRzLnVzckNvb3JkcyxlKSUyPT0wP1wiZW50cnlcIjpcImV4aXRcIl19LG1hcmtFbnRyeUV4aXQ6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbixhLGgsbCxjLGQ9bnVsbCx1PTA7Zm9yKGw9aS5sZW5ndGgsaD0wO2g8bDtoKyspZm9yKGM9aVtoXSx0aGlzLl9jbGFzc2lmeURlZ2VuZXJhdGVJbnRlcnNlY3Rpb25zKHRbY10pLHRoaXMuX2hhbmRsZUludGVyc2VjdGlvbkNoYWlucyh0W2NdKSxzPShhPXRoaXMuX2dldFN0YXR1cyh0W2NdLGUpKVswXSxyPWFbMV0scy5fc3RhcnRlcj0hMCxuPTAsZD1udWxsLHU9MDshMD09PXMuaW50ZXJzZWN0aW9uJiYoXCJYXCI9PT1zLmRhdGEudHlwZSYmMT09PXUmJihkLmVudHJ5X2V4aXQ9cixcImV4aXRcIj09PXImJihkLmRhdGEudHlwZT1cIlhcIiksdT0yKSxcIlhcIiE9PXMuZGF0YS50eXBlJiZcIkRCXCIhPT1zLmRhdGEudHlwZXx8KHMuZW50cnlfZXhpdD1yLHI9XCJlbnRyeVwiPT09cj9cImV4aXRcIjpcImVudHJ5XCIpLFwiRFhcIj09PXMuZGF0YS50eXBlJiYoMD09PXU/KGQ9cyx1PTEpOjE9PT11PyhzLmVudHJ5X2V4aXQ9cixkLmVudHJ5X2V4aXQ9cixcImV4aXRcIj09PXI/ZC5kYXRhLnR5cGU9XCJYXCI6cy5kYXRhLnR5cGU9XCJYXCIscj1cImVudHJ5XCI9PT1yP1wiZXhpdFwiOlwiZW50cnlcIixkPW51bGwsdT0wKToyPT09dSYmKHMuZW50cnlfZXhpdD1yLHMuZGF0YS50eXBlPVwiWFwiLHI9XCJlbnRyeVwiPT09cj9cImV4aXRcIjpcImVudHJ5XCIsZD1udWxsLHU9MCkpKSxzPXMuX25leHQsIShvLmV4aXN0cyhzLl9zdGFydGVyKXx8bj4xZTQpOyluKyt9LF9zdGF5T25QYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ITA7cmV0dXJuIHQuaW50ZXJzZWN0aW9uJiZcIkJcIiE9PXQuZGF0YS50eXBlJiYoaT1lPT09dC5lbnRyeV9leGl0KSxpfSxfYWRkVmVydGV4OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaXNOYU4oZS5jb29yZHMudXNyQ29vcmRzWzFdKXx8aXNOYU4oZS5jb29yZHMudXNyQ29vcmRzWzJdKXx8dC5wdXNoKGUpLGUuaW50ZXJzZWN0aW9uJiZlLmRhdGEuZG9uZT8oaSYmY29uc29sZS5sb2coXCJBZGQgbGFzdCBpbnRlcnNlY3Rpb24gcG9pbnRcIixlLmNvb3Jkcy51c3JDb29yZHMsXCJvblwiLGUuZGF0YS5wYXRobmFtZSxlLmVudHJ5X2V4aXQsZS5kYXRhLnR5cGUpLCEwKTooZS5pbnRlcnNlY3Rpb24mJihlLmRhdGEuZG9uZT0hMCxpJiZjb25zb2xlLmxvZyhcIkFkZCBpbnRlcnNlY3Rpb24gcG9pbnRcIixlLmNvb3Jkcy51c3JDb29yZHMsXCJvblwiLGUuZGF0YS5wYXRobmFtZSxlLmVudHJ5X2V4aXQsZS5kYXRhLnR5cGUpKSwhMSl9LHRyYWNpbmc6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGE9MCxoPTFlNCxsPTAsYz1bXSxkPSExLHU9ITE7Zm9yKHU7bDxlLmxlbmd0aCYmYTxoOylpZigocz1lW2xdKS5kYXRhLmRvbmV8fFwiWFwiIT09cy5kYXRhLnR5cGUpbCsrO2Vsc2V7dSxjLmxlbmd0aD4wJiZjLnB1c2goW05hTixOYU5dKSxvPXMuZGF0YS5pZHgscj10LGQ9dGhpcy5fYWRkVmVydGV4KGMscyx1KSxuPXMuZW50cnlfZXhpdDtkb3tpZihkKWJyZWFrO2lmKFwiaW50ZXJzZWN0aW9uXCI9PT1pJiZcImVudHJ5XCI9PT1zLmVudHJ5X2V4aXR8fFwidW5pb25cIj09PWkmJlwiZXhpdFwiPT09cy5lbnRyeV9leGl0fHxcImRpZmZlcmVuY2VcIj09PWkmJnI9PT10PT0oXCJleGl0XCI9PT1zLmVudHJ5X2V4aXQpKXt1O2Rve2lmKHM9cy5fbmV4dCxkPXRoaXMuX2FkZFZlcnRleChjLHMsdSkpYnJlYWt9d2hpbGUodGhpcy5fc3RheU9uUGF0aChzLG4pKTthKyt9ZWxzZXt1O2Rve2lmKHM9cy5fcHJldixkPXRoaXMuX2FkZFZlcnRleChjLHMsdSkpYnJlYWt9d2hpbGUodGhpcy5fc3RheU9uUGF0aChzLG4pKTthKyt9aWYoZClicmVhaztpZighcy5uZWlnaGJvdXIpcmV0dXJuIGNvbnNvbGUubG9nKFwiVHJhY2luZzogZW1lcmdlbmN5IGJyZWFrIC0gbm8gbmVpZ2hib3VyISEhISEhISEhISEhISEhISFcIixhKSxbWzBdLFswXV07aWYoKHM9cy5uZWlnaGJvdXIpLmRhdGEuZG9uZSlicmVhaztzLmRhdGEuZG9uZT0hMCxuPXMuZW50cnlfZXhpdCxyPXMuZGF0YS5wYXRofXdoaWxlKHMuZGF0YS5pZHghPT1vJiZhPGgpO2E+PWgmJmNvbnNvbGUubG9nKFwiVHJhY2luZzogc3RvcHBpbmcgYW4gaW5maW5pdGUgbG9vcCFcIixhKSxsKyt9cmV0dXJuIHRoaXMuX2dldENvb3Jkc0FycmF5cyhjLCExKX0saXNFbXB0eUNhc2U6ZnVuY3Rpb24odCxlLGkpe3JldHVyblwiaW50ZXJzZWN0aW9uXCI9PT1pJiYoMD09PXQubGVuZ3RofHwwPT09ZS5sZW5ndGgpfHwoXCJ1bmlvblwiPT09aSYmMD09PXQubGVuZ3RoJiYwPT09ZS5sZW5ndGh8fFwiZGlmZmVyZW5jZVwiPT09aSYmMD09PXQubGVuZ3RoKX0sX2dldENvb3Jkc0FycmF5czpmdW5jdGlvbih0LGUpe3ZhciBpLHI9W10scz1bXSxvPXQubGVuZ3RoO2ZvcihpPTA7aTxvO2krKyl0W2ldLmNvb3Jkcz8oci5wdXNoKHRbaV0uY29vcmRzLnVzckNvb3Jkc1sxXSkscy5wdXNoKHRbaV0uY29vcmRzLnVzckNvb3Jkc1syXSkpOihyLnB1c2godFtpXVswXSkscy5wdXNoKHRbaV1bMV0pKTtyZXR1cm4gZSYmbz4wJiYodFswXS5jb29yZHM/KHIucHVzaCh0WzBdLmNvb3Jkcy51c3JDb29yZHNbMV0pLHMucHVzaCh0WzBdLmNvb3Jkcy51c3JDb29yZHNbMl0pKTooci5wdXNoKHRbMF1bMF0pLHMucHVzaCh0WzBdWzFdKSkpLFtyLHNdfSxoYW5kbGVFbXB0eUludGVyc2VjdGlvbjpmdW5jdGlvbih0LGUsaSl7dmFyIHIsbyxuPSExLGE9W107aWYoMD09PXQubGVuZ3RoKXJldHVybiBhPVwidW5pb25cIj09PWk/ZTpbXSx0aGlzLl9nZXRDb29yZHNBcnJheXMoYSwhMCk7aWYoMD09PWUubGVuZ3RoKXJldHVybiBhPVwiaW50ZXJzZWN0aW9uXCI9PT1pP1tdOnQsdGhpcy5fZ2V0Q29vcmRzQXJyYXlzKGEsITApO2lmKHQubGVuZ3RoPjApZm9yKHI9dFswXTtyLmludGVyc2VjdGlvbiYmIShyPXIuX25leHQpLl9lbmQ7KTtpZihlLmxlbmd0aD4wKWZvcihvPWVbMF07by5pbnRlcnNlY3Rpb24mJiEobz1vLl9uZXh0KS5fZW5kOyk7cmV0dXJuIDA9PT10aGlzLndpbmRpbmdOdW1iZXIoci5jb29yZHMudXNyQ29vcmRzLGUpPzAhPT10aGlzLndpbmRpbmdOdW1iZXIoby5jb29yZHMudXNyQ29vcmRzLHQpPyhcInVuaW9uXCI9PT1pPyhhPWEuY29uY2F0KHQpKS5wdXNoKHRbMF0pOlwiZGlmZmVyZW5jZVwiPT09aSYmKChhPWEuY29uY2F0KHQpKS5wdXNoKHRbMF0pLHMuc2lnbmVkUG9seWdvbih0KSpzLnNpZ25lZFBvbHlnb24oZSk+MCYmYS5yZXZlcnNlKCksYS5wdXNoKFtOYU4sTmFOXSkpLFwiZGlmZmVyZW5jZVwiIT09aSYmXCJpbnRlcnNlY3Rpb25cIiE9PWl8fCgoYT1hLmNvbmNhdChlKSkucHVzaChlWzBdKSxuPSExKSk6XCJkaWZmZXJlbmNlXCI9PT1pPyhhPWEuY29uY2F0KHQpLG49ITApOlwidW5pb25cIj09PWkmJigoYT1hLmNvbmNhdCh0KSkucHVzaCh0WzBdKSxhLnB1c2goW05hTixOYU5dKSwoYT1hLmNvbmNhdChlKSkucHVzaChlWzBdKSk6XCJpbnRlcnNlY3Rpb25cIj09PWk/KGE9YS5jb25jYXQodCksbj0hMCk6XCJ1bmlvblwiPT09aSYmKGE9YS5jb25jYXQoZSkpLnB1c2goZVswXSksdGhpcy5fZ2V0Q29vcmRzQXJyYXlzKGEsbil9LF9jb3VudENyb3NzaW5nSW50ZXJzZWN0aW9uczpmdW5jdGlvbih0KXt2YXIgZSxpPXQubGVuZ3RoLHI9MDtmb3IoZT0wO2U8aTtlKyspXCJYXCI9PT10W2VdLmRhdGEudHlwZSYmcisrO3JldHVybiByfSxfZ2V0UGF0aDpmdW5jdGlvbih0LHIpe3ZhciBuLGEsaCxsLGMsZCx1LHA9W107aWYodC5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19DVVJWRXx8dC50eXBlIT09ZS5PQkpFQ1RfVFlQRV9BUkMmJnQudHlwZSE9PWUuT0JKRUNUX1RZUEVfU0VDVE9SKXtpZih0LmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NVUlZFJiZvLmV4aXN0cyh0LnBvaW50cykpZm9yKGE9dC5udW1iZXJQb2ludHMsbj0wO248YTtuKyspdGhpcy5fYWRkVG9MaXN0KHAsdC5wb2ludHNbbl0sbik7ZWxzZSBpZih0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX1BPTFlHT04pZm9yKG49MDtuPHQudmVydGljZXMubGVuZ3RoO24rKyl0aGlzLl9hZGRUb0xpc3QocCx0LnZlcnRpY2VzW25dLmNvb3JkcyxuKTtlbHNlIGlmKHQuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFKWZvcih1PTM1OSxoPXQuUmFkaXVzKCksbD0yKk1hdGguUEkvdSxuPTA7bjw9dTtuKyspdGhpcy5fYWRkVG9MaXN0KHAsbmV3IGkoZS5DT09SRFNfQllfVVNFUixbdC5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1swXSx0LmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzFdK01hdGguY29zKG4qbCkqaCx0LmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzJdK01hdGguc2luKG4qbCkqaF0sciksbik7ZWxzZSBpZihvLmlzQXJyYXkodCkpZm9yKGE9dC5sZW5ndGgsbj0wO248YTtuKyspby5leGlzdHModFtuXS5jb29yZHMpP3RoaXMuX2FkZFRvTGlzdChwLHRbbl0uY29vcmRzLG4pOm8uaXNBcnJheSh0W25dKT90aGlzLl9hZGRUb0xpc3QocCxuZXcgaShlLkNPT1JEU19CWV9VU0VSLHRbbl0sciksbik6by5leGlzdHModFtuXS51c3JDb29yZHMpJiZ0aGlzLl9hZGRUb0xpc3QocCx0W25dLG4pfWVsc2V7Zm9yKGM9cy5yYWQodC5yYWRpdXNwb2ludCx0LmNlbnRlcix0LmFuZ2xlcG9pbnQpLHU9TWF0aC5mbG9vcigxODAqYy9NYXRoLlBJKSxoPXQuUmFkaXVzKCksbD1jL3UsZD1NYXRoLmF0YW4yKHQucmFkaXVzcG9pbnQuY29vcmRzLnVzckNvb3Jkc1syXS10LmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzJdLHQucmFkaXVzcG9pbnQuY29vcmRzLnVzckNvb3Jkc1sxXS10LmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzFdKSx0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX1NFQ1RPUiYmdGhpcy5fYWRkVG9MaXN0KHAsdC5jZW50ZXIuY29vcmRzLDApLG49MDtuPD11O24rKyl0aGlzLl9hZGRUb0xpc3QocCxuZXcgaShlLkNPT1JEU19CWV9VU0VSLFt0LmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzBdLHQuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMV0rTWF0aC5jb3MobipsK2QpKmgsdC5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1syXStNYXRoLnNpbihuKmwrZCkqaF0sciksbisxKTt0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX1NFQ1RPUiYmdGhpcy5fYWRkVG9MaXN0KHAsdC5jZW50ZXIuY29vcmRzLHUrMil9cmV0dXJuIHB9LGdyZWluZXJIb3JtYW5uOmZ1bmN0aW9uKHQsZSxpLG8pe3ZhciBuLGEsaCxsLGM9W10sZD1bXTtyZXR1cm4obj0oYz10aGlzLl9nZXRQYXRoKHQsbykpLmxlbmd0aCk+MCYmcy5kaXN0YW5jZShjWzBdLmNvb3Jkcy51c3JDb29yZHMsY1tuLTFdLmNvb3Jkcy51c3JDb29yZHMsMyk8ci5lcHMmJmMucG9wKCksKG49KGQ9dGhpcy5fZ2V0UGF0aChlLG8pKS5sZW5ndGgpPjAmJnMuZGlzdGFuY2UoZFswXS5jb29yZHMudXNyQ29vcmRzLGRbbi0xXS5jb29yZHMudXNyQ29vcmRzLDMpPHIuZXBzKnIuZXBzJiZkLnBvcCgpLHRoaXMuaXNFbXB0eUNhc2UoYyxkLGkpP1tbXSxbXV06KGg9dGhpcy5tYWtlRG91Ymx5TGlua2VkTGlzdChjKSxsPXRoaXMubWFrZURvdWJseUxpbmtlZExpc3QoZCksYT10aGlzLmZpbmRJbnRlcnNlY3Rpb25zKGMsZCxvKVswXSx0aGlzLl9oYW5kbGVGdWxseURlZ2VuZXJhdGVDYXNlKGMsZCxvKSx0aGlzLm1hcmtFbnRyeUV4aXQoYyxkLGgpLHRoaXMubWFya0VudHJ5RXhpdChkLGMsbCksMD09PXRoaXMuX2NvdW50Q3Jvc3NpbmdJbnRlcnNlY3Rpb25zKGEpP3RoaXMuaGFuZGxlRW1wdHlJbnRlcnNlY3Rpb24oYyxkLGkpOnRoaXMudHJhY2luZyhjLGEsaSkpfSx1bmlvbjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuZ3JlaW5lckhvcm1hbm4odCxlLFwidW5pb25cIixpKX0saW50ZXJzZWN0aW9uOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5ncmVpbmVySG9ybWFubih0LGUsXCJpbnRlcnNlY3Rpb25cIixpKX0sZGlmZmVyZW5jZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuZ3JlaW5lckhvcm1hbm4odCxlLFwiZGlmZmVyZW5jZVwiLGkpfX0sdC5leHRlbmQoci5DbGlwLHt9KSxyLkNsaXB9KSksZGVmaW5lKFwibWF0aC9wb2x5XCIsW1wianhnXCIsXCJtYXRoL21hdGhcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gZS5Qb2x5PXt9LGUuUG9seS5SaW5nPWZ1bmN0aW9uKHQpe3RoaXMudmFycz10fSx0LmV4dGVuZChlLlBvbHkuUmluZy5wcm90b3R5cGUse30pLGUuUG9seS5Nb25vbWlhbD1mdW5jdGlvbih0LGUscil7dmFyIHM7aWYoIWkuZXhpc3RzKHQpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIGVycm9yOiBJbiBKWEcuTWF0aC5Qb2x5Lm1vbm9taWFsIG1pc3NpbmcgcGFyYW1ldGVyICdyaW5nJy5cIik7Zm9yKGkuaXNBcnJheShyKXx8KHI9W10pLHM9KHI9ci5zbGljZSgwLHQudmFycy5sZW5ndGgpKS5sZW5ndGg7czx0LnZhcnMubGVuZ3RoO3MrKylyLnB1c2goMCk7dGhpcy5yaW5nPXQsdGhpcy5jb2VmZmljaWVudD1lfHwwLHRoaXMuZXhwb25lbnRzPWkuZGVlcENvcHkocil9LHQuZXh0ZW5kKGUuUG9seS5Nb25vbWlhbC5wcm90b3R5cGUse2NvcHk6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUuUG9seS5Nb25vbWlhbCh0aGlzLnJpbmcsdGhpcy5jb2VmZmljaWVudCx0aGlzLmV4cG9uZW50cyl9LHByaW50OmZ1bmN0aW9uKCl7dmFyIHQsZT1bXTtmb3IodD0wO3Q8dGhpcy5yaW5nLnZhcnMubGVuZ3RoO3QrKyllLnB1c2godGhpcy5yaW5nLnZhcnNbdF0rXCJeXCIrdGhpcy5leHBvbmVudHNbdF0pO3JldHVybiB0aGlzLmNvZWZmaWNpZW50K1wiKlwiK2Uuam9pbihcIipcIil9fSksZS5Qb2x5LlBvbHlub21pYWw9ZnVuY3Rpb24odCxlKXt2YXIgcjtpZighaS5leGlzdHModCkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggZXJyb3I6IEluIEpYRy5NYXRoLlBvbHkucG9seW5vbWlhbCBtaXNzaW5nIHBhcmFtZXRlciAncmluZycuXCIpO3I9aS5leGlzdHMoZSkmJmkuaXNTdHJpbmcoZSk/dm9pZCAwOltdLHRoaXMucmluZz10LHRoaXMubW9ub21pYWxzPXJ9LHQuZXh0ZW5kKGUuUG9seS5Qb2x5bm9taWFsLnByb3RvdHlwZSx7ZmluZFNpZ25hdHVyZTpmdW5jdGlvbih0KXt2YXIgZTtmb3IoZT0wO2U8dGhpcy5tb25vbWlhbHMubGVuZ3RoO2UrKylpZihpLmNtcEFycmF5cyh0aGlzLm1vbm9taWFsc1tlXS5leHBvbmVudHMsdCkpcmV0dXJuIGU7cmV0dXJuLTF9LGFkZFN1Yk1vbm9taWFsOmZ1bmN0aW9uKHQsZSl7dmFyIGk7KGk9dGhpcy5maW5kU2lnbmF0dXJlKHQuZXhwb25lbnRzKSk+LTE/dGhpcy5tb25vbWlhbHNbaV0uY29lZmZpY2llbnQrPWUqdC5jb2VmZmljaWVudDoodC5jb2VmZmljaWVudCo9ZSx0aGlzLm1vbm9taWFscy5wdXNoKHQpKX0sYWRkOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCFpLmV4aXN0cyh0KXx8dC5yaW5nIT09dGhpcy5yaW5nKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIGVycm9yOiBJbiBKWEcuTWF0aC5Qb2x5LnBvbHlub21pYWwuYWRkIGVpdGhlciBzdW1tYW5kIGlzIHVuZGVmaW5lZCBvciByaW5ncyBkb24ndCBtYXRjaC5cIik7aWYoaS5pc0FycmF5KHQuZXhwb25lbnRzKSl0aGlzLmFkZFN1Yk1vbm9taWFsKHQsMSk7ZWxzZSBmb3IoZT0wO2U8dC5tb25vbWlhbHMubGVuZ3RoO2UrKyl0aGlzLmFkZFN1Yk1vbm9taWFsKHQubW9ub21pYWxzW2VdLDEpfSxzdWI6ZnVuY3Rpb24odCl7dmFyIGU7aWYoIWkuZXhpc3RzKHQpfHx0LnJpbmchPT10aGlzLnJpbmcpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggZXJyb3I6IEluIEpYRy5NYXRoLlBvbHkucG9seW5vbWlhbC5zdWIgZWl0aGVyIHN1bW1hbmQgaXMgdW5kZWZpbmVkIG9yIHJpbmdzIGRvbid0IG1hdGNoLlwiKTtpZihpLmlzQXJyYXkodC5leHBvbmVudHMpKXRoaXMuYWRkU3ViTW9ub21pYWwodCwtMSk7ZWxzZSBmb3IoZT0wO2U8dC5tb25vbWlhbHMubGVuZ3RoO2UrKyl0aGlzLmFkZFN1Yk1vbm9taWFsKHQubW9ub21pYWxzW2VdLC0xKX0sY29weTpmdW5jdGlvbigpe3ZhciB0LGk7Zm9yKGk9bmV3IGUuUG9seS5Qb2x5bm9taWFsKHRoaXMucmluZyksdD0wO3Q8dGhpcy5tb25vbWlhbHMubGVuZ3RoO3QrKylpLm1vbm9taWFscy5wdXNoKHRoaXMubW9ub21pYWxzW3RdLmNvcHkoKSk7cmV0dXJuIGl9LHByaW50OmZ1bmN0aW9uKCl7dmFyIHQsZT1bXTtmb3IodD0wO3Q8dGhpcy5tb25vbWlhbHMubGVuZ3RoO3QrKyllLnB1c2goXCIoXCIrdGhpcy5tb25vbWlhbHNbdF0ucHJpbnQoKStcIilcIik7cmV0dXJuIGUuam9pbihcIitcIil9fSksZS5Qb2x5fSkpLGRlZmluZShcIm1hdGgvY29tcGxleFwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Db21wbGV4PWZ1bmN0aW9uKHQsZSl7dGhpcy5pc0NvbXBsZXg9ITAsdCYmdC5pc0NvbXBsZXgmJihlPXQuaW1hZ2luYXJ5LHQ9dC5yZWFsKSx0aGlzLnJlYWw9dHx8MCx0aGlzLmltYWdpbmFyeT1lfHwwLHRoaXMuYWJzdmFsPTAsdGhpcy5hbmdsZT0wfSx0LmV4dGVuZCh0LkNvbXBsZXgucHJvdG90eXBlLHt0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWwrXCIgKyBcIit0aGlzLmltYWdpbmFyeStcImlcIn0sYWRkOmZ1bmN0aW9uKHQpe3JldHVybiBlLmlzTnVtYmVyKHQpP3RoaXMucmVhbCs9dDoodGhpcy5yZWFsKz10LnJlYWwsdGhpcy5pbWFnaW5hcnkrPXQuaW1hZ2luYXJ5KSx0aGlzfSxzdWI6ZnVuY3Rpb24odCl7cmV0dXJuIGUuaXNOdW1iZXIodCk/dGhpcy5yZWFsLT10Oih0aGlzLnJlYWwtPXQucmVhbCx0aGlzLmltYWdpbmFyeS09dC5pbWFnaW5hcnkpLHRoaXN9LG11bHQ6ZnVuY3Rpb24odCl7dmFyIGkscjtyZXR1cm4gZS5pc051bWJlcih0KT8odGhpcy5yZWFsKj10LHRoaXMuaW1hZ2luYXJ5Kj10KTooaT10aGlzLnJlYWwscj10aGlzLmltYWdpbmFyeSx0aGlzLnJlYWw9aSp0LnJlYWwtcip0LmltYWdpbmFyeSx0aGlzLmltYWdpbmFyeT1pKnQuaW1hZ2luYXJ5K3IqdC5yZWFsKSx0aGlzfSxkaXY6ZnVuY3Rpb24odCl7dmFyIGkscixzO2lmKGUuaXNOdW1iZXIodCkpe2lmKE1hdGguYWJzKHQpPE1hdGguZXBzKXJldHVybiB0aGlzLnJlYWw9MS8wLHRoaXMuaW1hZ2luYXJ5PTEvMCx0aGlzO3RoaXMucmVhbC89dCx0aGlzLmltYWdpbmFyeS89dH1lbHNle2lmKE1hdGguYWJzKHQucmVhbCk8TWF0aC5lcHMmJk1hdGguYWJzKHQuaW1hZ2luYXJ5KTxNYXRoLmVwcylyZXR1cm4gdGhpcy5yZWFsPTEvMCx0aGlzLmltYWdpbmFyeT0xLzAsdGhpcztpPXQucmVhbCp0LnJlYWwrdC5pbWFnaW5hcnkqdC5pbWFnaW5hcnkscz10aGlzLnJlYWwscj10aGlzLmltYWdpbmFyeSx0aGlzLnJlYWw9KHMqdC5yZWFsK3IqdC5pbWFnaW5hcnkpL2ksdGhpcy5pbWFnaW5hcnk9KHIqdC5yZWFsLXMqdC5pbWFnaW5hcnkpL2l9cmV0dXJuIHRoaXN9LGNvbmo6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWFnaW5hcnkqPS0xLHRoaXN9fSksdC5DPXt9LHQuQy5hZGQ9ZnVuY3Rpb24oZSxpKXt2YXIgcj1uZXcgdC5Db21wbGV4KGUpO3JldHVybiByLmFkZChpKSxyfSx0LkMuc3ViPWZ1bmN0aW9uKGUsaSl7dmFyIHI9bmV3IHQuQ29tcGxleChlKTtyZXR1cm4gci5zdWIoaSkscn0sdC5DLm11bHQ9ZnVuY3Rpb24oZSxpKXt2YXIgcj1uZXcgdC5Db21wbGV4KGUpO3JldHVybiByLm11bHQoaSkscn0sdC5DLmRpdj1mdW5jdGlvbihlLGkpe3ZhciByPW5ldyB0LkNvbXBsZXgoZSk7cmV0dXJuIHIuZGl2KGkpLHJ9LHQuQy5jb25qPWZ1bmN0aW9uKGUpe3ZhciBpPW5ldyB0LkNvbXBsZXgoZSk7cmV0dXJuIGkuY29uaigpLGl9LHQuQy5hYnM9ZnVuY3Rpb24oZSl7dmFyIGk9bmV3IHQuQ29tcGxleChlKTtyZXR1cm4gaS5jb25qKCksaS5tdWx0KGUpLE1hdGguc3FydChpLnJlYWwpfSx0LkNvbXBsZXguQz10LkMsdC5Db21wbGV4fSkpLGRlZmluZShcInV0aWxzL2NvbG9yXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCIsXCJtYXRoL21hdGhcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj17YWxpY2VibHVlOlwiZjBmOGZmXCIsYW50aXF1ZXdoaXRlOlwiZmFlYmQ3XCIsYXF1YTpcIjAwZmZmZlwiLGFxdWFtYXJpbmU6XCI3ZmZmZDRcIixhenVyZTpcImYwZmZmZlwiLGJlaWdlOlwiZjVmNWRjXCIsYmlzcXVlOlwiZmZlNGM0XCIsYmxhY2s6XCIwMDAwMDBcIixibGFuY2hlZGFsbW9uZDpcImZmZWJjZFwiLGJsdWU6XCIwMDAwZmZcIixibHVldmlvbGV0OlwiOGEyYmUyXCIsYnJvd246XCJhNTJhMmFcIixidXJseXdvb2Q6XCJkZWI4ODdcIixjYWRldGJsdWU6XCI1ZjllYTBcIixjaGFydHJldXNlOlwiN2ZmZjAwXCIsY2hvY29sYXRlOlwiZDI2OTFlXCIsY29yYWw6XCJmZjdmNTBcIixjb3JuZmxvd2VyYmx1ZTpcIjY0OTVlZFwiLGNvcm5zaWxrOlwiZmZmOGRjXCIsY3JpbXNvbjpcImRjMTQzY1wiLGN5YW46XCIwMGZmZmZcIixkYXJrYmx1ZTpcIjAwMDA4YlwiLGRhcmtjeWFuOlwiMDA4YjhiXCIsZGFya2dvbGRlbnJvZDpcImI4ODYwYlwiLGRhcmtncmF5OlwiYTlhOWE5XCIsZGFya2dyZWVuOlwiMDA2NDAwXCIsZGFya2toYWtpOlwiYmRiNzZiXCIsZGFya21hZ2VudGE6XCI4YjAwOGJcIixkYXJrb2xpdmVncmVlbjpcIjU1NmIyZlwiLGRhcmtvcmFuZ2U6XCJmZjhjMDBcIixkYXJrb3JjaGlkOlwiOTkzMmNjXCIsZGFya3JlZDpcIjhiMDAwMFwiLGRhcmtzYWxtb246XCJlOTk2N2FcIixkYXJrc2VhZ3JlZW46XCI4ZmJjOGZcIixkYXJrc2xhdGVibHVlOlwiNDgzZDhiXCIsZGFya3NsYXRlZ3JheTpcIjJmNGY0ZlwiLGRhcmt0dXJxdW9pc2U6XCIwMGNlZDFcIixkYXJrdmlvbGV0OlwiOTQwMGQzXCIsZGVlcHBpbms6XCJmZjE0OTNcIixkZWVwc2t5Ymx1ZTpcIjAwYmZmZlwiLGRpbWdyYXk6XCI2OTY5NjlcIixkb2RnZXJibHVlOlwiMWU5MGZmXCIsZmVsZHNwYXI6XCJkMTkyNzVcIixmaXJlYnJpY2s6XCJiMjIyMjJcIixmbG9yYWx3aGl0ZTpcImZmZmFmMFwiLGZvcmVzdGdyZWVuOlwiMjI4YjIyXCIsZnVjaHNpYTpcImZmMDBmZlwiLGdhaW5zYm9ybzpcImRjZGNkY1wiLGdob3N0d2hpdGU6XCJmOGY4ZmZcIixnb2xkOlwiZmZkNzAwXCIsZ29sZGVucm9kOlwiZGFhNTIwXCIsZ3JheTpcIjgwODA4MFwiLGdyZWVuOlwiMDA4MDAwXCIsZ3JlZW55ZWxsb3c6XCJhZGZmMmZcIixob25leWRldzpcImYwZmZmMFwiLGhvdHBpbms6XCJmZjY5YjRcIixpbmRpYW5yZWQ6XCJjZDVjNWNcIixpbmRpZ286XCI0YjAwODJcIixpdm9yeTpcImZmZmZmMFwiLGtoYWtpOlwiZjBlNjhjXCIsbGF2ZW5kZXI6XCJlNmU2ZmFcIixsYXZlbmRlcmJsdXNoOlwiZmZmMGY1XCIsbGF3bmdyZWVuOlwiN2NmYzAwXCIsbGVtb25jaGlmZm9uOlwiZmZmYWNkXCIsbGlnaHRibHVlOlwiYWRkOGU2XCIsbGlnaHRjb3JhbDpcImYwODA4MFwiLGxpZ2h0Y3lhbjpcImUwZmZmZlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiZmFmYWQyXCIsbGlnaHRncmV5OlwiZDNkM2QzXCIsbGlnaHRncmVlbjpcIjkwZWU5MFwiLGxpZ2h0cGluazpcImZmYjZjMVwiLGxpZ2h0c2FsbW9uOlwiZmZhMDdhXCIsbGlnaHRzZWFncmVlbjpcIjIwYjJhYVwiLGxpZ2h0c2t5Ymx1ZTpcIjg3Y2VmYVwiLGxpZ2h0c2xhdGVibHVlOlwiODQ3MGZmXCIsbGlnaHRzbGF0ZWdyYXk6XCI3Nzg4OTlcIixsaWdodHN0ZWVsYmx1ZTpcImIwYzRkZVwiLGxpZ2h0eWVsbG93OlwiZmZmZmUwXCIsbGltZTpcIjAwZmYwMFwiLGxpbWVncmVlbjpcIjMyY2QzMlwiLGxpbmVuOlwiZmFmMGU2XCIsbWFnZW50YTpcImZmMDBmZlwiLG1hcm9vbjpcIjgwMDAwMFwiLG1lZGl1bWFxdWFtYXJpbmU6XCI2NmNkYWFcIixtZWRpdW1ibHVlOlwiMDAwMGNkXCIsbWVkaXVtb3JjaGlkOlwiYmE1NWQzXCIsbWVkaXVtcHVycGxlOlwiOTM3MGQ4XCIsbWVkaXVtc2VhZ3JlZW46XCIzY2IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCI3YjY4ZWVcIixtZWRpdW1zcHJpbmdncmVlbjpcIjAwZmE5YVwiLG1lZGl1bXR1cnF1b2lzZTpcIjQ4ZDFjY1wiLG1lZGl1bXZpb2xldHJlZDpcImM3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIjE5MTk3MFwiLG1pbnRjcmVhbTpcImY1ZmZmYVwiLG1pc3R5cm9zZTpcImZmZTRlMVwiLG1vY2Nhc2luOlwiZmZlNGI1XCIsbmF2YWpvd2hpdGU6XCJmZmRlYWRcIixuYXZ5OlwiMDAwMDgwXCIsb2xkbGFjZTpcImZkZjVlNlwiLG9saXZlOlwiODA4MDAwXCIsb2xpdmVkcmFiOlwiNmI4ZTIzXCIsb3JhbmdlOlwiZmZhNTAwXCIsb3JhbmdlcmVkOlwiZmY0NTAwXCIsb3JjaGlkOlwiZGE3MGQ2XCIscGFsZWdvbGRlbnJvZDpcImVlZThhYVwiLHBhbGVncmVlbjpcIjk4ZmI5OFwiLHBhbGV0dXJxdW9pc2U6XCJhZmVlZWVcIixwYWxldmlvbGV0cmVkOlwiZDg3MDkzXCIscGFwYXlhd2hpcDpcImZmZWZkNVwiLHBlYWNocHVmZjpcImZmZGFiOVwiLHBlcnU6XCJjZDg1M2ZcIixwaW5rOlwiZmZjMGNiXCIscGx1bTpcImRkYTBkZFwiLHBvd2RlcmJsdWU6XCJiMGUwZTZcIixwdXJwbGU6XCI4MDAwODBcIixyZWQ6XCJmZjAwMDBcIixyb3N5YnJvd246XCJiYzhmOGZcIixyb3lhbGJsdWU6XCI0MTY5ZTFcIixzYWRkbGVicm93bjpcIjhiNDUxM1wiLHNhbG1vbjpcImZhODA3MlwiLHNhbmR5YnJvd246XCJmNGE0NjBcIixzZWFncmVlbjpcIjJlOGI1N1wiLHNlYXNoZWxsOlwiZmZmNWVlXCIsc2llbm5hOlwiYTA1MjJkXCIsc2lsdmVyOlwiYzBjMGMwXCIsc2t5Ymx1ZTpcIjg3Y2VlYlwiLHNsYXRlYmx1ZTpcIjZhNWFjZFwiLHNsYXRlZ3JheTpcIjcwODA5MFwiLHNub3c6XCJmZmZhZmFcIixzcHJpbmdncmVlbjpcIjAwZmY3ZlwiLHN0ZWVsYmx1ZTpcIjQ2ODJiNFwiLHRhbjpcImQyYjQ4Y1wiLHRlYWw6XCIwMDgwODBcIix0aGlzdGxlOlwiZDhiZmQ4XCIsdG9tYXRvOlwiZmY2MzQ3XCIsdHVycXVvaXNlOlwiNDBlMGQwXCIsdmlvbGV0OlwiZWU4MmVlXCIsdmlvbGV0cmVkOlwiZDAyMDkwXCIsd2hlYXQ6XCJmNWRlYjNcIix3aGl0ZTpcImZmZmZmZlwiLHdoaXRlc21va2U6XCJmNWY1ZjVcIix5ZWxsb3c6XCJmZmZmMDBcIix5ZWxsb3dncmVlbjpcIjlhY2QzMlwifSxzPVt7cmU6L15cXHMqcmdiYVxcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooW1xcZC5dezEsM30pXFxzKlxcKVxccyokLyxleGFtcGxlOltcInJnYmEoMTIzLCAyMzQsIDQ1LCAwLjUpXCIsXCJyZ2JhKDI1NSwyMzQsMjQ1LDEuMClcIl0scHJvY2VzczpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSwxMCkscGFyc2VJbnQodFsyXSwxMCkscGFyc2VJbnQodFszXSwxMCldfX0se3JlOi9eXFxzKnJnYlxcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqXFwpXFxzKiQvLGV4YW1wbGU6W1wicmdiKDEyMywgMjM0LCA0NSlcIixcInJnYigyNTUsMjM0LDI0NSlcIl0scHJvY2VzczpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSwxMCkscGFyc2VJbnQodFsyXSwxMCkscGFyc2VJbnQodFszXSwxMCldfX0se3JlOi9eKFxcd3syfSkoXFx3ezJ9KShcXHd7Mn0pJC8sZXhhbXBsZTpbXCIjMDBmZjAwXCIsXCIzMzY2OTlcIl0scHJvY2VzczpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSwxNikscGFyc2VJbnQodFsyXSwxNikscGFyc2VJbnQodFszXSwxNildfX0se3JlOi9eKFxcd3sxfSkoXFx3ezF9KShcXHd7MX0pJC8sZXhhbXBsZTpbXCIjZmIwXCIsXCJmMGZcIl0scHJvY2VzczpmdW5jdGlvbih0KXtyZXR1cm5bcGFyc2VJbnQodFsxXSt0WzFdLDE2KSxwYXJzZUludCh0WzJdK3RbMl0sMTYpLHBhcnNlSW50KHRbM10rdFszXSwxNildfX1dO3JldHVybiB0LnJnYlBhcnNlcj1mdW5jdGlvbih0LGksbyl7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG0sZz10O2lmKCFlLmV4aXN0cyh0KSlyZXR1cm5bXTtpZihlLmV4aXN0cyhpKSYmZS5leGlzdHMobykmJihnPVt0LGksb10pLG49ZyxtPSExLGUuaXNBcnJheShuKSl7Zm9yKGQ9MDtkPDM7ZCsrKW09bXx8L1xcLi8udGVzdChnW2RdLnRvU3RyaW5nKCkpO2ZvcihkPTA7ZDwzO2QrKyltPW0mJmdbZF0+PTAmJmdbZF08PTE7cmV0dXJuIG0/W01hdGguY2VpbCgyNTUqZ1swXSksTWF0aC5jZWlsKDI1NSpnWzFdKSxNYXRoLmNlaWwoMjU1KmdbMl0pXTpnfWZvcihcInN0cmluZ1wiPT10eXBlb2YgZyYmKG49ZyksXCIjXCI9PT1uLmNoYXJBdCgwKSYmKG49bi5zdWJzdHIoMSw2KSksbj1uLnJlcGxhY2UoLyAvZyxcIlwiKS50b0xvd2VyQ2FzZSgpLG49cltuXXx8bixkPTA7ZDxzLmxlbmd0aDtkKyspaD1zW2RdLnJlLGw9c1tkXS5wcm9jZXNzLChjPWguZXhlYyhuKSkmJih1PShhPWwoYykpWzBdLHA9YVsxXSxmPWFbMl0pO3JldHVybiBpc05hTih1KXx8aXNOYU4ocCl8fGlzTmFOKGYpP1tdOlt1PXU8MHx8aXNOYU4odSk/MDp1PjI1NT8yNTU6dSxwPXA8MHx8aXNOYU4ocCk/MDpwPjI1NT8yNTU6cCxmPWY8MHx8aXNOYU4oZik/MDpmPjI1NT8yNTU6Zl19LHQucmdiMmNzcz1mdW5jdGlvbihlLGkscil7dmFyIHM7cmV0dXJuXCJyZ2IoXCIrKHM9dC5yZ2JQYXJzZXIoZSxpLHIpKVswXStcIiwgXCIrc1sxXStcIiwgXCIrc1syXStcIilcIn0sdC5yZ2IyaGV4PWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvLG47cmV0dXJuIG89KHM9dC5yZ2JQYXJzZXIoZSxpLHIpKVsxXSxuPXNbMl0scz0ocz1zWzBdKS50b1N0cmluZygxNiksbz1vLnRvU3RyaW5nKDE2KSxuPW4udG9TdHJpbmcoMTYpLDE9PT1zLmxlbmd0aCYmKHM9XCIwXCIrcyksMT09PW8ubGVuZ3RoJiYobz1cIjBcIitvKSwxPT09bi5sZW5ndGgmJihuPVwiMFwiK24pLFwiI1wiK3MrbytufSx0LmhleDJyZ2I9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcIkpYRy5oZXgycmdiKClcIixcIkpYRy5yZ2IyY3NzKClcIiksdC5yZ2IyY3NzKGUpfSx0LmhzdjJyZ2I9ZnVuY3Rpb24odCxlLHIpe3ZhciBzLG8sbixhLGgsbCxjLGQsdTtpZih0PSh0JTM2MCszNjApJTM2MCwwPT09ZSl7aWYoIShpc05hTih0KXx8dDxpLmVwcykpcmV0dXJuXCIjZmZmZmZmXCI7cz1yLG89cixuPXJ9ZWxzZSBzd2l0Y2gobD10Pj0zNjA/MDp0LGM9ciooMS1lKSxkPXIqKDEtZSooYT0obC89NjApLShoPU1hdGguZmxvb3IobCkpKSksdT1yKigxLWUqKDEtYSkpLGgpe2Nhc2UgMDpzPXIsbz11LG49YzticmVhaztjYXNlIDE6cz1kLG89cixuPWM7YnJlYWs7Y2FzZSAyOnM9YyxvPXIsbj11O2JyZWFrO2Nhc2UgMzpzPWMsbz1kLG49cjticmVhaztjYXNlIDQ6cz11LG89YyxuPXI7YnJlYWs7Y2FzZSA1OnM9cixvPWMsbj1kfXJldHVybltcIiNcIixzPTI9PT0ocz1NYXRoLnJvdW5kKDI1NSpzKS50b1N0cmluZygxNikpLmxlbmd0aD9zOjE9PT1zLmxlbmd0aD9cIjBcIitzOlwiMDBcIixvPTI9PT0obz1NYXRoLnJvdW5kKDI1NSpvKS50b1N0cmluZygxNikpLmxlbmd0aD9vOjE9PT1vLmxlbmd0aD9cIjBcIitvOlwiMDBcIixuPTI9PT0obj1NYXRoLnJvdW5kKDI1NSpuKS50b1N0cmluZygxNikpLmxlbmd0aD9uOjE9PT1uLmxlbmd0aD9cIjBcIituOlwiMDBcIl0uam9pbihcIlwiKX0sdC5yZ2IyaHN2PWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvLG4sYSxoLGwsYyxkLHUscCxmLG0sZztyZXR1cm4gbz0ocz10LnJnYlBhcnNlcihlLGkscikpWzFdLG49c1syXSxhPShzPXNbMF0pLzI1NSxoPW8vMjU1LGw9bi8yNTUsbT1NYXRoLm1heChzLG8sbiksZD0oZz1NYXRoLm1pbihzLG8sbikpLzI1NSxwPTAsKGY9Yz1tLzI1NSk+MCYmKHA9KGYtZCkvZiksdT0xLyhjLWQpLHA+MCYmKG09PT1zP3UqPWgtbDp1PW09PT1vPzIrKGwtYSkqdTo0KyhhLWgpKnUpLCh1Kj02MCk8MCYmKHUrPTM2MCksbT09PWcmJih1PTApLFt1LHAsZl19LHQucmdiMkxNUz1mdW5jdGlvbihlLGkscil7dmFyIHMsbyxuLGEsaCxsLGMsZD1bWy4wNTA1OTk4MywuMDg1ODUzNjksLjAwOTUyNDJdLFsuMDE4OTMwMzMsLjA4OTI1MzA4LC4wMTM3MDA1NF0sWy4wMDI5MjIwMiwuMDA5NzU3MzIsLjA3MTQ1OTc5XV07cmV0dXJuIG89KHM9dC5yZ2JQYXJzZXIoZSxpLHIpKVsxXSxuPXNbMl0scz1zWzBdLHM9TWF0aC5wb3cocywuNDc2MTkwNDc2KSxvPU1hdGgucG93KG8sLjQ3NjE5MDQ3Niksbj1NYXRoLnBvdyhuLC40NzYxOTA0NzYpLChjPVthPXMqZFswXVswXStvKmRbMF1bMV0rbipkWzBdWzJdLGg9cypkWzFdWzBdK28qZFsxXVsxXStuKmRbMV1bMl0sbD1zKmRbMl1bMF0rbypkWzJdWzFdK24qZFsyXVsyXV0pLmw9YSxjLm09aCxjLnM9bCxjfSx0LkxNUzJyZ2I9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGE9W1szMC44MzA4NTQsLTI5LjgzMjY1OSwxLjYxMDQ3NF0sWy02LjQ4MTQ2OCwxNy43MTU1NzgsLTIuNTMyNjQyXSxbLS4zNzU2OSwtMS4xOTkwNjIsMTQuMjczODQ2XV0saD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MTI3LGk9NjQ7aT4wOyl7aWYoTWF0aC5wb3coZSwuNDc2MTkwNDc2KT50KWUtPWk7ZWxzZXtpZihNYXRoLnBvdyhlKzEsLjQ3NjE5MDQ3Nik+dClyZXR1cm4gZTtlKz1pfWkvPTJ9cmV0dXJuIDI1ND09PWUmJjEzLjk5NDk1NTI0Nzx0PzI1NTplfTtyZXR1cm4gcj10KmFbMF1bMF0rZSphWzBdWzFdK2kqYVswXVsyXSxzPXQqYVsxXVswXStlKmFbMV1bMV0raSphWzFdWzJdLG89dCphWzJdWzBdK2UqYVsyXVsxXStpKmFbMl1bMl0sKG49W3I9aChyKSxzPWgocyksbz1oKG8pXSkucj1yLG4uZz1zLG4uYj1vLG59LHQucmdiYTJyZ2JvPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiA5PT09dC5sZW5ndGgmJlwiI1wiPT09dC5jaGFyQXQoMCk/KGU9cGFyc2VJbnQodC5zdWJzdHIoNywyKS50b1VwcGVyQ2FzZSgpLDE2KS8yNTUsdD10LnN1YnN0cigwLDcpKTplPTEsW3QsZV19LHQucmdibzJyZ2JhPWZ1bmN0aW9uKHQsZSl7dmFyIGk7cmV0dXJuXCJub25lXCI9PT10P3Q6KDE9PT0oaT1NYXRoLnJvdW5kKDI1NSplKS50b1N0cmluZygxNikpLmxlbmd0aCYmKGk9XCIwXCIraSksdCtpKX0sdC5yZ2IyYnc9ZnVuY3Rpb24oZSl7dmFyIGkscixzLG89XCIwMTIzNDU2Nzg5QUJDREVGXCI7cmV0dXJuXCJub25lXCI9PT1lP2U6KHM9dC5yZ2JQYXJzZXIoZSksaT1NYXRoLmZsb29yKC4zKnNbMF0rLjU5KnNbMV0rLjExKnNbMl0pLGU9XCIjXCIrKHI9by5jaGFyQXQoaT4+NCYxNSkrby5jaGFyQXQoMTUmaSkpK3Ircil9LHQucmdiMmNiPWZ1bmN0aW9uKGUsaSl7dmFyIHIscyxvLG4sYSxoLGwsYyxkLHUscCxmPVwiMDEyMzQ1Njc4OUFCQ0RFRlwiO2lmKFwibm9uZVwiPT09ZSlyZXR1cm4gZTtzd2l0Y2gocz0oYT10LnJnYjJMTVMoZSkpWzBdLG89YVsxXSxuPWFbMl0saT1pLnRvTG93ZXJDYXNlKCkpe2Nhc2VcInByb3Rhbm9waWFcIjpoPS0uMDYxNTAwMzk5OTQyOTUwMDEsbD0uMDgyNzcwMDE2NTY4MTIwMDEsYz0tLjAxMzIwMDE0MTIyMDAwMDAwMyxkPS4wNTg1ODkzOTY2ODc5OTk5OSx1PS0uMDc5MzQ1MTk5OTUzNjAwMDEscD0uMDEzMjg5NDE1MjcyMDAwMDAzLHM9bi9vPC42OTAzMjE2NTQzMjc3NDM3Py0obCpvK2MqbikvaDotKHUqbytwKm4pL2Q7YnJlYWs7Y2FzZVwidHJpdGFub3BpYVwiOmg9LS4wMDA1ODk3MzExNjIxNyxsPS4wMDc2OTAzMTY0ODIsYz0tLjAxMDExNzAzNTE5MDUyLGQ9LjAyNTQ5NTA4MDgzODk5OTk5NCx1PS0uMDQyMjc0MDM0NyxwPS4wMTcwMDUzMTY3ODQsbj1vL3M8LjgzNDk0ODk5MDg0NjAwMDQ/LShoKnMrbCpvKS9jOi0oZCpzK3UqbykvcDticmVhaztkZWZhdWx0Omg9LS4wNjE1MDAzOTk5NDI5NTAwMSxsPS4wODI3NzAwMTY1NjgxMjAwMSxjPS0uMDEzMjAwMTQxMjIwMDAwMDAzLGQ9LjA1ODU4OTM5NjY4Nzk5OTk5LHU9LS4wNzkzNDUxOTk5NTM2MDAwMSxwPS4wMTMyODk0MTUyNzIwMDAwMDMsbz1uL3M8LjU3NjM4MzM2ODY0MDA5MTE/LShoKnMrYypuKS9sOi0oZCpzK3AqbikvdX1yZXR1cm4gcj10LkxNUzJyZ2IocyxvLG4pLGU9XCIjXCIrKGYuY2hhckF0KHJbMF0+PjQmMTUpK2YuY2hhckF0KDE1JnJbMF0pKSxlKz1mLmNoYXJBdChyWzFdPj40JjE1KStmLmNoYXJBdCgxNSZyWzFdKSxlKz1mLmNoYXJBdChyWzJdPj40JjE1KStmLmNoYXJBdCgxNSZyWzJdKX0sdC5hdXRvSGlnaGxpZ2h0PWZ1bmN0aW9uKGUpe3ZhciBpPXQucmdiYTJyZ2JvKGUpLHI9aVswXSxzPWlbMV07cmV0dXJuXCIjXCI9PT1lLmNoYXJBdCgwKT8ocyo9czwuMz8xLjg6LjQsdC5yZ2JvMnJnYmEocixzKSk6ZX0sdC5jb250cmFzdD1mdW5jdGlvbihlLGkscixzKXt2YXIgbyxuLGEsaCxsO3JldHVybiBpPWl8fFwiIzAwMDAwMFwiLHI9cnx8XCIjZmZmZmZmXCIscz1zfHw3LG89dC5yZ2JQYXJzZXIoZSksbj10LnJnYlBhcnNlcihcIiMwMDAwMDBcIiksbD0oYT0uMjEyNipNYXRoLnBvdyhvWzBdLzI1NSwyLjIpKy43MTUyKk1hdGgucG93KG9bMV0vMjU1LDIuMikrLjA3MjIqTWF0aC5wb3cob1syXS8yNTUsMi4yKSk+KGg9LjIxMjYqTWF0aC5wb3coblswXS8yNTUsMi4yKSsuNzE1MipNYXRoLnBvdyhuWzFdLzI1NSwyLjIpKy4wNzIyKk1hdGgucG93KG5bMl0vMjU1LDIuMikpP01hdGguZmxvb3IoKGErLjA1KS8oaCsuMDUpKTpNYXRoLmZsb29yKChoKy4wNSkvKGErLjA1KSksKGwtPTEpPnM/aTpyfSx0LnNldENsYXNzaWNDb2xvcnM9ZnVuY3Rpb24oKXt0Lk9wdGlvbnMuZWxlbWVudHMuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLmVsZW1lbnRzLmZpbGxDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5oYXRjaC5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuYW5nbGUuZmlsbENvbG9yPVwiI2ZmN2YwMFwiLHQuT3B0aW9ucy5hbmdsZS5oaWdobGlnaHRGaWxsQ29sb3I9XCIjZmY3ZjAwXCIsdC5PcHRpb25zLmFuZ2xlLnN0cm9rZUNvbG9yPVwiI2ZmN2YwMFwiLHQuT3B0aW9ucy5hbmdsZS5sYWJlbC5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuYXJjLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5jaXJjbGUuY2VudGVyLmZpbGxDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5jaXJjbGUuY2VudGVyLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5jaXJjdW1jaXJjbGUuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLmNpcmN1bWNpcmNsZS5jZW50ZXIuZmlsbENvbG9yPVwicmVkXCIsdC5PcHRpb25zLmNpcmN1bWNpcmNsZS5jZW50ZXIuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLmNpcmN1bWNpcmNsZWFyYy5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuY2lyY3VtY2lyY2xlc2VjdG9yLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5jaXJjdW1jaXJjbGVzZWN0b3IuZmlsbENvbG9yPVwiZ3JlZW5cIix0Lk9wdGlvbnMuY2lyY3VtY2lyY2xlc2VjdG9yLmhpZ2hsaWdodEZpbGxDb2xvcj1cImdyZWVuXCIsdC5PcHRpb25zLmNvbmljLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5jdXJ2ZS5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuaW5jaXJjbGUuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLmluY2lyY2xlLmNlbnRlci5maWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMuaW5jaXJjbGUuY2VudGVyLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5pbmVxdWFsaXR5LmZpbGxDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5pbnRlZ3JhbC5maWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMuaW50ZWdyYWwuY3VydmVMZWZ0LmNvbG9yPVwicmVkXCIsdC5PcHRpb25zLmludGVncmFsLmN1cnZlUmlnaHQuY29sb3I9XCJyZWRcIix0Lk9wdGlvbnMubGluZS5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMucG9pbnQuZmlsbENvbG9yPVwicmVkXCIsdC5PcHRpb25zLnBvaW50LnN0cm9rZUNvbG9yPVwicmVkXCIsdC5PcHRpb25zLnBvbHlnb24uZmlsbENvbG9yPVwiZ3JlZW5cIix0Lk9wdGlvbnMucG9seWdvbi5oaWdobGlnaHRGaWxsQ29sb3I9XCJncmVlblwiLHQuT3B0aW9ucy5wb2x5Z29uLnZlcnRpY2VzLnN0cm9rZUNvbG9yPVwicmVkXCIsdC5PcHRpb25zLnBvbHlnb24udmVydGljZXMuZmlsbENvbG9yPVwicmVkXCIsdC5PcHRpb25zLnJlZ3VsYXJwb2x5Z29uLmZpbGxDb2xvcj1cImdyZWVuXCIsdC5PcHRpb25zLnJlZ3VsYXJwb2x5Z29uLmhpZ2hsaWdodEZpbGxDb2xvcj1cImdyZWVuXCIsdC5PcHRpb25zLnJlZ3VsYXJwb2x5Z29uLnZlcnRpY2VzLnN0cm9rZUNvbG9yPVwicmVkXCIsdC5PcHRpb25zLnJlZ3VsYXJwb2x5Z29uLnZlcnRpY2VzLmZpbGxDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5yaWVtYW5uc3VtLmZpbGxDb2xvcj1cInllbGxvd1wiLHQuT3B0aW9ucy5zZWN0b3IuZmlsbENvbG9yPVwiZ3JlZW5cIix0Lk9wdGlvbnMuc2VjdG9yLmhpZ2hsaWdodEZpbGxDb2xvcj1cImdyZWVuXCIsdC5PcHRpb25zLnNlbWljaXJjbGUuY2VudGVyLmZpbGxDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5zZW1pY2lyY2xlLmNlbnRlci5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuc2xvcGV0cmlhbmdsZS5maWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMuc2xvcGV0cmlhbmdsZS5oaWdobGlnaHRGaWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMudHVydGxlLmFycm93LnN0cm9rZUNvbG9yPVwiYmx1ZVwifSx0LmV4dGVuZCh0LHtwYWxldHRlV29uZzp7YmxhY2s6XCIjMDAwMDAwXCIsb3JhbmdlOlwiI0U2OUYwMFwiLHNreWJsdWU6XCIjNTZCNEU5XCIsYmx1aXNoZ3JlZW46XCIjMDA5RTczXCIseWVsbG93OlwiI0YwRTQ0MlwiLGRhcmtibHVlOlwiIzAwNzJCMlwiLHZlcm1pbGxpb246XCIjRDU1RTAwXCIscmVkZGlzaHB1cnBsZTpcIiNDQzc5QTdcIixibHVlOlwiIzAwNzJCMlwiLHJlZDpcIiNENTVFMDBcIixncmVlbjpcIiMwMDlFNzNcIixwdXJwbGU6XCIjQ0M3OUE3XCIsd2hpdGU6XCIjZmZmZmZmXCJ9fSksdC5wYWxldHRlPXQucGFsZXR0ZVdvbmcsdH0pKSxkZWZpbmUoXCJvcHRpb25zXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwibWF0aC9tYXRoXCIsXCJ1dGlscy9jb2xvclwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscixzKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5PcHRpb25zPXtqYzp7ZW5hYmxlZDohMCxjb21waWxlOiEwfSxib2FyZDp7Ym91bmRpbmdCb3g6Wy01LDUsNSwtNV0sbWF4Qm91bmRpbmdCb3g6Wy0xLzAsMS8wLDEvMCwtMS8wXSx6b29tRmFjdG9yOjEsem9vbVg6MSx6b29tWToxLHRpdGxlOlwiXCIsZGVzY3JpcHRpb246XCJcIixzaG93Q29weXJpZ2h0OiEwLGF4aXM6ITEsZGVmYXVsdEF4ZXM6e3g6e25hbWU6XCJ4XCIsdGlja3M6e2xhYmVsOnt2aXNpYmxlOlwiaW5oZXJpdFwiLGFuY2hvclg6XCJtaWRkbGVcIixhbmNob3JZOlwidG9wXCIsZm9udFNpemU6MTIsb2Zmc2V0OlswLC0zXX0sZHJhd1plcm86ITEsdmlzaWJsZTpcImluaGVyaXRcIn19LHk6e25hbWU6XCJ5XCIsdGlja3M6e2xhYmVsOnt2aXNpYmxlOlwiaW5oZXJpdFwiLGFuY2hvclg6XCJyaWdodFwiLGFuY2hvclk6XCJtaWRkbGVcIixmb250U2l6ZToxMixvZmZzZXQ6Wy02LDBdfSx0aWNrRW5kaW5nczpbMSwwXSxkcmF3WmVybzohMSx2aXNpYmxlOlwiaW5oZXJpdFwifX19LHNob3dOYXZpZ2F0aW9uOiEwLHNob3dab29tOiEwLHNob3dSZWxvYWQ6ITEsc2hvd1NjcmVlbnNob3Q6ITEsc2NyZWVuc2hvdDp7c2NhbGU6MSx0eXBlOlwicG5nXCIsc3ltYm9sOlwi4oyYXCIsY3NzOlwiYmFja2dyb3VuZC1jb2xvcjojZWVlZWVlOyBvcGFjaXR5OjEuMDsgYm9yZGVyOjJweCBzb2xpZCBibGFjazsgYm9yZGVyLXJhZGl1czoxMHB4OyB0ZXh0LWFsaWduOmNlbnRlclwiLGNzc0J1dHRvbjpcInBhZGRpbmc6IDRweCAxMHB4OyBib3JkZXI6IHNvbGlkICMzNTZBQTAgMXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDJleDsgdG9wOiAyZXg7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKTtcIn0sc2hvd0Z1bGxzY3JlZW46ITEsZnVsbHNjcmVlbjp7c3ltYm9sOlwi4pahXCIsaWQ6bnVsbH0sc2hvd0NsZWFyVHJhY2VzOiExLGtlZXBBc3BlY3RSYXRpbzohMSxpZ25vcmVMYWJlbHM6ITAsbWF4TmFtZUxlbmd0aDoxLGRvY3VtZW50OiExLHRha2VGaXJzdDohMSx0YWtlU2l6ZUZyb21GaWxlOiExLHJlbmRlcmVyOlwiYXV0b1wiLGFuaW1hdGlvbkRlbGF5OjM1LG1heEZyYW1lUmF0ZTo0MCxyZWdpc3RlckV2ZW50czohMCxtaW5pbWl6ZVJlZmxvdzpcIm5vbmVcIixvZmZzZXRYOjAsb2Zmc2V0WTowLHpvb206e2VuYWJsZWQ6ITAsZmFjdG9yWDoxLjI1LGZhY3Rvclk6MS4yNSx3aGVlbDohMCxuZWVkU2hpZnQ6ITAsbWluOjFlLTQsbWF4OjFlNCxwaW5jaEhvcml6b250YWw6ITAscGluY2hWZXJ0aWNhbDohMCxwaW5jaFNlbnNpdGl2aXR5Ojd9LHBhbjp7bmVlZFNoaWZ0OiEwLG5lZWRUd29GaW5nZXJzOiExLGVuYWJsZWQ6ITB9LGRyYWc6e2VuYWJsZWQ6ITB9LGtleWJvYXJkOntlbmFibGVkOiEwLGR4OjEwLGR5OjEwLHBhblNoaWZ0OiEwLHBhbkN0cmw6ITF9LHJlc2l6ZTp7ZW5hYmxlZDohMCx0aHJvdHRsZToxMH0sbW92ZVRhcmdldDpudWxsLHNlbGVjdGlvbjp7ZW5hYmxlZDohMSxuYW1lOlwic2VsZWN0aW9uUG9seWdvblwiLG5lZWRTaGlmdDohMSxuZWVkQ3RybDohMCx3aXRoTGluZXM6ITEsdmVydGljZXM6e3Zpc2libGU6ITF9LGZpbGxDb2xvcjpcIiNmZmZmMDBcIix2aXNpYmxlOiExfSxzaG93SW5mb2JveDohMH0sbmF2YmFyOntzdHJva2VDb2xvcjpcIiMzMzMzMzNcIixmaWxsQ29sb3I6XCJ0cmFuc3BhcmVudFwiLGhpZ2hsaWdodEZpbGxDb2xvcjpcIiNhYWFhYWFcIixwYWRkaW5nOlwiMnB4XCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLGZvbnRTaXplOlwiMTRweFwiLGN1cnNvcjpcInBvaW50ZXJcIix6SW5kZXg6XCIxMDBcIixyaWdodDpcIjVweFwiLGJvdHRvbTpcIjVweFwifSxlbGVtZW50czp7c3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwiLHN0cm9rZU9wYWNpdHk6MSxoaWdobGlnaHRTdHJva2VPcGFjaXR5OjEsZmlsbE9wYWNpdHk6MSxoaWdobGlnaHRGaWxsT3BhY2l0eToxLGdyYWRpZW50Om51bGwsZ3JhZGllbnRTZWNvbmRDb2xvcjpcIiNmZmZmZmZcIixncmFkaWVudFNlY29uZE9wYWNpdHk6MSxncmFkaWVudFN0YXJ0T2Zmc2V0OjAsZ3JhZGllbnRFbmRPZmZzZXQ6MSxncmFkaWVudEFuZ2xlOjAsZ3JhZGllbnRDWDouNSxncmFkaWVudENZOi41LGdyYWRpZW50UjouNSxncmFkaWVudEZYOi41LGdyYWRpZW50Rlk6LjUsZ3JhZGllbnRGUjowLHRyYW5zaXRpb25EdXJhdGlvbjoxMDAsc3Ryb2tlV2lkdGg6MixoaWdobGlnaHRTdHJva2VXaWR0aDoyLGZpeGVkOiExLGZyb3plbjohMSx3aXRoTGFiZWw6ITEsdmlzaWJsZTohMCxwcml2OiExLGxheWVyOjAsZGFzaDowLHNoYWRvdzohMSx0cmFjZTohMSx0cmFjZUF0dHJpYnV0ZXM6e30saGlnaGxpZ2h0OiEwLG5lZWRzUmVndWxhclVwZGF0ZTohMCxzbmFwVG9HcmlkOiExLHNjYWxhYmxlOiEwLGRyYWdUb1RvcE9mTGF5ZXI6ITEscHJlY2lzaW9uOlwiaW5oZXJpdFwiLGRyYWZ0OntkcmFmdDohMSxzdHJva2VDb2xvcjpcIiM1NjU2NTZcIixmaWxsQ29sb3I6XCIjNTY1NjU2XCIsc3Ryb2tlT3BhY2l0eTouOCxmaWxsT3BhY2l0eTouOCxzdHJva2VXaWR0aDoxfSxpc0xhYmVsOiExLHRhYmluZGV4OjB9LHRpY2tzOntnZW5lcmF0ZUxhYmVsVGV4dDpudWxsLGdlbmVyYXRlTGFiZWxWYWx1ZTpudWxsLGRyYXdMYWJlbHM6ITEsbGFiZWw6e30sYmVhdXRpZnVsU2NpZW50aWZpY1RpY2tMYWJlbHM6ITEsdXNlVW5pY29kZU1pbnVzOiEwLGFuY2hvcjpcImxlZnRcIixkcmF3WmVybzohMSxpbnNlcnRUaWNrczohMSxtaW5UaWNrc0Rpc3RhbmNlOjEwLG1pbm9ySGVpZ2h0OjQsbWFqb3JIZWlnaHQ6MTAsdGlja0VuZGluZ3M6WzEsMV0sbWlub3JUaWNrczo0LHNjYWxlOjEsc2NhbGVTeW1ib2w6XCJcIixsYWJlbHM6W10sbWF4TGFiZWxMZW5ndGg6NSxwcmVjaXNpb246MyxkaWdpdHM6Myx0aWNrc0Rpc3RhbmNlOjEsZmFjZTpcInxcIixzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MSxzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiM4ODg4ODhcIixmaWxsQ29sb3I6XCJub25lXCIsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwiLHZpc2libGU6XCJpbmhlcml0XCIsaW5jbHVkZUJvdW5kYXJpZXM6ITEsdHlwZTpcImxpbmVhclwifSxoYXRjaDp7ZHJhd0xhYmVsczohMSxkcmF3WmVybzohMCxtYWpvckhlaWdodDoyMCxhbmNob3I6XCJtaWRkbGVcIixmYWNlOlwifFwiLHN0cm9rZVdpZHRoOjIsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsdGlja3NEaXN0YW5jZTouMn0scHJlY2lzaW9uOnt0b3VjaDozMCx0b3VjaE1heDoxMDAsbW91c2U6NCxwZW46NCxlcHNpbG9uOjFlLTQsaGFzUG9pbnQ6NH0sbGF5ZXI6e251bWxheWVyczoyMCx1bnVzZWQ5OjE5LHVudXNlZDg6MTgsdW51c2VkNzoxNyx1bnVzZWQ2OjE2LHVudXNlZDU6MTUsdW51c2VkNDoxNCx1bnVzZWQzOjEzLHVudXNlZDI6MTIsdW51c2VkMToxMSx1bnVzZWQwOjEwLHRleHQ6OSxwb2ludDo5LGdsaWRlcjo5LGFyYzo4LGxpbmU6NyxjaXJjbGU6NixjdXJ2ZTo1LHR1cnRsZTo1LHBvbHlnb246MyxzZWN0b3I6MyxhbmdsZTozLGludGVncmFsOjMsYXhpczoyLHRpY2tzOjIsZ3JpZDoxLGltYWdlOjAsdHJhY2U6MH0sYW5nbGU6e3dpdGhMYWJlbDohMCxyYWRpdXM6XCJhdXRvXCIsdHlwZTpcInNlY3RvclwiLG9ydGhvVHlwZTpcInNxdWFyZVwiLG9ydGhvU2Vuc2l0aXZpdHk6MSxmaWxsQ29sb3I6ci5wYWxldHRlLm9yYW5nZSxoaWdobGlnaHRGaWxsQ29sb3I6ci5wYWxldHRlLm9yYW5nZSxzdHJva2VDb2xvcjpyLnBhbGV0dGUub3JhbmdlLGZpbGxPcGFjaXR5Oi4zLGhpZ2hsaWdodEZpbGxPcGFjaXR5Oi4zLHJhZGl1c3BvaW50Ont3aXRoTGFiZWw6ITEsdmlzaWJsZTohMSxuYW1lOlwiXCJ9LHBvaW50c3F1YXJlOnt3aXRoTGFiZWw6ITEsdmlzaWJsZTohMSxuYW1lOlwiXCJ9LGRvdDp7dmlzaWJsZTohMSxzdHJva2VDb2xvcjpcIm5vbmVcIixmaWxsQ29sb3I6XCIjMDAwMDAwXCIsc2l6ZToyLGZhY2U6XCJvXCIsd2l0aExhYmVsOiExLG5hbWU6XCJcIn0sbGFiZWw6e3Bvc2l0aW9uOlwidG9wXCIsb2Zmc2V0OlswLDBdLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5ibHVlfSxhcmM6e3Zpc2libGU6ITEsZmlsbENvbG9yOlwibm9uZVwifX0sYXJjOntzZWxlY3Rpb246XCJhdXRvXCIsaGFzSW5uZXJQb2ludHM6ITEsbGFiZWw6e2FuY2hvclg6XCJhdXRvXCIsYW5jaG9yWTpcImF1dG9cIn0sZmlyc3RBcnJvdzohMSxsYXN0QXJyb3c6ITEsZmlsbENvbG9yOlwibm9uZVwiLGhpZ2hsaWdodEZpbGxDb2xvcjpcIm5vbmVcIixzdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZSxoaWdobGlnaHRTdHJva2VDb2xvcjpcIiNjM2Q5ZmZcIix1c2VEaXJlY3Rpb246ITEsY2VudGVyOnt9LHJhZGl1c1BvaW50Ont9LGFuZ2xlUG9pbnQ6e319LGFycm93OntmaXJzdEFycm93OiExLGxhc3RBcnJvdzp7dHlwZToxLGhpZ2hsaWdodFNpemU6NixzaXplOjZ9fSxheGlzOntuYW1lOlwiXCIsbmVlZHNSZWd1bGFyVXBkYXRlOiExLHN0cm9rZVdpZHRoOjEsbGFzdEFycm93Ont0eXBlOjEsaGlnaGxpZ2h0U2l6ZTo4LHNpemU6OH0sc3Ryb2tlQ29sb3I6XCIjNjY2NjY2XCIsaGlnaGxpZ2h0U3Ryb2tlV2lkdGg6MSxoaWdobGlnaHRTdHJva2VDb2xvcjpcIiM4ODg4ODhcIix3aXRoVGlja3M6ITAsc3RyYWlnaHRGaXJzdDohMCxzdHJhaWdodExhc3Q6ITAsbWFyZ2luOi00LHdpdGhMYWJlbDohMSxzY2FsYWJsZTohMSx0aWNrczp7bGFiZWw6e29mZnNldDpbNCwtOV0scGFyc2U6ITEsbmVlZHNSZWd1bGFyVXBkYXRlOiExLGRpc3BsYXk6XCJpbnRlcm5hbFwiLHZpc2libGU6XCJpbmhlcml0XCIsbGF5ZXI6OX0sdmlzaWJsZTpcImluaGVyaXRcIixuZWVkc1JlZ3VsYXJVcGRhdGU6ITEsc3Ryb2tlV2lkdGg6MSxzdHJva2VDb2xvcjpcIiM2NjY2NjZcIixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiM4ODg4ODhcIixkcmF3TGFiZWxzOiEwLGRyYXdaZXJvOiExLGluc2VydFRpY2tzOiEwLG1pblRpY2tzRGlzdGFuY2U6NSxtaW5vckhlaWdodDoxMCxtYWpvckhlaWdodDotMSx0aWNrRW5kaW5nczpbMCwxXSxtaW5vclRpY2tzOjQsdGlja3NEaXN0YW5jZToxLHN0cm9rZU9wYWNpdHk6LjI1fSxwb2ludDE6e25lZWRzUmVndWxhclVwZGF0ZTohMSx2aXNpYmxlOiExfSxwb2ludDI6e25lZWRzUmVndWxhclVwZGF0ZTohMSx2aXNpYmxlOiExfSx0YWJpbmRleDotMSxsYWJlbDp7cG9zaXRpb246XCJsZnRcIixvZmZzZXQ6WzEwLDEwXX19LGJpc2VjdG9yOntzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixwb2ludDp7dmlzaWJsZTohMSxmaXhlZDohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifX0sYmlzZWN0b3JsaW5lczp7bGluZTE6e3N0cm9rZUNvbG9yOlwiIzAwMDAwMFwifSxsaW5lMjp7c3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCJ9fSxib3hwbG90OntkaXI6XCJ2ZXJ0aWNhbFwiLHNtYWxsV2lkdGg6LjUsc3Ryb2tlV2lkdGg6MixzdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZSxmaWxsQ29sb3I6ci5wYWxldHRlLmJsdWUsZmlsbE9wYWNpdHk6LjIsaGlnaGxpZ2h0U3Ryb2tlV2lkdGg6MixoaWdobGlnaHRTdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZSxoaWdobGlnaHRGaWxsQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6LjF9LGJ1dHRvbjp7ZGlzYWJsZWQ6ITEsZGlzcGxheTpcImh0bWxcIn0sY2FyZGluYWxzcGxpbmU6e2NyZWF0ZVBvaW50czohMCxpc0FycmF5T2ZDb29yZGluYXRlczohMSxwb2ludHM6e3N0cm9rZU9wYWNpdHk6LjA1LGZpbGxPcGFjaXR5Oi4wNSxoaWdobGlnaHRTdHJva2VPcGFjaXR5OjEsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6MSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwiLGZpeGVkOiExfX0sY2hhcnQ6e2NoYXJ0U3R5bGU6XCJsaW5lXCIsY29sb3JzOltcIiNCMDJCMkNcIixcIiMzRjRDNkJcIixcIiNDNzk4MTBcIixcIiNEMTU2MDBcIixcIiNGRkZGODhcIixcIiNjM2Q5ZmZcIixcIiM0MDk2RUVcIixcIiMwMDhDMDBcIl0saGlnaGxpZ2h0Y29sb3JzOm51bGwsZmlsbGNvbG9yOm51bGwsaGlnaGxpZ2h0b25zZWN0b3I6ITEsaGlnaGxpZ2h0YnlzaXplOiExLGZpbGxPcGFjaXR5Oi42LHdpdGhMaW5lczohMSxsYWJlbDp7fX0sY2hlY2tib3g6e2Rpc2FibGVkOiExLGNoZWNrZWQ6ITEsZGlzcGxheTpcImh0bWxcIn0sY2lyY2xlOntoYXNJbm5lclBvaW50czohMSxmaWxsQ29sb3I6XCJub25lXCIsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwiLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5ibHVlLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLGNlbnRlcjp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsZml4ZWQ6ITEsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLnJlZCxoaWdobGlnaHRGaWxsQ29sb3I6XCIjYzNkOWZmXCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsbmFtZTpcIlwifSxwb2ludDI6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExLGZpeGVkOiExLG5hbWU6XCJcIn0sbGFiZWw6e3Bvc2l0aW9uOlwidXJ0XCJ9fSxjaXJjdW1jaXJjbGU6e2ZpbGxDb2xvcjpcIm5vbmVcIixoaWdobGlnaHRGaWxsQ29sb3I6XCJub25lXCIsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsY2VudGVyOnt2aXNpYmxlOiExLGZpeGVkOiExLHdpdGhMYWJlbDohMSxmaWxsQ29sb3I6ci5wYWxldHRlLnJlZCxzdHJva2VDb2xvcjpyLnBhbGV0dGUucmVkLGhpZ2hsaWdodEZpbGxDb2xvcjpcIiNjM2Q5ZmZcIixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiNjM2Q5ZmZcIixuYW1lOlwiXCJ9fSxjaXJjdW1jaXJjbGVhcmM6e2ZpbGxDb2xvcjpcIm5vbmVcIixoaWdobGlnaHRGaWxsQ29sb3I6XCJub25lXCIsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsY2VudGVyOnt2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxmaXhlZDohMSxuYW1lOlwiXCJ9fSxjaXJjdW1jaXJjbGVzZWN0b3I6e3VzZURpcmVjdGlvbjohMCxmaWxsQ29sb3I6ci5wYWxldHRlLnllbGxvdyxoaWdobGlnaHRGaWxsQ29sb3I6ci5wYWxldHRlLnllbGxvdyxmaWxsT3BhY2l0eTouMyxoaWdobGlnaHRGaWxsT3BhY2l0eTouMyxzdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZSxoaWdobGlnaHRTdHJva2VDb2xvcjpcIiNjM2Q5ZmZcIixwb2ludDp7dmlzaWJsZTohMSxmaXhlZDohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifX0sY29uaWM6e2ZpbGxDb2xvcjpcIm5vbmVcIixoaWdobGlnaHRGaWxsQ29sb3I6XCJub25lXCIsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsZm9jaTp7Zml4ZWQ6ITEsdmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSxjZW50ZXI6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExLG5hbWU6XCJcIn0scG9pbnQ6e3dpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LGxpbmU6e3Zpc2libGU6ITF9fSxjdXJ2ZTp7c3Ryb2tlV2lkdGg6MSxzdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZSxmaWxsQ29sb3I6XCJub25lXCIsZml4ZWQ6ITAsdXNlUURUOiExLGhhbmREcmF3aW5nOiExLGN1cnZlVHlwZTpudWxsLFJEUHNtb290aGluZzohMSxudW1iZXJQb2ludHNIaWdoOjE2MDAsbnVtYmVyUG9pbnRzTG93OjQwMCxkb0FkdmFuY2VkUGxvdDohMCxyZWN1cnNpb25EZXB0aEhpZ2g6MTcscmVjdXJzaW9uRGVwdGhMb3c6MTUsZG9BZHZhbmNlZFBsb3RPbGQ6ITEscGxvdFZlcnNpb246MixsYWJlbDp7cG9zaXRpb246XCJsZnRcIn0sZmlyc3RBcnJvdzohMSxsYXN0QXJyb3c6ITF9LGZvcmVpZ25vYmplY3Q6e2F0dHJhY3RvcnM6W10sZml4ZWQ6ITAsdmlzaWJsZTohMH0sZ2xpZGVyOntsYWJlbDp7fX0sZ3JpZDp7bmVlZHNSZWd1bGFyVXBkYXRlOiExLGhhc0dyaWQ6ITEsZ3JpZFg6MSxncmlkWToxLHN0cm9rZUNvbG9yOlwiI2MwYzBjMFwiLHN0cm9rZU9wYWNpdHk6LjUsc3Ryb2tlV2lkdGg6MSxkYXNoOjAsc25hcFRvR3JpZDohMSxzbmFwU2l6ZVg6MTAsc25hcFNpemVZOjEwfSxncm91cDp7bmVlZHNSZWd1bGFyVXBkYXRlOiEwfSxodG1sc2xpZGVyOnt3aWR0aFJhbmdlOjEwMCx3aWR0aE91dDozNCxzdGVwOi4wMSxmcm96ZW46ITAsaXNMYWJlbDohMSxzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixkaXNwbGF5OlwiaHRtbFwiLGFuY2hvclg6XCJsZWZ0XCIsYW5jaG9yWTpcIm1pZGRsZVwiLHdpdGhMYWJlbDohMX0saW1hZ2U6e2ltYWdlU3RyaW5nOm51bGwsZmlsbE9wYWNpdHk6MSxoaWdobGlnaHRGaWxsT3BhY2l0eTouNixjc3NDbGFzczpcIkpYR2ltYWdlXCIsaGlnaGxpZ2h0Q3NzQ2xhc3M6XCJKWEdpbWFnZUhpZ2hsaWdodFwiLHJvdGF0ZTowLHNuYXBTaXplWDoxLHNuYXBTaXplWToxLGF0dHJhY3RvcnM6W119LGluY2lyY2xlOntmaWxsQ29sb3I6XCJub25lXCIsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwiLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5ibHVlLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLGNlbnRlcjp7dmlzaWJsZTohMSxmaXhlZDohMSx3aXRoTGFiZWw6ITEsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLnJlZCxoaWdobGlnaHRGaWxsQ29sb3I6XCIjYzNkOWZmXCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsbmFtZTpcIlwifX0saW5lcXVhbGl0eTp7ZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsZmlsbE9wYWNpdHk6LjIsc3Ryb2tlQ29sb3I6XCJub25lXCIsaW52ZXJzZTohMX0saW5mb2JveDp7Zm9udFNpemU6MTIsaXNMYWJlbDohMSxzdHJva2VDb2xvcjpcIiNiYmJiYmJcIixkaXNwbGF5OlwiaHRtbFwiLGFuY2hvclg6XCJsZWZ0XCIsYW5jaG9yWTpcIm1pZGRsZVwiLGNzc0NsYXNzOlwiSlhHaW5mb2JveFwiLHJvdGF0ZTowLHZpc2libGU6ITAscGFyc2U6ITEsdHJhbnNpdGlvbkR1cmF0aW9uOjAsbmVlZHNSZWd1bGFyVXBkYXRlOiExfSxpbnRlZ3JhbDp7YXhpczpcInhcIix3aXRoTGFiZWw6ITAsZml4ZWQ6ITAsc3Ryb2tlV2lkdGg6MCxzdHJva2VPcGFjaXR5OjAsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsZmlsbE9wYWNpdHk6LjMsaGlnaGxpZ2h0RmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6LjIsY3VydmVMZWZ0Ont2aXNpYmxlOiEwLHdpdGhMYWJlbDohMSxjb2xvcjpyLnBhbGV0dGUucmVkLGZpbGxPcGFjaXR5Oi44LGxheWVyOjl9LGJhc2VMZWZ0Ont2aXNpYmxlOiExLGZpeGVkOiExLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LGN1cnZlUmlnaHQ6e3Zpc2libGU6ITAsd2l0aExhYmVsOiExLGNvbG9yOnIucGFsZXR0ZS5yZWQsZmlsbE9wYWNpdHk6LjgsbGF5ZXI6OX0sYmFzZVJpZ2h0Ont2aXNpYmxlOiExLGZpeGVkOiExLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LGxhYmVsOntmb250U2l6ZToyMH19LGlucHV0OntkaXNhYmxlZDohMSxtYXhsZW5ndGg6NTI0Mjg4LGRpc3BsYXk6XCJodG1sXCJ9LGludGVyc2VjdGlvbjp7YWx3YXlzSW50ZXJzZWN0OiEwfSxsYWJlbDp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixzdHJva2VPcGFjaXR5OjEsaGlnaGxpZ2h0U3Ryb2tlT3BhY2l0eTouNjY2NjY2LGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGZpeGVkOiEwLHBvc2l0aW9uOlwidXJ0XCIsb2Zmc2V0OlsxMCwxMF0sYXV0b1Bvc2l0aW9uOiExfSxsZWdlbmQ6e3N0eWxlOlwidmVydGljYWxcIixsYWJlbHM6W1wiMVwiLFwiMlwiLFwiM1wiLFwiNFwiLFwiNVwiLFwiNlwiLFwiN1wiLFwiOFwiXSxjb2xvcnM6W1wiI0IwMkIyQ1wiLFwiIzNGNEM2QlwiLFwiI0M3OTgxMFwiLFwiI0QxNTYwMFwiLFwiI0ZGRkY4OFwiLFwiI2MzZDlmZlwiLFwiIzQwOTZFRVwiLFwiIzAwOEMwMFwiXSxyb3dIZWlnaHQ6MjAsc3Ryb2tlV2lkdGg6NX0sbGluZTp7Zmlyc3RBcnJvdzohMSxsYXN0QXJyb3c6ITEsbWFyZ2luOjAsc3RyYWlnaHRGaXJzdDohMCxzdHJhaWdodExhc3Q6ITAsZmlsbENvbG9yOlwibm9uZVwiLGhpZ2hsaWdodEZpbGxDb2xvcjpcIm5vbmVcIixzdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZSxoaWdobGlnaHRTdHJva2VDb2xvcjpcIiNjM2Q5ZmZcIix3aXRoVGlja3M6ITEscG9pbnQxOnt2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxmaXhlZDohMSxuYW1lOlwiXCJ9LHBvaW50Mjp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsZml4ZWQ6ITEsbmFtZTpcIlwifSx0aWNrczp7ZHJhd0xhYmVsczohMCxsYWJlbDp7b2Zmc2V0Ols0LC05XX0sZHJhd1plcm86ITEsaW5zZXJ0VGlja3M6ITEsbWluVGlja3NEaXN0YW5jZTo1MCxtaW5vckhlaWdodDo0LG1ham9ySGVpZ2h0Oi0xLG1pbm9yVGlja3M6NCxkZWZhdWx0RGlzdGFuY2U6MSxzdHJva2VPcGFjaXR5Oi4zLHZpc2libGU6XCJpbmhlcml0XCJ9LGxhYmVsOntwb3NpdGlvbjpcImxsZnRcIn0sc25hcFRvR3JpZDohMSxzbmFwU2l6ZVg6MSxzbmFwU2l6ZVk6MSx0b3VjaEZpcnN0UG9pbnQ6ITEsdG91Y2hMYXN0UG9pbnQ6ITEsbGluZUNhcDpcImJ1dHRcIn0sbG9jdXM6e3RyYW5zbGF0ZVRvT3JpZ2luOiExLHRyYW5zbGF0ZVRvMTA6ITEsc3RyZXRjaDohMSx0b09yaWdpbjpudWxsLHRvMTA6bnVsbH0sbWV0YXBvc3RzcGxpbmU6e2NyZWF0ZVBvaW50czohMCxpc0FycmF5T2ZDb29yZGluYXRlczohMSxwb2ludHM6e3N0cm9rZU9wYWNpdHk6LjA1LGZpbGxPcGFjaXR5Oi4wNSxoaWdobGlnaHRTdHJva2VPcGFjaXR5OjEsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6MSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwiLGZpeGVkOiExfX0sbWlycm9yZWxlbWVudDp7Zml4ZWQ6ITAscG9pbnQ6e30sY2VudGVyOnt9LHR5cGU6XCJFdWNsaWRlYW5cIn0sbm9ybWFsOntzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixwb2ludDp7dmlzaWJsZTohMSxmaXhlZDohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifX0sb3J0aG9nb25hbHByb2plY3Rpb246e30scGFyYWxsZWw6e3N0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLHBvaW50Ont2aXNpYmxlOiExLGZpeGVkOiExLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LGxhYmVsOntwb3NpdGlvbjpcImxsZnRcIn19LHBlcnBlbmRpY3VsYXI6e3N0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLHN0cmFpZ2h0Rmlyc3Q6ITAsc3RyYWlnaHRMYXN0OiEwfSxwZXJwZW5kaWN1bGFyc2VnbWVudDp7c3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsc3RyYWlnaHRGaXJzdDohMSxzdHJhaWdodExhc3Q6ITEscG9pbnQ6e3Zpc2libGU6ITEsZml4ZWQ6ITAsd2l0aExhYmVsOiExLG5hbWU6XCJcIn19LHBvaW50Ont3aXRoTGFiZWw6ITAsbGFiZWw6e30sc3R5bGU6NSxmYWNlOlwib1wiLHNpemU6MyxzaXplVW5pdDpcInNjcmVlblwiLHN0cm9rZVdpZHRoOjIsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLnJlZCxoaWdobGlnaHRGaWxsQ29sb3I6XCIjYzNkOWZmXCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsem9vbTohMSxzaG93SW5mb2JveDpcImluaGVyaXRcIixpbmZvYm94RGlnaXRzOlwiYXV0b1wiLGRyYWZ0OiExLGF0dHJhY3RvcnM6W10sYXR0cmFjdG9yVW5pdDpcInVzZXJcIixhdHRyYWN0b3JEaXN0YW5jZTowLHNuYXRjaERpc3RhbmNlOjAsc25hcFRvR3JpZDohMSxhdHRyYWN0VG9HcmlkOiExLHNuYXBTaXplWDoxLHNuYXBTaXplWToxLHNuYXBUb1BvaW50czohMSxpZ25vcmVkU25hcFRvUG9pbnRzOltdfSxwb2x5Z29uOntoYXNJbm5lclBvaW50czohMSxmaWxsQ29sb3I6ci5wYWxldHRlLnllbGxvdyxoaWdobGlnaHRGaWxsQ29sb3I6ci5wYWxldHRlLnllbGxvdyxmaWxsT3BhY2l0eTouMyxoaWdobGlnaHRGaWxsT3BhY2l0eTouMix3aXRoTGluZXM6ITAsYm9yZGVyczp7d2l0aExhYmVsOiExLHN0cm9rZVdpZHRoOjEsaGlnaGxpZ2h0U3Ryb2tlV2lkdGg6MSxsYXllcjo1LGxhYmVsOntwb3NpdGlvbjpcInRvcFwifSx2aXNpYmxlOlwiaW5oZXJpdFwifSx2ZXJ0aWNlczp7bGF5ZXI6OSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwiLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5yZWQsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsZml4ZWQ6ITEsdmlzaWJsZTpcImluaGVyaXRcIn0sbGFiZWw6e29mZnNldDpbMCwwXX19LHBvbHlnb25hbGNoYWluOntmaWxsQ29sb3I6XCJub25lXCIsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwifSxwcmVzY3JpYmVkYW5nbGU6e2FuZ2xlUG9pbnQ6e3NpemU6Mix2aXNpYmxlOiExLHdpdGhMYWJlbDohMX19LHJlZmxlY3Rpb246e2ZpeGVkOiEwLGNlbnRlcjp7fSx0eXBlOlwiRXVjbGlkZWFuXCJ9LHJlZ3VsYXJwb2x5Z29uOntoYXNJbm5lclBvaW50czohMSxmaWxsQ29sb3I6ci5wYWxldHRlLnllbGxvdyxoaWdobGlnaHRGaWxsQ29sb3I6ci5wYWxldHRlLnllbGxvdyxmaWxsT3BhY2l0eTouMyxoaWdobGlnaHRGaWxsT3BhY2l0eTouMix3aXRoTGluZXM6ITAsYm9yZGVyczp7d2l0aExhYmVsOiExLHN0cm9rZVdpZHRoOjEsaGlnaGxpZ2h0U3Ryb2tlV2lkdGg6MSxsYXllcjo1LGxhYmVsOntwb3NpdGlvbjpcInRvcFwifX0sdmVydGljZXM6e2xheWVyOjksd2l0aExhYmVsOiEwLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5yZWQsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsZml4ZWQ6ITF9LGxhYmVsOntvZmZzZXQ6WzAsMF19fSxyaWVtYW5uc3VtOnt3aXRoTGFiZWw6ITEsZmlsbE9wYWNpdHk6LjMsZmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3d9LHNlY3Rvcjp7ZmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3csaGlnaGxpZ2h0RmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3csZmlsbE9wYWNpdHk6LjMsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6LjMsaGlnaGxpZ2h0T25TZWN0b3I6ITEsaGlnaGxpZ2h0U3Ryb2tlV2lkdGg6MCxzZWxlY3Rpb246XCJhdXRvXCIsYXJjOnt2aXNpYmxlOiExLGZpbGxDb2xvcjpcIm5vbmVcIn0scmFkaXVzUG9pbnQ6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExfSxjZW50ZXI6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExfSxhbmdsZVBvaW50Ont2aXNpYmxlOiExLHdpdGhMYWJlbDohMX0sbGFiZWw6e29mZnNldDpbMCwwXSxhbmNob3JYOlwiYXV0b1wiLGFuY2hvclk6XCJhdXRvXCJ9fSxzZWdtZW50OntsYWJlbDp7cG9zaXRpb246XCJ0b3BcIn19LHNlbWljaXJjbGU6e2NlbnRlcjp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsZml4ZWQ6ITEsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLnJlZCxoaWdobGlnaHRGaWxsQ29sb3I6XCIjZWVlZWVlXCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6ci5wYWxldHRlLnJlZCxuYW1lOlwiXCJ9fSxzbGlkZXI6e3NuYXBXaWR0aDotMSxwcmVjaXNpb246MixkaWdpdHM6MixmaXJzdEFycm93OiExLGxhc3RBcnJvdzohMSx3aXRoVGlja3M6ITAsd2l0aExhYmVsOiEwLHN1ZmZpeExhYmVsOm51bGwsdW5pdExhYmVsOm51bGwscG9zdExhYmVsOm51bGwsbGF5ZXI6OSxzaG93SW5mb2JveDohMSxuYW1lOlwiXCIsdmlzaWJsZTohMCxzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiM4ODg4ODhcIixmaWxsQ29sb3I6XCIjZmZmZmZmXCIsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwiLHNpemU6Nixwb2ludDE6e25lZWRzUmVndWxhclVwZGF0ZTohMSxzaG93SW5mb2JveDohMSx3aXRoTGFiZWw6ITEsdmlzaWJsZTohMSxmaXhlZDohMCxuYW1lOlwiXCJ9LHBvaW50Mjp7bmVlZHNSZWd1bGFyVXBkYXRlOiExLHNob3dJbmZvYm94OiExLHdpdGhMYWJlbDohMSx2aXNpYmxlOiExLGZpeGVkOiEwLG5hbWU6XCJcIn0sYmFzZWxpbmU6e25lZWRzUmVndWxhclVwZGF0ZTohMSx2aXNpYmxlOlwiaW5oZXJpdFwiLGZpeGVkOiEwLHNjYWxhYmxlOiExLHRhYmluZGV4Om51bGwsbmFtZTpcIlwiLHN0cm9rZVdpZHRoOjEsc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjODg4ODg4XCJ9LHRpY2tzOntuZWVkc1JlZ3VsYXJVcGRhdGU6ITEsZml4ZWQ6ITAsZHJhd0xhYmVsczohMSxkaWdpdHM6MixpbmNsdWRlQm91bmRhcmllczoxLGRyYXdaZXJvOiEwLGxhYmVsOntvZmZzZXQ6Wy00LC0xNF0sZGlzcGxheTpcImludGVybmFsXCJ9LG1pblRpY2tzRGlzdGFuY2U6MzAsaW5zZXJ0VGlja3M6ITAsbWlub3JIZWlnaHQ6NCxtYWpvckhlaWdodDo1LG1pbm9yVGlja3M6MCxkZWZhdWx0RGlzdGFuY2U6MSxzdHJva2VPcGFjaXR5OjEsc3Ryb2tlV2lkdGg6MSx0aWNrRW5kaW5nczpbMCwxXSxzdHJva2VDb2xvcjpcIiMwMDAwMDBcIix2aXNpYmxlOlwiaW5oZXJpdFwifSxoaWdobGluZTp7c3Ryb2tlV2lkdGg6Myx2aXNpYmxlOlwiaW5oZXJpdFwiLGZpeGVkOiEwLHRhYmluZGV4Om51bGwsbmFtZTpcIlwiLHN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiIzg4ODg4OFwifSxsYWJlbDp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiMwMDAwMDBcIn0sbW92ZU9uVXA6ITB9LGNvbWI6e2ZyZXF1ZW5jeTouMix3aWR0aDouNCxhbmdsZTpNYXRoLlBJLzMscmV2ZXJzZTohMSxwb2ludDE6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExLGZpeGVkOiExLG5hbWU6XCJcIn0scG9pbnQyOnt2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxmaXhlZDohMSxuYW1lOlwiXCJ9LGN1cnZlOntzdHJva2VXaWR0aDoxLHN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGZpbGxDb2xvcjpcIm5vbmVcIn19LHNsb3BldHJpYW5nbGU6e2ZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLGZpbGxPcGFjaXR5Oi40LGhpZ2hsaWdodEZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLGhpZ2hsaWdodEZpbGxPcGFjaXR5Oi4zLGJvcmRlcnM6e2xhc3RBcnJvdzp7dHlwZToxLHNpemU6Nn19LGdsaWRlcjp7Zml4ZWQ6ITAsdmlzaWJsZTohMSx3aXRoTGFiZWw6ITF9LGJhc2VsaW5lOnt2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LGJhc2Vwb2ludDp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSx0YW5nZW50Ont2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LHRvcHBvaW50Ont2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LGxhYmVsOnt2aXNpYmxlOiEwfX0sc3RlcGZ1bmN0aW9uOnt9LHRhcGVtZWFzdXJlOntzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixzdHJva2VXaWR0aDoyLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLHdpdGhUaWNrczohMCx3aXRoTGFiZWw6ITAscHJlY2lzaW9uOjIsZGlnaXRzOjIscG9pbnQxOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGZpbGxDb2xvcjpcIiNmZmZmZmZcIixmaWxsT3BhY2l0eTowLGhpZ2hsaWdodEZpbGxPcGFjaXR5Oi4xLHNpemU6NixzbmFwVG9Qb2ludHM6ITAsYXR0cmFjdG9yVW5pdDpcInNjcmVlblwiLGF0dHJhY3RvckRpc3RhbmNlOjIwLHNob3dJbmZvYm94OiExLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LHBvaW50Mjp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixmaWxsQ29sb3I6XCIjZmZmZmZmXCIsZmlsbE9wYWNpdHk6MCxoaWdobGlnaHRGaWxsT3BhY2l0eTouMSxzaXplOjYsc25hcFRvUG9pbnRzOiEwLGF0dHJhY3RvclVuaXQ6XCJzY3JlZW5cIixhdHRyYWN0b3JEaXN0YW5jZToyMCxzaG93SW5mb2JveDohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSx0aWNrczp7ZHJhd0xhYmVsczohMSxkcmF3WmVybzohMCxpbnNlcnRUaWNrczohMCxtaW5vckhlaWdodDo4LG1ham9ySGVpZ2h0OjE2LG1pbm9yVGlja3M6NCx0aWNrRW5kaW5nczpbMCwxXSxkZWZhdWx0RGlzdGFuY2U6LjEsc3Ryb2tlT3BhY2l0eToxLHN0cm9rZVdpZHRoOjEsc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsdmlzaWJsZTpcImluaGVyaXRcIn0sbGFiZWw6e3Bvc2l0aW9uOlwidG9wXCJ9fSx0ZXh0Ontmb250U2l6ZToxMixmb250VW5pdDpcInB4XCIsZGlnaXRzOjIscGFyc2U6ITAsdXNlQ2FqYTohMSxpc0xhYmVsOiExLHN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGhpZ2hsaWdodFN0cm9rZU9wYWNpdHk6LjY2NjY2Nixjc3NEZWZhdWx0U3R5bGU6XCJmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgR2VuZXZhLCBzYW5zLXNlcmlmO1wiLGhpZ2hsaWdodENzc0RlZmF1bHRTdHlsZTpcImZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBHZW5ldmEsIHNhbnMtc2VyaWY7XCIsY3NzU3R5bGU6XCJcIixoaWdobGlnaHRDc3NTdHlsZTpcIlwiLHVzZUFTQ0lJTWF0aE1MOiExLHVzZU1hdGhKYXg6ITEsdXNlS2F0ZXg6ITEsZGlzcGxheTpcImh0bWxcIixhbmNob3I6bnVsbCxhbmNob3JYOlwibGVmdFwiLGFuY2hvclk6XCJtaWRkbGVcIixjc3NDbGFzczpcIkpYR3RleHRcIixoaWdobGlnaHRDc3NDbGFzczpcIkpYR3RleHRcIixkcmFnQXJlYTpcImFsbFwiLHdpdGhMYWJlbDohMSxyb3RhdGU6MCx2aXNpYmxlOiEwLHNuYXBTaXplWDoxLHNuYXBTaXplWToxLGF0dHJhY3RvcnM6W119LHRyYWNlY3VydmU6e3N0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGZpbGxDb2xvcjpcIm5vbmVcIixudW1iZXJQb2ludHM6MTAwfSx0dXJ0bGU6e3N0cm9rZVdpZHRoOjEsZmlsbENvbG9yOlwibm9uZVwiLHN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGFycm93OntzdHJva2VXaWR0aDoyLHdpdGhMYWJlbDohMSxzdHJva2VDb2xvcjpyLnBhbGV0dGUucmVkLGxhc3RBcnJvdzohMH19LHNob3J0Y3V0czp7Y29sb3I6W1wic3Ryb2tlQ29sb3JcIixcImZpbGxDb2xvclwiXSxvcGFjaXR5OltcInN0cm9rZU9wYWNpdHlcIixcImZpbGxPcGFjaXR5XCJdLGhpZ2hsaWdodENvbG9yOltcImhpZ2hsaWdodFN0cm9rZUNvbG9yXCIsXCJoaWdobGlnaHRGaWxsQ29sb3JcIl0saGlnaGxpZ2h0T3BhY2l0eTpbXCJoaWdobGlnaHRTdHJva2VPcGFjaXR5XCIsXCJoaWdobGlnaHRGaWxsT3BhY2l0eVwiXSxzdHJva2VXaWR0aDpbXCJzdHJva2VXaWR0aFwiLFwiaGlnaGxpZ2h0U3Ryb2tlV2lkdGhcIl19fSx0LlZhbGlkYXRvcj1mdW5jdGlvbigpe3ZhciBlLHI9ZnVuY3Rpb24odCl7cmV0dXJuIHMuaXNTdHJpbmcodCl9LG89ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYWJzKHQtTWF0aC5yb3VuZCh0KSk8aS5lcHN9LG49ZnVuY3Rpb24odCl7cmV0dXJuIG8odCkmJnQ+MH0sYT1mdW5jdGlvbih0KXtyZXR1cm4gdD4wfSxoPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wfSxsPXt9LGM9e2F0dHJhY3RvckRpc3RhbmNlOmgsY29sb3I6cixkZWZhdWx0RGlzdGFuY2U6cy5pc051bWJlcixkaXNwbGF5OmZ1bmN0aW9uKHQpe3JldHVyblwiaHRtbFwiPT09dHx8XCJpbnRlcm5hbFwiPT09dH0sZG9BZHZhbmNlZFBsb3Q6ITEsZHJhZnQ6ITEsZHJhd0xhYmVsczohMSxkcmF3WmVybzohMSxmYWNlOmZ1bmN0aW9uKGUpe3JldHVybiBzLmV4aXN0cyh0Lm5vcm1hbGl6ZVBvaW50RmFjZShlKSl9LGZhY3RvcjpzLmlzTnVtYmVyLGZpbGxDb2xvcjpyLGZpbGxPcGFjaXR5OnMuaXNOdW1iZXIsZmlyc3RBcnJvdzohMSxmb250U2l6ZTpvLGRhc2g6byxncmlkWDpzLmlzTnVtYmVyLGdyaWRZOnMuaXNOdW1iZXIsaGFzR3JpZDohMSxoaWdobGlnaHRGaWxsQ29sb3I6cixoaWdobGlnaHRGaWxsT3BhY2l0eTpzLmlzTnVtYmVyLGhpZ2hsaWdodFN0cm9rZUNvbG9yOnIsaGlnaGxpZ2h0U3Ryb2tlT3BhY2l0eTpzLmlzTnVtYmVyLGluc2VydFRpY2tzOiExLGxhc3RBcnJvdzohMSxsYXllcjpmdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmdD49MH0sbWFqb3JIZWlnaHQ6byxtaW5vckhlaWdodDpvLG1pbm9yVGlja3M6aCxtaW5UaWNrc0Rpc3RhbmNlOm4sbnVtYmVyUG9pbnRzSGlnaDpuLG51bWJlclBvaW50c0xvdzpuLG9wYWNpdHk6cy5pc051bWJlcixyYWRpdXM6cy5pc051bWJlcixSRFBzbW9vdGhpbmc6ITEscmVuZGVyZXI6ZnVuY3Rpb24odCl7cmV0dXJuXCJ2bWxcIj09PXR8fFwic3ZnXCI9PT10fHxcImNhbnZhc1wiPT09dHx8XCJub1wiPT09dH0scmlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuL15bMC05XStweCQvLnRlc3QodCl9LHNob3dDb3B5cmlnaHQ6ITEsc2hvd0luZm9ib3g6ITEsc2hvd05hdmlnYXRpb246ITEsc2l6ZTpoLHNuYXBTaXplWDphLHNuYXBTaXplWTphLHNuYXBXaWR0aDpzLmlzTnVtYmVyLHNuYXBUb0dyaWQ6ITEsc25hdGNoRGlzdGFuY2U6aCxzdHJhaWdodEZpcnN0OiExLHN0cmFpZ2h0TGFzdDohMSxzdHJldGNoOiExLHN0cm9rZUNvbG9yOnIsc3Ryb2tlT3BhY2l0eTpzLmlzTnVtYmVyLHN0cm9rZVdpZHRoOmgsdGFrZUZpcnN0OiExLHRha2VTaXplRnJvbUZpbGU6ITEsdG8xMDohMSx0b09yaWdpbjohMSx0cmFuc2xhdGVUbzEwOiExLHRyYW5zbGF0ZVRvT3JpZ2luOiExLHVzZUFTQ0lJTWF0aE1MOiExLHVzZURpcmVjdGlvbjohMSx1c2VNYXRoSmF4OiExLHdpdGhMYWJlbDohMSx3aXRoVGlja3M6ITEsem9vbTohMX07Zm9yKGUgaW4gYyljLmhhc093blByb3BlcnR5KGUpJiYobFtlLnRvTG93ZXJDYXNlKCldPWNbZV0pO3JldHVybiBsfSgpLHQubm9ybWFsaXplUG9pbnRGYWNlPWZ1bmN0aW9uKHQpe3JldHVybntjcm9zczpcInhcIix4OlwieFwiLGNpcmNsZTpcIm9cIixvOlwib1wiLHNxdWFyZTpcIltdXCIsXCJbXVwiOlwiW11cIixwbHVzOlwiK1wiLFwiK1wiOlwiK1wiLGRpYW1vbmQ6XCI8PlwiLFwiPD5cIjpcIjw+XCIsdHJpYW5nbGV1cDpcIl5cIixhOlwiXlwiLFwiXlwiOlwiXlwiLHRyaWFuZ2xlZG93bjpcInZcIix2OlwidlwiLHRyaWFuZ2xlbGVmdDpcIjxcIixcIjxcIjpcIjxcIix0cmlhbmdsZXJpZ2h0OlwiPlwiLFwiPlwiOlwiPlwifVt0XX0sdC51c2VTdGFuZGFyZE9wdGlvbnM9ZnVuY3Rpb24oaSl7dmFyIHIscyxvLG4sYT10Lk9wdGlvbnMsaD1pLmhhc0dyaWQ7Zm9yKHIgaW4gaS5vcHRpb25zLmdyaWQuaGFzR3JpZD1hLmdyaWQuaGFzR3JpZCxpLm9wdGlvbnMuZ3JpZC5ncmlkWD1hLmdyaWQuZ3JpZFgsaS5vcHRpb25zLmdyaWQuZ3JpZFk9YS5ncmlkLmdyaWRZLGkub3B0aW9ucy5ncmlkLmdyaWRDb2xvcj1hLmdyaWQuZ3JpZENvbG9yLGkub3B0aW9ucy5ncmlkLmdyaWRPcGFjaXR5PWEuZ3JpZC5ncmlkT3BhY2l0eSxpLm9wdGlvbnMuZ3JpZC5ncmlkRGFzaD1hLmdyaWQuZ3JpZERhc2gsaS5vcHRpb25zLmdyaWQuc25hcFRvR3JpZD1hLmdyaWQuc25hcFRvR3JpZCxpLm9wdGlvbnMuZ3JpZC5zbmFwU2l6ZVg9YS5ncmlkLlNuYXBTaXplWCxpLm9wdGlvbnMuZ3JpZC5zbmFwU2l6ZVk9YS5ncmlkLlNuYXBTaXplWSxpLnRha2VTaXplRnJvbUZpbGU9YS50YWtlU2l6ZUZyb21GaWxlLG49ZnVuY3Rpb24odCxlKXt0LnZpc1Byb3AuZmlsbGNvbG9yPWUuZmlsbENvbG9yLHQudmlzUHJvcC5oaWdobGlnaHRmaWxsY29sb3I9ZS5oaWdobGlnaHRGaWxsQ29sb3IsdC52aXNQcm9wLnN0cm9rZWNvbG9yPWUuc3Ryb2tlQ29sb3IsdC52aXNQcm9wLmhpZ2hsaWdodHN0cm9rZWNvbG9yPWUuaGlnaGxpZ2h0U3Ryb2tlQ29sb3J9LGkub2JqZWN0cylpZihpLm9iamVjdHMuaGFzT3duUHJvcGVydHkocikpaWYoKG89aS5vYmplY3RzW3JdKS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19QT0lOVCluKG8sYS5wb2ludCk7ZWxzZSBpZihvLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0xJTkUpZm9yKG4obyxhLmxpbmUpLHM9MDtzPG8udGlja3MubGVuZ3RoO3MrKylvLnRpY2tzW3NdLm1ham9yVGlja3M9YS5saW5lLnRpY2tzLm1ham9yVGlja3Msby50aWNrc1tzXS5taW5UaWNrc0Rpc3RhbmNlPWEubGluZS50aWNrcy5taW5UaWNrc0Rpc3RhbmNlLG8udGlja3Nbc10udmlzUHJvcC5taW5vcmhlaWdodD1hLmxpbmUudGlja3MubWlub3JIZWlnaHQsby50aWNrc1tzXS52aXNQcm9wLm1ham9yaGVpZ2h0PWEubGluZS50aWNrcy5tYWpvckhlaWdodDtlbHNlIG8uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFP24obyxhLmNpcmNsZSk6by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9BTkdMRT9uKG8sYS5hbmdsZSk6by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9BUkM/bihvLGEuYXJjKTpvLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1BPTFlHT04/bihvLGEucG9seWdvbik6by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9DT05JQz9uKG8sYS5jb25pYyk6by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9DVVJWRT9uKG8sYS5jdXJ2ZSk6by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9TRUNUT1ImJihvLmFyYy52aXNQcm9wLmZpbGxjb2xvcj1hLnNlY3Rvci5maWxsQ29sb3Isby5hcmMudmlzUHJvcC5oaWdobGlnaHRmaWxsY29sb3I9YS5zZWN0b3IuaGlnaGxpZ2h0RmlsbENvbG9yLG8uYXJjLnZpc1Byb3AuZmlsbG9wYWNpdHk9YS5zZWN0b3IuZmlsbE9wYWNpdHksby5hcmMudmlzUHJvcC5oaWdobGlnaHRmaWxsb3BhY2l0eT1hLnNlY3Rvci5oaWdobGlnaHRGaWxsT3BhY2l0eSk7aS5mdWxsVXBkYXRlKCksaCYmIWkuaGFzR3JpZD9pLnJlbW92ZUdyaWRzKGkpOiFoJiZpLmhhc0dyaWQmJmkuY3JlYXRlKFwiZ3JpZFwiLFtdKX0sdC51c2VCbGFja1doaXRlT3B0aW9ucz1mdW5jdGlvbihlKXt2YXIgaT10Lk9wdGlvbnM7aS5wb2ludC5maWxsQ29sb3I9ci5yZ2IyYncoaS5wb2ludC5maWxsQ29sb3IpLGkucG9pbnQuaGlnaGxpZ2h0RmlsbENvbG9yPXIucmdiMmJ3KGkucG9pbnQuaGlnaGxpZ2h0RmlsbENvbG9yKSxpLnBvaW50LnN0cm9rZUNvbG9yPXIucmdiMmJ3KGkucG9pbnQuc3Ryb2tlQ29sb3IpLGkucG9pbnQuaGlnaGxpZ2h0U3Ryb2tlQ29sb3I9ci5yZ2IyYncoaS5wb2ludC5oaWdobGlnaHRTdHJva2VDb2xvciksaS5saW5lLmZpbGxDb2xvcj1yLnJnYjJidyhpLmxpbmUuZmlsbENvbG9yKSxpLmxpbmUuaGlnaGxpZ2h0RmlsbENvbG9yPXIucmdiMmJ3KGkubGluZS5oaWdobGlnaHRGaWxsQ29sb3IpLGkubGluZS5zdHJva2VDb2xvcj1yLnJnYjJidyhpLmxpbmUuc3Ryb2tlQ29sb3IpLGkubGluZS5oaWdobGlnaHRTdHJva2VDb2xvcj1yLnJnYjJidyhpLmxpbmUuaGlnaGxpZ2h0U3Ryb2tlQ29sb3IpLGkuY2lyY2xlLmZpbGxDb2xvcj1yLnJnYjJidyhpLmNpcmNsZS5maWxsQ29sb3IpLGkuY2lyY2xlLmhpZ2hsaWdodEZpbGxDb2xvcj1yLnJnYjJidyhpLmNpcmNsZS5oaWdobGlnaHRGaWxsQ29sb3IpLGkuY2lyY2xlLnN0cm9rZUNvbG9yPXIucmdiMmJ3KGkuY2lyY2xlLnN0cm9rZUNvbG9yKSxpLmNpcmNsZS5oaWdobGlnaHRTdHJva2VDb2xvcj1yLnJnYjJidyhpLmNpcmNsZS5oaWdobGlnaHRTdHJva2VDb2xvciksaS5hcmMuZmlsbENvbG9yPXIucmdiMmJ3KGkuYXJjLmZpbGxDb2xvciksaS5hcmMuaGlnaGxpZ2h0RmlsbENvbG9yPXIucmdiMmJ3KGkuYXJjLmhpZ2hsaWdodEZpbGxDb2xvciksaS5hcmMuc3Ryb2tlQ29sb3I9ci5yZ2IyYncoaS5hcmMuc3Ryb2tlQ29sb3IpLGkuYXJjLmhpZ2hsaWdodFN0cm9rZUNvbG9yPXIucmdiMmJ3KGkuYXJjLmhpZ2hsaWdodFN0cm9rZUNvbG9yKSxpLnBvbHlnb24uZmlsbENvbG9yPXIucmdiMmJ3KGkucG9seWdvbi5maWxsQ29sb3IpLGkucG9seWdvbi5oaWdobGlnaHRGaWxsQ29sb3I9ci5yZ2IyYncoaS5wb2x5Z29uLmhpZ2hsaWdodEZpbGxDb2xvciksaS5zZWN0b3IuZmlsbENvbG9yPXIucmdiMmJ3KGkuc2VjdG9yLmZpbGxDb2xvciksaS5zZWN0b3IuaGlnaGxpZ2h0RmlsbENvbG9yPXIucmdiMmJ3KGkuc2VjdG9yLmhpZ2hsaWdodEZpbGxDb2xvciksaS5jdXJ2ZS5zdHJva2VDb2xvcj1yLnJnYjJidyhpLmN1cnZlLnN0cm9rZUNvbG9yKSxpLmdyaWQuZ3JpZENvbG9yPXIucmdiMmJ3KGkuZ3JpZC5ncmlkQ29sb3IpLHQudXNlU3RhbmRhcmRPcHRpb25zKGUpfSx0Lk9wdGlvbnMubm9ybWFsaXplUG9pbnRGYWNlPXQubm9ybWFsaXplUG9pbnRGYWNlLHQuT3B0aW9uc30pKSxkZWZpbmUoXCJyZW5kZXJlci9hYnN0cmFjdFwiLFtcImp4Z1wiLFwib3B0aW9uc1wiLFwiYmFzZS9jb29yZHNcIixcImJhc2UvY29uc3RhbnRzXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcInV0aWxzL3R5cGVcIixcInV0aWxzL2VudlwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5BYnN0cmFjdFJlbmRlcmVyPWZ1bmN0aW9uKCl7dGhpcy52T2Zmc2V0VGV4dD0wLHRoaXMuZW5oYW5jZWRSZW5kZXJpbmc9ITAsdGhpcy5jb250YWluZXI9bnVsbCx0aGlzLnR5cGU9XCJcIix0aGlzLnN1cHBvcnRzRm9yZWlnbk9iamVjdD0hMX0sdC5leHRlbmQodC5BYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSx7X3VwZGF0ZVZpc3VhbDpmdW5jdGlvbih0LGUsaSl7KGl8fHRoaXMuZW5oYW5jZWRSZW5kZXJpbmcpJiYoZT1lfHx7fSx0aGlzLnNldE9iamVjdFRyYW5zaXRpb24odCksbi5ldmFsdWF0ZSh0LnZpc1Byb3AuZHJhZnQpP3RoaXMuc2V0RHJhZnQodCk6KGUuc3Ryb2tlfHwodC5oaWdobGlnaHRlZD8odGhpcy5zZXRPYmplY3RTdHJva2VDb2xvcih0LHQudmlzUHJvcC5oaWdobGlnaHRzdHJva2Vjb2xvcix0LnZpc1Byb3AuaGlnaGxpZ2h0c3Ryb2tlb3BhY2l0eSksdGhpcy5zZXRPYmplY3RTdHJva2VXaWR0aCh0LHQudmlzUHJvcC5oaWdobGlnaHRzdHJva2V3aWR0aCkpOih0aGlzLnNldE9iamVjdFN0cm9rZUNvbG9yKHQsdC52aXNQcm9wLnN0cm9rZWNvbG9yLHQudmlzUHJvcC5zdHJva2VvcGFjaXR5KSx0aGlzLnNldE9iamVjdFN0cm9rZVdpZHRoKHQsdC52aXNQcm9wLnN0cm9rZXdpZHRoKSkpLGUuZmlsbHx8KHQuaGlnaGxpZ2h0ZWQ/dGhpcy5zZXRPYmplY3RGaWxsQ29sb3IodCx0LnZpc1Byb3AuaGlnaGxpZ2h0ZmlsbGNvbG9yLHQudmlzUHJvcC5oaWdobGlnaHRmaWxsb3BhY2l0eSk6dGhpcy5zZXRPYmplY3RGaWxsQ29sb3IodCx0LnZpc1Byb3AuZmlsbGNvbG9yLHQudmlzUHJvcC5maWxsb3BhY2l0eSkpLGUuZGFzaHx8dGhpcy5zZXREYXNoU3R5bGUodCx0LnZpc1Byb3ApLGUuc2hhZG93fHx0aGlzLnNldFNoYWRvdyh0KSxlLmdyYWRpZW50fHx0aGlzLnNldFNoYWRvdyh0KSxlLnRhYmluZGV4fHx0aGlzLnNldFRhYmluZGV4KHQpKSl9LF9nZXRIaWdobGlnaHRlZDpmdW5jdGlvbih0KXt2YXIgZT0hMTtyZXR1cm4gbi5leGlzdHModC5ib2FyZCkmJm4uZXhpc3RzKHQuYm9hcmQuaGlnaGxpZ2h0ZWRPYmplY3RzKXx8KGU9ITApLCFlJiZuLmV4aXN0cyh0LmJvYXJkLmhpZ2hsaWdodGVkT2JqZWN0c1t0LmlkXSk/XCJoaWdobGlnaHRcIjpcIlwifSxkcmF3UG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGkscj1lLm5vcm1hbGl6ZVBvaW50RmFjZShuLmV2YWx1YXRlKHQudmlzUHJvcC5mYWNlKSk7aT1cIm9cIj09PXI/XCJlbGxpcHNlXCI6XCJbXVwiPT09cj9cInJlY3RcIjpcInBhdGhcIix0LnJlbmROb2RlPXRoaXMuYXBwZW5kQ2hpbGRQcmltKHRoaXMuY3JlYXRlUHJpbShpLHQuaWQpLG4uZXZhbHVhdGUodC52aXNQcm9wLmxheWVyKSksdGhpcy5hcHBlbmROb2Rlc1RvRWxlbWVudCh0LGkpLHRoaXMuX3VwZGF0ZVZpc3VhbCh0LHtkYXNoOiEwLHNoYWRvdzohMH0sITApLHRoaXMudXBkYXRlUG9pbnQodCl9LHVwZGF0ZVBvaW50OmZ1bmN0aW9uKHQpe3ZhciBpLHI9bi5ldmFsdWF0ZSh0LnZpc1Byb3Auc2l6ZSkscz1lLm5vcm1hbGl6ZVBvaW50RmFjZShuLmV2YWx1YXRlKHQudmlzUHJvcC5mYWNlKSksbz1uLmV2YWx1YXRlKHQudmlzUHJvcC5zaXpldW5pdCksYT1uLmV2YWx1YXRlKHQudmlzUHJvcC56b29tKTtpc05hTih0LmNvb3Jkcy5zY3JDb29yZHNbMl0rdC5jb29yZHMuc2NyQ29vcmRzWzFdKXx8KFwidXNlclwiPT09byYmKHIqPU1hdGguc3FydCh0LmJvYXJkLnVuaXRYKnQuYm9hcmQudW5pdFkpKSxpPTA9PT0ocio9dC5ib2FyZCYmYT9NYXRoLnNxcnQodC5ib2FyZC56b29tWCp0LmJvYXJkLnpvb21ZKToxKT8wOnIrMSxcIm9cIj09PXM/dGhpcy51cGRhdGVFbGxpcHNlUHJpbSh0LnJlbmROb2RlLHQuY29vcmRzLnNjckNvb3Jkc1sxXSx0LmNvb3Jkcy5zY3JDb29yZHNbMl0saSxpKTpcIltdXCI9PT1zP3RoaXMudXBkYXRlUmVjdFByaW0odC5yZW5kTm9kZSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0tcix0LmNvb3Jkcy5zY3JDb29yZHNbMl0tciwyKnIsMipyKTp0aGlzLnVwZGF0ZVBhdGhQcmltKHQucmVuZE5vZGUsdGhpcy51cGRhdGVQYXRoU3RyaW5nUG9pbnQodCxyLHMpLHQuYm9hcmQpLHRoaXMuX3VwZGF0ZVZpc3VhbCh0LHtkYXNoOiExLHNoYWRvdzohMX0pLHRoaXMuc2V0U2hhZG93KHQpKX0sY2hhbmdlUG9pbnRTdHlsZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEVsZW1lbnRCeUlkKHQuaWQpO24uZXhpc3RzKGUpJiZ0aGlzLnJlbW92ZShlKSx0aGlzLmRyYXdQb2ludCh0KSxuLmNsZWFyVmlzUHJvcE9sZCh0KSx0LnZpc1Byb3BDYWxjLnZpc2libGV8fHRoaXMuZGlzcGxheSh0LCExKSxuLmV2YWx1YXRlKHQudmlzUHJvcC5kcmFmdCkmJnRoaXMuc2V0RHJhZnQodCl9LGRyYXdMaW5lOmZ1bmN0aW9uKHQpe3QucmVuZE5vZGU9dGhpcy5hcHBlbmRDaGlsZFByaW0odGhpcy5jcmVhdGVQcmltKFwibGluZVwiLHQuaWQpLG4uZXZhbHVhdGUodC52aXNQcm9wLmxheWVyKSksdGhpcy5hcHBlbmROb2Rlc1RvRWxlbWVudCh0LFwibGluZXNcIiksdGhpcy51cGRhdGVMaW5lKHQpfSx1cGRhdGVMaW5lOmZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZVZpc3VhbCh0KSx0aGlzLnVwZGF0ZVBhdGhXaXRoQXJyb3dIZWFkcyh0KSx0aGlzLnNldExpbmVDYXAodCl9LGRyYXdDdXJ2ZTpmdW5jdGlvbih0KXt0LnJlbmROb2RlPXRoaXMuYXBwZW5kQ2hpbGRQcmltKHRoaXMuY3JlYXRlUHJpbShcInBhdGhcIix0LmlkKSxuLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLHRoaXMuYXBwZW5kTm9kZXNUb0VsZW1lbnQodCxcInBhdGhcIiksdGhpcy51cGRhdGVDdXJ2ZSh0KX0sdXBkYXRlQ3VydmU6ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlVmlzdWFsKHQpLHRoaXMudXBkYXRlUGF0aFdpdGhBcnJvd0hlYWRzKHQpLHRoaXMuc2V0TGluZUNhcCh0KX0sdXBkYXRlUGF0aFdpdGhBcnJvd0hlYWRzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscyxvPXQudmlzUHJvcCxhPWU/XCJoaWdobGlnaHRcIjpcIlwiO2k9ZSYmby5oaWdobGlnaHRzdHJva2V3aWR0aD9NYXRoLm1heChuLmV2YWx1YXRlKG8uaGlnaGxpZ2h0c3Ryb2tld2lkdGgpLG4uZXZhbHVhdGUoby5zdHJva2V3aWR0aCkpOm4uZXZhbHVhdGUoby5zdHJva2V3aWR0aCkscz10aGlzLmdldEFycm93SGVhZERhdGEodCxpLGEpLHRoaXMubWFrZUFycm93cyh0LHMpLHQuZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfTElORT90aGlzLnVwZGF0ZUxpbmVXaXRoRW5kaW5ncyh0LHMpOnQuZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJnRoaXMudXBkYXRlUGF0aCh0KSx0aGlzLnNldEFycm93U2l6ZSh0LHMpfSxnZXRBcnJvd0hlYWREYXRhOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxhLGgsbCxjPXMuZXBzLGQ9MCx1PTAscD0wLGY9MCxtPW4uZXZhbHVhdGUodC52aXNQcm9wLmZpcnN0YXJyb3cpLGc9bi5ldmFsdWF0ZSh0LnZpc1Byb3AubGFzdGFycm93KTtyZXR1cm4obXx8ZykmJihvPW4uZXhpc3RzKG0udHlwZSk/bi5ldmFsdWF0ZShtLnR5cGUpOnQuZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfTElORT8xOjcsYT1uLmV4aXN0cyhnLnR5cGUpP24uZXZhbHVhdGUoZy50eXBlKTp0LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX0xJTkU/MTo3LG0mJihsPTYsbi5leGlzdHMobS5zaXplKSYmKGw9bi5ldmFsdWF0ZShtLnNpemUpKSxcIlwiIT09aSYmbi5leGlzdHMobVtpK1wic2l6ZVwiXSkmJihsPW4uZXZhbHVhdGUobVtpK1wic2l6ZVwiXSkpLGg9ZSpsLDI9PT1vPyhoKj0uNSxjKz1lKmwpOjM9PT1vPyhoPWUqbC8zLGMrPWUpOjQ9PT1vfHw1PT09b3x8Nj09PW8/KGg9ZSpsLzEuNSxjKz1lKmwpOjc9PT1vPyhoPTAsbD0xMCxjKz1lKTpjKz1lKmwsZCs9aCxwPWwpLGcmJihsPTYsbi5leGlzdHMoZy5zaXplKSYmKGw9bi5ldmFsdWF0ZShnLnNpemUpKSxcIlwiIT09aSYmbi5leGlzdHMoZ1tpK1wic2l6ZVwiXSkmJihsPW4uZXZhbHVhdGUoZ1tpK1wic2l6ZVwiXSkpLGg9ZSpsLDI9PT1hPyhoKj0uNSxjKz1lKmwpOjM9PT1hPyhoPWUqbC8zLGMrPWUpOjQ9PT1hfHw1PT09YXx8Nj09PWE/KGg9ZSpsLzEuNSxjKz1lKmwpOjc9PT1hPyhoPTAsbD0xMCxjKz1lKTpjKz1lKmwsdSs9aCxmPWwpKSx0LnZpc1Byb3BDYWxjLnR5cGVGaXJzdD1vLHQudmlzUHJvcENhbGMudHlwZUxhc3Q9YSx7ZXZGaXJzdDptLGV2TGFzdDpnLHR5cGVGaXJzdDpvLHR5cGVMYXN0OmEsb2ZmRmlyc3Q6ZCxvZmZMYXN0OnUsc2l6ZUZpcnN0OnAsc2l6ZUxhc3Q6ZixzaG93Rmlyc3Q6MSxzaG93TGFzdDoxLG1pbkxlbjpjLHN0cm9rZVdpZHRoOmV9fSx1cGRhdGVMaW5lV2l0aEVuZGluZ3M6ZnVuY3Rpb24odCxlKXt2YXIgcyxhLGg7cmV0dXJuIHM9bmV3IGkoci5DT09SRFNfQllfVVNFUix0LnBvaW50MS5jb29yZHMudXNyQ29vcmRzLHQuYm9hcmQpLGE9bmV3IGkoci5DT09SRFNfQllfVVNFUix0LnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLHQuYm9hcmQpLGg9bi5ldmFsdWF0ZSh0LnZpc1Byb3AubWFyZ2luKSxvLmNhbGNTdHJhaWdodCh0LHMsYSxoKSx0aGlzLmhhbmRsZVRvdWNocG9pbnRzKHQscyxhLGUpLHRoaXMuZ2V0UG9zaXRpb25BcnJvd0hlYWQodCxzLGEsZSksdGhpcy51cGRhdGVMaW5lUHJpbSh0LnJlbmROb2RlLHMuc2NyQ29vcmRzWzFdLHMuc2NyQ29vcmRzWzJdLGEuc2NyQ29vcmRzWzFdLGEuc2NyQ29vcmRzWzJdLHQuYm9hcmQpLHRoaXN9LHVwZGF0ZVBhdGg6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZXZhbHVhdGUodC52aXNQcm9wLmhhbmRkcmF3aW5nKT90aGlzLnVwZGF0ZVBhdGhQcmltKHQucmVuZE5vZGUsdGhpcy51cGRhdGVQYXRoU3RyaW5nQmV6aWVyUHJpbSh0KSx0LmJvYXJkKTp0aGlzLnVwZGF0ZVBhdGhQcmltKHQucmVuZE5vZGUsdGhpcy51cGRhdGVQYXRoU3RyaW5nUHJpbSh0KSx0LmJvYXJkKSx0aGlzfSxnZXRQb3NpdGlvbkFycm93SGVhZDpmdW5jdGlvbih0LGUsaSxzKXt2YXIgbyxuLGEsaCxsO3JldHVybihzLmV2Rmlyc3R8fHMuZXZMYXN0KSYmKG49YT1oPWw9MCxvPWUuZGlzdGFuY2Uoci5DT09SRFNfQllfU0NSRUVOLGkpLHMuZXZGaXJzdCYmXCJ2bWxcIiE9PXQuYm9hcmQucmVuZGVyZXIudHlwZSYmKG8+PXMubWluTGVuPyhuPShpLnNjckNvb3Jkc1sxXS1lLnNjckNvb3Jkc1sxXSkqcy5vZmZGaXJzdC9vLGE9KGkuc2NyQ29vcmRzWzJdLWUuc2NyQ29vcmRzWzJdKSpzLm9mZkZpcnN0L28pOnMuc2hvd0ZpcnN0PTApLHMuZXZMYXN0JiZcInZtbFwiIT09dC5ib2FyZC5yZW5kZXJlci50eXBlJiYobz49cy5taW5MZW4/KGg9KGkuc2NyQ29vcmRzWzFdLWUuc2NyQ29vcmRzWzFdKSpzLm9mZkxhc3QvbyxsPShpLnNjckNvb3Jkc1syXS1lLnNjckNvb3Jkc1syXSkqcy5vZmZMYXN0L28pOnMuc2hvd0xhc3Q9MCksZS5zZXRDb29yZGluYXRlcyhyLkNPT1JEU19CWV9TQ1JFRU4sW2Uuc2NyQ29vcmRzWzFdK24sZS5zY3JDb29yZHNbMl0rYV0sITEsITApLGkuc2V0Q29vcmRpbmF0ZXMoci5DT09SRFNfQllfU0NSRUVOLFtpLnNjckNvb3Jkc1sxXS1oLGkuc2NyQ29vcmRzWzJdLWxdLCExLCEwKSksdGhpc30saGFuZGxlVG91Y2hwb2ludHM6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG8sYSxoLGwsYyxkLHU7cmV0dXJuKHMuZXZGaXJzdHx8cy5ldkxhc3QpJiYoaD1sPWM9ZD11PTAsbz1uLmV2YWx1YXRlKHQucG9pbnQxLnZpc1Byb3Auc2l6ZSkrbi5ldmFsdWF0ZSh0LnBvaW50MS52aXNQcm9wLnN0cm9rZXdpZHRoKSxhPW4uZXZhbHVhdGUodC5wb2ludDIudmlzUHJvcC5zaXplKStuLmV2YWx1YXRlKHQucG9pbnQyLnZpc1Byb3Auc3Ryb2tld2lkdGgpLHMuZXZGaXJzdCYmbi5ldmFsdWF0ZSh0LnZpc1Byb3AudG91Y2hmaXJzdHBvaW50KSYmKGg9ZS5kaXN0YW5jZShyLkNPT1JEU19CWV9TQ1JFRU4saSksbD0oaS5zY3JDb29yZHNbMV0tZS5zY3JDb29yZHNbMV0pKm8vaCxjPShpLnNjckNvb3Jkc1syXS1lLnNjckNvb3Jkc1syXSkqby9oKSxzLmV2TGFzdCYmbi5ldmFsdWF0ZSh0LnZpc1Byb3AudG91Y2hsYXN0cG9pbnQpJiYoaD1lLmRpc3RhbmNlKHIuQ09PUkRTX0JZX1NDUkVFTixpKSxkPShpLnNjckNvb3Jkc1sxXS1lLnNjckNvb3Jkc1sxXSkqYS9oLHU9KGkuc2NyQ29vcmRzWzJdLWUuc2NyQ29vcmRzWzJdKSphL2gpLGUuc2V0Q29vcmRpbmF0ZXMoci5DT09SRFNfQllfU0NSRUVOLFtlLnNjckNvb3Jkc1sxXStsLGUuc2NyQ29vcmRzWzJdK2NdLCExLCEwKSxpLnNldENvb3JkaW5hdGVzKHIuQ09PUkRTX0JZX1NDUkVFTixbaS5zY3JDb29yZHNbMV0tZCxpLnNjckNvb3Jkc1syXS11XSwhMSwhMCkpLHRoaXN9LHNldEFycm93U2l6ZTpmdW5jdGlvbih0LGUpe3JldHVybiBlLmV2Rmlyc3QmJnRoaXMuX3NldEFycm93V2lkdGgodC5yZW5kTm9kZVRyaWFuZ2xlU3RhcnQsZS5zaG93Rmlyc3QqZS5zdHJva2VXaWR0aCx0LnJlbmROb2RlLGUuc2l6ZUZpcnN0KSxlLmV2TGFzdCYmdGhpcy5fc2V0QXJyb3dXaWR0aCh0LnJlbmROb2RlVHJpYW5nbGVFbmQsZS5zaG93TGFzdCplLnN0cm9rZVdpZHRoLHQucmVuZE5vZGUsZS5zaXplTGFzdCksdGhpc30sc2V0TGluZUNhcDpmdW5jdGlvbih0KXt9LGRyYXdUaWNrczpmdW5jdGlvbih0KXt0LnJlbmROb2RlPXRoaXMuYXBwZW5kQ2hpbGRQcmltKHRoaXMuY3JlYXRlUHJpbShcInBhdGhcIix0LmlkKSxuLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLHRoaXMuYXBwZW5kTm9kZXNUb0VsZW1lbnQodCxcInBhdGhcIil9LHVwZGF0ZVRpY2tzOmZ1bmN0aW9uKHQpe30sZHJhd0VsbGlwc2U6ZnVuY3Rpb24odCl7dC5yZW5kTm9kZT10aGlzLmFwcGVuZENoaWxkUHJpbSh0aGlzLmNyZWF0ZVByaW0oXCJlbGxpcHNlXCIsdC5pZCksbi5ldmFsdWF0ZSh0LnZpc1Byb3AubGF5ZXIpKSx0aGlzLmFwcGVuZE5vZGVzVG9FbGVtZW50KHQsXCJlbGxpcHNlXCIpLHRoaXMudXBkYXRlRWxsaXBzZSh0KX0sdXBkYXRlRWxsaXBzZTpmdW5jdGlvbih0KXt0aGlzLl91cGRhdGVWaXN1YWwodCk7dmFyIGU9dC5SYWRpdXMoKTtlPjAmJk1hdGguYWJzKHQuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMF0pPnMuZXBzJiYhaXNOYU4oZSt0LmNlbnRlci5jb29yZHMuc2NyQ29vcmRzWzFdK3QuY2VudGVyLmNvb3Jkcy5zY3JDb29yZHNbMl0pJiZlKnQuYm9hcmQudW5pdFg8MmU2JiZ0aGlzLnVwZGF0ZUVsbGlwc2VQcmltKHQucmVuZE5vZGUsdC5jZW50ZXIuY29vcmRzLnNjckNvb3Jkc1sxXSx0LmNlbnRlci5jb29yZHMuc2NyQ29vcmRzWzJdLGUqdC5ib2FyZC51bml0WCxlKnQuYm9hcmQudW5pdFkpfSxkcmF3UG9seWdvbjpmdW5jdGlvbih0KXt0LnJlbmROb2RlPXRoaXMuYXBwZW5kQ2hpbGRQcmltKHRoaXMuY3JlYXRlUHJpbShcInBvbHlnb25cIix0LmlkKSxuLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLHRoaXMuYXBwZW5kTm9kZXNUb0VsZW1lbnQodCxcInBvbHlnb25cIiksdGhpcy51cGRhdGVQb2x5Z29uKHQpfSx1cGRhdGVQb2x5Z29uOmZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZVZpc3VhbCh0LHtzdHJva2U6ITAsZGFzaDohMH0pLHRoaXMudXBkYXRlUG9seWdvblByaW0odC5yZW5kTm9kZSx0KX0sZGlzcGxheUNvcHlyaWdodDpmdW5jdGlvbih0LGUpe30sZHJhd0ludGVybmFsVGV4dDpmdW5jdGlvbih0KXt9LHVwZGF0ZUludGVybmFsVGV4dDpmdW5jdGlvbih0KXt9LGRyYXdUZXh0OmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzO1wiaHRtbFwiPT09bi5ldmFsdWF0ZSh0LnZpc1Byb3AuZGlzcGxheSkmJmEuaXNCcm93c2VyJiZcIm5vXCIhPT10aGlzLnR5cGU/KChlPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGUuY2xhc3NOYW1lPW4uZXZhbHVhdGUodC52aXNQcm9wLmNzc2NsYXNzKSxyPW4uZXZhbHVhdGUodC52aXNQcm9wLmxheWVyKSxuLmV4aXN0cyhyKXx8KHI9MCksaT1cIlwiPT09dGhpcy5jb250YWluZXIuc3R5bGUuekluZGV4PzA6cGFyc2VJbnQodGhpcy5jb250YWluZXIuc3R5bGUuekluZGV4LDEwKSxlLnN0eWxlLnpJbmRleD1pK3IsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZSksZS5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuY29udGFpbmVyLmlkK1wiX1wiK3QuaWQpKTplPXRoaXMuZHJhd0ludGVybmFsVGV4dCh0KSx0LnJlbmROb2RlPWUsdC5odG1sU3RyPVwiXCIsdC52aXNQcm9wLmlzbGFiZWwmJm4uZXhpc3RzKHQudmlzUHJvcC5hbmNob3IpPyhzPW4uZXZhbHVhdGUodC52aXNQcm9wLmFuY2hvci52aXNQcm9wLnZpc2libGUpLHQucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkocykpOnQucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkoKSx0aGlzLnVwZGF0ZVRleHQodCl9LHVwZGF0ZVRleHQ6ZnVuY3Rpb24oZSl7dmFyIGkscixzLG8saCxsLGMsZCx1LHA9ZS5wbGFpbnRleHQ7aWYoZS52aXNQcm9wQ2FsYy52aXNpYmxlKWlmKHRoaXMudXBkYXRlVGV4dFN0eWxlKGUsITEpLFwiaHRtbFwiPT09bi5ldmFsdWF0ZShlLnZpc1Byb3AuZGlzcGxheSkmJlwibm9cIiE9PXRoaXMudHlwZSl7aWYoaXNOYU4oZS5jb29yZHMuc2NyQ29vcmRzWzFdK2UuY29vcmRzLnNjckNvb3Jkc1syXSl8fChyPWUuY29vcmRzLnNjckNvb3Jkc1sxXSxyPU1hdGguYWJzKHIpPDFlNj9yOjFlNixpPVwicmlnaHRcIj09PShkPWUuZ2V0QW5jaG9yWCgpKT9lLmJvYXJkLmNhbnZhc1dpZHRoLXI6XCJtaWRkbGVcIj09PWQ/ci0uNSplLnNpemVbMF06cixlLnZpc1Byb3BPbGQubGVmdCE9PWQraSYmKFwicmlnaHRcIj09PWQ/KGUucmVuZE5vZGUuc3R5bGUucmlnaHQ9aStcInB4XCIsZS5yZW5kTm9kZS5zdHlsZS5sZWZ0PVwiYXV0b1wiKTooZS5yZW5kTm9kZS5zdHlsZS5sZWZ0PWkrXCJweFwiLGUucmVuZE5vZGUuc3R5bGUucmlnaHQ9XCJhdXRvXCIpLGUudmlzUHJvcE9sZC5sZWZ0PWQraSkscj1lLmNvb3Jkcy5zY3JDb29yZHNbMl0rdGhpcy52T2Zmc2V0VGV4dCxyPU1hdGguYWJzKHIpPDFlNj9yOjFlNixpPVwiYm90dG9tXCI9PT0odT1lLmdldEFuY2hvclkoKSk/ZS5ib2FyZC5jYW52YXNIZWlnaHQtcjpcIm1pZGRsZVwiPT09dT9yLS41KmUuc2l6ZVsxXTpyLGUudmlzUHJvcE9sZC50b3AhPT11K2kmJihcImJvdHRvbVwiPT09dT8oZS5yZW5kTm9kZS5zdHlsZS50b3A9XCJhdXRvXCIsZS5yZW5kTm9kZS5zdHlsZS5ib3R0b209aStcInB4XCIpOihlLnJlbmROb2RlLnN0eWxlLmJvdHRvbT1cImF1dG9cIixlLnJlbmROb2RlLnN0eWxlLnRvcD1pK1wicHhcIiksZS52aXNQcm9wT2xkLnRvcD11K2kpKSxlLmh0bWxTdHIhPT1wKXt0cnl7ZS50eXBlPT09bi5PQkpFQ1RfVFlQRV9CVVRUT04/ZS5yZW5kTm9kZUJ1dHRvbi5pbm5lckhUTUw9cDplLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0NIRUNLQk9YfHxlLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0lOUFVUP2UucmVuZE5vZGVMYWJlbC5pbm5lckhUTUw9cDplLnJlbmROb2RlLmlubmVySFRNTD1wfWNhdGNoKHQpe3M9ZS5yZW5kTm9kZS5wYXJlbnROb2RlLGUucmVuZE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlLnJlbmROb2RlKSxlLnJlbmROb2RlLmlubmVySFRNTD1wLHMuYXBwZW5kQ2hpbGQoZS5yZW5kTm9kZSl9aWYoZS5odG1sU3RyPXAsbi5ldmFsdWF0ZShlLnZpc1Byb3AudXNlbWF0aGpheCkpdHJ5e01hdGhKYXgudHlwZXNldD9NYXRoSmF4LnR5cGVzZXQoW2UucmVuZE5vZGVdKTpNYXRoSmF4Lkh1Yi5RdWV1ZShbXCJUeXBlc2V0XCIsTWF0aEpheC5IdWIsZS5yZW5kTm9kZV0pLGM9XCJmdWxsc2NyZWVud3JhcF9cIisobD1lLmJvYXJkLmNvbnRhaW5lciksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYykmJihvPWUuYm9hcmQuY29udGFpbmVyT2JqLl9jc3NGdWxsc2NyZWVuU3RvcmUuc2NhbGUsaD1lLmJvYXJkLmNvbnRhaW5lck9iai5fY3NzRnVsbHNjcmVlblN0b3JlLnZzaGlmdCxhLnNjYWxlSlNYR3JhcGhEaXYoXCIjXCIrYyxcIiNcIitsLG8saCkpfWNhdGNoKGUpe3QuZGVidWcoXCJNYXRoSmF4IChub3QgeWV0KSBsb2FkZWRcIil9ZWxzZSBpZihuLmV2YWx1YXRlKGUudmlzUHJvcC51c2VrYXRleCkpdHJ5e2thdGV4LnJlbmRlcihwLGUucmVuZE5vZGUse3Rocm93T25FcnJvcjohMX0pfWNhdGNoKGUpe3QuZGVidWcoXCJLYVRlWCAobm90IHlldCkgbG9hZGVkXCIpfWVsc2UgaWYobi5ldmFsdWF0ZShlLnZpc1Byb3AudXNlYXNjaWltYXRobWwpKXRyeXtBTXByb2Nlc3NOb2RlKGUucmVuZE5vZGUsITEpfWNhdGNoKGUpe3QuZGVidWcoXCJBc2NpaU1hdGhNTCAobm90IHlldCkgbG9hZGVkXCIpfX10aGlzLnRyYW5zZm9ybUltYWdlKGUsZS50cmFuc2Zvcm1hdGlvbnMpfWVsc2UgdGhpcy51cGRhdGVJbnRlcm5hbFRleHQoZSl9LF9jc3MyanM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxhPVtdLGg9bi50cmltKHQpLnJlcGxhY2UoLzskLyxcIlwiKS5zcGxpdChcIjtcIik7Zm9yKGk9aC5sZW5ndGgsZT0wO2U8aTsrK2UpXCJcIiE9PW4udHJpbShoW2VdKSYmKG89aFtlXS5zcGxpdChcIjpcIikscj1uLnRyaW0ob1swXS5yZXBsYWNlKC8tKFthLXpdKS9naSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSkpKSxzPW4udHJpbShvWzFdKSxhLnB1c2goe2tleTpyLHZhbDpzfSkpO3JldHVybiBhfSx1cGRhdGVUZXh0U3R5bGU6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxoLGwsYyxkLHUscD10LnZpc1Byb3AsZj1hLmlzQnJvd3Nlcj9wLmRpc3BsYXk6XCJpbnRlcm5hbFwiLG09W1wicmVuZE5vZGVcIixcInJlbmROb2RlVGFnXCIsXCJyZW5kTm9kZUxhYmVsXCJdLGc9bS5sZW5ndGgsYj1uLmV2YWx1YXRlKHAuZm9udHVuaXQpLHY9W1wiY3NzZGVmYXVsdHN0eWxlXCIsXCJjc3NzdHlsZVwiXSx5PXYubGVuZ3RoO2lmKGU/KHM9cC5oaWdobGlnaHRzdHJva2Vjb2xvcixyPXAuaGlnaGxpZ2h0c3Ryb2tlb3BhY2l0eSxvPXAuaGlnaGxpZ2h0Y3NzY2xhc3MpOihzPXAuc3Ryb2tlY29sb3Iscj1wLnN0cm9rZW9wYWNpdHksbz1wLmNzc2NsYXNzKSxcIm5vXCIhPT10aGlzLnR5cGUmJihcImh0bWxcIj09PWZ8fFwiY2FudmFzXCIhPT10aGlzLnR5cGUpKXtmb3IoZD0wO2Q8eTtkKyspaWYoXCJcIiE9PSh1PW4uZXZhbHVhdGUocFsoZT9cImhpZ2hsaWdodFwiOlwiXCIpK3ZbZF1dKSkmJnQudmlzUHJvcE9sZFt2W2RdXSE9PXUpe2ZvcihsPXRoaXMuX2NzczJqcyh1KSxoPTA7aDxnO2grKylpZihuLmV4aXN0cyh0W21baF1dKSlmb3IoYyBpbiBsKWwuaGFzT3duUHJvcGVydHkoYykmJih0W21baF1dLnN0eWxlW2xbY10ua2V5XT1sW2NdLnZhbCk7dC52aXNQcm9wT2xkW3ZbZF1dPXV9aWYoaT1uLmV2YWx1YXRlKHAuZm9udHNpemUpLHQudmlzUHJvcE9sZC5mb250c2l6ZSE9PWkpe3QubmVlZHNTaXplVXBkYXRlPSEwO3RyeXtmb3IoaD0wO2g8ZztoKyspbi5leGlzdHModFttW2hdXSkmJih0W21baF1dLnN0eWxlLmZvbnRTaXplPWkrYil9Y2F0Y2goZSl7Zm9yKGg9MDtoPGc7aCsrKW4uZXhpc3RzKHRbbVtoXV0pJiYodFttW2hdXS5zdHlsZS5mb250U2l6ZT1pKX10LnZpc1Byb3BPbGQuZm9udHNpemU9aX19cmV0dXJuIHRoaXMuc2V0T2JqZWN0VHJhbnNpdGlvbih0KSxcImh0bWxcIj09PWYmJlwibm9cIiE9PXRoaXMudHlwZT8odC52aXNQcm9wT2xkLmNzc2NsYXNzIT09byYmKHQucmVuZE5vZGUuY2xhc3NOYW1lPW8sdC52aXNQcm9wT2xkLmNzc2NsYXNzPW8sdC5uZWVkc1NpemVVcGRhdGU9ITApLHRoaXMuc2V0T2JqZWN0U3Ryb2tlQ29sb3IodCxzLHIpKTp0aGlzLnVwZGF0ZUludGVybmFsVGV4dFN0eWxlKHQscyxyKSx0aGlzfSx1cGRhdGVJbnRlcm5hbFRleHRTdHlsZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5zZXRPYmplY3RTdHJva2VDb2xvcih0LGUsaSl9LGRyYXdJbWFnZTpmdW5jdGlvbih0KXt9LHVwZGF0ZUltYWdlOmZ1bmN0aW9uKHQpe3RoaXMudXBkYXRlUmVjdFByaW0odC5yZW5kTm9kZSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0sdC5jb29yZHMuc2NyQ29vcmRzWzJdLXQuc2l6ZVsxXSx0LnNpemVbMF0sdC5zaXplWzFdKSx0aGlzLnVwZGF0ZUltYWdlVVJMKHQpLHRoaXMudHJhbnNmb3JtSW1hZ2UodCx0LnRyYW5zZm9ybWF0aW9ucyksdGhpcy5fdXBkYXRlVmlzdWFsKHQse3N0cm9rZTohMCxkYXNoOiEwfSwhMCl9LGpvaW5UcmFuc2Zvcm1zOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj10LmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMV0sbz10LmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMl0sbj10LmJvYXJkLnVuaXRYLGE9dC5ib2FyZC51bml0WSxoPWUubGVuZ3RoLGw9W1sxLDAsMF0sWy1yL24sMS9uLDBdLFtvL2EsMCwtMS9hXV07Zm9yKGk9MDtpPGg7aSsrKWw9cy5tYXRNYXRNdWx0KGVbaV0ubWF0cml4LGwpO3JldHVybiBsPXMubWF0TWF0TXVsdChbWzEsMCwwXSxbcixuLDBdLFtvLDAsLWFdXSxsKX0sdHJhbnNmb3JtSW1hZ2U6ZnVuY3Rpb24odCxlKXt9LHVwZGF0ZUltYWdlVVJMOmZ1bmN0aW9uKHQpe30sdXBkYXRlSW1hZ2VTdHlsZTpmdW5jdGlvbih0LGUpe3QucmVuZE5vZGUuY2xhc3NOYW1lPW4uZXZhbHVhdGUoZT90LnZpc1Byb3AuaGlnaGxpZ2h0Y3NzY2xhc3M6dC52aXNQcm9wLmNzc2NsYXNzKX0sZHJhd0ZvcmVpZ25PYmplY3Q6ZnVuY3Rpb24odCl7fSx1cGRhdGVGb3JlaWduT2JqZWN0OmZ1bmN0aW9uKHQpe30sYXBwZW5kQ2hpbGRQcmltOmZ1bmN0aW9uKHQsZSl7fSxhcHBlbmROb2Rlc1RvRWxlbWVudDpmdW5jdGlvbih0LGUpe30sY3JlYXRlUHJpbTpmdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24odCl7fSxtYWtlQXJyb3dzOmZ1bmN0aW9uKHQsZSl7fSxfc2V0QXJyb3dXaWR0aDpmdW5jdGlvbih0LGUsaSl7fSx1cGRhdGVFbGxpcHNlUHJpbTpmdW5jdGlvbih0LGUsaSxyLHMpe30sdXBkYXRlTGluZVByaW06ZnVuY3Rpb24odCxlLGkscixzLG8pe30sdXBkYXRlUGF0aFByaW06ZnVuY3Rpb24odCxlLGkpe30sdXBkYXRlUGF0aFN0cmluZ1BvaW50OmZ1bmN0aW9uKHQsZSxpKXt9LHVwZGF0ZVBhdGhTdHJpbmdQcmltOmZ1bmN0aW9uKHQpe30sdXBkYXRlUGF0aFN0cmluZ0JlemllclByaW06ZnVuY3Rpb24odCl7fSx1cGRhdGVQb2x5Z29uUHJpbTpmdW5jdGlvbih0LGUpe30sdXBkYXRlUmVjdFByaW06ZnVuY3Rpb24odCxlLGkscixzKXt9LHNldFByb3BlcnR5UHJpbTpmdW5jdGlvbih0LGUsaSl7fSxzZXRUYWJpbmRleDpmdW5jdGlvbih0KXt2YXIgZTt0LmJvYXJkLmF0dHIua2V5Ym9hcmQuZW5hYmxlZCYmbi5leGlzdHModC5yZW5kTm9kZSkmJihlPW4uZXZhbHVhdGUodC52aXNQcm9wLnRhYmluZGV4KSx0LnZpc1Byb3BDYWxjLnZpc2libGUmJiFuLmV2YWx1YXRlKHQudmlzUHJvcC5maXhlZCl8fChlPW51bGwpLGUhPT10LnZpc1Byb3BPbGQudGFiaW5kZXgmJih0LnJlbmROb2RlLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsZSksdC52aXNQcm9wT2xkLnRhYmluZGV4PWUpKX0sZGlzcGxheTpmdW5jdGlvbih0LGUpe3QmJih0LnZpc1Byb3BPbGQudmlzaWJsZT1lKX0sc2hvdzpmdW5jdGlvbih0KXt9LGhpZGU6ZnVuY3Rpb24odCl7fSxzZXRCdWZmZXJpbmc6ZnVuY3Rpb24odCxlKXt9LHNldERhc2hTdHlsZTpmdW5jdGlvbih0KXt9LHNldERyYWZ0OmZ1bmN0aW9uKHQpe2lmKG4uZXZhbHVhdGUodC52aXNQcm9wLmRyYWZ0KSl7dmFyIGU9dC5ib2FyZC5vcHRpb25zLmVsZW1lbnRzLmRyYWZ0LmNvbG9yLGk9dC5ib2FyZC5vcHRpb25zLmVsZW1lbnRzLmRyYWZ0Lm9wYWNpdHk7dGhpcy5zZXRPYmplY3RUcmFuc2l0aW9uKHQpLHQudHlwZT09PXIuT0JKRUNUX1RZUEVfUE9MWUdPTj90aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LGUsaSk6KHQuZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfUE9JTlQ/dGhpcy5zZXRPYmplY3RGaWxsQ29sb3IodCxlLGkpOnRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQsXCJub25lXCIsMCksdGhpcy5zZXRPYmplY3RTdHJva2VDb2xvcih0LGUsaSksdGhpcy5zZXRPYmplY3RTdHJva2VXaWR0aCh0LHQuYm9hcmQub3B0aW9ucy5lbGVtZW50cy5kcmFmdC5zdHJva2VXaWR0aCkpfX0scmVtb3ZlRHJhZnQ6ZnVuY3Rpb24odCl7dGhpcy5zZXRPYmplY3RUcmFuc2l0aW9uKHQpLHQudHlwZT09PXIuT0JKRUNUX1RZUEVfUE9MWUdPTj90aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LHQudmlzUHJvcC5maWxsY29sb3IsdC52aXNQcm9wLmZpbGxvcGFjaXR5KToodC50eXBlPT09ci5PQkpFQ1RfQ0xBU1NfUE9JTlQmJnRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQsdC52aXNQcm9wLmZpbGxjb2xvcix0LnZpc1Byb3AuZmlsbG9wYWNpdHkpLHRoaXMuc2V0T2JqZWN0U3Ryb2tlQ29sb3IodCx0LnZpc1Byb3Auc3Ryb2tlY29sb3IsdC52aXNQcm9wLnN0cm9rZW9wYWNpdHkpLHRoaXMuc2V0T2JqZWN0U3Ryb2tlV2lkdGgodCx0LnZpc1Byb3Auc3Ryb2tld2lkdGgpKX0sc2V0R3JhZGllbnQ6ZnVuY3Rpb24odCl7fSx1cGRhdGVHcmFkaWVudDpmdW5jdGlvbih0KXt9LHNldE9iamVjdFRyYW5zaXRpb246ZnVuY3Rpb24odCxlKXt9LHNldE9iamVjdEZpbGxDb2xvcjpmdW5jdGlvbih0LGUsaSl7fSxzZXRPYmplY3RTdHJva2VDb2xvcjpmdW5jdGlvbih0LGUsaSl7fSxzZXRPYmplY3RTdHJva2VXaWR0aDpmdW5jdGlvbih0LGUpe30sc2V0U2hhZG93OmZ1bmN0aW9uKHQpe30saGlnaGxpZ2h0OmZ1bmN0aW9uKHQpe3ZhciBlLGkscz10LnZpc1Byb3A7aWYodGhpcy5zZXRPYmplY3RUcmFuc2l0aW9uKHQpLCFzLmRyYWZ0KXtpZih0LnR5cGU9PT1yLk9CSkVDVF9UWVBFX1BPTFlHT04pZm9yKHRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQscy5oaWdobGlnaHRmaWxsY29sb3Iscy5oaWdobGlnaHRmaWxsb3BhY2l0eSksZT0wO2U8dC5ib3JkZXJzLmxlbmd0aDtlKyspdGhpcy5zZXRPYmplY3RTdHJva2VDb2xvcih0LmJvcmRlcnNbZV0sdC5ib3JkZXJzW2VdLnZpc1Byb3AuaGlnaGxpZ2h0c3Ryb2tlY29sb3IsdC5ib3JkZXJzW2VdLnZpc1Byb3AuaGlnaGxpZ2h0c3Ryb2tlb3BhY2l0eSk7ZWxzZSB0LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX1RFWFQ/dGhpcy51cGRhdGVUZXh0U3R5bGUodCwhMCk6dC50eXBlPT09ci5PQkpFQ1RfVFlQRV9JTUFHRT8odGhpcy51cGRhdGVJbWFnZVN0eWxlKHQsITApLHRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQscy5oaWdobGlnaHRmaWxsY29sb3Iscy5oaWdobGlnaHRmaWxsb3BhY2l0eSkpOih0aGlzLnNldE9iamVjdFN0cm9rZUNvbG9yKHQscy5oaWdobGlnaHRzdHJva2Vjb2xvcixzLmhpZ2hsaWdodHN0cm9rZW9wYWNpdHkpLHRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQscy5oaWdobGlnaHRmaWxsY29sb3Iscy5oaWdobGlnaHRmaWxsb3BhY2l0eSkpO3MuaGlnaGxpZ2h0c3Ryb2tld2lkdGgmJihpPU1hdGgubWF4KG4uZXZhbHVhdGUocy5oaWdobGlnaHRzdHJva2V3aWR0aCksbi5ldmFsdWF0ZShzLnN0cm9rZXdpZHRoKSksdGhpcy5zZXRPYmplY3RTdHJva2VXaWR0aCh0LGkpLHQuZWxlbWVudENsYXNzIT09ci5PQkpFQ1RfQ0xBU1NfTElORSYmdC5lbGVtZW50Q2xhc3MhPT1yLk9CSkVDVF9DTEFTU19DVVJWRXx8dGhpcy51cGRhdGVQYXRoV2l0aEFycm93SGVhZHModCwhMCkpfXJldHVybiB0aGlzfSxub0hpZ2hsaWdodDpmdW5jdGlvbih0KXt2YXIgZSxpLHM9dC52aXNQcm9wO2lmKHRoaXMuc2V0T2JqZWN0VHJhbnNpdGlvbih0KSwhbi5ldmFsdWF0ZSh0LnZpc1Byb3AuZHJhZnQpKXtpZih0LnR5cGU9PT1yLk9CSkVDVF9UWVBFX1BPTFlHT04pZm9yKHRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQscy5maWxsY29sb3Iscy5maWxsb3BhY2l0eSksZT0wO2U8dC5ib3JkZXJzLmxlbmd0aDtlKyspdGhpcy5zZXRPYmplY3RTdHJva2VDb2xvcih0LmJvcmRlcnNbZV0sdC5ib3JkZXJzW2VdLnZpc1Byb3Auc3Ryb2tlY29sb3IsdC5ib3JkZXJzW2VdLnZpc1Byb3Auc3Ryb2tlb3BhY2l0eSk7ZWxzZSB0LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX1RFWFQ/dGhpcy51cGRhdGVUZXh0U3R5bGUodCwhMSk6dC50eXBlPT09ci5PQkpFQ1RfVFlQRV9JTUFHRT8odGhpcy51cGRhdGVJbWFnZVN0eWxlKHQsITEpLHRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQscy5maWxsY29sb3Iscy5maWxsb3BhY2l0eSkpOih0aGlzLnNldE9iamVjdFN0cm9rZUNvbG9yKHQscy5zdHJva2Vjb2xvcixzLnN0cm9rZW9wYWNpdHkpLHRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQscy5maWxsY29sb3Iscy5maWxsb3BhY2l0eSkpO2k9bi5ldmFsdWF0ZShzLnN0cm9rZXdpZHRoKSx0aGlzLnNldE9iamVjdFN0cm9rZVdpZHRoKHQsaSksdC5lbGVtZW50Q2xhc3MhPT1yLk9CSkVDVF9DTEFTU19MSU5FJiZ0LmVsZW1lbnRDbGFzcyE9PXIuT0JKRUNUX0NMQVNTX0NVUlZFfHx0aGlzLnVwZGF0ZVBhdGhXaXRoQXJyb3dIZWFkcyh0LCExKX1yZXR1cm4gdGhpc30sc3VzcGVuZFJlZHJhdzpmdW5jdGlvbigpe30sdW5zdXNwZW5kUmVkcmF3OmZ1bmN0aW9uKCl7fSxkcmF3Wm9vbUJhcjpmdW5jdGlvbih0LGUpe3ZhciBpLHIscz1mdW5jdGlvbih0KXt0fHwodD13aW5kb3cuZXZlbnQpLHQuc3RvcFByb3BhZ2F0aW9uP3Quc3RvcFByb3BhZ2F0aW9uKCk6dC5jYW5jZWxCdWJibGU9ITB9LG89ZnVuY3Rpb24oZSxvKXt2YXIgaDtoPWkuY3JlYXRlRWxlbWVudChcInNwYW5cIiksci5hcHBlbmRDaGlsZChoKSxoLmFwcGVuZENoaWxkKGkuY3JlYXRlVGV4dE5vZGUoZSkpLGguc3R5bGUucGFkZGluZ0xlZnQ9XCI3cHhcIixoLnN0eWxlLnBhZGRpbmdSaWdodD1cIjdweFwiLHZvaWQgMCE9PWguY2xhc3NMaXN0JiZoLmNsYXNzTGlzdC5hZGQoXCJKWEdfbmF2aWdhdGlvbl9idXR0b25cIiksYS5hZGRFdmVudChoLFwiY2xpY2tcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIG4uYmluZChvLHQpKCksITF9KSx0KSxhLmFkZEV2ZW50KGgsXCJtb3VzZXVwXCIscyx0KSxhLmFkZEV2ZW50KGgsXCJtb3VzZWRvd25cIixzLHQpLGEuYWRkRXZlbnQoaCxcInRvdWNoZW5kXCIscyx0KSxhLmFkZEV2ZW50KGgsXCJ0b3VjaHN0YXJ0XCIscyx0KX07YS5pc0Jyb3dzZXImJlwibm9cIiE9PXRoaXMudHlwZSYmKGk9dC5jb250YWluZXJPYmoub3duZXJEb2N1bWVudCwocj1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnNldEF0dHJpYnV0ZShcImlkXCIsdC5jb250YWluZXJPYmouaWQrXCJfbmF2aWdhdGlvbmJhclwiKSxyLnN0eWxlLmNvbG9yPWUuc3Ryb2tlY29sb3Isci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZS5maWxsY29sb3Isci5zdHlsZS5wYWRkaW5nPWUucGFkZGluZyxyLnN0eWxlLnBvc2l0aW9uPWUucG9zaXRpb24sci5zdHlsZS5mb250U2l6ZT1lLmZvbnRzaXplLHIuc3R5bGUuY3Vyc29yPWUuY3Vyc29yLHIuc3R5bGUuekluZGV4PWUuemluZGV4LHQuY29udGFpbmVyT2JqLmFwcGVuZENoaWxkKHIpLHIuc3R5bGUucmlnaHQ9ZS5yaWdodCxyLnN0eWxlLmJvdHRvbT1lLmJvdHRvbSx2b2lkIDAhPT1yLmNsYXNzTGlzdCYmci5jbGFzc0xpc3QuYWRkKFwiSlhHX25hdmlnYXRpb25cIiksdC5hdHRyLnNob3dmdWxsc2NyZWVuJiZvKHQuYXR0ci5mdWxsc2NyZWVuLnN5bWJvbCwoZnVuY3Rpb24oKXt0LnRvRnVsbHNjcmVlbih0LmF0dHIuZnVsbHNjcmVlbi5pZCl9KSksdC5hdHRyLnNob3dzY3JlZW5zaG90JiZvKHQuYXR0ci5zY3JlZW5zaG90LnN5bWJvbCwoZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnJlbmRlcmVyLnNjcmVlbnNob3QodCxcIlwiLCExKX0pLDMzMCl9KSksdC5hdHRyLnNob3dyZWxvYWQmJm8oXCLihrtcIiwoZnVuY3Rpb24oKXt0LnJlbG9hZCgpfSkpLHQuYXR0ci5zaG93Y2xlYXJ0cmFjZXMmJm8oXCLiipdcIiwoZnVuY3Rpb24oKXt0LmNsZWFyVHJhY2VzKCl9KSksdC5hdHRyLnNob3duYXZpZ2F0aW9uJiYodC5hdHRyLnNob3d6b29tJiYobyhcIuKAk1wiLHQuem9vbU91dCksbyhcIm9cIix0Lnpvb20xMDApLG8oXCIrXCIsdC56b29tSW4pKSxvKFwi4oaQXCIsdC5jbGlja0xlZnRBcnJvdyksbyhcIuKGk1wiLHQuY2xpY2tVcEFycm93KSxvKFwi4oaRXCIsdC5jbGlja0Rvd25BcnJvdyksbyhcIuKGklwiLHQuY2xpY2tSaWdodEFycm93KSkpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbih0KXtyZXR1cm4gbi5leGlzdHModGhpcy5jb250YWluZXIpP3RoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jb250YWluZXIuaWQrXCJfXCIrdCk6XCJcIn0scmVtb3ZlVG9JbnNlcnRMYXRlcjpmdW5jdGlvbih0KXt2YXIgZT10LnBhcmVudE5vZGUsaT10Lm5leHRTaWJsaW5nO2lmKG51bGwhPT1lKXJldHVybiBlLnJlbW92ZUNoaWxkKHQpLGZ1bmN0aW9uKCl7aT9lLmluc2VydEJlZm9yZSh0LGkpOmUuYXBwZW5kQ2hpbGQodCl9fSxyZXNpemU6ZnVuY3Rpb24odCxlKXt9LGNyZWF0ZVRvdWNocG9pbnRzOmZ1bmN0aW9uKHQpe30sc2hvd1RvdWNocG9pbnQ6ZnVuY3Rpb24odCl7fSxoaWRlVG91Y2hwb2ludDpmdW5jdGlvbih0KXt9LHVwZGF0ZVRvdWNocG9pbnQ6ZnVuY3Rpb24odCxlKXt9LGR1bXBUb0RhdGFVUkk6ZnVuY3Rpb24odCl7fSxkdW1wVG9DYW52YXM6ZnVuY3Rpb24odCxlLGkscil7fSxzY3JlZW5zaG90OmZ1bmN0aW9uKHQpe30sc2V0TGF5ZXI6ZnVuY3Rpb24odCxlKXt9fSksdC5BYnN0cmFjdFJlbmRlcmVyfSkpLGRlZmluZShcInJlYWRlci9maWxlXCIsW1wianhnXCIsXCJ1dGlscy9lbnZcIixcInV0aWxzL3R5cGVcIixcInV0aWxzL2VuY29kaW5nXCIsXCJ1dGlscy9iYXNlNjRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRmlsZVJlYWRlcj17aGFuZGxlUmVtb3RlRmlsZTpmdW5jdGlvbihlLG8sbixhLGgsbCl7dmFyIGM9ITE7dHJ5e2M9bmV3IFhNTEh0dHBSZXF1ZXN0LFwicmF3XCI9PT1uLnRvTG93ZXJDYXNlKCk/Yy5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD1cIitoKTpjLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3htbDsgY2hhcnNldD1cIitoKX1jYXRjaCh0KXt0cnl7Yz1uZXcgQWN0aXZlWE9iamVjdChcIk1zeG1sMi5YTUxIVFRQXCIpfWNhdGNoKHQpe3RyeXtjPW5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2godCl7Yz0hMX19fWlmKGMpe2Mub3BlbihcIkdFVFwiLGUsYSksXCJyYXdcIj09PW4udG9Mb3dlckNhc2UoKT90aGlzLmNicD1mdW5jdGlvbigpe3ZhciB0PWM7ND09PXQucmVhZHlTdGF0ZSYmbyh0LnJlc3BvbnNlVGV4dCl9OnRoaXMuY2JwPWZ1bmN0aW9uKCl7dmFyIHQ9YyxlPVwiXCI7ND09PXQucmVhZHlTdGF0ZSYmKGU9IWkuZXhpc3RzKHQucmVzcG9uc2VTdHJlYW0pfHxcIlBLXCIhPT10LnJlc3BvbnNlVGV4dC5zbGljZSgwLDIpJiYzMSE9PXIuYXNjaWlDaGFyQ29kZUF0KHQucmVzcG9uc2VUZXh0LnNsaWNlKDAsMSksMCk/dC5yZXNwb25zZVRleHQ6cy5kZWNvZGUoanhnQmluRmlsZVJlYWRlcih0KSksdGhpcy5wYXJzZVN0cmluZyhlLG8sbixsKSl9LHRoaXMuY2I9aS5iaW5kKHRoaXMuY2JwLHRoaXMpLGMub25yZWFkeXN0YXRlY2hhbmdlPXRoaXMuY2I7dHJ5e2Muc2VuZChudWxsKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQSBwcm9ibGVtIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byByZWFkIHJlbW90ZSBmaWxlICdcIitlK1wiJy5cIil9fWVsc2UgdC5kZWJ1ZyhcIkFKQVggbm90IGFjdGl2YXRlZCFcIil9LGhhbmRsZUxvY2FsRmlsZTpmdW5jdGlvbih0LGUscixzLG8sbil7aS5leGlzdHMocyl8fChzPSEwKSxcInJhd1wiPT09ci50b0xvd2VyQ2FzZSgpP3RoaXMuY2JwPWZ1bmN0aW9uKHQpe2UodC50YXJnZXQucmVzdWx0KX06dGhpcy5jYnA9ZnVuY3Rpb24odCl7dmFyIGk9dC50YXJnZXQucmVzdWx0O3RoaXMucGFyc2VTdHJpbmcoaSxlLHIsbil9LHRoaXMuY2I9aS5iaW5kKHRoaXMuY2JwLHRoaXMpO3ZhciBhPW5ldyBGaWxlUmVhZGVyO2Eub25sb2FkPXRoaXMuY2IsXCJyYXdcIj09PXIudG9Mb3dlckNhc2UoKT9hLnJlYWRBc1RleHQodCk6YS5yZWFkQXNUZXh0KHQsbyl9LHBhcnNlRmlsZUNvbnRlbnQ6ZnVuY3Rpb24odCxlLHIscyxvLG4pe2kuaXNTdHJpbmcodCl8fHZvaWQgMD09PUZpbGVSZWFkZXI/dGhpcy5oYW5kbGVSZW1vdGVGaWxlKHQsZSxyLHMsbyxuKTp0aGlzLmhhbmRsZUxvY2FsRmlsZSh0LGUscixzLG8sbil9LHBhcnNlU3RyaW5nOmZ1bmN0aW9uKGUscixzLG8pe3ZhciBuO2lmKHM9cy50b0xvd2VyQ2FzZSgpLG49dC5yZWFkZXJzW3NdLGkuZXhpc3RzKG4pKW5ldyBuKHIsZSkucmVhZCgpO2Vsc2UgaWYoXCJqZXNzaWVjb2RlXCIhPT1zKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBUaGVyZSBpcyBubyByZWFkZXIgYXZhaWxhYmxlIGZvciAnXCIrcytcIicuXCIpO2kuaXNGdW5jdGlvbihvKSYmbyhyKX19LCFlLmlzTWV0cm9BcHAoKSYmZS5pc0Jyb3dzZXImJlwib2JqZWN0XCI9PXR5cGVvZiBuYXZpZ2F0b3ImJi9tc2llL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIS9vcGVyYS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJmRvY3VtZW50JiZkb2N1bWVudC53cml0ZSYmZG9jdW1lbnQud3JpdGUoJzxzY3JpcHQgdHlwZT1cInRleHQvdmJzY3JpcHRcIj5cXG5GdW5jdGlvbiBCYXNlNjRFbmNvZGUoaW5EYXRhKVxcbiAgQ29uc3QgQmFzZTY0ID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCJcXG4gIERpbSBjT3V0LCBzT3V0LCBJXFxuICBGb3IgSSA9IDEgVG8gTGVuQihpbkRhdGEpIFN0ZXAgM1xcbiAgICBEaW0gbkdyb3VwLCBwT3V0LCBzR3JvdXBcXG4gICAgbkdyb3VwID0gJkgxMDAwMCAqIEFzY0IoTWlkQihpbkRhdGEsIEksIDEpKSArIF9cXG4gICAgICAmSDEwMCAqIE15QVNDKE1pZEIoaW5EYXRhLCBJICsgMSwgMSkpICsgTXlBU0MoTWlkQihpbkRhdGEsIEkgKyAyLCAxKSlcXG4gICAgbkdyb3VwID0gT2N0KG5Hcm91cClcXG4gICAgbkdyb3VwID0gU3RyaW5nKDggLSBMZW4obkdyb3VwKSwgXCIwXCIpICYgbkdyb3VwXFxuICAgIHBPdXQgPSBNaWQoQmFzZTY0LCBDTG5nKFwiJm9cIiAmIE1pZChuR3JvdXAsIDEsIDIpKSArIDEsIDEpICsgX1xcbiAgICAgIE1pZChCYXNlNjQsIENMbmcoXCImb1wiICYgTWlkKG5Hcm91cCwgMywgMikpICsgMSwgMSkgKyBfXFxuICAgICAgTWlkKEJhc2U2NCwgQ0xuZyhcIiZvXCIgJiBNaWQobkdyb3VwLCA1LCAyKSkgKyAxLCAxKSArIF9cXG4gICAgICBNaWQoQmFzZTY0LCBDTG5nKFwiJm9cIiAmIE1pZChuR3JvdXAsIDcsIDIpKSArIDEsIDEpXFxuICAgIHNPdXQgPSBzT3V0ICsgcE91dFxcbiAgTmV4dFxcbiAgU2VsZWN0IENhc2UgTGVuQihpbkRhdGEpIE1vZCAzXFxuICAgIENhc2UgMTogXFwnOCBiaXQgZmluYWxcXG4gICAgICBzT3V0ID0gTGVmdChzT3V0LCBMZW4oc091dCkgLSAyKSArIFwiPT1cIlxcbiAgICBDYXNlIDI6IFxcJzE2IGJpdCBmaW5hbFxcbiAgICAgIHNPdXQgPSBMZWZ0KHNPdXQsIExlbihzT3V0KSAtIDEpICsgXCI9XCJcXG4gIEVuZCBTZWxlY3RcXG4gIEJhc2U2NEVuY29kZSA9IHNPdXRcXG5FbmQgRnVuY3Rpb25cXG5cXG5GdW5jdGlvbiBNeUFTQyhPbmVDaGFyKVxcbiAgSWYgT25lQ2hhciA9IFwiXCIgVGhlbiBNeUFTQyA9IDAgRWxzZSBNeUFTQyA9IEFzY0IoT25lQ2hhcilcXG5FbmQgRnVuY3Rpb25cXG5cXG5GdW5jdGlvbiBqeGdCaW5GaWxlUmVhZGVyKHhocilcXG4gICAgRGltIGJ5dGVTdHJpbmdcXG4gICAgRGltIGI2NFN0cmluZ1xcbiAgICBEaW0gaVxcbiAgICBieXRlU3RyaW5nID0geGhyLnJlc3BvbnNlQm9keVxcbiAgICBSZURpbSBieXRlQXJyYXkoTGVuQihieXRlU3RyaW5nKSlcXG4gICAgRm9yIGkgPSAxIFRvIExlbkIoYnl0ZVN0cmluZylcXG4gICAgICAgIGJ5dGVBcnJheShpLTEpID0gQXNjQihNaWRCKGJ5dGVTdHJpbmcsIGksIDEpKVxcbiAgICBOZXh0XFxuICAgIGI2NFN0cmluZyA9IEJhc2U2NEVuY29kZShieXRlU3RyaW5nKVxcbiAgICBqeGdCaW5GaWxlUmVhZGVyID0gYjY0U3RyaW5nXFxuRW5kIEZ1bmN0aW9uXFxuPFxcL3NjcmlwdD5cXG4nKSx0LkZpbGVSZWFkZXJ9KSksZGVmaW5lKFwicGFyc2VyL2dlb25leHRcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuR2VvbmV4dFBhcnNlcj17cmVwbGFjZVBvdzpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG4sYSxoLGwsYyxkLHU7Zm9yKGM9KHQ9dC5yZXBsYWNlKC8oXFxzKilcXF4oXFxzKikvZyxcIl5cIikpLmluZGV4T2YoXCJeXCIpLHM9LTE7Yz49MCYmYzx0Lmxlbmd0aC0xOyl7aWYocz09PWMpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IEVycm9yIHdoaWxlIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrdCtcIidcIik7aWYocz1jLGw9dC5zbGljZSgwLGMpLGQ9dC5zbGljZShjKzEpLFwiKVwiPT09bC5jaGFyQXQobC5sZW5ndGgtMSkpe2ZvcihlPTEsaT1sLmxlbmd0aC0yO2k+PTAmJmU+MDspXCIpXCI9PT0ocj1sLmNoYXJBdChpKSk/ZSsrOlwiKFwiPT09ciYmKGUtPTEpLGktPTE7aWYoMCE9PWUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IE1pc3NpbmcgJygnIGluIGV4cHJlc3Npb25cIik7Zm9yKG89XCJcIixhPWwuc3Vic3RyaW5nKDAsaSsxKSxoPWk7aD49MCYmYS5zdWJzdHIoaCwxKS5tYXRjaCgvKFtcXHcuXSspLyk7KW89UmVnRXhwLiQxK28saC09MTtvPShvKz1sLnN1YnN0cmluZyhpKzEsbC5sZW5ndGgpKS5yZXBsYWNlKC8oWygpKyolXlxcLS9cXF1bXSkvZyxcIlxcXFwkMVwiKX1lbHNlIG89XCJbXFxcXHdcXFxcLl0rXCI7aWYoZC5tYXRjaCgvXihbXFx3Ll0qXFwoKS8pKXtmb3IoZT0xLGk9UmVnRXhwLiQxLmxlbmd0aDtpPGQubGVuZ3RoJiZlPjA7KVwiKVwiPT09KHI9ZC5jaGFyQXQoaSkpP2UtPTE6XCIoXCI9PT1yJiYoZSs9MSksaSs9MTtpZigwIT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogTWlzc2luZyAnKScgaW4gZXhwcmVzc2lvblwiKTtuPShuPWQuc3Vic3RyaW5nKDAsaSkpLnJlcGxhY2UoLyhbKCkrKiVeXFwtL1tcXF1dKS9nLFwiXFxcXCQxXCIpfWVsc2Ugbj1cIltcXFxcd1xcXFwuXStcIjt1PW5ldyBSZWdFeHAoXCIoXCIrbytcIilcXFxcXihcIituK1wiKVwiKSxjPSh0PXQucmVwbGFjZSh1LFwicG93KCQxLCQyKVwiKSkuaW5kZXhPZihcIl5cIil9cmV0dXJuIHR9LHJlcGxhY2VJZjpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG4sYSxoLGwsYz1cIlwiLGQ9bnVsbCx1PW51bGwscD1udWxsO2lmKChyPXQuaW5kZXhPZihcIklmKFwiKSk8MClyZXR1cm4gdDtmb3IodD10LnJlcGxhY2UoL1wiXCIvZyxcIjBcIik7cj49MDspe2ZvcihlPXQuc2xpY2UoMCxyKSxpPXQuc2xpY2UociszKSxvPTEscz0wLG49LTEsYT0tMTtzPGkubGVuZ3RoJiZvPjA7KVwiKVwiPT09KGg9aS5jaGFyQXQocykpP28tPTE6XCIoXCI9PT1oP28rPTE6XCIsXCI9PT1oJiYxPT09byYmKG48MD9uPXM6YT1zKSxzKz0xO2lmKGw9aS5zbGljZSgwLHMtMSksaT1pLnNsaWNlKHMpLG48MClyZXR1cm5cIlwiO2lmKGE8MClyZXR1cm5cIlwiO2Q9bC5zbGljZSgwLG4pLHU9bC5zbGljZShuKzEsYSkscD1sLnNsaWNlKGErMSksYys9ZStcIigoXCIrKGQ9dGhpcy5yZXBsYWNlSWYoZCkpK1wiKT8oXCIrKHU9dGhpcy5yZXBsYWNlSWYodSkpK1wiKTooXCIrKHA9dGhpcy5yZXBsYWNlSWYocCkpK1wiKSlcIixkPW51bGwsdT1udWxsLHI9KHQ9aSkuaW5kZXhPZihcIklmKFwiKX1yZXR1cm4gYys9aX0scmVwbGFjZU5hbWVCeUlkOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhPTAsaD1bXCJYXCIsXCJZXCIsXCJMXCIsXCJWXCJdLGw9ZnVuY3Rpb24odCl7cmV0dXJuIGk/XCIkKCdcIit0K1wiJylcIjp0fTtmb3Iobj0wO248aC5sZW5ndGg7bisrKWZvcihhPXQuaW5kZXhPZihoW25dK1wiKFwiKTthPj0wOylhPj0wJiYocj10LmluZGV4T2YoXCIpXCIsYSsyKSk+PTAmJihzPShzPXQuc2xpY2UoYSsyLHIpKS5yZXBsYWNlKC9cXFxcKFsnXCJdKT8vZyxcIiQxXCIpLChvPWUuZWxlbWVudHNCeU5hbWVbc10pJiYodD10LnNsaWNlKDAsYSsyKSsoaT9cIiQoJ1wiOlwiXCIpK2woby5pZCkrdC5zbGljZShyKSkpLHI9dC5pbmRleE9mKFwiKVwiLGErMiksYT10LmluZGV4T2YoaFtuXStcIihcIixyKTtmb3IoYT10LmluZGV4T2YoXCJEaXN0KFwiKTthPj0wOylhPj0wJiYocj10LmluZGV4T2YoXCIsXCIsYSs1KSk+PTAmJihzPShzPXQuc2xpY2UoYSs1LHIpKS5yZXBsYWNlKC9cXFxcKFsnXCJdKT8vZyxcIiQxXCIpLChvPWUuZWxlbWVudHNCeU5hbWVbc10pJiYodD10LnNsaWNlKDAsYSs1KStsKG8uaWQpK3Quc2xpY2UocikpKSxyPXQuaW5kZXhPZihcIixcIixhKzUpLGE9dC5pbmRleE9mKFwiLFwiLHIpLChyPXQuaW5kZXhPZihcIilcIixhKzEpKT49MCYmKHM9KHM9dC5zbGljZShhKzEscikpLnJlcGxhY2UoL1xcXFwoWydcIl0pPy9nLFwiJDFcIiksKG89ZS5lbGVtZW50c0J5TmFtZVtzXSkmJih0PXQuc2xpY2UoMCxhKzEpK2woby5pZCkrdC5zbGljZShyKSkpLHI9dC5pbmRleE9mKFwiKVwiLGErMSksYT10LmluZGV4T2YoXCJEaXN0KFwiLHIpO2ZvcihoPVtcIkRlZ1wiLFwiUmFkXCJdLG49MDtuPGgubGVuZ3RoO24rKylmb3IoYT10LmluZGV4T2YoaFtuXStcIihcIik7YT49MDspYT49MCYmKHI9dC5pbmRleE9mKFwiLFwiLGErNCkpPj0wJiYocz0ocz10LnNsaWNlKGErNCxyKSkucmVwbGFjZSgvXFxcXChbJ1wiXSk/L2csXCIkMVwiKSwobz1lLmVsZW1lbnRzQnlOYW1lW3NdKSYmKHQ9dC5zbGljZSgwLGErNCkrbChvLmlkKSt0LnNsaWNlKHIpKSkscj10LmluZGV4T2YoXCIsXCIsYSs0KSxhPXQuaW5kZXhPZihcIixcIixyKSwocj10LmluZGV4T2YoXCIsXCIsYSsxKSk+PTAmJihzPShzPXQuc2xpY2UoYSsxLHIpKS5yZXBsYWNlKC9cXFxcKFsnXCJdKT8vZyxcIiQxXCIpLChvPWUuZWxlbWVudHNCeU5hbWVbc10pJiYodD10LnNsaWNlKDAsYSsxKStsKG8uaWQpK3Quc2xpY2UocikpKSxyPXQuaW5kZXhPZihcIixcIixhKzEpLGE9dC5pbmRleE9mKFwiLFwiLHIpLChyPXQuaW5kZXhPZihcIilcIixhKzEpKT49MCYmKHM9KHM9dC5zbGljZShhKzEscikpLnJlcGxhY2UoL1xcXFwoWydcIl0pPy9nLFwiJDFcIiksKG89ZS5lbGVtZW50c0J5TmFtZVtzXSkmJih0PXQuc2xpY2UoMCxhKzEpK2woby5pZCkrdC5zbGljZShyKSkpLHI9dC5pbmRleE9mKFwiKVwiLGErMSksYT10LmluZGV4T2YoaFtuXStcIihcIixyKTtyZXR1cm4gdH0scmVwbGFjZUlkQnlPYmo6ZnVuY3Rpb24odCl7dmFyIGU9LyhYfFl8TClcXCgoW1xcd19dKylcXCkvZztyZXR1cm4gdD10LnJlcGxhY2UoZSxcIiQoJyQyJykuJDEoKVwiKSxlPS8oVilcXCgoW1xcd19dKylcXCkvZyx0PXQucmVwbGFjZShlLFwiJCgnJDInKS5WYWx1ZSgpXCIpLGU9LyhEaXN0KVxcKChbXFx3X10rKSwoW1xcd19dKylcXCkvZyx0PXQucmVwbGFjZShlLFwiZGlzdCgkKCckMicpLCAkKCckMycpKVwiKSxlPS8oRGVnKVxcKChbXFx3X10rKSwoWyBcXHdbXFx3X10rKSwoW1xcd19dKylcXCkvZyx0PXQucmVwbGFjZShlLFwiZGVnKCQoJyQyJyksJCgnJDMnKSwkKCckNCcpKVwiKSxlPS9SYWRcXCgoW1xcd19dKyksKFtcXHdfXSspLChbXFx3X10rKVxcKS9nLHQ9dC5yZXBsYWNlKGUsXCJyYWQoJCgnJDEnKSwkKCckMicpLCQoJyQzJykpXCIpLGU9L05cXCgoLispXFwpL2csdD10LnJlcGxhY2UoZSxcIigkMSlcIil9LGdlb25leHQySlM6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbz1bXCJBYnNcIixcIkFDb3NcIixcIkFTaW5cIixcIkFUYW5cIixcIkNlaWxcIixcIkNvc1wiLFwiRXhwXCIsXCJGYWN0b3JpYWxcIixcIkZsb29yXCIsXCJMb2dcIixcIk1heFwiLFwiTWluXCIsXCJSYW5kb21cIixcIlJvdW5kXCIsXCJTaW5cIixcIlNxcnRcIixcIlRhblwiLFwiVHJ1bmNcIl0sbj1bXCJhYnNcIixcImFjb3NcIixcImFzaW5cIixcImF0YW5cIixcImNlaWxcIixcImNvc1wiLFwiZXhwXCIsXCJmYWN0b3JpYWxcIixcImZsb29yXCIsXCJsb2dcIixcIm1heFwiLFwibWluXCIsXCJyYW5kb21cIixcInJvdW5kXCIsXCJzaW5cIixcInNxcnRcIixcInRhblwiLFwiY2VpbFwiXTtmb3Iocj10PSh0PSh0PXQucmVwbGFjZSgvJmx0Oy9nLFwiPFwiKSkucmVwbGFjZSgvJmd0Oy9nLFwiPlwiKSkucmVwbGFjZSgvJmFtcDsvZyxcIiZcIikscj10aGlzLnJlcGxhY2VOYW1lQnlJZChyLGUpLHI9dGhpcy5yZXBsYWNlSWYocikscj10aGlzLnJlcGxhY2VQb3cocikscj10aGlzLnJlcGxhY2VJZEJ5T2JqKHIpLHM9MDtzPG8ubGVuZ3RoO3MrKylpPW5ldyBSZWdFeHAoW1wiKFxcXFxXfF4pKFwiLG9bc10sXCIpXCJdLmpvaW4oXCJcIiksXCJpZ1wiKSxyPXIucmVwbGFjZShpLFtcIiQxXCIsbltzXV0uam9pbihcIlwiKSk7cmV0dXJuIHI9KHI9KHI9KHI9KHI9ci5yZXBsYWNlKC9UcnVlL2csXCJ0cnVlXCIpKS5yZXBsYWNlKC9GYWxzZS9nLFwiZmFsc2VcIikpLnJlcGxhY2UoL2Zhc2xlL2csXCJmYWxzZVwiKSkucmVwbGFjZSgvUGkvZyxcIlBJXCIpKS5yZXBsYWNlKC9cIi9nLFwiJ1wiKX0sZmluZERlcGVuZGVuY2llczpmdW5jdGlvbih0LHIscyl7dmFyIG8sbixhLGg7Zm9yKG4gaW4gaS5leGlzdHMocyl8fChzPXQuYm9hcmQpLG89cy5lbGVtZW50c0J5TmFtZSlvLmhhc093blByb3BlcnR5KG4pJiZuIT09dC5uYW1lJiYob1tuXS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19URVhUJiZpLmV2YWx1YXRlKG9bbl0udmlzUHJvcC5pc2xhYmVsKXx8KGg9KGg9bi5yZXBsYWNlKC9cXFsvZyxcIlxcXFxbXCIpKS5yZXBsYWNlKC9cXF0vZyxcIlxcXFxdXCIpLGE9bmV3IFJlZ0V4cChcIlxcXFwoKFtcXFxcd1xcXFxbXFxcXF0nXyBdKywpKihcIitoK1wiKSgsW1xcXFx3XFxcXFtcXFxcXSdfIF0rKSpcXFxcKVwiLFwiZ1wiKSxyLnNlYXJjaChhKT49MCYmb1tuXS5hZGRDaGlsZCh0KSkpfSxneHQyamM6ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gaT10PSh0PSh0PXQucmVwbGFjZSgvJmx0Oy9nLFwiPFwiKSkucmVwbGFjZSgvJmd0Oy9nLFwiPlwiKSkucmVwbGFjZSgvJmFtcDsvZyxcIiZcIiksaT0oaT0oaT0oaT10aGlzLnJlcGxhY2VOYW1lQnlJZChpLGUsITApKS5yZXBsYWNlKC9UcnVlL2csXCJ0cnVlXCIpKS5yZXBsYWNlKC9GYWxzZS9nLFwiZmFsc2VcIikpLnJlcGxhY2UoL2Zhc2xlL2csXCJmYWxzZVwiKX19LHQuR2VvbmV4dFBhcnNlcn0pKSxkZWZpbmUoXCJiYXNlL2VsZW1lbnRcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL3N0YXRpc3RpY3NcIixcIm9wdGlvbnNcIixcInV0aWxzL2V2ZW50XCIsXCJ1dGlscy9jb2xvclwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhLGgpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lkdlb21ldHJ5RWxlbWVudD1mdW5jdGlvbih0LGkscixzKXt2YXIgbyxhLGw7aWYodGhpcy5uZWVkc1VwZGF0ZT0hMCx0aGlzLmlzRHJhZ2dhYmxlPSExLHRoaXMuaXNSZWFsPSEwLHRoaXMuY2hpbGRFbGVtZW50cz17fSx0aGlzLmhhc0xhYmVsPSExLHRoaXMuaGlnaGxpZ2h0ZWQ9ITEsdGhpcy5ub3RFeGlzdGluZ1BhcmVudHM9e30sdGhpcy50cmFjZXM9e30sdGhpcy5udW1UcmFjZXM9MCx0aGlzLnRyYW5zZm9ybWF0aW9ucz1bXSx0aGlzLmJhc2VFbGVtZW50PW51bGwsdGhpcy5kZXNjZW5kYW50cz17fSx0aGlzLmFuY2VzdG9ycz17fSx0aGlzLnBhcmVudHM9W10sdGhpcy5zeW1ib2xpYz17fSx0aGlzLnJlbmROb2RlPW51bGwsdGhpcy5lbFR5cGU9XCJcIix0aGlzLmR1bXA9ITAsdGhpcy5zdWJzPXt9LHRoaXMuaW5oZXJpdHM9W10sdGhpcy5fcG9zPS0xLHRoaXMuc3RkZm9ybT1bMSwwLDAsMCwxLDEsMCwwXSx0aGlzLm1ldGhvZE1hcD17c2V0TGFiZWw6XCJzZXRMYWJlbFwiLGxhYmVsOlwibGFiZWxcIixzZXROYW1lOlwic2V0TmFtZVwiLGdldE5hbWU6XCJnZXROYW1lXCIsYWRkVHJhbnNmb3JtOlwiYWRkVHJhbnNmb3JtXCIsc2V0UHJvcGVydHk6XCJzZXRBdHRyaWJ1dGVcIixzZXRBdHRyaWJ1dGU6XCJzZXRBdHRyaWJ1dGVcIixhZGRDaGlsZDpcImFkZENoaWxkXCIsYW5pbWF0ZTpcImFuaW1hdGVcIixvbjpcIm9uXCIsb2ZmOlwib2ZmXCIsdHJpZ2dlcjpcInRyaWdnZXJcIixhZGRUaWNrczpcImFkZFRpY2tzXCIscmVtb3ZlVGlja3M6XCJyZW1vdmVUaWNrc1wiLHJlbW92ZUFsbFRpY2tzOlwicmVtb3ZlQWxsVGlja3NcIn0sdGhpcy5xdWFkcmF0aWNmb3JtPVtbMSwwLDBdLFswLDEsMF0sWzAsMCwxXV0sdGhpcy52aXNQcm9wPXt9LHRoaXMudmlzUHJvcENhbGM9e3Zpc2libGU6ITF9LG4uZXZlbnRpZnkodGhpcyksdGhpcy5tb3VzZW92ZXI9ITEsdGhpcy5sYXN0RHJhZ1RpbWU9bmV3IERhdGUsYXJndW1lbnRzLmxlbmd0aD4wKXtmb3IoYSBpbiB0aGlzLmJvYXJkPXQsdGhpcy50eXBlPXIsdGhpcy5fb3JnX3R5cGU9cix0aGlzLmVsZW1lbnRDbGFzcz1zfHxlLk9CSkVDVF9DTEFTU19PVEhFUix0aGlzLmlkPWkuaWQsbz1pLm5hbWUsaC5leGlzdHMobyl8fChvPXRoaXMuYm9hcmQuZ2VuZXJhdGVOYW1lKHRoaXMpKSxcIlwiIT09byYmKHRoaXMuYm9hcmQuZWxlbWVudHNCeU5hbWVbb109dGhpcyksdGhpcy5uYW1lPW8sdGhpcy5uZWVkc1JlZ3VsYXJVcGRhdGU9aS5uZWVkc3JlZ3VsYXJ1cGRhdGUsaC5jbGVhclZpc1Byb3BPbGQodGhpcyksbD10aGlzLnJlc29sdmVTaG9ydGN1dHMoaSkpbC5oYXNPd25Qcm9wZXJ0eShhKSYmdGhpcy5fc2V0KGEsbFthXSk7dGhpcy52aXNQcm9wLmRyYWZ0PWwuZHJhZnQmJmwuZHJhZnQuZHJhZnR9fSx0LmV4dGVuZCh0Lkdlb21ldHJ5RWxlbWVudC5wcm90b3R5cGUse2FkZENoaWxkOmZ1bmN0aW9uKHQpe3ZhciBlLGk7Zm9yKGUgaW4gdGhpcy5jaGlsZEVsZW1lbnRzW3QuaWRdPXQsdGhpcy5hZGREZXNjZW5kYW50cyh0KSx0LmFuY2VzdG9yc1t0aGlzLmlkXT10aGlzLHRoaXMuZGVzY2VuZGFudHMpaWYodGhpcy5kZXNjZW5kYW50cy5oYXNPd25Qcm9wZXJ0eShlKSlmb3IoaSBpbiB0aGlzLmRlc2NlbmRhbnRzW2VdLmFuY2VzdG9yc1t0aGlzLmlkXT10aGlzLHRoaXMuYW5jZXN0b3JzKXRoaXMuYW5jZXN0b3JzLmhhc093blByb3BlcnR5KGkpJiYodGhpcy5kZXNjZW5kYW50c1tlXS5hbmNlc3RvcnNbdGhpcy5hbmNlc3RvcnNbaV0uaWRdPXRoaXMuYW5jZXN0b3JzW2ldKTtmb3IoZSBpbiB0aGlzLmFuY2VzdG9ycylpZih0aGlzLmFuY2VzdG9ycy5oYXNPd25Qcm9wZXJ0eShlKSlmb3IoaSBpbiB0aGlzLmRlc2NlbmRhbnRzKXRoaXMuZGVzY2VuZGFudHMuaGFzT3duUHJvcGVydHkoaSkmJih0aGlzLmFuY2VzdG9yc1tlXS5kZXNjZW5kYW50c1t0aGlzLmRlc2NlbmRhbnRzW2ldLmlkXT10aGlzLmRlc2NlbmRhbnRzW2ldKTtyZXR1cm4gdGhpc30sYWRkRGVzY2VuZGFudHM6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdGhpcy5kZXNjZW5kYW50c1t0LmlkXT10LHQuY2hpbGRFbGVtZW50cyl0LmNoaWxkRWxlbWVudHMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuYWRkRGVzY2VuZGFudHModC5jaGlsZEVsZW1lbnRzW2VdKTtyZXR1cm4gdGhpc30sYWRkUGFyZW50czpmdW5jdGlvbih0KXt2YXIgZSxpLHI7Zm9yKGk9KHI9aC5pc0FycmF5KHQpP3Q6YXJndW1lbnRzKS5sZW5ndGgsZT0wO2U8aTsrK2UpaC5leGlzdHMocltlXSkmJihoLmlzSWQodGhpcy5ib2FyZCxyW2VdKT90aGlzLnBhcmVudHMucHVzaChyW2VdKTpoLmV4aXN0cyhyW2VdLmlkKSYmdGhpcy5wYXJlbnRzLnB1c2gocltlXS5pZCkpO3RoaXMucGFyZW50cz1oLnVuaXF1ZUFycmF5KHRoaXMucGFyZW50cyl9LHNldFBhcmVudHM6ZnVuY3Rpb24odCl7dGhpcy5wYXJlbnRzPVtdLHRoaXMuYWRkUGFyZW50cyh0KX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIGRlbGV0ZSB0aGlzLmNoaWxkRWxlbWVudHNbdC5pZF0sdGhpcy5yZW1vdmVEZXNjZW5kYW50cyh0KSxkZWxldGUgdC5hbmNlc3RvcnNbdGhpcy5pZF0sdGhpc30scmVtb3ZlRGVzY2VuZGFudHM6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gZGVsZXRlIHRoaXMuZGVzY2VuZGFudHNbdC5pZF0sdC5jaGlsZEVsZW1lbnRzKXQuY2hpbGRFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5yZW1vdmVEZXNjZW5kYW50cyh0LmNoaWxkRWxlbWVudHNbZV0pO3JldHVybiB0aGlzfSxjb3VudENoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPTA7Zm9yKHQgaW4gZT10aGlzLmNoaWxkRWxlbWVudHMpZS5oYXNPd25Qcm9wZXJ0eSh0KSYmdC5pbmRleE9mKFwiTGFiZWxcIik8MCYmaSsrO3JldHVybiBpfSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX0sYWRkVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzfSxkcmFnZ2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0RyYWdnYWJsZSYmIWguZXZhbHVhdGUodGhpcy52aXNQcm9wLmZpeGVkKSYmXG4vKiF0aGlzLnZpc1Byb3AuZnJvemVuICYmKi90aGlzLnR5cGUhPT1lLk9CSkVDVF9UWVBFX0dMSURFUn0sc2V0UG9zaXRpb246ZnVuY3Rpb24odCxpKXt2YXIgcixzLG8sbixhPVtdO2lmKCFoLmV4aXN0cyh0aGlzLnBhcmVudHMpKXJldHVybiB0aGlzO2ZvcihvPXRoaXMucGFyZW50cy5sZW5ndGgscz0wO3M8bzsrK3MpaWYocj10aGlzLmJvYXJkLnNlbGVjdCh0aGlzLnBhcmVudHNbc10pLGguaXNQb2ludChyKSl7aWYoIXIuZHJhZ2dhYmxlKCkpcmV0dXJuIHRoaXM7YS5wdXNoKHIpfWZvcigzPT09aS5sZW5ndGgmJihpPWkuc2xpY2UoMSkpLG49dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixpLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSwobz1hLmxlbmd0aCk+MD9uLmFwcGx5T25jZShhKTp0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg+MCYmdGhpcy50cmFuc2Zvcm1hdGlvbnNbdGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoLTFdLmlzTnVtZXJpY01hdHJpeD90aGlzLnRyYW5zZm9ybWF0aW9uc1t0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGgtMV0ubWVsdChuKTp0aGlzLmFkZFRyYW5zZm9ybShuKSxzPTA7czxvOysrcylhW3NdLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0dMSURFUiYmYVtzXS51cGRhdGVHbGlkZXIoKTtyZXR1cm4gdGhpc30sc2V0UG9zaXRpb25EaXJlY3RseTpmdW5jdGlvbih0LHIsbyl7dmFyIG49bmV3IGkodCxyLHRoaXMuYm9hcmQsITEpLGE9bmV3IGkodCxvLHRoaXMuYm9hcmQsITEpLGg9cy5zdWJ0cmFjdChuLnVzckNvb3JkcyxhLnVzckNvb3Jkcyk7cmV0dXJuIHRoaXMuc2V0UG9zaXRpb24oZS5DT09SRFNfQllfVVNFUixoKSx0aGlzfSxnZW5lcmF0ZVBvbHlub21pYWw6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsaSl7aT1pfHx7fTt2YXIgcixzLG8sbj10aGlzLmJvYXJkLmF0dHIuYW5pbWF0aW9uZGVsYXksbD1NYXRoLmNlaWwoZS9uKSxjPXRoaXMsZD1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxuLGgsZDtmb3Iocj1hLnJnYjJoc3YodCksbj0oKHM9YS5yZ2IyaHN2KGUpKVswXS1yWzBdKS9sLGg9KHNbMV0tclsxXSkvbCxkPShzWzJdLXJbMl0pL2wsYy5hbmltYXRpb25EYXRhW2ldPVtdLG89MDtvPGw7bysrKWMuYW5pbWF0aW9uRGF0YVtpXVtsLW8tMV09YS5oc3YycmdiKHJbMF0rKG8rMSkqbixyWzFdKyhvKzEpKmgsclsyXSsobysxKSpkKX0sdT1mdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxuO2lmKHQ9cGFyc2VGbG9hdCh0KSxlPXBhcnNlRmxvYXQoZSksIWlzTmFOKHQpJiYhaXNOYU4oZSkpZm9yKG49KGUtdCkvbCxjLmFuaW1hdGlvbkRhdGFbaV09W10sbz0wO288bDtvKyspcz10KyhvKzEpKm4sYy5hbmltYXRpb25EYXRhW2ldW2wtby0xXT1yP01hdGguZmxvb3Iocyk6c307Zm9yKHIgaW4gdGhpcy5hbmltYXRpb25EYXRhPXt9LHQpaWYodC5oYXNPd25Qcm9wZXJ0eShyKSlzd2l0Y2gocz1yLnRvTG93ZXJDYXNlKCkpe2Nhc2VcInN0cm9rZWNvbG9yXCI6Y2FzZVwiZmlsbGNvbG9yXCI6ZCh0aGlzLnZpc1Byb3Bbc10sdFtyXSxzKTticmVhaztjYXNlXCJzaXplXCI6aWYoIWguaXNQb2ludCh0aGlzKSlicmVhazt1KHRoaXMudmlzUHJvcFtzXSx0W3JdLHMsITApO2JyZWFrO2Nhc2VcInN0cm9rZW9wYWNpdHlcIjpjYXNlXCJzdHJva2V3aWR0aFwiOmNhc2VcImZpbGxvcGFjaXR5XCI6dSh0aGlzLnZpc1Byb3Bbc10sdFtyXSxzLCExKX1yZXR1cm4gdGhpcy5hbmltYXRpb25DYWxsYmFjaz1pLmNhbGxiYWNrLHRoaXMuYm9hcmQuYWRkQW5pbWF0aW9uKHRoaXMpLHRoaXN9LHVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiBoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50cmFjZSkmJnRoaXMuY2xvbmVUb0JhY2tncm91bmQoKSx0aGlzfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxmdWxsVXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KHQpLnVwZGF0ZVJlbmRlcmVyKCl9LHNldERpc3BsYXlSZW5kTm9kZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvO2lmKHZvaWQgMD09PXQmJih0PXRoaXMudmlzUHJvcENhbGMudmlzaWJsZSksdD09PXRoaXMudmlzUHJvcE9sZC52aXNpYmxlKXJldHVybiB0aGlzO2Zvcih0aGlzLmJvYXJkLnJlbmRlcmVyLmRpc3BsYXkodGhpcyx0KSxpPXRoaXMuaW5oZXJpdHMubGVuZ3RoLHI9MDtyPGk7cisrKWlmKG89dGhpcy5pbmhlcml0c1tyXSxoLmlzQXJyYXkobykpZm9yKHM9by5sZW5ndGgsZT0wO2U8cztlKyspaC5leGlzdHMob1tlXSkmJmguZXhpc3RzKG9bZV0ucmVuZE5vZGUpJiZcImluaGVyaXRcIj09PWguZXZhbHVhdGUob1tlXS52aXNQcm9wLnZpc2libGUpJiZvW2VdLnNldERpc3BsYXlSZW5kTm9kZSh0KTtlbHNlIGguZXhpc3RzKG8pJiZoLmV4aXN0cyhvLnJlbmROb2RlKSYmXCJpbmhlcml0XCI9PT1oLmV2YWx1YXRlKG8udmlzUHJvcC52aXNpYmxlKSYmby5zZXREaXNwbGF5UmVuZE5vZGUodCk7cmV0dXJuIHRoaXMuaGFzTGFiZWwmJmguZXhpc3RzKHRoaXMubGFiZWwpJiZoLmV4aXN0cyh0aGlzLmxhYmVsLnJlbmROb2RlKSYmXCJpbmhlcml0XCI9PT1oLmV2YWx1YXRlKHRoaXMubGFiZWwudmlzUHJvcC52aXNpYmxlKSYmdGhpcy5sYWJlbC5zZXREaXNwbGF5UmVuZE5vZGUodCksdGhpc30saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldEF0dHJpYnV0ZSh7dmlzaWJsZTohMX0pLHRoaXN9LGhpZGVFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlkZSgpLHRoaXN9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITB9KSx0aGlzfSxzaG93RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNob3coKSx0aGlzfSx1cGRhdGVWaXNpYmlsaXR5OmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sbjtpZih0aGlzLm5lZWRzVXBkYXRlKXtmb3Iodm9pZCAwIT09dD90aGlzLnZpc1Byb3BDYWxjLnZpc2libGU9dDoobj1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC52aXNpYmxlKSxoLmV4aXN0cyh0aGlzLmhpZGRlbkJ5UGFyZW50KSYmdGhpcy5oaWRkZW5CeVBhcmVudCYmKG49ITEpLFwiaW5oZXJpdFwiIT09biYmKHRoaXMudmlzUHJvcENhbGMudmlzaWJsZT1uKSksaT10aGlzLmluaGVyaXRzLmxlbmd0aCxyPTA7cjxpO3IrKylpZihvPXRoaXMuaW5oZXJpdHNbcl0saC5pc0FycmF5KG8pKWZvcihzPW8ubGVuZ3RoLGU9MDtlPHM7ZSsrKWguZXhpc3RzKG9bZV0pJiZcImluaGVyaXRcIj09PWguZXZhbHVhdGUob1tlXS52aXNQcm9wLnZpc2libGUpJiZvW2VdLnByZXBhcmVVcGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KHRoaXMudmlzUHJvcENhbGMudmlzaWJsZSk7ZWxzZSBoLmV4aXN0cyhvKSYmXCJpbmhlcml0XCI9PT1oLmV2YWx1YXRlKG8udmlzUHJvcC52aXNpYmxlKSYmby5wcmVwYXJlVXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eSh0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUpO2guZXhpc3RzKHRoaXMubGFiZWwpJiZoLmV4aXN0cyh0aGlzLmxhYmVsLnZpc1Byb3ApJiZoLmV2YWx1YXRlKHRoaXMubGFiZWwudmlzUHJvcC52aXNpYmxlKSYmdGhpcy5sYWJlbC5wcmVwYXJlVXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eSh0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUpfXJldHVybiB0aGlzfSxfc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYodD10LnRvTG9jYWxlTG93ZXJDYXNlKCksdGhpcy52aXNQcm9wLmhhc093blByb3BlcnR5KHQpJiZ0LmluZGV4T2YoXCJjb2xvclwiKT49MCYmaC5pc1N0cmluZyhlKSYmOT09PWUubGVuZ3RoJiZcIiNcIj09PWUuY2hhckF0KDApKWU9YS5yZ2JhMnJnYm8oZSksdGhpcy52aXNQcm9wW3RdPWVbMF0sdGhpcy52aXNQcm9wW3QucmVwbGFjZShcImNvbG9yXCIsXCJvcGFjaXR5XCIpXT1lWzFdO2Vsc2UgaWYobnVsbD09PWV8fCFoLmlzT2JqZWN0KGUpfHxoLmV4aXN0cyhlLmlkKXx8aC5leGlzdHMoZS5uYW1lKSl0aGlzLnZpc1Byb3BbdF09ZTtlbHNlIGZvcihpIGluIHRoaXMudmlzUHJvcFt0XT17fSxlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0aGlzLnZpc1Byb3BbdF1baS50b0xvY2FsZUxvd2VyQ2FzZSgpXT1lW2ldKX0scmVzb2x2ZVNob3J0Y3V0czpmdW5jdGlvbih0KXt2YXIgZSxpLHIscz1bXCJ0cmFjZWF0dHJpYnV0ZXNcIixcInRyYWNlQXR0cmlidXRlc1wiXTtmb3IoZSBpbiBvLnNob3J0Y3V0cylpZihvLnNob3J0Y3V0cy5oYXNPd25Qcm9wZXJ0eShlKSl7aWYoaC5leGlzdHModFtlXSkpZm9yKGk9MDtpPG8uc2hvcnRjdXRzW2VdLmxlbmd0aDtpKyspaC5leGlzdHModFtvLnNob3J0Y3V0c1tlXVtpXV0pfHwodFtvLnNob3J0Y3V0c1tlXVtpXV09dFtlXSk7Zm9yKHI9MDtyPHMubGVuZ3RoO3IrKyloLmlzT2JqZWN0KHRbc1tyXV0pJiYodFtzW3JdXT10aGlzLnJlc29sdmVTaG9ydGN1dHModFtzW3JdXSkpfXJldHVybiB0fSxzZXRMYWJlbDpmdW5jdGlvbih0KXt0aGlzLmhhc0xhYmVsfHx0aGlzLnNldEF0dHJpYnV0ZSh7d2l0aGxhYmVsOiEwfSksdGhpcy5zZXRMYWJlbFRleHQodCl9LHNldExhYmVsVGV4dDpmdW5jdGlvbih0KXtyZXR1cm4gaC5leGlzdHModGhpcy5sYWJlbCkmJih0PXQucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLHRoaXMubGFiZWwuc2V0VGV4dCh0KSksdGhpc30sc2V0TmFtZTpmdW5jdGlvbih0KXt0PXQucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLFwic2xpZGVyXCIhPT10aGlzLmVsVHlwZSYmdGhpcy5zZXRMYWJlbFRleHQodCksdGhpcy5zZXRBdHRyaWJ1dGUoe25hbWU6dH0pfSxzZXRQcm9wZXJ0eTpmdW5jdGlvbigpe3QuZGVwcmVjYXRlZChcInNldFByb3BlcnR5KClcIixcInNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKGkpe3ZhciByLHMsbyxuLGwsYyxkLHUscCxmPXt9O2ZvcihyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyljPWFyZ3VtZW50c1tyXSxoLmlzU3RyaW5nKGMpPyh1PWMuc3BsaXQoXCI6XCIpLGZbaC50cmltKHVbMF0pXT1oLnRyaW0odVsxXSkpOmguaXNBcnJheShjKT9mW2NbMF1dPWNbMV06dC5leHRlbmQoZixjKTtmb3IociBpbiBmPXRoaXMucmVzb2x2ZVNob3J0Y3V0cyhmKSlpZihmLmhhc093blByb3BlcnR5KHIpKXtpZihuPXIucmVwbGFjZSgvXFxzKy9nLFwiXCIpLnRvTG93ZXJDYXNlKCksbD1mW3JdLGguaXNPYmplY3QobCkmJmguZXhpc3RzKHRoaXMudmlzUHJvcFtuXSkpe2lmKHRoaXMudmlzUHJvcFtuXT1oLm1lcmdlKHRoaXMudmlzUHJvcFtuXSxsKSx0aGlzLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1RJQ0tTJiZoLmV4aXN0cyh0aGlzLmxhYmVscykpZm9yKG89dGhpcy5sYWJlbHMubGVuZ3RoLHM9MDtzPG87cysrKXRoaXMubGFiZWxzW3NdLnNldEF0dHJpYnV0ZShsKTtlbHNlIGlmKGguZXhpc3RzKHRoaXNbbl0pKWlmKGguaXNBcnJheSh0aGlzW25dKSlmb3Iocz0wO3M8dGhpc1tuXS5sZW5ndGg7cysrKXRoaXNbbl1bc10uc2V0QXR0cmlidXRlKGwpO2Vsc2UgdGhpc1tuXS5zZXRBdHRyaWJ1dGUobCk7Y29udGludWV9c3dpdGNoKHA9dGhpcy52aXNQcm9wW25dLG4pe2Nhc2VcIm5hbWVcIjpwPXRoaXMubmFtZSxkZWxldGUgdGhpcy5ib2FyZC5lbGVtZW50c0J5TmFtZVt0aGlzLm5hbWVdLHRoaXMubmFtZT1sLHRoaXMuYm9hcmQuZWxlbWVudHNCeU5hbWVbdGhpcy5uYW1lXT10aGlzO2JyZWFrO2Nhc2VcIm5lZWRzcmVndWxhcnVwZGF0ZVwiOnRoaXMubmVlZHNSZWd1bGFyVXBkYXRlPSEoXCJmYWxzZVwiPT09bHx8ITE9PT1sKSx0aGlzLmJvYXJkLnJlbmRlcmVyLnNldEJ1ZmZlcmluZyh0aGlzLHRoaXMubmVlZHNSZWd1bGFyVXBkYXRlP1wiYXV0b1wiOlwic3RhdGljXCIpO2JyZWFrO2Nhc2VcImxhYmVsY29sb3JcIjpkPShsPWEucmdiYTJyZ2JvKGwpKVsxXSxsPWxbMF0sMD09PWQmJmguZXhpc3RzKHRoaXMubGFiZWwpJiZ0aGlzLmhhc0xhYmVsJiZ0aGlzLmxhYmVsLmhpZGVFbGVtZW50KCksaC5leGlzdHModGhpcy5sYWJlbCkmJnRoaXMuaGFzTGFiZWwmJih0aGlzLmxhYmVsLnZpc1Byb3Auc3Ryb2tlY29sb3I9bCx0aGlzLmJvYXJkLnJlbmRlcmVyLnNldE9iamVjdFN0cm9rZUNvbG9yKHRoaXMubGFiZWwsbCxkKSksdGhpcy5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19URVhUJiYodGhpcy52aXNQcm9wLnN0cm9rZWNvbG9yPWwsdGhpcy52aXNQcm9wLnN0cm9rZW9wYWNpdHk9ZCx0aGlzLmJvYXJkLnJlbmRlcmVyLnNldE9iamVjdFN0cm9rZUNvbG9yKHRoaXMsbCxkKSk7YnJlYWs7Y2FzZVwiaW5mb2JveHRleHRcIjpoLmlzU3RyaW5nKGwpP3RoaXMuaW5mb2JveFRleHQ9bDp0aGlzLmluZm9ib3hUZXh0PSExO2JyZWFrO2Nhc2VcInZpc2libGVcIjp0aGlzLnZpc1Byb3AudmlzaWJsZT1cImZhbHNlXCIhPT1sJiYoXCJ0cnVlXCI9PT1sfHxsKSx0aGlzLnNldERpc3BsYXlSZW5kTm9kZShoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC52aXNpYmxlKSksaC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudmlzaWJsZSkmJmguZXhpc3RzKHRoaXMudXBkYXRlU2l6ZSkmJnRoaXMudXBkYXRlU2l6ZSgpO2JyZWFrO2Nhc2VcImZhY2VcIjpoLmlzUG9pbnQodGhpcykmJih0aGlzLnZpc1Byb3AuZmFjZT1sLHRoaXMuYm9hcmQucmVuZGVyZXIuY2hhbmdlUG9pbnRTdHlsZSh0aGlzKSk7YnJlYWs7Y2FzZVwidHJhY2VcIjpcImZhbHNlXCI9PT1sfHwhMT09PWw/KHRoaXMuY2xlYXJUcmFjZSgpLHRoaXMudmlzUHJvcC50cmFjZT0hMSk6dGhpcy52aXNQcm9wLnRyYWNlPVwicGF1c2VcIiE9PWw7YnJlYWs7Y2FzZVwiZ3JhZGllbnRcIjp0aGlzLnZpc1Byb3AuZ3JhZGllbnQ9bCx0aGlzLmJvYXJkLnJlbmRlcmVyLnNldEdyYWRpZW50KHRoaXMpO2JyZWFrO2Nhc2VcImdyYWRpZW50c2Vjb25kY29sb3JcIjpsPWEucmdiYTJyZ2JvKGwpLHRoaXMudmlzUHJvcC5ncmFkaWVudHNlY29uZGNvbG9yPWxbMF0sdGhpcy52aXNQcm9wLmdyYWRpZW50c2Vjb25kb3BhY2l0eT1sWzFdLHRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlR3JhZGllbnQodGhpcyk7YnJlYWs7Y2FzZVwiZ3JhZGllbnRzZWNvbmRvcGFjaXR5XCI6dGhpcy52aXNQcm9wLmdyYWRpZW50c2Vjb25kb3BhY2l0eT1sLHRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlR3JhZGllbnQodGhpcyk7YnJlYWs7Y2FzZVwid2l0aGxhYmVsXCI6dGhpcy52aXNQcm9wLndpdGhsYWJlbD1sLGguZXZhbHVhdGUobCk/KHRoaXMubGFiZWx8fHRoaXMuY3JlYXRlTGFiZWwoKSx0aGlzLmxhYmVsLnNldEF0dHJpYnV0ZSh7dmlzaWJsZTpcImluaGVyaXRcIn0pKTp0aGlzLmxhYmVsJiZ0aGlzLmhhc0xhYmVsJiZ0aGlzLmxhYmVsLnNldEF0dHJpYnV0ZSh7dmlzaWJsZTohMX0pLHRoaXMuaGFzTGFiZWw9bDticmVhaztjYXNlXCJyYWRpdXNcIjp0aGlzLnR5cGUhPT1lLk9CSkVDVF9UWVBFX0FOR0xFJiZ0aGlzLnR5cGUhPT1lLk9CSkVDVF9UWVBFX1NFQ1RPUnx8dGhpcy5zZXRSYWRpdXMobCk7YnJlYWs7Y2FzZVwicm90YXRlXCI6KHRoaXMuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfVEVYVCYmXCJpbnRlcm5hbFwiPT09aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZGlzcGxheSl8fHRoaXMudHlwZT09PWUuT0JKRUNUX1RZUEVfSU1BR0UpJiZ0aGlzLmFkZFJvdGF0aW9uKGwpO2JyZWFrO2Nhc2VcInRpY2tzZGlzdGFuY2VcIjp0aGlzLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1RJQ0tTJiZoLmlzTnVtYmVyKGwpJiYodGhpcy50aWNrc0Z1bmN0aW9uPXRoaXMubWFrZVRpY2tzRnVuY3Rpb24obCkpO2JyZWFrO2Nhc2VcImdlbmVyYXRlbGFiZWx2YWx1ZVwiOnRoaXMudHlwZT09PWUuT0JKRUNUX1RZUEVfVElDS1MmJmguaXNGdW5jdGlvbihsKSYmKHRoaXMuZ2VuZXJhdGVMYWJlbFZhbHVlPWwpO2JyZWFrO2Nhc2VcIm9ucG9seWdvblwiOnRoaXMudHlwZT09PWUuT0JKRUNUX1RZUEVfR0xJREVSJiYodGhpcy5vblBvbHlnb249ISFsKTticmVhaztjYXNlXCJkaXNhYmxlZFwiOmguZXhpc3RzKHRoaXMucmVuZE5vZGVUYWcpJiYodGhpcy5yZW5kTm9kZVRhZy5kaXNhYmxlZD0hIWwpO2JyZWFrO2Nhc2VcImNoZWNrZWRcIjpoLmV4aXN0cyh0aGlzLnJlbmROb2RlVGFnKSYmKHRoaXMucmVuZE5vZGVDaGVja2JveC5jaGVja2VkPSEhbCk7YnJlYWs7Y2FzZVwibWF4bGVuZ3RoXCI6aC5leGlzdHModGhpcy5yZW5kTm9kZVRhZykmJih0aGlzLnJlbmROb2RlVGFnLm1heGxlbmd0aD0hIWwpO2JyZWFrO2Nhc2VcImxheWVyXCI6dGhpcy5ib2FyZC5yZW5kZXJlci5zZXRMYXllcih0aGlzLGguZXZhbHVhdGUobCkpLHRoaXMuX3NldChuLGwpO2JyZWFrO2Nhc2VcInRhYmluZGV4XCI6aC5leGlzdHModGhpcy5yZW5kTm9kZSkmJih0aGlzLnJlbmROb2RlLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsbCksdGhpcy5fc2V0KG4sbCkpO2JyZWFrO2RlZmF1bHQ6aC5leGlzdHModGhpcy52aXNQcm9wW25dKSYmKCF0LlZhbGlkYXRvcltuXXx8dC5WYWxpZGF0b3Jbbl0mJnQuVmFsaWRhdG9yW25dKGwpfHx0LlZhbGlkYXRvcltuXSYmaC5pc0Z1bmN0aW9uKGwpJiZ0LlZhbGlkYXRvcltuXShsKCkpKSYmKGw9KCFsLnRvTG93ZXJDYXNlfHxcImZhbHNlXCIhPT1sLnRvTG93ZXJDYXNlKCkpJiZsLHRoaXMuX3NldChuLGwpKX10aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcImF0dHJpYnV0ZTpcIituXSxbcCxsLHRoaXNdKX1yZXR1cm4gdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJhdHRyaWJ1dGVcIl0sW2YsdGhpc10pLGguZXZhbHVhdGUodGhpcy52aXNQcm9wLm5lZWRzcmVndWxhcnVwZGF0ZSk/dGhpcy5ib2FyZC51cGRhdGUodGhpcyk6dGhpcy5ib2FyZC5mdWxsVXBkYXRlKCksdGhpc30sZ2V0UHJvcGVydHk6ZnVuY3Rpb24oKXt0LmRlcHJlY2F0ZWQoXCJnZXRQcm9wZXJ0eSgpXCIsXCJnZXRBdHRyaWJ1dGUoKVwiKSx0aGlzLmdldFByb3BlcnR5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKHQpe3ZhciBlO3N3aXRjaCh0PXQudG9Mb3dlckNhc2UoKSl7Y2FzZVwibmVlZHNyZWd1bGFydXBkYXRlXCI6ZT10aGlzLm5lZWRzUmVndWxhclVwZGF0ZTticmVhaztjYXNlXCJsYWJlbGNvbG9yXCI6ZT10aGlzLmxhYmVsLnZpc1Byb3Auc3Ryb2tlY29sb3I7YnJlYWs7Y2FzZVwiaW5mb2JveHRleHRcIjplPXRoaXMuaW5mb2JveFRleHQ7YnJlYWs7Y2FzZVwid2l0aGxhYmVsXCI6ZT10aGlzLmhhc0xhYmVsO2JyZWFrO2RlZmF1bHQ6ZT10aGlzLnZpc1Byb3BbdF19cmV0dXJuIGV9LHNldERhc2g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKHtkYXNoOnR9KSx0aGlzfSxwcmVwYXJlVXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGU9ITAsdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9hcmQucmVuZGVyZXIucmVtb3ZlKHRoaXMuYm9hcmQucmVuZGVyZXIuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCkpLHRoaXMuaGFzTGFiZWwmJnRoaXMuYm9hcmQucmVuZGVyZXIucmVtb3ZlKHRoaXMuYm9hcmQucmVuZGVyZXIuZ2V0RWxlbWVudEJ5SWQodGhpcy5sYWJlbC5pZCkpLHRoaXN9LGdldFRleHRBbmNob3I6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSx0aGlzLmJvYXJkKX0sZ2V0TGFiZWxBbmNob3I6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSx0aGlzLmJvYXJkKX0sc2V0QXJyb3c6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy52aXNQcm9wLmZpcnN0YXJyb3c9dCx0aGlzLnZpc1Byb3AubGFzdGFycm93PWksaSYmKHRoaXMudHlwZT1lLk9CSkVDVF9UWVBFX1ZFQ1RPUix0aGlzLmVsVHlwZT1cImFycm93XCIpLHRoaXMucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkoKS51cGRhdGVSZW5kZXJlcigpLHRoaXN9LGNyZWF0ZUdyYWRpZW50OmZ1bmN0aW9uKCl7dmFyIHQ9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZ3JhZGllbnQpO1wibGluZWFyXCIhPT10JiZcInJhZGlhbFwiIT09dHx8dGhpcy5ib2FyZC5yZW5kZXJlci5zZXRHcmFkaWVudCh0aGlzKX0sY3JlYXRlTGFiZWw6ZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXM7cmV0dXJuIHQuZWxlbWVudHMudGV4dD8oKGU9aC5kZWVwQ29weSh0aGlzLnZpc1Byb3AubGFiZWwsbnVsbCkpLmlkPXRoaXMuaWQrXCJMYWJlbFwiLGUuaXNMYWJlbD0hMCxlLmFuY2hvcj10aGlzLGUucHJpdj10aGlzLnZpc1Byb3AucHJpdix0aGlzLnZpc1Byb3Aud2l0aGxhYmVsJiYodGhpcy5sYWJlbD10LmVsZW1lbnRzLnRleHQodGhpcy5ib2FyZCxbMCwwLGZ1bmN0aW9uKCl7cmV0dXJuIGguaXNGdW5jdGlvbihpLm5hbWUpP2kubmFtZSgpOmkubmFtZX1dLGUpLHRoaXMubGFiZWwubmVlZHNVcGRhdGU9ITAsdGhpcy5sYWJlbC5kdW1wPSExLHRoaXMubGFiZWwuZnVsbFVwZGF0ZSgpLHRoaXMuaGFzTGFiZWw9ITApKTp0LmRlYnVnKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBsYWJlbDogdGV4dCBlbGVtZW50IGlzIG5vdCBhdmFpbGFibGUuIE1ha2Ugc3VyZSB5b3UgaW5jbHVkZSBiYXNlL3RleHRcIiksdGhpc30saGlnaGxpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiB0PWguZGVmKHQsITEpLCFoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5oaWdobGlnaHQpfHx0aGlzLmhpZ2hsaWdodGVkJiYhdHx8KHRoaXMuaGlnaGxpZ2h0ZWQ9ITAsdGhpcy5ib2FyZC5oaWdobGlnaHRlZE9iamVjdHNbdGhpcy5pZF09dGhpcyx0aGlzLmJvYXJkLnJlbmRlcmVyLmhpZ2hsaWdodCh0aGlzKSksdGhpc30sbm9IaWdobGlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWdobGlnaHRlZCYmKHRoaXMuaGlnaGxpZ2h0ZWQ9ITEsZGVsZXRlIHRoaXMuYm9hcmQuaGlnaGxpZ2h0ZWRPYmplY3RzW3RoaXMuaWRdLHRoaXMuYm9hcmQucmVuZGVyZXIubm9IaWdobGlnaHQodGhpcykpLHRoaXN9LGNsZWFyVHJhY2U6ZnVuY3Rpb24oKXt2YXIgdDtmb3IodCBpbiB0aGlzLnRyYWNlcyl0aGlzLnRyYWNlcy5oYXNPd25Qcm9wZXJ0eSh0KSYmdGhpcy5ib2FyZC5yZW5kZXJlci5yZW1vdmUodGhpcy50cmFjZXNbdF0pO3JldHVybiB0aGlzLm51bVRyYWNlcz0wLHRoaXN9LGNsb25lVG9CYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGJvdW5kczpmdW5jdGlvbigpe3JldHVyblswLDAsMCwwXX0sbm9ybWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RkZm9ybT1yLm5vcm1hbGl6ZSh0aGlzLnN0ZGZvcm0pLHRoaXN9LHRvSlNPTjpmdW5jdGlvbigpe3ZhciB0LGUsaT1bJ3tcIm5hbWVcIjonLHRoaXMubmFtZV07Zm9yKGUgaW4gaS5wdXNoKCcsIFwiaWRcIjonK3RoaXMuaWQpLHQ9W10sdGhpcy52aXNQcm9wKXRoaXMudmlzUHJvcC5oYXNPd25Qcm9wZXJ0eShlKSYmaC5leGlzdHModGhpcy52aXNQcm9wW2VdKSYmdC5wdXNoKCdcIicrZSsnXCI6Jyt0aGlzLnZpc1Byb3BbZV0pO3JldHVybiBpLnB1c2goJywgXCJ2aXNQcm9wXCI6eycrdC50b1N0cmluZygpK1wifVwiKSxpLnB1c2goXCJ9XCIpLGkuam9pbihcIlwiKX0sYWRkUm90YXRpb246ZnVuY3Rpb24odCl7dmFyIGkscixzLG8sbixhPXRoaXM7cmV0dXJuKHRoaXMuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfVEVYVCYmXCJpbnRlcm5hbFwiPT09aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZGlzcGxheSl8fHRoaXMudHlwZT09PWUuT0JKRUNUX1RZUEVfSU1BR0UpJiYwIT09dCYmKGk9dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbZnVuY3Rpb24oKXtyZXR1cm4tYS5YKCl9LGZ1bmN0aW9uKCl7cmV0dXJuLWEuWSgpfV0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pLHI9dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbZnVuY3Rpb24oKXtyZXR1cm4gYS5YKCl9LGZ1bmN0aW9uKCl7cmV0dXJuIGEuWSgpfV0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pLHM9dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbZnVuY3Rpb24oKXtyZXR1cm4gYS5ib2FyZC51bml0WC9hLmJvYXJkLnVuaXRZfSxmdW5jdGlvbigpe3JldHVybiAxfV0se3R5cGU6XCJzY2FsZVwifSksbz10aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtmdW5jdGlvbigpe3JldHVybiBhLmJvYXJkLnVuaXRZL2EuYm9hcmQudW5pdFh9LGZ1bmN0aW9uKCl7cmV0dXJuIDF9XSx7dHlwZTpcInNjYWxlXCJ9KSxuPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGguZXZhbHVhdGUodCkqTWF0aC5QSS8xODB9XSx7dHlwZTpcInJvdGF0ZVwifSksaS5iaW5kVG8odGhpcykscy5iaW5kVG8odGhpcyksbi5iaW5kVG8odGhpcyksby5iaW5kVG8odGhpcyksci5iaW5kVG8odGhpcykpLHRoaXN9LGhpZ2hsaWdodFN0cm9rZUNvbG9yOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJoaWdobGlnaHRTdHJva2VDb2xvcigpXCIsXCJzZXRBdHRyaWJ1dGUoKVwiKSx0aGlzLnNldEF0dHJpYnV0ZSh7aGlnaGxpZ2h0U3Ryb2tlQ29sb3I6ZX0pLHRoaXN9LHN0cm9rZUNvbG9yOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJzdHJva2VDb2xvcigpXCIsXCJzZXRBdHRyaWJ1dGUoKVwiKSx0aGlzLnNldEF0dHJpYnV0ZSh7c3Ryb2tlQ29sb3I6ZX0pLHRoaXN9LHN0cm9rZVdpZHRoOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJzdHJva2VXaWR0aCgpXCIsXCJzZXRBdHRyaWJ1dGUoKVwiKSx0aGlzLnNldEF0dHJpYnV0ZSh7c3Ryb2tlV2lkdGg6ZX0pLHRoaXN9LGZpbGxDb2xvcjpmdW5jdGlvbihlKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiZmlsbENvbG9yKClcIixcInNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlKHtmaWxsQ29sb3I6ZX0pLHRoaXN9LGhpZ2hsaWdodEZpbGxDb2xvcjpmdW5jdGlvbihlKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiaGlnaGxpZ2h0RmlsbENvbG9yKClcIixcInNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlKHtoaWdobGlnaHRGaWxsQ29sb3I6ZX0pLHRoaXN9LGxhYmVsQ29sb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcImxhYmVsQ29sb3IoKVwiLFwic2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUoe2xhYmVsQ29sb3I6ZX0pLHRoaXN9LGRhc2g6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcImRhc2goKVwiLFwic2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUoe2Rhc2g6ZX0pLHRoaXN9LHZpc2libGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcInZpc2libGUoKVwiLFwic2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ZX0pLHRoaXN9LHNoYWRvdzpmdW5jdGlvbihlKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwic2hhZG93KClcIixcInNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlKHtzaGFkb3c6ZX0pLHRoaXN9LGdldFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbFR5cGV9LGdldFBhcmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gaC5pc0FycmF5KHRoaXMucGFyZW50cyk/dGhpcy5wYXJlbnRzOltdfSxzbmFwVG9HcmlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHNuYXBUb1BvaW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxnZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dmFyIHQsZT1oLmRlZXBDb3B5KHRoaXMudmlzUHJvcCksaT1bXSxyPWkubGVuZ3RoO2ZvcihlLmlkPXRoaXMuaWQsZS5uYW1lPXRoaXMubmFtZSx0PTA7dDxyO3QrKylkZWxldGUgZVtpW3RdXTtyZXR1cm4gZX0saGFzUG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMX0sYWRkVGlja3M6ZnVuY3Rpb24odCl7cmV0dXJuXCJcIiE9PXQuaWQmJmguZXhpc3RzKHQuaWQpfHwodC5pZD10aGlzLmlkK1wiX3RpY2tzX1wiKyh0aGlzLnRpY2tzLmxlbmd0aCsxKSksdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3VGlja3ModCksdGhpcy50aWNrcy5wdXNoKHQpLHQuaWR9LHJlbW92ZUFsbFRpY2tzOmZ1bmN0aW9uKCl7dmFyIHQ7aWYoaC5leGlzdHModGhpcy50aWNrcykpe2Zvcih0PXRoaXMudGlja3MubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5yZW1vdmVUaWNrcyh0aGlzLnRpY2tzW3RdKTt0aGlzLnRpY2tzPVtdLHRoaXMuYm9hcmQudXBkYXRlKCl9fSxyZW1vdmVUaWNrczpmdW5jdGlvbih0KXt2YXIgZSxpO2lmKGguZXhpc3RzKHRoaXMuZGVmYXVsdFRpY2tzKSYmdGhpcy5kZWZhdWx0VGlja3M9PT10JiYodGhpcy5kZWZhdWx0VGlja3M9bnVsbCksaC5leGlzdHModGhpcy50aWNrcykpZm9yKGU9dGhpcy50aWNrcy5sZW5ndGgtMTtlPj0wO2UtLSlpZih0aGlzLnRpY2tzW2VdPT09dCl7aWYodGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy50aWNrc1tlXSksdGhpcy50aWNrc1tlXS50aWNrcylmb3IoaT0wO2k8dGhpcy50aWNrc1tlXS50aWNrcy5sZW5ndGg7aSsrKWguZXhpc3RzKHRoaXMudGlja3NbZV0ubGFiZWxzW2ldKSYmdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy50aWNrc1tlXS5sYWJlbHNbaV0pO2RlbGV0ZSB0aGlzLnRpY2tzW2VdO2JyZWFrfX0sZ2V0U25hcFNpemVzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpO3JldHVybiB0PWguZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXBzaXpleCksZT1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwc2l6ZXkpLHQ8PTAmJnRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMmJnRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMueC5kZWZhdWx0VGlja3MmJih0PShpPXRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMueC5kZWZhdWx0VGlja3MpLnRpY2tzRGVsdGEqKGguZXZhbHVhdGUoaS52aXNQcm9wLm1pbm9ydGlja3MpKzEpKSxlPD0wJiZ0aGlzLmJvYXJkLmRlZmF1bHRBeGVzJiZ0aGlzLmJvYXJkLmRlZmF1bHRBeGVzLnkuZGVmYXVsdFRpY2tzJiYoZT0oaT10aGlzLmJvYXJkLmRlZmF1bHRBeGVzLnkuZGVmYXVsdFRpY2tzKS50aWNrc0RlbHRhKihoLmV2YWx1YXRlKGkudmlzUHJvcC5taW5vcnRpY2tzKSsxKSksW3QsZV19LGhhbmRsZVNuYXBUb0dyaWQ6ZnVuY3Rpb24oaSxyKXt2YXIgcyxvLG4sYSxsLGMsZCx1LHAsZj1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hdHRyYWN0dG9ncmlkKSxtPWguZXZhbHVhdGUodGhpcy52aXNQcm9wLmF0dHJhY3RvcnVuaXQpLGc9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYXR0cmFjdG9yZGlzdGFuY2UpO3JldHVybiFoLmV4aXN0cyh0aGlzLmNvb3Jkcyl8fGguZXZhbHVhdGUodGhpcy52aXNQcm9wLmZpeGVkKXx8KGguZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXB0b2dyaWQpfHxmfHwhMD09PWkpJiYocz10aGlzLmNvb3Jkcy51c3JDb29yZHNbMV0sbz10aGlzLmNvb3Jkcy51c3JDb29yZHNbMl0sdT0oZD10aGlzLmdldFNuYXBTaXplcygpKVswXSxwPWRbMV0sdT4wJiZwPjAmJihjPXRoaXMuYm9hcmQuZ2V0Qm91bmRpbmdCb3goKSxuPU1hdGgucm91bmQocy91KSp1LGE9TWF0aC5yb3VuZChvL3ApKnAsbD1uZXcgdC5Db29yZHMoZS5DT09SRFNfQllfVVNFUixbbixhXSx0aGlzLmJvYXJkKSwoIWZ8fGwuZGlzdGFuY2UoXCJzY3JlZW5cIj09PW0/ZS5DT09SRFNfQllfU0NSRUVOOmUuQ09PUkRTX0JZX1VTRVIsdGhpcy5jb29yZHMpPGcpJiYocz1uLG89YSxyfHwoczxjWzBdP3MrPXU6cz5jWzJdJiYocy09dSksbzxjWzNdP28rPXA6bz5jWzFdJiYoby09cCkpLHRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3Msb10pKSkpLHRoaXN9LGdldEJvdW5kaW5nQm94OmZ1bmN0aW9uKCl7dmFyIHQsaSxyLHMsbyxuPVsxLzAsMS8wLC0xLzAsLTEvMF07aWYodGhpcy50eXBlPT09ZS5PQkpFQ1RfVFlQRV9QT0xZR09OKXtpZigoaT10aGlzLnZlcnRpY2VzLmxlbmd0aC0xKTw9MClyZXR1cm4gbjtmb3IodD0wO3Q8aTt0Kyspcj10aGlzLnZlcnRpY2VzW3RdLlgoKSxuWzBdPXI8blswXT9yOm5bMF0sblsyXT1yPm5bMl0/cjpuWzJdLHI9dGhpcy52ZXJ0aWNlc1t0XS5ZKCksblsxXT1yPG5bMV0/cjpuWzFdLG5bM109cj5uWzNdP3I6blszXX1lbHNlIGlmKHRoaXMuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFKXM9dGhpcy5jZW50ZXIuWCgpLG89dGhpcy5jZW50ZXIuWSgpLG49W3MtdGhpcy5yYWRpdXMsbyt0aGlzLnJhZGl1cyxzK3RoaXMucmFkaXVzLG8tdGhpcy5yYWRpdXNdO2Vsc2UgaWYodGhpcy5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSl7aWYoMD09PShpPXRoaXMudmVydGljZXMubGVuZ3RoKSlyZXR1cm4gbjtmb3IodD0wO3Q8aTt0Kyspcj10aGlzLnBvaW50c1t0XS5jb29yZHMudXNyQ29vcmRzWzFdLG5bMF09cjxuWzBdP3I6blswXSxuWzJdPXI+blsyXT9yOm5bMl0scj10aGlzLnBvaW50c1t0XS5jb29yZHMudXNyQ29vcmRzWzFdLG5bMV09cjxuWzFdP3I6blsxXSxuWzNdPXI+blszXT9yOm5bM119cmV0dXJuIG59LGFkZEV2ZW50OnQuc2hvcnRjdXQodC5HZW9tZXRyeUVsZW1lbnQucHJvdG90eXBlLFwib25cIikscmVtb3ZlRXZlbnQ6dC5zaG9ydGN1dCh0Lkdlb21ldHJ5RWxlbWVudC5wcm90b3R5cGUsXCJvZmZcIiksX19ldnRfX292ZXI6ZnVuY3Rpb24odCl7fSxfX2V2dF9fbW91c2VvdmVyOmZ1bmN0aW9uKHQpe30sX19ldnRfX291dDpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3VzZW91dDpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3ZlOmZ1bmN0aW9uKHQpe30sX19ldnRfX21vdXNlbW92ZTpmdW5jdGlvbih0KXt9LF9fZXZ0X19kcmFnOmZ1bmN0aW9uKHQpe30sX19ldnRfX21vdXNlZHJhZzpmdW5jdGlvbih0KXt9LF9fZXZ0X19wZW5kcmFnOmZ1bmN0aW9uKHQpe30sX19ldnRfX3RvdWNoZHJhZzpmdW5jdGlvbih0KXt9LF9fZXZ0X19kb3duOmZ1bmN0aW9uKHQpe30sX19ldnRfX21vdXNlZG93bjpmdW5jdGlvbih0KXt9LF9fZXZ0X19wZW5kb3duOmZ1bmN0aW9uKHQpe30sX19ldnRfX3RvdWNoZG93bjpmdW5jdGlvbih0KXt9LF9fZXZ0X191cDpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3VzZXVwOmZ1bmN0aW9uKHQpe30sX19ldnRfX3BlbnVwOmZ1bmN0aW9uKHQpe30sX19ldnRfX3RvdWNodXA6ZnVuY3Rpb24odCl7fSxfX2V2dF9fYXR0cmlidXRlOmZ1bmN0aW9uKHQsZSl7fSxfX2V2dF9fYXR0cmlidXRlXzpmdW5jdGlvbih0LGUsaSl7fSxfX2V2dDpmdW5jdGlvbigpe319KSx0Lkdlb21ldHJ5RWxlbWVudH0pKSxkZWZpbmUoXCJiYXNlL2Nvb3Jkc2VsZW1lbnRcIixbXCJqeGdcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwibWF0aC9udW1lcmljc1wiLFwibWF0aC9zdGF0aXN0aWNzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwiYmFzZS9jb25zdGFudHNcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ29vcmRzRWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciBpO2ZvcihhLmV4aXN0cyh0KXx8KHQ9WzEsMCwwXSksaT0wO2k8dC5sZW5ndGg7KytpKXRbaV09cGFyc2VGbG9hdCh0W2ldKTt0aGlzLmNvb3Jkcz1uZXcgbyhuLkNPT1JEU19CWV9VU0VSLHQsdGhpcy5ib2FyZCksdGhpcy5pbml0aWFsQ29vcmRzPW5ldyBvKG4uQ09PUkRTX0JZX1VTRVIsdCx0aGlzLmJvYXJkKSx0aGlzLnBvc2l0aW9uPW51bGwsdGhpcy5pc0NvbnN0cmFpbmVkPSExLHRoaXMub25Qb2x5Z29uPSExLHRoaXMuc2xpZGVPYmplY3Q9bnVsbCx0aGlzLnNsaWRlT2JqZWN0cz1bXSx0aGlzLm5lZWRzVXBkYXRlRnJvbVBhcmVudD0hMCx0aGlzLmdyb3Vwcz1bXSx0aGlzLlhqYz1udWxsLHRoaXMuWWpjPW51bGwsdGhpcy5tZXRob2RNYXA9YS5kZWVwQ29weSh0aGlzLm1ldGhvZE1hcCx7bW92ZTpcIm1vdmVUb1wiLG1vdmVUbzpcIm1vdmVUb1wiLG1vdmVBbG9uZzpcIm1vdmVBbG9uZ1wiLHZpc2l0OlwidmlzaXRcIixnbGlkZTpcIm1ha2VHbGlkZXJcIixtYWtlR2xpZGVyOlwibWFrZUdsaWRlclwiLGludGVyc2VjdDpcIm1ha2VJbnRlcnNlY3Rpb25cIixtYWtlSW50ZXJzZWN0aW9uOlwibWFrZUludGVyc2VjdGlvblwiLFg6XCJYXCIsWTpcIllcIixmcmVlOlwiZnJlZVwiLHNldFBvc2l0aW9uOlwic2V0R2xpZGVyUG9zaXRpb25cIixzZXRHbGlkZXJQb3NpdGlvbjpcInNldEdsaWRlclBvc2l0aW9uXCIsYWRkQ29uc3RyYWludDpcImFkZENvbnN0cmFpbnRcIixkaXN0OlwiRGlzdFwiLG9uUG9seWdvbjpcIm9uUG9seWdvblwifSksYS5leGlzdHModGhpcy5lbGVtZW50KSYmdGhpcy5hZGRBbmNob3IodCxlKSx0aGlzLmlzRHJhZ2dhYmxlPSEwfSx0LmV4dGVuZCh0LkNvb3Jkc0VsZW1lbnQucHJvdG90eXBlLHt1cGRhdGVDb25zdHJhaW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHVwZGF0ZUNvb3JkczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8oYS5leGlzdHModCl8fCh0PSExKSxhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5mcm96ZW4pfHx0aGlzLnVwZGF0ZUNvbnN0cmFpbnQoKSx0aGlzLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0dMSURFUiYmKHRoaXMuaXNDb25zdHJhaW5lZCYmKHQ9ITEpLHQ/dGhpcy51cGRhdGVHbGlkZXJGcm9tUGFyZW50KCk6dGhpcy51cGRhdGVHbGlkZXIoKSksdGhpcy51cGRhdGVUcmFuc2Zvcm0odCksdGhpcyk6dGhpc30sdXBkYXRlR2xpZGVyOmZ1bmN0aW9uKCl7dmFyIHQscixzLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXyxQLEUseD0yKk1hdGguUEksUz0hMSxPPXRoaXMuc2xpZGVPYmplY3Qsdz1bXTtpZih0aGlzLm5lZWRzVXBkYXRlRnJvbVBhcmVudD0hMSxPLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NJUkNMRSlhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pc2dlb25leHQpJiYoeD0xKSx2PWkucHJvamVjdFBvaW50VG9DaXJjbGUodGhpcyxPLHRoaXMuYm9hcmQpLHk9aS5yYWQoW08uY2VudGVyLlgoKSsxLE8uY2VudGVyLlkoKV0sTy5jZW50ZXIsdGhpcykveDtlbHNlIGlmKE8uZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSl7aWYodGhpcy5vblBvbHlnb24pe2lmKHI9Ty5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxoPShzPU8ucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMpW3Q9MV0tclt0XSxNYXRoLmFicyhoKTxlLmVwcyYmKGg9c1t0PTJdLXJbdF0pLGQ9KGkucHJvamVjdFBvaW50VG9MaW5lKHRoaXMsTyx0aGlzLmJvYXJkKS51c3JDb29yZHNbdF0tclt0XSkvaCxjPU8ucGFyZW50UG9seWdvbixkPDApe2Zvcih0PTA7dDxjLmJvcmRlcnMubGVuZ3RoO3QrKylpZihPPT09Yy5ib3JkZXJzW3RdKXtPPWMuYm9yZGVyc1sodC0xK2MuYm9yZGVycy5sZW5ndGgpJWMuYm9yZGVycy5sZW5ndGhdO2JyZWFrfX1lbHNlIGlmKGQ+MSlmb3IodD0wO3Q8Yy5ib3JkZXJzLmxlbmd0aDt0KyspaWYoTz09PWMuYm9yZGVyc1t0XSl7Tz1jLmJvcmRlcnNbKHQrMStjLmJvcmRlcnMubGVuZ3RoKSVjLmJvcmRlcnMubGVuZ3RoXTticmVha31PLmlkIT09dGhpcy5zbGlkZU9iamVjdC5pZCYmKHRoaXMuc2xpZGVPYmplY3Q9Tyl9cj1PLnBvaW50MS5jb29yZHMscz1PLnBvaW50Mi5jb29yZHMsKGg9ci5kaXN0YW5jZShuLkNPT1JEU19CWV9VU0VSLHMpKTxlLmVwcz8odj1yLFM9ITAseT0wKToodj1pLnByb2plY3RQb2ludFRvTGluZSh0aGlzLE8sdGhpcy5ib2FyZCkscj1yLnVzckNvb3Jkcy5zbGljZSgwKSxzPXMudXNyQ29vcmRzLnNsaWNlKDApLE1hdGguYWJzKHNbMF0pPGUuZXBzPyhoPXNbdD0xXSxNYXRoLmFicyhoKTxlLmVwcyYmKGg9c1t0PTJdKSx5PSgoaD0odi51c3JDb29yZHNbdF0tclt0XSkvaCk+PTA/MTotMSkqKGg9TWF0aC5hYnMoaCkpLyhoKzEpKTpNYXRoLmFicyhyWzBdKTxlLmVwcz8oaD1yW3Q9MV0sTWF0aC5hYnMoaCk8ZS5lcHMmJihoPXJbdD0yXSkseT0oaD0odi51c3JDb29yZHNbdF0tc1t0XSkvaCk8MD8oMS0yKmgpLygxLWgpOjEvKGgrMSkpOihoPXNbdD0xXS1yW3RdLE1hdGguYWJzKGgpPGUuZXBzJiYoaD1zW3Q9Ml0tclt0XSkseT0odi51c3JDb29yZHNbdF0tclt0XSkvaCkpLEM9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc25hcHdpZHRoKSxhLmV2YWx1YXRlKEMpPjAmJk1hdGguYWJzKHRoaXMuX3NtYXgtdGhpcy5fc21pbik+PWUuZXBzJiYobD0oeT1NYXRoLm1heChNYXRoLm1pbih5LDEpLDApKSoodGhpcy5fc21heC10aGlzLl9zbWluKSt0aGlzLl9zbWluLHk9KChsPU1hdGgucm91bmQobC9DKSpDKS10aGlzLl9zbWluKS8odGhpcy5fc21heC10aGlzLl9zbWluKSx0aGlzLnVwZGF0ZSghMCkpLHI9Ty5wb2ludDEuY29vcmRzLCFhLmV2YWx1YXRlKE8udmlzUHJvcC5zdHJhaWdodGZpcnN0KSYmTWF0aC5hYnMoci51c3JDb29yZHNbMF0pPmUuZXBzJiZ5PDAmJih2PXIsUz0hMCx5PTApLHM9Ty5wb2ludDIuY29vcmRzLCFhLmV2YWx1YXRlKE8udmlzUHJvcC5zdHJhaWdodGxhc3QpJiZNYXRoLmFicyhzLnVzckNvb3Jkc1swXSk+ZS5lcHMmJnk+MSYmKHY9cyxTPSEwLHk9MSl9ZWxzZSBpZihPLnR5cGU9PT1uLk9CSkVDVF9UWVBFX1RVUlRMRSl0aGlzLnVwZGF0ZUNvbnN0cmFpbnQoKSx2PShfPWkucHJvamVjdFBvaW50VG9UdXJ0bGUodGhpcyxPLHRoaXMuYm9hcmQpKVswXSx5PV9bMV07ZWxzZSBpZihPLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NVUlZFKWlmKE8udHlwZT09PW4uT0JKRUNUX1RZUEVfQVJDfHxPLnR5cGU9PT1uLk9CSkVDVF9UWVBFX1NFQ1RPUil2PWkucHJvamVjdFBvaW50VG9DaXJjbGUodGhpcyxPLHRoaXMuYm9hcmQpLGY9aS5yYWQoTy5yYWRpdXNwb2ludCxPLmNlbnRlcix0aGlzKSx1PTAscD1pLnJhZChPLnJhZGl1c3BvaW50LE8uY2VudGVyLE8uYW5nbGVwb2ludCkseT1mLChcIm1pbm9yXCI9PT0oQz1hLmV2YWx1YXRlKE8udmlzUHJvcC5zZWxlY3Rpb24pKSYmcD5NYXRoLlBJfHxcIm1ham9yXCI9PT1DJiZwPE1hdGguUEkpJiYodT1wLHA9MipNYXRoLlBJKSwoZjx1fHxmPnApJiYoeT1wLChmPHUmJmY+LjUqdXx8Zj5wJiZmPi41KnArTWF0aC5QSSkmJih5PXUpLHRoaXMubmVlZHNVcGRhdGVGcm9tUGFyZW50PSEwLHRoaXMudXBkYXRlR2xpZGVyRnJvbVBhcmVudCgpKSx4PXAtdSx0aGlzLnZpc1Byb3AuaXNnZW9uZXh0JiYoeD0xKSxNYXRoLmFicyh4KT5lLmVwcyYmKHkvPXgpO2Vsc2UgaWYodGhpcy51cGRhdGVDb25zdHJhaW50KCksTy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoPjApe2ZvcihFPSExLChfPU8uZ2V0VHJhbnNmb3JtYXRpb25Tb3VyY2UoKSlbMF0mJihFPV9bMF0sdy5wdXNoKE8pLHcucHVzaChfWzFdKSk7X1swXSYmYS5leGlzdHMoX1sxXS5fdHJhbnNmb3JtYXRpb25Tb3VyY2UpOylfPV9bMV0uZ2V0VHJhbnNmb3JtYXRpb25Tb3VyY2UoKSx3LnB1c2goX1sxXSk7aWYoUD10aGlzLmNvb3Jkcy51c3JDb29yZHMsRSl7Zm9yKHQ9MDt0PHcubGVuZ3RoO3QrKyl3W3RdLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLGI9ZS5pbnZlcnNlKHdbdF0udHJhbnNmb3JtTWF0KSxQPWUubWF0VmVjTXVsdChiLFApO2ZvcihtPW5ldyBvKG4uQ09PUkRTX0JZX1VTRVIsUCx0aGlzLmJvYXJkKS51c3JDb29yZHMsUD0oZz1pLnByb2plY3RDb29yZHNUb0N1cnZlKG1bMV0sbVsyXSx0aGlzLnBvc2l0aW9ufHwwLHdbdy5sZW5ndGgtMV0sdGhpcy5ib2FyZCkpWzBdLnVzckNvb3Jkcyx0PXcubGVuZ3RoLTI7dD49MDt0LS0pUD1lLm1hdFZlY011bHQod1t0XS50cmFuc2Zvcm1NYXQsUCk7Z1swXT1uZXcgbyhuLkNPT1JEU19CWV9VU0VSLFAsdGhpcy5ib2FyZCl9ZWxzZSBPLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLGI9ZS5pbnZlcnNlKE8udHJhbnNmb3JtTWF0KSxQPWUubWF0VmVjTXVsdChiLFApLG09bmV3IG8obi5DT09SRFNfQllfVVNFUixQLHRoaXMuYm9hcmQpLnVzckNvb3JkcyxnPWkucHJvamVjdENvb3Jkc1RvQ3VydmUobVsxXSxtWzJdLHRoaXMucG9zaXRpb258fDAsTyx0aGlzLmJvYXJkKTt2PWdbMF0seT1nWzFdfWVsc2Ugdj0oXz1pLnByb2plY3RQb2ludFRvQ3VydmUodGhpcyxPLHRoaXMuYm9hcmQpKVswXSx5PV9bMV07ZWxzZSBhLmlzUG9pbnQoTykmJih2PWkucHJvamVjdFBvaW50VG9Qb2ludCh0aGlzLE8sdGhpcy5ib2FyZCkseT10aGlzLnBvc2l0aW9uKTt0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9VU0VSLHYudXNyQ29vcmRzLFMpLHRoaXMucG9zaXRpb249eX0sdXBkYXRlR2xpZGVyRnJvbVBhcmVudDpmdW5jdGlvbigpe3ZhciB0LHIscyxoLGwsYyxkLHUscCxmLG0sZyxiPXRoaXMuc2xpZGVPYmplY3Qsdj1bXSx5PTIqTWF0aC5QSTtpZih0aGlzLm5lZWRzVXBkYXRlRnJvbVBhcmVudCl7aWYoYi5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DSVJDTEUpcz1iLlJhZGl1cygpLGEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmlzZ2VvbmV4dCkmJih5PTEpLGw9W2IuY2VudGVyLlgoKStzKk1hdGguY29zKHRoaXMucG9zaXRpb24qeSksYi5jZW50ZXIuWSgpK3MqTWF0aC5zaW4odGhpcy5wb3NpdGlvbip5KV07ZWxzZSBpZihiLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkUpdD1iLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLHI9Yi5wb2ludDIuY29vcmRzLnVzckNvb3JkcywwPT09dFswXSYmMD09PXRbMV0mJjA9PT10WzJdfHwwPT09clswXSYmMD09PXJbMV0mJjA9PT1yWzJdP2w9WzAsMCwwXTpNYXRoLmFicyhyWzBdKTxlLmVwcz8oaD1NYXRoLm1pbihNYXRoLmFicyh0aGlzLnBvc2l0aW9uKSwxLWUuZXBzKSxoLz0xLWgsdGhpcy5wb3NpdGlvbjwwJiYoaD0taCksbD1bdFswXStoKnJbMF0sdFsxXStoKnJbMV0sdFsyXStoKnJbMl1dKTpNYXRoLmFicyh0WzBdKTxlLmVwcz8oaD1NYXRoLm1heCh0aGlzLnBvc2l0aW9uLGUuZXBzKSxoPShoPU1hdGgubWluKGgsMi1lLmVwcykpPjE/KGgtMSkvKGgtMik6KDEtaCkvaCxsPVtyWzBdK2gqdFswXSxyWzFdK2gqdFsxXSxyWzJdK2gqdFsyXV0pOihoPXRoaXMucG9zaXRpb24sbD1bdFswXStoKihyWzBdLXRbMF0pLHRbMV0raCooclsxXS10WzFdKSx0WzJdK2gqKHJbMl0tdFsyXSldKTtlbHNlIGlmKGIudHlwZT09PW4uT0JKRUNUX1RZUEVfVFVSVExFKXRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsW2IuWih0aGlzLnBvc2l0aW9uKSxiLlgodGhpcy5wb3NpdGlvbiksYi5ZKHRoaXMucG9zaXRpb24pXSksdGhpcy51cGRhdGVDb25zdHJhaW50KCksbD1pLnByb2plY3RQb2ludFRvVHVydGxlKHRoaXMsYix0aGlzLmJvYXJkKVswXS51c3JDb29yZHM7ZWxzZSBpZihiLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NVUlZFKXtmb3IodT0hMSwoYz1iLmdldFRyYW5zZm9ybWF0aW9uU291cmNlKCkpWzBdJiYodT1jWzBdLHYucHVzaChiKSx2LnB1c2goY1sxXSkpO2NbMF0mJmEuZXhpc3RzKGNbMV0uX3RyYW5zZm9ybWF0aW9uU291cmNlKTspYz1jWzFdLmdldFRyYW5zZm9ybWF0aW9uU291cmNlKCksdi5wdXNoKGNbMV0pO2lmKHU/dGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfVVNFUixbdlt2Lmxlbmd0aC0xXS5aKHRoaXMucG9zaXRpb24pLHZbdi5sZW5ndGgtMV0uWCh0aGlzLnBvc2l0aW9uKSx2W3YubGVuZ3RoLTFdLlkodGhpcy5wb3NpdGlvbildKTp0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9VU0VSLFtiLloodGhpcy5wb3NpdGlvbiksYi5YKHRoaXMucG9zaXRpb24pLGIuWSh0aGlzLnBvc2l0aW9uKV0pLGIudHlwZT09PW4uT0JKRUNUX1RZUEVfQVJDfHxiLnR5cGU9PT1uLk9CSkVDVF9UWVBFX1NFQ1RPUilwPWkucmFkKFtiLmNlbnRlci5YKCkrMSxiLmNlbnRlci5ZKCldLGIuY2VudGVyLGIucmFkaXVzcG9pbnQpLGY9MCxnPWkucmFkKGIucmFkaXVzcG9pbnQsYi5jZW50ZXIsYi5hbmdsZXBvaW50KSwoXCJtaW5vclwiPT09Yi52aXNQcm9wLnNlbGVjdGlvbiYmZz5NYXRoLlBJfHxcIm1ham9yXCI9PT1iLnZpc1Byb3Auc2VsZWN0aW9uJiZnPE1hdGguUEkpJiYoZj1nLGc9MipNYXRoLlBJKSx5PWctZixhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pc2dlb25leHQpJiYoeT0xKSwoKG09dGhpcy5wb3NpdGlvbip5KTxmfHxtPmcpJiYoKChtPWcpPGYmJm0+LjUqZnx8bT5nJiZtPi41KmcrTWF0aC5QSSkmJihtPWYpLHRoaXMucG9zaXRpb249bSxNYXRoLmFicyh5KT5lLmVwcyYmKHRoaXMucG9zaXRpb24vPXkpKSxzPWIuUmFkaXVzKCksbD1bYi5jZW50ZXIuWCgpK3MqTWF0aC5jb3ModGhpcy5wb3NpdGlvbip5K3ApLGIuY2VudGVyLlkoKStzKk1hdGguc2luKHRoaXMucG9zaXRpb24qeStwKV07ZWxzZSBpZih0aGlzLnVwZGF0ZUNvbnN0cmFpbnQoKSx1KWZvcihsPWkucHJvamVjdFBvaW50VG9DdXJ2ZSh0aGlzLHZbdi5sZW5ndGgtMV0sdGhpcy5ib2FyZClbMF0udXNyQ29vcmRzLGQ9di5sZW5ndGgtMjtkPj0wO2QtLSlsPW5ldyBvKG4uQ09PUkRTX0JZX1VTRVIsZS5tYXRWZWNNdWx0KHZbZF0udHJhbnNmb3JtTWF0LGwpLHRoaXMuYm9hcmQpLnVzckNvb3JkcztlbHNlIGw9aS5wcm9qZWN0UG9pbnRUb0N1cnZlKHRoaXMsYix0aGlzLmJvYXJkKVswXS51c3JDb29yZHN9ZWxzZSBhLmlzUG9pbnQoYikmJihsPWkucHJvamVjdFBvaW50VG9Qb2ludCh0aGlzLGIsdGhpcy5ib2FyZCkudXNyQ29vcmRzKTt0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9VU0VSLGwsITEpfWVsc2UgdGhpcy5uZWVkc1VwZGF0ZUZyb21QYXJlbnQ9ITB9LHVwZGF0ZVJlbmRlcmVyR2VuZXJpYzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiYodGhpcy5pc1JlYWw9IWlzTmFOKHRoaXMuY29vcmRzLnVzckNvb3Jkc1sxXSt0aGlzLmNvb3Jkcy51c3JDb29yZHNbMl0pLHRoaXMuaXNSZWFsPU1hdGguYWJzKHRoaXMuY29vcmRzLnVzckNvb3Jkc1swXSk+ZS5lcHMmJnRoaXMuaXNSZWFsLHRoaXMuaXNSZWFsfHx0aGlzLnVwZGF0ZVZpc2liaWxpdHkoITEpKSx0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuYm9hcmQucmVuZGVyZXJbdF0odGhpcyksdGhpcy5oYXNMYWJlbCYmdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuaXNSZWFsJiYodGhpcy5sYWJlbC51cGRhdGUoKSx0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZVRleHQodGhpcy5sYWJlbCkpLHRoaXMuc2V0RGlzcGxheVJlbmROb2RlKCksdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzKTp0aGlzfSxYOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnVzckNvb3Jkc1sxXX0sWTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkcy51c3JDb29yZHNbMl19LFo6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHMudXNyQ29vcmRzWzBdfSxYRXZhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkcy51c3JDb29yZHNbMV19LFlFdmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnVzckNvb3Jkc1syXX0sWkV2YWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHMudXNyQ29vcmRzWzBdfSxEaXN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzUmVhbCYmdC5pc1JlYWw/dGhpcy5jb29yZHMuZGlzdGFuY2Uobi5DT09SRFNfQllfVVNFUix0LmNvb3Jkcyk6TmFOfSxzbmFwVG9HcmlkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhbmRsZVNuYXBUb0dyaWQodCl9LGhhbmRsZVNuYXBUb1BvaW50czpmdW5jdGlvbih0KXt2YXIgZSxyLHMsbyxoLGwsYyxkLHU9MCxwPTEvMCxmPW51bGwsbT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pZ25vcmVkc25hcHRvcG9pbnRzKSxnPSExO2lmKG89dGhpcy5ib2FyZC5vYmplY3RzTGlzdC5sZW5ndGgsbSYmKGM9bS5sZW5ndGgpLGEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXB0b3BvaW50cyl8fHQpe2ZvcihoPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmF0dHJhY3RvcnVuaXQpLGw9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYXR0cmFjdG9yZGlzdGFuY2UpLGU9MDtlPG87ZSsrKXtpZihyPXRoaXMuYm9hcmQub2JqZWN0c0xpc3RbZV0sbSl7Zm9yKGc9ITEsZD0wO2Q8YztkKyspaWYocj09PXRoaXMuYm9hcmQuc2VsZWN0KG1bZF0pKXtnPSEwO2JyZWFrfWlmKGcpY29udGludWV9YS5pc1BvaW50KHIpJiZyIT09dGhpcyYmci52aXNQcm9wQ2FsYy52aXNpYmxlJiYocz1pLnByb2plY3RQb2ludFRvUG9pbnQodGhpcyxyLHRoaXMuYm9hcmQpLCh1PVwic2NyZWVuXCI9PT1oP3MuZGlzdGFuY2Uobi5DT09SRFNfQllfU0NSRUVOLHRoaXMuY29vcmRzKTpzLmRpc3RhbmNlKG4uQ09PUkRTX0JZX1VTRVIsdGhpcy5jb29yZHMpKTxsJiZ1PHAmJihwPXUsZj1zKSl9bnVsbCE9PWYmJnRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsZi51c3JDb29yZHMpfXJldHVybiB0aGlzfSxzbmFwVG9Qb2ludHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFuZGxlU25hcFRvUG9pbnRzKHQpfSxoYW5kbGVBdHRyYWN0b3JzOmZ1bmN0aW9uKCl7dmFyIHQsZSxyLHMsaD0wLGw9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYXR0cmFjdG9ydW5pdCksYz1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hdHRyYWN0b3JkaXN0YW5jZSksZD1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmF0Y2hkaXN0YW5jZSksdT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hdHRyYWN0b3JzKSxwPXUubGVuZ3RoO2lmKDAhPT1jKXtmb3IodD0wO3Q8cDt0KyspaWYoZT10aGlzLmJvYXJkLnNlbGVjdCh1W3RdKSxhLmV4aXN0cyhlKSYmZSE9PXRoaXMpe2lmKGEuaXNQb2ludChlKT9yPWkucHJvamVjdFBvaW50VG9Qb2ludCh0aGlzLGUsdGhpcy5ib2FyZCk6ZS5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19MSU5FPyhzPWkucHJvamVjdENvb3Jkc1RvU2VnbWVudCh0aGlzLmNvb3Jkcy51c3JDb29yZHMsZS5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxlLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzKSxyPSFhLmV2YWx1YXRlKGUudmlzUHJvcC5zdHJhaWdodGZpcnN0KSYmc1sxXTwwP2UucG9pbnQxLmNvb3JkczohYS5ldmFsdWF0ZShlLnZpc1Byb3Auc3RyYWlnaHRsYXN0KSYmc1sxXT4xP2UucG9pbnQyLmNvb3JkczpuZXcgbyhuLkNPT1JEU19CWV9VU0VSLHNbMF0sdGhpcy5ib2FyZCkpOmUuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFP3I9aS5wcm9qZWN0UG9pbnRUb0NpcmNsZSh0aGlzLGUsdGhpcy5ib2FyZCk6ZS5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DVVJWRT9yPWkucHJvamVjdFBvaW50VG9DdXJ2ZSh0aGlzLGUsdGhpcy5ib2FyZClbMF06ZS50eXBlPT09bi5PQkpFQ1RfVFlQRV9UVVJUTEU/cj1pLnByb2plY3RQb2ludFRvVHVydGxlKHRoaXMsZSx0aGlzLmJvYXJkKVswXTplLnR5cGU9PT1uLk9CSkVDVF9UWVBFX1BPTFlHT04mJihyPW5ldyBvKG4uQ09PUkRTX0JZX1VTRVIsaS5wcm9qZWN0Q29vcmRzVG9Qb2x5Z29uKHRoaXMuY29vcmRzLnVzckNvb3JkcyxlKSx0aGlzLmJvYXJkKSksKGg9XCJzY3JlZW5cIj09PWw/ci5kaXN0YW5jZShuLkNPT1JEU19CWV9TQ1JFRU4sdGhpcy5jb29yZHMpOnIuZGlzdGFuY2Uobi5DT09SRFNfQllfVVNFUix0aGlzLmNvb3JkcykpPGMpe3RoaXMudHlwZT09PW4uT0JKRUNUX1RZUEVfR0xJREVSJiYoZT09PXRoaXMuc2xpZGVPYmplY3R8fHRoaXMuc2xpZGVPYmplY3QmJnRoaXMub25Qb2x5Z29uJiZ0aGlzLnNsaWRlT2JqZWN0LnBhcmVudFBvbHlnb249PT1lKXx8dGhpcy5tYWtlR2xpZGVyKGUpO2JyZWFrfWg+PWQmJihlPT09dGhpcy5zbGlkZU9iamVjdHx8dGhpcy5zbGlkZU9iamVjdCYmdGhpcy5vblBvbHlnb24mJnRoaXMuc2xpZGVPYmplY3QucGFyZW50UG9seWdvbj09PWUpJiZ0aGlzLnBvcFNsaWRlT2JqZWN0KCl9cmV0dXJuIHRoaXN9fSxzZXRQb3NpdGlvbkRpcmVjdGx5OmZ1bmN0aW9uKHQsaSl7dmFyIHIsaCxsLGMsZD10aGlzLmNvb3JkcztpZih0aGlzLnJlbGF0aXZlQ29vcmRzKXJldHVybiBoPW5ldyBvKHQsaSx0aGlzLmJvYXJkKSxhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pc2xhYmVsKT8obD1zLnN1YnRyYWN0KGguc2NyQ29vcmRzLGQuc2NyQ29vcmRzKSx0aGlzLnJlbGF0aXZlQ29vcmRzLnNjckNvb3Jkc1sxXSs9bFsxXSx0aGlzLnJlbGF0aXZlQ29vcmRzLnNjckNvb3Jkc1syXSs9bFsyXSk6KGw9cy5zdWJ0cmFjdChoLnVzckNvb3JkcyxkLnVzckNvb3JkcyksdGhpcy5yZWxhdGl2ZUNvb3Jkcy51c3JDb29yZHNbMV0rPWxbMV0sdGhpcy5yZWxhdGl2ZUNvb3Jkcy51c3JDb29yZHNbMl0rPWxbMl0pLHRoaXM7Zm9yKHRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKHQsaSksdGhpcy5oYW5kbGVTbmFwVG9HcmlkKCksdGhpcy5oYW5kbGVTbmFwVG9Qb2ludHMoKSx0aGlzLmhhbmRsZUF0dHJhY3RvcnMoKSxyPXRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aC0xO3I+PTA7ci0tKXQ9PT1uLkNPT1JEU19CWV9TQ1JFRU4/Yz1uZXcgbyh0LGksdGhpcy5ib2FyZCkudXNyQ29vcmRzOigyPT09aS5sZW5ndGgmJihpPVsxXS5jb25jYXQoaSkpLGM9aSksdGhpcy5pbml0aWFsQ29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsZS5tYXRWZWNNdWx0KGUuaW52ZXJzZSh0aGlzLnRyYW5zZm9ybWF0aW9uc1tyXS5tYXRyaXgpLGMpKTtyZXR1cm4gdGhpcy5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksdGhpcy5ib2FyZC5pc1N1c3BlbmRlZFVwZGF0ZSYmdGhpcy50eXBlPT09bi5PQkpFQ1RfVFlQRV9HTElERVImJnRoaXMudXBkYXRlR2xpZGVyKCksdGhpc30sc2V0UG9zaXRpb25CeVRyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3ZhciBpO3JldHVybiBlPW5ldyBvKHQsZSx0aGlzLmJvYXJkKSxpPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsZS51c3JDb29yZHMuc2xpY2UoMSkse3R5cGU6XCJ0cmFuc2xhdGVcIn0pLHRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aD4wJiZ0aGlzLnRyYW5zZm9ybWF0aW9uc1t0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGgtMV0uaXNOdW1lcmljTWF0cml4P3RoaXMudHJhbnNmb3JtYXRpb25zW3RoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aC0xXS5tZWx0KGkpOnRoaXMuYWRkVHJhbnNmb3JtKHRoaXMsaSksdGhpcy5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksdGhpc30sc2V0UG9zaXRpb246ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zZXRQb3NpdGlvbkRpcmVjdGx5KHQsZSl9LHNldEdsaWRlclBvc2l0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0dMSURFUiYmKHRoaXMucG9zaXRpb249dCx0aGlzLmJvYXJkLnVwZGF0ZSgpKSx0aGlzfSxtYWtlR2xpZGVyOmZ1bmN0aW9uKGUpe3ZhciBpLHIscyxvPXRoaXMuYm9hcmQuc2VsZWN0KGUpLGg9ITE7aWYoby50eXBlPT09bi5PQkpFQ1RfVFlQRV9QT0xZR09OKXtmb3IoaT1OdW1iZXIuTUFYX1ZBTFVFLHI9MDtyPG8uYm9yZGVycy5sZW5ndGg7cisrKShzPXQuTWF0aC5HZW9tZXRyeS5kaXN0UG9pbnRMaW5lKHRoaXMuY29vcmRzLnVzckNvb3JkcyxvLmJvcmRlcnNbcl0uc3RkZm9ybSkpPGkmJihpPXMsZT1vLmJvcmRlcnNbcl0pO289dGhpcy5ib2FyZC5zZWxlY3QoZSksaD0hMH1pZighYS5leGlzdHMobykpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IHNsaWRlIG9iamVjdCB1bmRlZmluZWQuXCIpO2lmKG8udHlwZT09PW4uT0JKRUNUX1RZUEVfVElDS1MpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IGdsaWRlcnMgb24gdGlja3MgYXJlIG5vdCBwb3NzaWJsZS5cIik7cmV0dXJuIHRoaXMuc2xpZGVPYmplY3Q9dGhpcy5ib2FyZC5zZWxlY3QoZSksdGhpcy5zbGlkZU9iamVjdHMucHVzaCh0aGlzLnNsaWRlT2JqZWN0KSx0aGlzLmFkZFBhcmVudHMoZSksdGhpcy50eXBlPW4uT0JKRUNUX1RZUEVfR0xJREVSLHRoaXMuZWxUeXBlPVwiZ2xpZGVyXCIsdGhpcy52aXNQcm9wLnNuYXB3aWR0aD0tMSx0aGlzLnNsaWRlT2JqZWN0LmFkZENoaWxkKHRoaXMpLHRoaXMuaXNEcmFnZ2FibGU9ITAsdGhpcy5vblBvbHlnb249aCx0aGlzLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNsaWRlT2JqZWN0LmdlbmVyYXRlUG9seW5vbWlhbCh0aGlzKX0sdGhpcy51cGRhdGVHbGlkZXIoKSx0aGlzLm5lZWRzVXBkYXRlRnJvbVBhcmVudD0hMCx0aGlzLnVwZGF0ZUdsaWRlckZyb21QYXJlbnQoKSx0aGlzfSxwb3BTbGlkZU9iamVjdDpmdW5jdGlvbigpe3RoaXMuc2xpZGVPYmplY3RzLmxlbmd0aD4wJiYodGhpcy5zbGlkZU9iamVjdHMucG9wKCksdGhpcy5zbGlkZU9iamVjdC5yZW1vdmVDaGlsZCh0aGlzKSwwPT09dGhpcy5zbGlkZU9iamVjdHMubGVuZ3RoPyh0aGlzLnR5cGU9dGhpcy5fb3JnX3R5cGUsdGhpcy50eXBlPT09bi5PQkpFQ1RfVFlQRV9QT0lOVD90aGlzLmVsVHlwZT1cInBvaW50XCI6dGhpcy5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19URVhUP3RoaXMuZWxUeXBlPVwidGV4dFwiOnRoaXMudHlwZT09PW4uT0JKRUNUX1RZUEVfSU1BR0U/dGhpcy5lbFR5cGU9XCJpbWFnZVwiOnRoaXMudHlwZT09PW4uT0JKRUNUX1RZUEVfRk9SRUlHTk9CSkVDVCYmKHRoaXMuZWxUeXBlPVwiZm9yZWlnbm9iamVjdFwiKSx0aGlzLnNsaWRlT2JqZWN0PW51bGwpOnRoaXMuc2xpZGVPYmplY3Q9dGhpcy5zbGlkZU9iamVjdHNbdGhpcy5zbGlkZU9iamVjdHMubGVuZ3RoLTFdKX0sZnJlZTpmdW5jdGlvbigpe3ZhciB0LGU7aWYodGhpcy50eXBlIT09bi5PQkpFQ1RfVFlQRV9HTElERVIpe2lmKHRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aD0wLGRlbGV0ZSB0aGlzLnVwZGF0ZUNvbnN0cmFpbnQsdGhpcy5pc0NvbnN0cmFpbmVkPSExLHRoaXMuaXNEcmFnZ2FibGUpcmV0dXJuO3RoaXMuaXNEcmFnZ2FibGU9ITAsdGhpcy5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19QT0lOVCYmKHRoaXMudHlwZT1uLk9CSkVDVF9UWVBFX1BPSU5ULHRoaXMuZWxUeXBlPVwicG9pbnRcIiksdGhpcy5YRXZhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkcy51c3JDb29yZHNbMV19LHRoaXMuWUV2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHMudXNyQ29vcmRzWzJdfSx0aGlzLlpFdmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnVzckNvb3Jkc1swXX0sdGhpcy5YamM9bnVsbCx0aGlzLllqYz1udWxsfWZvcih0IGluIHRoaXMuYm9hcmQub2JqZWN0cyl0aGlzLmJvYXJkLm9iamVjdHMuaGFzT3duUHJvcGVydHkodCkmJihlPXRoaXMuYm9hcmQub2JqZWN0c1t0XSkuZGVzY2VuZGFudHMmJihkZWxldGUgZS5kZXNjZW5kYW50c1t0aGlzLmlkXSxkZWxldGUgZS5jaGlsZEVsZW1lbnRzW3RoaXMuaWRdLHRoaXMuaGFzTGFiZWwmJihkZWxldGUgZS5kZXNjZW5kYW50c1t0aGlzLmxhYmVsLmlkXSxkZWxldGUgZS5jaGlsZEVsZW1lbnRzW3RoaXMubGFiZWwuaWRdKSk7dGhpcy5hbmNlc3RvcnM9e30sdGhpcy5zbGlkZU9iamVjdD1udWxsLHRoaXMuc2xpZGVPYmplY3RzPVtdLHRoaXMuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfUE9JTlQ/KHRoaXMudHlwZT1uLk9CSkVDVF9UWVBFX1BPSU5ULHRoaXMuZWxUeXBlPVwicG9pbnRcIik6dGhpcy5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19URVhUPyh0aGlzLnR5cGU9dGhpcy5fb3JnX3R5cGUsdGhpcy5lbFR5cGU9XCJ0ZXh0XCIpOnRoaXMuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfT1RIRVImJih0aGlzLnR5cGU9dGhpcy5fb3JnX3R5cGUsdGhpcy5lbFR5cGU9XCJpbWFnZVwiKX0sYWRkQ29uc3RyYWludDpmdW5jdGlvbih0KXt2YXIgZSxpLHI9W10scz1bXCJYXCIsXCJZXCJdLG89ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSxoPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LlZhbHVlKCl9fTtmb3IodGhpcy5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19QT0lOVCYmKHRoaXMudHlwZT1uLk9CSkVDVF9UWVBFX0NBUyksdGhpcy5pc0RyYWdnYWJsZT0hMSxlPTA7ZTx0Lmxlbmd0aDtlKyspaT10W2VdLGEuaXNTdHJpbmcoaSk/KHJbZV09dGhpcy5ib2FyZC5qYy5zbmlwcGV0KGksITAsbnVsbCwhMCksMj09PXQubGVuZ3RoJiYodGhpc1tzW2VdK1wiamNcIl09dFtlXSkpOmEuaXNGdW5jdGlvbihpKT9yW2VdPWk6YS5pc051bWJlcihpKT9yW2VdPW8oaSk6YS5pc09iamVjdChpKSYmYS5pc0Z1bmN0aW9uKGkuVmFsdWUpJiYocltlXT1oKGkpKSxyW2VdLm9yaWdpbj1pO3JldHVybiAxPT09dC5sZW5ndGg/dGhpcy51cGRhdGVDb25zdHJhaW50PWZ1bmN0aW9uKCl7dmFyIHQ9clswXSgpO3JldHVybiBhLmlzQXJyYXkodCk/dGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfVVNFUix0KTp0aGlzLmNvb3Jkcz10LHRoaXN9OjI9PT10Lmxlbmd0aD8odGhpcy5YRXZhbD1yWzBdLHRoaXMuWUV2YWw9clsxXSx0aGlzLnNldFBhcmVudHMoW3JbMF0ub3JpZ2luLHJbMV0ub3JpZ2luXSksdGhpcy51cGRhdGVDb25zdHJhaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsW3RoaXMuWEV2YWwoKSx0aGlzLllFdmFsKCldKSx0aGlzfSk6KHRoaXMuWkV2YWw9clswXSx0aGlzLlhFdmFsPXJbMV0sdGhpcy5ZRXZhbD1yWzJdLHRoaXMuc2V0UGFyZW50cyhbclswXS5vcmlnaW4sclsxXS5vcmlnaW4sclsyXS5vcmlnaW5dKSx0aGlzLnVwZGF0ZUNvbnN0cmFpbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfVVNFUixbdGhpcy5aRXZhbCgpLHRoaXMuWEV2YWwoKSx0aGlzLllFdmFsKCldKSx0aGlzfSksdGhpcy5pc0NvbnN0cmFpbmVkPSEwLHRoaXMucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLHRoaXMuYm9hcmQuaXNTdXNwZW5kZWRVcGRhdGV8fCh0aGlzLnVwZGF0ZVZpc2liaWxpdHkoKS51cGRhdGVSZW5kZXJlcigpLHRoaXMuaGFzTGFiZWwmJnRoaXMubGFiZWwuZnVsbFVwZGF0ZSgpKSx0aGlzfSxhZGRBbmNob3I6ZnVuY3Rpb24odCxlKXt0aGlzLnJlbGF0aXZlQ29vcmRzPWU/bmV3IG8obi5DT09SRFNfQllfU0NSRUVOLHQuc2xpY2UoMCwyKSx0aGlzLmJvYXJkKTpuZXcgbyhuLkNPT1JEU19CWV9VU0VSLHQsdGhpcy5ib2FyZCksdGhpcy5lbGVtZW50LmFkZENoaWxkKHRoaXMpLGUmJnRoaXMuYWRkUGFyZW50cyh0aGlzLmVsZW1lbnQpLHRoaXMuWEV2YWw9ZnVuY3Rpb24oKXt2YXIgdCxlLGk7cmV0dXJuIGEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmlzbGFiZWwpPyhpPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLm9mZnNldCksdD1wYXJzZUZsb2F0KGlbMF0pLGU9dGhpcy5lbGVtZW50LmdldExhYmVsQW5jaG9yKCksbmV3IG8obi5DT09SRFNfQllfU0NSRUVOLFt0K3RoaXMucmVsYXRpdmVDb29yZHMuc2NyQ29vcmRzWzFdK2Uuc2NyQ29vcmRzWzFdLDBdLHRoaXMuYm9hcmQpLnVzckNvb3Jkc1sxXSk6KGU9dGhpcy5lbGVtZW50LmdldFRleHRBbmNob3IoKSx0aGlzLnJlbGF0aXZlQ29vcmRzLnVzckNvb3Jkc1sxXStlLnVzckNvb3Jkc1sxXSl9LHRoaXMuWUV2YWw9ZnVuY3Rpb24oKXt2YXIgdCxlLGk7cmV0dXJuIGEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmlzbGFiZWwpPyhpPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLm9mZnNldCksdD0tcGFyc2VGbG9hdChpWzFdKSxlPXRoaXMuZWxlbWVudC5nZXRMYWJlbEFuY2hvcigpLG5ldyBvKG4uQ09PUkRTX0JZX1NDUkVFTixbMCx0K3RoaXMucmVsYXRpdmVDb29yZHMuc2NyQ29vcmRzWzJdK2Uuc2NyQ29vcmRzWzJdXSx0aGlzLmJvYXJkKS51c3JDb29yZHNbMl0pOihlPXRoaXMuZWxlbWVudC5nZXRUZXh0QW5jaG9yKCksdGhpcy5yZWxhdGl2ZUNvb3Jkcy51c3JDb29yZHNbMl0rZS51c3JDb29yZHNbMl0pfSx0aGlzLlpFdmFsPWEuY3JlYXRlRnVuY3Rpb24oMSx0aGlzLmJvYXJkLFwiXCIpLHRoaXMudXBkYXRlQ29uc3RyYWludD1mdW5jdGlvbigpe3RoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsW3RoaXMuWkV2YWwoKSx0aGlzLlhFdmFsKCksdGhpcy5ZRXZhbCgpXSl9LHRoaXMuaXNDb25zdHJhaW5lZD0hMCx0aGlzLnVwZGF0ZUNvbnN0cmFpbnQoKX0sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKDA9PT10aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGgpcmV0dXJuIHRoaXM7Zm9yKGU9MDtlPHRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aDtlKyspdGhpcy50cmFuc2Zvcm1hdGlvbnNbZV0udXBkYXRlKCk7cmV0dXJuIHRoaXN9LGFkZFRyYW5zZm9ybTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9YS5pc0FycmF5KGUpP2U6W2VdLHM9ci5sZW5ndGg7Zm9yKDA9PT10aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGgmJih0aGlzLmJhc2VFbGVtZW50PXQpLGk9MDtpPHM7aSsrKXRoaXMudHJhbnNmb3JtYXRpb25zLnB1c2gocltpXSk7cmV0dXJuIHRoaXN9LHN0YXJ0QW5pbWF0aW9uOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcj10aGlzO3JldHVybiBpPWl8fDI1MCx0aGlzLnR5cGUhPT1uLk9CSkVDVF9UWVBFX0dMSURFUnx8YS5leGlzdHModGhpcy5pbnRlcnZhbENvZGUpfHwodGhpcy5pbnRlcnZhbENvZGU9d2luZG93LnNldEludGVydmFsKChmdW5jdGlvbigpe3IuX2FuaW0odCxlKX0pLGkpLGEuZXhpc3RzKHRoaXMuaW50ZXJ2YWxDb3VudCl8fCh0aGlzLmludGVydmFsQ291bnQ9MCkpLHRoaXN9LHN0b3BBbmltYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gYS5leGlzdHModGhpcy5pbnRlcnZhbENvZGUpJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvZGUpLGRlbGV0ZSB0aGlzLmludGVydmFsQ29kZSksdGhpc30sbW92ZUFsb25nOmZ1bmN0aW9uKHQsZSxpKXtpPWl8fHt9O3ZhciBzLG8saCxsLGMsZD1bXSx1PVtdLHA9ZS90aGlzLmJvYXJkLmF0dHIuYW5pbWF0aW9uZGVsYXksZj1mdW5jdGlvbihlLGkpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0W2VdW2ldfX07aWYoYS5pc0FycmF5KHQpKXtmb3IoaD10Lmxlbmd0aCxzPTA7czxoO3MrKylhLmlzUG9pbnQodFtzXSk/dVtzXT10W3NdOnVbc109e2VsZW1lbnRDbGFzczpuLk9CSkVDVF9DTEFTU19QT0lOVCxYOmYocywwKSxZOmYocywxKX07aWYoMD09PShlPWV8fDApKXJldHVybiB0aGlzLnNldFBvc2l0aW9uKG4uQ09PUkRTX0JZX1VTRVIsW3VbdS5sZW5ndGgtMV0uWCgpLHVbdS5sZW5ndGgtMV0uWSgpXSksdGhpcy5ib2FyZC51cGRhdGUodGhpcyk7aWYoIWEuZXhpc3RzKGkuaW50ZXJwb2xhdGUpfHxpLmludGVycG9sYXRlKWZvcihvPXIuTmV2aWxsZSh1KSxzPTA7czxwO3MrKylkW3NdPVtdLGRbc11bMF09b1swXSgocC1zKS9wKm9bM10oKSksZFtzXVsxXT1vWzFdKChwLXMpL3Aqb1szXSgpKTtlbHNle2ZvcihoPXQubGVuZ3RoLTEscz0wO3M8cDsrK3MpYz1zL3AqaC0obD1NYXRoLmZsb29yKHMvcCpoKSksZFtzXT1bXSxkW3NdWzBdPSgxLWMpKnVbbF0uWCgpK2MqdVtsKzFdLlgoKSxkW3NdWzFdPSgxLWMpKnVbbF0uWSgpK2MqdVtsKzFdLlkoKTtkLnB1c2goW3VbaF0uWCgpLHVbaF0uWSgpXSksZC5yZXZlcnNlKCl9dGhpcy5hbmltYXRpb25QYXRoPWR9ZWxzZSBhLmlzRnVuY3Rpb24odCkmJih0aGlzLmFuaW1hdGlvblBhdGg9dCx0aGlzLmFuaW1hdGlvblN0YXJ0PShuZXcgRGF0ZSkuZ2V0VGltZSgpKTtyZXR1cm4gdGhpcy5hbmltYXRpb25DYWxsYmFjaz1pLmNhbGxiYWNrLHRoaXMuYm9hcmQuYWRkQW5pbWF0aW9uKHRoaXMpLHRoaXN9LG1vdmVUbzpmdW5jdGlvbih0LGkscil7cj1yfHx7fSx0PW5ldyBvKG4uQ09PUkRTX0JZX1VTRVIsdCx0aGlzLmJvYXJkKTt2YXIgcyxoPXRoaXMuYm9hcmQuYXR0ci5hbmltYXRpb25kZWxheSxsPU1hdGguY2VpbChpL2gpLGM9W10sZD10aGlzLmNvb3Jkcy51c3JDb29yZHNbMV0sdT10aGlzLmNvb3Jkcy51c3JDb29yZHNbMl0scD10LnVzckNvb3Jkc1sxXS1kLGY9dC51c3JDb29yZHNbMl0tdSxtPWZ1bmN0aW9uKHQpe3JldHVybiByLmVmZmVjdCYmXCI8PlwiPT09ci5lZmZlY3Q/TWF0aC5wb3coTWF0aC5zaW4odC9sKk1hdGguUEkvMiksMik6dC9sfTtpZighYS5leGlzdHMoaSl8fDA9PT1pfHxNYXRoLmFicyh0LnVzckNvb3Jkc1swXS10aGlzLmNvb3Jkcy51c3JDb29yZHNbMF0pPmUuZXBzKXJldHVybiB0aGlzLnNldFBvc2l0aW9uKG4uQ09PUkRTX0JZX1VTRVIsdC51c3JDb29yZHMpLHRoaXMuYm9hcmQudXBkYXRlKHRoaXMpO2lmKCFhLmV4aXN0cyhyLmNhbGxiYWNrKSYmTWF0aC5hYnMocCk8ZS5lcHMmJk1hdGguYWJzKGYpPGUuZXBzKXJldHVybiB0aGlzO2ZvcihzPWw7cz49MDtzLS0pY1tsLXNdPVt0LnVzckNvb3Jkc1swXSxkK3AqbShzKSx1K2YqbShzKV07cmV0dXJuIHRoaXMuYW5pbWF0aW9uUGF0aD1jLHRoaXMuYW5pbWF0aW9uQ2FsbGJhY2s9ci5jYWxsYmFjayx0aGlzLmJvYXJkLmFkZEFuaW1hdGlvbih0aGlzKSx0aGlzfSx2aXNpdDpmdW5jdGlvbih0LGUsaSl7dD1uZXcgbyhuLkNPT1JEU19CWV9VU0VSLHQsdGhpcy5ib2FyZCk7dmFyIHIscyxoLGw9dGhpcy5ib2FyZC5hdHRyLmFuaW1hdGlvbmRlbGF5LGM9W10sZD10aGlzLmNvb3Jkcy51c3JDb29yZHNbMV0sdT10aGlzLmNvb3Jkcy51c3JDb29yZHNbMl0scD10LnVzckNvb3Jkc1sxXS1kLGY9dC51c3JDb29yZHNbMl0tdSxtPWZ1bmN0aW9uKHQpe3ZhciBlPXQ8aC8yPzIqdC9oOjIqKGgtdCkvaDtyZXR1cm4gaS5lZmZlY3QmJlwiPD5cIj09PWkuZWZmZWN0P01hdGgucG93KE1hdGguc2luKGUqTWF0aC5QSS8yKSwyKTplfTtmb3IoYS5pc051bWJlcihpKT9pPXtyZXBlYXQ6aX06KGk9aXx8e30sYS5leGlzdHMoaS5yZXBlYXQpfHwoaS5yZXBlYXQ9MSkpLGg9TWF0aC5jZWlsKGUvKGwqaS5yZXBlYXQpKSxzPTA7czxpLnJlcGVhdDtzKyspZm9yKHI9aDtyPj0wO3ItLSljW3MqKGgrMSkraC1yXT1bdC51c3JDb29yZHNbMF0sZCtwKm0ociksdStmKm0ocildO3JldHVybiB0aGlzLmFuaW1hdGlvblBhdGg9Yyx0aGlzLmFuaW1hdGlvbkNhbGxiYWNrPWkuY2FsbGJhY2ssdGhpcy5ib2FyZC5hZGRBbmltYXRpb24odGhpcyksdGhpc30sX2FuaW06ZnVuY3Rpb24odCxlKXt2YXIgcixzLG8sYSxoLGwsYyxkLHU7cmV0dXJuIHRoaXMuaW50ZXJ2YWxDb3VudCs9MSx0aGlzLmludGVydmFsQ291bnQ+ZSYmKHRoaXMuaW50ZXJ2YWxDb3VudD0wKSx0aGlzLnNsaWRlT2JqZWN0LmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkU/KGM9dGhpcy5zbGlkZU9iamVjdC5wb2ludDEuY29vcmRzLnNjckNvb3JkcyxkPXRoaXMuc2xpZGVPYmplY3QucG9pbnQyLmNvb3Jkcy5zY3JDb29yZHMscj1NYXRoLnJvdW5kKChkWzFdLWNbMV0pKnRoaXMuaW50ZXJ2YWxDb3VudC9lKSxzPU1hdGgucm91bmQoKGRbMl0tY1syXSkqdGhpcy5pbnRlcnZhbENvdW50L2UpLHQ+MD9hPXRoaXMuc2xpZGVPYmplY3QucG9pbnQxOihhPXRoaXMuc2xpZGVPYmplY3QucG9pbnQyLHIqPS0xLHMqPS0xKSx0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9TQ1JFRU4sW2EuY29vcmRzLnNjckNvb3Jkc1sxXStyLGEuY29vcmRzLnNjckNvb3Jkc1syXStzXSkpOnRoaXMuc2xpZGVPYmplY3QuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ1VSVkU/KGg9dD4wP01hdGgucm91bmQodGhpcy5pbnRlcnZhbENvdW50L2UqdGhpcy5ib2FyZC5jYW52YXNXaWR0aCk6TWF0aC5yb3VuZCgoZS10aGlzLmludGVydmFsQ291bnQpL2UqdGhpcy5ib2FyZC5jYW52YXNXaWR0aCksdGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfU0NSRUVOLFtoLDBdKSx1PWkucHJvamVjdFBvaW50VG9DdXJ2ZSh0aGlzLHRoaXMuc2xpZGVPYmplY3QsdGhpcy5ib2FyZCksdGhpcy5jb29yZHM9dVswXSx0aGlzLnBvc2l0aW9uPXVbMV0pOnRoaXMuc2xpZGVPYmplY3QuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFJiYobz0yKk1hdGguUEksbyo9dDwwP3RoaXMuaW50ZXJ2YWxDb3VudC9lOihlLXRoaXMuaW50ZXJ2YWxDb3VudCkvZSxsPXRoaXMuc2xpZGVPYmplY3QuUmFkaXVzKCksdGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfVVNFUixbdGhpcy5zbGlkZU9iamVjdC5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1sxXStsKk1hdGguY29zKG8pLHRoaXMuc2xpZGVPYmplY3QuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMl0rbCpNYXRoLnNpbihvKV0pKSx0aGlzLmJvYXJkLnVwZGF0ZSh0aGlzKSx0aGlzfSxnZXRUZXh0QW5jaG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzfSxnZXRMYWJlbEFuY2hvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkc30sZ2V0UGFyZW50czpmdW5jdGlvbigpe3ZhciB0PVt0aGlzLlooKSx0aGlzLlgoKSx0aGlzLlkoKV07cmV0dXJuIDAhPT10aGlzLnBhcmVudHMubGVuZ3RoJiYodD10aGlzLnBhcmVudHMpLHRoaXMudHlwZT09PW4uT0JKRUNUX1RZUEVfR0xJREVSJiYodD1bdGhpcy5YKCksdGhpcy5ZKCksdGhpcy5zbGlkZU9iamVjdC5pZF0pLHR9fSksdC5Db29yZHNFbGVtZW50LmNyZWF0ZT1mdW5jdGlvbih0LGUsaSxyLHMsbyl7dmFyIG4saCxsPSExO2ZvcihoPTA7aDxpLmxlbmd0aDtoKyspKGEuaXNGdW5jdGlvbihpW2hdKXx8YS5pc1N0cmluZyhpW2hdKSkmJihsPSEwKTtpZihsKShuPW5ldyB0KGUsWzAsMF0scixzLG8pKS5hZGRDb25zdHJhaW50KGkpO2Vsc2UgaWYoYS5pc051bWJlcihpWzBdKSYmYS5pc051bWJlcihpWzFdKSluPW5ldyB0KGUsaSxyLHMsbyksYS5leGlzdHMoci5zbGlkZW9iamVjdCk/bi5tYWtlR2xpZGVyKHIuc2xpZGVvYmplY3QpOm4uYmFzZUVsZW1lbnQ9bixuLmlzRHJhZ2dhYmxlPSEwO2Vsc2V7aWYoIWEuaXNPYmplY3QoaVswXSl8fCFhLmlzVHJhbnNmb3JtYXRpb25PckFycmF5KGlbMV0pKXJldHVybiExOyhuPW5ldyB0KGUsWzAsMF0scixzLG8pKS5hZGRUcmFuc2Zvcm0oaVswXSxpWzFdKSxuLmlzRHJhZ2dhYmxlPSExfXJldHVybiBuLmhhbmRsZVNuYXBUb0dyaWQoKSxuLmhhbmRsZVNuYXBUb1BvaW50cygpLG4uaGFuZGxlQXR0cmFjdG9ycygpLG4uYWRkUGFyZW50cyhpKSxufSx0LkNvb3Jkc0VsZW1lbnR9KSksZGVmaW5lKFwiYmFzZS90ZXh0XCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9lbGVtZW50XCIsXCJwYXJzZXIvZ2VvbmV4dFwiLFwidXRpbHMvZW52XCIsXCJ1dGlscy90eXBlXCIsXCJtYXRoL21hdGhcIixcImJhc2UvY29vcmRzZWxlbWVudFwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhKXtcInVzZSBzdHJpY3RcIjt2YXIgaD1mdW5jdGlvbigpe3RoaXMuX3ZhbD1wYXJzZUZsb2F0KHRoaXMucmVuZE5vZGVSYW5nZS52YWx1ZSksdGhpcy5yZW5kTm9kZU91dC52YWx1ZT10aGlzLnJlbmROb2RlUmFuZ2UudmFsdWUsdGhpcy5ib2FyZC51cGRhdGUoKX07cmV0dXJuIHQuVGV4dD1mdW5jdGlvbih0LGkscixzKXt0aGlzLmNvbnN0cnVjdG9yKHQscixlLk9CSkVDVF9UWVBFX1RFWFQsZS5PQkpFQ1RfQ0xBU1NfVEVYVCksdGhpcy5lbGVtZW50PXRoaXMuYm9hcmQuc2VsZWN0KHIuYW5jaG9yKSx0aGlzLmNvb3Jkc0NvbnN0cnVjdG9yKGksby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaXNsYWJlbCkpLHRoaXMuY29udGVudD1cIlwiLHRoaXMucGxhaW50ZXh0PVwiXCIsdGhpcy5wbGFpbnRleHRPbGQ9bnVsbCx0aGlzLm9yZ1RleHQ9XCJcIix0aGlzLm5lZWRzU2l6ZVVwZGF0ZT0hMSx0aGlzLmhpZGRlbkJ5UGFyZW50PSExLHRoaXMuc2l6ZT1bMSwxXSx0aGlzLmlkPXRoaXMuYm9hcmQuc2V0SWQodGhpcyxcIlRcIiksdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3VGV4dCh0aGlzKSx0aGlzLmJvYXJkLmZpbmFsaXplQWRkaW5nKHRoaXMpLHRoaXMuc2V0VGV4dChzKSxvLmlzU3RyaW5nKHRoaXMuY29udGVudCkmJnRoaXMubm90aWZ5UGFyZW50cyh0aGlzLmNvbnRlbnQpLHRoaXMuZWxUeXBlPVwidGV4dFwiLHRoaXMubWV0aG9kTWFwPW8uZGVlcENvcHkodGhpcy5tZXRob2RNYXAse3NldFRleHQ6XCJzZXRUZXh0SmVzc2llQ29kZVwiLG1vdmU6XCJzZXRDb29yZHNcIn0pfSx0LlRleHQucHJvdG90eXBlPW5ldyBpLG8uY29weVByb3RvdHlwZU1ldGhvZHModC5UZXh0LGEsXCJjb29yZHNDb25zdHJ1Y3RvclwiKSx0LmV4dGVuZCh0LlRleHQucHJvdG90eXBlLHtoYXNQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxhLGgsbCxjLGQ7cmV0dXJuIG8uaXNPYmplY3Qoby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KGM9dGhpcy5ib2FyZC5faW5wdXREZXZpY2UsZD1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25bY10pKTpkPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsdGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoPjAmJih0PShpPW4ubWF0VmVjTXVsdChuLmludmVyc2UodGhpcy5ib2FyZC5yZW5kZXJlci5qb2luVHJhbnNmb3Jtcyh0aGlzLHRoaXMudHJhbnNmb3JtYXRpb25zKSksWzEsdCxlXSkpWzFdLGU9aVsyXSkscj0oaT1cInJpZ2h0XCI9PT0oaD10aGlzLmdldEFuY2hvclgoKSk/dGhpcy5jb29yZHMuc2NyQ29vcmRzWzFdLXRoaXMuc2l6ZVswXTpcIm1pZGRsZVwiPT09aD90aGlzLmNvb3Jkcy5zY3JDb29yZHNbMV0tLjUqdGhpcy5zaXplWzBdOnRoaXMuY29vcmRzLnNjckNvb3Jkc1sxXSkrdGhpcy5zaXplWzBdLHM9KGE9XCJ0b3BcIj09PShsPXRoaXMuZ2V0QW5jaG9yWSgpKT90aGlzLmNvb3Jkcy5zY3JDb29yZHNbMl0rdGhpcy5zaXplWzFdOlwibWlkZGxlXCI9PT1sP3RoaXMuY29vcmRzLnNjckNvb3Jkc1syXSsuNSp0aGlzLnNpemVbMV06dGhpcy5jb29yZHMuc2NyQ29vcmRzWzJdKS10aGlzLnNpemVbMV0sXCJhbGxcIj09PW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmRyYWdhcmVhKT90Pj1pLWQmJnQ8citkJiZlPj1zLWQmJmU8PWErZDplPj1zLWQmJmU8PWErZCYmKHQ+PWktZCYmdDw9aSsyKmR8fHQ+PXItMipkJiZ0PD1yK2QpfSxfY3JlYXRlRmN0VXBkYXRlVGV4dDpmdW5jdGlvbih0KXt2YXIgZSxpLHI9by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucGFyc2UpLHM9by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudXNlbWF0aGpheCksbj1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC51c2VrYXRleCk7dGhpcy5vcmdUZXh0PXQsby5pc0Z1bmN0aW9uKHQpP3RoaXMudXBkYXRlVGV4dD1mdW5jdGlvbigpe2k9dCgpLnRvU3RyaW5nKCksdGhpcy5wbGFpbnRleHQ9IXJ8fHN8fG4/aTp0aGlzLnJlcGxhY2VTdWIodGhpcy5yZXBsYWNlU3VwKHRoaXMuY29udmVydEdlb25leHRBbmRTa2V0Y2hvbWV0cnkyQ1NTKGkpKSl9Om8uaXNTdHJpbmcodCkmJiFyP3RoaXMudXBkYXRlVGV4dD1mdW5jdGlvbigpe3RoaXMucGxhaW50ZXh0PXR9OihvLmlzTnVtYmVyKHQpP3RoaXMuY29udGVudD1vLnRvRml4ZWQodCxvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kaWdpdHMpKTpvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC51c2Vhc2NpaW1hdGhtbCk/dGhpcy5jb250ZW50PVwiJ2BcIit0K1wiYCdcIjp0aGlzLmNvbnRlbnQ9c3x8bj9cIidcIit0K1wiJ1wiOnRoaXMuZ2VuZXJhdGVUZXJtKHQsITAsITApLGU9dGhpcy5ib2FyZC5qYy5zbmlwcGV0KHRoaXMuY29udGVudCwhMCxcIlwiLCExKSx0aGlzLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oKXt0aGlzLnBsYWludGV4dD1lKCl9KX0sX3NldFRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUZjdFVwZGF0ZVRleHQodCksdGhpcy51cGRhdGVUZXh0KCksdGhpcy5mdWxsVXBkYXRlKCksdGhpcy5ib2FyZC5pbmZvYm94JiZ0aGlzLmlkPT09dGhpcy5ib2FyZC5pbmZvYm94LmlkfHx0aGlzLnVwZGF0ZVNpemUoKSx0aGlzfSxzZXRUZXh0SmVzc2llQ29kZTpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdGhpcy52aXNQcm9wLmNhc3RleHQ9dCxlPW8uaXNGdW5jdGlvbih0KT9mdW5jdGlvbigpe3JldHVybiBvLnNhbml0aXplSFRNTCh0KCkpfTpvLmlzTnVtYmVyKHQpP3Q6by5zYW5pdGl6ZUhUTUwodCksdGhpcy5fc2V0VGV4dChlKX0sc2V0VGV4dDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2V0VGV4dCh0KX0sdXBkYXRlU2l6ZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxyPW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmRpc3BsYXkpO3JldHVybiBzLmlzQnJvd3NlciYmXCJub1wiIT09dGhpcy5ib2FyZC5yZW5kZXJlci50eXBlPyhpPXRoaXMucmVuZE5vZGUsXCJodG1sXCI9PT1yfHxcInZtbFwiPT09dGhpcy5ib2FyZC5yZW5kZXJlci50eXBlP28uZXhpc3RzKGkub2Zmc2V0V2lkdGgpPyhlPXRoaXMsd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5zaXplPVtpLm9mZnNldFdpZHRoLGkub2Zmc2V0SGVpZ2h0XSxlLm5lZWRzVXBkYXRlPSEwLGUudXBkYXRlUmVuZGVyZXIoKX0pLDApKTp0aGlzLnNpemU9dGhpcy5jcnVkZVNpemVFc3RpbWF0ZSgpOlwiaW50ZXJuYWxcIj09PXImJihcInN2Z1wiPT09dGhpcy5ib2FyZC5yZW5kZXJlci50eXBlPyhlPXRoaXMsd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dHJ5e3Q9aS5nZXRCQm94KCksZS5zaXplPVt0LndpZHRoLHQuaGVpZ2h0XSxlLm5lZWRzVXBkYXRlPSEwLGUudXBkYXRlUmVuZGVyZXIoKX1jYXRjaCh0KXt9fSksMCkpOlwiY2FudmFzXCI9PT10aGlzLmJvYXJkLnJlbmRlcmVyLnR5cGUmJih0aGlzLnNpemU9dGhpcy5jcnVkZVNpemVFc3RpbWF0ZSgpKSksdGhpcyk6dGhpc30sY3J1ZGVTaXplRXN0aW1hdGU6ZnVuY3Rpb24oKXt2YXIgdD1wYXJzZUZsb2F0KG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmZvbnRzaXplKSk7cmV0dXJuW3QqdGhpcy5wbGFpbnRleHQubGVuZ3RoKi40NSwuOSp0XX0sdXRmOF9kZWNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvJiN4KFxcdyspOy9nLChmdW5jdGlvbih0LGUpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUsMTYpKX0pKX0scmVwbGFjZVN1YjpmdW5jdGlvbih0KXtpZighdC5pbmRleE9mKXJldHVybiB0O2Zvcih2YXIgZSxpPXQuaW5kZXhPZihcIl97XCIpO2k+PTA7KShlPSh0PXQuc3Vic3RyKDAsaSkrdC5zdWJzdHIoaSkucmVwbGFjZSgvX1xcey8sXCI8c3ViPlwiKSkuc3Vic3RyKGkpLmluZGV4T2YoXCJ9XCIpKT49MCYmKHQ9dC5zdWJzdHIoMCxlKSt0LnN1YnN0cihlKS5yZXBsYWNlKC9cXH0vLFwiPC9zdWI+XCIpKSxpPXQuaW5kZXhPZihcIl97XCIpO2ZvcihpPXQuaW5kZXhPZihcIl9cIik7aT49MDspaT0odD10LnN1YnN0cigwLGkpK3Quc3Vic3RyKGkpLnJlcGxhY2UoL18oLj8pLyxcIjxzdWI+JDE8L3N1Yj5cIikpLmluZGV4T2YoXCJfXCIpO3JldHVybiB0fSxyZXBsYWNlU3VwOmZ1bmN0aW9uKHQpe2lmKCF0LmluZGV4T2YpcmV0dXJuIHQ7Zm9yKHZhciBlLGk9dC5pbmRleE9mKFwiXntcIik7aT49MDspKGU9KHQ9dC5zdWJzdHIoMCxpKSt0LnN1YnN0cihpKS5yZXBsYWNlKC9cXF5cXHsvLFwiPHN1cD5cIikpLnN1YnN0cihpKS5pbmRleE9mKFwifVwiKSk+PTAmJih0PXQuc3Vic3RyKDAsZSkrdC5zdWJzdHIoZSkucmVwbGFjZSgvXFx9LyxcIjwvc3VwPlwiKSksaT10LmluZGV4T2YoXCJee1wiKTtmb3IoaT10LmluZGV4T2YoXCJeXCIpO2k+PTA7KWk9KHQ9dC5zdWJzdHIoMCxpKSt0LnN1YnN0cihpKS5yZXBsYWNlKC9cXF4oLj8pLyxcIjxzdXA+JDE8L3N1cD5cIikpLmluZGV4T2YoXCJeXCIpO3JldHVybiB0fSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX0sc2V0Q29vcmRzOmZ1bmN0aW9uKHQsaSl7dmFyIHIscyxuO3JldHVybiBvLmlzQXJyYXkodCkmJnQubGVuZ3RoPjEmJihpPXRbMV0sdD10WzBdKSxvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pc2xhYmVsKSYmby5leGlzdHModGhpcy5lbGVtZW50KT8ocz0odC0ocj10aGlzLmVsZW1lbnQuZ2V0TGFiZWxBbmNob3IoKSkudXNyQ29vcmRzWzFdKSp0aGlzLmJvYXJkLnVuaXRYLG49LShpLXIudXNyQ29vcmRzWzJdKSp0aGlzLmJvYXJkLnVuaXRZLHRoaXMucmVsYXRpdmVDb29yZHMuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfU0NSRUVOLFtzLG5dKSk6dGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdCxpXSksdGhpcy5mdWxsVXBkYXRlKCksdGhpc30sdXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPyh0aGlzLnVwZGF0ZUNvb3Jkcyh0KSx0aGlzLnVwZGF0ZVRleHQoKSxcImludGVybmFsXCI9PT1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kaXNwbGF5KSYmby5pc1N0cmluZyh0aGlzLnBsYWludGV4dCkmJih0aGlzLnBsYWludGV4dD10aGlzLnV0ZjhfZGVjb2RlKHRoaXMucGxhaW50ZXh0KSksdGhpcy5jaGVja0ZvclNpemVVcGRhdGUoKSx0aGlzLm5lZWRzU2l6ZVVwZGF0ZSYmdGhpcy51cGRhdGVTaXplKCksdGhpcyk6dGhpc30sY2hlY2tGb3JTaXplVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5ib2FyZC5pbmZvYm94JiZ0aGlzLmlkPT09dGhpcy5ib2FyZC5pbmZvYm94LmlkP3RoaXMubmVlZHNTaXplVXBkYXRlPSExOih0aGlzLm5lZWRzU2l6ZVVwZGF0ZT10aGlzLnBsYWludGV4dE9sZCE9PXRoaXMucGxhaW50ZXh0LHRoaXMubmVlZHNTaXplVXBkYXRlJiYodGhpcy5wbGFpbnRleHRPbGQ9dGhpcy5wbGFpbnRleHQpKX0sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYXV0b3Bvc2l0aW9uKSYmdGhpcy5zZXRBdXRvUG9zaXRpb24oKS51cGRhdGVDb25zdHJhaW50KCksdGhpcy51cGRhdGVSZW5kZXJlckdlbmVyaWMoXCJ1cGRhdGVUZXh0XCIpfSxleHBhbmRTaG9ydE1hdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvKFspMC05Ll0pXFxzKihbKGEtekEtWl9dKS9nLFwiJDEqJDJcIil9LGdlbmVyYXRlVGVybTpmdW5jdGlvbih0LGUsaSl7dmFyIHMsbixhLGgsbD0nXCJcIic7aWYoYT0odD0odD0odD0odD0odD0odD0odD0odD0odD0odD0odD10fHxcIlwiKS5yZXBsYWNlKC9cXHIvZyxcIlwiKSkucmVwbGFjZSgvXFxuL2csXCJcIikpLnJlcGxhY2UoL1wiL2csXCInXCIpKS5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKSkucmVwbGFjZSgvJmFtcDthcmM7L2csXCImYW5nO1wiKSkucmVwbGFjZSgvPGFyY1xccypcXC8+L2csXCImYW5nO1wiKSkucmVwbGFjZSgvJmx0O2FyY1xccypcXC8mZ3Q7L2csXCImYW5nO1wiKSkucmVwbGFjZSgvJmx0O3NxcnRcXHMqXFwvJmd0Oy9nLFwiJnJhZGljO1wiKSkucmVwbGFjZSgvJmx0O3ZhbHVlJmd0Oy9nLFwiPHZhbHVlPlwiKSkucmVwbGFjZSgvJmx0O1xcL3ZhbHVlJmd0Oy9nLFwiPC92YWx1ZT5cIikpLmluZGV4T2YoXCI8dmFsdWU+XCIpLGg9dC5pbmRleE9mKFwiPC92YWx1ZT5cIiksYT49MClmb3IoO2E+PTA7KWwrPScgKyBcIicrdGhpcy5yZXBsYWNlU3ViKHRoaXMucmVwbGFjZVN1cCh0LnNsaWNlKDAsYSkpKSsnXCInLG49KG49dC5zbGljZShhKzcsaCkpLnJlcGxhY2UoL1xccysvZyxcIlwiKSwhMD09PWUmJihuPXRoaXMuZXhwYW5kU2hvcnRNYXRoKG4pKSwocz0ocz0ocz1pP246ci5nZW9uZXh0MkpTKG4sdGhpcy5ib2FyZCkpLnJlcGxhY2UoL1xcXFxcIi9nLFwiJ1wiKSkucmVwbGFjZSgvXFxcXCcvZyxcIidcIikpLmluZGV4T2YoXCJ0b0ZpeGVkXCIpPDAmJm8uaXNOdW1iZXIoby5iaW5kKHRoaXMuYm9hcmQuamMuc25pcHBldChzLCEwLFwiXCIsITEpLHRoaXMpKCkpP2wrPVwiKyhcIitzK1wiKS50b0ZpeGVkKFwiK28uZXZhbHVhdGUodGhpcy52aXNQcm9wLmRpZ2l0cykrXCIpXCI6bCs9XCIrKFwiK3MrXCIpXCIsYT0odD10LnNsaWNlKGgrOCkpLmluZGV4T2YoXCI8dmFsdWU+XCIpLGg9dC5pbmRleE9mKFwiPC92YWx1ZT5cIik7cmV0dXJuIGwrPScgKyBcIicrdGhpcy5yZXBsYWNlU3ViKHRoaXMucmVwbGFjZVN1cCh0KSkrJ1wiJyxsPShsPShsPXRoaXMuY29udmVydEdlb25leHRBbmRTa2V0Y2hvbWV0cnkyQ1NTKGwpKS5yZXBsYWNlKC8mYW1wOy9nLFwiJlwiKSkucmVwbGFjZSgvXCIvZyxcIidcIil9LGNvbnZlcnRHZW9uZXh0MkNTUzpmdW5jdGlvbih0KXtyZXR1cm4gby5pc1N0cmluZyh0KSYmKHQ9KHQ9KHQ9KHQ9dC5yZXBsYWNlKC8oPHwmbHQ7KW92ZXJsaW5lKD58Jmd0OykvZyxcIjxzcGFuIHN0eWxlPXRleHQtZGVjb3JhdGlvbjpvdmVybGluZTs+XCIpKS5yZXBsYWNlKC8oPHwmbHQ7KVxcL292ZXJsaW5lKD58Jmd0OykvZyxcIjwvc3Bhbj5cIikpLnJlcGxhY2UoLyg8fCZsdDspYXJyb3coPnwmZ3Q7KS9nLFwiPHNwYW4gc3R5bGU9dGV4dC1kZWNvcmF0aW9uOm92ZXJsaW5lOz5cIikpLnJlcGxhY2UoLyg8fCZsdDspXFwvYXJyb3coPnwmZ3Q7KS9nLFwiPC9zcGFuPlwiKSksdH0sY29udmVydFNrZXRjaG9tZXRyeTJDU1M6ZnVuY3Rpb24odCl7cmV0dXJuIG8uaXNTdHJpbmcodCkmJih0PSh0PSh0PSh0PXQucmVwbGFjZSgvKDx8Jmx0Oylza2V0Y2hvZm9udCg+fCZndDspL2csXCI8c3BhbiBzdHlsZT1mb250LWZhbWlseTpza2V0Y2hvbWV0cnktbGlnaHQ7Zm9udC13ZWlnaHQ6NTAwOz5cIikpLnJlcGxhY2UoLyg8fCZsdDspXFwvc2tldGNob2ZvbnQoPnwmZ3Q7KS9nLFwiPC9zcGFuPlwiKSkucmVwbGFjZSgvKDx8Jmx0Oylza2V0Y2hvbWV0cnktbGlnaHQoPnwmZ3Q7KS9nLFwiPHNwYW4gc3R5bGU9Zm9udC1mYW1pbHk6c2tldGNob21ldHJ5LWxpZ2h0O2ZvbnQtd2VpZ2h0OjUwMDs+XCIpKS5yZXBsYWNlKC8oPHwmbHQ7KVxcL3NrZXRjaG9tZXRyeS1saWdodCg+fCZndDspL2csXCI8L3NwYW4+XCIpKSx0fSxjb252ZXJ0R2VvbmV4dEFuZFNrZXRjaG9tZXRyeTJDU1M6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dGhpcy5jb252ZXJ0R2VvbmV4dDJDU1ModCksdD10aGlzLmNvbnZlcnRTa2V0Y2hvbWV0cnkyQ1NTKHQpfSxub3RpZnlQYXJlbnRzOmZ1bmN0aW9uKHQpe3ZhciBlLGk9bnVsbDt0PSh0PXQucmVwbGFjZSgvJmx0O3ZhbHVlJmd0Oy9nLFwiPHZhbHVlPlwiKSkucmVwbGFjZSgvJmx0O1xcL3ZhbHVlJmd0Oy9nLFwiPC92YWx1ZT5cIik7ZG97bnVsbCE9PShpPShlPS88dmFsdWU+KFtcXHdcXHMqL15cXC0rKClbXFxdLDw+PSFdKyk8XFwvdmFsdWU+LykuZXhlYyh0KSkmJihyLmZpbmREZXBlbmRlbmNpZXModGhpcyxpWzFdLHRoaXMuYm9hcmQpLHQ9KHQ9dC5zdWJzdHIoaS5pbmRleCkpLnJlcGxhY2UoZSxcIlwiKSl9d2hpbGUobnVsbCE9PWkpO3JldHVybiB0aGlzfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHQ9dm9pZCAwIT09dGhpcy5yZWxhdGl2ZUNvb3Jkcz9bdGhpcy5yZWxhdGl2ZUNvb3Jkcy51c3JDb29yZHNbMV0sdGhpcy5yZWxhdGl2ZUNvb3Jkcy51c3JDb29yZHNbMl0sdGhpcy5vcmdUZXh0XTpbdGhpcy5aKCksdGhpcy5YKCksdGhpcy5ZKCksdGhpcy5vcmdUZXh0XSwwIT09dGhpcy5wYXJlbnRzLmxlbmd0aCYmKHQ9dGhpcy5wYXJlbnRzKSx0fSxib3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvb3Jkcy51c3JDb29yZHM7cmV0dXJuIG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmlzbGFiZWwpfHwwPT09dGhpcy5ib2FyZC51bml0WXx8MD09PXRoaXMuYm9hcmQudW5pdFg/WzAsMCwwLDBdOlt0WzFdLHRbMl0rdGhpcy5zaXplWzFdL3RoaXMuYm9hcmQudW5pdFksdFsxXSt0aGlzLnNpemVbMF0vdGhpcy5ib2FyZC51bml0WCx0WzJdXX0sZ2V0QW5jaG9yWDpmdW5jdGlvbigpe3ZhciB0PW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmFuY2hvcngpO2lmKFwiYXV0b1wiPT09dClzd2l0Y2godGhpcy52aXNQcm9wLnBvc2l0aW9uKXtjYXNlXCJ0b3BcIjpjYXNlXCJib3RcIjpyZXR1cm5cIm1pZGRsZVwiO2Nhc2VcInJ0XCI6Y2FzZVwibHJ0XCI6Y2FzZVwidXJ0XCI6cmV0dXJuXCJsZWZ0XCI7ZGVmYXVsdDpyZXR1cm5cInJpZ2h0XCJ9cmV0dXJuIHR9LGdldEFuY2hvclk6ZnVuY3Rpb24oKXt2YXIgdD1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hbmNob3J5KTtpZihcImF1dG9cIj09PXQpc3dpdGNoKHRoaXMudmlzUHJvcC5wb3NpdGlvbil7Y2FzZVwidG9wXCI6Y2FzZVwidWxmdFwiOmNhc2VcInVydFwiOnJldHVyblwiYm90dG9tXCI7Y2FzZVwiYm90XCI6Y2FzZVwibHJ0XCI6Y2FzZVwibGxmdFwiOnJldHVyblwidG9wXCI7ZGVmYXVsdDpyZXR1cm5cIm1pZGRsZVwifXJldHVybiB0fSxnZXROdW1iZXJvZkNvbmZsaWN0czpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvLG4sYSxoPTA7Zm9yKGE9dGhpcy5ib2FyZC5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludCx0aGlzLmJvYXJkLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50PS4yNSooaStyKSxzPTAsbj10aGlzLmJvYXJkLm9iamVjdHNMaXN0Lmxlbmd0aDtzPG47cysrKShvPXRoaXMuYm9hcmQub2JqZWN0c0xpc3Rbc10pLnZpc1Byb3BDYWxjLnZpc2libGUmJlwiYXhpc1wiIT09by5lbFR5cGUmJlwidGlja3NcIiE9PW8uZWxUeXBlJiZvIT09dGhpcy5ib2FyZC5pbmZvYm94JiZvIT09dGhpcyYmby5oYXNQb2ludCh0LGUpJiZoKys7cmV0dXJuIHRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQ9YSxofSxzZXRBdXRvUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiPXRoaXMuc2l6ZVswXSx2PXRoaXMuc2l6ZVsxXSx5PXtjb25mbGljdHM6MS8wLGFuZ2xlOjAscjowfSxDPTIqTWF0aC5QSS8xMjtpZih0aGlzPT09dGhpcy5ib2FyZC5pbmZvYm94fHwhdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlfHwhby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaXNsYWJlbCl8fCF0aGlzLmVsZW1lbnQpcmV0dXJuIHRoaXM7aWYoYz1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5vZmZzZXQpLGk9KHM9dGhpcy5lbGVtZW50LmdldExhYmVsQW5jaG9yKCkpLnNjckNvb3Jkc1sxXSxyPXMuc2NyQ29vcmRzWzJdLHA9Y1swXSxmPWNbMV0sMD09PShsPXRoaXMuZ2V0TnVtYmVyb2ZDb25mbGljdHMoaStwLHItZixiLHYpKSlyZXR1cm4gdGhpcztmb3IoMjgsaD0uMiooZD0xMiksbj1NYXRoLmF0YW4yKGYscCkseS5jb25mbGljdHM9bCx5LmFuZ2xlPW4seS5yPWQ7eS5jb25mbGljdHM+MCYmZDwyODspe2Zvcih1PTEsYT1uK0M7dTwxMiYmeS5jb25mbGljdHM+MCYmKHQ9aStkKihtPU1hdGguY29zKGEpKSxlPXItZCooZz1NYXRoLnNpbihhKSksKGw9dGhpcy5nZXROdW1iZXJvZkNvbmZsaWN0cyh0LGUsYix2KSk8eS5jb25mbGljdHMmJih5LmNvbmZsaWN0cz1sLHkuYW5nbGU9YSx5LnI9ZCksMCE9PXkuY29uZmxpY3RzKTt1KyspYSs9QztkKz1ofXJldHVybiBkPXkucixtPU1hdGguY29zKHkuYW5nbGUpLGc9TWF0aC5zaW4oeS5hbmdsZSksdGhpcy52aXNQcm9wLm9mZnNldD1bZCptLGQqZ10sdGhpcy52aXNQcm9wLmFuY2hvcng9bTwtLjI/XCJyaWdodFwiOm0+LjI/XCJsZWZ0XCI6XCJtaWRkbGVcIix0aGlzfX0pLHQuY3JlYXRlVGV4dD1mdW5jdGlvbihlLGkscil7dmFyIHMsbj1vLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwidGV4dFwiKSxoPWkuc2xpY2UoMCwtMSksbD1pW2kubGVuZ3RoLTFdO2lmKG4uYW5jaG9yPW4ucGFyZW50fHxuLmFuY2hvciwhKHM9YS5jcmVhdGUodC5UZXh0LGUsaCxuLGwpKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHRleHQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFt4LHldLCBbeix4LHldLCBbZWxlbWVudCx0cmFuc2Zvcm1hdGlvbl1cIik7cmV0dXJuIDAhPT1uLnJvdGF0ZSYmXCJpbnRlcm5hbFwiPT09bi5kaXNwbGF5JiZzLmFkZFJvdGF0aW9uKG4ucm90YXRlKSxzfSx0LnJlZ2lzdGVyRWxlbWVudChcInRleHRcIix0LmNyZWF0ZVRleHQpLHQuY3JlYXRlSFRNTFNsaWRlcj1mdW5jdGlvbihlLGkscil7dmFyIG4sYSxsPW8uY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJodG1sc2xpZGVyXCIpO2lmKDIhPT1pLmxlbmd0aHx8MiE9PWlbMF0ubGVuZ3RofHwzIT09aVsxXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBodG1sc2xpZGVyIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50cyBhcmU6IFtbeCx5XSwgW21pbiwgc3RhcnQsIG1heF1dXCIpO2wuYW5jaG9yPWwucGFyZW50fHxsLmFuY2hvcixsLmZpeGVkPWwuZml4ZWR8fCEwLGE9W2lbMF1bMF0saVswXVsxXSwnPGZvcm0gc3R5bGU9XCJkaXNwbGF5OmlubGluZVwiPjxpbnB1dCB0eXBlPVwicmFuZ2VcIiAvPjxzcGFuPjwvc3Bhbj48aW5wdXQgdHlwZT1cInRleHRcIiAvPjwvZm9ybT4nXSwobj10LmNyZWF0ZVRleHQoZSxhLGwpKS50eXBlPW8uT0JKRUNUX1RZUEVfSFRNTFNMSURFUixuLnJlbmROb2RlRm9ybT1uLnJlbmROb2RlLmNoaWxkTm9kZXNbMF0sbi5yZW5kTm9kZVJhbmdlPW4ucmVuZE5vZGVGb3JtLmNoaWxkTm9kZXNbMF0sbi5yZW5kTm9kZVJhbmdlLm1pbj1pWzFdWzBdLG4ucmVuZE5vZGVSYW5nZS5tYXg9aVsxXVsyXSxuLnJlbmROb2RlUmFuZ2Uuc3RlcD1sLnN0ZXAsbi5yZW5kTm9kZVJhbmdlLnZhbHVlPWlbMV1bMV0sbi5yZW5kTm9kZUxhYmVsPW4ucmVuZE5vZGVGb3JtLmNoaWxkTm9kZXNbMV0sbi5yZW5kTm9kZUxhYmVsLmlkPW4ucmVuZE5vZGUuaWQrXCJfbGFiZWxcIixsLndpdGhsYWJlbCYmKG4ucmVuZE5vZGVMYWJlbC5pbm5lckhUTUw9bi5uYW1lK1wiPVwiKSxuLnJlbmROb2RlT3V0PW4ucmVuZE5vZGVGb3JtLmNoaWxkTm9kZXNbMl0sbi5yZW5kTm9kZU91dC52YWx1ZT1pWzFdWzFdO3RyeXtuLnJlbmROb2RlRm9ybS5pZD1uLnJlbmROb2RlLmlkK1wiX2Zvcm1cIixuLnJlbmROb2RlUmFuZ2UuaWQ9bi5yZW5kTm9kZS5pZCtcIl9yYW5nZVwiLG4ucmVuZE5vZGVPdXQuaWQ9bi5yZW5kTm9kZS5pZCtcIl9vdXRcIn1jYXRjaChlKXt0LmRlYnVnKGUpfXJldHVybiBuLnJlbmROb2RlUmFuZ2Uuc3R5bGUud2lkdGg9bC53aWR0aHJhbmdlK1wicHhcIixuLnJlbmROb2RlUmFuZ2Uuc3R5bGUudmVydGljYWxBbGlnbj1cIm1pZGRsZVwiLG4ucmVuZE5vZGVPdXQuc3R5bGUud2lkdGg9bC53aWR0aG91dCtcInB4XCIsbi5fdmFsPWlbMV1bMV0sdC5zdXBwb3J0c1ZNTCgpP3MuYWRkRXZlbnQobi5yZW5kTm9kZUZvcm0sXCJjaGFuZ2VcIixoLG4pOnMuYWRkRXZlbnQobi5yZW5kTm9kZUZvcm0sXCJpbnB1dFwiLGgsbiksbi5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx9LG59LHQucmVnaXN0ZXJFbGVtZW50KFwiaHRtbHNsaWRlclwiLHQuY3JlYXRlSFRNTFNsaWRlcikse1RleHQ6dC5UZXh0LGNyZWF0ZVRleHQ6dC5jcmVhdGVUZXh0LGNyZWF0ZUhUTUxTbGlkZXI6dC5jcmVhdGVIVE1MU2xpZGVyfX0pKSxkZWZpbmUoXCJ1dGlscy91dWlkXCIsW1wianhnXCJdLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1cIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuc3BsaXQoXCJcIik7cmV0dXJuIHQuVXRpbD10LlV0aWx8fHt9LHQuVXRpbC5nZW5VVUlEPWZ1bmN0aW9uKHQpe3ZhciBpLHIscz1bXSxvPTA7Zm9yKFwiXCIhPT0odD10fHxcIlwiKSYmXCItXCIhPT10LnN1YnN0cih0Lmxlbmd0aC0xKSYmKHQrPVwiLVwiKSxyPTA7cjwzNjtyKyspOD09PXJ8fDEzPT09cnx8MTg9PT1yfHwyMz09PXI/c1tyXT1cIi1cIjoxND09PXI/c1tyXT1cIjRcIjoobzw9MiYmKG89MzM1NTQ0MzIrMTY3NzcyMTYqTWF0aC5yYW5kb20oKXwwKSxpPTE1Jm8sbz4+PTQsc1tyXT1lWzE5PT09cj8zJml8ODppXSk7cmV0dXJuIHQrcy5qb2luKFwiXCIpfSx0LlV0aWx9KSksZGVmaW5lKFwicGFyc2VyL2plc3NpZWNvZGVcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL3RleHRcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9pYVwiLFwibWF0aC9nZW9tZXRyeVwiLFwibWF0aC9zdGF0aXN0aWNzXCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy91dWlkXCIsXCJ1dGlscy9lbnZcIl0sKGZ1bmN0aW9uKEpYRyxDb25zdCxUZXh0LE1hdCxJbnRlcnZhbCxHZW9tZXRyeSxTdGF0aXN0aWNzLFR5cGUsVVVJRCxFbnYpe09iamVjdC5jcmVhdGV8fChPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBwcm90b3R5cGUgbWF5IG9ubHkgYmUgYW4gT2JqZWN0OiBcIit0KTtpZihudWxsPT09dCl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGJyb3dzZXIncyBpbXBsZW1lbnRhdGlvbiBvZiBPYmplY3QuY3JlYXRlIGlzIGEgc2hpbSBhbmQgZG9lc24ndCBzdXBwb3J0ICdudWxsJyBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXCIpO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBicm93c2VyJ3MgaW1wbGVtZW50YXRpb24gb2YgT2JqZWN0LmNyZWF0ZSBpcyBhIHNoaW0gYW5kIGRvZXNuJ3Qgc3VwcG9ydCBhIHNlY29uZCBhcmd1bWVudC5cIik7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5wcm90b3R5cGU9dCxuZXcgaX0pO3ZhciBwcml2PXttb2R1bGVzOnttYXRoOk1hdCxcIm1hdGgvZ2VvbWV0cnlcIjpHZW9tZXRyeSxcIm1hdGgvc3RhdGlzdGljc1wiOlN0YXRpc3RpY3MsXCJtYXRoL251bWVyaWNzXCI6TWF0Lk51bWVyaWNzfX0scixfY2NhY2hlO0pYRy5KZXNzaWVDb2RlPWZ1bmN0aW9uKHQsZSl7dGhpcy5zY29wZT17aWQ6MCxoYXNDaGlsZDohMCxhcmdzOltdLGxvY2Fsczp7fSxjb250ZXh0Om51bGwscHJldmlvdXM6bnVsbH0sdGhpcy5zY29wZXM9W10sdGhpcy5zY29wZXMucHVzaCh0aGlzLnNjb3BlKSx0aGlzLmRwc3RhY2s9W1tdXSx0aGlzLnBzY29wZT0wLHRoaXMucHJvcHN0YWNrPVt7fV0sdGhpcy5wcm9wc2NvcGU9MCx0aGlzLmxocz1bXSx0aGlzLmlzTEhTPSExLHRoaXMud2FybkxvZz1cImpjd2FyblwiLHRoaXMuJGxvZz1bXSx0aGlzLmJ1aWx0SW49dGhpcy5kZWZpbmVCdWlsdEluKCksdGhpcy5vcGVyYW5kcz10aGlzLmdldFBvc3NpYmxlT3BlcmFuZHMoKSx0aGlzLmJvYXJkPW51bGwsdGhpcy5saW5lVG9FbGVtZW50PXt9LHRoaXMucGFyQ3VyTGluZT0xLHRoaXMucGFyQ3VyQ29sdW1uPTAsdGhpcy5saW5lPTEsdGhpcy5jb2w9MSxKWEcuQ0EmJih0aGlzLkNBPW5ldyBKWEcuQ0EodGhpcy5ub2RlLHRoaXMuY3JlYXRlTm9kZSx0aGlzKSksdGhpcy5jb2RlPVwiXCIsXCJzdHJpbmdcIj09dHlwZW9mIHQmJnRoaXMucGFyc2UodCxlKX0sSlhHLmV4dGVuZChKWEcuSmVzc2llQ29kZS5wcm90b3R5cGUse25vZGU6ZnVuY3Rpb24odCxlLGkpe3JldHVybnt0eXBlOnQsdmFsdWU6ZSxjaGlsZHJlbjppfX0sY3JlYXRlTm9kZTpmdW5jdGlvbih0LGUsaSl7dmFyIHIscz10aGlzLm5vZGUodCxlLFtdKTtmb3Iocj0yO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspcy5jaGlsZHJlbi5wdXNoKGFyZ3VtZW50c1tyXSk7cmV0dXJuXCJub2RlX2NvbnN0XCI9PXMudHlwZSYmVHlwZS5pc051bWJlcihzLnZhbHVlKSYmKHMuaXNNYXRoPSEwKSxzLmxpbmU9dGhpcy5wYXJDdXJMaW5lLHMuY29sPXRoaXMucGFyQ3VyQ29sdW1uLHN9LHB1c2hTY29wZTpmdW5jdGlvbih0KXt2YXIgZT17YXJnczp0LGxvY2Fsczp7fSxjb250ZXh0Om51bGwscHJldmlvdXM6dGhpcy5zY29wZX07cmV0dXJuIHRoaXMuc2NvcGUuaGFzQ2hpbGQ9ITAsdGhpcy5zY29wZT1lLGUuaWQ9dGhpcy5zY29wZXMucHVzaChlKS0xLGV9LHBvcFNjb3BlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zY29wZS5wcmV2aW91cztyZXR1cm4gdGhpcy5zY29wZT1udWxsIT09dD90OnRoaXMuc2NvcGUsdGhpcy5zY29wZX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYm9hcmQub2JqZWN0c1t0XX0sbG9nOmZ1bmN0aW9uKCl7dGhpcy4kbG9nLnB1c2goYXJndW1lbnRzKSxcIm9iamVjdFwiPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2cmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsYXJndW1lbnRzKX0sY3JlYXRvcjooX2NjYWNoZT17fSwocj1mdW5jdGlvbih0KXt2YXIgZSxpO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIF9jY2FjaGVbdGhpcy5ib2FyZC5pZCt0XT9lPV9jY2FjaGVbdGhpcy5ib2FyZC5pZCt0XTooaT10aGlzLChlPWZ1bmN0aW9uKGUscil7dmFyIHM7cmV0dXJuIHZvaWQgMD09PShzPVR5cGUuZXhpc3RzKHIpP3I6e30pLm5hbWUmJnZvaWQgMD09PXMuaWQmJihzLm5hbWU9MCE9PWkubGhzW2kuc2NvcGUuaWRdP2kubGhzW2kuc2NvcGUuaWRdOlwiXCIpLGkuYm9hcmQuY3JlYXRlKHQsZSxzKX0pLmNyZWF0b3I9ITAsX2NjYWNoZVt0aGlzLmJvYXJkLmlkK3RdPWUpLGV9KS5jbGVhckNhY2hlPWZ1bmN0aW9uKCl7X2NjYWNoZT17fX0sciksbGV0dmFyOmZ1bmN0aW9uKHQsZSl7dGhpcy5idWlsdEluW3RdJiZ0aGlzLl93YXJuKCdcIicrdCsnXCIgaXMgYSBwcmVkZWZpbmVkIHZhbHVlLicpLHRoaXMuc2NvcGUubG9jYWxzW3RdPWV9LGlzTG9jYWxWYXJpYWJsZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5zY29wZTtudWxsIT09ZTspe2lmKFR5cGUuZXhpc3RzKGUubG9jYWxzW3RdKSlyZXR1cm4gZTtlPWUucHJldmlvdXN9cmV0dXJuIG51bGx9LGlzUGFyYW1ldGVyOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnNjb3BlO251bGwhPT1lOyl7aWYoVHlwZS5pbmRleE9mKGUuYXJncyx0KT4tMSlyZXR1cm4gZTtlPWUucHJldmlvdXN9cmV0dXJuIG51bGx9LGlzQ3JlYXRvcjpmdW5jdGlvbih0KXtyZXR1cm4hIUpYRy5lbGVtZW50c1t0XX0saXNNYXRoTWV0aG9kOmZ1bmN0aW9uKHQpe3JldHVyblwiRVwiIT09dCYmISFNYXRoW3RdfSxpc0J1aWx0SW46ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmJ1aWx0SW5bdF19LGdldHZhcjpmdW5jdGlvbih0LGUsaSl7dmFyIHI7aWYoZT1UeXBlLmRlZihlLCExKSxudWxsIT09KHI9dGhpcy5pc0xvY2FsVmFyaWFibGUodCkpKXJldHVybiByLmxvY2Fsc1t0XTtpZihcIiRib2FyZFwiPT09dHx8XCJFVUxFUlwiPT09dHx8XCJQSVwiPT09dClyZXR1cm4gdGhpcy5idWlsdEluW3RdO2lmKGkpe2lmKHRoaXMuaXNCdWlsdEluKHQpKXJldHVybiB0aGlzLmJ1aWx0SW5bdF07aWYodGhpcy5pc01hdGhNZXRob2QodCkpcmV0dXJuIE1hdGhbdF07aWYodGhpcy5pc0NyZWF0b3IodCkpcmV0dXJuIHRoaXMuY3JlYXRvcih0KX1yZXR1cm4gZXx8KHI9dGhpcy5ib2FyZC5zZWxlY3QodCkpPT09dD92b2lkIDA6cn0scmVzb2x2ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5zY29wZTtudWxsIT09ZTspe2lmKFR5cGUuZXhpc3RzKGUubG9jYWxzW3RdKSlyZXR1cm4gZS5sb2NhbHNbdF07ZT1lLnByZXZpb3VzfX0sZ2V0dmFySlM6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM9XCJcIjtyZXR1cm4gZT1UeXBlLmRlZihlLCExKSxpPVR5cGUuZGVmKGksITEpLG51bGwhPT10aGlzLmlzUGFyYW1ldGVyKHQpP3Q6bnVsbD09PXRoaXMuaXNMb2NhbFZhcmlhYmxlKHQpfHxpP3RoaXMuaXNDcmVhdG9yKHQpP1wiKGZ1bmN0aW9uICgpIHsgdmFyIGEgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApLCBwcm9wcyA9IFwiKyhpP1wiYS5wb3AoKVwiOlwie31cIikrXCI7IHJldHVybiAkamMkLmJvYXJkLmNyZWF0ZS5hcHBseSgkamMkLmJvYXJkLCBbJ1wiK3QrXCInXS5jb25jYXQoW2EsIHByb3BzXSkpOyB9KVwiOihpJiZ0aGlzLl9lcnJvcihcIlN5bnRheCBlcnJvciAoYXR0cmlidXRlIHZhbHVlcyBhcmUgYWxsb3dlZCB3aXRoIGVsZW1lbnQgY3JlYXRvcnMgb25seSlcIiksdGhpcy5pc0J1aWx0SW4odCk/KHM9dGhpcy5idWlsdEluW3RdLnNyY3x8dGhpcy5idWlsdEluW3RdLFR5cGUuaXNOdW1iZXIocyl8fHMubWF0Y2goL2JvYXJkXFwuc2VsZWN0Lyk/czoodD1zLnNwbGl0KFwiLlwiKS5wb3AoKSxUeXBlLmV4aXN0cyh0aGlzLmJvYXJkLm1hdGhMaWIpJiZudWxsIT09KHI9bmV3IFJlZ0V4cChcIl5NYXRoLlwiK3QpKS5leGVjKHMpP3MucmVwbGFjZShyLFwiJGpjJC5ib2FyZC5tYXRoTGliLlwiK3QpOlR5cGUuZXhpc3RzKHRoaXMuYm9hcmQubWF0aExpYkpYRykmJm51bGwhPT0ocj1uZXcgUmVnRXhwKFwiXkpYRy5NYXRoLlwiKSkuZXhlYyhzKT9zLnJlcGxhY2UocixcIiRqYyQuYm9hcmQubWF0aExpYkpYRy5cIik6cykpOnRoaXMuaXNNYXRoTWV0aG9kKHQpP1wiJGpjJC5ib2FyZC5tYXRoTGliLlwiK3Q6ZT9cIlwiOihUeXBlLmlzSWQodGhpcy5ib2FyZCx0KT8ocz1cIiRqYyQuYm9hcmQub2JqZWN0c1snXCIrdCtcIiddXCIsXCJzbGlkZXJcIj09PXRoaXMuYm9hcmQub2JqZWN0c1t0XS5lbFR5cGUmJihzKz1cIi5WYWx1ZSgpXCIpKTpUeXBlLmlzTmFtZSh0aGlzLmJvYXJkLHQpPyhzPVwiJGpjJC5ib2FyZC5lbGVtZW50c0J5TmFtZVsnXCIrdCtcIiddXCIsXCJzbGlkZXJcIj09PXRoaXMuYm9hcmQuZWxlbWVudHNCeU5hbWVbdF0uZWxUeXBlJiYocys9XCIuVmFsdWUoKVwiKSk6VHlwZS5pc0dyb3VwKHRoaXMuYm9hcmQsdCkmJihzPVwiJGpjJC5ib2FyZC5ncm91cHNbJ1wiK3QrXCInXVwiKSxzKSk6XCIkamMkLnJlc29sdmUoJ1wiK3QrXCInKVwifSxtYWtlTWFwOmZ1bmN0aW9uKHQpe3JldHVybiB0LmlzTWFwPSEwLHR9LGZ1bmN0aW9uQ29kZUpTOmZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW5bMF0uam9pbihcIiwgXCIpLGk9XCJcIixyPVwiXCI7cmV0dXJuXCJvcF9tYXBcIj09PXQudmFsdWUmJihpPVwieyByZXR1cm4gIFwiLHI9XCIgfVwiKSxcImZ1bmN0aW9uIChcIitlK1wiKSB7XFxudmFyICRvbGRzY29wZSQgPSAkamMkLnNjb3BlO1xcbiRqYyQuc2NvcGUgPSAkamMkLnNjb3Blc1tcIit0aGlzLnNjb3BlLmlkK1wiXTtcXG52YXIgciA9IChmdW5jdGlvbiAoKSBcIitpK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLCEwKStyK1wiKSgpO1xcbiRqYyQuc2NvcGUgPSAkb2xkc2NvcGUkO1xcbnJldHVybiByO1xcbn1cIn0sZGVmaW5lRnVuY3Rpb246ZnVuY3Rpb24obm9kZSl7dmFyIGZ1bixpLHRoYXQ9dGhpcyxsaXN0PW5vZGUuY2hpbGRyZW5bMF0sc2NvcGU9dGhpcy5wdXNoU2NvcGUobGlzdCksX3RoYXQ7aWYodGhpcy5ib2FyZC5vcHRpb25zLmpjLmNvbXBpbGUpe2Zvcih0aGlzLmlzTEhTPSExLGk9MDtpPGxpc3QubGVuZ3RoO2krKylzY29wZS5sb2NhbHNbbGlzdFtpXV09bGlzdFtpXTt0aGlzLnJlcGxhY2VOYW1lcyhub2RlLmNoaWxkcmVuWzFdKSxmdW49ZnVuY3Rpb24oJGpjJCl7dmFyIGZ1bixzdHI9XCJ2YXIgZiA9IFwiKyRqYyQuZnVuY3Rpb25Db2RlSlMobm9kZSkrXCI7IGY7XCI7dHJ5e2ZvcihmdW49ZXZhbChzdHIpLHNjb3BlLmFyZ3R5cGVzPVtdLGk9MDtpPGxpc3QubGVuZ3RoO2krKylzY29wZS5hcmd0eXBlcy5wdXNoKHRoYXQucmVzb2x2ZVR5cGUobGlzdFtpXSxub2RlKSk7cmV0dXJuIGZ1bn1jYXRjaCh0KXtyZXR1cm4gJGpjJC5fd2FybihcImVycm9yIGNvbXBpbGluZyBmdW5jdGlvblxcblxcblwiK3N0citcIlxcblxcblwiK3QudG9TdHJpbmcoKSksZnVuY3Rpb24oKXt9fX0odGhpcyksdGhpcy5wb3BTY29wZSgpfWVsc2UgZnVuPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixzO2ZvcihzPWUuc2NvcGUsZS5zY29wZT1lLnNjb3Blc1tpXSxyPTA7cjx0Lmxlbmd0aDtyKyspZS5zY29wZS5sb2NhbHNbdFtyXV09YXJndW1lbnRzW3JdO3JldHVybiByPWUuZXhlY3V0ZShub2RlLmNoaWxkcmVuWzFdKSxlLnNjb3BlPXMscn19KGxpc3QsdGhpcyxzY29wZS5pZCk7cmV0dXJuIGZ1bi5ub2RlPW5vZGUsZnVuLnNjb3BlPXNjb3BlLGZ1bi50b0pTPWZ1bi50b1N0cmluZyxmdW4udG9TdHJpbmc9KF90aGF0PXRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gX3RoYXQuY29tcGlsZShfdGhhdC5yZXBsYWNlSURzKFR5cGUuZGVlcENvcHkobm9kZSkpKX0pLGZ1bi5kZXBzPXt9LHRoaXMuY29sbGVjdERlcGVuZGVuY2llcyhub2RlLmNoaWxkcmVuWzFdLGZ1bi5kZXBzKSxmdW59LG1lcmdlQXR0cmlidXRlczpmdW5jdGlvbih0KXt2YXIgZSxpPXt9O2ZvcihlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylpPVR5cGUuZGVlcENvcHkoaSxhcmd1bWVudHNbZV0sITApO3JldHVybiBpfSxzZXRQcm9wOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG89e307dC5lbGVtZW50Q2xhc3MhPT1Db25zdC5PQkpFQ1RfQ0xBU1NfUE9JTlR8fFwiWFwiIT09ZSYmXCJZXCIhPT1lP3QuZWxlbWVudENsYXNzIT09Q29uc3QuT0JKRUNUX0NMQVNTX1RFWFR8fFwiWFwiIT09ZSYmXCJZXCIhPT1lP3QudHlwZSYmdC5lbGVtZW50Q2xhc3MmJnQudmlzUHJvcD9UeXBlLmV4aXN0cyh0W3QubWV0aG9kTWFwW2VdXSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHRbdC5tZXRob2RNYXBbZV1dP3RbdC5tZXRob2RNYXBbZV1dPWk6KG9bZV09aSx0LnNldEF0dHJpYnV0ZShvKSk6dFtlXT1pOihcIm51bWJlclwiPT10eXBlb2YgaT90W2VdPWZ1bmN0aW9uKCl7cmV0dXJuIGl9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGk/KHQuaXNEcmFnZ2FibGU9ITEsdFtlXT1pKTpcInN0cmluZ1wiPT10eXBlb2YgaSYmKHQuaXNEcmFnZ2FibGU9ITEsdFtlXT1UeXBlLmNyZWF0ZUZ1bmN0aW9uKGksdGhpcy5ib2FyZCxudWxsLCEwKSx0W2UrXCJqY1wiXT1pKSx0W2VdLm9yaWdpbj1pLHRoaXMuYm9hcmQudXBkYXRlKCkpOihlPWUudG9Mb3dlckNhc2UoKSx0LmlzRHJhZ2dhYmxlJiZcIm51bWJlclwiPT10eXBlb2YgaT8ocj1cInhcIj09PWU/aTp0LlgoKSxzPVwieVwiPT09ZT9pOnQuWSgpLHQuc2V0UG9zaXRpb24oQ29uc3QuQ09PUkRTX0JZX1VTRVIsW3Isc10pKTohdC5pc0RyYWdnYWJsZXx8XCJmdW5jdGlvblwiIT10eXBlb2YgaSYmXCJzdHJpbmdcIiE9dHlwZW9mIGk/dC5pc0RyYWdnYWJsZXx8KHI9XCJ4XCI9PT1lP2k6dC5YRXZhbC5vcmlnaW4scz1cInlcIj09PWU/aTp0LllFdmFsLm9yaWdpbix0LmFkZENvbnN0cmFpbnQoW3Isc10pKToocj1cInhcIj09PWU/aTp0LmNvb3Jkcy51c3JDb29yZHNbMV0scz1cInlcIj09PWU/aTp0LmNvb3Jkcy51c3JDb29yZHNbMl0sdC5hZGRDb25zdHJhaW50KFtyLHNdKSksdGhpcy5ib2FyZC51cGRhdGUoKSl9LF9nZW5lcmljUGFyc2U6ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbyxuLGEsaD10LnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLnNwbGl0KFwiXFxuXCIpLGw9W107cnx8KHRoaXMuY29kZSs9dCtcIlxcblwiKSxUZXh0JiYobz1UZXh0LlRleHQucHJvdG90eXBlLnNldFRleHQsVGV4dC5UZXh0LnByb3RvdHlwZS5zZXRUZXh0PVRleHQuVGV4dC5wcm90b3R5cGUuc2V0VGV4dEplc3NpZUNvZGUpO3RyeXtmb3IoVHlwZS5leGlzdHMoaSl8fChpPSExKSxzPTA7czxoLmxlbmd0aDtzKyspaSYmKGhbc109SlhHLkdlb25leHRQYXJzZXIuZ2VvbmV4dDJKUyhoW3NdLHRoaXMuYm9hcmQpKSxsLnB1c2goaFtzXSk7c3dpdGNoKHQ9bC5qb2luKFwiXFxuXCIpLG49cGFyc2VyLnBhcnNlKHQpLHRoaXMuQ0EmJihuPXRoaXMuQ0EuZXhwYW5kRGVyaXZhdGl2ZXMobixudWxsLG4pLG49dGhpcy5DQS5yZW1vdmVUcml2aWFsTm9kZXMobikpLGUpe2Nhc2VcInBhcnNlXCI6YT10aGlzLmV4ZWN1dGUobik7YnJlYWs7Y2FzZVwibWFuaXB1bGF0ZVwiOmE9dGhpcy5jb21waWxlKG4pO2JyZWFrO2Nhc2VcImdldEFzdFwiOmE9bjticmVhaztkZWZhdWx0OmE9ITF9fWNhdGNoKHQpe3Rocm93IHR9ZmluYWxseXtUZXh0JiYoVGV4dC5UZXh0LnByb3RvdHlwZS5zZXRUZXh0PW8pfXJldHVybiBhfSxwYXJzZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2dlbmVyaWNQYXJzZSh0LFwicGFyc2VcIixlLGkpfSxtYW5pcHVsYXRlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fZ2VuZXJpY1BhcnNlKHQsXCJtYW5pcHVsYXRlXCIsZSxpKX0sZ2V0QVNUOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fZ2VuZXJpY1BhcnNlKHQsXCJnZXRBc3RcIixlLGkpfSxzbmlwcGV0OmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzO3JldHVybiBlPVR5cGUuZGVmKGUsITApLGk9VHlwZS5kZWYoaSxcIlwiKSxyPVR5cGUuZGVmKHIsITEpLHM9KGU/XCIgZnVuY3Rpb24gKFwiK2krXCIpIHsgcmV0dXJuIFwiOlwiXCIpK3QrKGU/XCI7IH1cIjpcIlwiKStcIjtcIix0aGlzLnBhcnNlKHMsciwhMCl9LHJlcGxhY2VJRHM6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZih0LnJlcGxhY2VkJiYoaT10aGlzLmJvYXJkLm9iamVjdHNbdC5jaGlsZHJlblsxXVswXS52YWx1ZV0sVHlwZS5leGlzdHMoaSkmJlwiXCIhPT1pLm5hbWUmJih0LnR5cGU9XCJub2RlX3ZhclwiLHQudmFsdWU9aS5uYW1lLHQuY2hpbGRyZW4ubGVuZ3RoPTAsZGVsZXRlIHQucmVwbGFjZWQpKSxUeXBlLmlzQXJyYXkodCkpZm9yKGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdPXRoaXMucmVwbGFjZUlEcyh0W2VdKTtpZih0LmNoaWxkcmVuKWZvcihlPXQuY2hpbGRyZW4ubGVuZ3RoO2U+MDtlLS0pVHlwZS5leGlzdHModC5jaGlsZHJlbltlLTFdKSYmKHQuY2hpbGRyZW5bZS0xXT10aGlzLnJlcGxhY2VJRHModC5jaGlsZHJlbltlLTFdKSk7cmV0dXJuIHR9LHJlcGxhY2VOYW1lczpmdW5jdGlvbih0KXt2YXIgZSxpO2lmKGk9dC52YWx1ZSxcIm5vZGVfb3BcIj09PXQudHlwZSYmXCJvcF9saHNcIj09PWkmJjE9PT10LmNoaWxkcmVuLmxlbmd0aD90aGlzLmlzTEhTPSEwOlwibm9kZV92YXJcIj09PXQudHlwZSYmKHRoaXMuaXNMSFM/dGhpcy5sZXR2YXIoaSwhMCk6IVR5cGUuZXhpc3RzKHRoaXMuZ2V0dmFyKGksITApKSYmVHlwZS5leGlzdHModGhpcy5ib2FyZC5lbGVtZW50c0J5TmFtZVtpXSkmJih0PXRoaXMuY3JlYXRlUmVwbGFjZW1lbnROb2RlKHQpKSksVHlwZS5pc0FycmF5KHQpKWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXT10aGlzLnJlcGxhY2VOYW1lcyh0W2VdKTtpZih0LmNoaWxkcmVuKWZvcihlPXQuY2hpbGRyZW4ubGVuZ3RoO2U+MDtlLS0pVHlwZS5leGlzdHModC5jaGlsZHJlbltlLTFdKSYmKHQuY2hpbGRyZW5bZS0xXT10aGlzLnJlcGxhY2VOYW1lcyh0LmNoaWxkcmVuW2UtMV0pKTtyZXR1cm5cIm5vZGVfb3BcIj09PXQudHlwZSYmXCJvcF9saHNcIj09PXQudmFsdWUmJjE9PT10LmNoaWxkcmVuLmxlbmd0aCYmKHRoaXMuaXNMSFM9ITEpLHR9LGNyZWF0ZVJlcGxhY2VtZW50Tm9kZTpmdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlLGk9dGhpcy5ib2FyZC5lbGVtZW50c0J5TmFtZVtlXTtyZXR1cm4odD10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcIiRcIiksW3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfc3RyXCIsaS5pZCldKSkucmVwbGFjZWQ9ITAsdH0sY29sbGVjdERlcGVuZGVuY2llczpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvO2lmKFR5cGUuaXNBcnJheSh0KSlmb3Iobz10Lmxlbmd0aCxpPTA7aTxvO2krKyl0aGlzLmNvbGxlY3REZXBlbmRlbmNpZXModFtpXSxlKTtlbHNlIGlmKHI9dC52YWx1ZSxcIm5vZGVfdmFyXCI9PT10LnR5cGUmJihzPXRoaXMuZ2V0dmFyKHIpKSYmcy52aXNQcm9wJiZzLnR5cGUmJnMuZWxlbWVudENsYXNzJiZzLmlkJiYoZVtzLmlkXT1zKSxcIm5vZGVfb3BcIj09PXQudHlwZSYmXCJvcF9leGVjZnVuXCI9PT10LnZhbHVlJiZ0LmNoaWxkcmVuLmxlbmd0aD4xJiZcIiRcIj09PXQuY2hpbGRyZW5bMF0udmFsdWUmJnQuY2hpbGRyZW5bMV0ubGVuZ3RoPjAmJihlW3M9dC5jaGlsZHJlblsxXVswXS52YWx1ZV09dGhpcy5ib2FyZC5vYmplY3RzW3NdKSx0LmNoaWxkcmVuKWZvcihpPXQuY2hpbGRyZW4ubGVuZ3RoO2k+MDtpLS0pVHlwZS5leGlzdHModC5jaGlsZHJlbltpLTFdKSYmdGhpcy5jb2xsZWN0RGVwZW5kZW5jaWVzKHQuY2hpbGRyZW5baS0xXSxlKX0scmVzb2x2ZVByb3BlcnR5OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaT1UeXBlLmRlZihpLCExKSx0JiZ0Lm1ldGhvZE1hcCYmKFR5cGUuZXhpc3RzKHQuc3VicykmJlR5cGUuZXhpc3RzKHQuc3Vic1tlXSk/dD10LnN1YnM6VHlwZS5leGlzdHModC5tZXRob2RNYXBbZV0pP2U9dC5tZXRob2RNYXBbZV06KHQ9dC52aXNQcm9wLGU9ZS50b0xvd2VyQ2FzZSgpKSksVHlwZS5pc0Z1bmN0aW9uKHQpJiZ0aGlzLl9lcnJvcihcIkFjY2Vzc2luZyBmdW5jdGlvbiBwcm9wZXJ0aWVzIGlzIG5vdCBhbGxvd2VkLlwiKSxUeXBlLmV4aXN0cyh0KXx8dGhpcy5fZXJyb3IodCtcIiBpcyBub3QgYW4gb2JqZWN0XCIpLFR5cGUuZXhpc3RzKHRbZV0pfHx0aGlzLl9lcnJvcihcInVua25vd24gcHJvcGVydHkgXCIrZSksaSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtlXT9mdW5jdGlvbigpe3JldHVybiB0W2VdLmFwcGx5KHQsYXJndW1lbnRzKX06dFtlXX0scmVzb2x2ZVR5cGU6ZnVuY3Rpb24odCxlKXt2YXIgaSxyO2lmKFR5cGUuaXNBcnJheShlKSlmb3IoaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKFwiYW55XCIhPT0ocj10aGlzLnJlc29sdmVUeXBlKHQsZVtpXSkpKXJldHVybiByO2lmKFwibm9kZV9vcFwiPT09ZS50eXBlJiZcIm9wX2V4ZWNmdW5cIj09PWUudmFsdWUmJlwibm9kZV92YXJcIj09PWUuY2hpbGRyZW5bMF0udHlwZSYmZS5jaGlsZHJlblswXS52YWx1ZT09PXQpcmV0dXJuXCJmdW5jdGlvblwiO2lmKFwibm9kZV9vcFwiPT09ZS50eXBlKXtmb3IoaT0wO2k8ZS5jaGlsZHJlbi5sZW5ndGg7aSsrKWlmKFwibm9kZV92YXJcIj09PWUuY2hpbGRyZW5bMF0udHlwZSYmZS5jaGlsZHJlblswXS52YWx1ZT09PXQmJihcIm9wX2FkZFwiPT09ZS52YWx1ZXx8XCJvcF9zdWJcIj09PWUudmFsdWV8fFwib3BfbXVsXCI9PT1lLnZhbHVlfHxcIm9wX2RpdlwiPT09ZS52YWx1ZXx8XCJvcF9tb2RcIj09PWUudmFsdWV8fFwib3BfZXhwXCI9PT1lLnZhbHVlfHxcIm9wX25lZ1wiPT09ZS52YWx1ZSkpcmV0dXJuXCJhbnlcIjtmb3IoaT0wO2k8ZS5jaGlsZHJlbi5sZW5ndGg7aSsrKWlmKFwiYW55XCIhPT0ocj10aGlzLnJlc29sdmVUeXBlKHQsZS5jaGlsZHJlbltpXSkpKXJldHVybiByfXJldHVyblwiYW55XCJ9LGdldExIUzpmdW5jdGlvbih0KXt2YXIgZTtpZihcIm5vZGVfdmFyXCI9PT10LnR5cGUpZT17bzp0aGlzLnNjb3BlLmxvY2Fscyx3aGF0OnQudmFsdWV9O2Vsc2UgaWYoXCJub2RlX29wXCI9PT10LnR5cGUmJlwib3BfcHJvcGVydHlcIj09PXQudmFsdWUpZT17bzp0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSksd2hhdDp0LmNoaWxkcmVuWzFdfTtlbHNle2lmKFwibm9kZV9vcFwiIT09dC50eXBlfHxcIm9wX2V4dHZhbHVlXCIhPT10LnZhbHVlKXRocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvcjogSW52YWxpZCBsZWZ0LWhhbmQgc2lkZSBvZiBhc3NpZ25tZW50LlwiKTtlPXtvOnRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSx3aGF0OnRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKX19cmV0dXJuIGV9LGdldExIU0NvbXBpbGVyOmZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoXCJub2RlX3ZhclwiPT09dC50eXBlKWk9dC52YWx1ZTtlbHNlIGlmKFwibm9kZV9vcFwiPT09dC50eXBlJiZcIm9wX3Byb3BlcnR5XCI9PT10LnZhbHVlKWk9W3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpLFwiJ1wiK3QuY2hpbGRyZW5bMV0rXCInXCJdO2Vsc2V7aWYoXCJub2RlX29wXCIhPT10LnR5cGV8fFwib3BfZXh0dmFsdWVcIiE9PXQudmFsdWUpdGhyb3cgbmV3IEVycm9yKFwiU3ludGF4IGVycm9yOiBJbnZhbGlkIGxlZnQtaGFuZCBzaWRlIG9mIGFzc2lnbm1lbnQuXCIpO2k9W3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpLFwibm9kZV9jb25zdFwiPT09dC5jaGlsZHJlblsxXS50eXBlP3QuY2hpbGRyZW5bMV0udmFsdWU6dGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSldfXJldHVybiBpfSxleGVjdXRlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sbixhLGgsbCxjLGQ9W107aWYoZT0wLCF0KXJldHVybiBlO3N3aXRjaCh0aGlzLmxpbmU9dC5saW5lLHRoaXMuY29sPXQuY29sLHQudHlwZSl7Y2FzZVwibm9kZV9vcFwiOnN3aXRjaCh0LnZhbHVlKXtjYXNlXCJvcF9ub25lXCI6dC5jaGlsZHJlblswXSYmdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLHQuY2hpbGRyZW5bMV0mJihlPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKSk7YnJlYWs7Y2FzZVwib3BfYXNzaWduXCI6aT10aGlzLmdldExIUyh0LmNoaWxkcmVuWzBdKSx0aGlzLmxoc1t0aGlzLnNjb3BlLmlkXT1pLndoYXQsaS5vLnR5cGUmJmkuby5lbGVtZW50Q2xhc3MmJmkuby5tZXRob2RNYXAmJlwibGFiZWxcIj09PWkud2hhdCYmdGhpcy5fZXJyb3IoXCJMZWZ0LWhhbmQgc2lkZSBvZiBhc3NpZ25tZW50IGlzIHJlYWQtb25seS5cIiksZT10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSksaS5vIT09dGhpcy5zY29wZS5sb2NhbHN8fFR5cGUuaXNBcnJheShpLm8pJiZcIm51bWJlclwiPT10eXBlb2YgaS53aGF0P3RoaXMuc2V0UHJvcChpLm8saS53aGF0LGUpOnRoaXMubGV0dmFyKGkud2hhdCxlKSx0aGlzLmxoc1t0aGlzLnNjb3BlLmlkXT0wO2JyZWFrO2Nhc2VcIm9wX2lmXCI6dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pJiYoZT10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSkpO2JyZWFrO2Nhc2VcIm9wX2NvbmRpdGlvbmFsXCI6Y2FzZVwib3BfaWZfZWxzZVwiOmU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pP3RoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTp0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsyXSk7YnJlYWs7Y2FzZVwib3Bfd2hpbGVcIjpmb3IoO3RoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKTspdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pO2JyZWFrO2Nhc2VcIm9wX2RvXCI6ZG97dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pfXdoaWxlKHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKSk7YnJlYWs7Y2FzZVwib3BfZm9yXCI6Zm9yKHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKTt0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSk7dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMl0pKXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzNdKTticmVhaztjYXNlXCJvcF9wcm9wbHN0XCI6dC5jaGlsZHJlblswXSYmdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLHQuY2hpbGRyZW5bMV0mJnRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9lbXB0eW9iamVjdFwiOmU9e307YnJlYWs7Y2FzZVwib3BfcHJvcGxzdF92YWxcIjp0aGlzLnByb3BzdGFjay5wdXNoKHt9KSx0aGlzLnByb3BzY29wZSsrLHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSxlPXRoaXMucHJvcHN0YWNrW3RoaXMucHJvcHNjb3BlXSx0aGlzLnByb3BzdGFjay5wb3AoKSx0aGlzLnByb3BzY29wZS0tO2JyZWFrO2Nhc2VcIm9wX3Byb3BcIjp0aGlzLnByb3BzdGFja1t0aGlzLnByb3BzY29wZV1bdC5jaGlsZHJlblswXV09dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pO2JyZWFrO2Nhc2VcIm9wX2FycmF5XCI6Zm9yKGU9W10sbz10LmNoaWxkcmVuWzBdLmxlbmd0aCxyPTA7cjxvO3IrKyllLnB1c2godGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF1bcl0pKTticmVhaztjYXNlXCJvcF9leHR2YWx1ZVwiOmU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLGU9XCJudW1iZXJcIj09dHlwZW9mKHI9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pKSYmTWF0aC5hYnMoTWF0aC5yb3VuZChyKS1yKTxNYXQuZXBzP2Vbcl06dW5kZWZpbmVkO2JyZWFrO2Nhc2VcIm9wX3JldHVyblwiOmlmKDAhPT10aGlzLnNjb3BlKXJldHVybiB0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSk7dGhpcy5fZXJyb3IoXCJVbmV4cGVjdGVkIHJldHVybi5cIik7YnJlYWs7Y2FzZVwib3BfbWFwXCI6dC5jaGlsZHJlblsxXS5pc01hdGh8fFwibm9kZV92YXJcIj09PXQuY2hpbGRyZW5bMV0udHlwZXx8dGhpcy5fZXJyb3IoXCJleGVjdXRlOiBJbiBhIG1hcCBvbmx5IGZ1bmN0aW9uIGNhbGxzIGFuZCBtYXRoZW1hdGljYWwgZXhwcmVzc2lvbnMgYXJlIGFsbG93ZWQuXCIpLChoPXRoaXMuZGVmaW5lRnVuY3Rpb24odCkpLmlzTWFwPSEwLGU9aDticmVhaztjYXNlXCJvcF9mdW5jdGlvblwiOihoPXRoaXMuZGVmaW5lRnVuY3Rpb24odCkpLmlzTWFwPSExLGU9aDticmVhaztjYXNlXCJvcF9leGVjZnVuXCI6aWYodGhpcy5kcHN0YWNrLnB1c2goW10pLHRoaXMucHNjb3BlKyssbj10LmNoaWxkcmVuWzFdLFR5cGUuZXhpc3RzKHQuY2hpbGRyZW5bMl0pKWlmKHQuY2hpbGRyZW5bM10pZm9yKGE9dC5jaGlsZHJlblsyXSxsPXt9LHI9MDtyPGEubGVuZ3RoO3IrKylsPVR5cGUuZGVlcENvcHkobCx0aGlzLmV4ZWN1dGUoYVtyXSksITApO2Vsc2UgbD10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsyXSk7Zm9yKHQuY2hpbGRyZW5bMF0uX2lzRnVuY3Rpb25OYW1lPSEwLGg9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLGRlbGV0ZSB0LmNoaWxkcmVuWzBdLl9pc0Z1bmN0aW9uTmFtZSxjPWgmJmguc2M/aC5zYzp0aGlzLCFoLmNyZWF0b3ImJlR5cGUuZXhpc3RzKHQuY2hpbGRyZW5bMl0pJiZ0aGlzLl9lcnJvcihcIlVuZXhwZWN0ZWQgdmFsdWUuIE9ubHkgZWxlbWVudCBjcmVhdG9ycyBhcmUgYWxsb3dlZCB0byBoYXZlIGEgdmFsdWUgYWZ0ZXIgdGhlIGZ1bmN0aW9uIGNhbGwuXCIpLHI9MDtyPG4ubGVuZ3RoO3IrKylUeXBlLmV4aXN0cyhoLnNjb3BlKSYmVHlwZS5leGlzdHMoaC5zY29wZS5hcmd0eXBlcykmJlwiZnVuY3Rpb25cIj09PWguc2NvcGUuYXJndHlwZXNbcl0/KG5bcl0uX2lzRnVuY3Rpb25OYW1lPSEwLGRbcl09dGhpcy5leGVjdXRlKG5bcl0pLGRlbGV0ZSBuW3JdLl9pc0Z1bmN0aW9uTmFtZSk6ZFtyXT10aGlzLmV4ZWN1dGUobltyXSksdGhpcy5kcHN0YWNrW3RoaXMucHNjb3BlXS5wdXNoKHtsaW5lOnQuY2hpbGRyZW5bMV1bcl0ubGluZSxjb2w6dC5jaGlsZHJlblsxXVtyXS5lY29sfSk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgaHx8aC5jcmVhdG9yKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGgmJmguY3JlYXRvcil7cz10aGlzLmxpbmU7dHJ5e2ZvcigoZT1oKGQsbCkpLmpjTGluZVN0YXJ0PXMsZS5qY0xpbmVFbmQ9dC5lbGluZSxyPXM7cjw9dC5saW5lO3IrKyl0aGlzLmxpbmVUb0VsZW1lbnRbcl09ZTtlLmRlYnVnUGFyZW50cz10aGlzLmRwc3RhY2tbdGhpcy5wc2NvcGVdfWNhdGNoKHQpe3RoaXMuX2Vycm9yKHQudG9TdHJpbmcoKSl9fWVsc2UgdGhpcy5fZXJyb3IoXCJGdW5jdGlvbiAnXCIraCtcIicgaXMgdW5kZWZpbmVkLlwiKTtlbHNlIGU9aC5hcHBseShjLGQpO3RoaXMuZHBzdGFjay5wb3AoKSx0aGlzLnBzY29wZS0tO2JyZWFrO2Nhc2VcIm9wX3Byb3BlcnR5XCI6cz10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSksaT10LmNoaWxkcmVuWzFdLGU9dGhpcy5yZXNvbHZlUHJvcGVydHkocyxpLCExKSxUeXBlLmV4aXN0cyhlKSYmKGUuc2M9cyk7YnJlYWs7Y2FzZVwib3BfdXNlXCI6dGhpcy5fd2FybihcIlVzZSBvZiB0aGUgJ3VzZScgb3BlcmF0b3IgaXMgZGVwcmVjYXRlZC5cIiksdGhpcy51c2UodC5jaGlsZHJlblswXS50b1N0cmluZygpKTticmVhaztjYXNlXCJvcF9kZWxldGVcIjp0aGlzLl93YXJuKFwiVXNlIG9mIHRoZSAnZGVsZXRlJyBvcGVyYXRvciBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSByZW1vdmUoKSBmdW5jdGlvbi5cIiksaT10aGlzLmdldHZhcih0LmNoaWxkcmVuWzBdKSxlPXRoaXMuZGVsKGkpO2JyZWFrO2Nhc2VcIm9wX2VxXCI6ZT10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSk9PXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9uZXFcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSE9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pO2JyZWFrO2Nhc2VcIm9wX2FwcHJveFwiOmU9TWF0aC5hYnModGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKSk8TWF0LmVwczticmVhaztjYXNlXCJvcF9ndFwiOmU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pPnRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9sdFwiOmU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pPHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9nZXFcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKT49dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pO2JyZWFrO2Nhc2VcIm9wX2xlcVwiOmU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pPD10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSk7YnJlYWs7Y2FzZVwib3Bfb3JcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKXx8dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pO2JyZWFrO2Nhc2VcIm9wX2FuZFwiOmU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pJiZ0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSk7YnJlYWs7Y2FzZVwib3Bfbm90XCI6ZT0hdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pO2JyZWFrO2Nhc2VcIm9wX2FkZFwiOmU9dGhpcy5hZGQodGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKSk7YnJlYWs7Y2FzZVwib3Bfc3ViXCI6ZT10aGlzLnN1Yih0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSksdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pKTticmVhaztjYXNlXCJvcF9kaXZcIjplPXRoaXMuZGl2KHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSx0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSkpO2JyZWFrO2Nhc2VcIm9wX21vZFwiOmU9dGhpcy5tb2QodGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKSwhMCk7YnJlYWs7Y2FzZVwib3BfbXVsXCI6ZT10aGlzLm11bCh0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSksdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pKTticmVhaztjYXNlXCJvcF9leHBcIjplPXRoaXMucG93KHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSx0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSkpO2JyZWFrO2Nhc2VcIm9wX25lZ1wiOmU9dGhpcy5uZWcodGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pKX1icmVhaztjYXNlXCJub2RlX3ZhclwiOmU9dGhpcy5nZXR2YXIodC52YWx1ZSwhMSx0Ll9pc0Z1bmN0aW9uTmFtZSk7YnJlYWs7Y2FzZVwibm9kZV9jb25zdFwiOmU9bnVsbD09PXQudmFsdWU/bnVsbDpOdW1iZXIodC52YWx1ZSk7YnJlYWs7Y2FzZVwibm9kZV9jb25zdF9ib29sXCI6ZT10LnZhbHVlO2JyZWFrO2Nhc2VcIm5vZGVfc3RyXCI6ZT10LnZhbHVlLnJlcGxhY2UoL1xcXFwoLikvLFwiJDFcIil9cmV0dXJuIGV9LGNvbXBpbGU6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbz1cIlwiO2lmKFR5cGUuZXhpc3RzKGUpfHwoZT0hMSksIXQpcmV0dXJuIG87c3dpdGNoKHQudHlwZSl7Y2FzZVwibm9kZV9vcFwiOnN3aXRjaCh0LnZhbHVlKXtjYXNlXCJvcF9ub25lXCI6dC5jaGlsZHJlblswXSYmKG89dGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkpLHQuY2hpbGRyZW5bMV0mJihvKz10aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKSk7YnJlYWs7Y2FzZVwib3BfYXNzaWduXCI6ZT8oaT10aGlzLmdldExIU0NvbXBpbGVyKHQuY2hpbGRyZW5bMF0sZSksVHlwZS5pc0FycmF5KGkpP289XCIkamMkLnNldFByb3AoXCIraVswXStcIiwgXCIraVsxXStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpO1xcblwiOih0aGlzLmlzTG9jYWxWYXJpYWJsZShpKSE9PXRoaXMuc2NvcGUmJih0aGlzLnNjb3BlLmxvY2Fsc1tpXT0hMCksbz1cIiRqYyQuc2NvcGVzW1wiK3RoaXMuc2NvcGUuaWQrXCJdLmxvY2Fsc1snXCIraStcIiddID0gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCI7XFxuXCIpKTpvPShpPXRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdKSkrXCIgPSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIjtcXG5cIjticmVhaztjYXNlXCJvcF9pZlwiOm89XCIgaWYgKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiKSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKTticmVhaztjYXNlXCJvcF9pZl9lbHNlXCI6bz1cIiBpZiAoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIpXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSksbys9XCIgZWxzZSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsyXSxlKTticmVhaztjYXNlXCJvcF9jb25kaXRpb25hbFwiOm89XCIoKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiKT8oXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSksbys9XCIpOihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsyXSxlKStcIikpXCI7YnJlYWs7Y2FzZVwib3Bfd2hpbGVcIjpvPVwiIHdoaWxlIChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIikge1xcblwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wifVxcblwiO2JyZWFrO2Nhc2VcIm9wX2RvXCI6bz1cIiBkbyB7XFxuXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCJ9IHdoaWxlIChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIik7XFxuXCI7YnJlYWs7Y2FzZVwib3BfZm9yXCI6bz1cIiBmb3IgKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiOyBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsyXSxlKS5zbGljZSgwLC0yKStcIikge1xcblwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzNdLGUpK1wiXFxufVxcblwiO2JyZWFrO2Nhc2VcIm9wX3Byb3Bsc3RcIjp0LmNoaWxkcmVuWzBdJiYobz10aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIpLG8rPXRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpO2JyZWFrO2Nhc2VcIm9wX3Byb3BcIjpvPXQuY2hpbGRyZW5bMF0rXCI6IFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpO2JyZWFrO2Nhc2VcIm9wX2VtcHR5b2JqZWN0XCI6bz1lP1wie31cIjpcIjw8ID4+XCI7YnJlYWs7Y2FzZVwib3BfcHJvcGxzdF92YWxcIjpvPXRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpO2JyZWFrO2Nhc2VcIm9wX2FycmF5XCI6Zm9yKHM9W10scj0wO3I8dC5jaGlsZHJlblswXS5sZW5ndGg7cisrKXMucHVzaCh0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXVtyXSxlKSk7bz1cIltcIitzLmpvaW4oXCIsIFwiKStcIl1cIjticmVhaztjYXNlXCJvcF9leHR2YWx1ZVwiOm89dGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCJbXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCJdXCI7YnJlYWs7Y2FzZVwib3BfcmV0dXJuXCI6bz1cIiByZXR1cm4gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCI7XFxuXCI7YnJlYWs7Y2FzZVwib3BfbWFwXCI6dC5jaGlsZHJlblsxXS5pc01hdGh8fFwibm9kZV92YXJcIj09PXQuY2hpbGRyZW5bMV0udHlwZXx8dGhpcy5fZXJyb3IoXCJjb21waWxlOiBJbiBhIG1hcCBvbmx5IGZ1bmN0aW9uIGNhbGxzIGFuZCBtYXRoZW1hdGljYWwgZXhwcmVzc2lvbnMgYXJlIGFsbG93ZWQuXCIpLHM9dC5jaGlsZHJlblswXSxvPWU/XCIgJGpjJC5tYWtlTWFwKGZ1bmN0aW9uIChcIitzLmpvaW4oXCIsIFwiKStcIikgeyByZXR1cm4gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCI7IH0pXCI6XCJtYXAgKFwiK3Muam9pbihcIiwgXCIpK1wiKSAtPiBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKTticmVhaztjYXNlXCJvcF9mdW5jdGlvblwiOnM9dC5jaGlsZHJlblswXSx0aGlzLnB1c2hTY29wZShzKSxvPWU/dGhpcy5mdW5jdGlvbkNvZGVKUyh0KTpcIiBmdW5jdGlvbiAoXCIrcy5qb2luKFwiLCBcIikrXCIpIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpLHRoaXMucG9wU2NvcGUoKTticmVhaztjYXNlXCJvcF9leGVjZnVubWF0aFwiOmNvbnNvbGUubG9nKFwib3BfZXhlY2Z1bm1hdGg6IFRPRE9cIiksbz1cIi0xXCI7YnJlYWs7Y2FzZVwib3BfZXhlY2Z1blwiOmlmKHQuY2hpbGRyZW5bMl0pe2ZvcihzPVtdLHI9MDtyPHQuY2hpbGRyZW5bMl0ubGVuZ3RoO3IrKylzLnB1c2godGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMl1bcl0sZSkpO2UmJihpPVwiJGpjJC5tZXJnZUF0dHJpYnV0ZXMoXCIrcy5qb2luKFwiLCBcIikrXCIpXCIpfWZvcih0LmNoaWxkcmVuWzBdLndpdGhQcm9wcz0hIXQuY2hpbGRyZW5bMl0scz1bXSxyPTA7cjx0LmNoaWxkcmVuWzFdLmxlbmd0aDtyKyspcy5wdXNoKHRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdW3JdLGUpKTtvPXRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiKFwiK3Muam9pbihcIiwgXCIpKyh0LmNoaWxkcmVuWzJdJiZlP1wiLCBcIitpOlwiXCIpK1wiKVwiKyh0LmNoaWxkcmVuWzJdJiYhZT9pOlwiXCIpLGUmJihvKz1cIlxcblwiKSxlJiZcIiRcIj09PXQuY2hpbGRyZW5bMF0udmFsdWUmJihvPVwiJGpjJC5ib2FyZC5vYmplY3RzW1wiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdWzBdLGUpK1wiXVwiKTticmVhaztjYXNlXCJvcF9wcm9wZXJ0eVwiOm89ZSYmXCJYXCIhPT10LmNoaWxkcmVuWzFdJiZcIllcIiE9PXQuY2hpbGRyZW5bMV0/XCIkamMkLnJlc29sdmVQcm9wZXJ0eShcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgJ1wiK3QuY2hpbGRyZW5bMV0rXCInLCB0cnVlKVwiOnRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiLlwiK3QuY2hpbGRyZW5bMV07YnJlYWs7Y2FzZVwib3BfdXNlXCI6dGhpcy5fd2FybihcIlVzZSBvZiB0aGUgJ3VzZScgb3BlcmF0b3IgaXMgZGVwcmVjYXRlZC5cIiksbz1lP1wiJGpjJC51c2UoJ1wiOlwidXNlKCdcIixvKz10LmNoaWxkcmVuWzBdLnRvU3RyaW5nKCkrXCInKTtcIjticmVhaztjYXNlXCJvcF9kZWxldGVcIjp0aGlzLl93YXJuKFwiVXNlIG9mIHRoZSAnZGVsZXRlJyBvcGVyYXRvciBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSByZW1vdmUoKSBmdW5jdGlvbi5cIiksbz1lP1wiJGpjJC5kZWwoXCI6XCJyZW1vdmUoXCIsbys9dGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfZXFcIjpvPVwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiID09PSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9uZXFcIjpvPVwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiICE9PSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9hcHByb3hcIjpvPVwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiIH49IFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiO2JyZWFrO2Nhc2VcIm9wX2d0XCI6bz1lP1wiJGpjJC5ndChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI6XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgPiBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9sdFwiOm89ZT9cIiRqYyQubHQoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiIDwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfZ2VxXCI6bz1lP1wiJGpjJC5nZXEoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiID49IFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiO2JyZWFrO2Nhc2VcIm9wX2xlcVwiOm89ZT9cIiRqYyQubGVxKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiLCBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjpcIihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiA8PSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9vclwiOm89XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgfHwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfYW5kXCI6bz1cIihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiAmJiBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9ub3RcIjpvPVwiIShcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9hZGRcIjpvPWU/XCIkamMkLmFkZChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI6XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgKyBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9zdWJcIjpvPWU/XCIkamMkLnN1YihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI6XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgLSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9kaXZcIjpvPWU/XCIkamMkLmRpdihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI6XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgLyBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9tb2RcIjpvPWU/XCIkamMkLm1vZChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIsIHRydWUpXCI6XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgJSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9tdWxcIjpvPWU/XCIkamMkLm11bChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI6XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgKiBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9leHBcIjpvPWU/XCIkamMkLnBvdyhcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI6XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCJeXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfbmVnXCI6bz1lP1wiJGpjJC5uZWcoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIpXCI6XCIoLVwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiKVwifWJyZWFrO2Nhc2VcIm5vZGVfdmFyXCI6bz1lP3RoaXMuZ2V0dmFySlModC52YWx1ZSwhMSx0LndpdGhQcm9wcyk6dC52YWx1ZTticmVhaztjYXNlXCJub2RlX2NvbnN0XCI6Y2FzZVwibm9kZV9jb25zdF9ib29sXCI6bz10LnZhbHVlO2JyZWFrO2Nhc2VcIm5vZGVfc3RyXCI6bz1cIidcIit0LnZhbHVlK1wiJ1wifXJldHVybiB0Lm5lZWRzQnJhY2tldHMmJihvPVwie1xcblwiK28rXCJcXG59XFxuXCIpLG99LGdldE5hbWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1cIlwiO3JldHVybiBUeXBlLmV4aXN0cyh0KSYmVHlwZS5leGlzdHModC5nZXROYW1lKT8oaT10LmdldE5hbWUoKSxUeXBlLmV4aXN0cyhpKSYmXCJcIiE9PWl8fCFlfHwoaT10LmlkKSk6ZSYmKGk9dC5pZCksaX0sWDpmdW5jdGlvbih0KXtyZXR1cm4gdC5YKCl9LFk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuWSgpfSxWOmZ1bmN0aW9uKHQpe3JldHVybiB0LlZhbHVlKCl9LEw6ZnVuY3Rpb24odCl7cmV0dXJuIHQuTCgpfSxhcmVhOmZ1bmN0aW9uKHQpe3JldHVybiBUeXBlLmV4aXN0cyh0KSYmVHlwZS5leGlzdHModC5BcmVhKXx8dGhpcy5fZXJyb3IoXCJFcnJvcjogQ2FuJ3QgY2FsY3VsYXRlIGFyZWEuXCIpLHQuQXJlYSgpfSxkaXN0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIFR5cGUuZXhpc3RzKHQpJiZUeXBlLmV4aXN0cyh0LkRpc3QpfHx0aGlzLl9lcnJvcihcIkVycm9yOiBDYW4ndCBjYWxjdWxhdGUgZGlzdGFuY2UuXCIpLHQuRGlzdChlKX0scmFkaXVzOmZ1bmN0aW9uKHQpe3JldHVybiBUeXBlLmV4aXN0cyh0KSYmVHlwZS5leGlzdHModC5SYWRpdXMpfHx0aGlzLl9lcnJvcihcIkVycm9yOiBDYW4ndCBjYWxjdWxhdGUgcmFkaXVzLlwiKSx0LlJhZGl1cygpfSxhZGQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM7aWYodD1UeXBlLmV2YWxTbGlkZXIodCksZT1UeXBlLmV2YWxTbGlkZXIoZSksSW50ZXJ2YWwuaXNJbnRlcnZhbCh0KXx8SW50ZXJ2YWwuaXNJbnRlcnZhbChlKSlzPUludGVydmFsLmFkZCh0LGUpO2Vsc2UgaWYoVHlwZS5pc0FycmF5KHQpJiZUeXBlLmlzQXJyYXkoZSkpZm9yKHI9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpLHM9W10saT0wO2k8cjtpKyspc1tpXT10W2ldK2VbaV07ZWxzZSBUeXBlLmlzTnVtYmVyKHQpJiZUeXBlLmlzTnVtYmVyKGUpP3M9dCtlOlR5cGUuaXNTdHJpbmcodCl8fFR5cGUuaXNTdHJpbmcoZSk/cz10LnRvU3RyaW5nKCkrZS50b1N0cmluZygpOnRoaXMuX2Vycm9yKFwiT3BlcmF0aW9uICsgbm90IGRlZmluZWQgb24gb3BlcmFuZHMgXCIrdHlwZW9mIHQrXCIgYW5kIFwiK3R5cGVvZiBlKTtyZXR1cm4gc30sc3ViOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzO2lmKHQ9VHlwZS5ldmFsU2xpZGVyKHQpLGU9VHlwZS5ldmFsU2xpZGVyKGUpLEludGVydmFsLmlzSW50ZXJ2YWwodCl8fEludGVydmFsLmlzSW50ZXJ2YWwoZSkpcz1JbnRlcnZhbC5zdWIodCxlKTtlbHNlIGlmKFR5cGUuaXNBcnJheSh0KSYmVHlwZS5pc0FycmF5KGUpKWZvcihyPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxzPVtdLGk9MDtpPHI7aSsrKXNbaV09dFtpXS1lW2ldO2Vsc2UgVHlwZS5pc051bWJlcih0KSYmVHlwZS5pc051bWJlcihlKT9zPXQtZTp0aGlzLl9lcnJvcihcIk9wZXJhdGlvbiAtIG5vdCBkZWZpbmVkIG9uIG9wZXJhbmRzIFwiK3R5cGVvZiB0K1wiIGFuZCBcIit0eXBlb2YgZSk7cmV0dXJuIHN9LG5lZzpmdW5jdGlvbih0KXt2YXIgZSxpLHI7aWYodD1UeXBlLmV2YWxTbGlkZXIodCksSW50ZXJ2YWwuaXNJbnRlcnZhbCh0KSlyPUludGVydmFsLm5lZ2F0aXZlKHQpO2Vsc2UgaWYoVHlwZS5pc0FycmF5KHQpKWZvcihpPXQubGVuZ3RoLHI9W10sZT0wO2U8aTtlKyspcltlXT0tdFtlXTtlbHNlIFR5cGUuaXNOdW1iZXIodCk/cj0tdDp0aGlzLl9lcnJvcihcIlVuYXJ5IG9wZXJhdGlvbiAtIG5vdCBkZWZpbmVkIG9uIG9wZXJhbmQgXCIrdHlwZW9mIHQpO3JldHVybiByfSxtdWw6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM7aWYodD1UeXBlLmV2YWxTbGlkZXIodCksZT1UeXBlLmV2YWxTbGlkZXIoZSksVHlwZS5pc0FycmF5KHQpJiZUeXBlLmlzTnVtYmVyKGUpJiYoaT10LGU9dD1lKSxJbnRlcnZhbC5pc0ludGVydmFsKHQpfHxJbnRlcnZhbC5pc0ludGVydmFsKGUpKXM9SW50ZXJ2YWwubXVsKHQsZSk7ZWxzZSBpZihUeXBlLmlzQXJyYXkodCkmJlR5cGUuaXNBcnJheShlKSlyPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxzPU1hdC5pbm5lclByb2R1Y3QodCxlLHIpO2Vsc2UgaWYoVHlwZS5pc051bWJlcih0KSYmVHlwZS5pc0FycmF5KGUpKWZvcihyPWUubGVuZ3RoLHM9W10saT0wO2k8cjtpKyspc1tpXT10KmVbaV07ZWxzZSBUeXBlLmlzTnVtYmVyKHQpJiZUeXBlLmlzTnVtYmVyKGUpP3M9dCplOnRoaXMuX2Vycm9yKFwiT3BlcmF0aW9uICogbm90IGRlZmluZWQgb24gb3BlcmFuZHMgXCIrdHlwZW9mIHQrXCIgYW5kIFwiK3R5cGVvZiBlKTtyZXR1cm4gc30sZGl2OmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzO2lmKHQ9VHlwZS5ldmFsU2xpZGVyKHQpLGU9VHlwZS5ldmFsU2xpZGVyKGUpLEludGVydmFsLmlzSW50ZXJ2YWwodCl8fEludGVydmFsLmlzSW50ZXJ2YWwoZSkpcz1JbnRlcnZhbC5kaXYodCxlKTtlbHNlIGlmKFR5cGUuaXNBcnJheSh0KSYmVHlwZS5pc051bWJlcihlKSlmb3Iocj10Lmxlbmd0aCxzPVtdLGk9MDtpPHI7aSsrKXNbaV09dFtpXS9lO2Vsc2UgVHlwZS5pc051bWJlcih0KSYmVHlwZS5pc051bWJlcihlKT9zPXQvZTp0aGlzLl9lcnJvcihcIk9wZXJhdGlvbiAqIG5vdCBkZWZpbmVkIG9uIG9wZXJhbmRzIFwiK3R5cGVvZiB0K1wiIGFuZCBcIit0eXBlb2YgZSk7cmV0dXJuIHN9LG1vZDpmdW5jdGlvbih0LGUpe3ZhciBpLHIscztpZih0PVR5cGUuZXZhbFNsaWRlcih0KSxlPVR5cGUuZXZhbFNsaWRlcihlKSxJbnRlcnZhbC5pc0ludGVydmFsKHQpfHxJbnRlcnZhbC5pc0ludGVydmFsKGUpKXJldHVybiBJbnRlcnZhbC5mbW9kKHQsZSk7aWYoVHlwZS5pc0FycmF5KHQpJiZUeXBlLmlzTnVtYmVyKGUpKWZvcihyPXQubGVuZ3RoLHM9W10saT0wO2k8cjtpKyspc1tpXT1NYXQubW9kKHRbaV0sZSwhMCk7ZWxzZSBUeXBlLmlzTnVtYmVyKHQpJiZUeXBlLmlzTnVtYmVyKGUpP3M9TWF0Lm1vZCh0LGUsITApOnRoaXMuX2Vycm9yKFwiT3BlcmF0aW9uICogbm90IGRlZmluZWQgb24gb3BlcmFuZHMgXCIrdHlwZW9mIHQrXCIgYW5kIFwiK3R5cGVvZiBlKTtyZXR1cm4gc30scG93OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9VHlwZS5ldmFsU2xpZGVyKHQpLGU9VHlwZS5ldmFsU2xpZGVyKGUpLEludGVydmFsLmlzSW50ZXJ2YWwodCl8fEludGVydmFsLmlzSW50ZXJ2YWwoZSk/SW50ZXJ2YWwucG93KHQsZSk6TWF0LnBvdyh0LGUpfSxsdDpmdW5jdGlvbih0LGUpe3JldHVybiBJbnRlcnZhbC5pc0ludGVydmFsKHQpfHxJbnRlcnZhbC5pc0ludGVydmFsKGUpP0ludGVydmFsLmx0KHQsZSk6dDxlfSxsZXE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gSW50ZXJ2YWwuaXNJbnRlcnZhbCh0KXx8SW50ZXJ2YWwuaXNJbnRlcnZhbChlKT9JbnRlcnZhbC5sZXEodCxlKTp0PD1lfSxndDpmdW5jdGlvbih0LGUpe3JldHVybiBJbnRlcnZhbC5pc0ludGVydmFsKHQpfHxJbnRlcnZhbC5pc0ludGVydmFsKGUpP0ludGVydmFsLmd0KHQsZSk6dD5lfSxnZXE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gSW50ZXJ2YWwuaXNJbnRlcnZhbCh0KXx8SW50ZXJ2YWwuaXNJbnRlcnZhbChlKT9JbnRlcnZhbHQuZ2VxKHQsZSk6dD49ZX0scmFuZGludDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIFR5cGUuZXhpc3RzKGkpfHwoaT0xKSxNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqKGUtdCkvaSkqaSt0fSxEREQ6ZnVuY3Rpb24odCl7Y29uc29sZS5sb2coXCJEdW1teSBkZXJpdmF0aXZlIGZ1bmN0aW9uLiBUaGlzIHNob3VsZCBuZXZlciBhcHBlYXIhXCIpfSxpZnRoZW46ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0P2U6aX0sZGVsOmZ1bmN0aW9uKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB0JiZKWEcuZXhpc3RzKHQudHlwZSkmJkpYRy5leGlzdHModC5lbGVtZW50Q2xhc3MpJiZ0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0KX0sdXNlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscj0hMTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7Zm9yKGUgaW4gSlhHLmJvYXJkcylpZihKWEcuYm9hcmRzLmhhc093blByb3BlcnR5KGUpJiZKWEcuYm9hcmRzW2VdLmNvbnRhaW5lcj09PXQpe2k9SlhHLmJvYXJkc1tlXSxyPSEwO2JyZWFrfX1lbHNlIGk9dCxyPSEwO3I/KHRoaXMuYm9hcmQ9aSx0aGlzLmJ1aWx0SW4uJGJvYXJkPWksdGhpcy5idWlsdEluLiRib2FyZC5zcmM9XCIkamMkLmJvYXJkXCIpOnRoaXMuX2Vycm9yKFwiQm9hcmQgJ1wiK3QrXCInIG5vdCBmb3VuZCFcIil9LGZpbmRTeW1ib2w6ZnVuY3Rpb24odCxlKXt2YXIgaSxyO2ZvcihyPS0xPT09KGU9VHlwZS5kZWYoZSwtMSkpP3RoaXMuc2NvcGU6dGhpcy5zY29wZXNbZV07bnVsbCE9PXI7KXtmb3IoaSBpbiByLmxvY2FscylpZihyLmxvY2Fscy5oYXNPd25Qcm9wZXJ0eShpKSYmci5sb2NhbHNbaV09PT10KXJldHVybltpLHJdO3I9ci5wcmV2aW91c31yZXR1cm5bXX0saW1wb3J0TW9kdWxlOmZ1bmN0aW9uKHQpe3JldHVybiBwcml2Lm1vZHVsZXNbdC50b0xvd2VyQ2FzZSgpXX0sZGVmaW5lQnVpbHRJbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17UEk6TWF0aC5QSSxFVUxFUjpNYXRoLkUsRDp0LkRERCxYOnQuWCxZOnQuWSxWOnQuVixMOnQuTCxhY29zaDpNYXQuYWNvc2gsYWNvdDpNYXQuYWNvdCxhc2luaDpNYXQuYXNpbmgsYmlub21pYWw6TWF0LmJpbm9taWFsLGNicnQ6TWF0LmNicnQsY29zaDpNYXQuY29zaCxjb3Q6TWF0LmNvdCxkZWc6R2VvbWV0cnkudHJ1ZUFuZ2xlLEE6dC5hcmVhLGFyZWE6dC5hcmVhLGRpc3Q6dC5kaXN0LFI6dC5yYWRpdXMscmFkaXVzOnQucmFkaXVzLGVyZjpNYXQuZXJmLGVyZmM6TWF0LmVyZmMsZXJmaTpNYXQuZXJmaSxmYWN0b3JpYWw6TWF0LmZhY3RvcmlhbCxnY2Q6TWF0LmdjZCxsYjpNYXQubG9nMixsY206TWF0LmxjbSxsZDpNYXQubG9nMixsZzpNYXQubG9nMTAsbG46TWF0aC5sb2csbG9nOk1hdC5sb2csbG9nMTA6TWF0LmxvZzEwLGxvZzI6TWF0LmxvZzIsbmR0cjpNYXQubmR0cixuZHRyaTpNYXQubmR0cmksbnRocm9vdDpNYXQubnRocm9vdCxwb3c6TWF0LnBvdyxyYWQ6R2VvbWV0cnkucmFkLHJhdHBvdzpNYXQucmF0cG93LHRydW5jOlR5cGUudHJ1bmMsc2luaDpNYXQuc2luaCxyYW5kaW50OnQucmFuZGludCxJZlRoZW46dC5pZnRoZW4saW1wb3J0OnQuaW1wb3J0TW9kdWxlLHVzZTp0LnVzZSxyZW1vdmU6dC5kZWwsJDp0LmdldEVsZW1lbnRCeUlkLGdldE5hbWU6dC5nZXROYW1lLG5hbWU6dC5nZXROYW1lLCRib2FyZDp0LmJvYXJkLCRsb2c6dC5sb2d9O3JldHVybiBlLnJhZC5zYz1HZW9tZXRyeSxlLmRlZy5zYz1HZW9tZXRyeSxlLmZhY3RvcmlhbC5zYz1NYXQsZS5YLnNyYz1cIiRqYyQuWFwiLGUuWS5zcmM9XCIkamMkLllcIixlLlYuc3JjPVwiJGpjJC5WXCIsZS5MLnNyYz1cIiRqYyQuTFwiLGUuYWNvc2guc3JjPVwiSlhHLk1hdGguYWNvc2hcIixlLmFjb3Quc3JjPVwiSlhHLk1hdGguYWNvdFwiLGUuYXNpbmguc3JjPVwiSlhHLk1hdGguYXNpbmhcIixlLmJpbm9taWFsLnNyYz1cIkpYRy5NYXRoLmJpbm9taWFsXCIsZS5jYnJ0LnNyYz1cIkpYRy5NYXRoLmNicnRcIixlLmNvdC5zcmM9XCJKWEcuTWF0aC5jb3RcIixlLmNvc2guc3JjPVwiSlhHLk1hdGguY29zaFwiLGUuZGVnLnNyYz1cIkpYRy5NYXRoLkdlb21ldHJ5LnRydWVBbmdsZVwiLGUuZXJmLnNyYz1cIkpYRy5NYXRoLmVyZlwiLGUuZXJmYy5zcmM9XCJKWEcuTWF0aC5lcmZjXCIsZS5lcmZpLnNyYz1cIkpYRy5NYXRoLmVyZmlcIixlLkEuc3JjPVwiJGpjJC5hcmVhXCIsZS5hcmVhLnNyYz1cIiRqYyQuYXJlYVwiLGUuZGlzdC5zcmM9XCIkamMkLmRpc3RcIixlLlIuc3JjPVwiJGpjJC5yYWRpdXNcIixlLnJhZGl1cy5zcmM9XCIkamMkLnJhZGl1c1wiLGUuZmFjdG9yaWFsLnNyYz1cIkpYRy5NYXRoLmZhY3RvcmlhbFwiLGUuZ2NkLnNyYz1cIkpYRy5NYXRoLmdjZFwiLGUubGIuc3JjPVwiSlhHLk1hdGgubG9nMlwiLGUubGNtLnNyYz1cIkpYRy5NYXRoLmxjbVwiLGUubGQuc3JjPVwiSlhHLk1hdGgubG9nMlwiLGUubGcuc3JjPVwiSlhHLk1hdGgubG9nMTBcIixlLmxuLnNyYz1cIk1hdGgubG9nXCIsZS5sb2cuc3JjPVwiSlhHLk1hdGgubG9nXCIsZS5sb2cxMC5zcmM9XCJKWEcuTWF0aC5sb2cxMFwiLGUubG9nMi5zcmM9XCJKWEcuTWF0aC5sb2cyXCIsZS5uZHRyLnNyYz1cIkpYRy5NYXRoLm5kdHJcIixlLm5kdHJpLnNyYz1cIkpYRy5NYXRoLm5kdHJpXCIsZS5udGhyb290LnNyYz1cIkpYRy5NYXRoLm50aHJvb3RcIixlLnBvdy5zcmM9XCJKWEcuTWF0aC5wb3dcIixlLnJhZC5zcmM9XCJKWEcuTWF0aC5HZW9tZXRyeS5yYWRcIixlLnJhdHBvdy5zcmM9XCJKWEcuTWF0aC5yYXRwb3dcIixlLnRydW5jLnNyYz1cIkpYRy50cnVuY1wiLGUuc2luaC5zcmM9XCJKWEcuTWF0aC5zaW5oXCIsZS5yYW5kaW50LnNyYz1cIiRqYyQucmFuZGludFwiLGUuaW1wb3J0LnNyYz1cIiRqYyQuaW1wb3J0TW9kdWxlXCIsZS51c2Uuc3JjPVwiJGpjJC51c2VcIixlLnJlbW92ZS5zcmM9XCIkamMkLmRlbFwiLGUuSWZUaGVuLnNyYz1cIiRqYyQuaWZ0aGVuXCIsZS4kLnNyYz1cIihmdW5jdGlvbiAobikgeyByZXR1cm4gJGpjJC5ib2FyZC5zZWxlY3Qobik7IH0pXCIsZS5nZXROYW1lLnNyYz1cIiRqYyQuZ2V0TmFtZVwiLGUubmFtZS5zcmM9XCIkamMkLmdldE5hbWVcIixlLiRib2FyZCYmKGUuJGJvYXJkLnNyYz1cIiRqYyQuYm9hcmRcIiksZS4kbG9nLnNyYz1cIiRqYyQubG9nXCIsZX0sZ2V0UG9zc2libGVPcGVyYW5kczpmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbyxuLGEsaCxsLGMsZCx1LHAsZj1bXCJFXCJdLG09dGhpcy5kZWZpbmVCdWlsdEluKCksZz1NYXRoO2Zvcih1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGUudG9Mb3dlckNhc2UoKSl9LHA9ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsO2lmKFwiamNcIj09PWUpaT1tW3RdO2Vsc2V7aWYoXCJNYXRoXCIhPT1lKXJldHVybjtpPWdbdF19aWYoIWYuaW5jbHVkZXModCkpcmV0dXJuIEpYRy5pc0Z1bmN0aW9uKGkpP3tuYW1lOnQsdHlwZTpcImZ1bmN0aW9uXCIsbnVtUGFyYW1zOmkubGVuZ3RoLG9yaWdpbjplfTpKWEcuaXNOdW1iZXIoaSk/e25hbWU6dCx0eXBlOlwiY29uc3RhbnRcIix2YWx1ZTppLG9yaWdpbjplfTp2b2lkKHZvaWQgMCE9PWkmJmNvbnNvbGUuZXJyb3IoXCJ1bmRlZmluZWQgdHlwZVwiLGkpKX0sdD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhtKS5zb3J0KHUpLGU9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZykuc29ydCh1KSxpPVtdLHI9MCxzPTA7cjx0Lmxlbmd0aHx8czxlLmxlbmd0aDspdFtyXT09PWVbc10/KG89cChlW3NdLFwiTWF0aFwiKSxKWEcuZXhpc3RzKG8pJiZpLnB1c2gobykscisrLHMrKyk6IUpYRy5leGlzdHMoZVtzXSl8fHRbcl0udG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGVbc10udG9Mb3dlckNhc2UoKSk8MD8obz1wKHRbcl0sXCJqY1wiKSxKWEcuZXhpc3RzKG8pJiZpLnB1c2gobykscisrKToobz1wKGVbc10sXCJNYXRoXCIpLEpYRy5leGlzdHMobykmJmkucHVzaChvKSxzKyspO2ZvcihoPVtdLGw9W10sYz1bXSxkPXt9LG49aS5sZW5ndGgscj0wO3I8bjtyKyspe3N3aXRjaCgoYT1pW3JdKS50eXBlKXtjYXNlXCJmdW5jdGlvblwiOmgucHVzaChhLm5hbWUpLFwiamNcIj09PWEub3JpZ2luJiZsLnB1c2goYS5uYW1lKTticmVhaztjYXNlXCJjb25zdGFudFwiOmMucHVzaChhLm5hbWUpfWRbYS5uYW1lXT1hfXJldHVybnthbGw6ZCxsaXN0OmksZnVuY3Rpb25zOmgsZnVuY3Rpb25zX2plc3NpZWNvZGU6bCxjb25zdGFudHM6Y319LF9kZWJ1ZzpmdW5jdGlvbih0KXtcIm9iamVjdFwiPT10eXBlb2YgY29uc29sZT9jb25zb2xlLmxvZyh0KTpFbnYuaXNCcm93c2VyJiZkb2N1bWVudCYmbnVsbCE9PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdcIikmJihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnXCIpLmlubmVySFRNTCs9dCtcIjxiciAvPlwiKX0sX2Vycm9yOmZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBFcnJvcihcIkVycm9yKFwiK3RoaXMubGluZStcIik6IFwiK3QpO3Rocm93IGUubGluZT10aGlzLmxpbmUsZX0sX3dhcm46ZnVuY3Rpb24odCl7XCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGU/Y29uc29sZS5sb2coXCJXYXJuaW5nKFwiK3RoaXMubGluZStcIik6IFwiK3QpOkVudi5pc0Jyb3dzZXImJmRvY3VtZW50JiZudWxsIT09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy53YXJuTG9nKSYmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMud2FybkxvZykuaW5uZXJIVE1MKz1cIldhcm5pbmcoXCIrdGhpcy5saW5lK1wiKTogXCIrdCtcIjxiciAvPlwiKX0sX2xvZzpmdW5jdGlvbih0KXtcIm9iamVjdFwiIT10eXBlb2Ygd2luZG93JiZcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZi5wb3N0TWVzc2FnZT9zZWxmLnBvc3RNZXNzYWdlKHt0eXBlOlwibG9nXCIsbXNnOlwiTG9nOiBcIit0LnRvU3RyaW5nKCl9KTpjb25zb2xlLmxvZyhcIkxvZzogXCIsYXJndW1lbnRzKX19KTt2YXIgcGFyc2VyPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlLGkscil7Zm9yKGk9aXx8e30scj10Lmxlbmd0aDtyLS07aVt0W3JdXT1lKTtyZXR1cm4gaX0sZT1bMiwxNF0saT1bMSwxM10scj1bMSwzN10scz1bMSwxNF0sbz1bMSwxNV0sbj1bMSwyMV0sYT1bMSwxNl0saD1bMSwxN10sbD1bMSwzM10sYz1bMSwxOF0sZD1bMSwxOV0sdT1bMSwxMl0scD1bMSw1OV0sZj1bMSw2MF0sbT1bMSw1OF0sZz1bMSw0Nl0sYj1bMSw0OF0sdj1bMSw0OV0seT1bMSw1MF0sQz1bMSw1MV0sXz1bMSw1Ml0sUD1bMSw1M10sRT1bMSw1NF0seD1bMSw0NV0sUz1bMSwzOF0sTz1bMSwzOV0sdz1bNSw3LDgsMTQsMTUsMTYsMTcsMTksMjAsMjEsMjMsMjYsMjcsNTAsNTEsNTgsNjUsNzQsNzUsNzYsNzcsNzgsNzksODAsODIsOTEsOTNdLFQ9WzUsNyw4LDEyLDE0LDE1LDE2LDE3LDE5LDIwLDIxLDIzLDI2LDI3LDUwLDUxLDU4LDY1LDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgyLDkxLDkzXSxOPVs4LDEwLDE2LDMyLDM0LDM1LDM3LDM5LDQxLDQyLDQzLDQ1LDQ2LDQ3LDQ4LDUwLDUxLDUzLDU0LDU1LDU3LDY0LDY1LDY2LDgzLDg2XSxNPVsyLDQ4XSxBPVsxLDcyXSxSPVsxMCwxNiwzMiwzNCwzNSwzNywzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw1Nyw2Niw4Myw4Nl0sTD1bMSw3OF0saz1bOCwxMCwxNiwzMiwzNCwzNSwzNyw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw1Nyw2NCw2NSw2Niw4Myw4Nl0sRD1bMSw4Ml0sQj1bOCwxMCwxNiwzMiwzNCwzNSwzNywzOSw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw1Nyw2NCw2NSw2Niw4Myw4Nl0sST1bMSw4M10sWT1bMSw4NF0saj1bMSw4NV0sWD1bOCwxMCwxNiwzMiwzNCwzNSwzNywzOSw0MSw0Miw0Myw1MCw1MSw1Myw1NCw1NSw1Nyw2NCw2NSw2Niw4Myw4Nl0sRj1bMSw4OV0sVT1bMSw5MF0sSj1bMSw5MV0sRz1bMSw5Ml0sej1bMSw5N10sSD1bOCwxMCwxNiwzMiwzNCwzNSwzNywzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1Myw1NCw1NSw1Nyw2NCw2NSw2Niw4Myw4Nl0sVj1bMSwxMDNdLCQ9WzEsMTA0XSxxPVs4LDEwLDE2LDMyLDM0LDM1LDM3LDM5LDQxLDQyLDQzLDQ1LDQ2LDQ3LDQ4LDUwLDUxLDU3LDY0LDY1LDY2LDgzLDg2XSxXPVsxLDEwNV0sWj1bMSwxMDZdLFE9WzEsMTA3XSxLPVsxLDEyNl0sdHQ9WzEsMTM5XSxldD1bODMsODZdLGl0PVsxLDE1MF0scnQ9WzEwLDY2LDg2XSxzdD1bOCwxMCwxNiwyMCwzMiwzNCwzNSwzNywzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw1Nyw2NCw2NSw2Niw4Miw4Myw4Nl0sb3Q9WzEsMTY3XSxudD1bMTAsODZdLGF0PXt0cmFjZTpmdW5jdGlvbigpe30seXk6e30sc3ltYm9sc186e2Vycm9yOjIsUHJvZ3JhbTozLFN0YXRlbWVudExpc3Q6NCxFT0Y6NSxJZlN0YXRlbWVudDo2LElGOjcsXCIoXCI6OCxFeHByZXNzaW9uOjksXCIpXCI6MTAsU3RhdGVtZW50OjExLEVMU0U6MTIsTG9vcFN0YXRlbWVudDoxMyxXSElMRToxNCxGT1I6MTUsXCI7XCI6MTYsRE86MTcsVW5hcnlTdGF0ZW1lbnQ6MTgsVVNFOjE5LElERU5USUZJRVI6MjAsREVMRVRFOjIxLFJldHVyblN0YXRlbWVudDoyMixSRVRVUk46MjMsRW1wdHlTdGF0ZW1lbnQ6MjQsU3RhdGVtZW50QmxvY2s6MjUsXCJ7XCI6MjYsXCJ9XCI6MjcsRXhwcmVzc2lvblN0YXRlbWVudDoyOCxBc3NpZ25tZW50RXhwcmVzc2lvbjoyOSxDb25kaXRpb25hbEV4cHJlc3Npb246MzAsTGVmdEhhbmRTaWRlRXhwcmVzc2lvbjozMSxcIj1cIjozMixMb2dpY2FsT1JFeHByZXNzaW9uOjMzLFwiP1wiOjM0LFwiOlwiOjM1LExvZ2ljYWxBTkRFeHByZXNzaW9uOjM2LFwifHxcIjozNyxFcXVhbGl0eUV4cHJlc3Npb246MzgsXCImJlwiOjM5LFJlbGF0aW9uYWxFeHByZXNzaW9uOjQwLFwiPT1cIjo0MSxcIiE9XCI6NDIsXCJ+PVwiOjQzLEFkZGl0aXZlRXhwcmVzc2lvbjo0NCxcIjxcIjo0NSxcIj5cIjo0NixcIjw9XCI6NDcsXCI+PVwiOjQ4LE11bHRpcGxpY2F0aXZlRXhwcmVzc2lvbjo0OSxcIitcIjo1MCxcIi1cIjo1MSxVbmFyeUV4cHJlc3Npb246NTIsXCIqXCI6NTMsXCIvXCI6NTQsXCIlXCI6NTUsRXhwb25lbnRFeHByZXNzaW9uOjU2LFwiXlwiOjU3LFwiIVwiOjU4LE1lbWJlckV4cHJlc3Npb246NTksQ2FsbEV4cHJlc3Npb246NjAsUHJpbWFyeUV4cHJlc3Npb246NjEsRnVuY3Rpb25FeHByZXNzaW9uOjYyLE1hcEV4cHJlc3Npb246NjMsXCIuXCI6NjQsXCJbXCI6NjUsXCJdXCI6NjYsQmFzaWNMaXRlcmFsOjY3LE9iamVjdExpdGVyYWw6NjgsQXJyYXlMaXRlcmFsOjY5LE51bGxMaXRlcmFsOjcwLEJvb2xlYW5MaXRlcmFsOjcxLFN0cmluZ0xpdGVyYWw6NzIsTnVtYmVyTGl0ZXJhbDo3MyxOVUxMOjc0LFRSVUU6NzUsRkFMU0U6NzYsU1RSSU5HOjc3LE5VTUJFUjo3OCxOQU46NzksSU5GSU5JVFk6ODAsRWxlbWVudExpc3Q6ODEsXCI8PFwiOjgyLFwiPj5cIjo4MyxQcm9wZXJ0eUxpc3Q6ODQsUHJvcGVydHk6ODUsXCIsXCI6ODYsUHJvcGVydHlOYW1lOjg3LEFyZ3VtZW50czo4OCxBdHRyaWJ1dGVMaXN0Ojg5LEF0dHJpYnV0ZTo5MCxGVU5DVElPTjo5MSxQYXJhbWV0ZXJEZWZpbml0aW9uTGlzdDo5MixNQVA6OTMsXCItPlwiOjk0LCRhY2NlcHQ6MCwkZW5kOjF9LHRlcm1pbmFsc186ezI6XCJlcnJvclwiLDU6XCJFT0ZcIiw3OlwiSUZcIiw4OlwiKFwiLDEwOlwiKVwiLDEyOlwiRUxTRVwiLDE0OlwiV0hJTEVcIiwxNTpcIkZPUlwiLDE2OlwiO1wiLDE3OlwiRE9cIiwxOTpcIlVTRVwiLDIwOlwiSURFTlRJRklFUlwiLDIxOlwiREVMRVRFXCIsMjM6XCJSRVRVUk5cIiwyNjpcIntcIiwyNzpcIn1cIiwzMjpcIj1cIiwzNDpcIj9cIiwzNTpcIjpcIiwzNzpcInx8XCIsMzk6XCImJlwiLDQxOlwiPT1cIiw0MjpcIiE9XCIsNDM6XCJ+PVwiLDQ1OlwiPFwiLDQ2OlwiPlwiLDQ3OlwiPD1cIiw0ODpcIj49XCIsNTA6XCIrXCIsNTE6XCItXCIsNTM6XCIqXCIsNTQ6XCIvXCIsNTU6XCIlXCIsNTc6XCJeXCIsNTg6XCIhXCIsNjQ6XCIuXCIsNjU6XCJbXCIsNjY6XCJdXCIsNzQ6XCJOVUxMXCIsNzU6XCJUUlVFXCIsNzY6XCJGQUxTRVwiLDc3OlwiU1RSSU5HXCIsNzg6XCJOVU1CRVJcIiw3OTpcIk5BTlwiLDgwOlwiSU5GSU5JVFlcIiw4MjpcIjw8XCIsODM6XCI+PlwiLDg2OlwiLFwiLDkxOlwiRlVOQ1RJT05cIiw5MzpcIk1BUFwiLDk0OlwiLT5cIn0scHJvZHVjdGlvbnNfOlswLFszLDJdLFs2LDVdLFs2LDddLFsxMyw1XSxbMTMsOV0sWzEzLDddLFsxOCwyXSxbMTgsMl0sWzIyLDJdLFsyMiwzXSxbMjQsMV0sWzI1LDNdLFs0LDJdLFs0LDBdLFsxMSwxXSxbMTEsMV0sWzExLDFdLFsxMSwxXSxbMTEsMV0sWzExLDFdLFsxMSwxXSxbMjgsMl0sWzksMV0sWzI5LDFdLFsyOSwzXSxbMzAsMV0sWzMwLDVdLFszMywxXSxbMzMsM10sWzM2LDFdLFszNiwzXSxbMzgsMV0sWzM4LDNdLFszOCwzXSxbMzgsM10sWzQwLDFdLFs0MCwzXSxbNDAsM10sWzQwLDNdLFs0MCwzXSxbNDQsMV0sWzQ0LDNdLFs0NCwzXSxbNDksMV0sWzQ5LDNdLFs0OSwzXSxbNDksM10sWzU2LDFdLFs1NiwzXSxbNTIsMV0sWzUyLDJdLFs1MiwyXSxbNTIsMl0sWzMxLDFdLFszMSwxXSxbNTksMV0sWzU5LDFdLFs1OSwxXSxbNTksM10sWzU5LDRdLFs2MSwxXSxbNjEsMV0sWzYxLDFdLFs2MSwxXSxbNjEsM10sWzY3LDFdLFs2NywxXSxbNjcsMV0sWzY3LDFdLFs3MCwxXSxbNzEsMV0sWzcxLDFdLFs3MiwxXSxbNzMsMV0sWzczLDFdLFs3MywxXSxbNjksMl0sWzY5LDNdLFs2OCwyXSxbNjgsM10sWzg0LDFdLFs4NCwzXSxbODUsM10sWzg3LDFdLFs4NywxXSxbODcsMV0sWzYwLDJdLFs2MCwzXSxbNjAsMl0sWzYwLDRdLFs2MCwzXSxbODgsMl0sWzg4LDNdLFs4OSwxXSxbODksM10sWzkwLDFdLFs5MCwxXSxbODEsMV0sWzgxLDNdLFs2Miw0XSxbNjIsNV0sWzYzLDVdLFs2Myw2XSxbOTIsMV0sWzkyLDNdXSxwZXJmb3JtQWN0aW9uOmZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe3ZhciBhPW8ubGVuZ3RoLTE7c3dpdGNoKHMpe2Nhc2UgMTpyZXR1cm4gb1thLTFdO2Nhc2UgMjp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtNF0pLFwibm9kZV9vcFwiLFwib3BfaWZcIixvW2EtMl0sb1thXSk7YnJlYWs7Y2FzZSAzOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS02XSksXCJub2RlX29wXCIsXCJvcF9pZl9lbHNlXCIsb1thLTRdLG9bYS0yXSxvW2FdKTticmVhaztjYXNlIDQ6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTRdKSxcIm5vZGVfb3BcIixcIm9wX3doaWxlXCIsb1thLTJdLG9bYV0pO2JyZWFrO2Nhc2UgNTp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtOF0pLFwibm9kZV9vcFwiLFwib3BfZm9yXCIsb1thLTZdLG9bYS00XSxvW2EtMl0sb1thXSk7YnJlYWs7Y2FzZSA2OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS02XSksXCJub2RlX29wXCIsXCJvcF9kb1wiLG9bYS01XSxvW2EtMl0pO2JyZWFrO2Nhc2UgNzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMV0pLFwibm9kZV9vcFwiLFwib3BfdXNlXCIsb1thXSk7YnJlYWs7Y2FzZSA4OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0xXSksXCJub2RlX29wXCIsXCJvcF9kZWxldGVcIixvW2FdKTticmVhaztjYXNlIDk6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTFdKSxcIm5vZGVfb3BcIixcIm9wX3JldHVyblwiLHZvaWQgMCk7YnJlYWs7Y2FzZSAxMDp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfcmV0dXJuXCIsb1thLTFdKTticmVhaztjYXNlIDExOmNhc2UgMTQ6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthXSksXCJub2RlX29wXCIsXCJvcF9ub25lXCIpO2JyZWFrO2Nhc2UgMTI6dGhpcy4kPW9bYS0xXSx0aGlzLiQubmVlZHNCcmFja2V0cz0hMDticmVhaztjYXNlIDEzOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0xXSksXCJub2RlX29wXCIsXCJvcF9ub25lXCIsb1thLTFdLG9bYV0pO2JyZWFrO2Nhc2UgMTU6Y2FzZSAxNjpjYXNlIDE3OmNhc2UgMTg6Y2FzZSAxOTpjYXNlIDIwOmNhc2UgMjE6Y2FzZSAyMzpjYXNlIDI0OmNhc2UgMjY6Y2FzZSAyODpjYXNlIDMwOmNhc2UgMzI6Y2FzZSAzNjpjYXNlIDQxOmNhc2UgNDQ6Y2FzZSA0ODpjYXNlIDUwOmNhc2UgNTI6Y2FzZSA1NDpjYXNlIDU1OmNhc2UgNTY6Y2FzZSA1ODpjYXNlIDYyOmNhc2UgODE6Y2FzZSA4NDpjYXNlIDg1OmNhc2UgODY6dGhpcy4kPW9bYV07YnJlYWs7Y2FzZSAyMjpjYXNlIDY1OmNhc2UgOTM6dGhpcy4kPW9bYS0xXTticmVhaztjYXNlIDI1OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9hc3NpZ25cIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDI3OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS00XSksXCJub2RlX29wXCIsXCJvcF9jb25kaXRpb25hbFwiLG9bYS00XSxvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDI5OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9vclwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgMzE6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2FuZFwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgMzM6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2VxXCIsb1thLTJdLG9bYV0pLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSAzNDp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfbmVxXCIsb1thLTJdLG9bYV0pLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSAzNTp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfYXBwcm94XCIsb1thLTJdLG9bYV0pLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSAzNzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfbHRcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDM4OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9ndFwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgMzk6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2xlcVwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgNDA6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2dlcVwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgNDI6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2FkZFwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgNDM6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX3N1YlwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgNDU6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX211bFwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgNDY6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2RpdlwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgNDc6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX21vZFwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgNDk6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2V4cFwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgNTE6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTFdKSxcIm5vZGVfb3BcIixcIm9wX25vdFwiLG9bYV0pLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSA1Mzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMV0pLFwibm9kZV9vcFwiLFwib3BfbmVnXCIsb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDU3OmNhc2UgNjM6Y2FzZSA2NDpjYXNlIDY2OmNhc2UgNjc6Y2FzZSA2ODpjYXNlIDk3OnRoaXMuJD1vW2FdLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSA1OTpjYXNlIDkxOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9wcm9wZXJ0eVwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgNjA6Y2FzZSA5MDp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtM10pLFwibm9kZV9vcFwiLFwib3BfZXh0dmFsdWVcIixvW2EtM10sb1thLTFdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgNjE6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthXSksXCJub2RlX3ZhclwiLG9bYV0pO2JyZWFrO2Nhc2UgNjk6dGhpcy4kPW9bYV0sdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDcwOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYV0pLFwibm9kZV9jb25zdFwiLG51bGwpO2JyZWFrO2Nhc2UgNzE6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthXSksXCJub2RlX2NvbnN0X2Jvb2xcIiwhMCk7YnJlYWs7Y2FzZSA3Mjp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2FdKSxcIm5vZGVfY29uc3RfYm9vbFwiLCExKTticmVhaztjYXNlIDczOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYV0pLFwibm9kZV9zdHJcIixvW2FdLnN1YnN0cmluZygxLG9bYV0ubGVuZ3RoLTEpKTticmVhaztjYXNlIDc0OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYV0pLFwibm9kZV9jb25zdFwiLHBhcnNlRmxvYXQob1thXSkpO2JyZWFrO2Nhc2UgNzU6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthXSksXCJub2RlX2NvbnN0XCIsTmFOKTticmVhaztjYXNlIDc2OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYV0pLFwibm9kZV9jb25zdFwiLDEvMCk7YnJlYWs7Y2FzZSA3Nzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMV0pLFwibm9kZV9vcFwiLFwib3BfYXJyYXlcIixbXSk7YnJlYWs7Y2FzZSA3ODp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfYXJyYXlcIixvW2EtMV0pO2JyZWFrO2Nhc2UgNzk6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTFdKSxcIm5vZGVfb3BcIixcIm9wX2VtcHR5b2JqZWN0XCIse30pLHRoaXMuJC5uZWVkc0JyYWNrZXRzPSEwO2JyZWFrO2Nhc2UgODA6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX3Byb3Bsc3RfdmFsXCIsb1thLTFdKSx0aGlzLiQubmVlZHNCcmFja2V0cz0hMDticmVhaztjYXNlIDgyOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9wcm9wbHN0XCIsb1thLTJdLG9bYV0pO2JyZWFrO2Nhc2UgODM6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX3Byb3BcIixvW2EtMl0sb1thXSk7YnJlYWs7Y2FzZSA4NzpjYXNlIDg5OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0xXSksXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsb1thLTFdLG9bYV0pLHRoaXMuJC5pc01hdGg9ITA7YnJlYWs7Y2FzZSA4ODp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLG9bYS0yXSxvW2EtMV0sb1thXSwhMCksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDkyOnRoaXMuJD1bXTticmVhaztjYXNlIDk0OmNhc2UgOTg6Y2FzZSAxMDQ6dGhpcy4kPVtvW2FdXTticmVhaztjYXNlIDk1OmNhc2UgOTk6Y2FzZSAxMDU6dGhpcy4kPW9bYS0yXS5jb25jYXQob1thXSk7YnJlYWs7Y2FzZSA5Njp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2FdKSxcIm5vZGVfdmFyXCIsb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDEwMDp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtM10pLFwibm9kZV9vcFwiLFwib3BfZnVuY3Rpb25cIixbXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgMTAxOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS00XSksXCJub2RlX29wXCIsXCJvcF9mdW5jdGlvblwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgMTAyOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS00XSksXCJub2RlX29wXCIsXCJvcF9tYXBcIixbXSxvW2FdKTticmVhaztjYXNlIDEwMzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtNV0pLFwibm9kZV9vcFwiLFwib3BfbWFwXCIsb1thLTNdLG9bYV0pfX0sdGFibGU6W3QoWzUsNyw4LDE0LDE1LDE2LDE3LDE5LDIwLDIxLDIzLDI2LDUwLDUxLDU4LDY1LDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgyLDkxLDkzXSxlLHszOjEsNDoyfSksezE6WzNdfSx7NTpbMSwzXSw2OjYsNzppLDg6ciw5OjIwLDExOjQsMTM6NywxNDpzLDE1Om8sMTY6biwxNzphLDE4OjgsMTk6aCwyMDpsLDIxOmMsMjI6OSwyMzpkLDI0OjExLDI1OjUsMjY6dSwyODoxMCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHsxOlsyLDFdfSx0KHcsWzIsMTNdKSx0KFQsWzIsMTVdKSx0KFQsWzIsMTZdKSx0KFQsWzIsMTddKSx0KFQsWzIsMThdKSx0KFQsWzIsMTldKSx0KFQsWzIsMjBdKSx0KFQsWzIsMjFdKSx0KFs3LDgsMTQsMTUsMTYsMTcsMTksMjAsMjEsMjMsMjYsMjcsNTAsNTEsNTgsNjUsNzQsNzUsNzYsNzcsNzgsNzksODAsODIsOTEsOTNdLGUsezQ6NjF9KSx7ODpbMSw2Ml19LHs4OlsxLDYzXX0sezg6WzEsNjRdfSx7Njo2LDc6aSw4OnIsOToyMCwxMTo2NSwxMzo3LDE0OnMsMTU6bywxNjpuLDE3OmEsMTg6OCwxOTpoLDIwOmwsMjE6YywyMjo5LDIzOmQsMjQ6MTEsMjU6NSwyNjp1LDI4OjEwLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezIwOlsxLDY2XX0sezIwOlsxLDY3XX0sezg6ciw5OjY5LDE2OlsxLDY4XSwyMDpsLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezE2OlsxLDcwXX0sdChULFsyLDExXSksdChOLFsyLDIzXSksdChOLFsyLDI0XSksdChbOCwxMCwxNiwzNCwzNSwzNywzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw2NCw2NSw2Niw4Myw4Nl0sTSx7MzI6WzEsNzFdLDU3OkF9KSx0KFs4LDEwLDE2LDMyLDM1LDM5LDQxLDQyLDQzLDQ1LDQ2LDQ3LDQ4LDUwLDUxLDUzLDU0LDU1LDU3LDY0LDY1LDY2LDgzLDg2XSxbMiwyNl0sezM0OlsxLDczXSwzNzpbMSw3NF19KSx0KFIsWzIsNTRdLHs4ODo3Nyw4OkwsNjQ6WzEsNzVdLDY1OlsxLDc2XX0pLHQoUixbMiw1NV0sezg4Ojc5LDg6TCw2NDpbMSw4MV0sNjU6WzEsODBdfSksdChrLFsyLDI4XSx7Mzk6RH0pLHQoTixbMiw1Nl0pLHQoTixbMiw1N10pLHQoTixbMiw1OF0pLHQoQixbMiwzMF0sezQxOkksNDI6WSw0MzpqfSksdChOLFsyLDYxXSksdChOLFsyLDYyXSksdChOLFsyLDYzXSksdChOLFsyLDY0XSksezg6ciw5Ojg2LDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpbMSw4N119LHs4OlsxLDg4XX0sdChYLFsyLDMyXSx7NDU6Riw0NjpVLDQ3OkosNDg6R30pLHQoTixbMiw2Nl0pLHQoTixbMiw2N10pLHQoTixbMiw2OF0pLHQoTixbMiw2OV0pLHsyMDp6LDcyOjk4LDczOjk5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODM6WzEsOTNdLDg0Ojk0LDg1Ojk1LDg3Ojk2fSx7ODpyLDIwOmwsMjk6MTAyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjY6WzEsMTAwXSw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgxOjEwMSw4Mjp4LDkxOlMsOTM6T30sdChILFsyLDM2XSx7NTA6Viw1MTokfSksdChOLFsyLDcwXSksdChOLFsyLDcxXSksdChOLFsyLDcyXSksdChOLFsyLDczXSksdChOLFsyLDc0XSksdChOLFsyLDc1XSksdChOLFsyLDc2XSksdChxLFsyLDQxXSx7NTM6Vyw1NDpaLDU1OlF9KSx0KE4sWzIsNDRdKSx0KE4sWzIsNTBdKSx7ODpyLDIwOmwsMzE6MTA5LDUwOnAsNTE6Ziw1MjoxMDgsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNTA6cCw1MTpmLDUyOjExMCw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDMxOjEwOSw1MDpwLDUxOmYsNTI6MTExLDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7Njo2LDc6aSw4OnIsOToyMCwxMTo0LDEzOjcsMTQ6cywxNTpvLDE2Om4sMTc6YSwxODo4LDE5OmgsMjA6bCwyMTpjLDIyOjksMjM6ZCwyNDoxMSwyNTo1LDI2OnUsMjc6WzEsMTEyXSwyODoxMCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsOToxMTMsMjA6bCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsOToxMTQsMjA6bCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsOToxMTUsMjA6bCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHsxNDpbMSwxMTZdfSx0KFQsWzIsN10pLHQoVCxbMiw4XSksdChULFsyLDldKSx7MTY6WzEsMTE3XX0sdChULFsyLDIyXSksezg6ciwyMDpsLDI5OjExOCwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNTA6cCw1MTpmLDUyOjExOSw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDI5OjEyMCwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksMzY6MTIxLDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezIwOlsxLDEyMl19LHs4OnIsOToxMjMsMjA6bCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHQoTixbMiw4N10sezg5OjEyNCw5MDoxMjUsNjg6MTI3LDIwOkssODI6eH0pLHs4OnIsMTA6WzEsMTI4XSwyMDpsLDI5OjEwMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODE6MTI5LDgyOngsOTE6Uyw5MzpPfSx0KE4sWzIsODldKSx7ODpyLDk6MTMwLDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7MjA6WzEsMTMxXX0sezg6ciwyMDpsLDMxOjEwOSwzODoxMzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDQwOjEzMyw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNDA6MTM0LDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDMxOjEwOSw0MDoxMzUsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7MTA6WzEsMTM2XX0sezEwOlsxLDEzN10sMjA6dHQsOTI6MTM4fSx7MTA6WzEsMTQwXSwyMDp0dCw5MjoxNDF9LHs4OnIsMjA6bCwzMToxMDksNDQ6MTQyLDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDMxOjEwOSw0NDoxNDMsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDQ0OjE0NCw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNDQ6MTQ1LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sdChOLFsyLDc5XSksezgzOlsxLDE0Nl0sODY6WzEsMTQ3XX0sdChldCxbMiw4MV0pLHszNTpbMSwxNDhdfSx7MzU6WzIsODRdfSx7MzU6WzIsODVdfSx7MzU6WzIsODZdfSx0KE4sWzIsNzddKSx7NjY6WzEsMTQ5XSw4NjppdH0sdChydCxbMiw5OF0pLHs4OnIsMjA6bCwzMToxMDksNDk6MTUxLDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDMxOjEwOSw0OToxNTIsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDUwOnAsNTE6Ziw1MjoxNTMsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNTA6cCw1MTpmLDUyOjE1NCw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDMxOjEwOSw1MDpwLDUxOmYsNTI6MTU1LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx0KE4sWzIsNTFdKSx0KFs4LDEwLDE2LDMyLDM0LDM1LDM3LDM5LDQxLDQyLDQzLDQ1LDQ2LDQ3LDQ4LDUwLDUxLDUzLDU0LDU1LDY0LDY1LDY2LDgzLDg2XSxNLHs1NzpBfSksdChOLFsyLDUyXSksdChOLFsyLDUzXSksdChbNSw3LDgsMTAsMTIsMTQsMTUsMTYsMTcsMTksMjAsMjEsMjMsMjYsMjcsMzIsMzQsMzUsMzcsMzksNDEsNDIsNDMsNDUsNDYsNDcsNDgsNTAsNTEsNTMsNTQsNTUsNTcsNTgsNjQsNjUsNjYsNzQsNzUsNzYsNzcsNzgsNzksODAsODIsODMsODYsOTEsOTNdLFsyLDEyXSksezEwOlsxLDE1Nl19LHsxMDpbMSwxNTddfSx7MTY6WzEsMTU4XX0sezg6WzEsMTU5XX0sdChULFsyLDEwXSksdChOLFsyLDI1XSksdChOLFsyLDQ5XSksezM1OlsxLDE2MF19LHQoayxbMiwyOV0sezM5OkR9KSx0KE4sWzIsNTldKSx7NjY6WzEsMTYxXX0sdChbOCwxMCwxNiwzMiwzNCwzNSwzNywzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw1Nyw2NCw2NSw2Niw4M10sWzIsODhdLHs4NjpbMSwxNjJdfSksdChOLFsyLDk0XSksdChOLFsyLDk2XSksdChOLFsyLDk3XSksdChzdCxbMiw5Ml0pLHsxMDpbMSwxNjNdLDg2Oml0fSx7NjY6WzEsMTY0XX0sdChOLFsyLDkxXSksdChCLFsyLDMxXSx7NDE6SSw0MjpZLDQzOmp9KSx0KFgsWzIsMzNdLHs0NTpGLDQ2OlUsNDc6Siw0ODpHfSksdChYLFsyLDM0XSx7NDU6Riw0NjpVLDQ3OkosNDg6R30pLHQoWCxbMiwzNV0sezQ1OkYsNDY6VSw0NzpKLDQ4Okd9KSx0KE4sWzIsNjVdKSx7MjU6MTY1LDI2OnV9LHsxMDpbMSwxNjZdLDg2Om90fSx0KG50LFsyLDEwNF0pLHs5NDpbMSwxNjhdfSx7MTA6WzEsMTY5XSw4NjpvdH0sdChILFsyLDM3XSx7NTA6Viw1MTokfSksdChILFsyLDM4XSx7NTA6Viw1MTokfSksdChILFsyLDM5XSx7NTA6Viw1MTokfSksdChILFsyLDQwXSx7NTA6Viw1MTokfSksdChOLFsyLDgwXSksezIwOnosNzI6OTgsNzM6OTksNzc6Qyw3ODpfLDc5OlAsODA6RSw4NToxNzAsODc6OTZ9LHs4OnIsMjA6bCwyOToxNzEsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx0KE4sWzIsNzhdKSx7ODpyLDIwOmwsMjk6MTcyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sdChxLFsyLDQyXSx7NTM6Vyw1NDpaLDU1OlF9KSx0KHEsWzIsNDNdLHs1MzpXLDU0OlosNTU6UX0pLHQoTixbMiw0NV0pLHQoTixbMiw0Nl0pLHQoTixbMiw0N10pLHs2OjYsNzppLDg6ciw5OjIwLDExOjE3MywxMzo3LDE0OnMsMTU6bywxNjpuLDE3OmEsMTg6OCwxOTpoLDIwOmwsMjE6YywyMjo5LDIzOmQsMjQ6MTEsMjU6NSwyNjp1LDI4OjEwLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezY6Niw3OmksODpyLDk6MjAsMTE6MTc0LDEzOjcsMTQ6cywxNTpvLDE2Om4sMTc6YSwxODo4LDE5OmgsMjA6bCwyMTpjLDIyOjksMjM6ZCwyNDoxMSwyNTo1LDI2OnUsMjg6MTAsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDk6MTc1LDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDk6MTc2LDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMjk6MTc3LDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sdChOLFsyLDYwXSksezIwOkssNjg6MTI3LDgyOngsOTA6MTc4fSx0KHN0LFsyLDkzXSksdChOLFsyLDkwXSksdChOLFsyLDEwMF0pLHsyNToxNzksMjY6dX0sezIwOlsxLDE4MF19LHs4OnIsOToxODEsMjA6bCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs5NDpbMSwxODJdfSx0KGV0LFsyLDgyXSksdChldCxbMiw4M10pLHQocnQsWzIsOTldKSx0KHcsWzIsMl0sezEyOlsxLDE4M119KSx0KFQsWzIsNF0pLHsxNjpbMSwxODRdfSx7MTA6WzEsMTg1XX0sdChOLFsyLDI3XSksdChOLFsyLDk1XSksdChOLFsyLDEwMV0pLHQobnQsWzIsMTA1XSksdChOLFsyLDEwMl0pLHs4OnIsOToxODYsMjA6bCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs2OjYsNzppLDg6ciw5OjIwLDExOjE4NywxMzo3LDE0OnMsMTU6bywxNjpuLDE3OmEsMTg6OCwxOTpoLDIwOmwsMjE6YywyMjo5LDIzOmQsMjQ6MTEsMjU6NSwyNjp1LDI4OjEwLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciw5OjE4OCwyMDpsLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezE2OlsxLDE4OV19LHQoTixbMiwxMDNdKSx0KFQsWzIsM10pLHsxMDpbMSwxOTBdfSx0KFQsWzIsNl0pLHs2OjYsNzppLDg6ciw5OjIwLDExOjE5MSwxMzo3LDE0OnMsMTU6bywxNjpuLDE3OmEsMTg6OCwxOTpoLDIwOmwsMjE6YywyMjo5LDIzOmQsMjQ6MTEsMjU6NSwyNjp1LDI4OjEwLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sdChULFsyLDVdKV0sZGVmYXVsdEFjdGlvbnM6ezM6WzIsMV0sOTc6WzIsODRdLDk4OlsyLDg1XSw5OTpbMiw4Nl19LHBhcnNlRXJyb3I6ZnVuY3Rpb24odCxlKXtpZighZS5yZWNvdmVyYWJsZSl7dmFyIGk9bmV3IEVycm9yKHQpO3Rocm93IGkuaGFzaD1lLGl9dGhpcy50cmFjZSh0KX0scGFyc2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPVswXSxyPVtudWxsXSxzPVtdLG89dGhpcy50YWJsZSxuPVwiXCIsYT0wLGg9MCxsPTAsYz0yLGQ9MSx1PXMuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscD1PYmplY3QuY3JlYXRlKHRoaXMubGV4ZXIpLGY9e3l5Ont9fTtmb3IodmFyIG0gaW4gdGhpcy55eSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy55eSxtKSYmKGYueXlbbV09dGhpcy55eVttXSk7cC5zZXRJbnB1dCh0LGYueXkpLGYueXkubGV4ZXI9cCxmLnl5LnBhcnNlcj10aGlzLHZvaWQgMD09PXAueXlsbG9jJiYocC55eWxsb2M9e30pO3ZhciBnPXAueXlsbG9jO3MucHVzaChnKTt2YXIgYj1wLm9wdGlvbnMmJnAub3B0aW9ucy5yYW5nZXM7XCJmdW5jdGlvblwiPT10eXBlb2YgZi55eS5wYXJzZUVycm9yP3RoaXMucGFyc2VFcnJvcj1mLnl5LnBhcnNlRXJyb3I6dGhpcy5wYXJzZUVycm9yPU9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5wYXJzZUVycm9yO2Zvcih2YXIgdix5LEMsXyxQLEUseCxTLE8sdz1mdW5jdGlvbigpe3ZhciB0O3JldHVyblwibnVtYmVyXCIhPXR5cGVvZih0PXAubGV4KCl8fGQpJiYodD1lLnN5bWJvbHNfW3RdfHx0KSx0fSxUPXt9Ozspe2lmKEM9aVtpLmxlbmd0aC0xXSx0aGlzLmRlZmF1bHRBY3Rpb25zW0NdP189dGhpcy5kZWZhdWx0QWN0aW9uc1tDXToobnVsbD09diYmKHY9dygpKSxfPW9bQ10mJm9bQ11bdl0pLHZvaWQgMD09PV98fCFfLmxlbmd0aHx8IV9bMF0pe3ZhciBOPVwiXCI7Zm9yKEUgaW4gTz1bXSxvW0NdKXRoaXMudGVybWluYWxzX1tFXSYmRT5jJiZPLnB1c2goXCInXCIrdGhpcy50ZXJtaW5hbHNfW0VdK1wiJ1wiKTtOPXAuc2hvd1Bvc2l0aW9uP1wiUGFyc2UgZXJyb3Igb24gbGluZSBcIisoYSsxKStcIjpcXG5cIitwLnNob3dQb3NpdGlvbigpK1wiXFxuRXhwZWN0aW5nIFwiK08uam9pbihcIiwgXCIpK1wiLCBnb3QgJ1wiKyh0aGlzLnRlcm1pbmFsc19bdl18fHYpK1wiJ1wiOlwiUGFyc2UgZXJyb3Igb24gbGluZSBcIisoYSsxKStcIjogVW5leHBlY3RlZCBcIisodj09ZD9cImVuZCBvZiBpbnB1dFwiOlwiJ1wiKyh0aGlzLnRlcm1pbmFsc19bdl18fHYpK1wiJ1wiKSx0aGlzLnBhcnNlRXJyb3IoTix7dGV4dDpwLm1hdGNoLHRva2VuOnRoaXMudGVybWluYWxzX1t2XXx8dixsaW5lOnAueXlsaW5lbm8sbG9jOmcsZXhwZWN0ZWQ6T30pfWlmKF9bMF1pbnN0YW5jZW9mIEFycmF5JiZfLmxlbmd0aD4xKXRocm93IG5ldyBFcnJvcihcIlBhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiBcIitDK1wiLCB0b2tlbjogXCIrdik7c3dpdGNoKF9bMF0pe2Nhc2UgMTppLnB1c2godiksci5wdXNoKHAueXl0ZXh0KSxzLnB1c2gocC55eWxsb2MpLGkucHVzaChfWzFdKSx2PW51bGwseT8odj15LHk9bnVsbCk6KGg9cC55eWxlbmcsbj1wLnl5dGV4dCxhPXAueXlsaW5lbm8sZz1wLnl5bGxvYyxsPjAmJmwtLSk7YnJlYWs7Y2FzZSAyOmlmKHg9dGhpcy5wcm9kdWN0aW9uc19bX1sxXV1bMV0sVC4kPXJbci5sZW5ndGgteF0sVC5fJD17Zmlyc3RfbGluZTpzW3MubGVuZ3RoLSh4fHwxKV0uZmlyc3RfbGluZSxsYXN0X2xpbmU6c1tzLmxlbmd0aC0xXS5sYXN0X2xpbmUsZmlyc3RfY29sdW1uOnNbcy5sZW5ndGgtKHh8fDEpXS5maXJzdF9jb2x1bW4sbGFzdF9jb2x1bW46c1tzLmxlbmd0aC0xXS5sYXN0X2NvbHVtbn0sYiYmKFQuXyQucmFuZ2U9W3Nbcy5sZW5ndGgtKHh8fDEpXS5yYW5nZVswXSxzW3MubGVuZ3RoLTFdLnJhbmdlWzFdXSksdm9pZCAwIT09KFA9dGhpcy5wZXJmb3JtQWN0aW9uLmFwcGx5KFQsW24saCxhLGYueXksX1sxXSxyLHNdLmNvbmNhdCh1KSkpKXJldHVybiBQO3gmJihpPWkuc2xpY2UoMCwtMSp4KjIpLHI9ci5zbGljZSgwLC0xKngpLHM9cy5zbGljZSgwLC0xKngpKSxpLnB1c2godGhpcy5wcm9kdWN0aW9uc19bX1sxXV1bMF0pLHIucHVzaChULiQpLHMucHVzaChULl8kKSxTPW9baVtpLmxlbmd0aC0yXV1baVtpLmxlbmd0aC0xXV0saS5wdXNoKFMpO2JyZWFrO2Nhc2UgMzpyZXR1cm4hMH19cmV0dXJuITB9fSxodD17bm9kZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJue3R5cGU6dCx2YWx1ZTplLGNoaWxkcmVuOml9fSxjcmVhdGVOb2RlOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG89dGhpcy5ub2RlKGUsaSxbXSk7Zm9yKHM9MztzPGFyZ3VtZW50cy5sZW5ndGg7cysrKW8uY2hpbGRyZW4ucHVzaChhcmd1bWVudHNbc10pO3JldHVybiBvLmxpbmU9dFswXSxvLmNvbD10WzFdLG8uZWxpbmU9dFsyXSxvLmVjb2w9dFszXSxvfX0sbHQ9ZnVuY3Rpb24odCl7cmV0dXJuW3QuZmlyc3RfbGluZSx0LmZpcnN0X2NvbHVtbix0Lmxhc3RfbGluZSx0Lmxhc3RfY29sdW1uXX0sY3Q9ZnVuY3Rpb24oKXt2YXIgdD17RU9GOjEscGFyc2VFcnJvcjpmdW5jdGlvbih0LGUpe2lmKCF0aGlzLnl5LnBhcnNlcil0aHJvdyBuZXcgRXJyb3IodCk7dGhpcy55eS5wYXJzZXIucGFyc2VFcnJvcih0LGUpfSxzZXRJbnB1dDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnl5PWV8fHRoaXMueXl8fHt9LHRoaXMuX2lucHV0PXQsdGhpcy5fbW9yZT10aGlzLl9iYWNrdHJhY2s9dGhpcy5kb25lPSExLHRoaXMueXlsaW5lbm89dGhpcy55eWxlbmc9MCx0aGlzLnl5dGV4dD10aGlzLm1hdGNoZWQ9dGhpcy5tYXRjaD1cIlwiLHRoaXMuY29uZGl0aW9uU3RhY2s9W1wiSU5JVElBTFwiXSx0aGlzLnl5bGxvYz17Zmlyc3RfbGluZToxLGZpcnN0X2NvbHVtbjowLGxhc3RfbGluZToxLGxhc3RfY29sdW1uOjB9LHRoaXMub3B0aW9ucy5yYW5nZXMmJih0aGlzLnl5bGxvYy5yYW5nZT1bMCwwXSksdGhpcy5vZmZzZXQ9MCx0aGlzfSxpbnB1dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2lucHV0WzBdO3JldHVybiB0aGlzLnl5dGV4dCs9dCx0aGlzLnl5bGVuZysrLHRoaXMub2Zmc2V0KyssdGhpcy5tYXRjaCs9dCx0aGlzLm1hdGNoZWQrPXQsdC5tYXRjaCgvKD86XFxyXFxuP3xcXG4pLiovZyk/KHRoaXMueXlsaW5lbm8rKyx0aGlzLnl5bGxvYy5sYXN0X2xpbmUrKyk6dGhpcy55eWxsb2MubGFzdF9jb2x1bW4rKyx0aGlzLm9wdGlvbnMucmFuZ2VzJiZ0aGlzLnl5bGxvYy5yYW5nZVsxXSsrLHRoaXMuX2lucHV0PXRoaXMuX2lucHV0LnNsaWNlKDEpLHR9LHVucHV0OmZ1bmN0aW9uKHQpe3ZhciBlPXQubGVuZ3RoLGk9dC5zcGxpdCgvKD86XFxyXFxuP3xcXG4pL2cpO3RoaXMuX2lucHV0PXQrdGhpcy5faW5wdXQsdGhpcy55eXRleHQ9dGhpcy55eXRleHQuc3Vic3RyKDAsdGhpcy55eXRleHQubGVuZ3RoLWUpLHRoaXMub2Zmc2V0LT1lO3ZhciByPXRoaXMubWF0Y2guc3BsaXQoLyg/Olxcclxcbj98XFxuKS9nKTt0aGlzLm1hdGNoPXRoaXMubWF0Y2guc3Vic3RyKDAsdGhpcy5tYXRjaC5sZW5ndGgtMSksdGhpcy5tYXRjaGVkPXRoaXMubWF0Y2hlZC5zdWJzdHIoMCx0aGlzLm1hdGNoZWQubGVuZ3RoLTEpLGkubGVuZ3RoLTEmJih0aGlzLnl5bGluZW5vLT1pLmxlbmd0aC0xKTt2YXIgcz10aGlzLnl5bGxvYy5yYW5nZTtyZXR1cm4gdGhpcy55eWxsb2M9e2ZpcnN0X2xpbmU6dGhpcy55eWxsb2MuZmlyc3RfbGluZSxsYXN0X2xpbmU6dGhpcy55eWxpbmVubysxLGZpcnN0X2NvbHVtbjp0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4sbGFzdF9jb2x1bW46aT8oaS5sZW5ndGg9PT1yLmxlbmd0aD90aGlzLnl5bGxvYy5maXJzdF9jb2x1bW46MCkrcltyLmxlbmd0aC1pLmxlbmd0aF0ubGVuZ3RoLWlbMF0ubGVuZ3RoOnRoaXMueXlsbG9jLmZpcnN0X2NvbHVtbi1lfSx0aGlzLm9wdGlvbnMucmFuZ2VzJiYodGhpcy55eWxsb2MucmFuZ2U9W3NbMF0sc1swXSt0aGlzLnl5bGVuZy1lXSksdGhpcy55eWxlbmc9dGhpcy55eXRleHQubGVuZ3RoLHRoaXN9LG1vcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbW9yZT0hMCx0aGlzfSxyZWplY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmJhY2t0cmFja19sZXhlcj8odGhpcy5fYmFja3RyYWNrPSEwLHRoaXMpOnRoaXMucGFyc2VFcnJvcihcIkxleGljYWwgZXJyb3Igb24gbGluZSBcIisodGhpcy55eWxpbmVubysxKStcIi4gWW91IGNhbiBvbmx5IGludm9rZSByZWplY3QoKSBpbiB0aGUgbGV4ZXIgd2hlbiB0aGUgbGV4ZXIgaXMgb2YgdGhlIGJhY2t0cmFja2luZyBwZXJzdWFzaW9uIChvcHRpb25zLmJhY2t0cmFja19sZXhlciA9IHRydWUpLlxcblwiK3RoaXMuc2hvd1Bvc2l0aW9uKCkse3RleHQ6XCJcIix0b2tlbjpudWxsLGxpbmU6dGhpcy55eWxpbmVub30pfSxsZXNzOmZ1bmN0aW9uKHQpe3RoaXMudW5wdXQodGhpcy5tYXRjaC5zbGljZSh0KSl9LHBhc3RJbnB1dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMubWF0Y2hlZC5zdWJzdHIoMCx0aGlzLm1hdGNoZWQubGVuZ3RoLXRoaXMubWF0Y2gubGVuZ3RoKTtyZXR1cm4odC5sZW5ndGg+MjA/XCIuLi5cIjpcIlwiKSt0LnN1YnN0cigtMjApLnJlcGxhY2UoL1xcbi9nLFwiXCIpfSx1cGNvbWluZ0lucHV0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tYXRjaDtyZXR1cm4gdC5sZW5ndGg8MjAmJih0Kz10aGlzLl9pbnB1dC5zdWJzdHIoMCwyMC10Lmxlbmd0aCkpLCh0LnN1YnN0cigwLDIwKSsodC5sZW5ndGg+MjA/XCIuLi5cIjpcIlwiKSkucmVwbGFjZSgvXFxuL2csXCJcIil9LHNob3dQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMucGFzdElucHV0KCksZT1uZXcgQXJyYXkodC5sZW5ndGgrMSkuam9pbihcIi1cIik7cmV0dXJuIHQrdGhpcy51cGNvbWluZ0lucHV0KCkrXCJcXG5cIitlK1wiXlwifSx0ZXN0X21hdGNoOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzO2lmKHRoaXMub3B0aW9ucy5iYWNrdHJhY2tfbGV4ZXImJihzPXt5eWxpbmVubzp0aGlzLnl5bGluZW5vLHl5bGxvYzp7Zmlyc3RfbGluZTp0aGlzLnl5bGxvYy5maXJzdF9saW5lLGxhc3RfbGluZTp0aGlzLmxhc3RfbGluZSxmaXJzdF9jb2x1bW46dGhpcy55eWxsb2MuZmlyc3RfY29sdW1uLGxhc3RfY29sdW1uOnRoaXMueXlsbG9jLmxhc3RfY29sdW1ufSx5eXRleHQ6dGhpcy55eXRleHQsbWF0Y2g6dGhpcy5tYXRjaCxtYXRjaGVzOnRoaXMubWF0Y2hlcyxtYXRjaGVkOnRoaXMubWF0Y2hlZCx5eWxlbmc6dGhpcy55eWxlbmcsb2Zmc2V0OnRoaXMub2Zmc2V0LF9tb3JlOnRoaXMuX21vcmUsX2lucHV0OnRoaXMuX2lucHV0LHl5OnRoaXMueXksY29uZGl0aW9uU3RhY2s6dGhpcy5jb25kaXRpb25TdGFjay5zbGljZSgwKSxkb25lOnRoaXMuZG9uZX0sdGhpcy5vcHRpb25zLnJhbmdlcyYmKHMueXlsbG9jLnJhbmdlPXRoaXMueXlsbG9jLnJhbmdlLnNsaWNlKDApKSksKHI9dFswXS5tYXRjaCgvKD86XFxyXFxuP3xcXG4pLiovZykpJiYodGhpcy55eWxpbmVubys9ci5sZW5ndGgpLHRoaXMueXlsbG9jPXtmaXJzdF9saW5lOnRoaXMueXlsbG9jLmxhc3RfbGluZSxsYXN0X2xpbmU6dGhpcy55eWxpbmVubysxLGZpcnN0X2NvbHVtbjp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbixsYXN0X2NvbHVtbjpyP3Jbci5sZW5ndGgtMV0ubGVuZ3RoLXJbci5sZW5ndGgtMV0ubWF0Y2goL1xccj9cXG4/LylbMF0ubGVuZ3RoOnRoaXMueXlsbG9jLmxhc3RfY29sdW1uK3RbMF0ubGVuZ3RofSx0aGlzLnl5dGV4dCs9dFswXSx0aGlzLm1hdGNoKz10WzBdLHRoaXMubWF0Y2hlcz10LHRoaXMueXlsZW5nPXRoaXMueXl0ZXh0Lmxlbmd0aCx0aGlzLm9wdGlvbnMucmFuZ2VzJiYodGhpcy55eWxsb2MucmFuZ2U9W3RoaXMub2Zmc2V0LHRoaXMub2Zmc2V0Kz10aGlzLnl5bGVuZ10pLHRoaXMuX21vcmU9ITEsdGhpcy5fYmFja3RyYWNrPSExLHRoaXMuX2lucHV0PXRoaXMuX2lucHV0LnNsaWNlKHRbMF0ubGVuZ3RoKSx0aGlzLm1hdGNoZWQrPXRbMF0saT10aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh0aGlzLHRoaXMueXksdGhpcyxlLHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV0pLHRoaXMuZG9uZSYmdGhpcy5faW5wdXQmJih0aGlzLmRvbmU9ITEpLGkpcmV0dXJuIGk7aWYodGhpcy5fYmFja3RyYWNrKXtmb3IodmFyIG8gaW4gcyl0aGlzW29dPXNbb107cmV0dXJuITF9cmV0dXJuITF9LG5leHQ6ZnVuY3Rpb24oKXtpZih0aGlzLmRvbmUpcmV0dXJuIHRoaXMuRU9GO3ZhciB0LGUsaSxyO3RoaXMuX2lucHV0fHwodGhpcy5kb25lPSEwKSx0aGlzLl9tb3JlfHwodGhpcy55eXRleHQ9XCJcIix0aGlzLm1hdGNoPVwiXCIpO2Zvcih2YXIgcz10aGlzLl9jdXJyZW50UnVsZXMoKSxvPTA7bzxzLmxlbmd0aDtvKyspaWYoKGk9dGhpcy5faW5wdXQubWF0Y2godGhpcy5ydWxlc1tzW29dXSkpJiYoIWV8fGlbMF0ubGVuZ3RoPmVbMF0ubGVuZ3RoKSl7aWYoZT1pLHI9byx0aGlzLm9wdGlvbnMuYmFja3RyYWNrX2xleGVyKXtpZighMSE9PSh0PXRoaXMudGVzdF9tYXRjaChpLHNbb10pKSlyZXR1cm4gdDtpZih0aGlzLl9iYWNrdHJhY2spe2U9ITE7Y29udGludWV9cmV0dXJuITF9aWYoIXRoaXMub3B0aW9ucy5mbGV4KWJyZWFrfXJldHVybiBlPyExIT09KHQ9dGhpcy50ZXN0X21hdGNoKGUsc1tyXSkpJiZ0OlwiXCI9PT10aGlzLl9pbnB1dD90aGlzLkVPRjp0aGlzLnBhcnNlRXJyb3IoXCJMZXhpY2FsIGVycm9yIG9uIGxpbmUgXCIrKHRoaXMueXlsaW5lbm8rMSkrXCIuIFVucmVjb2duaXplZCB0ZXh0LlxcblwiK3RoaXMuc2hvd1Bvc2l0aW9uKCkse3RleHQ6XCJcIix0b2tlbjpudWxsLGxpbmU6dGhpcy55eWxpbmVub30pfSxsZXg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5leHQoKTtyZXR1cm4gdHx8dGhpcy5sZXgoKX0sYmVnaW46ZnVuY3Rpb24odCl7dGhpcy5jb25kaXRpb25TdGFjay5wdXNoKHQpfSxwb3BTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xPjA/dGhpcy5jb25kaXRpb25TdGFjay5wb3AoKTp0aGlzLmNvbmRpdGlvblN0YWNrWzBdfSxfY3VycmVudFJ1bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoJiZ0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTFdP3RoaXMuY29uZGl0aW9uc1t0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTFdXS5ydWxlczp0aGlzLmNvbmRpdGlvbnMuSU5JVElBTC5ydWxlc30sdG9wU3RhdGU6ZnVuY3Rpb24odCl7cmV0dXJuKHQ9dGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMS1NYXRoLmFicyh0fHwwKSk+PTA/dGhpcy5jb25kaXRpb25TdGFja1t0XTpcIklOSVRJQUxcIn0scHVzaFN0YXRlOmZ1bmN0aW9uKHQpe3RoaXMuYmVnaW4odCl9LHN0YXRlU3RhY2tTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RofSxvcHRpb25zOnt9LHBlcmZvcm1BY3Rpb246ZnVuY3Rpb24odCxlLGkscil7c3dpdGNoKGkpe2Nhc2UgMDpjYXNlIDU6Y2FzZSA2OmJyZWFrO2Nhc2UgMTpjYXNlIDI6cmV0dXJuIDc4O2Nhc2UgMzpjYXNlIDQ6cmV0dXJuIDc3O2Nhc2UgNzpyZXR1cm4gNztjYXNlIDg6cmV0dXJuIDEyO2Nhc2UgOTpyZXR1cm4gMTQ7Y2FzZSAxMDpyZXR1cm4gMTc7Y2FzZSAxMTpyZXR1cm4gMTU7Y2FzZSAxMjpyZXR1cm4gOTE7Y2FzZSAxMzpyZXR1cm4gOTM7Y2FzZSAxNDpyZXR1cm4gMTk7Y2FzZSAxNTpyZXR1cm4gMjM7Y2FzZSAxNjpyZXR1cm4gMjE7Y2FzZSAxNzpyZXR1cm4gNzU7Y2FzZSAxODpyZXR1cm4gNzY7Y2FzZSAxOTpyZXR1cm4gNzQ7Y2FzZSAyMDpyZXR1cm4gODA7Y2FzZSAyMTpjYXNlIDIyOnJldHVybiA5NDtjYXNlIDIzOnJldHVybiA4MjtjYXNlIDI0OnJldHVybiA4MztjYXNlIDI1OnJldHVybiAyNjtjYXNlIDI2OnJldHVybiAyNztjYXNlIDI3OnJldHVybiAxNjtjYXNlIDI4OnJldHVyblwiI1wiO2Nhc2UgMjk6cmV0dXJuIDM0O2Nhc2UgMzA6cmV0dXJuIDM1O2Nhc2UgMzE6cmV0dXJuIDc5O2Nhc2UgMzI6cmV0dXJuIDY0O2Nhc2UgMzM6cmV0dXJuIDY1O2Nhc2UgMzQ6cmV0dXJuIDY2O2Nhc2UgMzU6cmV0dXJuIDg7Y2FzZSAzNjpyZXR1cm4gMTA7Y2FzZSAzNzpyZXR1cm4gNTg7Y2FzZSAzODpyZXR1cm4gNTc7Y2FzZSAzOTpyZXR1cm4gNTM7Y2FzZSA0MDpyZXR1cm4gNTQ7Y2FzZSA0MTpyZXR1cm4gNTU7Y2FzZSA0MjpyZXR1cm4gNTA7Y2FzZSA0MzpyZXR1cm4gNTE7Y2FzZSA0NDpyZXR1cm4gNDc7Y2FzZSA0NTpyZXR1cm4gNDU7Y2FzZSA0NjpyZXR1cm4gNDg7Y2FzZSA0NzpyZXR1cm4gNDY7Y2FzZSA0ODpyZXR1cm4gNDE7Y2FzZSA0OTpyZXR1cm4gNDM7Y2FzZSA1MDpyZXR1cm4gNDI7Y2FzZSA1MTpyZXR1cm4gMzk7Y2FzZSA1MjpyZXR1cm4gMzc7Y2FzZSA1MzpyZXR1cm4gMzI7Y2FzZSA1NDpyZXR1cm4gODY7Y2FzZSA1NTpyZXR1cm4gNTtjYXNlIDU2OnJldHVybiAyMDtjYXNlIDU3OnJldHVyblwiSU5WQUxJRFwifX0scnVsZXM6Wy9eKD86XFxzKykvLC9eKD86WzAtOV0rXFwuWzAtOV0qfFswLTldKlxcLlswLTldK1xcYikvLC9eKD86WzAtOV0rKS8sL14oPzpcIihcXFxcW1wiXXxbXlwiXSkqXCIpLywvXig/OicoXFxcXFsnXXxbXiddKSonKS8sL14oPzpcXC9cXC8uKikvLC9eKD86XFwvXFwqKC58XFxufFxccikqP1xcKlxcLykvLC9eKD86aWZcXGIpLywvXig/OmVsc2VcXGIpLywvXig/OndoaWxlXFxiKS8sL14oPzpkb1xcYikvLC9eKD86Zm9yXFxiKS8sL14oPzpmdW5jdGlvblxcYikvLC9eKD86bWFwXFxiKS8sL14oPzp1c2VcXGIpLywvXig/OnJldHVyblxcYikvLC9eKD86ZGVsZXRlXFxiKS8sL14oPzp0cnVlXFxiKS8sL14oPzpmYWxzZVxcYikvLC9eKD86bnVsbFxcYikvLC9eKD86SW5maW5pdHlcXGIpLywvXig/Oi0+KS8sL14oPzo9PikvLC9eKD86PDwpLywvXig/Oj4+KS8sL14oPzpcXHspLywvXig/OlxcfSkvLC9eKD86OykvLC9eKD86IykvLC9eKD86XFw/KS8sL14oPzo6KS8sL14oPzpOYU5cXGIpLywvXig/OlxcLikvLC9eKD86XFxbKS8sL14oPzpcXF0pLywvXig/OlxcKCkvLC9eKD86XFwpKS8sL14oPzohKS8sL14oPzpcXF4pLywvXig/OlxcKikvLC9eKD86XFwvKS8sL14oPzolKS8sL14oPzpcXCspLywvXig/Oi0pLywvXig/Ojw9KS8sL14oPzo8KS8sL14oPzo+PSkvLC9eKD86PikvLC9eKD86PT0pLywvXig/On49KS8sL14oPzohPSkvLC9eKD86JiYpLywvXig/OlxcfFxcfCkvLC9eKD86PSkvLC9eKD86LCkvLC9eKD86JCkvLC9eKD86W0EtWmEtel9cXCRdW0EtWmEtejAtOV9dKikvLC9eKD86LikvXSxjb25kaXRpb25zOntJTklUSUFMOntydWxlczpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzMywzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1N10saW5jbHVzaXZlOiEwfX19O3JldHVybiB0fSgpO2Z1bmN0aW9uIGR0KCl7dGhpcy55eT17fX1yZXR1cm4gYXQubGV4ZXI9Y3QsZHQucHJvdG90eXBlPWF0LGF0LlBhcnNlcj1kdCxuZXcgZHR9KCk7cmV0dXJuIHZvaWQgMCE9PXJlcXVpcmUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiYoZXhwb3J0cy5wYXJzZXI9cGFyc2VyLGV4cG9ydHMuUGFyc2VyPXBhcnNlci5QYXJzZXIsZXhwb3J0cy5wYXJzZT1mdW5jdGlvbigpe3JldHVybiBwYXJzZXIucGFyc2UuYXBwbHkocGFyc2VyLGFyZ3VtZW50cyl9LGV4cG9ydHMubWFpbj1mdW5jdGlvbih0KXt0WzFdfHwoY29uc29sZS5sb2coXCJVc2FnZTogXCIrdFswXStcIiBGSUxFXCIpLHByb2Nlc3MuZXhpdCgxKSk7dmFyIGU9cmVxdWlyZShcImZzXCIpLnJlYWRGaWxlU3luYyhyZXF1aXJlKFwicGF0aFwiKS5ub3JtYWxpemUodFsxXSksXCJ1dGY4XCIpO3JldHVybiBleHBvcnRzLnBhcnNlci5wYXJzZShlKX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmcmVxdWlyZS5tYWluPT09bW9kdWxlJiZleHBvcnRzLm1haW4ocHJvY2Vzcy5hcmd2LnNsaWNlKDEpKSkscGFyc2VyLnl5LnBhcnNlRXJyb3I9cGFyc2VyLnBhcnNlRXJyb3IsSlhHLkplc3NpZUNvZGV9KSksZGVmaW5lKFwiYmFzZS9jb21wb3NpdGlvblwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Db21wb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgaSxyPXRoaXMscz1bXCJzZXRBdHRyaWJ1dGVcIixcInNldFBhcmVudHNcIixcInByZXBhcmVVcGRhdGVcIixcInVwZGF0ZVJlbmRlcmVyXCIsXCJ1cGRhdGVcIixcImZ1bGxVcGRhdGVcIixcImhpZ2hsaWdodFwiLFwibm9IaWdobGlnaHRcIl0sbz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaTtmb3IoaSBpbiByLmVsZW1lbnRzKXIuZWxlbWVudHMuaGFzT3duUHJvcGVydHkoaSkmJmUuZXhpc3RzKHIuZWxlbWVudHNbaV1bdF0pJiZyLmVsZW1lbnRzW2ldW3RdLmFwcGx5KHIuZWxlbWVudHNbaV0sYXJndW1lbnRzKTtyZXR1cm4gcn19O2ZvcihpPTA7aTxzLmxlbmd0aDtpKyspdGhpc1tzW2ldXT1vKHNbaV0pO2ZvcihpIGluIHRoaXMuZWxlbWVudHM9e30sdGhpcy5vYmplY3RzPXRoaXMuZWxlbWVudHMsdGhpcy5lbGVtZW50c0J5TmFtZT17fSx0aGlzLm9iamVjdHNMaXN0PVtdLHRoaXMuZ3JvdXBzPXt9LHRoaXMubWV0aG9kTWFwPXtzZXRBdHRyaWJ1dGU6XCJzZXRBdHRyaWJ1dGVcIixzZXRQcm9wZXJ0eTpcInNldEF0dHJpYnV0ZVwiLHNldFBhcmVudHM6XCJzZXRQYXJlbnRzXCIsYWRkOlwiYWRkXCIscmVtb3ZlOlwicmVtb3ZlXCIsc2VsZWN0Olwic2VsZWN0XCJ9LHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5hZGQoaSx0W2ldKTt0aGlzLmR1bXA9ITAsdGhpcy5zdWJzPXt9fSx0LmV4dGVuZCh0LkNvbXBvc2l0aW9uLnByb3RvdHlwZSx7YWRkOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIShlLmV4aXN0cyh0aGlzW3RdKXx8IWUuZXhpc3RzKGkpKSYmKGUuZXhpc3RzKGkuaWQpP3RoaXMuZWxlbWVudHNbaS5pZF09aTp0aGlzLmVsZW1lbnRzW3RdPWksZS5leGlzdHMoaS5uYW1lKSYmKHRoaXMuZWxlbWVudHNCeU5hbWVbaS5uYW1lXT1pKSxpLm9uKFwiYXR0cmlidXRlOm5hbWVcIix0aGlzLm5hbWVMaXN0ZW5lcix0aGlzKSx0aGlzLm9iamVjdHNMaXN0LnB1c2goaSksdGhpc1t0XT1pLHRoaXMubWV0aG9kTWFwW3RdPWksITApfSxyZW1vdmU6ZnVuY3Rpb24odCl7dmFyIGUsaT0hMTtmb3IoZSBpbiB0aGlzLmVsZW1lbnRzKWlmKHRoaXMuZWxlbWVudHMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuZWxlbWVudHNbZV0uaWQ9PT10aGlzW3RdLmlkKXtpPSEwO2JyZWFrfXJldHVybiBpJiYoZGVsZXRlIHRoaXMuZWxlbWVudHNbdGhpc1t0XS5pZF0sZGVsZXRlIHRoaXNbdF0pLGl9LG5hbWVMaXN0ZW5lcjpmdW5jdGlvbih0LGUsaSl7ZGVsZXRlIHRoaXMuZWxlbWVudHNCeU5hbWVbdF0sdGhpcy5lbGVtZW50c0J5TmFtZVtlXT1pfSxzZWxlY3Q6ZnVuY3Rpb24oaSl7cmV0dXJuIGUuZXhpc3RzKHQuQm9hcmQpP3QuQm9hcmQucHJvdG90eXBlLnNlbGVjdC5jYWxsKHRoaXMsaSk6bmV3IHQuQ29tcG9zaXRpb259LGdldFBhcmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnRzfSxnZXRUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxUeXBlfSxnZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dmFyIHQsZT17fTtmb3IodCBpbiB0aGlzLnN1YnMpdGhpcy5zdWJzLmhhc093blByb3BlcnR5KHQpJiYoZVt0XT10aGlzLnN1YnNbdF0udmlzUHJvcCk7cmV0dXJuIHRoaXMuYXR0cn19KSx0LkNvbXBvc2l0aW9ufSkpLGRlZmluZShcImJhc2UvYm9hcmRcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwib3B0aW9uc1wiLFwibWF0aC9udW1lcmljc1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJtYXRoL2NvbXBsZXhcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwicGFyc2VyL2plc3NpZWNvZGVcIixcInV0aWxzL2NvbG9yXCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy9ldmVudFwiLFwidXRpbHMvZW52XCIsXCJiYXNlL2NvbXBvc2l0aW9uXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEsaCxsLGMsZCx1LHAsZil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQm9hcmQ9ZnVuY3Rpb24oaSxzLG8sbixhLGgsYyxmLG0sZyxiKXtpZih0aGlzLkJPQVJEX01PREVfTk9ORT0wLHRoaXMuQk9BUkRfTU9ERV9EUkFHPTEsdGhpcy5CT0FSRF9NT0RFX01PVkVfT1JJR0lOPTIsdGhpcy5CT0FSRF9NT0RFX1pPT009MTcsdGhpcy5CT0FSRF9RVUFMSVRZX0xPVz0xLHRoaXMuQk9BUkRfUVVBTElUWV9ISUdIPTIsZC5leGlzdHMoYi5kb2N1bWVudCkmJiExIT09Yi5kb2N1bWVudD90aGlzLmRvY3VtZW50PWIuZG9jdW1lbnQ6dm9pZCAwIT09ZG9jdW1lbnQmJmQuaXNPYmplY3QoZG9jdW1lbnQpJiYodGhpcy5kb2N1bWVudD1kb2N1bWVudCksdGhpcy5jb250YWluZXI9aSx0aGlzLmNvbnRhaW5lck9iaj1wLmlzQnJvd3Nlcj90aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29udGFpbmVyKTpudWxsLHAuaXNCcm93c2VyJiZcIm5vXCIhPT1zLnR5cGUmJm51bGw9PT10aGlzLmNvbnRhaW5lck9iail0aHJvdyBuZXcgRXJyb3IoXCJcXG5KU1hHcmFwaDogSFRNTCBjb250YWluZXIgZWxlbWVudCAnXCIraStcIicgbm90IGZvdW5kLlwiKTt0aGlzLnJlbmRlcmVyPXMsdGhpcy5ncmlkcz1bXSx0aGlzLm9wdGlvbnM9ZC5kZWVwQ29weShyKSx0aGlzLmF0dHI9Yix0aGlzLmRpbWVuc2lvbj0yLHRoaXMuamM9bmV3IGwsdGhpcy5qYy51c2UodGhpcyksdGhpcy5vcmlnaW49e30sdGhpcy5vcmlnaW4udXNyQ29vcmRzPVsxLDAsMF0sdGhpcy5vcmlnaW4uc2NyQ29vcmRzPVsxLG5bMF0sblsxXV0sdGhpcy56b29tWD1hLHRoaXMuem9vbVk9aCx0aGlzLnVuaXRYPWMqdGhpcy56b29tWCx0aGlzLnVuaXRZPWYqdGhpcy56b29tWSx0aGlzLmtlZXBhc3BlY3RyYXRpbz0hMSx0aGlzLmNhbnZhc1dpZHRoPW0sdGhpcy5jYW52YXNIZWlnaHQ9ZyxkLmV4aXN0cyhvKSYmXCJcIiE9PW8mJnAuaXNCcm93c2VyJiYhZC5leGlzdHModGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChvKSk/dGhpcy5pZD1vOnRoaXMuaWQ9dGhpcy5nZW5lcmF0ZUlkKCksdS5ldmVudGlmeSh0aGlzKSx0aGlzLmhvb2tzPVtdLHRoaXMuZGVwZW5kZW50Qm9hcmRzPVtdLHRoaXMuaW5VcGRhdGU9ITEsdGhpcy5vYmplY3RzPXt9LHRoaXMub2JqZWN0c0xpc3Q9W10sdGhpcy5ncm91cHM9e30sdGhpcy5hbmltYXRpb25PYmplY3RzPXt9LHRoaXMuaGlnaGxpZ2h0ZWRPYmplY3RzPXt9LHRoaXMubnVtT2JqZWN0cz0wLHRoaXMuZWxlbWVudHNCeU5hbWU9e30sdGhpcy5tb2RlPXRoaXMuQk9BUkRfTU9ERV9OT05FLHRoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfSElHSCx0aGlzLmlzU3VzcGVuZGVkUmVkcmF3PSExLHRoaXMuY2FsY3VsYXRlU25hcFNpemVzKCksdGhpcy5kcmFnX2R4PTAsdGhpcy5kcmFnX2R5PTAsdGhpcy5kcmFnX3Bvc2l0aW9uPVswLDBdLHRoaXMubW91c2U9e30sdGhpcy50b3VjaGVzPVtdLHRoaXMueG1sU3RyaW5nPVwiXCIsdGhpcy5jUG9zPVtdLHRoaXMudG91Y2hNb3ZlTGFzdD0wLHRoaXMudG91Y2hNb3ZlTGFzdElkPTEvMCx0aGlzLnBvc2l0aW9uQWNjZXNzTGFzdD0wLHRoaXMuZG93bk9iamVjdHM9W10sdGhpcy5hdHRyLnNob3djb3B5cmlnaHQmJnRoaXMucmVuZGVyZXIuZGlzcGxheUNvcHlyaWdodChlLmxpY2Vuc2VUZXh0LHBhcnNlSW50KHRoaXMub3B0aW9ucy50ZXh0LmZvbnRTaXplLDEwKSksdGhpcy5uZWVkc0Z1bGxVcGRhdGU9ITEsdGhpcy5yZWR1Y2VkVXBkYXRlPSExLHRoaXMuY3VycmVudENCRGVmPVwibm9uZVwiLHRoaXMuZ2VvbmV4dENvbXBhdGliaWxpdHlNb2RlPSExLHRoaXMub3B0aW9ucy50ZXh0LnVzZUFTQ0lJTWF0aE1MJiZ0cmFuc2xhdGVBU0NJSU1hdGg/aW5pdCgpOnRoaXMub3B0aW9ucy50ZXh0LnVzZUFTQ0lJTWF0aE1MPSExLHRoaXMuaGFzTW91c2VIYW5kbGVycz0hMSx0aGlzLmhhc1RvdWNoSGFuZGxlcnM9ITEsdGhpcy5oYXNQb2ludGVySGFuZGxlcnM9ITEsdGhpcy5oYXNNb3VzZVVwPSExLHRoaXMuaGFzVG91Y2hFbmQ9ITEsdGhpcy5oYXNQb2ludGVyVXA9ITEsdGhpcy5fZHJhZ19vZmZzZXQ9WzAsMF0sdGhpcy5faW5wdXREZXZpY2U9XCJtb3VzZVwiLHRoaXMuX2JvYXJkX3RvdWNoZXM9W10sdGhpcy5zZWxlY3RpbmdNb2RlPSExLHRoaXMuaXNTZWxlY3Rpbmc9ITEsdGhpcy5faXNTY3JvbGxpbmc9ITEsdGhpcy5faXNSZXNpemluZz0hMSx0aGlzLnNlbGVjdGluZ0JveD1bWzAsMF0sWzAsMF1dLHRoaXMubWF0aExpYj1NYXRoLHRoaXMubWF0aExpYkpYRz10Lk1hdGgsdGhpcy5hdHRyLnJlZ2lzdGVyZXZlbnRzJiZ0aGlzLmFkZEV2ZW50SGFuZGxlcnMoKSx0aGlzLm1ldGhvZE1hcD17dXBkYXRlOlwidXBkYXRlXCIsZnVsbFVwZGF0ZTpcImZ1bGxVcGRhdGVcIixvbjpcIm9uXCIsb2ZmOlwib2ZmXCIsdHJpZ2dlcjpcInRyaWdnZXJcIixzZXRWaWV3Olwic2V0Qm91bmRpbmdCb3hcIixzZXRCb3VuZGluZ0JveDpcInNldEJvdW5kaW5nQm94XCIsbWlncmF0ZVBvaW50OlwibWlncmF0ZVBvaW50XCIsY29sb3JibGluZDpcImVtdWxhdGVDb2xvcmJsaW5kbmVzc1wiLHN1c3BlbmRVcGRhdGU6XCJzdXNwZW5kVXBkYXRlXCIsdW5zdXNwZW5kVXBkYXRlOlwidW5zdXNwZW5kVXBkYXRlXCIsY2xlYXJUcmFjZXM6XCJjbGVhclRyYWNlc1wiLGxlZnQ6XCJjbGlja0xlZnRBcnJvd1wiLHJpZ2h0OlwiY2xpY2tSaWdodEFycm93XCIsdXA6XCJjbGlja1VwQXJyb3dcIixkb3duOlwiY2xpY2tEb3duQXJyb3dcIix6b29tSW46XCJ6b29tSW5cIix6b29tT3V0Olwiem9vbU91dFwiLHpvb20xMDA6XCJ6b29tMTAwXCIsem9vbUVsZW1lbnRzOlwiem9vbUVsZW1lbnRzXCIscmVtb3ZlOlwicmVtb3ZlT2JqZWN0XCIscmVtb3ZlT2JqZWN0OlwicmVtb3ZlT2JqZWN0XCJ9fSx0LmV4dGVuZCh0LkJvYXJkLnByb3RvdHlwZSx7Z2VuZXJhdGVOYW1lOmZ1bmN0aW9uKHQpe3ZhciBpLHIscz10aGlzLmF0dHIubWF4bmFtZWxlbmd0aCxvPVwiXCIsbj1cIlwiLGE9W10saD1cIlwiO2lmKHQudHlwZT09PWUuT0JKRUNUX1RZUEVfVElDS1MpcmV0dXJuXCJcIjtmb3IoaT1kLmlzUG9pbnQodCk/W1wiXCIsXCJBXCIsXCJCXCIsXCJDXCIsXCJEXCIsXCJFXCIsXCJGXCIsXCJHXCIsXCJIXCIsXCJJXCIsXCJKXCIsXCJLXCIsXCJMXCIsXCJNXCIsXCJOXCIsXCJPXCIsXCJQXCIsXCJRXCIsXCJSXCIsXCJTXCIsXCJUXCIsXCJVXCIsXCJWXCIsXCJXXCIsXCJYXCIsXCJZXCIsXCJaXCJdOnQudHlwZT09PWUuT0JKRUNUX1RZUEVfQU5HTEU/W1wiXCIsXCImYWxwaGE7XCIsXCImYmV0YTtcIixcIiZnYW1tYTtcIixcIiZkZWx0YTtcIixcIiZlcHNpbG9uO1wiLFwiJnpldGE7XCIsXCImZXRhO1wiLFwiJnRoZXRhO1wiLFwiJmlvdGE7XCIsXCIma2FwcGE7XCIsXCImbGFtYmRhO1wiLFwiJm11O1wiLFwiJm51O1wiLFwiJnhpO1wiLFwiJm9taWNyb247XCIsXCImcGk7XCIsXCImcmhvO1wiLFwiJnNpZ21hO1wiLFwiJnRhdTtcIixcIiZ1cHNpbG9uO1wiLFwiJnBoaTtcIixcIiZjaGk7XCIsXCImcHNpO1wiLFwiJm9tZWdhO1wiXTpbXCJcIixcImFcIixcImJcIixcImNcIixcImRcIixcImVcIixcImZcIixcImdcIixcImhcIixcImlcIixcImpcIixcImtcIixcImxcIixcIm1cIixcIm5cIixcIm9cIixcInBcIixcInFcIixcInJcIixcInNcIixcInRcIixcInVcIixcInZcIixcIndcIixcInhcIixcInlcIixcInpcIl0sZC5pc1BvaW50KHQpfHx0LmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0xJTkV8fHQudHlwZT09PWUuT0JKRUNUX1RZUEVfQU5HTEV8fChvPXQudHlwZT09PWUuT0JKRUNUX1RZUEVfUE9MWUdPTj9cIlBfe1wiOnQuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFP1wia197XCI6dC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19URVhUP1widF97XCI6XCJzX3tcIixuPVwifVwiKSxyPTA7cjxzO3IrKylhW3JdPTA7Zm9yKDthW3MtMV08aS5sZW5ndGg7KXtmb3IoYVswXT0xO2FbMF08aS5sZW5ndGg7YVswXSsrKXtmb3IoaD1vLHI9cztyPjA7ci0tKWgrPWlbYVtyLTFdXTtpZighZC5leGlzdHModGhpcy5lbGVtZW50c0J5TmFtZVtoK25dKSlyZXR1cm4gaCtufWZvcihhWzBdPWkubGVuZ3RoLHI9MTtyPHM7cisrKWFbci0xXT09PWkubGVuZ3RoJiYoYVtyLTFdPTEsYVtyXSs9MSl9cmV0dXJuXCJcIn0sZ2VuZXJhdGVJZDpmdW5jdGlvbigpe2Zvcih2YXIgZT0xO2QuZXhpc3RzKHQuYm9hcmRzW1wianhnQm9hcmRcIitlXSk7KWU9TWF0aC5yb3VuZCg2NTUzNSpNYXRoLnJhbmRvbSgpKTtyZXR1cm5cImp4Z0JvYXJkXCIrZX0sc2V0SWQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPXRoaXMubnVtT2JqZWN0cyxzPXQuaWQ7aWYodGhpcy5udW1PYmplY3RzKz0xLFwiXCI9PT1zfHwhZC5leGlzdHMocykpZm9yKHM9dGhpcy5pZCtlK3I7ZC5leGlzdHModGhpcy5vYmplY3RzW3NdKTspaT1NYXRoLnJvdW5kKDY1NTM1Kk1hdGgucmFuZG9tKCkpLHM9dGhpcy5pZCtlK3IrXCItXCIraTtyZXR1cm4gdC5pZD1zLHRoaXMub2JqZWN0c1tzXT10LHQuX3Bvcz10aGlzLm9iamVjdHNMaXN0Lmxlbmd0aCx0aGlzLm9iamVjdHNMaXN0W3RoaXMub2JqZWN0c0xpc3QubGVuZ3RoXT10LHN9LGZpbmFsaXplQWRkaW5nOmZ1bmN0aW9uKHQpeyExPT09ZC5ldmFsdWF0ZSh0LnZpc1Byb3AudmlzaWJsZSkmJnRoaXMucmVuZGVyZXIuZGlzcGxheSh0LCExKX0sZmluYWxpemVMYWJlbDpmdW5jdGlvbih0KXt0Lmhhc0xhYmVsJiYhZC5ldmFsdWF0ZSh0LmxhYmVsLnZpc1Byb3AuaXNsYWJlbCkmJiExPT09ZC5ldmFsdWF0ZSh0LmxhYmVsLnZpc1Byb3AudmlzaWJsZSkmJnRoaXMucmVuZGVyZXIuZGlzcGxheSh0LmxhYmVsLCExKX0sY2hlY2tGcmFtZVJhdGU6ZnVuY3Rpb24odCl7dmFyIGU9ITEsaT0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gZC5leGlzdHModC5wb2ludGVySWQpJiZ0aGlzLnRvdWNoTW92ZUxhc3RJZCE9PXQucG9pbnRlcklkJiYoZT0hMCx0aGlzLnRvdWNoTW92ZUxhc3RJZD10LnBvaW50ZXJJZCksIWUmJihpLXRoaXMudG91Y2hNb3ZlTGFzdCkqdGhpcy5hdHRyLm1heGZyYW1lcmF0ZT49MWUzJiYoZT0hMCksZSYmKHRoaXMudG91Y2hNb3ZlTGFzdD1pKSxlfSxnZXRDb29yZHNUb3BMZWZ0Q29ybmVyOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvPXRoaXMuZG9jdW1lbnQub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudCxuPW8uZG9jdW1lbnRFbGVtZW50fHx0aGlzLmRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSxhPW8uYm9keSxoPXRoaXMuY29udGFpbmVyT2JqO2lmKHRoaXMuY1Bvcy5sZW5ndGg+MCYmKHRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9EUkFHfHx0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTU9WRV9PUklHSU58fChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMucG9zaXRpb25BY2Nlc3NMYXN0PDFlMykpcmV0dXJuIHRoaXMuY1BvcztpZih0aGlzLnBvc2l0aW9uQWNjZXNzTGFzdD0obmV3IERhdGUpLmdldFRpbWUoKSxoLmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7Zm9yKGk9aC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxyPTEscz1oO3MmJmQuZXhpc3RzKHMucGFyZW50Tm9kZSk7KWQuZXhpc3RzKHMuc3R5bGUpJiZkLmV4aXN0cyhzLnN0eWxlLnpvb20pJiZcIlwiIT09cy5zdHlsZS56b29tJiYocio9cGFyc2VGbG9hdChzLnN0eWxlLnpvb20pKSxzPXMucGFyZW50Tm9kZTtyZXR1cm4odD1baS5sZWZ0KnIsaS50b3Aqcl0pWzBdKz1wLmdldFByb3AoaCxcImJvcmRlci1sZWZ0LXdpZHRoXCIpLHRbMV0rPXAuZ2V0UHJvcChoLFwiYm9yZGVyLXRvcC13aWR0aFwiKSxcInZtbFwiIT09dGhpcy5yZW5kZXJlci50eXBlJiYodFswXSs9cC5nZXRQcm9wKGgsXCJwYWRkaW5nLWxlZnRcIiksdFsxXSs9cC5nZXRQcm9wKGgsXCJwYWRkaW5nLXRvcFwiKSksdGhpcy5jUG9zPXQuc2xpY2UoKSx0aGlzLmNQb3N9cmV0dXJuIHQ9cC5nZXRPZmZzZXQoaCksZT10aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LCF0aGlzLmNvbnRhaW5lck9iai5jdXJyZW50U3R5bGUmJmUuZGVmYXVsdFZpZXcmJih0WzBdKz1wLmdldFByb3AobixcIm1hcmdpbi1sZWZ0XCIpLHRbMV0rPXAuZ2V0UHJvcChuLFwibWFyZ2luLXRvcFwiKSx0WzBdKz1wLmdldFByb3AobixcImJvcmRlci1sZWZ0LXdpZHRoXCIpLHRbMV0rPXAuZ2V0UHJvcChuLFwiYm9yZGVyLXRvcC13aWR0aFwiKSx0WzBdKz1wLmdldFByb3AobixcInBhZGRpbmctbGVmdFwiKSx0WzFdKz1wLmdldFByb3AobixcInBhZGRpbmctdG9wXCIpKSxhJiYodFswXSs9cC5nZXRQcm9wKGEsXCJsZWZ0XCIpLHRbMV0rPXAuZ2V0UHJvcChhLFwidG9wXCIpKSxcIm9iamVjdFwiPT10eXBlb2YgZ29vZ2xlJiZnb29nbGUudHJhbnNsYXRlJiYodFswXSs9MTAsdFsxXSs9MjUpLHRbMF0rPXAuZ2V0UHJvcChoLFwiYm9yZGVyLWxlZnQtd2lkdGhcIiksdFsxXSs9cC5nZXRQcm9wKGgsXCJib3JkZXItdG9wLXdpZHRoXCIpLFwidm1sXCIhPT10aGlzLnJlbmRlcmVyLnR5cGUmJih0WzBdKz1wLmdldFByb3AoaCxcInBhZGRpbmctbGVmdFwiKSx0WzFdKz1wLmdldFByb3AoaCxcInBhZGRpbmctdG9wXCIpKSx0WzBdKz10aGlzLmF0dHIub2Zmc2V0eCx0WzFdKz10aGlzLmF0dHIub2Zmc2V0eSx0aGlzLmNQb3M9dC5zbGljZSgpLHRoaXMuY1Bvc30sZ2V0TW91c2VQb3NpdGlvbjpmdW5jdGlvbih0LGUpe3ZhciBpLHIscz10aGlzLmdldENvb3Jkc1RvcExlZnRDb3JuZXIoKTtyZXR1cm4gaT1wLmdldFBvc2l0aW9uKHQsZSx0aGlzLmRvY3VtZW50KSxkLmV4aXN0cyh0aGlzLmNzc1RyYW5zTWF0KXx8dGhpcy51cGRhdGVDU1NUcmFuc2Zvcm1zKCkscj1bMSxpWzBdLXNbMF0saVsxXS1zWzFdXSwocj1vLm1hdFZlY011bHQodGhpcy5jc3NUcmFuc01hdCxyKSlbMV0vPXJbMF0sclsyXS89clswXSxbclsxXSxyWzJdXX0saW5pdE1vdmVPcmlnaW46ZnVuY3Rpb24odCxlKXt0aGlzLmRyYWdfZHg9dC10aGlzLm9yaWdpbi5zY3JDb29yZHNbMV0sdGhpcy5kcmFnX2R5PWUtdGhpcy5vcmlnaW4uc2NyQ29vcmRzWzJdLHRoaXMubW9kZT10aGlzLkJPQVJEX01PREVfTU9WRV9PUklHSU4sdGhpcy51cGRhdGVRdWFsaXR5PXRoaXMuQk9BUkRfUVVBTElUWV9MT1d9LGluaXRNb3ZlT2JqZWN0OmZ1bmN0aW9uKHQsaSxyLHMpe3ZhciBvLG4sYSxsPVtdLGM9W10sdT10aGlzLm9iamVjdHNMaXN0Lmxlbmd0aCxwPXt2aXNQcm9wOntsYXllcjotMWU0fX07Zm9yKG49MDtuPHU7bisrKWE9KG89dGhpcy5vYmplY3RzTGlzdFtuXSkuaGFzUG9pbnQmJm8uaGFzUG9pbnQodCxpKSxvLnZpc1Byb3BDYWxjLnZpc2libGUmJmEmJihvLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtzK1wiZG93blwiLFwiZG93blwiXSxbcl0pLHRoaXMuZG93bk9iamVjdHMucHVzaChvKSksYSYmby5pc0RyYWdnYWJsZSYmby52aXNQcm9wQ2FsYy52aXNpYmxlJiYodGhpcy5nZW9uZXh0Q29tcGF0aWJpbGl0eU1vZGUmJihkLmlzUG9pbnQobyl8fG8uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfVEVYVCl8fCF0aGlzLmdlb25leHRDb21wYXRpYmlsaXR5TW9kZSkmJiFkLmV2YWx1YXRlKG8udmlzUHJvcC5maXhlZCkmJihvLnZpc1Byb3AubGF5ZXI+cC52aXNQcm9wLmxheWVyfHxvLnZpc1Byb3AubGF5ZXI9PT1wLnZpc1Byb3AubGF5ZXImJm8ubGFzdERyYWdUaW1lLmdldFRpbWUoKT49cC5sYXN0RHJhZ1RpbWUuZ2V0VGltZSgpKSYmKHRoaXMuYXR0ci5pZ25vcmVsYWJlbHMmJmQuZXhpc3RzKHAubGFiZWwpJiZvPT09cC5sYWJlbHx8KHA9byxsLnB1c2gocCksZC5leGlzdHMocC5jb29yZHMpP2MucHVzaChoLnN1YnRyYWN0KHAuY29vcmRzLnNjckNvb3Jkcy5zbGljZSgxKSxbdCxpXSkpOmMucHVzaChbMCwwXSkpKTtyZXR1cm4gdGhpcy5hdHRyLmRyYWcuZW5hYmxlZCYmbC5sZW5ndGg+MCYmKHRoaXMubW9kZT10aGlzLkJPQVJEX01PREVfRFJBRyksdGhpcy5hdHRyLnRha2VmaXJzdD8obC5sZW5ndGg9MSx0aGlzLl9kcmFnX29mZnNldD1jWzBdKToobD1sLnNsaWNlKC0xKSx0aGlzLl9kcmFnX29mZnNldD1jW2MubGVuZ3RoLTFdKSx0aGlzLl9kcmFnX29mZnNldHx8KHRoaXMuX2RyYWdfb2Zmc2V0PVswLDBdKSxcInN2Z1wiPT09dGhpcy5yZW5kZXJlci50eXBlJiZkLmV4aXN0cyhsWzBdKSYmZC5ldmFsdWF0ZShsWzBdLnZpc1Byb3AuZHJhZ3RvdG9wb2ZsYXllcikmJjE9PT1sLmxlbmd0aCYmZC5leGlzdHMobFswXS5yZW5kTm9kZSkmJmxbMF0ucmVuZE5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChsWzBdLnJlbmROb2RlKSx0aGlzLnByZXZpb3VzUm90YXRpb249MCx0aGlzLnByZXZpb3VzU2NhbGU9MSxsLmxlbmd0aD49MSYmKGxbMF0uaGlnaGxpZ2h0KCEwKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNlaGl0XCIsXCJoaXRcIl0sW3IsbFswXV0pKSxsfSxtb3ZlT2JqZWN0OmZ1bmN0aW9uKHQscixzLG8sbil7dmFyIGEsbCxjLHU9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLHRoaXMuZ2V0U2NyQ29vcmRzT2ZNb3VzZSh0LHIpLHRoaXMpO3MmJnMub2JqJiYoKGE9cy5vYmopLmNvb3JkcyYmKGw9YS5jb29yZHMuc2NyQ29vcmRzLnNsaWNlKCkpLHRoaXMuZHJhZ19wb3NpdGlvbj1bdS5zY3JDb29yZHNbMV0sdS5zY3JDb29yZHNbMl1dLHRoaXMuZHJhZ19wb3NpdGlvbj1oLmFkZCh0aGlzLmRyYWdfcG9zaXRpb24sdGhpcy5fZHJhZ19vZmZzZXQpLGQuZXhpc3RzKGEuY29vcmRzKT9hLnNldFBvc2l0aW9uRGlyZWN0bHkoZS5DT09SRFNfQllfU0NSRUVOLHRoaXMuZHJhZ19wb3NpdGlvbik6KHRoaXMuZGlzcGxheUluZm9ib3goITEpLGlzTmFOKHMudGFyZ2V0c1swXS5YcHJlditzLnRhcmdldHNbMF0uWXByZXYpfHxhLnNldFBvc2l0aW9uRGlyZWN0bHkoZS5DT09SRFNfQllfU0NSRUVOLFt1LnNjckNvb3Jkc1sxXSx1LnNjckNvb3Jkc1syXV0sW3MudGFyZ2V0c1swXS5YcHJldixzLnRhcmdldHNbMF0uWXByZXZdKSxzLnRhcmdldHNbMF0uWHByZXY9dS5zY3JDb29yZHNbMV0scy50YXJnZXRzWzBdLllwcmV2PXUuc2NyQ29vcmRzWzJdKSxkLmV4aXN0cyhhLmNvb3JkcykmJihhLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoITEpLnVwZGF0ZVJlbmRlcmVyKCksdGhpcy51cGRhdGVJbmZvYm94KGEpLGEucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSghMCkudXBkYXRlUmVuZGVyZXIoKSksYS5jb29yZHMmJihjPWEuY29vcmRzLnNjckNvb3JkcyksYS5jb29yZHMmJmxbMV09PT1jWzFdJiZsWzJdPT09Y1syXXx8KGEudHJpZ2dlckV2ZW50SGFuZGxlcnMoW24rXCJkcmFnXCIsXCJkcmFnXCJdLFtvXSksdGhpcy51cGRhdGUoKSksYS5oaWdobGlnaHQoITApLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wibW91c2VoaXRcIixcImhpdFwiXSxbbyxhXSksYS5sYXN0RHJhZ1RpbWU9bmV3IERhdGUpfSx0d29GaW5nZXJNb3ZlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgcztkLmV4aXN0cyh0KSYmZC5leGlzdHModC5vYmopJiYoKHM9dC5vYmopLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0xJTkV8fHMudHlwZT09PWUuT0JKRUNUX1RZUEVfUE9MWUdPTj90aGlzLnR3b0ZpbmdlclRvdWNoT2JqZWN0KHQudGFyZ2V0cyxzLGkpOnMuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFJiZ0aGlzLnR3b0ZpbmdlclRvdWNoQ2lyY2xlKHQudGFyZ2V0cyxzLGkpLHImJnMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2hkcmFnXCIsXCJkcmFnXCJdLFtyXSkpfSx0d29GaW5nZXJUb3VjaE9iamVjdDpmdW5jdGlvbih0LHIscyl7dmFyIGEsaCxsLGMsdSxwLGYsbSxnLGIsdix5LEMsXyxQLEUseDtpZihkLmV4aXN0cyh0WzBdKSYmZC5leGlzdHModFsxXSkmJiFpc05hTih0WzBdLlhwcmV2K3RbMF0uWXByZXYrdFsxXS5YcHJldit0WzFdLllwcmV2KSl7aWYocz09PXRbMF0ubnVtPyhQPXRbMV0sRT10WzBdKTooUD10WzBdLEU9dFsxXSkseD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW1AuWHByZXYsUC5ZcHJldl0sdGhpcykudXNyQ29vcmRzLGg9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFtFLlhwcmV2LEUuWXByZXZdLHRoaXMpLnVzckNvb3JkcyxhPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbRS5YLEUuWV0sdGhpcykudXNyQ29vcmRzLGM9by5jcm9zc1Byb2R1Y3QoeCxoKSxsPW8uY3Jvc3NQcm9kdWN0KHgsYSksZj1vLmNyb3NzUHJvZHVjdChjLGwpLE1hdGguYWJzKGZbMF0pPG8uZXBzKXJldHVybjtpZihwPW4ucmFkKGguc2xpY2UoMSkseC5zbGljZSgxKSxhLnNsaWNlKDEpKSwobT10aGlzLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtwLFt4WzFdLHhbMl1dXSx7dHlwZTpcInJvdGF0ZVwifSkpLnVwZGF0ZSgpLGQuZXZhbHVhdGUoci52aXNQcm9wLnNjYWxhYmxlKSYmKHU9bi5kaXN0YW5jZShhLHgpL24uZGlzdGFuY2UoaCx4KSxnPXRoaXMuY3JlYXRlKFwidHJhbnNmb3JtXCIsWy14WzFdLC14WzJdXSx7dHlwZTpcInRyYW5zbGF0ZVwifSksYj10aGlzLmNyZWF0ZShcInRyYW5zZm9ybVwiLFt1LHVdLHt0eXBlOlwic2NhbGVcIn0pLHY9dGhpcy5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbeFsxXSx4WzJdXSx7dHlwZTpcInRyYW5zbGF0ZVwifSksbS5tZWx0KGcpLm1lbHQoYikubWVsdCh2KSksci5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FKXk9W10sci5wb2ludDEuZHJhZ2dhYmxlKCkmJnkucHVzaChyLnBvaW50MSksci5wb2ludDIuZHJhZ2dhYmxlKCkmJnkucHVzaChyLnBvaW50MiksbS5hcHBseU9uY2UoeSk7ZWxzZSBpZihyLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1BPTFlHT04pe2Zvcih5PVtdLF89ci52ZXJ0aWNlcy5sZW5ndGgtMSxDPTA7QzxfOysrQylyLnZlcnRpY2VzW0NdLmRyYWdnYWJsZSgpJiZ5LnB1c2goci52ZXJ0aWNlc1tDXSk7bS5hcHBseU9uY2UoeSl9dGhpcy51cGRhdGUoKSxyLmhpZ2hsaWdodCghMCl9fSx0d29GaW5nZXJUb3VjaENpcmNsZTpmdW5jdGlvbih0LHIscyl7dmFyIG8sYSxoLGwsYyx1LHAsZixtLGcsYjtcInBvaW50Q2lyY2xlXCIhPT1yLm1ldGhvZCYmXCJwb2ludExpbmVcIiE9PXIubWV0aG9kJiZkLmV4aXN0cyh0WzBdKSYmZC5leGlzdHModFsxXSkmJiFpc05hTih0WzBdLlhwcmV2K3RbMF0uWXByZXYrdFsxXS5YcHJldit0WzFdLllwcmV2KSYmKHM9PT10WzBdLm51bT8obz10WzFdLGE9dFswXSk6KG89dFswXSxhPXRbMV0pLGM9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFtvLlhwcmV2LG8uWXByZXZdLHRoaXMpLnVzckNvb3JkcyxsPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbYS5YcHJldixhLllwcmV2XSx0aGlzKS51c3JDb29yZHMsaD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW2EuWCxhLlldLHRoaXMpLnVzckNvb3JkcyxwPW4ucmFkKGwuc2xpY2UoMSksYy5zbGljZSgxKSxoLnNsaWNlKDEpKSxmPXRoaXMuY3JlYXRlKFwidHJhbnNmb3JtXCIsWy1jWzFdLC1jWzJdXSx7dHlwZTpcInRyYW5zbGF0ZVwifSksbT10aGlzLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtwXSx7dHlwZTpcInJvdGF0ZVwifSksZi5tZWx0KG0pLGQuZXZhbHVhdGUoci52aXNQcm9wLnNjYWxhYmxlKSYmKHU9bi5kaXN0YW5jZShjLGgpL24uZGlzdGFuY2UoYyxsKSxnPXRoaXMuY3JlYXRlKFwidHJhbnNmb3JtXCIsW3UsdV0se3R5cGU6XCJzY2FsZVwifSksZi5tZWx0KGcpKSxiPXRoaXMuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2NbMV0sY1syXV0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pLGYubWVsdChiKSxyLmNlbnRlci5kcmFnZ2FibGUoKSYmZi5hcHBseU9uY2UoW3IuY2VudGVyXSksXCJ0d29Qb2ludHNcIj09PXIubWV0aG9kP3IucG9pbnQyLmRyYWdnYWJsZSgpJiZmLmFwcGx5T25jZShbci5wb2ludDJdKTpcInBvaW50UmFkaXVzXCI9PT1yLm1ldGhvZCYmZC5pc051bWJlcihyLnVwZGF0ZVJhZGl1cy5vcmlnaW4pJiZyLnNldFJhZGl1cyhyLnJhZGl1cyp1KSx0aGlzLnVwZGF0ZShyLmNlbnRlciksci5oaWdobGlnaHQoITApKX0saGlnaGxpZ2h0RWxlbWVudHM6ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbyxuLGE9e30saD10aGlzLm9iamVjdHNMaXN0Lmxlbmd0aDtmb3Iocz0wO3M8aDtzKyspbj0obz10aGlzLm9iamVjdHNMaXN0W3NdKS5pZCxkLmV4aXN0cyhvLmhhc1BvaW50KSYmby52aXNQcm9wQ2FsYy52aXNpYmxlJiZvLmhhc1BvaW50KHQsZSkmJih0aGlzLnVwZGF0ZUluZm9ib3gobyksZC5leGlzdHModGhpcy5oaWdobGlnaHRlZE9iamVjdHNbbl0pfHwoYVtuXT1vLG8uaGlnaGxpZ2h0KCksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZWhpdFwiLFwiaGl0XCJdLFtpLG8scl0pKSxvLm1vdXNlb3Zlcj9vLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNlbW92ZVwiLFwibW92ZVwiXSxbaV0pOihvLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNlb3ZlclwiLFwib3ZlclwiXSxbaV0pLG8ubW91c2VvdmVyPSEwKSk7Zm9yKHM9MDtzPGg7cysrKW49KG89dGhpcy5vYmplY3RzTGlzdFtzXSkuaWQsby5tb3VzZW92ZXImJihhW25dfHwoby50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZW91dFwiLFwib3V0XCJdLFtpXSksby5tb3VzZW92ZXI9ITEpKX0sc2F2ZVN0YXJ0UG9zOmZ1bmN0aW9uKGkscil7dmFyIHMsbyxuPVtdO2lmKGkudHlwZT09PWUuT0JKRUNUX1RZUEVfVElDS1Mpbi5wdXNoKFsxLE5hTixOYU5dKTtlbHNlIGlmKGkuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORSluLnB1c2goaS5wb2ludDEuY29vcmRzLnVzckNvb3Jkcyksbi5wdXNoKGkucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMpO2Vsc2UgaWYoaS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DSVJDTEUpbi5wdXNoKGkuY2VudGVyLmNvb3Jkcy51c3JDb29yZHMpLFwidHdvUG9pbnRzXCI9PT1pLm1ldGhvZCYmbi5wdXNoKGkucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMpO2Vsc2UgaWYoaS50eXBlPT09ZS5PQkpFQ1RfVFlQRV9QT0xZR09OKWZvcihvPWkudmVydGljZXMubGVuZ3RoLTEscz0wO3M8bztzKyspbi5wdXNoKGkudmVydGljZXNbc10uY29vcmRzLnVzckNvb3Jkcyk7ZWxzZSBpZihpLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1NFQ1RPUiluLnB1c2goaS5wb2ludDEuY29vcmRzLnVzckNvb3Jkcyksbi5wdXNoKGkucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMpLG4ucHVzaChpLnBvaW50My5jb29yZHMudXNyQ29vcmRzKTtlbHNlIGlmKGQuaXNQb2ludChpKXx8aS50eXBlPT09ZS5PQkpFQ1RfVFlQRV9HTElERVIpbi5wdXNoKGkuY29vcmRzLnVzckNvb3Jkcyk7ZWxzZSBpZihpLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NVUlZFKWkucG9pbnRzLmxlbmd0aD4wJiZuLnB1c2goaS5wb2ludHNbMF0udXNyQ29vcmRzKTtlbHNlIHRyeXtuLnB1c2goaS5jb29yZHMudXNyQ29vcmRzKX1jYXRjaChlKXt0LmRlYnVnKFwiSlNYR3JhcGgrIHNhdmVTdGFydFBvczogb2JqLmNvb3Jkcy51c3JDb29yZHMgbm90IGF2YWlsYWJsZTogXCIrZSl9Zm9yKG89bi5sZW5ndGgscz0wO3M8bztzKyspci5ac3RhcnQucHVzaChuW3NdWzBdKSxyLlhzdGFydC5wdXNoKG5bc11bMV0pLHIuWXN0YXJ0LnB1c2gobltzXVsyXSl9LG1vdXNlT3JpZ2luTW92ZVN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuKGU9dGhpcy5faXNSZXF1aXJlZEtleVByZXNzZWQodCxcInBhblwiKSkmJihpPXRoaXMuZ2V0TW91c2VQb3NpdGlvbih0KSx0aGlzLmluaXRNb3ZlT3JpZ2luKGlbMF0saVsxXSkpLGV9LG1vdXNlT3JpZ2luTW92ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9NT1ZFX09SSUdJTjtyZXR1cm4gaSYmKGU9dGhpcy5nZXRNb3VzZVBvc2l0aW9uKHQpLHRoaXMubW92ZU9yaWdpbihlWzBdLGVbMV0sITApKSxpfSx0b3VjaFN0YXJ0TW92ZU9yaWdpbk9uZUZpbmdlcjpmdW5jdGlvbihlKXt2YXIgaSxyLHM9ZVt0LnRvdWNoUHJvcGVydHldO3JldHVybihpPXRoaXMuYXR0ci5wYW4uZW5hYmxlZCYmIXRoaXMuYXR0ci5wYW4ubmVlZHR3b2ZpbmdlcnMmJjE9PT1zLmxlbmd0aCkmJihyPXRoaXMuZ2V0TW91c2VQb3NpdGlvbihlLDApLHRoaXMuaW5pdE1vdmVPcmlnaW4oclswXSxyWzFdKSksaX0sdG91Y2hPcmlnaW5Nb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5tb2RlPT09dGhpcy5CT0FSRF9NT0RFX01PVkVfT1JJR0lOO3JldHVybiBpJiYoZT10aGlzLmdldE1vdXNlUG9zaXRpb24odCwwKSx0aGlzLm1vdmVPcmlnaW4oZVswXSxlWzFdLCEwKSksaX0sb3JpZ2luTW92ZUVuZDpmdW5jdGlvbigpe3RoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfSElHSCx0aGlzLm1vZGU9dGhpcy5CT0FSRF9NT0RFX05PTkV9LGFkZEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXtpZihwLnN1cHBvcnRzUG9pbnRlckV2ZW50cygpP3RoaXMuYWRkUG9pbnRlckV2ZW50SGFuZGxlcnMoKToodGhpcy5hZGRNb3VzZUV2ZW50SGFuZGxlcnMoKSx0aGlzLmFkZFRvdWNoRXZlbnRIYW5kbGVycygpKSxudWxsIT09dGhpcy5jb250YWluZXJPYmomJih0aGlzLmNvbnRhaW5lck9iai5vbmNvbnRleHRtZW51PWZ1bmN0aW9uKHQpe3JldHVybiBkLmV4aXN0cyh0KSYmdC5wcmV2ZW50RGVmYXVsdCgpLCExfSksdGhpcy5hZGRGdWxsc2NyZWVuRXZlbnRIYW5kbGVycygpLHRoaXMuYWRkS2V5Ym9hcmRFdmVudEhhbmRsZXJzKCkscC5pc0Jyb3dzZXIpe3RyeXt0aGlzLnN0YXJ0UmVzaXplT2JzZXJ2ZXIoKX1jYXRjaCh0KXtwLmFkZEV2ZW50KHdpbmRvdyxcInJlc2l6ZVwiLHRoaXMucmVzaXplTGlzdGVuZXIsdGhpcyksdGhpcy5zdGFydEludGVyc2VjdGlvbk9ic2VydmVyKCl9cC5hZGRFdmVudCh3aW5kb3csXCJzY3JvbGxcIix0aGlzLnNjcm9sbExpc3RlbmVyLHRoaXMpfX0scmVtb3ZlRXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMucmVtb3ZlTW91c2VFdmVudEhhbmRsZXJzKCksdGhpcy5yZW1vdmVUb3VjaEV2ZW50SGFuZGxlcnMoKSx0aGlzLnJlbW92ZVBvaW50ZXJFdmVudEhhbmRsZXJzKCksdGhpcy5yZW1vdmVGdWxsc2NyZWVuRXZlbnRIYW5kbGVycygpLHRoaXMucmVtb3ZlS2V5Ym9hcmRFdmVudEhhbmRsZXJzKCkscC5pc0Jyb3dzZXImJihkLmV4aXN0cyh0aGlzLnJlc2l6ZU9ic2VydmVyKT90aGlzLnN0b3BSZXNpemVPYnNlcnZlcigpOihwLnJlbW92ZUV2ZW50KHdpbmRvdyxcInJlc2l6ZVwiLHRoaXMucmVzaXplTGlzdGVuZXIsdGhpcyksdGhpcy5zdG9wSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKSkscC5yZW1vdmVFdmVudCh3aW5kb3csXCJzY3JvbGxcIix0aGlzLnNjcm9sbExpc3RlbmVyLHRoaXMpKX0sYWRkUG9pbnRlckV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXtpZighdGhpcy5oYXNQb2ludGVySGFuZGxlcnMmJnAuaXNCcm93c2VyKXt2YXIgdD10aGlzLmF0dHIubW92ZXRhcmdldHx8dGhpcy5jb250YWluZXJPYmo7d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkPyhwLmFkZEV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwiTVNQb2ludGVyRG93blwiLHRoaXMucG9pbnRlckRvd25MaXN0ZW5lcix0aGlzKSxwLmFkZEV2ZW50KHQsXCJNU1BvaW50ZXJNb3ZlXCIsdGhpcy5wb2ludGVyTW92ZUxpc3RlbmVyLHRoaXMpKToocC5hZGRFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcInBvaW50ZXJkb3duXCIsdGhpcy5wb2ludGVyRG93bkxpc3RlbmVyLHRoaXMpLHAuYWRkRXZlbnQodCxcInBvaW50ZXJtb3ZlXCIsdGhpcy5wb2ludGVyTW92ZUxpc3RlbmVyLHRoaXMpKSxwLmFkZEV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwibW91c2V3aGVlbFwiLHRoaXMubW91c2VXaGVlbExpc3RlbmVyLHRoaXMpLHAuYWRkRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMubW91c2VXaGVlbExpc3RlbmVyLHRoaXMpLG51bGwhPT10aGlzLmNvbnRhaW5lck9iaiYmKHRoaXMuY29udGFpbmVyT2JqLnN0eWxlLnRvdWNoQWN0aW9uPVwibm9uZVwiKSx0aGlzLmhhc1BvaW50ZXJIYW5kbGVycz0hMH19LGFkZE1vdXNlRXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe2lmKCF0aGlzLmhhc01vdXNlSGFuZGxlcnMmJnAuaXNCcm93c2VyKXt2YXIgdD10aGlzLmF0dHIubW92ZXRhcmdldHx8dGhpcy5jb250YWluZXJPYmo7cC5hZGRFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcIm1vdXNlZG93blwiLHRoaXMubW91c2VEb3duTGlzdGVuZXIsdGhpcykscC5hZGRFdmVudCh0LFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZU1vdmVMaXN0ZW5lcix0aGlzKSxwLmFkZEV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwibW91c2V3aGVlbFwiLHRoaXMubW91c2VXaGVlbExpc3RlbmVyLHRoaXMpLHAuYWRkRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMubW91c2VXaGVlbExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzTW91c2VIYW5kbGVycz0hMH19LGFkZFRvdWNoRXZlbnRIYW5kbGVyczpmdW5jdGlvbih0KXtpZighdGhpcy5oYXNUb3VjaEhhbmRsZXJzJiZwLmlzQnJvd3Nlcil7dmFyIGU9dGhpcy5hdHRyLm1vdmV0YXJnZXR8fHRoaXMuY29udGFpbmVyT2JqO3AuYWRkRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJ0b3VjaHN0YXJ0XCIsdGhpcy50b3VjaFN0YXJ0TGlzdGVuZXIsdGhpcykscC5hZGRFdmVudChlLFwidG91Y2htb3ZlXCIsdGhpcy50b3VjaE1vdmVMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc1RvdWNoSGFuZGxlcnM9ITB9fSxhZGRGdWxsc2NyZWVuRXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe3ZhciB0LGU9W1wiZnVsbHNjcmVlbmNoYW5nZVwiLFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFwibXNmdWxsc2NyZWVuY2hhbmdlXCJdLGk9ZS5sZW5ndGg7aWYoIXRoaXMuaGFzRnVsbHNjZWVuRXZlbnRIYW5kbGVycyYmcC5pc0Jyb3dzZXIpe2Zvcih0PTA7dDxpO3QrKylwLmFkZEV2ZW50KHRoaXMuZG9jdW1lbnQsZVt0XSx0aGlzLmZ1bGxzY3JlZW5MaXN0ZW5lcix0aGlzKTt0aGlzLmhhc0Z1bGxzY2VlbkV2ZW50SGFuZGxlcnM9ITB9fSxhZGRLZXlib2FyZEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLmF0dHIua2V5Ym9hcmQuZW5hYmxlZCYmIXRoaXMuaGFzS2V5Ym9hcmRIYW5kbGVycyYmcC5pc0Jyb3dzZXImJihwLmFkZEV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwia2V5ZG93blwiLHRoaXMua2V5RG93bkxpc3RlbmVyLHRoaXMpLHAuYWRkRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJmb2N1c2luXCIsdGhpcy5rZXlGb2N1c0luTGlzdGVuZXIsdGhpcykscC5hZGRFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcImZvY3Vzb3V0XCIsdGhpcy5rZXlGb2N1c091dExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzS2V5Ym9hcmRIYW5kbGVycz0hMCl9LHJlbW92ZUtleWJvYXJkRXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMuaGFzS2V5Ym9hcmRIYW5kbGVycyYmcC5pc0Jyb3dzZXImJihwLnJlbW92ZUV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwia2V5ZG93blwiLHRoaXMua2V5RG93bkxpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJmb2N1c2luXCIsdGhpcy5rZXlGb2N1c0luTGlzdGVuZXIsdGhpcykscC5yZW1vdmVFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcImZvY3Vzb3V0XCIsdGhpcy5rZXlGb2N1c091dExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzS2V5Ym9hcmRIYW5kbGVycz0hMSl9LHJlbW92ZUZ1bGxzY3JlZW5FdmVudEhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIHQsZT1bXCJmdWxsc2NyZWVuY2hhbmdlXCIsXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsXCJtc2Z1bGxzY3JlZW5jaGFuZ2VcIl0saT1lLmxlbmd0aDtpZih0aGlzLmhhc0Z1bGxzY2VlbkV2ZW50SGFuZGxlcnMmJnAuaXNCcm93c2VyKXtmb3IodD0wO3Q8aTt0KyspcC5yZW1vdmVFdmVudCh0aGlzLmRvY3VtZW50LGVbdF0sdGhpcy5mdWxsc2NyZWVuTGlzdGVuZXIsdGhpcyk7dGhpcy5oYXNGdWxsc2NlZW5FdmVudEhhbmRsZXJzPSExfX0scmVtb3ZlUG9pbnRlckV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXtpZih0aGlzLmhhc1BvaW50ZXJIYW5kbGVycyYmcC5pc0Jyb3dzZXIpe3ZhciB0PXRoaXMuYXR0ci5tb3ZldGFyZ2V0fHx0aGlzLmNvbnRhaW5lck9iajt3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQ/KHAucmVtb3ZlRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJNU1BvaW50ZXJEb3duXCIsdGhpcy5wb2ludGVyRG93bkxpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodCxcIk1TUG9pbnRlck1vdmVcIix0aGlzLnBvaW50ZXJNb3ZlTGlzdGVuZXIsdGhpcykpOihwLnJlbW92ZUV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwicG9pbnRlcmRvd25cIix0aGlzLnBvaW50ZXJEb3duTGlzdGVuZXIsdGhpcykscC5yZW1vdmVFdmVudCh0LFwicG9pbnRlcm1vdmVcIix0aGlzLnBvaW50ZXJNb3ZlTGlzdGVuZXIsdGhpcykpLHAucmVtb3ZlRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJtb3VzZXdoZWVsXCIsdGhpcy5tb3VzZVdoZWVsTGlzdGVuZXIsdGhpcykscC5yZW1vdmVFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcIkRPTU1vdXNlU2Nyb2xsXCIsdGhpcy5tb3VzZVdoZWVsTGlzdGVuZXIsdGhpcyksdGhpcy5oYXNQb2ludGVyVXAmJih3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQ/cC5yZW1vdmVFdmVudCh0aGlzLmRvY3VtZW50LFwiTVNQb2ludGVyVXBcIix0aGlzLnBvaW50ZXJVcExpc3RlbmVyLHRoaXMpOihwLnJlbW92ZUV2ZW50KHRoaXMuZG9jdW1lbnQsXCJwb2ludGVydXBcIix0aGlzLnBvaW50ZXJVcExpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodGhpcy5kb2N1bWVudCxcInBvaW50ZXJjYW5jZWxcIix0aGlzLnBvaW50ZXJVcExpc3RlbmVyLHRoaXMpKSx0aGlzLmhhc1BvaW50ZXJVcD0hMSksdGhpcy5oYXNQb2ludGVySGFuZGxlcnM9ITF9fSxyZW1vdmVNb3VzZUV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXtpZih0aGlzLmhhc01vdXNlSGFuZGxlcnMmJnAuaXNCcm93c2VyKXt2YXIgdD10aGlzLmF0dHIubW92ZXRhcmdldHx8dGhpcy5jb250YWluZXJPYmo7cC5yZW1vdmVFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcIm1vdXNlZG93blwiLHRoaXMubW91c2VEb3duTGlzdGVuZXIsdGhpcykscC5yZW1vdmVFdmVudCh0LFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZU1vdmVMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc01vdXNlVXAmJihwLnJlbW92ZUV2ZW50KHRoaXMuZG9jdW1lbnQsXCJtb3VzZXVwXCIsdGhpcy5tb3VzZVVwTGlzdGVuZXIsdGhpcyksdGhpcy5oYXNNb3VzZVVwPSExKSxwLnJlbW92ZUV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwibW91c2V3aGVlbFwiLHRoaXMubW91c2VXaGVlbExpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMubW91c2VXaGVlbExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzTW91c2VIYW5kbGVycz0hMX19LHJlbW92ZVRvdWNoRXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe2lmKHRoaXMuaGFzVG91Y2hIYW5kbGVycyYmcC5pc0Jyb3dzZXIpe3ZhciB0PXRoaXMuYXR0ci5tb3ZldGFyZ2V0fHx0aGlzLmNvbnRhaW5lck9iajtwLnJlbW92ZUV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hTdGFydExpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodCxcInRvdWNobW92ZVwiLHRoaXMudG91Y2hNb3ZlTGlzdGVuZXIsdGhpcyksdGhpcy5oYXNUb3VjaEVuZCYmKHAucmVtb3ZlRXZlbnQodGhpcy5kb2N1bWVudCxcInRvdWNoZW5kXCIsdGhpcy50b3VjaEVuZExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzVG91Y2hFbmQ9ITEpLHRoaXMuaGFzVG91Y2hIYW5kbGVycz0hMX19LGNsaWNrTGVmdEFycm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW92ZU9yaWdpbih0aGlzLm9yaWdpbi5zY3JDb29yZHNbMV0rLjEqdGhpcy5jYW52YXNXaWR0aCx0aGlzLm9yaWdpbi5zY3JDb29yZHNbMl0pLHRoaXN9LGNsaWNrUmlnaHRBcnJvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vdmVPcmlnaW4odGhpcy5vcmlnaW4uc2NyQ29vcmRzWzFdLS4xKnRoaXMuY2FudmFzV2lkdGgsdGhpcy5vcmlnaW4uc2NyQ29vcmRzWzJdKSx0aGlzfSxjbGlja1VwQXJyb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3ZlT3JpZ2luKHRoaXMub3JpZ2luLnNjckNvb3Jkc1sxXSx0aGlzLm9yaWdpbi5zY3JDb29yZHNbMl0tLjEqdGhpcy5jYW52YXNIZWlnaHQpLHRoaXN9LGNsaWNrRG93bkFycm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW92ZU9yaWdpbih0aGlzLm9yaWdpbi5zY3JDb29yZHNbMV0sdGhpcy5vcmlnaW4uc2NyQ29vcmRzWzJdKy4xKnRoaXMuY2FudmFzSGVpZ2h0KSx0aGlzfSxnZXN0dXJlQ2hhbmdlTGlzdGVuZXI6ZnVuY3Rpb24odCl7dmFyIHIscyxvLGEsaCxsLGMsdSxwLGYsbSxnLGI9ITEsdj10aGlzLmF0dHIuem9vbS5mYWN0b3J4LHk9dGhpcy5hdHRyLnpvb20uZmFjdG9yeTtyZXR1cm4gdGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX1pPT018fCh0LnByZXZlbnREZWZhdWx0KCksbD1uLmRpc3RhbmNlKFt0LnRvdWNoZXNbMF0uY2xpZW50WCx0LnRvdWNoZXNbMF0uY2xpZW50WV0sW3QudG91Y2hlc1sxXS5jbGllbnRYLHQudG91Y2hlc1sxXS5jbGllbnRZXSwyKSx2b2lkIDA9PT10LnNjYWxlJiYodC5zY2FsZT1sL3RoaXMucHJldkRpc3QpLCEhZC5leGlzdHModGhpcy5wcmV2Q29vcmRzKSYmKHM9W3QudG91Y2hlc1swXS5jbGllbnRYLXRoaXMucHJldkNvb3Jkc1swXVswXSx0LnRvdWNoZXNbMF0uY2xpZW50WS10aGlzLnByZXZDb29yZHNbMF1bMV1dLG89W3QudG91Y2hlc1sxXS5jbGllbnRYLXRoaXMucHJldkNvb3Jkc1sxXVswXSx0LnRvdWNoZXNbMV0uY2xpZW50WS10aGlzLnByZXZDb29yZHNbMV1bMV1dLHNbMF0qc1swXStzWzFdKnNbMV08MTAwJiZvWzBdKm9bMF0rb1sxXSpvWzFdPDEwMHx8KGE9bi5yYWQocyxbMCwwXSxvKSxcInBhblwiIT09dGhpcy5pc1ByZXZpb3VzR2VzdHVyZSYmTWF0aC5hYnMoYSk+LjIqTWF0aC5QSSYmTWF0aC5hYnMoYSk8MS44Kk1hdGguUEkmJihiPSEwKSxcInBhblwiPT09dGhpcy5pc1ByZXZpb3VzR2VzdHVyZXx8Ynx8KE1hdGguYWJzKHQuc2NhbGUpPC43N3x8TWF0aC5hYnModC5zY2FsZSk+MS4zKSYmKGI9ITApLGg9dC5zY2FsZS90aGlzLnByZXZTY2FsZSx0aGlzLnByZXZTY2FsZT10LnNjYWxlLHRoaXMucHJldkNvb3Jkcz1bW3QudG91Y2hlc1swXS5jbGllbnRYLHQudG91Y2hlc1swXS5jbGllbnRZXSxbdC50b3VjaGVzWzFdLmNsaWVudFgsdC50b3VjaGVzWzFdLmNsaWVudFldXSxyPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTix0aGlzLmdldE1vdXNlUG9zaXRpb24odCwwKSx0aGlzKSx0aGlzLmF0dHIucGFuLmVuYWJsZWQmJnRoaXMuYXR0ci5wYW4ubmVlZHR3b2ZpbmdlcnMmJiFiPyh0aGlzLmlzUHJldmlvdXNHZXN0dXJlPVwicGFuXCIsdGhpcy5tb3ZlT3JpZ2luKHIuc2NyQ29vcmRzWzFdLHIuc2NyQ29vcmRzWzJdLCEwKSk6dGhpcy5hdHRyLnpvb20uZW5hYmxlZCYmTWF0aC5hYnMoaC0xKTwuNSYmKCh0aGlzLmF0dHIuem9vbS5waW5jaGhvcml6b250YWx8fHRoaXMuYXR0ci56b29tLnBpbmNodmVydGljYWwpJiYoYz1NYXRoLmFicyh0LnRvdWNoZXNbMF0uY2xpZW50WC10LnRvdWNoZXNbMV0uY2xpZW50WCksdT1NYXRoLmFicyh0LnRvdWNoZXNbMF0uY2xpZW50WS10LnRvdWNoZXNbMV0uY2xpZW50WSkscD1NYXRoLmFicyhNYXRoLmF0YW4yKHUsYykpLGc9TWF0aC5QSSp0aGlzLmF0dHIuem9vbS5waW5jaHNlbnNpdGl2aXR5LzkwKSx0aGlzLmF0dHIuem9vbS5waW5jaGhvcml6b250YWwmJnA8Zz8odGhpcy5hdHRyLnpvb20uZmFjdG9yeD1oLHRoaXMuYXR0ci56b29tLmZhY3Rvcnk9MSxmPTAsbT0wKTp0aGlzLmF0dHIuem9vbS5waW5jaHZlcnRpY2FsJiZNYXRoLmFicyhwLS41Kk1hdGguUEkpPGc/KHRoaXMuYXR0ci56b29tLmZhY3Rvcng9MSx0aGlzLmF0dHIuem9vbS5mYWN0b3J5PWgsZj0wLG09MCk6KHRoaXMuYXR0ci56b29tLmZhY3Rvcng9aCx0aGlzLmF0dHIuem9vbS5mYWN0b3J5PWgsZj1yLnVzckNvb3Jkc1sxXSxtPXIudXNyQ29vcmRzWzJdKSx0aGlzLnpvb21JbihmLG0pLHRoaXMuYXR0ci56b29tLmZhY3Rvcng9dix0aGlzLmF0dHIuem9vbS5mYWN0b3J5PXkpKSwhMSkpfSxnZXN0dXJlU3RhcnRMaXN0ZW5lcjpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMucHJldlNjYWxlPTEsdGhpcy5wcmV2RGlzdD1uLmRpc3RhbmNlKFt0LnRvdWNoZXNbMF0uY2xpZW50WCx0LnRvdWNoZXNbMF0uY2xpZW50WV0sW3QudG91Y2hlc1sxXS5jbGllbnRYLHQudG91Y2hlc1sxXS5jbGllbnRZXSwyKSx0aGlzLnByZXZDb29yZHM9W1t0LnRvdWNoZXNbMF0uY2xpZW50WCx0LnRvdWNoZXNbMF0uY2xpZW50WV0sW3QudG91Y2hlc1sxXS5jbGllbnRYLHQudG91Y2hlc1sxXS5jbGllbnRZXV0sdGhpcy5pc1ByZXZpb3VzR2VzdHVyZT1cIm5vbmVcIixlPXRoaXMuZ2V0TW91c2VQb3NpdGlvbih0LDApLHRoaXMuaW5pdE1vdmVPcmlnaW4oZVswXSxlWzFdKSx0aGlzLm1vZGU9dGhpcy5CT0FSRF9NT0RFX1pPT00sITF9LF9pc1JlcXVpcmVkS2V5UHJlc3NlZDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuYXR0cltlXTtyZXR1cm4hIWkuZW5hYmxlZCYmISghKGkubmVlZHNoaWZ0JiZ0LnNoaWZ0S2V5fHwhaS5uZWVkc2hpZnQmJiF0LnNoaWZ0S2V5KXx8IShpLm5lZWRjdHJsJiZ0LmN0cmxLZXl8fCFpLm5lZWRjdHJsJiYhdC5jdHJsS2V5KSl9LF9pc1BvaW50ZXJSZWdpc3RlcmVkOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5fYm9hcmRfdG91Y2hlcy5sZW5ndGg7Zm9yKGU9MDtlPGk7ZSsrKWlmKHRoaXMuX2JvYXJkX3RvdWNoZXNbZV0ucG9pbnRlcklkPT09dC5wb2ludGVySWQpcmV0dXJuITA7cmV0dXJuITF9LF9wb2ludGVyU3RvcmVQb3NpdGlvbjpmdW5jdGlvbih0KXt2YXIgZSxpO2ZvcihlPTAsaT0hMTtlPHRoaXMuX2JvYXJkX3RvdWNoZXMubGVuZ3RoO2UrKylpZih0aGlzLl9ib2FyZF90b3VjaGVzW2VdLnBvaW50ZXJJZD09PXQucG9pbnRlcklkKXt0aGlzLl9ib2FyZF90b3VjaGVzW2VdLmNsaWVudFg9dC5jbGllbnRYLHRoaXMuX2JvYXJkX3RvdWNoZXNbZV0uY2xpZW50WT10LmNsaWVudFksaT0hMDticmVha31yZXR1cm4haSYmdGhpcy5fYm9hcmRfdG91Y2hlcy5sZW5ndGg8MiYmdGhpcy5fYm9hcmRfdG91Y2hlcy5wdXNoKHtwb2ludGVySWQ6dC5wb2ludGVySWQsY2xpZW50WDp0LmNsaWVudFgsY2xpZW50WTp0LmNsaWVudFl9KSx0aGlzfSxfcG9pbnRlclJlbW92ZVRvdWNoZXM6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9MDtlPHRoaXMuX2JvYXJkX3RvdWNoZXMubGVuZ3RoO2UrKylpZih0aGlzLl9ib2FyZF90b3VjaGVzW2VdLnBvaW50ZXJJZD09PXQucG9pbnRlcklkKXt0aGlzLl9ib2FyZF90b3VjaGVzLnNwbGljZShlLDEpO2JyZWFrfXJldHVybiB0aGlzfSxfcG9pbnRlckNsZWFyVG91Y2hlczpmdW5jdGlvbigpe3RoaXMuX2JvYXJkX3RvdWNoZXMubGVuZ3RoPjAmJnRoaXMuZGVoaWdobGlnaHRBbGwoKSx0aGlzLnVwZGF0ZVF1YWxpdHk9dGhpcy5CT0FSRF9RVUFMSVRZX0hJR0gsdGhpcy5tb2RlPXRoaXMuQk9BUkRfTU9ERV9OT05FLHRoaXMuX2JvYXJkX3RvdWNoZXM9W10sdGhpcy50b3VjaGVzPVtdfSxfZ2V0UG9pbnRlcklucHV0RGV2aWNlOmZ1bmN0aW9uKHQpe2lmKHAuaXNCcm93c2VyKXtpZihcInRvdWNoXCI9PT10LnBvaW50ZXJUeXBlfHx3aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMmJndpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cz4xKXJldHVyblwidG91Y2hcIjtpZihcIm1vdXNlXCI9PT10LnBvaW50ZXJUeXBlKXJldHVyblwibW91c2VcIjtpZihcInBlblwiPT09dC5wb2ludGVyVHlwZSlyZXR1cm5cInBlblwifXJldHVyblwibW91c2VcIn0scG9pbnRlckRvd25MaXN0ZW5lcjpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvLG4sYSxoLGwsYyx1O2lmKCFlJiZ0aGlzLl9pc1BvaW50ZXJSZWdpc3RlcmVkKHQpKXJldHVybiExO2lmKCFlJiZ0LmlzUHJpbWFyeSYmdGhpcy5fcG9pbnRlckNsZWFyVG91Y2hlcygpLHRoaXMuaGFzUG9pbnRlclVwfHwod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkP3AuYWRkRXZlbnQodGhpcy5kb2N1bWVudCxcIk1TUG9pbnRlclVwXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKToocC5hZGRFdmVudCh0aGlzLmRvY3VtZW50LFwicG9pbnRlcnVwXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKSxwLmFkZEV2ZW50KHRoaXMuZG9jdW1lbnQsXCJwb2ludGVyY2FuY2VsXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKSksdGhpcy5oYXNQb2ludGVyVXA9ITApLHRoaXMuaGFzTW91c2VIYW5kbGVycyYmdGhpcy5yZW1vdmVNb3VzZUV2ZW50SGFuZGxlcnMoKSx0aGlzLmhhc1RvdWNoSGFuZGxlcnMmJnRoaXMucmVtb3ZlVG91Y2hFdmVudEhhbmRsZXJzKCksdGhpcy5kb2N1bWVudC5zZWxlY3Rpb24mJmQuaXNGdW5jdGlvbih0aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSkpdGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTtlbHNlIGlmKHdpbmRvdy5nZXRTZWxlY3Rpb24mJihhPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSkucmVtb3ZlQWxsUmFuZ2VzKXRyeXthLnJlbW92ZUFsbFJhbmdlcygpfWNhdGNoKHQpe31pZih0aGlzLl9pbnB1dERldmljZT10aGlzLl9nZXRQb2ludGVySW5wdXREZXZpY2UodCksbD10aGlzLl9pbnB1dERldmljZSx0aGlzLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50PXRoaXMub3B0aW9ucy5wcmVjaXNpb25bbF0sbz10aGlzLmdldE1vdXNlUG9zaXRpb24odCksdGhpcy5fdGVzdEZvclNlbGVjdGlvbih0KSx0aGlzLnNlbGVjdGluZ01vZGUpcmV0dXJuIHRoaXMuX3N0YXJ0U2VsZWN0aW5nKG8pLHZvaWQgdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ0b3VjaHN0YXJ0c2VsZWN0aW5nXCIsXCJwb2ludGVyc3RhcnRzZWxlY3RpbmdcIixcInN0YXJ0c2VsZWN0aW5nXCJdLFt0XSk7aWYodGhpcy5hdHRyLmRyYWcuZW5hYmxlZCYmZT8obj1bZV0sdGhpcy5tb2RlPXRoaXMuQk9BUkRfTU9ERV9EUkFHKTpuPXRoaXMuaW5pdE1vdmVPYmplY3Qob1swXSxvWzFdLHQsbCksaD17bnVtOnQucG9pbnRlcklkLFg6b1swXSxZOm9bMV0sWHByZXY6TmFOLFlwcmV2Ok5hTixYc3RhcnQ6W10sWXN0YXJ0OltdLFpzdGFydDpbXX0sbi5sZW5ndGg+MCl7Zm9yKHU9bltuLmxlbmd0aC0xXSxjPSExLGk9MDtpPHRoaXMudG91Y2hlcy5sZW5ndGg7aSsrKWlmKHRoaXMudG91Y2hlc1tpXS5vYmo9PT11KXtyPWkscz10aGlzLnRvdWNoZXNbaV0udGFyZ2V0cy5wdXNoKGgpLTEsYz0hMDticmVha31jfHwocz0wLHI9dGhpcy50b3VjaGVzLnB1c2goe29iajp1LHRhcmdldHM6W2hdfSktMSksdGhpcy5kZWhpZ2hsaWdodEFsbCgpLHUuaGlnaGxpZ2h0KCEwKSx0aGlzLnNhdmVTdGFydFBvcyh1LHRoaXMudG91Y2hlc1tyXS50YXJnZXRzW3NdKSx0JiZ0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp3aW5kb3cuZXZlbnQmJih3aW5kb3cuZXZlbnQucmV0dXJuVmFsdWU9ITEpfXJldHVybiB0aGlzLnRvdWNoZXMubGVuZ3RoPjAmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSksISFwLmlzQnJvd3NlciYmKFwidG91Y2hcIiE9PXRoaXMuX2dldFBvaW50ZXJJbnB1dERldmljZSh0KT90aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTk9ORSYmdGhpcy5tb3VzZU9yaWdpbk1vdmVTdGFydCh0KToodGhpcy5fcG9pbnRlclN0b3JlUG9zaXRpb24odCksdC50b3VjaGVzPXRoaXMuX2JvYXJkX3RvdWNoZXMsMT09PXQudG91Y2hlcy5sZW5ndGgmJnRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9OT05FJiZ0aGlzLnRvdWNoU3RhcnRNb3ZlT3JpZ2luT25lRmluZ2VyKHQpfHwyIT09dC50b3VjaGVzLmxlbmd0aHx8dGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX05PTkUmJnRoaXMubW9kZSE9PXRoaXMuQk9BUkRfTU9ERV9NT1ZFX09SSUdJTnx8KHRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9NT1ZFX09SSUdJTiYmdGhpcy5vcmlnaW5Nb3ZlRW5kKCksdGhpcy5nZXN0dXJlU3RhcnRMaXN0ZW5lcih0KSkpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2hzdGFydFwiLFwiZG93blwiLFwicG9pbnRlcmRvd25cIixcIk1TUG9pbnRlckRvd25cIl0sW3RdKSwhMSl9LHBvaW50ZXJNb3ZlTGlzdGVuZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbztpZihcInRvdWNoXCI9PT10aGlzLl9nZXRQb2ludGVySW5wdXREZXZpY2UodCkmJiF0aGlzLl9pc1BvaW50ZXJSZWdpc3RlcmVkKHQpKXJldHVybiB0aGlzLkJPQVJEX01PREVfTk9ORTtpZighdGhpcy5jaGVja0ZyYW1lUmF0ZSh0KSlyZXR1cm4hMTtpZih0aGlzLm1vZGUhPT10aGlzLkJPQVJEX01PREVfRFJBRyYmKHRoaXMuZGVoaWdobGlnaHRBbGwoKSx0aGlzLmRpc3BsYXlJbmZvYm94KCExKSksdGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX05PTkUmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSksdGhpcy51cGRhdGVRdWFsaXR5PXRoaXMuQk9BUkRfUVVBTElUWV9MT1csdGhpcy5faW5wdXREZXZpY2U9dGhpcy5fZ2V0UG9pbnRlcklucHV0RGV2aWNlKHQpLG89dGhpcy5faW5wdXREZXZpY2UsdGhpcy5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludD10aGlzLm9wdGlvbnMucHJlY2lzaW9uW29dLHRoaXMuc2VsZWN0aW5nTW9kZSlyPXRoaXMuZ2V0TW91c2VQb3NpdGlvbih0KSx0aGlzLl9tb3ZlU2VsZWN0aW5nKHIpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2htb3Zlc2VsZWN0aW5nXCIsXCJtb3Zlc2VsZWN0aW5nXCIsXCJwb2ludGVybW92ZXNlbGVjdGluZ1wiXSxbdCx0aGlzLm1vZGVdKTtlbHNlIGlmKCF0aGlzLm1vdXNlT3JpZ2luTW92ZSh0KSlpZih0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfRFJBRyl7Zm9yKGU9MDtlPHRoaXMudG91Y2hlcy5sZW5ndGg7ZSsrKWZvcihzPXRoaXMudG91Y2hlc1tlXS50YXJnZXRzLGk9MDtpPHMubGVuZ3RoO2krKylpZihzW2ldLm51bT09PXQucG9pbnRlcklkKXtyPXRoaXMuZ2V0TW91c2VQb3NpdGlvbih0KSxzW2ldLlg9clswXSxzW2ldLlk9clsxXSwxPT09cy5sZW5ndGg/dGhpcy5tb3ZlT2JqZWN0KHJbMF0sclsxXSx0aGlzLnRvdWNoZXNbZV0sdCxvKToyPT09cy5sZW5ndGgmJih0aGlzLnR3b0Zpbmdlck1vdmUodGhpcy50b3VjaGVzW2VdLHQucG9pbnRlcklkLHQpLHNbaV0uWHByZXY9clswXSxzW2ldLllwcmV2PXJbMV0pO2JyZWFrfX1lbHNlXCJ0b3VjaFwiPT09dGhpcy5fZ2V0UG9pbnRlcklucHV0RGV2aWNlKHQpJiYodGhpcy5fcG9pbnRlclN0b3JlUG9zaXRpb24odCksMj09PXRoaXMuX2JvYXJkX3RvdWNoZXMubGVuZ3RoJiYodC50b3VjaGVzPXRoaXMuX2JvYXJkX3RvdWNoZXMsdGhpcy5nZXN0dXJlQ2hhbmdlTGlzdGVuZXIodCkpKSxyPXRoaXMuZ2V0TW91c2VQb3NpdGlvbih0KSx0aGlzLmhpZ2hsaWdodEVsZW1lbnRzKHJbMF0sclsxXSx0LC0xKTtyZXR1cm4gdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ0b3VjaG1vdmVcIixcIm1vdmVcIixcInBvaW50ZXJtb3ZlXCIsXCJNU1BvaW50ZXJNb3ZlXCJdLFt0LHRoaXMubW9kZV0pLHRoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfSElHSCx0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTk9ORX0scG9pbnRlclVwTGlzdGVuZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHM7aWYodGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ0b3VjaGVuZFwiLFwidXBcIixcInBvaW50ZXJ1cFwiLFwiTVNQb2ludGVyVXBcIl0sW3RdKSx0aGlzLmRpc3BsYXlJbmZvYm94KCExKSx0KWZvcihlPTA7ZTx0aGlzLnRvdWNoZXMubGVuZ3RoO2UrKylmb3Iocz10aGlzLnRvdWNoZXNbZV0udGFyZ2V0cyxpPTA7aTxzLmxlbmd0aDtpKyspaWYoc1tpXS5udW09PT10LnBvaW50ZXJJZCl7cy5zcGxpY2UoaSwxKSwwPT09cy5sZW5ndGgmJnRoaXMudG91Y2hlcy5zcGxpY2UoZSwxKTticmVha31pZih0aGlzLm9yaWdpbk1vdmVFbmQoKSx0aGlzLnVwZGF0ZSgpLHRoaXMuc2VsZWN0aW5nTW9kZSl0aGlzLl9zdG9wU2VsZWN0aW5nKHQpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2hzdG9wc2VsZWN0aW5nXCIsXCJwb2ludGVyc3RvcHNlbGVjdGluZ1wiLFwic3RvcHNlbGVjdGluZ1wiXSxbdF0pLHRoaXMuc3RvcFNlbGVjdGlvbk1vZGUoKTtlbHNlIGZvcihlPXRoaXMuZG93bk9iamVjdHMubGVuZ3RoLTE7ZT4tMTtlLS0pe2ZvcihyPSExLGk9MDtpPHRoaXMudG91Y2hlcy5sZW5ndGg7aSsrKXRoaXMudG91Y2hlc1tpXS5vYmouaWQ9PT10aGlzLmRvd25PYmplY3RzW2VdLmlkJiYocj0hMCk7cnx8KHRoaXMuZG93bk9iamVjdHNbZV0udHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2hlbmRcIixcInVwXCIsXCJwb2ludGVydXBcIixcIk1TUG9pbnRlclVwXCJdLFt0XSksdGhpcy5kb3duT2JqZWN0cy5zcGxpY2UoZSwxKSl9cmV0dXJuIHRoaXMuaGFzUG9pbnRlclVwJiYod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkP3AucmVtb3ZlRXZlbnQodGhpcy5kb2N1bWVudCxcIk1TUG9pbnRlclVwXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKToocC5yZW1vdmVFdmVudCh0aGlzLmRvY3VtZW50LFwicG9pbnRlcnVwXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKSxwLnJlbW92ZUV2ZW50KHRoaXMuZG9jdW1lbnQsXCJwb2ludGVyY2FuY2VsXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKSksdGhpcy5oYXNQb2ludGVyVXA9ITEpLHRoaXMuX3BvaW50ZXJDbGVhclRvdWNoZXMoKSwhMH0sdG91Y2hTdGFydExpc3RlbmVyOmZ1bmN0aW9uKGkpe3ZhciBzLG8sbixhLGgsbCxjLHUsZixtLGc9dGhpcy5vcHRpb25zLnByZWNpc2lvbi50b3VjaCxiPWlbdC50b3VjaFByb3BlcnR5XTtmb3IodGhpcy5oYXNUb3VjaEVuZHx8KHAuYWRkRXZlbnQodGhpcy5kb2N1bWVudCxcInRvdWNoZW5kXCIsdGhpcy50b3VjaEVuZExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzVG91Y2hFbmQ9ITApLHRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uJiZkLmlzRnVuY3Rpb24odGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkpP3RoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk6d2luZG93LmdldFNlbGVjdGlvbiYmd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpLHRoaXMuX2lucHV0RGV2aWNlPVwidG91Y2hcIix0aGlzLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50PXRoaXMub3B0aW9ucy5wcmVjaXNpb24udG91Y2gscz0wO3M8Yi5sZW5ndGg7cysrKWJbc10uanhnX2lzdXNlZD0hMTtmb3Iocz0wO3M8dGhpcy50b3VjaGVzLmxlbmd0aDtzKyspZm9yKG09dGhpcy50b3VjaGVzW3NdLnRhcmdldHMsYT0wO2E8bS5sZW5ndGg7YSsrKXttW2FdLm51bT0tMSxnPXRoaXMub3B0aW9ucy5wcmVjaXNpb24udG91Y2g7ZG97Zm9yKGg9MDtoPGIubGVuZ3RoO2grKylpZihNYXRoLmFicyhNYXRoLnBvdyhiW2hdLnNjcmVlblgtbVthXS5YLDIpK01hdGgucG93KGJbaF0uc2NyZWVuWS1tW2FdLlksMikpPGcqZyl7bVthXS5udW09aCxtW2FdLlg9YltoXS5zY3JlZW5YLG1bYV0uWT1iW2hdLnNjcmVlblksYltoXS5qeGdfaXN1c2VkPSEwO2JyZWFrfWcqPTJ9d2hpbGUoLTE9PT1tW2FdLm51bSYmZzx0aGlzLm9wdGlvbnMucHJlY2lzaW9uLnRvdWNoTWF4KTstMT09PW1bYV0ubnVtJiYodC5kZWJ1ZyhcImkgY291bGRuJ3QgZmluZCBhIHRhcmdldHRvdWNoZXMgZm9yIHRhcmdldCBubyBcIithK1wiIG9uIFwiK3RoaXMudG91Y2hlc1tzXS5vYmoubmFtZStcIiAoXCIrdGhpcy50b3VjaGVzW3NdLm9iai5pZCtcIikuIFJlbW92ZWQgdGhlIHRhcmdldC5cIiksdC5kZWJ1ZyhcImVwcyA9IFwiK2crXCIsIHRvdWNoTWF4ID0gXCIrci5wcmVjaXNpb24udG91Y2hNYXgpLG0uc3BsaWNlKHMsMSkpfWZvcihzPTA7czxiLmxlbmd0aDtzKyspaWYoIWJbc10uanhnX2lzdXNlZCl7aWYobz10aGlzLmdldE1vdXNlUG9zaXRpb24oaSxzKSx0aGlzLnNlbGVjdGluZ01vZGUpcmV0dXJuIHRoaXMuX3N0YXJ0U2VsZWN0aW5nKG8pLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2hzdGFydHNlbGVjdGluZ1wiLFwic3RhcnRzZWxlY3RpbmdcIl0sW2ldKSxpLnByZXZlbnREZWZhdWx0KCksaS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50PXRoaXMub3B0aW9ucy5wcmVjaXNpb24ubW91c2UsdGhpcy50b3VjaGVzLmxlbmd0aD4wO2lmKDAhPT0obj10aGlzLmluaXRNb3ZlT2JqZWN0KG9bMF0sb1sxXSxpLFwidG91Y2hcIikpLmxlbmd0aClpZihsPW5bbi5sZW5ndGgtMV0sZj17bnVtOnMsWDpiW3NdLnNjcmVlblgsWTpiW3NdLnNjcmVlblksWHByZXY6TmFOLFlwcmV2Ok5hTixYc3RhcnQ6W10sWXN0YXJ0OltdLFpzdGFydDpbXX0sZC5pc1BvaW50KGwpfHxsLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX1RFWFR8fGwudHlwZT09PWUuT0JKRUNUX1RZUEVfVElDS1N8fGwudHlwZT09PWUuT0JKRUNUX1RZUEVfSU1BR0UpdT1bZl0sdGhpcy5zYXZlU3RhcnRQb3MobCx1WzBdKSx0aGlzLnRvdWNoZXMucHVzaCh7b2JqOmwsdGFyZ2V0czp1fSksbC5oaWdobGlnaHQoITApO2Vsc2UgaWYobC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FfHxsLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NJUkNMRXx8bC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRXx8bC50eXBlPT09ZS5PQkpFQ1RfVFlQRV9QT0xZR09OKXtmb3IoYz0hMSxhPTA7YTx0aGlzLnRvdWNoZXMubGVuZ3RoO2ErKylsLmlkPT09dGhpcy50b3VjaGVzW2FdLm9iai5pZCYmKGM9ITAsMT09PXRoaXMudG91Y2hlc1thXS50YXJnZXRzLmxlbmd0aCYmKHRoaXMuc2F2ZVN0YXJ0UG9zKGwsZiksdGhpcy50b3VjaGVzW2FdLnRhcmdldHMucHVzaChmKSksYltzXS5qeGdfaXN1c2VkPSEwKTtjfHwodT1bZl0sdGhpcy5zYXZlU3RhcnRQb3MobCx1WzBdKSx0aGlzLnRvdWNoZXMucHVzaCh7b2JqOmwsdGFyZ2V0czp1fSksbC5oaWdobGlnaHQoITApKX1iW3NdLmp4Z19pc3VzZWQ9ITB9cmV0dXJuIHRoaXMudG91Y2hlcy5sZW5ndGg+MCYmKGkucHJldmVudERlZmF1bHQoKSxpLnN0b3BQcm9wYWdhdGlvbigpKSwxPT09Yi5sZW5ndGgmJnRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9OT05FJiZ0aGlzLnRvdWNoU3RhcnRNb3ZlT3JpZ2luT25lRmluZ2VyKGkpfHwyIT09Yi5sZW5ndGh8fHRoaXMubW9kZSE9PXRoaXMuQk9BUkRfTU9ERV9OT05FJiZ0aGlzLm1vZGUhPT10aGlzLkJPQVJEX01PREVfTU9WRV9PUklHSU58fCh0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTU9WRV9PUklHSU4mJnRoaXMub3JpZ2luTW92ZUVuZCgpLHRoaXMuZ2VzdHVyZVN0YXJ0TGlzdGVuZXIoaSkpLHRoaXMub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQ9dGhpcy5vcHRpb25zLnByZWNpc2lvbi5tb3VzZSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNoc3RhcnRcIixcImRvd25cIl0sW2ldKSwhMX0sdG91Y2hNb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oZSl7dmFyIGkscixzLG8sbj1lW3QudG91Y2hQcm9wZXJ0eV07aWYoIXRoaXMuY2hlY2tGcmFtZVJhdGUoZSkpcmV0dXJuITE7aWYodGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX05PTkUmJihlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSksdGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX0RSQUcmJih0aGlzLmRlaGlnaGxpZ2h0QWxsKCksdGhpcy5kaXNwbGF5SW5mb2JveCghMSkpLHRoaXMuX2lucHV0RGV2aWNlPVwidG91Y2hcIix0aGlzLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50PXRoaXMub3B0aW9ucy5wcmVjaXNpb24udG91Y2gsdGhpcy51cGRhdGVRdWFsaXR5PXRoaXMuQk9BUkRfUVVBTElUWV9MT1csdGhpcy5zZWxlY3RpbmdNb2RlKXtmb3IoaT0wO2k8bi5sZW5ndGg7aSsrKWlmKCFuW2ldLmp4Z19pc3VzZWQpe3I9dGhpcy5nZXRNb3VzZVBvc2l0aW9uKGUsaSksdGhpcy5fbW92ZVNlbGVjdGluZyhyKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNobW92ZXNcIixcIm1vdmVzZWxlY3RpbmdcIl0sW2UsdGhpcy5tb2RlXSk7YnJlYWt9fWVsc2UgaWYoIXRoaXMudG91Y2hPcmlnaW5Nb3ZlKGUpKWlmKHRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9EUkFHKXtmb3IoaT0wO2k8dGhpcy50b3VjaGVzLmxlbmd0aDtpKyspaWYoMT09PShvPXRoaXMudG91Y2hlc1tpXS50YXJnZXRzKS5sZW5ndGgpe2lmKG5bb1swXS5udW1dKXtpZigocj10aGlzLmdldE1vdXNlUG9zaXRpb24oZSxvWzBdLm51bSkpWzBdPDB8fHJbMF0+dGhpcy5jYW52YXNXaWR0aHx8clsxXTwwfHxyWzFdPnRoaXMuY2FudmFzSGVpZ2h0KXJldHVybjtvWzBdLlg9clswXSxvWzBdLlk9clsxXSx0aGlzLm1vdmVPYmplY3QoclswXSxyWzFdLHRoaXMudG91Y2hlc1tpXSxlLFwidG91Y2hcIil9fWVsc2UgaWYoMj09PW8ubGVuZ3RoJiZvWzBdLm51bT4tMSYmb1sxXS5udW0+LTEmJm5bb1swXS5udW1dJiZuW29bMV0ubnVtXSl7aWYocj10aGlzLmdldE1vdXNlUG9zaXRpb24oZSxvWzBdLm51bSkscz10aGlzLmdldE1vdXNlUG9zaXRpb24oZSxvWzFdLm51bSksclswXTwwfHxyWzBdPnRoaXMuY2FudmFzV2lkdGh8fHJbMV08MHx8clsxXT50aGlzLmNhbnZhc0hlaWdodHx8c1swXTwwfHxzWzBdPnRoaXMuY2FudmFzV2lkdGh8fHNbMV08MHx8c1sxXT50aGlzLmNhbnZhc0hlaWdodClyZXR1cm47b1swXS5YPXJbMF0sb1swXS5ZPXJbMV0sb1sxXS5YPXNbMF0sb1sxXS5ZPXNbMV0sdGhpcy50d29GaW5nZXJNb3ZlKHRoaXMudG91Y2hlc1tpXSxvWzBdLm51bSxlKSx0aGlzLnR3b0Zpbmdlck1vdmUodGhpcy50b3VjaGVzW2ldLG9bMV0ubnVtKSxvWzBdLlhwcmV2PXJbMF0sb1swXS5ZcHJldj1yWzFdLG9bMV0uWHByZXY9c1swXSxvWzFdLllwcmV2PXNbMV19fWVsc2UgMj09PW4ubGVuZ3RoJiZ0aGlzLmdlc3R1cmVDaGFuZ2VMaXN0ZW5lcihlKSxyPXRoaXMuZ2V0TW91c2VQb3NpdGlvbihlLDApLHRoaXMuaGlnaGxpZ2h0RWxlbWVudHMoclswXSxyWzFdLGUsLTEpO3JldHVybiB0aGlzLm1vZGUhPT10aGlzLkJPQVJEX01PREVfRFJBRyYmdGhpcy5kaXNwbGF5SW5mb2JveCghMSksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ0b3VjaG1vdmVcIixcIm1vdmVcIl0sW2UsdGhpcy5tb2RlXSksdGhpcy5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludD10aGlzLm9wdGlvbnMucHJlY2lzaW9uLm1vdXNlLHRoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfSElHSCx0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTk9ORX0sdG91Y2hFbmRMaXN0ZW5lcjpmdW5jdGlvbihpKXt2YXIgcixzLG8sbixhLGgsbD10aGlzLm9wdGlvbnMucHJlY2lzaW9uLnRvdWNoLGM9W10sdT1pJiZpW3QudG91Y2hQcm9wZXJ0eV07aWYodGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ0b3VjaGVuZFwiLFwidXBcIl0sW2ldKSx0aGlzLmRpc3BsYXlJbmZvYm94KCExKSx0aGlzLnNlbGVjdGluZ01vZGUpdGhpcy5fc3RvcFNlbGVjdGluZyhpKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNoc3RvcHNlbGVjdGluZ1wiLFwic3RvcHNlbGVjdGluZ1wiXSxbaV0pLHRoaXMuc3RvcFNlbGVjdGlvbk1vZGUoKTtlbHNlIGlmKHUmJnUubGVuZ3RoPjApe2ZvcihyPTA7cjx0aGlzLnRvdWNoZXMubGVuZ3RoO3IrKyljW3JdPXRoaXMudG91Y2hlc1tyXTtmb3IodGhpcy50b3VjaGVzLmxlbmd0aD0wLHI9MDtyPHUubGVuZ3RoO3IrKyl1W3JdLmp4Z19pc3VzZWQ9ITE7Zm9yKHI9MDtyPGMubGVuZ3RoO3IrKyl7Zm9yKG49ITEsYT0wLGg9Y1tyXS50YXJnZXRzLHM9MDtzPGgubGVuZ3RoO3MrKylmb3IoaFtzXS5mb3VuZD0hMSxvPTA7bzx1Lmxlbmd0aDtvKyspaWYoTWF0aC5hYnMoTWF0aC5wb3codVtvXS5zY3JlZW5YLWhbc10uWCwyKStNYXRoLnBvdyh1W29dLnNjcmVlblktaFtzXS5ZLDIpKTxsKmwpe2hbc10uZm91bmQ9ITAsaFtzXS5udW09byxoW3NdLlg9dVtvXS5zY3JlZW5YLGhbc10uWT11W29dLnNjcmVlblksYSs9MTticmVha31pZihkLmlzUG9pbnQoY1tyXS5vYmopP249aFswXSYmaFswXS5mb3VuZDpjW3JdLm9iai5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FP249aFswXSYmaFswXS5mb3VuZHx8aFsxXSYmaFsxXS5mb3VuZDpjW3JdLm9iai5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DSVJDTEUmJihuPTE9PT1hfHwzPT09YSksbilmb3IodGhpcy50b3VjaGVzLnB1c2goe29iajpjW3JdLm9iaix0YXJnZXRzOltdfSkscz0wO3M8aC5sZW5ndGg7cysrKWhbc10uZm91bmQmJnRoaXMudG91Y2hlc1t0aGlzLnRvdWNoZXMubGVuZ3RoLTFdLnRhcmdldHMucHVzaCh7bnVtOmhbc10ubnVtLFg6aFtzXS5zY3JlZW5YLFk6aFtzXS5zY3JlZW5ZLFhwcmV2Ok5hTixZcHJldjpOYU4sWHN0YXJ0Omhbc10uWHN0YXJ0LFlzdGFydDpoW3NdLllzdGFydCxac3RhcnQ6aFtzXS5ac3RhcnR9KTtlbHNlIGNbcl0ub2JqLm5vSGlnaGxpZ2h0KCl9fWVsc2UgdGhpcy50b3VjaGVzLmxlbmd0aD0wO2ZvcihyPXRoaXMuZG93bk9iamVjdHMubGVuZ3RoLTE7cj4tMTtyLS0pe2ZvcihuPSExLHM9MDtzPHRoaXMudG91Y2hlcy5sZW5ndGg7cysrKXRoaXMudG91Y2hlc1tzXS5vYmouaWQ9PT10aGlzLmRvd25PYmplY3RzW3JdLmlkJiYobj0hMCk7bnx8KHRoaXMuZG93bk9iamVjdHNbcl0udHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2h1cFwiLFwidXBcIl0sW2ldKSx0aGlzLmRvd25PYmplY3RzLnNwbGljZShyLDEpKX1yZXR1cm4gdSYmMCE9PXUubGVuZ3RofHwodGhpcy5oYXNUb3VjaEVuZCYmKHAucmVtb3ZlRXZlbnQodGhpcy5kb2N1bWVudCxcInRvdWNoZW5kXCIsdGhpcy50b3VjaEVuZExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzVG91Y2hFbmQ9ITEpLHRoaXMuZGVoaWdobGlnaHRBbGwoKSx0aGlzLnVwZGF0ZVF1YWxpdHk9dGhpcy5CT0FSRF9RVUFMSVRZX0hJR0gsdGhpcy5vcmlnaW5Nb3ZlRW5kKCksdGhpcy51cGRhdGUoKSksITB9LG1vdXNlRG93bkxpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtpZih0aGlzLmRvY3VtZW50LnNlbGVjdGlvbiYmZC5pc0Z1bmN0aW9uKHRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KT90aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpOndpbmRvdy5nZXRTZWxlY3Rpb24mJndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKSwhdGhpcy5oYXNNb3VzZVVwKXJldHVybiBwLmFkZEV2ZW50KHRoaXMuZG9jdW1lbnQsXCJtb3VzZXVwXCIsdGhpcy5tb3VzZVVwTGlzdGVuZXIsdGhpcyksdGhpcy5oYXNNb3VzZVVwPSEwLHRoaXMuX2lucHV0RGV2aWNlPVwibW91c2VcIix0aGlzLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50PXRoaXMub3B0aW9ucy5wcmVjaXNpb24ubW91c2UsZT10aGlzLmdldE1vdXNlUG9zaXRpb24odCksdGhpcy5fdGVzdEZvclNlbGVjdGlvbih0KSx0aGlzLnNlbGVjdGluZ01vZGU/KHRoaXMuX3N0YXJ0U2VsZWN0aW5nKGUpLHZvaWQgdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZXN0YXJ0c2VsZWN0aW5nXCIsXCJzdGFydHNlbGVjdGluZ1wiXSxbdF0pKTooMD09PShpPXRoaXMuaW5pdE1vdmVPYmplY3QoZVswXSxlWzFdLHQsXCJtb3VzZVwiKSkubGVuZ3RoPyh0aGlzLm1vZGU9dGhpcy5CT0FSRF9NT0RFX05PTkUscj0hMCk6KHRoaXMubW91c2U9e29iajpudWxsLHRhcmdldHM6W3tYOmVbMF0sWTplWzFdLFhwcmV2Ok5hTixZcHJldjpOYU59XX0sdGhpcy5tb3VzZS5vYmo9aVtpLmxlbmd0aC0xXSx0aGlzLmRlaGlnaGxpZ2h0QWxsKCksdGhpcy5tb3VzZS5vYmouaGlnaGxpZ2h0KCEwKSx0aGlzLm1vdXNlLnRhcmdldHNbMF0uWHN0YXJ0PVtdLHRoaXMubW91c2UudGFyZ2V0c1swXS5Zc3RhcnQ9W10sdGhpcy5tb3VzZS50YXJnZXRzWzBdLlpzdGFydD1bXSx0aGlzLnNhdmVTdGFydFBvcyh0aGlzLm1vdXNlLm9iaix0aGlzLm1vdXNlLnRhcmdldHNbMF0pLHQmJnQucHJldmVudERlZmF1bHQ/dC5wcmV2ZW50RGVmYXVsdCgpOndpbmRvdy5ldmVudCYmKHdpbmRvdy5ldmVudC5yZXR1cm5WYWx1ZT0hMSkpLHRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9OT05FJiYocj10aGlzLm1vdXNlT3JpZ2luTW92ZVN0YXJ0KHQpKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNlZG93blwiLFwiZG93blwiXSxbdF0pLHIpfSxtb3VzZU1vdmVMaXN0ZW5lcjpmdW5jdGlvbih0KXt2YXIgZTtpZighdGhpcy5jaGVja0ZyYW1lUmF0ZSh0KSlyZXR1cm4hMTtlPXRoaXMuZ2V0TW91c2VQb3NpdGlvbih0KSx0aGlzLnVwZGF0ZVF1YWxpdHk9dGhpcy5CT0FSRF9RVUFMSVRZX0xPVyx0aGlzLm1vZGUhPT10aGlzLkJPQVJEX01PREVfRFJBRyYmKHRoaXMuZGVoaWdobGlnaHRBbGwoKSx0aGlzLmRpc3BsYXlJbmZvYm94KCExKSksdGhpcy5zZWxlY3RpbmdNb2RlPyh0aGlzLl9tb3ZlU2VsZWN0aW5nKGUpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wibW91c2Vtb3Zlc2VsZWN0aW5nXCIsXCJtb3Zlc2VsZWN0aW5nXCJdLFt0LHRoaXMubW9kZV0pKTp0aGlzLm1vdXNlT3JpZ2luTW92ZSh0KXx8KHRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9EUkFHP3RoaXMubW92ZU9iamVjdChlWzBdLGVbMV0sdGhpcy5tb3VzZSx0LFwibW91c2VcIik6dGhpcy5oaWdobGlnaHRFbGVtZW50cyhlWzBdLGVbMV0sdCwtMSksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZW1vdmVcIixcIm1vdmVcIl0sW3QsdGhpcy5tb2RlXSkpLHRoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfSElHSH0sbW91c2VVcExpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCExPT09dGhpcy5zZWxlY3RpbmdNb2RlJiZ0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNldXBcIixcInVwXCJdLFt0XSksdGhpcy51cGRhdGVRdWFsaXR5PXRoaXMuQk9BUkRfUVVBTElUWV9ISUdILHRoaXMub3JpZ2luTW92ZUVuZCgpLHRoaXMuZGVoaWdobGlnaHRBbGwoKSx0aGlzLnVwZGF0ZSgpLHRoaXMuc2VsZWN0aW5nTW9kZSl0aGlzLl9zdG9wU2VsZWN0aW5nKHQpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wibW91c2VzdG9wc2VsZWN0aW5nXCIsXCJzdG9wc2VsZWN0aW5nXCJdLFt0XSksdGhpcy5zdG9wU2VsZWN0aW9uTW9kZSgpO2Vsc2UgZm9yKGU9MDtlPHRoaXMuZG93bk9iamVjdHMubGVuZ3RoO2UrKyl0aGlzLmRvd25PYmplY3RzW2VdLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNldXBcIixcInVwXCJdLFt0XSk7dGhpcy5kb3duT2JqZWN0cy5sZW5ndGg9MCx0aGlzLmhhc01vdXNlVXAmJihwLnJlbW92ZUV2ZW50KHRoaXMuZG9jdW1lbnQsXCJtb3VzZXVwXCIsdGhpcy5tb3VzZVVwTGlzdGVuZXIsdGhpcyksdGhpcy5oYXNNb3VzZVVwPSExKSx0aGlzLm1vdXNlPW51bGx9LG1vdXNlV2hlZWxMaXN0ZW5lcjpmdW5jdGlvbih0KXtpZighdGhpcy5hdHRyLnpvb20ud2hlZWx8fCF0aGlzLl9pc1JlcXVpcmVkS2V5UHJlc3NlZCh0LFwiem9vbVwiKSlyZXR1cm4hMDt2YXIgcj0odD10fHx3aW5kb3cuZXZlbnQpLmRldGFpbD8tdC5kZXRhaWw6dC53aGVlbERlbHRhLzQwLHM9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLHRoaXMuZ2V0TW91c2VQb3NpdGlvbih0KSx0aGlzKTtyZXR1cm4gcj4wP3RoaXMuem9vbUluKHMudXNyQ29vcmRzWzFdLHMudXNyQ29vcmRzWzJdKTp0aGlzLnpvb21PdXQocy51c3JDb29yZHNbMV0scy51c3JDb29yZHNbMl0pLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wibW91c2V3aGVlbFwiXSxbdF0pLHQucHJldmVudERlZmF1bHQoKSwhMX0sa2V5RG93bkxpc3RlbmVyOmZ1bmN0aW9uKGkpe3ZhciByLHMsbyxuLGEsaD1pLnRhcmdldC5pZCxsPTAsYz0wLHU9ZC5ldmFsdWF0ZSh0aGlzLmF0dHIua2V5Ym9hcmQuZHgpL3RoaXMudW5pdFgscD1kLmV2YWx1YXRlKHRoaXMuYXR0ci5rZXlib2FyZC5keSkvdGhpcy51bml0WSxmPSExLG09ITA7cmV0dXJuISghdGhpcy5hdHRyLmtleWJvYXJkLmVuYWJsZWR8fFwiXCI9PT1oKSYmKHI9aC5yZXBsYWNlKHRoaXMuY29udGFpbmVyT2JqLmlkK1wiX1wiLFwiXCIpLHM9dGhpcy5zZWxlY3QociksZC5leGlzdHMocy5jb29yZHMpJiYoYT1zLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMSkpLChkLmV2YWx1YXRlKHRoaXMuYXR0ci5rZXlib2FyZC5wYW5zaGlmdCl8fGQuZXZhbHVhdGUodGhpcy5hdHRyLmtleWJvYXJkLnBhbmN0cmwpKSYmKGY9ITApLGQuZXZhbHVhdGUodGhpcy5hdHRyLmtleWJvYXJkLnBhbnNoaWZ0KSYmaS5zaGlmdEtleXx8ZC5ldmFsdWF0ZSh0aGlzLmF0dHIua2V5Ym9hcmQucGFuY3RybCkmJmkuY3RybEtleT8zOD09PWkua2V5Q29kZT90aGlzLmNsaWNrVXBBcnJvdygpOjQwPT09aS5rZXlDb2RlP3RoaXMuY2xpY2tEb3duQXJyb3coKTozNz09PWkua2V5Q29kZT90aGlzLmNsaWNrTGVmdEFycm93KCk6Mzk9PT1pLmtleUNvZGU/dGhpcy5jbGlja1JpZ2h0QXJyb3coKTptPSExOihkLmV4aXN0cyhzLnZpc1Byb3ApJiYoZC5leGlzdHMocy52aXNQcm9wLnNuYXB0b2dyaWQpJiZzLnZpc1Byb3Auc25hcHRvZ3JpZCYmZC5ldmFsdWF0ZShzLnZpc1Byb3Auc25hcHNpemV4KSYmZC5ldmFsdWF0ZShzLnZpc1Byb3Auc25hcHNpemV5KT8obD0obz1zLmdldFNuYXBTaXplcygpKVswXSxjPW9bMV0sdT1NYXRoLm1heChsLHUpLHA9TWF0aC5tYXgoYyxwKSk6ZC5leGlzdHMocy52aXNQcm9wLmF0dHJhY3R0b2dyaWQpJiZzLnZpc1Byb3AuYXR0cmFjdHRvZ3JpZCYmZC5ldmFsdWF0ZShzLnZpc1Byb3AuYXR0cmFjdG9yZGlzdGFuY2UpJiZkLmV2YWx1YXRlKHMudmlzUHJvcC5hdHRyYWN0b3J1bml0KSYmKGM9bD0xLjEqZC5ldmFsdWF0ZShzLnZpc1Byb3AuYXR0cmFjdG9yZGlzdGFuY2UpLFwic2NyZWVuXCI9PT1kLmV2YWx1YXRlKHMudmlzUHJvcC5hdHRyYWN0b3J1bml0KSYmKGwvPXRoaXMudW5pdFgsYy89dGhpcy51bml0WCksdT1NYXRoLm1heChsLHUpLHA9TWF0aC5tYXgoYyxwKSkpLDM4PT09aS5rZXlDb2RlP249WzAscF06NDA9PT1pLmtleUNvZGU/bj1bMCwtcF06Mzc9PT1pLmtleUNvZGU/bj1bLXUsMF06Mzk9PT1pLmtleUNvZGU/bj1bdSwwXTpmJiZcIitcIj09PWkua2V5P3RoaXMuem9vbUluKCk6ZiYmXCItXCI9PT1pLmtleT90aGlzLnpvb21PdXQoKTpmJiZcIm9cIj09PWkua2V5P3RoaXMuem9vbTEwMCgpOm09ITEsbiYmcy5pc0RyYWdnYWJsZSYmcy52aXNQcm9wQ2FsYy52aXNpYmxlJiYodGhpcy5nZW9uZXh0Q29tcGF0aWJpbGl0eU1vZGUmJihkLmlzUG9pbnQocyl8fHMuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfVEVYVCl8fCF0aGlzLmdlb25leHRDb21wYXRpYmlsaXR5TW9kZSkmJiFkLmV2YWx1YXRlKHMudmlzUHJvcC5maXhlZCkmJihkLmV4aXN0cyhzLmNvb3JkcykmJihuWzBdKz1hWzBdLG5bMV0rPWFbMV0pLHMuc2V0UG9zaXRpb24odC5DT09SRFNfQllfVVNFUixuKSxkLmV4aXN0cyhzLmNvb3JkcykmJnRoaXMudXBkYXRlSW5mb2JveChzKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcImhpdFwiXSxbaSxzXSkpKSx0aGlzLnVwZGF0ZSgpLG0mJmQuZXhpc3RzKGkucHJldmVudERlZmF1bHQpJiZpLnByZXZlbnREZWZhdWx0KCksITApfSxrZXlGb2N1c0luTGlzdGVuZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxyPXQudGFyZ2V0LmlkO2lmKCF0aGlzLmF0dHIua2V5Ym9hcmQuZW5hYmxlZHx8XCJcIj09PXIpcmV0dXJuITE7ZT1yLnJlcGxhY2UodGhpcy5jb250YWluZXJPYmouaWQrXCJfXCIsXCJcIiksaT10aGlzLnNlbGVjdChlKSxkLmV4aXN0cyhpLmhpZ2hsaWdodCkmJmkuaGlnaGxpZ2h0KCEwKSxkLmV4aXN0cyhpLmNvb3JkcykmJnRoaXMudXBkYXRlSW5mb2JveChpKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcImhpdFwiXSxbdCxpXSl9LGtleUZvY3VzT3V0TGlzdGVuZXI6ZnVuY3Rpb24odCl7aWYoIXRoaXMuYXR0ci5rZXlib2FyZC5lbmFibGVkKXJldHVybiExO3RoaXMuZGVoaWdobGlnaHRBbGwoKSx0aGlzLmRpc3BsYXlJbmZvYm94KCExKX0sdXBkYXRlQ29udGFpbmVyRGltczpmdW5jdGlvbigpe3ZhciB0LGUsaSxyO3Q9KGk9dGhpcy5jb250YWluZXJPYmouZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLndpZHRoLGU9aS5oZWlnaHQsd2luZG93JiZ3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSYmKHI9d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXJPYmosbnVsbCksdC09cGFyc2VGbG9hdChyLmdldFByb3BlcnR5VmFsdWUoXCJib3JkZXItbGVmdC13aWR0aFwiKSkrcGFyc2VGbG9hdChyLmdldFByb3BlcnR5VmFsdWUoXCJib3JkZXItcmlnaHQtd2lkdGhcIikpLGUtPXBhcnNlRmxvYXQoci5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLXRvcC13aWR0aFwiKSkrcGFyc2VGbG9hdChyLmdldFByb3BlcnR5VmFsdWUoXCJib3JkZXItYm90dG9tLXdpZHRoXCIpKSksdDw9MHx8ZTw9MHx8ZC5pc05hTih0KXx8ZC5pc05hTihlKXx8KGlzTmFOKHRoaXMuZ2V0Qm91bmRpbmdCb3goKVswXSkmJnRoaXMuc2V0Qm91bmRpbmdCb3godGhpcy5hdHRyLmJvdW5kaW5nYm94LHRoaXMua2VlcGFzcGVjdHJhdGlvLFwia2VlcFwiKSxkLmV4aXN0cyh0aGlzLl9wcmV2RGltKSYmdGhpcy5fcHJldkRpbS53PT09dCYmdGhpcy5fcHJldkRpbS5oPT09ZXx8KHRoaXMucmVzaXplQ29udGFpbmVyKHQsZSwhMCksdGhpcy5fcHJldkRpbT17dzp0LGg6ZX0pKX0sc3RhcnRSZXNpemVPYnNlcnZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cC5pc0Jyb3dzZXImJnRoaXMuYXR0ci5yZXNpemUmJnRoaXMuYXR0ci5yZXNpemUuZW5hYmxlZCYmKHRoaXMucmVzaXplT2JzZXJ2ZXI9bmV3IFJlc2l6ZU9ic2VydmVyKChmdW5jdGlvbihlKXt0Ll9pc1Jlc2l6aW5nfHwodC5faXNSZXNpemluZz0hMCx3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0cnl7dC51cGRhdGVDb250YWluZXJEaW1zKCl9Y2F0Y2goZSl7dC5zdG9wUmVzaXplT2JzZXJ2ZXIoKX1maW5hbGx5e3QuX2lzUmVzaXppbmc9ITF9fSksdC5hdHRyLnJlc2l6ZS50aHJvdHRsZSkpfSkpLHRoaXMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmNvbnRhaW5lck9iaikpfSxzdG9wUmVzaXplT2JzZXJ2ZXI6ZnVuY3Rpb24oKXtwLmlzQnJvd3NlciYmdGhpcy5hdHRyLnJlc2l6ZSYmdGhpcy5hdHRyLnJlc2l6ZS5lbmFibGVkJiZkLmV4aXN0cyh0aGlzLnJlc2l6ZU9ic2VydmVyKSYmdGhpcy5yZXNpemVPYnNlcnZlci51bm9ic2VydmUodGhpcy5jb250YWluZXJPYmopfSxyZXNpemVMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cC5pc0Jyb3dzZXImJnRoaXMuYXR0ci5yZXNpemUmJnRoaXMuYXR0ci5yZXNpemUuZW5hYmxlZCYmKHRoaXMuX2lzU2Nyb2xsaW5nfHx0aGlzLl9pc1Jlc2l6aW5nfHwodGhpcy5faXNSZXNpemluZz0hMCx3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LnVwZGF0ZUNvbnRhaW5lckRpbXMoKSx0Ll9pc1Jlc2l6aW5nPSExfSksdGhpcy5hdHRyLnJlc2l6ZS50aHJvdHRsZSkpKX0sc2Nyb2xsTGlzdGVuZXI6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztwLmlzQnJvd3NlciYmKHRoaXMuX2lzU2Nyb2xsaW5nfHwodGhpcy5faXNTY3JvbGxpbmc9ITAsd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5faXNTY3JvbGxpbmc9ITF9KSw2NikpKX0sc3RhcnRJbnRlcnNlY3Rpb25PYnNlcnZlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dHJ5e3RoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXI9bmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChmdW5jdGlvbihlKXtpc05hTih0LmdldEJvdW5kaW5nQm94KClbMF0pJiZ0LnVwZGF0ZUNvbnRhaW5lckRpbXMoKX0pLHtyb290Om51bGwscm9vdE1hcmdpbjpcIjBweFwiLHRocmVzaG9sZDouOH0pLHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0LmNvbnRhaW5lck9iail9Y2F0Y2godCl7Y29uc29sZS5sb2coXCJKU1hHcmFwaDogSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGJyb3dzZXIuXCIpfX0sc3RvcEludGVyc2VjdGlvbk9ic2VydmVyOmZ1bmN0aW9uKCl7ZC5leGlzdHModGhpcy5pbnRlcnNlY3Rpb25PYnNlcnZlcikmJnRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuY29udGFpbmVyT2JqKX0saW5pdEluZm9ib3g6ZnVuY3Rpb24oKXt2YXIgdD1kLmNvcHlBdHRyaWJ1dGVzKHt9LHRoaXMub3B0aW9ucyxcImluZm9ib3hcIik7cmV0dXJuIHQuaWQ9dGhpcy5pZCtcIl9pbmZvYm94XCIsdGhpcy5pbmZvYm94PXRoaXMuY3JlYXRlKFwidGV4dFwiLFswLDAsXCIwLDBcIl0sdCksdGhpcy5pbmZvYm94LmRpc3RhbmNlWD0tMjAsdGhpcy5pbmZvYm94LmRpc3RhbmNlWT0yNSx0aGlzLmluZm9ib3guZHVtcD0hMSx0aGlzLmRpc3BsYXlJbmZvYm94KCExKSx0aGlzfSx1cGRhdGVJbmZvYm94OmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sbj1kLmV2YWx1YXRlKHQudmlzUHJvcC5zaG93aW5mb2JveCk7cmV0dXJuIWQuZXZhbHVhdGUodGhpcy5hdHRyLnNob3dpbmZvYm94KSYmXCJpbmhlcml0XCI9PT1ufHwhbnx8ZC5pc1BvaW50KHQpJiYocj10LmNvb3Jkcy51c3JDb29yZHNbMV0scz10LmNvb3Jkcy51c3JDb29yZHNbMl0sbz1kLmV2YWx1YXRlKHQudmlzUHJvcC5pbmZvYm94ZGlnaXRzKSx0aGlzLmluZm9ib3guc2V0Q29vcmRzKHIrdGhpcy5pbmZvYm94LmRpc3RhbmNlWC90aGlzLnVuaXRYLHMrdGhpcy5pbmZvYm94LmRpc3RhbmNlWS90aGlzLnVuaXRZKSxcInN0cmluZ1wiIT10eXBlb2YgdC5pbmZvYm94VGV4dD8oXCJhdXRvXCI9PT1vPyhlPWQuYXV0b0RpZ2l0cyhyKSxpPWQuYXV0b0RpZ2l0cyhzKSk6ZC5pc051bWJlcihvKT8oZT1kLnRvRml4ZWQocixvKSxpPWQudG9GaXhlZChzLG8pKTooZT1yLGk9cyksdGhpcy5oaWdobGlnaHRJbmZvYm94KGUsaSx0KSk6dGhpcy5oaWdobGlnaHRDdXN0b21JbmZvYm94KHQuaW5mb2JveFRleHQsdCksdGhpcy5kaXNwbGF5SW5mb2JveCghMCkpLHRoaXN9LGRpc3BsYXlJbmZvYm94OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluZm9ib3guaGlkZGVuQnlQYXJlbnQ9PT10JiYodGhpcy5pbmZvYm94LmhpZGRlbkJ5UGFyZW50PSF0LHRoaXMuaW5mb2JveC5wcmVwYXJlVXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eSh0KS51cGRhdGVSZW5kZXJlcigpKSx0aGlzfSxzaG93SW5mb2JveDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kaXNwbGF5SW5mb2JveCh0KX0saGlnaGxpZ2h0SW5mb2JveDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuaGlnaGxpZ2h0Q3VzdG9tSW5mb2JveChcIihcIit0K1wiLCBcIitlK1wiKVwiLGkpLHRoaXN9LGhpZ2hsaWdodEN1c3RvbUluZm9ib3g6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5pbmZvYm94LnNldFRleHQodCksdGhpc30sZGVoaWdobGlnaHRBbGw6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9ITE7Zm9yKHQgaW4gdGhpcy5oaWdobGlnaHRlZE9iamVjdHMpdGhpcy5oaWdobGlnaHRlZE9iamVjdHMuaGFzT3duUHJvcGVydHkodCkmJihlPXRoaXMuaGlnaGxpZ2h0ZWRPYmplY3RzW3RdLCh0aGlzLmhhc01vdXNlSGFuZGxlcnN8fHRoaXMuaGFzUG9pbnRlckhhbmRsZXJzKSYmZS5ub0hpZ2hsaWdodCgpLGk9ITApO3JldHVybiB0aGlzLmhpZ2hsaWdodGVkT2JqZWN0cz17fSxcImNhbnZhc1wiPT09dGhpcy5yZW5kZXJlci50eXBlJiZpJiYodGhpcy5wcmVwYXJlVXBkYXRlKCksdGhpcy5yZW5kZXJlci5zdXNwZW5kUmVkcmF3KHRoaXMpLHRoaXMudXBkYXRlUmVuZGVyZXIoKSx0aGlzLnJlbmRlcmVyLnVuc3VzcGVuZFJlZHJhdygpKSx0aGlzfSxnZXRTY3JDb29yZHNPZk1vdXNlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuW3QsZV19LGdldFVzckNvb3Jkc09mTW91c2U6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRDb29yZHNUb3BMZWZ0Q29ybmVyKCkscz1wLmdldFBvc2l0aW9uKHQsbnVsbCx0aGlzLmRvY3VtZW50KSxvPXNbMF0tclswXSxuPXNbMV0tclsxXTtyZXR1cm4gbmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFtvLG5dLHRoaXMpLnVzckNvb3Jkcy5zbGljZSgxKX0sZ2V0QWxsVW5kZXJNb3VzZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEFsbE9iamVjdHNVbmRlck1vdXNlKHQpO3JldHVybiBlLnB1c2godGhpcy5nZXRVc3JDb29yZHNPZk1vdXNlKHQpKSxlfSxnZXRBbGxPYmplY3RzVW5kZXJNb3VzZTpmdW5jdGlvbih0KXt2YXIgZSxpLHI9dGhpcy5nZXRDb29yZHNUb3BMZWZ0Q29ybmVyKCkscz1wLmdldFBvc2l0aW9uKHQsbnVsbCx0aGlzLmRvY3VtZW50KSxvPXNbMF0tclswXSxuPXNbMV0tclsxXSxhPVtdLGg9dGhpcy5vYmplY3RzTGlzdC5sZW5ndGg7Zm9yKGU9MDtlPGg7ZSsrKShpPXRoaXMub2JqZWN0c0xpc3RbZV0pLnZpc1Byb3BDYWxjLnZpc2libGUmJmkuaGFzUG9pbnQmJmkuaGFzUG9pbnQobyxuKSYmKGFbYS5sZW5ndGhdPWkpO3JldHVybiBhfSx1cGRhdGVDb29yZHM6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy5vYmplY3RzTGlzdC5sZW5ndGg7Zm9yKGU9MDtlPGk7ZSsrKXQ9dGhpcy5vYmplY3RzTGlzdFtlXSxkLmV4aXN0cyh0LmNvb3JkcykmJihkLmV2YWx1YXRlKHQudmlzUHJvcC5mcm96ZW4pP3QuY29vcmRzLnNjcmVlbjJ1c3IoKTp0LmNvb3Jkcy51c3Iyc2NyZWVuKCkpO3JldHVybiB0aGlzfSxtb3ZlT3JpZ2luOmZ1bmN0aW9uKHQscixzKXt2YXIgbyxuLGEsaDtyZXR1cm4gZC5leGlzdHModCkmJmQuZXhpc3RzKHIpJiYobz10aGlzLm9yaWdpbi5zY3JDb29yZHNbMV0sbj10aGlzLm9yaWdpbi5zY3JDb29yZHNbMl0sdGhpcy5vcmlnaW4uc2NyQ29vcmRzWzFdPXQsdGhpcy5vcmlnaW4uc2NyQ29vcmRzWzJdPXIscyYmKHRoaXMub3JpZ2luLnNjckNvb3Jkc1sxXS09dGhpcy5kcmFnX2R4LHRoaXMub3JpZ2luLnNjckNvb3Jkc1syXS09dGhpcy5kcmFnX2R5KSxhPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbMCwwXSx0aGlzKS51c3JDb29yZHMsaD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW3RoaXMuY2FudmFzV2lkdGgsdGhpcy5jYW52YXNIZWlnaHRdLHRoaXMpLnVzckNvb3JkcywoYVsxXTx0aGlzLm1heGJvdW5kaW5nYm94WzBdfHxhWzJdPnRoaXMubWF4Ym91bmRpbmdib3hbMV18fGhbMV0+dGhpcy5tYXhib3VuZGluZ2JveFsyXXx8aFsyXTx0aGlzLm1heGJvdW5kaW5nYm94WzNdKSYmKHRoaXMub3JpZ2luLnNjckNvb3Jkc1sxXT1vLHRoaXMub3JpZ2luLnNjckNvb3Jkc1syXT1uKSksdGhpcy51cGRhdGVDb29yZHMoKS5jbGVhclRyYWNlcygpLmZ1bGxVcGRhdGUoKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcImJvdW5kaW5nYm94XCJdKSx0aGlzfSxhZGRDb25kaXRpb25zOmZ1bmN0aW9uKGkpe3ZhciByLHMsbyxuLGEsaCxsLHU9W10scD1pLmluZGV4T2YoXCI8ZGF0YT5cIiksZj1pLmluZGV4T2YoXCI8L2RhdGE+XCIpLG09ZnVuY3Rpb24odCxpLHIscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG8sbjtuPShvPXQuc2VsZWN0KGkuaWQpKS5jb29yZHMudXNyQ29vcmRzW3NdLDI9PT1zP28uc2V0UG9zaXRpb25EaXJlY3RseShlLkNPT1JEU19CWV9VU0VSLFtyKCksbl0pOm8uc2V0UG9zaXRpb25EaXJlY3RseShlLkNPT1JEU19CWV9VU0VSLFtuLHIoKV0pLG8ucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpfX0sZz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIscztyPXQuc2VsZWN0KGUuaWQpLHM9aSgpLHIuc2V0QXR0cmlidXRlKHt2aXNpYmxlOnN9KX19LGI9ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHMsbztzPXQuc2VsZWN0KGUuaWQpLG89aSgpLFwic3Ryb2tld2lkdGhcIj09PXI/cy52aXNQcm9wLnN0cm9rZXdpZHRoPW86KG89Yy5yZ2JhMnJnYm8obykscy52aXNQcm9wW3IrXCJjb2xvclwiXT1vWzBdLHMudmlzUHJvcFtyK1wib3BhY2l0eVwiXT1vWzFdKX19LHY9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBmdW5jdGlvbigpe3Quc2VsZWN0KGUuaWQpLnBvc2l0aW9uPWkoKX19LHk9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBmdW5jdGlvbigpe3Quc2VsZWN0KGUuaWQpLnNldFN0eWxlKGkoKSl9fTtpZighKHA8MCkpe2Zvcig7cD49MDspe2lmKHM9KHI9aS5zbGljZShwKzYsZikpLmluZGV4T2YoXCI9XCIpLG89ci5zbGljZSgwLHMpLG49ci5zbGljZShzKzEpLHM9by5pbmRleE9mKFwiLlwiKSxhPW8uc2xpY2UoMCxzKSxoPXRoaXMuZWxlbWVudHNCeU5hbWVbZC51bmVzY2FwZUhUTUwoYSldLGw9by5zbGljZShzKzEpLnJlcGxhY2UoL1xccysvZyxcIlwiKS50b0xvd2VyQ2FzZSgpLG49ZC5jcmVhdGVGdW5jdGlvbihuLHRoaXMsXCJcIiwhMCksZC5leGlzdHModGhpcy5lbGVtZW50c0J5TmFtZVthXSkpc3dpdGNoKGwpe2Nhc2VcInhcIjp1LnB1c2gobSh0aGlzLGgsbiwyKSk7YnJlYWs7Y2FzZVwieVwiOnUucHVzaChtKHRoaXMsaCxuLDEpKTticmVhaztjYXNlXCJ2aXNpYmxlXCI6dS5wdXNoKGcodGhpcyxoLG4pKTticmVhaztjYXNlXCJwb3NpdGlvblwiOnUucHVzaCh2KHRoaXMsaCxuKSk7YnJlYWs7Y2FzZVwic3Ryb2tlXCI6dS5wdXNoKGIodGhpcyxoLG4sXCJzdHJva2VcIikpO2JyZWFrO2Nhc2VcInN0eWxlXCI6dS5wdXNoKHkodGhpcyxoLG4pKTticmVhaztjYXNlXCJzdHJva2V3aWR0aFwiOnUucHVzaChiKHRoaXMsaCxuLFwic3Ryb2tld2lkdGhcIikpO2JyZWFrO2Nhc2VcImZpbGxcIjp1LnB1c2goYih0aGlzLGgsbixcImZpbGxcIikpO2JyZWFrO2Nhc2VcImxhYmVsXCI6YnJlYWs7ZGVmYXVsdDp0LmRlYnVnKFwicHJvcGVydHkgJ1wiK2wrXCInIGluIGNvbmRpdGlvbnMgbm90IHlldCBpbXBsZW1lbnRlZDpcIituKX1lbHNlIHQuZGVidWcoXCJkZWJ1ZyBjb25kaXRpb25zOiB8XCIrYStcInwgdW5kZWZpbmVkXCIpO3A9KGk9aS5zbGljZShmKzcpKS5pbmRleE9mKFwiPGRhdGE+XCIpLGY9aS5pbmRleE9mKFwiPC9kYXRhPlwiKX10aGlzLnVwZGF0ZUNvbmRpdGlvbnM9ZnVuY3Rpb24oKXt2YXIgdDtmb3IodD0wO3Q8dS5sZW5ndGg7dCsrKXVbdF0oKTtyZXR1cm4gdGhpcy5wcmVwYXJlVXBkYXRlKCkudXBkYXRlRWxlbWVudHMoKSwhMH0sdGhpcy51cGRhdGVDb25kaXRpb25zKCl9fSx1cGRhdGVDb25kaXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGNhbGN1bGF0ZVNuYXBTaXplczpmdW5jdGlvbigpe3ZhciB0PW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdGhpcykscj1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFt0aGlzLm9wdGlvbnMuZ3JpZC5ncmlkWCx0aGlzLm9wdGlvbnMuZ3JpZC5ncmlkWV0sdGhpcykscz10LnNjckNvb3Jkc1sxXS1yLnNjckNvb3Jkc1sxXSxvPXQuc2NyQ29vcmRzWzJdLXIuc2NyQ29vcmRzWzJdO2Zvcih0aGlzLm9wdGlvbnMuZ3JpZC5zbmFwU2l6ZVg9dGhpcy5vcHRpb25zLmdyaWQuZ3JpZFg7TWF0aC5hYnMocyk+MjU7KXRoaXMub3B0aW9ucy5ncmlkLnNuYXBTaXplWCo9MixzLz0yO2Zvcih0aGlzLm9wdGlvbnMuZ3JpZC5zbmFwU2l6ZVk9dGhpcy5vcHRpb25zLmdyaWQuZ3JpZFk7TWF0aC5hYnMobyk+MjU7KXRoaXMub3B0aW9ucy5ncmlkLnNuYXBTaXplWSo9MixvLz0yO3JldHVybiB0aGlzfSxhcHBseVpvb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cGRhdGVDb29yZHMoKS5jYWxjdWxhdGVTbmFwU2l6ZXMoKS5jbGVhclRyYWNlcygpLmZ1bGxVcGRhdGUoKSx0aGlzfSx6b29tSW46ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEJvdW5kaW5nQm94KCkscj10aGlzLmF0dHIuem9vbS5mYWN0b3J4LHM9dGhpcy5hdHRyLnpvb20uZmFjdG9yeSxvPShpWzJdLWlbMF0pKigxLTEvciksbj0oaVsxXS1pWzNdKSooMS0xL3MpLGE9LjUsaD0uNSxsPXRoaXMuYXR0ci56b29tLmVwc3x8dGhpcy5hdHRyLnpvb20ubWlufHwuMDAxO3JldHVybiB0aGlzLnpvb21YPnRoaXMuYXR0ci56b29tLm1heCYmcj4xfHx0aGlzLnpvb21ZPnRoaXMuYXR0ci56b29tLm1heCYmcz4xfHx0aGlzLnpvb21YPGwmJnI8MXx8dGhpcy56b29tWTxsJiZzPDE/dGhpczooZC5pc051bWJlcih0KSYmZC5pc051bWJlcihlKSYmKGE9KHQtaVswXSkvKGlbMl0taVswXSksaD0oaVsxXS1lKS8oaVsxXS1pWzNdKSksdGhpcy5zZXRCb3VuZGluZ0JveChbaVswXStvKmEsaVsxXS1uKmgsaVsyXS1vKigxLWEpLGlbM10rbiooMS1oKV0sdGhpcy5rZWVwYXNwZWN0cmF0aW8sXCJ1cGRhdGVcIiksdGhpcy5hcHBseVpvb20oKSl9LHpvb21PdXQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmdldEJvdW5kaW5nQm94KCkscj10aGlzLmF0dHIuem9vbS5mYWN0b3J4LHM9dGhpcy5hdHRyLnpvb20uZmFjdG9yeSxvPShpWzJdLWlbMF0pKigxLXIpLG49KGlbMV0taVszXSkqKDEtcyksYT0uNSxoPS41LGw9dGhpcy5hdHRyLnpvb20uZXBzfHx0aGlzLmF0dHIuem9vbS5taW58fC4wMDE7cmV0dXJuIHRoaXMuem9vbVg8bHx8dGhpcy56b29tWTxsP3RoaXM6KGQuaXNOdW1iZXIodCkmJmQuaXNOdW1iZXIoZSkmJihhPSh0LWlbMF0pLyhpWzJdLWlbMF0pLGg9KGlbMV0tZSkvKGlbMV0taVszXSkpLHRoaXMuc2V0Qm91bmRpbmdCb3goW2lbMF0rbyphLGlbMV0tbipoLGlbMl0tbyooMS1hKSxpWzNdK24qKDEtaCldLHRoaXMua2VlcGFzcGVjdHJhdGlvLFwidXBkYXRlXCIpLHRoaXMuYXBwbHlab29tKCkpfSx6b29tMTAwOmZ1bmN0aW9uKCl7dmFyIHQsZSxpO3JldHVybiBkLmV4aXN0cyh0aGlzLmF0dHIuYm91bmRpbmdib3gpP3RoaXMuc2V0Qm91bmRpbmdCb3godGhpcy5hdHRyLmJvdW5kaW5nYm94LHRoaXMua2VlcGFzcGVjdHJhdGlvLFwicmVzZXRcIik6KGU9KCh0PXRoaXMuZ2V0Qm91bmRpbmdCb3goKSlbMl0tdFswXSkqKDEtdGhpcy56b29tWCkqLjUsaT0odFsxXS10WzNdKSooMS10aGlzLnpvb21ZKSouNSx0aGlzLnNldEJvdW5kaW5nQm94KFt0WzBdK2UsdFsxXS1pLHRbMl0tZSx0WzNdK2ldLHRoaXMua2VlcGFzcGVjdHJhdGlvLFwicmVzZXRcIikpLHRoaXMuYXBwbHlab29tKCl9LHpvb21BbGxQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzPTAsbz0wLG49MCxhPTAsaD10aGlzLm9iamVjdHNMaXN0Lmxlbmd0aDtmb3IodD0wO3Q8aDt0Kyspcj10aGlzLm9iamVjdHNMaXN0W3RdLGQuaXNQb2ludChyKSYmci52aXNQcm9wQ2FsYy52aXNpYmxlJiYoci5jb29yZHMudXNyQ29vcmRzWzFdPHM/cz1yLmNvb3Jkcy51c3JDb29yZHNbMV06ci5jb29yZHMudXNyQ29vcmRzWzFdPm8mJihvPXIuY29vcmRzLnVzckNvb3Jkc1sxXSksci5jb29yZHMudXNyQ29vcmRzWzJdPmE/YT1yLmNvb3Jkcy51c3JDb29yZHNbMl06ci5jb29yZHMudXNyQ29vcmRzWzJdPG4mJihuPXIuY29vcmRzLnVzckNvb3Jkc1syXSkpO3JldHVybiA1MCxlPTUwL3RoaXMudW5pdFgsaT01MC90aGlzLnVuaXRZLHRoaXMuc2V0Qm91bmRpbmdCb3goW3MtZSxhK2ksbytlLG4taV0sdGhpcy5rZWVwYXNwZWN0cmF0aW8sXCJ1cGRhdGVcIiksdGhpcy5hcHBseVpvb20oKX0sem9vbUVsZW1lbnRzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sbixhLGg9WzEvMCwtMS8wLC0xLzAsMS8wXTtpZighZC5pc0FycmF5KHQpfHwwPT09dC5sZW5ndGgpcmV0dXJuIHRoaXM7Zm9yKGU9MDtlPHQubGVuZ3RoO2UrKylpPXRoaXMuc2VsZWN0KHRbZV0pLmJvdW5kcygpLGQuaXNBcnJheShpKSYmKGlbMF08aFswXSYmKGhbMF09aVswXSksaVsxXT5oWzFdJiYoaFsxXT1pWzFdKSxpWzJdPmhbMl0mJihoWzJdPWlbMl0pLGlbM108aFszXSYmKGhbM109aVszXSkpO3JldHVybiBkLmlzQXJyYXkoaCkmJihyPS41KihoWzBdK2hbMl0pLHM9LjUqKGhbMV0raFszXSksbz0xLjUqKGhbMl0taFswXSkqLjUsbj0xLjUqKGhbMV0taFszXSkqLjUsYT1NYXRoLm1heChvLG4pLHRoaXMuc2V0Qm91bmRpbmdCb3goW3ItYSxzK2EscithLHMtYV0sdGhpcy5rZWVwYXNwZWN0cmF0aW8sXCJ1cGRhdGVcIikpLHRoaXN9LHNldFpvb206ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmF0dHIuem9vbS5mYWN0b3J4LHI9dGhpcy5hdHRyLnpvb20uZmFjdG9yeTtyZXR1cm4gdGhpcy5hdHRyLnpvb20uZmFjdG9yeD10L3RoaXMuem9vbVgsdGhpcy5hdHRyLnpvb20uZmFjdG9yeT1lL3RoaXMuem9vbVksdGhpcy56b29tSW4oKSx0aGlzLmF0dHIuem9vbS5mYWN0b3J4PWksdGhpcy5hdHRyLnpvb20uZmFjdG9yeT1yLHRoaXN9LHJlbW92ZU9iamVjdDpmdW5jdGlvbihpLHIpe3ZhciBzLG87aWYoZC5pc0FycmF5KGkpKXtmb3Iobz0wO288aS5sZW5ndGg7bysrKXRoaXMucmVtb3ZlT2JqZWN0KGlbb10pO3JldHVybiB0aGlzfWlmKGk9dGhpcy5zZWxlY3QoaSksIWQuZXhpc3RzKGkpfHxkLmlzU3RyaW5nKGkpKXJldHVybiB0aGlzO3RyeXtmb3IocyBpbiBpLmNoaWxkRWxlbWVudHMpaS5jaGlsZEVsZW1lbnRzLmhhc093blByb3BlcnR5KHMpJiZpLmNoaWxkRWxlbWVudHNbc10uYm9hcmQucmVtb3ZlT2JqZWN0KGkuY2hpbGRFbGVtZW50c1tzXSk7Zm9yKHMgaW4gaS5vYmplY3RzKWkub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShzKSYmaS5vYmplY3RzW3NdLmJvYXJkLnJlbW92ZU9iamVjdChpLm9iamVjdHNbc10pO2lmKHIpZm9yKHMgaW4gdGhpcy5vYmplY3RzKXRoaXMub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShzKSYmZC5leGlzdHModGhpcy5vYmplY3RzW3NdLmNoaWxkRWxlbWVudHMpJiZkLmV4aXN0cyh0aGlzLm9iamVjdHNbc10uY2hpbGRFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShpLmlkKSkmJihkZWxldGUgdGhpcy5vYmplY3RzW3NdLmNoaWxkRWxlbWVudHNbaS5pZF0sZGVsZXRlIHRoaXMub2JqZWN0c1tzXS5kZXNjZW5kYW50c1tpLmlkXSk7ZWxzZSBpZihkLmV4aXN0cyhpLmFuY2VzdG9ycykpZm9yKHMgaW4gaS5hbmNlc3RvcnMpaS5hbmNlc3RvcnMuaGFzT3duUHJvcGVydHkocykmJmQuZXhpc3RzKGkuYW5jZXN0b3JzW3NdLmNoaWxkRWxlbWVudHMpJiZkLmV4aXN0cyhpLmFuY2VzdG9yc1tzXS5jaGlsZEVsZW1lbnRzLmhhc093blByb3BlcnR5KGkuaWQpKSYmKGRlbGV0ZSBpLmFuY2VzdG9yc1tzXS5jaGlsZEVsZW1lbnRzW2kuaWRdLGRlbGV0ZSBpLmFuY2VzdG9yc1tzXS5kZXNjZW5kYW50c1tpLmlkXSk7aWYoaS5fcG9zPi0xKWZvcih0aGlzLm9iamVjdHNMaXN0LnNwbGljZShpLl9wb3MsMSkscz1pLl9wb3M7czx0aGlzLm9iamVjdHNMaXN0Lmxlbmd0aDtzKyspdGhpcy5vYmplY3RzTGlzdFtzXS5fcG9zLS07ZWxzZSBpLnR5cGUhPT1lLk9CSkVDVF9UWVBFX1RVUlRMRSYmdC5kZWJ1ZyhcIkJvYXJkLnJlbW92ZU9iamVjdDogb2JqZWN0IFwiK2kuaWQrXCIgbm90IGZvdW5kIGluIGxpc3QuXCIpO2RlbGV0ZSB0aGlzLm9iamVjdHNbaS5pZF0sZGVsZXRlIHRoaXMuZWxlbWVudHNCeU5hbWVbaS5uYW1lXSxpLnZpc1Byb3AmJmQuZXZhbHVhdGUoaS52aXNQcm9wLnRyYWNlKSYmaS5jbGVhclRyYWNlKCksZC5leGlzdHMoaS5yZW1vdmUpJiZpLnJlbW92ZSgpfWNhdGNoKGUpe3QuZGVidWcoaS5pZCtcIjogQ291bGQgbm90IGJlIHJlbW92ZWQ6IFwiK2UpfXJldHVybiB0aGlzLnVwZGF0ZSgpLHRoaXN9LHJlbW92ZUFuY2VzdG9yczpmdW5jdGlvbih0KXt2YXIgZTtmb3IoZSBpbiB0LmFuY2VzdG9ycyl0LmFuY2VzdG9ycy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5yZW1vdmVBbmNlc3RvcnModC5hbmNlc3RvcnNbZV0pO3JldHVybiB0aGlzLnJlbW92ZU9iamVjdCh0KSx0aGlzfSxpbml0R2VvbmV4dEJvYXJkOmZ1bmN0aW9uKCl7dmFyIHQsZSxpO3JldHVybiB0PXRoaXMuY3JlYXRlKFwicG9pbnRcIixbMCwwXSx7aWQ6dGhpcy5pZCtcImcwMGUwXCIsbmFtZTpcIlVyc3BydW5nXCIsd2l0aExhYmVsOiExLHZpc2libGU6ITEsZml4ZWQ6ITB9KSxlPXRoaXMuY3JlYXRlKFwicG9pbnRcIixbMSwwXSx7aWQ6dGhpcy5pZCtcImdYMGUwXCIsbmFtZTpcIlB1bmt0XzFfMFwiLHdpdGhMYWJlbDohMSx2aXNpYmxlOiExLGZpeGVkOiEwfSksaT10aGlzLmNyZWF0ZShcInBvaW50XCIsWzAsMV0se2lkOnRoaXMuaWQrXCJnWTBlMFwiLG5hbWU6XCJQdW5rdF8wXzFcIix3aXRoTGFiZWw6ITEsdmlzaWJsZTohMSxmaXhlZDohMH0pLHRoaXMuY3JlYXRlKFwibGluZVwiLFt0LGVdLHtpZDp0aGlzLmlkK1wiZ1hMZTBcIixuYW1lOlwiWC1BY2hzZVwiLHdpdGhMYWJlbDohMSx2aXNpYmxlOiExfSksdGhpcy5jcmVhdGUoXCJsaW5lXCIsW3QsaV0se2lkOnRoaXMuaWQrXCJnWUxlMFwiLG5hbWU6XCJZLUFjaHNlXCIsd2l0aExhYmVsOiExLHZpc2libGU6ITF9KSx0aGlzfSxyZXNpemVDb250YWluZXI6ZnVuY3Rpb24odCxlLGkscil7dmFyIHM7cmV0dXJuIHJ8fChzPXRoaXMuZ2V0Qm91bmRpbmdCb3goKSksdGhpcy5jYW52YXNXaWR0aD1wYXJzZUZsb2F0KHQpLHRoaXMuY2FudmFzSGVpZ2h0PXBhcnNlRmxvYXQoZSksaXx8KHRoaXMuY29udGFpbmVyT2JqLnN0eWxlLndpZHRoPXRoaXMuY2FudmFzV2lkdGgrXCJweFwiLHRoaXMuY29udGFpbmVyT2JqLnN0eWxlLmhlaWdodD10aGlzLmNhbnZhc0hlaWdodCtcInB4XCIpLHRoaXMucmVuZGVyZXIucmVzaXplKHRoaXMuY2FudmFzV2lkdGgsdGhpcy5jYW52YXNIZWlnaHQpLHJ8fHRoaXMuc2V0Qm91bmRpbmdCb3gocyx0aGlzLmtlZXBhc3BlY3RyYXRpbyxcImtlZXBcIiksdGhpc30sc2hvd0RlcGVuZGVuY2llczpmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHM7Zm9yKHQgaW4gZT1cIjxwPlxcblwiLHRoaXMub2JqZWN0cylpZih0aGlzLm9iamVjdHMuaGFzT3duUHJvcGVydHkodCkpe2ZvcihpIGluIHM9MCx0aGlzLm9iamVjdHNbdF0uY2hpbGRFbGVtZW50cyl0aGlzLm9iamVjdHNbdF0uY2hpbGRFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShpKSYmKHMrPTEpO2ZvcihpIGluIHM+PTAmJihlKz1cIjxzdHJvbmc+XCIrdGhpcy5vYmplY3RzW3RdLmlkK1wiOjwvc3Ryb25nPiBcIiksdGhpcy5vYmplY3RzW3RdLmNoaWxkRWxlbWVudHMpdGhpcy5vYmplY3RzW3RdLmNoaWxkRWxlbWVudHMuaGFzT3duUHJvcGVydHkoaSkmJihlKz10aGlzLm9iamVjdHNbdF0uY2hpbGRFbGVtZW50c1tpXS5pZCtcIihcIit0aGlzLm9iamVjdHNbdF0uY2hpbGRFbGVtZW50c1tpXS5uYW1lK1wiKSwgXCIpO2UrPVwiPHA+XFxuXCJ9cmV0dXJuIGUrPVwiPC9wPlxcblwiLChyPXdpbmRvdy5vcGVuKCkpLmRvY3VtZW50Lm9wZW4oKSxyLmRvY3VtZW50LndyaXRlKGUpLHIuZG9jdW1lbnQuY2xvc2UoKSx0aGlzfSxzaG93WE1MOmZ1bmN0aW9uKCl7dmFyIHQ9d2luZG93Lm9wZW4oXCJcIik7cmV0dXJuIHQuZG9jdW1lbnQub3BlbigpLHQuZG9jdW1lbnQud3JpdGUoXCI8cHJlPlwiK2QuZXNjYXBlSFRNTCh0aGlzLnhtbFN0cmluZykrXCI8L3ByZT5cIiksdC5kb2N1bWVudC5jbG9zZSgpLHRoaXN9LHByZXBhcmVVcGRhdGU6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy5vYmplY3RzTGlzdC5sZW5ndGg7Zm9yKHQ9MDt0PGk7dCsrKShlPXRoaXMub2JqZWN0c0xpc3RbdF0pLm5lZWRzVXBkYXRlPWUubmVlZHNSZWd1bGFyVXBkYXRlfHx0aGlzLm5lZWRzRnVsbFVwZGF0ZTtmb3IodCBpbiB0aGlzLmdyb3Vwcyl0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKChlPXRoaXMuZ3JvdXBzW3RdKS5uZWVkc1VwZGF0ZT1lLm5lZWRzUmVndWxhclVwZGF0ZXx8dGhpcy5uZWVkc0Z1bGxVcGRhdGUpO3JldHVybiB0aGlzfSx1cGRhdGVFbGVtZW50czpmdW5jdGlvbih0KXt2YXIgaSxyO2Zvcih0PXRoaXMuc2VsZWN0KHQpLGk9MDtpPHRoaXMub2JqZWN0c0xpc3QubGVuZ3RoO2krKylyPXRoaXMub2JqZWN0c0xpc3RbaV0sdGhpcy5uZWVkc0Z1bGxVcGRhdGUmJnIuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfVEVYVCYmci51cGRhdGVTaXplKCksci51cGRhdGUoIWQuZXhpc3RzKHQpfHxyLmlkIT09dC5pZCkudXBkYXRlVmlzaWJpbGl0eSgpO2ZvcihpIGluIHRoaXMuZ3JvdXBzKXRoaXMuZ3JvdXBzLmhhc093blByb3BlcnR5KGkpJiZ0aGlzLmdyb3Vwc1tpXS51cGRhdGUodCk7cmV0dXJuIHRoaXN9LHVwZGF0ZVJlbmRlcmVyOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLm9iamVjdHNMaXN0Lmxlbmd0aDtpZihcImNhbnZhc1wiPT09dGhpcy5yZW5kZXJlci50eXBlKXRoaXMudXBkYXRlUmVuZGVyZXJDYW52YXMoKTtlbHNlIGZvcih0PTA7dDxlO3QrKyl0aGlzLm9iamVjdHNMaXN0W3RdLnVwZGF0ZVJlbmRlcmVyKCk7cmV0dXJuIHRoaXN9LHVwZGF0ZVJlbmRlcmVyQ2FudmFzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvPXRoaXMub2JqZWN0c0xpc3QubGVuZ3RoLG49dGhpcy5vcHRpb25zLmxheWVyLGE9dGhpcy5vcHRpb25zLmxheWVyLm51bWxheWVycyxoPU51bWJlci5ORUdBVElWRV9JTkZJTklUWTtmb3IoaT0wO2k8YTtpKyspe2ZvcihzIGluIHI9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG4pbi5oYXNPd25Qcm9wZXJ0eShzKSYmbltzXT5oJiZuW3NdPHImJihyPW5bc10pO2ZvcihoPXIsdD0wO3Q8bzt0KyspKGU9dGhpcy5vYmplY3RzTGlzdFt0XSkudmlzUHJvcC5sYXllcj09PXImJmUucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZVJlbmRlcmVyKCl9cmV0dXJuIHRoaXN9LGFkZEhvb2s6ZnVuY3Rpb24oZSxpLHIpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJCb2FyZC5hZGRIb29rKClcIixcIkJvYXJkLm9uKClcIiksaT1kLmRlZihpLFwidXBkYXRlXCIpLHI9ZC5kZWYocix0aGlzKSx0aGlzLmhvb2tzLnB1c2goW2ksZV0pLHRoaXMub24oaSxlLHIpLHRoaXMuaG9va3MubGVuZ3RoLTF9LGFkZEV2ZW50OnQuc2hvcnRjdXQodC5Cb2FyZC5wcm90b3R5cGUsXCJvblwiKSxyZW1vdmVIb29rOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJCb2FyZC5yZW1vdmVIb29rKClcIixcIkJvYXJkLm9mZigpXCIpLHRoaXMuaG9va3NbZV0mJih0aGlzLm9mZih0aGlzLmhvb2tzW2VdWzBdLHRoaXMuaG9va3NbZV1bMV0pLHRoaXMuaG9va3NbZV09bnVsbCksdGhpc30scmVtb3ZlRXZlbnQ6dC5zaG9ydGN1dCh0LkJvYXJkLnByb3RvdHlwZSxcIm9mZlwiKSx1cGRhdGVIb29rczpmdW5jdGlvbihlKXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIHQuZGVwcmVjYXRlZChcIkJvYXJkLnVwZGF0ZUhvb2tzKClcIixcIkJvYXJkLnRyaWdnZXJFdmVudEhhbmRsZXJzKClcIiksaVswXT1kLmRlZihpWzBdLFwidXBkYXRlXCIpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW2lbMF1dLGFyZ3VtZW50cyksdGhpc30sYWRkQ2hpbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIGQuZXhpc3RzKHQpJiZkLmV4aXN0cyh0LmNvbnRhaW5lck9iaikmJih0aGlzLmRlcGVuZGVudEJvYXJkcy5wdXNoKHQpLHRoaXMudXBkYXRlKCkpLHRoaXN9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlPXRoaXMuZGVwZW5kZW50Qm9hcmRzLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMuZGVwZW5kZW50Qm9hcmRzW2VdPT09dCYmdGhpcy5kZXBlbmRlbnRCb2FyZHMuc3BsaWNlKGUsMSk7cmV0dXJuIHRoaXN9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvO2lmKHRoaXMuaW5VcGRhdGV8fHRoaXMuaXNTdXNwZW5kZWRVcGRhdGUpcmV0dXJuIHRoaXM7Zm9yKHRoaXMuaW5VcGRhdGU9ITAsXCJhbGxcIj09PXRoaXMuYXR0ci5taW5pbWl6ZXJlZmxvdyYmdGhpcy5jb250YWluZXJPYmomJlwidm1sXCIhPT10aGlzLnJlbmRlcmVyLnR5cGUmJihvPXRoaXMuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxzPXRoaXMucmVuZGVyZXIucmVtb3ZlVG9JbnNlcnRMYXRlcih0aGlzLmNvbnRhaW5lck9iaikpLFwic3ZnXCI9PT10aGlzLmF0dHIubWluaW1pemVyZWZsb3cmJlwic3ZnXCI9PT10aGlzLnJlbmRlcmVyLnR5cGUmJihvPXRoaXMuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxzPXRoaXMucmVuZGVyZXIucmVtb3ZlVG9JbnNlcnRMYXRlcih0aGlzLnJlbmRlcmVyLnN2Z1Jvb3QpKSx0aGlzLnByZXBhcmVVcGRhdGUoKS51cGRhdGVFbGVtZW50cyh0KS51cGRhdGVDb25kaXRpb25zKCksdGhpcy5yZW5kZXJlci5zdXNwZW5kUmVkcmF3KHRoaXMpLHRoaXMudXBkYXRlUmVuZGVyZXIoKSx0aGlzLnJlbmRlcmVyLnVuc3VzcGVuZFJlZHJhdygpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widXBkYXRlXCJdLFtdKSxzJiYocygpLG8uZm9jdXMoKSksaT10aGlzLmRlcGVuZGVudEJvYXJkcy5sZW5ndGgsZT0wO2U8aTtlKyspcj10aGlzLmRlcGVuZGVudEJvYXJkc1tlXSxkLmV4aXN0cyhyKSYmciE9PXRoaXMmJihyLnVwZGF0ZVF1YWxpdHk9dGhpcy51cGRhdGVRdWFsaXR5LHIucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZUVsZW1lbnRzKCkudXBkYXRlQ29uZGl0aW9ucygpLHIucmVuZGVyZXIuc3VzcGVuZFJlZHJhdygpLHIudXBkYXRlUmVuZGVyZXIoKSxyLnJlbmRlcmVyLnVuc3VzcGVuZFJlZHJhdygpLHIudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widXBkYXRlXCJdLFtdKSk7cmV0dXJuIHRoaXMuaW5VcGRhdGU9ITEsdGhpc30sZnVsbFVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZWRzRnVsbFVwZGF0ZT0hMCx0aGlzLnVwZGF0ZSgpLHRoaXMubmVlZHNGdWxsVXBkYXRlPSExLHRoaXN9LGFkZEdyaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVhdGUoXCJncmlkXCIsW10pLHRoaXN9LHJlbW92ZUdyaWRzOmZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQ9MDt0PHRoaXMuZ3JpZHMubGVuZ3RoO3QrKyl0aGlzLnJlbW92ZU9iamVjdCh0aGlzLmdyaWRzW3RdKTtyZXR1cm4gdGhpcy5ncmlkcy5sZW5ndGg9MCx0aGlzLnVwZGF0ZSgpLHRoaXN9LGNyZWF0ZTpmdW5jdGlvbihlLGkscil7dmFyIHMsbztmb3IoZT1lLnRvTG93ZXJDYXNlKCksZC5leGlzdHMoaSl8fChpPVtdKSxkLmV4aXN0cyhyKXx8KHI9e30pLG89MDtvPGkubGVuZ3RoO28rKykhZC5pc1N0cmluZyhpW29dKXx8XCJ0ZXh0XCI9PT1lJiYyPT09b3x8XCJzb2xpZG9mcmV2b2x1dGlvbjNkXCI9PT1lJiYyPT09b3x8IShcImlucHV0XCIhPT1lJiZcImNoZWNrYm94XCIhPT1lJiZcImJ1dHRvblwiIT09ZXx8MiE9PW8mJjMhPT1vKXx8XCJjdXJ2ZVwiPT09ZSYmbz4wfHwoaVtvXT10aGlzLnNlbGVjdChpW29dKSk7aWYoIWQuaXNGdW5jdGlvbih0LmVsZW1lbnRzW2VdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogY3JlYXRlOiBVbmtub3duIGVsZW1lbnQgdHlwZSBnaXZlbjogXCIrZSk7cmV0dXJuIHM9dC5lbGVtZW50c1tlXSh0aGlzLGksciksZC5leGlzdHMocyk/KHMucHJlcGFyZVVwZGF0ZSYmcy51cGRhdGUmJnMudXBkYXRlUmVuZGVyZXImJnMuZnVsbFVwZGF0ZSgpLHMpOih0LmRlYnVnKFwiSlNYR3JhcGg6IGNyZWF0ZTogZmFpbHVyZSBjcmVhdGluZyBcIitlKSxzKX0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJCb2FyZC5jcmVhdGVFbGVtZW50KClcIixcIkJvYXJkLmNyZWF0ZSgpXCIpLHRoaXMuY3JlYXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY2xlYXJUcmFjZXM6ZnVuY3Rpb24oKXt2YXIgdDtmb3IodD0wO3Q8dGhpcy5vYmplY3RzTGlzdC5sZW5ndGg7dCsrKXRoaXMub2JqZWN0c0xpc3RbdF0uY2xlYXJUcmFjZSgpO3JldHVybiB0aGlzLm51bVRyYWNlcz0wLHRoaXN9LHN1c3BlbmRVcGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pblVwZGF0ZXx8KHRoaXMuaXNTdXNwZW5kZWRVcGRhdGU9ITApLHRoaXN9LHVuc3VzcGVuZFVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzU3VzcGVuZGVkVXBkYXRlJiYodGhpcy5pc1N1c3BlbmRlZFVwZGF0ZT0hMSx0aGlzLmZ1bGxVcGRhdGUoKSksdGhpc30sc2V0Qm91bmRpbmdCb3g6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGE9MCxoPTAsbD1wLmdldERpbWVuc2lvbnModGhpcy5jb250YWluZXIsdGhpcy5kb2N1bWVudCk7cmV0dXJuIGQuaXNBcnJheSh0KT8odFswXTx0aGlzLm1heGJvdW5kaW5nYm94WzBdfHx0WzFdPnRoaXMubWF4Ym91bmRpbmdib3hbMV18fHRbMl0+dGhpcy5tYXhib3VuZGluZ2JveFsyXXx8dFszXTx0aGlzLm1heGJvdW5kaW5nYm94WzNdfHwoZC5leGlzdHMoaSl8fChpPVwicmVzZXRcIiksbz10aGlzLnVuaXRYLG49dGhpcy51bml0WSx0aGlzLmNhbnZhc1dpZHRoPXBhcnNlSW50KGwud2lkdGgsMTApLHRoaXMuY2FudmFzSGVpZ2h0PXBhcnNlSW50KGwuaGVpZ2h0LDEwKSxzPXRoaXMuY2FudmFzV2lkdGgscj10aGlzLmNhbnZhc0hlaWdodCxlPyh0aGlzLnVuaXRYPXMvKHRbMl0tdFswXSksdGhpcy51bml0WT1yLyh0WzFdLXRbM10pLE1hdGguYWJzKHRoaXMudW5pdFgpPE1hdGguYWJzKHRoaXMudW5pdFkpPyh0aGlzLnVuaXRZPU1hdGguYWJzKHRoaXMudW5pdFgpKnRoaXMudW5pdFkvTWF0aC5hYnModGhpcy51bml0WSksaD0uNSooci90aGlzLnVuaXRZLSh0WzFdLXRbM10pKSk6KHRoaXMudW5pdFg9TWF0aC5hYnModGhpcy51bml0WSkqdGhpcy51bml0WC9NYXRoLmFicyh0aGlzLnVuaXRYKSxhPS41KihzL3RoaXMudW5pdFgtKHRbMl0tdFswXSkpKSx0aGlzLmtlZXBhc3BlY3RyYXRpbz0hMCk6KHRoaXMudW5pdFg9cy8odFsyXS10WzBdKSx0aGlzLnVuaXRZPXIvKHRbMV0tdFszXSksdGhpcy5rZWVwYXNwZWN0cmF0aW89ITEpLHRoaXMubW92ZU9yaWdpbigtdGhpcy51bml0WCoodFswXS1hKSx0aGlzLnVuaXRZKih0WzFdK2gpKSxcInVwZGF0ZVwiPT09aT8odGhpcy56b29tWCo9dGhpcy51bml0WC9vLHRoaXMuem9vbVkqPXRoaXMudW5pdFkvbik6XCJyZXNldFwiPT09aSYmKHRoaXMuem9vbVg9ZC5leGlzdHModGhpcy5hdHRyLnpvb214KT90aGlzLmF0dHIuem9vbXg6MSx0aGlzLnpvb21ZPWQuZXhpc3RzKHRoaXMuYXR0ci56b29teSk/dGhpcy5hdHRyLnpvb215OjEpKSx0aGlzKTp0aGlzfSxnZXRCb3VuZGluZ0JveDpmdW5jdGlvbigpe3ZhciB0PW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbMCwwXSx0aGlzKS51c3JDb29yZHMscj1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW3RoaXMuY2FudmFzV2lkdGgsdGhpcy5jYW52YXNIZWlnaHRdLHRoaXMpLnVzckNvb3JkcztyZXR1cm5bdFsxXSx0WzJdLHJbMV0sclsyXV19LGFkZEFuaW1hdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLmFuaW1hdGlvbk9iamVjdHNbdC5pZF09dCx0aGlzLmFuaW1hdGlvbkludGVydmFsQ29kZXx8KHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWxDb2RlPXdpbmRvdy5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtlLmFuaW1hdGUoKX0pLHQuYm9hcmQuYXR0ci5hbmltYXRpb25kZWxheSkpLHRoaXN9LHN0b3BBbGxBbmltYXRpb246ZnVuY3Rpb24oKXt2YXIgdDtmb3IodCBpbiB0aGlzLmFuaW1hdGlvbk9iamVjdHMpdGhpcy5hbmltYXRpb25PYmplY3RzLmhhc093blByb3BlcnR5KHQpJiZkLmV4aXN0cyh0aGlzLmFuaW1hdGlvbk9iamVjdHNbdF0pJiYodGhpcy5hbmltYXRpb25PYmplY3RzW3RdPW51bGwsZGVsZXRlIHRoaXMuYW5pbWF0aW9uT2JqZWN0c1t0XSk7cmV0dXJuIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWxDb2RlKSxkZWxldGUgdGhpcy5hbmltYXRpb25JbnRlcnZhbENvZGUsdGhpc30sYW5pbWF0ZTpmdW5jdGlvbigpe3ZhciB0LGkscixzLG8sbixhLGgsbD0wLGM9bnVsbDtmb3IoaSBpbiB0aGlzLmFuaW1hdGlvbk9iamVjdHMpaWYodGhpcy5hbmltYXRpb25PYmplY3RzLmhhc093blByb3BlcnR5KGkpJiZkLmV4aXN0cyh0aGlzLmFuaW1hdGlvbk9iamVjdHNbaV0pKXtpZihsKz0xLChyPXRoaXMuYW5pbWF0aW9uT2JqZWN0c1tpXSkuYW5pbWF0aW9uUGF0aCYmKHM9ZC5pc0Z1bmN0aW9uKHIuYW5pbWF0aW9uUGF0aCk/ci5hbmltYXRpb25QYXRoKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXIuYW5pbWF0aW9uU3RhcnQpOnIuYW5pbWF0aW9uUGF0aC5wb3AoKSwhZC5leGlzdHMocyl8fCFkLmlzQXJyYXkocykmJmlzTmFOKHMpP2RlbGV0ZSByLmFuaW1hdGlvblBhdGg6KHIuc2V0UG9zaXRpb25EaXJlY3RseShlLkNPT1JEU19CWV9VU0VSLHMpLHIuZnVsbFVwZGF0ZSgpLGM9cikpLHIuYW5pbWF0aW9uRGF0YSl7Zm9yKG8gaW4gYT0wLHIuYW5pbWF0aW9uRGF0YSlyLmFuaW1hdGlvbkRhdGEuaGFzT3duUHJvcGVydHkobykmJihuPXIuYW5pbWF0aW9uRGF0YVtvXS5wb3AoKSxkLmV4aXN0cyhuKT8oYSs9MSwodD17fSlbb109bixyLnNldEF0dHJpYnV0ZSh0KSk6ZGVsZXRlIHIuYW5pbWF0aW9uRGF0YVtuXSk7MD09PWEmJmRlbGV0ZSByLmFuaW1hdGlvbkRhdGF9ZC5leGlzdHMoci5hbmltYXRpb25EYXRhKXx8ZC5leGlzdHMoci5hbmltYXRpb25QYXRoKXx8KHRoaXMuYW5pbWF0aW9uT2JqZWN0c1tpXT1udWxsLGRlbGV0ZSB0aGlzLmFuaW1hdGlvbk9iamVjdHNbaV0sZC5leGlzdHMoci5hbmltYXRpb25DYWxsYmFjaykmJihoPXIuYW5pbWF0aW9uQ2FsbGJhY2ssci5hbmltYXRpb25DYWxsYmFjaz1udWxsLGgoKSkpfXJldHVybiAwPT09bD8od2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5hbmltYXRpb25JbnRlcnZhbENvZGUpLGRlbGV0ZSB0aGlzLmFuaW1hdGlvbkludGVydmFsQ29kZSk6dGhpcy51cGRhdGUoYyksdGhpc30sbWlncmF0ZVBvaW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhLGgsbD0hMTtmb3IocyBpbiB0PXRoaXMuc2VsZWN0KHQpLGU9dGhpcy5zZWxlY3QoZSksZC5leGlzdHModC5sYWJlbCkmJihoPXQubGFiZWwuaWQsbD0hMCx0aGlzLnJlbW92ZU9iamVjdCh0LmxhYmVsKSksdC5jaGlsZEVsZW1lbnRzKWlmKHQuY2hpbGRFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShzKSl7Zm9yKG8gaW4gbj0hMSxyPXQuY2hpbGRFbGVtZW50c1tzXSlyLmhhc093blByb3BlcnR5KG8pJiZyW29dPT09dCYmKHJbb109ZSxuPSEwKTtmb3IobiYmZGVsZXRlIHQuY2hpbGRFbGVtZW50c1tzXSxhPTA7YTxyLnBhcmVudHMubGVuZ3RoO2ErKylyLnBhcmVudHNbYV09PT10LmlkJiYoci5wYXJlbnRzW2FdPWUuaWQpO2UuYWRkQ2hpbGQocil9cmV0dXJuIGkmJihsJiYoZGVsZXRlIGUuY2hpbGRFbGVtZW50c1toXSxkZWxldGUgZS5kZXNjZW5kYW50c1toXSksZS5sYWJlbCYmdGhpcy5yZW1vdmVPYmplY3QoZS5sYWJlbCksZGVsZXRlIHRoaXMuZWxlbWVudHNCeU5hbWVbZS5uYW1lXSxlLm5hbWU9dC5uYW1lLGwmJmUuY3JlYXRlTGFiZWwoKSksdGhpcy5yZW1vdmVPYmplY3QodCksZC5leGlzdHMoZS5uYW1lKSYmXCJcIiE9PWUubmFtZSYmKHRoaXMuZWxlbWVudHNCeU5hbWVbZS5uYW1lXT1lKSx0aGlzLmZ1bGxVcGRhdGUoKSx0aGlzfSxlbXVsYXRlQ29sb3JibGluZG5lc3M6ZnVuY3Rpb24oZSl7dmFyIGkscjtpZihkLmV4aXN0cyhlKXx8KGU9XCJub25lXCIpLHRoaXMuY3VycmVudENCRGVmPT09ZSlyZXR1cm4gdGhpcztmb3IoaSBpbiB0aGlzLm9iamVjdHMpdGhpcy5vYmplY3RzLmhhc093blByb3BlcnR5KGkpJiYocj10aGlzLm9iamVjdHNbaV0sXCJub25lXCIhPT1lPyhcIm5vbmVcIj09PXRoaXMuY3VycmVudENCRGVmJiYoci52aXNQcm9wT3JpZ2luYWw9e3N0cm9rZWNvbG9yOnIudmlzUHJvcC5zdHJva2Vjb2xvcixmaWxsY29sb3I6ci52aXNQcm9wLmZpbGxjb2xvcixoaWdobGlnaHRzdHJva2Vjb2xvcjpyLnZpc1Byb3AuaGlnaGxpZ2h0c3Ryb2tlY29sb3IsaGlnaGxpZ2h0ZmlsbGNvbG9yOnIudmlzUHJvcC5oaWdobGlnaHRmaWxsY29sb3J9KSxyLnNldEF0dHJpYnV0ZSh7c3Ryb2tlY29sb3I6Yy5yZ2IyY2IoZC5ldmFsdWF0ZShyLnZpc1Byb3BPcmlnaW5hbC5zdHJva2Vjb2xvciksZSksZmlsbGNvbG9yOmMucmdiMmNiKGQuZXZhbHVhdGUoci52aXNQcm9wT3JpZ2luYWwuZmlsbGNvbG9yKSxlKSxoaWdobGlnaHRzdHJva2Vjb2xvcjpjLnJnYjJjYihkLmV2YWx1YXRlKHIudmlzUHJvcE9yaWdpbmFsLmhpZ2hsaWdodHN0cm9rZWNvbG9yKSxlKSxoaWdobGlnaHRmaWxsY29sb3I6Yy5yZ2IyY2IoZC5ldmFsdWF0ZShyLnZpc1Byb3BPcmlnaW5hbC5oaWdobGlnaHRmaWxsY29sb3IpLGUpfSkpOmQuZXhpc3RzKHIudmlzUHJvcE9yaWdpbmFsKSYmdC5leHRlbmQoci52aXNQcm9wLHIudmlzUHJvcE9yaWdpbmFsKSk7cmV0dXJuIHRoaXMuY3VycmVudENCRGVmPWUsdGhpcy51cGRhdGUoKSx0aGlzfSxzZWxlY3Q6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuPXQ7aWYobnVsbD09PW4pcmV0dXJuIG47aWYoZC5pc1N0cmluZyhuKSYmXCJcIiE9PW4pZC5leGlzdHModGhpcy5vYmplY3RzW25dKT9uPXRoaXMub2JqZWN0c1tuXTpkLmV4aXN0cyh0aGlzLmVsZW1lbnRzQnlOYW1lW25dKT9uPXRoaXMuZWxlbWVudHNCeU5hbWVbbl06ZC5leGlzdHModGhpcy5ncm91cHNbbl0pJiYobj10aGlzLmdyb3Vwc1tuXSk7ZWxzZSBpZighZSYmKGQuaXNGdW5jdGlvbihuKXx8ZC5pc09iamVjdChuKSYmIWQuaXNGdW5jdGlvbihuLnNldEF0dHJpYnV0ZSkpKXtmb3Iocj17fSxvPShpPWQuZmlsdGVyRWxlbWVudHModGhpcy5vYmplY3RzTGlzdCxuKSkubGVuZ3RoLHM9MDtzPG87cysrKXJbaVtzXS5pZF09aVtzXTtuPW5ldyBmKHIpfWVsc2UgZC5pc09iamVjdChuKSYmZC5leGlzdHMobi5pZCkmJiFkLmV4aXN0cyh0aGlzLm9iamVjdHNbbi5pZF0pJiYobj1udWxsKTtyZXR1cm4gbn0saGFzUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10LHI9ZSxzPXRoaXMuZ2V0Qm91bmRpbmdCb3goKTtyZXR1cm4gZC5leGlzdHModCkmJmQuaXNBcnJheSh0LnVzckNvb3JkcykmJihpPXQudXNyQ29vcmRzWzFdLHI9dC51c3JDb29yZHNbMl0pLCEhKGQuaXNOdW1iZXIoaSkmJmQuaXNOdW1iZXIocikmJnNbMF08aSYmaTxzWzJdJiZzWzFdPnImJnI+c1szXSl9LHVwZGF0ZUNTU1RyYW5zZm9ybXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbnRhaW5lck9iaixlPXQsaT10O2Zvcih0aGlzLmNzc1RyYW5zTWF0PXAuZ2V0Q1NTVHJhbnNmb3JtTWF0cml4KGUpLGU9ZS5vZmZzZXRQYXJlbnQ7ZTspe2Zvcih0aGlzLmNzc1RyYW5zTWF0PW8ubWF0TWF0TXVsdChwLmdldENTU1RyYW5zZm9ybU1hdHJpeChlKSx0aGlzLmNzc1RyYW5zTWF0KSxpPWkucGFyZW50Tm9kZTtpIT09ZTspdGhpcy5jc3NUcmFuc01hdD1vLm1hdE1hdE11bHQocC5nZXRDU1NUcmFuc2Zvcm1NYXRyaXgoZSksdGhpcy5jc3NUcmFuc01hdCksaT1pLnBhcmVudE5vZGV8fGkuaG9zdDtlPWUub2Zmc2V0UGFyZW50fXJldHVybiB0aGlzLmNzc1RyYW5zTWF0PW8uaW52ZXJzZSh0aGlzLmNzc1RyYW5zTWF0KSx0aGlzfSxzdGFydFNlbGVjdGlvbk1vZGU6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGluZ01vZGU9ITAsdGhpcy5zZWxlY3Rpb25Qb2x5Z29uLnNldEF0dHJpYnV0ZSh7dmlzaWJsZTohMH0pLHRoaXMuc2VsZWN0aW5nQm94PVtbMCwwXSxbMCwwXV0sdGhpcy5fc2V0U2VsZWN0aW9uUG9seWdvbkZyb21Cb3goKSx0aGlzLnNlbGVjdGlvblBvbHlnb24uZnVsbFVwZGF0ZSgpfSxzdG9wU2VsZWN0aW9uTW9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGluZ01vZGU9ITEsdGhpcy5zZWxlY3Rpb25Qb2x5Z29uLnNldEF0dHJpYnV0ZSh7dmlzaWJsZTohMX0pLFt0aGlzLnNlbGVjdGlvblBvbHlnb24udmVydGljZXNbMF0uY29vcmRzLHRoaXMuc2VsZWN0aW9uUG9seWdvbi52ZXJ0aWNlc1syXS5jb29yZHNdfSxfc3RhcnRTZWxlY3Rpbmc6ZnVuY3Rpb24odCl7dGhpcy5pc1NlbGVjdGluZz0hMCx0aGlzLnNlbGVjdGluZ0JveD1bW3RbMF0sdFsxXV0sW3RbMF0sdFsxXV1dLHRoaXMuX3NldFNlbGVjdGlvblBvbHlnb25Gcm9tQm94KCl9LF9tb3ZlU2VsZWN0aW5nOmZ1bmN0aW9uKHQpe3RoaXMuaXNTZWxlY3RpbmcmJih0aGlzLnNlbGVjdGluZ0JveFsxXT1bdFswXSx0WzFdXSx0aGlzLl9zZXRTZWxlY3Rpb25Qb2x5Z29uRnJvbUJveCgpLHRoaXMuc2VsZWN0aW9uUG9seWdvbi5mdWxsVXBkYXRlKCkpfSxfc3RvcFNlbGVjdGluZzpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldE1vdXNlUG9zaXRpb24odCk7dGhpcy5pc1NlbGVjdGluZz0hMSx0aGlzLnNlbGVjdGluZ0JveFsxXT1bZVswXSxlWzFdXSx0aGlzLl9zZXRTZWxlY3Rpb25Qb2x5Z29uRnJvbUJveCgpfSxfc2V0U2VsZWN0aW9uUG9seWdvbkZyb21Cb3g6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlbGVjdGluZ0JveFswXSxpPXRoaXMuc2VsZWN0aW5nQm94WzFdO3RoaXMuc2VsZWN0aW9uUG9seWdvbi52ZXJ0aWNlc1swXS5zZXRQb3NpdGlvbkRpcmVjdGx5KHQuQ09PUkRTX0JZX1NDUkVFTixbZVswXSxlWzFdXSksdGhpcy5zZWxlY3Rpb25Qb2x5Z29uLnZlcnRpY2VzWzFdLnNldFBvc2l0aW9uRGlyZWN0bHkodC5DT09SRFNfQllfU0NSRUVOLFtlWzBdLGlbMV1dKSx0aGlzLnNlbGVjdGlvblBvbHlnb24udmVydGljZXNbMl0uc2V0UG9zaXRpb25EaXJlY3RseSh0LkNPT1JEU19CWV9TQ1JFRU4sW2lbMF0saVsxXV0pLHRoaXMuc2VsZWN0aW9uUG9seWdvbi52ZXJ0aWNlc1szXS5zZXRQb3NpdGlvbkRpcmVjdGx5KHQuQ09PUkRTX0JZX1NDUkVFTixbaVswXSxlWzFdXSl9LF90ZXN0Rm9yU2VsZWN0aW9uOmZ1bmN0aW9uKHQpe3RoaXMuX2lzUmVxdWlyZWRLZXlQcmVzc2VkKHQsXCJzZWxlY3Rpb25cIikmJihkLmV4aXN0cyh0aGlzLnNlbGVjdGlvblBvbHlnb24pfHx0aGlzLl9jcmVhdGVTZWxlY3Rpb25Qb2x5Z29uKHRoaXMuYXR0ciksdGhpcy5zdGFydFNlbGVjdGlvbk1vZGUoKSl9LF9jcmVhdGVTZWxlY3Rpb25Qb2x5Z29uOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBkLmV4aXN0cyh0aGlzLnNlbGVjdGlvblBvbHlnb24pfHwhMD09PShlPWQuY29weUF0dHJpYnV0ZXModCxyLFwiYm9hcmRcIixcInNlbGVjdGlvblwiKSkuZW5hYmxlZCYmKHRoaXMuc2VsZWN0aW9uUG9seWdvbj10aGlzLmNyZWF0ZShcInBvbHlnb25cIixbWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF1dLGUpKSx0aGlzfSxfX2V2dF9fZG93bjpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3VzZWRvd246ZnVuY3Rpb24odCl7fSxfX2V2dF9fcGVuZG93bjpmdW5jdGlvbih0KXt9LF9fZXZ0X19wb2ludGVyZG93bjpmdW5jdGlvbih0KXt9LF9fZXZ0X190b3VjaHN0YXJ0OmZ1bmN0aW9uKHQpe30sX19ldnRfX3VwOmZ1bmN0aW9uKHQpe30sX19ldnRfX21vdXNldXA6ZnVuY3Rpb24odCl7fSxfX2V2dF9fcG9pbnRlcnVwOmZ1bmN0aW9uKHQpe30sX19ldnRfX3RvdWNoZW5kOmZ1bmN0aW9uKHQpe30sX19ldnRfX21vdmU6ZnVuY3Rpb24odCxlKXt9LF9fZXZ0X19tb3VzZW1vdmU6ZnVuY3Rpb24odCxlKXt9LF9fZXZ0X19wZW5tb3ZlOmZ1bmN0aW9uKHQsZSl7fSxfX2V2dF9fcG9pbnRlcm1vdmU6ZnVuY3Rpb24odCxlKXt9LF9fZXZ0X190b3VjaG1vdmU6ZnVuY3Rpb24odCxlKXt9LF9fZXZ0X19oaXQ6ZnVuY3Rpb24odCxlLGkpe30sX19ldnRfX21vdXNlaGl0OmZ1bmN0aW9uKHQsZSxpKXt9LF9fZXZ0X191cGRhdGU6ZnVuY3Rpb24oKXt9LF9fZXZ0X19ib3VuZGluZ2JveDpmdW5jdGlvbigpe30sX19ldnRfX3N0YXJ0c2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fbW91c2VzdGFydHNlbGVjdGluZzpmdW5jdGlvbigpe30sX19ldnRfX3BvaW50ZXJzdGFydHNlbGVjdGluZzpmdW5jdGlvbigpe30sX19ldnRfX3RvdWNoc3RhcnRzZWxlY3Rpbmc6ZnVuY3Rpb24oKXt9LF9fZXZ0X19zdG9wc2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fbW91c2VzdG9wc2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fcG9pbnRlcnN0b3BzZWxlY3Rpbmc6ZnVuY3Rpb24oKXt9LF9fZXZ0X190b3VjaHN0b3BzZWxlY3Rpbmc6ZnVuY3Rpb24oKXt9LF9fZXZ0X19tb3Zlc2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fbW91c2Vtb3Zlc2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fcG9pbnRlcm1vdmVzZWxlY3Rpbmc6ZnVuY3Rpb24oKXt9LF9fZXZ0X190b3VjaG1vdmVzZWxlY3Rpbmc6ZnVuY3Rpb24oKXt9LF9fZXZ0OmZ1bmN0aW9uKCl7fSx0b0Z1bGxzY3JlZW46ZnVuY3Rpb24odCl7dmFyIGUsaSxyO3JldHVybiB0PXR8fHRoaXMuY29udGFpbmVyLHRoaXMuX2Z1bGxzY3JlZW5faW5uZXJfaWQ9dCxyPXRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCksZT1cImZ1bGxzY3JlZW53cmFwX1wiK3QsdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKT9pPXRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk6KChpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmNsYXNzTGlzdC5hZGQoXCJKWEdfd3JhcF9wcml2YXRlXCIpLGkuc2V0QXR0cmlidXRlKFwiaWRcIixlKSxyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksciksaS5hcHBlbmRDaGlsZChyKSksdGhpcy5fZnVsbHNjcmVlbl9yZXM9cC5fZ2V0U2NhbGVGYWN0b3JzKHIpLGkucmVxdWVzdEZ1bGxzY3JlZW49aS5yZXF1ZXN0RnVsbHNjcmVlbnx8aS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbnx8aS5tb3pSZXF1ZXN0RnVsbFNjcmVlbnx8aS5tc1JlcXVlc3RGdWxsc2NyZWVuLGkucmVxdWVzdEZ1bGxzY3JlZW4mJmkucmVxdWVzdEZ1bGxzY3JlZW4oKSx0aGlzfSxmdWxsc2NyZWVuTGlzdGVuZXI6ZnVuY3Rpb24odCl7dmFyIGUsaSxyO2lmKGk9dGhpcy5fZnVsbHNjcmVlbl9pbm5lcl9pZCxkLmV4aXN0cyhpKSl7aWYodGhpcy5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudD10aGlzLmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHx0aGlzLmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fHx0aGlzLmRvY3VtZW50Lm1vekZ1bGxzY3JlZW5FbGVtZW50fHx0aGlzLmRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQscj10aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGkpLHRoaXMuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQpZT10aGlzLl9mdWxsc2NyZWVuX3JlcyxyLl9jc3NGdWxsc2NyZWVuU3RvcmU9e2lkOnRoaXMuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQuaWQsaXNGdWxsc2NyZWVuOiEwLG1hcmdpbjpyLnN0eWxlLm1hcmdpbix3aWR0aDpyLnN0eWxlLndpZHRoLHNjYWxlOmUuc2NhbGUsdnNoaWZ0OmUudnNoaWZ0fSxyLnN0eWxlLm1hcmdpbj1cIlwiLHIuc3R5bGUud2lkdGg9ZS53aWR0aCtcInB4XCIscC5zY2FsZUpTWEdyYXBoRGl2KGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50LmlkLGksZS5zY2FsZSxlLnZzaGlmdCksdGhpcy5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudD1udWxsO2Vsc2UgaWYoZC5leGlzdHMoci5fY3NzRnVsbHNjcmVlblN0b3JlKSl7dHJ5e3RoaXMuZG9jdW1lbnQuc3R5bGVTaGVldHNbdGhpcy5kb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGgtMV0uZGVsZXRlUnVsZSgwKX1jYXRjaCh0KXtjb25zb2xlLmxvZyhcIkpTWEdyYXBoOiBDb3VsZCBub3QgcmVtb3ZlIENTUyBydWxlcyBmb3IgZnVsbCBzY3JlZW4gbW9kZVwiKX1yLl9jc3NGdWxsc2NyZWVuU3RvcmUuaXNGdWxsc2NyZWVuPSExLHIuc3R5bGUubWFyZ2luPXIuX2Nzc0Z1bGxzY3JlZW5TdG9yZS5tYXJnaW4sci5zdHlsZS53aWR0aD1yLl9jc3NGdWxsc2NyZWVuU3RvcmUud2lkdGh9dGhpcy51cGRhdGVDU1NUcmFuc2Zvcm1zKCl9fSxjcmVhdGVSb3VsZXR0ZTpmdW5jdGlvbih0LGUsaSxyLG8sbixoKXt2YXIgbD10aGlzO3JldHVybiBuZXcgZnVuY3Rpb24oKXt2YXIgYyxkPTAsdT0wLHA9MCxmPWksbT1zLnJvb3QoKGZ1bmN0aW9uKGkpe3ZhciByPXQuWChmKSxzPXQuWShmKSxvPWUuWChpKSxuPWUuWShpKTtyZXR1cm4oci1vKSooci1vKSsocy1uKSoocy1uKX0pLFswLDIqTWF0aC5QSV0pLGc9MCxiPTAsdj1sLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtmdW5jdGlvbigpe3JldHVybiBkfV0se3R5cGU6XCJyb3RhdGVcIn0pLHk9bC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbZnVuY3Rpb24oKXtyZXR1cm4gZH0sZnVuY3Rpb24oKXtyZXR1cm4gdC5YKGYpfSxmdW5jdGlvbigpe3JldHVybiB0LlkoZil9XSx7dHlwZTpcInJvdGF0ZVwifSksQz1sLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtmdW5jdGlvbigpe3JldHVybiB1fSxmdW5jdGlvbigpe3JldHVybiBwfV0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pLF89ZnVuY3Rpb24odCxlLGkpe3ZhciByPXMuRCh0LlgpKGUpLG89cy5EKHQuWSkoZSksbj1zLkQodC5YKShpKSxhPXMuRCh0LlkpKGkpLGg9cy5EKHQuWCkoLjUqKGUraSkpLGw9cy5EKHQuWSkoLjUqKGUraSkpLGM9TWF0aC5zcXJ0KHIqcitvKm8pLGQ9TWF0aC5zcXJ0KG4qbithKmEpO3JldHVybihjKzQqTWF0aC5zcXJ0KGgqaCtsKmwpK2QpKihpLWUpLzZ9LFA9ZnVuY3Rpb24odCl7cmV0dXJuIGMtXyhlLG0sdCl9LEU9TWF0aC5QSS8xOCx4PTkqRSxTPW51bGw7cmV0dXJuIHRoaXMucm9sbGluZz1mdW5jdGlvbigpe3ZhciBpLG4sUyxPLHc7Yz1fKHQsZixnPWYrbypyKSxiPXMucm9vdChQLG0pLGk9bmV3IGEodC5YKGcpLHQuWShnKSksbj1uZXcgYShlLlgoYiksZS5ZKGIpKSxTPW5ldyBhKHMuRCh0LlgpKGcpLHMuRCh0LlkpKGcpKSxPPW5ldyBhKHMuRChlLlgpKGIpLHMuRChlLlkpKGIpKSx3PWEuQy5kaXYoUyxPKSxkPU1hdGguYXRhbjIody5pbWFnaW5hcnksdy5yZWFsKSx3LmRpdihhLkMuYWJzKHcpKSx3Lm11bHQobiksdT1pLnJlYWwtdy5yZWFsLHA9aS5pbWFnaW5hcnktdy5pbWFnaW5hcnksZDwtRSYmZD4teD8oZD0tRSx5LmFwcGx5T25jZShoKSk6ZD5FJiZkPHg/KGQ9RSx5LmFwcGx5T25jZShoKSk6KHYuYXBwbHlPbmNlKGgpLEMuYXBwbHlPbmNlKGgpLGY9ZyxtPWIpLGwudXBkYXRlKCl9LHRoaXMuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbj4wJiYoUz13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5yb2xsaW5nLG4pKSx0aGlzfSx0aGlzLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmNsZWFySW50ZXJ2YWwoUyksdGhpc30sdGhpc319fSksdC5Cb2FyZH0pKSxkZWZpbmUoXCJyZW5kZXJlci9zdmdcIixbXCJqeGdcIixcIm9wdGlvbnNcIixcInJlbmRlcmVyL2Fic3RyYWN0XCIsXCJiYXNlL2NvbnN0YW50c1wiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMvY29sb3JcIixcInV0aWxzL2Jhc2U2NFwiLFwibWF0aC9udW1lcmljc1wiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5TVkdSZW5kZXJlcj1mdW5jdGlvbih0LGkpe3ZhciByO2Zvcih0aGlzLnR5cGU9XCJzdmdcIix0aGlzLmlzSUU9LTEhPT1uYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNJRVwiKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudFxcLy8pLHRoaXMuc3ZnUm9vdD1udWxsLHRoaXMuc3ZnTmFtZXNwYWNlPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix0aGlzLnhsaW5rTmFtZXNwYWNlPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLHRoaXMuY29udGFpbmVyPXQsdGhpcy5jb250YWluZXIuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS51c2VyU2VsZWN0PVwibm9uZVwiLHRoaXMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsXCJcIj09PXRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uJiYodGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSx0aGlzLnN2Z1Jvb3Q9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zdmdOYW1lc3BhY2UsXCJzdmdcIiksdGhpcy5zdmdSb290LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy5zdmdSb290LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMucmVzaXplKGkud2lkdGgsaS5oZWlnaHQpLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc3ZnUm9vdCksdGhpcy5kZWZzPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc3ZnTmFtZXNwYWNlLFwiZGVmc1wiKSx0aGlzLnN2Z1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5kZWZzKSx0aGlzLmZpbHRlcj10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLnN2Z05hbWVzcGFjZSxcImZpbHRlclwiKSx0aGlzLmZpbHRlci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaWRcIix0aGlzLmNvbnRhaW5lci5pZCtcIl9mMVwiKSx0aGlzLmZpbHRlci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixcIjMwMCVcIiksdGhpcy5maWx0ZXIuc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLFwiMzAwJVwiKSx0aGlzLmZpbHRlci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsdGVyVW5pdHNcIixcInVzZXJTcGFjZU9uVXNlXCIpLHRoaXMuZmVPZmZzZXQ9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zdmdOYW1lc3BhY2UsXCJmZU9mZnNldFwiKSx0aGlzLmZlT2Zmc2V0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJyZXN1bHRcIixcIm9mZk91dFwiKSx0aGlzLmZlT2Zmc2V0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJpblwiLFwiU291cmNlQWxwaGFcIiksdGhpcy5mZU9mZnNldC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZHhcIixcIjVcIiksdGhpcy5mZU9mZnNldC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZHlcIixcIjVcIiksdGhpcy5maWx0ZXIuYXBwZW5kQ2hpbGQodGhpcy5mZU9mZnNldCksdGhpcy5mZUdhdXNzaWFuQmx1cj10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLnN2Z05hbWVzcGFjZSxcImZlR2F1c3NpYW5CbHVyXCIpLHRoaXMuZmVHYXVzc2lhbkJsdXIuc2V0QXR0cmlidXRlTlMobnVsbCxcInJlc3VsdFwiLFwiYmx1ck91dFwiKSx0aGlzLmZlR2F1c3NpYW5CbHVyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJpblwiLFwib2ZmT3V0XCIpLHRoaXMuZmVHYXVzc2lhbkJsdXIuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0ZERldmlhdGlvblwiLFwiM1wiKSx0aGlzLmZpbHRlci5hcHBlbmRDaGlsZCh0aGlzLmZlR2F1c3NpYW5CbHVyKSx0aGlzLmZlQmxlbmQ9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zdmdOYW1lc3BhY2UsXCJmZUJsZW5kXCIpLHRoaXMuZmVCbGVuZC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaW5cIixcIlNvdXJjZUdyYXBoaWNcIiksdGhpcy5mZUJsZW5kLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJpbjJcIixcImJsdXJPdXRcIiksdGhpcy5mZUJsZW5kLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJtb2RlXCIsXCJub3JtYWxcIiksdGhpcy5maWx0ZXIuYXBwZW5kQ2hpbGQodGhpcy5mZUJsZW5kKSx0aGlzLmRlZnMuYXBwZW5kQ2hpbGQodGhpcy5maWx0ZXIpLHRoaXMubGF5ZXI9W10scj0wO3I8ZS5sYXllci5udW1sYXllcnM7cisrKXRoaXMubGF5ZXJbcl09dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zdmdOYW1lc3BhY2UsXCJnXCIpLHRoaXMuc3ZnUm9vdC5hcHBlbmRDaGlsZCh0aGlzLmxheWVyW3JdKTt0aGlzLnN1cHBvcnRzRm9yZWlnbk9iamVjdD1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiaHR0cDovL3czLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHlcIixcIjEuMVwiKSx0aGlzLnN1cHBvcnRzRm9yZWlnbk9iamVjdCYmKHRoaXMuZm9yZWlnbk9iakxheWVyPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc3ZnTmFtZXNwYWNlLFwiZm9yZWlnbk9iamVjdFwiKSx0aGlzLmZvcmVpZ25PYmpMYXllci5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsXCJub25lXCIpLHRoaXMuZm9yZWlnbk9iakxheWVyLnNldEF0dHJpYnV0ZShcInhcIiwwKSx0aGlzLmZvcmVpZ25PYmpMYXllci5zZXRBdHRyaWJ1dGUoXCJ5XCIsMCksdGhpcy5mb3JlaWduT2JqTGF5ZXIuc2V0QXR0cmlidXRlKFwid2lkdGhcIixcIjEwMCVcIiksdGhpcy5mb3JlaWduT2JqTGF5ZXIuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsXCIxMDAlXCIpLHRoaXMuZm9yZWlnbk9iakxheWVyLnNldEF0dHJpYnV0ZShcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfZm9yZWlnbk9ialwiKSx0aGlzLnN2Z1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5mb3JlaWduT2JqTGF5ZXIpKSx0aGlzLmRhc2hBcnJheT1bXCIyLCAyXCIsXCI1LCA1XCIsXCIxMCwgMTBcIixcIjIwLCAyMFwiLFwiMjAsIDEwLCAxMCwgMTBcIixcIjIwLCA1LCAxMCwgNVwiXX0sdC5TVkdSZW5kZXJlci5wcm90b3R5cGU9bmV3IGksdC5leHRlbmQodC5TVkdSZW5kZXJlci5wcm90b3R5cGUse19jcmVhdGVBcnJvd0hlYWQ6ZnVuY3Rpb24odCxlLGkpe3ZhciBvLG4sYSxoLGw9dC5pZCtcIlRyaWFuZ2xlXCI7cmV0dXJuIHMuZXhpc3RzKGUpJiYobCs9ZSksKG89dGhpcy5jcmVhdGVQcmltKFwibWFya2VyXCIsbCkpLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixzLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2Vjb2xvcikpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1vcGFjaXR5XCIscy5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tlb3BhY2l0eSkpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixzLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2Vjb2xvcikpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGwtb3BhY2l0eVwiLHMuZXZhbHVhdGUodC52aXNQcm9wLnN0cm9rZW9wYWNpdHkpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2Utd2lkdGhcIiwwKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJvcmllbnRcIixcImF1dG9cIiksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwibWFya2VyVW5pdHNcIixcInN0cm9rZVdpZHRoXCIpLG49dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zdmdOYW1lc3BhY2UsXCJwYXRoXCIpLGg9NSxcIkVuZFwiPT09ZT8oYT0wLDI9PT1pP24uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMTAsMCBMIDAsNSBMIDEwLDEwIEwgNSw1IHpcIik6Mz09PWk/bi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAwLDAgTCAzLjMzLDAgTCAzLjMzLDEwIEwgMCwxMCB6XCIpOjQ9PT1pPyhoPTMuMzEsbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAwLjAwLDMuMzEgQyAzLjUzLDMuODQgNy4xMyw0LjUwIDEwLjAwLDYuNjMgQyA5LjMzLDUuNTIgOC42Nyw0LjQyIDguMDAsMy4zMSBDIDguNjcsMi4yMSA5LjMzLDEuMTAgMTAuMDAsMC4wMCBDIDcuMTMsMi4xMyAzLjUzLDIuNzkgMC4wMCwzLjMxXCIpKTo1PT09aT8oaD0zLjI4LG4uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMC4wMCwzLjI4IEMgMy4zOSw0LjE5IDYuODEsNS4wNyAxMC4wMCw2LjU1IEMgOS4zOCw1LjU2IDkuMDAsNC40NCA5LjAwLDMuMjggQyA5LjAwLDIuMTEgOS4zOCwwLjk5IDEwLjAwLDAuMDAgQyA2LjgxLDEuNDkgMy4zOSwyLjM3IDAuMDAsMy4yOFwiKSk6Nj09PWk/KGg9Mi44NCxuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDAuMDAsMi44NCBDIDMuMzksMy41OSA2Ljc5LDQuMzUgMTAuMDAsNS42OCBDIDkuNjcsNC43MyA5LjMzLDMuNzggOS4wMCwyLjg0IEMgOS4zMywxLjg5IDkuNjcsMC45NSAxMC4wMCwwLjAwIEMgNi43OSwxLjMzIDMuMzksMi4wOSAwLjAwLDIuODRcIikpOjc9PT1pPyhoPTUuMixuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDAuMDAsNS4yMCBDIDQuMDQsNS4yMCA3Ljk5LDYuOTIgMTAuMDAsMTAuMzkgTSAxMC4wMCwwLjAwIEMgNy45OSwzLjQ3IDQuMDQsNS4yMCAwLjAwLDUuMjBcIikpOm4uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMTAsMCBMIDAsNSBMIDEwLDEwIHpcIiksLyohVHlwZS5leGlzdHMoZWwucmVuZE5vZGUuZ2V0VG90YWxMZW5ndGgpICYmICovdC5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19MSU5FJiYoYT0yPT09aT80Ljk6Mz09PWk/My4zOjQ9PT1pfHw1PT09aXx8Nj09PWk/Ni42Njo3PT09aT8wOjEwKSk6KGE9MTAsMj09PWk/bi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAwLDAgTCAxMCw1IEwgMCwxMCBMIDUsNSB6XCIpOjM9PT1pPyhhPTMuMyxuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDAsMCBMIDMuMzMsMCBMIDMuMzMsMTAgTCAwLDEwIHpcIikpOjQ9PT1pPyhoPTMuMzEsbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAxMC4wMCwzLjMxIEMgNi40NywzLjg0IDIuODcsNC41MCAwLjAwLDYuNjMgQyAwLjY3LDUuNTIgMS4zMyw0LjQyIDIuMDAsMy4zMSBDIDEuMzMsMi4yMSAwLjY3LDEuMTAgMC4wMCwwLjAwIEMgMi44NywyLjEzIDYuNDcsMi43OSAxMC4wMCwzLjMxXCIpKTo1PT09aT8oaD0zLjI4LG4uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMTAuMDAsMy4yOCBDIDYuNjEsNC4xOSAzLjE5LDUuMDcgMC4wMCw2LjU1IEMgMC42Miw1LjU2IDEuMDAsNC40NCAxLjAwLDMuMjggQyAxLjAwLDIuMTEgMC42MiwwLjk5IDAuMDAsMC4wMCBDIDMuMTksMS40OSA2LjYxLDIuMzcgMTAuMDAsMy4yOFwiKSk6Nj09PWk/KGg9Mi44NCxuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDEwLjAwLDIuODQgQyA2LjYxLDMuNTkgMy4yMSw0LjM1IDAuMDAsNS42OCBDIDAuMzMsNC43MyAwLjY3LDMuNzggMS4wMCwyLjg0IEMgMC42NywxLjg5IDAuMzMsMC45NSAwLjAwLDAuMDAgQyAzLjIxLDEuMzMgNi42MSwyLjA5IDEwLjAwLDIuODRcIikpOjc9PT1pPyhoPTUuMixuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDEwLjAwLDUuMjAgQyA1Ljk2LDUuMjAgMi4wMSw2LjkyIDAuMDAsMTAuMzkgTSAwLjAwLDAuMDAgQyAyLjAxLDMuNDcgNS45Niw1LjIwIDEwLjAwLDUuMjBcIikpOm4uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMCwwIEwgMTAsNSBMIDAsMTAgelwiKSwvKiFUeXBlLmV4aXN0cyhlbC5yZW5kTm9kZS5nZXRUb3RhbExlbmd0aCkgJiYqL3QuZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfTElORSYmKGE9Mj09PWk/NS4xOjM9PT1pPy4wMjo0PT09aXx8NT09PWl8fDY9PT1pPzMuMzM6Nz09PWk/MTA6LjA1KSksNz09PWkmJihvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCJub25lXCIpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS13aWR0aFwiLDEpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJyZWZZXCIsaCksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwicmVmWFwiLGEpLG8uYXBwZW5kQ2hpbGQobiksb30sX3NldEFycm93Q29sb3I6ZnVuY3Rpb24odCxlLGkscixvKXt0JiYocy5pc1N0cmluZyhlKSYmKDchPT1vP3RoaXMuX3NldEF0dHJpYnV0ZSgoZnVuY3Rpb24oKXt0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixlKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsZSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLW9wYWNpdHlcIixpKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsLW9wYWNpdHlcIixpKX0pLHIudmlzUHJvcE9sZC5maWxsY29sb3IpOnRoaXMuX3NldEF0dHJpYnV0ZSgoZnVuY3Rpb24oKXt0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCJub25lXCIpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZVwiLGUpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1vcGFjaXR5XCIsaSl9KSxyLnZpc1Byb3BPbGQuZmlsbGNvbG9yKSksdGhpcy5pc0lFJiZyLnJlbmROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIucmVuZE5vZGUsci5yZW5kTm9kZSkpfSxfc2V0QXJyb3dXaWR0aDpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvO3QmJihvPShzPWUpKnIsdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwidmlld0JveFwiLFwiMCAwIFwiKzEwKnMrXCIgXCIrMTAqcyksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwibWFya2VySGVpZ2h0XCIsbyksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwibWFya2VyV2lkdGhcIixvKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkaXNwbGF5XCIsXCJpbmhlcml0XCIpLHRoaXMuaXNJRSYmaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpLGkpKX0sdXBkYXRlVGlja3M6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG8sbixhLGgsbCxjPVwiXCIsZD10LnRpY2tzLmxlbmd0aCx1PSEwO2ZvcihlPTA7ZTxkO2UrKyl7Zm9yKG49KHI9dC50aWNrc1tlXSlbMF0sYT1yWzFdLGg9bi5sZW5ndGgsbD1cIiBNIFwiK25bMF0rXCIgXCIrYVswXSxzLmlzTnVtYmVyKG5bMF0pfHwodT0hMSksaT0xO3UmJmk8aDsrK2kpcy5pc051bWJlcihuW2ldKT9sKz1cIiBMIFwiK25baV0rXCIgXCIrYVtpXTp1PSExO3UmJihjKz1sKX1vPXQucmVuZE5vZGUscy5leGlzdHMobyl8fChvPXRoaXMuY3JlYXRlUHJpbShcInBhdGhcIix0LmlkKSx0aGlzLmFwcGVuZENoaWxkUHJpbShvLHMuZXZhbHVhdGUodC52aXNQcm9wLmxheWVyKSksdC5yZW5kTm9kZT1vKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixzLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2Vjb2xvcikpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixcIm5vbmVcIiksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLW9wYWNpdHlcIixzLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2VvcGFjaXR5KSksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLXdpZHRoXCIscy5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tld2lkdGgpKSx0aGlzLnVwZGF0ZVBhdGhQcmltKG8sYyx0LmJvYXJkKX0sZGlzcGxheUNvcHlyaWdodDpmdW5jdGlvbih0LGUpe3ZhciBpLHI9dGhpcy5jcmVhdGVQcmltKFwidGV4dFwiLFwibGljZW5zZVRleHRcIik7ci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieFwiLFwiMjBweFwiKSxyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5XCIsMitlK1wicHhcIiksci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3R5bGVcIixcImZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmOyBmb250LXNpemU6XCIrZStcInB4OyBmaWxsOiMzNTZBQTA7ICBvcGFjaXR5OjAuMztcIiksaT10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpLHIuYXBwZW5kQ2hpbGQoaSksdGhpcy5hcHBlbmRDaGlsZFByaW0ociwwKX0sZHJhd0ludGVybmFsVGV4dDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNyZWF0ZVByaW0oXCJ0ZXh0XCIsdC5pZCk7cmV0dXJuIGUuc3R5bGUud2hpdGVTcGFjZT1cIm5vd3JhcFwiLHQucmVuZE5vZGVUZXh0PXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIiksZS5hcHBlbmRDaGlsZCh0LnJlbmROb2RlVGV4dCksdGhpcy5hcHBlbmRDaGlsZFByaW0oZSxzLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLGV9LHVwZGF0ZUludGVybmFsVGV4dDpmdW5jdGlvbih0KXt2YXIgZSxpPXQucGxhaW50ZXh0LHI9dC5nZXRBbmNob3JYKCksbz10LmdldEFuY2hvclkoKTt0LnJlbmROb2RlLmdldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiKSE9PXQudmlzUHJvcC5jc3NjbGFzcyYmKHQucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIscy5ldmFsdWF0ZSh0LnZpc1Byb3AuY3NzY2xhc3MpKSx0Lm5lZWRzU2l6ZVVwZGF0ZT0hMCksaXNOYU4odC5jb29yZHMuc2NyQ29vcmRzWzFdK3QuY29vcmRzLnNjckNvb3Jkc1syXSl8fChlPXQuY29vcmRzLnNjckNvb3Jkc1sxXSx0LnZpc1Byb3BPbGQubGVmdCE9PXIrZSYmKHQucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIixlK1wicHhcIiksXCJsZWZ0XCI9PT1yP3QucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcInRleHQtYW5jaG9yXCIsXCJzdGFydFwiKTpcInJpZ2h0XCI9PT1yP3QucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcInRleHQtYW5jaG9yXCIsXCJlbmRcIik6XCJtaWRkbGVcIj09PXImJnQucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIiksdC52aXNQcm9wT2xkLmxlZnQ9citlKSxlPXQuY29vcmRzLnNjckNvb3Jkc1syXSx0LnZpc1Byb3BPbGQudG9wIT09bytlJiYodC5yZW5kTm9kZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieVwiLGUrLjUqdGhpcy52T2Zmc2V0VGV4dCtcInB4XCIpLFwiYm90dG9tXCI9PT1vP3QucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcImRvbWluYW50LWJhc2VsaW5lXCIsXCJ0ZXh0LWFmdGVyLWVkZ2VcIik6XCJ0b3BcIj09PW8/dC5yZW5kTm9kZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZHlcIixcIjEuNmV4XCIpOlwibWlkZGxlXCI9PT1vJiZ0LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkeVwiLFwiMC42ZXhcIiksdC52aXNQcm9wT2xkLnRvcD1vK2UpKSx0Lmh0bWxTdHIhPT1pJiYodC5yZW5kTm9kZVRleHQuZGF0YT1pLHQuaHRtbFN0cj1pKSx0aGlzLnRyYW5zZm9ybUltYWdlKHQsdC50cmFuc2Zvcm1hdGlvbnMpfSx1cGRhdGVJbnRlcm5hbFRleHRTdHlsZTpmdW5jdGlvbih0LGUsaSxyKXt0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LGUsaSl9LGRyYXdJbWFnZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNyZWF0ZVByaW0oXCJpbWFnZVwiLHQuaWQpO2Uuc2V0QXR0cmlidXRlTlMobnVsbCxcInByZXNlcnZlQXNwZWN0UmF0aW9cIixcIm5vbmVcIiksdGhpcy5hcHBlbmRDaGlsZFByaW0oZSxzLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLHQucmVuZE5vZGU9ZSx0aGlzLnVwZGF0ZUltYWdlKHQpfSx0cmFuc2Zvcm1JbWFnZTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9dC5yZW5kTm9kZSxzPVwiXCI7ZS5sZW5ndGg+MCYmKHMrPVwiIG1hdHJpeChcIitbKGk9dGhpcy5qb2luVHJhbnNmb3Jtcyh0LGUpKVsxXVsxXSxpWzJdWzFdLGlbMV1bMl0saVsyXVsyXSxpWzFdWzBdLGlbMl1bMF1dLmpvaW4oXCIsXCIpK1wiKSBcIixyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ0cmFuc2Zvcm1cIixzKSl9LHVwZGF0ZUltYWdlVVJMOmZ1bmN0aW9uKHQpe3ZhciBlPXMuZXZhbHVhdGUodC51cmwpO3JldHVybiB0Ll9zcmMhPT1lJiYodC5pbWdJc0xvYWRlZD0hMSx0LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKHRoaXMueGxpbmtOYW1lc3BhY2UsXCJ4bGluazpocmVmXCIsZSksdC5fc3JjPWUsITApfSx1cGRhdGVJbWFnZVN0eWxlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9cy5ldmFsdWF0ZShlP3QudmlzUHJvcC5oaWdobGlnaHRjc3NjbGFzczp0LnZpc1Byb3AuY3NzY2xhc3MpO3QucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcImNsYXNzXCIsaSl9LGRyYXdGb3JlaWduT2JqZWN0OmZ1bmN0aW9uKHQpe3QucmVuZE5vZGU9dGhpcy5hcHBlbmRDaGlsZFByaW0odGhpcy5jcmVhdGVQcmltKFwiZm9yZWlnbk9iamVjdFwiLHQuaWQpLHMuZXZhbHVhdGUodC52aXNQcm9wLmxheWVyKSksdGhpcy5hcHBlbmROb2Rlc1RvRWxlbWVudCh0LFwiZm9yZWlnbk9iamVjdFwiKSx0aGlzLnVwZGF0ZUZvcmVpZ25PYmplY3QodCl9LHVwZGF0ZUZvcmVpZ25PYmplY3Q6ZnVuY3Rpb24odCl7dC5fdXNlVXNlclNpemU/dC5yZW5kTm9kZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiOnQucmVuZE5vZGUuc3R5bGUub3ZlcmZsb3c9XCJ2aXNpYmxlXCIsdGhpcy51cGRhdGVSZWN0UHJpbSh0LnJlbmROb2RlLHQuY29vcmRzLnNjckNvb3Jkc1sxXSx0LmNvb3Jkcy5zY3JDb29yZHNbMl0tdC5zaXplWzFdLHQuc2l6ZVswXSx0LnNpemVbMV0pLHQucmVuZE5vZGUuaW5uZXJIVE1MPXQuY29udGVudCx0aGlzLl91cGRhdGVWaXN1YWwodCx7c3Ryb2tlOiEwLGRhc2g6ITB9LCEwKX0sYXBwZW5kQ2hpbGRQcmltOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHMuZXhpc3RzKGkpP2k+PWUubGF5ZXIubnVtbGF5ZXJzJiYoaT1lLmxheWVyLm51bWxheWVycy0xKTppPTAsdGhpcy5sYXllcltpXS5hcHBlbmRDaGlsZCh0KSx0fSxjcmVhdGVQcmltOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zdmdOYW1lc3BhY2UsdCk7cmV0dXJuIGkuc2V0QXR0cmlidXRlTlMobnVsbCxcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfXCIrZSksaS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsXCJwYXRoXCI9PT10JiYoaS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWxpbmVjYXBcIixcInJvdW5kXCIpLGkuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1saW5lam9pblwiLFwicm91bmRcIiksaS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbC1ydWxlXCIsXCJldmVub2RkXCIpKSxpfSxyZW1vdmU6ZnVuY3Rpb24odCl7cy5leGlzdHModCkmJnMuZXhpc3RzKHQucGFyZW50Tm9kZSkmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX0sc2V0TGF5ZXI6ZnVuY3Rpb24odCxpKXtzLmV4aXN0cyhpKT9pPj1lLmxheWVyLm51bWxheWVycyYmKGk9ZS5sYXllci5udW1sYXllcnMtMSk6aT0wLHRoaXMubGF5ZXJbaV0uYXBwZW5kQ2hpbGQodC5yZW5kTm9kZSl9LG1ha2VBcnJvd3M6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPWUuZXZGaXJzdCxvPWUuZXZMYXN0O3QudmlzUHJvcE9sZC5maXJzdGFycm93IT09cnx8dC52aXNQcm9wT2xkLmxhc3RhcnJvdyE9PW8/KHI/KGk9dC5yZW5kTm9kZVRyaWFuZ2xlU3RhcnQscy5leGlzdHMoaSk/dGhpcy5kZWZzLmFwcGVuZENoaWxkKGkpOihpPXRoaXMuX2NyZWF0ZUFycm93SGVhZCh0LFwiRW5kXCIsZS50eXBlRmlyc3QpLHRoaXMuZGVmcy5hcHBlbmRDaGlsZChpKSx0LnJlbmROb2RlVHJpYW5nbGVTdGFydD1pLHQucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcIm1hcmtlci1zdGFydFwiLFwidXJsKCNcIit0aGlzLmNvbnRhaW5lci5pZCtcIl9cIit0LmlkK1wiVHJpYW5nbGVFbmQpXCIpKSk6KGk9dC5yZW5kTm9kZVRyaWFuZ2xlU3RhcnQscy5leGlzdHMoaSkmJnRoaXMucmVtb3ZlKGkpKSxvPyhpPXQucmVuZE5vZGVUcmlhbmdsZUVuZCxzLmV4aXN0cyhpKT90aGlzLmRlZnMuYXBwZW5kQ2hpbGQoaSk6KGk9dGhpcy5fY3JlYXRlQXJyb3dIZWFkKHQsXCJTdGFydFwiLGUudHlwZUxhc3QpLHRoaXMuZGVmcy5hcHBlbmRDaGlsZChpKSx0LnJlbmROb2RlVHJpYW5nbGVFbmQ9aSx0LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJtYXJrZXItZW5kXCIsXCJ1cmwoI1wiK3RoaXMuY29udGFpbmVyLmlkK1wiX1wiK3QuaWQrXCJUcmlhbmdsZVN0YXJ0KVwiKSkpOihpPXQucmVuZE5vZGVUcmlhbmdsZUVuZCxzLmV4aXN0cyhpKSYmdGhpcy5yZW1vdmUoaSkpLHQudmlzUHJvcE9sZC5maXJzdGFycm93PXIsdC52aXNQcm9wT2xkLmxhc3RhcnJvdz1vKTp0aGlzLmlzSUUmJnQudmlzUHJvcENhbGMudmlzaWJsZSYmKHJ8fG8pJiZ0LnJlbmROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQucmVuZE5vZGUsdC5yZW5kTm9kZSl9LHVwZGF0ZUVsbGlwc2VQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyl7dmFyIG87bz0yZTUsZT1NYXRoLmFicyhlKTxvP2U6byplL01hdGguYWJzKGUpLGk9TWF0aC5hYnMoaSk8bz9pOm8qaS9NYXRoLmFicyhpKSxyPU1hdGguYWJzKHIpPG8/cjpvKnIvTWF0aC5hYnMocikscz1NYXRoLmFicyhzKTxvP3M6bypzL01hdGguYWJzKHMpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcImN4XCIsZSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY3lcIixpKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJyeFwiLE1hdGguYWJzKHIpKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJyeVwiLE1hdGguYWJzKHMpKX0sdXBkYXRlTGluZVByaW06ZnVuY3Rpb24odCxlLGkscixzKXt2YXIgbztvPTJlNSxpc05hTihlK2krcitzKXx8KGU9TWF0aC5hYnMoZSk8bz9lOm8qZS9NYXRoLmFicyhlKSxpPU1hdGguYWJzKGkpPG8/aTpvKmkvTWF0aC5hYnMoaSkscj1NYXRoLmFicyhyKTxvP3I6bypyL01hdGguYWJzKHIpLHM9TWF0aC5hYnMocyk8bz9zOm8qcy9NYXRoLmFicyhzKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MVwiLGUpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInkxXCIsaSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDJcIixyKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MlwiLHMpKX0sdXBkYXRlUGF0aFByaW06ZnVuY3Rpb24odCxlKXtcIlwiPT09ZSYmKGU9XCJNIDAgMFwiKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsZSl9LHVwZGF0ZVBhdGhTdHJpbmdQb2ludDpmdW5jdGlvbih0LGUsaSl7dmFyIHI9XCJcIixzPXQuY29vcmRzLnNjckNvb3JkcyxvPWUqTWF0aC5zcXJ0KDMpKi41LG49LjUqZTtyZXR1cm5cInhcIj09PWk/cj1cIiBNIFwiKyhzWzFdLWUpK1wiIFwiKyhzWzJdLWUpK1wiIEwgXCIrKHNbMV0rZSkrXCIgXCIrKHNbMl0rZSkrXCIgTSBcIisoc1sxXStlKStcIiBcIisoc1syXS1lKStcIiBMIFwiKyhzWzFdLWUpK1wiIFwiKyhzWzJdK2UpOlwiK1wiPT09aT9yPVwiIE0gXCIrKHNbMV0tZSkrXCIgXCIrc1syXStcIiBMIFwiKyhzWzFdK2UpK1wiIFwiK3NbMl0rXCIgTSBcIitzWzFdK1wiIFwiKyhzWzJdLWUpK1wiIEwgXCIrc1sxXStcIiBcIisoc1syXStlKTpcIjw+XCI9PT1pP3I9XCIgTSBcIisoc1sxXS1lKStcIiBcIitzWzJdK1wiIEwgXCIrc1sxXStcIiBcIisoc1syXStlKStcIiBMIFwiKyhzWzFdK2UpK1wiIFwiK3NbMl0rXCIgTCBcIitzWzFdK1wiIFwiKyhzWzJdLWUpK1wiIFogXCI6XCJeXCI9PT1pP3I9XCIgTSBcIitzWzFdK1wiIFwiKyhzWzJdLWUpK1wiIEwgXCIrKHNbMV0tbykrXCIgXCIrKHNbMl0rbikrXCIgTCBcIisoc1sxXStvKStcIiBcIisoc1syXStuKStcIiBaIFwiOlwidlwiPT09aT9yPVwiIE0gXCIrc1sxXStcIiBcIisoc1syXStlKStcIiBMIFwiKyhzWzFdLW8pK1wiIFwiKyhzWzJdLW4pK1wiIEwgXCIrKHNbMV0rbykrXCIgXCIrKHNbMl0tbikrXCIgWiBcIjpcIj5cIj09PWk/cj1cIiBNIFwiKyhzWzFdK2UpK1wiIFwiK3NbMl0rXCIgTCBcIisoc1sxXS1uKStcIiBcIisoc1syXS1vKStcIiBMIFwiKyhzWzFdLW4pK1wiIFwiKyhzWzJdK28pK1wiIFogXCI6XCI8XCI9PT1pJiYocj1cIiBNIFwiKyhzWzFdLWUpK1wiIFwiK3NbMl0rXCIgTCBcIisoc1sxXStuKStcIiBcIisoc1syXS1vKStcIiBMIFwiKyhzWzFdK24pK1wiIFwiKyhzWzJdK28pK1wiIFogXCIpLHJ9LHVwZGF0ZVBhdGhTdHJpbmdQcmltOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzPVwiIE0gXCIsbz1zLG49NWUzLGE9XCJcIjtpZih0Lm51bWJlclBvaW50czw9MClyZXR1cm5cIlwiO2lmKHI9TWF0aC5taW4odC5wb2ludHMubGVuZ3RoLHQubnVtYmVyUG9pbnRzKSwxPT09dC5iZXppZXJEZWdyZWUpZm9yKGU9MDtlPHI7ZSsrKWk9dC5wb2ludHNbZV0uc2NyQ29vcmRzLGlzTmFOKGlbMV0pfHxpc05hTihpWzJdKT9vPXM6KGlbMV09TWF0aC5tYXgoTWF0aC5taW4oaVsxXSxuKSwtNWUzKSxpWzJdPU1hdGgubWF4KE1hdGgubWluKGlbMl0sbiksLTVlMyksYSs9bytpWzFdK1wiIFwiK2lbMl0sbz1cIiBMIFwiKTtlbHNlIGlmKDM9PT10LmJlemllckRlZ3JlZSlmb3IoZT0wO2U8cjspaT10LnBvaW50c1tlXS5zY3JDb29yZHMsaXNOYU4oaVsxXSl8fGlzTmFOKGlbMl0pP289czooYSs9bytpWzFdK1wiIFwiK2lbMl0sXCIgQyBcIj09PW8mJihlKz0xLGErPVwiIFwiKyhpPXQucG9pbnRzW2VdLnNjckNvb3JkcylbMV0rXCIgXCIraVsyXSxlKz0xLGErPVwiIFwiKyhpPXQucG9pbnRzW2VdLnNjckNvb3JkcylbMV0rXCIgXCIraVsyXSksbz1cIiBDIFwiKSxlKz0xO3JldHVybiBhfSx1cGRhdGVQYXRoU3RyaW5nQmV6aWVyUHJpbTpmdW5jdGlvbih0KXt2YXIgZSxpLHIsbyxuLGgsbCxjPVwiIE0gXCIsZD1jLHU9NWUzLHA9XCJcIixmPXMuZXZhbHVhdGUodC52aXNQcm9wLnN0cm9rZXdpZHRoKSxtPVwicGxvdFwiIT09cy5ldmFsdWF0ZSh0LnZpc1Byb3AuY3VydmV0eXBlKTtpZih0Lm51bWJlclBvaW50czw9MClyZXR1cm5cIlwiO2ZvcihtJiZ0LmJvYXJkLm9wdGlvbnMuY3VydmUuUkRQc21vb3RoaW5nJiYodC5wb2ludHM9YS5SYW1lckRvdWdsYXNQZXVja2VyKHQucG9pbnRzLC41KSksbD1NYXRoLm1pbih0LnBvaW50cy5sZW5ndGgsdC5udW1iZXJQb2ludHMpLGk9MTtpPDM7aSsrKWZvcihkPWMsZT0wO2U8bDtlKyspbz10LnBvaW50c1tlXS5zY3JDb29yZHMsaXNOYU4ob1sxXSl8fGlzTmFOKG9bMl0pP2Q9Yzoob1sxXT1NYXRoLm1heChNYXRoLm1pbihvWzFdLHUpLC01ZTMpLG9bMl09TWF0aC5tYXgoTWF0aC5taW4ob1syXSx1KSwtNWUzKSxkPT09Yz9wKz1kK29bMV0rXCIgXCIrb1syXToocj0yKmkscCs9W2QsbisuMzMzKihvWzFdLW4pK2YqKHIqTWF0aC5yYW5kb20oKS1pKSxcIiBcIixoKy4zMzMqKG9bMl0taCkrZioocipNYXRoLnJhbmRvbSgpLWkpLFwiIFwiLG4rLjY2Nioob1sxXS1uKStmKihyKk1hdGgucmFuZG9tKCktaSksXCIgXCIsaCsuNjY2KihvWzJdLWgpK2YqKHIqTWF0aC5yYW5kb20oKS1pKSxcIiBcIixvWzFdLFwiIFwiLG9bMl1dLmpvaW4oXCJcIikpLGQ9XCIgQyBcIixuPW9bMV0saD1vWzJdKTtyZXR1cm4gcH0sdXBkYXRlUG9seWdvblByaW06ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM9XCJcIixvPWUudmVydGljZXMubGVuZ3RoO2Zvcih0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcIm5vbmVcIiksXCJwb2x5Z29uYWxjaGFpblwiPT09ZS5lbFR5cGUmJm8rKyxpPTA7aTxvLTE7aSsrKXtpZighZS52ZXJ0aWNlc1tpXS5pc1JlYWwpcmV0dXJuIHZvaWQgdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwicG9pbnRzXCIsXCJcIik7cz1zKyhyPWUudmVydGljZXNbaV0uY29vcmRzLnNjckNvb3JkcylbMV0rXCIsXCIrclsyXSxpPG8tMiYmKHMrPVwiIFwiKX0tMT09PXMuaW5kZXhPZihcIk5hTlwiKSYmdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwicG9pbnRzXCIscyl9LHVwZGF0ZVJlY3RQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyl7dC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieFwiLGUpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInlcIixpKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ3aWR0aFwiLHIpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcImhlaWdodFwiLHMpfSxzZXRQcm9wZXJ0eVByaW06ZnVuY3Rpb24odCxlLGkpe1wic3Ryb2tlZFwiIT09ZSYmdC5zZXRBdHRyaWJ1dGVOUyhudWxsLGUsaSl9LGRpc3BsYXk6ZnVuY3Rpb24odCxlKXt2YXIgaTt0JiZ0LnJlbmROb2RlJiYodC52aXNQcm9wT2xkLnZpc2libGU9ZSxpPXQucmVuZE5vZGUsZT8oaS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGlzcGxheVwiLFwiaW5saW5lXCIpLGkuc3R5bGUudmlzaWJpbGl0eT1cImluaGVyaXRcIik6KGkuc2V0QXR0cmlidXRlTlMobnVsbCxcImRpc3BsYXlcIixcIm5vbmVcIiksaS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIpKX0sc2hvdzpmdW5jdGlvbihlKXt0LmRlcHJlY2F0ZWQoXCJCb2FyZC5yZW5kZXJlci5zaG93KClcIixcIkJvYXJkLnJlbmRlcmVyLmRpc3BsYXkoKVwiKSx0aGlzLmRpc3BsYXkoZSwhMCl9LGhpZGU6ZnVuY3Rpb24oZSl7dC5kZXByZWNhdGVkKFwiQm9hcmQucmVuZGVyZXIuaGlkZSgpXCIsXCJCb2FyZC5yZW5kZXJlci5kaXNwbGF5KClcIiksdGhpcy5kaXNwbGF5KGUsITEpfSxzZXRCdWZmZXJpbmc6ZnVuY3Rpb24odCxlKXt0LnJlbmROb2RlLnNldEF0dHJpYnV0ZShcImJ1ZmZlcmVkLXJlbmRlcmluZ1wiLGUpfSxzZXREYXNoU3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZGFzaCksaT10LnJlbmROb2RlO2U+MD9pLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2UtZGFzaGFycmF5XCIsdGhpcy5kYXNoQXJyYXlbZS0xXSk6aS5oYXNBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWRhc2hhcnJheVwiKSYmaS5yZW1vdmVBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWRhc2hhcnJheVwiKX0sc2V0R3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG89dC5yZW5kTm9kZSxuPXMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50KTtcImxpbmVhclwiPT09bnx8XCJyYWRpYWxcIj09PW4/KGU9dGhpcy5jcmVhdGVQcmltKG4rXCJHcmFkaWVudFwiLHQuaWQrXCJfZ3JhZGllbnRcIiksaT10aGlzLmNyZWF0ZVByaW0oXCJzdG9wXCIsdC5pZCtcIl9ncmFkaWVudDFcIikscj10aGlzLmNyZWF0ZVByaW0oXCJzdG9wXCIsdC5pZCtcIl9ncmFkaWVudDJcIiksZS5hcHBlbmRDaGlsZChpKSxlLmFwcGVuZENoaWxkKHIpLHRoaXMuZGVmcy5hcHBlbmRDaGlsZChlKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHlsZVwiLFwiZmlsbDp1cmwoI1wiK3RoaXMuY29udGFpbmVyLmlkK1wiX1wiK3QuaWQrXCJfZ3JhZGllbnQpXCIpLHQuZ3JhZE5vZGUxPWksdC5ncmFkTm9kZTI9cix0LmdyYWROb2RlPWUpOm8ucmVtb3ZlQXR0cmlidXRlTlMobnVsbCxcInN0eWxlXCIpfSx1cGRhdGVHcmFkaWVudEFuZ2xlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9MSxyPU1hdGguY29zKGUpLHM9TWF0aC5zaW4oZSk7TWF0aC5hYnMocik+TWF0aC5hYnMocyk/aS89TWF0aC5hYnMocik6aS89TWF0aC5hYnMocykscj49MD8odC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIiwwKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MlwiLHIqaSkpOih0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MVwiLC1yKmkpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcIngyXCIsMCkpLHM+PTA/KHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInkxXCIsMCksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIixzKmkpKToodC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTFcIiwtcyppKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MlwiLDApKX0sdXBkYXRlR3JhZGllbnRDaXJjbGU6ZnVuY3Rpb24odCxlLGkscixzLG8sbil7dC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY3hcIiwxMDAqZStcIiVcIiksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiY3lcIiwxMDAqaStcIiVcIiksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiclwiLDEwMCpyK1wiJVwiKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmeFwiLDEwMCpzK1wiJVwiKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmeVwiLDEwMCpvK1wiJVwiKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmclwiLDEwMCpuK1wiJVwiKX0sdXBkYXRlR3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxyPXQuZ3JhZE5vZGUxLG89dC5ncmFkTm9kZTIsbj1zLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudCk7cy5leGlzdHMocikmJnMuZXhpc3RzKG8pJiYoaT0oaT1zLmV2YWx1YXRlKHQudmlzUHJvcC5maWxsb3BhY2l0eSkpPjA/aTowLGU9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZmlsbGNvbG9yKSxyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHlsZVwiLFwic3RvcC1jb2xvcjpcIitlK1wiO3N0b3Atb3BhY2l0eTpcIitpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHlsZVwiLFwic3RvcC1jb2xvcjpcIitzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHNlY29uZGNvbG9yKStcIjtzdG9wLW9wYWNpdHk6XCIrcy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRzZWNvbmRvcGFjaXR5KSksci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwib2Zmc2V0XCIsMTAwKnMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50c3RhcnRvZmZzZXQpK1wiJVwiKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJvZmZzZXRcIiwxMDAqcy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRlbmRvZmZzZXQpK1wiJVwiKSxcImxpbmVhclwiPT09bj90aGlzLnVwZGF0ZUdyYWRpZW50QW5nbGUodC5ncmFkTm9kZSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGFuZ2xlKSk6XCJyYWRpYWxcIj09PW4mJnRoaXMudXBkYXRlR3JhZGllbnRDaXJjbGUodC5ncmFkTm9kZSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGN4KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGN5KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHIpLHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50ZngpLHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50ZnkpLHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50ZnIpKSl9LHNldE9iamVjdFRyYW5zaXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxvLG4sYT1bXCJyZW5kTm9kZVwiLFwicmVuZE5vZGVUcmlhbmdsZVN0YXJ0XCIsXCJyZW5kTm9kZVRyaWFuZ2xlRW5kXCJdO2lmKHZvaWQgMD09PWUmJihlPXMuZXZhbHVhdGUodC52aXNQcm9wLnRyYW5zaXRpb25kdXJhdGlvbikpLGUhPT10LnZpc1Byb3BPbGQudHJhbnNpdGlvbmR1cmF0aW9uKXtmb3IoaT10LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX1RFWFQmJlwiaHRtbFwiPT09cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZGlzcGxheSk/XCIgY29sb3IgXCIrZStcIm1zLCBvcGFjaXR5IFwiK2UrXCJtc1wiOlwiIGZpbGwgXCIrZStcIm1zLCBmaWxsLW9wYWNpdHkgXCIrZStcIm1zLCBzdHJva2UgXCIrZStcIm1zLCBzdHJva2Utb3BhY2l0eSBcIitlK1wibXNcIixuPWEubGVuZ3RoLG89MDtvPG47KytvKXRbYVtvXV0mJih0W2Fbb11dLnN0eWxlLnRyYW5zaXRpb249aSk7dC52aXNQcm9wT2xkLnRyYW5zaXRpb25kdXJhdGlvbj1lfX0sX3NldEF0dHJpYnV0ZTpmdW5jdGlvbih0LGUpe1wiXCI9PT1lP3QoKTp3aW5kb3cuc2V0VGltZW91dCh0LDEpfSxzZXRPYmplY3RGaWxsQ29sb3I6ZnVuY3Rpb24oZSxpLHIsbil7dmFyIGEsaCxsLGMsZD1zLmV2YWx1YXRlKGkpLHU9cy5ldmFsdWF0ZShyKSxwPXMuZXZhbHVhdGUoZS52aXNQcm9wLmdyYWRpZW50KTt1PXU+MD91OjAsZS52aXNQcm9wT2xkLmZpbGxjb2xvcj09PWQmJmUudmlzUHJvcE9sZC5maWxsb3BhY2l0eT09PXUmJm51bGw9PT1wfHwocy5leGlzdHMoZCkmJiExIT09ZCYmKDkhPT1kLmxlbmd0aD8oaD1kLGM9dSk6KGw9by5yZ2JhMnJnYm8oZCksaD1sWzBdLGM9dSpsWzFdKSxhPXZvaWQgMD09PW4/ZS5yZW5kTm9kZTpuLFwibm9uZVwiIT09aCYmdGhpcy5fc2V0QXR0cmlidXRlKChmdW5jdGlvbigpe2Euc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixoKX0pLGUudmlzUHJvcE9sZC5maWxsY29sb3IpLGUudHlwZT09PXQuT0JKRUNUX1RZUEVfSU1BR0U/dGhpcy5fc2V0QXR0cmlidXRlKChmdW5jdGlvbigpe2Euc2V0QXR0cmlidXRlTlMobnVsbCxcIm9wYWNpdHlcIixjKX0pLGUudmlzUHJvcE9sZC5maWxsb3BhY2l0eSk6KFwibm9uZVwiPT09aD8oYz0wLGEuc2V0QXR0cmlidXRlTlMobnVsbCxcInBvaW50ZXItZXZlbnRzXCIsXCJ2aXNpYmxlU3Ryb2tlXCIpKTphLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJwb2ludGVyLWV2ZW50c1wiLFwidmlzaWJsZVBhaW50ZWRcIiksdGhpcy5fc2V0QXR0cmlidXRlKChmdW5jdGlvbigpe2Euc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGwtb3BhY2l0eVwiLGMpfSksZS52aXNQcm9wT2xkLmZpbGxvcGFjaXR5KSksXCJsaW5lYXJcIiE9PXAmJlwicmFkaWFsXCIhPT1wfHx0aGlzLnVwZGF0ZUdyYWRpZW50KGUpKSxlLnZpc1Byb3BPbGQuZmlsbGNvbG9yPWQsZS52aXNQcm9wT2xkLmZpbGxvcGFjaXR5PXUpfSxzZXRPYmplY3RTdHJva2VDb2xvcjpmdW5jdGlvbih0LGUsaSl7dmFyIG4sYSxoLGwsYz1zLmV2YWx1YXRlKGUpLGQ9cy5ldmFsdWF0ZShpKTtkPWQ+MD9kOjAsdC52aXNQcm9wT2xkLnN0cm9rZWNvbG9yPT09YyYmdC52aXNQcm9wT2xkLnN0cm9rZW9wYWNpdHk9PT1kfHwocy5leGlzdHMoYykmJiExIT09YyYmKDkhPT1jLmxlbmd0aD8obj1jLGg9ZCk6KGE9by5yZ2JhMnJnYm8oYyksbj1hWzBdLGg9ZCphWzFdKSxsPXQucmVuZE5vZGUsdC5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19URVhUP1wiaHRtbFwiPT09cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZGlzcGxheSk/dGhpcy5fc2V0QXR0cmlidXRlKChmdW5jdGlvbigpe2wuc3R5bGUuY29sb3I9bixsLnN0eWxlLm9wYWNpdHk9aH0pLHQudmlzUHJvcE9sZC5zdHJva2Vjb2xvcik6dGhpcy5fc2V0QXR0cmlidXRlKChmdW5jdGlvbigpe2wuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0eWxlXCIsXCJmaWxsOlwiK24pLGwuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0eWxlXCIsXCJmaWxsLW9wYWNpdHk6XCIraCl9KSx0LnZpc1Byb3BPbGQuc3Ryb2tlY29sb3IpOnRoaXMuX3NldEF0dHJpYnV0ZSgoZnVuY3Rpb24oKXtsLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixuKSxsLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2Utb3BhY2l0eVwiLGgpfSksdC52aXNQcm9wT2xkLnN0cm9rZWNvbG9yKSx0LmVsZW1lbnRDbGFzcyE9PXIuT0JKRUNUX0NMQVNTX0NVUlZFJiZ0LmVsZW1lbnRDbGFzcyE9PXIuT0JKRUNUX0NMQVNTX0xJTkV8fChzLmV2YWx1YXRlKHQudmlzUHJvcC5maXJzdGFycm93KSYmdGhpcy5fc2V0QXJyb3dDb2xvcih0LnJlbmROb2RlVHJpYW5nbGVTdGFydCxuLGgsdCx0LnZpc1Byb3BDYWxjLnR5cGVGaXJzdCkscy5ldmFsdWF0ZSh0LnZpc1Byb3AubGFzdGFycm93KSYmdGhpcy5fc2V0QXJyb3dDb2xvcih0LnJlbmROb2RlVHJpYW5nbGVFbmQsbixoLHQsdC52aXNQcm9wQ2FsYy50eXBlTGFzdCkpKSx0LnZpc1Byb3BPbGQuc3Ryb2tlY29sb3I9Yyx0LnZpc1Byb3BPbGQuc3Ryb2tlb3BhY2l0eT1kKX0sc2V0T2JqZWN0U3Ryb2tlV2lkdGg6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPXMuZXZhbHVhdGUoZSk7aXNOYU4ocil8fHQudmlzUHJvcE9sZC5zdHJva2V3aWR0aD09PXJ8fChpPXQucmVuZE5vZGUsdGhpcy5zZXRQcm9wZXJ0eVByaW0oaSxcInN0cm9rZWRcIixcInRydWVcIikscy5leGlzdHMocikmJnRoaXMuc2V0UHJvcGVydHlQcmltKGksXCJzdHJva2Utd2lkdGhcIixyK1wicHhcIiksdC52aXNQcm9wT2xkLnN0cm9rZXdpZHRoPXIpfSxzZXRMaW5lQ2FwOmZ1bmN0aW9uKHQpe3ZhciBlPXMuZXZhbHVhdGUodC52aXNQcm9wLmxpbmVjYXApO3ZvaWQgMCE9PWUmJlwiXCIhPT1lJiZ0LnZpc1Byb3BPbGQubGluZWNhcCE9PWUmJnMuZXhpc3RzKHQucmVuZE5vZGUpJiYodGhpcy5zZXRQcm9wZXJ0eVByaW0odC5yZW5kTm9kZSxcInN0cm9rZS1saW5lY2FwXCIsZSksdC52aXNQcm9wT2xkLmxpbmVjYXA9ZSl9LHNldFNoYWRvdzpmdW5jdGlvbih0KXt2YXIgZT1zLmV2YWx1YXRlKHQudmlzUHJvcC5zaGFkb3cpO3QudmlzUHJvcE9sZC5zaGFkb3chPT1lJiYocy5leGlzdHModC5yZW5kTm9kZSkmJihlP3QucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbHRlclwiLFwidXJsKCNcIit0aGlzLmNvbnRhaW5lci5pZCtcIl9mMSlcIik6dC5yZW5kTm9kZS5yZW1vdmVBdHRyaWJ1dGVOUyhudWxsLFwiZmlsdGVyXCIpKSx0LnZpc1Byb3BPbGQuc2hhZG93PWUpfSxzdXNwZW5kUmVkcmF3OmZ1bmN0aW9uKCl7fSx1bnN1c3BlbmRSZWRyYXc6ZnVuY3Rpb24oKXt9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHBhcnNlRmxvYXQodCkpLHRoaXMuc3ZnUm9vdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixwYXJzZUZsb2F0KGUpKX0sY3JlYXRlVG91Y2hwb2ludHM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHM7Zm9yKHRoaXMudG91Y2hwb2ludHM9W10sZT0wO2U8dDtlKyspaT1cInRvdWNocG9pbnQxX1wiK2Uscz10aGlzLmNyZWF0ZVByaW0oXCJwYXRoXCIsaSksdGhpcy5hcHBlbmRDaGlsZFByaW0ocywxOSkscy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAwIDBcIiksdGhpcy50b3VjaHBvaW50cy5wdXNoKHMpLHRoaXMuc2V0UHJvcGVydHlQcmltKHMsXCJzdHJva2VkXCIsXCJ0cnVlXCIpLHRoaXMuc2V0UHJvcGVydHlQcmltKHMsXCJzdHJva2Utd2lkdGhcIixcIjFweFwiKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcIiMwMDAwMDBcIikscy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLW9wYWNpdHlcIiwxKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkaXNwbGF5XCIsXCJub25lXCIpLHI9XCJ0b3VjaHBvaW50Ml9cIitlLHM9dGhpcy5jcmVhdGVQcmltKFwiZWxsaXBzZVwiLHIpLHRoaXMuYXBwZW5kQ2hpbGRQcmltKHMsMTkpLHRoaXMudXBkYXRlRWxsaXBzZVByaW0ocywwLDAsMCwwKSx0aGlzLnRvdWNocG9pbnRzLnB1c2gocyksdGhpcy5zZXRQcm9wZXJ0eVByaW0ocyxcInN0cm9rZWRcIixcInRydWVcIiksdGhpcy5zZXRQcm9wZXJ0eVByaW0ocyxcInN0cm9rZS13aWR0aFwiLFwiMXB4XCIpLHMuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZVwiLFwiIzAwMDAwMFwiKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2Utb3BhY2l0eVwiLDEpLHMuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGxcIixcIiNmZmZmZmZcIikscy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbC1vcGFjaXR5XCIsMCkscy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGlzcGxheVwiLFwibm9uZVwiKX0sc2hvd1RvdWNocG9pbnQ6ZnVuY3Rpb24odCl7dGhpcy50b3VjaHBvaW50cyYmdD49MCYmMip0PHRoaXMudG91Y2hwb2ludHMubGVuZ3RoJiYodGhpcy50b3VjaHBvaW50c1syKnRdLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkaXNwbGF5XCIsXCJpbmxpbmVcIiksdGhpcy50b3VjaHBvaW50c1syKnQrMV0uc2V0QXR0cmlidXRlTlMobnVsbCxcImRpc3BsYXlcIixcImlubGluZVwiKSl9LGhpZGVUb3VjaHBvaW50OmZ1bmN0aW9uKHQpe3RoaXMudG91Y2hwb2ludHMmJnQ+PTAmJjIqdDx0aGlzLnRvdWNocG9pbnRzLmxlbmd0aCYmKHRoaXMudG91Y2hwb2ludHNbMip0XS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGlzcGxheVwiLFwibm9uZVwiKSx0aGlzLnRvdWNocG9pbnRzWzIqdCsxXS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGlzcGxheVwiLFwibm9uZVwiKSl9LHVwZGF0ZVRvdWNocG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxyO3RoaXMudG91Y2hwb2ludHMmJnQ+PTAmJjIqdDx0aGlzLnRvdWNocG9pbnRzLmxlbmd0aCYmKGk9ZVswXSxyPWVbMV0sdGhpcy50b3VjaHBvaW50c1syKnRdLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIFwiKyhpLTM3KStcIiBcIityK1wiIEwgXCIrKGkrMzcpK1wiIFwiK3IrXCIgTSBcIitpK1wiIFwiKyhyLTM3KStcIiBMIFwiK2krXCIgXCIrKHIrMzcpKSx0aGlzLnVwZGF0ZUVsbGlwc2VQcmltKHRoaXMudG91Y2hwb2ludHNbMip0KzFdLGVbMF0sZVsxXSwyNSwyNSkpfSxfZ2V0VmFsdWVzT2ZET01FbGVtZW50czpmdW5jdGlvbih0KXt2YXIgZT1bXTtpZigxPT09dC5ub2RlVHlwZSlmb3IodD10LmZpcnN0Q2hpbGQ7dDspdm9pZCAwIT09dC5pZCYmdm9pZCAwIT09dC52YWx1ZSYmZS5wdXNoKFt0LmlkLHQudmFsdWVdKSxlPWUuY29uY2F0KHRoaXMuX2dldFZhbHVlc09mRE9NRWxlbWVudHModCkpLHQ9dC5uZXh0U2libGluZztyZXR1cm4gZX0sX2dldERhdGFVcmk6ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgSW1hZ2U7aS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Qud2lkdGg9dGhpcy5uYXR1cmFsV2lkdGgsdC5oZWlnaHQ9dGhpcy5uYXR1cmFsSGVpZ2h0LHQuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZSh0aGlzLDAsMCksZSh0LnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSksdC5yZW1vdmUoKX0saS5zcmM9dH0sX2dldEltZ0RhdGFVUkw6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuO2lmKChpPShlPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbWFnZVwiKSkubGVuZ3RoKT4wKWZvcihyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksbj0wO248aTtuKyspe2Vbbl0uc2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIixcImFub255bW91c1wiKSxzPXIuZ2V0Q29udGV4dChcIjJkXCIpLHIud2lkdGg9ZVtuXS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSxyLmhlaWdodD1lW25dLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKTt0cnl7cy5kcmF3SW1hZ2UoZVtuXSwwLDAsci53aWR0aCxyLmhlaWdodCksbz1yLnRvRGF0YVVSTCgpLGVbbl0uc2V0QXR0cmlidXRlKFwieGxpbms6aHJlZlwiLG8pfWNhdGNoKHQpe2NvbnNvbGUubG9nKFwiQ09SUyBwcm9ibGVtISBJbWFnZSBjYW4gbm90IGJlIHVzZWRcIix0KX19cmV0dXJuITB9LGR1bXBUb0RhdGFVUkk6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG89dGhpcy5zdmdSb290LGE9d2luZG93LmJ0b2F8fG4uZW5jb2RlLGg9W107aWYodGhpcy5jb250YWluZXIuaGFzQ2hpbGROb2RlcygpJiZzLmV4aXN0cyh0aGlzLmZvcmVpZ25PYmpMYXllcikpZm9yKHR8fHRoaXMuZm9yZWlnbk9iakxheWVyLnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIixcImlubGluZVwiKTtvLm5leHRTaWJsaW5nOyloPWguY29uY2F0KHRoaXMuX2dldFZhbHVlc09mRE9NRWxlbWVudHMoby5uZXh0U2libGluZykpLHRoaXMuZm9yZWlnbk9iakxheWVyLmFwcGVuZENoaWxkKG8ubmV4dFNpYmxpbmcpO2lmKHRoaXMuX2dldEltZ0RhdGFVUkwobyksby5zZXRBdHRyaWJ1dGUoXCJ4bWxuc1wiLFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiksZT0obmV3IFhNTFNlcmlhbGl6ZXIpLnNlcmlhbGl6ZVRvU3RyaW5nKG8pLCEwIT09dClmb3Iocj1oLmxlbmd0aCxpPTA7aTxyO2krKyllPWUucmVwbGFjZSgnaWQ9XCInK2hbaV1bMF0rJ1wiJywnaWQ9XCInK2hbaV1bMF0rJ1wiIHZhbHVlPVwiJytoW2ldWzFdKydcIicpO2lmKChlLm1hdGNoKC94bWxucz1cImh0dHA6XFwvXFwvd3d3LnczLm9yZ1xcLzIwMDBcXC9zdmdcIi9nKXx8W10pLmxlbmd0aD4xJiYoZT1lLnJlcGxhY2UoL3htbG5zPVwiaHR0cDpcXC9cXC93d3cudzMub3JnXFwvMjAwMFxcL3N2Z1wiL2csXCJcIikpLGU9ZS5yZXBsYWNlKC8mbmJzcDsvZyxcIiBcIikscy5leGlzdHModGhpcy5mb3JlaWduT2JqTGF5ZXIpJiZ0aGlzLmZvcmVpZ25PYmpMYXllci5oYXNDaGlsZE5vZGVzKCkpe2Zvcig7dGhpcy5mb3JlaWduT2JqTGF5ZXIuZmlyc3RDaGlsZDspdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mb3JlaWduT2JqTGF5ZXIuZmlyc3RDaGlsZCk7dGhpcy5mb3JlaWduT2JqTGF5ZXIuc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwibm9uZVwiKX1yZXR1cm5cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsXCIrYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpKX0sZHVtcFRvQ2FudmFzOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG8sbixhO3JldHVybihuPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpLndpZHRoPW4ud2lkdGgsYT1uLmdldENvbnRleHQoXCIyZFwiKSx2b2lkIDAhPT1lJiZ2b2lkIDAhPT1pJiYobi5zdHlsZS53aWR0aD1wYXJzZUZsb2F0KGUpK1wicHhcIixuLnN0eWxlLmhlaWdodD1wYXJzZUZsb2F0KGkpK1wicHhcIixuLnNldEF0dHJpYnV0ZShcIndpZHRoXCIscGFyc2VGbG9hdChlKSksbi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixwYXJzZUZsb2F0KGkpKSksbz1uZXcgSW1hZ2Uscz10aGlzLmR1bXBUb0RhdGFVUkkociksby5zcmM9cyxcIlByb21pc2VcImluIHdpbmRvdz9uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCxyKXt0cnl7by5vbmxvYWQ9ZnVuY3Rpb24oKXthLmRyYXdJbWFnZShvLDAsMCxlLGkpLHQoKX19Y2F0Y2godCl7cih0KX19KSk6KG8ub25sb2FkPWZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dHJ5e2EuZHJhd0ltYWdlKG8sMCwwLGUsaSl9Y2F0Y2godCl7Y29uc29sZS5sb2coXCJzY3JlZW5zaG90cyBub3QgbG9uZ2VyIHN1cHBvcnRlZCBvbiBJRVwiKX19KSwyMDApfSx0aGlzKX0sc2NyZWVuc2hvdDpmdW5jdGlvbih0LGUsaSl7dmFyIHIsbyxuLGEsaCxsLGMsZCx1LHAsZixtPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQsZz10aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlLGI9dC5hdHRyLnNjcmVlbnNob3Qsdj0hMTtyZXR1cm5cIm5vXCI9PT10aGlzLnR5cGV8fChjPWIuc2NhbGUqdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsZD1iLnNjYWxlKnRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCx2b2lkIDA9PT1lfHxcIlwiPT09ZT8odj0hMCwoYT1uZXcgSW1hZ2UpLnN0eWxlLndpZHRoPWMrXCJweFwiLGEuc3R5bGUuaGVpZ2h0PWQrXCJweFwiKToodj0hMSxhPW0uZ2V0RWxlbWVudEJ5SWQoZSkpLHYmJigocj1tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnN0eWxlLmNzc1RleHQ9Yi5jc3Msci5zdHlsZS53aWR0aD1jK1wicHhcIixyLnN0eWxlLmhlaWdodD1kK1wicHhcIixyLnN0eWxlLnpJbmRleD10aGlzLmNvbnRhaW5lci5zdHlsZS56SW5kZXgrMTIwLHIuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHIuc3R5bGUudG9wPXRoaXMuY29udGFpbmVyLm9mZnNldFRvcCtcInB4XCIsci5zdHlsZS5sZWZ0PXRoaXMuY29udGFpbmVyLm9mZnNldExlZnQrXCJweFwiKSxvPW0uY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxuPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLDUpLG8uc2V0QXR0cmlidXRlKFwiaWRcIixuKSxvLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYyksby5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixkKSxvLnN0eWxlLndpZHRoPWMrXCJweFwiLG8uc3R5bGUuaGVpZ2h0PWMrXCJweFwiLG8uc3R5bGUuZGlzcGxheT1cIm5vbmVcIixnLmFwcGVuZENoaWxkKG8pLHYmJihoPW0uY3JlYXRlRWxlbWVudChcInNwYW5cIiksbD1tLmNyZWF0ZVRleHROb2RlKFwi4pyWXCIpLGguc3R5bGUuY3NzVGV4dD1iLmNzc0J1dHRvbixoLmFwcGVuZENoaWxkKGwpLGgub25jbGljaz1mdW5jdGlvbigpe3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKX0sci5hcHBlbmRDaGlsZChhKSxyLmFwcGVuZENoaWxkKGgpLGcuaW5zZXJ0QmVmb3JlKHIsdGhpcy5jb250YWluZXIubmV4dFNpYmxpbmcpKSx1PW0uZ2V0RWxlbWVudEJ5SWQodGhpcy5jb250YWluZXIuaWQrXCJfbmF2aWdhdGlvbmJhclwiKSxzLmV4aXN0cyh1KSYmKHA9dS5zdHlsZS5kaXNwbGF5LHUuc3R5bGUuZGlzcGxheT1cIm5vbmVcIiksZj1mdW5jdGlvbigpe2Euc3JjPW8udG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpLGcucmVtb3ZlQ2hpbGQobyl9LFwiUHJvbWlzZVwiaW4gd2luZG93P3RoaXMuZHVtcFRvQ2FudmFzKG4sYyxkLGkpLnRoZW4oZik6KHRoaXMuZHVtcFRvQ2FudmFzKG4sYyxkLGkpLHdpbmRvdy5zZXRUaW1lb3V0KGYsMjAwKSkscy5leGlzdHModSkmJih1LnN0eWxlLmRpc3BsYXk9cCkpLHRoaXN9fSksdC5TVkdSZW5kZXJlcn0pKSxkZWZpbmUoXCJyZW5kZXJlci92bWxcIixbXCJqeGdcIixcInJlbmRlcmVyL2Fic3RyYWN0XCIsXCJiYXNlL2NvbnN0YW50c1wiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMvY29sb3JcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9udW1lcmljc1wiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuVk1MUmVuZGVyZXI9ZnVuY3Rpb24oZSl7dGhpcy50eXBlPVwidm1sXCIsdGhpcy5jb250YWluZXI9ZSx0aGlzLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLFwiXCI9PT10aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiYmKHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksdGhpcy5jb250YWluZXIub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe3JldHVybiExfSx0aGlzLnJlc29sdXRpb249MTAsci5leGlzdHModC52bWxTdHlsZXNoZWV0KXx8KGUub3duZXJEb2N1bWVudC5uYW1lc3BhY2VzLmFkZChcImp4Z3ZtbFwiLFwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWxcIiksdC52bWxTdHlsZXNoZWV0PXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlU3R5bGVTaGVldCgpLHQudm1sU3R5bGVzaGVldC5hZGRSdWxlKFwiLmp4Z3ZtbFwiLFwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIikpO3RyeXtlLm93bmVyRG9jdW1lbnQubmFtZXNwYWNlcy5qeGd2bWx8fGUub3duZXJEb2N1bWVudC5uYW1lc3BhY2VzLmFkZChcImp4Z3ZtbFwiLFwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWxcIiksdGhpcy5jcmVhdGVOb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIjxqeGd2bWw6XCIrdCsnIGNsYXNzPVwianhndm1sXCI+Jyl9fWNhdGNoKHQpe3RoaXMuY3JlYXRlTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCI8XCIrdCsnIHhtbG5zPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LmNvbTp2bWxcIiBjbGFzcz1cImp4Z3ZtbFwiPicpfX10aGlzLmRhc2hBcnJheT1bXCJTb2xpZFwiLFwiMSAxXCIsXCJTaG9ydERhc2hcIixcIkRhc2hcIixcIkxvbmdEYXNoXCIsXCJTaG9ydERhc2hEb3RcIixcIkxvbmdEYXNoRG90XCJdfSx0LlZNTFJlbmRlcmVyLnByb3RvdHlwZT1uZXcgZSx0LmV4dGVuZCh0LlZNTFJlbmRlcmVyLnByb3RvdHlwZSx7X3NldEF0dHI6ZnVuY3Rpb24oZSxpLHIscyl7dHJ5ezg9PT10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmRvY3VtZW50TW9kZT9lW2ldPXI6ZS5zZXRBdHRyaWJ1dGUoaSxyLHMpfWNhdGNoKGUpe3QuZGVidWcoXCJfc2V0QXR0cjogXCIraStcIiBcIityK1wiPGJyPlxcblwiKX19LHVwZGF0ZVRpY2tzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscyxvLG4sYT10aGlzLnJlc29sdXRpb24saD1bXTtmb3IoaT10LnRpY2tzLmxlbmd0aCxlPTA7ZTxpO2UrKylvPShzPXQudGlja3NbZV0pWzBdLG49c1sxXSxyLmlzTnVtYmVyKG9bMF0pJiZyLmlzTnVtYmVyKG9bMV0pJiZoLnB1c2goXCIgbSBcIitNYXRoLnJvdW5kKGEqb1swXSkrXCIsIFwiK01hdGgucm91bmQoYSpuWzBdKStcIiBsIFwiK01hdGgucm91bmQoYSpvWzFdKStcIiwgXCIrTWF0aC5yb3VuZChhKm5bMV0pK1wiIFwiKTtyLmV4aXN0cyh0LnJlbmROb2RlKXx8KHQucmVuZE5vZGU9dGhpcy5jcmVhdGVQcmltKFwicGF0aFwiLHQuaWQpLHRoaXMuYXBwZW5kQ2hpbGRQcmltKHQucmVuZE5vZGUsci5ldmFsdWF0ZSh0LnZpc1Byb3AubGF5ZXIpKSksdGhpcy5fc2V0QXR0cih0LnJlbmROb2RlLFwic3Ryb2tlZFwiLFwidHJ1ZVwiKSx0aGlzLl9zZXRBdHRyKHQucmVuZE5vZGUsXCJzdHJva2Vjb2xvclwiLHIuZXZhbHVhdGUodC52aXNQcm9wLnN0cm9rZWNvbG9yKSwxKSx0aGlzLl9zZXRBdHRyKHQucmVuZE5vZGUsXCJzdHJva2V3ZWlnaHRcIixyLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2V3aWR0aCkpLHRoaXMuX3NldEF0dHIodC5yZW5kTm9kZVN0cm9rZSxcIm9wYWNpdHlcIiwxMDAqci5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tlb3BhY2l0eSkrXCIlXCIpLHRoaXMudXBkYXRlUGF0aFByaW0odC5yZW5kTm9kZSxoLHQuYm9hcmQpfSxkaXNwbGF5Q29weXJpZ2h0OmZ1bmN0aW9uKHQsZSl7dmFyIGkscjsoaT10aGlzLmNyZWF0ZU5vZGUoXCJ0ZXh0Ym94XCIpKS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5fc2V0QXR0cihpLFwiaWRcIix0aGlzLmNvbnRhaW5lci5pZCtcIl9saWNlbnNlVGV4dFwiKSxpLnN0eWxlLmxlZnQ9MjAsaS5zdHlsZS50b3A9MixpLnN0eWxlLmZvbnRTaXplPWUsaS5zdHlsZS5jb2xvcj1cIiMzNTZBQTBcIixpLnN0eWxlLmZvbnRGYW1pbHk9XCJBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZlwiLHRoaXMuX3NldEF0dHIoaSxcIm9wYWNpdHlcIixcIjMwJVwiKSxpLnN0eWxlLmZpbHRlcj1cInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPScxLjAnLCBzaXppbmdNZXRob2Q9J2F1dG8gZXhwYW5kJywgZW5hYmxlZCA9IGZhbHNlKSBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eSA9IDMwLCBlbmFibGVkID0gdHJ1ZSlcIixyPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCksaS5hcHBlbmRDaGlsZChyKSx0aGlzLmFwcGVuZENoaWxkUHJpbShpLDApfSxkcmF3SW50ZXJuYWxUZXh0OmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybihlPXRoaXMuY3JlYXRlTm9kZShcInRleHRib3hcIikpLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0LnJlbmROb2RlVGV4dD10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLGUuYXBwZW5kQ2hpbGQodC5yZW5kTm9kZVRleHQpLHRoaXMuYXBwZW5kQ2hpbGRQcmltKGUsOSksZS5zdHlsZS5maWx0ZXI9XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0nMS4wJywgc2l6aW5nTWV0aG9kPSdhdXRvIGV4cGFuZCcsIGVuYWJsZWQgPSBmYWxzZSkgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKG9wYWNpdHkgPSAxMDAsIGVuYWJsZWQgPSBmYWxzZSlcIixlfSx1cGRhdGVJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbixhLGg9dC5wbGFpbnRleHQsbD10aGlzLmpvaW5UcmFuc2Zvcm1zKHQsdC50cmFuc2Zvcm1hdGlvbnMpLGM9WzAsMF0sZD10LnJlbmROb2RlLHU9W10scD10LmdldEFuY2hvclgoKSxmPXQuZ2V0QW5jaG9yWSgpO2lmKCFpc05hTih0LmNvb3Jkcy5zY3JDb29yZHNbMV0rdC5jb29yZHMuc2NyQ29vcmRzWzJdKSl7Zm9yKFwicmlnaHRcIj09PXA/Y1swXT0xOlwibWlkZGxlXCI9PT1wJiYoY1swXT0uNSksXCJib3R0b21cIj09PWY/Y1sxXT0xOlwibWlkZGxlXCI9PT1mJiYoY1sxXT0uNSksdVswXT1vLm1hdFZlY011bHQobCxbMSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0tY1swXSp0LnNpemVbMF0sdC5jb29yZHMuc2NyQ29vcmRzWzJdKygxLWNbMV0pKnQuc2l6ZVsxXSt0aGlzLnZPZmZzZXRUZXh0XSksdVswXVsxXS89dVswXVswXSx1WzBdWzJdLz11WzBdWzBdLHVbMV09by5tYXRWZWNNdWx0KGwsWzEsdC5jb29yZHMuc2NyQ29vcmRzWzFdKygxLWNbMF0pKnQuc2l6ZVswXSx0LmNvb3Jkcy5zY3JDb29yZHNbMl0rKDEtY1sxXSkqdC5zaXplWzFdK3RoaXMudk9mZnNldFRleHRdKSx1WzFdWzFdLz11WzFdWzBdLHVbMV1bMl0vPXVbMV1bMF0sdVsyXT1vLm1hdFZlY011bHQobCxbMSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0rKDEtY1swXSkqdC5zaXplWzBdLHQuY29vcmRzLnNjckNvb3Jkc1syXS1jWzFdKnQuc2l6ZVsxXSt0aGlzLnZPZmZzZXRUZXh0XSksdVsyXVsxXS89dVsyXVswXSx1WzJdWzJdLz11WzJdWzBdLHVbM109by5tYXRWZWNNdWx0KGwsWzEsdC5jb29yZHMuc2NyQ29vcmRzWzFdLWNbMF0qdC5zaXplWzBdLHQuY29vcmRzLnNjckNvb3Jkc1syXS1jWzFdKnQuc2l6ZVsxXSt0aGlzLnZPZmZzZXRUZXh0XSksdVszXVsxXS89dVszXVswXSx1WzNdWzJdLz11WzNdWzBdLGk9dVswXVsxXSxzPXVbMF1bMV0scj11WzBdWzJdLG49dVswXVsyXSxhPTE7YTw0O2ErKylpPU1hdGgubWF4KGksdVthXVsxXSkscz1NYXRoLm1pbihzLHVbYV1bMV0pLHI9TWF0aC5tYXgocix1W2FdWzJdKSxuPU1hdGgubWluKG4sdVthXVsyXSk7ZT0xPT09Y1swXT9NYXRoLmZsb29yKHQuYm9hcmQuY2FudmFzV2lkdGgtaSk6TWF0aC5mbG9vcihzKSx0LnZpc1Byb3BPbGQubGVmdCE9PXArZSYmKDE9PT1jWzBdPyh0LnJlbmROb2RlLnN0eWxlLnJpZ2h0PWUrXCJweFwiLHQucmVuZE5vZGUuc3R5bGUubGVmdD1cImF1dG9cIik6KHQucmVuZE5vZGUuc3R5bGUubGVmdD1lK1wicHhcIix0LnJlbmROb2RlLnN0eWxlLnJpZ2h0PVwiYXV0b1wiKSx0LnZpc1Byb3BPbGQubGVmdD1wK2UpLGU9MT09PWNbMV0/TWF0aC5mbG9vcih0LmJvYXJkLmNhbnZhc0hlaWdodC1yKTpNYXRoLmZsb29yKG4pLHQudmlzUHJvcE9sZC50b3AhPT1mK2UmJigxPT09Y1sxXT8odC5yZW5kTm9kZS5zdHlsZS5ib3R0b209ZStcInB4XCIsdC5yZW5kTm9kZS5zdHlsZS50b3A9XCJhdXRvXCIpOih0LnJlbmROb2RlLnN0eWxlLnRvcD1lK1wicHhcIix0LnJlbmROb2RlLnN0eWxlLmJvdHRvbT1cImF1dG9cIiksdC52aXNQcm9wT2xkLnRvcD1mK2UpfXQuaHRtbFN0ciE9PWgmJih0LnJlbmROb2RlVGV4dC5kYXRhPWgsdC5odG1sU3RyPWgpLGQuZmlsdGVycy5pdGVtKDApLk0xMT1sWzFdWzFdLGQuZmlsdGVycy5pdGVtKDApLk0xMj1sWzFdWzJdLGQuZmlsdGVycy5pdGVtKDApLk0yMT1sWzJdWzFdLGQuZmlsdGVycy5pdGVtKDApLk0yMj1sWzJdWzJdLGQuZmlsdGVycy5pdGVtKDApLmVuYWJsZWQ9ITB9LGRyYXdJbWFnZTpmdW5jdGlvbih0KXt2YXIgZTsoZT10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIikpLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIix0aGlzLl9zZXRBdHRyKGUsXCJpZFwiLHRoaXMuY29udGFpbmVyLmlkK1wiX1wiK3QuaWQpLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGUpLHRoaXMuYXBwZW5kQ2hpbGRQcmltKGUsci5ldmFsdWF0ZSh0LnZpc1Byb3AubGF5ZXIpKSxlLnN0eWxlLmZpbHRlcj1cInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPScxLjAnLCBzaXppbmdNZXRob2Q9J2F1dG8gZXhwYW5kJykgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKG9wYWNpdHkgPSAxMDAsIGVuYWJsZWQgPSBmYWxzZSlcIix0LnJlbmROb2RlPWUsdGhpcy51cGRhdGVJbWFnZSh0KX0sdHJhbnNmb3JtSW1hZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbixhLGgsbD10LnJlbmROb2RlLGM9W107aWYoZS5sZW5ndGg+MCl7Zm9yKGk9dGhpcy5qb2luVHJhbnNmb3Jtcyh0LGUpLGNbMF09by5tYXRWZWNNdWx0KGksdC5jb29yZHMuc2NyQ29vcmRzKSxjWzBdWzFdLz1jWzBdWzBdLGNbMF1bMl0vPWNbMF1bMF0sY1sxXT1vLm1hdFZlY011bHQoaSxbMSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0rdC5zaXplWzBdLHQuY29vcmRzLnNjckNvb3Jkc1syXV0pLGNbMV1bMV0vPWNbMV1bMF0sY1sxXVsyXS89Y1sxXVswXSxjWzJdPW8ubWF0VmVjTXVsdChpLFsxLHQuY29vcmRzLnNjckNvb3Jkc1sxXSt0LnNpemVbMF0sdC5jb29yZHMuc2NyQ29vcmRzWzJdLXQuc2l6ZVsxXV0pLGNbMl1bMV0vPWNbMl1bMF0sY1syXVsyXS89Y1syXVswXSxjWzNdPW8ubWF0VmVjTXVsdChpLFsxLHQuY29vcmRzLnNjckNvb3Jkc1sxXSx0LmNvb3Jkcy5zY3JDb29yZHNbMl0tdC5zaXplWzFdXSksY1szXVsxXS89Y1szXVswXSxjWzNdWzJdLz1jWzNdWzBdLHI9Y1swXVsxXSxuPWNbMF1bMV0scz1jWzBdWzJdLGE9Y1swXVsyXSxoPTE7aDw0O2grKylyPU1hdGgubWF4KHIsY1toXVsxXSksbj1NYXRoLm1pbihuLGNbaF1bMV0pLHM9TWF0aC5tYXgocyxjW2hdWzJdKSxhPU1hdGgubWluKGEsY1toXVsyXSk7bC5zdHlsZS5sZWZ0PU1hdGguZmxvb3IobikrXCJweFwiLGwuc3R5bGUudG9wPU1hdGguZmxvb3IoYSkrXCJweFwiLGwuZmlsdGVycy5pdGVtKDApLk0xMT1pWzFdWzFdLGwuZmlsdGVycy5pdGVtKDApLk0xMj1pWzFdWzJdLGwuZmlsdGVycy5pdGVtKDApLk0yMT1pWzJdWzFdLGwuZmlsdGVycy5pdGVtKDApLk0yMj1pWzJdWzJdLGwuZmlsdGVycy5pdGVtKDApLmVuYWJsZWQ9ITB9fSx1cGRhdGVJbWFnZVVSTDpmdW5jdGlvbih0KXt2YXIgZT1yLmV2YWx1YXRlKHQudXJsKTt0aGlzLl9zZXRBdHRyKHQucmVuZE5vZGUsXCJzcmNcIixlKX0sYXBwZW5kQ2hpbGRQcmltOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIuZXhpc3RzKGUpfHwoZT0wKSx0LnN0eWxlLnpJbmRleD1lLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHQpLHR9LGFwcGVuZE5vZGVzVG9FbGVtZW50OmZ1bmN0aW9uKHQsZSl7XCJzaGFwZVwiIT09ZSYmXCJwYXRoXCIhPT1lJiZcInBvbHlnb25cIiE9PWV8fCh0LnJlbmROb2RlUGF0aD10aGlzLmdldEVsZW1lbnRCeUlkKHQuaWQrXCJfcGF0aFwiKSksdC5yZW5kTm9kZUZpbGw9dGhpcy5nZXRFbGVtZW50QnlJZCh0LmlkK1wiX2ZpbGxcIiksdC5yZW5kTm9kZVN0cm9rZT10aGlzLmdldEVsZW1lbnRCeUlkKHQuaWQrXCJfc3Ryb2tlXCIpLHQucmVuZE5vZGVTaGFkb3c9dGhpcy5nZXRFbGVtZW50QnlJZCh0LmlkK1wiX3NoYWRvd1wiKSx0LnJlbmROb2RlPXRoaXMuZ2V0RWxlbWVudEJ5SWQodC5pZCl9LGNyZWF0ZVByaW06ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM9dGhpcy5jcmVhdGVOb2RlKFwiZmlsbFwiKSxvPXRoaXMuY3JlYXRlTm9kZShcInN0cm9rZVwiKSxuPXRoaXMuY3JlYXRlTm9kZShcInNoYWRvd1wiKTtyZXR1cm4gdGhpcy5fc2V0QXR0cihzLFwiaWRcIix0aGlzLmNvbnRhaW5lci5pZCtcIl9cIitlK1wiX2ZpbGxcIiksdGhpcy5fc2V0QXR0cihvLFwiaWRcIix0aGlzLmNvbnRhaW5lci5pZCtcIl9cIitlK1wiX3N0cm9rZVwiKSx0aGlzLl9zZXRBdHRyKG4sXCJpZFwiLHRoaXMuY29udGFpbmVyLmlkK1wiX1wiK2UrXCJfc2hhZG93XCIpLFwiY2lyY2xlXCI9PT10fHxcImVsbGlwc2VcIj09PXQ/KChpPXRoaXMuY3JlYXRlTm9kZShcIm92YWxcIikpLmFwcGVuZENoaWxkKHMpLGkuYXBwZW5kQ2hpbGQobyksaS5hcHBlbmRDaGlsZChuKSk6XCJwb2x5Z29uXCI9PT10fHxcInBhdGhcIj09PXR8fFwic2hhcGVcIj09PXR8fFwibGluZVwiPT09dD8oKGk9dGhpcy5jcmVhdGVOb2RlKFwic2hhcGVcIikpLmFwcGVuZENoaWxkKHMpLGkuYXBwZW5kQ2hpbGQobyksaS5hcHBlbmRDaGlsZChuKSxyPXRoaXMuY3JlYXRlTm9kZShcInBhdGhcIiksdGhpcy5fc2V0QXR0cihyLFwiaWRcIix0aGlzLmNvbnRhaW5lci5pZCtcIl9cIitlK1wiX3BhdGhcIiksaS5hcHBlbmRDaGlsZChyKSk6KChpPXRoaXMuY3JlYXRlTm9kZSh0KSkuYXBwZW5kQ2hpbGQocyksaS5hcHBlbmRDaGlsZChvKSxpLmFwcGVuZENoaWxkKG4pKSxpLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixpLnN0eWxlLmxlZnQ9XCIwcHhcIixpLnN0eWxlLnRvcD1cIjBweFwiLHRoaXMuX3NldEF0dHIoaSxcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfXCIrZSksaX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3IuZXhpc3RzKHQpJiZ0LnJlbW92ZU5vZGUoITApfSxtYWtlQXJyb3dzOmZ1bmN0aW9uKHQpe3ZhciBlLGk9ci5ldmFsdWF0ZSh0LnZpc1Byb3AuZmlyc3RhcnJvdykscz1yLmV2YWx1YXRlKHQudmlzUHJvcC5sYXN0YXJyb3cpO3QudmlzUHJvcE9sZC5maXJzdGFycm93PT09aSYmdC52aXNQcm9wT2xkLmxhc3RhcnJvdz09PXN8fChpPyhlPXQucmVuZE5vZGVTdHJva2UsdGhpcy5fc2V0QXR0cihlLFwic3RhcnRhcnJvd1wiLFwiYmxvY2tcIiksdGhpcy5fc2V0QXR0cihlLFwic3RhcnRhcnJvd2xlbmd0aFwiLFwibG9uZ1wiKSk6KGU9dC5yZW5kTm9kZVN0cm9rZSxyLmV4aXN0cyhlKSYmdGhpcy5fc2V0QXR0cihlLFwic3RhcnRhcnJvd1wiLFwibm9uZVwiKSkscz8oZT10LnJlbmROb2RlU3Ryb2tlLHRoaXMuX3NldEF0dHIoZSxcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfXCIrdC5pZCtcInN0cm9rZVwiKSx0aGlzLl9zZXRBdHRyKGUsXCJlbmRhcnJvd1wiLFwiYmxvY2tcIiksdGhpcy5fc2V0QXR0cihlLFwiZW5kYXJyb3dsZW5ndGhcIixcImxvbmdcIikpOihlPXQucmVuZE5vZGVTdHJva2Usci5leGlzdHMoZSkmJnRoaXMuX3NldEF0dHIoZSxcImVuZGFycm93XCIsXCJub25lXCIpKSx0LnZpc1Byb3BPbGQuZmlyc3RhcnJvdz1pLHQudmlzUHJvcE9sZC5sYXN0YXJyb3c9cyl9LHVwZGF0ZUVsbGlwc2VQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyl7dC5zdHlsZS5sZWZ0PU1hdGguZmxvb3IoZS1yKStcInB4XCIsdC5zdHlsZS50b3A9TWF0aC5mbG9vcihpLXMpK1wicHhcIix0LnN0eWxlLndpZHRoPU1hdGguZmxvb3IoMipNYXRoLmFicyhyKSkrXCJweFwiLHQuc3R5bGUuaGVpZ2h0PU1hdGguZmxvb3IoMipNYXRoLmFicyhzKSkrXCJweFwifSx1cGRhdGVMaW5lUHJpbTpmdW5jdGlvbih0LGUsaSxyLHMsbyl7dmFyIG4sYT10aGlzLnJlc29sdXRpb247aXNOYU4oZStpK3Ircyl8fChuPVtcIm0gXCIsTWF0aC5mbG9vcihhKmUpLFwiLCBcIixNYXRoLmZsb29yKGEqaSksXCIgbCBcIixNYXRoLmZsb29yKGEqciksXCIsIFwiLE1hdGguZmxvb3IoYSpzKV0sdGhpcy51cGRhdGVQYXRoUHJpbSh0LG4sbykpfSx1cGRhdGVQYXRoUHJpbTpmdW5jdGlvbih0LGUsaSl7dmFyIHI9aS5jYW52YXNXaWR0aCxzPWkuY2FudmFzSGVpZ2h0O2UubGVuZ3RoPD0wJiYoZT1bXCJtIDAsMFwiXSksdC5zdHlsZS53aWR0aD1yLHQuc3R5bGUuaGVpZ2h0PXMsdGhpcy5fc2V0QXR0cih0LFwiY29vcmRzaXplXCIsW01hdGguZmxvb3IodGhpcy5yZXNvbHV0aW9uKnIpLE1hdGguZmxvb3IodGhpcy5yZXNvbHV0aW9uKnMpXS5qb2luKFwiLFwiKSksdGhpcy5fc2V0QXR0cih0LFwicGF0aFwiLGUuam9pbihcIlwiKSl9LHVwZGF0ZVBhdGhTdHJpbmdQb2ludDpmdW5jdGlvbih0LGUsaSl7dmFyIHI9W10scz1NYXRoLnJvdW5kLG89dC5jb29yZHMuc2NyQ29vcmRzLG49ZSpNYXRoLnNxcnQoMykqLjUsYT0uNSplLGg9dGhpcy5yZXNvbHV0aW9uO3JldHVyblwieFwiPT09aT9yLnB1c2goW1wiIG0gXCIscyhoKihvWzFdLWUpKSxcIiwgXCIscyhoKihvWzJdLWUpKSxcIiBsIFwiLHMoaCoob1sxXStlKSksXCIsIFwiLHMoaCoob1syXStlKSksXCIgbSBcIixzKGgqKG9bMV0rZSkpLFwiLCBcIixzKGgqKG9bMl0tZSkpLFwiIGwgXCIscyhoKihvWzFdLWUpKSxcIiwgXCIscyhoKihvWzJdK2UpKV0uam9pbihcIlwiKSk6XCIrXCI9PT1pP3IucHVzaChbXCIgbSBcIixzKGgqKG9bMV0tZSkpLFwiLCBcIixzKGgqb1syXSksXCIgbCBcIixzKGgqKG9bMV0rZSkpLFwiLCBcIixzKGgqb1syXSksXCIgbSBcIixzKGgqb1sxXSksXCIsIFwiLHMoaCoob1syXS1lKSksXCIgbCBcIixzKGgqb1sxXSksXCIsIFwiLHMoaCoob1syXStlKSldLmpvaW4oXCJcIikpOlwiPD5cIj09PWk/ci5wdXNoKFtcIiBtIFwiLHMoaCoob1sxXS1lKSksXCIsIFwiLHMoaCpvWzJdKSxcIiBsIFwiLHMoaCpvWzFdKSxcIiwgXCIscyhoKihvWzJdK2UpKSxcIiBsIFwiLHMoaCoob1sxXStlKSksXCIsIFwiLHMoaCpvWzJdKSxcIiBsIFwiLHMoaCpvWzFdKSxcIiwgXCIscyhoKihvWzJdLWUpKSxcIiB4IGUgXCJdLmpvaW4oXCJcIikpOlwiXlwiPT09aT9yLnB1c2goW1wiIG0gXCIscyhoKm9bMV0pLFwiLCBcIixzKGgqKG9bMl0tZSkpLFwiIGwgXCIscyhoKihvWzFdLW4pKSxcIiwgXCIscyhoKihvWzJdK2EpKSxcIiBsIFwiLHMoaCoob1sxXStuKSksXCIsIFwiLHMoaCoob1syXSthKSksXCIgeCBlIFwiXS5qb2luKFwiXCIpKTpcInZcIj09PWk/ci5wdXNoKFtcIiBtIFwiLHMoaCpvWzFdKSxcIiwgXCIscyhoKihvWzJdK2UpKSxcIiBsIFwiLHMoaCoob1sxXS1uKSksXCIsIFwiLHMoaCoob1syXS1hKSksXCIgbCBcIixzKGgqKG9bMV0rbikpLFwiLCBcIixzKGgqKG9bMl0tYSkpLFwiIHggZSBcIl0uam9pbihcIlwiKSk6XCI+XCI9PT1pP3IucHVzaChbXCIgbSBcIixzKGgqKG9bMV0rZSkpLFwiLCBcIixzKGgqb1syXSksXCIgbCBcIixzKGgqKG9bMV0tYSkpLFwiLCBcIixzKGgqKG9bMl0tbikpLFwiIGwgXCIscyhoKihvWzFdLWEpKSxcIiwgXCIscyhoKihvWzJdK24pKSxcIiBsIFwiLHMoaCoob1sxXStlKSksXCIsIFwiLHMoaCpvWzJdKV0uam9pbihcIlwiKSk6XCI8XCI9PT1pJiZyLnB1c2goW1wiIG0gXCIscyhoKihvWzFdLWUpKSxcIiwgXCIscyhoKm9bMl0pLFwiIGwgXCIscyhoKihvWzFdK2EpKSxcIiwgXCIscyhoKihvWzJdLW4pKSxcIiBsIFwiLHMoaCoob1sxXSthKSksXCIsIFwiLHMoaCoob1syXStuKSksXCIgeCBlIFwiXS5qb2luKFwiXCIpKSxyfSx1cGRhdGVQYXRoU3RyaW5nUHJpbTpmdW5jdGlvbih0KXt2YXIgZSxpLHI9W10scz10aGlzLnJlc29sdXRpb24sbz1NYXRoLnJvdW5kLG49XCIgbSBcIixhPW4saD1NYXRoLm1pbih0Lm51bWJlclBvaW50cyw4MTkyKTtpZih0Lm51bWJlclBvaW50czw9MClyZXR1cm5cIlwiO2lmKGg9TWF0aC5taW4oaCx0LnBvaW50cy5sZW5ndGgpLDE9PT10LmJlemllckRlZ3JlZSlmb3IoZT0wO2U8aDtlKyspaT10LnBvaW50c1tlXS5zY3JDb29yZHMsaXNOYU4oaVsxXSl8fGlzTmFOKGlbMl0pP2E9bjooaVsxXT4yZTQ/aVsxXT0yZTQ6aVsxXTwtMmU0JiYoaVsxXT0tMmU0KSxpWzJdPjJlND9pWzJdPTJlNDppWzJdPC0yZTQmJihpWzJdPS0yZTQpLHIucHVzaChbYSxvKHMqaVsxXSksXCIsIFwiLG8ocyppWzJdKV0uam9pbihcIlwiKSksYT1cIiBsIFwiKTtlbHNlIGlmKDM9PT10LmJlemllckRlZ3JlZSlmb3IoZT0wO2U8aDspaT10LnBvaW50c1tlXS5zY3JDb29yZHMsaXNOYU4oaVsxXSl8fGlzTmFOKGlbMl0pP2E9bjooci5wdXNoKFthLG8ocyppWzFdKSxcIiwgXCIsbyhzKmlbMl0pXS5qb2luKFwiXCIpKSxcIiBjIFwiPT09YSYmKGUrPTEsaT10LnBvaW50c1tlXS5zY3JDb29yZHMsci5wdXNoKFtcIiBcIixvKHMqaVsxXSksXCIsIFwiLG8ocyppWzJdKV0uam9pbihcIlwiKSksZSs9MSxpPXQucG9pbnRzW2VdLnNjckNvb3JkcyxyLnB1c2goW1wiIFwiLG8ocyppWzFdKSxcIiwgXCIsbyhzKmlbMl0pXS5qb2luKFwiXCIpKSksYT1cIiBjIFwiKSxlKz0xO3JldHVybiByLnB1c2goXCIgZVwiKSxyfSx1cGRhdGVQYXRoU3RyaW5nQmV6aWVyUHJpbTpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbyxhLGgsbD1bXSxjPXIuZXZhbHVhdGUodC52aXNQcm9wLnN0cm9rZXdpZHRoKSxkPXRoaXMucmVzb2x1dGlvbix1PU1hdGgucm91bmQscD1cIiBtIFwiLGY9cCxtPVwicGxvdFwiIT09ci5ldmFsdWF0ZSh0LnZpc1Byb3AuY3VydmV0eXBlKSxnPU1hdGgubWluKHQubnVtYmVyUG9pbnRzLDgxOTIpO2lmKHQubnVtYmVyUG9pbnRzPD0wKXJldHVyblwiXCI7Zm9yKG0mJnQuYm9hcmQub3B0aW9ucy5jdXJ2ZS5SRFBzbW9vdGhpbmcmJih0LnBvaW50cz1uLlJhbWVyRG91Z2xhc1BldWNrZXIodC5wb2ludHMsMSkpLGc9TWF0aC5taW4oZyx0LnBvaW50cy5sZW5ndGgpLGk9MTtpPDM7aSsrKWZvcihmPXAsZT0wO2U8ZztlKyspbz10LnBvaW50c1tlXS5zY3JDb29yZHMsaXNOYU4ob1sxXSl8fGlzTmFOKG9bMl0pP2Y9cDoob1sxXT4yZTQ/b1sxXT0yZTQ6b1sxXTwtMmU0JiYob1sxXT0tMmU0KSxvWzJdPjJlND9vWzJdPTJlNDpvWzJdPC0yZTQmJihvWzJdPS0yZTQpLGY9PT1wP2wucHVzaChbZix1KGQqb1sxXSksXCIgXCIsdShkKm9bMl0pXS5qb2luKFwiXCIpKToocz0yKmksbC5wdXNoKFtmLHUoZCooYSsuMzMzKihvWzFdLWEpK2MqKHMqTWF0aC5yYW5kb20oKS1pKSkpLFwiIFwiLHUoZCooaCsuMzMzKihvWzJdLWgpK2MqKHMqTWF0aC5yYW5kb20oKS1pKSkpLFwiIFwiLHUoZCooYSsuNjY2KihvWzFdLWEpK2MqKHMqTWF0aC5yYW5kb20oKS1pKSkpLFwiIFwiLHUoZCooaCsuNjY2KihvWzJdLWgpK2MqKHMqTWF0aC5yYW5kb20oKS1pKSkpLFwiIFwiLHUoZCpvWzFdKSxcIiBcIix1KGQqb1syXSldLmpvaW4oXCJcIikpKSxmPVwiIGMgXCIsYT1vWzFdLGg9b1syXSk7cmV0dXJuIGwucHVzaChcIiBlXCIpLGx9LHVwZGF0ZVBvbHlnb25QcmltOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzPWUudmVydGljZXMubGVuZ3RoLG89dGhpcy5yZXNvbHV0aW9uLG49W107aWYodGhpcy5fc2V0QXR0cih0LFwic3Ryb2tlZFwiLFwiZmFsc2VcIikscj1lLnZlcnRpY2VzWzBdLmNvb3Jkcy5zY3JDb29yZHMsIWlzTmFOKHJbMV0rclsyXSkpe2ZvcihuLnB1c2goW1wibSBcIixNYXRoLmZsb29yKG8qclsxXSksXCIsXCIsTWF0aC5mbG9vcihvKnJbMl0pLFwiIGwgXCJdLmpvaW4oXCJcIikpLGk9MTtpPHMtMTtpKyspe2lmKCFlLnZlcnRpY2VzW2ldLmlzUmVhbClyZXR1cm4gdm9pZCB0aGlzLnVwZGF0ZVBhdGhQcmltKHQsXCJcIixlLmJvYXJkKTtpZihyPWUudmVydGljZXNbaV0uY29vcmRzLnNjckNvb3Jkcyxpc05hTihyWzFdK3JbMl0pKXJldHVybjtuLnB1c2goTWF0aC5mbG9vcihvKnJbMV0pK1wiLFwiK01hdGguZmxvb3IobypyWzJdKSksaTxzLTImJm4ucHVzaChcIiwgXCIpfW4ucHVzaChcIiB4IGVcIiksdGhpcy51cGRhdGVQYXRoUHJpbSh0LG4sZS5ib2FyZCl9fSx1cGRhdGVSZWN0UHJpbTpmdW5jdGlvbih0LGUsaSxyLHMpe3Quc3R5bGUubGVmdD1NYXRoLmZsb29yKGUpK1wicHhcIix0LnN0eWxlLnRvcD1NYXRoLmZsb29yKGkpK1wicHhcIixyPj0wJiYodC5zdHlsZS53aWR0aD1yK1wicHhcIikscz49MCYmKHQuc3R5bGUuaGVpZ2h0PXMrXCJweFwiKX0sc2V0UHJvcGVydHlQcmltOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxvPVwiXCI7c3dpdGNoKGUpe2Nhc2VcInN0cm9rZVwiOm89XCJzdHJva2Vjb2xvclwiO2JyZWFrO2Nhc2VcInN0cm9rZS13aWR0aFwiOm89XCJzdHJva2V3ZWlnaHRcIjticmVhaztjYXNlXCJzdHJva2UtZGFzaGFycmF5XCI6bz1cImRhc2hzdHlsZVwifVwiXCIhPT1vJiYocz1yLmV2YWx1YXRlKGkpLHRoaXMuX3NldEF0dHIodCxvLHMpKX0sZGlzcGxheTpmdW5jdGlvbih0LGUpe3QmJnQucmVuZE5vZGUmJih0LnZpc1Byb3BPbGQudmlzaWJsZT1lLHQucmVuZE5vZGUuc3R5bGUudmlzaWJpbGl0eT1lP1wiaW5oZXJpdFwiOlwiaGlkZGVuXCIpfSxzaG93OmZ1bmN0aW9uKGUpe3QuZGVwcmVjYXRlZChcIkJvYXJkLnJlbmRlcmVyLnNob3coKVwiLFwiQm9hcmQucmVuZGVyZXIuZGlzcGxheSgpXCIpLGUmJmUucmVuZE5vZGUmJihlLnJlbmROb2RlLnN0eWxlLnZpc2liaWxpdHk9XCJpbmhlcml0XCIpfSxoaWRlOmZ1bmN0aW9uKGUpe3QuZGVwcmVjYXRlZChcIkJvYXJkLnJlbmRlcmVyLmhpZGUoKVwiLFwiQm9hcmQucmVuZGVyZXIuZGlzcGxheSgpXCIpLGUmJmUucmVuZE5vZGUmJihlLnJlbmROb2RlLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIil9LHNldERhc2hTdHlsZTpmdW5jdGlvbih0LGUpe3ZhciBpO2UuZGFzaD49MCYmKGk9dC5yZW5kTm9kZVN0cm9rZSx0aGlzLl9zZXRBdHRyKGksXCJkYXNoc3R5bGVcIix0aGlzLmRhc2hBcnJheVtlLmRhc2hdKSl9LHNldEdyYWRpZW50OmZ1bmN0aW9uKHQpe3ZhciBlPXQucmVuZE5vZGVGaWxsLGk9ci5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnQpO1wibGluZWFyXCI9PT1pPyh0aGlzLl9zZXRBdHRyKGUsXCJ0eXBlXCIsXCJncmFkaWVudFwiKSx0aGlzLl9zZXRBdHRyKGUsXCJjb2xvcjJcIixyLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHNlY29uZGNvbG9yKSksdGhpcy5fc2V0QXR0cihlLFwib3BhY2l0eTJcIixyLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHNlY29uZG9wYWNpdHkpKSx0aGlzLl9zZXRBdHRyKGUsXCJhbmdsZVwiLHIuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50YW5nbGUpKSk6XCJyYWRpYWxcIj09PWk/KHRoaXMuX3NldEF0dHIoZSxcInR5cGVcIixcImdyYWRpZW50cmFkaWFsXCIpLHRoaXMuX3NldEF0dHIoZSxcImNvbG9yMlwiLHIuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50c2Vjb25kY29sb3IpKSx0aGlzLl9zZXRBdHRyKGUsXCJvcGFjaXR5MlwiLHIuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50c2Vjb25kb3BhY2l0eSkpLHRoaXMuX3NldEF0dHIoZSxcImZvY3VzcG9zaXRpb25cIiwxMDAqci5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRwb3NpdGlvbngpK1wiJSxcIisxMDAqci5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRwb3NpdGlvbnkpK1wiJVwiKSx0aGlzLl9zZXRBdHRyKGUsXCJmb2N1c3NpemVcIixcIjAsMFwiKSk6dGhpcy5fc2V0QXR0cihlLFwidHlwZVwiLFwic29saWRcIil9LHNldE9iamVjdEZpbGxDb2xvcjpmdW5jdGlvbih0LGUsbyl7dmFyIG4sYSxoLGw9ci5ldmFsdWF0ZShlKSxjPXIuZXZhbHVhdGUobyksZD10LnJlbmROb2RlO2M9Yz4wP2M6MCx0LnZpc1Byb3BPbGQuZmlsbGNvbG9yPT09bCYmdC52aXNQcm9wT2xkLmZpbGxvcGFjaXR5PT09Y3x8KHIuZXhpc3RzKGwpJiYhMSE9PWwmJig5IT09bC5sZW5ndGg/KG49bCxoPWMpOihuPShhPXMucmdiYTJyZ2JvKGwpKVswXSxoPWMqYVsxXSksXCJub25lXCI9PT1ufHwhMT09PW4/dGhpcy5fc2V0QXR0cih0LnJlbmROb2RlLFwiZmlsbGVkXCIsXCJmYWxzZVwiKToodGhpcy5fc2V0QXR0cih0LnJlbmROb2RlLFwiZmlsbGVkXCIsXCJ0cnVlXCIpLHRoaXMuX3NldEF0dHIodC5yZW5kTm9kZSxcImZpbGxjb2xvclwiLG4pLHIuZXhpc3RzKGgpJiZ0LnJlbmROb2RlRmlsbCYmdGhpcy5fc2V0QXR0cih0LnJlbmROb2RlRmlsbCxcIm9wYWNpdHlcIiwxMDAqaCtcIiVcIikpLHQudHlwZT09PWkuT0JKRUNUX1RZUEVfSU1BR0UmJmQuZmlsdGVycy5sZW5ndGg+MSYmKGQuZmlsdGVycy5pdGVtKDEpLm9wYWNpdHk9TWF0aC5yb3VuZCgxMDAqaCksZC5maWx0ZXJzLml0ZW0oMSkuZW5hYmxlZD0hMCkpLHQudmlzUHJvcE9sZC5maWxsY29sb3I9bCx0LnZpc1Byb3BPbGQuZmlsbG9wYWNpdHk9Yyl9LHNldE9iamVjdFN0cm9rZUNvbG9yOmZ1bmN0aW9uKHQsZSxzKXt2YXIgbyxuLGEsaCxsPXIuZXZhbHVhdGUoZSksYz1yLmV2YWx1YXRlKHMpLGQ9dC5yZW5kTm9kZTtjPWM+MD9jOjAsdC52aXNQcm9wT2xkLnN0cm9rZWNvbG9yPT09bCYmdC52aXNQcm9wT2xkLnN0cm9rZW9wYWNpdHk9PT1jfHwoci5leGlzdHMobCkmJiExIT09bCYmKDkhPT1sLmxlbmd0aD8obz1sLGE9Yyk6KG89KG49ZS5yZ2JhMnJnYm8obCkpWzBdLGE9YypuWzFdKSx0LmVsZW1lbnRDbGFzcz09PWkuT0JKRUNUX0NMQVNTX1RFWFQ/KGQuZmlsdGVycy5sZW5ndGg+MSYmKGQuZmlsdGVycy5pdGVtKDEpLm9wYWNpdHk9TWF0aC5yb3VuZCgxMDAqYSksZC5maWx0ZXJzLml0ZW0oMSkuZW5hYmxlZD0hMCksZC5zdHlsZS5jb2xvcj1vKTooITEhPT1vJiYodGhpcy5fc2V0QXR0cihkLFwic3Ryb2tlZFwiLFwidHJ1ZVwiKSx0aGlzLl9zZXRBdHRyKGQsXCJzdHJva2Vjb2xvclwiLG8pKSxoPXQucmVuZE5vZGVTdHJva2Usci5leGlzdHMoYSkmJnQudHlwZSE9PWkuT0JKRUNUX1RZUEVfSU1BR0UmJnRoaXMuX3NldEF0dHIoaCxcIm9wYWNpdHlcIiwxMDAqYStcIiVcIikpKSx0LnZpc1Byb3BPbGQuc3Ryb2tlY29sb3I9bCx0LnZpc1Byb3BPbGQuc3Ryb2tlb3BhY2l0eT1jKX0sc2V0T2JqZWN0U3Ryb2tlV2lkdGg6ZnVuY3Rpb24odCxlKXt2YXIgaSxzPXIuZXZhbHVhdGUoZSk7aXNOYU4ocyl8fHQudmlzUHJvcE9sZC5zdHJva2V3aWR0aD09PXN8fChpPXQucmVuZE5vZGUsdGhpcy5zZXRQcm9wZXJ0eVByaW0oaSxcInN0cm9rZWRcIixcInRydWVcIiksci5leGlzdHMocykmJih0aGlzLnNldFByb3BlcnR5UHJpbShpLFwic3Ryb2tlLXdpZHRoXCIscyksMD09PXMmJnIuZXhpc3RzKHQucmVuZE5vZGVTdHJva2UpJiZ0aGlzLl9zZXRBdHRyKGksXCJzdHJva2VkXCIsXCJmYWxzZVwiKSksdC52aXNQcm9wT2xkLnN0cm9rZXdpZHRoPXMpfSxzZXRTaGFkb3c6ZnVuY3Rpb24odCl7dmFyIGU9dC5yZW5kTm9kZVNoYWRvdyxpPXIuZXZhbHVhdGUodC52aXNQcm9wLnNoYWRvdyk7ZSYmdC52aXNQcm9wT2xkLnNoYWRvdyE9PWkmJihpPyh0aGlzLl9zZXRBdHRyKGUsXCJPblwiLFwiVHJ1ZVwiKSx0aGlzLl9zZXRBdHRyKGUsXCJPZmZzZXRcIixcIjNwdCwzcHRcIiksdGhpcy5fc2V0QXR0cihlLFwiT3BhY2l0eVwiLFwiNjAlXCIpLHRoaXMuX3NldEF0dHIoZSxcIkNvbG9yXCIsXCIjYWFhYWFhXCIpKTp0aGlzLl9zZXRBdHRyKGUsXCJPblwiLFwiRmFsc2VcIiksdC52aXNQcm9wT2xkLnNoYWRvdz1pKX0sc3VzcGVuZFJlZHJhdzpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9LHVuc3VzcGVuZFJlZHJhdzpmdW5jdGlvbigpe3RoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJcIn19KSx0LlZNTFJlbmRlcmVyfSkpLGRlZmluZShcInJlbmRlcmVyL2NhbnZhc1wiLFtcImp4Z1wiLFwicmVuZGVyZXIvYWJzdHJhY3RcIixcImJhc2UvY29uc3RhbnRzXCIsXCJ1dGlscy9lbnZcIixcInV0aWxzL3R5cGVcIixcInV0aWxzL3V1aWRcIixcInV0aWxzL2NvbG9yXCIsXCJiYXNlL2Nvb3Jkc1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJtYXRoL251bWVyaWNzXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEsaCxsLGMpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkNhbnZhc1JlbmRlcmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy50eXBlPVwiY2FudmFzXCIsdGhpcy5jYW52YXNSb290PW51bGwsdGhpcy5zdXNwZW5kSGFuZGxlPW51bGwsdGhpcy5jYW52YXNJZD1vLmdlblVVSUQoKSx0aGlzLmNhbnZhc05hbWVzcGFjZT1udWxsLHIuaXNCcm93c2VyKXRoaXMuY29udGFpbmVyPXQsdGhpcy5jb250YWluZXIuc3R5bGUuTW96VXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS51c2VyU2VsZWN0PVwibm9uZVwiLHRoaXMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsXCJcIj09PXRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uJiYodGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSx0aGlzLmNvbnRhaW5lci5pbm5lckhUTUw9Wyc8Y2FudmFzIGlkPVwiJyx0aGlzLmNhbnZhc0lkLCdcIiB3aWR0aD1cIicsZS53aWR0aCwncHhcIiBoZWlnaHQ9XCInLGUuaGVpZ2h0LCdweFwiPjwnLFwiL2NhbnZhcz5cIl0uam9pbihcIlwiKSx0aGlzLmNhbnZhc1Jvb3Q9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNhbnZhc0lkKSx0aGlzLmNhbnZhc1Jvb3Quc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzUm9vdC5nZXRDb250ZXh0KFwiMmRcIik7ZWxzZSBpZihyLmlzTm9kZSgpKXRyeXt0aGlzLmNhbnZhc0lkPVwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLnJlcXVpcmUoXCJjYW52YXNcIik6cmVxdWlyZShcImNhbnZhc1wiKSx0aGlzLmNhbnZhc1Jvb3Q9bmV3IHRoaXMuY2FudmFzSWQoNTAwLDUwMCksdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzUm9vdC5nZXRDb250ZXh0KFwiMmRcIil9Y2F0Y2godCl7Y29uc29sZS5sb2coXCJXYXJuaW5nOiAnY2FudmFzJyBub3QgZm91bmQuIFlvdSBtaWdodCBuZWVkIHRvIGNhbGwgJ25wbSBpbnN0YWxsIGNhbnZhcydcIil9dGhpcy5kYXNoQXJyYXk9W1syLDJdLFs1LDVdLFsxMCwxMF0sWzIwLDIwXSxbMjAsMTAsMTAsMTBdLFsyMCw1LDEwLDVdXX0sdC5DYW52YXNSZW5kZXJlci5wcm90b3R5cGU9bmV3IGUsdC5leHRlbmQodC5DYW52YXNSZW5kZXJlci5wcm90b3R5cGUse19kcmF3UG9seWdvbjpmdW5jdGlvbih0LGUsaSl7dmFyIHIscz10Lmxlbmd0aCxvPXRoaXMuY29udGV4dDtpZihzPjApe2lmKGkmJihvLmxpbmVXaWR0aD0wKSxvLmJlZ2luUGF0aCgpLG8ubW92ZVRvKHRbMF1bMF0sdFswXVsxXSksMT09PWUpZm9yKHI9MTtyPHM7cisrKW8ubGluZVRvKHRbcl1bMF0sdFtyXVsxXSk7ZWxzZSBmb3Iocj0xO3I8cztyKz0zKW8uYmV6aWVyQ3VydmVUbyh0W3JdWzBdLHRbcl1bMV0sdFtyKzFdWzBdLHRbcisxXVsxXSx0W3IrMl1bMF0sdFtyKzJdWzFdKTtpPyhvLmxpbmVUbyh0WzBdWzBdLHRbMF1bMV0pLG8uY2xvc2VQYXRoKCksby5maWxsKCkpOm8uc3Ryb2tlKCl9fSxfZmlsbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQ7ZS5zYXZlKCksdGhpcy5fc2V0Q29sb3IodCxcImZpbGxcIikmJmUuZmlsbCgpLGUucmVzdG9yZSgpfSxfcm90YXRlUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybltlKk1hdGguY29zKHQpLWkqTWF0aC5zaW4odCksZSpNYXRoLnNpbih0KStpKk1hdGguY29zKHQpXX0sX3JvdGF0ZVNoYXBlOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj1bXSxzPXQubGVuZ3RoO2lmKHM8PTApcmV0dXJuIHQ7Zm9yKGk9MDtpPHM7aSsrKXIucHVzaCh0aGlzLl9yb3RhdGVQb2ludChlLHRbaV1bMF0sdFtpXVsxXSkpO3JldHVybiByfSx1cGRhdGVHcmFkaWVudEFuZ2xlOmZ1bmN0aW9uKHQsZSl7dmFyIHIscyxvLG4saCxsLGMsZCx1LHAsZixtLGc9MSxiPU1hdGguY29zKC1lKSx2PU1hdGguc2luKC1lKSx5PXQuZ2V0Qm91bmRpbmdCb3goKTtyZXR1cm4gTWF0aC5hYnMoYik+TWF0aC5hYnModik/Zy89TWF0aC5hYnMoYik6Zy89TWF0aC5hYnModiksYj49MD8obz0wLG49YipnKToobz0tYipnLG49MCksdj49MD8oaD0wLGw9dipnKTooaD0tdipnLGw9MCkscj1uZXcgYShpLkNPT1JEU19CWV9VU0VSLFt5WzBdLHlbMV1dLHQuYm9hcmQpLGY9KHM9bmV3IGEoaS5DT09SRFNfQllfVVNFUixbeVsyXSx5WzNdXSx0LmJvYXJkKSkuc2NyQ29vcmRzWzFdLXIuc2NyQ29vcmRzWzFdLG09cy5zY3JDb29yZHNbMl0tci5zY3JDb29yZHNbMl0sYz1yLnNjckNvb3Jkc1sxXStmKm8sdT1yLnNjckNvb3Jkc1syXSttKmgsZD1yLnNjckNvb3Jkc1sxXStmKm4scD1yLnNjckNvb3Jkc1syXSttKmwsdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KGMsdSxkLHApfSx1cGRhdGVHcmFkaWVudENpcmNsZTpmdW5jdGlvbih0LGUscixzLG8sbixoKXt2YXIgbCxjLGQsdSxwLGYsbSxnLGIsdix5PXQuZ2V0Qm91bmRpbmdCb3goKTtyZXR1cm4gbD1uZXcgYShpLkNPT1JEU19CWV9VU0VSLFt5WzBdLHlbMV1dLHQuYm9hcmQpLGI9KGM9bmV3IGEoaS5DT09SRFNfQllfVVNFUixbeVsyXSx5WzNdXSx0LmJvYXJkKSkuc2NyQ29vcmRzWzFdLWwuc2NyQ29vcmRzWzFdLHY9bC5zY3JDb29yZHNbMl0tYy5zY3JDb29yZHNbMl0sZD1sLnNjckNvb3Jkc1sxXStiKmUsdT1jLnNjckNvb3Jkc1syXSt2KnIsZj1sLnNjckNvb3Jkc1sxXStiKm8sbT1jLnNjckNvb3Jkc1syXSt2Km4scD1zKihiK3YpKi41LGc9aCooYit2KSouNSx0aGlzLmNvbnRleHQuY3JlYXRlUmFkaWFsR3JhZGllbnQoZixtLGcsZCx1LHApfSx1cGRhdGVHcmFkaWVudDpmdW5jdGlvbih0KXt2YXIgZSxpLHIsbz1zLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudCk7cmV0dXJuIGk9KGk9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZmlsbG9wYWNpdHkpKT4wP2k6MCxlPXMuZXZhbHVhdGUodC52aXNQcm9wLmZpbGxjb2xvciksXCJsaW5lYXJcIj09PW8/cj10aGlzLnVwZGF0ZUdyYWRpZW50QW5nbGUodCxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGFuZ2xlKSk6XCJyYWRpYWxcIj09PW8mJihyPXRoaXMudXBkYXRlR3JhZGllbnRDaXJjbGUodCxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGN4KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGN5KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHIpLHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50ZngpLHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50ZnkpLHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50ZnIpKSksci5hZGRDb2xvclN0b3Aocy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRzdGFydG9mZnNldCksZSksci5hZGRDb2xvclN0b3Aocy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRlbmRvZmZzZXQpLHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50c2Vjb25kY29sb3IpKSxyfSxfc2V0Q29sb3I6ZnVuY3Rpb24odCxlLGkpe3ZhciByLG8sYSxoLGwsYyxkLHUscD0hMCxmPXQudmlzUHJvcDtyZXR1cm4gZT1lfHxcInN0cm9rZVwiLGk9aXx8ZSxyPXRoaXMuX2dldEhpZ2hsaWdodGVkKHQpLFwibGluZWFyXCI9PT0odT1zLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudCkpfHxcInJhZGlhbFwiPT09dT8odGhpcy5jb250ZXh0W2krXCJTdHlsZVwiXT10aGlzLnVwZGF0ZUdyYWRpZW50KHQpLHApOihcIm5vbmVcIiE9PShhPXMuZXZhbHVhdGUoZltyK2UrXCJjb2xvclwiXSkpJiYhMSE9PWE/KGM9KGM9cy5ldmFsdWF0ZShmW3IrZStcIm9wYWNpdHlcIl0pKT4wP2M6MCw5IT09YS5sZW5ndGg/KGw9YSxkPWMpOihsPShoPW4ucmdiYTJyZ2JvKGEpKVswXSxkPWMqaFsxXSksdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhPWQsdGhpcy5jb250ZXh0W2krXCJTdHlsZVwiXT1sKTpwPSExLG89cGFyc2VGbG9hdChzLmV2YWx1YXRlKGZbcitcInN0cm9rZXdpZHRoXCJdKSksXCJzdHJva2VcIiE9PWV8fGlzTmFOKG8pfHwoMD09PW8/dGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhPTA6dGhpcy5jb250ZXh0LmxpbmVXaWR0aD1vKSxcInN0cm9rZVwiPT09ZSYmdm9pZCAwIT09Zi5saW5lY2FwJiZcIlwiIT09Zi5saW5lY2FwJiYodGhpcy5jb250ZXh0LmxpbmVDYXA9Zi5saW5lY2FwKSxwKX0sX3N0cm9rZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQsaT1zLmV2YWx1YXRlKHQudmlzUHJvcC5kYXNoKTtlLnNhdmUoKSxpPjA/ZS5zZXRMaW5lRGFzaCYmZS5zZXRMaW5lRGFzaCh0aGlzLmRhc2hBcnJheVtpXSk6dGhpcy5jb250ZXh0LmxpbmVEYXNoQXJyYXk9W10sdGhpcy5fc2V0Q29sb3IodCxcInN0cm9rZVwiKSYmZS5zdHJva2UoKSxlLnJlc3RvcmUoKX0sX3RyYW5zbGF0ZVNoYXBlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzPVtdLG89dC5sZW5ndGg7aWYobzw9MClyZXR1cm4gdDtmb3Iocj0wO3I8bztyKyspcy5wdXNoKFt0W3JdWzBdK2UsdFtyXVsxXStpXSk7cmV0dXJuIHN9LGRyYXdQb2ludDpmdW5jdGlvbih0KXt2YXIgZT1zLmV2YWx1YXRlKHQudmlzUHJvcC5mYWNlKSxpPXMuZXZhbHVhdGUodC52aXNQcm9wLnNpemUpLHI9dC5jb29yZHMuc2NyQ29vcmRzLG89aSpNYXRoLnNxcnQoMykqLjUsbj0uNSppLGE9cGFyc2VGbG9hdChzLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2V3aWR0aCkpLzIsaD10aGlzLmNvbnRleHQ7aWYodC52aXNQcm9wQ2FsYy52aXNpYmxlKXN3aXRjaChlKXtjYXNlXCJjcm9zc1wiOmNhc2VcInhcIjpoLmJlZ2luUGF0aCgpLGgubW92ZVRvKHJbMV0taSxyWzJdLWkpLGgubGluZVRvKHJbMV0raSxyWzJdK2kpLGgubW92ZVRvKHJbMV0raSxyWzJdLWkpLGgubGluZVRvKHJbMV0taSxyWzJdK2kpLGgubGluZUNhcD1cInJvdW5kXCIsaC5saW5lSm9pbj1cInJvdW5kXCIsaC5jbG9zZVBhdGgoKSx0aGlzLl9zdHJva2UodCk7YnJlYWs7Y2FzZVwiY2lyY2xlXCI6Y2FzZVwib1wiOmguYmVnaW5QYXRoKCksaC5hcmMoclsxXSxyWzJdLGkrMSthLDAsMipNYXRoLlBJLCExKSxoLmNsb3NlUGF0aCgpLHRoaXMuX2ZpbGwodCksdGhpcy5fc3Ryb2tlKHQpO2JyZWFrO2Nhc2VcInNxdWFyZVwiOmNhc2VcIltdXCI6aWYoaTw9MClicmVhaztoLnNhdmUoKSx0aGlzLl9zZXRDb2xvcih0LFwic3Ryb2tlXCIsXCJmaWxsXCIpJiZoLmZpbGxSZWN0KHJbMV0taS1hLHJbMl0taS1hLDIqaSszKmEsMippKzMqYSksaC5yZXN0b3JlKCksaC5zYXZlKCksdGhpcy5fc2V0Q29sb3IodCxcImZpbGxcIiksaC5maWxsUmVjdChyWzFdLWkrYSxyWzJdLWkrYSwyKmktYSwyKmktYSksaC5yZXN0b3JlKCk7YnJlYWs7Y2FzZVwicGx1c1wiOmNhc2VcIitcIjpoLmJlZ2luUGF0aCgpLGgubW92ZVRvKHJbMV0taSxyWzJdKSxoLmxpbmVUbyhyWzFdK2ksclsyXSksaC5tb3ZlVG8oclsxXSxyWzJdLWkpLGgubGluZVRvKHJbMV0sclsyXStpKSxoLmxpbmVDYXA9XCJyb3VuZFwiLGgubGluZUpvaW49XCJyb3VuZFwiLGguY2xvc2VQYXRoKCksdGhpcy5fc3Ryb2tlKHQpO2JyZWFrO2Nhc2VcImRpYW1vbmRcIjpjYXNlXCI8PlwiOmguYmVnaW5QYXRoKCksaC5tb3ZlVG8oclsxXS1pLHJbMl0pLGgubGluZVRvKHJbMV0sclsyXStpKSxoLmxpbmVUbyhyWzFdK2ksclsyXSksaC5saW5lVG8oclsxXSxyWzJdLWkpLGguY2xvc2VQYXRoKCksdGhpcy5fZmlsbCh0KSx0aGlzLl9zdHJva2UodCk7YnJlYWs7Y2FzZVwidHJpYW5nbGV1cFwiOmNhc2VcImFcIjpjYXNlXCJeXCI6aC5iZWdpblBhdGgoKSxoLm1vdmVUbyhyWzFdLHJbMl0taSksaC5saW5lVG8oclsxXS1vLHJbMl0rbiksaC5saW5lVG8oclsxXStvLHJbMl0rbiksaC5jbG9zZVBhdGgoKSx0aGlzLl9maWxsKHQpLHRoaXMuX3N0cm9rZSh0KTticmVhaztjYXNlXCJ0cmlhbmdsZWRvd25cIjpjYXNlXCJ2XCI6aC5iZWdpblBhdGgoKSxoLm1vdmVUbyhyWzFdLHJbMl0raSksaC5saW5lVG8oclsxXS1vLHJbMl0tbiksaC5saW5lVG8oclsxXStvLHJbMl0tbiksaC5jbG9zZVBhdGgoKSx0aGlzLl9maWxsKHQpLHRoaXMuX3N0cm9rZSh0KTticmVhaztjYXNlXCJ0cmlhbmdsZWxlZnRcIjpjYXNlXCI8XCI6aC5iZWdpblBhdGgoKSxoLm1vdmVUbyhyWzFdLWksclsyXSksaC5saW5lVG8oclsxXStuLHJbMl0tbyksaC5saW5lVG8oclsxXStuLHJbMl0rbyksaC5jbG9zZVBhdGgoKSx0aGlzLl9maWxsKHQpLHRoaXMuX3N0cm9rZSh0KTticmVhaztjYXNlXCJ0cmlhbmdsZXJpZ2h0XCI6Y2FzZVwiPlwiOmguYmVnaW5QYXRoKCksaC5tb3ZlVG8oclsxXStpLHJbMl0pLGgubGluZVRvKHJbMV0tbixyWzJdLW8pLGgubGluZVRvKHJbMV0tbixyWzJdK28pLGguY2xvc2VQYXRoKCksdGhpcy5fZmlsbCh0KSx0aGlzLl9zdHJva2UodCl9fSx1cGRhdGVQb2ludDpmdW5jdGlvbih0KXt0aGlzLmRyYXdQb2ludCh0KX0sZHJhd0Fycm93czpmdW5jdGlvbih0LGUscixvLG4pe3ZhciBhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXyxQLEUseCxTLE8sdz10aGlzLmNvbnRleHQsVD0xLE49MSxNPTEsQT1uLmV2Rmlyc3QsUj1uLmV2TGFzdDtpZihcIm5vbmVcIiE9PXMuZXZhbHVhdGUodC52aXNQcm9wLnN0cm9rZWNvbG9yKSYmKEF8fFIpKXtpZih0LmVsZW1lbnRDbGFzcz09PWkuT0JKRUNUX0NMQVNTX0xJTkUpYT1lLnNjckNvb3Jkc1sxXSxoPWUuc2NyQ29vcmRzWzJdLGw9ci5zY3JDb29yZHNbMV0sYz1yLnNjckNvb3Jkc1syXSxTPU89TWF0aC5hdGFuMihjLWgsbC1hKTtlbHNle2lmKGE9dC5wb2ludHNbMF0uc2NyQ29vcmRzWzFdLGg9dC5wb2ludHNbMF0uc2NyQ29vcmRzWzJdLCh4PXQucG9pbnRzLmxlbmd0aC0xKTwxKXJldHVybjtsPXQucG9pbnRzW3QucG9pbnRzLmxlbmd0aC0xXS5zY3JDb29yZHNbMV0sYz10LnBvaW50c1t0LnBvaW50cy5sZW5ndGgtMV0uc2NyQ29vcmRzWzJdLEM9dC5wb2ludHNbMV0uc2NyQ29vcmRzWzFdLXQucG9pbnRzWzBdLnNjckNvb3Jkc1sxXSxfPXQucG9pbnRzWzFdLnNjckNvb3Jkc1syXS10LnBvaW50c1swXS5zY3JDb29yZHNbMl0sUD10LnBvaW50c1t4XS5zY3JDb29yZHNbMV0tdC5wb2ludHNbeC0xXS5zY3JDb29yZHNbMV0sRT10LnBvaW50c1t4XS5zY3JDb29yZHNbMl0tdC5wb2ludHNbeC0xXS5zY3JDb29yZHNbMl0sQSYmKFM9TWF0aC5hdGFuMihfLEMpKSxSJiYoTz1NYXRoLmF0YW4yKEUsUCkpfWlmKGQ9cy5ldmFsdWF0ZSh0LnZpc1Byb3BbbytcInN0cm9rZXdpZHRoXCJdKSxBKWlmKHU9ZCpuLnNpemVGaXJzdCxtPVQ9bi50eXBlRmlyc3QsMj09PVQpZj1bW3UsLjUqLXVdLFswLDBdLFt1LC41KnVdLFsuNSp1LDBdXTtlbHNlIGlmKDM9PT1UKWY9W1t1LzMsLjUqLXVdLFswLC41Ki11XSxbMCwuNSp1XSxbdS8zLC41KnVdXTtlbHNlIGlmKDQ9PT1UKWZvcih1Lz0xMCxOPTMseT0oZj1bWzEwLDMuMzFdLFs2LjQ3LDMuODRdLFsyLjg3LDQuNV0sWzAsNi42M10sWy42Nyw1LjUyXSxbMS4zMyw0LjQyXSxbMiwzLjMxXSxbMS4zMywyLjIxXSxbLjY3LDEuMV0sWzAsMF0sWzIuODcsMi4xM10sWzYuNDcsMi43OV0sWzEwLDMuMzFdXSkubGVuZ3RoLHY9MDt2PHk7disrKWZbdl1bMF0qPS11LGZbdl1bMV0qPXUsZlt2XVswXSs9MTAqdSxmW3ZdWzFdLT0zLjMxKnU7ZWxzZSBpZig1PT09VClmb3IodS89MTAsTj0zLHk9KGY9W1sxMCwzLjI4XSxbNi42MSw0LjE5XSxbMy4xOSw1LjA3XSxbMCw2LjU1XSxbLjYyLDUuNTZdLFsxLDQuNDRdLFsxLDMuMjhdLFsxLDIuMTFdLFsuNjIsLjk5XSxbMCwwXSxbMy4xOSwxLjQ5XSxbNi42MSwyLjM3XSxbMTAsMy4yOF1dKS5sZW5ndGgsdj0wO3Y8eTt2KyspZlt2XVswXSo9LXUsZlt2XVsxXSo9dSxmW3ZdWzBdKz0xMCp1LGZbdl1bMV0tPTMuMjgqdTtlbHNlIGlmKDY9PT1UKWZvcih1Lz0xMCxOPTMseT0oZj1bWzEwLDIuODRdLFs2LjYxLDMuNTldLFszLjIxLDQuMzVdLFswLDUuNjhdLFsuMzMsNC43M10sWy42NywzLjc4XSxbMSwyLjg0XSxbLjY3LDEuODldLFsuMzMsLjk1XSxbMCwwXSxbMy4yMSwxLjMzXSxbNi42MSwyLjA5XSxbMTAsMi44NF1dKS5sZW5ndGgsdj0wO3Y8eTt2KyspZlt2XVswXSo9LXUsZlt2XVsxXSo9dSxmW3ZdWzBdKz0xMCp1LGZbdl1bMV0tPTIuODQqdTtlbHNlIGlmKDc9PT1UKWZvcih1PWQsTj0zLHk9KGY9W1swLDEwLjM5XSxbMi4wMSw2LjkyXSxbNS45Niw1LjJdLFsxMCw1LjJdLFs1Ljk2LDUuMl0sWzIuMDEsMy40N10sWzAsMF1dKS5sZW5ndGgsdj0wO3Y8eTt2KyspZlt2XVswXSo9LXUsZlt2XVsxXSo9dSxmW3ZdWzBdKz0xMCp1LGZbdl1bMV0tPTUuMip1O2Vsc2UgZj1bW3UsLjUqLXVdLFswLDBdLFt1LC41KnVdXTtpZihSKWlmKHU9ZCpuLnNpemVMYXN0LGc9VD1uLnR5cGVMYXN0LDI9PT1UKXA9W1stdSwuNSotdV0sWzAsMF0sWy11LC41KnVdLFsuNSotdSwwXV07ZWxzZSBpZigzPT09VClwPVtbLXUvMywuNSotdV0sWzAsLjUqLXVdLFswLC41KnVdLFstdS8zLC41KnVdXTtlbHNlIGlmKDQ9PT1UKWZvcih1Lz0xMCxNPTMseT0ocD1bWzEwLDMuMzFdLFs2LjQ3LDMuODRdLFsyLjg3LDQuNV0sWzAsNi42M10sWy42Nyw1LjUyXSxbMS4zMyw0LjQyXSxbMiwzLjMxXSxbMS4zMywyLjIxXSxbLjY3LDEuMV0sWzAsMF0sWzIuODcsMi4xM10sWzYuNDcsMi43OV0sWzEwLDMuMzFdXSkubGVuZ3RoLHY9MDt2PHk7disrKXBbdl1bMF0qPXUscFt2XVsxXSo9dSxwW3ZdWzBdLT0xMCp1LHBbdl1bMV0tPTMuMzEqdTtlbHNlIGlmKDU9PT1UKWZvcih1Lz0xMCxNPTMseT0ocD1bWzEwLDMuMjhdLFs2LjYxLDQuMTldLFszLjE5LDUuMDddLFswLDYuNTVdLFsuNjIsNS41Nl0sWzEsNC40NF0sWzEsMy4yOF0sWzEsMi4xMV0sWy42MiwuOTldLFswLDBdLFszLjE5LDEuNDldLFs2LjYxLDIuMzddLFsxMCwzLjI4XV0pLmxlbmd0aCx2PTA7djx5O3YrKylwW3ZdWzBdKj11LHBbdl1bMV0qPXUscFt2XVswXS09MTAqdSxwW3ZdWzFdLT0zLjI4KnU7ZWxzZSBpZig2PT09VClmb3IodS89MTAsTT0zLHk9KHA9W1sxMCwyLjg0XSxbNi42MSwzLjU5XSxbMy4yMSw0LjM1XSxbMCw1LjY4XSxbLjMzLDQuNzNdLFsuNjcsMy43OF0sWzEsMi44NF0sWy42NywxLjg5XSxbLjMzLC45NV0sWzAsMF0sWzMuMjEsMS4zM10sWzYuNjEsMi4wOV0sWzEwLDIuODRdXSkubGVuZ3RoLHY9MDt2PHk7disrKXBbdl1bMF0qPXUscFt2XVsxXSo9dSxwW3ZdWzBdLT0xMCp1LHBbdl1bMV0tPTIuODQqdTtlbHNlIGlmKDc9PT1UKWZvcih1PWQsTT0zLHk9KHA9W1swLDEwLjM5XSxbMi4wMSw2LjkyXSxbNS45Niw1LjJdLFsxMCw1LjJdLFs1Ljk2LDUuMl0sWzIuMDEsMy40N10sWzAsMF1dKS5sZW5ndGgsdj0wO3Y8eTt2KyspcFt2XVswXSo9dSxwW3ZdWzFdKj11LHBbdl1bMF0tPTEwKnUscFt2XVsxXS09NS4yKnU7ZWxzZSBwPVtbLXUsLjUqLXVdLFswLDBdLFstdSwuNSp1XV07dy5zYXZlKCksdGhpcy5fc2V0Q29sb3IodCxcInN0cm9rZVwiLFwiZmlsbFwiKSYmKHRoaXMuX3NldENvbG9yKHQsXCJzdHJva2VcIiksQSYmKGI9NyE9PW0sdGhpcy5fZHJhd1BvbHlnb24odGhpcy5fdHJhbnNsYXRlU2hhcGUodGhpcy5fcm90YXRlU2hhcGUoZixTKSxhLGgpLE4sYikpLFImJihiPTchPT1nLHRoaXMuX2RyYXdQb2x5Z29uKHRoaXMuX3RyYW5zbGF0ZVNoYXBlKHRoaXMuX3JvdGF0ZVNoYXBlKHAsTyksbCxjKSxNLGIpKSksdy5yZXN0b3JlKCl9fSxkcmF3TGluZTpmdW5jdGlvbih0KXt2YXIgZSxyLG8sbixoLGM9bmV3IGEoaS5DT09SRFNfQllfVVNFUix0LnBvaW50MS5jb29yZHMudXNyQ29vcmRzLHQuYm9hcmQpLGQ9bmV3IGEoaS5DT09SRFNfQllfVVNFUix0LnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLHQuYm9hcmQpLHU9bnVsbDt0LnZpc1Byb3BDYWxjLnZpc2libGUmJihvPXRoaXMuX2dldEhpZ2hsaWdodGVkKHQpLG49cy5ldmFsdWF0ZSh0LnZpc1Byb3BbbytcInN0cm9rZXdpZHRoXCJdKSwoKGg9dGhpcy5nZXRBcnJvd0hlYWREYXRhKHQsbixvKSkuZXZGaXJzdHx8aC5ldkxhc3QpJiYodT0tNCksbC5jYWxjU3RyYWlnaHQodCxjLGQsdSksdGhpcy5oYW5kbGVUb3VjaHBvaW50cyh0LGMsZCxoKSxlPW5ldyBhKGkuQ09PUkRTX0JZX1VTRVIsYy51c3JDb29yZHMsdC5ib2FyZCkscj1uZXcgYShpLkNPT1JEU19CWV9VU0VSLGQudXNyQ29vcmRzLHQuYm9hcmQpLHRoaXMuZ2V0UG9zaXRpb25BcnJvd0hlYWQodCxjLGQsaCksdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpLHRoaXMuY29udGV4dC5tb3ZlVG8oYy5zY3JDb29yZHNbMV0sYy5zY3JDb29yZHNbMl0pLHRoaXMuY29udGV4dC5saW5lVG8oZC5zY3JDb29yZHNbMV0sZC5zY3JDb29yZHNbMl0pLHRoaXMuX3N0cm9rZSh0KSwoaC5ldkZpcnN0fHxoLmV2TGFzdCkmJnRoaXMuZHJhd0Fycm93cyh0LGUscixvLGgpKX0sdXBkYXRlTGluZTpmdW5jdGlvbih0KXt0aGlzLmRyYXdMaW5lKHQpfSxkcmF3VGlja3M6ZnVuY3Rpb24oKXt9LHVwZGF0ZVRpY2tzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sbixhPXQudGlja3MubGVuZ3RoLGg9dGhpcy5jb250ZXh0O2ZvcihoLmJlZ2luUGF0aCgpLGU9MDtlPGE7ZSsrKWZvcihyPShpPXQudGlja3NbZV0pWzBdLHM9aVsxXSxvPXIubGVuZ3RoLGgubW92ZVRvKHJbMF0sc1swXSksbj0xO248bzsrK24paC5saW5lVG8ocltuXSxzW25dKTtoLmxpbmVDYXA9XCJyb3VuZFwiLHRoaXMuX3N0cm9rZSh0KX0sZHJhd0N1cnZlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtzLmV2YWx1YXRlKHQudmlzUHJvcC5oYW5kZHJhd2luZyk/dGhpcy51cGRhdGVQYXRoU3RyaW5nQmV6aWVyUHJpbSh0KTp0aGlzLnVwZGF0ZVBhdGhTdHJpbmdQcmltKHQpLHQubnVtYmVyUG9pbnRzPjEmJihlPXRoaXMuX2dldEhpZ2hsaWdodGVkKHQpLGk9cy5ldmFsdWF0ZSh0LnZpc1Byb3BbZStcInN0cm9rZXdpZHRoXCJdKSwoKHI9dGhpcy5nZXRBcnJvd0hlYWREYXRhKHQsaSxlKSkuZXZGaXJzdHx8ci5ldkxhc3QpJiZ0aGlzLmRyYXdBcnJvd3ModCxudWxsLG51bGwsZSxyKSl9LHVwZGF0ZUN1cnZlOmZ1bmN0aW9uKHQpe3RoaXMuZHJhd0N1cnZlKHQpfSxkcmF3RWxsaXBzZTpmdW5jdGlvbih0KXt2YXIgZT10LmNlbnRlci5jb29yZHMuc2NyQ29vcmRzWzFdLGk9dC5jZW50ZXIuY29vcmRzLnNjckNvb3Jkc1syXSxyPXQuYm9hcmQudW5pdFgscz10LmJvYXJkLnVuaXRZLG89Mip0LlJhZGl1cygpLG49Mip0LlJhZGl1cygpLGE9bypyLGg9bipzLGw9ZS1hLzIsYz1pLWgvMixkPWEvMiouNTUyMjg0OCx1PWgvMiouNTUyMjg0OCxwPWwrYSxmPWMraCxtPWwrYS8yLGc9YytoLzIsYj10aGlzLmNvbnRleHQ7bz4wJiZuPjAmJiFpc05hTihlK2kpJiYoYi5iZWdpblBhdGgoKSxiLm1vdmVUbyhsLGcpLGIuYmV6aWVyQ3VydmVUbyhsLGctdSxtLWQsYyxtLGMpLGIuYmV6aWVyQ3VydmVUbyhtK2QsYyxwLGctdSxwLGcpLGIuYmV6aWVyQ3VydmVUbyhwLGcrdSxtK2QsZixtLGYpLGIuYmV6aWVyQ3VydmVUbyhtLWQsZixsLGcrdSxsLGcpLGIuY2xvc2VQYXRoKCksdGhpcy5fZmlsbCh0KSx0aGlzLl9zdHJva2UodCkpfSx1cGRhdGVFbGxpcHNlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRyYXdFbGxpcHNlKHQpfSxkaXNwbGF5Q29weXJpZ2h0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5jb250ZXh0O2kuc2F2ZSgpLGkuZm9udD1lK1wicHggQXJpYWxcIixpLmZpbGxTdHlsZT1cIiNhYWFcIixpLmxpbmVXaWR0aD0uNSxpLmZpbGxUZXh0KHQsMTAsMitlKSxpLnJlc3RvcmUoKX0sZHJhd0ludGVybmFsVGV4dDpmdW5jdGlvbih0KXt2YXIgZT1zLmV2YWx1YXRlKHQudmlzUHJvcC5mb250c2l6ZSksaT1zLmV2YWx1YXRlKHQudmlzUHJvcC5mb250dW5pdCkscj10LmdldEFuY2hvclgoKSxvPXQuZ2V0QW5jaG9yWSgpLG49dGhpcy5jb250ZXh0O3JldHVybiBuLnNhdmUoKSx0aGlzLl9zZXRDb2xvcih0LFwic3Ryb2tlXCIsXCJmaWxsXCIpJiYhaXNOYU4odC5jb29yZHMuc2NyQ29vcmRzWzFdK3QuY29vcmRzLnNjckNvb3Jkc1syXSkmJihuLmZvbnQ9KGU+MD9lOjApK2krXCIgQXJpYWxcIix0aGlzLnRyYW5zZm9ybUltYWdlKHQsdC50cmFuc2Zvcm1hdGlvbnMpLFwibGVmdFwiPT09cj9uLnRleHRBbGlnbj1cImxlZnRcIjpcInJpZ2h0XCI9PT1yP24udGV4dEFsaWduPVwicmlnaHRcIjpcIm1pZGRsZVwiPT09ciYmKG4udGV4dEFsaWduPVwiY2VudGVyXCIpLFwiYm90dG9tXCI9PT1vP24udGV4dEJhc2VsaW5lPVwiYm90dG9tXCI6XCJ0b3BcIj09PW8/bi50ZXh0QmFzZWxpbmU9XCJ0b3BcIjpcIm1pZGRsZVwiPT09byYmKG4udGV4dEJhc2VsaW5lPVwibWlkZGxlXCIpLG4uZmlsbFRleHQodC5wbGFpbnRleHQsdC5jb29yZHMuc2NyQ29vcmRzWzFdLHQuY29vcmRzLnNjckNvb3Jkc1syXSkpLG4ucmVzdG9yZSgpLG51bGx9LHVwZGF0ZUludGVybmFsVGV4dDpmdW5jdGlvbih0KXt0aGlzLmRyYXdJbnRlcm5hbFRleHQodCl9LHNldE9iamVjdFN0cm9rZUNvbG9yOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbyxhLGgsbCxjPXMuZXZhbHVhdGUoZSksZD1zLmV2YWx1YXRlKHIpO2Q9ZD4wP2Q6MCx0LnZpc1Byb3BPbGQuc3Ryb2tlY29sb3I9PT1jJiZ0LnZpc1Byb3BPbGQuc3Ryb2tlb3BhY2l0eT09PWR8fChzLmV4aXN0cyhjKSYmITEhPT1jJiYoOSE9PWMubGVuZ3RoPyhvPWMsaD1kKToobz0oYT1uLnJnYmEycmdibyhjKSlbMF0saD1kKmFbMV0pLGw9dC5yZW5kTm9kZSx0LmVsZW1lbnRDbGFzcz09PWkuT0JKRUNUX0NMQVNTX1RFWFQmJlwiaHRtbFwiPT09cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZGlzcGxheSkmJihsLnN0eWxlLmNvbG9yPW8sbC5zdHlsZS5vcGFjaXR5PWgpKSx0LnZpc1Byb3BPbGQuc3Ryb2tlY29sb3I9Yyx0LnZpc1Byb3BPbGQuc3Ryb2tlb3BhY2l0eT1kKX0sZHJhd0ltYWdlOmZ1bmN0aW9uKHQpe3QucmVuZE5vZGU9bmV3IEltYWdlLHQuX3NyYz1cIlwiLHRoaXMudXBkYXRlSW1hZ2UodCl9LHVwZGF0ZUltYWdlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dCxpPXMuZXZhbHVhdGUodC52aXNQcm9wLmZpbGxvcGFjaXR5KSxyPXMuYmluZCgoZnVuY3Rpb24oKXt0LmltZ0lzTG9hZGVkPSEwLHQuc2l6ZVswXTw9MHx8dC5zaXplWzFdPD0wfHwoZS5zYXZlKCksZS5nbG9iYWxBbHBoYT1pLHRoaXMudHJhbnNmb3JtSW1hZ2UodCx0LnRyYW5zZm9ybWF0aW9ucyksZS5kcmF3SW1hZ2UodC5yZW5kTm9kZSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0sdC5jb29yZHMuc2NyQ29vcmRzWzJdLXQuc2l6ZVsxXSx0LnNpemVbMF0sdC5zaXplWzFdKSxlLnJlc3RvcmUoKSl9KSx0aGlzKTt0aGlzLnVwZGF0ZUltYWdlVVJMKHQpP3QucmVuZE5vZGUub25sb2FkPXI6dC5pbWdJc0xvYWRlZCYmcigpfSx0cmFuc2Zvcm1JbWFnZTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9ZS5sZW5ndGgscz10aGlzLmNvbnRleHQ7cj4wJiYoaT10aGlzLmpvaW5UcmFuc2Zvcm1zKHQsZSksTWF0aC5hYnMoYy5kZXQoaSkpPj1oLmVwcyYmcy50cmFuc2Zvcm0oaVsxXVsxXSxpWzJdWzFdLGlbMV1bMl0saVsyXVsyXSxpWzFdWzBdLGlbMl1bMF0pKX0sdXBkYXRlSW1hZ2VVUkw6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9cy5ldmFsdWF0ZSh0LnVybCksdC5fc3JjIT09ZSYmKHQuaW1nSXNMb2FkZWQ9ITEsdC5yZW5kTm9kZS5zcmM9ZSx0Ll9zcmM9ZSwhMCl9LHJlbW92ZTpmdW5jdGlvbih0KXtzLmV4aXN0cyh0KSYmcy5leGlzdHModC5wYXJlbnROb2RlKSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfSx1cGRhdGVQYXRoU3RyaW5nUHJpbTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG49XCJNXCIsYT1uLGg9NWUzLGw9dGhpcy5jb250ZXh0O2lmKCEodC5udW1iZXJQb2ludHM8PTApKXtpZihvPU1hdGgubWluKHQucG9pbnRzLmxlbmd0aCx0Lm51bWJlclBvaW50cyksbC5iZWdpblBhdGgoKSwxPT09dC5iZXppZXJEZWdyZWUpZm9yKGU9MDtlPG87ZSsrKWk9dC5wb2ludHNbZV0uc2NyQ29vcmRzLGlzTmFOKGlbMV0pfHxpc05hTihpWzJdKT9hPW46KGlbMV0+aD9pWzFdPWg6aVsxXTwtNWUzJiYoaVsxXT0tNWUzKSxpWzJdPmg/aVsyXT1oOmlbMl08LTVlMyYmKGlbMl09LTVlMyksYT09PW4/bC5tb3ZlVG8oaVsxXSxpWzJdKTpsLmxpbmVUbyhpWzFdLGlbMl0pLGE9XCJMXCIpO2Vsc2UgaWYoMz09PXQuYmV6aWVyRGVncmVlKWZvcihlPTA7ZTxvOylpPXQucG9pbnRzW2VdLnNjckNvb3Jkcyxpc05hTihpWzFdKXx8aXNOYU4oaVsyXSk/YT1uOihhPT09bj9sLm1vdmVUbyhpWzFdLGlbMl0pOihlKz0xLHI9dC5wb2ludHNbZV0uc2NyQ29vcmRzLGUrPTEscz10LnBvaW50c1tlXS5zY3JDb29yZHMsbC5iZXppZXJDdXJ2ZVRvKGlbMV0saVsyXSxyWzFdLHJbMl0sc1sxXSxzWzJdKSksYT1cIkNcIiksZSs9MTtsLmxpbmVDYXA9XCJyb3VuZFwiLHRoaXMuX2ZpbGwodCksdGhpcy5fc3Ryb2tlKHQpfX0sdXBkYXRlUGF0aFN0cmluZ0JlemllclByaW06ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG8sbixhLGgsbD1cIk1cIixkPWwsdT01ZTMscD1zLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2V3aWR0aCksZj1cInBsb3RcIiE9PXMuZXZhbHVhdGUodC52aXNQcm9wLmN1cnZldHlwZSksbT10aGlzLmNvbnRleHQ7aWYoISh0Lm51bWJlclBvaW50czw9MCkpe2ZvcihmJiZ0LmJvYXJkLm9wdGlvbnMuY3VydmUuUkRQc21vb3RoaW5nJiYodC5wb2ludHM9Yy5SYW1lckRvdWdsYXNQZXVja2VyKHQucG9pbnRzLC41KSksaD1NYXRoLm1pbih0LnBvaW50cy5sZW5ndGgsdC5udW1iZXJQb2ludHMpLG0uYmVnaW5QYXRoKCksaT0xO2k8MztpKyspZm9yKGQ9bCxlPTA7ZTxoO2UrKylvPXQucG9pbnRzW2VdLnNjckNvb3Jkcyxpc05hTihvWzFdKXx8aXNOYU4ob1syXSk/ZD1sOihvWzFdPnU/b1sxXT11Om9bMV08LTVlMyYmKG9bMV09LTVlMyksb1syXT51P29bMl09dTpvWzJdPC01ZTMmJihvWzJdPS01ZTMpLGQ9PT1sP20ubW92ZVRvKG9bMV0sb1syXSk6KHI9MippLG0uYmV6aWVyQ3VydmVUbyhuKy4zMzMqKG9bMV0tbikrcCoocipNYXRoLnJhbmRvbSgpLWkpLGErLjMzMyoob1syXS1hKStwKihyKk1hdGgucmFuZG9tKCktaSksbisuNjY2KihvWzFdLW4pK3AqKHIqTWF0aC5yYW5kb20oKS1pKSxhKy42NjYqKG9bMl0tYSkrcCoocipNYXRoLnJhbmRvbSgpLWkpLG9bMV0sb1syXSkpLGQ9XCJDXCIsbj1vWzFdLGE9b1syXSk7bS5saW5lQ2FwPVwicm91bmRcIix0aGlzLl9maWxsKHQpLHRoaXMuX3N0cm9rZSh0KX19LHVwZGF0ZVBvbHlnb25QcmltOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG89ZS52ZXJ0aWNlcy5sZW5ndGgsbj10aGlzLmNvbnRleHQsYT0hMDtpZighKG88PTApJiZlLnZpc1Byb3BDYWxjLnZpc2libGUpe2ZvcihcInBvbHlnb25hbGNoYWluXCI9PT1lLmVsVHlwZSYmbysrLG4uYmVnaW5QYXRoKCkscj0wOyFlLnZlcnRpY2VzW3JdLmlzUmVhbCYmcjxvLTE7KXIrKyxhPSExO2ZvcihpPWUudmVydGljZXNbcl0uY29vcmRzLnNjckNvb3JkcyxuLm1vdmVUbyhpWzFdLGlbMl0pLHM9cjtzPG8tMTtzKyspZS52ZXJ0aWNlc1tzXS5pc1JlYWx8fChhPSExKSxpPWUudmVydGljZXNbc10uY29vcmRzLnNjckNvb3JkcyxuLmxpbmVUbyhpWzFdLGlbMl0pO24uY2xvc2VQYXRoKCksYSYmdGhpcy5fZmlsbChlKX19LGRpc3BsYXk6ZnVuY3Rpb24odCxlKXt0JiZ0LnJlbmROb2RlJiYodC52aXNQcm9wT2xkLnZpc2libGU9ZSx0LnJlbmROb2RlLnN0eWxlLnZpc2liaWxpdHk9ZT9cImluaGVyaXRcIjpcImhpZGRlblwiKX0sc2hvdzpmdW5jdGlvbihlKXt0LmRlcHJlY2F0ZWQoXCJCb2FyZC5yZW5kZXJlci5zaG93KClcIixcIkJvYXJkLnJlbmRlcmVyLmRpc3BsYXkoKVwiKSxzLmV4aXN0cyhlLnJlbmROb2RlKSYmKGUucmVuZE5vZGUuc3R5bGUudmlzaWJpbGl0eT1cImluaGVyaXRcIil9LGhpZGU6ZnVuY3Rpb24oZSl7dC5kZXByZWNhdGVkKFwiQm9hcmQucmVuZGVyZXIuaGlkZSgpXCIsXCJCb2FyZC5yZW5kZXJlci5kaXNwbGF5KClcIikscy5leGlzdHMoZS5yZW5kTm9kZSkmJihlLnJlbmROb2RlLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIil9LHNldEdyYWRpZW50OmZ1bmN0aW9uKHQpe3ZhciBlO2U9KGU9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZmlsbG9wYWNpdHkpKT4wP2U6MH0sc2V0U2hhZG93OmZ1bmN0aW9uKHQpe3QudmlzUHJvcE9sZC5zaGFkb3chPT10LnZpc1Byb3Auc2hhZG93JiYodC52aXNQcm9wT2xkLnNoYWRvdz10LnZpc1Byb3Auc2hhZG93KX0saGlnaGxpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmVsZW1lbnRDbGFzcz09PWkuT0JKRUNUX0NMQVNTX1RFWFQmJlwiaHRtbFwiPT09cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZGlzcGxheSk/dGhpcy51cGRhdGVUZXh0U3R5bGUodCwhMCk6KHQuYm9hcmQucHJlcGFyZVVwZGF0ZSgpLHQuYm9hcmQucmVuZGVyZXIuc3VzcGVuZFJlZHJhdyh0LmJvYXJkKSx0LmJvYXJkLnVwZGF0ZVJlbmRlcmVyKCksdC5ib2FyZC5yZW5kZXJlci51bnN1c3BlbmRSZWRyYXcoKSksdGhpc30sbm9IaWdobGlnaHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQuZWxlbWVudENsYXNzPT09aS5PQkpFQ1RfQ0xBU1NfVEVYVCYmXCJodG1sXCI9PT1zLmV2YWx1YXRlKHQudmlzUHJvcC5kaXNwbGF5KT90aGlzLnVwZGF0ZVRleHRTdHlsZSh0LCExKToodC5ib2FyZC5wcmVwYXJlVXBkYXRlKCksdC5ib2FyZC5yZW5kZXJlci5zdXNwZW5kUmVkcmF3KHQuYm9hcmQpLHQuYm9hcmQudXBkYXRlUmVuZGVyZXIoKSx0LmJvYXJkLnJlbmRlcmVyLnVuc3VzcGVuZFJlZHJhdygpKSx0aGlzfSxzdXNwZW5kUmVkcmF3OmZ1bmN0aW9uKGUpe3RoaXMuY29udGV4dC5zYXZlKCksdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5jYW52YXNSb290LndpZHRoLHRoaXMuY2FudmFzUm9vdC5oZWlnaHQpLGUmJmUuYXR0ci5zaG93Y29weXJpZ2h0JiZ0aGlzLmRpc3BsYXlDb3B5cmlnaHQodC5saWNlbnNlVGV4dCwxMil9LHVuc3VzcGVuZFJlZHJhdzpmdW5jdGlvbigpe3RoaXMuY29udGV4dC5yZXN0b3JlKCl9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe3RoaXMuY29udGFpbmVyPyh0aGlzLmNhbnZhc1Jvb3Quc3R5bGUud2lkdGg9cGFyc2VGbG9hdCh0KStcInB4XCIsdGhpcy5jYW52YXNSb290LnN0eWxlLmhlaWdodD1wYXJzZUZsb2F0KGUpK1wicHhcIix0aGlzLmNhbnZhc1Jvb3Quc2V0QXR0cmlidXRlKFwid2lkdGhcIiwyKnBhcnNlRmxvYXQodCkrXCJweFwiKSx0aGlzLmNhbnZhc1Jvb3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsMipwYXJzZUZsb2F0KGUpK1wicHhcIikpOih0aGlzLmNhbnZhc1Jvb3Qud2lkdGg9MipwYXJzZUZsb2F0KHQpLHRoaXMuY2FudmFzUm9vdC5oZWlnaHQ9MipwYXJzZUZsb2F0KGUpKSx0aGlzLmNvbnRleHQ9dGhpcy5jYW52YXNSb290LmdldENvbnRleHQoXCIyZFwiKSx0aGlzLmNvbnRleHQuc2NhbGUoMiwyKX0scmVtb3ZlVG9JbnNlcnRMYXRlcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fSksdC5DYW52YXNSZW5kZXJlcn0pKSxkZWZpbmUoXCJyZW5kZXJlci9ub1wiLFtcImp4Z1wiLFwicmVuZGVyZXIvYWJzdHJhY3RcIl0sKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuTm9SZW5kZXJlcj1mdW5jdGlvbigpe3RoaXMuZW5oYW5jZWRSZW5kZXJpbmc9ITEsdGhpcy50eXBlPVwibm9cIn0sdC5leHRlbmQodC5Ob1JlbmRlcmVyLnByb3RvdHlwZSx7ZHJhd1BvaW50OmZ1bmN0aW9uKHQpe30sdXBkYXRlUG9pbnQ6ZnVuY3Rpb24odCl7fSxjaGFuZ2VQb2ludFN0eWxlOmZ1bmN0aW9uKHQpe30sZHJhd0xpbmU6ZnVuY3Rpb24odCl7fSx1cGRhdGVMaW5lOmZ1bmN0aW9uKHQpe30sZHJhd1RpY2tzOmZ1bmN0aW9uKHQpe30sdXBkYXRlVGlja3M6ZnVuY3Rpb24odCl7fSxkcmF3Q3VydmU6ZnVuY3Rpb24odCl7fSx1cGRhdGVDdXJ2ZTpmdW5jdGlvbih0KXt9LGRyYXdFbGxpcHNlOmZ1bmN0aW9uKHQpe30sdXBkYXRlRWxsaXBzZTpmdW5jdGlvbih0KXt9LGRyYXdQb2x5Z29uOmZ1bmN0aW9uKHQpe30sdXBkYXRlUG9seWdvbjpmdW5jdGlvbih0KXt9LGRpc3BsYXlDb3B5cmlnaHQ6ZnVuY3Rpb24odCxlKXt9LGRyYXdJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7fSx1cGRhdGVJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7fSxkcmF3VGV4dDpmdW5jdGlvbih0KXt9LHVwZGF0ZVRleHQ6ZnVuY3Rpb24odCl7fSx1cGRhdGVUZXh0U3R5bGU6ZnVuY3Rpb24odCxlKXt9LHVwZGF0ZUludGVybmFsVGV4dFN0eWxlOmZ1bmN0aW9uKHQsZSxpKXt9LGRyYXdJbWFnZTpmdW5jdGlvbih0KXt9LHVwZGF0ZUltYWdlOmZ1bmN0aW9uKHQpe30sdHJhbnNmb3JtSW1hZ2U6ZnVuY3Rpb24odCxlKXt9LHVwZGF0ZUltYWdlVVJMOmZ1bmN0aW9uKHQpe30sYXBwZW5kQ2hpbGRQcmltOmZ1bmN0aW9uKHQsZSl7fSxhcHBlbmROb2Rlc1RvRWxlbWVudDpmdW5jdGlvbih0LGUpe30sY3JlYXRlUHJpbTpmdW5jdGlvbih0LGUpe3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24odCl7fSxtYWtlQXJyb3dzOmZ1bmN0aW9uKHQpe30sdXBkYXRlRWxsaXBzZVByaW06ZnVuY3Rpb24odCxlLGkscixzKXt9LHVwZGF0ZUxpbmVQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyxvKXt9LHVwZGF0ZVBhdGhQcmltOmZ1bmN0aW9uKHQsZSxpKXt9LHVwZGF0ZVBhdGhTdHJpbmdQb2ludDpmdW5jdGlvbih0LGUsaSl7fSx1cGRhdGVQYXRoU3RyaW5nUHJpbTpmdW5jdGlvbih0KXt9LHVwZGF0ZVBhdGhTdHJpbmdCZXppZXJQcmltOmZ1bmN0aW9uKHQpe30sdXBkYXRlUG9seWdvblByaW06ZnVuY3Rpb24odCxlKXt9LHVwZGF0ZVJlY3RQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyl7fSxzZXRQcm9wZXJ0eVByaW06ZnVuY3Rpb24odCxlLGkpe30sZGlzcGxheTpmdW5jdGlvbih0LGUpe3QmJih0LnZpc1Byb3BPbGQudmlzaWJsZT1lKX0sc2hvdzpmdW5jdGlvbih0KXt9LGhpZGU6ZnVuY3Rpb24odCl7fSxzZXRCdWZmZXJpbmc6ZnVuY3Rpb24odCxlKXt9LHNldERhc2hTdHlsZTpmdW5jdGlvbih0KXt9LHNldERyYWZ0OmZ1bmN0aW9uKHQpe30scmVtb3ZlRHJhZnQ6ZnVuY3Rpb24odCl7fSxzZXRHcmFkaWVudDpmdW5jdGlvbih0KXt9LHVwZGF0ZUdyYWRpZW50OmZ1bmN0aW9uKHQpe30sc2V0T2JqZWN0VHJhbnNpdGlvbjpmdW5jdGlvbih0LGUpe30sc2V0T2JqZWN0RmlsbENvbG9yOmZ1bmN0aW9uKHQsZSxpKXt9LHNldE9iamVjdFN0cm9rZUNvbG9yOmZ1bmN0aW9uKHQsZSxpKXt9LHNldE9iamVjdFN0cm9rZVdpZHRoOmZ1bmN0aW9uKHQsZSl7fSxzZXRTaGFkb3c6ZnVuY3Rpb24odCl7fSxoaWdobGlnaHQ6ZnVuY3Rpb24odCl7fSxub0hpZ2hsaWdodDpmdW5jdGlvbih0KXt9LHN1c3BlbmRSZWRyYXc6ZnVuY3Rpb24oKXt9LHVuc3VzcGVuZFJlZHJhdzpmdW5jdGlvbigpe30sZHJhd1pvb21CYXI6ZnVuY3Rpb24odCl7fSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0scmVzaXplOmZ1bmN0aW9uKHQsZSl7fSxyZW1vdmVUb0luc2VydExhdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7fX19KSx0Lk5vUmVuZGVyZXIucHJvdG90eXBlPW5ldyBlLHQuTm9SZW5kZXJlcn0pKSxkZWZpbmUoXCJqc3hncmFwaFwiLFtcImp4Z1wiLFwidXRpbHMvZW52XCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL2JvYXJkXCIsXCJyZWFkZXIvZmlsZVwiLFwib3B0aW9uc1wiLFwicmVuZGVyZXIvc3ZnXCIsXCJyZW5kZXJlci92bWxcIixcInJlbmRlcmVyL2NhbnZhc1wiLFwicmVuZGVyZXIvbm9cIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoLGwpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkpTWEdyYXBoPXtyZW5kZXJlclR5cGU6KG8uYm9hcmQucmVuZGVyZXI9XCJub1wiLGUuc3VwcG9ydHNWTUwoKSYmKG8uYm9hcmQucmVuZGVyZXI9XCJ2bWxcIixkb2N1bWVudC5vbm1vdXNlbW92ZT1mdW5jdGlvbigpe3ZhciB0O3JldHVybiBkb2N1bWVudC5ib2R5JiYodD1kb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsdCs9ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApLHR9KSxlLnN1cHBvcnRzQ2FudmFzKCkmJihvLmJvYXJkLnJlbmRlcmVyPVwiY2FudmFzXCIpLGUuc3VwcG9ydHNTVkcoKSYmKG8uYm9hcmQucmVuZGVyZXI9XCJzdmdcIiksZS5pc05vZGUoKSYmZS5zdXBwb3J0c0NhbnZhcygpJiYoby5ib2FyZC5yZW5kZXJlcj1cImNhbnZhc1wiKSwoZS5pc05vZGUoKXx8XCJub1wiPT09by5yZW5kZXJlcikmJihvLnRleHQuZGlzcGxheT1cImludGVybmFsXCIsby5pbmZvYm94LmRpc3BsYXk9XCJpbnRlcm5hbFwiKSxvLmJvYXJkLnJlbmRlcmVyKSxpbml0UmVuZGVyZXI6ZnVuY3Rpb24odCxlLHIscyl7dmFyIG87aWYoaS5leGlzdHMocikmJiExIT09cnx8XCJvYmplY3RcIiE9dHlwZW9mIGRvY3VtZW50fHwocj1kb2N1bWVudCksXCJvYmplY3RcIj09dHlwZW9mIHImJm51bGwhPT10KWZvcihvPXIuZ2V0RWxlbWVudEJ5SWQodCk7by5maXJzdENoaWxkOylvLnJlbW92ZUNoaWxkKG8uZmlyc3RDaGlsZCk7ZWxzZSBvPXQ7cmV0dXJuIHZvaWQgMCE9PXMmJlwiYXV0b1wiIT09c3x8KHM9dGhpcy5yZW5kZXJlclR5cGUpLFwic3ZnXCI9PT1zP25ldyBuKG8sZSk6XCJ2bWxcIj09PXM/bmV3IGEobyk6XCJjYW52YXNcIj09PXM/bmV3IGgobyxlKTpuZXcgbH0sX3NldEF0dHJpYnV0ZXM6ZnVuY3Rpb24odCl7dmFyIGU9aS5jb3B5QXR0cmlidXRlcyh0LG8sXCJib2FyZFwiKTtyZXR1cm4gZS56b29tPWkuY29weUF0dHJpYnV0ZXMoZSxvLFwiYm9hcmRcIixcInpvb21cIiksZS5wYW49aS5jb3B5QXR0cmlidXRlcyhlLG8sXCJib2FyZFwiLFwicGFuXCIpLGUuZHJhZz1pLmNvcHlBdHRyaWJ1dGVzKGUsbyxcImJvYXJkXCIsXCJkcmFnXCIpLGUua2V5Ym9hcmQ9aS5jb3B5QXR0cmlidXRlcyhlLG8sXCJib2FyZFwiLFwia2V5Ym9hcmRcIiksZS5zZWxlY3Rpb249aS5jb3B5QXR0cmlidXRlcyhlLG8sXCJib2FyZFwiLFwic2VsZWN0aW9uXCIpLGUubmF2YmFyPWkuY29weUF0dHJpYnV0ZXMoZS5uYXZiYXIsbyxcIm5hdmJhclwiKSxlLnNjcmVlbnNob3Q9aS5jb3B5QXR0cmlidXRlcyhlLG8sXCJib2FyZFwiLFwic2NyZWVuc2hvdFwiKSxlLnJlc2l6ZT1pLmNvcHlBdHRyaWJ1dGVzKGUsbyxcImJvYXJkXCIsXCJyZXNpemVcIiksZS5mdWxsc2NyZWVuPWkuY29weUF0dHJpYnV0ZXMoZSxvLFwiYm9hcmRcIixcImZ1bGxzY3JlZW5cIiksZS5tb3ZldGFyZ2V0PXQubW92ZVRhcmdldHx8dC5tb3ZldGFyZ2V0fHxvLmJvYXJkLm1vdmVUYXJnZXQsZX0sX2ZpbGxCb2FyZDpmdW5jdGlvbihlLGkscil7ZS5pbml0SW5mb2JveCgpLGUubWF4Ym91bmRpbmdib3g9aS5tYXhib3VuZGluZ2JveCxlLnJlc2l6ZUNvbnRhaW5lcihyLndpZHRoLHIuaGVpZ2h0LCEwLCEwKSxlLl9jcmVhdGVTZWxlY3Rpb25Qb2x5Z29uKGkpLGUucmVuZGVyZXIuZHJhd1pvb21CYXIoZSxpLm5hdmJhciksdC5ib2FyZHNbZS5pZF09ZX0sX3NldEFSSUE6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuLGEsaD1lLmRvY3VtZW50fHxkb2N1bWVudDtcIm9iamVjdFwiPT10eXBlb2YgaCYmKGk9KHI9aC5nZXRFbGVtZW50QnlJZCh0KSkub3duZXJEb2N1bWVudCxvPXIucGFyZW50Tm9kZSxuPXQrXCJfQVJJQWxhYmVsXCIsYT10K1wiX0FSSUFkZXNjcmlwdGlvblwiLChzPWkuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuaW5uZXJIVE1MPWUudGl0bGUscy5zZXRBdHRyaWJ1dGUoXCJpZFwiLG4pLHMuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixvLmluc2VydEJlZm9yZShzLHIpLChzPWkuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuaW5uZXJIVE1MPWUuZGVzY3JpcHRpb24scy5zZXRBdHRyaWJ1dGUoXCJpZFwiLGEpLHMuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixvLmluc2VydEJlZm9yZShzLHIpLHIuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIsbiksci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsYSkpfSxfcmVtb3ZlQVJJQU5vZGVzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtcIm9iamVjdFwiPT10eXBlb2Yocj10LmRvY3VtZW50fHxkb2N1bWVudCkmJihpPXQuY29udGFpbmVyT2JqLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiKSwoZT1yLmdldEVsZW1lbnRCeUlkKGkpKSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksaT10LmNvbnRhaW5lck9iai5nZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpLChlPXIuZ2V0RWxlbWVudEJ5SWQoaSkpJiZlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSl9LGluaXRCb2FyZDpmdW5jdGlvbih0LHMpe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtLGcsYix2LHksQz0wLF89MDtyZXR1cm4gcz1zfHx7fSxtPXRoaXMuX3NldEF0dHJpYnV0ZXMocykscD1lLmdldERpbWVuc2lvbnModCxtLmRvY3VtZW50KSxtLnVuaXR4fHxtLnVuaXR5PyhuPWkuZGVmKG0ub3JpZ2lueCwxNTApLGE9aS5kZWYobS5vcmlnaW55LDE1MCksaD1pLmRlZihtLnVuaXR4LDUwKSxsPWkuZGVmKG0udW5pdHksNTApKTooKGY9bS5ib3VuZGluZ2JveClbMF08bS5tYXhib3VuZGluZ2JveFswXSYmKGZbMF09bS5tYXhib3VuZGluZ2JveFswXSksZlsxXT5tLm1heGJvdW5kaW5nYm94WzFdJiYoZlsxXT1tLm1heGJvdW5kaW5nYm94WzFdKSxmWzJdPm0ubWF4Ym91bmRpbmdib3hbMl0mJihmWzJdPW0ubWF4Ym91bmRpbmdib3hbMl0pLGZbM108bS5tYXhib3VuZGluZ2JveFszXSYmKGZbM109bS5tYXhib3VuZGluZ2JveFszXSksZD1wYXJzZUludChwLndpZHRoLDEwKSx1PXBhcnNlSW50KHAuaGVpZ2h0LDEwKSxpLmV4aXN0cyhmKSYmbS5rZWVwYXNwZWN0cmF0aW8/KGg9ZC8oZlsyXS1mWzBdKSxsPXUvKGZbMV0tZlszXSksTWF0aC5hYnMoaCk8TWF0aC5hYnMobCk/Xz0uNSoodS8obD1NYXRoLmFicyhoKSpsL01hdGguYWJzKGwpKS0oZlsxXS1mWzNdKSk6Qz0uNSooZC8oaD1NYXRoLmFicyhsKSpoL01hdGguYWJzKGgpKS0oZlsyXS1mWzBdKSkpOihoPWQvKGZbMl0tZlswXSksbD11LyhmWzFdLWZbM10pKSxuPS1oKihmWzBdLUMpLGE9bCooZlsxXStfKSksYz10aGlzLmluaXRSZW5kZXJlcih0LHAsbS5kb2N1bWVudCxtLnJlbmRlcmVyKSx0aGlzLl9zZXRBUklBKHQsbSksKHk9bmV3IHIodCxjLG0uaWQsW24sYV0sbS56b29tZmFjdG9yKm0uem9vbXgsbS56b29tZmFjdG9yKm0uem9vbXksaCxsLHAud2lkdGgscC5oZWlnaHQsbSkpLmtlZXBhc3BlY3RyYXRpbz1tLmtlZXBhc3BlY3RyYXRpbyx0aGlzLl9maWxsQm9hcmQoeSxtLHApLHkuc3VzcGVuZFVwZGF0ZSgpLG0uYXhpcyYmKGc9XCJvYmplY3RcIj09dHlwZW9mIG0uYXhpcz9tLmF4aXM6e30sYj1pLmRlZXBDb3B5KG8uYm9hcmQuZGVmYXVsdEF4ZXMueCxnKSx2PWkuZGVlcENvcHkoby5ib2FyZC5kZWZhdWx0QXhlcy55LGcpLG0uZGVmYXVsdGF4ZXMueCYmKGI9aS5kZWVwQ29weShiLG0uZGVmYXVsdGF4ZXMueCkpLG0uZGVmYXVsdGF4ZXMueSYmKHY9aS5kZWVwQ29weSh2LG0uZGVmYXVsdGF4ZXMueSkpLHkuZGVmYXVsdEF4ZXM9e30seS5kZWZhdWx0QXhlcy54PXkuY3JlYXRlKFwiYXhpc1wiLFtbMCwwXSxbMSwwXV0sYikseS5kZWZhdWx0QXhlcy55PXkuY3JlYXRlKFwiYXhpc1wiLFtbMCwwXSxbMCwxXV0sdikpLG0uZ3JpZCYmeS5jcmVhdGUoXCJncmlkXCIsW10sXCJvYmplY3RcIj09dHlwZW9mIG0uZ3JpZD9tLmdyaWQ6e30pLHkudW5zdXNwZW5kVXBkYXRlKCkseX0sbG9hZEJvYXJkRnJvbUZpbGU6ZnVuY3Rpb24odCxpLG8sbixhKXt2YXIgaCxsLGMsZCx1O3JldHVybiBuPW58fHt9LGg9dGhpcy5fc2V0QXR0cmlidXRlcyhuKSxkPWUuZ2V0RGltZW5zaW9ucyh0LGguZG9jdW1lbnQpLGw9dGhpcy5pbml0UmVuZGVyZXIodCxkLGguZG9jdW1lbnQsaC5yZW5kZXJlciksdGhpcy5fc2V0QVJJQSh0LGgpLGM9bmV3IHIodCxsLFwiXCIsWzE1MCwxNTBdLDEsMSw1MCw1MCxkLndpZHRoLGQuaGVpZ2h0LGgpLHRoaXMuX2ZpbGxCb2FyZChjLGgsZCksdT1oLmVuY29kaW5nfHxcImlzby04ODU5LTFcIixzLnBhcnNlRmlsZUNvbnRlbnQoaSxjLG8sITAsdSxhKSxjfSxsb2FkQm9hcmRGcm9tU3RyaW5nOmZ1bmN0aW9uKHQsaSxvLG4sYSl7dmFyIGgsbCxjLGQ7cmV0dXJuIG49bnx8e30saD10aGlzLl9zZXRBdHRyaWJ1dGVzKG4pLGQ9ZS5nZXREaW1lbnNpb25zKHQsaC5kb2N1bWVudCksbD10aGlzLmluaXRSZW5kZXJlcih0LGQsaC5kb2N1bWVudCksdGhpcy5fc2V0QVJJQSh0LGgpLGM9bmV3IHIodCxsLFwiXCIsWzE1MCwxNTBdLDEsMSw1MCw1MCxkLndpZHRoLGQuaGVpZ2h0LGgpLHRoaXMuX2ZpbGxCb2FyZChjLGgsZCkscy5wYXJzZVN0cmluZyhpLGMsbywhMCxhKSxjfSxmcmVlQm9hcmQ6ZnVuY3Rpb24oZSl7dmFyIGk7Zm9yKGkgaW5cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dC5ib2FyZHNbZV0pLHRoaXMuX3JlbW92ZUFSSUFOb2RlcyhlKSxlLnJlbW92ZUV2ZW50SGFuZGxlcnMoKSxlLnN1c3BlbmRVcGRhdGUoKSxlLm9iamVjdHMpZS5vYmplY3RzLmhhc093blByb3BlcnR5KGkpJiZlLm9iamVjdHNbaV0ucmVtb3ZlKCk7Zm9yKDtlLmNvbnRhaW5lck9iai5maXJzdENoaWxkOyllLmNvbnRhaW5lck9iai5yZW1vdmVDaGlsZChlLmNvbnRhaW5lck9iai5maXJzdENoaWxkKTtmb3IoaSBpbiBlLm9iamVjdHMpZS5vYmplY3RzLmhhc093blByb3BlcnR5KGkpJiZkZWxldGUgZS5vYmplY3RzW2ldO2RlbGV0ZSBlLnJlbmRlcmVyLGUuamMuY3JlYXRvci5jbGVhckNhY2hlKCksZGVsZXRlIGUuamMsZGVsZXRlIHQuYm9hcmRzW2UuaWRdfSxyZWdpc3RlckVsZW1lbnQ6ZnVuY3Rpb24oZSxpKXt0LmRlcHJlY2F0ZWQoXCJKWEcuSlNYR3JhcGgucmVnaXN0ZXJFbGVtZW50KClcIixcIkpYRy5yZWdpc3RlckVsZW1lbnQoKVwiKSx0LnJlZ2lzdGVyRWxlbWVudChlLGkpfX0sZS5pc0Jyb3dzZXImJlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCYmZS5hZGRFdmVudCh3aW5kb3csXCJsb2FkXCIsKGZ1bmN0aW9uKCl7dmFyIGUscixzLG8sbixhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEM9ITEsXz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxQPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcz10LkpTWEdyYXBoLmluaXRCb2FyZChuLHtib3VuZGluZ2JveDpyLGtlZXBhc3BlY3RyYXRpbzohMCxncmlkOmcsYXhpczptLHNob3dSZWxvYWQ6ITB9KTtpZihpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcInNjcmlwdFwiKT4tMSlzLmNvbnN0cnVjdChlKTtlbHNlIHRyeXtzLmpjLnBhcnNlKGUpfWNhdGNoKGUpe3QuZGVidWcoZSl9cmV0dXJuIHN9LEU9ZnVuY3Rpb24oZSxpLHIscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG87dC5KU1hHcmFwaC5mcmVlQm9hcmQoZSksKG89UChpLHIscykpLnJlbG9hZD1FKG8saSxyLHMpfX07Zm9yKHI9MDtyPF8ubGVuZ3RoO3IrKylpZihlPV9bcl0uZ2V0QXR0cmlidXRlKFwidHlwZVwiLCExKSxpLmV4aXN0cyhlKSYmKFwidGV4dC9qZXNzaWVzY3JpcHRcIj09PWUudG9Mb3dlckNhc2UoKXx8XCJqZXNzaWVzY3JpcHRcIj09PWUudG9Mb3dlckNhc2UoKXx8XCJ0ZXh0L2plc3NpZWNvZGVcIj09PWUudG9Mb3dlckNhc2UoKXx8XCJqZXNzaWVjb2RlXCI9PT1lLnRvTG93ZXJDYXNlKCkpKXtpZihwPV9bcl0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiwhMSl8fFwiXCIsbD1fW3JdLmdldEF0dHJpYnV0ZShcIndpZHRoXCIsITEpfHxcIlwiLGM9X1tyXS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwhMSl8fFwiXCIsZD1fW3JdLmdldEF0dHJpYnV0ZShcIm1heHdpZHRoXCIsITEpfHxcIjEwMCVcIix1PV9bcl0uZ2V0QXR0cmlidXRlKFwiYXNwZWN0cmF0aW9cIiwhMSl8fFwiMS8xXCIsZj1fW3JdLmdldEF0dHJpYnV0ZShcImJvdW5kaW5nYm94XCIsITEpfHxcIi01LCA1LCA1LCAtNVwiLG49X1tyXS5nZXRBdHRyaWJ1dGUoXCJjb250YWluZXJcIiwhMSksdj1fW3JdLmdldEF0dHJpYnV0ZShcInNyY1wiLCExKSw0IT09KGY9Zi5zcGxpdChcIixcIikpLmxlbmd0aClmPVstNSw1LDUsLTVdO2Vsc2UgZm9yKHM9MDtzPGYubGVuZ3RoO3MrKylmW3NdPXBhcnNlRmxvYXQoZltzXSk7aWYobT1pLnN0cjJCb29sKF9bcl0uZ2V0QXR0cmlidXRlKFwiYXhpc1wiLCExKXx8XCJmYWxzZVwiKSxnPWkuc3RyMkJvb2woX1tyXS5nZXRBdHRyaWJ1dGUoXCJncmlkXCIsITEpfHxcImZhbHNlXCIpLGkuZXhpc3RzKG4pKW89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobik7ZWxzZXtuPVwiamVzc2llc2NyaXB0X2F1dGdlbl9qeGdfXCIrciwobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zZXRBdHRyaWJ1dGUoXCJpZFwiLG4pLGg9XCJcIiE9PWw/XCJ3aWR0aDpcIitsK1wiO1wiOlwiXCIsaCs9XCJcIiE9PWM/XCJoZWlnaHQ6XCIrYytcIjtcIjpcIlwiLGgrPVwiXCIhPT1kP1wibWF4LXdpZHRoOlwiK2QrXCI7XCI6XCJcIixoKz1cIlwiIT09dT9cImFzcGVjdC1yYXRpbzpcIit1K1wiO1wiOlwiXCIsby5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGgpLG8uc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImp4Z2JveCBcIitwKTt0cnl7ZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUobyxfW3JdKX1jYXRjaCh0KXtcIm9iamVjdFwiPT10eXBlb2YgalF1ZXJ5JiZqUXVlcnkobykuaW5zZXJ0QmVmb3JlKF9bcl0pfX1iPVwiXCIsaS5leGlzdHModik/KEM9ITAsKHk9bmV3IFhNTEh0dHBSZXF1ZXN0KS5vcGVuKFwiR0VUXCIsdikseS5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD14LXVzZXItZGVmaW5lZFwiKSx5LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKGZ1bmN0aW9uKCl7aWYoISh0aGlzLnN0YXR1czw0MDApKXRocm93IG5ldyBFcnJvcihcIlxcbkpTWEdyYXBoOiBmYWlsZWQgdG8gbG9hZCBmaWxlXCIsdixcIjpcIix0aGlzLnJlc3BvbnNlVGV4dCk7Yj10aGlzLnJlc3BvbnNlVGV4dCtcIlxcblwiK2IsKGE9UChiLGUsZikpLnJlbG9hZD1FKGEsYixlLGYpfSkpLHkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsKGZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcIlxcbkpTWEdyYXBoOiBmYWlsZWQgdG8gbG9hZCBmaWxlXCIsdixcIjpcIix0KX0pKSx5LnNlbmQoKSk6Qz0hMSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKT8oYj0oYj1fW3JdLmlubmVySFRNTCkucmVwbGFjZSgvPCFcXFtDREFUQVxcWy9nLFwiXCIpLnJlcGxhY2UoL1xcXVxcXT4vZyxcIlwiKSxfW3JdLmlubmVySFRNTD1iLEN8fCgoYT1QKGIsZSxmKSkucmVsb2FkPUUoYSxiLGUsZikpKTp0LmRlYnVnKFwiSlNYR3JhcGg6IEFwcGFyZW50bHkgdGhlIGRpdiBpbmplY3Rpb24gZmFpbGVkLiBDYW4ndCBjcmVhdGUgYSBib2FyZCwgc29ycnkuXCIpfX0pLHdpbmRvdyksdC5KU1hHcmFwaH0pKSxkZWZpbmUoXCJiYXNlL3BvaW50XCIsW1wianhnXCIsXCJvcHRpb25zXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2VsZW1lbnRcIixcInV0aWxzL3R5cGVcIixcImJhc2UvY29vcmRzZWxlbWVudFwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Qb2ludD1mdW5jdGlvbih0LGUsaSl7dGhpcy5jb25zdHJ1Y3Rvcih0LGkscy5PQkpFQ1RfVFlQRV9QT0lOVCxzLk9CSkVDVF9DTEFTU19QT0lOVCksdGhpcy5lbGVtZW50PXRoaXMuYm9hcmQuc2VsZWN0KGkuYW5jaG9yKSx0aGlzLmNvb3Jkc0NvbnN0cnVjdG9yKGUpLHRoaXMuZWxUeXBlPVwicG9pbnRcIix0aGlzLmlkPXRoaXMuYm9hcmQuc2V0SWQodGhpcyxcIlBcIiksdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3UG9pbnQodGhpcyksdGhpcy5ib2FyZC5maW5hbGl6ZUFkZGluZyh0aGlzKSx0aGlzLmNyZWF0ZUdyYWRpZW50KCksdGhpcy5jcmVhdGVMYWJlbCgpfSx0LlBvaW50LnByb3RvdHlwZT1uZXcgbyxuLmNvcHlQcm90b3R5cGVNZXRob2RzKHQuUG9pbnQsYSxcImNvb3Jkc0NvbnN0cnVjdG9yXCIpLHQuZXh0ZW5kKHQuUG9pbnQucHJvdG90eXBlLHtoYXNQb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvPXRoaXMuY29vcmRzLnNjckNvb3JkcyxhPW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNpemV1bml0KTtyZXR1cm4gbi5pc09iamVjdChuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb24pKT8ocz10aGlzLmJvYXJkLl9pbnB1dERldmljZSxyPW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbltzXSkpOnI9dGhpcy5ib2FyZC5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludCxpPXBhcnNlRmxvYXQobi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2l6ZSkpLFwidXNlclwiPT09YSYmKGkqPU1hdGguc3FydCh0aGlzLmJvYXJkLnVuaXRYKnRoaXMuYm9hcmQudW5pdFkpKSwoaSs9LjUqcGFyc2VGbG9hdChuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJva2V3aWR0aCkpKTxyJiYoaT1yKSxNYXRoLmFicyhvWzFdLXQpPGkrMiYmTWF0aC5hYnMob1syXS1lKTxpKzJ9LHVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy51cGRhdGVDb29yZHModCksbi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudHJhY2UpJiZ0aGlzLmNsb25lVG9CYWNrZ3JvdW5kKCEwKSx0aGlzKTp0aGlzfSx1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGUsaTtpZigwPT09dGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RofHxudWxsPT09dGhpcy5iYXNlRWxlbWVudClyZXR1cm4gdGhpcztmb3IodGhpcz09PXRoaXMuYmFzZUVsZW1lbnQ/KGU9dGhpcy50cmFuc2Zvcm1hdGlvbnNbMF0uYXBwbHkodGhpcy5iYXNlRWxlbWVudCxcInNlbGZcIiksdGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMocy5DT09SRFNfQllfVVNFUixlKSk6ZT10aGlzLnRyYW5zZm9ybWF0aW9uc1swXS5hcHBseSh0aGlzLmJhc2VFbGVtZW50KSx0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhzLkNPT1JEU19CWV9VU0VSLGUpLGk9MTtpPHRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aDtpKyspdGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMocy5DT09SRFNfQllfVVNFUix0aGlzLnRyYW5zZm9ybWF0aW9uc1tpXS5hcHBseSh0aGlzKSk7cmV0dXJuIHRoaXN9LHVwZGF0ZVJlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlUmVuZGVyZXJHZW5lcmljKFwidXBkYXRlUG9pbnRcIiksdGhpc30sYm91bmRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnVzckNvb3Jkcy5zbGljZSgxKS5jb25jYXQodGhpcy5jb29yZHMudXNyQ29vcmRzLnNsaWNlKDEpKX0sbWFrZUludGVyc2VjdGlvbjpmdW5jdGlvbih0LGUsaSxvKXt2YXIgYTt0PXRoaXMuYm9hcmQuc2VsZWN0KHQpLGU9dGhpcy5ib2FyZC5zZWxlY3QoZSksYT1yLmludGVyc2VjdGlvbkZ1bmN0aW9uKHRoaXMuYm9hcmQsdCxlLGksbyxuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hbHdheXNpbnRlcnNlY3QpKSx0aGlzLmFkZENvbnN0cmFpbnQoW2FdKTt0cnl7dC5hZGRDaGlsZCh0aGlzKSxlLmFkZENoaWxkKHRoaXMpfWNhdGNoKGkpe3Rocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgJ2ludGVyc2VjdGlvbicgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiB0K1wiJyBhbmQgJ1wiK3R5cGVvZiBlK1wiJy5cIil9dGhpcy50eXBlPXMuT0JKRUNUX1RZUEVfSU5URVJTRUNUSU9OLHRoaXMuZWxUeXBlPVwiaW50ZXJzZWN0aW9uXCIsdGhpcy5wYXJlbnRzPVt0LmlkLGUuaWQsaSxvXSx0aGlzLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3ZhciBpPXQuZ2VuZXJhdGVQb2x5bm9taWFsKHRoaXMpLHI9ZS5nZW5lcmF0ZVBvbHlub21pYWwodGhpcyk7cmV0dXJuIDA9PT1pLmxlbmd0aHx8MD09PXIubGVuZ3RoP1tdOltpWzBdLHJbMF1dfSx0aGlzLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKX0sc2V0U3R5bGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmlzUHJvcC5mYWNlPVtcImNyb3NzXCIsXCJjcm9zc1wiLFwiY3Jvc3NcIixcImNpcmNsZVwiLFwiY2lyY2xlXCIsXCJjaXJjbGVcIixcImNpcmNsZVwiLFwic3F1YXJlXCIsXCJzcXVhcmVcIixcInNxdWFyZVwiLFwicGx1c1wiLFwicGx1c1wiLFwicGx1c1wiXVt0XSx0aGlzLnZpc1Byb3Auc2l6ZT1bMiwzLDQsMSwyLDMsNCwyLDMsNCwyLDMsNF1bdF0sdGhpcy5ib2FyZC5yZW5kZXJlci5jaGFuZ2VQb2ludFN0eWxlKHRoaXMpLHRoaXN9LG5vcm1hbGl6ZUZhY2U6ZnVuY3Rpb24oaSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcIlBvaW50Lm5vcm1hbGl6ZUZhY2UoKVwiLFwiSlhHLm5vcm1hbGl6ZVBvaW50RmFjZSgpXCIpLGUubm9ybWFsaXplUG9pbnRGYWNlKGkpfSxmYWNlOmZ1bmN0aW9uKGUpe3QuZGVwcmVjYXRlZChcIlBvaW50LmZhY2UoKVwiLFwiUG9pbnQuc2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUoe2ZhY2U6ZX0pfSxzaXplOmZ1bmN0aW9uKGUpe3QuZGVwcmVjYXRlZChcIlBvaW50LnNpemUoKVwiLFwiUG9pbnQuc2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUoe3NpemU6ZX0pfSxpc09uOmZ1bmN0aW9uKGUsbyl7dmFyIGEsaDtyZXR1cm4gbz1vfHxpLmVwcyxuLmlzUG9pbnQoZSk/dGhpcy5EaXN0KGUpPG86ZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19MSU5FPyhcInNlZ21lbnRcIiE9PWUuZWxUeXBlfHxuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hbHdheXNpbnRlcnNlY3QpfHwoYT10Lk1hdGguR2VvbWV0cnkucHJvamVjdENvb3Jkc1RvU2VnbWVudCh0aGlzLmNvb3Jkcy51c3JDb29yZHMsZS5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxlLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzKSlbMV0+PTAmJmFbMV08PTEpJiZyLmRpc3RQb2ludExpbmUodGhpcy5jb29yZHMudXNyQ29vcmRzLGUuc3RkZm9ybSk8bzplLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0NJUkNMRT9uLmV2YWx1YXRlKGUudmlzUHJvcC5oYXNpbm5lcnBvaW50cyk/dGhpcy5EaXN0KGUuY2VudGVyKTxlLlJhZGl1cygpK286TWF0aC5hYnModGhpcy5EaXN0KGUuY2VudGVyKS1lLlJhZGl1cygpKTxvOmUuZWxlbWVudENsYXNzPT09cy5PQkpFQ1RfQ0xBU1NfQ1VSVkU/KGg9ci5wcm9qZWN0UG9pbnRUb0N1cnZlKHRoaXMsZSx0aGlzLmJvYXJkKVswXSxyLmRpc3RhbmNlKHRoaXMuY29vcmRzLnVzckNvb3JkcyxoLnVzckNvb3JkcywzKTxvKTplLnR5cGU9PT1zLk9CSkVDVF9UWVBFX1BPTFlHT04/ISghbi5ldmFsdWF0ZShlLnZpc1Byb3AuaGFzaW5uZXJwb2ludHMpfHwhZS5wbnBvbHkodGhpcy5jb29yZHMudXNyQ29vcmRzWzFdLHRoaXMuY29vcmRzLnVzckNvb3Jkc1syXSx0LkNPT1JEU19CWV9VU0VSKSl8fChhPXIucHJvamVjdENvb3Jkc1RvUG9seWdvbih0aGlzLmNvb3Jkcy51c3JDb29yZHMsZSksci5kaXN0YW5jZSh0aGlzLmNvb3Jkcy51c3JDb29yZHMsYSwzKTxvKTplLnR5cGU9PT1zLk9CSkVDVF9UWVBFX1RVUlRMRSYmKGg9ci5wcm9qZWN0UG9pbnRUb1R1cnRsZSh0aGlzLGUsdGhpcy5ib2FyZCksci5kaXN0YW5jZSh0aGlzLmNvb3Jkcy51c3JDb29yZHMsaC51c3JDb29yZHMsMyk8byl9LGNsb25lVG9CYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHQuaWQ9dGhpcy5pZCtcIlRcIit0aGlzLm51bVRyYWNlcyx0aGlzLm51bVRyYWNlcys9MSx0LmNvb3Jkcz10aGlzLmNvb3Jkcyx0LnZpc1Byb3A9bi5kZWVwQ29weSh0aGlzLnZpc1Byb3AsdGhpcy52aXNQcm9wLnRyYWNlYXR0cmlidXRlcywhMCksdC52aXNQcm9wLmxheWVyPXRoaXMuYm9hcmQub3B0aW9ucy5sYXllci50cmFjZSx0LmVsZW1lbnRDbGFzcz1zLk9CSkVDVF9DTEFTU19QT0lOVCx0LmJvYXJkPXRoaXMuYm9hcmQsbi5jbGVhclZpc1Byb3BPbGQodCksdC52aXNQcm9wQ2FsYz17dmlzaWJsZTpuLmV2YWx1YXRlKHQudmlzUHJvcC52aXNpYmxlKX0sdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3UG9pbnQodCksdGhpcy50cmFjZXNbdC5pZF09dC5yZW5kTm9kZSx0aGlzfX0pLHQuY3JlYXRlUG9pbnQ9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLG87aWYobz1uLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwicG9pbnRcIiksIShzPWEuY3JlYXRlKHQuUG9pbnQsZSxpLG8pKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHBvaW50IHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbeCx5XSwgW3oseCx5XSwgW2VsZW1lbnQsdHJhbnNmb3JtYXRpb25dXCIpO3JldHVybiBzfSx0LmNyZWF0ZUdsaWRlcj1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvPW4uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJnbGlkZXJcIik7cmV0dXJuIHM9MT09PWUubGVuZ3RoP1swLDBdOmUuc2xpY2UoMCwyKSwocj10LmNyZWF0ZShcInBvaW50XCIscyxvKSkubWFrZUdsaWRlcihlW2UubGVuZ3RoLTFdKSxyfSx0LmNyZWF0ZUludGVyc2VjdGlvblBvaW50PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxhLGgsbCxjLGQsdT1uLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiaW50ZXJzZWN0aW9uXCIpO2UucHVzaCgwLDApLGE9dC5zZWxlY3QoZVswXSksaD10LnNlbGVjdChlWzFdKSxjPWVbMl18fDAsZD1lWzNdfHwwLG89dC5jcmVhdGUoXCJwb2ludFwiLFswLDAsMF0sdSksbD1yLmludGVyc2VjdGlvbkZ1bmN0aW9uKHQsYSxoLGMsZCxvLnZpc1Byb3AuYWx3YXlzaW50ZXJzZWN0KSxvLmFkZENvbnN0cmFpbnQoW2xdKTt0cnl7YS5hZGRDaGlsZChvKSxoLmFkZENoaWxkKG8pfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgJ2ludGVyc2VjdGlvbicgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cIil9cmV0dXJuIG8udHlwZT1zLk9CSkVDVF9UWVBFX0lOVEVSU0VDVElPTixvLmVsVHlwZT1cImludGVyc2VjdGlvblwiLG8uc2V0UGFyZW50cyhbYS5pZCxoLmlkXSksby5pbnRlcnNlY3Rpb25OdW1iZXJzPVtjLGRdLG8uZ2V0UGFyZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudHMuY29uY2F0KHRoaXMuaW50ZXJzZWN0aW9uTnVtYmVycyl9LG8uZ2VuZXJhdGVQb2x5bm9taWFsPWZ1bmN0aW9uKCl7dmFyIHQ9YS5nZW5lcmF0ZVBvbHlub21pYWwobyksZT1oLmdlbmVyYXRlUG9seW5vbWlhbChvKTtyZXR1cm4gMD09PXQubGVuZ3RofHwwPT09ZS5sZW5ndGg/W106W3RbMF0sZVswXV19LG99LHQuY3JlYXRlT3RoZXJJbnRlcnNlY3Rpb25Qb2ludD1mdW5jdGlvbih0LGUsbyl7dmFyIGEsaCxsLGM7aWYoMyE9PWUubGVuZ3RofHwhbi5pc1BvaW50KGVbMl0pfHxlWzBdLmVsZW1lbnRDbGFzcyE9PXMuT0JKRUNUX0NMQVNTX0xJTkUmJmVbMF0uZWxlbWVudENsYXNzIT09cy5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFfHxlWzFdLmVsZW1lbnRDbGFzcyE9PXMuT0JKRUNUX0NMQVNTX0xJTkUmJmVbMV0uZWxlbWVudENsYXNzIT09cy5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgJ290aGVyIGludGVyc2VjdGlvbiBwb2ludCcgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJywgICdcIit0eXBlb2YgZVsxXStcIidhbmQgICdcIit0eXBlb2YgZVsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbY2lyY2xlfGxpbmUsY2lyY2xlfGxpbmUscG9pbnRdXCIpO3JldHVybiBoPXQuc2VsZWN0KGVbMF0pLGw9dC5zZWxlY3QoZVsxXSksYz10LnNlbGVjdChlWzJdKSwoYT10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7dmFyIHQ9ci5tZWV0KGguc3RkZm9ybSxsLnN0ZGZvcm0sMCxoLmJvYXJkKTtyZXR1cm4gTWF0aC5hYnMoYy5YKCktdC51c3JDb29yZHNbMV0pPmkuZXBzfHxNYXRoLmFicyhjLlkoKS10LnVzckNvb3Jkc1syXSk+aS5lcHN8fE1hdGguYWJzKGMuWigpLXQudXNyQ29vcmRzWzBdKT5pLmVwcz90OnIubWVldChoLnN0ZGZvcm0sbC5zdGRmb3JtLDEsaC5ib2FyZCl9XSxvKSkudHlwZT1zLk9CSkVDVF9UWVBFX0lOVEVSU0VDVElPTixhLmVsVHlwZT1cIm90aGVyaW50ZXJzZWN0aW9uXCIsYS5zZXRQYXJlbnRzKFtoLmlkLGwuaWQsY10pLGguYWRkQ2hpbGQoYSksbC5hZGRDaGlsZChhKSxhLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3ZhciB0PWguZ2VuZXJhdGVQb2x5bm9taWFsKGEpLGU9bC5nZW5lcmF0ZVBvbHlub21pYWwoYSk7cmV0dXJuIDA9PT10Lmxlbmd0aHx8MD09PWUubGVuZ3RoP1tdOlt0WzBdLGVbMF1dfSxhfSx0LmNyZWF0ZVBvbGVQb2ludD1mdW5jdGlvbihlLGkscil7dmFyIG8sbixhLGgsbCxjLGQ7aWYoaS5sZW5ndGg+MSYmKGg9aVswXS50eXBlPT09cy5PQkpFQ1RfVFlQRV9DT05JQ3x8aVswXS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19DSVJDTEUsbD1pWzFdLnR5cGU9PT1zLk9CSkVDVF9UWVBFX0NPTklDfHxpWzFdLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0NJUkNMRSxjPWlbMF0uZWxlbWVudENsYXNzPT09cy5PQkpFQ1RfQ0xBU1NfTElORSxkPWlbMV0uZWxlbWVudENsYXNzPT09cy5PQkpFQ1RfQ0xBU1NfTElORSksMiE9PWkubGVuZ3RofHwhKGgmJmR8fGMmJmwpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgJ3BvbGUgcG9pbnQnIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGU6IFtjb25pY3xjaXJjbGUsbGluZV0sIFtsaW5lLGNvbmljfGNpcmNsZV1cIik7cmV0dXJuIGQ/KG49ZS5zZWxlY3QoaVswXSksYT1lLnNlbGVjdChpWzFdKSk6KG49ZS5zZWxlY3QoaVsxXSksYT1lLnNlbGVjdChpWzBdKSksKG89ZS5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3ZhciBlPW4ucXVhZHJhdGljZm9ybSxpPWEuc3RkZm9ybS5zbGljZSgwLDMpO3JldHVyblt0Lk1hdGguTnVtZXJpY3MuZGV0KFtpLGVbMV0sZVsyXV0pLHQuTWF0aC5OdW1lcmljcy5kZXQoW2VbMF0saSxlWzJdXSksdC5NYXRoLk51bWVyaWNzLmRldChbZVswXSxlWzFdLGldKV19XSxyKSkuZWxUeXBlPVwicG9sZXBvaW50XCIsby5zZXRQYXJlbnRzKFtuLmlkLGEuaWRdKSxuLmFkZENoaWxkKG8pLGEuYWRkQ2hpbGQobyksb30sdC5yZWdpc3RlckVsZW1lbnQoXCJwb2ludFwiLHQuY3JlYXRlUG9pbnQpLHQucmVnaXN0ZXJFbGVtZW50KFwiZ2xpZGVyXCIsdC5jcmVhdGVHbGlkZXIpLHQucmVnaXN0ZXJFbGVtZW50KFwiaW50ZXJzZWN0aW9uXCIsdC5jcmVhdGVJbnRlcnNlY3Rpb25Qb2ludCksdC5yZWdpc3RlckVsZW1lbnQoXCJvdGhlcmludGVyc2VjdGlvblwiLHQuY3JlYXRlT3RoZXJJbnRlcnNlY3Rpb25Qb2ludCksdC5yZWdpc3RlckVsZW1lbnQoXCJwb2xlcG9pbnRcIix0LmNyZWF0ZVBvbGVQb2ludCkse1BvaW50OnQuUG9pbnQsY3JlYXRlUG9pbnQ6dC5jcmVhdGVQb2ludCxjcmVhdGVHbGlkZXI6dC5jcmVhdGVHbGlkZXIsY3JlYXRlSW50ZXJzZWN0aW9uOnQuY3JlYXRlSW50ZXJzZWN0aW9uUG9pbnQsY3JlYXRlT3RoZXJJbnRlcnNlY3Rpb246dC5jcmVhdGVPdGhlckludGVyc2VjdGlvblBvaW50LGNyZWF0ZVBvbGVQb2ludDp0LmNyZWF0ZVBvbGVQb2ludH19KSksZGVmaW5lKFwiYmFzZS9saW5lXCIsW1wianhnXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvbnVtZXJpY3NcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJiYXNlL2VsZW1lbnRcIixcInV0aWxzL3R5cGVcIixcImJhc2UvcG9pbnRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoLGwpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkxpbmU9ZnVuY3Rpb24oZSxpLHIscyl7dGhpcy5jb25zdHJ1Y3RvcihlLHMsby5PQkpFQ1RfVFlQRV9MSU5FLG8uT0JKRUNUX0NMQVNTX0xJTkUpLHRoaXMucG9pbnQxPXRoaXMuYm9hcmQuc2VsZWN0KGkpLHRoaXMucG9pbnQyPXRoaXMuYm9hcmQuc2VsZWN0KHIpLHRoaXMudGlja3M9W10sdGhpcy5kZWZhdWx0VGlja3M9bnVsbCx0aGlzLnBhcmVudFBvbHlnb249bnVsbCx0aGlzLmlkPXRoaXMuYm9hcmQuc2V0SWQodGhpcyxcIkxcIiksdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3TGluZSh0aGlzKSx0aGlzLmJvYXJkLmZpbmFsaXplQWRkaW5nKHRoaXMpLHRoaXMuZWxUeXBlPVwibGluZVwiLHRoaXMucG9pbnQxLl9pc19uZXc/KHRoaXMuYWRkQ2hpbGQodGhpcy5wb2ludDEpLGRlbGV0ZSB0aGlzLnBvaW50MS5faXNfbmV3KTp0aGlzLnBvaW50MS5hZGRDaGlsZCh0aGlzKSx0aGlzLnBvaW50Mi5faXNfbmV3Pyh0aGlzLmFkZENoaWxkKHRoaXMucG9pbnQyKSxkZWxldGUgdGhpcy5wb2ludDIuX2lzX25ldyk6dGhpcy5wb2ludDIuYWRkQ2hpbGQodGhpcyksdGhpcy5pbmhlcml0cy5wdXNoKHRoaXMucG9pbnQxLHRoaXMucG9pbnQyKSx0aGlzLnVwZGF0ZVN0ZGZvcm0oKSx0aGlzLmNyZWF0ZUxhYmVsKCksdGhpcy5tZXRob2RNYXA9dC5kZWVwQ29weSh0aGlzLm1ldGhvZE1hcCx7cG9pbnQxOlwicG9pbnQxXCIscG9pbnQyOlwicG9pbnQyXCIsZ2V0U2xvcGU6XCJnZXRTbG9wZVwiLGdldFJpc2U6XCJnZXRSaXNlXCIsZ2V0WUludGVyc2VjdDpcImdldFJpc2VcIixnZXRBbmdsZTpcImdldEFuZ2xlXCIsTDpcIkxcIixsZW5ndGg6XCJMXCJ9KX0sdC5MaW5lLnByb3RvdHlwZT1uZXcgYSx0LmV4dGVuZCh0LkxpbmUucHJvdG90eXBlLHtoYXNQb2ludDpmdW5jdGlvbih0LHIpe3ZhciBzLGEsbCxjLGQsdSxwLGYsbSxnPVtdLGI9WzEsdCxyXSx2PWguZXZhbHVhdGUodGhpcy52aXNQcm9wLnN0cm9rZXdpZHRoKTtyZXR1cm4gaC5pc09iamVjdChoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb24pKT8obT10aGlzLmJvYXJkLl9pbnB1dERldmljZSxmPWguZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvblttXSkpOmY9dGhpcy5ib2FyZC5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludCxmKz0uNSp2LGdbMF09dGhpcy5zdGRmb3JtWzBdLXRoaXMuc3RkZm9ybVsxXSp0aGlzLmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMV0vdGhpcy5ib2FyZC51bml0WCt0aGlzLnN0ZGZvcm1bMl0qdGhpcy5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzJdL3RoaXMuYm9hcmQudW5pdFksZ1sxXT10aGlzLnN0ZGZvcm1bMV0vdGhpcy5ib2FyZC51bml0WCxnWzJdPXRoaXMuc3RkZm9ybVsyXS8tdGhpcy5ib2FyZC51bml0WSxzPWkuZGlzdFBvaW50TGluZShiLGcpLCEoaXNOYU4ocyl8fHM+ZikmJighKCFoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJhaWdodGZpcnN0KXx8IWguZXZhbHVhdGUodGhpcy52aXNQcm9wLnN0cmFpZ2h0bGFzdCkpfHwobD10aGlzLnBvaW50MS5jb29yZHMsYz10aGlzLnBvaW50Mi5jb29yZHMsYT1bMCxnWzFdLGdbMl1dLGE9ZS5jcm9zc1Byb2R1Y3QoYSxiKSwoYT1lLmNyb3NzUHJvZHVjdChhLGcpKVsxXS89YVswXSxhWzJdLz1hWzBdLGFbMF09MSxhPW5ldyBuKG8uQ09PUkRTX0JZX1NDUkVFTixhLnNsaWNlKDEpLHRoaXMuYm9hcmQpLnVzckNvb3JkcyxkPWwuZGlzdGFuY2Uoby5DT09SRFNfQllfVVNFUixjKSxsPWwudXNyQ29vcmRzLnNsaWNlKDApLGM9Yy51c3JDb29yZHMuc2xpY2UoMCksZDxlLmVwcz91PTA6KGQ9PT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJihkPTEvZS5lcHMsTWF0aC5hYnMoY1swXSk8ZS5lcHM/KGQvPWkuZGlzdGFuY2UoWzAsMCwwXSxjKSxjPVsxLGxbMV0rY1sxXSpkLGxbMl0rY1syXSpkXSk6KGQvPWkuZGlzdGFuY2UoWzAsMCwwXSxsKSxsPVsxLGNbMV0rbFsxXSpkLGNbMl0rbFsyXSpkXSkpLGQ9Y1twPTFdLWxbcF0sTWF0aC5hYnMoZCk8ZS5lcHMmJihkPWNbcD0yXS1sW3BdKSx1PShhW3BdLWxbcF0pL2QpLCEoIWguZXZhbHVhdGUodGhpcy52aXNQcm9wLnN0cmFpZ2h0Zmlyc3QpJiZ1PDApJiYhKCFoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJhaWdodGxhc3QpJiZ1PjEpKSl9LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPyh0aGlzLmNvbnN0cmFpbmVkJiYoaC5pc0Z1bmN0aW9uKHRoaXMuZnVucHMpPyh0PXRoaXMuZnVucHMoKSkmJnQubGVuZ3RoJiYyPT09dC5sZW5ndGgmJih0aGlzLnBvaW50MT10WzBdLHRoaXMucG9pbnQyPXRbMV0pOihoLmlzRnVuY3Rpb24odGhpcy5mdW5wMSkmJih0PXRoaXMuZnVucDEoKSxoLmlzUG9pbnQodCk/dGhpcy5wb2ludDE9dDp0JiZ0Lmxlbmd0aCYmMj09PXQubGVuZ3RoJiZ0aGlzLnBvaW50MS5zZXRQb3NpdGlvbkRpcmVjdGx5KG8uQ09PUkRTX0JZX1VTRVIsdCkpLGguaXNGdW5jdGlvbih0aGlzLmZ1bnAyKSYmKHQ9dGhpcy5mdW5wMigpLGguaXNQb2ludCh0KT90aGlzLnBvaW50Mj10OnQmJnQubGVuZ3RoJiYyPT09dC5sZW5ndGgmJnRoaXMucG9pbnQyLnNldFBvc2l0aW9uRGlyZWN0bHkoby5DT09SRFNfQllfVVNFUix0KSkpKSx0aGlzLnVwZGF0ZVNlZ21lbnRGaXhlZExlbmd0aCgpLHRoaXMudXBkYXRlU3RkZm9ybSgpLGguZXZhbHVhdGUodGhpcy52aXNQcm9wLnRyYWNlKSYmdGhpcy5jbG9uZVRvQmFja2dyb3VuZCghMCksdGhpcyk6dGhpc30sdXBkYXRlU2VnbWVudEZpeGVkTGVuZ3RoOmZ1bmN0aW9uKCl7dmFyIHQsaSxyLHMsbixhLGwsYztyZXR1cm4gdGhpcy5oYXNGaXhlZExlbmd0aD8odD10aGlzLnBvaW50MS5EaXN0KHRoaXMucG9pbnQyKSxpPXRoaXMuZml4ZWRMZW5ndGgoKSxyPXRoaXMuZml4ZWRMZW5ndGhPbGRDb29yZHNbMF0uZGlzdGFuY2Uoby5DT09SRFNfQllfVVNFUix0aGlzLnBvaW50MS5jb29yZHMpLHM9dGhpcy5maXhlZExlbmd0aE9sZENvb3Jkc1sxXS5kaXN0YW5jZShvLkNPT1JEU19CWV9VU0VSLHRoaXMucG9pbnQyLmNvb3JkcyksKHI+ZS5lcHN8fHM+ZS5lcHN8fHQhPT1pKSYmKG49dGhpcy5wb2ludDEuaXNEcmFnZ2FibGUmJnRoaXMucG9pbnQxLnR5cGUhPT1vLk9CSkVDVF9UWVBFX0dMSURFUiYmIWguZXZhbHVhdGUodGhpcy5wb2ludDEudmlzUHJvcC5maXhlZCksYT10aGlzLnBvaW50Mi5pc0RyYWdnYWJsZSYmdGhpcy5wb2ludDIudHlwZSE9PW8uT0JKRUNUX1RZUEVfR0xJREVSJiYhaC5ldmFsdWF0ZSh0aGlzLnBvaW50Mi52aXNQcm9wLmZpeGVkKSx0PmUuZXBzP3I+cyYmYXx8cjw9cyYmYSYmIW4/KHRoaXMucG9pbnQyLnNldFBvc2l0aW9uRGlyZWN0bHkoby5DT09SRFNfQllfVVNFUixbdGhpcy5wb2ludDEuWCgpKyh0aGlzLnBvaW50Mi5YKCktdGhpcy5wb2ludDEuWCgpKSppL3QsdGhpcy5wb2ludDEuWSgpKyh0aGlzLnBvaW50Mi5ZKCktdGhpcy5wb2ludDEuWSgpKSppL3RdKSx0aGlzLnBvaW50Mi5mdWxsVXBkYXRlKCkpOihyPD1zJiZufHxyPnMmJm4mJiFhKSYmKHRoaXMucG9pbnQxLnNldFBvc2l0aW9uRGlyZWN0bHkoby5DT09SRFNfQllfVVNFUixbdGhpcy5wb2ludDIuWCgpKyh0aGlzLnBvaW50MS5YKCktdGhpcy5wb2ludDIuWCgpKSppL3QsdGhpcy5wb2ludDIuWSgpKyh0aGlzLnBvaW50MS5ZKCktdGhpcy5wb2ludDIuWSgpKSppL3RdKSx0aGlzLnBvaW50MS5mdWxsVXBkYXRlKCkpOihsPU1hdGgucmFuZG9tKCktLjUsYz1NYXRoLnJhbmRvbSgpLS41LHQ9TWF0aC5zcXJ0KGwqbCtjKmMpLGE/KHRoaXMucG9pbnQyLnNldFBvc2l0aW9uRGlyZWN0bHkoby5DT09SRFNfQllfVVNFUixbdGhpcy5wb2ludDEuWCgpK2wqaS90LHRoaXMucG9pbnQxLlkoKStjKmkvdF0pLHRoaXMucG9pbnQyLmZ1bGxVcGRhdGUoKSk6biYmKHRoaXMucG9pbnQxLnNldFBvc2l0aW9uRGlyZWN0bHkoby5DT09SRFNfQllfVVNFUixbdGhpcy5wb2ludDIuWCgpK2wqaS90LHRoaXMucG9pbnQyLlkoKStjKmkvdF0pLHRoaXMucG9pbnQxLmZ1bGxVcGRhdGUoKSkpLHRoaXMuZml4ZWRMZW5ndGhPbGRDb29yZHNbMF0uc2V0Q29vcmRpbmF0ZXMoby5DT09SRFNfQllfVVNFUix0aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzKSx0aGlzLmZpeGVkTGVuZ3RoT2xkQ29vcmRzWzFdLnNldENvb3JkaW5hdGVzKG8uQ09PUkRTX0JZX1VTRVIsdGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3JkcykpLHRoaXMpOnRoaXN9LHVwZGF0ZVN0ZGZvcm06ZnVuY3Rpb24oKXt2YXIgdD1lLmNyb3NzUHJvZHVjdCh0aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLHRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMpO3RoaXMuc3RkZm9ybVswXT10WzBdLHRoaXMuc3RkZm9ybVsxXT10WzFdLHRoaXMuc3RkZm9ybVsyXT10WzJdLHRoaXMuc3RkZm9ybVszXT0wLHRoaXMubm9ybWFsaXplKCl9LHVwZGF0ZVJlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGU/KHRoaXMudmlzUHJvcENhbGMudmlzaWJsZSYmKHRoaXMuaXNSZWFsPSFpc05hTih0aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzFdK3RoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMl0rdGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1sxXSt0aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzWzJdKSYmZS5pbm5lclByb2R1Y3QodGhpcy5zdGRmb3JtLHRoaXMuc3RkZm9ybSwzKT49ZS5lcHMqZS5lcHMsdGhpcy5pc1JlYWx8fHRoaXMudXBkYXRlVmlzaWJpbGl0eSghMSkpLHRoaXMudmlzUHJvcENhbGMudmlzaWJsZSYmdGhpcy5ib2FyZC5yZW5kZXJlci51cGRhdGVMaW5lKHRoaXMpLHRoaXMuaGFzTGFiZWwmJnRoaXMudmlzUHJvcENhbGMudmlzaWJsZSYmdGhpcy5sYWJlbCYmdGhpcy5sYWJlbC52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmlzUmVhbCYmKHRoaXMubGFiZWwudXBkYXRlKCksdGhpcy5ib2FyZC5yZW5kZXJlci51cGRhdGVUZXh0KHRoaXMubGFiZWwpKSx0aGlzLnNldERpc3BsYXlSZW5kTm9kZSgpLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcyk6dGhpc30sZ2VuZXJhdGVQb2x5bm9taWFsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucG9pbnQxLnN5bWJvbGljLngsaT10aGlzLnBvaW50MS5zeW1ib2xpYy55LHI9dGhpcy5wb2ludDIuc3ltYm9saWMueCxzPXRoaXMucG9pbnQyLnN5bWJvbGljLnksbz10LnN5bWJvbGljLngsbj10LnN5bWJvbGljLnk7cmV0dXJuW1tcIihcIixpLFwiKSooXCIsbyxcIiktKFwiLGksXCIpKihcIixyLFwiKSsoXCIsbixcIikqKFwiLHIsXCIpLShcIixlLFwiKSooXCIsbixcIikrKFwiLGUsXCIpKihcIixzLFwiKS0oXCIsbyxcIikqKFwiLHMsXCIpXCJdLmpvaW4oXCJcIildfSxnZXRSaXNlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuc3RkZm9ybVsyXSk+PWUuZXBzPy10aGlzLnN0ZGZvcm1bMF0vdGhpcy5zdGRmb3JtWzJdOjEvMH0sZ2V0U2xvcGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy5zdGRmb3JtWzJdKT49ZS5lcHM/LXRoaXMuc3RkZm9ybVsxXS90aGlzLnN0ZGZvcm1bMl06MS8wfSxnZXRBbmdsZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmF0YW4yKC10aGlzLnN0ZGZvcm1bMV0sdGhpcy5zdGRmb3JtWzJdKX0sc2V0U3RyYWlnaHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52aXNQcm9wLnN0cmFpZ2h0Zmlyc3Q9dCx0aGlzLnZpc1Byb3Auc3RyYWlnaHRsYXN0PWUsdGhpcy5ib2FyZC5yZW5kZXJlci51cGRhdGVMaW5lKHRoaXMpLHRoaXN9LGdldFRleHRBbmNob3I6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4oby5DT09SRFNfQllfVVNFUixbLjUqKHRoaXMucG9pbnQyLlgoKSt0aGlzLnBvaW50MS5YKCkpLC41Kih0aGlzLnBvaW50Mi5ZKCkrdGhpcy5wb2ludDEuWSgpKV0sdGhpcy5ib2FyZCl9LHNldExhYmVsUmVsYXRpdmVDb29yZHM6ZnVuY3Rpb24odCl7aC5leGlzdHModGhpcy5sYWJlbCkmJih0aGlzLmxhYmVsLnJlbGF0aXZlQ29vcmRzPW5ldyBuKG8uQ09PUkRTX0JZX1NDUkVFTixbdFswXSwtdFsxXV0sdGhpcy5ib2FyZCkpfSxnZXRMYWJlbEFuY2hvcjpmdW5jdGlvbigpe3ZhciB0LHIscz0wLGE9bmV3IG4oby5DT09SRFNfQllfVVNFUix0aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLHRoaXMuYm9hcmQpLGw9bmV3IG4oby5DT09SRFNfQllfVVNFUix0aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLHRoaXMuYm9hcmQpLGM9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc3RyYWlnaHRmaXJzdCksZD1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJhaWdodGxhc3QpO2lmKChjfHxkKSYmaS5jYWxjU3RyYWlnaHQodGhpcyxhLGwsMCksYT1hLnNjckNvb3JkcyxsPWwuc2NyQ29vcmRzLCFoLmV4aXN0cyh0aGlzLmxhYmVsKSlyZXR1cm4gbmV3IG4oby5DT09SRFNfQllfU0NSRUVOLFtOYU4sTmFOXSx0aGlzLmJvYXJkKTtzd2l0Y2goaC5ldmFsdWF0ZSh0aGlzLmxhYmVsLnZpc1Byb3AucG9zaXRpb24pKXtjYXNlXCJsZnRcIjpjYXNlXCJsbGZ0XCI6Y2FzZVwidWxmdFwiOmFbMV08PWxbMV0/KHQ9YVsxXSxyPWFbMl0pOih0PWxbMV0scj1sWzJdKTticmVhaztjYXNlXCJydFwiOmNhc2VcImxydFwiOmNhc2VcInVydFwiOmFbMV0+bFsxXT8odD1hWzFdLHI9YVsyXSk6KHQ9bFsxXSxyPWxbMl0pO2JyZWFrO2RlZmF1bHQ6dD0uNSooYVsxXStsWzFdKSxyPS41KihhWzJdK2xbMl0pfXJldHVybihjfHxkKSYmKGguZXhpc3RzKHRoaXMubGFiZWwpJiYocz1oLmV2YWx1YXRlKHRoaXMubGFiZWwudmlzUHJvcC5mb250c2l6ZSkpLE1hdGguYWJzKHQpPGUuZXBzP3Q9czp0aGlzLmJvYXJkLmNhbnZhc1dpZHRoK2UuZXBzPnQmJnQ+dGhpcy5ib2FyZC5jYW52YXNXaWR0aC1zLWUuZXBzJiYodD10aGlzLmJvYXJkLmNhbnZhc1dpZHRoLXMpLGUuZXBzK3M+ciYmcj4tZS5lcHM/cj1zOnRoaXMuYm9hcmQuY2FudmFzSGVpZ2h0K2UuZXBzPnImJnI+dGhpcy5ib2FyZC5jYW52YXNIZWlnaHQtcy1lLmVwcyYmKHI9dGhpcy5ib2FyZC5jYW52YXNIZWlnaHQtcykpLG5ldyBuKG8uQ09PUkRTX0JZX1NDUkVFTixbdCxyXSx0aGlzLmJvYXJkKX0sY2xvbmVUb0JhY2tncm91bmQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscj17fTtyZXR1cm4gci5pZD10aGlzLmlkK1wiVFwiK3RoaXMubnVtVHJhY2VzLHIuZWxlbWVudENsYXNzPW8uT0JKRUNUX0NMQVNTX0xJTkUsdGhpcy5udW1UcmFjZXMrKyxyLnBvaW50MT10aGlzLnBvaW50MSxyLnBvaW50Mj10aGlzLnBvaW50MixyLnN0ZGZvcm09dGhpcy5zdGRmb3JtLHIuYm9hcmQ9dGhpcy5ib2FyZCxyLnZpc1Byb3A9aC5kZWVwQ29weSh0aGlzLnZpc1Byb3AsdGhpcy52aXNQcm9wLnRyYWNlYXR0cmlidXRlcywhMCksci52aXNQcm9wLmxheWVyPXRoaXMuYm9hcmQub3B0aW9ucy5sYXllci50cmFjZSxoLmNsZWFyVmlzUHJvcE9sZChyKSxyLnZpc1Byb3BDYWxjPXt2aXNpYmxlOmguZXZhbHVhdGUoci52aXNQcm9wLnZpc2libGUpfSxlPXRoaXMuZ2V0U2xvcGUoKSx0PXRoaXMuZ2V0UmlzZSgpLHIuZ2V0U2xvcGU9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sci5nZXRSaXNlPWZ1bmN0aW9uKCl7cmV0dXJuIHR9LGk9dGhpcy5ib2FyZC5yZW5kZXJlci5lbmhhbmNlZFJlbmRlcmluZyx0aGlzLmJvYXJkLnJlbmRlcmVyLmVuaGFuY2VkUmVuZGVyaW5nPSEwLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd0xpbmUociksdGhpcy5ib2FyZC5yZW5kZXJlci5lbmhhbmNlZFJlbmRlcmluZz1pLHRoaXMudHJhY2VzW3IuaWRdPXIucmVuZE5vZGUsdGhpc30sYWRkVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlLGk9aC5pc0FycmF5KHQpP3Q6W3RdLHI9aS5sZW5ndGg7Zm9yKGU9MDtlPHI7ZSsrKXRoaXMucG9pbnQxLnRyYW5zZm9ybWF0aW9ucy5wdXNoKGlbZV0pLHRoaXMucG9pbnQyLnRyYW5zZm9ybWF0aW9ucy5wdXNoKGlbZV0pO3JldHVybiB0aGlzfSxzbmFwVG9HcmlkOmZ1bmN0aW9uKHQpe3ZhciBlLHIsYSxsLGMsZCx1LHA7cmV0dXJuIGguZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXB0b2dyaWQpP3RoaXMucGFyZW50cy5sZW5ndGg8Mz8odGhpcy5wb2ludDEuaGFuZGxlU25hcFRvR3JpZCghMCwhMCksdGhpcy5wb2ludDIuaGFuZGxlU25hcFRvR3JpZCghMCwhMCkpOmguZXhpc3RzKHQpJiYodT1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwc2l6ZXgpLHA9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc25hcHNpemV5KSxjPShlPW5ldyBuKG8uQ09PUkRTX0JZX1NDUkVFTixbdC5YcHJldix0LllwcmV2XSx0aGlzLmJvYXJkKSkudXNyQ29vcmRzWzFdLGQ9ZS51c3JDb29yZHNbMl0sdTw9MCYmdGhpcy5ib2FyZC5kZWZhdWx0QXhlcyYmdGhpcy5ib2FyZC5kZWZhdWx0QXhlcy54LmRlZmF1bHRUaWNrcyYmKHU9KGw9dGhpcy5ib2FyZC5kZWZhdWx0QXhlcy54LmRlZmF1bHRUaWNrcykudGlja3NEZWx0YSooaC5ldmFsdWF0ZShsLnZpc1Byb3AubWlub3J0aWNrcykrMSkpLHA8PTAmJnRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMmJnRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMueS5kZWZhdWx0VGlja3MmJihwPShsPXRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMueS5kZWZhdWx0VGlja3MpLnRpY2tzRGVsdGEqKGguZXZhbHVhdGUobC52aXNQcm9wLm1pbm9ydGlja3MpKzEpKSx1PjAmJnA+MCYmKHI9aS5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3JkczplfSx0aGlzLHRoaXMuYm9hcmQpLGE9cy5zdWJ0cmFjdChbMSxNYXRoLnJvdW5kKGMvdSkqdSxNYXRoLnJvdW5kKGQvcCkqcF0sci51c3JDb29yZHMpLHRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsYS5zbGljZSgxKSx7dHlwZTpcInRyYW5zbGF0ZVwifSkuYXBwbHlPbmNlKFt0aGlzLnBvaW50MSx0aGlzLnBvaW50Ml0pKSk6KHRoaXMucG9pbnQxLmhhbmRsZVNuYXBUb0dyaWQoITEsITApLHRoaXMucG9pbnQyLmhhbmRsZVNuYXBUb0dyaWQoITEsITApKSx0aGlzfSxzbmFwVG9Qb2ludHM6ZnVuY3Rpb24oKXt2YXIgdD1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwdG9wb2ludHMpO3JldHVybiB0aGlzLnBhcmVudHMubGVuZ3RoPDMmJih0aGlzLnBvaW50MS5oYW5kbGVTbmFwVG9Qb2ludHModCksdGhpcy5wb2ludDIuaGFuZGxlU25hcFRvUG9pbnRzKHQpKSx0aGlzfSxYOmZ1bmN0aW9uKHQpe3ZhciBpLHI9dGhpcy5zdGRmb3JtWzJdO3JldHVybiBpPU1hdGguYWJzKHRoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMF0pPmUuZXBzP3RoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMV06dGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1sxXSx0PTIqKHQtLjUpLCgxLU1hdGguYWJzKHQpKSppLXQqcn0sWTpmdW5jdGlvbih0KXt2YXIgaSxyPXRoaXMuc3RkZm9ybVsxXTtyZXR1cm4gaT1NYXRoLmFicyh0aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzBdKT5lLmVwcz90aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzJdOnRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHNbMl0sdD0yKih0LS41KSwoMS1NYXRoLmFicyh0KSkqaSt0KnJ9LFo6ZnVuY3Rpb24odCl7dmFyIGk9TWF0aC5hYnModGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1swXSk+ZS5lcHM/dGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1swXTp0aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzWzBdO3JldHVybiB0PTIqKHQtLjUpLCgxLU1hdGguYWJzKHQpKSppfSxMOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9pbnQxLkRpc3QodGhpcy5wb2ludDIpfSxtaW5YOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LG1heFg6ZnVuY3Rpb24oKXtyZXR1cm4gMX0sYm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxlPXRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHM7cmV0dXJuW01hdGgubWluKHRbMV0sZVsxXSksTWF0aC5tYXgodFsyXSxlWzJdKSxNYXRoLm1heCh0WzFdLGVbMV0pLE1hdGgubWluKHRbMl0sZVsyXSldfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbFRpY2tzKCksYS5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyl9fSksdC5jcmVhdGVMaW5lPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvLG4sYSxjLGQsdSxwPVtdLGY9ITEsbT0hMTtpZigyPT09aS5sZW5ndGgpe2lmKGguaXNBcnJheShpWzBdKSYmaVswXS5sZW5ndGg+MSlkPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIsXCJwb2ludDFcIiksbj1lLmNyZWF0ZShcInBvaW50XCIsaVswXSxkKTtlbHNlIGlmKGguaXNTdHJpbmcoaVswXSl8fGguaXNQb2ludChpWzBdKSluPWUuc2VsZWN0KGlbMF0pO2Vsc2UgaWYoaC5pc0Z1bmN0aW9uKGlbMF0pJiZoLmlzUG9pbnQoaVswXSgpKSluPWlbMF0oKSxtPSEwO2Vsc2UgaWYoaC5pc0Z1bmN0aW9uKGlbMF0pJiZpWzBdKCkubGVuZ3RoJiZpWzBdKCkubGVuZ3RoPj0yKWQ9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIixcInBvaW50MVwiKSxuPWwuY3JlYXRlUG9pbnQoZSxpWzBdKCksZCksbT0hMDtlbHNle2lmKCFoLmlzT2JqZWN0KGlbMF0pfHwhaC5pc1RyYW5zZm9ybWF0aW9uT3JBcnJheShpWzFdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGxpbmUgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludF0sIFtbeDEseTFdLFt4Mix5Ml1dLCBbYSxiLGNdXCIpO2Y9ITAsZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiLFwicG9pbnQxXCIpLG49ZS5jcmVhdGUoXCJwb2ludFwiLFtpWzBdLnBvaW50MSxpWzFdXSxkKX1pZihmKWQ9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIixcInBvaW50MlwiKSxhPWUuY3JlYXRlKFwicG9pbnRcIixbaVswXS5wb2ludDIsaVsxXV0sZCk7ZWxzZSBpZihoLmlzQXJyYXkoaVsxXSkmJmlbMV0ubGVuZ3RoPjEpZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiLFwicG9pbnQyXCIpLGE9ZS5jcmVhdGUoXCJwb2ludFwiLGlbMV0sZCk7ZWxzZSBpZihoLmlzU3RyaW5nKGlbMV0pfHxoLmlzUG9pbnQoaVsxXSkpYT1lLnNlbGVjdChpWzFdKTtlbHNlIGlmKGguaXNGdW5jdGlvbihpWzFdKSYmaC5pc1BvaW50KGlbMV0oKSkpYT1pWzFdKCksbT0hMDtlbHNle2lmKCEoaC5pc0Z1bmN0aW9uKGlbMV0pJiZpWzFdKCkubGVuZ3RoJiZpWzFdKCkubGVuZ3RoPj0yKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGxpbmUgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludF0sIFtbeDEseTFdLFt4Mix5Ml1dLCBbYSxiLGNdXCIpO2Q9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIixcInBvaW50MlwiKSxhPWwuY3JlYXRlUG9pbnQoZSxpWzFdKCksZCksbT0hMH1kPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIpLG89bmV3IHQuTGluZShlLG4sYSxkKSxtPyhvLmNvbnN0cmFpbmVkPSEwLG8uZnVucDE9aVswXSxvLmZ1bnAyPWlbMV0pOmZ8fChvLmlzRHJhZ2dhYmxlPSEwKSxvLnNldFBhcmVudHMoW24uaWQsYS5pZF0pfWVsc2UgaWYoMz09PWkubGVuZ3RoKXtmb3IodT0hMCxjPTA7YzwzO2MrKylpZihoLmlzTnVtYmVyKGlbY10pKXBbY109aC5jcmVhdGVGdW5jdGlvbihpW2NdKTtlbHNle2lmKCFoLmlzRnVuY3Rpb24oaVtjXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBsaW5lIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicgYW5kICdcIit0eXBlb2YgaVsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnRdLCBbW3gxLHkxXSxbeDIseTJdXSwgW2EsYixjXVwiKTtwW2NdPWlbY10sdT0hMX1kPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIsXCJwb2ludDFcIiksbj11P2UuY3JlYXRlKFwicG9pbnRcIixbcFsyXSgpKnBbMl0oKStwWzFdKCkqcFsxXSgpLHBbMl0oKS1wWzFdKCkqcFswXSgpK3BbMl0oKSwtcFsxXSgpLXBbMl0oKSpwWzBdKCktcFsxXSgpXSxkKTplLmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuLjUqKHBbMl0oKSpwWzJdKCkrcFsxXSgpKnBbMV0oKSl9LGZ1bmN0aW9uKCl7cmV0dXJuLjUqKHBbMl0oKS1wWzFdKCkqcFswXSgpK3BbMl0oKSl9LGZ1bmN0aW9uKCl7cmV0dXJuLjUqKC1wWzFdKCktcFsyXSgpKnBbMF0oKS1wWzFdKCkpfV0sZCksZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiLFwicG9pbnQyXCIpLGE9dT9lLmNyZWF0ZShcInBvaW50XCIsW3BbMl0oKSpwWzJdKCkrcFsxXSgpKnBbMV0oKSwtcFsxXSgpKnBbMF0oKStwWzJdKCksLXBbMl0oKSpwWzBdKCktcFsxXSgpXSxkKTplLmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuIHBbMl0oKSpwWzJdKCkrcFsxXSgpKnBbMV0oKX0sZnVuY3Rpb24oKXtyZXR1cm4tcFsxXSgpKnBbMF0oKStwWzJdKCl9LGZ1bmN0aW9uKCl7cmV0dXJuLXBbMl0oKSpwWzBdKCktcFsxXSgpfV0sZCksbi5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksYS5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiKSwobz1uZXcgdC5MaW5lKGUsbixhLGQpKS5pc0RyYWdnYWJsZT11LG8uc2V0UGFyZW50cyhbbixhXSl9ZWxzZSBpZigxPT09aS5sZW5ndGgmJmguaXNGdW5jdGlvbihpWzBdKSYmMj09PWlbMF0oKS5sZW5ndGgmJmguaXNQb2ludChpWzBdKClbMF0pJiZoLmlzUG9pbnQoaVswXSgpWzFdKSlzPWlbMF0oKSxkPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIpLChvPW5ldyB0LkxpbmUoZSxzWzBdLHNbMV0sZCkpLmNvbnN0cmFpbmVkPSEwLG8uZnVucHM9aVswXSxvLnNldFBhcmVudHMocyk7ZWxzZXtpZighKDE9PT1pLmxlbmd0aCYmaC5pc0Z1bmN0aW9uKGlbMF0pJiYzPT09aVswXSgpLmxlbmd0aCYmaC5pc051bWJlcihpWzBdKClbMF0pJiZoLmlzTnVtYmVyKGlbMF0oKVsxXSkmJmguaXNOdW1iZXIoaVswXSgpWzJdKSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBsaW5lIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnRdLCBbW3gxLHkxXSxbeDIseTJdXSwgW2EsYixjXVwiKTtzPWlbMF0sZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiLFwicG9pbnQxXCIpLG49ZS5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3ZhciB0PXMoKTtyZXR1cm5bLjUqKHRbMl0qdFsyXSt0WzFdKnRbMV0pLC41Kih0WzJdLXRbMV0qdFswXSt0WzJdKSwuNSooLXRbMV0tdFsyXSp0WzBdLXRbMV0pXX1dLGQpLGQ9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIixcInBvaW50MlwiKSxhPWUuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXt2YXIgdD1zKCk7cmV0dXJuW3RbMl0qdFsyXSt0WzFdKnRbMV0sLXRbMV0qdFswXSt0WzJdLC10WzJdKnRbMF0tdFsxXV19XSxkKSxkPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIpLChvPW5ldyB0LkxpbmUoZSxuLGEsZCkpLmNvbnN0cmFpbmVkPSEwLG8uZnVucHM9aVswXSxvLnNldFBhcmVudHMoW24sYV0pfXJldHVybiBvfSx0LnJlZ2lzdGVyRWxlbWVudChcImxpbmVcIix0LmNyZWF0ZUxpbmUpLHQuY3JlYXRlU2VnbWVudD1mdW5jdGlvbih0LGUsaSl7dmFyIHIscztpZihpLnN0cmFpZ2h0Rmlyc3Q9ITEsaS5zdHJhaWdodExhc3Q9ITEscz1oLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwic2VnbWVudFwiKSxyPXQuY3JlYXRlKFwibGluZVwiLGUuc2xpY2UoMCwyKSxzKSwzPT09ZS5sZW5ndGgpe2lmKHIuaGFzRml4ZWRMZW5ndGg9ITAsaC5pc051bWJlcihlWzJdKSlyLmZpeGVkTGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIGVbMl19O2Vsc2V7aWYoIWguaXNGdW5jdGlvbihlWzJdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHNlZ21lbnQgd2l0aCB0aGlyZCBwYXJlbnQgdHlwZSAnXCIrdHlwZW9mIGVbMl0rXCInLlxcblBvc3NpYmxlIHRoaXJkIHBhcmVudCB0eXBlczogbnVtYmVyIG9yIGZ1bmN0aW9uXCIpO3IuZml4ZWRMZW5ndGg9ZVsyXX1yLmdldFBhcmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnRzLmNvbmNhdCh0aGlzLmZpeGVkTGVuZ3RoKCkpfSxyLmZpeGVkTGVuZ3RoT2xkQ29vcmRzPVtdLHIuZml4ZWRMZW5ndGhPbGRDb29yZHNbMF09bmV3IG4oby5DT09SRFNfQllfVVNFUixyLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLnNsaWNlKDEsMyksdCksci5maXhlZExlbmd0aE9sZENvb3Jkc1sxXT1uZXcgbihvLkNPT1JEU19CWV9VU0VSLHIucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMSwzKSx0KX1yZXR1cm4gci5lbFR5cGU9XCJzZWdtZW50XCIscn0sdC5yZWdpc3RlckVsZW1lbnQoXCJzZWdtZW50XCIsdC5jcmVhdGVTZWdtZW50KSx0LmNyZWF0ZUFycm93PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzO3JldHVybiBpLnN0cmFpZ2h0Rmlyc3Q9ITEsaS5zdHJhaWdodExhc3Q9ITEscz1oLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiYXJyb3dcIiksKHI9dC5jcmVhdGUoXCJsaW5lXCIsZSxzKSkudHlwZT1vLk9CSkVDVF9UWVBFX1ZFQ1RPUixyLmVsVHlwZT1cImFycm93XCIscn0sdC5yZWdpc3RlckVsZW1lbnQoXCJhcnJvd1wiLHQuY3JlYXRlQXJyb3cpLHQuY3JlYXRlQXhpcz1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxuLGEsbDtpZighaC5pc0FycmF5KGVbMF0pJiYhaC5pc1BvaW50KGVbMF0pfHwhaC5pc0FycmF5KGVbMV0pJiYhaC5pc1BvaW50KGVbMV0pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgYXhpcyB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50XSwgW1t4MSx5MV0sW3gyLHkyXV1cIik7Zm9yKGEgaW4gcj1oLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiYXhpc1wiKSwobj10LmNyZWF0ZShcImxpbmVcIixlLHIpKS50eXBlPW8uT0JKRUNUX1RZUEVfQVhJUyxuLmlzRHJhZ2dhYmxlPSExLG4ucG9pbnQxLmlzRHJhZ2dhYmxlPSExLG4ucG9pbnQyLmlzRHJhZ2dhYmxlPSExLG4uYW5jZXN0b3JzKW4uYW5jZXN0b3JzLmhhc093blByb3BlcnR5KGEpJiYobi5hbmNlc3RvcnNbYV0udHlwZT1vLk9CSkVDVF9UWVBFX0FYSVNQT0lOVCk7cmV0dXJuIHM9aC5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImF4aXNcIixcInRpY2tzXCIpLGw9aC5leGlzdHMocy50aWNrc2Rpc3RhbmNlKT9zLnRpY2tzZGlzdGFuY2U6aC5pc0FycmF5KHMudGlja3MpP3MudGlja3M6MSxuLmRlZmF1bHRUaWNrcz10LmNyZWF0ZShcInRpY2tzXCIsW24sbF0scyksbi5kZWZhdWx0VGlja3MuZHVtcD0hMSxuLmVsVHlwZT1cImF4aXNcIixuLnN1YnM9e3RpY2tzOm4uZGVmYXVsdFRpY2tzfSxuLmluaGVyaXRzLnB1c2gobi5kZWZhdWx0VGlja3MpLG59LHQucmVnaXN0ZXJFbGVtZW50KFwiYXhpc1wiLHQuY3JlYXRlQXhpcyksdC5jcmVhdGVUYW5nZW50PWZ1bmN0aW9uKHQsaSxzKXt2YXIgbixhLGwsYyxkO2lmKDE9PT1pLmxlbmd0aCluPWlbMF0sYT1uLnNsaWRlT2JqZWN0O2Vsc2V7aWYoMiE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgdGFuZ2VudCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2dsaWRlcl0sIFtwb2ludCxsaW5lfGN1cnZlfGNpcmNsZXxjb25pY11cIik7aWYoaC5pc1BvaW50KGlbMF0pKW49aVswXSxhPWlbMV07ZWxzZXtpZighaC5pc1BvaW50KGlbMV0pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgdGFuZ2VudCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2dsaWRlcl0sIFtwb2ludCxsaW5lfGN1cnZlfGNpcmNsZXxjb25pY11cIik7YT1pWzBdLG49aVsxXX19aWYoYS5lbGVtZW50Q2xhc3M9PT1vLk9CSkVDVF9DTEFTU19MSU5FPyhkPXQuY3JlYXRlKFwibGluZVwiLFthLnBvaW50MSxhLnBvaW50Ml0scykpLmdsaWRlcj1uOmEuZWxlbWVudENsYXNzPT09by5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJmEudHlwZSE9PW8uT0JKRUNUX1RZUEVfQ09OSUM/XCJwbG90XCIhPT1oLmV2YWx1YXRlKGEudmlzUHJvcC5jdXJ2ZXR5cGUpPyhkPXQuY3JlYXRlKFwibGluZVwiLFtmdW5jdGlvbigpe3ZhciB0PWEuWCxlPWEuWTtyZXR1cm4tbi5YKCkqci5EKGUpKG4ucG9zaXRpb24pK24uWSgpKnIuRCh0KShuLnBvc2l0aW9uKX0sZnVuY3Rpb24oKXtyZXR1cm4gci5EKGEuWSkobi5wb3NpdGlvbil9LGZ1bmN0aW9uKCl7cmV0dXJuLXIuRChhLlgpKG4ucG9zaXRpb24pfV0scyksbi5hZGRDaGlsZChkKSxkLmdsaWRlcj1uKTooZD10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG8saCxsLGMsZCx1PU1hdGguZmxvb3Iobi5wb3NpdGlvbik7aWYoMT09PWEuYmV6aWVyRGVncmVlKXU9PT1hLm51bWJlclBvaW50cy0xJiZ1LS07ZWxzZXtpZigzIT09YS5iZXppZXJEZWdyZWUpcmV0dXJuIDA7dT0zKk1hdGguZmxvb3Iobi5wb3NpdGlvbiooYS5udW1iZXJQb2ludHMtMSkvMyksaT0obi5wb3NpdGlvbiooYS5udW1iZXJQb2ludHMtMSktdSkvMyx1Pj1hLm51bWJlclBvaW50cy0xJiYodT1hLm51bWJlclBvaW50cy00LGk9MSl9cmV0dXJuIHU8MD8xOigxPT09YS5iZXppZXJEZWdyZWU/KHQ9YS5wb2ludHNbdV0udXNyQ29vcmRzLGU9YS5wb2ludHNbdSsxXS51c3JDb29yZHMpOihyPWEucG9pbnRzW3VdLnVzckNvb3JkcyxzPWEucG9pbnRzW3UrMV0udXNyQ29vcmRzLG89YS5wb2ludHNbdSsyXS51c3JDb29yZHMsaD1hLnBvaW50c1t1KzNdLnVzckNvb3JkcyxsPSgxLWkpKigxLWkpKihzWzFdLXJbMV0pKzIqKDEtaSkqaSoob1sxXS1zWzFdKStpKmkqKGhbMV0tb1sxXSksYz0oMS1pKSooMS1pKSooc1syXS1yWzJdKSsyKigxLWkpKmkqKG9bMl0tc1syXSkraSppKihoWzJdLW9bMl0pLGwvPWQ9TWF0aC5zcXJ0KGwqbCtjKmMpLGMvPWQsZT1bMSwodD1uLmNvb3Jkcy51c3JDb29yZHMpWzFdK2wsdFsyXStjXSksdFsyXSplWzFdLXRbMV0qZVsyXSl9LGZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvLGgsbCxjLGQsdT1NYXRoLmZsb29yKG4ucG9zaXRpb24pO2lmKDE9PT1hLmJlemllckRlZ3JlZSl1PT09YS5udW1iZXJQb2ludHMtMSYmdS0tO2Vsc2V7aWYoMyE9PWEuYmV6aWVyRGVncmVlKXJldHVybiAwO3U9MypNYXRoLmZsb29yKG4ucG9zaXRpb24qKGEubnVtYmVyUG9pbnRzLTEpLzMpLGk9KG4ucG9zaXRpb24qKGEubnVtYmVyUG9pbnRzLTEpLXUpLzMsdT49YS5udW1iZXJQb2ludHMtMSYmKHU9YS5udW1iZXJQb2ludHMtNCxpPTEpfXJldHVybiB1PDA/MDooMT09PWEuYmV6aWVyRGVncmVlPyh0PWEucG9pbnRzW3VdLnVzckNvb3JkcyxlPWEucG9pbnRzW3UrMV0udXNyQ29vcmRzKToocj1hLnBvaW50c1t1XS51c3JDb29yZHMscz1hLnBvaW50c1t1KzFdLnVzckNvb3JkcyxvPWEucG9pbnRzW3UrMl0udXNyQ29vcmRzLGg9YS5wb2ludHNbdSszXS51c3JDb29yZHMsbD0oMS1pKSooMS1pKSooc1sxXS1yWzFdKSsyKigxLWkpKmkqKG9bMV0tc1sxXSkraSppKihoWzFdLW9bMV0pLGM9KDEtaSkqKDEtaSkqKHNbMl0tclsyXSkrMiooMS1pKSppKihvWzJdLXNbMl0pK2kqaSooaFsyXS1vWzJdKSxsLz1kPU1hdGguc3FydChsKmwrYypjKSxjLz1kLGU9WzEsKHQ9bi5jb29yZHMudXNyQ29vcmRzKVsxXStsLHRbMl0rY10pLGVbMl0tdFsyXSl9LGZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvLGgsbCxjLGQsdT1NYXRoLmZsb29yKG4ucG9zaXRpb24pO2lmKDE9PT1hLmJlemllckRlZ3JlZSl1PT09YS5udW1iZXJQb2ludHMtMSYmdS0tO2Vsc2V7aWYoMyE9PWEuYmV6aWVyRGVncmVlKXJldHVybiAwO3U9MypNYXRoLmZsb29yKG4ucG9zaXRpb24qKGEubnVtYmVyUG9pbnRzLTEpLzMpLGk9KG4ucG9zaXRpb24qKGEubnVtYmVyUG9pbnRzLTEpLXUpLzMsdT49YS5udW1iZXJQb2ludHMtMSYmKHU9YS5udW1iZXJQb2ludHMtNCxpPTEpfXJldHVybiB1PDA/MDooMT09PWEuYmV6aWVyRGVncmVlPyh0PWEucG9pbnRzW3VdLnVzckNvb3JkcyxlPWEucG9pbnRzW3UrMV0udXNyQ29vcmRzKToocj1hLnBvaW50c1t1XS51c3JDb29yZHMscz1hLnBvaW50c1t1KzFdLnVzckNvb3JkcyxvPWEucG9pbnRzW3UrMl0udXNyQ29vcmRzLGg9YS5wb2ludHNbdSszXS51c3JDb29yZHMsbD0oMS1pKSooMS1pKSooc1sxXS1yWzFdKSsyKigxLWkpKmkqKG9bMV0tc1sxXSkraSppKihoWzFdLW9bMV0pLGM9KDEtaSkqKDEtaSkqKHNbMl0tclsyXSkrMiooMS1pKSppKihvWzJdLXNbMl0pK2kqaSooaFsyXS1vWzJdKSxsLz1kPU1hdGguc3FydChsKmwrYypjKSxjLz1kLGU9WzEsKHQ9bi5jb29yZHMudXNyQ29vcmRzKVsxXStsLHRbMl0rY10pLHRbMV0tZVsxXSl9XSxzKSxuLmFkZENoaWxkKGQpLGQuZ2xpZGVyPW4pOmEudHlwZT09PW8uT0JKRUNUX1RZUEVfVFVSVExFPyhkPXQuY3JlYXRlKFwibGluZVwiLFtmdW5jdGlvbigpe3ZhciB0PU1hdGguZmxvb3Iobi5wb3NpdGlvbik7Zm9yKGw9MDtsPGEub2JqZWN0cy5sZW5ndGg7bCsrKWlmKChjPWEub2JqZWN0c1tsXSkudHlwZT09PW8uT0JKRUNUX1RZUEVfQ1VSVkUpe2lmKHQ8Yy5udW1iZXJQb2ludHMpYnJlYWs7dC09Yy5udW1iZXJQb2ludHN9cmV0dXJuIHQ9PT1jLm51bWJlclBvaW50cy0xJiZ0LS0sdDwwPzE6Yy5ZKHQpKmMuWCh0KzEpLWMuWCh0KSpjLlkodCsxKX0sZnVuY3Rpb24oKXt2YXIgdD1NYXRoLmZsb29yKG4ucG9zaXRpb24pO2ZvcihsPTA7bDxhLm9iamVjdHMubGVuZ3RoO2wrKylpZigoYz1hLm9iamVjdHNbbF0pLnR5cGU9PT1vLk9CSkVDVF9UWVBFX0NVUlZFKXtpZih0PGMubnVtYmVyUG9pbnRzKWJyZWFrO3QtPWMubnVtYmVyUG9pbnRzfXJldHVybiB0PT09Yy5udW1iZXJQb2ludHMtMSYmdC0tLHQ8MD8wOmMuWSh0KzEpLWMuWSh0KX0sZnVuY3Rpb24oKXt2YXIgdD1NYXRoLmZsb29yKG4ucG9zaXRpb24pO2ZvcihsPTA7bDxhLm9iamVjdHMubGVuZ3RoO2wrKylpZigoYz1hLm9iamVjdHNbbF0pLnR5cGU9PT1vLk9CSkVDVF9UWVBFX0NVUlZFKXtpZih0PGMubnVtYmVyUG9pbnRzKWJyZWFrO3QtPWMubnVtYmVyUG9pbnRzfXJldHVybiB0PT09Yy5udW1iZXJQb2ludHMtMSYmdC0tLHQ8MD8wOmMuWCh0KS1jLlgodCsxKX1dLHMpLG4uYWRkQ2hpbGQoZCksZC5nbGlkZXI9bik6YS5lbGVtZW50Q2xhc3MhPT1vLk9CSkVDVF9DTEFTU19DSVJDTEUmJmEudHlwZSE9PW8uT0JKRUNUX1RZUEVfQ09OSUN8fChkPXQuY3JlYXRlKFwibGluZVwiLFtmdW5jdGlvbigpe3JldHVybiBlLm1hdFZlY011bHQoYS5xdWFkcmF0aWNmb3JtLG4uY29vcmRzLnVzckNvb3JkcylbMF19LGZ1bmN0aW9uKCl7cmV0dXJuIGUubWF0VmVjTXVsdChhLnF1YWRyYXRpY2Zvcm0sbi5jb29yZHMudXNyQ29vcmRzKVsxXX0sZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXRWZWNNdWx0KGEucXVhZHJhdGljZm9ybSxuLmNvb3Jkcy51c3JDb29yZHMpWzJdfV0scyksbi5hZGRDaGlsZChkKSxkLmdsaWRlcj1uKSwhaC5leGlzdHMoZCkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENvdWxkbid0IGNyZWF0ZSB0YW5nZW50IHdpdGggdGhlIGdpdmVuIHBhcmVudHMuXCIpO3JldHVybiBkLmVsVHlwZT1cInRhbmdlbnRcIixkLnR5cGU9by5PQkpFQ1RfVFlQRV9UQU5HRU5ULGQuc2V0UGFyZW50cyhpKSxkfSx0LmNyZWF0ZVJhZGljYWxBeGlzPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxuLGE7aWYoMiE9PWkubGVuZ3RofHxpWzBdLmVsZW1lbnRDbGFzcyE9PW8uT0JKRUNUX0NMQVNTX0NJUkNMRXx8aVsxXS5lbGVtZW50Q2xhc3MhPT1vLk9CSkVDVF9DTEFTU19DSVJDTEUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSAncmFkaWNhbCBheGlzJyB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlOiBbY2lyY2xlLGNpcmNsZV1cIik7cmV0dXJuIG49dC5zZWxlY3QoaVswXSksYT10LnNlbGVjdChpWzFdKSwocz10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXt2YXIgdD1uLnN0ZGZvcm0saT1hLnN0ZGZvcm07cmV0dXJuIGUubWF0VmVjTXVsdChlLnRyYW5zcG9zZShbdC5zbGljZSgwLDMpLGkuc2xpY2UoMCwzKV0pLFtpWzNdLC10WzNdXSl9XSxyKSkuZWxUeXBlPVwicmFkaWNhbGF4aXNcIixzLnNldFBhcmVudHMoW24uaWQsYS5pZF0pLG4uYWRkQ2hpbGQocyksYS5hZGRDaGlsZChzKSxzfSx0LmNyZWF0ZVBvbGFyTGluZT1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxuLGEsbCxjLGQ7aWYoZS5sZW5ndGg+MSYmKGE9ZVswXS50eXBlPT09by5PQkpFQ1RfVFlQRV9DT05JQ3x8ZVswXS5lbGVtZW50Q2xhc3M9PT1vLk9CSkVDVF9DTEFTU19DSVJDTEUsbD1lWzFdLnR5cGU9PT1vLk9CSkVDVF9UWVBFX0NPTklDfHxlWzFdLmVsZW1lbnRDbGFzcz09PW8uT0JKRUNUX0NMQVNTX0NJUkNMRSxjPWguaXNQb2ludChlWzBdKSxkPWguaXNQb2ludChlWzFdKSksMiE9PWUubGVuZ3RofHwhKGEmJmR8fGMmJmwpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgJ3BvbGFyIGxpbmUnIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGU6IFtjb25pY3xjaXJjbGUscG9pbnRdLCBbcG9pbnQsY29uaWN8Y2lyY2xlXVwiKTtyZXR1cm4gZD8ocz10LnNlbGVjdChlWzBdKSxuPXQuc2VsZWN0KGVbMV0pKToocz10LnNlbGVjdChlWzFdKSxuPXQuc2VsZWN0KGVbMF0pKSwocj10LmNyZWF0ZShcInRhbmdlbnRcIixbcyxuXSxpKSkuZWxUeXBlPVwicG9sYXJsaW5lXCIscn0sdC5yZWdpc3RlckVsZW1lbnQoXCJ0YW5nZW50XCIsdC5jcmVhdGVUYW5nZW50KSx0LnJlZ2lzdGVyRWxlbWVudChcInBvbGFyXCIsdC5jcmVhdGVUYW5nZW50KSx0LnJlZ2lzdGVyRWxlbWVudChcInJhZGljYWxheGlzXCIsdC5jcmVhdGVSYWRpY2FsQXhpcyksdC5yZWdpc3RlckVsZW1lbnQoXCJwb2xhcmxpbmVcIix0LmNyZWF0ZVBvbGFyTGluZSkse0xpbmU6dC5MaW5lLGNyZWF0ZUxpbmU6dC5jcmVhdGVMaW5lLGNyZWF0ZVRhbmdlbnQ6dC5jcmVhdGVUYW5nZW50LGNyZWF0ZVBvbGFyOnQuY3JlYXRlVGFuZ2VudCxjcmVhdGVTZWdtZW50OnQuY3JlYXRlU2VnbWVudCxjcmVhdGVBeGlzOnQuY3JlYXRlQXhpcyxjcmVhdGVBcnJvdzp0LmNyZWF0ZUFycm93LGNyZWF0ZVJhZGljYWxBeGlzOnQuY3JlYXRlUmFkaWNhbEF4aXMsY3JlYXRlUG9sYXJMaW5lOnQuY3JlYXRlUG9sYXJMaW5lfX0pKSxkZWZpbmUoXCJiYXNlL2dyb3VwXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSxyLHMpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lkdyb3VwPWZ1bmN0aW9uKHQsaSxyLG8sbil7dmFyIGEsaCxsLGM7Zm9yKHRoaXMuYm9hcmQ9dCx0aGlzLm9iamVjdHM9e30sYT10aGlzLmJvYXJkLm51bU9iamVjdHMsdGhpcy5ib2FyZC5udW1PYmplY3RzKz0xLFwiXCIhPT1pJiZzLmV4aXN0cyhpKT90aGlzLmlkPWk6dGhpcy5pZD10aGlzLmJvYXJkLmlkK1wiR3JvdXBcIithLHRoaXMuYm9hcmQuZ3JvdXBzW3RoaXMuaWRdPXRoaXMsdGhpcy50eXBlPWUuT0JKRUNUX1RZUEVfUE9JTlQsdGhpcy5lbGVtZW50Q2xhc3M9ZS5PQkpFQ1RfQ0xBU1NfUE9JTlQsXCJcIiE9PXImJnMuZXhpc3RzKHIpP3RoaXMubmFtZT1yOnRoaXMubmFtZT1cImdyb3VwX1wiK3RoaXMuYm9hcmQuZ2VuZXJhdGVOYW1lKHRoaXMpLGRlbGV0ZSB0aGlzLnR5cGUsdGhpcy5jb29yZHM9e30sdGhpcy5uZWVkc1JlZ3VsYXJVcGRhdGU9bi5uZWVkc3JlZ3VsYXJ1cGRhdGUsdGhpcy5yb3RhdGlvbkNlbnRlcj1cImNlbnRyb2lkXCIsdGhpcy5zY2FsZUNlbnRlcj1udWxsLHRoaXMucm90YXRpb25Qb2ludHM9W10sdGhpcy50cmFuc2xhdGlvblBvaW50cz1bXSx0aGlzLnNjYWxlUG9pbnRzPVtdLHRoaXMuc2NhbGVEaXJlY3Rpb25zPXt9LHRoaXMucGFyZW50cz1bXSxoPXMuaXNBcnJheShvKT9vOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKSxsPTA7bDxoLmxlbmd0aDtsKyspYz10aGlzLmJvYXJkLnNlbGVjdChoW2xdKSwhcy5ldmFsdWF0ZShjLnZpc1Byb3AuZml4ZWQpJiZzLmV4aXN0cyhjLmNvb3JkcykmJnRoaXMuYWRkUG9pbnQoYyk7dGhpcy5tZXRob2RNYXA9e3VuZ3JvdXA6XCJ1bmdyb3VwXCIsYWRkOlwiYWRkUG9pbnRcIixhZGRQb2ludDpcImFkZFBvaW50XCIsYWRkUG9pbnRzOlwiYWRkUG9pbnRzXCIsYWRkR3JvdXA6XCJhZGRHcm91cFwiLHJlbW92ZTpcInJlbW92ZVBvaW50XCIscmVtb3ZlUG9pbnQ6XCJyZW1vdmVQb2ludFwiLHNldEF0dHJpYnV0ZTpcInNldEF0dHJpYnV0ZVwiLHNldFByb3BlcnR5Olwic2V0QXR0cmlidXRlXCJ9fSx0LmV4dGVuZCh0Lkdyb3VwLnByb3RvdHlwZSx7dW5ncm91cDpmdW5jdGlvbigpe3ZhciB0LGUsaTtmb3IodCBpbiB0aGlzLm9iamVjdHMpdGhpcy5vYmplY3RzLmhhc093blByb3BlcnR5KHQpJiYoZT10aGlzLm9iamVjdHNbdF0ucG9pbnQscy5pc0FycmF5KGUuZ3JvdXBzKSYmKGk9cy5pbmRleE9mKGUuZ3JvdXBzLHRoaXMuaWQpKT49MCYmZGVsZXRlIGUuZ3JvdXBzW2ldKTtyZXR1cm4gdGhpcy5vYmplY3RzPXt9LHRoaXN9LGFkZFBhcmVudHM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyO2ZvcihpPShyPXMuaXNBcnJheSh0KT90OmFyZ3VtZW50cykubGVuZ3RoLGU9MDtlPGk7KytlKXMuaXNJZCh0aGlzLmJvYXJkLHJbZV0pP3RoaXMucGFyZW50cy5wdXNoKHJbZV0pOnMuZXhpc3RzKHJbZV0uaWQpJiZ0aGlzLnBhcmVudHMucHVzaChyW2VdLmlkKTt0aGlzLnBhcmVudHM9cy51bmlxdWVBcnJheSh0aGlzLnBhcmVudHMpfSxzZXRQYXJlbnRzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnBhcmVudHM9W10sdGhpcy5hZGRQYXJlbnRzKHQpLHRoaXN9LGdldFBhcmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gcy5pc0FycmF5KHRoaXMucGFyZW50cyk/dGhpcy5wYXJlbnRzOltdfSxfdXBkYXRlQ29vcmRzQ2FjaGU6ZnVuY3Rpb24odCl7dmFyIGU7XCJcIiE9PXQmJnMuZXhpc3RzKHRoaXMub2JqZWN0c1t0XSkmJihlPXRoaXMub2JqZWN0c1t0XS5wb2ludCx0aGlzLmNvb3Jkc1tlLmlkXT17dXNyQ29vcmRzOmUuY29vcmRzLnVzckNvb3Jkcy5zbGljZSgwKX0pfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdCxlLG8sbixhLGgsbCxjLGQsdSxwPW51bGw7aWYoIXRoaXMubmVlZHNVcGRhdGUpcmV0dXJuIHRoaXM7aWYoXCJub3RoaW5nXCI9PT0odD10aGlzLl91cGRhdGVfZmluZF9kcmFnX3R5cGUoKSkuYWN0aW9uKXJldHVybiB0aGlzLl91cGRhdGVDb29yZHNDYWNoZSh0LmlkKSx0aGlzO2lmKHA9dGhpcy5vYmplY3RzW3QuaWRdLnBvaW50LFwidHJhbnNsYXRpb25cIj09PXQuYWN0aW9uKWQ9W3AuY29vcmRzLnVzckNvb3Jkc1sxXS10aGlzLmNvb3Jkc1t0LmlkXS51c3JDb29yZHNbMV0scC5jb29yZHMudXNyQ29vcmRzWzJdLXRoaXMuY29vcmRzW3QuaWRdLnVzckNvb3Jkc1syXV07ZWxzZSBpZihcInJvdGF0aW9uXCI9PT10LmFjdGlvbnx8XCJzY2FsaW5nXCI9PT10LmFjdGlvbil7aWYobz1cInJvdGF0aW9uXCI9PT10LmFjdGlvbj9cInJvdGF0aW9uQ2VudGVyXCI6XCJzY2FsZUNlbnRlclwiLHMuaXNQb2ludCh0aGlzW29dKSl1PXRoaXNbb10uY29vcmRzLnVzckNvb3Jkcy5zbGljZSgxKTtlbHNlIGlmKFwiY2VudHJvaWRcIj09PXRoaXNbb10pdT10aGlzLl91cGRhdGVfY2VudHJvaWRfY2VudGVyKCk7ZWxzZSBpZihzLmlzQXJyYXkodGhpc1tvXSkpdT10aGlzW29dO2Vsc2V7aWYoIXMuaXNGdW5jdGlvbih0aGlzW29dKSlyZXR1cm4gdGhpczt1PXRoaXNbb10oKX1pZihcInJvdGF0aW9uXCI9PT10LmFjdGlvbiljPXIucmFkKHRoaXMuY29vcmRzW3QuaWRdLnVzckNvb3Jkcy5zbGljZSgxKSx1LHRoaXMub2JqZWN0c1t0LmlkXS5wb2ludCksKGQ9dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbYyx1WzBdLHVbMV1dLHt0eXBlOlwicm90YXRlXCJ9KSkudXBkYXRlKCk7ZWxzZXtpZihcInNjYWxpbmdcIiE9PXQuYWN0aW9uKXJldHVybiB0aGlzO2lmKGE9ci5kaXN0YW5jZSh0aGlzLmNvb3Jkc1t0LmlkXS51c3JDb29yZHMuc2xpY2UoMSksdSksTWF0aC5hYnMoYSk8aS5lcHMpcmV0dXJuIHRoaXM7YT1yLmRpc3RhbmNlKHAuY29vcmRzLnVzckNvb3Jkcy5zbGljZSgxKSx1KS9hLGg9dGhpcy5zY2FsZURpcmVjdGlvbnNbdC5pZF0uaW5kZXhPZihcInhcIik+PTA/YToxLGw9dGhpcy5zY2FsZURpcmVjdGlvbnNbdC5pZF0uaW5kZXhPZihcInlcIik+PTA/YToxLChkPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsWzEsMCwwLHVbMF0qKDEtaCksaCwwLHVbMV0qKDEtbCksMCxsXSx7dHlwZTpcImdlbmVyaWNcIn0pKS51cGRhdGUoKX19Zm9yKGUgaW4gdGhpcy5fdXBkYXRlX2FwcGx5X3RyYW5zZm9ybWF0aW9uKHQsZCksdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzLm9iamVjdHMpaWYodGhpcy5vYmplY3RzLmhhc093blByb3BlcnR5KGUpKWZvcihuIGluIHRoaXMub2JqZWN0c1tlXS5kZXNjZW5kYW50cyl0aGlzLm9iamVjdHNbZV0uZGVzY2VuZGFudHMuaGFzT3duUHJvcGVydHkobikmJih0aGlzLm9iamVjdHNbZV0uZGVzY2VuZGFudHMubmVlZHNVcGRhdGU9dGhpcy5vYmplY3RzW2VdLmRlc2NlbmRhbnRzLm5lZWRzUmVndWxhclVwZGF0ZXx8dGhpcy5ib2FyZC5uZWVkc0Z1bGxVcGRhdGUpO2ZvcihlIGluIHRoaXMuYm9hcmQudXBkYXRlRWxlbWVudHModCksdGhpcy5vYmplY3RzKXRoaXMub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5fdXBkYXRlQ29vcmRzQ2FjaGUoZSk7cmV0dXJuIHRoaXN9LF91cGRhdGVfZmluZF9kcmFnX3R5cGU6ZnVuY3Rpb24oKXt2YXIgdCxyLG8sbj1cIm5vdGhpbmdcIixhPVtdO2Zvcih0IGluIHRoaXMub2JqZWN0cyl0aGlzLm9iamVjdHMuaGFzT3duUHJvcGVydHkodCkmJihyPXRoaXMub2JqZWN0c1t0XS5wb2ludCkuY29vcmRzLmRpc3RhbmNlKGUuQ09PUkRTX0JZX1VTRVIsdGhpcy5jb29yZHNbdF0pPmkuZXBzJiZhLnB1c2goci5pZCk7cmV0dXJuIDA9PT1hLmxlbmd0aD97YWN0aW9uOm4saWQ6XCJcIixjaGFuZ2VkOmF9OihvPWFbMF0scj10aGlzLm9iamVjdHNbb10ucG9pbnQsYS5sZW5ndGg+MT9uPVwidHJhbnNsYXRpb25cIjpzLmlzSW5BcnJheSh0aGlzLnJvdGF0aW9uUG9pbnRzLHIpJiZzLmV4aXN0cyh0aGlzLnJvdGF0aW9uQ2VudGVyKT9uPVwicm90YXRpb25cIjpzLmlzSW5BcnJheSh0aGlzLnNjYWxlUG9pbnRzLHIpJiZzLmV4aXN0cyh0aGlzLnNjYWxlQ2VudGVyKT9uPVwic2NhbGluZ1wiOnMuaXNJbkFycmF5KHRoaXMudHJhbnNsYXRpb25Qb2ludHMscikmJihuPVwidHJhbnNsYXRpb25cIikse2FjdGlvbjpuLGlkOm8sY2hhbmdlZDphfSl9LF91cGRhdGVfY2VudHJvaWRfY2VudGVyOmZ1bmN0aW9uKCl7dmFyIHQsZSxpO2ZvcihpIGluIHQ9WzAsMF0sZT0wLHRoaXMuY29vcmRzKXRoaXMuY29vcmRzLmhhc093blByb3BlcnR5KGkpJiYodFswXSs9dGhpcy5jb29yZHNbaV0udXNyQ29vcmRzWzFdLHRbMV0rPXRoaXMuY29vcmRzW2ldLnVzckNvb3Jkc1syXSwrK2UpO3JldHVybiBlPjAmJih0WzBdLz1lLHRbMV0vPWUpLHR9LF91cGRhdGVfYXBwbHlfdHJhbnNmb3JtYXRpb246ZnVuY3Rpb24odCxyKXt2YXIgbyxuO2ZvcihvIGluIHRoaXMub2JqZWN0cyl0aGlzLm9iamVjdHMuaGFzT3duUHJvcGVydHkobykmJihzLmV4aXN0cyh0aGlzLmJvYXJkLm9iamVjdHNbb10pPyhuPXRoaXMub2JqZWN0c1tvXS5wb2ludCkuaWQhPT10LmlkP1widHJhbnNsYXRpb25cIj09PXQuYWN0aW9uP3MuaXNJbkFycmF5KHQuY2hhbmdlZCxuLmlkKXx8bi5jb29yZHMuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdGhpcy5jb29yZHNbb10udXNyQ29vcmRzWzFdK3JbMF0sdGhpcy5jb29yZHNbb10udXNyQ29vcmRzWzJdK3JbMV1dKTpcInJvdGF0aW9uXCIhPT10LmFjdGlvbiYmXCJzY2FsaW5nXCIhPT10LmFjdGlvbnx8ci5hcHBseU9uY2UoW25dKTpcInJvdGF0aW9uXCIhPT10LmFjdGlvbiYmXCJzY2FsaW5nXCIhPT10LmFjdGlvbnx8bi5jb29yZHMuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixpLm1hdFZlY011bHQoci5tYXRyaXgsdGhpcy5jb29yZHNbbi5pZF0udXNyQ29vcmRzKSk6ZGVsZXRlIHRoaXMub2JqZWN0c1tvXSl9LGFkZFBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9iamVjdHNbdC5pZF09e3BvaW50OnRoaXMuYm9hcmQuc2VsZWN0KHQpfSx0aGlzLl91cGRhdGVDb29yZHNDYWNoZSh0LmlkKSx0aGlzLnRyYW5zbGF0aW9uUG9pbnRzLnB1c2godCksdC5ncm91cHMucHVzaCh0aGlzLmlkKSx0Lmdyb3Vwcz1zLnVuaXF1ZUFycmF5KHQuZ3JvdXBzKSx0aGlzfSxhZGRQb2ludHM6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLmFkZFBvaW50KHRbZV0pO3JldHVybiB0aGlzfSxhZGRHcm91cDpmdW5jdGlvbih0KXt2YXIgZTtmb3IoZSBpbiB0Lm9iamVjdHMpdC5vYmplY3RzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLmFkZFBvaW50KHQub2JqZWN0c1tlXS5wb2ludCk7cmV0dXJuIHRoaXN9LHJlbW92ZVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUgdGhpcy5vYmplY3RzW3QuaWRdLHRoaXN9LHNldFJvdGF0aW9uQ2VudGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvdGF0aW9uQ2VudGVyPXQsdGhpc30sc2V0Um90YXRpb25Qb2ludHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NldEFjdGlvblBvaW50cyhcInJvdGF0aW9uXCIsdCl9LGFkZFJvdGF0aW9uUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FkZEFjdGlvblBvaW50KFwicm90YXRpb25cIix0KX0scmVtb3ZlUm90YXRpb25Qb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlQWN0aW9uUG9pbnQoXCJyb3RhdGlvblwiLHQpfSxzZXRUcmFuc2xhdGlvblBvaW50czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc2V0QWN0aW9uUG9pbnRzKFwidHJhbnNsYXRpb25cIix0KX0sYWRkVHJhbnNsYXRpb25Qb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWRkQWN0aW9uUG9pbnQoXCJ0cmFuc2xhdGlvblwiLHQpfSxyZW1vdmVUcmFuc2xhdGlvblBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZW1vdmVBY3Rpb25Qb2ludChcInRyYW5zbGF0aW9uXCIsdCl9LHNldFNjYWxlQ2VudGVyOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNjYWxlQ2VudGVyPXQsdGhpc30sc2V0U2NhbGVQb2ludHM6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG87Zm9yKG89KGk9cy5pc0FycmF5KHQpP3Q6YXJndW1lbnRzKS5sZW5ndGgscj0wO3I8bzsrK3IpdGhpcy5zY2FsZURpcmVjdGlvbnNbdGhpcy5ib2FyZC5zZWxlY3QoaVtyXSkuaWRdPWV8fFwieHlcIjtyZXR1cm4gdGhpcy5fc2V0QWN0aW9uUG9pbnRzKFwic2NhbGVcIix0KX0sYWRkU2NhbGVQb2ludDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9hZGRBY3Rpb25Qb2ludChcInNjYWxlXCIsdCksdGhpcy5zY2FsZURpcmVjdGlvbnNbdGhpcy5ib2FyZC5zZWxlY3QodCkuaWRdPWV8fFwieHlcIix0aGlzfSxyZW1vdmVTY2FsZVBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZW1vdmVBY3Rpb25Qb2ludChcInNjYWxlXCIsdCl9LF9zZXRBY3Rpb25Qb2ludHM6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLG87Zm9yKG89KGk9cy5pc0FycmF5KGUpP2U6YXJndW1lbnRzKS5sZW5ndGgsdGhpc1t0K1wiUG9pbnRzXCJdPVtdLHI9MDtyPG87KytyKXRoaXMuX2FkZEFjdGlvblBvaW50KHQsaVtyXSk7cmV0dXJuIHRoaXN9LF9hZGRBY3Rpb25Qb2ludDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzW3QrXCJQb2ludHNcIl0ucHVzaCh0aGlzLmJvYXJkLnNlbGVjdChlKSksdGhpc30sX3JlbW92ZUFjdGlvblBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpc1t0K1wiUG9pbnRzXCJdLmluZGV4T2YodGhpcy5ib2FyZC5zZWxlY3QoZSkpO3JldHVybiBpPi0xJiZ0aGlzW3QrXCJQb2ludHNcIl0uc3BsaWNlKGksMSksdGhpc30sc2V0UHJvcGVydHk6ZnVuY3Rpb24oKXt0LmRlcHJlY2F0ZWQoXCJHcm91cC5zZXRQcm9wZXJ0eVwiLFwiR3JvdXAuc2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgdDtmb3IodCBpbiB0aGlzLm9iamVjdHMpdGhpcy5vYmplY3RzLmhhc093blByb3BlcnR5KHQpJiZ0aGlzLm9iamVjdHNbdF0ucG9pbnQuc2V0QXR0cmlidXRlLmFwcGx5KHRoaXMub2JqZWN0c1t0XS5wb2ludCxhcmd1bWVudHMpO3JldHVybiB0aGlzfX0pLHQuY3JlYXRlR3JvdXA9ZnVuY3Rpb24oZSxpLHIpe3ZhciBvPXMuY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJncm91cFwiKSxuPW5ldyB0Lkdyb3VwKGUsby5pZCxvLm5hbWUsaSxvKTtyZXR1cm4gbi5lbFR5cGU9XCJncm91cFwiLG4uc2V0UGFyZW50cyhpKSxufSx0LnJlZ2lzdGVyRWxlbWVudChcImdyb3VwXCIsdC5jcmVhdGVHcm91cCkse0dyb3VwOnQuR3JvdXAsY3JlYXRlR3JvdXA6dC5jcmVhdGVHcm91cH19KSksZGVmaW5lKFwiZWxlbWVudC9jb25pY1wiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvbnVtZXJpY3NcIixcIm1hdGgvZ2VvbWV0cnlcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe1widXNlIHN0cmljdFwiO3JldHVybiB0LmNyZWF0ZUVsbGlwc2U9ZnVuY3Rpb24odCxyLHMpe3ZhciBvLGEsaCxsLGMsZCx1LHA9W10sZj1uLmNvcHlBdHRyaWJ1dGVzKHMsdC5vcHRpb25zLFwiY29uaWNcIixcImZvY2lcIiksbT1uLmNvcHlBdHRyaWJ1dGVzKHMsdC5vcHRpb25zLFwiY29uaWNcIixcImNlbnRlclwiKSxnPW4uY29weUF0dHJpYnV0ZXMocyx0Lm9wdGlvbnMsXCJjb25pY1wiKTtmb3IoZD0wO2Q8MjtkKyspaWYocltkXS5sZW5ndGg+MSlwW2RdPXQuY3JlYXRlKFwicG9pbnRcIixyW2RdLGYpO2Vsc2UgaWYobi5pc1BvaW50KHJbZF0pKXBbZF09dC5zZWxlY3QocltkXSk7ZWxzZSBpZihuLmlzRnVuY3Rpb24ocltkXSkmJm4uaXNQb2ludChyW2RdKCkpKXBbZF09cltkXSgpO2Vsc2V7aWYoIW4uaXNTdHJpbmcocltkXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBFbGxpcHNlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgclswXStcIicgYW5kICdcIit0eXBlb2YgclsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdLCBbcG9pbnQscG9pbnQsbnVtYmVyfGZ1bmN0aW9uXVwiKTtwW2RdPXQuc2VsZWN0KHJbZF0pfWlmKG4uaXNOdW1iZXIoclsyXSkpYz1uLmNyZWF0ZUZ1bmN0aW9uKHJbMl0sdCk7ZWxzZSBpZihuLmlzRnVuY3Rpb24oclsyXSkmJm4uaXNOdW1iZXIoclsyXSgpKSljPXJbMl07ZWxzZXtpZihuLmlzUG9pbnQoclsyXSkpbD10LnNlbGVjdChyWzJdKTtlbHNlIGlmKHJbMl0ubGVuZ3RoPjEpbD10LmNyZWF0ZShcInBvaW50XCIsclsyXSxmKTtlbHNlIGlmKG4uaXNGdW5jdGlvbihyWzJdKSYmbi5pc1BvaW50KHJbMl0oKSkpbD1yWzJdKCk7ZWxzZXtpZighbi5pc1N0cmluZyhyWzJdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIEVsbGlwc2Ugd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiByWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiByWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiByWzJdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludF0sIFtwb2ludCxwb2ludCxudW1iZXJ8ZnVuY3Rpb25dXCIpO2w9dC5zZWxlY3QoclsyXSl9Yz1mdW5jdGlvbigpe3JldHVybiBsLkRpc3QocFswXSkrbC5EaXN0KHBbMV0pfX1mb3Iobi5leGlzdHMocls0XSl8fChyWzRdPTIqTWF0aC5QSSksbi5leGlzdHMoclszXSl8fChyWzNdPTApLGg9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybi41KihwWzBdLlgoKStwWzFdLlgoKSl9LGZ1bmN0aW9uKCl7cmV0dXJuLjUqKHBbMF0uWSgpK3BbMV0uWSgpKX1dLG0pLChhPXQuY3JlYXRlKFwiY3VydmVcIixbZnVuY3Rpb24odCl7cmV0dXJuIDB9LGZ1bmN0aW9uKHQpe3JldHVybiAwfSxyWzNdLHJbNF1dLGcpKS5tYWpvckF4aXM9Yyx1PWEuaGFzUG9pbnQsbz1mdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvLG4saCxsLGQsdTtlfHwocj0oaT1jKCkpKmkscz1wWzBdLlgoKSxvPXBbMF0uWSgpLGw9cy0obj1wWzFdLlgoKSksZD1vLShoPXBbMV0uWSgpKSx1PShyLXMqcy1vKm8rbipuK2gqaCkvKDIqaSksYS5xdWFkcmF0aWNmb3JtPVtbdSp1LW4qbi1oKmgsdSpsL2krbix1KmQvaStoXSxbdSpsL2krbixsKmwvci0xLGwqZC9yXSxbdSpkL2kraCxsKmQvcixkKmQvci0xXV0pfSxhLlg9ZnVuY3Rpb24odCxlKXt2YXIgaT1jKCkscj1wWzFdLkRpc3QocFswXSkscz0uNSoocipyLWkqaSkvKHIqTWF0aC5jb3ModCktaSksbj1NYXRoLmF0YW4yKHBbMV0uWSgpLXBbMF0uWSgpLHBbMV0uWCgpLXBbMF0uWCgpKTtyZXR1cm4gZXx8bygwLGUpLHBbMF0uWCgpK01hdGguY29zKG4rdCkqc30sYS5ZPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YygpLHI9cFsxXS5EaXN0KHBbMF0pLHM9LjUqKHIqci1pKmkpLyhyKk1hdGguY29zKHQpLWkpLG89TWF0aC5hdGFuMihwWzFdLlkoKS1wWzBdLlkoKSxwWzFdLlgoKS1wWzBdLlgoKSk7cmV0dXJuIHBbMF0uWSgpK01hdGguc2luKG8rdCkqc30sYS5taWRwb2ludD1hLmNlbnRlcj1oLGEudHlwZT1lLk9CSkVDVF9UWVBFX0NPTklDLGEuc3Vicz17Y2VudGVyOmEuY2VudGVyfSxhLmluaGVyaXRzLnB1c2goYS5jZW50ZXIscFswXSxwWzFdKSxuLmlzUG9pbnQobCkmJmEuaW5oZXJpdHMucHVzaChsKSxhLmhhc1BvaW50PWZ1bmN0aW9uKHQscil7dmFyIHMsbyxhLGg7cmV0dXJuIG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLmhhc2lubmVycG9pbnRzKT8ocz1wWzBdLmNvb3JkcyxvPXBbMV0uY29vcmRzLGE9dGhpcy5tYWpvckF4aXMoKSwoaD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW3Qscl0sdGhpcy5ib2FyZCkpLmRpc3RhbmNlKGUuQ09PUkRTX0JZX1VTRVIscykraC5kaXN0YW5jZShlLkNPT1JEU19CWV9VU0VSLG8pPD1hKTp1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saC5hZGRDaGlsZChhKSxkPTA7ZDwyO2QrKyluLmlzUG9pbnQocFtkXSkmJnBbZF0uYWRkQ2hpbGQoYSk7cmV0dXJuIG4uaXNQb2ludChsKSYmbC5hZGRDaGlsZChhKSxhLnNldFBhcmVudHMociksYX0sdC5jcmVhdGVIeXBlcmJvbGE9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sYSxoLGwsYyxkPVtdLHU9bi5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImNvbmljXCIsXCJmb2NpXCIpLHA9bi5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImNvbmljXCIsXCJjZW50ZXJcIiksZj1uLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiY29uaWNcIik7Zm9yKGM9MDtjPDI7YysrKWlmKGlbY10ubGVuZ3RoPjEpZFtjXT10LmNyZWF0ZShcInBvaW50XCIsaVtjXSx1KTtlbHNlIGlmKG4uaXNQb2ludChpW2NdKSlkW2NdPXQuc2VsZWN0KGlbY10pO2Vsc2UgaWYobi5pc0Z1bmN0aW9uKGlbY10pJiZuLmlzUG9pbnQoaVtjXSgpKSlkW2NdPWlbY10oKTtlbHNle2lmKCFuLmlzU3RyaW5nKGlbY10pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgSHlwZXJib2xhIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdLCBbcG9pbnQscG9pbnQsbnVtYmVyfGZ1bmN0aW9uXVwiKTtkW2NdPXQuc2VsZWN0KGlbY10pfWlmKG4uaXNOdW1iZXIoaVsyXSkpbD1uLmNyZWF0ZUZ1bmN0aW9uKGlbMl0sdCk7ZWxzZSBpZihuLmlzRnVuY3Rpb24oaVsyXSkmJm4uaXNOdW1iZXIoaVsyXSgpKSlsPWlbMl07ZWxzZXtpZihuLmlzUG9pbnQoaVsyXSkpaD10LnNlbGVjdChpWzJdKTtlbHNlIGlmKGlbMl0ubGVuZ3RoPjEpaD10LmNyZWF0ZShcInBvaW50XCIsaVsyXSx1KTtlbHNlIGlmKG4uaXNGdW5jdGlvbihpWzJdKSYmbi5pc1BvaW50KGlbMl0oKSkpaD1pWzJdKCk7ZWxzZXtpZighbi5pc1N0cmluZyhpWzJdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIEh5cGVyYm9sYSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMl0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50LHBvaW50XSwgW3BvaW50LHBvaW50LG51bWJlcnxmdW5jdGlvbl1cIik7aD10LnNlbGVjdChpWzJdKX1sPWZ1bmN0aW9uKCl7cmV0dXJuIGguRGlzdChkWzBdKS1oLkRpc3QoZFsxXSl9fWZvcihuLmV4aXN0cyhpWzRdKXx8KGlbNF09MS4wMDAxKk1hdGguUEkpLG4uZXhpc3RzKGlbM10pfHwoaVszXT0tMS4wMDAxKk1hdGguUEkpLGE9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybi41KihkWzBdLlgoKStkWzFdLlgoKSl9LGZ1bmN0aW9uKCl7cmV0dXJuLjUqKGRbMF0uWSgpK2RbMV0uWSgpKX1dLHApLChvPXQuY3JlYXRlKFwiY3VydmVcIixbZnVuY3Rpb24odCl7cmV0dXJuIDB9LGZ1bmN0aW9uKHQpe3JldHVybiAwfSxpWzNdLGlbNF1dLGYpKS5tYWpvckF4aXM9bCxzPWZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG4sYSxoLGMsdSxwO2V8fChyPShpPWwoKSkqaSxzPWRbMF0uWCgpLG49ZFswXS5ZKCksYz1zLShhPWRbMV0uWCgpKSx1PW4tKGg9ZFsxXS5ZKCkpLHA9KHItcypzLW4qbithKmEraCpoKS8oMippKSxvLnF1YWRyYXRpY2Zvcm09W1twKnAtYSphLWgqaCxwKmMvaSthLHAqdS9pK2hdLFtwKmMvaSthLGMqYy9yLTEsYyp1L3JdLFtwKnUvaStoLGMqdS9yLHUqdS9yLTFdXSl9LG8uWD1mdW5jdGlvbih0LGUpe3ZhciBpPWwoKSxyPWRbMV0uRGlzdChkWzBdKSxvPS41KihyKnItaSppKS8ocipNYXRoLmNvcyh0KStpKSxuPU1hdGguYXRhbjIoZFsxXS5ZKCktZFswXS5ZKCksZFsxXS5YKCktZFswXS5YKCkpO3JldHVybiBlfHxzKDAsZSksZFswXS5YKCkrTWF0aC5jb3Mobit0KSpvfSxvLlk9ZnVuY3Rpb24odCxlKXt2YXIgaT1sKCkscj1kWzFdLkRpc3QoZFswXSkscz0uNSoocipyLWkqaSkvKHIqTWF0aC5jb3ModCkraSksbz1NYXRoLmF0YW4yKGRbMV0uWSgpLWRbMF0uWSgpLGRbMV0uWCgpLWRbMF0uWCgpKTtyZXR1cm4gZFswXS5ZKCkrTWF0aC5zaW4obyt0KSpzfSxvLm1pZHBvaW50PW8uY2VudGVyPWEsby5zdWJzPXtjZW50ZXI6by5jZW50ZXJ9LG8uaW5oZXJpdHMucHVzaChvLmNlbnRlcixkWzBdLGRbMV0pLG4uaXNQb2ludChoKSYmby5pbmhlcml0cy5wdXNoKGgpLG8udHlwZT1lLk9CSkVDVF9UWVBFX0NPTklDLGEuYWRkQ2hpbGQobyksYz0wO2M8MjtjKyspbi5pc1BvaW50KGRbY10pJiZkW2NdLmFkZENoaWxkKG8pO3JldHVybiBuLmlzUG9pbnQoaCkmJmguYWRkQ2hpbGQobyksby5zZXRQYXJlbnRzKGkpLG99LHQuY3JlYXRlUGFyYWJvbGE9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLGEsaCxsLGM9aVswXSxkPWlbMV0sdT1uLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiY29uaWNcIixcImZvY2lcIikscD1uLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiY29uaWNcIixcImNlbnRlclwiKSxmPW4uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJjb25pY1wiKTtpZihpWzBdLmxlbmd0aD4xKWM9dC5jcmVhdGUoXCJwb2ludFwiLGlbMF0sdSk7ZWxzZSBpZihuLmlzUG9pbnQoaVswXSkpYz10LnNlbGVjdChpWzBdKTtlbHNlIGlmKG4uaXNGdW5jdGlvbihpWzBdKSYmbi5pc1BvaW50KGlbMF0oKSkpYz1pWzBdKCk7ZWxzZXtpZighbi5pc1N0cmluZyhpWzBdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIFBhcmFib2xhIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQsbGluZV1cIik7Yz10LnNlbGVjdChpWzBdKX1yZXR1cm4gbi5pc0FycmF5KGQpJiYyPT09ZC5sZW5ndGgmJihsPW4uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJjb25pY1wiLFwibGluZVwiKSxkPXQuY3JlYXRlKFwibGluZVwiLGQsbCkpLG4uZXhpc3RzKGlbM10pfHwoaVszXT0yKk1hdGguUEkpLG4uZXhpc3RzKGlbMl0pfHwoaVsyXT0wKSxoPXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm4gby5wcm9qZWN0UG9pbnRUb0xpbmUoYyxkLHQpLnVzckNvb3Jkc31dLHApLChhPXQuY3JlYXRlKFwiY3VydmVcIixbZnVuY3Rpb24odCl7cmV0dXJuIDB9LGZ1bmN0aW9uKHQpe3JldHVybiAwfSxpWzJdLGlbM11dLGYpKS5taWRwb2ludD1hLmNlbnRlcj1oLGEuc3Vicz17Y2VudGVyOmEuY2VudGVyfSxhLmluaGVyaXRzLnB1c2goYS5jZW50ZXIpLHM9ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuLGg7ZXx8KGk9ZC5zdGRmb3JtWzFdLHI9ZC5zdGRmb3JtWzJdLHM9ZC5zdGRmb3JtWzBdLG89aSppK3IqcixuPWMuWCgpLGg9Yy5ZKCksYS5xdWFkcmF0aWNmb3JtPVtbcypzLW8qKG4qbitoKmgpLHMqaStvKm4scypyK28qaF0sW3MqaStvKm4sLXIqcixpKnJdLFtzKnIrbypoLGkqciwtaSppXV0pfSxhLlg9ZnVuY3Rpb24odCxlKXt2YXIgaSxyPWQuZ2V0QW5nbGUoKSxuPW8uZGlzdFBvaW50TGluZShjLmNvb3Jkcy51c3JDb29yZHMsZC5zdGRmb3JtKSxhPWQucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsaD1kLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLGw9Yy5jb29yZHMudXNyQ29vcmRzO3JldHVybiAwPT09YVswXT9hPVsxLGhbMV0rZC5zdGRmb3JtWzJdLGhbMl0tZC5zdGRmb3JtWzFdXTowPT09aFswXSYmKGg9WzEsYVsxXStkLnN0ZGZvcm1bMl0sYVsyXS1kLnN0ZGZvcm1bMV1dKSxpPSgoaFsxXS1hWzFdKSoobFsyXS1hWzJdKS0oaFsyXS1hWzJdKSoobFsxXS1hWzFdKT49MD8xOi0xKSpuLygxLU1hdGguc2luKHQpKSxlfHxzKDAsZSksYy5YKCkrTWF0aC5jb3ModCtyKSppfSxhLlk9ZnVuY3Rpb24odCxlKXt2YXIgaSxyPWQuZ2V0QW5nbGUoKSxzPW8uZGlzdFBvaW50TGluZShjLmNvb3Jkcy51c3JDb29yZHMsZC5zdGRmb3JtKSxuPWQucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsYT1kLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLGg9Yy5jb29yZHMudXNyQ29vcmRzO3JldHVybiAwPT09blswXT9uPVsxLGFbMV0rZC5zdGRmb3JtWzJdLGFbMl0tZC5zdGRmb3JtWzFdXTowPT09YVswXSYmKGE9WzEsblsxXStkLnN0ZGZvcm1bMl0sblsyXS1kLnN0ZGZvcm1bMV1dKSxpPSgoYVsxXS1uWzFdKSooaFsyXS1uWzJdKS0oYVsyXS1uWzJdKSooaFsxXS1uWzFdKT49MD8xOi0xKSpzLygxLU1hdGguc2luKHQpKSxjLlkoKStNYXRoLnNpbih0K3IpKml9LGEudHlwZT1lLk9CSkVDVF9UWVBFX0NPTklDLGguYWRkQ2hpbGQoYSksbi5pc1BvaW50KGMpJiYoYy5hZGRDaGlsZChhKSxhLmluaGVyaXRzLnB1c2goYykpLGQuYWRkQ2hpbGQoYSksYS5zZXRQYXJlbnRzKGkpLGF9LHQuY3JlYXRlQ29uaWM9ZnVuY3Rpb24odCxpLG8pe3ZhciBhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXz1bWzEsMCwwXSxbMCwxLDBdLFswLDAsMV1dLFA9W1sxLDAsMF0sWzAsMSwwXSxbMCwwLDFdXSxFPVtdLHg9W10sUz1uLmNvcHlBdHRyaWJ1dGVzKG8sdC5vcHRpb25zLFwiY29uaWNcIixcInBvaW50XCIpLE89bi5jb3B5QXR0cmlidXRlcyhvLHQub3B0aW9ucyxcImNvbmljXCIsXCJjZW50ZXJcIiksdz1uLmNvcHlBdHRyaWJ1dGVzKG8sdC5vcHRpb25zLFwiY29uaWNcIik7aWYoNT09PWkubGVuZ3RoKUM9ITA7ZWxzZXtpZig2IT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBnZW5lcmljIENvbmljIHdpdGggXCIraS5sZW5ndGgrXCIgcGFyYW1ldGVycy5cIik7Qz0hMX1pZihDKWZvcih2PTA7djw1O3YrKylpZihpW3ZdLmxlbmd0aD4xKUVbdl09dC5jcmVhdGUoXCJwb2ludFwiLGlbdl0sUyk7ZWxzZSBpZihuLmlzUG9pbnQoaVt2XSkpRVt2XT10LnNlbGVjdChpW3ZdKTtlbHNlIGlmKG4uaXNGdW5jdGlvbihpW3ZdKSYmbi5pc1BvaW50KGlbdl0oKSkpRVt2XT1pW3ZdKCk7ZWxzZXtpZighbi5pc1N0cmluZyhpW3ZdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIENvbmljIHNlY3Rpb24gd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpW3ZdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludCxwb2ludCxwb2ludF0sIFthMDAsYTExLGEyMixhMDEsYTAyLGExMl1cIik7RVt2XT10LnNlbGVjdChpW3ZdKX1lbHNlKHk9W1swLDAsMF0sWzAsMCwwXSxbMCwwLDBdXSlbMF1bMF09bi5pc0Z1bmN0aW9uKGlbMl0pP2Z1bmN0aW9uKCl7cmV0dXJuIGlbMl0oKX06ZnVuY3Rpb24oKXtyZXR1cm4gaVsyXX0seVswXVsxXT1uLmlzRnVuY3Rpb24oaVs0XSk/ZnVuY3Rpb24oKXtyZXR1cm4gaVs0XSgpfTpmdW5jdGlvbigpe3JldHVybiBpWzRdfSx5WzBdWzJdPW4uaXNGdW5jdGlvbihpWzVdKT9mdW5jdGlvbigpe3JldHVybiBpWzVdKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGlbNV19LHlbMV1bMV09bi5pc0Z1bmN0aW9uKGlbMF0pP2Z1bmN0aW9uKCl7cmV0dXJuIGlbMF0oKX06ZnVuY3Rpb24oKXtyZXR1cm4gaVswXX0seVsxXVsyXT1uLmlzRnVuY3Rpb24oaVszXSk/ZnVuY3Rpb24oKXtyZXR1cm4gaVszXSgpfTpmdW5jdGlvbigpe3JldHVybiBpWzNdfSx5WzJdWzJdPW4uaXNGdW5jdGlvbihpWzFdKT9mdW5jdGlvbigpe3JldHVybiBpWzFdKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGlbMV19O2lmKGQ9ZnVuY3Rpb24odCl7dmFyIGUsaTtmb3IoZT0wO2U8MztlKyspZm9yKGk9ZTtpPDM7aSsrKXRbZV1baV0rPXRbaV1bZV07Zm9yKGU9MDtlPDM7ZSsrKWZvcihpPTA7aTxlO2krKyl0W2VdW2ldPXRbaV1bZV07cmV0dXJuIHR9LGM9ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM9W1swLDAsMF0sWzAsMCwwXSxbMCwwLDBdXTtmb3IoaT0wO2k8MztpKyspZm9yKHI9MDtyPDM7cisrKXNbaV1bcl09dFtpXSplW3JdO3JldHVybiBkKHMpfSxsPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxvLG4sYSxoLGw9W1swLDAsMF0sWzAsMCwwXSxbMCwwLDBdXTtmb3IoaD1yLm1hdFZlY011bHQoZSxpKSxuPXIuaW5uZXJQcm9kdWN0KGksaCksaD1yLm1hdFZlY011bHQodCxpKSxhPXIuaW5uZXJQcm9kdWN0KGksaCkscz0wO3M8MztzKyspZm9yKG89MDtvPDM7bysrKWxbc11bb109bip0W3NdW29dLWEqZVtzXVtvXTtyZXR1cm4gbH0saD10LmNyZWF0ZShcImN1cnZlXCIsW2Z1bmN0aW9uKHQpe3JldHVybiAwfSxmdW5jdGlvbih0KXtyZXR1cm4gMH0sMCwyKk1hdGguUEldLHcpLGE9ZnVuY3Rpb24odCxlKXt2YXIgaSxvLGEsZDtpZighZSl7aWYoQyl7Zm9yKGk9MDtpPDU7aSsrKXhbaV09RVtpXS5jb29yZHMudXNyQ29vcmRzO2c9YyhyLmNyb3NzUHJvZHVjdCh4WzBdLHhbMV0pLHIuY3Jvc3NQcm9kdWN0KHhbMl0seFszXSkpLGI9YyhyLmNyb3NzUHJvZHVjdCh4WzBdLHhbMl0pLHIuY3Jvc3NQcm9kdWN0KHhbMV0seFszXSkpLFA9bChnLGIseFs0XSl9ZWxzZSBmb3IoaT0wO2k8MztpKyspZm9yKG89aTtvPDM7bysrKVBbaV1bb109eVtpXVtvXSgpLG8+aSYmKFBbb11baV09UFtpXVtvXSk7Zm9yKGgucXVhZHJhdGljZm9ybT1QLCh1PXMuSmFjb2JpKFApKVswXVswXVswXTwwJiYodVswXVswXVswXSo9LTEsdVswXVsxXVsxXSo9LTEsdVswXVsyXVsyXSo9LTEpLGk9MDtpPDM7aSsrKXtmb3IoYT0wLG89MDtvPDM7bysrKWErPXVbMV1bb11baV0qdVsxXVtvXVtpXTthPU1hdGguc3FydChhKX1fPXVbMV0sbT1NYXRoLnNxcnQoTWF0aC5hYnModVswXVswXVswXSkpLHA9TWF0aC5zcXJ0KE1hdGguYWJzKHVbMF1bMV1bMV0pKSxmPU1hdGguc3FydChNYXRoLmFicyh1WzBdWzJdWzJdKSl9cmV0dXJuIHVbMF1bMV1bMV08PTAmJnVbMF1bMl1bMl08PTA/ZD1yLm1hdFZlY011bHQoXyxbMS9tLE1hdGguY29zKHQpL3AsTWF0aC5zaW4odCkvZl0pOnVbMF1bMV1bMV08PTAmJnVbMF1bMl1bMl0+MD9kPXIubWF0VmVjTXVsdChfLFtNYXRoLmNvcyh0KS9tLDEvcCxNYXRoLnNpbih0KS9mXSk6dVswXVsyXVsyXTwwJiYoZD1yLm1hdFZlY011bHQoXyxbTWF0aC5zaW4odCkvbSxNYXRoLmNvcyh0KS9wLDEvZl0pKSxuLmV4aXN0cyhkKT8oZFsxXS89ZFswXSxkWzJdLz1kWzBdLGRbMF09MSk6ZD1bMSxOYU4sTmFOXSxkfSxoLlg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYSh0LGUpWzFdfSxoLlk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYSh0LGUpWzJdfSxoLm1pZHBvaW50PXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXt2YXIgdD1oLnF1YWRyYXRpY2Zvcm07cmV0dXJuW3RbMV1bMV0qdFsyXVsyXS10WzFdWzJdKnRbMV1bMl0sdFsxXVsyXSp0WzBdWzJdLXRbMl1bMl0qdFswXVsxXSx0WzBdWzFdKnRbMV1bMl0tdFsxXVsxXSp0WzBdWzJdXX1dLE8pLGgudHlwZT1lLk9CSkVDVF9UWVBFX0NPTklDLGguY2VudGVyPWgubWlkcG9pbnQsaC5zdWJzPXtjZW50ZXI6aC5jZW50ZXJ9LGguaW5oZXJpdHMucHVzaChoLmNlbnRlciksaC5pbmhlcml0cz1oLmluaGVyaXRzLmNvbmNhdChFKSxDKXtmb3Iodj0wO3Y8NTt2Kyspbi5pc1BvaW50KEVbdl0pJiZFW3ZdLmFkZENoaWxkKGgpO2guc2V0UGFyZW50cyhpKX1yZXR1cm4gaC5hZGRDaGlsZChoLmNlbnRlciksaH0sdC5yZWdpc3RlckVsZW1lbnQoXCJlbGxpcHNlXCIsdC5jcmVhdGVFbGxpcHNlKSx0LnJlZ2lzdGVyRWxlbWVudChcImh5cGVyYm9sYVwiLHQuY3JlYXRlSHlwZXJib2xhKSx0LnJlZ2lzdGVyRWxlbWVudChcInBhcmFib2xhXCIsdC5jcmVhdGVQYXJhYm9sYSksdC5yZWdpc3RlckVsZW1lbnQoXCJjb25pY1wiLHQuY3JlYXRlQ29uaWMpLHtjcmVhdGVFbGxpcHNlOnQuY3JlYXRlRWxsaXBzZSxjcmVhdGVIeXBlcmJvbGE6dC5jcmVhdGVIeXBlcmJvbGEsY3JlYXRlUGFyYWJvbGE6dC5jcmVhdGVQYXJhYm9sYSxjcmVhdGVDb25pYzp0LmNyZWF0ZUNvbmljfX0pKSxkZWZpbmUoXCJiYXNlL2NpcmNsZVwiLFtcImp4Z1wiLFwiYmFzZS9lbGVtZW50XCIsXCJiYXNlL2Nvb3Jkc1wiLFwiYmFzZS9jb25zdGFudHNcIixcImVsZW1lbnQvY29uaWNcIixcInBhcnNlci9nZW9uZXh0XCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5DaXJjbGU9ZnVuY3Rpb24odCxlLGkscyxvKXt0aGlzLmNvbnN0cnVjdG9yKHQsbyxyLk9CSkVDVF9UWVBFX0NJUkNMRSxyLk9CSkVDVF9DTEFTU19DSVJDTEUpLHRoaXMubWV0aG9kPWUsdGhpcy5taWRwb2ludD10aGlzLmJvYXJkLnNlbGVjdChpKSx0aGlzLmNlbnRlcj10aGlzLmJvYXJkLnNlbGVjdChpKSx0aGlzLnBvaW50Mj1udWxsLHRoaXMucmFkaXVzPTAsdGhpcy5saW5lPW51bGwsdGhpcy5jaXJjbGU9bnVsbCx0aGlzLnBvaW50cz1bXSxcInR3b1BvaW50c1wiPT09ZT8odGhpcy5wb2ludDI9dC5zZWxlY3QocyksdGhpcy5yYWRpdXM9dGhpcy5SYWRpdXMoKSk6XCJwb2ludFJhZGl1c1wiPT09ZT8odGhpcy5neHR0ZXJtPXMsdGhpcy51cGRhdGVSYWRpdXM9bi5jcmVhdGVGdW5jdGlvbihzLHRoaXMuYm9hcmQsbnVsbCwhMCksdGhpcy51cGRhdGVSYWRpdXMoKSk6XCJwb2ludExpbmVcIj09PWU/KHRoaXMubGluZT10LnNlbGVjdChzKSx0aGlzLnJhZGl1cz10aGlzLmxpbmUucG9pbnQxLmNvb3Jkcy5kaXN0YW5jZShyLkNPT1JEU19CWV9VU0VSLHRoaXMubGluZS5wb2ludDIuY29vcmRzKSk6XCJwb2ludENpcmNsZVwiPT09ZSYmKHRoaXMuY2lyY2xlPXQuc2VsZWN0KHMpLHRoaXMucmFkaXVzPXRoaXMuY2lyY2xlLlJhZGl1cygpKSx0aGlzLmlkPXRoaXMuYm9hcmQuc2V0SWQodGhpcyxcIkNcIiksdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3RWxsaXBzZSh0aGlzKSx0aGlzLmJvYXJkLmZpbmFsaXplQWRkaW5nKHRoaXMpLHRoaXMuY3JlYXRlR3JhZGllbnQoKSx0aGlzLmVsVHlwZT1cImNpcmNsZVwiLHRoaXMuY3JlYXRlTGFiZWwoKSxuLmV4aXN0cyh0aGlzLmNlbnRlci5faXNfbmV3KT8odGhpcy5hZGRDaGlsZCh0aGlzLmNlbnRlciksZGVsZXRlIHRoaXMuY2VudGVyLl9pc19uZXcpOnRoaXMuY2VudGVyLmFkZENoaWxkKHRoaXMpLFwicG9pbnRSYWRpdXNcIj09PWU/dGhpcy5ub3RpZnlQYXJlbnRzKHMpOlwicG9pbnRMaW5lXCI9PT1lP3RoaXMubGluZS5hZGRDaGlsZCh0aGlzKTpcInBvaW50Q2lyY2xlXCI9PT1lP3RoaXMuY2lyY2xlLmFkZENoaWxkKHRoaXMpOlwidHdvUG9pbnRzXCI9PT1lJiYobi5leGlzdHModGhpcy5wb2ludDIuX2lzX25ldyk/KHRoaXMuYWRkQ2hpbGQodGhpcy5wb2ludDIpLGRlbGV0ZSB0aGlzLnBvaW50Mi5faXNfbmV3KTp0aGlzLnBvaW50Mi5hZGRDaGlsZCh0aGlzKSksdGhpcy5tZXRob2RNYXA9bi5kZWVwQ29weSh0aGlzLm1ldGhvZE1hcCx7c2V0UmFkaXVzOlwic2V0UmFkaXVzXCIsZ2V0UmFkaXVzOlwiZ2V0UmFkaXVzXCIsQXJlYTpcIkFyZWFcIixhcmVhOlwiQXJlYVwiLHJhZGl1czpcIlJhZGl1c1wiLGNlbnRlcjpcImNlbnRlclwiLGxpbmU6XCJsaW5lXCIscG9pbnQyOlwicG9pbnQyXCJ9KX0sdC5DaXJjbGUucHJvdG90eXBlPW5ldyBlLHQuZXh0ZW5kKHQuQ2lyY2xlLnByb3RvdHlwZSx7aGFzUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgcyxvLGEsaCxsLGM9dGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3JkcyxkPW5ldyBpKHIuQ09PUkRTX0JZX1NDUkVFTixbdCxlXSx0aGlzLmJvYXJkKSx1PXRoaXMuUmFkaXVzKCk7cmV0dXJuIG4uaXNPYmplY3Qobi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KG89dGhpcy5ib2FyZC5faW5wdXREZXZpY2Uscz1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25bb10pKTpzPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsYT1jWzFdLWQudXNyQ29vcmRzWzFdLGg9Y1syXS1kLnVzckNvb3Jkc1syXSxsPU1hdGguc3FydChhKmEraCpoKSxzKz0uNSpuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJva2V3aWR0aCkscy89TWF0aC5zcXJ0KHRoaXMuYm9hcmQudW5pdFgqdGhpcy5ib2FyZC51bml0WSksbi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaGFzaW5uZXJwb2ludHMpP2w8dStzOk1hdGguYWJzKGwtdSk8c30sZ2VuZXJhdGVQb2x5bm9taWFsOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2VudGVyLnN5bWJvbGljLngsaT10aGlzLmNlbnRlci5zeW1ib2xpYy55LHI9dC5zeW1ib2xpYy54LHM9dC5zeW1ib2xpYy55LG89dGhpcy5nZW5lcmF0ZVJhZGl1c1NxdWFyZWQoKTtyZXR1cm5cIlwiPT09bz9bXTpbXCIoKFwiK3IrXCIpLShcIitlK1wiKSleMiArICgoXCIrcytcIiktKFwiK2krXCIpKV4yIC0gKFwiK28rXCIpXCJdfSxnZW5lcmF0ZVJhZGl1c1NxdWFyZWQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzPVwiXCI7cmV0dXJuXCJ0d29Qb2ludHNcIj09PXRoaXMubWV0aG9kPyh0PXRoaXMuY2VudGVyLnN5bWJvbGljLngsZT10aGlzLmNlbnRlci5zeW1ib2xpYy55LHM9XCIoKFwiKyhpPXRoaXMucG9pbnQyLnN5bWJvbGljLngpK1wiKS0oXCIrdCtcIikpXjIgKyAoKFwiKyhyPXRoaXMucG9pbnQyLnN5bWJvbGljLnkpK1wiKS0oXCIrZStcIikpXjJcIik6XCJwb2ludFJhZGl1c1wiPT09dGhpcy5tZXRob2Q/bi5pc051bWJlcih0aGlzLnJhZGl1cykmJihzPSh0aGlzLnJhZGl1cyp0aGlzLnJhZGl1cykudG9TdHJpbmcoKSk6XCJwb2ludExpbmVcIj09PXRoaXMubWV0aG9kPyhpPXRoaXMubGluZS5wb2ludDEuc3ltYm9saWMueCxyPXRoaXMubGluZS5wb2ludDEuc3ltYm9saWMueSxzPVwiKChcIitpK1wiKS0oXCIrdGhpcy5saW5lLnBvaW50Mi5zeW1ib2xpYy54K1wiKSleMiArICgoXCIrcitcIiktKFwiK3RoaXMubGluZS5wb2ludDIuc3ltYm9saWMueStcIikpXjJcIik6XCJwb2ludENpcmNsZVwiPT09dGhpcy5tZXRob2QmJihzPXRoaXMuY2lyY2xlLlJhZGl1cygpKSxzfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdCxlLHMsbyxhLGg7aWYodGhpcy5uZWVkc1VwZGF0ZSlmb3Iobi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudHJhY2UpJiZ0aGlzLmNsb25lVG9CYWNrZ3JvdW5kKCEwKSxcInBvaW50TGluZVwiPT09dGhpcy5tZXRob2Q/dGhpcy5yYWRpdXM9dGhpcy5saW5lLnBvaW50MS5jb29yZHMuZGlzdGFuY2Uoci5DT09SRFNfQllfVVNFUix0aGlzLmxpbmUucG9pbnQyLmNvb3Jkcyk6XCJwb2ludENpcmNsZVwiPT09dGhpcy5tZXRob2Q/dGhpcy5yYWRpdXM9dGhpcy5jaXJjbGUuUmFkaXVzKCk6XCJwb2ludFJhZGl1c1wiPT09dGhpcy5tZXRob2QmJih0aGlzLnJhZGl1cz10aGlzLnVwZGF0ZVJhZGl1cygpKSx0aGlzLnVwZGF0ZVN0ZGZvcm0oKSx0aGlzLnVwZGF0ZVF1YWRyYXRpY2Zvcm0oKSxzPXRoaXMuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMF0sdD10aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzFdL3MsZT10aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzJdL3Mscy89cyxvPXRoaXMuUmFkaXVzKCksYT0uNTUxOTE1MDI0NDk0LHRoaXMubnVtYmVyUG9pbnRzPTEzLHRoaXMuZGF0YVg9W3Qrbyx0K28sdCtvKmEsdCx0LW8qYSx0LW8sdC1vLHQtbyx0LW8qYSx0LHQrbyphLHQrbyx0K29dLHRoaXMuZGF0YVk9W2UsZStvKmEsZStvLGUrbyxlK28sZStvKmEsZSxlLW8qYSxlLW8sZS1vLGUtbyxlLW8qYSxlXSx0aGlzLmJlemllckRlZ3JlZT0zLGg9MDtoPHRoaXMubnVtYmVyUG9pbnRzO2grKyl0aGlzLnBvaW50c1toXT1uZXcgaShyLkNPT1JEU19CWV9VU0VSLFt0aGlzLmRhdGFYW2hdLHRoaXMuZGF0YVlbaF1dLHRoaXMuYm9hcmQpO3JldHVybiB0aGlzfSx1cGRhdGVRdWFkcmF0aWNmb3JtOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jZW50ZXIsZT10LlgoKSxpPXQuWSgpLHI9dGhpcy5SYWRpdXMoKTt0aGlzLnF1YWRyYXRpY2Zvcm09W1tlKmUraSppLXIqciwtZSwtaV0sWy1lLDEsMF0sWy1pLDAsMV1dfSx1cGRhdGVTdGRmb3JtOmZ1bmN0aW9uKCl7dGhpcy5zdGRmb3JtWzNdPS41LHRoaXMuc3RkZm9ybVs0XT10aGlzLlJhZGl1cygpLHRoaXMuc3RkZm9ybVsxXT0tdGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1sxXSx0aGlzLnN0ZGZvcm1bMl09LXRoaXMuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMl0saXNGaW5pdGUodGhpcy5zdGRmb3JtWzRdKXx8KHRoaXMuc3RkZm9ybVswXT1uLmV4aXN0cyh0aGlzLnBvaW50Mik/LSh0aGlzLnN0ZGZvcm1bMV0qdGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1sxXSt0aGlzLnN0ZGZvcm1bMl0qdGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1syXSk6MCksdGhpcy5ub3JtYWxpemUoKX0sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiYodGhpcy5pc1JlYWw9IWlzTmFOKHRoaXMuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMV0rdGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1syXSt0aGlzLlJhZGl1cygpKSYmdGhpcy5jZW50ZXIuaXNSZWFsLHRoaXMuaXNSZWFsfHx0aGlzLnVwZGF0ZVZpc2liaWxpdHkoITEpKSx0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlRWxsaXBzZSh0aGlzKSx0aGlzLmhhc0xhYmVsJiZ0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMubGFiZWwmJnRoaXMubGFiZWwudmlzUHJvcENhbGMudmlzaWJsZSYmdGhpcy5pc1JlYWwmJih0aGlzLmxhYmVsLnVwZGF0ZSgpLHRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlVGV4dCh0aGlzLmxhYmVsKSksdGhpcy5zZXREaXNwbGF5UmVuZE5vZGUoKSx0aGlzLm5lZWRzVXBkYXRlPSExLHRoaXMpOnRoaXN9LG5vdGlmeVBhcmVudHM6ZnVuY3Rpb24odCl7bi5pc1N0cmluZyh0KSYmby5maW5kRGVwZW5kZW5jaWVzKHRoaXMsdCx0aGlzLmJvYXJkKX0sc2V0UmFkaXVzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVwZGF0ZVJhZGl1cz1uLmNyZWF0ZUZ1bmN0aW9uKHQsdGhpcy5ib2FyZCxudWxsLCEwKSx0aGlzLmJvYXJkLnVwZGF0ZSgpLHRoaXN9LFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gbi5leGlzdHModCk/KHRoaXMuc2V0UmFkaXVzKHQpLHRoaXMuUmFkaXVzKCkpOlwidHdvUG9pbnRzXCI9PT10aGlzLm1ldGhvZD9uLmNtcEFycmF5cyh0aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLFswLDAsMF0pfHxuLmNtcEFycmF5cyh0aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzLFswLDAsMF0pP05hTjp0aGlzLmNlbnRlci5EaXN0KHRoaXMucG9pbnQyKTpcInBvaW50TGluZVwiPT09dGhpcy5tZXRob2R8fFwicG9pbnRDaXJjbGVcIj09PXRoaXMubWV0aG9kP3RoaXMucmFkaXVzOlwicG9pbnRSYWRpdXNcIj09PXRoaXMubWV0aG9kP3RoaXMudXBkYXRlUmFkaXVzKCk6TmFOfSxnZXRSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiQ2lyY2xlLmdldFJhZGl1cygpXCIsXCJDaXJjbGUuUmFkaXVzKClcIiksdGhpcy5SYWRpdXMoKX0sZ2V0VGV4dEFuY2hvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbnRlci5jb29yZHN9LGdldExhYmVsQW5jaG9yOmZ1bmN0aW9uKCl7dmFyIHQsZSxzPXRoaXMuUmFkaXVzKCksbz10aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzLGE9LjcwNzEwNjc4MTE4NjU0NzY7c3dpdGNoKG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLmxhYmVsLnBvc2l0aW9uKSl7Y2FzZVwibGZ0XCI6dD1vWzFdLXMsZT1vWzJdO2JyZWFrO2Nhc2VcImxsZnRcIjp0PW9bMV0tYSpzLGU9b1syXS1hKnM7YnJlYWs7Y2FzZVwicnRcIjp0PW9bMV0rcyxlPW9bMl07YnJlYWs7Y2FzZVwibHJ0XCI6dD1vWzFdK2EqcyxlPW9bMl0tYSpzO2JyZWFrO2Nhc2VcInVydFwiOnQ9b1sxXSthKnMsZT1vWzJdK2EqczticmVhaztjYXNlXCJ0b3BcIjp0PW9bMV0sZT1vWzJdK3M7YnJlYWs7Y2FzZVwiYm90XCI6dD1vWzFdLGU9b1syXS1zO2JyZWFrO2RlZmF1bHQ6dD1vWzFdLWEqcyxlPW9bMl0rYSpzfXJldHVybiBuZXcgaShyLkNPT1JEU19CWV9VU0VSLFt0LGVdLHRoaXMuYm9hcmQpfSxjbG9uZVRvQmFja2dyb3VuZDpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5SYWRpdXMoKSxpPXtpZDp0aGlzLmlkK1wiVFwiK3RoaXMubnVtVHJhY2VzLGVsZW1lbnRDbGFzczpyLk9CSkVDVF9DTEFTU19DSVJDTEUsY2VudGVyOntjb29yZHM6dGhpcy5jZW50ZXIuY29vcmRzfSxSYWRpdXM6ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZ2V0UmFkaXVzOmZ1bmN0aW9uKCl7cmV0dXJuIGV9LGJvYXJkOnRoaXMuYm9hcmQsdmlzUHJvcDpuLmRlZXBDb3B5KHRoaXMudmlzUHJvcCx0aGlzLnZpc1Byb3AudHJhY2VhdHRyaWJ1dGVzLCEwKX07cmV0dXJuIGkudmlzUHJvcC5sYXllcj10aGlzLmJvYXJkLm9wdGlvbnMubGF5ZXIudHJhY2UsdGhpcy5udW1UcmFjZXMrKyxuLmNsZWFyVmlzUHJvcE9sZChpKSxpLnZpc1Byb3BDYWxjPXt2aXNpYmxlOm4uZXZhbHVhdGUoaS52aXNQcm9wLnZpc2libGUpfSx0PXRoaXMuYm9hcmQucmVuZGVyZXIuZW5oYW5jZWRSZW5kZXJpbmcsdGhpcy5ib2FyZC5yZW5kZXJlci5lbmhhbmNlZFJlbmRlcmluZz0hMCx0aGlzLmJvYXJkLnJlbmRlcmVyLmRyYXdFbGxpcHNlKGkpLHRoaXMuYm9hcmQucmVuZGVyZXIuZW5oYW5jZWRSZW5kZXJpbmc9dCx0aGlzLnRyYWNlc1tpLmlkXT1pLnJlbmROb2RlLHRoaXN9LGFkZFRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZSxpPW4uaXNBcnJheSh0KT90Olt0XSxyPWkubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrKyl0aGlzLmNlbnRlci50cmFuc2Zvcm1hdGlvbnMucHVzaChpW2VdKSxcInR3b1BvaW50c1wiPT09dGhpcy5tZXRob2QmJnRoaXMucG9pbnQyLnRyYW5zZm9ybWF0aW9ucy5wdXNoKGlbZV0pO3JldHVybiB0aGlzfSxzbmFwVG9HcmlkOmZ1bmN0aW9uKCl7dmFyIHQ9bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc25hcHRvZ3JpZCk7cmV0dXJuIHRoaXMuY2VudGVyLmhhbmRsZVNuYXBUb0dyaWQodCwhMCksXCJ0d29Qb2ludHNcIj09PXRoaXMubWV0aG9kJiZ0aGlzLnBvaW50Mi5oYW5kbGVTbmFwVG9HcmlkKHQsITApLHRoaXN9LHNuYXBUb1BvaW50czpmdW5jdGlvbigpe3ZhciB0PW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXB0b3BvaW50cyk7cmV0dXJuIHRoaXMuY2VudGVyLmhhbmRsZVNuYXBUb1BvaW50cyh0KSxcInR3b1BvaW50c1wiPT09dGhpcy5tZXRob2QmJnRoaXMucG9pbnQyLmhhbmRsZVNuYXBUb1BvaW50cyh0KSx0aGlzfSxYOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlJhZGl1cygpKk1hdGguY29zKDIqdCpNYXRoLlBJKSt0aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzFdfSxZOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlJhZGl1cygpKk1hdGguc2luKDIqdCpNYXRoLlBJKSt0aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzJdfSxaOmZ1bmN0aW9uKHQpe3JldHVybiAxfSxtaW5YOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LG1heFg6ZnVuY3Rpb24oKXtyZXR1cm4gMX0sQXJlYTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuUmFkaXVzKCk7cmV0dXJuIHQqdCpNYXRoLlBJfSxib3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzLGU9dGhpcy5SYWRpdXMoKTtyZXR1cm5bdFsxXS1lLHRbMl0rZSx0WzFdK2UsdFsyXS1lXX0sZ2V0UGFyZW50czpmdW5jdGlvbigpe3JldHVybiAxPT09dGhpcy5wYXJlbnRzLmxlbmd0aD90aGlzLnBhcmVudHMuY29uY2F0KHRoaXMucmFkaXVzKTp0aGlzLnBhcmVudHN9fSksdC5jcmVhdGVDaXJjbGU9ZnVuY3Rpb24oZSxpLG8pe3ZhciBhLGgsbCxjLGQsdT1bXCJjZW50ZXJcIixcInBvaW50MlwiXTtpZihoPVtdLGQ9ZS5zZWxlY3QoaVswXSksbi5pc09iamVjdChkKSYmZC5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19DSVJDTEUmJm4uaXNUcmFuc2Zvcm1hdGlvbk9yQXJyYXkoaVsxXSkpcmV0dXJuIGM9bi5jb3B5QXR0cmlidXRlcyhvLGUub3B0aW9ucyxcImNpcmNsZVwiKSwoYT1zLmNyZWF0ZUVsbGlwc2UoZSxbZC5jZW50ZXIsZC5jZW50ZXIsZnVuY3Rpb24oKXtyZXR1cm4gMipkLlJhZGl1cygpfV0sYykpLmFkZFRyYW5zZm9ybShpWzFdKSxhO2ZvcihsPTA7bDxpLmxlbmd0aDtsKyspaWYobi5pc1BvaW50VHlwZShlLGlbbF0pKXtpZighMT09PShoPWguY29uY2F0KG4ucHJvdmlkZVBvaW50cyhlLFtpW2xdXSxvLFwiY2lyY2xlXCIsW3VbbF1dKSkpW2gubGVuZ3RoLTFdKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY2lyY2xlIGZyb20gdGhpcyB0eXBlLiBQbGVhc2UgcHJvdmlkZSBhIHBvaW50IHR5cGUuXCIpfWVsc2UgaC5wdXNoKGlbbF0pO2lmKGM9bi5jb3B5QXR0cmlidXRlcyhvLGUub3B0aW9ucyxcImNpcmNsZVwiKSwyPT09aC5sZW5ndGgmJm4uaXNQb2ludChoWzBdKSYmbi5pc1BvaW50KGhbMV0pKWE9bmV3IHQuQ2lyY2xlKGUsXCJ0d29Qb2ludHNcIixoWzBdLGhbMV0sYyk7ZWxzZSBpZigobi5pc051bWJlcihoWzBdKXx8bi5pc0Z1bmN0aW9uKGhbMF0pfHxuLmlzU3RyaW5nKGhbMF0pKSYmbi5pc1BvaW50KGhbMV0pKWE9bmV3IHQuQ2lyY2xlKGUsXCJwb2ludFJhZGl1c1wiLGhbMV0saFswXSxjKTtlbHNlIGlmKChuLmlzTnVtYmVyKGhbMV0pfHxuLmlzRnVuY3Rpb24oaFsxXSl8fG4uaXNTdHJpbmcoaFsxXSkpJiZuLmlzUG9pbnQoaFswXSkpYT1uZXcgdC5DaXJjbGUoZSxcInBvaW50UmFkaXVzXCIsaFswXSxoWzFdLGMpO2Vsc2UgaWYoaFswXS5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19DSVJDTEUmJm4uaXNQb2ludChoWzFdKSlhPW5ldyB0LkNpcmNsZShlLFwicG9pbnRDaXJjbGVcIixoWzFdLGhbMF0sYyk7ZWxzZSBpZihoWzFdLmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX0NJUkNMRSYmbi5pc1BvaW50KGhbMF0pKWE9bmV3IHQuQ2lyY2xlKGUsXCJwb2ludENpcmNsZVwiLGhbMF0saFsxXSxjKTtlbHNlIGlmKGhbMF0uZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfTElORSYmbi5pc1BvaW50KGhbMV0pKWE9bmV3IHQuQ2lyY2xlKGUsXCJwb2ludExpbmVcIixoWzFdLGhbMF0sYyk7ZWxzZSBpZihoWzFdLmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX0xJTkUmJm4uaXNQb2ludChoWzBdKSlhPW5ldyB0LkNpcmNsZShlLFwicG9pbnRMaW5lXCIsaFswXSxoWzFdLGMpO2Vsc2V7aWYoISgzPT09aS5sZW5ndGgmJm4uaXNQb2ludChoWzBdKSYmbi5pc1BvaW50KGhbMV0pJiZuLmlzUG9pbnQoaFsyXSkpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY2lyY2xlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnRdLCBbcG9pbnQsbnVtYmVyXSwgW3BvaW50LGZ1bmN0aW9uXSwgW3BvaW50LGNpcmNsZV0sIFtwb2ludCxwb2ludCxwb2ludF0sIFtjaXJjbGUsdHJhbnNmb3JtYXRpb25dXCIpO2lmKCF0LmVsZW1lbnRzLmNpcmN1bWNpcmNsZSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNpcmNsZSB3aXRoIHRocmVlIHBvaW50cy4gUGxlYXNlIGluY2x1ZGUgdGhlIGNpcmN1bWNpcmNsZSBlbGVtZW50IChlbGVtZW50L2NvbXBvc2l0aW9uKS5cIik7YT10LmVsZW1lbnRzLmNpcmN1bWNpcmNsZShlLGgsYyl9Zm9yKGEuaXNEcmFnZ2FibGU9ITAsYS5zZXRQYXJlbnRzKGgpLGEuZWxUeXBlPVwiY2lyY2xlXCIsbD0wO2w8aC5sZW5ndGg7bCsrKW4uaXNQb2ludChoW2xdKSYmYS5pbmhlcml0cy5wdXNoKGhbbF0pO3JldHVybiBhfSx0LnJlZ2lzdGVyRWxlbWVudChcImNpcmNsZVwiLHQuY3JlYXRlQ2lyY2xlKSx7Q2lyY2xlOnQuQ2lyY2xlLGNyZWF0ZUNpcmNsZTp0LmNyZWF0ZUNpcmNsZX19KSksZGVmaW5lKFwiYmFzZS9wb2x5Z29uXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwibWF0aC9nZW9tZXRyeVwiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS9lbGVtZW50XCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Qb2x5Z29uPWZ1bmN0aW9uKGkscixzKXt0aGlzLmNvbnN0cnVjdG9yKGkscyxlLk9CSkVDVF9UWVBFX1BPTFlHT04sZS5PQkpFQ1RfQ0xBU1NfQVJFQSk7dmFyIG4sYSxoLGwsYyxkPW8uY29weUF0dHJpYnV0ZXMocyxpLm9wdGlvbnMsXCJwb2x5Z29uXCIsXCJib3JkZXJzXCIpO2Zvcih0aGlzLndpdGhMaW5lcz1zLndpdGhsaW5lcyx0aGlzLmF0dHJfbGluZT1kLHRoaXMudmVydGljZXM9W10sbj0wO248ci5sZW5ndGg7bisrKXRoaXMudmVydGljZXNbbl09dGhpcy5ib2FyZC5zZWxlY3QocltuXSk7aWYodGhpcy52ZXJ0aWNlcy5sZW5ndGg+MCYmdGhpcy52ZXJ0aWNlc1t0aGlzLnZlcnRpY2VzLmxlbmd0aC0xXS5pZCE9PXRoaXMudmVydGljZXNbMF0uaWQmJnRoaXMudmVydGljZXMucHVzaCh0aGlzLnZlcnRpY2VzWzBdKSx0aGlzLmJvcmRlcnM9W10sdGhpcy53aXRoTGluZXMpZm9yKGg9dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSxsPTA7bDxoO2wrKyluPShsKzEpJWgsZC5pZD1kLmlkcyYmZC5pZHNbbl0sZC5uYW1lPWQubmFtZXMmJmQubmFtZXNbbl0sZC5zdHJva2Vjb2xvcj1vLmlzQXJyYXkoZC5jb2xvcnMpJiZkLmNvbG9yc1tuJWQuY29sb3JzLmxlbmd0aF18fGQuc3Ryb2tlY29sb3IsZC52aXNpYmxlPW8uZXhpc3RzKHMuYm9yZGVycy52aXNpYmxlKT9zLmJvcmRlcnMudmlzaWJsZTpzLnZpc2libGUsITE9PT1kLnN0cm9rZWNvbG9yJiYoZC5zdHJva2Vjb2xvcj1cIm5vbmVcIiksKGE9aS5jcmVhdGUoXCJzZWdtZW50XCIsW3RoaXMudmVydGljZXNbbl0sdGhpcy52ZXJ0aWNlc1tuKzFdXSxkKSkuZHVtcD0hMSx0aGlzLmJvcmRlcnNbbl09YSxhLnBhcmVudFBvbHlnb249dGhpcztmb3IodGhpcy5pbmhlcml0cy5wdXNoKHRoaXMudmVydGljZXMsdGhpcy5ib3JkZXJzKSx0aGlzLmlkPXRoaXMuYm9hcmQuc2V0SWQodGhpcyxcIlB5XCIpLG49MDtuPHRoaXMudmVydGljZXMubGVuZ3RoLTE7bisrKWM9dGhpcy5ib2FyZC5zZWxlY3QodGhpcy52ZXJ0aWNlc1tuXSksby5leGlzdHMoYy5faXNfbmV3KT8odGhpcy5hZGRDaGlsZChjKSxkZWxldGUgYy5faXNfbmV3KTpjLmFkZENoaWxkKHRoaXMpO3RoaXMuYm9hcmQucmVuZGVyZXIuZHJhd1BvbHlnb24odGhpcyksdGhpcy5ib2FyZC5maW5hbGl6ZUFkZGluZyh0aGlzKSx0aGlzLmNyZWF0ZUdyYWRpZW50KCksdGhpcy5lbFR5cGU9XCJwb2x5Z29uXCIsdGhpcy5jcmVhdGVMYWJlbCgpLHRoaXMubWV0aG9kTWFwPXQuZGVlcENvcHkodGhpcy5tZXRob2RNYXAse2JvcmRlcnM6XCJib3JkZXJzXCIsdmVydGljZXM6XCJ2ZXJ0aWNlc1wiLEE6XCJBcmVhXCIsQXJlYTpcIkFyZWFcIixQZXJpbWV0ZXI6XCJQZXJpbWV0ZXJcIixMOlwiUGVyaW1ldGVyXCIsTGVuZ3RoOlwiUGVyaW1ldGVyXCIsYm91bmRpbmdCb3g6XCJib3VuZGluZ0JveFwiLGJvdW5kczpcImJvdW5kc1wiLGFkZFBvaW50czpcImFkZFBvaW50c1wiLGluc2VydFBvaW50czpcImluc2VydFBvaW50c1wiLHJlbW92ZVBvaW50czpcInJlbW92ZVBvaW50c1wifSl9LHQuUG9seWdvbi5wcm90b3R5cGU9bmV3IG4sdC5leHRlbmQodC5Qb2x5Z29uLnByb3RvdHlwZSx7cG5wb2x5OmZ1bmN0aW9uKHQscixzKXt2YXIgbyxuLGEsaCxsLGMsZD10aGlzLnZlcnRpY2VzLHU9ITE7Zm9yKHM9PT1lLkNPT1JEU19CWV9VU0VSPyhoPShjPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW3Qscl0sdGhpcy5ib2FyZCkpLnNjckNvb3Jkc1sxXSxsPWMuc2NyQ29vcmRzWzJdKTooaD10LGw9ciksbz0wLG49KGE9dGhpcy52ZXJ0aWNlcy5sZW5ndGgpLTI7bzxhLTE7bj1vKyspZFtvXS5jb29yZHMuc2NyQ29vcmRzWzJdPmwhPWRbbl0uY29vcmRzLnNjckNvb3Jkc1syXT5sJiZoPChkW25dLmNvb3Jkcy5zY3JDb29yZHNbMV0tZFtvXS5jb29yZHMuc2NyQ29vcmRzWzFdKSoobC1kW29dLmNvb3Jkcy5zY3JDb29yZHNbMl0pLyhkW25dLmNvb3Jkcy5zY3JDb29yZHNbMl0tZFtvXS5jb29yZHMuc2NyQ29vcmRzWzJdKStkW29dLmNvb3Jkcy5zY3JDb29yZHNbMV0mJih1PSF1KTtyZXR1cm4gdX0saGFzUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxyO2lmKG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmhhc2lubmVycG9pbnRzKSYmdGhpcy5wbnBvbHkodCxlKSlyZXR1cm4hMDtmb3Iocj10aGlzLmJvcmRlcnMubGVuZ3RoLGk9MDtpPHI7aSsrKWlmKHRoaXMuYm9yZGVyc1tpXS5oYXNQb2ludCh0LGUpKXJldHVybiEwO3JldHVybiExfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3ZhciB0LGU7aWYoIXRoaXMubmVlZHNVcGRhdGUpcmV0dXJuIHRoaXM7aWYodGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlKXtmb3IoZT10aGlzLnZlcnRpY2VzLmxlbmd0aCx0aGlzLmlzUmVhbD0hMCx0PTA7dDxlOysrdClpZighdGhpcy52ZXJ0aWNlc1t0XS5pc1JlYWwpe3RoaXMuaXNSZWFsPSExO2JyZWFrfXRoaXMuaXNSZWFsfHx0aGlzLnVwZGF0ZVZpc2liaWxpdHkoITEpfXJldHVybiB0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlUG9seWdvbih0aGlzKSx0aGlzLmhhc0xhYmVsJiZ0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMubGFiZWwmJnRoaXMubGFiZWwudmlzUHJvcENhbGMudmlzaWJsZSYmdGhpcy5pc1JlYWwmJih0aGlzLmxhYmVsLnVwZGF0ZSgpLHRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlVGV4dCh0aGlzLmxhYmVsKSksdGhpcy5zZXREaXNwbGF5UmVuZE5vZGUoKSx0aGlzLm5lZWRzVXBkYXRlPSExLHRoaXN9LGdldFRleHRBbmNob3I6ZnVuY3Rpb24oKXt2YXIgdCxyLHMsbyxuO2lmKDA9PT10aGlzLnZlcnRpY2VzLmxlbmd0aClyZXR1cm4gbmV3IGkoZS5DT09SRFNfQllfVVNFUixbMSwwLDBdLHRoaXMuYm9hcmQpO2ZvcihzPXQ9dGhpcy52ZXJ0aWNlc1swXS5YKCksbz1yPXRoaXMudmVydGljZXNbMF0uWSgpLG49MDtuPHRoaXMudmVydGljZXMubGVuZ3RoO24rKyl0aGlzLnZlcnRpY2VzW25dLlgoKTx0JiYodD10aGlzLnZlcnRpY2VzW25dLlgoKSksdGhpcy52ZXJ0aWNlc1tuXS5YKCk+cyYmKHM9dGhpcy52ZXJ0aWNlc1tuXS5YKCkpLHRoaXMudmVydGljZXNbbl0uWSgpPnImJihyPXRoaXMudmVydGljZXNbbl0uWSgpKSx0aGlzLnZlcnRpY2VzW25dLlkoKTxvJiYobz10aGlzLnZlcnRpY2VzW25dLlkoKSk7cmV0dXJuIG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWy41Kih0K3MpLC41KihyK28pXSx0aGlzLmJvYXJkKX0sZ2V0TGFiZWxBbmNob3I6dC5zaG9ydGN1dCh0LlBvbHlnb24ucHJvdG90eXBlLFwiZ2V0VGV4dEFuY2hvclwiKSxjbG9uZVRvQmFja2dyb3VuZDpmdW5jdGlvbigpe3ZhciB0LGU9e307cmV0dXJuIGUuaWQ9dGhpcy5pZCtcIlRcIit0aGlzLm51bVRyYWNlcyx0aGlzLm51bVRyYWNlcysrLGUudmVydGljZXM9dGhpcy52ZXJ0aWNlcyxlLnZpc1Byb3A9by5kZWVwQ29weSh0aGlzLnZpc1Byb3AsdGhpcy52aXNQcm9wLnRyYWNlYXR0cmlidXRlcywhMCksZS52aXNQcm9wLmxheWVyPXRoaXMuYm9hcmQub3B0aW9ucy5sYXllci50cmFjZSxlLmJvYXJkPXRoaXMuYm9hcmQsby5jbGVhclZpc1Byb3BPbGQoZSksZS52aXNQcm9wQ2FsYz17dmlzaWJsZTpvLmV2YWx1YXRlKGUudmlzUHJvcC52aXNpYmxlKX0sdD10aGlzLmJvYXJkLnJlbmRlcmVyLmVuaGFuY2VkUmVuZGVyaW5nLHRoaXMuYm9hcmQucmVuZGVyZXIuZW5oYW5jZWRSZW5kZXJpbmc9ITAsdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3UG9seWdvbihlKSx0aGlzLmJvYXJkLnJlbmRlcmVyLmVuaGFuY2VkUmVuZGVyaW5nPXQsdGhpcy50cmFjZXNbZS5pZF09ZS5yZW5kTm9kZSx0aGlzfSxoaWRlRWxlbWVudDpmdW5jdGlvbihlKXt2YXIgaTtpZih0LmRlcHJlY2F0ZWQoXCJFbGVtZW50LmhpZGVFbGVtZW50KClcIixcIkVsZW1lbnQuc2V0RGlzcGxheVJlbmROb2RlKClcIiksdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlPSExLHRoaXMuYm9hcmQucmVuZGVyZXIuZGlzcGxheSh0aGlzLCExKSwhZSlmb3IoaT0wO2k8dGhpcy5ib3JkZXJzLmxlbmd0aDtpKyspdGhpcy5ib3JkZXJzW2ldLmhpZGVFbGVtZW50KCk7dGhpcy5oYXNMYWJlbCYmby5leGlzdHModGhpcy5sYWJlbCkmJih0aGlzLmxhYmVsLmhpZGRlbkJ5UGFyZW50PSEwLHRoaXMubGFiZWwudmlzUHJvcENhbGMudmlzaWJsZSYmdGhpcy5sYWJlbC5oaWRlRWxlbWVudCgpKX0sc2hvd0VsZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIGk7aWYodC5kZXByZWNhdGVkKFwiRWxlbWVudC5zaG93RWxlbWVudCgpXCIsXCJFbGVtZW50LnNldERpc3BsYXlSZW5kTm9kZSgpXCIpLHRoaXMudmlzUHJvcENhbGMudmlzaWJsZT0hMCx0aGlzLmJvYXJkLnJlbmRlcmVyLmRpc3BsYXkodGhpcywhMCksIWUpZm9yKGk9MDtpPHRoaXMuYm9yZGVycy5sZW5ndGg7aSsrKXRoaXMuYm9yZGVyc1tpXS5zaG93RWxlbWVudCgpLnVwZGF0ZVJlbmRlcmVyKCk7cmV0dXJuIG8uZXhpc3RzKHRoaXMubGFiZWwpJiZ0aGlzLmhhc0xhYmVsJiZ0aGlzLmxhYmVsLmhpZGRlbkJ5UGFyZW50JiYodGhpcy5sYWJlbC5oaWRkZW5CeVBhcmVudD0hMSx0aGlzLmxhYmVsLnZpc1Byb3BDYWxjLnZpc2libGV8fHRoaXMubGFiZWwuc2hvd0VsZW1lbnQoKS51cGRhdGVSZW5kZXJlcigpKSx0aGlzfSxBcmVhOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHMuc2lnbmVkUG9seWdvbih0aGlzLnZlcnRpY2VzLCEwKSl9LFBlcmltZXRlcjpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy52ZXJ0aWNlcy5sZW5ndGgsaT0wO2Zvcih0PTE7dDxlOysrdClpKz10aGlzLnZlcnRpY2VzW3RdLkRpc3QodGhpcy52ZXJ0aWNlc1t0LTFdKTtyZXR1cm4gaX0sYm91bmRpbmdCb3g6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9WzAsMCwwLDBdLHI9dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMTtpZigwPT09cilyZXR1cm4gaTtmb3IoaVswXT10aGlzLnZlcnRpY2VzWzBdLlgoKSxpWzJdPWlbMF0saVsxXT10aGlzLnZlcnRpY2VzWzBdLlkoKSxpWzNdPWlbMV0sdD0xO3Q8cjsrK3QpKGU9dGhpcy52ZXJ0aWNlc1t0XS5YKCkpPGlbMF0/aVswXT1lOmU+aVsyXSYmKGlbMl09ZSksKGU9dGhpcy52ZXJ0aWNlc1t0XS5ZKCkpPmlbMV0/aVsxXT1lOmU8aVszXSYmKGlbM109ZSk7cmV0dXJuIGl9LGJvdW5kczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94KCl9LHJlbW92ZTpmdW5jdGlvbigpe3ZhciB0O2Zvcih0PTA7dDx0aGlzLmJvcmRlcnMubGVuZ3RoO3QrKyl0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0aGlzLmJvcmRlcnNbdF0pO24ucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpfSxmaW5kUG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU7aWYoIW8uaXNQb2ludCh0KSlyZXR1cm4tMTtmb3IoZT0wO2U8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7ZSsrKWlmKHRoaXMudmVydGljZXNbZV0uaWQ9PT10LmlkKXJldHVybiBlO3JldHVybi0xfSxhZGRQb2ludHM6ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5pbnNlcnRQb2ludHMuYXBwbHkodGhpcyxbdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMl0uY29uY2F0KGUpKX0saW5zZXJ0UG9pbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscjtpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcztpZih0PC0xfHx0PnRoaXMudmVydGljZXMubGVuZ3RoLTIpcmV0dXJuIHRoaXM7Zm9yKHI9YXJndW1lbnRzLmxlbmd0aC0xLGk9MTtpPHIrMTtpKyspdGhpcy52ZXJ0aWNlcy5zcGxpY2UodCtpLDAsby5wcm92aWRlUG9pbnRzKHRoaXMuYm9hcmQsW2FyZ3VtZW50c1tpXV0se30sXCJwb2x5Z29uXCIsW1widmVydGljZXNcIl0pWzBdKTtpZigtMT09PXQmJih0aGlzLnZlcnRpY2VzW3RoaXMudmVydGljZXMubGVuZ3RoLTFdPXRoaXMudmVydGljZXNbMF0pLHRoaXMud2l0aExpbmVzKWZvcih0PDA/dGhpcy5ib3JkZXJzW3RoaXMuYm9yZGVycy5sZW5ndGgtMV0ucG9pbnQyPXRoaXMudmVydGljZXNbdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMV06dGhpcy5ib3JkZXJzW3RdLnBvaW50Mj10aGlzLnZlcnRpY2VzW3QrMV0saT10KzE7aTx0KzErcjtpKyspdGhpcy5ib3JkZXJzLnNwbGljZShpLDAsdGhpcy5ib2FyZC5jcmVhdGUoXCJzZWdtZW50XCIsW3RoaXMudmVydGljZXNbaV0sdGhpcy52ZXJ0aWNlc1tpKzFdXSx0aGlzLmF0dHJfbGluZSkpO3JldHVybiB0aGlzLmJvYXJkLnVwZGF0ZSgpLHRoaXN9LHJlbW92ZVBvaW50czpmdW5jdGlvbih0KXt2YXIgZSxpLHIscz1bXSxuPVtdLGE9W10saD1bXTtmb3IodGhpcy52ZXJ0aWNlcz10aGlzLnZlcnRpY2VzLnNsaWNlKDAsdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSksZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspcj1hcmd1bWVudHNbZV0sby5pc1BvaW50KHIpJiYocj10aGlzLmZpbmRQb2ludChyKSksby5pc051bWJlcihyKSYmcj4tMSYmcjx0aGlzLnZlcnRpY2VzLmxlbmd0aCYmLTE9PT1vLmluZGV4T2YoYSxyKSYmYS5wdXNoKHIpO2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspdGhpcy52ZXJ0aWNlc1thW2VdXS5yZW1vdmVDaGlsZCh0aGlzKTtmb3IoYT1hLnNvcnQoKSxzPXRoaXMudmVydGljZXMuc2xpY2UoKSxuPXRoaXMuYm9yZGVycy5zbGljZSgpLHRoaXMud2l0aExpbmVzJiZoLnB1c2goW2FbYS5sZW5ndGgtMV1dKSxlPWEubGVuZ3RoLTE7ZT4tMTtlLS0pc1thW2VdXT0tMSx0aGlzLndpdGhMaW5lcyYmYVtlXS0xPmFbZS0xXSYmKGhbaC5sZW5ndGgtMV1bMV09YVtlXSxoLnB1c2goW2FbZS0xXV0pKTtmb3IodGhpcy53aXRoTGluZXMmJihoW2gubGVuZ3RoLTFdWzFdPWFbMF0pLHRoaXMudmVydGljZXM9W10sZT0wO2U8cy5sZW5ndGg7ZSsrKW8uaXNQb2ludChzW2VdKSYmdGhpcy52ZXJ0aWNlcy5wdXNoKHNbZV0pO2lmKHRoaXMudmVydGljZXNbdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMV0uaWQhPT10aGlzLnZlcnRpY2VzWzBdLmlkJiZ0aGlzLnZlcnRpY2VzLnB1c2godGhpcy52ZXJ0aWNlc1swXSksdGhpcy53aXRoTGluZXMpe2ZvcihlPTA7ZTxoLmxlbmd0aDtlKyspe2ZvcihpPWhbZV1bMV0tMTtpPGhbZV1bMF0rMTtpKyspaTwwPyhpPTAsdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy5ib3JkZXJzW24ubGVuZ3RoLTFdKSxuW24ubGVuZ3RoLTFdPS0xKTppPm4ubGVuZ3RoLTEmJihpPW4ubGVuZ3RoLTEpLHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMuYm9yZGVyc1tpXSksbltpXT0tMTswIT09aFtlXVsxXSYmaFtlXVswXSE9PXMubGVuZ3RoLTEmJihuW2hbZV1bMF0tMV09dGhpcy5ib2FyZC5jcmVhdGUoXCJzZWdtZW50XCIsW3NbTWF0aC5tYXgoaFtlXVsxXS0xLDApXSxzW01hdGgubWluKGhbZV1bMF0rMSx0aGlzLnZlcnRpY2VzLmxlbmd0aC0xKV1dLHRoaXMuYXR0cl9saW5lKSl9Zm9yKHRoaXMuYm9yZGVycz1bXSxlPTA7ZTxuLmxlbmd0aDtlKyspLTEhPT1uW2VdJiZ0aGlzLmJvcmRlcnMucHVzaChuW2VdKTtoWzBdWzFdIT09dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSYmMCE9PWhbaC5sZW5ndGgtMV1bMV18fHRoaXMuYm9yZGVycy5wdXNoKHRoaXMuYm9hcmQuY3JlYXRlKFwic2VnbWVudFwiLFt0aGlzLnZlcnRpY2VzWzBdLHRoaXMudmVydGljZXNbdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMl1dLHRoaXMuYXR0cl9saW5lKSl9cmV0dXJuIHRoaXMuYm9hcmQudXBkYXRlKCksdGhpc30sZ2V0UGFyZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFBhcmVudHModGhpcy52ZXJ0aWNlcyksdGhpcy5wYXJlbnRzfSxnZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dmFyIHQsZT1uLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzLmNhbGwodGhpcyk7aWYodGhpcy53aXRoTGluZXMpZm9yKGUubGluZXM9ZS5saW5lc3x8e30sZS5saW5lcy5pZHM9W10sZS5saW5lcy5jb2xvcnM9W10sdD0wO3Q8dGhpcy5ib3JkZXJzLmxlbmd0aDt0KyspZS5saW5lcy5pZHMucHVzaCh0aGlzLmJvcmRlcnNbdF0uaWQpLGUubGluZXMuY29sb3JzLnB1c2godGhpcy5ib3JkZXJzW3RdLnZpc1Byb3Auc3Ryb2tlY29sb3IpO3JldHVybiBlfSxzbmFwVG9HcmlkOmZ1bmN0aW9uKCl7dmFyIHQsZTtmb3IoZT0hIW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXB0b2dyaWQpLHQ9MDt0PHRoaXMudmVydGljZXMubGVuZ3RoO3QrKyl0aGlzLnZlcnRpY2VzW3RdLmhhbmRsZVNuYXBUb0dyaWQoZSwhMCl9LHNldFBvc2l0aW9uRGlyZWN0bHk6ZnVuY3Rpb24odCxlLHMpe3ZhciBvLG4sYSxoPW5ldyBpKHQsZSx0aGlzLmJvYXJkKSxsPW5ldyBpKHQscyx0aGlzLmJvYXJkKTtmb3IoYT10aGlzLnZlcnRpY2VzLmxlbmd0aC0xLG49MDtuPGE7bisrKWlmKCF0aGlzLnZlcnRpY2VzW25dLmRyYWdnYWJsZSgpKXJldHVybiB0aGlzO3JldHVybiBvPXIuc3VidHJhY3QoaC51c3JDb29yZHMsbC51c3JDb29yZHMpLHRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsby5zbGljZSgxKSx7dHlwZTpcInRyYW5zbGF0ZVwifSkuYXBwbHlPbmNlKHRoaXMudmVydGljZXMuc2xpY2UoMCwtMSkpLHRoaXN9LHN1dGhlcmxhbmRIb2RnbWFuOmZ1bmN0aW9uKGUpe3ZhciBpLHIscyxvLG4sYSxoLGw9dC5NYXRoLkdlb21ldHJ5LnNvcnRWZXJ0aWNlcyh0aGlzLnZlcnRpY2VzKSxjPXQuTWF0aC5HZW9tZXRyeS5zb3J0VmVydGljZXMoZS52ZXJ0aWNlcyksZD1sLmxlbmd0aC0xLHU9Yy5sZW5ndGgtMSxwPVtdLGY9ZnVuY3Rpb24odCxlLGkpe3JldHVybihlWzFdLXRbMV0pKihpWzJdLXRbMl0pLShlWzJdLXRbMl0pKihpWzFdLXRbMV0pPj0wfTtmb3Iocz0wO3M8dTtzKyspcC5wdXNoKGNbc10pO2ZvcihzPTA7czxkO3MrKylmb3Iocj1wLnNsaWNlKDApLHA9W10sbj1yWyhpPXIubGVuZ3RoKS0xXSxvPTA7bzxpO28rKylhPXJbb10sZihsW3NdLGxbcysxXSxhKT8oZihsW3NdLGxbcysxXSxuKXx8KChoPXQuTWF0aC5HZW9tZXRyeS5tZWV0U2VnbWVudFNlZ21lbnQobixhLGxbc10sbFtzKzFdKSlbMF1bMV0vPWhbMF1bMF0saFswXVsyXS89aFswXVswXSxoWzBdWzBdPTEscC5wdXNoKGhbMF0pKSxwLnB1c2goYSkpOmYobFtzXSxsW3MrMV0sbikmJigoaD10Lk1hdGguR2VvbWV0cnkubWVldFNlZ21lbnRTZWdtZW50KG4sYSxsW3NdLGxbcysxXSkpWzBdWzFdLz1oWzBdWzBdLGhbMF1bMl0vPWhbMF1bMF0saFswXVswXT0xLHAucHVzaChoWzBdKSksbj1hO3JldHVybiBwfSxpbnRlcnNlY3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc3V0aGVybGFuZEhvZGdtYW4odCl9fSksdC5jcmVhdGVQb2x5Z29uPWZ1bmN0aW9uKGkscixzKXt2YXIgbixhLGgsbCxjLGQsdT1bXSxwPSExO2lmKG8uY29weUF0dHJpYnV0ZXMocyxpLm9wdGlvbnMsXCJwb2x5Z29uXCIpLG51bGw9PT0obD1pLnNlbGVjdChyWzBdKSkmJihsPXJbMF0pLG8uaXNPYmplY3QobCkmJmwudHlwZT09PWUuT0JKRUNUX1RZUEVfUE9MWUdPTiYmby5pc1RyYW5zZm9ybWF0aW9uT3JBcnJheShyWzFdKSlmb3IocD0hMCxoPWwudmVydGljZXMubGVuZ3RoLTEsZD1vLmNvcHlBdHRyaWJ1dGVzKHMsaS5vcHRpb25zLFwicG9seWdvblwiLFwidmVydGljZXNcIiksYT0wO2E8aDthKyspZC53aXRobGFiZWwmJihkLm5hbWU9XCJcIj09PWwudmVydGljZXNbYV0ubmFtZT9cIlwiOmwudmVydGljZXNbYV0ubmFtZStcIidcIiksdS5wdXNoKGkuY3JlYXRlKFwicG9pbnRcIixbbC52ZXJ0aWNlc1thXSxyWzFdXSxkKSk7ZWxzZSBpZighMT09PSh1PW8ucHJvdmlkZVBvaW50cyhpLHIscyxcInBvbHlnb25cIixbXCJ2ZXJ0aWNlc1wiXSkpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgcG9seWdvbiAvIHBvbHlnb25hbGNoYWluIHdpdGggcGFyZW50IHR5cGVzIG90aGVyIHRoYW4gJ3BvaW50JyBhbmQgJ2Nvb3JkaW5hdGUgYXJyYXlzJyBvciBhIGZ1bmN0aW9uIHJldHVybmluZyBhbiBhcnJheSBvZiBjb29yZGluYXRlcy4gQWx0ZXJuYXRpdmVseSwgYSBwb2x5Z29uIGFuZCBhIHRyYW5zZm9ybWF0aW9uIGNhbiBiZSBzdXBwbGllZFwiKTtpZihjPW8uY29weUF0dHJpYnV0ZXMocyxpLm9wdGlvbnMsXCJwb2x5Z29uXCIpLChuPW5ldyB0LlBvbHlnb24oaSx1LGMpKS5pc0RyYWdnYWJsZT0hMCxwKWZvcihuLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSxoPWwudmVydGljZXMubGVuZ3RoLTEsYT0wO2E8aDthKyspdVthXS5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eSgpLnVwZGF0ZVJlbmRlcmVyKCk7cmV0dXJuIG59LHQuY3JlYXRlUmVndWxhclBvbHlnb249ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG4sYSxoLGwsYyxkLHU9W107aWYoYT1pWyhsPWkubGVuZ3RoKS0xXSxvLmlzTnVtYmVyKGEpJiYoMyE9PWkubGVuZ3RofHxhPDMpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBBIHJlZ3VsYXIgcG9seWdvbiBuZWVkcyB0d28gcG9pbnQgdHlwZXMgYW5kIGEgbnVtYmVyID4gMiBhcyBpbnB1dC5cIik7aWYoby5pc051bWJlcih0LnNlbGVjdChhKSk/KGwtLSxjPSExKTooYT1sLGM9ITApLCExPT09KHU9by5wcm92aWRlUG9pbnRzKHQsaS5zbGljZSgwLGwpLHIsXCJyZWd1bGFycG9seWdvblwiLFtcInZlcnRpY2VzXCJdKSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSByZWd1bGFyIHBvbHlnb24gd2l0aCBwYXJlbnQgdHlwZXMgb3RoZXIgdGhhbiAncG9pbnQnIGFuZCAnY29vcmRpbmF0ZSBhcnJheXMnIG9yIGEgZnVuY3Rpb24gcmV0dXJuaW5nIGFuIGFycmF5IG9mIGNvb3JkaW5hdGVzXCIpO2ZvcihkPW8uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJyZWd1bGFycG9seWdvblwiLFwidmVydGljZXNcIiksbj0yO248YTtuKyspaD10LmNyZWF0ZShcInRyYW5zZm9ybVwiLFtNYXRoLlBJKigyLShhLTIpL2EpLHVbbi0xXV0se3R5cGU6XCJyb3RhdGVcIn0pLGM/KHVbbl0uYWRkVHJhbnNmb3JtKHVbbi0yXSxoKSx1W25dLmZ1bGxVcGRhdGUoKSk6KG8uaXNBcnJheShkLmlkcykmJmQuaWRzLmxlbmd0aD49YS0yJiYoZC5pZD1kLmlkc1tuLTJdKSx1W25dPXQuY3JlYXRlKFwicG9pbnRcIixbdVtuLTJdLGhdLGQpLHVbbl0udHlwZT1lLk9CSkVDVF9UWVBFX0NBUyx1W25dLmlzRHJhZ2dhYmxlPSEwLHVbbl0udmlzUHJvcC5maXhlZD0hMSk7cmV0dXJuIGQ9by5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcInJlZ3VsYXJwb2x5Z29uXCIpLChzPXQuY3JlYXRlKFwicG9seWdvblwiLHUsZCkpLmVsVHlwZT1cInJlZ3VsYXJwb2x5Z29uXCIsc30sdC5jcmVhdGVQb2x5Z29uYWxDaGFpbj1mdW5jdGlvbih0LGUsaSl7dmFyIHIscztyZXR1cm4gcj1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwicG9seWdvbmFsY2hhaW5cIiksKHM9dC5jcmVhdGUoXCJwb2x5Z29uXCIsZSxyKSkuZWxUeXBlPVwicG9seWdvbmFsY2hhaW5cIixzLnZlcnRpY2VzLnBvcCgpLHQucmVtb3ZlT2JqZWN0KHMuYm9yZGVyc1tzLmJvcmRlcnMubGVuZ3RoLTFdKSxzLmJvcmRlcnMucG9wKCksc30sdC5yZWdpc3RlckVsZW1lbnQoXCJwb2x5Z29uXCIsdC5jcmVhdGVQb2x5Z29uKSx0LnJlZ2lzdGVyRWxlbWVudChcInJlZ3VsYXJwb2x5Z29uXCIsdC5jcmVhdGVSZWd1bGFyUG9seWdvbiksdC5yZWdpc3RlckVsZW1lbnQoXCJwb2x5Z29uYWxjaGFpblwiLHQuY3JlYXRlUG9seWdvbmFsQ2hhaW4pLHtQb2x5Z29uOnQuUG9seWdvbixjcmVhdGVQb2x5Z29uOnQuY3JlYXRlUG9seWdvbixjcmVhdGVSZWd1bGFyUG9seWdvbjp0LmNyZWF0ZVJlZ3VsYXJQb2x5Z29ufX0pKSxkZWZpbmUoXCJiYXNlL2N1cnZlXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcImJhc2UvZWxlbWVudFwiLFwibWF0aC9tYXRoXCIsXCJtYXRoL251bWVyaWNzXCIsXCJtYXRoL3Bsb3RcIixcIm1hdGgvZ2VvbWV0cnlcIixcInBhcnNlci9nZW9uZXh0XCIsXCJ1dGlscy90eXBlXCIsXCJtYXRoL3FkdFwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhLGgsbCxjKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5DdXJ2ZT1mdW5jdGlvbih0LGkscil7dGhpcy5jb25zdHJ1Y3Rvcih0LHIsZS5PQkpFQ1RfVFlQRV9DVVJWRSxlLk9CSkVDVF9DTEFTU19DVVJWRSksdGhpcy5wb2ludHM9W10sdGhpcy5udW1iZXJQb2ludHM9bC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubnVtYmVycG9pbnRzaGlnaCksdGhpcy5iZXppZXJEZWdyZWU9MSx0aGlzLmRhdGFYPW51bGwsdGhpcy5kYXRhWT1udWxsLHRoaXMudGlja3M9W10sdGhpcy5xZHQ9bnVsbCxsLmV4aXN0cyhpWzBdKT90aGlzLnZhcm5hbWU9aVswXTp0aGlzLnZhcm5hbWU9XCJ4XCIsdGhpcy54dGVybT1pWzFdLHRoaXMueXRlcm09aVsyXSx0aGlzLmdlbmVyYXRlVGVybSh0aGlzLnZhcm5hbWUsdGhpcy54dGVybSx0aGlzLnl0ZXJtLGlbM10saVs0XSksdGhpcy51cGRhdGVDdXJ2ZSgpLHRoaXMuaWQ9dGhpcy5ib2FyZC5zZXRJZCh0aGlzLFwiR1wiKSx0aGlzLmJvYXJkLnJlbmRlcmVyLmRyYXdDdXJ2ZSh0aGlzKSx0aGlzLmJvYXJkLmZpbmFsaXplQWRkaW5nKHRoaXMpLHRoaXMuY3JlYXRlR3JhZGllbnQoKSx0aGlzLmVsVHlwZT1cImN1cnZlXCIsdGhpcy5jcmVhdGVMYWJlbCgpLGwuaXNTdHJpbmcodGhpcy54dGVybSkmJnRoaXMubm90aWZ5UGFyZW50cyh0aGlzLnh0ZXJtKSxsLmlzU3RyaW5nKHRoaXMueXRlcm0pJiZ0aGlzLm5vdGlmeVBhcmVudHModGhpcy55dGVybSksdGhpcy5tZXRob2RNYXA9bC5kZWVwQ29weSh0aGlzLm1ldGhvZE1hcCx7Z2VuZXJhdGVUZXJtOlwiZ2VuZXJhdGVUZXJtXCIsc2V0VGVybTpcImdlbmVyYXRlVGVybVwiLG1vdmU6XCJtb3ZlVG9cIixtb3ZlVG86XCJtb3ZlVG9cIn0pfSx0LkN1cnZlLnByb3RvdHlwZT1uZXcgcix0LmV4dGVuZCh0LkN1cnZlLnByb3RvdHlwZSx7bWluWDpmdW5jdGlvbigpe3JldHVyblwicG9sYXJcIj09PWwuZXZhbHVhdGUodGhpcy52aXNQcm9wLmN1cnZldHlwZSk/MDpuZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sWy4xKi10aGlzLmJvYXJkLmNhbnZhc1dpZHRoLDBdLHRoaXMuYm9hcmQsITEpLnVzckNvb3Jkc1sxXX0sbWF4WDpmdW5jdGlvbigpe3JldHVyblwicG9sYXJcIj09PWwuZXZhbHVhdGUodGhpcy52aXNQcm9wLmN1cnZldHlwZSk/MipNYXRoLlBJOm5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbMS4xKnRoaXMuYm9hcmQuY2FudmFzV2lkdGgsMF0sdGhpcy5ib2FyZCwhMSkudXNyQ29vcmRzWzFdfSxYOmZ1bmN0aW9uKHQpe3JldHVybiBOYU59LFk6ZnVuY3Rpb24odCl7cmV0dXJuIE5hTn0sWjpmdW5jdGlvbih0KXtyZXR1cm4gMX0saGFzUG9pbnQ6ZnVuY3Rpb24odCxyLG8pe3ZhciBuLGgsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHg9W10sUz1sLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5udW1iZXJwb2ludHNsb3cpLE89KHRoaXMubWF4WCgpLXRoaXMubWluWCgpKS9TLHc9MS8wO2lmKGwuaXNPYmplY3QobC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KHk9dGhpcy5ib2FyZC5faW5wdXREZXZpY2Usdj1sLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25beV0pKTp2PXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsdD0oaD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW3Qscl0sdGhpcy5ib2FyZCwhMSkpLnVzckNvb3Jkc1sxXSxyPWgudXNyQ29vcmRzWzJdLHYrPS41KmwuZXZhbHVhdGUodGhpcy52aXNQcm9wLnN0cm9rZXdpZHRoKSx2Kj12LEM9dGhpcy5ib2FyZC51bml0WCp0aGlzLmJvYXJkLnVuaXRYLF89dGhpcy5ib2FyZC51bml0WSp0aGlzLmJvYXJkLnVuaXRZLEU9dGhpcy5taW5YKCksdGhpcy5tYXhYKCksbC5leGlzdHModGhpcy5fdmlzaWJsZUFyZWEpJiYoRT10aGlzLl92aXNpYmxlQXJlYVswXSxPPSh0aGlzLl92aXNpYmxlQXJlYVsxXS1FKS9TKSxcInBhcmFtZXRlclwiPT09KFA9bC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuY3VydmV0eXBlKSl8fFwicG9sYXJcIj09PVApZm9yKHRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aD4wJiYodGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxkPXMuaW52ZXJzZSh0aGlzLnRyYW5zZm9ybU1hdCksdD0odT1zLm1hdFZlY011bHQoZCxbMSx0LHJdKSlbMV0scj11WzJdKSxwPTAsbj1FO3A8UztwKyspe2lmKCh3PSh0LShmPXRoaXMuWChuLHRydWUpKSkqKHQtZikqQysoci0obT10aGlzLlkobix0cnVlKSkpKihyLW0pKl8pPD12KXJldHVybiEwO24rPU99ZWxzZSBpZihcInBsb3RcIj09PVB8fFwiZnVuY3Rpb25ncmFwaFwiPT09UCl7Zm9yKCghbC5leGlzdHMobyl8fG88MCkmJihvPTApLGwuZXhpc3RzKHRoaXMucWR0KSYmbC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudXNlcWR0KSYmMyE9PXRoaXMuYmV6aWVyRGVncmVlP2M9KGc9KGI9dGhpcy5xZHQucXVlcnkobmV3IGkoZS5DT09SRFNfQllfVVNFUixbdCxyXSx0aGlzLmJvYXJkKSkpLnBvaW50cykubGVuZ3RoOihnPXRoaXMucG9pbnRzLGM9dGhpcy5udW1iZXJQb2ludHMtMSkscD1vO3A8YztwKyspaWYoMz09PXRoaXMuYmV6aWVyRGVncmVlP3gucHVzaChhLnByb2plY3RDb29yZHNUb0JlemllcnNlZ21lbnQoWzEsdCxyXSx0aGlzLHApKTpiPyhnW3BdLnByZXYmJih4PWEucHJvamVjdENvb3Jkc1RvU2VnbWVudChbMSx0LHJdLGdbcF0ucHJldi51c3JDb29yZHMsZ1twXS51c3JDb29yZHMpKSxnW3BdLm5leHQmJmdbcCsxXSE9PWdbcF0ubmV4dCYmKHg9YS5wcm9qZWN0Q29vcmRzVG9TZWdtZW50KFsxLHQscl0sZ1twXS51c3JDb29yZHMsZ1twXS5uZXh0LnVzckNvb3JkcykpKTp4PWEucHJvamVjdENvb3Jkc1RvU2VnbWVudChbMSx0LHJdLGdbcF0udXNyQ29vcmRzLGdbcCsxXS51c3JDb29yZHMpLHhbMV0+PTAmJnhbMV08PTEmJih0LXhbMF1bMV0pKih0LXhbMF1bMV0pKkMrKHIteFswXVsyXSkqKHIteFswXVsyXSkqXzw9dilyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4gdzx2fSxhbGxvY2F0ZVBvaW50czpmdW5jdGlvbigpe3ZhciB0LHI7aWYocj10aGlzLm51bWJlclBvaW50cyx0aGlzLnBvaW50cy5sZW5ndGg8dGhpcy5udW1iZXJQb2ludHMpZm9yKHQ9dGhpcy5wb2ludHMubGVuZ3RoO3Q8cjt0KyspdGhpcy5wb2ludHNbdF09bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSx0aGlzLmJvYXJkLCExKX0sdXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGUmJihsLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50cmFjZSkmJnRoaXMuY2xvbmVUb0JhY2tncm91bmQoITApLHRoaXMudXBkYXRlQ3VydmUoKSksdGhpc30sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiYodGhpcy5pc1JlYWw9bi5jaGVja1JlYWwodGhpcy5wb2ludHMpLHRoaXMuaXNSZWFsfHx0aGlzLnVwZGF0ZVZpc2liaWxpdHkoITEpKSx0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlQ3VydmUodGhpcyksdGhpcy5oYXNMYWJlbCYmdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuaXNSZWFsJiYodGhpcy5sYWJlbC51cGRhdGUoKSx0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZVRleHQodGhpcy5sYWJlbCkpLHRoaXMuc2V0RGlzcGxheVJlbmROb2RlKCksdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzKTp0aGlzfSx1cGRhdGVEYXRhQXJyYXk6ZnVuY3Rpb24oKXt9LHVwZGF0ZUN1cnZlOmZ1bmN0aW9uKCl7dmFyIHQsaSxyLHMsYSxoLGQ9dGhpcy52aXNQcm9wLnBsb3R2ZXJzaW9uLHU9ITE7aWYodGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLnVwZGF0ZURhdGFBcnJheSgpLGk9dGhpcy5taW5YKCkscj10aGlzLm1heFgoKSxsLmV4aXN0cyh0aGlzLmRhdGFYKSlmb3IodGhpcy5udW1iZXJQb2ludHM9dGhpcy5kYXRhWC5sZW5ndGgsdD10aGlzLm51bWJlclBvaW50cyx0aGlzLmFsbG9jYXRlUG9pbnRzKCksaD0wO2g8dDtoKyspcz1oLGwuZXhpc3RzKHRoaXMuZGF0YVkpPyhhPWgsdGhpcy5wb2ludHNbaF0uc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdGhpcy5kYXRhWFtoXSx0aGlzLmRhdGFZW2hdXSwhMSkpOihhPXRoaXMuWChzKSx0aGlzLnBvaW50c1toXS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0aGlzLmRhdGFYW2hdLHRoaXMuWShhLHUpXSwhMSkpLHRoaXMucG9pbnRzW2hdLl90PWgsdT0hMDtlbHNlIGlmKGwuZXZhbHVhdGUodGhpcy52aXNQcm9wLmRvYWR2YW5jZWRwbG90KT8xPT09ZHx8bC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZG9hZHZhbmNlZHBsb3RvbGQpP24udXBkYXRlUGFyYW1ldHJpY0N1cnZlT2xkKHRoaXMsaSxyKToyPT09ZD9uLnVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZV92Mih0aGlzLGkscik6Mz09PWQ/bi51cGRhdGVQYXJhbWV0cmljQ3VydmVfdjModGhpcyxpLHIpOjQ9PT1kP24udXBkYXRlUGFyYW1ldHJpY0N1cnZlX3Y0KHRoaXMsaSxyKTpuLnVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZV92Mih0aGlzLGkscik6KHRoaXMuYm9hcmQudXBkYXRlUXVhbGl0eT09PXRoaXMuYm9hcmQuQk9BUkRfUVVBTElUWV9ISUdIP3RoaXMubnVtYmVyUG9pbnRzPWwuZXZhbHVhdGUodGhpcy52aXNQcm9wLm51bWJlcnBvaW50c2hpZ2gpOnRoaXMubnVtYmVyUG9pbnRzPWwuZXZhbHVhdGUodGhpcy52aXNQcm9wLm51bWJlcnBvaW50c2xvdyksdGhpcy5hbGxvY2F0ZVBvaW50cygpLG4udXBkYXRlUGFyYW1ldHJpY0N1cnZlTmFpdmUodGhpcyxpLHIsdGhpcy5udW1iZXJQb2ludHMpKSx0PXRoaXMubnVtYmVyUG9pbnRzLGwuZXZhbHVhdGUodGhpcy52aXNQcm9wLnVzZXFkdCkmJnRoaXMuYm9hcmQudXBkYXRlUXVhbGl0eT09PXRoaXMuYm9hcmQuQk9BUkRfUVVBTElUWV9ISUdIKWZvcih0aGlzLnFkdD1uZXcgYyh0aGlzLmJvYXJkLmdldEJvdW5kaW5nQm94KCkpLGg9MDtoPHRoaXMucG9pbnRzLmxlbmd0aDtoKyspdGhpcy5xZHQuaW5zZXJ0KHRoaXMucG9pbnRzW2hdKSxoPjAmJih0aGlzLnBvaW50c1toXS5wcmV2PXRoaXMucG9pbnRzW2gtMV0pLGg8dC0xJiYodGhpcy5wb2ludHNbaF0ubmV4dD10aGlzLnBvaW50c1toKzFdKTtmb3IoXCJwbG90XCIhPT1sLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5jdXJ2ZXR5cGUpJiZsLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5yZHBzbW9vdGhpbmcpJiYodGhpcy5wb2ludHM9by5SYW1lckRvdWdsYXNQZXVja2VyKHRoaXMucG9pbnRzLC4yKSx0aGlzLm51bWJlclBvaW50cz10aGlzLnBvaW50cy5sZW5ndGgpLHQ9dGhpcy5udW1iZXJQb2ludHMsaD0wO2g8dDtoKyspdGhpcy51cGRhdGVUcmFuc2Zvcm0odGhpcy5wb2ludHNbaF0pO3JldHVybiB0aGlzfSx1cGRhdGVUcmFuc2Zvcm1NYXRyaXg6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoO2Zvcih0aGlzLnRyYW5zZm9ybU1hdD1bWzEsMCwwXSxbMCwxLDBdLFswLDAsMV1dLGU9MDtlPGk7ZSsrKSh0PXRoaXMudHJhbnNmb3JtYXRpb25zW2VdKS51cGRhdGUoKSx0aGlzLnRyYW5zZm9ybU1hdD1zLm1hdE1hdE11bHQodC5tYXRyaXgsdGhpcy50cmFuc2Zvcm1NYXQpO3JldHVybiB0aGlzfSx1cGRhdGVUcmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGk7cmV0dXJuIHRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aD4wJiYoaT1zLm1hdFZlY011bHQodGhpcy50cmFuc2Zvcm1NYXQsdC51c3JDb29yZHMpLHQuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixpLCExLCEwKSksdH0sYWRkVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlLGk9bC5pc0FycmF5KHQpP3Q6W3RdLHI9aS5sZW5ndGg7Zm9yKGU9MDtlPHI7ZSsrKXRoaXMudHJhbnNmb3JtYXRpb25zLnB1c2goaVtlXSk7cmV0dXJuIHRoaXN9LGludGVycG9sYXRpb25GdW5jdGlvbkZyb21BcnJheTpmdW5jdGlvbih0KXt2YXIgZT1cImRhdGFcIit0LGk9dGhpcztyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgcyxvLG4sYSxoPWlbZV0sYz1oLmxlbmd0aCxkPVtdO2lmKGlzTmFOKHQpKXJldHVybiBOYU47aWYodDwwKXJldHVybiBsLmlzRnVuY3Rpb24oaFswXSk/aFswXSgpOmhbMF07aWYoMz09PWkuYmV6aWVyRGVncmVlKXtpZih0Pj0oYy0xKS8zKXJldHVybiBsLmlzRnVuY3Rpb24oaFtoLmxlbmd0aC0xXSk/aFtoLmxlbmd0aC0xXSgpOmhbaC5sZW5ndGgtMV07Zm9yKHM9MypNYXRoLmZsb29yKHQpLGE9MS0obj10JTEpLG89MDtvPDQ7bysrKWwuaXNGdW5jdGlvbihoW3Mrb10pP2Rbb109aFtzK29dKCk6ZFtvXT1oW3Mrb107cmV0dXJuIGEqYSooYSpkWzBdKzMqbipkWzFdKSsoMyphKmRbMl0rbipkWzNdKSpuKm59aWYoKHM9dD5jLTI/Yy0yOnBhcnNlSW50KE1hdGguZmxvb3IodCksMTApKT09PXQpcmV0dXJuIGwuaXNGdW5jdGlvbihoW3NdKT9oW3NdKCk6aFtzXTtmb3Iobz0wO288MjtvKyspbC5pc0Z1bmN0aW9uKGhbcytvXSk/ZFtvXT1oW3Mrb10oKTpkW29dPWhbcytvXTtyZXR1cm4gZFswXSsoZFsxXS1kWzBdKSoodC1zKX19LGdlbmVyYXRlVGVybTpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciBvLG47bC5pc0FycmF5KGUpPyh0aGlzLmRhdGFYPWUsdGhpcy5udW1iZXJQb2ludHM9dGhpcy5kYXRhWC5sZW5ndGgsdGhpcy5YPXRoaXMuaW50ZXJwb2xhdGlvbkZ1bmN0aW9uRnJvbUFycmF5LmFwcGx5KHRoaXMsW1wiWFwiXSksdGhpcy52aXNQcm9wLmN1cnZldHlwZT1cInBsb3RcIix0aGlzLmlzRHJhZ2dhYmxlPSEwKToodGhpcy5YPWwuY3JlYXRlRnVuY3Rpb24oZSx0aGlzLmJvYXJkLHQpLGwuaXNTdHJpbmcoZSk/dGhpcy52aXNQcm9wLmN1cnZldHlwZT1cImZ1bmN0aW9uZ3JhcGhcIjoobC5pc0Z1bmN0aW9uKGUpfHxsLmlzTnVtYmVyKGUpKSYmKHRoaXMudmlzUHJvcC5jdXJ2ZXR5cGU9XCJwYXJhbWV0ZXJcIiksdGhpcy5pc0RyYWdnYWJsZT0hMCksbC5pc0FycmF5KGkpPyh0aGlzLmRhdGFZPWksdGhpcy5ZPXRoaXMuaW50ZXJwb2xhdGlvbkZ1bmN0aW9uRnJvbUFycmF5LmFwcGx5KHRoaXMsW1wiWVwiXSkpOnRoaXMuWT1sLmNyZWF0ZUZ1bmN0aW9uKGksdGhpcy5ib2FyZCx0KSxsLmlzRnVuY3Rpb24oZSkmJmwuaXNBcnJheShpKSYmKG89bC5jcmVhdGVGdW5jdGlvbihpWzBdLHRoaXMuYm9hcmQsXCJcIiksbj1sLmNyZWF0ZUZ1bmN0aW9uKGlbMV0sdGhpcy5ib2FyZCxcIlwiKSx0aGlzLlg9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCkqTWF0aC5jb3ModCkrbygpfSx0aGlzLlk9ZnVuY3Rpb24odCl7cmV0dXJuIGUodCkqTWF0aC5zaW4odCkrbigpfSx0aGlzLnZpc1Byb3AuY3VydmV0eXBlPVwicG9sYXJcIiksbC5leGlzdHMocikmJih0aGlzLm1pblg9bC5jcmVhdGVGdW5jdGlvbihyLHRoaXMuYm9hcmQsXCJcIikpLGwuZXhpc3RzKHMpJiYodGhpcy5tYXhYPWwuY3JlYXRlRnVuY3Rpb24ocyx0aGlzLmJvYXJkLFwiXCIpKX0sbm90aWZ5UGFyZW50czpmdW5jdGlvbih0KXt2YXIgZSxpLHIscz0hMTtmb3IoZSBpbiByPXt4dGVybToxLHl0ZXJtOjF9KWlmKHIuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXNbZV0ub3JpZ2luKWZvcihpIGluIHM9ITAsdGhpc1tlXS5vcmlnaW4uZGVwcyl0aGlzW2VdLm9yaWdpbi5kZXBzLmhhc093blByb3BlcnR5KGkpJiZ0aGlzW2VdLm9yaWdpbi5kZXBzW2ldLmFkZENoaWxkKHRoaXMpO3N8fGguZmluZERlcGVuZGVuY2llcyh0aGlzLHQsdGhpcy5ib2FyZCl9LGdldExhYmVsQW5jaG9yOmZ1bmN0aW9uKCl7dmFyIHQscixzLG89LjA1KnRoaXMuYm9hcmQuY2FudmFzV2lkdGgsbj0uMDUqdGhpcy5ib2FyZC5jYW52YXNIZWlnaHQsaD0uOTUqdGhpcy5ib2FyZC5jYW52YXNXaWR0aCxjPS45NSp0aGlzLmJvYXJkLmNhbnZhc0hlaWdodDtzd2l0Y2gobC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubGFiZWwucG9zaXRpb24pKXtjYXNlXCJ1bGZ0XCI6cj1vLHM9bjticmVhaztjYXNlXCJsbGZ0XCI6cj1vLHM9YzticmVhaztjYXNlXCJydFwiOnI9aCxzPS41KmM7YnJlYWs7Y2FzZVwibHJ0XCI6cj1oLHM9YzticmVhaztjYXNlXCJ1cnRcIjpyPWgscz1uO2JyZWFrO2Nhc2VcInRvcFwiOnI9LjUqaCxzPW47YnJlYWs7Y2FzZVwiYm90XCI6cj0uNSpoLHM9YzticmVhaztkZWZhdWx0OnI9byxzPS41KmN9cmV0dXJuIHQ9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFtyLHNdLHRoaXMuYm9hcmQsITEpLGEucHJvamVjdENvb3Jkc1RvQ3VydmUodC51c3JDb29yZHNbMV0sdC51c3JDb29yZHNbMl0sMCx0aGlzLHRoaXMuYm9hcmQpWzBdfSxjbG9uZVRvQmFja2dyb3VuZDpmdW5jdGlvbigpe3ZhciB0LGk9e2lkOnRoaXMuaWQrXCJUXCIrdGhpcy5udW1UcmFjZXMsZWxlbWVudENsYXNzOmUuT0JKRUNUX0NMQVNTX0NVUlZFLHBvaW50czp0aGlzLnBvaW50cy5zbGljZSgwKSxiZXppZXJEZWdyZWU6dGhpcy5iZXppZXJEZWdyZWUsbnVtYmVyUG9pbnRzOnRoaXMubnVtYmVyUG9pbnRzLGJvYXJkOnRoaXMuYm9hcmQsdmlzUHJvcDpsLmRlZXBDb3B5KHRoaXMudmlzUHJvcCx0aGlzLnZpc1Byb3AudHJhY2VhdHRyaWJ1dGVzLCEwKX07cmV0dXJuIGkudmlzUHJvcC5sYXllcj10aGlzLmJvYXJkLm9wdGlvbnMubGF5ZXIudHJhY2UsaS52aXNQcm9wLmN1cnZldHlwZT10aGlzLnZpc1Byb3AuY3VydmV0eXBlLHRoaXMubnVtVHJhY2VzKyssbC5jbGVhclZpc1Byb3BPbGQoaSksaS52aXNQcm9wQ2FsYz17dmlzaWJsZTpsLmV2YWx1YXRlKGkudmlzUHJvcC52aXNpYmxlKX0sdD10aGlzLmJvYXJkLnJlbmRlcmVyLmVuaGFuY2VkUmVuZGVyaW5nLHRoaXMuYm9hcmQucmVuZGVyZXIuZW5oYW5jZWRSZW5kZXJpbmc9ITAsdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3Q3VydmUoaSksdGhpcy5ib2FyZC5yZW5kZXJlci5lbmhhbmNlZFJlbmRlcmluZz10LHRoaXMudHJhY2VzW2kuaWRdPWkucmVuZE5vZGUsdGhpc30sYm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHI9MS8wLHM9LTEvMCxuPTEvMCxhPS0xLzAsaD10aGlzLnBvaW50cy5sZW5ndGg7aWYoMz09PXRoaXMuYmV6aWVyRGVncmVlKXtmb3IodD0wO3Q8aDt0KyspdGhpcy5wb2ludHNbdF0uWD1sLmJpbmQoKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNyQ29vcmRzWzFdfSksdGhpcy5wb2ludHNbdF0pLHRoaXMucG9pbnRzW3RdLlk9bC5iaW5kKChmdW5jdGlvbigpe3JldHVybiB0aGlzLnVzckNvb3Jkc1syXX0pLHRoaXMucG9pbnRzW3RdKTtyZXR1cm4gaT0oZT1vLmJlemllcih0aGlzLnBvaW50cykpWzNdKCkscj1vLmZtaW5icigoZnVuY3Rpb24odCl7cmV0dXJuIGVbMF0odCl9KSxbMCxpXSkscz1vLmZtaW5icigoZnVuY3Rpb24odCl7cmV0dXJuLWVbMF0odCl9KSxbMCxpXSksbj1vLmZtaW5icigoZnVuY3Rpb24odCl7cmV0dXJuIGVbMV0odCl9KSxbMCxpXSksYT1vLmZtaW5icigoZnVuY3Rpb24odCl7cmV0dXJuLWVbMV0odCl9KSxbMCxpXSkscj1lWzBdKHIpLHM9ZVswXShzKSxuPWVbMV0obiksW3IsYT1lWzFdKGEpLHMsbl19Zm9yKHQ9MDt0PGg7dCsrKXI+dGhpcy5wb2ludHNbdF0udXNyQ29vcmRzWzFdJiYocj10aGlzLnBvaW50c1t0XS51c3JDb29yZHNbMV0pLHM8dGhpcy5wb2ludHNbdF0udXNyQ29vcmRzWzFdJiYocz10aGlzLnBvaW50c1t0XS51c3JDb29yZHNbMV0pLG4+dGhpcy5wb2ludHNbdF0udXNyQ29vcmRzWzJdJiYobj10aGlzLnBvaW50c1t0XS51c3JDb29yZHNbMl0pLGE8dGhpcy5wb2ludHNbdF0udXNyQ29vcmRzWzJdJiYoYT10aGlzLnBvaW50c1t0XS51c3JDb29yZHNbMl0pO3JldHVybltyLGEscyxuXX0sZ2V0UGFyZW50czpmdW5jdGlvbigpe3ZhciB0PVt0aGlzLnh0ZXJtLHRoaXMueXRlcm0sdGhpcy5taW5YKCksdGhpcy5tYXhYKCldO3JldHVybiAwIT09dGhpcy5wYXJlbnRzLmxlbmd0aCYmKHQ9dGhpcy5wYXJlbnRzKSx0fSxtb3ZlVG86ZnVuY3Rpb24odCl7dmFyIGkscj1bXTtyZXR1cm4gdGhpcy5wb2ludHMubGVuZ3RoPjAmJiFsLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5maXhlZCkmJihpPXRoaXMucG9pbnRzWzBdLHI9Mz09PXQubGVuZ3RoP1t0WzBdLWkudXNyQ29vcmRzWzBdLHRbMV0taS51c3JDb29yZHNbMV0sdFsyXS1pLnVzckNvb3Jkc1syXV06W3RbMF0taS51c3JDb29yZHNbMV0sdFsxXS1pLnVzckNvb3Jkc1syXV0sdGhpcy5zZXRQb3NpdGlvbihlLkNPT1JEU19CWV9VU0VSLHIpKSx0aGlzfSxnZXRUcmFuc2Zvcm1hdGlvblNvdXJjZTpmdW5jdGlvbigpe3ZhciB0LGk7cmV0dXJuIGwuZXhpc3RzKHRoaXMuX3RyYW5zZm9ybWF0aW9uU291cmNlKSYmKGk9dGhpcy5fdHJhbnNmb3JtYXRpb25Tb3VyY2UpLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NVUlZFJiYodD0hMCksW3QsaV19fSksdC5jcmVhdGVDdXJ2ZT1mdW5jdGlvbihpLHIscyl7dmFyIG8sbixhPWwuY29weUF0dHJpYnV0ZXMocyxpLm9wdGlvbnMsXCJjdXJ2ZVwiKTtyZXR1cm4gbz1pLnNlbGVjdChyWzBdLCEwKSxsLmlzT2JqZWN0KG8pJiYoby50eXBlPT09ZS5PQkpFQ1RfVFlQRV9DVVJWRXx8by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9BTkdMRXx8by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9BUkN8fG8udHlwZT09PWUuT0JKRUNUX1RZUEVfQ09OSUN8fG8udHlwZT09PWUuT0JKRUNUX1RZUEVfU0VDVE9SKSYmbC5pc1RyYW5zZm9ybWF0aW9uT3JBcnJheShyWzFdKT8oby50eXBlPT09ZS5PQkpFQ1RfVFlQRV9TRUNUT1I/YT1sLmNvcHlBdHRyaWJ1dGVzKHMsaS5vcHRpb25zLFwic2VjdG9yXCIpOm8udHlwZT09PWUuT0JKRUNUX1RZUEVfQVJDP2E9bC5jb3B5QXR0cmlidXRlcyhzLGkub3B0aW9ucyxcImFyY1wiKTpvLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0FOR0xFPyhsLmV4aXN0cyhzLndpdGhMYWJlbCl8fChzLndpdGhMYWJlbD0hMSksYT1sLmNvcHlBdHRyaWJ1dGVzKHMsaS5vcHRpb25zLFwiYW5nbGVcIikpOmE9bC5jb3B5QXR0cmlidXRlcyhzLGkub3B0aW9ucyxcImN1cnZlXCIpLGE9bC5jb3B5QXR0cmlidXRlcyhhLGkub3B0aW9ucyxcImN1cnZlXCIpLChuPW5ldyB0LkN1cnZlKGksW1wieFwiLFtdLFtdXSxhKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQsZT1vLm51bWJlclBvaW50cztmb3IodGhpcy5iZXppZXJEZWdyZWU9by5iZXppZXJEZWdyZWUsdGhpcy5kYXRhWD1bXSx0aGlzLmRhdGFZPVtdLHQ9MDt0PGU7dCsrKXRoaXMuZGF0YVgucHVzaChvLnBvaW50c1t0XS51c3JDb29yZHNbMV0pLHRoaXMuZGF0YVkucHVzaChvLnBvaW50c1t0XS51c3JDb29yZHNbMl0pO3JldHVybiB0aGlzfSxuLmFkZFRyYW5zZm9ybShyWzFdKSxvLmFkZENoaWxkKG4pLG4uc2V0UGFyZW50cyhbb10pLG4uX3RyYW5zZm9ybWF0aW9uU291cmNlPW8sbik6KGE9bC5jb3B5QXR0cmlidXRlcyhzLGkub3B0aW9ucyxcImN1cnZlXCIpLG5ldyB0LkN1cnZlKGksW1wieFwiXS5jb25jYXQociksYSkpfSx0LnJlZ2lzdGVyRWxlbWVudChcImN1cnZlXCIsdC5jcmVhdGVDdXJ2ZSksdC5jcmVhdGVGdW5jdGlvbmdyYXBoPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvPVtcInhcIixcInhcIl0uY29uY2F0KGkpO3JldHVybihzPWwuY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJjdXJ2ZVwiKSkuY3VydmV0eXBlPVwiZnVuY3Rpb25ncmFwaFwiLG5ldyB0LkN1cnZlKGUsbyxzKX0sdC5yZWdpc3RlckVsZW1lbnQoXCJmdW5jdGlvbmdyYXBoXCIsdC5jcmVhdGVGdW5jdGlvbmdyYXBoKSx0LnJlZ2lzdGVyRWxlbWVudChcInBsb3RcIix0LmNyZWF0ZUZ1bmN0aW9uZ3JhcGgpLHQuY3JlYXRlU3BsaW5lPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxuLGE7cmV0dXJuIG49ZnVuY3Rpb24oKXt2YXIgdCxlPVtdLHI9W107cmV0dXJuW2Z1bmN0aW9uKHMsbil7dmFyIGEsaCxjO2lmKCFuKXtpZihlPVtdLHI9W10sMj09PWkubGVuZ3RoJiZsLmlzQXJyYXkoaVswXSkmJmwuaXNBcnJheShpWzFdKSYmaVswXS5sZW5ndGg9PT1pWzFdLmxlbmd0aClmb3IoYT0wO2E8aVswXS5sZW5ndGg7YSsrKWwuaXNGdW5jdGlvbihpWzBdW2FdKT9lLnB1c2goaVswXVthXSgpKTplLnB1c2goaVswXVthXSksbC5pc0Z1bmN0aW9uKGlbMV1bYV0pP3IucHVzaChpWzFdW2FdKCkpOnIucHVzaChpWzFdW2FdKTtlbHNlIGZvcihhPTA7YTxpLmxlbmd0aDthKyspaWYobC5pc1BvaW50KGlbYV0pKWUucHVzaChpW2FdLlgoKSksci5wdXNoKGlbYV0uWSgpKTtlbHNlIGlmKGwuaXNBcnJheShpW2FdKSYmMj09PWlbYV0ubGVuZ3RoKWZvcihoPTA7aDxpLmxlbmd0aDtoKyspbC5pc0Z1bmN0aW9uKGlbaF1bMF0pP2UucHVzaChpW2hdWzBdKCkpOmUucHVzaChpW2hdWzBdKSxsLmlzRnVuY3Rpb24oaVtoXVsxXSk/ci5wdXNoKGlbaF1bMV0oKSk6ci5wdXNoKGlbaF1bMV0pO2Vsc2UgbC5pc0Z1bmN0aW9uKGlbYV0pJiYyPT09aVthXSgpLmxlbmd0aCYmKGM9aVthXSgpLGUucHVzaChjWzBdKSxyLnB1c2goY1sxXSkpO3Q9by5zcGxpbmVEZWYoZSxyKX1yZXR1cm4gby5zcGxpbmVFdmFsKHMsZSxyLHQpfSxmdW5jdGlvbigpe3JldHVybiBlWzBdfSxmdW5jdGlvbigpe3JldHVybiBlW2UubGVuZ3RoLTFdfV19LChyPWwuY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJjdXJ2ZVwiKSkuY3VydmV0eXBlPVwiZnVuY3Rpb25ncmFwaFwiLGE9bigpLChzPW5ldyB0LkN1cnZlKGUsW1wieFwiLFwieFwiLGFbMF0sYVsxXSxhWzJdXSxyKSkuc2V0UGFyZW50cyhpKSxzLmVsVHlwZT1cInNwbGluZVwiLHN9LHQucmVnaXN0ZXJFbGVtZW50KFwic3BsaW5lXCIsdC5jcmVhdGVTcGxpbmUpLHQuY3JlYXRlQ2FyZGluYWxTcGxpbmU9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLG4sYSxoLGMsZCx1LHAsZixtLGc9XCJcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludHM6YXJyYXksIHRhdTpudW1iZXJ8ZnVuY3Rpb24sIHR5cGU6c3RyaW5nXVwiO2lmKCFsLmV4aXN0cyhpWzBdKXx8IWwuaXNBcnJheShpWzBdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogSlhHLmNyZWF0ZUNhcmRpbmFsU3BsaW5lOiBhcmd1bWVudCAxICdwb2ludHMnIGhhcyB0byBiZSBhcnJheSBvZiBwb2ludHMgb3IgY29vcmRpbmF0ZSBwYWlyc1wiK2cpO2lmKCFsLmV4aXN0cyhpWzFdKXx8IWwuaXNOdW1iZXIoaVsxXSkmJiFsLmlzRnVuY3Rpb24oaVsxXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IEpYRy5jcmVhdGVDYXJkaW5hbFNwbGluZTogYXJndW1lbnQgMiAndGF1JyBoYXMgdG8gYmUgbnVtYmVyIGJldHdlZW4gWzAsMV0gb3IgZnVuY3Rpb24nXCIrZyk7aWYoIWwuZXhpc3RzKGlbMl0pfHwhbC5pc1N0cmluZyhpWzJdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogSlhHLmNyZWF0ZUNhcmRpbmFsU3BsaW5lOiBhcmd1bWVudCAzICd0eXBlJyBoYXMgdG8gYmUgc3RyaW5nICd1bmlmb3JtJyBvciAnY2VudHJpcGV0YWwnXCIrZyk7aWYocj1sLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiY3VydmVcIiksKHI9bC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImNhcmRpbmFsc3BsaW5lXCIpKS5jdXJ2ZXR5cGU9XCJwYXJhbWV0ZXJcIixkPWlbMF0sdT1bXSwhci5pc2FycmF5b2Zjb29yZGluYXRlcyYmMj09PWQubGVuZ3RoJiZsLmlzQXJyYXkoZFswXSkmJmwuaXNBcnJheShkWzFdKSYmZFswXS5sZW5ndGg9PT1kWzFdLmxlbmd0aClmb3IocD0wO3A8ZFswXS5sZW5ndGg7cCsrKXVbcF09W10sbC5pc0Z1bmN0aW9uKGRbMF1bcF0pP3VbcF0ucHVzaChkWzBdW3BdKCkpOnVbcF0ucHVzaChkWzBdW3BdKSxsLmlzRnVuY3Rpb24oZFsxXVtwXSk/dVtwXS5wdXNoKGRbMV1bcF0oKSk6dVtwXS5wdXNoKGRbMV1bcF0pO2Vsc2UgZm9yKHA9MDtwPGQubGVuZ3RoO3ArKylsLmlzU3RyaW5nKGRbcF0pP3UucHVzaChlLnNlbGVjdChkW3BdKSk6bC5pc1BvaW50KGRbcF0pP3UucHVzaChkW3BdKTpsLmlzQXJyYXkoZFtwXSkmJjI9PT1kW3BdLmxlbmd0aD8odVtwXT1bXSxsLmlzRnVuY3Rpb24oZFtwXVswXSk/dVtwXS5wdXNoKGRbcF1bMF0oKSk6dVtwXS5wdXNoKGRbcF1bMF0pLGwuaXNGdW5jdGlvbihkW3BdWzFdKT91W3BdLnB1c2goZFtwXVsxXSgpKTp1W3BdLnB1c2goZFtwXVsxXSkpOmwuaXNGdW5jdGlvbihkW3BdKSYmMj09PWRbcF0oKS5sZW5ndGgmJnUucHVzaChpW3BdKCkpO2lmKCEwPT09ci5jcmVhdGVwb2ludHMpYT1sLnByb3ZpZGVQb2ludHMoZSx1LHIsXCJjYXJkaW5hbHNwbGluZVwiLFtcInBvaW50c1wiXSk7ZWxzZSBmb3IoYT1bXSxuPWZ1bmN0aW9uKHQpe3JldHVybntYOmZ1bmN0aW9uKCl7cmV0dXJuIHVbdF1bMF19LFk6ZnVuY3Rpb24oKXtyZXR1cm4gdVt0XVsxXX0sRGlzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLlgoKS10LlgoKSxpPXRoaXMuWSgpLXQuWSgpO3JldHVybiBNYXRoLnNxcnQoZSplK2kqaSl9fX0scD0wO3A8dS5sZW5ndGg7cCsrKWwuaXNQb2ludCh1W3BdKT9hLnB1c2godVtwXSk6YS5wdXNoKG4ocCkpO2ZvcihoPWlbMV0sYz1pWzJdLG09W1wieFwiXS5jb25jYXQoby5DYXJkaW5hbFNwbGluZShhLGgsYykpLHM9bmV3IHQuQ3VydmUoZSxtLHIpLGY9YS5sZW5ndGgscy5zZXRQYXJlbnRzKGEpLHA9MDtwPGY7cCsrKWQ9YVtwXSxsLmlzUG9pbnQoZCkmJihsLmV4aXN0cyhkLl9pc19uZXcpPyhzLmFkZENoaWxkKGQpLGRlbGV0ZSBkLl9pc19uZXcpOmQuYWRkQ2hpbGQocykpO3JldHVybiBzLmVsVHlwZT1cImNhcmRpbmFsc3BsaW5lXCIsc30sdC5yZWdpc3RlckVsZW1lbnQoXCJjYXJkaW5hbHNwbGluZVwiLHQuY3JlYXRlQ2FyZGluYWxTcGxpbmUpLHQuY3JlYXRlTWV0YXBvc3RTcGxpbmU9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLG8sbixhLGgsYyxkLHUscD1cIlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50czphcnJheSwgY29udHJvbHM6b2JqZWN0XCI7aWYoIWwuZXhpc3RzKGlbMF0pfHwhbC5pc0FycmF5KGlbMF0pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBKWEcuY3JlYXRlTWV0YXBvc3RTcGxpbmU6IGFyZ3VtZW50IDEgJ3BvaW50cycgaGFzIHRvIGJlIGFycmF5IG9mIHBvaW50cyBvciBjb29yZGluYXRlIHBhaXJzXCIrcCk7aWYoIWwuZXhpc3RzKGlbMV0pfHwhbC5pc09iamVjdChpWzFdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogSlhHLmNyZWF0ZU1ldGFwb3N0U3BsaW5lOiBhcmd1bWVudCAyICdjb250cm9scycgaGFzIHRvIGJlIGEgSmF2YVNjcmlwdCBvYmplY3QnXCIrcCk7aWYocj1sLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiY3VydmVcIiksKHI9bC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcIm1ldGFwb3N0c3BsaW5lXCIpKS5jdXJ2ZXR5cGU9XCJwYXJhbWV0ZXJcIixoPWlbMF0sYz1bXSwhci5pc2FycmF5b2Zjb29yZGluYXRlcyYmMj09PWgubGVuZ3RoJiZsLmlzQXJyYXkoaFswXSkmJmwuaXNBcnJheShoWzFdKSYmaFswXS5sZW5ndGg9PT1oWzFdLmxlbmd0aClmb3IoZD0wO2Q8aFswXS5sZW5ndGg7ZCsrKWNbZF09W10sbC5pc0Z1bmN0aW9uKGhbMF1bZF0pP2NbZF0ucHVzaChoWzBdW2RdKCkpOmNbZF0ucHVzaChoWzBdW2RdKSxsLmlzRnVuY3Rpb24oaFsxXVtkXSk/Y1tkXS5wdXNoKGhbMV1bZF0oKSk6Y1tkXS5wdXNoKGhbMV1bZF0pO2Vsc2UgZm9yKGQ9MDtkPGgubGVuZ3RoO2QrKylsLmlzU3RyaW5nKGhbZF0pP2MucHVzaChlLnNlbGVjdChoW2RdKSk6bC5pc1BvaW50KGhbZF0pP2MucHVzaChoW2RdKTpsLmlzQXJyYXkoaFtkXSkmJjI9PT1oW2RdLmxlbmd0aD8oY1tkXT1bXSxsLmlzRnVuY3Rpb24oaFtkXVswXSk/Y1tkXS5wdXNoKGhbZF1bMF0oKSk6Y1tkXS5wdXNoKGhbZF1bMF0pLGwuaXNGdW5jdGlvbihoW2RdWzFdKT9jW2RdLnB1c2goaFtkXVsxXSgpKTpjW2RdLnB1c2goaFtkXVsxXSkpOmwuaXNGdW5jdGlvbihoW2RdKSYmMj09PWhbZF0oKS5sZW5ndGgmJmMucHVzaChpW2RdKCkpO2lmKCEwPT09ci5jcmVhdGVwb2ludHMpbj1sLnByb3ZpZGVQb2ludHMoZSxjLHIsXCJtZXRhcG9zdHNwbGluZVwiLFtcInBvaW50c1wiXSk7ZWxzZSBmb3Iobj1bXSxvPWZ1bmN0aW9uKHQpe3JldHVybntYOmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF1bMF19LFk6ZnVuY3Rpb24oKXtyZXR1cm4gY1t0XVsxXX19fSxkPTA7ZDxjLmxlbmd0aDtkKyspbC5pc1BvaW50KGNbZF0pP24ucHVzaChjW2RdKTpuLnB1c2gobyk7Zm9yKGE9aVsxXSwocz1uZXcgdC5DdXJ2ZShlLFtcInRcIixbXSxbXSwwLGgubGVuZ3RoLTFdLHIpKS51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgZSxpLHI9bi5sZW5ndGgscz1bXTtmb3IoaT0wO2k8cjtpKyspcy5wdXNoKFtuW2ldLlgoKSxuW2ldLlkoKV0pO2U9dC5NYXRoLk1ldGFwb3N0LmN1cnZlKHMsYSksdGhpcy5kYXRhWD1lWzBdLHRoaXMuZGF0YVk9ZVsxXX0scy5iZXppZXJEZWdyZWU9Myx1PW4ubGVuZ3RoLHMuc2V0UGFyZW50cyhuKSxkPTA7ZDx1O2QrKylsLmlzUG9pbnQobltkXSkmJm5bZF0uYWRkQ2hpbGQocyk7cmV0dXJuIHMuZWxUeXBlPVwibWV0YXBvc3RzcGxpbmVcIixzfSx0LnJlZ2lzdGVyRWxlbWVudChcIm1ldGFwb3N0c3BsaW5lXCIsdC5jcmVhdGVNZXRhcG9zdFNwbGluZSksdC5jcmVhdGVSaWVtYW5uc3VtPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG4sYSxoLGM7aWYoKGM9bC5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcInJpZW1hbm5zdW1cIikpLmN1cnZldHlwZT1cInBsb3RcIixuPWVbMF0scj1sLmNyZWF0ZUZ1bmN0aW9uKGVbMV0sdCxcIlwiKSwhbC5leGlzdHMocikpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IEpYRy5jcmVhdGVSaWVtYW5uc3VtOiBhcmd1bWVudCAnMicgbiBoYXMgdG8gYmUgbnVtYmVyIG9yIGZ1bmN0aW9uLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2Z1bmN0aW9uLG46bnVtYmVyfGZ1bmN0aW9uLHR5cGUsc3RhcnQ6bnVtYmVyfGZ1bmN0aW9uLGVuZDpudW1iZXJ8ZnVuY3Rpb25dXCIpO2lmKHM9bC5jcmVhdGVGdW5jdGlvbihlWzJdLHQsXCJcIiwhMSksIWwuZXhpc3RzKHMpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBKWEcuY3JlYXRlUmllbWFubnN1bTogYXJndW1lbnQgMyAndHlwZScgaGFzIHRvIGJlIHN0cmluZyBvciBmdW5jdGlvbi5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtmdW5jdGlvbixuOm51bWJlcnxmdW5jdGlvbix0eXBlLHN0YXJ0Om51bWJlcnxmdW5jdGlvbixlbmQ6bnVtYmVyfGZ1bmN0aW9uXVwiKTtyZXR1cm4gYT1bWzBdLFswXV0uY29uY2F0KGUuc2xpY2UoMykpLChoPXQuY3JlYXRlKFwiY3VydmVcIixhLGMpKS5zdW09MCxoLlZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3VtfSxoLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0PW8ucmllbWFubihuLHIoKSxzKCksdGhpcy5taW5YKCksdGhpcy5tYXhYKCkpO3RoaXMuZGF0YVg9dFswXSx0aGlzLmRhdGFZPXRbMV0sdGhpcy5zdW09dFsyXX0saH0sdC5yZWdpc3RlckVsZW1lbnQoXCJyaWVtYW5uc3VtXCIsdC5jcmVhdGVSaWVtYW5uc3VtKSx0LmNyZWF0ZVRyYWNlY3VydmU9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbixhO2lmKDIhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHRyYWNlIGN1cnZlIHdpdGggZ2l2ZW4gcGFyZW50J1xcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2dsaWRlciwgcG9pbnRdXCIpO2lmKG89dC5zZWxlY3QoaVswXSksbj10LnNlbGVjdChpWzFdKSxvLnR5cGUhPT1lLk9CSkVDVF9UWVBFX0dMSURFUnx8IWwuaXNQb2ludChuKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHRyYWNlIGN1cnZlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbZ2xpZGVyLCBwb2ludF1cIik7cmV0dXJuKGE9bC5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcInRyYWNlY3VydmVcIikpLmN1cnZldHlwZT1cInBsb3RcIiwocz10LmNyZWF0ZShcImN1cnZlXCIsW1swXSxbMF1dLGEpKS51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxpLHIscyxoLGwsYyxkLHUscD1hLm51bWJlcnBvaW50cyxmPW8ucG9zaXRpb24sbT1vLnNsaWRlT2JqZWN0LGc9bS5taW5YKCk7Zm9yKGk9KG0ubWF4WCgpLWcpL3AsdGhpcy5kYXRhWD1bXSx0aGlzLmRhdGFZPVtdLG0uZWxlbWVudENsYXNzIT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJnArKyx0PTA7dDxwO3QrKyl7Zm9yKHMgaW4gcj1nK3QqaSxsPW0uWChyKS9tLloociksYz1tLlkocikvbS5aKHIpLG8uc2V0UG9zaXRpb25EaXJlY3RseShlLkNPT1JEU19CWV9VU0VSLFtsLGNdKSxkPSExLHRoaXMuYm9hcmQub2JqZWN0cylpZih0aGlzLmJvYXJkLm9iamVjdHMuaGFzT3duUHJvcGVydHkocykmJigoaD10aGlzLmJvYXJkLm9iamVjdHNbc10pPT09byYmKGQ9ITApLGQmJmgubmVlZHNSZWd1bGFyVXBkYXRlJiYodT1oLnZpc1Byb3AudHJhY2UsaC52aXNQcm9wLnRyYWNlPSExLGgubmVlZHNVcGRhdGU9ITAsaC51cGRhdGUoITApLGgudmlzUHJvcC50cmFjZT11LGg9PT1uKSkpYnJlYWs7dGhpcy5kYXRhWFt0XT1uLlgoKSx0aGlzLmRhdGFZW3RdPW4uWSgpfWZvcihzIGluIG8ucG9zaXRpb249ZixkPSExLHRoaXMuYm9hcmQub2JqZWN0cylpZih0aGlzLmJvYXJkLm9iamVjdHMuaGFzT3duUHJvcGVydHkocykmJigoaD10aGlzLmJvYXJkLm9iamVjdHNbc10pPT09byYmKGQ9ITApLGQmJmgubmVlZHNSZWd1bGFyVXBkYXRlJiYodT1oLnZpc1Byb3AudHJhY2UsaC52aXNQcm9wLnRyYWNlPSExLGgubmVlZHNVcGRhdGU9ITAsaC51cGRhdGUoITApLGgudmlzUHJvcC50cmFjZT11LGg9PT1uKSkpYnJlYWt9LHN9LHQucmVnaXN0ZXJFbGVtZW50KFwidHJhY2VjdXJ2ZVwiLHQuY3JlYXRlVHJhY2VjdXJ2ZSksdC5jcmVhdGVTdGVwZnVuY3Rpb249ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM7aWYoMiE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgc3RlcCBmdW5jdGlvbiB3aXRoIGdpdmVuIHBhcmVudCdcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFthcnJheSwgYXJyYXl8ZnVuY3Rpb25dXCIpO3JldHVybiBzPWwuY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJzdGVwZnVuY3Rpb25cIiksKHI9dC5jcmVhdGUoXCJjdXJ2ZVwiLGUscykpLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0LGU9MCxpPXRoaXMueHRlcm0ubGVuZ3RoO2lmKHRoaXMuZGF0YVg9W10sdGhpcy5kYXRhWT1bXSwwIT09aSlmb3IodGhpcy5kYXRhWFtlXT10aGlzLnh0ZXJtWzBdLHRoaXMuZGF0YVlbZV09dGhpcy55dGVybVswXSwrK2UsdD0xO3Q8aTsrK3QpdGhpcy5kYXRhWFtlXT10aGlzLnh0ZXJtW3RdLHRoaXMuZGF0YVlbZV09dGhpcy5kYXRhWVtlLTFdLCsrZSx0aGlzLmRhdGFYW2VdPXRoaXMueHRlcm1bdF0sdGhpcy5kYXRhWVtlXT10aGlzLnl0ZXJtW3RdLCsrZX0scn0sdC5yZWdpc3RlckVsZW1lbnQoXCJzdGVwZnVuY3Rpb25cIix0LmNyZWF0ZVN0ZXBmdW5jdGlvbiksdC5jcmVhdGVEZXJpdmF0aXZlPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxuLGEsaCxjO2lmKDEhPT1pLmxlbmd0aCYmaVswXS5jbGFzcyE9PWUuT0JKRUNUX0NMQVNTX0NVUlZFKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgZGVyaXZhdGl2ZSBjdXJ2ZSB3aXRoIGdpdmVuIHBhcmVudCdcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtjdXJ2ZV1cIik7cmV0dXJuIGM9bC5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImN1cnZlXCIpLG49aVswXSxhPW8uRChuLlgpLGg9by5EKG4uWSksKHM9dC5jcmVhdGUoXCJjdXJ2ZVwiLFtmdW5jdGlvbih0KXtyZXR1cm4gbi5YKHQpfSxmdW5jdGlvbih0KXtyZXR1cm4gaCh0KS9hKHQpfSxuLm1pblgoKSxuLm1heFgoKV0sYykpLnNldFBhcmVudHMobiksc30sdC5yZWdpc3RlckVsZW1lbnQoXCJkZXJpdmF0aXZlXCIsdC5jcmVhdGVEZXJpdmF0aXZlKSx0LmNyZWF0ZUN1cnZlSW50ZXJzZWN0aW9uPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcztpZigyIT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBjdXJ2ZSBpbnRlcnNlY3Rpb24gd2l0aCBnaXZlbiBwYXJlbnQnXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbYXJyYXksIGFycmF5fGZ1bmN0aW9uXVwiKTtyZXR1cm4ocz1lLmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxyKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIGU9dC5NYXRoLkNsaXAuaW50ZXJzZWN0aW9uKGlbMF0saVsxXSx0aGlzLmJvYXJkKTt0aGlzLmRhdGFYPWVbMF0sdGhpcy5kYXRhWT1lWzFdfSxzfSx0LmNyZWF0ZUN1cnZlVW5pb249ZnVuY3Rpb24oZSxpLHIpe3ZhciBzO2lmKDIhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGN1cnZlIHVuaW9uIHdpdGggZ2l2ZW4gcGFyZW50J1xcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2FycmF5LCBhcnJheXxmdW5jdGlvbl1cIik7cmV0dXJuKHM9ZS5jcmVhdGUoXCJjdXJ2ZVwiLFtbXSxbXV0scikpLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciBlPXQuTWF0aC5DbGlwLnVuaW9uKGlbMF0saVsxXSx0aGlzLmJvYXJkKTt0aGlzLmRhdGFYPWVbMF0sdGhpcy5kYXRhWT1lWzFdfSxzfSx0LmNyZWF0ZUN1cnZlRGlmZmVyZW5jZT1mdW5jdGlvbihlLGkscil7dmFyIHM7aWYoMiE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY3VydmUgZGlmZmVyZW5jZSB3aXRoIGdpdmVuIHBhcmVudCdcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFthcnJheSwgYXJyYXl8ZnVuY3Rpb25dXCIpO3JldHVybihzPWUuY3JlYXRlKFwiY3VydmVcIixbW10sW11dLHIpKS51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgZT10Lk1hdGguQ2xpcC5kaWZmZXJlbmNlKGlbMF0saVsxXSx0aGlzLmJvYXJkKTt0aGlzLmRhdGFYPWVbMF0sdGhpcy5kYXRhWT1lWzFdfSxzfSx0LnJlZ2lzdGVyRWxlbWVudChcImN1cnZlZGlmZmVyZW5jZVwiLHQuY3JlYXRlQ3VydmVEaWZmZXJlbmNlKSx0LnJlZ2lzdGVyRWxlbWVudChcImN1cnZlaW50ZXJzZWN0aW9uXCIsdC5jcmVhdGVDdXJ2ZUludGVyc2VjdGlvbiksdC5yZWdpc3RlckVsZW1lbnQoXCJjdXJ2ZXVuaW9uXCIsdC5jcmVhdGVDdXJ2ZVVuaW9uKSx0LmNyZWF0ZUJveFBsb3Q9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuPWwuY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJib3hwbG90XCIpO2lmKDMhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGJveCBwbG90IHdpdGggZ2l2ZW4gcGFyZW50J1xcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2FycmF5LCBudW1iZXJ8ZnVuY3Rpb24sIG51bWJlcnxmdW5jdGlvbl0gY29udGFpbmluZyBxdWFudGlsZXMsIGF4aXMsIHdpZHRoXCIpO2lmKGVbMF0ubGVuZ3RoPDUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBib3ggcGxvdCB3aXRoIGdpdmVuIHBhcmVudFswXSdcXG5wYXJlbnRbMF0gaGFzIHRvIGNvbmF0aW4gYXQgbGVhc3QgNSBxdWFudGlsZXMuXCIpO2ZvcihyPXQuY3JlYXRlKFwiY3VydmVcIixbW10sW11dLG4pLG89ZVswXS5sZW5ndGgsci5RPVtdLHM9MDtzPG87cysrKXIuUVtzXT1sLmNyZWF0ZUZ1bmN0aW9uKGVbMF1bc10sdCxudWxsLCEwKTtyZXR1cm4gci54PWwuY3JlYXRlRnVuY3Rpb24oZVsxXSx0LG51bGwsITApLHIudz1sLmNyZWF0ZUZ1bmN0aW9uKGVbMl0sdCxudWxsLCEwKSxyLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbyxuLGEsaDtuPWwuZXZhbHVhdGUodGhpcy52aXNQcm9wLnNtYWxsd2lkdGgpLGE9bC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZGlyKSxpPShoPXRoaXMueCgpKS0uNSp0aGlzLncoKSxyPWgtLjUqdGhpcy53KCkqbixzPWgrLjUqdGhpcy53KCksdD1baCxyLG89aCsuNSp0aGlzLncoKSpuLGgsaCxpLGkscyxzLGgsTmFOLGkscyxOYU4saCxoLHIsbyxoXSxlPVt0aGlzLlFbMF0oKSx0aGlzLlFbMF0oKSx0aGlzLlFbMF0oKSx0aGlzLlFbMF0oKSx0aGlzLlFbMV0oKSx0aGlzLlFbMV0oKSx0aGlzLlFbM10oKSx0aGlzLlFbM10oKSx0aGlzLlFbMV0oKSx0aGlzLlFbMV0oKSxOYU4sdGhpcy5RWzJdKCksdGhpcy5RWzJdKCksTmFOLHRoaXMuUVszXSgpLHRoaXMuUVs0XSgpLHRoaXMuUVs0XSgpLHRoaXMuUVs0XSgpLHRoaXMuUVs0XSgpXSxcInZlcnRpY2FsXCI9PT1hPyh0aGlzLmRhdGFYPXQsdGhpcy5kYXRhWT1lKToodGhpcy5kYXRhWD1lLHRoaXMuZGF0YVk9dCl9LHJ9LHQucmVnaXN0ZXJFbGVtZW50KFwiYm94cGxvdFwiLHQuY3JlYXRlQm94UGxvdCkse0N1cnZlOnQuQ3VydmUsY3JlYXRlQ2FyZGluYWxTcGxpbmU6dC5jcmVhdGVDYXJkaW5hbFNwbGluZSxjcmVhdGVDdXJ2ZTp0LmNyZWF0ZUN1cnZlLGNyZWF0ZUN1cnZlRGlmZmVyZW5jZTp0LmNyZWF0ZUN1cnZlRGlmZmVyZW5jZSxjcmVhdGVDdXJ2ZUludGVyc2VjdGlvbjp0LmNyZWF0ZUN1cnZlSW50ZXJzZWN0aW9uLGNyZWF0ZUN1cnZlVW5pb246dC5jcmVhdGVDdXJ2ZVVuaW9uLGNyZWF0ZURlcml2YXRpdmU6dC5jcmVhdGVEZXJpdmF0aXZlLGNyZWF0ZUZ1bmN0aW9uZ3JhcGg6dC5jcmVhdGVGdW5jdGlvbmdyYXBoLGNyZWF0ZU1ldGFwb3N0U3BsaW5lOnQuY3JlYXRlTWV0YXBvc3RTcGxpbmUsY3JlYXRlUGxvdDp0LmNyZWF0ZUZ1bmN0aW9uZ3JhcGgsY3JlYXRlU3BsaW5lOnQuY3JlYXRlU3BsaW5lLGNyZWF0ZVJpZW1hbm5zdW06dC5jcmVhdGVSaWVtYW5uc3VtLGNyZWF0ZVN0ZXBmdW5jdGlvbjp0LmNyZWF0ZVN0ZXBmdW5jdGlvbixjcmVhdGVUcmFjZWN1cnZlOnQuY3JlYXRlVHJhY2VjdXJ2ZX19KSksZGVmaW5lKFwiZWxlbWVudC9hcmNcIixbXCJqeGdcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvbWF0aFwiLFwiYmFzZS9jb29yZHNcIixcImJhc2UvY2lyY2xlXCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL2NvbnN0YW50c1wiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuY3JlYXRlQXJjPWZ1bmN0aW9uKGEsaCxsKXt2YXIgYyxkLHU7aWYoITE9PT0odT1vLnByb3ZpZGVQb2ludHMoYSxoLGwsXCJhcmNcIixbXCJjZW50ZXJcIixcInJhZGl1c1BvaW50XCIsXCJhbmdsZVBvaW50XCJdKSl8fHUubGVuZ3RoPDMpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBBcmMgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBoWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBoWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBoWzJdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludF0sIFthcmMsIHRyYW5zZm9ybWF0aW9uXVwiKTtyZXR1cm4gZD1vLmNvcHlBdHRyaWJ1dGVzKGwsYS5vcHRpb25zLFwiYXJjXCIpLChjPWEuY3JlYXRlKFwiY3VydmVcIixbWzBdLFswXV0sZCkpLmVsVHlwZT1cImFyY1wiLGMuc2V0UGFyZW50cyh1KSxjLnR5cGU9bi5PQkpFQ1RfVFlQRV9BUkMsYy5jZW50ZXI9dVswXSxjLnJhZGl1c3BvaW50PXVbMV0sYy5wb2ludDI9Yy5yYWRpdXNwb2ludCxjLmFuZ2xlcG9pbnQ9dVsyXSxjLnBvaW50Mz1jLmFuZ2xlcG9pbnQsby5leGlzdHMoYy5jZW50ZXIuX2lzX25ldyk/KGMuYWRkQ2hpbGQoYy5jZW50ZXIpLGRlbGV0ZSBjLmNlbnRlci5faXNfbmV3KTpjLmNlbnRlci5hZGRDaGlsZChjKSxvLmV4aXN0cyhjLnJhZGl1c3BvaW50Ll9pc19uZXcpPyhjLmFkZENoaWxkKGMucmFkaXVzcG9pbnQpLGRlbGV0ZSBjLnJhZGl1c3BvaW50Ll9pc19uZXcpOmMucmFkaXVzcG9pbnQuYWRkQ2hpbGQoYyksby5leGlzdHMoYy5hbmdsZXBvaW50Ll9pc19uZXcpPyhjLmFkZENoaWxkKGMuYW5nbGVwb2ludCksZGVsZXRlIGMuYW5nbGVwb2ludC5faXNfbmV3KTpjLmFuZ2xlcG9pbnQuYWRkQ2hpbGQoYyksYy51c2VEaXJlY3Rpb249ZC51c2VkaXJlY3Rpb24sYy51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxpLHIscyxuLGE9MSxoPXRoaXMucmFkaXVzcG9pbnQsbD10aGlzLmNlbnRlcixjPXRoaXMuYW5nbGVwb2ludCxkPW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNlbGVjdGlvbik7aT1lLnJhZChoLGwsYyksKFwibWlub3JcIj09PWQmJmk+TWF0aC5QSXx8XCJtYWpvclwiPT09ZCYmaTxNYXRoLlBJKSYmKGE9LTEpLHRoaXMudXNlRGlyZWN0aW9uJiYocj11WzFdLmNvb3Jkcy51c3JDb29yZHMscz11WzNdLmNvb3Jkcy51c3JDb29yZHMsbj11WzJdLmNvb3Jkcy51c3JDb29yZHMsKHJbMV0tblsxXSkqKHJbMl0tc1syXSktKHJbMl0tblsyXSkqKHJbMV0tc1sxXSk8MD8odGhpcy5yYWRpdXNwb2ludD11WzFdLHRoaXMuYW5nbGVwb2ludD11WzJdKToodGhpcy5yYWRpdXNwb2ludD11WzJdLHRoaXMuYW5nbGVwb2ludD11WzFdKSksaD1oLmNvb3Jkcy51c3JDb29yZHMsbD1sLmNvb3Jkcy51c3JDb29yZHMsYz1jLmNvb3Jkcy51c3JDb29yZHMsdD1lLmJlemllckFyYyhoLGwsYywhMSxhKSx0aGlzLmRhdGFYPXRbMF0sdGhpcy5kYXRhWT10WzFdLHRoaXMuYmV6aWVyRGVncmVlPTMsdGhpcy51cGRhdGVTdGRmb3JtKCksdGhpcy51cGRhdGVRdWFkcmF0aWNmb3JtKCl9LGMuUmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmFkaXVzcG9pbnQuRGlzdCh0aGlzLmNlbnRlcil9LGMuZ2V0UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZGVwcmVjYXRlZChcIkFyYy5nZXRSYWRpdXMoKVwiLFwiQXJjLlJhZGl1cygpXCIpLHRoaXMuUmFkaXVzKCl9LGMuVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5SYWRpdXMoKSplLnJhZCh0aGlzLnJhZGl1c3BvaW50LHRoaXMuY2VudGVyLHRoaXMuYW5nbGVwb2ludCl9LGMuaGFzUG9pbnQ9ZnVuY3Rpb24odCxzKXt2YXIgYSxoLGwsYyxkLHUscCxmPXRoaXMuUmFkaXVzKCk7cmV0dXJuIG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmhhc2lubmVycG9pbnRzKT90aGlzLmhhc1BvaW50U2VjdG9yKHQscyk6KG8uaXNPYmplY3Qoby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KHA9dGhpcy5ib2FyZC5faW5wdXREZXZpY2UsdT1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25bcF0pKTp1PXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsdS89TWF0aC5taW4odGhpcy5ib2FyZC51bml0WCx0aGlzLmJvYXJkLnVuaXRZKSxoPW5ldyByKG4uQ09PUkRTX0JZX1NDUkVFTixbdCxzXSx0aGlzLmJvYXJkKSx0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg+MCYmKHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksYz1pLmludmVyc2UodGhpcy50cmFuc2Zvcm1NYXQpLGQ9aS5tYXRWZWNNdWx0KGMsaC51c3JDb29yZHMpLGg9bmV3IHIobi5DT09SRFNfQllfVVNFUixkLHRoaXMuYm9hcmQpKSxhPXRoaXMuY2VudGVyLmNvb3Jkcy5kaXN0YW5jZShuLkNPT1JEU19CWV9VU0VSLGgpLChsPU1hdGguYWJzKGEtZik8dSkmJihsPWUuY29vcmRzT25BcmModGhpcyxoKSksbCl9LGMuaGFzUG9pbnRTZWN0b3I9ZnVuY3Rpb24odCxpKXt2YXIgcz1uZXcgcihuLkNPT1JEU19CWV9TQ1JFRU4sW3QsaV0sdGhpcy5ib2FyZCksbz10aGlzLlJhZGl1cygpLGE9dGhpcy5jZW50ZXIuY29vcmRzLmRpc3RhbmNlKG4uQ09PUkRTX0JZX1VTRVIscyk8bztyZXR1cm4gYSYmKGE9ZS5jb29yZHNPbkFyYyh0aGlzLHMpKSxhfSxjLmdldFRleHRBbmNob3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZW50ZXIuY29vcmRzfSxjLmdldExhYmVsQW5jaG9yPWZ1bmN0aW9uKCl7dmFyIHQsaSxzLGEsaCxsPWUucmFkKHRoaXMucmFkaXVzcG9pbnQsdGhpcy5jZW50ZXIsdGhpcy5hbmdsZXBvaW50KSxjPTEwL3RoaXMuYm9hcmQudW5pdFgsZD0xMC90aGlzLmJvYXJkLnVuaXRZLHU9dGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxwPXRoaXMuY2VudGVyLmNvb3Jkcy51c3JDb29yZHMsZj11WzFdLXBbMV0sbT11WzJdLXBbMl0sZz1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zZWxlY3Rpb24pLGI9dGhpcy5sYWJlbD90aGlzLmxhYmVsLnZpc1Byb3A6dGhpcy52aXNQcm9wLmxhYmVsO3JldHVybihcIm1pbm9yXCI9PT1nJiZsPk1hdGguUEl8fFwibWFqb3JcIj09PWcmJmw8TWF0aC5QSSkmJihsPS0oMipNYXRoLlBJLWwpKSxzPSh0PW5ldyByKG4uQ09PUkRTX0JZX1VTRVIsW3BbMV0rTWF0aC5jb3MoLjUqbCkqZi1NYXRoLnNpbiguNSpsKSptLHBbMl0rTWF0aC5zaW4oLjUqbCkqZitNYXRoLmNvcyguNSpsKSptXSx0aGlzLmJvYXJkKSkudXNyQ29vcmRzWzFdLXBbMV0sYT10LnVzckNvb3Jkc1syXS1wWzJdLHM9cyooKGg9TWF0aC5zcXJ0KHMqcythKmEpKStjKS9oLGE9YSooaCtkKS9oLGk9W3BbMV0rcyxwWzJdK2FdLGIucG9zaXRpb249ZS5jYWxjTGFiZWxRdWFkcmFudChlLnJhZChbMSwwXSxbMCwwXSxpKSksbmV3IHIobi5DT09SRFNfQllfVVNFUixpLHRoaXMuYm9hcmQpfSxjLnVwZGF0ZVF1YWRyYXRpY2Zvcm09cy5DaXJjbGUucHJvdG90eXBlLnVwZGF0ZVF1YWRyYXRpY2Zvcm0sYy51cGRhdGVTdGRmb3JtPXMuQ2lyY2xlLnByb3RvdHlwZS51cGRhdGVTdGRmb3JtLGMubWV0aG9kTWFwPXQuZGVlcENvcHkoYy5tZXRob2RNYXAse2dldFJhZGl1czpcImdldFJhZGl1c1wiLHJhZGl1czpcIlJhZGl1c1wiLGNlbnRlcjpcImNlbnRlclwiLHJhZGl1c3BvaW50OlwicmFkaXVzcG9pbnRcIixhbmdsZXBvaW50OlwiYW5nbGVwb2ludFwiLFZhbHVlOlwiVmFsdWVcIn0pLGMucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLGN9LHQucmVnaXN0ZXJFbGVtZW50KFwiYXJjXCIsdC5jcmVhdGVBcmMpLHQuY3JlYXRlU2VtaWNpcmNsZT1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxuLGE7aWYoITE9PT0oYT1vLnByb3ZpZGVQb2ludHModCxlLGksXCJwb2ludFwiKSl8fDIhPT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIFNlbWljaXJjbGUgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludF1cIik7cmV0dXJuIG49by5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcInNlbWljaXJjbGVcIixcImNlbnRlclwiKSwocz10LmNyZWF0ZShcIm1pZHBvaW50XCIsYSxuKSkuZHVtcD0hMSxuPW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJzZW1pY2lyY2xlXCIpLChyPXQuY3JlYXRlKFwiYXJjXCIsW3MsYVsxXSxhWzBdXSxuKSkuZWxUeXBlPVwic2VtaWNpcmNsZVwiLHIuc2V0UGFyZW50cyhbYVswXS5pZCxhWzFdLmlkXSksci5zdWJzPXttaWRwb2ludDpzfSxyLmluaGVyaXRzLnB1c2gocyksci5taWRwb2ludD1yLmNlbnRlcj1zLHJ9LHQucmVnaXN0ZXJFbGVtZW50KFwic2VtaWNpcmNsZVwiLHQuY3JlYXRlU2VtaWNpcmNsZSksdC5jcmVhdGVDaXJjdW1jaXJjbGVBcmM9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbixhO2lmKCExPT09KGE9by5wcm92aWRlUG9pbnRzKHQsZSxpLFwicG9pbnRcIikpfHwzIT09YS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IGNyZWF0ZSBDaXJjdW1jaXJjbGUgQXJjIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIicgYW5kICdcIit0eXBlb2YgZVsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdXCIpO3JldHVybiBuPW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJjaXJjdW1jaXJjbGVhcmNcIixcImNlbnRlclwiKSwocz10LmNyZWF0ZShcImNpcmN1bWNlbnRlclwiLGEsbikpLmR1bXA9ITEsKG49by5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImNpcmN1bWNpcmNsZWFyY1wiKSkudXNlZGlyZWN0aW9uPSEwLChyPXQuY3JlYXRlKFwiYXJjXCIsW3MsYVswXSxhWzJdLGFbMV1dLG4pKS5lbFR5cGU9XCJjaXJjdW1jaXJjbGVhcmNcIixyLnNldFBhcmVudHMoW2FbMF0uaWQsYVsxXS5pZCxhWzJdLmlkXSksci5zdWJzPXtjZW50ZXI6c30sci5pbmhlcml0cy5wdXNoKHMpLHIuY2VudGVyPXMscn0sdC5yZWdpc3RlckVsZW1lbnQoXCJjaXJjdW1jaXJjbGVhcmNcIix0LmNyZWF0ZUNpcmN1bWNpcmNsZUFyYyksdC5jcmVhdGVNaW5vckFyYz1mdW5jdGlvbihlLGkscil7cmV0dXJuIHIuc2VsZWN0aW9uPVwibWlub3JcIix0LmNyZWF0ZUFyYyhlLGkscil9LHQucmVnaXN0ZXJFbGVtZW50KFwibWlub3JhcmNcIix0LmNyZWF0ZU1pbm9yQXJjKSx0LmNyZWF0ZU1ham9yQXJjPWZ1bmN0aW9uKGUsaSxyKXtyZXR1cm4gci5zZWxlY3Rpb249XCJtYWpvclwiLHQuY3JlYXRlQXJjKGUsaSxyKX0sdC5yZWdpc3RlckVsZW1lbnQoXCJtYWpvcmFyY1wiLHQuY3JlYXRlTWFqb3JBcmMpLHtjcmVhdGVBcmM6dC5jcmVhdGVBcmMsY3JlYXRlU2VtaWNpcmNsZTp0LmNyZWF0ZVNlbWljaXJjbGUsY3JlYXRlQ2lyY3VtY2lyY2xlQXJjOnQuY3JlYXRlQ2lyY3VtY2lyY2xlQXJjLGNyZWF0ZU1pbm9yQXJjOnQuY3JlYXRlTWlub3JBcmMsY3JlYXRlTWFqb3JBcmM6dC5jcmVhdGVNYWpvckFyY319KSksZGVmaW5lKFwiZWxlbWVudC9zZWN0b3JcIixbXCJqeGdcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9zdGF0aXN0aWNzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwiYmFzZS9jb25zdGFudHNcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe1widXNlIHN0cmljdFwiO3JldHVybiB0LmNyZWF0ZVNlY3Rvcj1mdW5jdGlvbihhLGgsbCl7dmFyIGMsZCx1LHAsZixtLGc9XCJpbnZhbGlkXCI7aWYoaFswXS5lbGVtZW50Q2xhc3M9PT1vLk9CSkVDVF9DTEFTU19MSU5FJiZoWzFdLmVsZW1lbnRDbGFzcz09PW8uT0JKRUNUX0NMQVNTX0xJTkUmJihuLmlzQXJyYXkoaFsyXSl8fG4uaXNOdW1iZXIoaFsyXSkpJiYobi5pc0FycmF5KGhbM10pfHxuLmlzTnVtYmVyKGhbM10pKSYmKG4uaXNOdW1iZXIoaFs0XSl8fG4uaXNGdW5jdGlvbihoWzRdKXx8bi5pc1N0cmluZyhoWzRdKSkpZz1cIjJsaW5lc1wiO2Vsc2V7aWYoITE9PT0obT1uLnByb3ZpZGVQb2ludHMoYSxoLGwsXCJzZWN0b3JcIixbXCJjZW50ZXJcIixcInJhZGl1c1BvaW50XCIsXCJhbmdsZVBvaW50XCJdKSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBTZWN0b3Igd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBoWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBoWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBoWzJdK1wiJy5cIik7Zz1cIjNwb2ludHNcIn1pZihkPW4uY29weUF0dHJpYnV0ZXMobCxhLm9wdGlvbnMsXCJzZWN0b3JcIiksKGM9YS5jcmVhdGUoXCJjdXJ2ZVwiLFtbMF0sWzBdXSxkKSkudHlwZT1vLk9CSkVDVF9UWVBFX1NFQ1RPUixjLmVsVHlwZT1cInNlY3RvclwiLGMuYXV0b1JhZGl1cz1mdW5jdGlvbigpe3ZhciB0PTIwL2MuYm9hcmQudW5pdFgsZT0xLzAsaT01MC9jLmJvYXJkLnVuaXRYO3JldHVybiBuLmlzUG9pbnQoYy5jZW50ZXIpJiYoZT0uMzMzMypjLmNlbnRlci5EaXN0KGMucG9pbnQyKSksTWF0aC5tYXgodCxNYXRoLm1pbihlLGkpKX0sXCIybGluZXNcIj09PWcpYy5SYWRpdXM9ZnVuY3Rpb24oKXt2YXIgdD1uLmV2YWx1YXRlKGhbNF0pO3JldHVyblwiYXV0b1wiPT09dD90aGlzLmF1dG9SYWRpdXMoKTp0fSxjLmxpbmUxPWEuc2VsZWN0KGhbMF0pLGMubGluZTI9YS5zZWxlY3QoaFsxXSksYy5saW5lMS5hZGRDaGlsZChjKSxjLmxpbmUyLmFkZENoaWxkKGMpLGMuc2V0UGFyZW50cyhoKSxjLnBvaW50MT17dmlzUHJvcDp7fX0sYy5wb2ludDI9e3Zpc1Byb3A6e319LGMucG9pbnQzPXt2aXNQcm9wOnt9fSxwPWUubWVldExpbmVMaW5lKGMubGluZTEuc3RkZm9ybSxjLmxpbmUyLnN0ZGZvcm0sMCxhKSxuLmlzQXJyYXkoaFsyXSk/KDI9PT1oWzJdLmxlbmd0aCYmKGhbMl09WzFdLmNvbmNhdChoWzJdKSksZj1lLnByb2plY3RQb2ludFRvTGluZSh7Y29vcmRzOnt1c3JDb29yZHM6aFsyXX19LGMubGluZTEsYSksZj1yLnN1YnRyYWN0KGYudXNyQ29vcmRzLHAudXNyQ29vcmRzKSxjLmRpcmVjdGlvbjE9aS5pbm5lclByb2R1Y3QoZixbMCxjLmxpbmUxLnN0ZGZvcm1bMl0sLWMubGluZTEuc3RkZm9ybVsxXV0sMyk+PTA/MTotMSk6Yy5kaXJlY3Rpb24xPWhbMl0+PTA/MTotMSxuLmlzQXJyYXkoaFszXSk/KDI9PT1oWzNdLmxlbmd0aCYmKGhbM109WzFdLmNvbmNhdChoWzNdKSksZj1lLnByb2plY3RQb2ludFRvTGluZSh7Y29vcmRzOnt1c3JDb29yZHM6aFszXX19LGMubGluZTIsYSksZj1yLnN1YnRyYWN0KGYudXNyQ29vcmRzLHAudXNyQ29vcmRzKSxjLmRpcmVjdGlvbjI9aS5pbm5lclByb2R1Y3QoZixbMCxjLmxpbmUyLnN0ZGZvcm1bMl0sLWMubGluZTIuc3RkZm9ybVsxXV0sMyk+PTA/MTotMSk6Yy5kaXJlY3Rpb24yPWhbM10+PTA/MTotMSxjLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0LG4sYSxoLGwsZCx1PVswLDAsMF07aWYobj10aGlzLmxpbmUxLGE9dGhpcy5saW5lMix1PWkuY3Jvc3NQcm9kdWN0KG4uc3RkZm9ybSxhLnN0ZGZvcm0pLE1hdGguYWJzKHVbMF0pPmkuZXBzKmkuZXBzJiYodVsxXS89dVswXSx1WzJdLz11WzBdLHVbMF0vPXVbMF0pLHQ9dGhpcy5kaXJlY3Rpb24xKnRoaXMuUmFkaXVzKCksaD1yLmFkZCh1LFswLHQqbi5zdGRmb3JtWzJdLC10Km4uc3RkZm9ybVsxXV0pLHQ9dGhpcy5kaXJlY3Rpb24yKnRoaXMuUmFkaXVzKCksbD1yLmFkZCh1LFswLHQqYS5zdGRmb3JtWzJdLC10KmEuc3RkZm9ybVsxXV0pLHRoaXMucG9pbnQyLmNvb3Jkcz1uZXcgcyhvLkNPT1JEU19CWV9VU0VSLGgsYy5ib2FyZCksdGhpcy5wb2ludDEuY29vcmRzPW5ldyBzKG8uQ09PUkRTX0JZX1VTRVIsdSxjLmJvYXJkKSx0aGlzLnBvaW50My5jb29yZHM9bmV3IHMoby5DT09SRFNfQllfVVNFUixsLGMuYm9hcmQpLE1hdGguYWJzKGhbMF0pPGkuZXBzfHxNYXRoLmFicyh1WzBdKTxpLmVwc3x8TWF0aC5hYnMobFswXSk8aS5lcHMpcmV0dXJuIHRoaXMuZGF0YVg9W05hTl0sdm9pZCh0aGlzLmRhdGFZPVtOYU5dKTtkPWUuYmV6aWVyQXJjKGgsdSxsLCEwLDEpLHRoaXMuZGF0YVg9ZFswXSx0aGlzLmRhdGFZPWRbMV0sdGhpcy5iZXppZXJEZWdyZWU9M30sYy5tZXRob2RNYXA9dC5kZWVwQ29weShjLm1ldGhvZE1hcCx7cmFkaXVzOlwiUmFkaXVzXCIsZ2V0UmFkaXVzOlwiUmFkaXVzXCIsc2V0UmFkaXVzOlwic2V0UmFkaXVzXCJ9KTtlbHNlIGlmKFwiM3BvaW50c1wiPT09Zyl7Zm9yKGMucG9pbnQxPW1bMF0sYy5wb2ludDI9bVsxXSxjLnBvaW50Mz1tWzJdLHU9MDt1PDM7dSsrKW4uZXhpc3RzKG1bdV0uX2lzX25ldyk/KGMuYWRkQ2hpbGQobVt1XSksZGVsZXRlIG1bdV0uX2lzX25ldyk6bVt1XS5hZGRDaGlsZChjKTtjLnVzZURpcmVjdGlvbj1sLnVzZWRpcmVjdGlvbixjLnNldFBhcmVudHMobSksbi5leGlzdHMobVszXSkmJihjLnBvaW50ND1tWzNdLGMucG9pbnQ0LmFkZENoaWxkKGMpKSxjLm1ldGhvZE1hcD10LmRlZXBDb3B5KGMubWV0aG9kTWFwLHthcmM6XCJhcmNcIixjZW50ZXI6XCJjZW50ZXJcIixyYWRpdXNwb2ludDpcInJhZGl1c3BvaW50XCIsYW5nbGVwb2ludDpcImFuZ2xlcG9pbnRcIixyYWRpdXM6XCJSYWRpdXNcIixnZXRSYWRpdXM6XCJSYWRpdXNcIixzZXRSYWRpdXM6XCJzZXRSYWRpdXNcIn0pLGMudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQsaSxyLHMsbyxhPXRoaXMucG9pbnQyLGg9dGhpcy5wb2ludDEsbD10aGlzLnBvaW50MyxjPTEsZD1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zZWxlY3Rpb24pO2lmKCFhLmlzUmVhbHx8IWguaXNSZWFsfHwhbC5pc1JlYWwpcmV0dXJuIHRoaXMuZGF0YVg9W05hTl0sdm9pZCh0aGlzLmRhdGFZPVtOYU5dKTtvPWUucmFkKGEsaCxsKSwoXCJtaW5vclwiPT09ZCYmbz5NYXRoLlBJfHxcIm1ham9yXCI9PT1kJiZvPE1hdGguUEkpJiYoYz0tMSksdGhpcy51c2VEaXJlY3Rpb24mJm4uZXhpc3RzKHRoaXMucG9pbnQ0KSYmKGk9dGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxyPXRoaXMucG9pbnQ0LmNvb3Jkcy51c3JDb29yZHMscz10aGlzLnBvaW50My5jb29yZHMudXNyQ29vcmRzLChpWzFdLXNbMV0pKihpWzJdLXJbMl0pLShpWzJdLXNbMl0pKihpWzFdLXJbMV0pPj0wJiYobD10aGlzLnBvaW50MixhPXRoaXMucG9pbnQzKSksYT1hLmNvb3Jkcy51c3JDb29yZHMsaD1oLmNvb3Jkcy51c3JDb29yZHMsbD1sLmNvb3Jkcy51c3JDb29yZHMsdD1lLmJlemllckFyYyhhLGgsbCwhMCxjKSx0aGlzLmRhdGFYPXRbMF0sdGhpcy5kYXRhWT10WzFdLHRoaXMuYmV6aWVyRGVncmVlPTN9LGMuUmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9pbnQyLkRpc3QodGhpcy5wb2ludDEpfSwoZD1uLmNvcHlBdHRyaWJ1dGVzKGwsYS5vcHRpb25zLFwic2VjdG9yXCIsXCJhcmNcIikpLndpdGhMYWJlbD0hMSxkLm5hbWUrPVwiX2FyY1wiLGMuYXJjPWEuY3JlYXRlKFwiYXJjXCIsW2MucG9pbnQxLGMucG9pbnQyLGMucG9pbnQzXSxkKSxjLmFkZENoaWxkKGMuYXJjKX1yZXR1cm4gYy5jZW50ZXI9Yy5wb2ludDEsYy5yYWRpdXNwb2ludD1jLnBvaW50MixjLmFuZ2xlcG9pbnQ9Yy5wb2ludDMsYy5oYXNQb2ludEN1cnZlPWZ1bmN0aW9uKHQsaSl7dmFyIHIsYSxoLGwsYyxkLHU9bmV3IHMoby5DT09SRFNfQllfU0NSRUVOLFt0LGldLHRoaXMuYm9hcmQpLHA9dGhpcy5SYWRpdXMoKSxmPXRoaXMuY2VudGVyLmNvb3Jkcy5kaXN0YW5jZShvLkNPT1JEU19CWV9VU0VSLHUpLG09bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2VsZWN0aW9uKTtyZXR1cm4gbi5pc09iamVjdChuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb24pKT8oYz10aGlzLmJvYXJkLl9pbnB1dERldmljZSxsPW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbltjXSkpOmw9dGhpcy5ib2FyZC5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludCxsLz1NYXRoLm1pbih0aGlzLmJvYXJkLnVuaXRYLHRoaXMuYm9hcmQudW5pdFkpLChkPU1hdGguYWJzKGYtcCk8bCkmJihyPWUucmFkKHRoaXMucG9pbnQyLHRoaXMuY2VudGVyLHUudXNyQ29vcmRzLnNsaWNlKDEpKSxhPTAsaD1lLnJhZCh0aGlzLnBvaW50Mix0aGlzLmNlbnRlcix0aGlzLnBvaW50MyksKFwibWlub3JcIj09PW0mJmg+TWF0aC5QSXx8XCJtYWpvclwiPT09bSYmaDxNYXRoLlBJKSYmKGE9aCxoPTIqTWF0aC5QSSksKHI8YXx8cj5oKSYmKGQ9ITEpKSxkfSxjLmhhc1BvaW50U2VjdG9yPWZ1bmN0aW9uKHQsaSl7dmFyIHIsYSxoLGw9bmV3IHMoby5DT09SRFNfQllfU0NSRUVOLFt0LGldLHRoaXMuYm9hcmQpLGM9dGhpcy5SYWRpdXMoKSxkPXRoaXMucG9pbnQxLmNvb3Jkcy5kaXN0YW5jZShvLkNPT1JEU19CWV9VU0VSLGwpPGMsdT1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zZWxlY3Rpb24pO3JldHVybiBkJiYocj1lLnJhZCh0aGlzLnJhZGl1c3BvaW50LHRoaXMuY2VudGVyLGwudXNyQ29vcmRzLnNsaWNlKDEpKSxhPTAsaD1lLnJhZCh0aGlzLnJhZGl1c3BvaW50LHRoaXMuY2VudGVyLHRoaXMuYW5nbGVwb2ludCksKFwibWlub3JcIj09PXUmJmg+TWF0aC5QSXx8XCJtYWpvclwiPT09dSYmaDxNYXRoLlBJKSYmKGE9aCxoPTIqTWF0aC5QSSksKHI8YXx8cj5oKSYmKGQ9ITEpKSxkfSxjLmhhc1BvaW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLmhpZ2hsaWdodG9uc2VjdG9yKXx8bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaGFzaW5uZXJwb2ludHMpP3RoaXMuaGFzUG9pbnRTZWN0b3IodCxlKTp0aGlzLmhhc1BvaW50Q3VydmUodCxlKX0sYy5nZXRUZXh0QW5jaG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9pbnQxLmNvb3Jkc30sYy5nZXRMYWJlbEFuY2hvcj1mdW5jdGlvbigpe3ZhciB0LGkscixhLGgsbD1lLnJhZCh0aGlzLnBvaW50Mix0aGlzLnBvaW50MSx0aGlzLnBvaW50MyksYz0xMy90aGlzLmJvYXJkLnVuaXRYLGQ9MTMvdGhpcy5ib2FyZC51bml0WSx1PXRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMscD10aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGY9dVsxXS1wWzFdLG09dVsyXS1wWzJdLGc9bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2VsZWN0aW9uKSxiPXRoaXMubGFiZWw/dGhpcy5sYWJlbC52aXNQcm9wOnRoaXMudmlzUHJvcC5sYWJlbDtyZXR1cm4oXCJtaW5vclwiPT09ZyYmbD5NYXRoLlBJfHxcIm1ham9yXCI9PT1nJiZsPE1hdGguUEkpJiYobD0tKDIqTWF0aC5QSS1sKSkscj0odD1uZXcgcyhvLkNPT1JEU19CWV9VU0VSLFtwWzFdK01hdGguY29zKC41KmwpKmYtTWF0aC5zaW4oLjUqbCkqbSxwWzJdK01hdGguc2luKC41KmwpKmYrTWF0aC5jb3MoLjUqbCkqbV0sdGhpcy5ib2FyZCkpLnVzckNvb3Jkc1sxXS1wWzFdLGE9dC51c3JDb29yZHNbMl0tcFsyXSxyPXIqKChoPU1hdGguc3FydChyKnIrYSphKSkrYykvaCxhPWEqKGgrZCkvaCxpPVtwWzFdK3IscFsyXSthXSxiLnBvc2l0aW9uPWUuY2FsY0xhYmVsUXVhZHJhbnQoZS5yYWQoWzEsMF0sWzAsMF0saSkpLG5ldyBzKG8uQ09PUkRTX0JZX1VTRVIsaSx0aGlzLmJvYXJkKX0sYy5zZXRSYWRpdXM9ZnVuY3Rpb24odCl7Yy5SYWRpdXM9ZnVuY3Rpb24oKXt2YXIgZT1uLmV2YWx1YXRlKHQpO3JldHVyblwiYXV0b1wiPT09ZT90aGlzLmF1dG9SYWRpdXMoKTplfX0sYy5nZXRSYWRpdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiU2VjdG9yLmdldFJhZGl1cygpXCIsXCJTZWN0b3IuUmFkaXVzKClcIiksdGhpcy5SYWRpdXMoKX0sXCIzcG9pbnRzXCI9PT1nJiYoYy5zZXRQb3NpdGlvbkRpcmVjdGx5PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxuPW5ldyBzKHQsZSx0aGlzLmJvYXJkKSxhPW5ldyBzKHQsaSx0aGlzLmJvYXJkKTtyZXR1cm4gYy5wb2ludDEuZHJhZ2dhYmxlKCkmJmMucG9pbnQyLmRyYWdnYWJsZSgpJiZjLnBvaW50My5kcmFnZ2FibGUoKT8obz1yLnN1YnRyYWN0KG4udXNyQ29vcmRzLGEudXNyQ29vcmRzKSx0aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLG8uc2xpY2UoMSkse3R5cGU6XCJ0cmFuc2xhdGVcIn0pLmFwcGx5T25jZShbYy5wb2ludDEsYy5wb2ludDIsYy5wb2ludDNdKSx0aGlzKTp0aGlzfSksYy5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksY30sdC5yZWdpc3RlckVsZW1lbnQoXCJzZWN0b3JcIix0LmNyZWF0ZVNlY3RvciksdC5jcmVhdGVDaXJjdW1jaXJjbGVTZWN0b3I9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxhO2lmKCExPT09KGE9bi5wcm92aWRlUG9pbnRzKHQsZSxpLFwicG9pbnRcIikpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY2lyY3VtY2lyY2xlIHNlY3RvciB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMl0rXCInLlwiKTtyZXR1cm4ocz10LmNyZWF0ZShcImNpcmN1bWNlbnRlclwiLGEuc2xpY2UoMCwzKSxvKSkuZHVtcD0hMSxvPW4uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJjaXJjdW1jaXJjbGVzZWN0b3JcIiksKHI9dC5jcmVhdGUoXCJzZWN0b3JcIixbcyxhWzBdLGFbMl0sYVsxXV0sbykpLmVsVHlwZT1cImNpcmN1bWNpcmNsZXNlY3RvclwiLHIuc2V0UGFyZW50cyhhKSxyLmNlbnRlcj1zLHIuc3Vicz17Y2VudGVyOnN9LHJ9LHQucmVnaXN0ZXJFbGVtZW50KFwiY2lyY3VtY2lyY2xlc2VjdG9yXCIsdC5jcmVhdGVDaXJjdW1jaXJjbGVTZWN0b3IpLHQuY3JlYXRlTWlub3JTZWN0b3I9ZnVuY3Rpb24oZSxpLHIpe3JldHVybiByLnNlbGVjdGlvbj1cIm1pbm9yXCIsdC5jcmVhdGVTZWN0b3IoZSxpLHIpfSx0LnJlZ2lzdGVyRWxlbWVudChcIm1pbm9yc2VjdG9yXCIsdC5jcmVhdGVNaW5vclNlY3RvciksdC5jcmVhdGVNYWpvclNlY3Rvcj1mdW5jdGlvbihlLGkscil7cmV0dXJuIHIuc2VsZWN0aW9uPVwibWFqb3JcIix0LmNyZWF0ZVNlY3RvcihlLGkscil9LHQucmVnaXN0ZXJFbGVtZW50KFwibWFqb3JzZWN0b3JcIix0LmNyZWF0ZU1ham9yU2VjdG9yKSx0LmNyZWF0ZUFuZ2xlPWZ1bmN0aW9uKHQscixhKXt2YXIgaCxsLGMsZCx1LHAsZj1cImludmFsaWRcIjtpZihyWzBdLmVsZW1lbnRDbGFzcz09PW8uT0JKRUNUX0NMQVNTX0xJTkUmJnJbMV0uZWxlbWVudENsYXNzPT09by5PQkpFQ1RfQ0xBU1NfTElORSYmKG4uaXNBcnJheShyWzJdKXx8bi5pc051bWJlcihyWzJdKSkmJihuLmlzQXJyYXkoclszXSl8fG4uaXNOdW1iZXIoclszXSkpKWY9XCIybGluZXNcIjtlbHNle2lmKCExPT09KHA9bi5wcm92aWRlUG9pbnRzKHQscixhLFwicG9pbnRcIikpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgYW5nbGUgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiByWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiByWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiByWzJdK1wiJy5cIik7Zj1cIjNwb2ludHNcIn1pZihjPW4uY29weUF0dHJpYnV0ZXMoYSx0Lm9wdGlvbnMsXCJhbmdsZVwiKSxuLmV4aXN0cyhjLm5hbWUpJiZcIlwiIT09Yy5uYW1lfHwoYy5uYW1lPXQuZ2VuZXJhdGVOYW1lKHt0eXBlOm8uT0JKRUNUX1RZUEVfQU5HTEV9KSksbD1uLmV4aXN0cyhjLnJhZGl1cyk/Yy5yYWRpdXM6MCxcIjJsaW5lc1wiPT09Zj8oci5wdXNoKGwpLChoPXQuY3JlYXRlKFwic2VjdG9yXCIscixjKSkudXBkYXRlRGF0YUFycmF5U2VjdG9yPWgudXBkYXRlRGF0YUFycmF5LGguc2V0QW5nbGU9ZnVuY3Rpb24odCl7fSxoLmZyZWU9ZnVuY3Rpb24odCl7fSk6KChoPXQuY3JlYXRlKFwic2VjdG9yXCIsW3BbMV0scFswXSxwWzJdXSxjKSkuYXJjLnZpc1Byb3AucHJpdj0hMCxoLnBvaW50PWgucG9pbnQyPWgucmFkaXVzcG9pbnQ9cFswXSxoLnBvaW50c3F1YXJlPWgucG9pbnQzPWguYW5nbGVwb2ludD1wWzJdLGguUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIHQ9bi5ldmFsdWF0ZShsKTtyZXR1cm5cImF1dG9cIj09PXQ/aC5hdXRvUmFkaXVzKCk6dH0saC51cGRhdGVEYXRhQXJyYXlTZWN0b3I9ZnVuY3Rpb24oKXt2YXIgdCxpLHI9dGhpcy5wb2ludDIscz10aGlzLnBvaW50MSxvPXRoaXMucG9pbnQzLGE9dGhpcy5SYWRpdXMoKSxoPXMuRGlzdChyKSxsPTEsYz1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zZWxlY3Rpb24pO2k9ZS5yYWQocixzLG8pLChcIm1pbm9yXCI9PT1jJiZpPk1hdGguUEl8fFwibWFqb3JcIj09PWMmJmk8TWF0aC5QSSkmJihsPS0xKSxyPXIuY29vcmRzLnVzckNvb3JkcyxzPXMuY29vcmRzLnVzckNvb3JkcyxvPW8uY29vcmRzLnVzckNvb3JkcyxyPVsxLHNbMV0rKHJbMV0tc1sxXSkqYS9oLHNbMl0rKHJbMl0tc1syXSkqYS9oXSxvPVsxLHNbMV0rKG9bMV0tc1sxXSkqYS9oLHNbMl0rKG9bMl0tc1syXSkqYS9oXSx0PWUuYmV6aWVyQXJjKHIscyxvLCEwLGwpLHRoaXMuZGF0YVg9dFswXSx0aGlzLmRhdGFZPXRbMV0sdGhpcy5iZXppZXJEZWdyZWU9M30saC5zZXRBbmdsZT1mdW5jdGlvbih0KXt2YXIgZSxyLHMsbz10aGlzLmFuZ2xlcG9pbnQsYT10aGlzLnJhZGl1c3BvaW50O3JldHVybiBvLmRyYWdnYWJsZSgpJiYoZT10aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLFt0LHRoaXMuY2VudGVyXSx7dHlwZTpcInJvdGF0ZVwifSksby5hZGRUcmFuc2Zvcm0oYSxlKSxlLnVwZGF0ZSgpLG8ubW92ZVRvKGkubWF0VmVjTXVsdChlLm1hdHJpeCxhLmNvb3Jkcy51c3JDb29yZHMpKSxzPW4uaXNGdW5jdGlvbih0KT9mdW5jdGlvbigpe3JldHVybiAyKk1hdGguUEktdCgpfTpmdW5jdGlvbigpe3JldHVybiAyKk1hdGguUEktdH0scj10aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtzLHRoaXMuY2VudGVyXSx7dHlwZTpcInJvdGF0ZVwifSksby5jb29yZHMub24oXCJ1cGRhdGVcIiwoZnVuY3Rpb24oKXtyLnVwZGF0ZSgpLGEubW92ZVRvKGkubWF0VmVjTXVsdChyLm1hdHJpeCxvLmNvb3Jkcy51c3JDb29yZHMpKX0pKSxvLnNldFBhcmVudHMoYSkpLHRoaXN9LGguZnJlZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYW5nbGVwb2ludDtyZXR1cm4gdC50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoPjAmJih0LnRyYW5zZm9ybWF0aW9ucy5wb3AoKSx0LmlzRHJhZ2dhYmxlPSEwLHQucGFyZW50cz1bXSx0LmNvb3Jkcy5vZmYoXCJ1cGRhdGVcIikpLHRoaXN9LGguc2V0UGFyZW50cyhwKSksbi5leGlzdHMoaC52aXNQcm9wLnRleHQpJiZoLmxhYmVsLnNldFRleHQobi5ldmFsdWF0ZShoLnZpc1Byb3AudGV4dCkpLGguZWxUeXBlPVwiYW5nbGVcIixoLnR5cGU9by5PQkpFQ1RfVFlQRV9BTkdMRSxoLnN1YnM9e30saC51cGRhdGVEYXRhQXJyYXlTcXVhcmU9ZnVuY3Rpb24oKXt2YXIgdCxyLHMsbyxuLGEsaCxsLGM9dGhpcy5SYWRpdXMoKTtcIjJsaW5lc1wiPT09ZiYmdGhpcy51cGRhdGVEYXRhQXJyYXlTZWN0b3IoKSx0PXRoaXMucG9pbnQyLHI9dGhpcy5wb2ludDEscz10aGlzLnBvaW50Myx0PXQuY29vcmRzLnVzckNvb3JkcyxyPXIuY29vcmRzLnVzckNvb3JkcyxzPXMuY29vcmRzLnVzckNvb3JkcyxvPWUuZGlzdGFuY2UodCxyLDMpLG49ZS5kaXN0YW5jZShzLHIsMyksdD1bMSxyWzFdKyh0WzFdLXJbMV0pKmMvbyxyWzJdKyh0WzJdLXJbMl0pKmMvb10scz1bMSxyWzFdKyhzWzFdLXJbMV0pKmMvbixyWzJdKyhzWzJdLXJbMl0pKmMvbl0sYT1pLmNyb3NzUHJvZHVjdChzLHIpLGg9Wy10WzFdKmFbMV0tdFsyXSphWzJdLHRbMF0qYVsxXSx0WzBdKmFbMl1dLGE9aS5jcm9zc1Byb2R1Y3QodCxyKSxsPVstc1sxXSphWzFdLXNbMl0qYVsyXSxzWzBdKmFbMV0sc1swXSphWzJdXSwoYT1pLmNyb3NzUHJvZHVjdChoLGwpKVsxXS89YVswXSxhWzJdLz1hWzBdLHRoaXMuZGF0YVg9W3JbMV0sdFsxXSxhWzFdLHNbMV0sclsxXV0sdGhpcy5kYXRhWT1bclsyXSx0WzJdLGFbMl0sc1syXSxyWzJdXSx0aGlzLmJlemllckRlZ3JlZT0xfSxoLnVwZGF0ZURhdGFBcnJheU5vbmU9ZnVuY3Rpb24oKXt0aGlzLmRhdGFYPVtOYU5dLHRoaXMuZGF0YVk9W05hTl0sdGhpcy5iZXppZXJEZWdyZWU9MX0saC51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdD1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50eXBlKSxyPWUudHJ1ZUFuZ2xlKHRoaXMucG9pbnQyLHRoaXMucG9pbnQxLHRoaXMucG9pbnQzKSxzPW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNlbGVjdGlvbik7KFwibWlub3JcIj09PXMmJnI+MTgwfHxcIm1ham9yXCI9PT1zJiZyPDE4MCkmJihyPTM2MC1yKSxNYXRoLmFicyhyLTkwKTxuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5vcnRob3NlbnNpdGl2aXR5KStpLmVwcyYmKHQ9bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Aub3J0aG90eXBlKSksXCJub25lXCI9PT10P3RoaXMudXBkYXRlRGF0YUFycmF5Tm9uZSgpOlwic3F1YXJlXCI9PT10P3RoaXMudXBkYXRlRGF0YUFycmF5U3F1YXJlKCk6XCJzZWN0b3JcIj09PXQ/dGhpcy51cGRhdGVEYXRhQXJyYXlTZWN0b3IoKTpcInNlY3RvcmRvdFwiPT09dCYmKHRoaXMudXBkYXRlRGF0YUFycmF5U2VjdG9yKCksdGhpcy5kb3QudmlzUHJvcC52aXNpYmxlfHx0aGlzLmRvdC5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITB9KSksKCF0aGlzLnZpc1Byb3AudmlzaWJsZXx8XCJzZWN0b3Jkb3RcIiE9PXQmJnRoaXMuZG90LnZpc1Byb3AudmlzaWJsZSkmJnRoaXMuZG90LnNldEF0dHJpYnV0ZSh7dmlzaWJsZTohMX0pfSxkPW4uY29weUF0dHJpYnV0ZXMoYSx0Lm9wdGlvbnMsXCJhbmdsZVwiLFwiZG90XCIpLGguZG90PXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXt2YXIgdCxyLHMsbyxhLGwsYyxkLHU7cmV0dXJuIG4uZXhpc3RzKGguZG90KSYmIWguZG90LnZpc1Byb3AudmlzaWJsZT9bMCwwXToodD1oLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLHI9aC5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxzPWguUmFkaXVzKCksbz1lLmRpc3RhbmNlKHQsciwzKSxhPWUucmFkKGgucG9pbnQyLGgucG9pbnQxLGgucG9pbnQzKSwoXCJtaW5vclwiPT09KHU9bi5ldmFsdWF0ZShoLnZpc1Byb3Auc2VsZWN0aW9uKSkmJmE+TWF0aC5QSXx8XCJtYWpvclwiPT09dSYmYTxNYXRoLlBJKSYmKGE9LSgyKk1hdGguUEktYSkpLGEqPS41LGw9TWF0aC5jb3MoYSksYz1NYXRoLnNpbihhKSx0PVsxLHJbMV0rKHRbMV0tclsxXSkqcy9vLHJbMl0rKHRbMl0tclsyXSkqcy9vXSxkPVtbMSwwLDBdLFtyWzFdLS41KnJbMV0qbCsuNSpyWzJdKmMsLjUqbCwuNSotY10sW3JbMl0tLjUqclsxXSpjLS41KnJbMl0qbCwuNSpjLC41KmxdXSxpLm1hdFZlY011bHQoZCx0KSl9XSxkKSxoLmRvdC5kdW1wPSExLGguc3Vicy5kb3Q9aC5kb3QsXCIybGluZXNcIj09PWYpZm9yKHU9MDt1PDI7dSsrKXQuc2VsZWN0KHJbdV0pLmFkZENoaWxkKGguZG90KTtlbHNlIGZvcih1PTA7dTwzO3UrKyl0LnNlbGVjdChwW3VdKS5hZGRDaGlsZChoLmRvdCk7cmV0dXJuIGguZ2V0TGFiZWxBbmNob3I9ZnVuY3Rpb24oKXt2YXIgdCxyLGEsbCxjLGQsdSxwLGYsbT0xMixnPW4uZXZhbHVhdGUoaC52aXNQcm9wLnNlbGVjdGlvbiksYj10aGlzLmxhYmVsP3RoaXMubGFiZWwudmlzUHJvcDp0aGlzLnZpc1Byb3AubGFiZWw7cmV0dXJuIG4uZXhpc3RzKHRoaXMubGFiZWwudmlzUHJvcC5mb250U2l6ZSkmJihtPW4uZXZhbHVhdGUodGhpcy5sYWJlbC52aXNQcm9wLmZvbnRTaXplKSksbS89dGhpcy5ib2FyZC51bml0WCxyPWgucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMsYT1oLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGw9aC5SYWRpdXMoKSxjPWUuZGlzdGFuY2UocixhLDMpLGQ9ZS5yYWQoaC5wb2ludDIsaC5wb2ludDEsaC5wb2ludDMpLChcIm1pbm9yXCI9PT1nJiZkPk1hdGguUEl8fFwibWFqb3JcIj09PWcmJmQ8TWF0aC5QSSkmJihkPS0oMipNYXRoLlBJLWQpKSxkKj0uNSx1PU1hdGguY29zKGQpLHA9TWF0aC5zaW4oZCkscj1bMSxhWzFdKyhyWzFdLWFbMV0pKmwvYyxhWzJdKyhyWzJdLWFbMl0pKmwvY10sZj1bWzEsMCwwXSxbYVsxXS0uNSphWzFdKnUrLjUqYVsyXSpwLC41KnUsLjUqLXBdLFthWzJdLS41KmFbMV0qcC0uNSphWzJdKnUsLjUqcCwuNSp1XV0sKHQ9aS5tYXRWZWNNdWx0KGYscikpWzFdLz10WzBdLHRbMl0vPXRbMF0sdFswXS89dFswXSxjPWUuZGlzdGFuY2UodCxhLDMpLHQ9W3RbMF0sYVsxXSsodFsxXS1hWzFdKSoobCttKS9jLGFbMl0rKHRbMl0tYVsyXSkqKGwrbSkvY10sYi5wb3NpdGlvbj1lLmNhbGNMYWJlbFF1YWRyYW50KGUucmFkKFsxLDBdLFswLDBdLHQpKSxuZXcgcyhvLkNPT1JEU19CWV9VU0VSLHQsdGhpcy5ib2FyZCl9LGguVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5yYWQodGhpcy5wb2ludDIsdGhpcy5wb2ludDEsdGhpcy5wb2ludDMpfSxoLm1ldGhvZE1hcD1uLmRlZXBDb3B5KGgubWV0aG9kTWFwLHtWYWx1ZTpcIlZhbHVlXCIsc2V0QW5nbGU6XCJzZXRBbmdsZVwiLGZyZWU6XCJmcmVlXCJ9KSxofSx0LnJlZ2lzdGVyRWxlbWVudChcImFuZ2xlXCIsdC5jcmVhdGVBbmdsZSksdC5jcmVhdGVOb25yZWZsZXhBbmdsZT1mdW5jdGlvbihpLHIscyl7dmFyIG87cmV0dXJuIHMuc2VsZWN0aW9uPVwibWlub3JcIiwobz10LmNyZWF0ZUFuZ2xlKGkscixzKSkuVmFsdWU9ZnVuY3Rpb24oKXt2YXIgdD1lLnJhZCh0aGlzLnBvaW50Mix0aGlzLnBvaW50MSx0aGlzLnBvaW50Myk7cmV0dXJuIHQ8TWF0aC5QST90OjIqTWF0aC5QSS10fSxvfSx0LnJlZ2lzdGVyRWxlbWVudChcIm5vbnJlZmxleGFuZ2xlXCIsdC5jcmVhdGVOb25yZWZsZXhBbmdsZSksdC5jcmVhdGVSZWZsZXhBbmdsZT1mdW5jdGlvbihpLHIscyl7dmFyIG87cmV0dXJuIHMuc2VsZWN0aW9uPVwibWFqb3JcIiwobz10LmNyZWF0ZUFuZ2xlKGkscixzKSkuVmFsdWU9ZnVuY3Rpb24oKXt2YXIgdD1lLnJhZCh0aGlzLnBvaW50Mix0aGlzLnBvaW50MSx0aGlzLnBvaW50Myk7cmV0dXJuIHQ+PU1hdGguUEk/dDoyKk1hdGguUEktdH0sb30sdC5yZWdpc3RlckVsZW1lbnQoXCJyZWZsZXhhbmdsZVwiLHQuY3JlYXRlUmVmbGV4QW5nbGUpLHtjcmVhdGVTZWN0b3I6dC5jcmVhdGVTZWN0b3IsY3JlYXRlQ2lyY3VtY2lyY2xlU2VjdG9yOnQuY3JlYXRlQ2lyY3VtY2lyY2xlU2VjdG9yLGNyZWF0ZU1pbm9yU2VjdG9yOnQuY3JlYXRlTWlub3JTZWN0b3IsY3JlYXRlTWFqb3JTZWN0b3I6dC5jcmVhdGVNYWpvclNlY3RvcixjcmVhdGVBbmdsZTp0LmNyZWF0ZUFuZ2xlLGNyZWF0ZVJlZmxleEFuZ2xlOnQuY3JlYXRlUmVmbGV4QW5nbGUsY3JlYXRlTm9ucmVmbGV4QW5nbGU6dC5jcmVhdGVOb25yZWZsZXhBbmdsZX19KSksZGVmaW5lKFwiYmFzZS90cmFuc2Zvcm1hdGlvblwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcIm1hdGgvbWF0aFwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuVHJhbnNmb3JtYXRpb249ZnVuY3Rpb24odCxpLHIpe3RoaXMuZWxlbWVudENsYXNzPWUuT0JKRUNUX0NMQVNTX09USEVSLHRoaXMudHlwZT1lLk9CSkVDVF9UWVBFX1RSQU5TRk9STUFUSU9OLHRoaXMubWF0cml4PVtbMSwwLDBdLFswLDEsMF0sWzAsMCwxXV0sdGhpcy5ib2FyZD10LHRoaXMuaXNOdW1lcmljTWF0cml4PSExLHRoaXMuc2V0TWF0cml4KHQsaSxyKSx0aGlzLm1ldGhvZE1hcD17YXBwbHk6XCJhcHBseVwiLGFwcGx5T25jZTpcImFwcGx5T25jZVwiLGJpbmRUbzpcImJpbmRUb1wiLGJpbmQ6XCJiaW5kVG9cIixtZWx0OlwibWVsdFwifX0sdC5UcmFuc2Zvcm1hdGlvbi5wcm90b3R5cGU9e30sdC5leHRlbmQodC5UcmFuc2Zvcm1hdGlvbi5wcm90b3R5cGUse3VwZGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxzZXRNYXRyaXg6ZnVuY3Rpb24odCxlLHMpe3ZhciBvO2Zvcih0aGlzLmlzTnVtZXJpY01hdHJpeD0hMCxvPTA7bzxzLmxlbmd0aDtvKyspaWYoXCJudW1iZXJcIiE9dHlwZW9mIHNbb10pe3RoaXMuaXNOdW1lcmljTWF0cml4PSExO2JyZWFrfWlmKFwidHJhbnNsYXRlXCI9PT1lKXtpZigyIT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IHRyYW5zbGF0ZSB0cmFuc2Zvcm1hdGlvbiBuZWVkcyAyIHBhcmFtZXRlcnMuXCIpO3RoaXMuZXZhbFBhcmFtPXIuY3JlYXRlRXZhbEZ1bmN0aW9uKHQscywyKSx0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMubWF0cml4WzFdWzBdPXRoaXMuZXZhbFBhcmFtKDApLHRoaXMubWF0cml4WzJdWzBdPXRoaXMuZXZhbFBhcmFtKDEpfX1lbHNlIGlmKFwic2NhbGVcIj09PWUpe2lmKDIhPT1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogc2NhbGUgdHJhbnNmb3JtYXRpb24gbmVlZHMgMiBwYXJhbWV0ZXJzLlwiKTt0aGlzLmV2YWxQYXJhbT1yLmNyZWF0ZUV2YWxGdW5jdGlvbih0LHMsMiksdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm1hdHJpeFsxXVsxXT10aGlzLmV2YWxQYXJhbSgwKSx0aGlzLm1hdHJpeFsyXVsyXT10aGlzLmV2YWxQYXJhbSgxKX19ZWxzZSBpZihcInJlZmxlY3RcIj09PWUpcy5sZW5ndGg8NCYmKHNbMF09dC5zZWxlY3Qoc1swXSkpLDI9PT1zLmxlbmd0aCYmKHNbMV09dC5zZWxlY3Qoc1sxXSkpLDQ9PT1zLmxlbmd0aCYmKHRoaXMuZXZhbFBhcmFtPXIuY3JlYXRlRXZhbEZ1bmN0aW9uKHQscyw0KSksdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgdCxlLHIsbyxuLGEsaCxsOzE9PT1zLmxlbmd0aD9oPXNbMF0uc3RkZm9ybToyPT09cy5sZW5ndGg/aD1pLmNyb3NzUHJvZHVjdChzWzFdLmNvb3Jkcy51c3JDb29yZHMsc1swXS5jb29yZHMudXNyQ29vcmRzKTo0PT09cy5sZW5ndGgmJihoPWkuY3Jvc3NQcm9kdWN0KFsxLHRoaXMuZXZhbFBhcmFtKDIpLHRoaXMuZXZhbFBhcmFtKDMpXSxbMSx0aGlzLmV2YWxQYXJhbSgwKSx0aGlzLmV2YWxQYXJhbSgxKV0pKSx0PWhbMV0sZT1oWzJdLGE9KGw9Wy0ocj1oWzBdKSp0LC1yKmUsdCp0K2UqZV0pWzJdLG89bFswXS9sWzJdLG49bFsxXS9sWzJdLHQ9LWhbMl0sZT1oWzFdLHRoaXMubWF0cml4WzFdWzFdPSh0KnQtZSplKS9hLHRoaXMubWF0cml4WzFdWzJdPTIqdCplL2EsdGhpcy5tYXRyaXhbMl1bMV09dGhpcy5tYXRyaXhbMV1bMl0sdGhpcy5tYXRyaXhbMl1bMl09LXRoaXMubWF0cml4WzFdWzFdLHRoaXMubWF0cml4WzFdWzBdPW8qKDEtdGhpcy5tYXRyaXhbMV1bMV0pLW4qdGhpcy5tYXRyaXhbMV1bMl0sdGhpcy5tYXRyaXhbMl1bMF09biooMS10aGlzLm1hdHJpeFsyXVsyXSktbyp0aGlzLm1hdHJpeFsyXVsxXX07ZWxzZSBpZihcInJvdGF0ZVwiPT09ZSkzPT09cy5sZW5ndGg/dGhpcy5ldmFsUGFyYW09ci5jcmVhdGVFdmFsRnVuY3Rpb24odCxzLDMpOnMubGVuZ3RoPjAmJnMubGVuZ3RoPD0yJiYodGhpcy5ldmFsUGFyYW09ci5jcmVhdGVFdmFsRnVuY3Rpb24odCxzLDEpLDIhPT1zLmxlbmd0aHx8ci5pc0FycmF5KHNbMV0pfHwoc1sxXT10LnNlbGVjdChzWzFdKSkpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMuZXZhbFBhcmFtKDApLG89TWF0aC5jb3MoaSksbj1NYXRoLnNpbihpKTt0aGlzLm1hdHJpeFsxXVsxXT1vLHRoaXMubWF0cml4WzFdWzJdPS1uLHRoaXMubWF0cml4WzJdWzFdPW4sdGhpcy5tYXRyaXhbMl1bMl09byxzLmxlbmd0aD4xJiYoMz09PXMubGVuZ3RoPyh0PXRoaXMuZXZhbFBhcmFtKDEpLGU9dGhpcy5ldmFsUGFyYW0oMikpOnIuaXNBcnJheShzWzFdKT8odD1zWzFdWzBdLGU9c1sxXVsxXSk6KHQ9c1sxXS5YKCksZT1zWzFdLlkoKSksdGhpcy5tYXRyaXhbMV1bMF09dCooMS1vKStlKm4sdGhpcy5tYXRyaXhbMl1bMF09ZSooMS1vKS10Km4pfTtlbHNlIGlmKFwic2hlYXJcIj09PWUpe2lmKDIhPT1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogc2hlYXIgdHJhbnNmb3JtYXRpb24gbmVlZHMgMiBwYXJhbWV0ZXJzLlwiKTt0aGlzLmV2YWxQYXJhbT1yLmNyZWF0ZUV2YWxGdW5jdGlvbih0LHMsMiksdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm1hdHJpeFsxXVsyXT10aGlzLmV2YWxQYXJhbSgwKSx0aGlzLm1hdHJpeFsyXVsxXT10aGlzLmV2YWxQYXJhbSgxKX19ZWxzZSBpZihcImdlbmVyaWNcIj09PWUpe2lmKDkhPT1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogZ2VuZXJpYyB0cmFuc2Zvcm1hdGlvbiBuZWVkcyA5IHBhcmFtZXRlcnMuXCIpO3RoaXMuZXZhbFBhcmFtPXIuY3JlYXRlRXZhbEZ1bmN0aW9uKHQscyw5KSx0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMubWF0cml4WzBdWzBdPXRoaXMuZXZhbFBhcmFtKDApLHRoaXMubWF0cml4WzBdWzFdPXRoaXMuZXZhbFBhcmFtKDEpLHRoaXMubWF0cml4WzBdWzJdPXRoaXMuZXZhbFBhcmFtKDIpLHRoaXMubWF0cml4WzFdWzBdPXRoaXMuZXZhbFBhcmFtKDMpLHRoaXMubWF0cml4WzFdWzFdPXRoaXMuZXZhbFBhcmFtKDQpLHRoaXMubWF0cml4WzFdWzJdPXRoaXMuZXZhbFBhcmFtKDUpLHRoaXMubWF0cml4WzJdWzBdPXRoaXMuZXZhbFBhcmFtKDYpLHRoaXMubWF0cml4WzJdWzFdPXRoaXMuZXZhbFBhcmFtKDcpLHRoaXMubWF0cml4WzJdWzJdPXRoaXMuZXZhbFBhcmFtKDgpfX19LGFwcGx5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudXBkYXRlKCksci5leGlzdHMoZSk/aS5tYXRWZWNNdWx0KHRoaXMubWF0cml4LHQuaW5pdGlhbENvb3Jkcy51c3JDb29yZHMpOmkubWF0VmVjTXVsdCh0aGlzLm1hdHJpeCx0LmNvb3Jkcy51c3JDb29yZHMpfSxhcHBseU9uY2U6ZnVuY3Rpb24odCl7dmFyIHMsbyxuO2ZvcihyLmlzQXJyYXkodCl8fCh0PVt0XSksbz10Lmxlbmd0aCxuPTA7bjxvO24rKyl0aGlzLnVwZGF0ZSgpLHM9aS5tYXRWZWNNdWx0KHRoaXMubWF0cml4LHRbbl0uY29vcmRzLnVzckNvb3JkcyksdFtuXS5jb29yZHMuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixzKX0sYmluZFRvOmZ1bmN0aW9uKHQpe3ZhciBlLGk7aWYoci5pc0FycmF5KHQpKWZvcihpPXQubGVuZ3RoLGU9MDtlPGk7ZSsrKXRbZV0udHJhbnNmb3JtYXRpb25zLnB1c2godGhpcyk7ZWxzZSB0LnRyYW5zZm9ybWF0aW9ucy5wdXNoKHRoaXMpfSxzZXRQcm9wZXJ0eTpmdW5jdGlvbihlKXt0LmRlcHJlY2F0ZWQoXCJUcmFuc2Zvcm1hdGlvbi5zZXRQcm9wZXJ0eSgpXCIsXCJUcmFuc2Zvcm1hdGlvbi5zZXRBdHRyaWJ1dGUoKVwiKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKHQpe30sbWVsdDpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG4sYT1bXTtmb3IoaT10Lm1hdHJpeC5sZW5ndGgscj10aGlzLm1hdHJpeFswXS5sZW5ndGgsZT0wO2U8aTtlKyspYVtlXT1bXTtmb3IodGhpcy51cGRhdGUoKSx0LnVwZGF0ZSgpLGU9MDtlPGk7ZSsrKWZvcihuPTA7bjxyO24rKyl7Zm9yKG89MCxzPTA7czxpO3MrKylvKz10Lm1hdHJpeFtlXVtzXSp0aGlzLm1hdHJpeFtzXVtuXTthW2VdW25dPW99cmV0dXJuIHRoaXMudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tYXRyaXgubGVuZ3RoLGk9dGhpcy5tYXRyaXhbMF0ubGVuZ3RoO2ZvcihlPTA7ZTx0O2UrKylmb3Iobj0wO248aTtuKyspdGhpcy5tYXRyaXhbZV1bbl09YVtlXVtuXX0sdGhpc30sZ2V0UGFyZW50czpmdW5jdGlvbigpe3ZhciB0PVtbXS5jb25jYXQuYXBwbHkoW10sdGhpcy5tYXRyaXgpXTtyZXR1cm4gMCE9PXRoaXMucGFyZW50cy5sZW5ndGgmJih0PXRoaXMucGFyZW50cyksdH19KSx0LmNyZWF0ZVRyYW5zZm9ybT1mdW5jdGlvbihlLGkscil7cmV0dXJuIG5ldyB0LlRyYW5zZm9ybWF0aW9uKGUsci50eXBlLGkpfSx0LnJlZ2lzdGVyRWxlbWVudChcInRyYW5zZm9ybVwiLHQuY3JlYXRlVHJhbnNmb3JtKSx7VHJhbnNmb3JtYXRpb246dC5UcmFuc2Zvcm1hdGlvbixjcmVhdGVUcmFuc2Zvcm06dC5jcmVhdGVUcmFuc2Zvcm19fSkpLGRlZmluZShcImVsZW1lbnQvY29tcG9zaXRpb25cIixbXCJqeGdcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwibWF0aC9udW1lcmljc1wiLFwiYmFzZS9jb29yZHNcIixcInV0aWxzL3R5cGVcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL3BvaW50XCIsXCJiYXNlL2xpbmVcIixcImJhc2UvY2lyY2xlXCIsXCJiYXNlL3RyYW5zZm9ybWF0aW9uXCIsXCJiYXNlL2NvbXBvc2l0aW9uXCIsXCJiYXNlL2N1cnZlXCIsXCJiYXNlL3BvbHlnb25cIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoLGwsYyxkLHUscCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuY3JlYXRlT3J0aG9nb25hbFByb2plY3Rpb249ZnVuY3Rpb24odCxlLHIpe3ZhciBzLGEsaCxsO2lmKGVbMF09dC5zZWxlY3QoZVswXSksZVsxXT10LnNlbGVjdChlWzFdKSxvLmlzUG9pbnRUeXBlKHQsZVswXSkmJmVbMV0uZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSlhPW8ucHJvdmlkZVBvaW50cyh0LFtlWzBdXSxyLFwicG9pbnRcIilbMF0scz1lWzFdO2Vsc2V7aWYoIW8uaXNQb2ludFR5cGUodCxlWzFdKXx8ZVswXS5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19MSU5FKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgcGVycGVuZGljdWxhciBwb2ludCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LGxpbmVdXCIpO2E9by5wcm92aWRlUG9pbnRzKHQsW2VbMV1dLHIsXCJwb2ludFwiKVswXSxzPWVbMF19cmV0dXJuIGw9by5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcIm9ydGhvZ29uYWxwcm9qZWN0aW9uXCIpLGg9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybiBpLnByb2plY3RQb2ludFRvTGluZShhLHMsdCl9XSxsKSxvLmV4aXN0cyhhLl9pc19uZXcpPyhoLmFkZENoaWxkKGEpLGRlbGV0ZSBhLl9pc19uZXcpOmEuYWRkQ2hpbGQoaCkscy5hZGRDaGlsZChoKSxoLmVsVHlwZT1cIm9ydGhvZ29uYWxwcm9qZWN0aW9uXCIsaC5zZXRQYXJlbnRzKFthLmlkLGguaWRdKSxoLnVwZGF0ZSgpLGguZ2VuZXJhdGVQb2x5bm9taWFsPWZ1bmN0aW9uKCl7dmFyIHQ9cy5wb2ludDEuc3ltYm9saWMueCxlPXMucG9pbnQxLnN5bWJvbGljLnksaT1zLnBvaW50Mi5zeW1ib2xpYy54LHI9cy5wb2ludDIuc3ltYm9saWMueSxvPWEuc3ltYm9saWMueCxuPWEuc3ltYm9saWMueSxsPWguc3ltYm9saWMueCxjPWguc3ltYm9saWMueTtyZXR1cm5bXCIoXCIrZStcIikqKFwiK2wrXCIpLShcIitlK1wiKSooXCIraStcIikrKFwiK2MrXCIpKihcIitpK1wiKS0oXCIrdCtcIikqKFwiK2MrXCIpKyhcIit0K1wiKSooXCIrcitcIiktKFwiK2wrXCIpKihcIityK1wiKVwiLFwiKFwiK24rXCIpKihcIitlK1wiKS0oXCIrbitcIikqKFwiK3IrXCIpLShcIitjK1wiKSooXCIrZStcIikrKFwiK2MrXCIpKihcIityK1wiKSsoXCIrbytcIikqKFwiK3QrXCIpLShcIitvK1wiKSooXCIraStcIiktKFwiK2wrXCIpKihcIit0K1wiKSsoXCIrbCtcIikqKFwiK2krXCIpXCJdfSxofSx0LmNyZWF0ZVBlcnBlbmRpY3VsYXI9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsYSxsO2lmKGVbMF09dC5zZWxlY3QoZVswXSksZVsxXT10LnNlbGVjdChlWzFdKSxvLmlzUG9pbnRUeXBlKHQsZVswXSkmJmVbMV0uZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSlzPWVbMV0scj1vLnByb3ZpZGVQb2ludHModCxbZVswXV0saSxcInBvaW50XCIpWzBdO2Vsc2V7aWYoIW8uaXNQb2ludFR5cGUodCxlWzFdKXx8ZVswXS5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19MSU5FKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgcGVycGVuZGljdWxhciB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2xpbmUscG9pbnRdXCIpO3M9ZVswXSxyPW8ucHJvdmlkZVBvaW50cyh0LFtlWzFdXSxpLFwicG9pbnRcIilbMF19cmV0dXJuIGw9by5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcInBlcnBlbmRpY3VsYXJcIiksKGE9aC5jcmVhdGVMaW5lKHQsW2Z1bmN0aW9uKCl7cmV0dXJuIHMuc3RkZm9ybVsyXSpyLlgoKS1zLnN0ZGZvcm1bMV0qci5ZKCl9LGZ1bmN0aW9uKCl7cmV0dXJuLXMuc3RkZm9ybVsyXSpyLlooKX0sZnVuY3Rpb24oKXtyZXR1cm4gcy5zdGRmb3JtWzFdKnIuWigpfV0sbCkpLmVsVHlwZT1cInBlcnBlbmRpY3VsYXJcIixhLnNldFBhcmVudHMoW3MuaWQsci5pZF0pLG8uZXhpc3RzKHIuX2lzX25ldyk/KGEuYWRkQ2hpbGQociksZGVsZXRlIHIuX2lzX25ldyk6ci5hZGRDaGlsZChhKSxzLmFkZENoaWxkKGEpLGF9LHQuY3JlYXRlUGVycGVuZGljdWxhclBvaW50PWZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxhLGg7aWYoZVswXT10LnNlbGVjdChlWzBdKSxlWzFdPXQuc2VsZWN0KGVbMV0pLG8uaXNQb2ludFR5cGUodCxlWzBdKSYmZVsxXS5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19MSU5FKWE9by5wcm92aWRlUG9pbnRzKHQsW2VbMF1dLHIsXCJwb2ludFwiKVswXSxzPWVbMV07ZWxzZXtpZighby5pc1BvaW50VHlwZSh0LGVbMV0pfHxlWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0xJTkUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBwZXJwZW5kaWN1bGFyIHBvaW50IHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQsbGluZV1cIik7YT1vLnByb3ZpZGVQb2ludHModCxbZVsxXV0scixcInBvaW50XCIpWzBdLHM9ZVswXX1yZXR1cm4gaD10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGkucGVycGVuZGljdWxhcihzLGEsdClbMF19XSxyKSxvLmV4aXN0cyhhLl9pc19uZXcpPyhoLmFkZENoaWxkKGEpLGRlbGV0ZSBhLl9pc19uZXcpOmEuYWRkQ2hpbGQoaCkscy5hZGRDaGlsZChoKSxoLmVsVHlwZT1cInBlcnBlbmRpY3VsYXJwb2ludFwiLGguc2V0UGFyZW50cyhbYS5pZCxzLmlkXSksaC51cGRhdGUoKSxoLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3ZhciB0PXMucG9pbnQxLnN5bWJvbGljLngsZT1zLnBvaW50MS5zeW1ib2xpYy55LGk9cy5wb2ludDIuc3ltYm9saWMueCxyPXMucG9pbnQyLnN5bWJvbGljLnksbz1hLnN5bWJvbGljLngsbj1hLnN5bWJvbGljLnksbD1oLnN5bWJvbGljLngsYz1oLnN5bWJvbGljLnk7cmV0dXJuW1wiKFwiK2UrXCIpKihcIitsK1wiKS0oXCIrZStcIikqKFwiK2krXCIpKyhcIitjK1wiKSooXCIraStcIiktKFwiK3QrXCIpKihcIitjK1wiKSsoXCIrdCtcIikqKFwiK3IrXCIpLShcIitsK1wiKSooXCIrcitcIilcIixcIihcIituK1wiKSooXCIrZStcIiktKFwiK24rXCIpKihcIityK1wiKS0oXCIrYytcIikqKFwiK2UrXCIpKyhcIitjK1wiKSooXCIrcitcIikrKFwiK28rXCIpKihcIit0K1wiKS0oXCIrbytcIikqKFwiK2krXCIpLShcIitsK1wiKSooXCIrdCtcIikrKFwiK2wrXCIpKihcIitpK1wiKVwiXX0saH0sdC5jcmVhdGVQZXJwZW5kaWN1bGFyU2VnbWVudD1mdW5jdGlvbihlLHIscyl7dmFyIGEsbCxjLGQsdTtpZihyWzBdPWUuc2VsZWN0KHJbMF0pLHJbMV09ZS5zZWxlY3QoclsxXSksby5pc1BvaW50VHlwZShlLHJbMF0pJiZyWzFdLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkUpbD1yWzFdLGE9by5wcm92aWRlUG9pbnRzKGUsW3JbMF1dLHMsXCJwb2ludFwiKVswXTtlbHNle2lmKCFvLmlzUG9pbnRUeXBlKGUsclsxXSl8fHJbMF0uZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfTElORSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHBlcnBlbmRpY3VsYXIgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiByWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiByWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtsaW5lLHBvaW50XVwiKTtsPXJbMF0sYT1vLnByb3ZpZGVQb2ludHMoZSxbclsxXV0scyxcInBvaW50XCIpWzBdfXJldHVybiB1PW8uY29weUF0dHJpYnV0ZXMocyxlLm9wdGlvbnMsXCJwZXJwZW5kaWN1bGFyc2VnbWVudFwiLFwicG9pbnRcIiksKGQ9dC5jcmVhdGVQZXJwZW5kaWN1bGFyUG9pbnQoZSxbbCxhXSx1KSkuZHVtcD0hMSxvLmV4aXN0cyhzLmxheWVyKXx8KHMubGF5ZXI9ZS5vcHRpb25zLmxheWVyLmxpbmUpLHU9by5jb3B5QXR0cmlidXRlcyhzLGUub3B0aW9ucyxcInBlcnBlbmRpY3VsYXJzZWdtZW50XCIpLChjPWguY3JlYXRlTGluZShlLFtmdW5jdGlvbigpe3JldHVybiBpLnBlcnBlbmRpY3VsYXIobCxhLGUpWzFdP1tkLGFdOlthLGRdfV0sdSkpLnBvaW50PWQsby5leGlzdHMoYS5faXNfbmV3KT8oYy5hZGRDaGlsZChhKSxkZWxldGUgYS5faXNfbmV3KTphLmFkZENoaWxkKGMpLGwuYWRkQ2hpbGQoYyksYy5lbFR5cGU9XCJwZXJwZW5kaWN1bGFyc2VnbWVudFwiLGMuc2V0UGFyZW50cyhbYS5pZCxsLmlkXSksYy5zdWJzPXtwb2ludDpkfSxjLmluaGVyaXRzLnB1c2goZCksY30sdC5jcmVhdGVNaWRwb2ludD1mdW5jdGlvbih0LGkscil7dmFyIHMsYSxoLGwsYztmb3IobD0wO2w8aS5sZW5ndGg7KytsKWlbbF09dC5zZWxlY3QoaVtsXSk7aWYoMj09PWkubGVuZ3RoJiZvLmlzUG9pbnRUeXBlKHQsaVswXSkmJm8uaXNQb2ludFR5cGUodCxpWzFdKSlpPW8ucHJvdmlkZVBvaW50cyh0LGkscixcInBvaW50XCIpLHM9aVswXSxhPWlbMV07ZWxzZXtpZigxIT09aS5sZW5ndGh8fGlbMF0uZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfTElORSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIG1pZHBvaW50LlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50XSwgW2xpbmVdXCIpO3M9aVswXS5wb2ludDEsYT1pWzBdLnBvaW50Mn1yZXR1cm4gYz1vLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwibWlkcG9pbnRcIiksaD10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7dmFyIHQ9cy5jb29yZHMudXNyQ29vcmRzWzFdK2EuY29vcmRzLnVzckNvb3Jkc1sxXTtyZXR1cm4gaXNOYU4odCl8fE1hdGguYWJzKHMuY29vcmRzLnVzckNvb3Jkc1swXSk8ZS5lcHN8fE1hdGguYWJzKGEuY29vcmRzLnVzckNvb3Jkc1swXSk8ZS5lcHM/TmFOOi41KnR9LGZ1bmN0aW9uKCl7dmFyIHQ9cy5jb29yZHMudXNyQ29vcmRzWzJdK2EuY29vcmRzLnVzckNvb3Jkc1syXTtyZXR1cm4gaXNOYU4odCl8fE1hdGguYWJzKHMuY29vcmRzLnVzckNvb3Jkc1swXSk8ZS5lcHN8fE1hdGguYWJzKGEuY29vcmRzLnVzckNvb3Jkc1swXSk8ZS5lcHM/TmFOOi41KnR9XSxjKSxvLmV4aXN0cyhzLl9pc19uZXcpPyhoLmFkZENoaWxkKHMpLGRlbGV0ZSBzLl9pc19uZXcpOnMuYWRkQ2hpbGQoaCksby5leGlzdHMoYS5faXNfbmV3KT8oaC5hZGRDaGlsZChhKSxkZWxldGUgYS5faXNfbmV3KTphLmFkZENoaWxkKGgpLGguZWxUeXBlPVwibWlkcG9pbnRcIixoLnNldFBhcmVudHMoW3MuaWQsYS5pZF0pLGgucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLGguZ2VuZXJhdGVQb2x5bm9taWFsPWZ1bmN0aW9uKCl7dmFyIHQ9cy5zeW1ib2xpYy54LGU9cy5zeW1ib2xpYy55LGk9YS5zeW1ib2xpYy54LHI9YS5zeW1ib2xpYy55LG89aC5zeW1ib2xpYy54LG49aC5zeW1ib2xpYy55O3JldHVybltcIihcIitlK1wiKSooXCIrbytcIiktKFwiK2UrXCIpKihcIitpK1wiKSsoXCIrbitcIikqKFwiK2krXCIpLShcIit0K1wiKSooXCIrbitcIikrKFwiK3QrXCIpKihcIityK1wiKS0oXCIrbytcIikqKFwiK3IrXCIpXCIsXCIoXCIrdCtcIileMiAtIDIqKFwiK3QrXCIpKihcIitvK1wiKSsoXCIrZStcIileMi0yKihcIitlK1wiKSooXCIrbitcIiktKFwiK2krXCIpXjIrMiooXCIraStcIikqKFwiK28rXCIpLShcIityK1wiKV4yKzIqKFwiK3IrXCIpKihcIituK1wiKVwiXX0saH0sdC5jcmVhdGVQYXJhbGxlbFBvaW50PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLGEsaCxsO2ZvcihsPTA7bDxlLmxlbmd0aDsrK2wpZVtsXT10LnNlbGVjdChlW2xdKTtpZigzPT09ZS5sZW5ndGgmJm8uaXNQb2ludFR5cGUodCxlWzBdKSYmby5pc1BvaW50VHlwZSh0LGVbMV0pJiZvLmlzUG9pbnRUeXBlKHQsZVsyXSkpZT1vLnByb3ZpZGVQb2ludHModCxlLGksXCJwb2ludFwiKSxyPWVbMF0scz1lWzFdLGE9ZVsyXTtlbHNlIGlmKG8uaXNQb2ludFR5cGUodCxlWzBdKSYmZVsxXS5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19MSU5FKWE9by5wcm92aWRlUG9pbnRzKHQsW2VbMF1dLGksXCJwb2ludFwiKVswXSxyPWVbMV0ucG9pbnQxLHM9ZVsxXS5wb2ludDI7ZWxzZXtpZighby5pc1BvaW50VHlwZSh0LGVbMV0pfHxlWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0xJTkUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBwYXJhbGxlbCBwb2ludCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInLCAnXCIrdHlwZW9mIGVbMV0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMl0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2xpbmUscG9pbnRdLCBbcG9pbnQscG9pbnQscG9pbnRdXCIpO2E9by5wcm92aWRlUG9pbnRzKHQsW2VbMV1dLGksXCJwb2ludFwiKVswXSxyPWVbMF0ucG9pbnQxLHM9ZVswXS5wb2ludDJ9cmV0dXJuIGg9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybiBhLmNvb3Jkcy51c3JDb29yZHNbMV0rcy5jb29yZHMudXNyQ29vcmRzWzFdLXIuY29vcmRzLnVzckNvb3Jkc1sxXX0sZnVuY3Rpb24oKXtyZXR1cm4gYS5jb29yZHMudXNyQ29vcmRzWzJdK3MuY29vcmRzLnVzckNvb3Jkc1syXS1yLmNvb3Jkcy51c3JDb29yZHNbMl19XSxpKSxvLmV4aXN0cyhyLl9pc19uZXcpPyhoLmFkZENoaWxkKHIpLGRlbGV0ZSByLl9pc19uZXcpOnIuYWRkQ2hpbGQoaCksby5leGlzdHMocy5faXNfbmV3KT8oaC5hZGRDaGlsZChzKSxkZWxldGUgcy5faXNfbmV3KTpzLmFkZENoaWxkKGgpLG8uZXhpc3RzKGEuX2lzX25ldyk/KGguYWRkQ2hpbGQoYSksZGVsZXRlIGEuX2lzX25ldyk6YS5hZGRDaGlsZChoKSxoLmVsVHlwZT1cInBhcmFsbGVscG9pbnRcIixoLnNldFBhcmVudHMoW3IuaWQscy5pZCxhLmlkXSksaC5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksaC5nZW5lcmF0ZVBvbHlub21pYWw9ZnVuY3Rpb24oKXt2YXIgdD1yLnN5bWJvbGljLngsZT1yLnN5bWJvbGljLnksaT1zLnN5bWJvbGljLngsbz1zLnN5bWJvbGljLnksbj1hLnN5bWJvbGljLngsbD1hLnN5bWJvbGljLnksYz1oLnN5bWJvbGljLngsZD1oLnN5bWJvbGljLnk7cmV0dXJuW1wiKFwiK28rXCIpKihcIitjK1wiKS0oXCIrbytcIikqKFwiK24rXCIpLShcIitlK1wiKSooXCIrYytcIikrKFwiK2UrXCIpKihcIituK1wiKS0oXCIrZCtcIikqKFwiK2krXCIpKyhcIitkK1wiKSooXCIrdCtcIikrKFwiK2wrXCIpKihcIitpK1wiKS0oXCIrbCtcIikqKFwiK3QrXCIpXCIsXCIoXCIrZCtcIikqKFwiK3QrXCIpLShcIitkK1wiKSooXCIrbitcIiktKFwiK28rXCIpKihcIit0K1wiKSsoXCIrbytcIikqKFwiK24rXCIpLShcIitjK1wiKSooXCIrZStcIikrKFwiK2MrXCIpKihcIitsK1wiKSsoXCIraStcIikqKFwiK2UrXCIpLShcIitpK1wiKSooXCIrbCtcIilcIl19LGh9LHQuY3JlYXRlUGFyYWxsZWw9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG4sYSxoLGwsYyxkPTE7Zm9yKGw9MDtsPGkubGVuZ3RoOysrbClpW2xdPXQuc2VsZWN0KGlbbF0pO3JldHVybiBzPW51bGwsMz09PWkubGVuZ3RoPyhzPShpPW8ucHJvdmlkZVBvaW50cyh0LGkscixcInBvaW50XCIpKVsyXSxkPTApOm8uaXNQb2ludFR5cGUodCxpWzBdKT8ocz1vLnByb3ZpZGVQb2ludHModCxbaVswXV0scixcInBvaW50XCIpWzBdLGg9ZnVuY3Rpb24oKXtyZXR1cm4gaVsxXS5zdGRmb3JtfSk6by5pc1BvaW50VHlwZSh0LGlbMV0pJiYocz1vLnByb3ZpZGVQb2ludHModCxbaVsxXV0scixcInBvaW50XCIpWzBdLGg9ZnVuY3Rpb24oKXtyZXR1cm4gaVswXS5zdGRmb3JtfSksby5leGlzdHMoci5sYXllcil8fChyLmxheWVyPXQub3B0aW9ucy5sYXllci5saW5lKSxjPW8uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJwYXJhbGxlbFwiLFwicG9pbnRcIiksKG49MT09PWQ/dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybiBlLmNyb3NzUHJvZHVjdChbMSwwLDBdLGgoKSl9XSxjKTp0LmNyZWF0ZShcInBhcmFsbGVscG9pbnRcIixpLGMpKS5pc0RyYWdnYWJsZT0hMCxjPW8uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJwYXJhbGxlbFwiKSwoYT10LmNyZWF0ZShcImxpbmVcIixbcyxuXSxjKSkuZWxUeXBlPVwicGFyYWxsZWxcIixhLnN1YnM9e3BvaW50Om59LGEuaW5oZXJpdHMucHVzaChuKSxhLnNldFBhcmVudHMoW2lbMF0uaWQsaVsxXS5pZF0pLDM9PT1pLmxlbmd0aCYmYS5hZGRQYXJlbnRzKGlbMl0uaWQpLGEucG9pbnQ9bixhfSx0LmNyZWF0ZUFycm93UGFyYWxsZWw9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzO3RyeXtyZXR1cm4gci5maXJzdEFycm93PSExLHIubGFzdEFycm93PSEwLChzPXQuY3JlYXRlUGFyYWxsZWwoZSxpLHIpLnNldEF0dHJpYnV0ZSh7c3RyYWlnaHRGaXJzdDohMSxzdHJhaWdodExhc3Q6ITF9KSkuZWxUeXBlPVwiYXJyb3dwYXJhbGxlbFwiLHN9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBhcnJvd3BhcmFsbGVsIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbbGluZSxwb2ludF0sIFtwb2ludCxwb2ludCxwb2ludF1cIil9fSx0LmNyZWF0ZU5vcm1hbD1mdW5jdGlvbih0LGkscyl7dmFyIGEsaCxsLGMsZCx1LHAsZixtO2ZvcihjPTA7YzxpLmxlbmd0aDsrK2MpaVtjXT10LnNlbGVjdChpW2NdKTtpZigxPT09aS5sZW5ndGgpYT1pWzBdLGg9YS5zbGlkZU9iamVjdDtlbHNle2lmKDIhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIG5vcm1hbCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LGxpbmVdLCBbcG9pbnQsY2lyY2xlXSwgW2dsaWRlcl1cIik7aWYoby5pc1BvaW50VHlwZSh0LGlbMF0pKWE9by5wcm92aWRlUG9pbnRzKHQsW2lbMF1dLHMsXCJwb2ludFwiKVswXSxoPWlbMV07ZWxzZXtpZighby5pc1BvaW50VHlwZSh0LGlbMV0pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgbm9ybWFsIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQsbGluZV0sIFtwb2ludCxjaXJjbGVdLCBbZ2xpZGVyXVwiKTtoPWlbMF0sYT1vLnByb3ZpZGVQb2ludHModCxbaVsxXV0scyxcInBvaW50XCIpWzBdfX1pZihwPW8uY29weUF0dHJpYnV0ZXMocyx0Lm9wdGlvbnMsXCJub3JtYWxcIiksaC5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19MSU5FKW09by5jb3B5QXR0cmlidXRlcyhzLHQub3B0aW9ucyxcIm5vcm1hbFwiLFwicG9pbnRcIiksZj10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7dmFyIHQ9ZS5jcm9zc1Byb2R1Y3QoWzEsMCwwXSxoLnN0ZGZvcm0pO3JldHVyblt0WzBdLC10WzJdLHRbMV1dfV0sbSksZi5pc0RyYWdnYWJsZT0hMCwobD10LmNyZWF0ZShcImxpbmVcIixbYSxmXSxwKSkucG9pbnQ9ZixsLnN1YnM9e3BvaW50OmZ9LGwuaW5oZXJpdHMucHVzaChmKTtlbHNlIGlmKGguZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFKWw9dC5jcmVhdGUoXCJsaW5lXCIsW2gubWlkcG9pbnQsYV0scCk7ZWxzZSBpZihoLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NVUlZFKVwicGxvdFwiIT09by5ldmFsdWF0ZShoLnZpc1Byb3AuY3VydmV0eXBlKT8oZD1oLlgsdT1oLlksbD10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXtyZXR1cm4tYS5YKCkqci5EKGQpKGEucG9zaXRpb24pLWEuWSgpKnIuRCh1KShhLnBvc2l0aW9uKX0sZnVuY3Rpb24oKXtyZXR1cm4gci5EKGQpKGEucG9zaXRpb24pfSxmdW5jdGlvbigpe3JldHVybiByLkQodSkoYS5wb3NpdGlvbil9XSxwKSk6bD10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG8sbixsLGMsZCx1PU1hdGguZmxvb3IoYS5wb3NpdGlvbikscD1hLnBvc2l0aW9uLXU7aWYoMT09PWguYmV6aWVyZGVncmVlKXU9PT1oLm51bWJlclBvaW50cy0xJiYodS09MSxwPTEpO2Vsc2V7aWYoMyE9PWguYmV6aWVyRGVncmVlKXJldHVybiAwO3U9MypNYXRoLmZsb29yKGEucG9zaXRpb24qKGgubnVtYmVyUG9pbnRzLTEpLzMpLGk9KGEucG9zaXRpb24qKGgubnVtYmVyUG9pbnRzLTEpLXUpLzMsdT49aC5udW1iZXJQb2ludHMtMSYmKHU9aC5udW1iZXJQb2ludHMtNCxpPTEpfXJldHVybiB1PDA/MToxPT09aC5iZXppZXJEZWdyZWU/KGguWSh1KStwKihoLlkodSsxKS1oLlkodSkpKSooaC5ZKHUpLWguWSh1KzEpKS0oaC5YKHUpK3AqKGguWCh1KzEpLWguWCh1KSkpKihoLlgodSsxKS1oLlgodSkpOihyPWgucG9pbnRzW3VdLnVzckNvb3JkcyxzPWgucG9pbnRzW3UrMV0udXNyQ29vcmRzLG89aC5wb2ludHNbdSsyXS51c3JDb29yZHMsbj1oLnBvaW50c1t1KzNdLnVzckNvb3JkcyxsPSgxLWkpKigxLWkpKihzWzFdLXJbMV0pKzIqKDEtaSkqaSoob1sxXS1zWzFdKStpKmkqKG5bMV0tb1sxXSksYz0oMS1pKSooMS1pKSooc1syXS1yWzJdKSsyKigxLWkpKmkqKG9bMl0tc1syXSkraSppKihuWzJdLW9bMl0pLGwvPWQ9TWF0aC5zcXJ0KGwqbCtjKmMpLGMvPWQsZT1bMSwodD1hLmNvb3Jkcy51c3JDb29yZHMpWzFdLWMsdFsyXStsXSx0WzJdKmVbMV0tdFsxXSplWzJdKX0sZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG8sbixsLGMsZD1NYXRoLmZsb29yKGEucG9zaXRpb24pO2lmKDE9PT1oLmJlemllcmRlZ3JlZSlkPT09aC5udW1iZXJQb2ludHMtMSYmKGQtPTEpO2Vsc2V7aWYoMyE9PWguYmV6aWVyRGVncmVlKXJldHVybiAwO2Q9MypNYXRoLmZsb29yKGEucG9zaXRpb24qKGgubnVtYmVyUG9pbnRzLTEpLzMpLGU9KGEucG9zaXRpb24qKGgubnVtYmVyUG9pbnRzLTEpLWQpLzMsZD49aC5udW1iZXJQb2ludHMtMSYmKGQ9aC5udW1iZXJQb2ludHMtNCxlPTEpfXJldHVybiBkPDA/MDoxPT09aC5iZXppZXJEZWdyZWU/aC5YKGQrMSktaC5YKGQpOihpPWgucG9pbnRzW2RdLnVzckNvb3JkcyxyPWgucG9pbnRzW2QrMV0udXNyQ29vcmRzLHM9aC5wb2ludHNbZCsyXS51c3JDb29yZHMsbz1oLnBvaW50c1tkKzNdLnVzckNvb3JkcyxuPSgxLWUpKigxLWUpKihyWzFdLWlbMV0pKzIqKDEtZSkqZSooc1sxXS1yWzFdKStlKmUqKG9bMV0tc1sxXSksbD0oMS1lKSooMS1lKSooclsyXS1pWzJdKSsyKigxLWUpKmUqKHNbMl0tclsyXSkrZSplKihvWzJdLXNbMl0pLG4vPWM9TWF0aC5zcXJ0KG4qbitsKmwpLGwvPWMsWzEsKHQ9YS5jb29yZHMudXNyQ29vcmRzKVsxXS1sLHRbMl0rbl1bMl0tdFsyXSl9LGZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvLG4sbCxjLGQsdT1NYXRoLmZsb29yKGEucG9zaXRpb24pO2lmKDE9PT1oLmJlemllcmRlZ3JlZSl1PT09aC5udW1iZXJQb2ludHMtMSYmKHUtPTEpO2Vsc2V7aWYoMyE9PWguYmV6aWVyRGVncmVlKXJldHVybiAwO3U9MypNYXRoLmZsb29yKGEucG9zaXRpb24qKGgubnVtYmVyUG9pbnRzLTEpLzMpLGk9KGEucG9zaXRpb24qKGgubnVtYmVyUG9pbnRzLTEpLXUpLzMsdT49aC5udW1iZXJQb2ludHMtMSYmKHU9aC5udW1iZXJQb2ludHMtNCxpPTEpfXJldHVybiB1PDA/MDoxPT09aC5iZXppZXJEZWdyZWU/aC5ZKHUrMSktaC5ZKHUpOihyPWgucG9pbnRzW3VdLnVzckNvb3JkcyxzPWgucG9pbnRzW3UrMV0udXNyQ29vcmRzLG89aC5wb2ludHNbdSsyXS51c3JDb29yZHMsbj1oLnBvaW50c1t1KzNdLnVzckNvb3JkcyxsPSgxLWkpKigxLWkpKihzWzFdLXJbMV0pKzIqKDEtaSkqaSoob1sxXS1zWzFdKStpKmkqKG5bMV0tb1sxXSksYz0oMS1pKSooMS1pKSooc1syXS1yWzJdKSsyKigxLWkpKmkqKG9bMl0tc1syXSkraSppKihuWzJdLW9bMl0pLGwvPWQ9TWF0aC5zcXJ0KGwqbCtjKmMpLGMvPWQsZT1bMSwodD1hLmNvb3Jkcy51c3JDb29yZHMpWzFdLWMsdFsyXStsXSx0WzFdLWVbMV0pfV0scCk7ZWxzZXtpZihoLnR5cGUhPT1uLk9CSkVDVF9UWVBFX1RVUlRMRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIG5vcm1hbCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LGxpbmVdLCBbcG9pbnQsY2lyY2xlXSwgW2dsaWRlcl1cIik7bD10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXt2YXIgdCxlLGk9TWF0aC5mbG9vcihhLnBvc2l0aW9uKSxyPWEucG9zaXRpb24taTtmb3IoZT0wO2U8aC5vYmplY3RzLmxlbmd0aDtlKyspaWYoKHQ9aC5vYmplY3RzW2VdKS50eXBlPT09bi5PQkpFQ1RfVFlQRV9DVVJWRSl7aWYoaTx0Lm51bWJlclBvaW50cylicmVhaztpLT10Lm51bWJlclBvaW50c31yZXR1cm4gaT09PXQubnVtYmVyUG9pbnRzLTEmJihpLT0xLHI9MSksaTwwPzE6KHQuWShpKStyKih0LlkoaSsxKS10LlkoaSkpKSoodC5ZKGkpLXQuWShpKzEpKS0odC5YKGkpK3IqKHQuWChpKzEpLXQuWChpKSkpKih0LlgoaSsxKS10LlgoaSkpfSxmdW5jdGlvbigpe3ZhciB0LGUsaT1NYXRoLmZsb29yKGEucG9zaXRpb24pO2ZvcihlPTA7ZTxoLm9iamVjdHMubGVuZ3RoO2UrKylpZigodD1oLm9iamVjdHNbZV0pLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0NVUlZFKXtpZihpPHQubnVtYmVyUG9pbnRzKWJyZWFrO2ktPXQubnVtYmVyUG9pbnRzfXJldHVybiBpPT09dC5udW1iZXJQb2ludHMtMSYmKGktPTEpLGk8MD8wOnQuWChpKzEpLXQuWChpKX0sZnVuY3Rpb24oKXt2YXIgdCxlLGk9TWF0aC5mbG9vcihhLnBvc2l0aW9uKTtmb3IoZT0wO2U8aC5vYmplY3RzLmxlbmd0aDtlKyspaWYoKHQ9aC5vYmplY3RzW2VdKS50eXBlPT09bi5PQkpFQ1RfVFlQRV9DVVJWRSl7aWYoaTx0Lm51bWJlclBvaW50cylicmVhaztpLT10Lm51bWJlclBvaW50c31yZXR1cm4gaT09PXQubnVtYmVyUG9pbnRzLTEmJihpLT0xKSxpPDA/MDp0LlkoaSsxKS10LlkoaSl9XSxwKX1yZXR1cm4gbC5lbFR5cGU9XCJub3JtYWxcIixsLnNldFBhcmVudHMoaSksby5leGlzdHMoYS5faXNfbmV3KT8obC5hZGRDaGlsZChhKSxkZWxldGUgYS5faXNfbmV3KTphLmFkZENoaWxkKGwpLGguYWRkQ2hpbGQobCksbH0sdC5jcmVhdGVCaXNlY3Rvcj1mdW5jdGlvbih0LGUscil7dmFyIHMsbixhLGw7aWYoZT1vLnByb3ZpZGVQb2ludHModCxlLHIsXCJwb2ludFwiKSxvLmlzUG9pbnQoZVswXSkmJm8uaXNQb2ludChlWzFdKSYmby5pc1BvaW50KGVbMl0pKXtmb3IoKGw9by5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImJpc2VjdG9yXCIsXCJwb2ludFwiKSkuc25hcFRvR3JpZD0hMSwocz10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGkuYW5nbGVCaXNlY3RvcihlWzBdLGVbMV0sZVsyXSx0KX1dLGwpKS5kdW1wPSExLGE9MDthPDM7YSsrKW8uZXhpc3RzKGVbYV0uX2lzX25ldyk/KHMuYWRkQ2hpbGQoZVthXSksZGVsZXRlIGVbYV0uX2lzX25ldyk6ZVthXS5hZGRDaGlsZChzKTtyZXR1cm4gby5leGlzdHMoci5sYXllcil8fChyLmxheWVyPXQub3B0aW9ucy5sYXllci5saW5lKSxsPW8uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJiaXNlY3RvclwiKSwobj1oLmNyZWF0ZUxpbmUodCxbZVsxXSxzXSxsKSkucG9pbnQ9cyxuLmVsVHlwZT1cImJpc2VjdG9yXCIsbi5zZXRQYXJlbnRzKGUpLG4uc3Vicz17cG9pbnQ6c30sbi5pbmhlcml0cy5wdXNoKHMpLG59dGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBhbmdsZSBiaXNlY3RvciB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50LHBvaW50XVwiKX0sdC5jcmVhdGVBbmd1bGFyQmlzZWN0b3JzT2ZUd29MaW5lcz1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxhLGgsbD10LnNlbGVjdChlWzBdKSxjPXQuc2VsZWN0KGVbMV0pO2lmKGwuZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfTElORXx8Yy5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19MSU5FKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgYW5nbGUgYmlzZWN0b3JzIG9mIHR3byBsaW5lcyB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2xpbmUsbGluZV1cIik7cmV0dXJuIG8uZXhpc3RzKGkubGF5ZXIpfHwoaS5sYXllcj10Lm9wdGlvbnMubGF5ZXIubGluZSksYT1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiYmlzZWN0b3JsaW5lc1wiLFwibGluZTFcIikscj10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNxcnQobC5zdGRmb3JtWzFdKmwuc3RkZm9ybVsxXStsLnN0ZGZvcm1bMl0qbC5zdGRmb3JtWzJdKSxlPU1hdGguc3FydChjLnN0ZGZvcm1bMV0qYy5zdGRmb3JtWzFdK2Muc3RkZm9ybVsyXSpjLnN0ZGZvcm1bMl0pO3JldHVybiBsLnN0ZGZvcm1bMF0vdC1jLnN0ZGZvcm1bMF0vZX0sZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNxcnQobC5zdGRmb3JtWzFdKmwuc3RkZm9ybVsxXStsLnN0ZGZvcm1bMl0qbC5zdGRmb3JtWzJdKSxlPU1hdGguc3FydChjLnN0ZGZvcm1bMV0qYy5zdGRmb3JtWzFdK2Muc3RkZm9ybVsyXSpjLnN0ZGZvcm1bMl0pO3JldHVybiBsLnN0ZGZvcm1bMV0vdC1jLnN0ZGZvcm1bMV0vZX0sZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNxcnQobC5zdGRmb3JtWzFdKmwuc3RkZm9ybVsxXStsLnN0ZGZvcm1bMl0qbC5zdGRmb3JtWzJdKSxlPU1hdGguc3FydChjLnN0ZGZvcm1bMV0qYy5zdGRmb3JtWzFdK2Muc3RkZm9ybVsyXSpjLnN0ZGZvcm1bMl0pO3JldHVybiBsLnN0ZGZvcm1bMl0vdC1jLnN0ZGZvcm1bMl0vZX1dLGEpLG8uZXhpc3RzKGkubGF5ZXIpfHwoaS5sYXllcj10Lm9wdGlvbnMubGF5ZXIubGluZSksYT1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiYmlzZWN0b3JsaW5lc1wiLFwibGluZTJcIikscz10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNxcnQobC5zdGRmb3JtWzFdKmwuc3RkZm9ybVsxXStsLnN0ZGZvcm1bMl0qbC5zdGRmb3JtWzJdKSxlPU1hdGguc3FydChjLnN0ZGZvcm1bMV0qYy5zdGRmb3JtWzFdK2Muc3RkZm9ybVsyXSpjLnN0ZGZvcm1bMl0pO3JldHVybiBsLnN0ZGZvcm1bMF0vdCtjLnN0ZGZvcm1bMF0vZX0sZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNxcnQobC5zdGRmb3JtWzFdKmwuc3RkZm9ybVsxXStsLnN0ZGZvcm1bMl0qbC5zdGRmb3JtWzJdKSxlPU1hdGguc3FydChjLnN0ZGZvcm1bMV0qYy5zdGRmb3JtWzFdK2Muc3RkZm9ybVsyXSpjLnN0ZGZvcm1bMl0pO3JldHVybiBsLnN0ZGZvcm1bMV0vdCtjLnN0ZGZvcm1bMV0vZX0sZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNxcnQobC5zdGRmb3JtWzFdKmwuc3RkZm9ybVsxXStsLnN0ZGZvcm1bMl0qbC5zdGRmb3JtWzJdKSxlPU1hdGguc3FydChjLnN0ZGZvcm1bMV0qYy5zdGRmb3JtWzFdK2Muc3RkZm9ybVsyXSpjLnN0ZGZvcm1bMl0pO3JldHVybiBsLnN0ZGZvcm1bMl0vdCtjLnN0ZGZvcm1bMl0vZX1dLGEpLGg9bmV3IGQoe2xpbmUxOnIsbGluZTI6c30pLHIuZHVtcD0hMSxzLmR1bXA9ITEsaC5lbFR5cGU9XCJiaXNlY3RvcmxpbmVzXCIsaC5zZXRQYXJlbnRzKFtsLmlkLGMuaWRdKSxoLnN1YnM9e2xpbmUxOnIsbGluZTI6c30saH0sdC5jcmVhdGVDaXJjdW1jZW50ZXI9ZnVuY3Rpb24odCxlLHIpe3ZhciBzLG4saCxsLGM7aWYoZT1vLnByb3ZpZGVQb2ludHModCxlLHIsXCJwb2ludFwiKSxvLmlzUG9pbnQoZVswXSkmJm8uaXNQb2ludChlWzFdKSYmby5pc1BvaW50KGVbMl0pKXtmb3IoaD1lWzBdLGw9ZVsxXSxjPWVbMl0scz1hLmNyZWF0ZVBvaW50KHQsW2Z1bmN0aW9uKCl7cmV0dXJuIGkuY2lyY3VtY2VudGVyKGgsbCxjLHQpfV0sciksbj0wO248MztuKyspby5leGlzdHMoZVtuXS5faXNfbmV3KT8ocy5hZGRDaGlsZChlW25dKSxkZWxldGUgZVtuXS5faXNfbmV3KTplW25dLmFkZENoaWxkKHMpO3JldHVybiBzLmVsVHlwZT1cImNpcmN1bWNlbnRlclwiLHMuc2V0UGFyZW50cyhlKSxzLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3ZhciB0PWguc3ltYm9saWMueCxlPWguc3ltYm9saWMueSxpPWwuc3ltYm9saWMueCxyPWwuc3ltYm9saWMueSxvPWMuc3ltYm9saWMueCxuPWMuc3ltYm9saWMueSxhPXMuc3ltYm9saWMueCxkPXMuc3ltYm9saWMueTtyZXR1cm5bW1wiKChcIixhLFwiKS0oXCIsdCxcIikpXjIrKChcIixkLFwiKS0oXCIsZSxcIikpXjItKChcIixhLFwiKS0oXCIsaSxcIikpXjItKChcIixkLFwiKS0oXCIscixcIikpXjJcIl0uam9pbihcIlwiKSxbXCIoKFwiLGEsXCIpLShcIix0LFwiKSleMisoKFwiLGQsXCIpLShcIixlLFwiKSleMi0oKFwiLGEsXCIpLShcIixvLFwiKSleMi0oKFwiLGQsXCIpLShcIixuLFwiKSleMlwiXS5qb2luKFwiXCIpXX0sc310aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNpcmN1bWNpcmNsZSBtaWRwb2ludCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInLCAnXCIrdHlwZW9mIGVbMV0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMl0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50LHBvaW50XVwiKX0sdC5jcmVhdGVJbmNlbnRlcj1mdW5jdGlvbih0LGUsaSl7dmFyIHIsYSxoLGwsYztpZighKChlPW8ucHJvdmlkZVBvaW50cyh0LGUsaSxcInBvaW50XCIpKS5sZW5ndGg+PTMmJm8uaXNQb2ludChlWzBdKSYmby5pc1BvaW50KGVbMV0pJiZvLmlzUG9pbnQoZVsyXSkpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgaW5jZW50ZXIgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJywgJ1wiK3R5cGVvZiBlWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzJdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludF1cIik7Zm9yKGE9ZVswXSxoPWVbMV0sbD1lWzJdLHI9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3ZhciBlLGkscjtyZXR1cm4gZT1NYXRoLnNxcnQoKGguWCgpLWwuWCgpKSooaC5YKCktbC5YKCkpKyhoLlkoKS1sLlkoKSkqKGguWSgpLWwuWSgpKSksaT1NYXRoLnNxcnQoKGEuWCgpLWwuWCgpKSooYS5YKCktbC5YKCkpKyhhLlkoKS1sLlkoKSkqKGEuWSgpLWwuWSgpKSkscj1NYXRoLnNxcnQoKGguWCgpLWEuWCgpKSooaC5YKCktYS5YKCkpKyhoLlkoKS1hLlkoKSkqKGguWSgpLWEuWSgpKSksbmV3IHMobi5DT09SRFNfQllfVVNFUixbKGUqYS5YKCkraSpoLlgoKStyKmwuWCgpKS8oZStpK3IpLChlKmEuWSgpK2kqaC5ZKCkrcipsLlkoKSkvKGUraStyKV0sdCl9XSxpKSxjPTA7YzwzO2MrKylvLmV4aXN0cyhlW2NdLl9pc19uZXcpPyhyLmFkZENoaWxkKGVbY10pLGRlbGV0ZSBlW2NdLl9pc19uZXcpOmVbY10uYWRkQ2hpbGQocik7cmV0dXJuIHIuZWxUeXBlPVwiaW5jZW50ZXJcIixyLnNldFBhcmVudHMoZSkscn0sdC5jcmVhdGVDaXJjdW1jaXJjbGU9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLG4sYSxoO2lmKCExPT09KGk9by5wcm92aWRlUG9pbnRzKGUsaSxyLFwicG9pbnRcIikpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY2lyY3VtY2lyY2xlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicsICdcIit0eXBlb2YgaVsxXStcIicgYW5kICdcIit0eXBlb2YgaVsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdXCIpO3RyeXtmb3IoYT1vLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiY2lyY3VtY2lyY2xlXCIsXCJjZW50ZXJcIiksKHM9dC5jcmVhdGVDaXJjdW1jZW50ZXIoZSxpLGEpKS5kdW1wPSExLG8uZXhpc3RzKHIubGF5ZXIpfHwoci5sYXllcj1lLm9wdGlvbnMubGF5ZXIuY2lyY2xlKSxhPW8uY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJjaXJjdW1jaXJjbGVcIiksKG49bC5jcmVhdGVDaXJjbGUoZSxbcyxpWzBdXSxhKSkuZWxUeXBlPVwiY2lyY3VtY2lyY2xlXCIsbi5zZXRQYXJlbnRzKGkpLG4uc3Vicz17Y2VudGVyOnN9LG4uaW5oZXJpdHMucHVzaChuKSxoPTA7aDwzO2grKylvLmV4aXN0cyhpW2hdLl9pc19uZXcpPyhuLmFkZENoaWxkKGlbaF0pLGRlbGV0ZSBpW2hdLl9pc19uZXcpOmlbaF0uYWRkQ2hpbGQobil9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBjaXJjdW1jaXJjbGUgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJywgJ1wiK3R5cGVvZiBpWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzJdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludF1cIil9cmV0dXJuIG59LHQuY3JlYXRlSW5jaXJjbGU9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLG4sYSxoO2lmKCExPT09KGk9by5wcm92aWRlUG9pbnRzKGUsaSxyLFwicG9pbnRcIikpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY2lyY3VtY2lyY2xlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicsICdcIit0eXBlb2YgaVsxXStcIicgYW5kICdcIit0eXBlb2YgaVsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdXCIpO3RyeXtmb3IoaD1vLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiaW5jaXJjbGVcIixcImNlbnRlclwiKSwobj10LmNyZWF0ZUluY2VudGVyKGUsaSxoKSkuZHVtcD0hMSxvLmV4aXN0cyhyLmxheWVyKXx8KHIubGF5ZXI9ZS5vcHRpb25zLmxheWVyLmNpcmNsZSksaD1vLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiaW5jaXJjbGVcIiksKGE9bC5jcmVhdGVDaXJjbGUoZSxbbixmdW5jdGlvbigpe3ZhciB0PU1hdGguc3FydCgoaVsxXS5YKCktaVsyXS5YKCkpKihpWzFdLlgoKS1pWzJdLlgoKSkrKGlbMV0uWSgpLWlbMl0uWSgpKSooaVsxXS5ZKCktaVsyXS5ZKCkpKSxlPU1hdGguc3FydCgoaVswXS5YKCktaVsyXS5YKCkpKihpWzBdLlgoKS1pWzJdLlgoKSkrKGlbMF0uWSgpLWlbMl0uWSgpKSooaVswXS5ZKCktaVsyXS5ZKCkpKSxyPU1hdGguc3FydCgoaVsxXS5YKCktaVswXS5YKCkpKihpWzFdLlgoKS1pWzBdLlgoKSkrKGlbMV0uWSgpLWlbMF0uWSgpKSooaVsxXS5ZKCktaVswXS5ZKCkpKSxzPSh0K2UrcikvMjtyZXR1cm4gTWF0aC5zcXJ0KChzLXQpKihzLWUpKihzLXIpL3MpfV0saCkpLmVsVHlwZT1cImluY2lyY2xlXCIsYS5zZXRQYXJlbnRzKGkpLHM9MDtzPDM7cysrKW8uZXhpc3RzKGlbc10uX2lzX25ldyk/KGEuYWRkQ2hpbGQoaVtzXSksZGVsZXRlIGlbc10uX2lzX25ldyk6aVtzXS5hZGRDaGlsZChhKTthLmNlbnRlcj1uLGEuc3Vicz17Y2VudGVyOmEuY2VudGVyfSxhLmluaGVyaXRzLnB1c2gobil9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBjaXJjdW1jaXJjbGUgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJywgJ1wiK3R5cGVvZiBpWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzJdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludF1cIil9cmV0dXJuIGF9LHQuY3JlYXRlUmVmbGVjdGlvbj1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxkLGYsbSxnLGIsdix5PVwiXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnR8bGluZXxjdXJ2ZXxwb2x5Z29ufGNpcmNsZXxhcmN8c2VjdG9yLCBsaW5lXVwiO2ZvcihnPTA7ZzxlLmxlbmd0aDsrK2cpZVtnXT10LnNlbGVjdChlW2ddKTtpZihiPW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJyZWZsZWN0aW9uXCIpLG8uaXNQb2ludChlWzBdKSlzPW8ucHJvdmlkZVBvaW50cyh0LFtlWzBdXSx2KVswXTtlbHNle2lmKGVbMF0uZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJmVbMF0uZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfTElORSYmZVswXS50eXBlIT09bi5PQkpFQ1RfVFlQRV9QT0xZR09OJiZlWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0NJUkNMRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHJlZmxlY3Rpb24gZWxlbWVudCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlwiK3kpO3M9ZVswXX1pZihlWzFdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0xJTkUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSByZWZsZWN0ZWQgZWxlbWVudCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlwiK3kpO2lmKHI9ZVsxXSxtPWMuY3JlYXRlVHJhbnNmb3JtKHQsW3JdLHt0eXBlOlwicmVmbGVjdFwifSksby5pc1BvaW50KHMpKWQ9YS5jcmVhdGVQb2ludCh0LFtzLG1dLGIpO2Vsc2UgaWYocy5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DVVJWRSlkPXUuY3JlYXRlQ3VydmUodCxbcyxtXSxiKTtlbHNlIGlmKHMuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSlkPWguY3JlYXRlTGluZSh0LFtzLG1dLGIpO2Vsc2UgaWYocy50eXBlPT09bi5PQkpFQ1RfVFlQRV9QT0xZR09OKWQ9cC5jcmVhdGVQb2x5Z29uKHQsW3MsbV0sYik7ZWxzZXtpZihzLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0NJUkNMRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHJlZmxlY3RlZCBlbGVtZW50IHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIicuXCIreSk7XCJldWNsaWRlYW5cIj09PWIudHlwZS50b0xvd2VyQ2FzZSgpPyh2PW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJyZWZsZWN0aW9uXCIsXCJjZW50ZXJcIiksKGY9YS5jcmVhdGVQb2ludCh0LFtzLmNlbnRlcixtXSx2KSkucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkoby5ldmFsdWF0ZShmLnZpc1Byb3AudmlzaWJsZSkpLnVwZGF0ZVJlbmRlcmVyKCksZD1sLmNyZWF0ZUNpcmNsZSh0LFtmLGZ1bmN0aW9uKCl7cmV0dXJuIHMuUmFkaXVzKCl9XSxiKSk6ZD1sLmNyZWF0ZUNpcmNsZSh0LFtzLG1dLGIpfXJldHVybiBvLmV4aXN0cyhzLl9pc19uZXcpJiYoZC5hZGRDaGlsZChzKSxkZWxldGUgcy5faXNfbmV3KSxyLmFkZENoaWxkKGQpLGQuZWxUeXBlPVwicmVmbGVjdGlvblwiLGQuYWRkUGFyZW50cyhyKSxkLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKSxvLmlzUG9pbnQoZCkmJihkLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3ZhciB0PXIucG9pbnQxLnN5bWJvbGljLngsZT1yLnBvaW50MS5zeW1ib2xpYy55LGk9ci5wb2ludDIuc3ltYm9saWMueCxvPXIucG9pbnQyLnN5bWJvbGljLnksbj1zLnN5bWJvbGljLngsYT1zLnN5bWJvbGljLnksaD1kLnN5bWJvbGljLngsbD1kLnN5bWJvbGljLnk7cmV0dXJuW1tcIigoXCIsbCxcIiktKFwiLGEsXCIpKSooKFwiLGUsXCIpLShcIixvLFwiKSkrKChcIix0LFwiKS0oXCIsaSxcIikpKigoXCIsaCxcIiktKFwiLG4sXCIpKVwiXS5qb2luKFwiXCIpLFtcIigoXCIsaCxcIiktKFwiLHQsXCIpKV4yKygoXCIsbCxcIiktKFwiLGUsXCIpKV4yLSgoXCIsbixcIiktKFwiLHQsXCIpKV4yLSgoXCIsYSxcIiktKFwiLGUsXCIpKV4yXCJdLmpvaW4oXCJcIildfSksZH0sdC5jcmVhdGVNaXJyb3JFbGVtZW50PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLGQsZixtLGcsYix2LHk9XCJcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludHxsaW5lfGN1cnZlfHBvbHlnb258Y2lyY2xlfGFyY3xzZWN0b3IsIHBvaW50XVwiO2ZvcihzPTA7czxlLmxlbmd0aDsrK3MpZVtzXT10LnNlbGVjdChlW3NdKTtpZihiPW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJtaXJyb3JlbGVtZW50XCIpLG8uaXNQb2ludChlWzBdKSlyPW8ucHJvdmlkZVBvaW50cyh0LFtlWzBdXSxiKVswXTtlbHNle2lmKGVbMF0uZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJmVbMF0uZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfTElORSYmZVswXS50eXBlIT09bi5PQkpFQ1RfVFlQRV9QT0xZR09OJiZlWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0NJUkNMRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIG1pcnJvciBlbGVtZW50IHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIicuXCIreSk7cj1lWzBdfWlmKCFvLmlzUG9pbnQoZVsxXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBtaXJyb3IgZWxlbWVudCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlwiK3kpO2lmKHY9by5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcIm1pcnJvcmVsZW1lbnRcIixcInBvaW50XCIpLGQ9by5wcm92aWRlUG9pbnRzKHQsW2VbMV1dLHYpWzBdLGc9Yy5jcmVhdGVUcmFuc2Zvcm0odCxbTWF0aC5QSSxkXSx7dHlwZTpcInJvdGF0ZVwifSksby5pc1BvaW50KHIpKWY9YS5jcmVhdGVQb2ludCh0LFtyLGddLGIpO2Vsc2UgaWYoci5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DVVJWRSlmPXUuY3JlYXRlQ3VydmUodCxbcixnXSxiKTtlbHNlIGlmKHIuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSlmPWguY3JlYXRlTGluZSh0LFtyLGddLGIpO2Vsc2UgaWYoci50eXBlPT09bi5PQkpFQ1RfVFlQRV9QT0xZR09OKWY9cC5jcmVhdGVQb2x5Z29uKHQsW3IsZ10sYik7ZWxzZXtpZihyLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0NJUkNMRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIG1pcnJvciBlbGVtZW50IHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIicuXCIreSk7XCJldWNsaWRlYW5cIj09PWIudHlwZS50b0xvd2VyQ2FzZSgpPyh2PW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJtaXJyb3JlbGVtZW50XCIsXCJjZW50ZXJcIiksKG09YS5jcmVhdGVQb2ludCh0LFtyLmNlbnRlcixnXSx2KSkucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkoby5ldmFsdWF0ZShtLnZpc1Byb3AudmlzaWJsZSkpLnVwZGF0ZVJlbmRlcmVyKCksZj1sLmNyZWF0ZUNpcmNsZSh0LFttLGZ1bmN0aW9uKCl7cmV0dXJuIHIuUmFkaXVzKCl9XSxiKSk6Zj1sLmNyZWF0ZUNpcmNsZSh0LFtyLGddLGIpfXJldHVybiBvLmV4aXN0cyhyLl9pc19uZXcpJiYoZi5hZGRDaGlsZChyKSxkZWxldGUgci5faXNfbmV3KSxkLmFkZENoaWxkKGYpLGYuZWxUeXBlPVwibWlycm9yZWxlbWVudFwiLGYuYWRkUGFyZW50cyhkKSxmLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKSxmfSx0LmNyZWF0ZU1pcnJvclBvaW50PWZ1bmN0aW9uKGUsaSxyKXt2YXIgcz10LmNyZWF0ZU1pcnJvckVsZW1lbnQoZSxpLHIpO3JldHVybiBzLmVsVHlwZT1cIm1pcnJvcnBvaW50XCIsc30sdC5jcmVhdGVJbnRlZ3JhbD1mdW5jdGlvbihlLGksYSl7dmFyIGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXyxQPW51bGw7aWYoby5pc0FycmF5KGlbMF0pJiZpWzFdLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NVUlZFKWg9aVswXSxsPWlbMV07ZWxzZXtpZighby5pc0FycmF5KGlbMV0pfHxpWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0NVUlZFKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgaW50ZWdyYWwgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtbbnVtYmVyfGZ1bmN0aW9uLG51bWJlcnxmdW5jdGlvbl0sY3VydmVdXCIpO2g9aVsxXSxsPWlbMF19cmV0dXJuKGM9by5jb3B5QXR0cmlidXRlcyhhLGUub3B0aW9ucyxcImludGVncmFsXCIpKS53aXRoTGFiZWw9ITEsXz1lLmNyZWF0ZShcImN1cnZlXCIsW1swXSxbMF1dLGMpLGQ9aFswXSx1PWhbMV0sby5pc0Z1bmN0aW9uKGQpPyhmPWZ1bmN0aW9uKCl7cmV0dXJuIGwuWShwKCkpfSxkPShwPWQpKCkpOihwPWQsZj1sLlkoZCkpLG8uaXNGdW5jdGlvbih1KT8oZz1mdW5jdGlvbigpe3JldHVybiBsLlkobSgpKX0sdT0obT11KSgpKToobT11LGc9bC5ZKHUpKSxjPW8uY29weUF0dHJpYnV0ZXMoYSxlLm9wdGlvbnMsXCJpbnRlZ3JhbFwiLFwiY3VydmVMZWZ0XCIpLGI9ZS5jcmVhdGUoXCJnbGlkZXJcIixbcCxmLGxdLGMpLG8uaXNGdW5jdGlvbihwKSYmYi5oaWRlRWxlbWVudCgpLGM9by5jb3B5QXR0cmlidXRlcyhhLGUub3B0aW9ucyxcImludGVncmFsXCIsXCJiYXNlTGVmdFwiKSx2PWUuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm5cInlcIj09PW8uZXZhbHVhdGUoXy52aXNQcm9wLmF4aXMpPzA6Yi5YKCl9LGZ1bmN0aW9uKCl7cmV0dXJuXCJ5XCI9PT1vLmV2YWx1YXRlKF8udmlzUHJvcC5heGlzKT9iLlkoKTowfV0sYyksYz1vLmNvcHlBdHRyaWJ1dGVzKGEsZS5vcHRpb25zLFwiaW50ZWdyYWxcIixcImN1cnZlUmlnaHRcIikseT1lLmNyZWF0ZShcImdsaWRlclwiLFttLGcsbF0sYyksby5pc0Z1bmN0aW9uKG0pJiZ5LmhpZGVFbGVtZW50KCksYz1vLmNvcHlBdHRyaWJ1dGVzKGEsZS5vcHRpb25zLFwiaW50ZWdyYWxcIixcImJhc2VSaWdodFwiKSxDPWUuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm5cInlcIj09PW8uZXZhbHVhdGUoXy52aXNQcm9wLmF4aXMpPzA6eS5YKCl9LGZ1bmN0aW9uKCl7cmV0dXJuXCJ5XCI9PT1vLmV2YWx1YXRlKF8udmlzUHJvcC5heGlzKT95LlkoKTowfV0sYyksITEhPT0oYz1vLmNvcHlBdHRyaWJ1dGVzKGEsZS5vcHRpb25zLFwiaW50ZWdyYWxcIikpLndpdGhsYWJlbCYmXCJ5XCIhPT1jLmF4aXMmJihjPW8uY29weUF0dHJpYnV0ZXMoYSxlLm9wdGlvbnMsXCJpbnRlZ3JhbFwiLFwibGFiZWxcIiksYz1vLmNvcHlBdHRyaWJ1dGVzKGMsZS5vcHRpb25zLFwibGFiZWxcIiksKFA9ZS5jcmVhdGUoXCJ0ZXh0XCIsW2Z1bmN0aW9uKCl7dmFyIHQ9bmV3IHMobi5DT09SRFNfQllfU0NSRUVOLFtvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5vZmZzZXRbMF0pK3RoaXMuYm9hcmQub3JpZ2luLnNjckNvb3Jkc1sxXSwwXSx0aGlzLmJvYXJkLCExKSxlPXRoaXMuYm9hcmQuZ2V0Qm91bmRpbmdCb3goKSxpPS4xKihlWzJdLWVbMF0pLHI9eS5YKCk7cmV0dXJuIHI8ZVswXT9yPWVbMF0raTpyPmVbMl0mJihyPWVbMl0taSkscit0LnVzckNvb3Jkc1sxXX0sZnVuY3Rpb24oKXt2YXIgdD1uZXcgcyhuLkNPT1JEU19CWV9TQ1JFRU4sWzAsby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Aub2Zmc2V0WzFdKSt0aGlzLmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMl1dLHRoaXMuYm9hcmQsITEpLGU9dGhpcy5ib2FyZC5nZXRCb3VuZGluZ0JveCgpLGk9LjEqKGVbMV0tZVszXSkscj15LlkoKTtyZXR1cm4gcj5lWzFdP3I9ZVsxXS1pOnI8ZVszXSYmKHI9ZVszXStpKSxyK3QudXNyQ29vcmRzWzJdfSxmdW5jdGlvbigpe3ZhciB0PXIuTmV3dG9uQ290ZXMoW3YuWCgpLEMuWCgpXSxsLlkpO3JldHVyblwiJmludDsgPSBcIitvLnRvRml4ZWQodCw0KX1dLGMpKS5kdW1wPSExLGIuYWRkQ2hpbGQoUCkseS5hZGRDaGlsZChQKSksYi5kdW1wPSExLHYuZHVtcD0hMSx5LmR1bXA9ITEsQy5kdW1wPSExLF8uZWxUeXBlPVwiaW50ZWdyYWxcIixfLnNldFBhcmVudHMoW2wuaWQsaF0pLF8uc3Vicz17Y3VydmVMZWZ0OmIsYmFzZUxlZnQ6dixjdXJ2ZVJpZ2h0OnksYmFzZVJpZ2h0OkN9LF8uaW5oZXJpdHMucHVzaChiLHYseSxDKSxjLndpdGhMYWJlbCYmKF8uc3Vicy5sYWJlbD1QLF8uaW5oZXJpdHMucHVzaChQKSksXy5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiByLkkoW3YuWCgpLEMuWCgpXSxsLlkpfSxfLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbixhLGgsYztpZihcInlcIj09PW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmF4aXMpKXtmb3IoYi5ZKCk8eS5ZKCk/KG49Yi5YKCksaD1iLlkoKSxhPXkuWCgpLGM9eS5ZKCkpOihuPXkuWCgpLGg9eS5ZKCksYT1iLlgoKSxjPWIuWSgpKSxyPU1hdGgubWluKG4sYSkscz1NYXRoLm1heChuLGEpLHQ9WzAsbl0sZT1baCxoXSxpPTA7aTxsLm51bWJlclBvaW50cztpKyspaDw9bC5wb2ludHNbaV0udXNyQ29vcmRzWzJdJiZyPD1sLnBvaW50c1tpXS51c3JDb29yZHNbMV0mJmwucG9pbnRzW2ldLnVzckNvb3Jkc1syXTw9YyYmbC5wb2ludHNbaV0udXNyQ29vcmRzWzFdPD1zJiYodC5wdXNoKGwucG9pbnRzW2ldLnVzckNvb3Jkc1sxXSksZS5wdXNoKGwucG9pbnRzW2ldLnVzckNvb3Jkc1syXSkpO3QucHVzaChhKSxlLnB1c2goYyksdC5wdXNoKDApLGUucHVzaChjKSx0LnB1c2goMCksZS5wdXNoKGgpfWVsc2V7Zm9yKHYuWCgpPEMuWCgpPyhyPXYuWCgpLHM9Qy5YKCkpOihyPUMuWCgpLHM9di5YKCkpLHQ9W3Iscl0sZT1bMCxsLlkocildLGk9MDtpPGwubnVtYmVyUG9pbnRzO2krKylyPD1sLnBvaW50c1tpXS51c3JDb29yZHNbMV0mJmwucG9pbnRzW2ldLnVzckNvb3Jkc1sxXTw9cyYmKHQucHVzaChsLnBvaW50c1tpXS51c3JDb29yZHNbMV0pLGUucHVzaChsLnBvaW50c1tpXS51c3JDb29yZHNbMl0pKTt0LnB1c2gocyksZS5wdXNoKGwuWShzKSksdC5wdXNoKHMpLGUucHVzaCgwKSx0LnB1c2gociksZS5wdXNoKDApfXRoaXMuZGF0YVg9dCx0aGlzLmRhdGFZPWV9LGIuYWRkQ2hpbGQoXykseS5hZGRDaGlsZChfKSx2LmFkZENoaWxkKF8pLEMuYWRkQ2hpbGQoXyksXy5iYXNlTGVmdD12LF8uYmFzZVJpZ2h0PUMsXy5jdXJ2ZUxlZnQ9YixfLmN1cnZlUmlnaHQ9eSxfLm1ldGhvZE1hcD10LmRlZXBDb3B5KF8ubWV0aG9kTWFwLHtjdXJ2ZUxlZnQ6XCJjdXJ2ZUxlZnRcIixiYXNlTGVmdDpcImJhc2VMZWZ0XCIsY3VydmVSaWdodDpcImN1cnZlUmlnaHRcIixiYXNlUmlnaHQ6XCJiYXNlUmlnaHRcIixWYWx1ZTpcIlZhbHVlXCJ9KSxfLmxhYmVsPVAsX30sdC5jcmVhdGVHcmlkPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixhO3JldHVybiBhPW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJncmlkXCIpLChyPXQuY3JlYXRlKFwiY3VydmVcIixbW251bGxdLFtudWxsXV0sYSkpLmVsVHlwZT1cImdyaWRcIixyLnR5cGU9bi5PQkpFQ1RfVFlQRV9HUklELHIudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIGUsaSxhLGgsbCxjPW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmdyaWR4KSxkPW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmdyaWR5KTtmb3IoaD1vLmlzQXJyYXkodGhpcy52aXNQcm9wLnRvcGxlZnQpP25ldyBzKG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnRsdHlwZSl8fG4uQ09PUkRTX0JZX1VTRVIsdGhpcy52aXNQcm9wLnRvcGxlZnQsdCk6bmV3IHMobi5DT09SRFNfQllfU0NSRUVOLFswLDBdLHQpLGw9by5pc0FycmF5KHRoaXMudmlzUHJvcC5ib3R0b21yaWdodCk/bmV3IHMoby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYnJ0eXBlKXx8bi5DT09SRFNfQllfVVNFUix0aGlzLnZpc1Byb3AuYm90dG9tcmlnaHQsdCk6bmV3IHMobi5DT09SRFNfQllfU0NSRUVOLFt0LmNhbnZhc1dpZHRoLHQuY2FudmFzSGVpZ2h0XSx0KSx0Lm9wdGlvbnMuZ3JpZC5oYXNHcmlkPSEwLHIuZGF0YVg9W10sci5kYXRhWT1bXSxlPU1hdGguZmxvb3IoaC51c3JDb29yZHNbMl0vZCkqZCxpPU1hdGguY2VpbChsLnVzckNvb3Jkc1syXS9kKSpkLGgudXNyQ29vcmRzWzJdPGwudXNyQ29vcmRzWzJdJiYoZT1NYXRoLmNlaWwobC51c3JDb29yZHNbMl0vZCkqZCxpPU1hdGguZmxvb3IoaC51c3JDb29yZHNbMl0vZCkqZCksYT1lO2E+aS1kO2EtPWQpci5kYXRhWC5wdXNoKGgudXNyQ29vcmRzWzFdLGwudXNyQ29vcmRzWzFdLE5hTiksci5kYXRhWS5wdXNoKGEsYSxOYU4pO2ZvcihlPU1hdGguY2VpbChoLnVzckNvb3Jkc1sxXS9jKSpjLGk9TWF0aC5mbG9vcihsLnVzckNvb3Jkc1sxXS9jKSpjLGgudXNyQ29vcmRzWzFdPmwudXNyQ29vcmRzWzFdJiYoZT1NYXRoLmZsb29yKGwudXNyQ29vcmRzWzFdL2MpKmMsaT1NYXRoLmNlaWwoaC51c3JDb29yZHNbMV0vYykqYyksYT1lO2E8aStjO2ErPWMpci5kYXRhWC5wdXNoKGEsYSxOYU4pLHIuZGF0YVkucHVzaChoLnVzckNvb3Jkc1syXSxsLnVzckNvb3Jkc1syXSxOYU4pfSxyLmhhc1BvaW50PWZ1bmN0aW9uKCl7cmV0dXJuITF9LHQuZ3JpZHMucHVzaChyKSxyfSx0LmNyZWF0ZUluZXF1YWxpdHk9ZnVuY3Rpb24odCxyLHMpe3ZhciBhLGgsbDtpZihsPW8uY29weUF0dHJpYnV0ZXMocyx0Lm9wdGlvbnMsXCJpbmVxdWFsaXR5XCIpLHJbMF0uZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSkoaD10LmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxsKSkuaGFzUG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saC51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgcyxvLGEsaD10LmdldEJvdW5kaW5nQm94KCksYz1sLmludmVyc2U/LTE6MSxkPTEuNSpNYXRoLm1heChoWzJdLWhbMF0saFsxXS1oWzNdKSx1PXtjb29yZHM6e3VzckNvb3JkczpbMSwoaFswXStoWzJdKS8yLGwuaW52ZXJzZT9oWzFdOmhbM11dfX0scD1yWzBdLnN0ZGZvcm0uc2xpY2UoMSksZj1wO2E9MS41Kk1hdGgubWF4KGkucGVycGVuZGljdWxhcihyWzBdLHUsdClbMF0uZGlzdGFuY2Uobi5DT09SRFNfQllfVVNFUix1LmNvb3JkcyksZCksYSo9Yyx1PXtjb29yZHM6e3VzckNvb3JkczpbMSwoaFswXStoWzJdKS8yLChoWzFdK2hbM10pLzJdfX0scz1bMSwodT1NYXRoLmFicyhlLmlubmVyUHJvZHVjdCh1LmNvb3Jkcy51c3JDb29yZHMsclswXS5zdGRmb3JtLDMpKT49ZS5lcHM/aS5wZXJwZW5kaWN1bGFyKHJbMF0sdSx0KVswXS51c3JDb29yZHM6dS5jb29yZHMudXNyQ29vcmRzKVsxXStwWzFdKmQsdVsyXS1wWzBdKmRdLG89WzEsdVsxXS1mWzFdKmQsdVsyXStmWzBdKmRdLHRoaXMuZGF0YVg9W3NbMV0sc1sxXStwWzBdKmEsb1sxXStmWzBdKmEsb1sxXSxzWzFdXSx0aGlzLmRhdGFZPVtzWzJdLHNbMl0rcFsxXSphLG9bMl0rZlsxXSphLG9bMl0sc1syXV19O2Vsc2UgaWYoclswXS5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DVVJWRSYmXCJmdW5jdGlvbmdyYXBoXCI9PT1yWzBdLnZpc1Byb3AuY3VydmV0eXBlKShoPXQuY3JlYXRlKFwiY3VydmVcIixbW10sW11dLGwpKS51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxlLGkscyxuLGEsaCxsLGMsZD10aGlzLmJvYXJkLmdldEJvdW5kaW5nQm94KCksdT1bXSxwPXJbMF0ubWluWCgpLGY9clswXS5tYXhYKCksbT0uMyooZFsxXS1kWzNdKTtpZih0PW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmludmVyc2UpPzE6Myx0aGlzLmRhdGFYPVtdLHRoaXMuZGF0YVk9W10sMCE9PShzPXJbMF0ucG9pbnRzLmxlbmd0aCkpZm9yKGRbMV0rPW0sZFszXS09bSxpPS0xO2k8cy0xOyl7Zm9yKG49aSsxLGU9cztuPHM7bisrKWlmKHJbMF0ucG9pbnRzW25dLmlzUmVhbCgpKXtlPW47YnJlYWt9aWYoZT49cylicmVhaztmb3Iobj1lLGk9cy0xO248cy0xO24rKylpZighclswXS5wb2ludHNbbisxXS5pc1JlYWwoKSl7aT1uO2JyZWFrfWZvcihsPXJbMF0ucG9pbnRzW2VdLnVzckNvb3Jkc1sxXSxjPXJbMF0ucG9pbnRzW2ldLnVzckNvb3Jkc1sxXSxhPWRbMF08cD9wOmRbMF0saD1kWzJdPmY/ZjpkWzJdLGE9MD09PWU/YTpNYXRoLm1heChhLGwpLGg9aT09PXMtMT9oOk1hdGgubWluKGgsYyksaD1pPT09cy0xP2Y6YywodT1bXSkucHVzaChbMSxhPTA9PT1lP3A6bCxkW3RdXSksdS5wdXNoKFsxLGEsclswXS5wb2ludHNbZV0udXNyQ29vcmRzWzJdXSksbj1lO248PWk7bisrKXUucHVzaChyWzBdLnBvaW50c1tuXS51c3JDb29yZHMpO2Zvcih1LnB1c2goWzEsaCxyWzBdLnBvaW50c1tpXS51c3JDb29yZHNbMl1dKSx1LnB1c2goWzEsaCxkW3RdXSksdS5wdXNoKHVbMF0pLG49MDtuPHUubGVuZ3RoO24rKyl0aGlzLmRhdGFYLnB1c2godVtuXVsxXSksdGhpcy5kYXRhWS5wdXNoKHVbbl1bMl0pO2k8cy0xJiYodGhpcy5kYXRhWC5wdXNoKE5hTiksdGhpcy5kYXRhWS5wdXNoKE5hTikpfX0saC5oYXNQb2ludD1mdW5jdGlvbigpe3JldHVybiExfTtlbHNlIGlmKGE9by5jcmVhdGVGdW5jdGlvbihyWzBdKSwhby5leGlzdHMoYSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBhcmVhIHdpdGggdGhlIGdpdmVuIHBhcmVudHMuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbbGluZV0sIFtmdW5jdGlvbl1cIik7cmV0dXJuIGguYWRkUGFyZW50cyhyWzBdKSxofSx0LnJlZ2lzdGVyRWxlbWVudChcImFycm93cGFyYWxsZWxcIix0LmNyZWF0ZUFycm93UGFyYWxsZWwpLHQucmVnaXN0ZXJFbGVtZW50KFwiYmlzZWN0b3JcIix0LmNyZWF0ZUJpc2VjdG9yKSx0LnJlZ2lzdGVyRWxlbWVudChcImJpc2VjdG9ybGluZXNcIix0LmNyZWF0ZUFuZ3VsYXJCaXNlY3RvcnNPZlR3b0xpbmVzKSx0LnJlZ2lzdGVyRWxlbWVudChcIm1zZWN0b3JcIix0LmNyZWF0ZU1zZWN0b3IpLHQucmVnaXN0ZXJFbGVtZW50KFwiY2lyY3VtY2lyY2xlXCIsdC5jcmVhdGVDaXJjdW1jaXJjbGUpLHQucmVnaXN0ZXJFbGVtZW50KFwiY2lyY3VtY2lyY2xlbWlkcG9pbnRcIix0LmNyZWF0ZUNpcmN1bWNlbnRlciksdC5yZWdpc3RlckVsZW1lbnQoXCJjaXJjdW1jZW50ZXJcIix0LmNyZWF0ZUNpcmN1bWNlbnRlciksdC5yZWdpc3RlckVsZW1lbnQoXCJpbmNlbnRlclwiLHQuY3JlYXRlSW5jZW50ZXIpLHQucmVnaXN0ZXJFbGVtZW50KFwiaW5jaXJjbGVcIix0LmNyZWF0ZUluY2lyY2xlKSx0LnJlZ2lzdGVyRWxlbWVudChcImludGVncmFsXCIsdC5jcmVhdGVJbnRlZ3JhbCksdC5yZWdpc3RlckVsZW1lbnQoXCJtaWRwb2ludFwiLHQuY3JlYXRlTWlkcG9pbnQpLHQucmVnaXN0ZXJFbGVtZW50KFwibWlycm9yZWxlbWVudFwiLHQuY3JlYXRlTWlycm9yRWxlbWVudCksdC5yZWdpc3RlckVsZW1lbnQoXCJtaXJyb3Jwb2ludFwiLHQuY3JlYXRlTWlycm9yUG9pbnQpLHQucmVnaXN0ZXJFbGVtZW50KFwibm9ybWFsXCIsdC5jcmVhdGVOb3JtYWwpLHQucmVnaXN0ZXJFbGVtZW50KFwib3J0aG9nb25hbHByb2plY3Rpb25cIix0LmNyZWF0ZU9ydGhvZ29uYWxQcm9qZWN0aW9uKSx0LnJlZ2lzdGVyRWxlbWVudChcInBhcmFsbGVsXCIsdC5jcmVhdGVQYXJhbGxlbCksdC5yZWdpc3RlckVsZW1lbnQoXCJwYXJhbGxlbHBvaW50XCIsdC5jcmVhdGVQYXJhbGxlbFBvaW50KSx0LnJlZ2lzdGVyRWxlbWVudChcInBlcnBlbmRpY3VsYXJcIix0LmNyZWF0ZVBlcnBlbmRpY3VsYXIpLHQucmVnaXN0ZXJFbGVtZW50KFwicGVycGVuZGljdWxhcnBvaW50XCIsdC5jcmVhdGVQZXJwZW5kaWN1bGFyUG9pbnQpLHQucmVnaXN0ZXJFbGVtZW50KFwicGVycGVuZGljdWxhcnNlZ21lbnRcIix0LmNyZWF0ZVBlcnBlbmRpY3VsYXJTZWdtZW50KSx0LnJlZ2lzdGVyRWxlbWVudChcInJlZmxlY3Rpb25cIix0LmNyZWF0ZVJlZmxlY3Rpb24pLHQucmVnaXN0ZXJFbGVtZW50KFwiZ3JpZFwiLHQuY3JlYXRlR3JpZCksdC5yZWdpc3RlckVsZW1lbnQoXCJpbmVxdWFsaXR5XCIsdC5jcmVhdGVJbmVxdWFsaXR5KSx7Y3JlYXRlQXJyb3dQYXJhbGxlbDp0LmNyZWF0ZUFycm93UGFyYWxsZWwsY3JlYXRlQmlzZWN0b3I6dC5jcmVhdGVCaXNlY3RvcixjcmVhdGVBbmd1bGFyQmlzZWN0b3JPZlR3b0xpbmVzOnQuY3JlYXRlQW5ndWxhckJpc2VjdG9yc09mVHdvTGluZXMsY3JlYXRlQ2lyY3VtY2lyY2xlOnQuY3JlYXRlQ2lyY3VtY2lyY2xlLGNyZWF0ZUNpcmN1bWNlbnRlcjp0LmNyZWF0ZUNpcmN1bWNlbnRlcixjcmVhdGVJbmNlbnRlcjp0LmNyZWF0ZUluY2VudGVyLGNyZWF0ZUluY2lyY2xlOnQuY3JlYXRlSW5jaXJjbGUsY3JlYXRlSW50ZWdyYWw6dC5jcmVhdGVJbnRlZ3JhbCxjcmVhdGVNaWRwb2ludDp0LmNyZWF0ZU1pZHBvaW50LGNyZWF0ZU1pcnJvckVsZW1lbnQ6dC5jcmVhdGVNaXJyb3JFbGVtZW50LGNyZWF0ZU1pcnJvclBvaW50OnQuY3JlYXRlTWlycm9yUG9pbnQsY3JlYXRlTm9ybWFsOnQuY3JlYXRlTm9ybWFsLGNyZWF0ZU9ydGhvZ29uYWxQcm9qZWN0aW9uOnQuY3JlYXRlT3J0aG9nb25hbFByb2plY3Rpb24sY3JlYXRlUGFyYWxsZWw6dC5jcmVhdGVQYXJhbGxlbCxjcmVhdGVQYXJhbGxlbFBvaW50OnQuY3JlYXRlUGFyYWxsZWxQb2ludCxjcmVhdGVQZXJwZW5kaWN1bGFyOnQuY3JlYXRlUGVycGVuZGljdWxhcixjcmVhdGVQZXJwZW5kaWN1bGFyUG9pbnQ6dC5jcmVhdGVQZXJwZW5kaWN1bGFyUG9pbnQsY3JlYXRlUGVycGVuZGljdWxhclNlZ21lbjp0LmNyZWF0ZVBlcnBlbmRpY3VsYXJTZWdtZW50LGNyZWF0ZVJlZmxlY3Rpb246dC5jcmVhdGVSZWZsZWN0aW9uLGNyZWF0ZUdyaWQ6dC5jcmVhdGVHcmlkLGNyZWF0ZUluZXF1YWxpdHk6dC5jcmVhdGVJbmVxdWFsaXR5fX0pKSxkZWZpbmUoXCJlbGVtZW50L2xvY3VzXCIsW1wianhnXCIsXCJtYXRoL3N5bWJvbGljXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuY3JlYXRlTG9jdXM9ZnVuY3Rpb24odCxyLHMpe3ZhciBvLG47aWYoIWkuaXNBcnJheShyKXx8MSE9PXIubGVuZ3RofHwhaS5pc1BvaW50KHJbMF0pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgbG9jdXMgd2l0aCBwYXJlbnQgb2YgdHlwZSBvdGhlciB0aGFuIHBvaW50LlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50XVwiKTtyZXR1cm4gbj1yWzBdLChvPXQuY3JlYXRlKFwiY3VydmVcIixbW251bGxdLFtudWxsXV0scykpLmRvbnRDYWxsU2VydmVyPSExLG8uZWxUeXBlPVwibG9jdXNcIixvLnNldFBhcmVudHMoW24uaWRdKSxvLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciBpLHIscztvLmJvYXJkLm1vZGU+MHx8KGk9ZS5nZW5lcmF0ZVBvbHlub21pYWxzKHQsbiwhMCkuam9pbihcInxcIikpIT09by5zcGUmJihvLnNwZT1pLChyPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzO28uZGF0YVg9dCxvLmRhdGFZPWUsby5lcT1pLG8uY3RpbWU9cixvLmdlbmVyYXRlUG9seW5vbWlhbD0ocz1pLGZ1bmN0aW9uKHQpe3ZhciBlLGk9XCIoXCIrdC5zeW1ib2xpYy54K1wiKVwiLHI9XCIoXCIrdC5zeW1ib2xpYy55K1wiKVwiLG89W107Zm9yKGU9MDtlPHMubGVuZ3RoO2UrKylvW2VdPXNbZV0ucmVwbGFjZSgvXFwqXFwqL2csXCJeXCIpLnJlcGxhY2UoL3gvZyxpKS5yZXBsYWNlKC95L2cscik7cmV0dXJuIG99KX0pKChzPWUuZ2VvbWV0cmljTG9jdXNCeUdyb2VibmVyQmFzZSh0LG4scikpLmRhdGF4LHMuZGF0YXkscy5wb2x5bm9taWFsLHMuZXhlY3RpbWUpKX0sb30sdC5yZWdpc3RlckVsZW1lbnQoXCJsb2N1c1wiLHQuY3JlYXRlTG9jdXMpLHtjcmVhdGVMb2N1czp0LmNyZWF0ZUxvY3VzfX0pKSxkZWZpbmUoXCJiYXNlL2ltYWdlXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcImJhc2UvZWxlbWVudFwiLFwibWF0aC9tYXRoXCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL2Nvb3Jkc2VsZW1lbnRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe1widXNlIHN0cmljdFwiO3JldHVybiB0LkltYWdlPWZ1bmN0aW9uKGkscixzLG4sYSl7dGhpcy5jb25zdHJ1Y3RvcihpLHMsZS5PQkpFQ1RfVFlQRV9JTUFHRSxlLk9CSkVDVF9DTEFTU19PVEhFUiksdGhpcy5lbGVtZW50PXRoaXMuYm9hcmQuc2VsZWN0KHMuYW5jaG9yKSx0aGlzLmNvb3Jkc0NvbnN0cnVjdG9yKHIpLHRoaXMuVz1vLmNyZWF0ZUZ1bmN0aW9uKGFbMF0sdGhpcy5ib2FyZCxcIlwiKSx0aGlzLkg9by5jcmVhdGVGdW5jdGlvbihhWzFdLHRoaXMuYm9hcmQsXCJcIiksdGhpcy51c3JTaXplPVt0aGlzLlcoKSx0aGlzLkgoKV0sdGhpcy5zaXplPVtNYXRoLmFicyh0aGlzLnVzclNpemVbMF0qaS51bml0WCksTWF0aC5hYnModGhpcy51c3JTaXplWzFdKmkudW5pdFkpXSx0aGlzLnVybD1uLHRoaXMuZWxUeXBlPVwiaW1hZ2VcIix0aGlzLnNwYW49W3RoaXMuY29vcmRzLnVzckNvb3Jkcy5zbGljZSgwKSxbdGhpcy5jb29yZHMudXNyQ29vcmRzWzBdLHRoaXMuVygpLDBdLFt0aGlzLmNvb3Jkcy51c3JDb29yZHNbMF0sMCx0aGlzLkgoKV1dLHRoaXMuaWQ9dGhpcy5ib2FyZC5zZXRJZCh0aGlzLFwiSW1cIiksdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3SW1hZ2UodGhpcyksdGhpcy5ib2FyZC5maW5hbGl6ZUFkZGluZyh0aGlzKSx0aGlzLm1ldGhvZE1hcD10LmRlZXBDb3B5KHRoaXMubWV0aG9kTWFwLHthZGRUcmFuc2Zvcm1hdGlvbjpcImFkZFRyYW5zZm9ybVwiLHRyYW5zOlwiYWRkVHJhbnNmb3JtXCJ9KX0sdC5JbWFnZS5wcm90b3R5cGU9bmV3IHIsby5jb3B5UHJvdG90eXBlTWV0aG9kcyh0LkltYWdlLG4sXCJjb29yZHNDb25zdHJ1Y3RvclwiKSx0LmV4dGVuZCh0LkltYWdlLnByb3RvdHlwZSx7aGFzUG9pbnQ6ZnVuY3Rpb24odCxyKXt2YXIgbixhLGgsbCxjLGQsdSxwLGYsbT10aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg7cmV0dXJuIG8uaXNPYmplY3Qoby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KGw9dGhpcy5ib2FyZC5faW5wdXREZXZpY2UsYz1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25bbF0pKTpjPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsMD09PW0/KG49dC10aGlzLmNvb3Jkcy5zY3JDb29yZHNbMV0sYT10aGlzLmNvb3Jkcy5zY3JDb29yZHNbMl0tcixuPj0tKGg9YykmJm4tdGhpcy5zaXplWzBdPD1oJiZhPj0taCYmYS10aGlzLnNpemVbMV08PWgpOih1PVsoZD0oZD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW3Qscl0sdGhpcy5ib2FyZCkpLnVzckNvb3JkcylbMF0tdGhpcy5zcGFuWzBdWzBdLGRbMV0tdGhpcy5zcGFuWzBdWzFdLGRbMl0tdGhpcy5zcGFuWzBdWzJdXSwwPD0ocD0oZj1zLmlubmVyUHJvZHVjdCkodSx0aGlzLnNwYW5bMV0pKSYmcDw9Zih0aGlzLnNwYW5bMV0sdGhpcy5zcGFuWzFdKSYmMDw9KHA9Zih1LHRoaXMuc3BhblsyXSkpJiZwPD1mKHRoaXMuc3BhblsyXSx0aGlzLnNwYW5bMl0pKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPyh0aGlzLnVwZGF0ZUNvb3Jkcyh0KSx0aGlzLnVwZGF0ZVNpemUoKSx0aGlzLnVwZGF0ZVNwYW4oKSx0aGlzKTp0aGlzfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVwZGF0ZVJlbmRlcmVyR2VuZXJpYyhcInVwZGF0ZUltYWdlXCIpfSx1cGRhdGVTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXNyU2l6ZT1bdGhpcy5XKCksdGhpcy5IKCldLHRoaXMuc2l6ZT1bTWF0aC5hYnModGhpcy51c3JTaXplWzBdKnRoaXMuYm9hcmQudW5pdFgpLE1hdGguYWJzKHRoaXMudXNyU2l6ZVsxXSp0aGlzLmJvYXJkLnVuaXRZKV0sdGhpc30sdXBkYXRlU3BhbjpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGgscj1bXTtpZigwPT09aSl0aGlzLnNwYW49W1t0aGlzLlooKSx0aGlzLlgoKSx0aGlzLlkoKV0sW3RoaXMuWigpLHRoaXMuVygpLDBdLFt0aGlzLlooKSwwLHRoaXMuSCgpXV07ZWxzZXtmb3IoclswXT1bdGhpcy5aKCksdGhpcy5YKCksdGhpcy5ZKCldLHJbMV09W3RoaXMuWigpLHRoaXMuWCgpK3RoaXMuVygpLHRoaXMuWSgpXSxyWzJdPVt0aGlzLlooKSx0aGlzLlgoKSx0aGlzLlkoKSt0aGlzLkgoKV0sdD0wO3Q8aTt0KyspZm9yKGU9MDtlPDM7ZSsrKXJbZV09cy5tYXRWZWNNdWx0KHRoaXMudHJhbnNmb3JtYXRpb25zW3RdLm1hdHJpeCxyW2VdKTtmb3IoZT0wO2U8MztlKyspcltlXVsxXS89cltlXVswXSxyW2VdWzJdLz1yW2VdWzBdLHJbZV1bMF0vPXJbZV1bMF07Zm9yKGU9MTtlPDM7ZSsrKXJbZV1bMF0tPXJbMF1bMF0scltlXVsxXS09clswXVsxXSxyW2VdWzJdLT1yWzBdWzJdO3RoaXMuc3Bhbj1yfXJldHVybiB0aGlzfSxhZGRUcmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGU7aWYoby5pc0FycmF5KHQpKWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy50cmFuc2Zvcm1hdGlvbnMucHVzaCh0W2VdKTtlbHNlIHRoaXMudHJhbnNmb3JtYXRpb25zLnB1c2godCk7cmV0dXJuIHRoaXN9LGdldFBhcmVudHM6ZnVuY3Rpb24oKXt2YXIgdD1bdGhpcy51cmwsW3RoaXMuWigpLHRoaXMuWCgpLHRoaXMuWSgpXSx0aGlzLnVzclNpemVdO3JldHVybiAwIT09dGhpcy5wYXJlbnRzLmxlbmd0aCYmKHQ9dGhpcy5wYXJlbnRzKSx0fSxzZXRTaXplOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuVz1vLmNyZWF0ZUZ1bmN0aW9uKHQsdGhpcy5ib2FyZCxcIlwiKSx0aGlzLkg9by5jcmVhdGVGdW5jdGlvbihlLHRoaXMuYm9hcmQsXCJcIiksdGhpc30sVzpmdW5jdGlvbigpe30sSDpmdW5jdGlvbigpe319KSx0LmNyZWF0ZUltYWdlPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxhLGg9aVswXSxsPWlbMV0sYz1pWzJdO2lmKHM9by5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImltYWdlXCIpLCEoYT1uLmNyZWF0ZSh0LkltYWdlLGUsbCxzLGgsYykpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgaW1hZ2Ugd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFt4LHldLCBbeix4LHldLCBbZWxlbWVudCx0cmFuc2Zvcm1hdGlvbl1cIik7cmV0dXJuIDAhPT1zLnJvdGF0ZSYmYS5hZGRSb3RhdGlvbihzLnJvdGF0ZSksYX0sdC5yZWdpc3RlckVsZW1lbnQoXCJpbWFnZVwiLHQuY3JlYXRlSW1hZ2UpLHtJbWFnZTp0LkltYWdlLGNyZWF0ZUltYWdlOnQuY3JlYXRlSW1hZ2V9fSkpLGRlZmluZShcImVsZW1lbnQvc2xpZGVyXCIsW1wianhnXCIsXCJtYXRoL21hdGhcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS9wb2ludFwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8pe1widXNlIHN0cmljdFwiO3JldHVybiB0LmNyZWF0ZVNsaWRlcj1mdW5jdGlvbih0LG4sYSl7dmFyIGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXyxQLEUseCxTLE8sdyxUO3JldHVybiB4PShUPXMuY29weUF0dHJpYnV0ZXMoYSx0Lm9wdGlvbnMsXCJzbGlkZXJcIikpLndpdGh0aWNrcyxFPVQud2l0aGxhYmVsLFM9VC5zbmFwd2lkdGgsVD1zLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwic2xpZGVyXCIsXCJwb2ludDFcIiksZj10LmNyZWF0ZShcInBvaW50XCIsblswXSxUKSxUPXMuY29weUF0dHJpYnV0ZXMoYSx0Lm9wdGlvbnMsXCJzbGlkZXJcIixcInBvaW50MlwiKSxtPXQuY3JlYXRlKFwicG9pbnRcIixuWzFdLFQpLFQ9cy5jb3B5QXR0cmlidXRlcyhhLHQub3B0aW9ucyxcInNsaWRlclwiLFwiYmFzZWxpbmVcIiksKGc9dC5jcmVhdGUoXCJzZWdtZW50XCIsW2YsbV0sVCkpLnVwZGF0ZVN0ZGZvcm0oKSxoPWYuY29vcmRzLnVzckNvb3Jkcy5zbGljZSgxKSxsPW0uY29vcmRzLnVzckNvb3Jkcy5zbGljZSgxKSxjPW5bMl1bMF0sZD1uWzJdWzFdLHU9blsyXVsyXSxwPXUtYyx3PS0xPT09KE89cy5ldmFsdWF0ZShTKSk/ZDpNYXRoLnJvdW5kKGQvTykqTyx2PWhbMF0rKGxbMF0taFswXSkqKHctYykvKHUtYykseT1oWzFdKyhsWzFdLWhbMV0pKih3LWMpLyh1LWMpLChUPXMuY29weUF0dHJpYnV0ZXMoYSx0Lm9wdGlvbnMsXCJzbGlkZXJcIikpLndpdGhMYWJlbD0hMSwoQz10LmNyZWF0ZShcImdsaWRlclwiLFt2LHksZ10sVCkpLnNldEF0dHJpYnV0ZSh7c25hcHdpZHRoOlN9KSxUPXMuY29weUF0dHJpYnV0ZXMoYSx0Lm9wdGlvbnMsXCJzbGlkZXJcIixcImhpZ2hsaW5lXCIpLF89dC5jcmVhdGUoXCJzZWdtZW50XCIsW2YsQ10sVCksQy5WYWx1ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NtYXgtdGhpcy5fc21pbixlPXMuZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXB3aWR0aCk7cmV0dXJuLTE9PT1lP3RoaXMucG9zaXRpb24qdCt0aGlzLl9zbWluOk1hdGgucm91bmQoKHRoaXMucG9zaXRpb24qdCt0aGlzLl9zbWluKS9lKSplfSxDLm1ldGhvZE1hcD1zLmRlZXBDb3B5KEMubWV0aG9kTWFwLHtWYWx1ZTpcIlZhbHVlXCIsc2V0VmFsdWU6XCJzZXRWYWx1ZVwiLHNtYXg6XCJfc21heFwiLHNtaW46XCJfc21pblwiLHNldE1heDpcInNldE1heFwiLHNldE1pbjpcInNldE1pblwifSksQy5fc21heD11LEMuX3NtaW49YyxDLnNldE1heD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc21heD10LHRoaXN9LEMuc2V0VmFsdWU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fc21heC10aGlzLl9zbWluO3JldHVybiBNYXRoLmFicyhpKT5lLmVwcz90aGlzLnBvc2l0aW9uPSh0LXRoaXMuX3NtaW4pL2k6dGhpcy5wb3NpdGlvbj0wLHRoaXMucG9zaXRpb249TWF0aC5tYXgoMCxNYXRoLm1pbigxLHRoaXMucG9zaXRpb24pKSx0aGlzfSxDLnNldE1pbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc21pbj10LHRoaXN9LEUmJihUPXMuY29weUF0dHJpYnV0ZXMoYSx0Lm9wdGlvbnMsXCJzbGlkZXJcIixcImxhYmVsXCIpLFA9dC5jcmVhdGUoXCJ0ZXh0XCIsW2Z1bmN0aW9uKCl7cmV0dXJuLjA1KihtLlgoKS1mLlgoKSkrbS5YKCl9LGZ1bmN0aW9uKCl7cmV0dXJuLjA1KihtLlkoKS1mLlkoKSkrbS5ZKCl9LGZ1bmN0aW9uKCl7dmFyIHQsZT1zLmV2YWx1YXRlKEMudmlzUHJvcC5kaWdpdHMpLGk9cy5ldmFsdWF0ZShDLnZpc1Byb3Auc3VmZml4bGFiZWwpLHI9cy5ldmFsdWF0ZShDLnZpc1Byb3AudW5pdGxhYmVsKSxvPXMuZXZhbHVhdGUoQy52aXNQcm9wLnBvc3RsYWJlbCk7cmV0dXJuIDI9PT1lJiYyIT09cy5ldmFsdWF0ZShDLnZpc1Byb3AucHJlY2lzaW9uKSYmKGU9cy5ldmFsdWF0ZShDLnZpc1Byb3AucHJlY2lzaW9uKSksdD1udWxsIT09aT9pOkMubmFtZSYmXCJcIiE9PUMubmFtZT9DLm5hbWUrXCIgPSBcIjpcIlwiLHQrPXMudG9GaXhlZChDLlZhbHVlKCksZSksbnVsbCE9PXImJih0Kz1yKSxudWxsIT09byYmKHQrPW8pLHR9XSxUKSxDLmxhYmVsPVAsQy52aXNQcm9wLndpdGhsYWJlbD0hMCxDLmhhc0xhYmVsPSEwKSxDLnBvaW50MT1mLEMucG9pbnQyPW0sQy5iYXNlbGluZT1nLEMuaGlnaGxpbmU9Xyx4JiYoVD1zLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwic2xpZGVyXCIsXCJ0aWNrc1wiKSxzLmV4aXN0cyhULmdlbmVyYXRlbGFiZWx0ZXh0KXx8KFQuZ2VuZXJhdGVMYWJlbFRleHQ9ZnVuY3Rpb24odCxpLHIpe3ZhciBzPUMucG9pbnQxLkRpc3QoQy5wb2ludDIpLG89Qy5fc21pbixuPUMuX3NtYXgsYT10aGlzLmdldERpc3RhbmNlRnJvbVplcm8oaSx0KSoobi1vKS9zK287cmV0dXJuIHM8ZS5lcHN8fE1hdGguYWJzKGEpPGUuZXBzP1wiMFwiOnRoaXMuZm9ybWF0TGFiZWxUZXh0KGEpfSksMixiPXQuY3JlYXRlKFwidGlja3NcIixbQy5iYXNlbGluZSxDLnBvaW50MS5EaXN0KGYpLzIsZnVuY3Rpb24odCl7dmFyIHI9Qy5wb2ludDEuRGlzdChDLnBvaW50Mikscz1DLnBvaW50MS5jb29yZHMuZGlzdGFuY2UoaS5DT09SRFNfQllfVVNFUix0KTtyZXR1cm4gcjxlLmVwcz8wOnMvcipwK2N9XSxUKSxDLnRpY2tzPWIpLEMucmVtb3ZlPWZ1bmN0aW9uKCl7RSYmdC5yZW1vdmVPYmplY3QoUCksdC5yZW1vdmVPYmplY3QoXyksdC5yZW1vdmVPYmplY3QoZyksdC5yZW1vdmVPYmplY3QobSksdC5yZW1vdmVPYmplY3QoZiksby5Qb2ludC5wcm90b3R5cGUucmVtb3ZlLmNhbGwoQyl9LGYuZHVtcD0hMSxtLmR1bXA9ITEsZy5kdW1wPSExLF8uZHVtcD0hMSxFJiYoUC5kdW1wPSExKSxDLmVsVHlwZT1cInNsaWRlclwiLEMucGFyZW50cz1uLEMuc3Vicz17cG9pbnQxOmYscG9pbnQyOm0sYmFzZUxpbmU6ZyxoaWdoTGluZTpffSxDLmluaGVyaXRzLnB1c2goZixtLGcsXykseCYmKGIuZHVtcD0hMSxDLnN1YnMudGlja3M9YixDLmluaGVyaXRzLnB1c2goYikpLEMuZ2V0UGFyZW50cz1mdW5jdGlvbigpe3JldHVyblt0aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLnNsaWNlKDEpLHRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMSksW3RoaXMuX3NtaW4sdGhpcy5wb3NpdGlvbioodGhpcy5fc21heC10aGlzLl9zbWluKSt0aGlzLl9zbWluLHRoaXMuX3NtYXhdXX0sQy5iYXNlbGluZS5vbihcInVwXCIsKGZ1bmN0aW9uKHQpe3ZhciBlLG87cy5ldmFsdWF0ZShDLnZpc1Byb3AubW92ZW9udXApJiYhcy5ldmFsdWF0ZShDLnZpc1Byb3AuZml4ZWQpJiYoZT1nLmJvYXJkLmdldE1vdXNlUG9zaXRpb24odCwwKSxvPW5ldyByKGkuQ09PUkRTX0JZX1NDUkVFTixlLHRoaXMuYm9hcmQpLEMubW92ZVRvKFtvLnVzckNvb3Jkc1sxXSxvLnVzckNvb3Jkc1syXV0pKX0pKSxDLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKSx0LmlzU3VzcGVuZGVkVXBkYXRlfHwoQy51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSxDLmJhc2VsaW5lLnVwZGF0ZVZpc2liaWxpdHkoKS51cGRhdGVSZW5kZXJlcigpLEMuaGlnaGxpbmUudXBkYXRlVmlzaWJpbGl0eSgpLnVwZGF0ZVJlbmRlcmVyKCkseCYmQy50aWNrcy51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSksQ30sdC5yZWdpc3RlckVsZW1lbnQoXCJzbGlkZXJcIix0LmNyZWF0ZVNsaWRlcikse2NyZWF0ZVNsaWRlcjp0LmNyZWF0ZVNsaWRlcn19KSksZGVmaW5lKFwiZWxlbWVudC9tZWFzdXJlXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL2VsZW1lbnRcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5jcmVhdGVUYXBlbWVhc3VyZT1mdW5jdGlvbihyLHMsbyl7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG0sZztyZXR1cm4gbj1zWzBdLGE9c1sxXSxoPWUuY29weUF0dHJpYnV0ZXMobyxyLm9wdGlvbnMsXCJ0YXBlbWVhc3VyZVwiLFwicG9pbnQxXCIpLHA9ci5jcmVhdGUoXCJwb2ludFwiLG4saCksaD1lLmNvcHlBdHRyaWJ1dGVzKG8sci5vcHRpb25zLFwidGFwZW1lYXN1cmVcIixcInBvaW50MlwiKSxmPXIuY3JlYXRlKFwicG9pbnRcIixhLGgpLHAuc2V0QXR0cmlidXRlKHtpZ25vcmVkU25hcFRvUG9pbnRzOltmXX0pLGYuc2V0QXR0cmlidXRlKHtpZ25vcmVkU25hcFRvUG9pbnRzOltwXX0pLGg9ZS5jb3B5QXR0cmlidXRlcyhvLHIub3B0aW9ucyxcInRhcGVtZWFzdXJlXCIpLGw9aC53aXRodGlja3MsYz1oLndpdGhsYWJlbCwyPT09KGQ9aC5kaWdpdHMpJiYyIT09aC5wcmVjaXNpb24mJihkPWgucHJlY2lzaW9uKSxjJiYoaC53aXRobGFiZWw9ITApLHU9ci5jcmVhdGUoXCJzZWdtZW50XCIsW3AsZl0saCksYyYmKG09by5uYW1lJiZcIlwiIT09by5uYW1lP28ubmFtZStcIiA9IFwiOlwiXCIsdS5sYWJlbC5zZXRUZXh0KChmdW5jdGlvbigpe3JldHVybiBtK2UudG9GaXhlZChwLkRpc3QoZiksZCl9KSkpLGwmJihoPWUuY29weUF0dHJpYnV0ZXMobyxyLm9wdGlvbnMsXCJ0YXBlbWVhc3VyZVwiLFwidGlja3NcIiksZz1yLmNyZWF0ZShcInRpY2tzXCIsW3UsLjFdLGgpLHUuaW5oZXJpdHMucHVzaChnKSksdS5yZW1vdmU9ZnVuY3Rpb24oKXtsJiZ1LnJlbW92ZVRpY2tzKGcpLHIucmVtb3ZlT2JqZWN0KGYpLHIucmVtb3ZlT2JqZWN0KHApLGkucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpfSx1LlZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHAuRGlzdChmKX0scC5kdW1wPSExLGYuZHVtcD0hMSx1LmVsVHlwZT1cInRhcGVtZWFzdXJlXCIsdS5nZXRQYXJlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuW1twLlgoKSxwLlkoKV0sW2YuWCgpLGYuWSgpXV19LHUuc3Vicz17cG9pbnQxOnAscG9pbnQyOmZ9LGwmJihnLmR1bXA9ITEpLHUubWV0aG9kTWFwPXQuZGVlcENvcHkodS5tZXRob2RNYXAse1ZhbHVlOlwiVmFsdWVcIn0pLHUucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLHIuaXNTdXNwZW5kZWRVcGRhdGV8fCh1LnVwZGF0ZVZpc2liaWxpdHkoKS51cGRhdGVSZW5kZXJlcigpLHUucG9pbnQxLnVwZGF0ZVZpc2liaWxpdHkoKS51cGRhdGVSZW5kZXJlcigpLHUucG9pbnQyLnVwZGF0ZVZpc2liaWxpdHkoKS51cGRhdGVSZW5kZXJlcigpKSx1fSx0LnJlZ2lzdGVyRWxlbWVudChcInRhcGVtZWFzdXJlXCIsdC5jcmVhdGVUYXBlbWVhc3VyZSkse2NyZWF0ZVRhcGVtZWFzdXJlOnQuY3JlYXRlVGFwZW1lYXN1cmV9fSkpLGRlZmluZShcInBhcnNlci9kYXRhc291cmNlXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkRhdGFTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhPVtdLHRoaXMuY29sdW1uSGVhZGVycz1bXSx0aGlzLnJvd0hlYWRlcnM9W10sdGhpc30sdC5leHRlbmQodC5EYXRhU291cmNlLnByb3RvdHlwZSx7bG9hZEZyb21BcnJheTpmdW5jdGlvbih0LGkscil7dmFyIHMsbyxuO2lmKGUuaXNBcnJheShpKSYmKHRoaXMuY29sdW1uSGVhZGVycz1pLGk9ITEpLGUuaXNBcnJheShyKSYmKHRoaXMucm93SGVhZGVycz1yLHI9ITEpLHRoaXMuZGF0YT1bXSxpJiYodGhpcy5jb2x1bW5IZWFkZXJzPVtdKSxyJiYodGhpcy5yb3dIZWFkZXJzPVtdKSxlLmV4aXN0cyh0KSl7Zm9yKHRoaXMuZGF0YT1bXSxzPTA7czx0Lmxlbmd0aDtzKyspZm9yKHRoaXMuZGF0YVtzXT1bXSxvPTA7bzx0W3NdLmxlbmd0aDtvKyspbj10W3NdW29dLHBhcnNlRmxvYXQobikudG9TdHJpbmcoKT09PW4/dGhpcy5kYXRhW3NdW29dPXBhcnNlRmxvYXQobik6dGhpcy5kYXRhW3NdW29dPVwiLVwiIT09bj9uOk5hTjtpZihpJiYodGhpcy5jb2x1bW5IZWFkZXJzPXRoaXMuZGF0YVswXS5zbGljZSgxKSx0aGlzLmRhdGE9dGhpcy5kYXRhLnNsaWNlKDEpKSxyKWZvcih0aGlzLnJvd0hlYWRlcnM9W10scz0wO3M8dGhpcy5kYXRhLmxlbmd0aDtzKyspdGhpcy5yb3dIZWFkZXJzLnB1c2godGhpcy5kYXRhW3NdWzBdKSx0aGlzLmRhdGFbc109dGhpcy5kYXRhW3NdLnNsaWNlKDEpfXJldHVybiB0aGlzfSxsb2FkRnJvbVRhYmxlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG4sYSxoO2lmKGUuaXNBcnJheShpKSYmKHRoaXMuY29sdW1uSGVhZGVycz1pLGk9ITEpLGUuaXNBcnJheShyKSYmKHRoaXMucm93SGVhZGVycz1yLHI9ITEpLHRoaXMuZGF0YT1bXSxpJiYodGhpcy5jb2x1bW5IZWFkZXJzPVtdKSxyJiYodGhpcy5yb3dIZWFkZXJzPVtdKSx0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpLGUuZXhpc3RzKHQpKXtmb3Iocz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidHJcIiksdGhpcy5kYXRhPVtdLG89MDtvPHMubGVuZ3RoO28rKylmb3IoYT1zW29dLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGRcIiksdGhpcy5kYXRhW29dPVtdLG49MDtuPGEubGVuZ3RoO24rKyloPWFbbl0uaW5uZXJIVE1MLHBhcnNlRmxvYXQoaCkudG9TdHJpbmcoKT09PWg/dGhpcy5kYXRhW29dW25dPXBhcnNlRmxvYXQoaCk6dGhpcy5kYXRhW29dW25dPVwiLVwiIT09aD9oOk5hTjtpZihpJiYodGhpcy5jb2x1bW5IZWFkZXJzPXRoaXMuZGF0YVswXS5zbGljZSgxKSx0aGlzLmRhdGE9dGhpcy5kYXRhLnNsaWNlKDEpKSxyKWZvcih0aGlzLnJvd0hlYWRlcnM9W10sbz0wO288dGhpcy5kYXRhLmxlbmd0aDtvKyspdGhpcy5yb3dIZWFkZXJzLnB1c2godGhpcy5kYXRhW29dWzBdKSx0aGlzLmRhdGFbb109dGhpcy5kYXRhW29dLnNsaWNlKDEpfXJldHVybiB0aGlzfSxhZGRDb2x1bW46ZnVuY3Rpb24odCxlLGkpe3Rocm93IG5ldyBFcnJvcihcIm5vdCBpbXBsZW1lbnRlZFwiKX0sYWRkUm93OmZ1bmN0aW9uKHQsZSxpKXt0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIil9LGdldENvbHVtbjpmdW5jdGlvbih0KXt2YXIgaSxyPVtdO2lmKGUuaXNTdHJpbmcodCkpZm9yKGk9MDtpPHRoaXMuY29sdW1uSGVhZGVycy5sZW5ndGg7aSsrKWlmKHQ9PT10aGlzLmNvbHVtbkhlYWRlcnNbaV0pe3Q9aTticmVha31mb3IoaT0wO2k8dGhpcy5kYXRhLmxlbmd0aDtpKyspdGhpcy5kYXRhW2ldLmxlbmd0aD50JiYocltpXT1wYXJzZUZsb2F0KHRoaXMuZGF0YVtpXVt0XSkpO3JldHVybiByfSxnZXRSb3c6ZnVuY3Rpb24odCl7dmFyIGkscjtpZihlLmlzU3RyaW5nKHQpKWZvcihyPTA7cjx0aGlzLnJvd0hlYWRlcnMubGVuZ3RoO3IrKylpZih0PT09dGhpcy5yb3dIZWFkZXJzW3JdKXt0PXI7YnJlYWt9Zm9yKGk9W10scj0wO3I8dGhpcy5kYXRhW3RdLmxlbmd0aDtyKyspaVtyXT10aGlzLmRhdGFbdF1bcl07cmV0dXJuIGl9fSksdC5EYXRhU291cmNlfSkpLGRlZmluZShcImJhc2UvY2hhcnRcIixbXCJqeGdcIixcIm1hdGgvbnVtZXJpY3NcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJiYXNlL2VsZW1lbnRcIixcInBhcnNlci9kYXRhc291cmNlXCIsXCJ1dGlscy9jb2xvclwiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMvZW52XCIsXCJiYXNlL2N1cnZlXCIsXCJiYXNlL3BvaW50XCIsXCJiYXNlL3RleHRcIixcImJhc2UvcG9seWdvblwiLFwiZWxlbWVudC9zZWN0b3JcIixcImJhc2UvdHJhbnNmb3JtYXRpb25cIixcImJhc2UvbGluZVwiLFwiYmFzZS9jaXJjbGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5DaGFydD1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG4sYSxsO2lmKHRoaXMuY29uc3RydWN0b3IodCxpKSwhaC5pc0FycmF5KGUpfHwwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBhIGNoYXJ0IHdpdGhvdXQgZGF0YVwiKTtpZih0aGlzLmVsZW1lbnRzPVtdLGguaXNOdW1iZXIoZVswXSkpZm9yKHM9ZSxyPVtdLG89MDtvPHMubGVuZ3RoO28rKylyW29dPW8rMTtlbHNlIGlmKDE9PT1lLmxlbmd0aCYmaC5pc0FycmF5KGVbMF0pKWZvcihzPWVbMF0scj1bXSxsPWguZXZhbHVhdGUocykubGVuZ3RoLG89MDtvPGw7bysrKXJbb109bysxO2Vsc2UgMj09PWUubGVuZ3RoJiYobD1NYXRoLm1pbihlWzBdLmxlbmd0aCxlWzFdLmxlbmd0aCkscj1lWzBdLnNsaWNlKDAsbCkscz1lWzFdLnNsaWNlKDAsbCkpO2lmKGguaXNBcnJheShzKSYmMD09PXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY2hhcnRzIHdpdGhvdXQgZGF0YS5cIik7Zm9yKGE9aS5jaGFydHN0eWxlLnJlcGxhY2UoLyAvZyxcIlwiKS5zcGxpdChcIixcIiksbz0wO288YS5sZW5ndGg7bysrKXtzd2l0Y2goYVtvXSl7Y2FzZVwiYmFyXCI6bj10aGlzLmRyYXdCYXIodCxyLHMsaSk7YnJlYWs7Y2FzZVwibGluZVwiOm49dGhpcy5kcmF3TGluZSh0LHIscyxpKTticmVhaztjYXNlXCJmaXRcIjpuPXRoaXMuZHJhd0ZpdCh0LHIscyxpKTticmVhaztjYXNlXCJzcGxpbmVcIjpuPXRoaXMuZHJhd1NwbGluZSh0LHIscyxpKTticmVhaztjYXNlXCJwaWVcIjpuPXRoaXMuZHJhd1BpZSh0LHMsaSk7YnJlYWs7Y2FzZVwicG9pbnRcIjpuPXRoaXMuZHJhd1BvaW50cyh0LHIscyxpKTticmVhaztjYXNlXCJyYWRhclwiOm49dGhpcy5kcmF3UmFkYXIodCxlLGkpfXRoaXMuZWxlbWVudHMucHVzaChuKX1yZXR1cm4gdGhpcy5pZD10aGlzLmJvYXJkLnNldElkKHRoaXMsXCJDaGFydFwiKSx0aGlzLmVsZW1lbnRzfSx0LkNoYXJ0LnByb3RvdHlwZT1uZXcgbyx0LmV4dGVuZCh0LkNoYXJ0LnByb3RvdHlwZSx7ZHJhd0xpbmU6ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHIuZmlsbGNvbG9yPVwibm9uZVwiLHIuaGlnaGxpZ2h0ZmlsbGNvbG9yPVwibm9uZVwiLHQuY3JlYXRlKFwiY3VydmVcIixbZSxpXSxyKX0sZHJhd1NwbGluZTpmdW5jdGlvbih0LGUsaSxyKXtyZXR1cm4gci5maWxsQ29sb3I9XCJub25lXCIsci5oaWdobGlnaHRmaWxsY29sb3I9XCJub25lXCIsdC5jcmVhdGUoXCJzcGxpbmVcIixbZSxpXSxyKX0sZHJhd0ZpdDpmdW5jdGlvbih0LGkscixzKXt2YXIgbz1zLmRlZ3JlZTtyZXR1cm4gbz1NYXRoLm1heChwYXJzZUludChvLDEwKSwxKXx8MSxzLmZpbGxjb2xvcj1cIm5vbmVcIixzLmhpZ2hsaWdodGZpbGxjb2xvcj1cIm5vbmVcIix0LmNyZWF0ZShcImZ1bmN0aW9uZ3JhcGhcIixbZS5yZWdyZXNzaW9uUG9seW5vbWlhbChvLGkscildLHMpfSxkcmF3QmFyOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG8sbixhLGwsYyxkLHUscCxmLG09W10sZz1bXSxiPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGVbdF0oKS1pKm59fSx2PXtmaXhlZDohMCx3aXRoTGFiZWw6ITEsdmlzaWJsZTohMSxuYW1lOlwiXCJ9O2lmKChwPWguY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJjaGFydFwiKSkmJnAud2lkdGgpbj1wLndpZHRoO2Vsc2V7aWYoZS5sZW5ndGg8PTEpbj0xO2Vsc2UgZm9yKG49ZVsxXS1lWzBdLHM9MTtzPGUubGVuZ3RoLTE7cysrKW49ZVtzKzFdLWVbc108bj9lW3MrMV0tZVtzXTpuO24qPS44fWZvcihmPWguY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJjaGFydFwiLFwibGFiZWxcIikscz0wO3M8ZS5sZW5ndGg7cysrKWguaXNGdW5jdGlvbihlW3NdKT8oYT1iKHMsLS41KSxsPWIocywwKSxjPWIocywuNSkpOihhPWVbc10tLjUqbixsPWVbc10sYz1lW3NdKy41Km4pLGQ9aC5pc0Z1bmN0aW9uKGlbc10pP2lbc10oKTppW3NdLGQ9aVtzXSxcImhvcml6b250YWxcIj09PXAuZGlyPyhnWzBdPXQuY3JlYXRlKFwicG9pbnRcIixbMCxhXSx2KSxnWzFdPXQuY3JlYXRlKFwicG9pbnRcIixbZCxhXSx2KSxnWzJdPXQuY3JlYXRlKFwicG9pbnRcIixbZCxjXSx2KSxnWzNdPXQuY3JlYXRlKFwicG9pbnRcIixbMCxjXSx2KSxoLmV4aXN0cyhwLmxhYmVscykmJmguZXhpc3RzKHAubGFiZWxzW3NdKSYmKGYuYW5jaG9yWT1cIm1pZGRsZVwiLChvPXQuY3JlYXRlKFwidGV4dFwiLFtkLGwscC5sYWJlbHNbc11dLGYpKS52aXNQcm9wLmFuY2hvcng9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuWCgpPj0wP1wibGVmdFwiOlwicmlnaHRcIn19KG8pKSk6KGdbMF09dC5jcmVhdGUoXCJwb2ludFwiLFthLDBdLHYpLGdbMV09dC5jcmVhdGUoXCJwb2ludFwiLFthLGRdLHYpLGdbMl09dC5jcmVhdGUoXCJwb2ludFwiLFtjLGRdLHYpLGdbM109dC5jcmVhdGUoXCJwb2ludFwiLFtjLDBdLHYpLGguZXhpc3RzKHAubGFiZWxzKSYmaC5leGlzdHMocC5sYWJlbHNbc10pJiYoZi5hbmNob3JYPVwibWlkZGxlXCIsKG89dC5jcmVhdGUoXCJ0ZXh0XCIsW2wsZCxwLmxhYmVsc1tzXV0sZikpLnZpc1Byb3AuYW5jaG9yeT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5ZKCk+PTA/XCJib3R0b21cIjpcInRvcFwifX0obykpKSxoLmlzQXJyYXkocC5jb2xvcnMpJiYodT1wLmNvbG9ycyxwLmZpbGxjb2xvcj11W3MldS5sZW5ndGhdKSxtW3NdPXQuY3JlYXRlKFwicG9seWdvblwiLGcscCksaC5leGlzdHMocC5sYWJlbHMpJiZoLmV4aXN0cyhwLmxhYmVsc1tzXSkmJihtW3NdLnRleHQ9byk7cmV0dXJuIG19LGRyYXdQb2ludHM6ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbz1bXSxuPXIuaW5mb2JveGFycmF5O2ZvcihyLmZpeGVkPSEwLHIubmFtZT1cIlwiLHM9MDtzPGUubGVuZ3RoO3MrKylyLmluZm9ib3h0ZXh0PSEhbiYmbltzJW4ubGVuZ3RoXSxvW3NdPXQuY3JlYXRlKFwicG9pbnRcIixbZVtzXSxpW3NdXSxyKTtyZXR1cm4gb30sZHJhd1BpZTpmdW5jdGlvbih0LGUsbyl7dmFyIG4sYSxsPVtdLGM9W10sZD0oaS5zdW0oZSksby5jb2xvcnMpLHU9by5oaWdobGlnaHRjb2xvcnMscD1vLmxhYmVscyxmPW8ucmFkaXVzfHw0LG09ZixnPW8uY2VudGVyfHxbMCwwXSxiPWdbMF0sdj1nWzFdLHk9ZnVuY3Rpb24odCxpLHIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBzLG8sbixhPTA7Zm9yKG89MDtvPD10O28rKylhKz1wYXJzZUZsb2F0KGguZXZhbHVhdGUoZVtvXSkpO2ZvcihzPWEsbz10KzE7bzxlLmxlbmd0aDtvKyspcys9cGFyc2VGbG9hdChoLmV2YWx1YXRlKGVbb10pKTtyZXR1cm4gbj0wIT09cz8yKk1hdGguUEkqYS9zOjAsbSgpKk1hdGhbaV0obikrcn19LEM9ZnVuY3Rpb24odCxlKXt2YXIgaT0tdGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1sxXSt0aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzWzFdLG89LXRoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMl0rdGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1syXTtoLmV4aXN0cyh0aGlzLmxhYmVsKSYmKHRoaXMubGFiZWwucmVuZE5vZGUuc3R5bGUuZm9udFNpemU9ZSpoLmV2YWx1YXRlKHRoaXMubGFiZWwudmlzUHJvcC5mb250c2l6ZSkrXCJweFwiLHRoaXMubGFiZWwuZnVsbFVwZGF0ZSgpKSx0aGlzLnBvaW50Mi5jb29yZHM9bmV3IHMoci5DT09SRFNfQllfVVNFUixbdGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1sxXStpKnQsdGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1syXStvKnRdLHRoaXMuYm9hcmQpLHRoaXMuZnVsbFVwZGF0ZSgpfSxfPWZ1bmN0aW9uKCl7dGhpcy5oaWdobGlnaHRlZHx8KHRoaXMuaGlnaGxpZ2h0ZWQ9ITAsdGhpcy5ib2FyZC5oaWdobGlnaHRlZE9iamVjdHNbdGhpcy5pZF09dGhpcyx0aGlzLmJvYXJkLnJlbmRlcmVyLmhpZ2hsaWdodCh0aGlzKSxDLmNhbGwodGhpcywxLjEsMikpfSxQPWZ1bmN0aW9uKCl7dGhpcy5oaWdobGlnaHRlZCYmKHRoaXMuaGlnaGxpZ2h0ZWQ9ITEsdGhpcy5ib2FyZC5yZW5kZXJlci5ub0hpZ2hsaWdodCh0aGlzKSxDLmNhbGwodGhpcywuOTA5MDkwOSwxKSl9LEU9e2ZpeGVkOiEwLHdpdGhMYWJlbDohMSx2aXNpYmxlOiExLG5hbWU6XCJcIn07aWYoIWguaXNBcnJheShwKSlmb3IocD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspcFtuXT1cIlwiO2ZvcihoLmlzRnVuY3Rpb24oZil8fChtPWZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSxvLmhpZ2hsaWdodG9uc2VjdG9yPW8uaGlnaGxpZ2h0b25zZWN0b3J8fCExLG8uc3RyYWlnaHRmaXJzdD0hMSxvLnN0cmFpZ2h0bGFzdD0hMSxhPXQuY3JlYXRlKFwicG9pbnRcIixbYix2XSxFKSxsWzBdPXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm4gbSgpK2J9LGZ1bmN0aW9uKCl7cmV0dXJuIHZ9XSxFKSxuPTA7bjxlLmxlbmd0aDtuKyspbFtuKzFdPXQuY3JlYXRlKFwicG9pbnRcIixbeShuLFwiY29zXCIsYikseShuLFwic2luXCIsdildLEUpLG8ubmFtZT1wW25dLG8ud2l0aGxhYmVsPVwiXCIhPT1vLm5hbWUsby5maWxsY29sb3I9ZCYmZFtuJWQubGVuZ3RoXSxvLmxhYmVsY29sb3I9ZCYmZFtuJWQubGVuZ3RoXSxvLmhpZ2hsaWdodGZpbGxjb2xvcj11JiZ1W24ldS5sZW5ndGhdLGNbbl09dC5jcmVhdGUoXCJzZWN0b3JcIixbYSxsW25dLGxbbisxXV0sbyksby5oaWdobGlnaHRvbnNlY3RvciYmKGNbbl0uaGFzUG9pbnQ9Y1tuXS5oYXNQb2ludFNlY3Rvciksby5oaWdobGlnaHRieXNpemUmJihjW25dLmhpZ2hsaWdodD1fLGNbbl0ubm9IaWdobGlnaHQ9UCk7cmV0dXJue3NlY3RvcnM6Yyxwb2ludHM6bCxtaWRwb2ludDphfX0sZHJhd1JhZGFyOmZ1bmN0aW9uKGUsaSxvKXt2YXIgbixhLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHgsUyxPLHcsVCxOLE0sQSxSLEwsayxELEIsSSxZLGosWCxGLFUsSixHLHosSCxWLCQscT1pLmxlbmd0aCxXPWZ1bmN0aW9uKCl7dmFyIHQsZSxpLG8sbj1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5sYWJlbC5vZmZzZXQpLnNsaWNlKDApO3JldHVybiB0PXRoaXMucG9pbnQxLlgoKSxlPXRoaXMucG9pbnQyLlgoKSxpPXRoaXMucG9pbnQxLlkoKSxvPXRoaXMucG9pbnQyLlkoKSxlPHQmJihuWzBdPS1uWzBdKSxvPGkmJihuWzFdPS1uWzFdKSx0aGlzLnNldExhYmVsUmVsYXRpdmVDb29yZHMobiksbmV3IHMoci5DT09SRFNfQllfVVNFUixbdGhpcy5wb2ludDIuWCgpLHRoaXMucG9pbnQyLlkoKV0sdGhpcy5ib2FyZCl9LFo9ZnVuY3Rpb24odCxpKXt2YXIgcixzLG87cmV0dXJuIHI9ZS5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbLShfW2ldLXlbaV0pLDBdLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSxzPWUuY3JlYXRlKFwidHJhbnNmb3JtXCIsW1MvKFBbaV0rQ1tpXS0oX1tpXS15W2ldKSksMV0se3R5cGU6XCJzY2FsZVwifSksci5tZWx0KHMpLG89ZS5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbdF0se3R5cGU6XCJyb3RhdGVcIn0pLHIubWVsdChvKSxyfTtpZihxPD0wKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIHJhZGFyIGNoYXJ0OiBubyBkYXRhXCIpO2lmKGw9by5wYXJhbWFycmF5LCFoLmV4aXN0cyhsKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaCByYWRhciBjaGFydDogbmVlZCBwYXJhbUFycmF5IGF0dHJpYnV0ZVwiKTtpZigoYz1sLmxlbmd0aCk8PTEpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggcmFkYXIgY2hhcnQ6IG5lZWQgbW9yZSB0aGFuIG9uZSBwYXJhbSBpbiBwYXJhbUFycmF5XCIpO2ZvcihuPTA7bjxxO24rKylpZihjIT09aVtuXS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggcmFkYXIgY2hhcnQ6IHVzZSBkYXRhIGxlbmd0aCBlcXVhbCB0byBudW1iZXIgb2YgcGFyYW1zIChcIitpW25dLmxlbmd0aCtcIiAhPSBcIitjK1wiKVwiKTtmb3IoZD1bXSx1PVtdLGE9MDthPGM7YSsrKWRbYV09aVswXVthXSx1W2FdPWRbYV07Zm9yKG49MTtuPHE7bisrKWZvcihhPTA7YTxjO2ErKylpW25dW2FdPmRbYV0mJihkW2FdPWlbbl1bYV0pLGlbbl1bYV08dVthXSYmKHVbYV09aVtuXVthXSk7Zm9yKHA9W10sZj1bXSxuPTA7bjxxO24rKylwW25dPVwiXCIsZltuXT1bXTtmb3IobT1bXSxnPVtdLGI9by5zdGFydHNoaWZ0cmF0aW98fDAsdj1vLmVuZHNoaWZ0cmF0aW98fDAsbj0wO248YztuKyspbVtuXT0oZFtuXS11W25dKSpiLGdbbl09KGRbbl0tdVtuXSkqdjtpZih5PW8uc3RhcnRzaGlmdGFycmF5fHxtLEM9by5lbmRzaGlmdGFycmF5fHxnLF89by5zdGFydGFycmF5fHx1LGguZXhpc3RzKG8uc3RhcnQpKWZvcihuPTA7bjxjO24rKylfW25dPW8uc3RhcnQ7aWYoUD1vLmVuZGFycmF5fHxkLGguZXhpc3RzKG8uZW5kKSlmb3Iobj0wO248YztuKyspUFtuXT1vLmVuZDtpZih5Lmxlbmd0aCE9PWMpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggcmFkYXIgY2hhcnQ6IHN0YXJ0IHNoaWZ0cyBsZW5ndGggaXMgbm90IGVxdWFsIHRvIG51bWJlciBvZiBwYXJhbWV0ZXJzXCIpO2lmKEMubGVuZ3RoIT09Yyl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaCByYWRhciBjaGFydDogZW5kIHNoaWZ0cyBsZW5ndGggaXMgbm90IGVxdWFsIHRvIG51bWJlciBvZiBwYXJhbWV0ZXJzXCIpO2lmKF8ubGVuZ3RoIT09Yyl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaCByYWRhciBjaGFydDogc3RhcnRzIGxlbmd0aCBpcyBub3QgZXF1YWwgdG8gbnVtYmVyIG9mIHBhcmFtZXRlcnNcIik7aWYoUC5sZW5ndGghPT1jKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIHJhZGFyIGNoYXJ0OiBzbmRzIGxlbmd0aCBpcyBub3QgZXF1YWwgdG8gbnVtYmVyIG9mIHBhcmFtZXRlcnNcIik7Zm9yKEU9by5sYWJlbGFycmF5fHxwLHg9by5jb2xvcnMsby5oaWdobGlnaHRjb2xvcnMsUz1vLnJhZGl1c3x8MTAsVj1vLnN0cm9rZXdpZHRofHwxLGguZXhpc3RzKG8uaGlnaGxpZ2h0b25zZWN0b3IpfHwoby5oaWdobGlnaHRvbnNlY3Rvcj0hMSksTz17bmFtZTpvLm5hbWUsaWQ6by5pZCxzdHJva2V3aWR0aDpWLHBvbHlzdHJva2V3aWR0aDpvLnBvbHlzdHJva2V3aWR0aHx8VixzdHJva2Vjb2xvcjpvLnN0cm9rZWNvbG9yfHxcImJsYWNrXCIsc3RyYWlnaHRmaXJzdDohMSxzdHJhaWdodGxhc3Q6ITEsZmlsbGNvbG9yOm8uZmlsbENvbG9yfHxcIiNGRkZGODhcIixmaWxsb3BhY2l0eTpvLmZpbGxPcGFjaXR5fHwuNCxoaWdobGlnaHRmaWxsY29sb3I6by5oaWdobGlnaHRGaWxsQ29sb3J8fFwiI0ZGNzQwMFwiLGhpZ2hsaWdodHN0cm9rZWNvbG9yOm8uaGlnaGxpZ2h0U3Ryb2tlQ29sb3J8fFwiYmxhY2tcIixncmFkaWVudDpvLmdyYWRpZW50fHxcIm5vbmVcIn0sVD0odz1vLmNlbnRlcnx8WzAsMF0pWzBdLE49d1sxXSxNPWUuY3JlYXRlKFwicG9pbnRcIixbVCxOXSx7bmFtZTpcIlwiLGZpeGVkOiEwLHdpdGhsYWJlbDohMSx2aXNpYmxlOiExfSksTWF0aC5QSS8yLU1hdGguUEkvYyxSPUE9by5zdGFydGFuZ2xlfHwwLEw9W10saz1bXSxuPTA7bjxjO24rKylmb3IoUis9MipNYXRoLlBJL2MsQj1TKk1hdGguY29zKFIpK1QsST1TKk1hdGguc2luKFIpK04sTFtuXT1lLmNyZWF0ZShcInBvaW50XCIsW0IsSV0se25hbWU6XCJcIixmaXhlZDohMCx3aXRobGFiZWw6ITEsdmlzaWJsZTohMX0pLGtbbl09ZS5jcmVhdGUoXCJsaW5lXCIsW00sTFtuXV0se25hbWU6bFtuXSxzdHJva2VDb2xvcjpPLnN0cm9rZWNvbG9yLHN0cm9rZVdpZHRoOk8uc3Ryb2tld2lkdGgsc3Ryb2tlT3BhY2l0eToxLHN0cmFpZ2h0Rmlyc3Q6ITEsc3RyYWlnaHRMYXN0OiExLHdpdGhMYWJlbDohMCxoaWdobGlnaHRTdHJva2VDb2xvcjpPLmhpZ2hsaWdodHN0cm9rZWNvbG9yfSksa1tuXS5nZXRMYWJlbEFuY2hvcj1XLEQ9WihSLG4pLGE9MDthPGkubGVuZ3RoO2ErKykkPWlbYV1bbl0sZlthXVtuXT1lLmNyZWF0ZShcInBvaW50XCIsWyQsMF0se25hbWU6XCJcIixmaXhlZDohMCx3aXRobGFiZWw6ITEsdmlzaWJsZTohMX0pLGZbYV1bbl0uYWRkVHJhbnNmb3JtKGZbYV1bbl0sRCk7Zm9yKFk9W10sbj0wO248cTtuKyspZm9yKE8ubGFiZWxjb2xvcj14JiZ4W24leC5sZW5ndGhdLE8uc3Ryb2tlY29sb3I9eCYmeFtuJXgubGVuZ3RoXSxPLmZpbGxjb2xvcj14JiZ4W24leC5sZW5ndGhdLFlbbl09ZS5jcmVhdGUoXCJwb2x5Z29uXCIsZltuXSx7d2l0aExpbmVzOiEwLHdpdGhMYWJlbDohMSxmaWxsQ29sb3I6Ty5maWxsY29sb3IsZmlsbE9wYWNpdHk6Ty5maWxsb3BhY2l0eSxoaWdobGlnaHRGaWxsQ29sb3I6Ty5oaWdobGlnaHRmaWxsY29sb3J9KSxhPTA7YTxjO2ErKylZW25dLmJvcmRlcnNbYV0uc2V0QXR0cmlidXRlKFwic3Ryb2tlY29sb3I6XCIreFtuJXgubGVuZ3RoXSksWVtuXS5ib3JkZXJzW2FdLnNldEF0dHJpYnV0ZShcInN0cm9rZXdpZHRoOlwiK08ucG9seXN0cm9rZXdpZHRoKTtzd2l0Y2goby5sZWdlbmRwb3NpdGlvbnx8XCJub25lXCIpe2Nhc2VcInJpZ2h0XCI6WD1vLmxlZ2VuZGxlZnRvZmZzZXR8fDIsRj1vLmxlZ2VuZHRvcG9mZnNldHx8MSx0aGlzLmxlZ2VuZD1lLmNyZWF0ZShcImxlZ2VuZFwiLFtUK1MrWCxOK1MtRl0se2xhYmVsczpFLGNvbG9yczp4fSk7YnJlYWs7Y2FzZVwibm9uZVwiOmJyZWFrO2RlZmF1bHQ6dC5kZWJ1ZyhcIlVua25vd24gbGVnZW5kIHBvc2l0aW9uXCIpfWlmKGo9W10sby5zaG93Y2lyY2xlcyl7Zm9yKFU9W10sbj0wO248NjtuKyspVVtuXT0yMCpuO2lmKFVbMF09XCIwXCIsKEc9KEo9by5jaXJjbGVsYWJlbGFycmF5fHxVKS5sZW5ndGgpPDIpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggcmFkYXIgY2hhcnQ6IHRvbyBsZXNzIGNpcmNsZXMgaW4gY2lyY2xlTGFiZWxBcnJheVwiKTtmb3Ioej1bXSxEPVooQStNYXRoLlBJL2MsMCksTy5maWxsY29sb3I9XCJub25lXCIsTy5oaWdobGlnaHRmaWxsY29sb3I9XCJub25lXCIsTy5zdHJva2Vjb2xvcj1vLnN0cm9rZWNvbG9yfHxcImJsYWNrXCIsTy5zdHJva2V3aWR0aD1vLmNpcmNsZXN0cm9rZXdpZHRofHwuNSxPLmxheWVyPTAsSD0oUFswXS1fWzBdKS8oRy0xKSxuPTA7bjxHO24rKyl6W25dPWUuY3JlYXRlKFwicG9pbnRcIixbX1swXStuKkgsMF0se25hbWU6SltuXSxzaXplOjAsZml4ZWQ6ITAsd2l0aExhYmVsOiEwLHZpc2libGU6ITB9KSx6W25dLmFkZFRyYW5zZm9ybSh6W25dLEQpLGpbbl09ZS5jcmVhdGUoXCJjaXJjbGVcIixbTSx6W25dXSxPKX1yZXR1cm4gdGhpcy5yZW5kTm9kZT1ZWzBdLnJlbmROb2RlLHtjaXJjbGVzOmosbGluZXM6ayxwb2ludHM6ZixtaWRwb2ludDpNLHBvbHlnb25zOll9fSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZSYmdGhpcy51cGRhdGVEYXRhQXJyYXkoKSx0aGlzfSx1cGRhdGVEYXRhQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KSx0LmNyZWF0ZUNoYXJ0PWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4PVtdLFM9bC5pc0Jyb3dzZXI/ZS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpWzBdKTpudWxsO2lmKDE9PT1pLmxlbmd0aCYmaC5pc1N0cmluZyhpWzBdKSl7aWYoaC5leGlzdHMoUykpe2lmKGc9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImNoYXJ0XCIpLHM9KFM9KG5ldyBuKS5sb2FkRnJvbVRhYmxlKGlbMF0sZy53aXRoaGVhZGVycyxnLndpdGhoZWFkZXJzKSkuZGF0YSx1PVMuY29sdW1uSGVhZGVycyxvPVMucm93SGVhZGVycyxiPWcud2lkdGgsdj1nLm5hbWUseT1nLnN0cm9rZWNvbG9yLEM9Zy5maWxsY29sb3IsXz1nLmhpZ2hsaWdodHN0cm9rZWNvbG9yLFA9Zy5oaWdobGlnaHRmaWxsY29sb3IsZS5zdXNwZW5kVXBkYXRlKCksRT1zLmxlbmd0aCxtPVtdLGcucm93cyYmaC5pc0FycmF5KGcucm93cykpe2ZvcihjPTA7YzxFO2MrKylmb3IoZD0wO2Q8Zy5yb3dzLmxlbmd0aDtkKyspaWYoZy5yb3dzW2RdPT09Y3x8Zy53aXRoaGVhZGVycyYmZy5yb3dzW2RdPT09b1tjXSl7bS5wdXNoKHNbY10pO2JyZWFrfX1lbHNlIG09cztmb3IoRT1tLmxlbmd0aCxjPTA7YzxFO2MrKyl7aWYoZj1bXSxnLmNoYXJ0c3R5bGUmJi0xIT09Zy5jaGFydHN0eWxlLmluZGV4T2YoXCJiYXJcIikpe2ZvcihwPWJ8fC44LGYucHVzaCgxLXAvMisoYysuNSkqcC9FKSxkPTE7ZDxtW2NdLmxlbmd0aDtkKyspZi5wdXNoKGZbZC0xXSsxKTtnLndpZHRoPXAvRX12JiZ2Lmxlbmd0aD09PUU/Zy5uYW1lPXZbY106Zy53aXRoaGVhZGVycyYmKGcubmFtZT11W2NdKSx5JiZ5Lmxlbmd0aD09PUU/Zy5zdHJva2Vjb2xvcj15W2NdOmcuc3Ryb2tlY29sb3I9YS5oc3YycmdiKChjKzEpL0UqMzYwLC45LC42KSxDJiZDLmxlbmd0aD09PUU/Zy5maWxsY29sb3I9Q1tjXTpnLmZpbGxjb2xvcj1hLmhzdjJyZ2IoKGMrMSkvRSozNjAsLjksMSksXyYmXy5sZW5ndGg9PT1FP2cuaGlnaGxpZ2h0c3Ryb2tlY29sb3I9X1tjXTpnLmhpZ2hsaWdodHN0cm9rZWNvbG9yPWEuaHN2MnJnYigoYysxKS9FKjM2MCwuOSwxKSxQJiZQLmxlbmd0aD09PUU/Zy5oaWdobGlnaHRmaWxsY29sb3I9UFtjXTpnLmhpZ2hsaWdodGZpbGxjb2xvcj1hLmhzdjJyZ2IoKGMrMSkvRSozNjAsLjksLjYpLGcuY2hhcnRzdHlsZSYmLTEhPT1nLmNoYXJ0c3R5bGUuaW5kZXhPZihcImJhclwiKT94LnB1c2gobmV3IHQuQ2hhcnQoZSxbZixtW2NdXSxnKSk6eC5wdXNoKG5ldyB0LkNoYXJ0KGUsW21bY11dLGcpKX1lLnVuc3VzcGVuZFVwZGF0ZSgpfXJldHVybiB4fXJldHVybiBnPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJjaGFydFwiKSxuZXcgdC5DaGFydChlLGksZyl9LHQucmVnaXN0ZXJFbGVtZW50KFwiY2hhcnRcIix0LmNyZWF0ZUNoYXJ0KSx0LkxlZ2VuZD1mdW5jdGlvbih0LGUsaSl7dmFyIG87aWYodGhpcy5jb25zdHJ1Y3RvcigpLG89aC5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImxlZ2VuZFwiKSx0aGlzLmJvYXJkPXQsdGhpcy5jb29yZHM9bmV3IHMoci5DT09SRFNfQllfVVNFUixlLHRoaXMuYm9hcmQpLHRoaXMubXlBdHRzPXt9LHRoaXMubGFiZWxfYXJyYXk9by5sYWJlbGFycmF5fHxvLmxhYmVscyx0aGlzLmNvbG9yX2FycmF5PW8uY29sb3JhcnJheXx8by5jb2xvcnMsdGhpcy5saW5lcz1bXSx0aGlzLm15QXR0cy5zdHJva2V3aWR0aD1vLnN0cm9rZXdpZHRofHw1LHRoaXMubXlBdHRzLnN0cmFpZ2h0Zmlyc3Q9ITEsdGhpcy5teUF0dHMuc3RyYWlnaHRsYXN0PSExLHRoaXMubXlBdHRzLndpdGhsYWJlbD0hMCx0aGlzLm15QXR0cy5maXhlZD0hMCx0aGlzLnN0eWxlPW8ubGVnZW5kc3R5bGV8fG8uc3R5bGUsXCJ2ZXJ0aWNhbFwiIT09dGhpcy5zdHlsZSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogVW5rbm93biBsZWdlbmQgc3R5bGU6IFwiK3RoaXMuc3R5bGUpO3RoaXMuZHJhd1ZlcnRpY2FsTGVnZW5kKHQsbyl9LHQuTGVnZW5kLnByb3RvdHlwZT1uZXcgbyx0LkxlZ2VuZC5wcm90b3R5cGUuZHJhd1ZlcnRpY2FsTGVnZW5kPWZ1bmN0aW9uKHQsZSl7dmFyIGksbz1lLmxpbmVsZW5ndGh8fDEsbj0oZS5yb3doZWlnaHR8fDIwKS90aGlzLmJvYXJkLnVuaXRZLGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRMYWJlbFJlbGF0aXZlQ29vcmRzKHRoaXMudmlzUHJvcC5sYWJlbC5vZmZzZXQpLG5ldyBzKHIuQ09PUkRTX0JZX1VTRVIsW3RoaXMucG9pbnQyLlgoKSx0aGlzLnBvaW50Mi5ZKCldLHRoaXMuYm9hcmQpfTtmb3IoaT0wO2k8dGhpcy5sYWJlbF9hcnJheS5sZW5ndGg7aSsrKXRoaXMubXlBdHRzLm5hbWU9dGhpcy5sYWJlbF9hcnJheVtpXSx0aGlzLm15QXR0cy5zdHJva2Vjb2xvcj10aGlzLmNvbG9yX2FycmF5W2kldGhpcy5jb2xvcl9hcnJheS5sZW5ndGhdLHRoaXMubXlBdHRzLmhpZ2hsaWdodHN0cm9rZWNvbG9yPXRoaXMuY29sb3JfYXJyYXlbaSV0aGlzLmNvbG9yX2FycmF5Lmxlbmd0aF0sdGhpcy5teUF0dHMubGFiZWw9e29mZnNldDpbMTAsMF0sc3Ryb2tlQ29sb3I6dGhpcy5jb2xvcl9hcnJheVtpJXRoaXMuY29sb3JfYXJyYXkubGVuZ3RoXSxzdHJva2VXaWR0aDp0aGlzLm15QXR0cy5zdHJva2V3aWR0aH0sdGhpcy5saW5lc1tpXT10LmNyZWF0ZShcImxpbmVcIixbW3RoaXMuY29vcmRzLnVzckNvb3Jkc1sxXSx0aGlzLmNvb3Jkcy51c3JDb29yZHNbMl0taSpuXSxbdGhpcy5jb29yZHMudXNyQ29vcmRzWzFdK28sdGhpcy5jb29yZHMudXNyQ29vcmRzWzJdLWkqbl1dLHRoaXMubXlBdHRzKSx0aGlzLmxpbmVzW2ldLmdldExhYmVsQW5jaG9yPWEsdGhpcy5saW5lc1tpXS5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eShoLmV2YWx1YXRlKHRoaXMubGluZXNbaV0udmlzUHJvcC52aXNpYmxlKSkudXBkYXRlUmVuZGVyZXIoKX0sdC5jcmVhdGVMZWdlbmQ9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzPVswLDBdO2lmKCFoLmV4aXN0cyhpKXx8MiE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBMZWdlbmQgZWxlbWVudCBuZWVkcyB0d28gbnVtYmVycyBhcyBwYXJhbWV0ZXJzXCIpO3JldHVybiBzPWksbmV3IHQuTGVnZW5kKGUscyxyKX0sdC5yZWdpc3RlckVsZW1lbnQoXCJsZWdlbmRcIix0LmNyZWF0ZUxlZ2VuZCkse0NoYXJ0OnQuQ2hhcnQsTGVnZW5kOnQuTGVnZW5kLGNyZWF0ZUNoYXJ0OnQuY3JlYXRlQ2hhcnQsY3JlYXRlTGVnZW5kOnQuY3JlYXRlTGVnZW5kfX0pKSxkZWZpbmUoXCJiYXNlL3R1cnRsZVwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvZWxlbWVudFwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuVHVydGxlPWZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxuLGE7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IodCxzLGUuT0JKRUNUX1RZUEVfVFVSVExFLGUuT0JKRUNUX0NMQVNTX09USEVSKSx0aGlzLnR1cnRsZUlzSGlkZGVuPSExLHRoaXMuYm9hcmQ9dCx0aGlzLnZpc1Byb3AuY3VydmVUeXBlPVwicGxvdFwiLHRoaXMuX2F0dHJpYnV0ZXM9ci5jb3B5QXR0cmlidXRlcyh0aGlzLnZpc1Byb3AsdC5vcHRpb25zLFwidHVydGxlXCIpLGRlbGV0ZSB0aGlzLl9hdHRyaWJ1dGVzLmlkLG89MCxuPTAsYT05MCwwIT09aS5sZW5ndGgmJigzPT09aS5sZW5ndGg/KG89aVswXSxuPWlbMV0sYT1pWzJdKToyPT09aS5sZW5ndGg/ci5pc0FycmF5KGlbMF0pPyhvPWlbMF1bMF0sbj1pWzBdWzFdLGE9aVsxXSk6KG89aVswXSxuPWlbMV0pOihvPWlbMF1bMF0sbj1pWzBdWzFdKSksdGhpcy5pbml0KG8sbixhKSx0aGlzLm1ldGhvZE1hcD1yLmRlZXBDb3B5KHRoaXMubWV0aG9kTWFwLHtmb3J3YXJkOlwiZm9yd2FyZFwiLGZkOlwiZm9yd2FyZFwiLGJhY2s6XCJiYWNrXCIsYms6XCJiYWNrXCIscmlnaHQ6XCJyaWdodFwiLHJ0OlwicmlnaHRcIixsZWZ0OlwibGVmdFwiLGx0OlwibGVmdFwiLHBlblVwOlwicGVuVXBcIixwdTpcInBlblVwXCIscGVuRG93bjpcInBlbkRvd25cIixwZDpcInBlbkRvd25cIixjbGVhclNjcmVlbjpcImNsZWFyU2NyZWVuXCIsY3M6XCJjbGVhclNjcmVlblwiLGNsZWFuOlwiY2xlYW5cIixzZXRQb3M6XCJzZXRQb3NcIixob21lOlwiaG9tZVwiLGhpZGVUdXJ0bGU6XCJoaWRlVHVydGxlXCIsaHQ6XCJoaWRlVHVydGxlXCIsc2hvd1R1cnRsZTpcInNob3dUdXJ0bGVcIixzdDpcInNob3dUdXJ0bGVcIixwZW5TaXplOlwic2V0UGVuU2l6ZVwiLHBlbkNvbG9yOlwic2V0UGVuQ29sb3JcIixwdXNoVHVydGxlOlwicHVzaFR1cnRsZVwiLHB1c2g6XCJwdXNoVHVydGxlXCIscG9wVHVydGxlOlwicG9wVHVydGxlXCIscG9wOlwicG9wVHVydGxlXCIsbG9va1RvOlwibG9va1RvXCIscG9zOlwicG9zXCIsbW92ZVRvOlwibW92ZVRvXCIsWDpcIlhcIixZOlwiWVwifSksdGhpc30sdC5UdXJ0bGUucHJvdG90eXBlPW5ldyBpLHQuZXh0ZW5kKHQuVHVydGxlLnByb3RvdHlwZSx7aW5pdDpmdW5jdGlvbih0LGUsaSl7dmFyIHI9e2ZpeGVkOiEwLG5hbWU6XCJcIix2aXNpYmxlOiExLHdpdGhMYWJlbDohMX07dGhpcy5hcnJvd0xlbj0yMC9NYXRoLnNxcnQodGhpcy5ib2FyZC51bml0WCp0aGlzLmJvYXJkLnVuaXRYK3RoaXMuYm9hcmQudW5pdFkqdGhpcy5ib2FyZC51bml0WSksdGhpcy5wb3M9W3QsZV0sdGhpcy5pc1BlbkRvd249ITAsdGhpcy5kaXI9OTAsdGhpcy5zdGFjaz1bXSx0aGlzLm9iamVjdHM9W10sdGhpcy5jdXJ2ZT10aGlzLmJvYXJkLmNyZWF0ZShcImN1cnZlXCIsW1t0aGlzLnBvc1swXV0sW3RoaXMucG9zWzFdXV0sdGhpcy5fYXR0cmlidXRlcyksdGhpcy5vYmplY3RzLnB1c2godGhpcy5jdXJ2ZSksdGhpcy50dXJ0bGU9dGhpcy5ib2FyZC5jcmVhdGUoXCJwb2ludFwiLHRoaXMucG9zLHIpLHRoaXMub2JqZWN0cy5wdXNoKHRoaXMudHVydGxlKSx0aGlzLnR1cnRsZTI9dGhpcy5ib2FyZC5jcmVhdGUoXCJwb2ludFwiLFt0aGlzLnBvc1swXSx0aGlzLnBvc1sxXSt0aGlzLmFycm93TGVuXSxyKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLnR1cnRsZTIpLHRoaXMudmlzUHJvcC5hcnJvdy5sYXN0QXJyb3c9ITAsdGhpcy52aXNQcm9wLmFycm93LnN0cmFpZ2h0Rmlyc3Q9ITEsdGhpcy52aXNQcm9wLmFycm93LnN0cmFpZ2h0TGFzdD0hMSx0aGlzLmFycm93PXRoaXMuYm9hcmQuY3JlYXRlKFwibGluZVwiLFt0aGlzLnR1cnRsZSx0aGlzLnR1cnRsZTJdLHRoaXMudmlzUHJvcC5hcnJvdyksdGhpcy5vYmplY3RzLnB1c2godGhpcy5hcnJvdyksdGhpcy5zdWJzPXthcnJvdzp0aGlzLmFycm93fSx0aGlzLmluaGVyaXRzLnB1c2godGhpcy5hcnJvdyksdGhpcy5yaWdodCg5MC1pKSx0aGlzLmJvYXJkLnVwZGF0ZSgpfSxmb3J3YXJkOmZ1bmN0aW9uKHQpe2lmKDA9PT10KXJldHVybiB0aGlzO3ZhciBlLGk9dCpNYXRoLmNvcyh0aGlzLmRpcipNYXRoLlBJLzE4MCkscj10Kk1hdGguc2luKHRoaXMuZGlyKk1hdGguUEkvMTgwKTtyZXR1cm4gdGhpcy50dXJ0bGVJc0hpZGRlbnx8KChlPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2kscl0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pKS5hcHBseU9uY2UodGhpcy50dXJ0bGUpLGUuYXBwbHlPbmNlKHRoaXMudHVydGxlMikpLHRoaXMuaXNQZW5Eb3duJiZ0aGlzLmN1cnZlLmRhdGFYLmxlbmd0aD49ODE5MiYmKHRoaXMuY3VydmU9dGhpcy5ib2FyZC5jcmVhdGUoXCJjdXJ2ZVwiLFtbdGhpcy5wb3NbMF1dLFt0aGlzLnBvc1sxXV1dLHRoaXMuX2F0dHJpYnV0ZXMpLHRoaXMub2JqZWN0cy5wdXNoKHRoaXMuY3VydmUpKSx0aGlzLnBvc1swXSs9aSx0aGlzLnBvc1sxXSs9cix0aGlzLmlzUGVuRG93biYmKHRoaXMuY3VydmUuZGF0YVgucHVzaCh0aGlzLnBvc1swXSksdGhpcy5jdXJ2ZS5kYXRhWS5wdXNoKHRoaXMucG9zWzFdKSksdGhpcy5ib2FyZC51cGRhdGUoKSx0aGlzfSxiYWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZvcndhcmQoLXQpfSxyaWdodDpmdW5jdGlvbih0KXsodGhpcy5kaXItPXQsdGhpcy5kaXIlPTM2MCx0aGlzLnR1cnRsZUlzSGlkZGVuKXx8dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbLXQqTWF0aC5QSS8xODAsdGhpcy50dXJ0bGVdLHt0eXBlOlwicm90YXRlXCJ9KS5hcHBseU9uY2UodGhpcy50dXJ0bGUyKTtyZXR1cm4gdGhpcy5ib2FyZC51cGRhdGUoKSx0aGlzfSxsZWZ0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJpZ2h0KC10KX0scGVuVXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BlbkRvd249ITEsdGhpc30scGVuRG93bjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUGVuRG93bj0hMCx0aGlzLmN1cnZlPXRoaXMuYm9hcmQuY3JlYXRlKFwiY3VydmVcIixbW3RoaXMucG9zWzBdXSxbdGhpcy5wb3NbMV1dXSx0aGlzLl9hdHRyaWJ1dGVzKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLmN1cnZlKSx0aGlzfSxjbGVhbjpmdW5jdGlvbigpe3ZhciB0LGk7Zm9yKHQ9MDt0PHRoaXMub2JqZWN0cy5sZW5ndGg7dCsrKShpPXRoaXMub2JqZWN0c1t0XSkudHlwZT09PWUuT0JKRUNUX1RZUEVfQ1VSVkUmJih0aGlzLmJvYXJkLnJlbW92ZU9iamVjdChpKSx0aGlzLm9iamVjdHMuc3BsaWNlKHQsMSkpO3JldHVybiB0aGlzLmN1cnZlPXRoaXMuYm9hcmQuY3JlYXRlKFwiY3VydmVcIixbW3RoaXMucG9zWzBdXSxbdGhpcy5wb3NbMV1dXSx0aGlzLl9hdHRyaWJ1dGVzKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLmN1cnZlKSx0aGlzLmJvYXJkLnVwZGF0ZSgpLHRoaXN9LGNsZWFyU2NyZWVuOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMub2JqZWN0cy5sZW5ndGg7Zm9yKHQ9MDt0PGk7dCsrKWU9dGhpcy5vYmplY3RzW3RdLHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KGUpO3JldHVybiB0aGlzLmluaXQoMCwwLDkwKSx0aGlzfSxzZXRQb3M6ZnVuY3Rpb24odCxpKXtyZXR1cm4gci5pc0FycmF5KHQpP3RoaXMucG9zPXQ6dGhpcy5wb3M9W3QsaV0sdGhpcy50dXJ0bGVJc0hpZGRlbnx8KHRoaXMudHVydGxlLnNldFBvc2l0aW9uRGlyZWN0bHkoZS5DT09SRFNfQllfVVNFUixbdCxpXSksdGhpcy50dXJ0bGUyLnNldFBvc2l0aW9uRGlyZWN0bHkoZS5DT09SRFNfQllfVVNFUixbdCxpK3RoaXMuYXJyb3dMZW5dKSx0aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLFstKHRoaXMuZGlyLTkwKSpNYXRoLlBJLzE4MCx0aGlzLnR1cnRsZV0se3R5cGU6XCJyb3RhdGVcIn0pLmFwcGx5T25jZSh0aGlzLnR1cnRsZTIpKSx0aGlzLmN1cnZlPXRoaXMuYm9hcmQuY3JlYXRlKFwiY3VydmVcIixbW3RoaXMucG9zWzBdXSxbdGhpcy5wb3NbMV1dXSx0aGlzLl9hdHRyaWJ1dGVzKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLmN1cnZlKSx0aGlzLmJvYXJkLnVwZGF0ZSgpLHRoaXN9LHNldFBlblNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VydmU9dGhpcy5ib2FyZC5jcmVhdGUoXCJjdXJ2ZVwiLFtbdGhpcy5wb3NbMF1dLFt0aGlzLnBvc1sxXV1dLHRoaXMuY29weUF0dHIoXCJzdHJva2VXaWR0aFwiLHQpKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLmN1cnZlKSx0aGlzfSxzZXRQZW5Db2xvcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJ2ZT10aGlzLmJvYXJkLmNyZWF0ZShcImN1cnZlXCIsW1t0aGlzLnBvc1swXV0sW3RoaXMucG9zWzFdXV0sdGhpcy5jb3B5QXR0cihcInN0cm9rZUNvbG9yXCIsdCkpLHRoaXMub2JqZWN0cy5wdXNoKHRoaXMuY3VydmUpLHRoaXN9LHNldEhpZ2hsaWdodFBlbkNvbG9yOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnZlPXRoaXMuYm9hcmQuY3JlYXRlKFwiY3VydmVcIixbW3RoaXMucG9zWzBdXSxbdGhpcy5wb3NbMV1dXSx0aGlzLmNvcHlBdHRyKFwiaGlnaGxpZ2h0U3Ryb2tlQ29sb3JcIix0KSksdGhpcy5vYmplY3RzLnB1c2godGhpcy5jdXJ2ZSksdGhpc30sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKHQpe3ZhciBpLHMsbyxuPXRoaXMub2JqZWN0cy5sZW5ndGg7Zm9yKGk9MDtpPG47aSsrKShzPXRoaXMub2JqZWN0c1tpXSkudHlwZT09PWUuT0JKRUNUX1RZUEVfQ1VSVkUmJnMuc2V0QXR0cmlidXRlKHQpO3JldHVybiBvPXRoaXMudmlzUHJvcC5pZCx0aGlzLnZpc1Byb3A9ci5kZWVwQ29weSh0aGlzLmN1cnZlLnZpc1Byb3ApLHRoaXMudmlzUHJvcC5pZD1vLHRoaXMuX2F0dHJpYnV0ZXM9ci5kZWVwQ29weSh0aGlzLnZpc1Byb3ApLGRlbGV0ZSB0aGlzLl9hdHRyaWJ1dGVzLmlkLHRoaXN9LGNvcHlBdHRyOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXNbdC50b0xvd2VyQ2FzZSgpXT1lLHRoaXMuX2F0dHJpYnV0ZXN9LHNob3dUdXJ0bGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50dXJ0bGVJc0hpZGRlbj0hMSx0aGlzLmFycm93LnNldEF0dHJpYnV0ZSh7dmlzaWJsZTohMH0pLHRoaXMudmlzUHJvcC5hcnJvdy52aXNpYmxlPSExLHRoaXMuc2V0UG9zKHRoaXMucG9zWzBdLHRoaXMucG9zWzFdKSx0aGlzLmJvYXJkLnVwZGF0ZSgpLHRoaXN9LGhpZGVUdXJ0bGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50dXJ0bGVJc0hpZGRlbj0hMCx0aGlzLmFycm93LnNldEF0dHJpYnV0ZSh7dmlzaWJsZTohMX0pLHRoaXMudmlzUHJvcC5hcnJvdy52aXNpYmxlPSExLHRoaXMuYm9hcmQudXBkYXRlKCksdGhpc30saG9tZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcz1bMCwwXSx0aGlzLnNldFBvcyh0aGlzLnBvc1swXSx0aGlzLnBvc1sxXSksdGhpc30scHVzaFR1cnRsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YWNrLnB1c2goW3RoaXMucG9zWzBdLHRoaXMucG9zWzFdLHRoaXMuZGlyXSksdGhpc30scG9wVHVydGxlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zdGFjay5wb3AoKTtyZXR1cm4gdGhpcy5wb3NbMF09dFswXSx0aGlzLnBvc1sxXT10WzFdLHRoaXMuZGlyPXRbMl0sdGhpcy5zZXRQb3ModGhpcy5wb3NbMF0sdGhpcy5wb3NbMV0pLHRoaXN9LGxvb2tUbzpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbyxuO3JldHVybiByLmlzQXJyYXkodCk/KGU9dGhpcy5wb3NbMF0saT10aGlzLnBvc1sxXSxzPXRbMF0sbz10WzFdLG49TWF0aC5hdGFuMihvLWkscy1lKSx0aGlzLnJpZ2h0KHRoaXMuZGlyLTE4MCpuL01hdGguUEkpKTpyLmlzTnVtYmVyKHQpJiZ0aGlzLnJpZ2h0KHRoaXMuZGlyLXQpLHRoaXN9LG1vdmVUbzpmdW5jdGlvbih0KXt2YXIgZSxpLHM7cmV0dXJuIHIuaXNBcnJheSh0KSYmKGU9dFswXS10aGlzLnBvc1swXSxpPXRbMV0tdGhpcy5wb3NbMV0sdGhpcy50dXJ0bGVJc0hpZGRlbnx8KChzPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2UsaV0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pKS5hcHBseU9uY2UodGhpcy50dXJ0bGUpLHMuYXBwbHlPbmNlKHRoaXMudHVydGxlMikpLHRoaXMuaXNQZW5Eb3duJiZ0aGlzLmN1cnZlLmRhdGFYLmxlbmd0aD49ODE5MiYmKHRoaXMuY3VydmU9dGhpcy5ib2FyZC5jcmVhdGUoXCJjdXJ2ZVwiLFtbdGhpcy5wb3NbMF1dLFt0aGlzLnBvc1sxXV1dLHRoaXMuX2F0dHJpYnV0ZXMpLHRoaXMub2JqZWN0cy5wdXNoKHRoaXMuY3VydmUpKSx0aGlzLnBvc1swXT10WzBdLHRoaXMucG9zWzFdPXRbMV0sdGhpcy5pc1BlbkRvd24mJih0aGlzLmN1cnZlLmRhdGFYLnB1c2godGhpcy5wb3NbMF0pLHRoaXMuY3VydmUuZGF0YVkucHVzaCh0aGlzLnBvc1sxXSkpLHRoaXMuYm9hcmQudXBkYXRlKCkpLHRoaXN9LGZkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZvcndhcmQodCl9LGJrOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJhY2sodCl9LGx0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxlZnQodCl9LHJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJpZ2h0KHQpfSxwdTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBlblVwKCl9LHBkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGVuRG93bigpfSxodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZGVUdXJ0bGUoKX0sc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaG93VHVydGxlKCl9LGNzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xlYXJTY3JlZW4oKX0scHVzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hUdXJ0bGUoKX0scG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9wVHVydGxlKCl9LGV2YWxBdDpmdW5jdGlvbih0LGkpe3ZhciByLHMsbyxuLGE9dGhpcy5vYmplY3RzLmxlbmd0aDtmb3Iocj0wLHM9MDtyPGE7cisrKWlmKChvPXRoaXMub2JqZWN0c1tyXSkuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUpe2lmKHM8PXQmJnQ8cytvLm51bWJlclBvaW50cylyZXR1cm4gbj10LXMsb1tpXShuKTtzKz1vLm51bWJlclBvaW50c31yZXR1cm4gdGhpc1tpXSgpfSxYOmZ1bmN0aW9uKHQpe3JldHVybiByLmV4aXN0cyh0KT90aGlzLmV2YWxBdCh0LFwiWFwiKTp0aGlzLnBvc1swXX0sWTpmdW5jdGlvbih0KXtyZXR1cm4gci5leGlzdHModCk/dGhpcy5ldmFsQXQodCxcIllcIik6dGhpcy5wb3NbMV19LFo6ZnVuY3Rpb24odCl7cmV0dXJuIDF9LG1pblg6ZnVuY3Rpb24oKXtyZXR1cm4gMH0sbWF4WDpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcy5vYmplY3RzLmxlbmd0aCxyPTA7Zm9yKHQ9MDt0PGk7dCsrKXRoaXMub2JqZWN0c1t0XS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmKHIrPXRoaXMub2JqZWN0c1t0XS5udW1iZXJQb2ludHMpO3JldHVybiByfSxoYXNQb2ludDpmdW5jdGlvbih0LGkpe3ZhciByLHM7Zm9yKHI9MDtyPHRoaXMub2JqZWN0cy5sZW5ndGg7cisrKWlmKChzPXRoaXMub2JqZWN0c1tyXSkudHlwZT09PWUuT0JKRUNUX1RZUEVfQ1VSVkUmJnMuaGFzUG9pbnQodCxpKSlyZXR1cm4hMDtyZXR1cm4hMX19KSx0LmNyZWF0ZVR1cnRsZT1mdW5jdGlvbihlLGkscyl7dmFyIG87cmV0dXJuIGk9aXx8W10sbz1yLmNvcHlBdHRyaWJ1dGVzKHMsZS5vcHRpb25zLFwidHVydGxlXCIpLG5ldyB0LlR1cnRsZShlLGksbyl9LHQucmVnaXN0ZXJFbGVtZW50KFwidHVydGxlXCIsdC5jcmVhdGVUdXJ0bGUpLHtUdXJ0bGU6dC5UdXJ0bGUsY3JlYXRlVHVydGxlOnQuY3JlYXRlVHVydGxlfX0pKSxkZWZpbmUoXCJiYXNlL3RpY2tzXCIsW1wianhnXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvbnVtZXJpY3NcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2VsZW1lbnRcIixcImJhc2UvY29vcmRzXCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL3RleHRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5UaWNrcz1mdW5jdGlvbih0LGkscil7aWYodGhpcy5jb25zdHJ1Y3Rvcih0LmJvYXJkLHIscy5PQkpFQ1RfVFlQRV9USUNLUyxzLk9CSkVDVF9DTEFTU19PVEhFUiksdGhpcy5saW5lPXQsdGhpcy5ib2FyZD10aGlzLmxpbmUuYm9hcmQsdGhpcy50aWNrc0Z1bmN0aW9uPW51bGwsdGhpcy5maXhlZFRpY2tzPW51bGwsdGhpcy5lcXVpZGlzdGFudD0hMSx0aGlzLmxhYmVsc0RhdGE9W10sYS5pc0Z1bmN0aW9uKGkpKXRocm93IHRoaXMudGlja3NGdW5jdGlvbj1pLG5ldyBFcnJvcihcIkZ1bmN0aW9uIGFyZ3VtZW50cyBhcmUgbm8gbG9uZ2VyIHN1cHBvcnRlZC5cIik7YS5pc0FycmF5KGkpP3RoaXMuZml4ZWRUaWNrcz1pOigoTWF0aC5hYnMoaSk8ZS5lcHN8fGk8MCkmJihpPXIuZGVmYXVsdGRpc3RhbmNlKSx0aGlzLnRpY2tzRnVuY3Rpb249dGhpcy5tYWtlVGlja3NGdW5jdGlvbihpKSx0aGlzLmVxdWlkaXN0YW50PSEwKSx0aGlzLm1pblRpY2tzRGlzdGFuY2U9ci5taW50aWNrc2Rpc3RhbmNlLHRoaXMudGlja3M9W10sdGhpcy50aWNrc0RlbHRhPTEsdGhpcy5sYWJlbHM9W10sdGhpcy5sYWJlbERhdGE9W10sdGhpcy5sYWJlbENvdW50ZXI9MCx0aGlzLmlkPXRoaXMubGluZS5hZGRUaWNrcyh0aGlzKSx0aGlzLmVsVHlwZT1cInRpY2tzXCIsdGhpcy5pbmhlcml0cy5wdXNoKHRoaXMubGFiZWxzKSx0aGlzLmJvYXJkLnNldElkKHRoaXMsXCJUaVwiKX0sdC5UaWNrcy5wcm90b3R5cGU9bmV3IG8sdC5leHRlbmQodC5UaWNrcy5wcm90b3R5cGUse21ha2VUaWNrc0Z1bmN0aW9uOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlLGkscjtyZXR1cm4gYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaW5zZXJ0dGlja3MpPygocj0oaT10aGlzLmdldExvd2VyQW5kVXBwZXJCb3VuZHModGhpcy5nZXRaZXJvQ29vcmRpbmF0ZXMoKSxcInRpY2tzZGlzdGFuY2VcIikpLnVwcGVyLWkubG93ZXIpPD02KihlPU1hdGgucG93KDEwLE1hdGguZmxvb3IoTWF0aC5sb2coLjYqcikvTWF0aC5MTjEwKSkpJiYoZSo9LjUpLGUpOnR9fSxoYXNQb2ludDpmdW5jdGlvbih0LGkpe3ZhciByLG8sbixoLGw9dGhpcy50aWNrcyYmdGhpcy50aWNrcy5sZW5ndGh8fDA7aWYoYS5pc09iamVjdChhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb24pKT8oaD10aGlzLmJvYXJkLl9pbnB1dERldmljZSxuPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbltoXSkpOm49dGhpcy5ib2FyZC5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludCxuKz0uNSphLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJva2V3aWR0aCksIWEuZXZhbHVhdGUodGhpcy5saW5lLnZpc1Byb3Auc2NhbGFibGUpfHx0aGlzLmxpbmUuZWxlbWVudENsYXNzPT09cy5PQkpFQ1RfQ0xBU1NfQ1VSVkUpcmV0dXJuITE7aWYoMCE9PXRoaXMubGluZS5zdGRmb3JtWzFdJiYwIT09dGhpcy5saW5lLnN0ZGZvcm1bMl0mJnRoaXMubGluZS50eXBlIT09cy5PQkpFQ1RfVFlQRV9BWElTKXJldHVybiExO2ZvcihyPTA7cjxsO3IrKylpZigobz10aGlzLnRpY2tzW3JdKVsyXSYmISgwPT09dGhpcy5saW5lLnN0ZGZvcm1bMV0mJk1hdGguYWJzKG9bMF1bMF0tdGhpcy5saW5lLnBvaW50MS5jb29yZHMuc2NyQ29vcmRzWzFdKTxlLmVwc3x8MD09PXRoaXMubGluZS5zdGRmb3JtWzJdJiZNYXRoLmFicyhvWzFdWzBdLXRoaXMubGluZS5wb2ludDEuY29vcmRzLnNjckNvb3Jkc1syXSk8ZS5lcHMpJiYoTWF0aC5hYnMob1swXVswXS1vWzBdWzFdKT49MXx8TWF0aC5hYnMob1sxXVswXS1vWzFdWzFdKT49MSkpaWYoMD09PXRoaXMubGluZS5zdGRmb3JtWzFdKXtpZihNYXRoLmFicyhpLS41KihvWzFdWzBdK29bMV1bMV0pKTwyKm4mJm9bMF1bMF0tbjx0JiZ0PG9bMF1bMV0rbilyZXR1cm4hMH1lbHNlIGlmKDA9PT10aGlzLmxpbmUuc3RkZm9ybVsyXSYmTWF0aC5hYnModC0uNSoob1swXVswXStvWzBdWzFdKSk8MipuJiZvWzFdWzBdLW48aSYmaTxvWzFdWzFdK24pcmV0dXJuITA7cmV0dXJuITF9LHNldFBvc2l0aW9uRGlyZWN0bHk6ZnVuY3Rpb24odCxpLHIpe3ZhciBvLGgsbD1uZXcgbih0LGksdGhpcy5ib2FyZCksYz1uZXcgbih0LHIsdGhpcy5ib2FyZCksZD10aGlzLmJvYXJkLmdldEJvdW5kaW5nQm94KCk7cmV0dXJuIHRoaXMubGluZS50eXBlPT09cy5PQkpFQ1RfVFlQRV9BWElTJiZhLmV2YWx1YXRlKHRoaXMubGluZS52aXNQcm9wLnNjYWxhYmxlKT8oTWF0aC5hYnModGhpcy5saW5lLnN0ZGZvcm1bMV0pPGUuZXBzJiZNYXRoLmFicyhsLnVzckNvb3Jkc1sxXSpjLnVzckNvb3Jkc1sxXSk+ZS5lcHM/KG89Yy51c3JDb29yZHNbMV0vbC51c3JDb29yZHNbMV0sZFswXSo9byxkWzJdKj1vLHRoaXMuYm9hcmQuc2V0Qm91bmRpbmdCb3goZCx0aGlzLmJvYXJkLmtlZXBhc3BlY3RyYXRpbyxcInVwZGF0ZVwiKSk6TWF0aC5hYnModGhpcy5saW5lLnN0ZGZvcm1bMl0pPGUuZXBzJiZNYXRoLmFicyhsLnVzckNvb3Jkc1syXSpjLnVzckNvb3Jkc1syXSk+ZS5lcHMmJihoPWMudXNyQ29vcmRzWzJdL2wudXNyQ29vcmRzWzJdLGRbM10qPWgsZFsxXSo9aCx0aGlzLmJvYXJkLnNldEJvdW5kaW5nQm94KGQsdGhpcy5ib2FyZC5rZWVwYXNwZWN0cmF0aW8sXCJ1cGRhdGVcIikpLHRoaXMpOnRoaXN9LGNhbGN1bGF0ZVRpY2tzQ29vcmRpbmF0ZXM6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsbztpZighKHRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19MSU5FJiYodGhpcy5zZXRUaWNrc1NpemVWYXJpYWJsZXMoKSxNYXRoLmFicyh0aGlzLmR4KTxlLmVwcyYmTWF0aC5hYnModGhpcy5keSk8ZS5lcHMpKSlyZXR1cm4gdD10aGlzLmdldFplcm9Db29yZGluYXRlcygpLGk9dGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0xJTkU/dGhpcy5nZXRMb3dlckFuZFVwcGVyQm91bmRzKHQpOntsb3dlcjp0aGlzLmxpbmUubWluWCgpLHVwcGVyOnRoaXMubGluZS5tYXhYKCl9LFwicG9sYXJcIj09PWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnR5cGUpJiYobz10aGlzLmJvYXJkLmdldEJvdW5kaW5nQm94KCkscj1NYXRoLm1heChNYXRoLnNxcnQob1swXSpvWzBdK29bMV0qb1sxXSksTWF0aC5zcXJ0KG9bMl0qb1syXStvWzNdKm9bM10pKSxpLnVwcGVyPXIpLHRoaXMudGlja3M9W10sdGhpcy5sYWJlbHNEYXRhPVtdLHRoaXMuZXF1aWRpc3RhbnQ/dGhpcy5nZW5lcmF0ZUVxdWlkaXN0YW50VGlja3ModCxpKTp0aGlzLmdlbmVyYXRlRml4ZWRUaWNrcyh0LGkpLHRoaXN9LHNldFRpY2tzU2l6ZVZhcmlhYmxlczpmdW5jdGlvbih0KXt2YXIgaSxzLG8sbixoPS41KmEuZXZhbHVhdGUodGhpcy52aXNQcm9wLm1ham9yaGVpZ2h0KSxsPS41KmEuZXZhbHVhdGUodGhpcy52aXNQcm9wLm1pbm9yaGVpZ2h0KTthLmV4aXN0cyh0KT8ocz10aGlzLmxpbmUubWluWCgpLG89dGhpcy5saW5lLm1heFgoKSwobj10aGlzLmxpbmUucG9pbnRzLmxlbmd0aCk8Mj8odGhpcy5keE1haj0wLHRoaXMuZHlNYWo9MCk6ZS5yZWxEaWYodCxzKTxlLmVwcz8odGhpcy5keE1haj10aGlzLmxpbmUucG9pbnRzWzBdLnVzckNvb3Jkc1syXS10aGlzLmxpbmUucG9pbnRzWzFdLnVzckNvb3Jkc1syXSx0aGlzLmR5TWFqPXRoaXMubGluZS5wb2ludHNbMV0udXNyQ29vcmRzWzFdLXRoaXMubGluZS5wb2ludHNbMF0udXNyQ29vcmRzWzFdKTplLnJlbERpZih0LG8pPGUuZXBzPyh0aGlzLmR4TWFqPXRoaXMubGluZS5wb2ludHNbbi0yXS51c3JDb29yZHNbMl0tdGhpcy5saW5lLnBvaW50c1tuLTFdLnVzckNvb3Jkc1syXSx0aGlzLmR5TWFqPXRoaXMubGluZS5wb2ludHNbbi0xXS51c3JDb29yZHNbMV0tdGhpcy5saW5lLnBvaW50c1tuLTJdLnVzckNvb3Jkc1sxXSk6KHRoaXMuZHhNYWo9LXIuRCh0aGlzLmxpbmUuWSkodCksdGhpcy5keU1haj1yLkQodGhpcy5saW5lLlgpKHQpKSk6KHRoaXMuZHhNYWo9dGhpcy5saW5lLnN0ZGZvcm1bMV0sdGhpcy5keU1haj10aGlzLmxpbmUuc3RkZm9ybVsyXSksdGhpcy5keE1pbj10aGlzLmR4TWFqLHRoaXMuZHlNaW49dGhpcy5keU1haix0aGlzLmR4PXRoaXMuZHhNYWosdGhpcy5keT10aGlzLmR5TWFqLGk9TWF0aC5zcXJ0KHRoaXMuZHhNYWoqdGhpcy5keE1haip0aGlzLmJvYXJkLnVuaXRYKnRoaXMuYm9hcmQudW5pdFgrdGhpcy5keU1haip0aGlzLmR5TWFqKnRoaXMuYm9hcmQudW5pdFkqdGhpcy5ib2FyZC51bml0WSksdGhpcy5keE1haio9aC9pKnRoaXMuYm9hcmQudW5pdFgsdGhpcy5keU1haio9aC9pKnRoaXMuYm9hcmQudW5pdFksdGhpcy5keE1pbio9bC9pKnRoaXMuYm9hcmQudW5pdFgsdGhpcy5keU1pbio9bC9pKnRoaXMuYm9hcmQudW5pdFksdGhpcy5taW5TdHlsZT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5taW5vcmhlaWdodCk8MD9cImluZmluaXRlXCI6XCJmaW5pdGVcIix0aGlzLm1halN0eWxlPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLm1ham9yaGVpZ2h0KTwwP1wiaW5maW5pdGVcIjpcImZpbml0ZVwifSxnZXRaZXJvQ29vcmRpbmF0ZXM6ZnVuY3Rpb24oKXt2YXIgdCxlLHIsbyxoLGwsYyxkLHU9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYW5jaG9yKTtyZXR1cm4gdGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0xJTkU/dGhpcy5saW5lLnR5cGU9PT1zLk9CSkVDVF9UWVBFX0FYSVM/aS5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3Jkczp7dXNyQ29vcmRzOlsxLDAsMF19fSx0aGlzLmxpbmUsdGhpcy5ib2FyZCk6KHI9dGhpcy5saW5lLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzBdLHQ9dGhpcy5saW5lLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzFdLGU9dGhpcy5saW5lLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzJdLGw9dGhpcy5saW5lLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzWzBdLG89dGhpcy5saW5lLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzWzFdLGg9dGhpcy5saW5lLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzWzJdLFwicmlnaHRcIj09PXU/dGhpcy5saW5lLnBvaW50Mi5jb29yZHM6XCJtaWRkbGVcIj09PXU/bmV3IG4ocy5DT09SRFNfQllfVVNFUixbLjUqKHIrbCksLjUqKHQrbyksLjUqKGUraCldLHRoaXMuYm9hcmQpOmEuaXNOdW1iZXIodSk/bmV3IG4ocy5DT09SRFNfQllfVVNFUixbcisobC1yKSp1LHQrKG8tdCkqdSxlKyhoLWUpKnVdLHRoaXMuYm9hcmQpOnRoaXMubGluZS5wb2ludDEuY29vcmRzKTooYz10aGlzLmxpbmUubWluWCgpLGQ9dGhpcy5saW5lLm1heFgoKSxcInJpZ2h0XCI9PT11P2Q6XCJtaWRkbGVcIj09PXU/LjUqKGMrZCk6YS5pc051bWJlcih1KT9jKigxLXUpK2QqdTpjKX0sZ2V0TG93ZXJBbmRVcHBlckJvdW5kczpmdW5jdGlvbih0LHIpe3ZhciBvLGgsbCxjLGQsdSxwLGYsbSxnLGI9YS5ldmFsdWF0ZSh0aGlzLmxpbmUudmlzUHJvcC5zdHJhaWdodGZpcnN0KSx2PWEuZXZhbHVhdGUodGhpcy5saW5lLnZpc1Byb3Auc3RyYWlnaHRsYXN0KSx5PWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmluY2x1ZGVib3VuZGFyaWVzKTtyZXR1cm4gdGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0NVUlZFP3tsb3dlcjp0aGlzLmxpbmUubWluWCgpLHVwcGVyOnRoaXMubGluZS5tYXhYKCl9OihkPW5ldyBuKHMuQ09PUkRTX0JZX1VTRVIsdGhpcy5saW5lLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLHRoaXMuYm9hcmQpLHU9bmV3IG4ocy5DT09SRFNfQllfVVNFUix0aGlzLmxpbmUucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMsdGhpcy5ib2FyZCkscD1NYXRoLmFicyhkLnVzckNvb3Jkc1swXSk+PWUuZXBzJiZkLnNjckNvb3Jkc1sxXT49MCYmZC5zY3JDb29yZHNbMV08PXRoaXMuYm9hcmQuY2FudmFzV2lkdGgmJmQuc2NyQ29vcmRzWzJdPj0wJiZkLnNjckNvb3Jkc1syXTw9dGhpcy5ib2FyZC5jYW52YXNIZWlnaHQsZj1NYXRoLmFicyh1LnVzckNvb3Jkc1swXSk+PWUuZXBzJiZ1LnNjckNvb3Jkc1sxXT49MCYmdS5zY3JDb29yZHNbMV08PXRoaXMuYm9hcmQuY2FudmFzV2lkdGgmJnUuc2NyQ29vcmRzWzJdPj0wJiZ1LnNjckNvb3Jkc1syXTw9dGhpcy5ib2FyZC5jYW52YXNIZWlnaHQsYS5leGlzdHMocil8fFwidGlja2Rpc3RhbmNlXCI9PT1yP2kuY2FsY1N0cmFpZ2h0KHRoaXMubGluZSxkLHUsYS5ldmFsdWF0ZSh0aGlzLmxpbmUudmlzUHJvcC5tYXJnaW4pKTppLmNhbGNMaW5lRGVsaW1pdGluZ1BvaW50cyh0aGlzLmxpbmUsZCx1KSxsPWEuZXZhbHVhdGUodGhpcy5saW5lLnZpc1Byb3AuZmlyc3RhcnJvdyksYz1hLmV2YWx1YXRlKHRoaXMubGluZS52aXNQcm9wLmxhc3RhcnJvdyksKGx8fGMpJiYodGhpcy5ib2FyZC5yZW5kZXJlci5nZXRQb3NpdGlvbkFycm93SGVhZCh0aGlzLmxpbmUsZCx1LGEuZXZhbHVhdGUodGhpcy5saW5lLnZpc1Byb3Auc3Ryb2tld2lkdGgpKSxsJiZkLnNldENvb3JkaW5hdGVzKHMuQ09PUkRTX0JZX1NDUkVFTixbZC5zY3JDb29yZHNbMV0sZC5zY3JDb29yZHNbMl1dKSxjJiZ1LnNldENvb3JkaW5hdGVzKHMuQ09PUkRTX0JZX1NDUkVFTixbdS5zY3JDb29yZHNbMV0sdS5zY3JDb29yZHNbMl1dKSksKG09dGhpcy5nZXREaXN0YW5jZUZyb21aZXJvKHQsZCkpPChnPXRoaXMuZ2V0RGlzdGFuY2VGcm9tWmVybyh0LHUpKT8obz1tLGJ8fCFwfHx5fHwobys9ZS5lcHMpLGg9Zyx2fHwhZnx8eXx8KGgtPWUuZXBzKSk6ZzxtPyhvPWcsdnx8IWZ8fHl8fChvKz1lLmVwcyksaD1tLGJ8fCFwfHx5fHwoaC09ZS5lcHMpKToobz0wLGg9MCkse2xvd2VyOm8sdXBwZXI6aH0pfSxnZXREaXN0YW5jZUZyb21aZXJvOmZ1bmN0aW9uKHQsaSl7dmFyIHIsbyxuLGEsaDtyZXR1cm4gcj10aGlzLmxpbmUucG9pbnQxLmNvb3JkcyxvPXRoaXMubGluZS5wb2ludDIuY29vcmRzLGg9dC5kaXN0YW5jZShzLkNPT1JEU19CWV9VU0VSLGkpLG49W28udXNyQ29vcmRzWzBdLXIudXNyQ29vcmRzWzBdLG8udXNyQ29vcmRzWzFdLXIudXNyQ29vcmRzWzFdLG8udXNyQ29vcmRzWzJdLXIudXNyQ29vcmRzWzJdXSxhPVtpLnVzckNvb3Jkc1swXS10LnVzckNvb3Jkc1swXSxpLnVzckNvb3Jkc1sxXS10LnVzckNvb3Jkc1sxXSxpLnVzckNvb3Jkc1syXS10LnVzckNvb3Jkc1syXV0sZS5pbm5lclByb2R1Y3QobixhLDMpPDAmJihoKj0tMSksaH0sZ2VuZXJhdGVFcXVpZGlzdGFudFRpY2tzOmZ1bmN0aW9uKHQsaSl7dmFyIHIsbyxuPWUuZXBzLGg9dGhpcy5lcXVpZGlzdGFudD90aGlzLnRpY2tzRnVuY3Rpb24oMSk6dGhpcy50aWNrc0RlbHRhLGw9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaW5zZXJ0dGlja3MpLGM9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubWlub3J0aWNrcyk7aWYodGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0xJTkUmJihvPXRoaXMuZ2V0WGFuZFlkZWx0YXMoKSksaCo9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2NhbGUpLGwmJnRoaXMubWluVGlja3NEaXN0YW5jZT5lLmVwcz8oaD10aGlzLmFkanVzdFRpY2tEaXN0YW5jZShoLHQsbyksaC89YysxKTpsfHwoaC89YysxKSx0aGlzLnRpY2tzRGVsdGE9aCwhKGg8ZS5lcHMpKXtmb3Iocj0wLGEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmRyYXd6ZXJvKXx8KHI9aCk7cjw9aS51cHBlcituJiYocj49aS5sb3dlci1uJiZ0aGlzLnByb2Nlc3NUaWNrUG9zaXRpb24odCxyLGgsbykscis9aCwhKGkudXBwZXItcj4xZTQqaCkpOyk7Zm9yKHI9LWg7cj49aS5sb3dlci1uJiYocjw9aS51cHBlcituJiZ0aGlzLnByb2Nlc3NUaWNrUG9zaXRpb24odCxyLGgsbyksISgoci09aCktaS5sb3dlcj4xZTQqaCkpOyk7fX0sYWRqdXN0VGlja0Rpc3RhbmNlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixvLGgsbD0xLGM9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubWlub3J0aWNrcyk7aWYodGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0NVUlZFKXJldHVybiB0O2lmKHRoaXMuZ2V0TG93ZXJBbmRVcHBlckJvdW5kcyhlLFwidGlja3NkaXN0YW5jZVwiKSxyPWUudXNyQ29vcmRzWzFdK2kueCp0LG89ZS51c3JDb29yZHNbMl0raS55KnQsaD1lLmRpc3RhbmNlKHMuQ09PUkRTX0JZX1NDUkVFTixuZXcgbihzLkNPT1JEU19CWV9VU0VSLFtyLG9dLHRoaXMuYm9hcmQpKSwwPT09dClyZXR1cm4gMDtmb3IoO2gvKGMrMSk8dGhpcy5taW5UaWNrc0Rpc3RhbmNlOyl0Kj0xPT09bD8yOjUsbCo9LTEscj1lLnVzckNvb3Jkc1sxXStpLngqdCxvPWUudXNyQ29vcmRzWzJdK2kueSp0LGg9ZS5kaXN0YW5jZShzLkNPT1JEU19CWV9TQ1JFRU4sbmV3IG4ocy5DT09SRFNfQllfVVNFUixbcixvXSx0aGlzLmJvYXJkKSk7cmV0dXJuIHR9LHByb2Nlc3NUaWNrUG9zaXRpb246ZnVuY3Rpb24odCxlLGkscil7dmFyIG8saCxsLGMsZD1udWxsO3RoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19MSU5FPyhvPXQudXNyQ29vcmRzWzFdK2Uqci54LGg9dC51c3JDb29yZHNbMl0rZSpyLnkpOihvPXRoaXMubGluZS5YKHQrZSksaD10aGlzLmxpbmUuWSh0K2UpKSxsPW5ldyBuKHMuQ09PUkRTX0JZX1VTRVIsW28saF0sdGhpcy5ib2FyZCksdGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0NVUlZFJiYoZD10K2UsdGhpcy5zZXRUaWNrc1NpemVWYXJpYWJsZXMoZCkpLGwubWFqb3I9TWF0aC5yb3VuZChlL2kpJShhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5taW5vcnRpY2tzKSsxKT09MCwzPT09KGM9dGhpcy5jcmVhdGVUaWNrUGF0aChsLGwubWFqb3IpKS5sZW5ndGgmJih0aGlzLnRpY2tzLnB1c2goYyksbC5tYWpvciYmYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZHJhd2xhYmVscyk/dGhpcy5sYWJlbHNEYXRhLnB1c2godGhpcy5nZW5lcmF0ZUxhYmVsRGF0YSh0aGlzLmdlbmVyYXRlTGFiZWxUZXh0KGwsdCxkKSxsLHRoaXMudGlja3MubGVuZ3RoKSk6dGhpcy5sYWJlbHNEYXRhLnB1c2gobnVsbCkpfSxnZW5lcmF0ZUZpeGVkVGlja3M6ZnVuY3Rpb24odCxpKXt2YXIgcixvLGgsbCxjLGQsdSxwLGY9ZS5lcHMsbT1hLmlzQXJyYXkodGhpcy52aXNQcm9wLmxhYmVscyksZz1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kcmF3bGFiZWxzKTtmb3IodGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0xJTkUmJihwPXRoaXMuZ2V0WGFuZFlkZWx0YXMoKSksaD0wO2g8dGhpcy5maXhlZFRpY2tzLmxlbmd0aDtoKyspdGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0xJTkU/KHU9dGhpcy5maXhlZFRpY2tzW2hdLGM9dC51c3JDb29yZHNbMV0rdSpwLngsZD10LnVzckNvb3Jkc1syXSt1KnAueSk6KHU9dCt0aGlzLmZpeGVkVGlja3NbaF0sYz10aGlzLmxpbmUuWCh1KSxkPXRoaXMubGluZS5ZKHUpKSxyPW5ldyBuKHMuQ09PUkRTX0JZX1VTRVIsW2MsZF0sdGhpcy5ib2FyZCksdGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0NVUlZFJiZ0aGlzLnNldFRpY2tzU2l6ZVZhcmlhYmxlcyh1KSwzPT09KGw9dGhpcy5jcmVhdGVUaWNrUGF0aChyLCEwKSkubGVuZ3RoJiZ1Pj1pLmxvd2VyLWYmJnU8PWkudXBwZXIrZiYmKHRoaXMudGlja3MucHVzaChsKSxnJiYobXx8YS5leGlzdHModGhpcy52aXNQcm9wLmxhYmVsc1toXSkpPyhvPW0/YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubGFiZWxzW2hdKTp1LHRoaXMubGFiZWxzRGF0YS5wdXNoKHRoaXMuZ2VuZXJhdGVMYWJlbERhdGEodGhpcy5nZW5lcmF0ZUxhYmVsVGV4dChyLHQsbykscixoKSkpOnRoaXMubGFiZWxzRGF0YS5wdXNoKG51bGwpKX0sZ2V0WGFuZFlkZWx0YXM6ZnVuY3Rpb24oKXt2YXIgdCxpLHI9dGhpcy5saW5lLnBvaW50MS5EaXN0KHRoaXMubGluZS5wb2ludDIpO3JldHVybiB0aGlzLmxpbmUudHlwZT09PXMuT0JKRUNUX1RZUEVfQVhJUz8odD10aGlzLmxpbmUucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsaT10aGlzLmxpbmUucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMsKHRbMV0+aVsxXXx8TWF0aC5hYnModFsxXS1pWzFdKTxlLmVwcyYmdFsyXT5pWzJdKSYmKHQ9dGhpcy5saW5lLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLGk9dGhpcy5saW5lLnBvaW50MS5jb29yZHMudXNyQ29vcmRzKSk6KHQ9dGhpcy5saW5lLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGk9dGhpcy5saW5lLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzKSx7eDooaVsxXS10WzFdKS9yLHk6KGlbMl0tdFsyXSkvcn19LF9pc0luc2lkZUNhbnZhczpmdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcy5ib2FyZC5jYW52YXNXaWR0aCxzPXRoaXMuYm9hcmQuY2FudmFzSGVpZ2h0O3JldHVybiB2b2lkIDA9PT1pJiYoaT0wKSx0WzBdPj1pJiZ0WzBdPD1yLWkmJmVbMF0+PWkmJmVbMF08PXMtaXx8dFsxXT49aSYmdFsxXTw9ci1pJiZlWzFdPj1pJiZlWzFdPD1zLWl9LGNyZWF0ZVRpY2tQYXRoOmZ1bmN0aW9uKHQsZSl7dmFyIHIscyxvLG4saCxsLGMsZCx1LHAsZixtLGcsYix2PVstMmU2LC0yZTZdLHk9Wy0yZTYsLTJlNl07aWYocj10LnNjckNvb3JkcyxlPyhuPXRoaXMuZHhNYWosaD10aGlzLmR5TWFqLHU9dGhpcy5tYWpTdHlsZSk6KG49dGhpcy5keE1pbixoPXRoaXMuZHlNaW4sdT10aGlzLm1pblN0eWxlKSxzPVstaCpyWzFdLW4qclsyXSxoLG5dLGUmJlwicG9sYXJcIj09PWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnR5cGUpKXtpZihtPXRoaXMuYm9hcmQuZ2V0Qm91bmRpbmdCb3goKSxiPShnPTIqTWF0aC5QSSkvMTgwLHI9dC51c3JDb29yZHMsKGY9TWF0aC5zcXJ0KHJbMV0qclsxXStyWzJdKnJbMl0pKTxNYXRoLm1heChNYXRoLnNxcnQobVswXSptWzBdK21bMV0qbVsxXSksTWF0aC5zcXJ0KG1bMl0qbVsyXSttWzNdKm1bM10pKSl7Zm9yKHY9W10seT1bXSxwPTA7cDw9ZztwKz1iKXYucHVzaCh0aGlzLmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMV0rZipNYXRoLmNvcyhwKSp0aGlzLmJvYXJkLnVuaXRYKSx5LnB1c2godGhpcy5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzJdK2YqTWF0aC5zaW4ocCkqdGhpcy5ib2FyZC51bml0WSk7cmV0dXJuW3YseSxlXX19ZWxzZSBpZihcImluZmluaXRlXCI9PT11PyhvPWkubWVldExpbmVCb2FyZChzLHRoaXMuYm9hcmQpLHZbMF09b1swXS5zY3JDb29yZHNbMV0sdlsxXT1vWzFdLnNjckNvb3Jkc1sxXSx5WzBdPW9bMF0uc2NyQ29vcmRzWzJdLHlbMV09b1sxXS5zY3JDb29yZHNbMl0pOihkPVwiPlwiPT09YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZmFjZSk/TWF0aC5QSS80OlwiPFwiPT09YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZmFjZSk/LU1hdGguUEkvNDowLGw9TWF0aC5jb3MoZCkqbi1NYXRoLnNpbihkKSpoLGM9TWF0aC5zaW4oZCkqbitNYXRoLmNvcyhkKSpoLHZbMF09clsxXStsKmEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnRpY2tlbmRpbmdzWzBdKSx5WzBdPXJbMl0tYyphLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50aWNrZW5kaW5nc1swXSksdlsxXT1yWzFdLHlbMV09clsyXSxkPS1kLGw9TWF0aC5jb3MoZCkqbi1NYXRoLnNpbihkKSpoLGM9TWF0aC5zaW4oZCkqbitNYXRoLmNvcyhkKSpoLHZbMl09clsxXS1sKmEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnRpY2tlbmRpbmdzWzFdKSx5WzJdPXJbMl0rYyphLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50aWNrZW5kaW5nc1sxXSkpLHRoaXMuX2lzSW5zaWRlQ2FudmFzKHYseSkpcmV0dXJuW3YseSxlXTtyZXR1cm5bXX0sZm9ybWF0TGFiZWxUZXh0OmZ1bmN0aW9uKHQpe3ZhciBlLGkscj1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zY2FsZXN5bWJvbCk7cmV0dXJuIGEuaXNOdW1iZXIodCk/KCgoZT0oTWF0aC5yb3VuZCgxZTEzKnQpLzFlMTMpLnRvU3RyaW5nKCkpLmxlbmd0aD5hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5tYXhsYWJlbGxlbmd0aCl8fC0xIT09ZS5pbmRleE9mKFwiZVwiKSkmJihpPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmRpZ2l0cyksMyE9PWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbikmJjM9PT1pJiYoaT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb24pKSxlPXQudG9FeHBvbmVudGlhbChpKS50b1N0cmluZygpKSxhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5iZWF1dGlmdWxzY2llbnRpZmljdGlja2xhYmVscykmJihlPXRoaXMuYmVhdXRpZnlTY2llbnRpZmljTm90YXRpb25MYWJlbChlKSksZS5pbmRleE9mKFwiLlwiKT4tMSYmLTE9PT1lLmluZGV4T2YoXCJlXCIpJiYoZT0oZT1lLnJlcGxhY2UoLzArJC8sXCJcIikpLnJlcGxhY2UoL1xcLiQvLFwiXCIpKSk6ZT10LnRvU3RyaW5nKCksci5sZW5ndGg+MCYmKFwiMVwiPT09ZT9lPXI6XCItMVwiPT09ZT9lPVwiLVwiK3I6XCIwXCIhPT1lJiYoZSs9cikpLGEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnVzZXVuaWNvZGVtaW51cykmJihlPWUucmVwbGFjZSgvLS9nLFwi4oiSXCIpKSxlfSxiZWF1dGlmeVNjaWVudGlmaWNOb3RhdGlvbkxhYmVsOmZ1bmN0aW9uKHQpe3JldHVybi0xPT09dC5pbmRleE9mKFwiZVwiKT90OihwYXJzZUZsb2F0KHQuc3Vic3RyaW5nKDAsdC5pbmRleE9mKFwiZVwiKSkpK3Quc3Vic3RyaW5nKHQuaW5kZXhPZihcImVcIikpKS5yZXBsYWNlKC9lKC4qKSQvZywoZnVuY3Rpb24odCxlKXt2YXIgaT1cIuKAojEwXCI7cmV0dXJuIGkrPWUucmVwbGFjZSgvLS9nLFwi4oG7XCIpLnJlcGxhY2UoL1xcKy9nLFwiXCIpLnJlcGxhY2UoLzAvZyxcIuKBsFwiKS5yZXBsYWNlKC8xL2csXCLCuVwiKS5yZXBsYWNlKC8yL2csXCLCslwiKS5yZXBsYWNlKC8zL2csXCLCs1wiKS5yZXBsYWNlKC80L2csXCLigbRcIikucmVwbGFjZSgvNS9nLFwi4oG1XCIpLnJlcGxhY2UoLzYvZyxcIuKBtlwiKS5yZXBsYWNlKC83L2csXCLigbdcIikucmVwbGFjZSgvOC9nLFwi4oG4XCIpLnJlcGxhY2UoLzkvZyxcIuKBuVwiKX0pKX0sZ2VuZXJhdGVMYWJlbFRleHQ6ZnVuY3Rpb24odCxpLHIpe3ZhciBzO2lmKCFhLmV4aXN0cyhyKSl7aWYocz10aGlzLmdldERpc3RhbmNlRnJvbVplcm8oaSx0KSxNYXRoLmFicyhzKTxlLmVwcylyZXR1cm5cIjBcIjtyPXMvYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2NhbGUpfXJldHVybiB0aGlzLmZvcm1hdExhYmVsVGV4dChyKX0sZ2VuZXJhdGVMYWJlbERhdGE6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuO3JldHVybiBuPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmxhYmVsLmZvbnRzaXplKSxyPVtlLnNjckNvb3Jkc1sxXSxlLnNjckNvb3Jkc1sxXV0scz1bZS5zY3JDb29yZHNbMl0sZS5zY3JDb29yZHNbMl1dLG89dm9pZCAwPT09bj8xMjpuLG8qPS41LHRoaXMuX2lzSW5zaWRlQ2FudmFzKHIscyxvKT8ocj1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5sYWJlbC5vZmZzZXRbMF0pLHM9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubGFiZWwub2Zmc2V0WzFdKSx7eDplLnVzckNvb3Jkc1sxXStyL3RoaXMuYm9hcmQudW5pdFgseTplLnVzckNvb3Jkc1syXStzL3RoaXMuYm9hcmQudW5pdFksdDp0LGk6aX0pOm51bGx9LHVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlJiYwIT09dGhpcy5ib2FyZC5jYW52YXNXaWR0aCYmMCE9PXRoaXMuYm9hcmQuY2FudmFzSGVpZ2h0JiZ0aGlzLmNhbGN1bGF0ZVRpY2tzQ29vcmRpbmF0ZXMoKSx0aGlzfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPyh0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlVGlja3ModGhpcyksdGhpcy51cGRhdGVSZW5kZXJlckxhYmVscygpLHRoaXMuc2V0RGlzcGxheVJlbmROb2RlKCksdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzKTp0aGlzfSx1cGRhdGVSZW5kZXJlckxhYmVsczpmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbyxuLGw7Zm9yKGk9dGhpcy5sYWJlbHNEYXRhLmxlbmd0aCxyPXRoaXMubGFiZWxzLmxlbmd0aCx0PTAsZT0wO3Q8aTt0KyspbnVsbCE9PXRoaXMubGFiZWxzRGF0YVt0XSYmKG49dGhpcy5sYWJlbHNEYXRhW3RdLGU8cj8oKG89dGhpcy5sYWJlbHNbZV0pLnNldFRleHQobi50KSxvLnNldENvb3JkcyhuLngsbi55KSxlKyspOih0aGlzLmxhYmVsQ291bnRlcis9MSxzPXtpc0xhYmVsOiEwLGxheWVyOnRoaXMuYm9hcmQub3B0aW9ucy5sYXllci5saW5lLGhpZ2hsaWdodFN0cm9rZUNvbG9yOnRoaXMuYm9hcmQub3B0aW9ucy50ZXh0LnN0cm9rZUNvbG9yLGhpZ2hsaWdodFN0cm9rZVdpZHRoOnRoaXMuYm9hcmQub3B0aW9ucy50ZXh0LnN0cm9rZVdpZHRoLGhpZ2hsaWdodFN0cm9rZU9wYWNpdHk6dGhpcy5ib2FyZC5vcHRpb25zLnRleHQuc3Ryb2tlT3BhY2l0eSxwcml2OnRoaXMudmlzUHJvcC5wcml2fSwocz1hLmRlZXBDb3B5KHMsdGhpcy52aXNQcm9wLmxhYmVsKSkuaWQ9dGhpcy5pZCtuLmkrXCJMYWJlbFwiK3RoaXMubGFiZWxDb3VudGVyLG89aC5jcmVhdGVUZXh0KHRoaXMuYm9hcmQsW24ueCxuLnksbi50XSxzKSx0aGlzLmFkZENoaWxkKG8pLG8uc2V0UGFyZW50cyh0aGlzKSxvLmlzRHJhZ2dhYmxlPSExLG8uZHVtcD0hMSx0aGlzLmxhYmVscy5wdXNoKG8pKSxcImluaGVyaXRcIj09PShsPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmxhYmVsLnZpc2libGUpKSYmKGw9dGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlKSxvLnByZXBhcmVVcGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KGwpLnVwZGF0ZVJlbmRlcmVyKCksby5kaXN0YW5jZVg9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubGFiZWwub2Zmc2V0WzBdKSxvLmRpc3RhbmNlWT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5sYWJlbC5vZmZzZXRbMV0pKTtmb3IoZT1pPWU7ZTxyO2UrKyl0aGlzLmJvYXJkLnJlbmRlcmVyLmRpc3BsYXkodGhpcy5sYWJlbHNbZV0sITEpLHRoaXMubGFiZWxzW2VdLnZpc1Byb3AudmlzaWJsZT10aGlzLmxhYmVsc1tlXS52aXNQcm9wQ2FsYy52aXNpYmxlPSExO3JldHVybiB0aGlzfSxoaWRlRWxlbWVudDpmdW5jdGlvbigpe3ZhciBlO2Zvcih0LmRlcHJlY2F0ZWQoXCJFbGVtZW50LmhpZGVFbGVtZW50KClcIixcIkVsZW1lbnQuc2V0RGlzcGxheVJlbmROb2RlKClcIiksdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlPSExLHRoaXMuYm9hcmQucmVuZGVyZXIuZGlzcGxheSh0aGlzLCExKSxlPTA7ZTx0aGlzLmxhYmVscy5sZW5ndGg7ZSsrKWEuZXhpc3RzKHRoaXMubGFiZWxzW2VdKSYmdGhpcy5sYWJlbHNbZV0uaGlkZUVsZW1lbnQoKTtyZXR1cm4gdGhpc30sc2hvd0VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgZTtmb3IodC5kZXByZWNhdGVkKFwiRWxlbWVudC5zaG93RWxlbWVudCgpXCIsXCJFbGVtZW50LnNldERpc3BsYXlSZW5kTm9kZSgpXCIpLHRoaXMudmlzUHJvcENhbGMudmlzaWJsZT0hMCx0aGlzLmJvYXJkLnJlbmRlcmVyLmRpc3BsYXkodGhpcywhMSksZT0wO2U8dGhpcy5sYWJlbHMubGVuZ3RoO2UrKylhLmV4aXN0cyh0aGlzLmxhYmVsc1tlXSkmJnRoaXMubGFiZWxzW2VdLnNob3dFbGVtZW50KCk7cmV0dXJuIHRoaXN9fSksdC5jcmVhdGVUaWNrcz1mdW5jdGlvbihlLGkscil7dmFyIG8sbixoPWEuY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJ0aWNrc1wiKTtpZihuPWkubGVuZ3RoPDI/aC50aWNrc2Rpc3RhbmNlOmlbMV0saVswXS5lbGVtZW50Q2xhc3MhPT1zLk9CSkVDVF9DTEFTU19MSU5FJiZpWzBdLmVsZW1lbnRDbGFzcyE9PXMuT0JKRUNUX0NMQVNTX0NVUlZFKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgVGlja3Mgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJy5cIik7cmV0dXJuIG89bmV3IHQuVGlja3MoaVswXSxuLGgpLGEuaXNGdW5jdGlvbihoLmdlbmVyYXRlbGFiZWx2YWx1ZSkmJihvLmdlbmVyYXRlTGFiZWxUZXh0PWguZ2VuZXJhdGVsYWJlbHZhbHVlKSxhLmlzRnVuY3Rpb24oaC5nZW5lcmF0ZWxhYmVsdGV4dCkmJihvLmdlbmVyYXRlTGFiZWxUZXh0PWguZ2VuZXJhdGVsYWJlbHRleHQpLG8uc2V0UGFyZW50cyhpWzBdKSxvLmlzRHJhZ2dhYmxlPSEwLG8uZnVsbFVwZGF0ZShpWzBdLnZpc1Byb3BDYWxjLnZpc2libGUpLG99LHQuY3JlYXRlSGF0Y2htYXJrPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixvLG4saCxsLGM9W10sZD1hLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiaGF0Y2hcIik7aWYoZVswXS5lbGVtZW50Q2xhc3MhPT1zLk9CSkVDVF9DTEFTU19MSU5FJiZlWzBdLmVsZW1lbnRDbGFzcyE9PXMuT0JKRUNUX0NMQVNTX0NVUlZFfHxcIm51bWJlclwiIT10eXBlb2YgZVsxXSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIEhhdGNoIG1hcmsgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiIGFuZCAnJ1wiK3R5cGVvZiBlWzJdK1wiJy5cIik7Zm9yKG49LjUqLSgoKHI9ZVsxXSktMSkqKGg9ZC50aWNrc2Rpc3RhbmNlKSksbz0wO288cjtvKyspY1tvXT1uK28qaDtyZXR1cm4obD10LmNyZWF0ZShcInRpY2tzXCIsW2VbMF0sY10sZCkpLmVsVHlwZT1cImhhdGNoXCIsbH0sdC5yZWdpc3RlckVsZW1lbnQoXCJ0aWNrc1wiLHQuY3JlYXRlVGlja3MpLHQucmVnaXN0ZXJFbGVtZW50KFwiaGFzaFwiLHQuY3JlYXRlSGF0Y2htYXJrKSx0LnJlZ2lzdGVyRWxlbWVudChcImhhdGNoXCIsdC5jcmVhdGVIYXRjaG1hcmspLHtUaWNrczp0LlRpY2tzLGNyZWF0ZVRpY2tzOnQuY3JlYXRlVGlja3MsY3JlYXRlSGFzaG1hcms6dC5jcmVhdGVIYXRjaG1hcmssY3JlYXRlSGF0Y2htYXJrOnQuY3JlYXRlSGF0Y2htYXJrfX0pKSxkZWZpbmUoXCJwYXJzZXIvY2FcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL3RleHRcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwibWF0aC9zdGF0aXN0aWNzXCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy9lbnZcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ0E9ZnVuY3Rpb24odCxlLGkpe3RoaXMubm9kZT10LHRoaXMuY3JlYXRlTm9kZT1lLHRoaXMucGFyc2VyPWl9LHQuZXh0ZW5kKHQuQ0EucHJvdG90eXBlLHtmaW5kTWFwTm9kZTpmdW5jdGlvbih0LGUpe3ZhciBpLHIscztpZihcIm9wX2Fzc2lnblwiPT09ZS52YWx1ZSYmZS5jaGlsZHJlblswXS52YWx1ZT09PXQpcmV0dXJuIGUuY2hpbGRyZW5bMV07aWYoZS5jaGlsZHJlbilmb3Iocj1lLmNoaWxkcmVuLmxlbmd0aCxpPTA7aTxyOysraSlpZihudWxsIT09KHM9dGhpcy5maW5kTWFwTm9kZSh0LGUuY2hpbGRyZW5baV0pKSlyZXR1cm4gcztyZXR1cm4gbnVsbH0sc2V0TWF0aDpmdW5jdGlvbih0KXt2YXIgZSxpO2lmKChcIm5vZGVfb3BcIiE9dC50eXBlfHxcIm9wX2FkZFwiIT10LnZhbHVlJiZcIm9wX3N1YlwiIT10LnZhbHVlJiZcIm9wX211bFwiIT10LnZhbHVlJiZcIm9wX2RpdlwiIT10LnZhbHVlJiZcIm9wX25lZ1wiIT10LnZhbHVlJiZcIm9wX2V4ZWNmdW5cIiE9dC52YWx1ZSYmXCJvcF9leHBcIiE9dC52YWx1ZSkmJlwibm9kZV92YXJcIiE9dC50eXBlJiZcIm5vZGVfY29uc3RcIiE9dC50eXBlfHwodC5pc01hdGg9ITApLHQuY2hpbGRyZW4pZm9yKGk9dC5jaGlsZHJlbi5sZW5ndGgsZT0wO2U8aTsrK2UpdGhpcy5zZXRNYXRoKHQuY2hpbGRyZW5bZV0pfSxkZXJpdmVFbGVtZW50YXJ5OmZ1bmN0aW9uKHQsZSl7dmFyIGkscj10LmNoaWxkcmVuWzBdLnZhbHVlLHM9dC5jaGlsZHJlblsxXTtzd2l0Y2gocil7Y2FzZVwiYWJzXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIixzWzBdLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2V4ZWNmdW5cIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX3ZhclwiLFwic3FydFwiKSxbdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weShzWzBdKSxuLmRlZXBDb3B5KHNbMF0pKV0pKTticmVhaztjYXNlXCJzcXJ0XCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDIpLHRoaXMuY3JlYXRlTm9kZSh0LnR5cGUsdC52YWx1ZSxuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMF0pLG4uZGVlcENvcHkodC5jaGlsZHJlblsxXSkpKSk7YnJlYWs7Y2FzZVwic2luXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcImNvc1wiKSxuLmRlZXBDb3B5KHMpKTticmVhaztjYXNlXCJjb3NcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX25lZ1wiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2V4ZWNmdW5cIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX3ZhclwiLFwic2luXCIpLG4uZGVlcENvcHkocykpKTticmVhaztjYXNlXCJ0YW5cIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leHBcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcImNvc1wiKSxuLmRlZXBDb3B5KHMpKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMikpKTticmVhaztjYXNlXCJjb3RcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX25lZ1wiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leHBcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcInNpblwiKSxuLmRlZXBDb3B5KHMpKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMikpKSk7YnJlYWs7Y2FzZVwiZXhwXCI6aT10aGlzLmNyZWF0ZU5vZGUodC50eXBlLHQudmFsdWUsbi5kZWVwQ29weSh0LmNoaWxkcmVuWzBdKSxuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMV0pKTticmVhaztjYXNlXCJwb3dcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2V4ZWNmdW5cIixuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMF0pLG4uZGVlcENvcHkodC5jaGlsZHJlblsxXSkpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2FkZFwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHRoaXMuZGVyaXZhdGl2ZSh0LmNoaWxkcmVuWzFdWzBdLGUpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLG4uZGVlcENvcHkodC5jaGlsZHJlblsxXVsxXSksbi5kZWVwQ29weSh0LmNoaWxkcmVuWzFdWzBdKSkpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHRoaXMuZGVyaXZhdGl2ZSh0LmNoaWxkcmVuWzFdWzFdLGUpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2V4ZWNmdW5cIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX3ZhclwiLFwibG9nXCIpLFtuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMV1bMF0pXSkpKSk7YnJlYWs7Y2FzZVwibG9nXCI6Y2FzZVwibG5cIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSxuLmRlZXBDb3B5KHNbMF0pKTticmVhaztjYXNlXCJsb2cyXCI6Y2FzZVwibGJcIjpjYXNlXCJsZFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLG4uZGVlcENvcHkoc1swXSkpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxLjQ0MjY5NTA0MDg4ODk2MzQpKTticmVhaztjYXNlXCJsb2cxMFwiOmNhc2VcImxnXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksbi5kZWVwQ29weShzWzBdKSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLC40MzQyOTQ0ODE5MDMyNTE3NikpO2JyZWFrO2Nhc2VcImFzaW5cIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcInNxcnRcIiksW3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX3N1YlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIixuLmRlZXBDb3B5KHNbMF0pLG4uZGVlcENvcHkoc1swXSkpKV0pKTticmVhaztjYXNlXCJhY29zXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9uZWdcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJzcXJ0XCIpLFt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9zdWJcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weShzWzBdKSxuLmRlZXBDb3B5KHNbMF0pKSldKSkpO2JyZWFrO2Nhc2VcImF0YW5cIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9hZGRcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weShzWzBdKSxuLmRlZXBDb3B5KHNbMF0pKSkpO2JyZWFrO2Nhc2VcImFjb3RcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX25lZ1wiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9hZGRcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weShzWzBdKSxuLmRlZXBDb3B5KHNbMF0pKSkpKTticmVhaztjYXNlXCJzaW5oXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcImNvc2hcIiksW24uZGVlcENvcHkoc1swXSldKTticmVhaztjYXNlXCJjb3NoXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcInNpbmhcIiksW24uZGVlcENvcHkoc1swXSldKTticmVhaztjYXNlXCJ0YW5oXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9zdWJcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhwXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJ0YW5oXCIpLFtuLmRlZXBDb3B5KHNbMF0pXSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDIpKSk7YnJlYWs7Y2FzZVwiYXNpbmhcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcInNxcnRcIiksW3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2FkZFwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkoc1swXSksbi5kZWVwQ29weShzWzBdKSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpKV0pKTticmVhaztjYXNlXCJhY29zaFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2V4ZWNmdW5cIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX3ZhclwiLFwic3FydFwiKSxbdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3Bfc3ViXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weShzWzBdKSxuLmRlZXBDb3B5KHNbMF0pKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSkpXSkpO2JyZWFrO2Nhc2VcImF0YW5oXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3Bfc3ViXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkoc1swXSksbi5kZWVwQ29weShzWzBdKSkpKTticmVhaztkZWZhdWx0OnRocm93IGk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDApLGNvbnNvbGUubG9nKCdEZXJpdmF0aXZlIG9mIFwiJytyKydcIiBub3QgeWV0IGltcGxlbWVudGVkJyksbmV3IEVycm9yKFwiRXJyb3IoXCIrdGhpcy5saW5lK1wiKTogXCIpfXJldHVybiBpfSxkZXJpdmF0aXZlOmZ1bmN0aW9uKHQsZSl7dmFyIGk7c3dpdGNoKHQudHlwZSl7Y2FzZVwibm9kZV9vcFwiOnN3aXRjaCh0LnZhbHVlKXtjYXNlXCJvcF9leGVjZnVuXCI6aT1cInBvd1wiPT10LmNoaWxkcmVuWzBdLnZhbHVlP3RoaXMuZGVyaXZlRWxlbWVudGFyeSh0LGUpOjA9PT10LmNoaWxkcmVuWzFdLmxlbmd0aD90aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMCk6dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsdGhpcy5kZXJpdmVFbGVtZW50YXJ5KHQsZSksdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMV1bMF0sZSkpO2JyZWFrO2Nhc2VcIm9wX2RpdlwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3Bfc3ViXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMF0sZSksbi5kZWVwQ29weSh0LmNoaWxkcmVuWzFdKSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weSh0LmNoaWxkcmVuWzBdKSx0aGlzLmRlcml2YXRpdmUodC5jaGlsZHJlblsxXSxlKSkpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkodC5jaGlsZHJlblsxXSksbi5kZWVwQ29weSh0LmNoaWxkcmVuWzFdKSkpO2JyZWFrO2Nhc2VcIm9wX211bFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weSh0LmNoaWxkcmVuWzBdKSx0aGlzLmRlcml2YXRpdmUodC5jaGlsZHJlblsxXSxlKSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMF0sZSksbi5kZWVwQ29weSh0LmNoaWxkcmVuWzFdKSkpO2JyZWFrO2Nhc2VcIm9wX25lZ1wiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbmVnXCIsdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMF0sZSkpO2JyZWFrO2Nhc2VcIm9wX2FkZFwiOmNhc2VcIm9wX3N1YlwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLHQudmFsdWUsdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMF0sZSksdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMV0sZSkpO2JyZWFrO2Nhc2VcIm9wX2V4cFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weSh0KSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9hZGRcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIix0aGlzLmRlcml2YXRpdmUodC5jaGlsZHJlblswXSxlKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIixuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMV0pLG4uZGVlcENvcHkodC5jaGlsZHJlblswXSkpKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIix0aGlzLmRlcml2YXRpdmUodC5jaGlsZHJlblsxXSxlKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcImxvZ1wiKSxbbi5kZWVwQ29weSh0LmNoaWxkcmVuWzBdKV0pKSkpfWJyZWFrO2Nhc2VcIm5vZGVfdmFyXCI6aT10LnZhbHVlPT09ZT90aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSk6dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDApO2JyZWFrO2Nhc2VcIm5vZGVfY29uc3RcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwwKX1yZXR1cm4gaX0sZXhwYW5kRGVyaXZhdGl2ZXM6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxhLGgsbCxjLGQsdSxwLGY7aWYoMCwhdClyZXR1cm4gMDtmb3IodGhpcy5saW5lPXQubGluZSx0aGlzLmNvbD10LmNvbCxyPXQuY2hpbGRyZW4ubGVuZ3RoLHM9MDtzPHI7KytzKWlmKHQuY2hpbGRyZW5bc10mJnQuY2hpbGRyZW5bc10udHlwZSl0LmNoaWxkcmVuW3NdPXRoaXMuZXhwYW5kRGVyaXZhdGl2ZXModC5jaGlsZHJlbltzXSx0LGkpO2Vsc2UgaWYobi5pc0FycmF5KHQuY2hpbGRyZW5bc10pKWZvcihvPTA7bzx0LmNoaWxkcmVuW3NdLmxlbmd0aDsrK28pdC5jaGlsZHJlbltzXVtvXSYmdC5jaGlsZHJlbltzXVtvXS50eXBlJiYodC5jaGlsZHJlbltzXVtvXT10aGlzLmV4cGFuZERlcml2YXRpdmVzKHQuY2hpbGRyZW5bc11bb10sdCxpKSk7aWYoXCJub2RlX29wXCI9PT10LnR5cGUpaWYoXCJvcF9leGVjZnVuXCI9PT10LnZhbHVlKWlmKHQuY2hpbGRyZW5bMF0mJlwiRFwiPT09dC5jaGlsZHJlblswXS52YWx1ZSl7aWYoXCJub2RlX3ZhclwiPT10LmNoaWxkcmVuWzFdWzBdLnR5cGU/KGQ9dC5jaGlsZHJlblsxXVswXS52YWx1ZSxwPShhPXRoaXMuZmluZE1hcE5vZGUoZCxpKSkuY2hpbGRyZW5bMF0sdT10LmNoaWxkcmVuWzFdLmxlbmd0aD49Mj90LmNoaWxkcmVuWzFdWzFdLnZhbHVlOmEuY2hpbGRyZW5bMF1bMF0saD1hLmNoaWxkcmVuWzFdKTooaD10LmNoaWxkcmVuWzFdWzBdLHA9W1wieFwiXSx1PXQuY2hpbGRyZW5bMV0ubGVuZ3RoPj0yP3QuY2hpbGRyZW5bMV1bMV0udmFsdWU6XCJ4XCIpLGM9aCwoZj10LmNoaWxkcmVuWzFdLmxlbmd0aD49Mz90LmNoaWxkcmVuWzFdWzJdLnZhbHVlOjEpPj0xKWZvcig7Zj49MTspYz10aGlzLmRlcml2YXRpdmUoYyx1KSxjPXRoaXMucmVtb3ZlVHJpdmlhbE5vZGVzKGMpLGYtLTtsPVwibm9kZV9vcFwiPT1lLnR5cGUmJlwib3BfYXNzaWduXCI9PWUudmFsdWU/dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbWFwXCIscCxjKTpjLHRoaXMuc2V0TWF0aChsKSx0LnR5cGU9bC50eXBlLHQudmFsdWU9bC52YWx1ZSx0LmNoaWxkcmVuWzBdPWwuY2hpbGRyZW5bMF0sdC5jaGlsZHJlblsxXT1sLmNoaWxkcmVuWzFdfXJldHVybiB0fSxyZW1vdmVUcml2aWFsTm9kZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbztpZihuLmlzQXJyYXkodCkpZm9yKGk9dC5sZW5ndGgsZT0wO2U8aTsrK2UpdFtlXT10aGlzLnJlbW92ZVRyaXZpYWxOb2Rlcyh0W2VdKTtpZihcIm5vZGVfb3BcIiE9dC50eXBlfHwhdC5jaGlsZHJlbilyZXR1cm4gdDtmb3IoaT10LmNoaWxkcmVuLmxlbmd0aCxlPTA7ZTxpOysrZSl7dGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITE7ZG97dC5jaGlsZHJlbltlXT10aGlzLnJlbW92ZVRyaXZpYWxOb2Rlcyh0LmNoaWxkcmVuW2VdKX13aGlsZSh0aGlzLm1heU5vdEJlU2ltcGxpZmllZCl9c3dpdGNoKHQudmFsdWUpe2Nhc2VcIm9wX21hcFwiOmlmKHI9dC5jaGlsZHJlblswXSxcIm5vZGVfdmFyXCI9PShzPXQuY2hpbGRyZW5bMV0pLnR5cGUpZm9yKGU9MDtlPHIubGVuZ3RoOysrZSlpZihyW2VdPT1zLnZhbHVlKXtzLmlzTWF0aD0hMDticmVha31icmVhaztjYXNlXCJvcF9hZGRcIjppZihyPXQuY2hpbGRyZW5bMF0scz10LmNoaWxkcmVuWzFdLFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJjA9PT1yLnZhbHVlKXJldHVybiBzO2lmKFwibm9kZV9jb25zdFwiPT1zLnR5cGUmJjA9PT1zLnZhbHVlKXJldHVybiByO2lmKFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJlwibm9kZV9jb25zdFwiPT1zLnR5cGUpcmV0dXJuIHIudmFsdWUrPXMudmFsdWUscjticmVhaztjYXNlXCJvcF9tdWxcIjppZihyPXQuY2hpbGRyZW5bMF0scz10LmNoaWxkcmVuWzFdLFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJjE9PXIudmFsdWUpcmV0dXJuIHM7aWYoXCJub2RlX2NvbnN0XCI9PXMudHlwZSYmMT09cy52YWx1ZSlyZXR1cm4gcjtpZihcIm5vZGVfY29uc3RcIj09ci50eXBlJiYwPT09ci52YWx1ZSlyZXR1cm4gcjtpZihcIm5vZGVfY29uc3RcIj09cy50eXBlJiYwPT09cy52YWx1ZSlyZXR1cm4gcztpZihcIm5vZGVfY29uc3RcIj09cy50eXBlJiYwPT09cy52YWx1ZSlyZXR1cm4gcztpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX25lZ1wiPT1yLnZhbHVlJiZcIm5vZGVfb3BcIj09cy50eXBlJiZcIm9wX25lZ1wiPT1zLnZhbHVlKXJldHVybiB0LmNoaWxkcmVuPVtyLmNoaWxkcmVuWzBdLHMuY2hpbGRyZW5bMF1dLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJvcF9uZWdcIj09ci52YWx1ZSYmXCJvcF9uZWdcIiE9cy52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9vcFwiLHQudmFsdWU9XCJvcF9uZWdcIix0LmNoaWxkcmVuPVt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIixyLmNoaWxkcmVuWzBdLHMpXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwib3BfbmVnXCIhPXIudmFsdWUmJlwib3BfbmVnXCI9PXMudmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfb3BcIix0LnZhbHVlPVwib3BfbmVnXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIscixzLmNoaWxkcmVuWzBdKV0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm9wX2RpdlwiPT1yLnZhbHVlJiZcIm5vZGVfY29uc3RcIj09ci5jaGlsZHJlblswXS50eXBlJiYxPT1yLmNoaWxkcmVuWzBdLnZhbHVlKXJldHVybiB0LnR5cGU9XCJub2RlX29wXCIsdC52YWx1ZT1cIm9wX2RpdlwiLHQuY2hpbGRyZW49W3Msci5jaGlsZHJlblsxXV0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm9wX2RpdlwiPT1zLnZhbHVlJiZcIm5vZGVfY29uc3RcIj09cy5jaGlsZHJlblswXS50eXBlJiYxPT1zLmNoaWxkcmVuWzBdLnZhbHVlKXJldHVybiB0LnR5cGU9XCJub2RlX29wXCIsdC52YWx1ZT1cIm9wX2RpdlwiLHQuY2hpbGRyZW49W3Iscy5jaGlsZHJlblsxXV0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm5vZGVfY29uc3RcIiE9ci50eXBlJiZcIm5vZGVfY29uc3RcIj09cy50eXBlKXJldHVybiB0LmNoaWxkcmVuPVtzLHJdLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX2NvbnN0XCIhPXIudHlwZSYmXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9uZWdcIj09cy52YWx1ZSYmXCJub2RlX2NvbnN0XCI9PXMuY2hpbGRyZW5bMF0udHlwZSlyZXR1cm4gdC5jaGlsZHJlbj1bcyxyXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfZXhlY2Z1blwiIT1yLnZhbHVlJiYoXCJub2RlX3ZhclwiPT1zLnR5cGV8fFwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfZXhlY2Z1blwiPT1zLnZhbHVlKSlyZXR1cm4gdC5jaGlsZHJlbj1bcyxyXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9vcFwiIT1yLnR5cGUmJlwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfbmVnXCI9PXMudmFsdWUmJlwibm9kZV92YXJcIj09cy5jaGlsZHJlblswXS50eXBlKXJldHVybiB0LmNoaWxkcmVuPVtzLHJdLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX2NvbnN0XCIhPXIudHlwZSYmXCJub2RlX29wXCI9PXMudHlwZSYmKFwib3BfbXVsXCI9PXMudmFsdWV8fFwib3BfZGl2XCI9PXMudmFsdWUpJiZcIm5vZGVfY29uc3RcIj09cy5jaGlsZHJlblswXS50eXBlKXJldHVybiBvPXMuY2hpbGRyZW5bMF0scy5jaGlsZHJlblswXT1yLHQuY2hpbGRyZW49W28sc10sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm5vZGVfY29uc3RcIiE9cy50eXBlJiZcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX211bFwiPT1yLnZhbHVlJiZcIm5vZGVfY29uc3RcIj09ci5jaGlsZHJlblswXS50eXBlKXJldHVybiB0LmNoaWxkcmVuPVtyLmNoaWxkcmVuWzBdLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHIuY2hpbGRyZW5bMV0scyldLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmXCJub2RlX2NvbnN0XCI9PXMudHlwZSlyZXR1cm4gci52YWx1ZSo9cy52YWx1ZSxyO2lmKFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJlwibm9kZV9vcFwiPT1zLnR5cGUmJihcIm9wX211bFwiPT1zLnZhbHVlfHxcIm9wX2RpdlwiPT1zLnZhbHVlKSYmXCJub2RlX2NvbnN0XCI9PXMuY2hpbGRyZW5bMF0udHlwZSlyZXR1cm4gcy5jaGlsZHJlblswXS52YWx1ZSo9ci52YWx1ZSxzO2lmKHIuaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIpLHMuaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHMpLHIuaGFzaD09PXMuaGFzaClyZXR1cm4gdC52YWx1ZT1cIm9wX2V4cFwiLHQuY2hpbGRyZW5bMV09dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDIpLHQ7aWYoXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmXCJub2RlX29wXCI9PXMudHlwZSYmKFwib3BfbXVsXCI9PXMudmFsdWV8fFwib3BfZGl2XCI9PXMudmFsdWUpJiZcIm5vZGVfY29uc3RcIj09cy5jaGlsZHJlblswXS50eXBlKXJldHVybiBzLmNoaWxkcmVuWzBdLnZhbHVlKj1yLnZhbHVlLHM7aWYoXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9leHBcIj09cy52YWx1ZSYmKHIuaGFzaHx8KHIuaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIpKSxzLmNoaWxkcmVuWzBdLmhhc2h8fChzLmNoaWxkcmVuWzBdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShzLmNoaWxkcmVuWzBdKSksci5oYXNoPT09cy5jaGlsZHJlblswXS5oYXNoKSlyZXR1cm4gcy5jaGlsZHJlblsxXT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9hZGRcIixzLmNoaWxkcmVuWzFdLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSksdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAscztpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX2V4cFwiPT1yLnZhbHVlJiZcIm5vZGVfb3BcIj09cy50eXBlJiZcIm9wX2V4cFwiPT1zLnZhbHVlJiYoci5jaGlsZHJlblswXS5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUoci5jaGlsZHJlblswXSkscy5jaGlsZHJlblswXS5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUocy5jaGlsZHJlblswXSksci5jaGlsZHJlblswXS5oYXNoPT09cy5jaGlsZHJlblswXS5oYXNoKSlyZXR1cm4gci5jaGlsZHJlblsxXT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9hZGRcIixyLmNoaWxkcmVuWzFdLHMuY2hpbGRyZW5bMV0pLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHI7YnJlYWs7Y2FzZVwib3Bfc3ViXCI6aWYocj10LmNoaWxkcmVuWzBdLHM9dC5jaGlsZHJlblsxXSxcIm5vZGVfY29uc3RcIj09ci50eXBlJiYwPT09ci52YWx1ZSlyZXR1cm4gdC52YWx1ZT1cIm9wX25lZ1wiLHQuY2hpbGRyZW5bMF09cyx0O2lmKFwibm9kZV9jb25zdFwiPT1zLnR5cGUmJjA9PT1zLnZhbHVlKXJldHVybiByO2lmKFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJlwibm9kZV9jb25zdFwiPT1zLnR5cGUmJnIudmFsdWU9PXMudmFsdWUpcmV0dXJuIHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwwKTtpZihcIm5vZGVfdmFyXCI9PXIudHlwZSYmXCJub2RlX3ZhclwiPT1zLnR5cGUmJnIudmFsdWU9PXMudmFsdWUpcmV0dXJuIHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwwKTtpZihcIm5vZGVfY29uc3RcIj09ci50eXBlJiZcIm5vZGVfY29uc3RcIj09cy50eXBlKXJldHVybiByLnZhbHVlLT1zLnZhbHVlLHI7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9tdWxcIj09ci52YWx1ZSYmXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9tdWxcIj09cy52YWx1ZSYmKHIuY2hpbGRyZW5bMV0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIuY2hpbGRyZW5bMV0pLHMuY2hpbGRyZW5bMV0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHMuY2hpbGRyZW5bMV0pLHIuY2hpbGRyZW5bMV0uaGFzaD09PXMuY2hpbGRyZW5bMV0uaGFzaCkpcmV0dXJuIHQudmFsdWU9XCJvcF9tdWxcIix0LmNoaWxkcmVuPVt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9zdWJcIixyLmNoaWxkcmVuWzBdLHMuY2hpbGRyZW5bMF0pLHIuY2hpbGRyZW5bMV1dLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9tdWxcIj09ci52YWx1ZSYmKHIuY2hpbGRyZW5bMV0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIuY2hpbGRyZW5bMV0pLHMuaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHMpLHIuY2hpbGRyZW5bMV0uaGFzaD09PXMuaGFzaCkpcmV0dXJuIHQudmFsdWU9XCJvcF9tdWxcIix0LmNoaWxkcmVuPVt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9zdWJcIixyLmNoaWxkcmVuWzBdLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSksc10sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm5vZGVfb3BcIj09cy50eXBlJiZcIm9wX211bFwiPT1zLnZhbHVlJiYocy5jaGlsZHJlblsxXS5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUocy5jaGlsZHJlblsxXSksci5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUocikscy5jaGlsZHJlblsxXS5oYXNoPT09ci5oYXNoKSlyZXR1cm4gdC52YWx1ZT1cIm9wX211bFwiLHQuY2hpbGRyZW49W3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX3N1YlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSxzLmNoaWxkcmVuWzBdKSxyXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2JyZWFrO2Nhc2VcIm9wX25lZ1wiOmlmKFwibm9kZV9jb25zdFwiPT0ocj10LmNoaWxkcmVuWzBdKS50eXBlJiYwPT09ci52YWx1ZSlyZXR1cm4gcjtpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX25lZ1wiPT1yLnZhbHVlKXJldHVybiByLmNoaWxkcmVuWzBdO2JyZWFrO2Nhc2VcIm9wX2RpdlwiOmlmKHI9dC5jaGlsZHJlblswXSxzPXQuY2hpbGRyZW5bMV0sXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmXCJub2RlX2NvbnN0XCI9PXMudHlwZSYmci52YWx1ZT09cy52YWx1ZSYmMCE9PXIudmFsdWUpcmV0dXJuIHIudmFsdWU9MSxyO2lmKFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJjA9PT1yLnZhbHVlJiZcIm5vZGVfY29uc3RcIj09cy50eXBlJiYwIT09cy52YWx1ZSlyZXR1cm4gci52YWx1ZT0wLHI7aWYoXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmMD09PXIudmFsdWUmJihcIm5vZGVfb3BcIj09cy50eXBlfHxcIm5vZGVfdmFyXCI9PXMudHlwZSkpcmV0dXJuIHQudHlwZT1cIm5vZGVfY29uc3RcIix0LnZhbHVlPTAsdDtpZihcIm5vZGVfdmFyXCI9PXIudHlwZSYmXCJub2RlX3ZhclwiPT1zLnR5cGUmJnIudmFsdWU9PXMudmFsdWUpcmV0dXJuIHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKTtpZihcIm5vZGVfY29uc3RcIj09ci50eXBlJiYwIT09ci52YWx1ZSYmXCJub2RlX2NvbnN0XCI9PXMudHlwZSYmMD09PXMudmFsdWUpcmV0dXJuIHIudmFsdWU+MD9yLnZhbHVlPTEvMDpyLnZhbHVlPS0xLzAscjtpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX25lZ1wiPT1yLnZhbHVlJiZcIm5vZGVfb3BcIj09cy50eXBlJiZcIm9wX25lZ1wiPT1zLnZhbHVlKXJldHVybiB0LmNoaWxkcmVuPVtyLmNoaWxkcmVuWzBdLHMuY2hpbGRyZW5bMF1dLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJvcF9uZWdcIj09ci52YWx1ZSYmXCJvcF9uZWdcIiE9cy52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9vcFwiLHQudmFsdWU9XCJvcF9uZWdcIix0LmNoaWxkcmVuPVt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIixyLmNoaWxkcmVuWzBdLHMpXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwib3BfbmVnXCIhPXIudmFsdWUmJlwib3BfbmVnXCI9PXMudmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfb3BcIix0LnZhbHVlPVwib3BfbmVnXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIscixzLmNoaWxkcmVuWzBdKV0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX2V4cFwiPT1yLnZhbHVlJiYocy5oYXNofHwocy5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUocykpLHIuY2hpbGRyZW5bMF0uaGFzaHx8KHIuY2hpbGRyZW5bMF0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIuY2hpbGRyZW5bMF0pKSxzLmhhc2g9PT1yLmNoaWxkcmVuWzBdLmhhc2gpKXJldHVybiByLmNoaWxkcmVuWzFdPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX3N1YlwiLHIuY2hpbGRyZW5bMV0sdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpKSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCxyO2lmKFwibm9kZV9jb25zdFwiIT1zLnR5cGUmJlwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfbXVsXCI9PXIudmFsdWUmJlwibm9kZV9jb25zdFwiPT1yLmNoaWxkcmVuWzBdLnR5cGUpcmV0dXJuIHQudmFsdWU9XCJvcF9tdWxcIix0LmNoaWxkcmVuPVtyLmNoaWxkcmVuWzBdLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHIuY2hpbGRyZW5bMV0scyldLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9leHBcIj09ci52YWx1ZSYmXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9leHBcIj09cy52YWx1ZSYmKHIuY2hpbGRyZW5bMF0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIuY2hpbGRyZW5bMF0pLHMuY2hpbGRyZW5bMF0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHMuY2hpbGRyZW5bMF0pLHIuY2hpbGRyZW5bMF0uaGFzaD09PXMuY2hpbGRyZW5bMF0uaGFzaCkpcmV0dXJuIHIuY2hpbGRyZW5bMV09dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3Bfc3ViXCIsci5jaGlsZHJlblsxXSxzLmNoaWxkcmVuWzFdKSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCxyO2JyZWFrO2Nhc2VcIm9wX2V4cFwiOmlmKHI9dC5jaGlsZHJlblswXSxcIm5vZGVfY29uc3RcIj09KHM9dC5jaGlsZHJlblsxXSkudHlwZSYmMD09PXMudmFsdWUpcmV0dXJuIHMudmFsdWU9MSxzO2lmKFwibm9kZV9jb25zdFwiPT1zLnR5cGUmJjE9PXMudmFsdWUpcmV0dXJuIHI7aWYoXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmMT09ci52YWx1ZSlyZXR1cm4gcjtpZihcIm5vZGVfY29uc3RcIj09ci50eXBlJiYwPT09ci52YWx1ZSYmXCJub2RlX2NvbnN0XCI9PXMudHlwZSYmMCE9PXMudmFsdWUpcmV0dXJuIHI7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9leHBcIj09ci52YWx1ZSlyZXR1cm4gdC5jaGlsZHJlbj1bci5jaGlsZHJlblswXSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIixyLmNoaWxkcmVuWzFdLHMpXSx0fXN3aXRjaCh0LnZhbHVlKXtjYXNlXCJvcF9hZGRcIjppZihyPXQuY2hpbGRyZW5bMF0scz10LmNoaWxkcmVuWzFdLFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJlwibm9kZV9jb25zdFwiPT1zLnR5cGUmJnIudmFsdWU9PXMudmFsdWUpcmV0dXJuIHIudmFsdWUrPXMudmFsdWUscjtpZihcIm5vZGVfdmFyXCI9PXIudHlwZSYmXCJub2RlX3ZhclwiPT1zLnR5cGUmJnIudmFsdWU9PXMudmFsdWUpcmV0dXJuIHQuY2hpbGRyZW5bMF09dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDIpLHQudmFsdWU9XCJvcF9tdWxcIix0O2lmKFwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfbmVnXCI9PXIudmFsdWUpcmV0dXJuIHQudmFsdWU9XCJvcF9zdWJcIix0LmNoaWxkcmVuWzBdPXMsdC5jaGlsZHJlblsxXT1yLmNoaWxkcmVuWzBdLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9uZWdcIj09cy52YWx1ZSlyZXR1cm4gdC52YWx1ZT1cIm9wX3N1YlwiLHQuY2hpbGRyZW5bMV09cy5jaGlsZHJlblswXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfbXVsXCI9PXIudmFsdWUmJlwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfbXVsXCI9PXMudmFsdWUmJihyLmNoaWxkcmVuWzFdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyLmNoaWxkcmVuWzFdKSxzLmNoaWxkcmVuWzFdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShzLmNoaWxkcmVuWzFdKSxyLmNoaWxkcmVuWzFdLmhhc2g9PT1zLmNoaWxkcmVuWzFdLmhhc2gpKXJldHVybiB0LnZhbHVlPVwib3BfbXVsXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIsci5jaGlsZHJlblswXSxzLmNoaWxkcmVuWzBdKSxyLmNoaWxkcmVuWzFdXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfbXVsXCI9PXIudmFsdWUmJihyLmNoaWxkcmVuWzFdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyLmNoaWxkcmVuWzFdKSxzLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShzKSxyLmNoaWxkcmVuWzFdLmhhc2g9PT1zLmhhc2gpKXJldHVybiB0LnZhbHVlPVwib3BfbXVsXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIsci5jaGlsZHJlblswXSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSkpLHNdLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9tdWxcIj09cy52YWx1ZSYmKHMuY2hpbGRyZW5bMV0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHMuY2hpbGRyZW5bMV0pLHIuaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIpLHMuY2hpbGRyZW5bMV0uaGFzaD09PXIuaGFzaCkpcmV0dXJuIHQudmFsdWU9XCJvcF9tdWxcIix0LmNoaWxkcmVuPVt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9hZGRcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSkscy5jaGlsZHJlblswXSkscl0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDticmVhaztjYXNlXCJvcF9zdWJcIjppZihyPXQuY2hpbGRyZW5bMF0sXCJub2RlX29wXCI9PShzPXQuY2hpbGRyZW5bMV0pLnR5cGUmJlwib3BfbmVnXCI9PXMudmFsdWUpcmV0dXJuIHQudmFsdWU9XCJvcF9hZGRcIix0LmNoaWxkcmVuWzFdPXMuY2hpbGRyZW5bMF0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDticmVhaztjYXNlXCJvcF9leGVjZnVuXCI6cmV0dXJuIHRoaXMuc2ltcGxpZnlFbGVtZW50YXJ5KHQpfXJldHVybiB0fSxzaW1wbGlmeUVsZW1lbnRhcnk6ZnVuY3Rpb24odCl7dmFyIGU9dC5jaGlsZHJlblswXS52YWx1ZSxpPXQuY2hpbGRyZW5bMV07aWYoMD09aS5sZW5ndGgpcmV0dXJuIHQ7c3dpdGNoKGUpe2Nhc2VcInNpblwiOmNhc2VcInRhblwiOmlmKFwibm9kZV9jb25zdFwiPT1pWzBdLnR5cGUmJjA9PT1pWzBdLnZhbHVlKXJldHVybiB0LnR5cGU9XCJub2RlX2NvbnN0XCIsdC52YWx1ZT0wLHQ7aWYoXCJub2RlX3ZhclwiPT1pWzBdLnR5cGUmJlwiUElcIj09aVswXS52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9jb25zdFwiLHQudmFsdWU9MCx0O2lmKFwibm9kZV9vcFwiPT1pWzBdLnR5cGUmJlwib3BfbXVsXCI9PWlbMF0udmFsdWUmJlwibm9kZV9jb25zdFwiPT1pWzBdLmNoaWxkcmVuWzBdLnR5cGUmJmlbMF0uY2hpbGRyZW5bMF0udmFsdWUlMT09MCYmXCJub2RlX3ZhclwiPT1pWzBdLmNoaWxkcmVuWzFdLnR5cGUmJlwiUElcIj09aVswXS5jaGlsZHJlblsxXS52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9jb25zdFwiLHQudmFsdWU9MCx0O2JyZWFrO2Nhc2VcImNvc1wiOmlmKFwibm9kZV9jb25zdFwiPT1pWzBdLnR5cGUmJjA9PT1pWzBdLnZhbHVlKXJldHVybiB0LnR5cGU9XCJub2RlX2NvbnN0XCIsdC52YWx1ZT0xLHQ7aWYoXCJub2RlX3ZhclwiPT1pWzBdLnR5cGUmJlwiUElcIj09aVswXS52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9vcFwiLHQudmFsdWU9XCJvcF9uZWdcIix0LmNoaWxkcmVuPVt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSldLHQ7YnJlYWs7Y2FzZVwiZXhwXCI6aWYoXCJub2RlX2NvbnN0XCI9PWlbMF0udHlwZSYmMD09PWlbMF0udmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfY29uc3RcIix0LnZhbHVlPTEsdDticmVhaztjYXNlXCJwb3dcIjppZihcIm5vZGVfY29uc3RcIj09aVsxXS50eXBlJiYwPT09aVsxXS52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9jb25zdFwiLHQudmFsdWU9MSx0fXJldHVybiB0fX0pLHQuQ0F9KSksZGVmaW5lKFwidXRpbHMvZHVtcFwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5EdW1wPXthZGRNYXJrZXJzOmZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG47Zm9yKHMgaW4gZS5pc0FycmF5KGkpfHwoaT1baV0pLGUuaXNBcnJheShyKXx8KHI9W3JdKSxvPU1hdGgubWluKGkubGVuZ3RoLHIubGVuZ3RoKSxpLmxlbmd0aD1vLHIubGVuZ3RoPW8sdC5vYmplY3RzKWlmKHQub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShzKSlmb3Iobj0wO248bztuKyspdC5vYmplY3RzW3NdW2lbbl1dPXJbbl19LGRlbGV0ZU1hcmtlcnM6ZnVuY3Rpb24odCxpKXt2YXIgcixzLG87Zm9yKHIgaW4gZS5pc0FycmF5KGkpfHwoaT1baV0pLHM9aS5sZW5ndGgsaS5sZW5ndGg9cyx0Lm9iamVjdHMpaWYodC5vYmplY3RzLmhhc093blByb3BlcnR5KHIpKWZvcihvPTA7bzxzO28rKylkZWxldGUgdC5vYmplY3RzW3JdW2lbb11dfSxzdHI6ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9PXQuc3Vic3RyKDAsNykmJih0PSdcIicrdCsnXCInKSx0fSxtaW5pbWl6ZU9iamVjdDpmdW5jdGlvbihpLHIpe3ZhciBzLG8sbixhPXt9LGg9ZS5kZWVwQ29weShpKSxsPVtdO2ZvcihuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKylsLnB1c2goYXJndW1lbnRzW25dKTtmb3IoYT1lLmRlZXBDb3B5KGEsdC5PcHRpb25zLmVsZW1lbnRzLCEwKSxuPWwubGVuZ3RoO24+MDtuLS0pYT1lLmRlZXBDb3B5KGEsbFtuLTFdLCEwKTtmb3IocyBpbiBhKWEuaGFzT3duUHJvcGVydHkocykmJihvPXMudG9Mb3dlckNhc2UoKSxcIm9iamVjdFwiIT10eXBlb2YgYVtzXSYmYVtzXT09PWhbb10mJmRlbGV0ZSBoW29dKTtyZXR1cm4gaH0scHJlcGFyZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oZSxpKXt2YXIgcixzO2ZvcihzIGluIHI9dGhpcy5taW5pbWl6ZU9iamVjdChpLmdldEF0dHJpYnV0ZXMoKSx0Lk9wdGlvbnNbaS5lbFR5cGVdKSxpLnN1YnMpaS5zdWJzLmhhc093blByb3BlcnR5KHMpJiYocltzXT10aGlzLm1pbmltaXplT2JqZWN0KGkuc3Vic1tzXS5nZXRBdHRyaWJ1dGVzKCksdC5PcHRpb25zW2kuZWxUeXBlXVtzXSx0Lk9wdGlvbnNbaS5zdWJzW3NdLmVsVHlwZV0pLHJbc10uaWQ9aS5zdWJzW3NdLmlkLHJbc10ubmFtZT1pLnN1YnNbc10ubmFtZSk7cmV0dXJuIHIuaWQ9aS5pZCxyLm5hbWU9aS5uYW1lLHJ9LHNldEJvdW5kaW5nQm94OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdC5wdXNoKHtvYmo6aSxtZXRob2Q6XCJzZXRCb3VuZGluZ0JveFwiLHBhcmFtczpbZS5nZXRCb3VuZGluZ0JveCgpLGUua2VlcGFzcGVjdHJhdGlvXX0pLHR9LGR1bXA6ZnVuY3Rpb24odCl7dmFyIGkscixzLG8sbj1bXSxhPVtdLGg9dC5vYmplY3RzTGlzdC5sZW5ndGg7Zm9yKHRoaXMuYWRkTWFya2Vycyh0LFwiZHVtcGVkXCIsITEpLGk9MDtpPGg7aSsrKWlmKHM9e30sIShyPXQub2JqZWN0c0xpc3RbaV0pLmR1bXBlZCYmci5kdW1wKXtmb3Iocy50eXBlPXIuZ2V0VHlwZSgpLHMucGFyZW50cz1yLmdldFBhcmVudHMoKS5zbGljZSgpLFwicG9pbnRcIj09PXMudHlwZSYmMT09PXMucGFyZW50c1swXSYmKHMucGFyZW50cz1zLnBhcmVudHMuc2xpY2UoMSkpLG89MDtvPHMucGFyZW50cy5sZW5ndGg7bysrKWUuaXNTdHJpbmcocy5wYXJlbnRzW29dKSYmXCInXCIhPT1zLnBhcmVudHNbb11bMF0mJidcIichPT1zLnBhcmVudHNbb11bMF0/cy5wYXJlbnRzW29dPSdcIicrcy5wYXJlbnRzW29dKydcIic6ZS5pc0FycmF5KHMucGFyZW50c1tvXSkmJihzLnBhcmVudHNbb109XCJbXCIrcy5wYXJlbnRzW29dLnRvU3RyaW5nKCkrXCJdXCIpO3MuYXR0cmlidXRlcz10aGlzLnByZXBhcmVBdHRyaWJ1dGVzKHQsciksXCJnbGlkZXJcIj09PXMudHlwZSYmci5vblBvbHlnb24mJm4ucHVzaCh7b2JqOnIuaWQscHJvcDpcIm9uUG9seWdvblwiLHZhbDohMH0pLGEucHVzaChzKX1yZXR1cm4gdGhpcy5kZWxldGVNYXJrZXJzKHQsXCJkdW1wZWRcIikse2VsZW1lbnRzOmEscHJvcHM6bixtZXRob2RzOltdfX0sYXJyYXlUb1BhcmFtU3RyOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj1bXTtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKXIucHVzaChlLmNhbGwodGhpcyx0W2ldKSk7cmV0dXJuIHIuam9pbihcIiwgXCIpfSx0b0pDQU46ZnVuY3Rpb24odCl7dmFyIGkscixzO3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwib2JqZWN0XCI6aWYodCl7aWYocj1bXSxlLmlzQXJyYXkodCkpe2ZvcihpPTA7aTx0Lmxlbmd0aDtpKyspci5wdXNoKHRoaXMudG9KQ0FOKHRbaV0pKTtyZXR1cm5cIltcIityLmpvaW4oXCIsXCIpK1wiXVwifWZvcihzIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShzKSYmci5wdXNoKHMrXCI6IFwiK3RoaXMudG9KQ0FOKHRbc10pKTtyZXR1cm5cIjw8XCIrci5qb2luKFwiLCBcIikrXCI+PiBcIn1yZXR1cm5cIm51bGxcIjtjYXNlXCJzdHJpbmdcIjpyZXR1cm5cIidcIit0LnJlcGxhY2UoL1xcXFwvZyxcIlxcXFxcXFxcXCIpLnJlcGxhY2UoLyhbXCInXSkvZyxcIlxcXFwkMVwiKStcIidcIjtjYXNlXCJudW1iZXJcIjpjYXNlXCJib29sZWFuXCI6cmV0dXJuIHQudG9TdHJpbmcoKTtjYXNlXCJudWxsXCI6cmV0dXJuXCJudWxsXCJ9fSx0b0plc3NpZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscz10aGlzLmR1bXAodCksbz1bXTtmb3Iocy5tZXRob2RzPXRoaXMuc2V0Qm91bmRpbmdCb3gocy5tZXRob2RzLHQsXCIkYm9hcmRcIiksaT1zLmVsZW1lbnRzLGU9MDtlPGkubGVuZ3RoO2UrKylpW2VdLmF0dHJpYnV0ZXMubmFtZS5sZW5ndGg+MCYmby5wdXNoKFwiLy8gXCIraVtlXS5hdHRyaWJ1dGVzLm5hbWUpLG8ucHVzaChcInNcIitlK1wiID0gXCIraVtlXS50eXBlK1wiKFwiK2lbZV0ucGFyZW50cy5qb2luKFwiLCBcIikrXCIpIFwiK3RoaXMudG9KQ0FOKGlbZV0uYXR0cmlidXRlcykucmVwbGFjZSgvXFxuLyxcIlxcXFxuXCIpK1wiO1wiKSxcImF4aXNcIj09PWlbZV0udHlwZSYmKHI9aVtlXS5hdHRyaWJ1dGVzLmlkLG51bGw9PT10Lm9iamVjdHNbcl0uZGVmYXVsdFRpY2tzJiZvLnB1c2goXCJzXCIrZStcIi5yZW1vdmVBbGxUaWNrcygpO1wiKSksby5wdXNoKFwiXCIpO2ZvcihlPTA7ZTxzLm1ldGhvZHMubGVuZ3RoO2UrKylvLnB1c2gocy5tZXRob2RzW2VdLm9iaitcIi5cIitzLm1ldGhvZHNbZV0ubWV0aG9kK1wiKFwiK3RoaXMuYXJyYXlUb1BhcmFtU3RyKHMubWV0aG9kc1tlXS5wYXJhbXMsdGhpcy50b0pDQU4pK1wiKTtcIiksby5wdXNoKFwiXCIpO2ZvcihlPTA7ZTxzLnByb3BzLmxlbmd0aDtlKyspby5wdXNoKHMucHJvcHNbZV0ub2JqK1wiLlwiK3MucHJvcHNbZV0ucHJvcCtcIiA9IFwiK3RoaXMudG9KQ0FOKHMucHJvcHNbZV0udmFsKStcIjtcIiksby5wdXNoKFwiXCIpO3JldHVybiBvLmpvaW4oXCJcXG5cIil9LHRvSmF2YVNjcmlwdDpmdW5jdGlvbih0KXt2YXIgaSxyLHMsbz10aGlzLmR1bXAodCksbj1bXTtmb3Ioby5tZXRob2RzPXRoaXMuc2V0Qm91bmRpbmdCb3goby5tZXRob2RzLHQsXCJib2FyZFwiKSxyPW8uZWxlbWVudHMsaT0wO2k8ci5sZW5ndGg7aSsrKW4ucHVzaCgnYm9hcmQuY3JlYXRlKFwiJytyW2ldLnR5cGUrJ1wiLCBbJytyW2ldLnBhcmVudHMuam9pbihcIiwgXCIpK1wiXSwgXCIrZS50b0pTT04ocltpXS5hdHRyaWJ1dGVzKStcIik7XCIpLFwiYXhpc1wiPT09cltpXS50eXBlJiYocz1yW2ldLmF0dHJpYnV0ZXMuaWQsbnVsbD09PXQub2JqZWN0c1tzXS5kZWZhdWx0VGlja3MmJm4ucHVzaCgnYm9hcmQub2JqZWN0c1tcIicrcysnXCJdLnJlbW92ZVRpY2tzKGJvYXJkLm9iamVjdHNbXCInK3MrJ1wiXS5kZWZhdWx0VGlja3MpOycpKTtmb3IoaT0wO2k8by5tZXRob2RzLmxlbmd0aDtpKyspbi5wdXNoKG8ubWV0aG9kc1tpXS5vYmorXCIuXCIrby5tZXRob2RzW2ldLm1ldGhvZCtcIihcIit0aGlzLmFycmF5VG9QYXJhbVN0cihvLm1ldGhvZHNbaV0ucGFyYW1zLGUudG9KU09OKStcIik7XCIpLG4ucHVzaChcIlwiKTtmb3IoaT0wO2k8by5wcm9wcy5sZW5ndGg7aSsrKW4ucHVzaChvLnByb3BzW2ldLm9iaitcIi5cIitvLnByb3BzW2ldLnByb3ArXCIgPSBcIitlLnRvSlNPTihvLnByb3BzW2ldLnZhbCkrXCI7XCIpLG4ucHVzaChcIlwiKTtyZXR1cm4gbi5qb2luKFwiXFxuXCIpfX0sdC5EdW1wfSkpLGRlZmluZShcImVsZW1lbnQvY29tYlwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS9wb2ludFwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3JldHVybiB0LmNyZWF0ZUNvbWI9ZnVuY3Rpb24odCxyLHMpe3ZhciBvLG4sYSxoLGw7aWYoMiE9PXIubGVuZ3RoKXRocm93IGw9ci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiJ1wiK3R5cGVvZiB0K1wiJ1wifSkpLG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY29tYiB3aXRoIHBhcmVudCB0eXBlcyBcIitsLmpvaW4oXCIsIFwiKStcIi5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludF0sIFtbeDEseTFdLFt4Mix5Ml1dXCIpO2lmKGUuaXNBcnJheShyWzBdKSYmclswXS5sZW5ndGg+MSloPWUuY29weUF0dHJpYnV0ZXMocyx0Lm9wdGlvbnMsXCJjb21iXCIsXCJwb2ludDFcIiksbz10LmNyZWF0ZShcInBvaW50XCIsclswXSxoKTtlbHNlIGlmKGUuaXNTdHJpbmcoclswXSl8fGUuaXNQb2ludChyWzBdKSlvPXQuc2VsZWN0KHJbMF0pO2Vsc2UgaWYoZS5pc0Z1bmN0aW9uKHJbMF0pJiZlLmlzUG9pbnQoclswXSgpKSlvPXJbMF0oKTtlbHNle2lmKCEoZS5pc0Z1bmN0aW9uKHJbMF0pJiZyWzBdKCkubGVuZ3RoJiZyWzBdKCkubGVuZ3RoPj0yKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNvbWIgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiByWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiByWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludF0sIFtbeDEseTFdLFt4Mix5Ml1dXCIpO2g9ZS5jb3B5QXR0cmlidXRlcyhzLHQub3B0aW9ucyxcImNvbWJcIixcInBvaW50MVwiKSxvPWkuY3JlYXRlUG9pbnQodCxyWzBdKCksaCl9aWYoZS5pc0FycmF5KHJbMV0pJiZyWzFdLmxlbmd0aD4xKWg9ZS5jb3B5QXR0cmlidXRlcyhzLHQub3B0aW9ucyxcImNvbWJcIixcInBvaW50MlwiKSxuPXQuY3JlYXRlKFwicG9pbnRcIixyWzFdLGgpO2Vsc2UgaWYoZS5pc1N0cmluZyhyWzFdKXx8ZS5pc1BvaW50KHJbMV0pKW49dC5zZWxlY3QoclsxXSk7ZWxzZSBpZihlLmlzRnVuY3Rpb24oclsxXSkmJmUuaXNQb2ludChyWzFdKCkpKW49clsxXSgpO2Vsc2V7aWYoIShlLmlzRnVuY3Rpb24oclsxXSkmJnJbMV0oKS5sZW5ndGgmJnJbMV0oKS5sZW5ndGg+PTIpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY29tYiB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIHJbMF0rXCInIGFuZCAnXCIrdHlwZW9mIHJbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50XSwgW1t4MSx5MV0sW3gyLHkyXV1cIik7aD1lLmNvcHlBdHRyaWJ1dGVzKHMsdC5vcHRpb25zLFwiY29tYlwiLFwicG9pbnQyXCIpLG49aS5jcmVhdGVQb2ludCh0LHJbMV0oKSxoKX1yZXR1cm4gaD1lLmNvcHlBdHRyaWJ1dGVzKHMsdC5vcHRpb25zLFwiY29tYlwiKSxlLm1lcmdlKGgsZS5jb3B5QXR0cmlidXRlcyhzLHQub3B0aW9ucyxcImNvbWJcIixcImN1cnZlXCIpKSwoYT10LmNyZWF0ZShcImN1cnZlXCIsW1swXSxbMF1dLGgpKS51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxpLHIscyxoLGwsYyxkLHUscCxmPTAsbT1vLkRpc3QobiksZz1vLGI9bjtmb3IoZD1lLmV2YWx1YXRlKGEudmlzUHJvcC5mcmVxdWVuY3kpLHU9LWUuZXZhbHVhdGUoYS52aXNQcm9wLmFuZ2xlKSxwPWUuZXZhbHVhdGUoYS52aXNQcm9wLndpZHRoKSxlLmV2YWx1YXRlKGEudmlzUHJvcC5yZXZlcnNlKSYmKGc9bixiPW8sdT0tdSksdD1NYXRoLmNvcyh1KSxpPU1hdGguc2luKHUpLHI9KGIuWCgpLWcuWCgpKS9tLHM9KGIuWSgpLWcuWSgpKS9tLHQqPXAvTWF0aC5hYnMoaSksaSo9cC9NYXRoLmFicyhpKSx0aGlzLmRhdGFYPVtdLHRoaXMuZGF0YVk9W107ZjxtOyloPWcuWCgpK3IqZixsPWcuWSgpK3MqZixpKj1jPU1hdGgubWluKHQsbS1mKS9NYXRoLmFicyh0KSx0Kj1jLHRoaXMuZGF0YVgucHVzaChoKSx0aGlzLmRhdGFZLnB1c2gobCksdGhpcy5kYXRhWC5wdXNoKGgrcip0K3MqaSksdGhpcy5kYXRhWS5wdXNoKGwtcippK3MqdCksdGhpcy5kYXRhWC5wdXNoKE5hTiksdGhpcy5kYXRhWS5wdXNoKE5hTiksZis9ZH0sYX0sdC5yZWdpc3RlckVsZW1lbnQoXCJjb21iXCIsdC5jcmVhdGVDb21iKSx7Y3JlYXRlQ29tYjp0LmNyZWF0ZUNvbWJ9fSkpLGRlZmluZShcImVsZW1lbnQvc2xvcGV0cmlhbmdsZVwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvcG9seWdvblwiXSwoZnVuY3Rpb24odCxlLGkscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHM9ZnVuY3Rpb24oKXtyLlBvbHlnb24ucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpLHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMudG9wcG9pbnQpLHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMuZ2xpZGVyKSx0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0aGlzLmJhc2VsaW5lKSx0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0aGlzLmJhc2Vwb2ludCksdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy5sYWJlbCksdGhpcy5faXNQcml2YXRlVGFuZ2VudCYmdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy50YW5nZW50KX0sbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhbmdlbnQuZ2V0U2xvcGUoKX07cmV0dXJuIHQuY3JlYXRlU2xvcGVUcmlhbmdsZT1mdW5jdGlvbihyLG4sYSl7dmFyIGgsbCxjLGQsdSxwLGYsbSxnLGI9ITE7aWYoMT09PW4ubGVuZ3RoJiZuWzBdLnR5cGU9PT1pLk9CSkVDVF9UWVBFX1RBTkdFTlQpbD1uWzBdLGM9bC5nbGlkZXI7ZWxzZSBpZigxPT09bi5sZW5ndGgmJm5bMF0udHlwZT09PWkuT0JKRUNUX1RZUEVfR0xJREVSKWM9blswXSxnPWUuY29weUF0dHJpYnV0ZXMoYSxyLm9wdGlvbnMsXCJzbG9wZXRyaWFuZ2xlXCIsXCJ0YW5nZW50XCIpLGw9ci5jcmVhdGUoXCJ0YW5nZW50XCIsW2NdLGcpLGI9ITA7ZWxzZXtpZigyIT09bi5sZW5ndGh8fG5bMF0uZWxlbWVudENsYXNzIT09aS5PQkpFQ1RfQ0xBU1NfTElORXx8IWUuaXNQb2ludChuWzFdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHNsb3BlIHRyaWFuZ2xlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgblswXStcIicuXCIpO2w9blswXSxjPW5bMV19cmV0dXJuIGc9ZS5jb3B5QXR0cmlidXRlcyhhLHIub3B0aW9ucyxcInNsb3BldHJpYW5nbGVcIixcImJhc2Vwb2ludFwiKSxmPXIuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm5bYy5YKCkrMSxjLlkoKV19XSxnKSxnPWUuY29weUF0dHJpYnV0ZXMoYSxyLm9wdGlvbnMsXCJzbG9wZXRyaWFuZ2xlXCIsXCJiYXNlbGluZVwiKSxwPXIuY3JlYXRlKFwibGluZVwiLFtjLGZdLGcpLGc9ZS5jb3B5QXR0cmlidXRlcyhhLHIub3B0aW9ucyxcInNsb3BldHJpYW5nbGVcIixcImdsaWRlclwiKSxkPXIuY3JlYXRlKFwiZ2xpZGVyXCIsW2MuWCgpKzEsYy5ZKCkscF0sZyksZz1lLmNvcHlBdHRyaWJ1dGVzKGEsci5vcHRpb25zLFwic2xvcGV0cmlhbmdsZVwiLFwidG9wcG9pbnRcIiksdT1yLmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuW2QuWCgpLGQuWSgpKyhkLlgoKS1jLlgoKSkqbC5nZXRTbG9wZSgpXX1dLGcpLChnPWUuY29weUF0dHJpYnV0ZXMoYSxyLm9wdGlvbnMsXCJzbG9wZXRyaWFuZ2xlXCIpKS5ib3JkZXJzPWUuY29weUF0dHJpYnV0ZXMoZy5ib3JkZXJzLHIub3B0aW9ucyxcInNsb3BldHJpYW5nbGVcIixcImJvcmRlcnNcIiksKGg9ci5jcmVhdGUoXCJwb2x5Z29uXCIsW2MsZCx1XSxnKSkuVmFsdWU9byxoLnRhbmdlbnQ9bCxoLl9pc1ByaXZhdGVUYW5nZW50PWIsaC5ib3JkZXJzWzJdLnNldEFycm93KCExLCExKSxnPWUuY29weUF0dHJpYnV0ZXMoYSxyLm9wdGlvbnMsXCJzbG9wZXRyaWFuZ2xlXCIsXCJsYWJlbFwiKSwobT1yLmNyZWF0ZShcInRleHRcIixbZnVuY3Rpb24oKXtyZXR1cm4gZC5YKCkrLjF9LGZ1bmN0aW9uKCl7cmV0dXJuLjUqKGQuWSgpK3UuWSgpKX0sZnVuY3Rpb24oKXtyZXR1cm5cIlwifV0sZykpLl9zZXRUZXh0KChmdW5jdGlvbigpe3JldHVybiBlLnRvRml4ZWQoaC5WYWx1ZSgpLGUuZXZhbHVhdGUobS52aXNQcm9wLmRpZ2l0cykpfSkpLG0uZnVsbFVwZGF0ZSgpLGguZ2xpZGVyPWQsaC5iYXNlcG9pbnQ9ZixoLmJhc2VsaW5lPXAsaC50b3Bwb2ludD11LGgubGFiZWw9bSxoLnN1YnM9e2dsaWRlcjpkLGJhc2VQb2ludDpmLGJhc2VMaW5lOnAsdG9wUG9pbnQ6dSxsYWJlbDptfSxoLmluaGVyaXRzLnB1c2goZCxmLHAsdSxtKSxoLm1ldGhvZE1hcD10LmRlZXBDb3B5KGgubWV0aG9kTWFwLHt0YW5nZW50OlwidGFuZ2VudFwiLGdsaWRlcjpcImdsaWRlclwiLGJhc2Vwb2ludDpcImJhc2Vwb2ludFwiLGJhc2VsaW5lOlwiYmFzZWxpbmVcIix0b3Bwb2ludDpcInRvcHBvaW50XCIsbGFiZWw6XCJsYWJlbFwiLFZhbHVlOlwiVmFsdWVcIixWOlwiVmFsdWVcIn0pLGgucmVtb3ZlPXMsaH0sdC5yZWdpc3RlckVsZW1lbnQoXCJzbG9wZXRyaWFuZ2xlXCIsdC5jcmVhdGVTbG9wZVRyaWFuZ2xlKSx7Y3JlYXRlU2xvcGVUcmlhbmdsZTp0LmNyZWF0ZVNsb3BlVHJpYW5nbGV9fSkpLGRlZmluZShcImVsZW1lbnQvY2hlY2tib3hcIixbXCJqeGdcIixcInV0aWxzL2VudlwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKCl7dGhpcy5fdmFsdWU9dGhpcy5yZW5kTm9kZUNoZWNrYm94LmNoZWNrZWQsdGhpcy5ib2FyZC51cGRhdGUoKX07cmV0dXJuIHQuY3JlYXRlQ2hlY2tib3g9ZnVuY3Rpb24ocyxvLG4pe3ZhciBhLGgsbD1pLmNvcHlBdHRyaWJ1dGVzKG4scy5vcHRpb25zLFwiY2hlY2tib3hcIik7cmV0dXJuIGg9W29bMF0sb1sxXSwnPHNwYW4gc3R5bGU9XCJkaXNwbGF5OmlubGluZVwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiAvPjxsYWJlbCBmb3I9XCJcIj48L2xhYmVsPjwvc3Bhbj4nXSwoYT1zLmNyZWF0ZShcInRleHRcIixoLGwpKS50eXBlPWkuT0JKRUNUX1RZUEVfQ0hFQ0tCT1gsYS5yZW5kTm9kZUNoZWNrYm94PWEucmVuZE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLGEucmVuZE5vZGVMYWJlbD1hLnJlbmROb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSxhLnJlbmROb2RlVGFnPWEucmVuZE5vZGVDaGVja2JveCxhLnJlbmROb2RlVGFnLmRpc2FibGVkPSEhbC5kaXNhYmxlZCxhLnJlbmROb2RlTGFiZWwuaW5uZXJIVE1MPW9bMl0sYS5yZW5kTm9kZUNoZWNrYm94LmlkPWEucmVuZE5vZGUuaWQrXCJfY2hlY2tib3hcIixhLnJlbmROb2RlTGFiZWwuaWQ9YS5yZW5kTm9kZS5pZCtcIl9sYWJlbFwiLGEucmVuZE5vZGVMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIixhLnJlbmROb2RlQ2hlY2tib3guaWQpLGEudmlzUHJvcE9sZC5mb250c2l6ZT1cIjBweFwiLHMucmVuZGVyZXIudXBkYXRlVGV4dFN0eWxlKGEsITEpLGEucmVuZE5vZGVDaGVja2JveC5jaGVja2VkPWwuY2hlY2tlZCxhLl92YWx1ZT1sLmNoZWNrZWQsYS5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZX0sYS51cGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZSYmKHQuVGV4dC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyksdGhpcy5fdmFsdWU9dGhpcy5yZW5kTm9kZUNoZWNrYm94LmNoZWNrZWQpLHRoaXN9LGUuYWRkRXZlbnQoYS5yZW5kTm9kZUNoZWNrYm94LFwiY2hhbmdlXCIscixhKSxhfSx0LnJlZ2lzdGVyRWxlbWVudChcImNoZWNrYm94XCIsdC5jcmVhdGVDaGVja2JveCkse2NyZWF0ZUNoZWNrYm94OnQuY3JlYXRlQ2hlY2tib3h9fSkpLGRlZmluZShcImVsZW1lbnQvaW5wdXRcIixbXCJqeGdcIixcInV0aWxzL2VudlwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKHQpe3RoaXMuX3ZhbHVlPXRoaXMucmVuZE5vZGVJbnB1dC52YWx1ZSx0aGlzLmJvYXJkLnVwZGF0ZSgpfTtyZXR1cm4gdC5jcmVhdGVJbnB1dD1mdW5jdGlvbihzLG8sbil7dmFyIGEsaCxsPWkuY29weUF0dHJpYnV0ZXMobixzLm9wdGlvbnMsXCJpbnB1dFwiKTtyZXR1cm4gaD1bb1swXSxvWzFdLCc8c3BhbiBzdHlsZT1cImRpc3BsYXk6aW5saW5lOyB3aGl0ZS1zcGFjZTpub3dyYXA7IHBhZGRpbmc6MHB4O1wiPjxzcGFuPjwvc3Bhbj48aW5wdXQgdHlwZT1cInRleHRcIiBtYXhsZW5ndGg9XCInK2wubWF4bGVuZ3RoKydcIiBzdHlsZT1cIndpZHRoOjEwMCVcIi8+PC9zcGFuPiddLChhPXMuY3JlYXRlKFwidGV4dFwiLGgsbCkpLnR5cGU9aS5PQkpFQ1RfVFlQRV9JTlBVVCxhLnJlbmROb2RlTGFiZWw9YS5yZW5kTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0sYS5yZW5kTm9kZUlucHV0PWEucmVuZE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLGEucmVuZE5vZGVMYWJlbC5pbm5lckhUTUw9b1szXSxhLnJlbmROb2RlSW5wdXQudmFsdWU9b1syXSxhLnJlbmROb2RlVGFnPWEucmVuZE5vZGVJbnB1dCxhLnJlbmROb2RlVGFnLmRpc2FibGVkPSEhbC5kaXNhYmxlZCxhLnJlbmROb2RlTGFiZWwuaWQ9YS5yZW5kTm9kZS5pZCtcIl9sYWJlbFwiLGEucmVuZE5vZGVJbnB1dC5pZD1hLnJlbmROb2RlLmlkK1wiX2lucHV0XCIsYS5fdmFsdWU9b1syXSxhLnVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlJiYodC5UZXh0LnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKSx0aGlzLl92YWx1ZT10aGlzLnJlbmROb2RlSW5wdXQudmFsdWUpLHRoaXN9LGEuVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWV9LGEuc2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl92YWx1ZT10LHRoaXMucmVuZE5vZGVJbnB1dC52YWx1ZT10LHRoaXN9LGUuYWRkRXZlbnQoYS5yZW5kTm9kZUlucHV0LFwiaW5wdXRcIixyLGEpLGUuYWRkRXZlbnQoYS5yZW5kTm9kZUlucHV0LFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKHQpe2kuZXhpc3RzKHQuc3RvcFByb3BhZ2F0aW9uKSYmdC5zdG9wUHJvcGFnYXRpb24oKX0pLGEpLGUuYWRkRXZlbnQoYS5yZW5kTm9kZUlucHV0LFwidG91Y2hzdGFydFwiLChmdW5jdGlvbih0KXtpLmV4aXN0cyh0LnN0b3BQcm9wYWdhdGlvbikmJnQuc3RvcFByb3BhZ2F0aW9uKCl9KSxhKSxlLmFkZEV2ZW50KGEucmVuZE5vZGVJbnB1dCxcInBvaW50ZXJkb3duXCIsKGZ1bmN0aW9uKHQpe2kuZXhpc3RzKHQuc3RvcFByb3BhZ2F0aW9uKSYmdC5zdG9wUHJvcGFnYXRpb24oKX0pLGEpLGEudmlzUHJvcE9sZC5mb250c2l6ZT1cIjBweFwiLHMucmVuZGVyZXIudXBkYXRlVGV4dFN0eWxlKGEsITEpLGF9LHQucmVnaXN0ZXJFbGVtZW50KFwiaW5wdXRcIix0LmNyZWF0ZUlucHV0KSx7Y3JlYXRlSW5wdXQ6dC5jcmVhdGVJbnB1dH19KSksZGVmaW5lKFwiZWxlbWVudC9idXR0b25cIixbXCJqeGdcIixcInV0aWxzL2VudlwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKCl7dGhpcy5faGFuZGxlciYmdGhpcy5faGFuZGxlcigpLHRoaXMuYm9hcmQudXBkYXRlKCl9O3JldHVybiB0LmNyZWF0ZUJ1dHRvbj1mdW5jdGlvbihzLG8sbil7dmFyIGEsaCxsPWkuY29weUF0dHJpYnV0ZXMobixzLm9wdGlvbnMsXCJidXR0b25cIik7cmV0dXJuIGg9W29bMF0sb1sxXSwnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgc3R5bGU9XCJ3aWR0aDoxMDAlO1wiPjwvYnV0dG9uPiddLChhPXMuY3JlYXRlKFwidGV4dFwiLGgsbCkpLnR5cGU9aS5PQkpFQ1RfVFlQRV9CVVRUT04sYS5yZW5kTm9kZUJ1dHRvbj1hLnJlbmROb2RlLmNoaWxkTm9kZXNbMF0sYS5yZW5kTm9kZUJ1dHRvbi5pZD1hLnJlbmROb2RlLmlkK1wiX2J1dHRvblwiLGEucmVuZE5vZGVCdXR0b24uaW5uZXJIVE1MPW9bMl0sYS5yZW5kTm9kZVRhZz1hLnJlbmROb2RlQnV0dG9uLGEucmVuZE5vZGVUYWcuZGlzYWJsZWQ9ISFsLmRpc2FibGVkLGEudmlzUHJvcE9sZC5mb250c2l6ZT1cIjBweFwiLHMucmVuZGVyZXIudXBkYXRlVGV4dFN0eWxlKGEsITEpLG9bM10mJihpLmlzU3RyaW5nKG9bM10pPyhhLl9qYz1uZXcgdC5KZXNzaWVDb2RlLGEuX2pjLnVzZShzKSxhLl9oYW5kbGVyPWZ1bmN0aW9uKCl7YS5famMucGFyc2Uob1szXSl9KTphLl9oYW5kbGVyPW9bM10pLGUuYWRkRXZlbnQoYS5yZW5kTm9kZUJ1dHRvbixcImNsaWNrXCIscixhKSxlLmFkZEV2ZW50KGEucmVuZE5vZGVCdXR0b24sXCJtb3VzZWRvd25cIiwoZnVuY3Rpb24odCl7aS5leGlzdHModC5zdG9wUHJvcGFnYXRpb24pJiZ0LnN0b3BQcm9wYWdhdGlvbigpfSksYSksZS5hZGRFdmVudChhLnJlbmROb2RlQnV0dG9uLFwidG91Y2hzdGFydFwiLChmdW5jdGlvbih0KXtpLmV4aXN0cyh0LnN0b3BQcm9wYWdhdGlvbikmJnQuc3RvcFByb3BhZ2F0aW9uKCl9KSxhKSxlLmFkZEV2ZW50KGEucmVuZE5vZGVCdXR0b24sXCJwb2ludGVyZG93blwiLChmdW5jdGlvbih0KXtpLmV4aXN0cyh0LnN0b3BQcm9wYWdhdGlvbikmJnQuc3RvcFByb3BhZ2F0aW9uKCl9KSxhKSxhfSx0LnJlZ2lzdGVyRWxlbWVudChcImJ1dHRvblwiLHQuY3JlYXRlQnV0dG9uKSx7Y3JlYXRlQnV0dG9uOnQuY3JlYXRlQnV0dG9ufX0pKSxkZWZpbmUoXCJiYXNlL2ZvcmVpZ25vYmplY3RcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwiYmFzZS9lbGVtZW50XCIsXCJtYXRoL21hdGhcIixcInV0aWxzL3R5cGVcIixcImJhc2UvY29vcmRzZWxlbWVudFwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRm9yZWlnbk9iamVjdD1mdW5jdGlvbihpLHIscyxuLGEpe3RoaXMuY29uc3RydWN0b3IoaSxzLGUuT0JKRUNUX1RZUEVfRk9SRUlHTk9CSkVDVCxlLk9CSkVDVF9DTEFTU19PVEhFUiksdGhpcy5lbGVtZW50PXRoaXMuYm9hcmQuc2VsZWN0KHMuYW5jaG9yKSx0aGlzLmNvb3Jkc0NvbnN0cnVjdG9yKHIpLHRoaXMuX3VzZVVzZXJTaXplPSExLHRoaXMuc2l6ZT1bMSwxXSxvLmV4aXN0cyhhKSYmYS5sZW5ndGg+MCYmKHRoaXMuX3VzZVVzZXJTaXplPSEwLHRoaXMuVz1vLmNyZWF0ZUZ1bmN0aW9uKGFbMF0sdGhpcy5ib2FyZCxcIlwiKSx0aGlzLkg9by5jcmVhdGVGdW5jdGlvbihhWzFdLHRoaXMuYm9hcmQsXCJcIiksdGhpcy51c3JTaXplPVt0aGlzLlcoKSx0aGlzLkgoKV0pLHRoaXMuY29udGVudD1uLHRoaXMuZWxUeXBlPVwiZm9yZWlnbm9iamVjdFwiLHRoaXMuaWQ9dGhpcy5ib2FyZC5zZXRJZCh0aGlzLFwiSW1cIiksdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3Rm9yZWlnbk9iamVjdCh0aGlzKSx0aGlzLmJvYXJkLmZpbmFsaXplQWRkaW5nKHRoaXMpLHRoaXMubWV0aG9kTWFwPXQuZGVlcENvcHkodGhpcy5tZXRob2RNYXAse2FkZFRyYW5zZm9ybWF0aW9uOlwiYWRkVHJhbnNmb3JtXCIsdHJhbnM6XCJhZGRUcmFuc2Zvcm1cIn0pfSx0LkZvcmVpZ25PYmplY3QucHJvdG90eXBlPW5ldyByLG8uY29weVByb3RvdHlwZU1ldGhvZHModC5Gb3JlaWduT2JqZWN0LG4sXCJjb29yZHNDb25zdHJ1Y3RvclwiKSx0LmV4dGVuZCh0LkZvcmVpZ25PYmplY3QucHJvdG90eXBlLHtoYXNQb2ludDpmdW5jdGlvbih0LHIpe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtPXRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aDtyZXR1cm4gby5pc09iamVjdChvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb24pKT8obD10aGlzLmJvYXJkLl9pbnB1dERldmljZSxjPW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbltsXSkpOmM9dGhpcy5ib2FyZC5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludCwwPT09bT8obj10LXRoaXMuY29vcmRzLnNjckNvb3Jkc1sxXSxhPXRoaXMuY29vcmRzLnNjckNvb3Jkc1syXS1yLG4+PS0oaD1jKSYmbi10aGlzLnNpemVbMF08PWgmJmE+PS1oJiZhLXRoaXMuc2l6ZVsxXTw9aCk6KHU9WyhkPShkPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbdCxyXSx0aGlzLmJvYXJkKSkudXNyQ29vcmRzKVswXS10aGlzLnNwYW5bMF1bMF0sZFsxXS10aGlzLnNwYW5bMF1bMV0sZFsyXS10aGlzLnNwYW5bMF1bMl1dLDA8PShwPShmPXMuaW5uZXJQcm9kdWN0KSh1LHRoaXMuc3BhblsxXSkpJiZwPD1mKHRoaXMuc3BhblsxXSx0aGlzLnNwYW5bMV0pJiYwPD0ocD1mKHUsdGhpcy5zcGFuWzJdKSkmJnA8PWYodGhpcy5zcGFuWzJdLHRoaXMuc3BhblsyXSkpfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGU/KHRoaXMudXBkYXRlQ29vcmRzKHQpLHRoaXMudXBkYXRlU2l6ZSgpLHRoaXMpOnRoaXN9LHVwZGF0ZVJlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlUmVuZGVyZXJHZW5lcmljKFwidXBkYXRlRm9yZWlnbk9iamVjdFwiKX0sdXBkYXRlU2l6ZTpmdW5jdGlvbigpe3ZhciB0PVswLDBdO3JldHVybiB0aGlzLl91c2VVc2VyU2l6ZT8odGhpcy51c3JTaXplPVt0aGlzLlcoKSx0aGlzLkgoKV0sdGhpcy5zaXplPVtNYXRoLmFicyh0aGlzLnVzclNpemVbMF0qdGhpcy5ib2FyZC51bml0WCksTWF0aC5hYnModGhpcy51c3JTaXplWzFdKnRoaXMuYm9hcmQudW5pdFkpXSk6dGhpcy5yZW5kTm9kZS5oYXNDaGlsZE5vZGVzKCkmJih0PXRoaXMucmVuZE5vZGUuY2hpbGROb2Rlc1swXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0aGlzLnNpemU9W3Qud2lkdGgsdC5oZWlnaHRdKSx0aGlzfSx1cGRhdGVTcGFuOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aCxyPVtdO2lmKDA9PT1pKXRoaXMuc3Bhbj1bW3RoaXMuWigpLHRoaXMuWCgpLHRoaXMuWSgpXSxbdGhpcy5aKCksdGhpcy5XKCksMF0sW3RoaXMuWigpLDAsdGhpcy5IKCldXTtlbHNle2ZvcihyWzBdPVt0aGlzLlooKSx0aGlzLlgoKSx0aGlzLlkoKV0sclsxXT1bdGhpcy5aKCksdGhpcy5YKCkrdGhpcy5XKCksdGhpcy5ZKCldLHJbMl09W3RoaXMuWigpLHRoaXMuWCgpLHRoaXMuWSgpK3RoaXMuSCgpXSx0PTA7dDxpO3QrKylmb3IoZT0wO2U8MztlKyspcltlXT1zLm1hdFZlY011bHQodGhpcy50cmFuc2Zvcm1hdGlvbnNbdF0ubWF0cml4LHJbZV0pO2ZvcihlPTA7ZTwzO2UrKylyW2VdWzFdLz1yW2VdWzBdLHJbZV1bMl0vPXJbZV1bMF0scltlXVswXS89cltlXVswXTtmb3IoZT0xO2U8MztlKyspcltlXVswXS09clswXVswXSxyW2VdWzFdLT1yWzBdWzFdLHJbZV1bMl0tPXJbMF1bMl07dGhpcy5zcGFuPXJ9cmV0dXJuIHRoaXN9LGFkZFRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZTtpZihvLmlzQXJyYXkodCkpZm9yKGU9MDtlPHQubGVuZ3RoO2UrKyl0aGlzLnRyYW5zZm9ybWF0aW9ucy5wdXNoKHRbZV0pO2Vsc2UgdGhpcy50cmFuc2Zvcm1hdGlvbnMucHVzaCh0KTtyZXR1cm4gdGhpc30sZ2V0UGFyZW50czpmdW5jdGlvbigpe3ZhciB0PVt0aGlzLnVybCxbdGhpcy5aKCksdGhpcy5YKCksdGhpcy5ZKCldLHRoaXMudXNyU2l6ZV07cmV0dXJuIDAhPT10aGlzLnBhcmVudHMubGVuZ3RoJiYodD10aGlzLnBhcmVudHMpLHR9LHNldFNpemU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5XPW8uY3JlYXRlRnVuY3Rpb24odCx0aGlzLmJvYXJkLFwiXCIpLHRoaXMuSD1vLmNyZWF0ZUZ1bmN0aW9uKGUsdGhpcy5ib2FyZCxcIlwiKSx0aGlzLl91c2VVc2VyU2l6ZT0hMCx0aGlzfSxXOmZ1bmN0aW9uKCl7fSxIOmZ1bmN0aW9uKCl7fX0pLHQuY3JlYXRlRm9yZWlnbk9iamVjdD1mdW5jdGlvbihlLGkscil7dmFyIHMsYSxoPWlbMF0sbD1pWzFdLGM9W107aWYoaS5sZW5ndGg+PTImJihjPWlbMl0pLHM9by5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImZvcmVpZ25vYmplY3RcIiksIShhPW4uY3JlYXRlKHQuRm9yZWlnbk9iamVjdCxlLGwscyxoLGMpKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGZvcmVpZ25PYmplY3Qgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtzdHJpbmcsIFt4LCB5XSwgW3csIGhdXSwgW3N0cmluZywgW3gsIHldXSwgW2VsZW1lbnQsdHJhbnNmb3JtYXRpb25dXCIpO3JldHVybiBhfSx0LnJlZ2lzdGVyRWxlbWVudChcImZvcmVpZ25vYmplY3RcIix0LmNyZWF0ZUZvcmVpZ25PYmplY3QpLHQucmVnaXN0ZXJFbGVtZW50KFwiZm9cIix0LmNyZWF0ZUZvcmVpZ25PYmplY3QpLHtGb3JlaWduT2JqZWN0OnQuRm9yZWlnbk9iamVjdCxjcmVhdGVGb3JlaWdub2JqZWN0OnQuY3JlYXRlRm9yZWlnbk9iamVjdH19KSksZGVmaW5lKFwib3B0aW9uczNkXCIsW1wianhnXCIsXCJvcHRpb25zXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiB0LmV4dGVuZChlLHtpbmZvYm94OntzdHJva2VDb2xvcjpcImJsYWNrXCJ9LGF4ZXMzZDp7YXhlc1Bvc2l0aW9uOlwiY2VudGVyXCIseEF4aXM6e3Zpc2libGU6ITAscG9pbnQyOntuYW1lOlwieFwifX0seUF4aXM6e3Zpc2libGU6ITAscG9pbnQyOntuYW1lOlwieVwifX0sekF4aXM6e3Zpc2libGU6ITAscG9pbnQyOntuYW1lOlwielwifX0seFBsYW5lUmVhcjp7dmlzaWJsZTohMCxsYXllcjowLG1lc2gzZDp7bGF5ZXI6MX19LHlQbGFuZVJlYXI6e3Zpc2libGU6ITAsbGF5ZXI6MCxtZXNoM2Q6e2xheWVyOjF9fSx6UGxhbmVSZWFyOnt2aXNpYmxlOiEwLGxheWVyOjAsbWVzaDNkOntsYXllcjoxfX0seFBsYW5lRnJvbnQ6e3Zpc2libGU6ITEsbGF5ZXI6MCxtZXNoM2Q6e2xheWVyOjF9fSx5UGxhbmVGcm9udDp7dmlzaWJsZTohMSxsYXllcjowLG1lc2gzZDp7bGF5ZXI6MX19LHpQbGFuZUZyb250Ont2aXNpYmxlOiExLGxheWVyOjAsbWVzaDNkOntsYXllcjoxfX0seFBsYW5lUmVhcllBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9LHhQbGFuZVJlYXJaQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx4UGxhbmVGcm9udFlBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9LHhQbGFuZUZyb250WkF4aXM6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsc3Ryb2tlV2lkdGg6MX0seVBsYW5lUmVhclhBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9LHlQbGFuZVJlYXJaQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx5UGxhbmVGcm9udFhBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9LHlQbGFuZUZyb250WkF4aXM6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsc3Ryb2tlV2lkdGg6MX0selBsYW5lUmVhclhBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9LHpQbGFuZVJlYXJZQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx6UGxhbmVGcm9udFhBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9LHpQbGFuZUZyb250WUF4aXM6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsc3Ryb2tlV2lkdGg6MX19LGF4aXMzZDp7aGlnaGxpZ2h0OiExLHN0cm9rZWNvbG9yOlwiYmxhY2tcIixzdHJva2VXaWR0aDoxLHRhYmluZGV4Om51bGwscG9pbnQxOnt2aXNpYmxlOiExLG5hbWU6XCJcIn0scG9pbnQyOnt2aXNpYmxlOiExLG5hbWU6XCJcIixsYWJlbDp7dmlzaWJsZTohMH19fSxtZXNoM2Q6e3N0cm9rZVdpZHRoOjEsc3Ryb2tlQ29sb3I6XCIjOWE5YTlhXCIsc3Ryb2tlT3BhY2l0eTouNixoaWdobGlnaHQ6ITEsZmlsbENvbG9yOlwiIzlhOWE5YVwiLGZpbGxPcGFjaXR5Oi4xLHRhYmluZGV4Om51bGwsdmlzaWJsZTpcImluaGVyaXRcIn0sbGluZTNkOntzdHJva2VXaWR0aDoxLHN0cm9rZUNvbG9yOlwiYmxhY2tcIixmaXhlZDohMCx0YWJpbmRleDpudWxsLGdyYWRpZW50OlwibGluZWFyXCIsZ3JhZGllbnRTZWNvbmRDb2xvcjpcIiNmZmZmZmZcIixwb2ludDE6e3Zpc2libGU6ITEsbmFtZTpcIlwifSxwb2ludDI6e3Zpc2libGU6ITEsbmFtZTpcIlwifX0scGxhbmUzZDp7c3Ryb2tlV2lkdGg6MCxzdHJva2VDb2xvcjpcImJsYWNrXCIsc3Ryb2tlT3BhY2l0eToxLGhpZ2hsaWdodDohMSx0YWJpbmRleDpudWxsLGdyYWRpZW50OlwibGluZWFyXCIsZ3JhZGllbnRTZWNvbmRDb2xvcjpcIiNmZmZmZmZcIixncmFkaWVudEFuZ2xlOk1hdGguUEksZmlsbENvbG9yOlwiI2E3YTdhN1wiLGZpbGxPcGFjaXR5Oi42fSxwb2ludDNkOntzdHJva2VXaWR0aDowLGdyYWRpZW50OlwicmFkaWFsXCIsZ3JhZGllbnRTZWNvbmRDb2xvcjpcIiM1NTU1NTVcIixmaWxsQ29sb3I6XCJ5ZWxsb3dcIixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiM1NTU1NTVcIn0sc3VyZmFjZTNkOntoaWdobGlnaHQ6ITEsdGFiaW5kZXg6LTEsc3Ryb2tlV2lkdGg6MSxzdGVwc1U6MzAsc3RlcHNWOjMwfSx2aWV3M2Q6e25lZWRzUmVndWxhclVwZGF0ZTohMH19KSx0Lk9wdGlvbnN9KSksZGVmaW5lKFwiM2QvdGhyZWVkXCIsW1wianhnXCJdLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5UaHJlZUQ9e30sdC5UaHJlZUR9KSksZGVmaW5lKFwiM2QvdmlldzNkXCIsW1wianhnXCIsXCJvcHRpb25zXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwidXRpbHMvdHlwZVwiLFwibWF0aC9tYXRoXCIsXCJiYXNlL2VsZW1lbnRcIixcIjNkL3RocmVlZFwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIG4uVmlldzNEPWZ1bmN0aW9uKHQsZSxzKXt2YXIgbyxuLGE7dGhpcy5jb25zdHJ1Y3Rvcih0LHMsaS5PQkpFQ1RfVFlQRV9WSUVXM0QsaS5PQkpFQ1RfQ0xBU1NfQ1VSVkUpLG89ZVsyXSxuPWVbMF0sYT1lWzFdLHRoaXMuRDM9e30sdGhpcy5EMy5vYmplY3RzPXt9LHRoaXMuRDMub2JqZWN0c0xpc3Q9W10sdGhpcy5EMy5kZWZhdWx0QXhlcz1udWxsLHRoaXMuRDMubWF0cml4PVtbMSwwLDAsMF0sWzAsMSwwLDBdLFswLDAsMSwwXV0sdGhpcy5EMy5iYm94M2Q9byx0aGlzLkQzLmNvb3Jkcz1uLHRoaXMuRDMuc2l6ZT1hLHRoaXMuRDMucj0tMSx0aGlzLnRpbWVvdXRBemltdXRoPW51bGwsdGhpcy5pZD10aGlzLmJvYXJkLnNldElkKHRoaXMsXCJWXCIpLHRoaXMuYm9hcmQuZmluYWxpemVBZGRpbmcodGhpcyksdGhpcy5lbFR5cGU9XCJ2aWV3M2RcIix0aGlzLm1ldGhvZE1hcD1yLmRlZXBDb3B5KHRoaXMubWV0aG9kTWFwLHt9KX0sbi5WaWV3M0QucHJvdG90eXBlPW5ldyBvLHQuZXh0ZW5kKG4uVmlldzNELnByb3RvdHlwZSx7Y3JlYXRlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzPVtdO3JldHVybiB0LmluZGV4T2YoXCIzZFwiKT4wJiYoITAscy5wdXNoKHRoaXMpKSxyPXRoaXMuYm9hcmQuY3JlYXRlKHQscy5jb25jYXQoZSksaSksdGhpcy5hZGQocikscn0sYWRkOmZ1bmN0aW9uKHQpe3RoaXMuRDMub2JqZWN0c1t0LmlkXT10LHRoaXMuRDMub2JqZWN0c0xpc3QucHVzaCh0KX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG8sbixhPXRoaXMuRDM7cmV0dXJuIHIuZXhpc3RzKGEuZWxfc2xpZGUpJiZyLmV4aXN0cyhhLmF6X3NsaWRlKSYmdGhpcy5uZWVkc1VwZGF0ZT8odD1hLmVsX3NsaWRlLlZhbHVlKCksZT1hLnIsaT1hLmF6X3NsaWRlLlZhbHVlKCksbz1lKk1hdGguc2luKHQpLG49W1sxLDAsMF0sWzAsMSwwXSxbMCwwLDFdXSxhLm1hdHJpeD1bWzEsMCwwLDBdLFswLDEsMCwwXSxbMCwwLDEsMF1dLGEubWF0cml4WzFdWzFdPWUqTWF0aC5jb3MoaSksYS5tYXRyaXhbMV1bMl09LWUqTWF0aC5zaW4oaSksYS5tYXRyaXhbMl1bMV09bypNYXRoLnNpbihpKSxhLm1hdHJpeFsyXVsyXT1vKk1hdGguY29zKGkpLGEubWF0cml4WzJdWzNdPU1hdGguY29zKHQpLG5bMV1bMV09YS5zaXplWzBdLyhhLmJib3gzZFswXVsxXS1hLmJib3gzZFswXVswXSksblsyXVsyXT1hLnNpemVbMV0vKGEuYmJveDNkWzFdWzFdLWEuYmJveDNkWzFdWzBdKSxuWzFdWzBdPWEuY29vcmRzWzBdLW5bMV1bMV0qYS5iYm94M2RbMF1bMF0sblsyXVswXT1hLmNvb3Jkc1sxXS1uWzJdWzJdKmEuYmJveDNkWzFdWzBdLGEubWF0cml4PXMubWF0TWF0TXVsdChuLGEubWF0cml4KSx0aGlzKTp0aGlzfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPSExLHRoaXN9LHByb2plY3QzRFRvMkQ6ZnVuY3Rpb24odCxlLGkpe3ZhciByO3JldHVybiByPTM9PT1hcmd1bWVudHMubGVuZ3RoP1sxLHQsZSxpXTozPT09dC5sZW5ndGg/WzFdLmNvbmNhdCh0KTp0LHMubWF0VmVjTXVsdCh0aGlzLkQzLm1hdHJpeCxyKX0scHJvamVjdDJEVG8zRFBsYW5lOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixvLG4sYSxoPWUuc2xpY2UoMSksbD1bMSwwLDAsMF07aT1pfHxbMSwwLDAsMF0sYT1zLm5vcm0oaCwzKSxuPXMuaW5uZXJQcm9kdWN0KGkuc2xpY2UoMSksaCwzKS9hLChyPXRoaXMuRDMubWF0cml4LnNsaWNlKDAsMykpLnB1c2goWzBdLmNvbmNhdChoKSksbz10LmNvb3Jkcy51c3JDb29yZHMuY29uY2F0KFtuXSk7dHJ5ezE9PT1yWzJdWzNdJiYoclsyXVsxXT1yWzJdWzJdPS4wMDEqcy5lcHMpLGw9cy5OdW1lcmljcy5HYXVzcyhyLG8pfWNhdGNoKHQpe2w9WzAsTmFOLE5hTixOYU5dfXJldHVybiBsfSxwcm9qZWN0M0RUb0N1YmU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5EMy5iYm94M2Q7cmV0dXJuIHRbMV08ZVswXVswXSYmKHRbMV09ZVswXVswXSksdFsxXT5lWzBdWzFdJiYodFsxXT1lWzBdWzFdKSx0WzJdPGVbMV1bMF0mJih0WzJdPWVbMV1bMF0pLHRbMl0+ZVsxXVsxXSYmKHRbMl09ZVsxXVsxXSksdFszXTxlWzJdWzBdJiYodFszXT1lWzJdWzBdKSx0WzNdPmVbMl1bMV0mJih0WzNdPWVbMl1bMV0pLHR9LGludGVyc2VjdGlvbkxpbmVDdWJlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbjtmb3Iocj1pLHM9MDtzPDM7cysrKTAhPT1lW3NdJiYobz0odGhpcy5EMy5iYm94M2Rbc11bMF0tdFtzXSkvZVtzXSxuPSh0aGlzLkQzLmJib3gzZFtzXVsxXS10W3NdKS9lW3NdLHI9aTwwP01hdGgubWF4KHIsTWF0aC5taW4obyxuKSk6TWF0aC5taW4ocixNYXRoLm1heChvLG4pKSk7cmV0dXJuIHJ9LGlzSW5DdWJlOmZ1bmN0aW9uKHQpe3JldHVybiB0WzBdPnRoaXMuRDMuYmJveDNkWzBdWzBdLXMuZXBzJiZ0WzBdPHRoaXMuRDMuYmJveDNkWzBdWzFdK3MuZXBzJiZ0WzFdPnRoaXMuRDMuYmJveDNkWzFdWzBdLXMuZXBzJiZ0WzFdPHRoaXMuRDMuYmJveDNkWzFdWzFdK3MuZXBzJiZ0WzJdPnRoaXMuRDMuYmJveDNkWzJdWzBdLXMuZXBzJiZ0WzJdPHRoaXMuRDMuYmJveDNkWzJdWzFdK3MuZXBzfSxpbnRlcnNlY3Rpb25QbGFuZVBsYW5lOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixvLG4sYSxoPVtbXSxbXV07cmV0dXJuIGk9aXx8ZS5EMy5kLHI9cy5HZW9tZXRyeS5tZWV0M1BsYW5lcyh0LkQzLm5vcm1hbCx0LkQzLmQsZS5EMy5ub3JtYWwsaSxzLmNyb3NzUHJvZHVjdCh0LkQzLm5vcm1hbCxlLkQzLm5vcm1hbCksMCksbz1zLkdlb21ldHJ5Lm1lZXRQbGFuZVBsYW5lKHQuRDMuZGlyMSx0LkQzLmRpcjIsZS5EMy5kaXIxLGUuRDMuZGlyMiksbj10aGlzLmludGVyc2VjdGlvbkxpbmVDdWJlKHIsbywxLzApLGE9cy5heHB5KG4sbyxyKSx0aGlzLmlzSW5DdWJlKGEpJiYoaFswXT1hKSxuPXRoaXMuaW50ZXJzZWN0aW9uTGluZUN1YmUocixvLC0xLzApLGE9cy5heHB5KG4sbyxyKSx0aGlzLmlzSW5DdWJlKGEpJiYoaFsxXT1hKSxofSxnZXRNZXNoOmZ1bmN0aW9uKHQsZSxpLHMsbyl7dmFyIG4sYSxoLGwsYyxkLHUscD1bMCwwLDBdLGY9c1syXSxtPW9bMl0sZz1bXSxiPVtdO2ZvcihkPShyLmV2YWx1YXRlKHNbMV0pLXIuZXZhbHVhdGUoc1swXSkpL2YsdT0oci5ldmFsdWF0ZShvWzFdKS1yLmV2YWx1YXRlKG9bMF0pKS9tLG49MDtuPD1mO24rKyl7Zm9yKGg9c1swXStkKm4sYT0wO2E8PW07YSsrKWw9b1swXSt1KmEscFswXT10KGgsbCkscFsxXT1lKGgsbCkscFsyXT1pKGgsbCksYz10aGlzLnByb2plY3QzRFRvMkQocCksZy5wdXNoKGNbMV0pLGIucHVzaChjWzJdKTtnLnB1c2goTmFOKSxiLnB1c2goTmFOKX1mb3IoYT0wO2E8PW07YSsrKXtmb3IobD1vWzBdK3UqYSxuPTA7bjw9ZjtuKyspaD1zWzBdK2QqbixwWzBdPXQoaCxsKSxwWzFdPWUoaCxsKSxwWzJdPWkoaCxsKSxjPXRoaXMucHJvamVjdDNEVG8yRChwKSxnLnB1c2goY1sxXSksYi5wdXNoKGNbMl0pO2cucHVzaChOYU4pLGIucHVzaChOYU4pfXJldHVybltnLGJdfSxhbmltYXRlQXppbXV0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuRDMuYXpfc2xpZGUuX3NtaW4sZT10aGlzLkQzLmF6X3NsaWRlLl9zbWF4LXQsaT10aGlzLkQzLmF6X3NsaWRlLlZhbHVlKCkrLjE7dGhpcy5EMy5hel9zbGlkZS5wb3NpdGlvbj0oaS10KS9lLHRoaXMuRDMuYXpfc2xpZGUucG9zaXRpb24+MSYmKHRoaXMuRDMuYXpfc2xpZGUucG9zaXRpb249MCksdGhpcy5ib2FyZC51cGRhdGUoKSx0aGlzLnRpbWVvdXRBemltdXRoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmFuaW1hdGVBemltdXRoKCl9LmJpbmQodGhpcyksMjAwKX0sc3RvcEF6aW11dGg6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0QXppbXV0aCksdGhpcy50aW1lb3V0QXppbXV0aD1udWxsfX0pLG4uY3JlYXRlVmlldzNEPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxvLGEsaCxsLGMsZD1lWzBdLHU9ZVsxXTtyZXR1cm4gbz1yLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwidmlldzNkXCIpLChzPW5ldyBuLlZpZXczRCh0LGUsbykpLmRlZmF1bHRBeGVzPXMuY3JlYXRlKFwiYXhlczNkXCIsZSxpKSxhPWRbMF0saD1kWzFdLGw9dVswXSxjPXVbMV0scy5EMy5hel9zbGlkZT10LmNyZWF0ZShcInNsaWRlclwiLFtbYS0xLGgtMl0sW2ErbCsxLGgtMl0sWzAsMSwyKk1hdGguUEldXSx7c3R5bGU6NixuYW1lOlwiYXpcIixwb2ludDE6e2Zyb3plbjohMH0scG9pbnQyOntmcm96ZW46ITB9fSkscy5EMy5lbF9zbGlkZT10LmNyZWF0ZShcInNsaWRlclwiLFtbYS0xLGhdLFthLTEsaCtjXSxbMCwuMyxNYXRoLlBJLzJdXSx7c3R5bGU6NixuYW1lOlwiZWxcIixwb2ludDE6e2Zyb3plbjohMH0scG9pbnQyOntmcm96ZW46ITB9fSkscy5ib2FyZC5oaWdobGlnaHRJbmZvYm94PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbztyLmV4aXN0cyhpLkQzKT9cImF1dG9cIj09PShvPXIuZXZhbHVhdGUoaS52aXNQcm9wLmluZm9ib3hkaWdpdHMpKT9zLmJvYXJkLmhpZ2hsaWdodEN1c3RvbUluZm9ib3goXCIoXCIrci5hdXRvRGlnaXRzKGkuRDMuWCgpKStcIiB8IFwiK3IuYXV0b0RpZ2l0cyhpLkQzLlkoKSkrXCIgfCBcIityLmF1dG9EaWdpdHMoaS5EMy5aKCkpK1wiKVwiLGkpOnMuYm9hcmQuaGlnaGxpZ2h0Q3VzdG9tSW5mb2JveChcIihcIityLnRvRml4ZWQoaS5EMy5YKCksbykrXCIgfCBcIityLnRvRml4ZWQoaS5EMy5ZKCksbykrXCIgfCBcIityLnRvRml4ZWQoaS5EMy5aKCksbykrXCIpXCIsaSk6cy5ib2FyZC5oaWdobGlnaHRDdXN0b21JbmZvYm94KFwiKFwiK3QrXCIsIFwiK2UrXCIpXCIsaSl9LHN9LHQucmVnaXN0ZXJFbGVtZW50KFwidmlldzNkXCIsbi5jcmVhdGVWaWV3M0QpLG4uVmlldzNEfSkpLGRlZmluZShcIjNkL2JveDNkXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcIjNkL3ZpZXczZFwiXSwoZnVuY3Rpb24odCxlLGkscixzKXtcInVzZSBzdHJpY3RcIjtzLmNyZWF0ZUF4ZXM9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbixhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXz1pWzBdLFA9W1wieFwiLFwieVwiLFwielwiXSxFPVwiQXhpc1wiLHg9W1wiUmVhclwiLFwiRnJvbnRcIl0sUz1bMCwwLDBdLE89WzAsMCwwXSx3PXt9O2lmKGUuZXhpc3RzKF8uRDMpKWZvcihzPTA7czxQLmxlbmd0aDtzKyspU1tzXT1fLkQzLmJib3gzZFtzXVswXSxPW3NdPV8uRDMuYmJveDNkW3NdWzFdO2Vsc2UgZm9yKHM9MDtzPFAubGVuZ3RoO3MrKylTW3NdPWlbMV1bc10sT1tzXT1pWzJdWzFdO2ZvcihjPShsPWUuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJheGVzM2RcIikpLmF4ZXNwb3NpdGlvbixzPTA7czxQLmxlbmd0aDtzKyspdj0oZD1QW3NdKStFLFwiY2VudGVyXCI9PT1jPyh1PVswLDAsMF0sKHA9WzAsMCwwXSlbc109T1tzXSx3W3ZdPV8uY3JlYXRlKFwiYXhpczNkXCIsW3UscF0sbFt2LnRvTG93ZXJDYXNlKCldKSk6KHYrPVwiQm9yZGVyXCIsdT1TLnNsaWNlKCkscD1PLnNsaWNlKCksMj09PXM/KHVbMV09T1sxXSxwWzBdPVNbMF0pOih1W3NdPU9bc10scFsyXT1TWzJdKSxwW3NdPU9bc10sbFt2LnRvTG93ZXJDYXNlKCldLmxhc3RBcnJvdz0hMSx3W3ZdPV8uY3JlYXRlKFwiYXhpczNkXCIsW3UscF0sbFt2LnRvTG93ZXJDYXNlKCldKSxDPXt2aXNpYmxlOiEwLG1pbm9yVGlja3M6MCx0aWNrRW5kaW5nczpbMCwxXSxkcmF3TGFiZWxzOiExfSwyPT09cyYmKEMudGlja0VuZGluZ3M9WzEsMF0pLHdbditcIlRpY2tzXCJdPV8uY3JlYXRlKFwidGlja3NcIixbd1t2XSwxXSxDKSk7Zm9yKHcuTz10LmNyZWF0ZShcImludGVyc2VjdGlvblwiLFt3W1BbMF0rRV0sd1tQWzFdK0VdXSx7bmFtZTpcIlwiLHZpc2libGU6ITEsd2l0aExhYmVsOiExfSkscz0wO3M8UC5sZW5ndGg7cysrKWZvcihhPShzKzEpJTMsaD0ocysyKSUzLGQ9UFtzXSxvPTA7bzx4Lmxlbmd0aDtvKyspKHU9WzAsMCwwXSlbc109MD09PW8/U1tzXTpPW3NdLG09WzAsMCwwXSwoZj1bMCwwLDBdKVthXT0xLG1baF09MSxnPVtTW2FdLE9bYV1dLGI9W1NbaF0sT1toXV0sdj1kK1wiUGxhbmVcIit4W29dLGw9ZS5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImF4ZXMzZFwiLHYpLHdbdl09Xy5jcmVhdGUoXCJwbGFuZTNkXCIsW3UsZixtLGcsYl0sbCksd1t2XS5EMy5lbFR5cGU9XCJheGlzcGxhbmUzZFwiO2ZvcihzPTA7czxQLmxlbmd0aDtzKyspZm9yKGQ9UFtzXSxvPTA7bzx4Lmxlbmd0aDtvKyspZm9yKG49MTtuPD0yO24rKyl2PWQrXCJQbGFuZVwiK3hbb10rUFthPShzK24pJTNdLnRvVXBwZXJDYXNlKCkrXCJBeGlzXCIseT1kK1wiUGxhbmVcIit4W29dLCh1PVswLDAsMF0pW3NdPShwPVswLDAsMF0pW3NdPTA9PT1vP1Nbc106T1tzXSx1W2FdPVNbYV0scFthXT1PW2FdLGw9ZS5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImF4ZXMzZFwiLHYpLHdbdl09Xy5jcmVhdGUoXCJheGlzM2RcIixbdSxwXSxsKSx3W3ldLmFkZENoaWxkKHdbdl0pLHdbeV0uaW5oZXJpdHMucHVzaCh3W3ZdKTtyZXR1cm4gd30sdC5yZWdpc3RlckVsZW1lbnQoXCJheGVzM2RcIixzLmNyZWF0ZUF4ZXMpLHMuY3JlYXRlQXhpcz1mdW5jdGlvbih0LGkscil7dmFyIHMsbyxuLGEsaCxsLGM9aVswXSxkPWlbMV0sdT1pWzJdO3JldHVybiBzPWUuY29weUF0dHJpYnV0ZXMoci5wb2ludDEsdC5vcHRpb25zLFwiYXhpczNkXCIsXCJwb2ludDFcIiksbz10LmNyZWF0ZShcInBvaW50XCIsWyhhPWRbMF0saD1kWzFdLGw9ZFsyXSxmdW5jdGlvbigpe3JldHVybiBjLnByb2plY3QzRFRvMkQoYSxoLGwpWzFdfSksZnVuY3Rpb24odCxlLGkpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBjLnByb2plY3QzRFRvMkQodCxlLGkpWzJdfX0oZFswXSxkWzFdLGRbMl0pXSxzKSxzPWUuY29weUF0dHJpYnV0ZXMoci5wb2ludDIsdC5vcHRpb25zLFwiYXhpczNkXCIsXCJwb2ludDJcIiksbj10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5wcm9qZWN0M0RUbzJEKHQsZSxpKVsxXX19KHVbMF0sdVsxXSx1WzJdKSxmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvamVjdDNEVG8yRCh0LGUsaSlbMl19fSh1WzBdLHVbMV0sdVsyXSldLHMpLHM9ZS5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImF4aXMzZFwiKSx0LmNyZWF0ZShcImFycm93XCIsW28sbl0scyl9LHQucmVnaXN0ZXJFbGVtZW50KFwiYXhpczNkXCIscy5jcmVhdGVBeGlzKSxzLmNyZWF0ZU1lc2g9ZnVuY3Rpb24oaSxyLHMpe3ZhciBvLG49clswXSxhPXJbMV0saD1yWzJdLGw9clszXSxjPXJbNF0sZD1yWzVdO3JldHVybihvPWkuY3JlYXRlKFwiY3VydmVcIixbW10sW11dLHMpKS51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgaSxyLHMsbyx1PWxbMF0scD1sWzFdLGY9ZFswXSxtPWRbMV0sZz1bMCwwLDBdLGI9WzAsMCwwXSx2PVswLDAsMF07Zm9yKHRoaXMuZGF0YVg9W10sdGhpcy5kYXRhWT1bXSxvPTA7bzwzO28rKyl2W29dPWUuZXZhbHVhdGUoYVtvXSksZ1tvXT1lLmV2YWx1YXRlKGhbb10pLGJbb109ZS5ldmFsdWF0ZShjW29dKTtmb3IoaT10Lk1hdGgubm9ybShnLDMpLHI9dC5NYXRoLm5vcm0oYiwzKSxvPTA7bzwzO28rKylnW29dLz1pLGJbb10vPXI7cz1uLmdldE1lc2goKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZbMF0rdCpnWzBdK2UqYlswXX0pLChmdW5jdGlvbih0LGUpe3JldHVybiB2WzFdK3QqZ1sxXStlKmJbMV19KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdlsyXSt0KmdbMl0rZSpiWzJdfSksW01hdGguY2VpbCh1KSxNYXRoLmZsb29yKHApLChNYXRoLmNlaWwocCktTWF0aC5mbG9vcih1KSkvMV0sW01hdGguY2VpbChmKSxNYXRoLmZsb29yKG0pLChNYXRoLmNlaWwobSktTWF0aC5mbG9vcihmKSkvMV0pLHRoaXMuZGF0YVg9c1swXSx0aGlzLmRhdGFZPXNbMV19LG99LHQucmVnaXN0ZXJFbGVtZW50KFwibWVzaDNkXCIscy5jcmVhdGVNZXNoKX0pKSxkZWZpbmUoXCIzZC9jdXJ2ZTNkXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCIsXCIzZC92aWV3M2RcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtpLmNyZWF0ZUN1cnZlPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG49aVswXTtyZXR1cm4ocz17ZWxUeXBlOlwiY3VydmUzRFwiLFg6aVsxXSxZOmlbMl0sWjppWzNdfSkuRj1bcy5YLHMuWSxzLlpdLChvPXQuY3JlYXRlKFwiY3VydmVcIixbW10sW11dLHIpKS5EMz1zLGUuaXNGdW5jdGlvbihvLkQzLlgpPyhvLkQzLnJhbmdlPWlbNF0sby51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxpLHIscz1lLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5udW1iZXJwb2ludHNoaWdoKSxvPWUuZXZhbHVhdGUodGhpcy5EMy5yYW5nZVswXSksYT1lLmV2YWx1YXRlKHRoaXMuRDMucmFuZ2VbMV0pLGg9KGEtbykvKHMtMSksbD1bMCwwLDBdO2Zvcih0aGlzLmRhdGFYPVtdLHRoaXMuZGF0YVk9W10saT1vO2k8PWE7aSs9aCl7Zm9yKHI9MDtyPDM7cisrKWxbcl09dGhpcy5EMy5GW3JdKGkpO3Q9bi5wcm9qZWN0M0RUbzJEKGwpLHRoaXMuZGF0YVgucHVzaCh0WzFdKSx0aGlzLmRhdGFZLnB1c2godFsyXSl9fSk6ZS5pc0FycmF5KG8uRDMuWCkmJihvLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLkQzLlgubGVuZ3RoO2Zvcih0aGlzLmRhdGFYPVtdLHRoaXMuZGF0YVk9W10sdD0wO3Q8aTt0KyspZT1uLnByb2plY3QzRFRvMkQoW3RoaXMuRDMuWFt0XSx0aGlzLkQzLllbdF0sdGhpcy5EMy5aW3RdXSksdGhpcy5kYXRhWC5wdXNoKGVbMV0pLHRoaXMuZGF0YVkucHVzaChlWzJdKX0pLG99LHQucmVnaXN0ZXJFbGVtZW50KFwiY3VydmUzZFwiLGkuY3JlYXRlQ3VydmUpfSkpLGRlZmluZShcIjNkL2xpbnNwYWNlM2RcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwiM2QvdmlldzNkXCJdLChmdW5jdGlvbih0LGUsaSxyLHMpe1widXNlIHN0cmljdFwiO3MuY3JlYXRlTGluZT1mdW5jdGlvbih0LGkscil7dmFyIHMsbyxuLGEsaCxsLGM9aVswXTtyZXR1cm4gbz17ZWxUeXBlOlwibGluZTNkXCIscmFuZ2U6aVszXXx8Wy0xLzAsMS8wXX0sbj1lLmlzUG9pbnQoaVsxXSk/aVsxXTpjLmNyZWF0ZShcInBvaW50M2RcIixpWzFdLHt2aXNpYmxlOiExLG5hbWU6XCJcIix3aXRoTGFiZWw6ITF9KSxvLnBvaW50PW4sZS5pc1BvaW50KGlbMl0pJiZlLmV4aXN0cyhpWzJdLkQzKT8oYT1uLGg9aVsyXSxvLmRpcmVjdGlvbj1mdW5jdGlvbigpe3JldHVybltoLkQzLlgoKS1uLkQzLlgoKSxoLkQzLlkoKS1uLkQzLlkoKSxoLkQzLlooKS1uLkQzLlooKV19LG8ucmFuZ2U9WzAsMV0pOihlLmlzRnVuY3Rpb24oaVsyXSk/by5kaXJlY3Rpb249aVsyXTozPT09aVsyXS5sZW5ndGg/by5kaXJlY3Rpb249WzFdLmNvbmNhdChpWzJdKTo0PT09aVsyXS5sZW5ndGgmJihvLmRpcmVjdGlvbj1pWzJdKSxvLmdldFBvaW50Q29vcmRzPWZ1bmN0aW9uKHQpe3ZhciBpLHI9W10scz1bXTtpZihyLnB1c2gobi5EMy5YKCkpLHIucHVzaChuLkQzLlkoKSksci5wdXNoKG4uRDMuWigpKSxlLmlzRnVuY3Rpb24oby5kaXJlY3Rpb24pKXM9by5kaXJlY3Rpb24oKTtlbHNlIGZvcihpPTE7aTw0O2krKylzLnB1c2goZS5ldmFsdWF0ZShvLmRpcmVjdGlvbltpXSkpO3JldHVybiBNYXRoLmFicyh0KT09PTEvMCYmKHQ9Yy5pbnRlcnNlY3Rpb25MaW5lQ3ViZShyLHMsdCkpLFtyWzBdK3NbMF0qdCxyWzFdK3NbMV0qdCxyWzJdK3NbMl0qdF19LHM9ZS5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImxpbmUzZFwiLFwicG9pbnQxXCIpLGE9Yy5jcmVhdGUoXCJwb2ludDNkXCIsW2Z1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0UG9pbnRDb29yZHMoZS5ldmFsdWF0ZShvLnJhbmdlWzBdKSl9XSxzKSxzPWUuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJsaW5lM2RcIixcInBvaW50MlwiKSxoPWMuY3JlYXRlKFwicG9pbnQzZFwiLFtmdW5jdGlvbigpe3JldHVybiBvLmdldFBvaW50Q29vcmRzKGUuZXZhbHVhdGUoby5yYW5nZVsxXSkpfV0scykpLHM9ZS5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImxpbmUzZFwiKSwobD1jLmNyZWF0ZShcInNlZ21lbnRcIixbYSxoXSxzKSkucG9pbnQxPWEsbC5wb2ludDI9aCxhLmFkZENoaWxkKGwpLGguYWRkQ2hpbGQobCksbC5EMz1vLGx9LHQucmVnaXN0ZXJFbGVtZW50KFwibGluZTNkXCIscy5jcmVhdGVMaW5lKSxzLmNyZWF0ZVBsYW5lPWZ1bmN0aW9uKHQscyxvKXt2YXIgbixhLGgsbCxjLGQ9c1swXSx1PXNbMl0scD1zWzNdO3JldHVybiBhPXtlbFR5cGU6XCJwbGFuZTNkXCIsZGlyMTpbXSxkaXIyOltdLHJhbmdlMTpzWzRdLHJhbmdlMjpzWzVdLHZlYzE6dSx2ZWMyOnB9LGg9ZS5pc1BvaW50KHNbMV0pP3NbMV06ZC5jcmVhdGUoXCJwb2ludDNkXCIsc1sxXSx7dmlzaWJsZTohMSxuYW1lOlwiXCIsd2l0aExhYmVsOiExfSksYS5wb2ludD1oLGEudXBkYXRlTm9ybWFsPWZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQ9MDt0PDM7dCsrKWEuZGlyMVt0XT1lLmV2YWx1YXRlKGEudmVjMVt0XSksYS5kaXIyW3RdPWUuZXZhbHVhdGUoYS52ZWMyW3RdKTthLm5vcm1hbD1pLmNyb3NzUHJvZHVjdChhLmRpcjEsYS5kaXIyKSxhLmQ9aS5pbm5lclByb2R1Y3QoYS5wb2ludC5EMy5jb29yZHMuc2xpY2UoMSksYS5ub3JtYWwsMyl9LGEudXBkYXRlTm9ybWFsKCksbj1lLmNvcHlBdHRyaWJ1dGVzKG8sdC5vcHRpb25zLFwicGxhbmUzZFwiKSwobD10LmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxuKSkuRDM9YSxsLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0LHMsbyxuLGgsbCxjLHUscCxmLG0sZyxiLHYseT1bXCJ4UGxhbmVSZWFyXCIsXCJ5UGxhbmVSZWFyXCIsXCJ6UGxhbmVSZWFyXCJdLEM9W10sXz1bMCwwLDBdLFA9WzAsMCwwXSxFPVswLDAsMF0seD1bMCwwLDBdO2lmKHRoaXMuZGF0YVg9W10sdGhpcy5kYXRhWT1bXSx0aGlzLkQzLnVwZGF0ZU5vcm1hbCgpLFwiYXhpc3BsYW5lM2RcIj09PXRoaXMuRDMuZWxUeXBlfHwhZC5kZWZhdWx0QXhlc3x8YS5yYW5nZTEmJmEucmFuZ2UyKXtmb3IodD1lLmV2YWx1YXRlKHRoaXMuRDMucmFuZ2UxWzBdKSxzPWUuZXZhbHVhdGUodGhpcy5EMy5yYW5nZTFbMV0pLG89ZS5ldmFsdWF0ZSh0aGlzLkQzLnJhbmdlMlswXSksbj1lLmV2YWx1YXRlKHRoaXMuRDMucmFuZ2UyWzFdKSxFPXRoaXMuRDMucG9pbnQuRDMuY29vcmRzLnNsaWNlKDEpLF89dGhpcy5EMy5kaXIxLnNsaWNlKCksUD10aGlzLkQzLmRpcjIuc2xpY2UoKSxsPWkubm9ybShfLDMpLGM9aS5ub3JtKFAsMykscD0wO3A8MztwKyspX1twXS89bCxQW3BdLz1jO2ZvcihmPTA7Zjw0O2YrKyl7c3dpdGNoKGYpe2Nhc2UgMDptPXQsZz1vO2JyZWFrO2Nhc2UgMTptPXMsZz1vO2JyZWFrO2Nhc2UgMjptPXMsZz1uO2JyZWFrO2Nhc2UgMzptPXQsZz1ufWZvcihwPTA7cDwzO3ArKyl4W3BdPUVbcF0rbSpfW3BdK2cqUFtwXTtoPWQucHJvamVjdDNEVG8yRCh4KSx0aGlzLmRhdGFYLnB1c2goaFsxXSksdGhpcy5kYXRhWS5wdXNoKGhbMl0pfXRoaXMuZGF0YVgucHVzaCh0aGlzLmRhdGFYWzBdKSx0aGlzLmRhdGFZLnB1c2godGhpcy5kYXRhWVswXSl9ZWxzZXtmb3IoZj0wO2Y8eS5sZW5ndGg7ZisrKXtpZigzPT09KHg9ZC5pbnRlcnNlY3Rpb25QbGFuZVBsYW5lKHRoaXMsZC5kZWZhdWx0QXhlc1t5W2ZdXSkpWzBdLmxlbmd0aCYmMz09PXhbMV0ubGVuZ3RoKXtmb3IocD0wO3A8Qy5sZW5ndGgmJiEoci5kaXN0YW5jZSh4WzBdLENbcF1bMF0sMyk8aS5lcHMmJnIuZGlzdGFuY2UoeFsxXSxDW3BdWzFdLDMpPGkuZXBzfHxyLmRpc3RhbmNlKHhbMF0sQ1twXVsxXSwzKTxpLmVwcyYmci5kaXN0YW5jZSh4WzFdLENbcF1bMF0sMyk8aS5lcHMpO3ArKyk7cD09PUMubGVuZ3RoJiZDLnB1c2goeC5zbGljZSgpKX1pZigoeD1bMCwwLDBdKVtmXT1kLkQzLmJib3gzZFtmXVsxXSx1PWkuaW5uZXJQcm9kdWN0KHgsZC5kZWZhdWx0QXhlc1t5W2ZdXS5EMy5ub3JtYWwsMyksMz09PSh4PWQuaW50ZXJzZWN0aW9uUGxhbmVQbGFuZSh0aGlzLGQuZGVmYXVsdEF4ZXNbeVtmXV0sdSkpWzBdLmxlbmd0aCYmMz09PXhbMV0ubGVuZ3RoKXtmb3IocD0wO3A8Qy5sZW5ndGgmJiEoci5kaXN0YW5jZSh4WzBdLENbcF1bMF0sMyk8aS5lcHMmJnIuZGlzdGFuY2UoeFsxXSxDW3BdWzFdLDMpPGkuZXBzfHxyLmRpc3RhbmNlKHhbMF0sQ1twXVsxXSwzKTxpLmVwcyYmci5kaXN0YW5jZSh4WzFdLENbcF1bMF0sMyk8aS5lcHMpO3ArKyk7cD09PUMubGVuZ3RoJiZDLnB1c2goeC5zbGljZSgpKX19MCxiPTAscD0wO2Rve2ZvcigzPT09KHg9Q1tiXVtwXSkubGVuZ3RoJiYoaD1kLnByb2plY3QzRFRvMkQoeCksdGhpcy5kYXRhWC5wdXNoKGhbMV0pLHRoaXMuZGF0YVkucHVzaChoWzJdKSkscD0ocCsxKSUyLHg9Q1tiXVtwXSx2PWIsZj0wO2Y8Qy5sZW5ndGg7ZisrKXtpZihmIT09YiYmci5kaXN0YW5jZSh4LENbZl1bMF0pPGkuZXBzKXtiPWYscD0wO2JyZWFrfWlmKGYhPT1iJiZyLmRpc3RhbmNlKHgsQ1tmXVsxXSk8aS5lcHMpe2I9ZixwPTE7YnJlYWt9fWlmKGI9PT12KXtjb25zb2xlLmxvZyhcIkVycm9yOiB1cGRhdGUgcGxhbmUzZDogZGlkIG5vdCBmaW5kIG5leHRcIixiKTticmVha319d2hpbGUoMCE9PWIpO2g9ZC5wcm9qZWN0M0RUbzJEKENbMF1bMF0pLHRoaXMuZGF0YVgucHVzaChoWzFdKSx0aGlzLmRhdGFZLnB1c2goaFsyXSl9fSxuPWUuY29weUF0dHJpYnV0ZXMoby5tZXNoM2QsdC5vcHRpb25zLFwibWVzaDNkXCIpLGEucmFuZ2UxJiZhLnJhbmdlMiYmKGM9ZC5jcmVhdGUoXCJtZXNoM2RcIixbaC5EMy5jb29yZHMuc2xpY2UoMSksdSxhLnJhbmdlMSxwLGEucmFuZ2UyXSxuKSxsLmdyaWQ9YyxsLmluaGVyaXRzLnB1c2goYykpLGx9LHQucmVnaXN0ZXJFbGVtZW50KFwicGxhbmUzZFwiLHMuY3JlYXRlUGxhbmUpfSkpLGRlZmluZShcIjNkL3BvaW50M2RcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcInV0aWxzL3R5cGVcIixcIjNkL3ZpZXczZFwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8pe1widXNlIHN0cmljdFwiO28uY3JlYXRlUG9pbnQ9ZnVuY3Rpb24odCxvLG4pe3ZhciBhLGgsbCxjLGQsdSxwPW9bMF07aWYoYT1zLmNvcHlBdHRyaWJ1dGVzKG4sdC5vcHRpb25zLFwicG9pbnQzZFwiKSxsPXtlbFR5cGU6XCJwb2ludDNkXCIsY29vcmRzOlsxLDAsMCwwXSxYOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzWzFdfSxZOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzWzJdfSxaOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzWzNdfX0sby5sZW5ndGg+MiYmcy5leGlzdHMob1tvLmxlbmd0aC0xXS5EMyk/bC5zbGlkZT1vLnBvcCgpOmwuc2xpZGU9bnVsbCwyPT09by5sZW5ndGgpbC5GPW9bMV0sbC5jb29yZHM9WzFdLmNvbmNhdChzLmV2YWx1YXRlKGwuRikpO2Vsc2UgaWYoND09PW8ubGVuZ3RoKWZvcihsLkY9by5zbGljZSgxKSxjPTA7YzwzO2MrKylsLmNvb3Jkc1tjKzFdPXMuZXZhbHVhdGUobC5GW2NdKTtyZXR1cm4gbC51cGRhdGVDb29yZHM9ZnVuY3Rpb24oKXt2YXIgdCxlO2lmKHMuaXNGdW5jdGlvbih0aGlzLkYpKXQ9cy5ldmFsdWF0ZSh0aGlzLkYpLHRoaXMuY29vcmRzPVsxLHRbMF0sdFsxXSx0WzJdXTtlbHNlIGZvcih0aGlzLmNvb3Jkc1swXT0xLGU9MDtlPDM7ZSsrKXMuaXNGdW5jdGlvbih0aGlzLkZbZV0pJiYodGhpcy5jb29yZHNbZSsxXT1zLmV2YWx1YXRlKHRoaXMuRltlXSkpO3JldHVybiB0aGlzfSxsLnVwZGF0ZUNvb3JkcygpLGQ9cC5wcm9qZWN0M0RUbzJEKGwuY29vcmRzKSwodT10LmNyZWF0ZShcInBvaW50XCIsZCxhKSkuRDM9bCx1LkQzLmMyZD11LmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoKSxoPXUudXBkYXRlLHUuRDMuc2xpZGUmJih1Ll9taW5GdW5jPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzPXUuRDMuc2xpZGUuRDMsbz1bMSxzLlgoaVswXSxpWzFdKSxzLlkoaVswXSxpWzFdKSxzLlooaVswXSxpWzFdKV0sbj1wLnByb2plY3QzRFRvMkQobyk7cmV0dXJuIHJbMF09dS5YKCktblsxXSxyWzFdPXUuWSgpLW5bMl0sclswXSpyWzBdK3JbMV0qclsxXX0sdS5wcm9qZWN0Q29vcmRzMlN1cmZhY2U9ZnVuY3Rpb24oKXt2YXIgdCxyLG89WzAsMF0sbj10aGlzLkQzLnNsaWRlLkQzO3MuZXhpc3RzKHRoaXMuRDMucGFyYW1zKSYmKG89dGhpcy5EMy5wYXJhbXMuc2xpY2UoKSksaS5ObHAuRmluZE1pbmltdW0odGhpcy5fbWluRnVuYywyLDIsbyw1LDFlLTYsMCwyMDApLHQ9WzEsbi5YKG9bMF0sb1sxXSksbi5ZKG9bMF0sb1sxXSksbi5aKG9bMF0sb1sxXSldLHI9cC5wcm9qZWN0M0RUbzJEKHQpLHRoaXMuRDMucGFyYW1zPW8sdGhpcy5EMy5jb29yZHM9dCx0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLHIpLHRoaXMuRDMuYzJkPXJ9KSx1LnVwZGF0ZT1mdW5jdGlvbih0KXt2YXIgaSxzO3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPyh0aGlzLmRyYWdnYWJsZSgpJiYwIT09ci5kaXN0YW5jZSh0aGlzLkQzLmMyZCx0aGlzLmNvb3Jkcy51c3JDb29yZHMpP3RoaXMuRDMuc2xpZGU/dGhpcy5wcm9qZWN0Q29vcmRzMlN1cmZhY2UoKToocz1bMSwwLDAsdGhpcy5EMy5jb29yZHNbM11dLDAhPT0oaT1wLnByb2plY3QyRFRvM0RQbGFuZSh1LFsxLDAsMCwxXSxzKSlbMF0mJih0aGlzLkQzLmNvb3Jkcz1wLnByb2plY3QzRFRvQ3ViZShpKSkpOih0aGlzLkQzLnVwZGF0ZUNvb3JkcygpLHUuY29vcmRzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIscC5wcm9qZWN0M0RUbzJEKFsxLHRoaXMuRDMuWCgpLHRoaXMuRDMuWSgpLHRoaXMuRDMuWigpXSkpKSx0aGlzLkQzLmMyZD11LmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoKSxoLmFwcGx5KHRoaXMsW3RdKSx0aGlzKTp0aGlzfSx1fSx0LnJlZ2lzdGVyRWxlbWVudChcInBvaW50M2RcIixvLmNyZWF0ZVBvaW50KX0pKSxkZWZpbmUoXCIzZC9zdXJmYWNlM2RcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIixcIjNkL3ZpZXczZFwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2kuY3JlYXRlUGFyYW1ldHJpY1N1cmZhY2U9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbixhPWlbMF07cmV0dXJuIG89e2VsVHlwZTpcInN1cmZhY2UzZFwiLFg6aVsxXSxZOmlbMl0sWjppWzNdLHJhbmdlX3U6aVs0XSxyYW5nZV92OmlbNV19LHM9ZS5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcInN1cmZhY2UzZFwiKSwobj10LmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxzKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQ9ZS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc3RlcHN1KSxpPWUuZXZhbHVhdGUodGhpcy52aXNQcm9wLnN0ZXBzdikscj1lLmV2YWx1YXRlKHRoaXMuRDMucmFuZ2VfdSkscz1lLmV2YWx1YXRlKHRoaXMuRDMucmFuZ2Vfdiksbz1hLmdldE1lc2godGhpcy5EMy5YLHRoaXMuRDMuWSx0aGlzLkQzLlosci5jb25jYXQoW3RdKSxzLmNvbmNhdChbaV0pKTt0aGlzLmRhdGFYPW9bMF0sdGhpcy5kYXRhWT1vWzFdfSxuLkQzPW8sbn0sdC5yZWdpc3RlckVsZW1lbnQoXCJwYXJhbWV0cmljc3VyZmFjZTNkXCIsaS5jcmVhdGVQYXJhbWV0cmljU3VyZmFjZSksaS5jcmVhdGVGdW5jdGlvbmdyYXBoPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1lWzBdLHM9ZVsxXSxvPWVbMl0sbj1lWzNdO3JldHVybiByLmNyZWF0ZShcInBhcmFtZXRyaWNzdXJmYWNlM2RcIixbZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0scyxvLG5dLGkpfSx0LnJlZ2lzdGVyRWxlbWVudChcImZ1bmN0aW9uZ3JhcGgzZFwiLGkuY3JlYXRlRnVuY3Rpb25ncmFwaCl9KSksZGVmaW5lKFwiLi4vYnVpbGQvY29yZS5kZXBzLmpzXCIsW1wianhnXCIsXCJ1dGlscy9lbnZcIixcImJhc2UvY29uc3RhbnRzXCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy94bWxcIixcInV0aWxzL2V2ZW50XCIsXCJ1dGlscy9leHBlY3RcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9wcm9iZnVuY3NcIixcIm1hdGgvaWFcIixcIm1hdGgvZXh0cmFwb2xhdGVcIixcIm1hdGgvcWR0XCIsXCJtYXRoL251bWVyaWNzXCIsXCJtYXRoL25scFwiLFwibWF0aC9wbG90XCIsXCJtYXRoL21ldGFwb3N0XCIsXCJtYXRoL3N0YXRpc3RpY3NcIixcIm1hdGgvc3ltYm9saWNcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvY2xpcFwiLFwibWF0aC9wb2x5XCIsXCJtYXRoL2NvbXBsZXhcIixcInJlbmRlcmVyL2Fic3RyYWN0XCIsXCJyZWFkZXIvZmlsZVwiLFwicGFyc2VyL2dlb25leHRcIixcImJhc2UvYm9hcmRcIixcIm9wdGlvbnNcIixcImpzeGdyYXBoXCIsXCJiYXNlL2VsZW1lbnRcIixcImJhc2UvY29vcmRzXCIsXCJiYXNlL2Nvb3Jkc2VsZW1lbnRcIixcImJhc2UvcG9pbnRcIixcImJhc2UvbGluZVwiLFwiYmFzZS9ncm91cFwiLFwiYmFzZS9jaXJjbGVcIixcImVsZW1lbnQvY29uaWNcIixcImJhc2UvcG9seWdvblwiLFwiYmFzZS9jdXJ2ZVwiLFwiZWxlbWVudC9hcmNcIixcImVsZW1lbnQvc2VjdG9yXCIsXCJiYXNlL2NvbXBvc2l0aW9uXCIsXCJlbGVtZW50L2NvbXBvc2l0aW9uXCIsXCJlbGVtZW50L2xvY3VzXCIsXCJiYXNlL3RleHRcIixcImJhc2UvaW1hZ2VcIixcImVsZW1lbnQvc2xpZGVyXCIsXCJlbGVtZW50L21lYXN1cmVcIixcImJhc2UvY2hhcnRcIixcImJhc2UvdHJhbnNmb3JtYXRpb25cIixcImJhc2UvdHVydGxlXCIsXCJ1dGlscy9jb2xvclwiLFwiYmFzZS90aWNrc1wiLFwidXRpbHMvemlwXCIsXCJ1dGlscy9iYXNlNjRcIixcInV0aWxzL3V1aWRcIixcInV0aWxzL2VuY29kaW5nXCIsXCJzZXJ2ZXIvc2VydmVyXCIsXCJwYXJzZXIvZGF0YXNvdXJjZVwiLFwicGFyc2VyL2plc3NpZWNvZGVcIixcInBhcnNlci9jYVwiLFwidXRpbHMvZHVtcFwiLFwicmVuZGVyZXIvc3ZnXCIsXCJyZW5kZXJlci92bWxcIixcInJlbmRlcmVyL2NhbnZhc1wiLFwicmVuZGVyZXIvbm9cIixcImVsZW1lbnQvY29tYlwiLFwiZWxlbWVudC9zbG9wZXRyaWFuZ2xlXCIsXCJlbGVtZW50L2NoZWNrYm94XCIsXCJlbGVtZW50L2lucHV0XCIsXCJlbGVtZW50L2J1dHRvblwiLFwiYmFzZS9mb3JlaWdub2JqZWN0XCIsXCJvcHRpb25zM2RcIixcIjNkL2JveDNkXCIsXCIzZC9jdXJ2ZTNkXCIsXCIzZC9saW5zcGFjZTNkXCIsXCIzZC9wb2ludDNkXCIsXCIzZC9zdXJmYWNlM2RcIixcIjNkL3RocmVlZFwiLFwiM2QvdmlldzNkXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiBlLmlzQnJvd3Nlcj93aW5kb3cuSlhHPXQ6ZS5pc05vZGUoKSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10OmUuaXNXZWJXb3JrZXIoKSYmKHNlbGYuSlhHPXQpLHR9KSkscmVxdWlyZShcIi4uL2J1aWxkL2NvcmUuZGVwcy5qc1wiKX0pKTsiLCJcbmltcG9ydCB7IFZpZXcsIFZpZXdMaXN0IH0gZnJvbSBcIi4vZnJhbWV3b3JrXCI7XG5pbXBvcnQgKiBhcyBKWEcgZnJvbSBcImpzeGdyYXBoXCJcbnR5cGUgQ2hhcnQ9e3Zpc2libGU6Ym9vbGVhbixmdW5jdGlvbnM6RnVuY3Rpb25bXX1cbmV4cG9ydCBjbGFzcyBDaGFydFZpZXcgZXh0ZW5kcyBWaWV3PENoYXJ0Plxue1xuXG4gIHByaXZhdGUgY2hhcnQ6SFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgYnRuQ2xvc2U6SFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIHByaXZhdGUgYnRuUmVkcmF3OkhUTUxCdXR0b25FbGVtZW50O1xuICBmdW5jdGlvbnNWaWV3OiBGdW5jdGlvbnNWaWV3O1xuICBwcml2YXRlIGJvYXJkOiBKWEcuQm9hcmQ7XG4gIHByaXZhdGUgY29sb3JzOnN0cmluZ1tdPVtcIiNBNjQ0OTlcIixcIiM4NGQ0YzlcIixcIiNmYmM5OTRcIl1cbiAgcHJpdmF0ZSBncmFwaHM6SlhHLkZ1bmN0aW9uZ3JhcGhbXT1bXTtcbiAgY29uc3RydWN0b3IoKVxuICB7XG4gICAgc3VwZXIoPEhUTUxFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsb3RPdmVybGF5XCIpKTtcbiAgICB0aGlzLmNoYXJ0PSA8SFRNTEVsZW1lbnQ+IHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKFwiI2NoYXJ0XCIpO1xuICAgIHRoaXMuYnRuQ2xvc2U9IDxIVE1MQnV0dG9uRWxlbWVudD4gdGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoXCIjYnRuQ2xvc2VcIik7XG4gICAgdGhpcy5idG5SZWRyYXc9IDxIVE1MQnV0dG9uRWxlbWVudD4gdGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoXCIjYnRuUmVkcmF3XCIpO1xuICAgIHRoaXMuYnRuUmVkcmF3Lm9uY2xpY2s9IHRoaXMub25CdXR0b25SZWRyYXcuYmluZCh0aGlzKVxuXG4gICAgdGhpcy5mdW5jdGlvbnNWaWV3PSBuZXcgRnVuY3Rpb25zVmlldygpO1xuICAgIHRoaXMuZnVuY3Rpb25zVmlldy5vbmtleWVudGVyPXRoaXMub25CdXR0b25SZWRyYXcuYmluZCh0aGlzKTtcbiAgICB0aGlzLmZ1bmN0aW9uc1ZpZXcub25wcm9wZXJ0eWNoYW5nZT0oc2VuZGVyLHZpZXcscHJvcGVydHksdmFsdWUpPT57XG4gICAgICBpZiAocHJvcGVydHk9PVwidmlzaWJsZVwiKVxuICAgICAge1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgIHsgICAgIFxuICAgICAgICAgIHZhciBpbmRleD0gdGhpcy5mdW5jdGlvbnNWaWV3LmluZGV4T2Yodmlldyk7XG4gICAgICAgICAgdmFyIG09IHZpZXcuZ2V0TW9kZWwoKTtcbiAgICAgICAgICB2YXIgZ3JhcGg9dGhpcy5hZGRHcmFwaChtLmZ1bmN0aW9uLHRoaXMuY29sb3JzW2luZGV4XSk7XG4gICAgICAgICAgdGhpcy5ncmFwaHNbaW5kZXhdPWdyYXBoO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIHZhciBpbmRleD0gdGhpcy5mdW5jdGlvbnNWaWV3LmluZGV4T2Yodmlldyk7IFxuICAgICAgICAgIHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMuZ3JhcGhzW2luZGV4XSk7XG4gICAgICAgICAgdGhpcy5ncmFwaHNbaW5kZXhdPW51bGw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmZ1bmN0aW9uc1ZpZXcub25jaGFuZ2U9KHNlbmRlcix2aWV3LHZhbHVlKT0+e1xuICAgICAgXG4gICAgfTtcbiAgfVxuICBvbkJ1dHRvblJlZHJhdyAoKSA6IGFueVxuICB7XG4gICAgdmFyIG1vZGVsPSB0aGlzLmZ1bmN0aW9uc1ZpZXcuZ2V0TW9kZWwoKTtcbiAgICB0aGlzLnJlZHJhdyhtb2RlbCk7ICAgIFxuXG4gIH1cbiAgcHVibGljIGdldCBvbmJ1dHRvbmNsb3NlKCk6ICh0aGlzOiBHbG9iYWxFdmVudEhhbmRsZXJzLCBldjogTW91c2VFdmVudCkgPT4gYW55IHtcbiAgICByZXR1cm4gdGhpcy5idG5DbG9zZS5vbmNsaWNrO1xuICB9XG4gIHB1YmxpYyBzZXQgb25idXR0b25jbG9zZSh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgIHRoaXMuYnRuQ2xvc2Uub25jbGljayA9IHZhbHVlO1xuICB9XG4gIFxuICBhZGRHcmFwaChmdW5jOnN0cmluZyxjb2xvcjpzdHJpbmcpXG4gIHtcbiAgICB0cnlcbiAgICB7XG4gICAgICB2YXIgZCA9IHRoaXMuYm9hcmQuamMuc25pcHBldChmdW5jLCB0cnVlLCAneCcsIHRydWUpO1xuICAgIH0gY2F0Y2goZXgpXG4gICAge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSAgICAgIFxuICAgIHZhciBncmFwaD10aGlzLmJvYXJkLmNyZWF0ZShcImZ1bmN0aW9uZ3JhcGhcIixkLHtzdHJva2VDb2xvcjpjb2xvcn0pOyAgXG4gICAgXG4gICAgcmV0dXJuIGdyYXBoO1xuICB9XG5cbiAgcmVkcmF3KGZ1bmN0aW9uczpGdW5jdGlvbltdKVxuICB7ICBcbiAgICB0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0aGlzLmdyYXBocyk7XG4gICAgdGhpcy5ncmFwaHMubGVuZ3RoPTA7XG4gICAgZm9yICh2YXIgYz0wO2M8IGZ1bmN0aW9ucy5sZW5ndGg7YysrKVxuICAgIHtcbiAgICAgIHZhciBmPWZ1bmN0aW9uc1tjXTtcbiAgICAgIGlmICghZi52aXNpYmxlKSBjb250aW51ZTtcbiAgICAgIHZhciBncmFwaD0gdGhpcy5hZGRHcmFwaChmLmZ1bmN0aW9uLHRoaXMuY29sb3JzW2NdKTtcbiAgICAgIHRoaXMuZ3JhcGhzW2NdPWdyYXBoO1xuICAgIH1cblxuICB9XG5cbiAgc2V0TW9kZWwodmFsdWU6IENoYXJ0KTogdm9pZCB7ICBcbiAgICB0aGlzLnZpc2libGU9dmFsdWUudmlzaWJsZTtcbiAgICB0aGlzLmZ1bmN0aW9uc1ZpZXcuc2V0TW9kZWwodmFsdWUuZnVuY3Rpb25zKTtcbiAgICAgXG4gICAgaWYgKHRoaXMuYm9hcmQhPW51bGwpIEpYRy5KU1hHcmFwaC5mcmVlQm9hcmQodGhpcy5ib2FyZCk7XG4gICAgdGhpcy5ib2FyZCA9IEpYRy5KU1hHcmFwaC5pbml0Qm9hcmQoJ2NoYXJ0JywgIDxQYXJ0aWFsPEpYRy5Cb2FyZEF0dHJpYnV0ZXM+PiB7XG4gICAgICBib3VuZGluZ2JveDogWy01LDUsNSwtNV0sXG4gICAgICBrZWVwQXNwZWN0UmF0aW86IHRydWUsXG4gICAgICBheGlzOiB0cnVlLCAgICBcbiAgICAgIHNob3dDb3B5cmlnaHQ6ZmFsc2UsXG4gICAgICByZXNpemU6IHtlbmFibGVkOiB0cnVlLCB0aHJvdHRsZTogMjAwfSxcbiAgICAgIHpvb206dHJ1ZSxcbiAgICAgIHBhbjp0cnVlXG4gICAgfSk7XG4gICAgXG4gICAgdGhpcy5yZWRyYXcodmFsdWUuZnVuY3Rpb25zKTtcbiBcbiAgfVxuICBnZXRNb2RlbCgpOiBDaGFydCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICBcbiAgICBcbiAgICB0aGlzLmJ0bkNsb3NlLm9uY2xpY2s9bnVsbDtcbiAgICB0aGlzLmJ0blJlZHJhdy5vbmNsaWNrPW51bGw7XG4gICAgdGhpcy5mdW5jdGlvbnNWaWV3LmNsZWFyKCk7XG4gICAgdGhpcy5mdW5jdGlvbnNWaWV3Lm9ua2V5ZW50ZXI9bnVsbDtcbiAgICBpZiAodGhpcy5ib2FyZCE9bnVsbCkgSlhHLkpTWEdyYXBoLmZyZWVCb2FyZCh0aGlzLmJvYXJkKTtcbiAgICB0aGlzLmdyYXBocy5sZW5ndGg9MDtcbiAgICB0aGlzLmJvYXJkPW51bGw7XG4gIH0gICAgXG5cblxufVxuXG50eXBlIEZ1bmN0aW9uPSB7dmlzaWJsZTpib29sZWFuLGZ1bmN0aW9uOnN0cmluZ31cbmV4cG9ydCBjbGFzcyBGdW5jdGlvbnNWaWV3IGV4dGVuZHMgVmlld0xpc3Q8RnVuY3Rpb24sRnVuY3Rpb25WaWV3Plxue1xuICBwdWJsaWMgb25rZXllbnRlciA6ICgpPT52b2lkOyBcbiAgY29uc3RydWN0b3IoKVxuICB7XG4gICAgICBzdXBlcig8SFRNTEVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGxvdE92ZXJsYXlDb250YWluZXI+LmZ1bmN0aW9uc1wiKSk7XG4gICAgICB0aGlzLmVsZW1lbnQub25rZXlkb3duPSgoZXYpPT57XG4gICAgICAgIGlmIChldi5rZXk9PVwiRW50ZXJcIiAmJiB0aGlzLm9ua2V5ZW50ZXIpXG4gICAgICAgIHsgICAgICAgICBcbiAgICAgICAgICB0aGlzLm9ua2V5ZW50ZXIoKTtcbiAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgfSk7ICBcbiAgfVxuICBjcmVhdGVWaWV3bW9kZWwobW9kZWw6IEZ1bmN0aW9uKTogRnVuY3Rpb25WaWV3IHtcbiAgICB2YXIgZiA9IG5ldyBGdW5jdGlvblZpZXcoKTtcbiAgICBmLnNldE1vZGVsKG1vZGVsKTtcbiAgICByZXR1cm4gZjtcbiAgfVxuICBkaXNwb3NlKCk6IHZvaWQge1xuICAgIHRoaXMuZWxlbWVudC5vbmtleWRvd249bnVsbDtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIEZ1bmN0aW9uVmlldyBleHRlbmRzIFZpZXc8RnVuY3Rpb24+XG57XG4gIHZpc2libGVWaWV3OiBTbGlkZXJWaWV3O1xuICBmdW5jdGlvbkVkaXRWaWV3OiBGdW5jdGlvbkVkaXRWaWV3O1xuXG4gIGNvbnN0cnVjdG9yKClcbiAge1xuICAgIHZhciB2aXNpYmxlVmlldz0gbmV3IFNsaWRlclZpZXcoKTtcbiAgICB2YXIgZnVuY3Rpb25FZGl0Vmlldz0gbmV3IEZ1bmN0aW9uRWRpdFZpZXcoKTtcbiAgICBzdXBlcihbdmlzaWJsZVZpZXcuZWxlbWVudFswXSxmdW5jdGlvbkVkaXRWaWV3LmVsZW1lbnRbMF1dKTtcbiAgICB0aGlzLnZpc2libGVWaWV3PXZpc2libGVWaWV3O1xuICAgIHRoaXMuZnVuY3Rpb25FZGl0Vmlldz1mdW5jdGlvbkVkaXRWaWV3O1xuICAgIHRoaXMudmlzaWJsZVZpZXcub25jaGFuZ2U9KHNlbmRlcix2YWx1ZSk9PntcbiAgICAgIHRoaXMuZW1pdFByb3BlcnR5Q2hhbmdlKFwidmlzaWJsZVwiLHZhbHVlKVxuICAgIH1cbiAgfVxuICBzZXRNb2RlbCh2YWx1ZTogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICB0aGlzLnZpc2libGVWaWV3LnNldE1vZGVsKHZhbHVlLnZpc2libGUpO1xuICAgIHRoaXMuZnVuY3Rpb25FZGl0Vmlldy5zZXRNb2RlbCh2YWx1ZS5mdW5jdGlvbilcbiAgfVxuICBnZXRNb2RlbCgpOiBGdW5jdGlvbiB7XG4gICAgcmV0dXJuIHtmdW5jdGlvbjp0aGlzLmZ1bmN0aW9uRWRpdFZpZXcuZ2V0TW9kZWwoKSx2aXNpYmxlOnRoaXMudmlzaWJsZVZpZXcuZ2V0TW9kZWwoKSB9XG4gIH1cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLnZpc2libGVWaWV3LmRpc3Bvc2UoKTtcbiAgICB0aGlzLmZ1bmN0aW9uRWRpdFZpZXcuZGlzcG9zZSgpO1xuICB9XG5cbn1cblxuXG5leHBvcnQgY2xhc3MgU2xpZGVyVmlldyBleHRlbmRzIFZpZXc8Ym9vbGVhbj5cbntcbiAgcHJpdmF0ZSBjaGVja2JveDpIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdHJ1Y3RvcigpXG4gIHtcbiAgIHZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgIGwuY2xhc3NOYW1lPVwic3dpdGNoXCJcbiAgIHZhciBpPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICBpLnR5cGU9IFwiY2hlY2tib3hcIjsgIFxuICAgdmFyIHM9ICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgIHMuY2xhc3NOYW1lPVwic2xpZGVyXCJcbiAgIGwuYXBwZW5kQ2hpbGQoaSk7XG4gICBsLmFwcGVuZENoaWxkKHMpO1xuICAgc3VwZXIobCk7XG4gICB0aGlzLmNoZWNrYm94PWk7XG4gIFxuICAgaS5vbmNoYW5nZT0oKT0+e1xuICAgIHZhciB2YWx1ZT10aGlzLmNoZWNrYm94LmNoZWNrZWQ7XG4gICAgdGhpcy5lbWl0Q2hhbmdlKHZhbHVlKTtcbiAgIH1cbiAgfVxuICBzZXRNb2RlbCh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuY2hlY2tib3guY2hlY2tlZD12YWx1ZTtcblxuICB9XG4gIGdldE1vZGVsKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNoZWNrYm94LmNoZWNrZWQ7XG4gIH1cbiAgZGlzcG9zZSgpOiB2b2lkIHtcblxuICB9ICBcbn1cbmV4cG9ydCBjbGFzcyBGdW5jdGlvbkVkaXRWaWV3IGV4dGVuZHMgVmlldzxzdHJpbmc+XG57XG4gIHByaXZhdGUgdGV4dEJveDogSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3RydWN0b3IoKVxuICB7XG4gICAgc3VwZXIoPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG1wbEVkaXRGdW5jdGlvblwiKSlcbiAgICB0aGlzLnRleHRCb3g9IDxIVE1MSW5wdXRFbGVtZW50PiB0aGlzLmVsZW1lbnRbMF07XG4gIH1cbiAgc2V0TW9kZWwodmFsdWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMudGV4dEJveC52YWx1ZT12YWx1ZTsgIFxuICB9XG4gIGdldE1vZGVsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudGV4dEJveC52YWx1ZTtcbiAgfVxuICBkaXNwb3NlKCk6IHZvaWQge1xuXG4gIH0gIFxufSIsIlxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVmlld0xpc3Q8TSxWIGV4dGVuZHMgVmlldzxNPj4gXG57XG4gIHByaXZhdGUgc2V0PSBuZXcgU2V0PFZpZXc8TT4+KCk7XG4gIHByb3RlY3RlZCBjb250YWluZXI6SFRNTEVsZW1lbnQ7XG4gIHByb3RlY3RlZCBlbGVtZW50OkhUTUxFbGVtZW50O1xuIFxuICBwdWJsaWMgb25jaGFuZ2U6KHNlbmRlcjpWaWV3TGlzdDxNLFY+LHZpZXc6VmlldzxNPix2YWx1ZTpNICk9PnZvaWQ9bnVsbDtcbiAgcHVibGljIG9ucHJvcGVydHljaGFuZ2U6PFggZXh0ZW5kcyBrZXlvZiBNPiAoc2VuZGVyOlZpZXdMaXN0PE0sVj4sIHZpZXc6VmlldzxNPiwgcHJvcGVydHk6WCAgLHZhbHVlOk1bWF0pPT52b2lkPW51bGw7XG4gIHB1YmxpYyBvbmFkZDooc2VuZGVyOlZpZXdMaXN0PE0sVj4sdmlldzpWaWV3PE0+LHZhbHVlOk0gKT0+dm9pZD1udWxsO1xuICBwdWJsaWMgb25yZW1vdmU6KHNlbmRlcjpWaWV3TGlzdDxNLFY+LHZpZXc6VmlldzxNPik9PnZvaWQ9bnVsbDtcblxuICBjb25zdHJ1Y3RvcihodG1sRWxlbWVudDpIVE1MRWxlbWVudCwgY29udGFpbmVyU2VsZWN0b3I/OnN0cmluZyAsaXRlcmFibGU/Okl0ZXJhYmxlPE0+KVxuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZTpIVE1MVGVtcGxhdGVFbGVtZW50LCBjb250YWluZXJTZWxlY3Rvcj86c3RyaW5nICxpdGVyYWJsZT86SXRlcmFibGU8TT4pXG4gIGNvbnN0cnVjdG9yKGh0bWxFbGVtZW50OkhUTUxFbGVtZW50LCBjb250YWluZXJTZWxlY3Rvcj86c3RyaW5nICxpdGVyYWJsZT86SXRlcmFibGU8TT4pXG4gIHtcbiAgICBpZiAoaHRtbEVsZW1lbnQudGFnTmFtZT09XCJURU1QTEFURVwiKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbGVtZW50PSA8SFRNTEVsZW1lbnQ+ICg8SFRNTFRlbXBsYXRlRWxlbWVudD4gaHRtbEVsZW1lbnQpLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpOyAgICAgICAgIFxuICAgIH0gZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5lbGVtZW50PWh0bWxFbGVtZW50O1xuICAgIH1cbiAgICB0aGlzLmNvbnRhaW5lcj1jb250YWluZXJTZWxlY3Rvcj8gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpOnRoaXMuZWxlbWVudDtcbiAgICBpZiAoaXRlcmFibGUpXG4gICAge1xuICAgICAgZm9yICh2YXIgYyBvZiBpdGVyYWJsZSlcbiAgICAgIHtcbiAgICAgICAgdGhpcy5hZGQoYyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFwcGVuZFRvKHRhcmdldDpIVE1MRWxlbWVudClcbiAge1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICB9XG4gIGluZGV4T2YodmlldzogVmlldzxNPilcbiAge1xuICAgIHZhciBpbmRleD0wO1xuICAgIGZvciAodmFyIGMgb2YgdGhpcylcbiAgICB7XG4gICAgICBpZiAoYz09PXZpZXcpIHJldHVybiBpbmRleDtcbiAgICAgIGluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuICBcblxuICBhZGQodmFsdWU6IE0pOiBWIHsgICBcbiAgICB2YXIgdmlldz0gdGhpcy5jcmVhdGVWaWV3bW9kZWwodmFsdWUpO1xuICAgIHZpZXcuYXBwZW5kVG8odGhpcy5jb250YWluZXIpXG4gIFxuICAgIHRoaXMuc2V0LmFkZCh2aWV3KTtcbiAgICB2aWV3Lm9uY2hhbmdlPShzZW5kZXI6IFZpZXc8TT4sIHZhbHVlOiBNKT0+XG4gICAge1xuICAgICAgaWYgKHRoaXMub25jaGFuZ2UhPW51bGwpIHRoaXMub25jaGFuZ2UodGhpcyxzZW5kZXIsdmFsdWUpO1xuICAgIH1cbiAgICB2aWV3Lm9ucHJvcGVydHljaGFuZ2U9KHNlbmRlciwgcHJvcGVydHksIHZhbHVlKT0+XG4gICAge1xuICAgICAgaWYgKHRoaXMub25wcm9wZXJ0eWNoYW5nZSE9bnVsbCkgdGhpcy5vbnByb3BlcnR5Y2hhbmdlKHRoaXMsc2VuZGVyLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAodGhpcy5vbmFkZCE9bnVsbCkgdGhpcy5vbmFkZCh0aGlzLHZpZXcsdmFsdWUpO1xuICAgIHJldHVybiB2aWV3O1xuICB9XG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIGZvciAodmFyIGMgb2YgdGhpcy5zZXQua2V5cygpKVxuICAgIHtcbiAgICAgIGMucmVtb3ZlKCk7XG4gICAgICBjLmRpc3Bvc2UoKTsgXG4gICAgfVxuICAgIHRoaXMuc2V0LmNsZWFyKCk7XG4gIH1cbiAgZGVsZXRlKHZpZXc6IFZpZXc8TT4pOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuc2V0LmRlbGV0ZSh2aWV3KSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLm9ucmVtb3ZlIT1udWxsKSB0aGlzLm9ucmVtb3ZlKHRoaXMsdmlldyk7XG4gICAgdmlldy5yZW1vdmUoKTtcbiAgICB2aWV3LmRpc3Bvc2UoKTsgXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXModmFsdWU6IFZpZXc8TT4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zZXQuaGFzKHZhbHVlKTsgICBcbiAgfSBcbiBcbiAgcHVibGljIGdldCBzaXplKCkgOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNldC5zaXplO1xuICB9XG4gICpbU3ltYm9sLml0ZXJhdG9yXSgpOiBJdGVyYWJsZUl0ZXJhdG9yPFZpZXc8TT4+IHtcbiAgICBmb3IgKHZhciBpIG9mIHRoaXMuc2V0KVxuICAgIHtcbiAgICAgICB5aWVsZCAgaTtcbiAgICB9XG4gIH1cbiAgXG4gIHB1YmxpYyBzZXRNb2RlbCh2YWx1ZXM6QXJyYXk8TT4pOnZvaWRcbiAge1xuICAgIHRoaXMuY2xlYXIoKTsgIFxuICAgIGZvciAodmFyIG0gb2YgdmFsdWVzKVxuICAgIHtcbiAgICAgdGhpcy5hZGQobSk7XG4gICAgfSAgIFxuICB9IFxuICBwdWJsaWMgZ2V0TW9kZWwoKTpBcnJheTxNPlxuICB7XG4gICB2YXIgYXJyOk1bXSA9W107XG4gICBmb3IgKHZhciBtIG9mIHRoaXMpXG4gICB7XG4gICAgYXJyLnB1c2gobS5nZXRNb2RlbCgpKTtcbiAgIH1cbiAgIHJldHVybiBhcnI7XG4gIH0gXG4gIFxuICBwdWJsaWMgc2V0IHZpc2libGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB2YXIgdmlzaWJpbGl0eT0gdmFsdWU/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIjtcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eT0gdmlzaWJpbGl0eTtcbiAgfVxuXG4gIHB1YmxpYyBzZXQgZGlzcGxheSh2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7IFxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PSB2YWx1ZTsgICAgICAgXG4gIH1cblxuICBhYnN0cmFjdCBjcmVhdGVWaWV3bW9kZWwobW9kZWw6TSk6VjsgXG4gIGFic3RyYWN0IGRpc3Bvc2UoKTp2b2lkO1xufVxuXG5cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZpZXc8TT5cbntcbiAgICBwcm90ZWN0ZWQgX2VsZW1lbnQ6IEhUTUxFbGVtZW50W109W107XG4gICAgcHVibGljIGdldCBlbGVtZW50KCk6IFJlYWRvbmx5QXJyYXk8SFRNTEVsZW1lbnQ+IHtcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cbiAgICBwdWJsaWMgb25jaGFuZ2U6KHNlbmRlcjpWaWV3PE0+LHZhbHVlOk0gKT0+dm9pZD1udWxsO1xuICAgIHB1YmxpYyBvbnByb3BlcnR5Y2hhbmdlOjxYIGV4dGVuZHMga2V5b2YgTT4gKHNlbmRlcjpWaWV3PE0+LCBwcm9wZXJ0eTpYICAsdmFsdWU6TVtYXSk9PnZvaWQ9bnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlOkhUTUxUZW1wbGF0ZUVsZW1lbnQpICAgIFxuICAgIGNvbnN0cnVjdG9yKGh0bWxFbGVtZW50OkhUTUxFbGVtZW50KVxuICAgIGNvbnN0cnVjdG9yKGh0bWxFbGVtZW50czpIVE1MRWxlbWVudFtdKSAgICBcbiAgICBjb25zdHJ1Y3RvcihodG1sRWxlbWVudDphbnkpICAgICAgXG4gICAge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShodG1sRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgYXJyID0gPEhUTUxFbGVtZW50W10+IGh0bWxFbGVtZW50O1xuICAgICAgICAgIGZvciAodmFyIGUgb2YgYXJyKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucHVzaChlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZVxuICAgICAgICBpZiAoaHRtbEVsZW1lbnQudGFnTmFtZT09XCJURU1QTEFURVwiKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50PSBbPEhUTUxFbGVtZW50PiAoPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+IGh0bWxFbGVtZW50KS5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkLmNsb25lTm9kZSh0cnVlKV07ICAgICAgICAgXG4gICAgICAgIH0gZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50PVtodG1sRWxlbWVudF07XG4gICAgICAgIH0gICAgICBcbiAgICAgICBcbiAgICB9XG4gICAgcmVtb3ZlKClcbiAgICB7ICAgICBcbiAgICAgIGZvciAodmFyIGUgb2YgdGhpcy5fZWxlbWVudClcbiAgICAgIHtcbiAgICAgICAgZS5yZW1vdmUoKTtcbiAgICAgIH0gICAgICBcbiAgICB9XG4gICAgYXBwZW5kVG8odGFyZ2V0OkhUTUxFbGVtZW50KVxuICAgIHsgICAgIFxuICAgICBcbiAgICAgIGZvciAodmFyIGUgb2YgdGhpcy5fZWxlbWVudClcbiAgICAgIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGUpO1xuICAgICAgfSAgXG4gICAgfVxuICAgIFxuICBcbiAgICBlbWl0Q2hhbmdlKHZhbHVlOk0pXG4gICAge1xuICAgICBpZiAodGhpcy5vbmNoYW5nZSE9bnVsbCkgdGhpcy5vbmNoYW5nZSh0aGlzLHZhbHVlKTtcbiAgICB9XG5cbiAgICBlbWl0UHJvcGVydHlDaGFuZ2U8WCBleHRlbmRzIGtleW9mIE0+KHByb3BlcnR5OlgsdmFsdWU6TVtYXSApXG4gICAge1xuICAgICAgaWYgKHRoaXMub25wcm9wZXJ0eWNoYW5nZSE9bnVsbCkgdGhpcy5vbnByb3BlcnR5Y2hhbmdlKHRoaXMscHJvcGVydHksdmFsdWUpO1xuICAgIH1cblxuICAgIFxuICAgIC8qKiBNZXRob2QgZm9yIHdyaXRpbmcgbW9kZWwgdG8gSFRNTCAqL1xuICAgIGFic3RyYWN0IHNldE1vZGVsKHZhbHVlOk0pOnZvaWQ7XG4gICAgLyoqIE1ldGhvZCBmb3IgcmVhZGluZyBtb2RlbCBmcm9tIEhUTUwgKi9cbiAgICBhYnN0cmFjdCBnZXRNb2RlbCgpOk07XG4gICAgLyoqT3ZlcndyaXRlIHRoaXMgbWV0aG9kIGZvciB1bnJlZ2lzdGVyaW5nIGV2ZW50cyAqL1xuICAgIHB1YmxpYyBkaXNwb3NlKCk6dm9pZFxuICAgIHtcbiAgICAgIHRoaXMub25jaGFuZ2U9bnVsbDtcbiAgICAgIHRoaXMub25wcm9wZXJ0eWNoYW5nZT1udWxsO1xuICAgIH0gICAgXG4gICBcbiAgICBwdWJsaWMgc2V0IHZpc2libGUodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgIHZhciB2aXNpYmlsaXR5PSB2YWx1ZT9cInZpc2libGVcIjpcImhpZGRlblwiO1xuICAgICAgZm9yICh2YXIgZSBvZiB0aGlzLl9lbGVtZW50KVxuICAgICAge1xuICAgICAgZS5zdHlsZS52aXNpYmlsaXR5PSB2aXNpYmlsaXR5O1xuICAgICAgfSAgXG4gIFxuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgZGlzcGxheSh2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7ICAgXG4gICAgICBmb3IgKHZhciBlIG9mIHRoaXMuX2VsZW1lbnQpXG4gICAgICB7XG4gICAgICBlLnN0eWxlLmRpc3BsYXk9IHZhbHVlO1xuICAgICAgfSAgIFxuICAgIH1cblxuXG59IiwiaW1wb3J0IHsgUG9seW5vbUVkaXRWaWV3LCBTb2x1dGlvbnNWaWV3ICxNYWluVmlldywgU29sdXRpb25WaWV3fSBmcm9tIFwiLi92aWV3XCI7XG5pbXBvcnQgeyBDaGFydFZpZXd9IGZyb20gXCIuL2NoYXJ0dmlld1wiO1xuaW1wb3J0ICogYXMgc29sdmVyIGZyb20gXCIuLi9zcmMvc29sdmVyXCI7XG5cbmxldCBkaXZpZGVPdmVybGF5PSA8SFRNTEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGl2aWRlT3ZlcmxheVwiKTtcblxudmFyIGNoYXJ0VmlldzpDaGFydFZpZXc9bnVsbDtcblxuIHZhciBtYWluPSBuZXcgTWFpblZpZXcoKTtcbiBtYWluLnNldE1vZGVsKHtwb2x5bm9tRWRpdDpbbnVsbCxudWxsLG51bGxdLHNvbHV0aW9uOiBcbiAgICBbXG4gICAgXVxufSApXG5cblxubWFpbi5vbmJ1dHRvbmFkZD0gKCk9Plxue1xuICBpZiAobWFpbi5wb2x5bm9tZWRpdHZpZXcuZGVncmVlPDIwKSBtYWluLnBvbHlub21lZGl0dmlldy5wdXNoKG51bGwpO1xufVxuXG5tYWluLm9uYnV0dG9ucmVtb3ZlPSAoKT0+XG57XG4gICAgaWYgKG1haW4ucG9seW5vbWVkaXR2aWV3LmRlZ3JlZT4xKSAgbWFpbi5wb2x5bm9tZWRpdHZpZXcucG9wKCk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlQ2hhcnRWaWV3KClcbntcbiAgICBpZiAoY2hhcnRWaWV3PT1udWxsKSByZXR1cm47XG4gICAgY2hhcnRWaWV3LnZpc2libGU9ZmFsc2U7XG4gICAgY2hhcnRWaWV3LmRpc3Bvc2UoKTtcbiAgICBjaGFydFZpZXc9bnVsbDtcbn1cbm1haW4ub25idXR0b25wbG90PSAoKT0+XG57XG4gICB2YXIgbW9kZWwgPSBtYWluLnBvbHlub21lZGl0dmlldy5nZXRNb2RlbCgpO1xuICAgaGlzdG9yeS5wdXNoU3RhdGUoXCJcIiwgXCJcIixcIlwiKVxuICAgY2hhcnRWaWV3ID0gbmV3IENoYXJ0VmlldygpO1xuICAgY2hhcnRWaWV3Lm9uYnV0dG9uY2xvc2U9KCk9PntcbiAgICBjbG9zZUNoYXJ0VmlldygpO1xuICAgfVxuICAgdmFyIGRlcml2YXRlcz0gc29sdmVyLmNhbGN1bGF0ZURlcml2YXRlcyhtb2RlbClcbiAgIGRlcml2YXRlcy51bnNoaWZ0KG1vZGVsKTtcbiAgIGRlcml2YXRlcy5sZW5ndGg9TWF0aC5taW4oMyxkZXJpdmF0ZXMubGVuZ3RoLTEpO1xuICAgdmFyIGZ1bmN0aW9ucz1kZXJpdmF0ZXMubWFwKChwKT0+e3JldHVybiB7ZnVuY3Rpb246c29sdmVyLnRvU3RyaW5nKHAsNCksdmlzaWJsZTp0cnVlIH19KTtcbiAgIGNoYXJ0Vmlldy5zZXRNb2RlbCh7dmlzaWJsZTp0cnVlLGZ1bmN0aW9uc30pO1xufVxuXG5tYWluLnBvbHlub21lZGl0dmlldy5vbmtleWVudGVyPSAoKT0+XG57ICAgXG4gICAgc29sdmUoKTsgIFxufVxuXG5tYWluLm9uYnV0dG9uc29sdmU9ICgpPT5cbntcbiAgc29sdmUoKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVzdWx0KHJlc3VsdDpzb2x2ZXIuRGVjaW1hbFtdKVxue1xuICB2YXIgcj1yZXN1bHQubWFwKHA9PnAubXVsKDEwMDAwKS5yb3VuZCgpLmRpdigxMDAwMCkudG9TdHJpbmcoKSk7XG4gIHJldHVybiByLnRvU3RyaW5nKCk7ICAgICBcbn1cbmZ1bmN0aW9uIHNvbHZlKClcbntcbiAgICB2YXIgbT0gIG1haW4ucG9seW5vbWVkaXR2aWV3LmdldE1vZGVsKCk7XG4gICAgdmFyIHBvbHlub209IHNvbHZlci4kKC4uLm0pO1xuICAgIHZhciByZXN1bHQ9c29sdmVyLnNvbHZlKHBvbHlub20sIG5ldyBzb2x2ZXIuRGVjaW1hbCgwLjAwMSksMTI4KTsgIFxuICAgIGlmIChyZXN1bHQ9PW51bGwpIHJldHVybjtcbiAgICB2YXIgZGVyaXZhdGlvbnM9c29sdmVyLmNhbGN1bGF0ZURlcml2YXRlcyhwb2x5bm9tKTtcbiAgICBkZXJpdmF0aW9ucy51bnNoaWZ0KHBvbHlub20pO1xuICAgIHZhciBtYXg9TWF0aC5taW4ocmVzdWx0Lmxlbmd0aC0xLDIpO1xuXG4gICAgZm9yICh2YXIgYz1tYXg7Yz49MDtjLS0pXG4gICAge1xuICAgICAgICB2YXIgemVybz1yZXN1bHRbY10uemVyb3M7XG4gICAgICAgIHZhciBwPWRlcml2YXRpb25zW2NdOyAgXG4gICAgICAgIHZhciBzb2x1dGlvbj0gZm9ybWF0UmVzdWx0KHplcm8pO1xuICAgICAgICB2YXIgdmlldz1tYWluLnNvbHV0aW9uc3ZpZXcuYWRkKHtzb2x1dGlvbixwb2x5bm9tOnB9ICk7ICAgXG4gICAgICAgIGlmIChjPT1tYXgmJm1haW4uc29sdXRpb25zdmlldy5zaXplPjEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXcuc2VwZXJhdG9yPXRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYWluLnNvbHV0aW9uc3ZpZXcuc2Nyb2xsVG9Cb3R0b20oKTtcbn1cblxuXG5cblxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAvL2FsZXJ0KFwiYmFja1wiKVxuICAgIFxuICAgY2xvc2VDaGFydFZpZXcoKTtcbiAgICAgIFxuICAgIFxufSk7IiwiaW1wb3J0IHsgVmlldywgVmlld0xpc3QgfSBmcm9tIFwiLi9mcmFtZXdvcmtcIjtcbmltcG9ydCB7IERlY2ltYWwgfSBmcm9tIFwiLi4vc3JjL3NvbHZlclwiO1xudHlwZSBTb2x1dGlvbj17cG9seW5vbTpEZWNpbWFsW10sc29sdXRpb246c3RyaW5nfVxuXG5leHBvcnQgY2xhc3MgU29sdXRpb25zVmlldyBleHRlbmRzIFZpZXdMaXN0PFNvbHV0aW9uLFNvbHV0aW9uVmlldz5cbntcblxuICAgIHByaXZhdGUgdGFibGVDb250YWluZXI9PEhUTUxFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhYmxlQ29udGFpbmVyXCIpO1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKDxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWJsZVwiKS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpWzBdKTtcbiAgICB9XG5cbiAgICBjcmVhdGVWaWV3bW9kZWwobW9kZWw6IFNvbHV0aW9uKTogU29sdXRpb25WaWV3IHtcbiAgICAgICB2YXIgdmlldz0gbmV3IFNvbHV0aW9uVmlldygpO1xuICAgICAgIHZpZXcuc2V0TW9kZWwobW9kZWwpO1xuICAgICAgIHJldHVybiB2aWV3O1xuICAgIH0gICBcbiAgICBzY3JvbGxUb0JvdHRvbSgpXG4gICAgeyBcbiAgICAgIHRoaXMudGFibGVDb250YWluZXIuc2Nyb2xsVG8oMCx0aGlzLnRhYmxlQ29udGFpbmVyLnNjcm9sbEhlaWdodCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgICBcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU29sdXRpb25WaWV3IGV4dGVuZHMgVmlldzxTb2x1dGlvbj5cbntcbiAgICBwb2x5bm9tOlBvbHlub21WaWV3O1xuICAgIHByaXZhdGUgc3RhdGljIHRtcGxEaXNwbGF5U29sdXRpb24gPTxIVE1MVGVtcGxhdGVFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRtcGxEaXNwbGF5U29sdXRpb25cIik7XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG1wbERpc3BsYXlSb3dcIikpO1xuICAgICAgICB0aGlzLnBvbHlub209IG5ldyBQb2x5bm9tVmlldygpO1xuICAgIH1cblxuICAgXG4gICAgcHVibGljIGdldCBzZXBlcmF0b3IoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKFwic2VwZXJhdG9yXCIpO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IHNlcGVyYXRvcih2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFswXS5jbGFzc0xpc3QuYWRkKFwic2VwZXJhdG9yXCIpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50WzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJzZXBlcmF0b3JcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0TW9kZWwodmFsdWU6U29sdXRpb24pOiB2b2lkIHsgIFxuICAgICAgICBcbiAgICAgICAgdGhpcy5wb2x5bm9tLnNldE1vZGVsKHZhbHVlLnBvbHlub20pO1xuICAgICAgICB2YXIgdHI9IHRoaXMuZWxlbWVudFswXTsgICAgXG4gICAgICAgIFxuICAgICAgICB2YXIgYzE9PEhUTUxFbGVtZW50PnRyLmNoaWxkcmVuWzBdO1xuICAgICAgICBjMS5pbm5lckhUTUw9XCJcIjtcbiAgICAgICAgYzEuYXBwZW5kQ2hpbGQodGhpcy5wb2x5bm9tLmVsZW1lbnRbMF0pXG5cbiAgICAgICAgdmFyIGRpc3BsYXlTb2x1dGlvbj0oPEhUTUxFbGVtZW50PiBTb2x1dGlvblZpZXcudG1wbERpc3BsYXlTb2x1dGlvbi5jb250ZW50LmNsb25lTm9kZSh0cnVlKSkucXVlcnlTZWxlY3RvcihcIi5kaXNwbGF5c29sdXRpb25cIik7XG4gICAgICAgIGRpc3BsYXlTb2x1dGlvbi5pbm5lckhUTUw9dmFsdWUuc29sdXRpb247XG4gICAgICAgIHZhciBjMj10ci5jaGlsZHJlblsxXTtcbiAgICAgICAgYzIuaW5uZXJIVE1MPVwiXCI7XG4gICAgICAgIGMyLmFwcGVuZENoaWxkKGRpc3BsYXlTb2x1dGlvbik7XG4gICAgICAgXG4gICAgfVxuXG4gICAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAgIFxuICAgIH1cbiAgICBnZXRNb2RlbCgpOiBTb2x1dGlvbiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBvbHlub21WaWV3IGV4dGVuZHMgVmlldzxEZWNpbWFsW10+XG57XG5cbiAgICBwcml2YXRlIHN0YXRpYyB0bXBsWHRleHQgPTxIVE1MVGVtcGxhdGVFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRtcGxYdGV4dFwiKTtcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcig8SFRNTFRlbXBsYXRlRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0bXBsRm9ybXVsYVwiKSlcbiAgICB9XG5cbiAgICBzZXRNb2RlbCh2YWx1ZTpEZWNpbWFsW10pOiB2b2lkIHsgICAgICAgXG4gICAgICAgIHRoaXMuZWxlbWVudFswXS5pbm5lckhUTUw9XCJcIjtcbiAgICAgICAgdmFyIGRlZ3JlZT12YWx1ZS5sZW5ndGgtMTsgICAgICAgXG4gICAgICAgIHZhciBmaXJzdD10cnVlO1xuICAgICAgICBmb3IgKHZhciBjPTA7Yzx2YWx1ZS5sZW5ndGg7YysrKVxuICAgICAgICB7IFxuICAgICAgICAgICAgdmFyIHY9dmFsdWVbY107XG4gICAgICAgICAgICBpZih2LmlzWmVybygpKSBcbiAgICAgICAgICAgIHsgICAgIFxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgeHRleHQ9IDxIVE1MRWxlbWVudD5Qb2x5bm9tVmlldy50bXBsWHRleHQuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgZmFjdG9yPSA8SFRNTElucHV0RWxlbWVudD4geHRleHQucXVlcnlTZWxlY3RvcihcIi5mYWN0b3JcIikgO1xuICAgICAgICAgICAgZmFjdG9yLmlubmVySFRNTD0gdi5hYnMoKS5tdWwoMTAwMDApLnJvdW5kKCkuZGl2KDEwMDAwKS50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKGMhPWRlZ3JlZSkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICB4dGV4dC5xdWVyeVNlbGVjdG9yKFwiLnZhcmlhYmxlbmFtZVwiKS5pbm5lckhUTUw9XCJ4XCI7XG4gICAgICAgICAgICB2YXIgZXhwb25lbnQ9PEhUTUxFbGVtZW50PiB4dGV4dC5xdWVyeVNlbGVjdG9yKFwiLmV4cG9uZW50XCIpO1xuICAgICAgICAgICAgZXhwb25lbnQuaW5uZXJIVE1MPShkZWdyZWUtYykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChjPT1kZWdyZWUtMSkgZXhwb25lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWZpcnN0IHx8IHYuaXNOZWdhdGl2ZSgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBzaWduPXYuaXNQb3NpdGl2ZSgpICAgP1wiK1wiOlwiLVwiO1xuICAgICAgICAgICAgICAgIGlmICghZmlyc3QpIHNpZ24rPVwiIFwiO1xuICAgICAgICAgICAgICAgIHh0ZXh0LnF1ZXJ5U2VsZWN0b3IoXCIuc2lnblwiKS5pbm5lckhUTUw9c2lnbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFswXS5hcHBlbmRDaGlsZCh4dGV4dCk7ICBcbiAgICAgICAgICAgIGZpcnN0PWZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAgICBcbiAgICB9XG4gICAgZ2V0TW9kZWwoKTogRGVjaW1hbFtdIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuXG5cbn1cblxuXG5leHBvcnQgY2xhc3MgUG9seW5vbUVkaXRWaWV3IGV4dGVuZHMgVmlldzxBcnJheTxEZWNpbWFsPj5cbntcbiAgXG4gICAgcHVibGljIGdldCBkZWdyZWUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjdG9yRWRpdFZpZXdzLmxlbmd0aC0xO1xuICAgIH1cblxuICAgIHByaXZhdGUgZWRpdFJvd0NvbnRhaW5lcjpIVE1MRWxlbWVudDtcbiAgICBwcml2YXRlIGZhY3RvckVkaXRWaWV3czpGYWN0b3JFZGl0Vmlld1tdPVtdO1xuICAgIHB1YmxpYyBvbmtleWVudGVyIDogKCk9PnZvaWQ7IFxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKDxIVE1MVGVtcGxhdGVFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRtcGxFZGl0Um93XCIpKVxuICAgICAgICB0aGlzLmVkaXRSb3dDb250YWluZXI9dGhpcy5lbGVtZW50WzBdO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5lZGl0Um93Q29udGFpbmVyLm9ua2V5ZG93bj0oKGV2KT0+e1xuICAgICAgICAgICAgaWYgKGV2LmtleT09XCJFbnRlclwiICYmIHRoaXMub25rZXllbnRlcilcbiAgICAgICAgICAgIHsgICAgICAgICBcbiAgICAgICAgICAgICAgdGhpcy5vbmtleWVudGVyKCk7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgfSk7ICBcbiAgICB9XG4gICAgc2V0TW9kZWwodmFsdWU6IERlY2ltYWxbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLmVkaXRSb3dDb250YWluZXIuaW5uZXJIVE1MPVwiXCI7XG4gICAgICAgIHRoaXMuZmFjdG9yRWRpdFZpZXdzLmxlbmd0aD0wO1xuICAgICAgICB2YXIgZGVncmVlPXZhbHVlLmxlbmd0aC0xO1xuICAgICAgICBmb3IgKHZhciBjPWRlZ3JlZTtjPj0wO2MtLSlcbiAgICAgICAgeyBcbiAgICAgICAgICAgdmFyIHYgPSBuZXcgRmFjdG9yRWRpdFZpZXcoKTtcbiAgICAgICAgICAgdi5zZXRNb2RlbCh2YWx1ZVtkZWdyZWUtY10pO1xuICAgICAgICAgICB2LmRlZ3JlZT1jO1xuICAgICAgICAgICB0aGlzLmZhY3RvckVkaXRWaWV3cy5wdXNoKHYpOyBcbiAgICAgICAgICAgdGhpcy5lZGl0Um93Q29udGFpbmVyLmFwcGVuZENoaWxkKHYuZWxlbWVudFswXSk7ICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxuICAgIHB1c2godmFsdWU6RGVjaW1hbClcbiAgICB7XG4gICAgICAgIHZhciB2ID0gbmV3IEZhY3RvckVkaXRWaWV3KCk7XG4gICAgICAgIHYuc2V0TW9kZWwodmFsdWUpO1xuICAgICAgICB2LmRlZ3JlZT10aGlzLmZhY3RvckVkaXRWaWV3cy5sZW5ndGg7XG4gICAgICAgIHRoaXMuZmFjdG9yRWRpdFZpZXdzLnVuc2hpZnQodik7IFxuICAgICAgICB0aGlzLmVkaXRSb3dDb250YWluZXIucHJlcGVuZCh2LmVsZW1lbnRbMF0pOyBcbiAgICB9XG4gICAgcG9wKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5mYWN0b3JFZGl0Vmlld3Muc2hpZnQoKT09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLmVkaXRSb3dDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7ICAgICAgICBcbiAgICB9XG4gICAgZ2V0TW9kZWwoKTogRGVjaW1hbFtdIHtcbiAgICAgIHJldHVybiB0aGlzLmZhY3RvckVkaXRWaWV3cy5tYXAocD0+cC5nZXRNb2RlbCgpKTtcbiAgICB9XG5cbiAgICBkaXNwb3NlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmVkaXRSb3dDb250YWluZXIub25rZXlkb3duPW51bGw7XG4gICAgfVxuICAgIFxufVxuXG5cbmV4cG9ydCBjbGFzcyBGYWN0b3JFZGl0VmlldyBleHRlbmRzIFZpZXc8RGVjaW1hbD5cbntcbiAgICBwcml2YXRlIHN0YXRpYyB0bXBsWHRleHQgPTxIVE1MVGVtcGxhdGVFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRtcGxYZWRpdFwiKTtcbiAgICBwcml2YXRlIGZhY3RvcjpIVE1MSW5wdXRFbGVtZW50O1xuICAgIHByaXZhdGUgX2RlZ3JlZTogbnVtYmVyO1xuICAgIHB1YmxpYyBnZXQgZGVncmVlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWdyZWU7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgZGVncmVlKHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fZGVncmVlID0gdmFsdWU7XG4gICAgICAgIGlmICh0aGlzLmRlZ3JlZSE9MCkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKFwiLnZhcmlhYmxlbmFtZVwiKS5pbm5lckhUTUw9XCJ4XCI7XG4gICAgICAgICAgICB2YXIgZXhwb25lbnQ9PEhUTUxFbGVtZW50PiB0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIi5leHBvbmVudFwiKTtcbiAgICAgICAgICAgIGV4cG9uZW50LmlubmVySFRNTD10aGlzLmRlZ3JlZS50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVncmVlPT0xKSAgZXhwb25lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKFwiLnNpZ25cIikuaW5uZXJIVE1MPVwiK1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgeyAgICAgIFxuICAgICAgICAgIHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKFwiLnNpZ25cIikuaW5uZXJIVE1MPVwiPTBcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcihGYWN0b3JFZGl0Vmlldy50bXBsWHRleHQpO1xuICAgICAgICB0aGlzLmZhY3Rvcj0gPEhUTUxJbnB1dEVsZW1lbnQ+IHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKFwiLmZhY3RvclwiKSA7XG4gICAgfVxuICAgIFxuICAgIHNldE1vZGVsKHZhbHVlOiBEZWNpbWFsKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZmFjdG9yLnZhbHVlPXZhbHVlPT09bnVsbCB8fCB2YWx1ZS5pc05hTigpID9cIlwiOnZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGdldE1vZGVsKCk6IERlY2ltYWwge1xuICAgICAgICB2YXIgZGVjaW1hbDpEZWNpbWFsO1xuICAgICAgICB0cnl7XG4gICAgICAgICBkZWNpbWFsPSBuZXcgRGVjaW1hbCh0aGlzLmZhY3Rvci52YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2goZXgpXG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gbmV3IERlY2ltYWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiAgIGRlY2ltYWwuaXNOYU4oKSA/IG5ldyBEZWNpbWFsKDApOmRlY2ltYWw7XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAgIFxuICAgIH1cbiAgICBcbn1cblxuXG5cblxuXG50eXBlIE1haW49eyBzb2x1dGlvbjpTb2x1dGlvbltdLHBvbHlub21FZGl0OiBBcnJheSA8RGVjaW1hbD4gfVxuZXhwb3J0IGNsYXNzIE1haW5WaWV3IGV4dGVuZHMgVmlldzxNYWluPiAge1xuXG4gICAgcHJpdmF0ZSBidG5BZGQ9IDxIVE1MQnV0dG9uRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5BZGRcIik7XG4gICAgcHJpdmF0ZSBidG5SZW1vdmU9IDxIVE1MQnV0dG9uRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5SZW1vdmVcIik7XG4gICAgcHJpdmF0ZSBidG5Tb2x2ZSA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blNvbHZlXCIpO1xuICAgIHByaXZhdGUgYnRuUGxvdCA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blBsb3RcIik7XG4gICAgcHJpdmF0ZSBidG5EaXZpZGUgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5EaXZpZGVcIik7XG5cbiAgICBwdWJsaWMgcG9seW5vbWVkaXR2aWV3OlBvbHlub21FZGl0VmlldztcbiAgICBwdWJsaWMgc29sdXRpb25zdmlldzpTb2x1dGlvbnNWaWV3O1xuICAgIHB1YmxpYyBnZXQgb25idXR0b25hZGQoKTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5idG5BZGQub25jbGljaztcbiAgICB9XG4gICAgcHVibGljIHNldCBvbmJ1dHRvbmFkZCh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgICAgdGhpcy5idG5BZGQub25jbGljayA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgb25idXR0b25yZW1vdmUoKTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5idG5SZW1vdmUub25jbGljaztcbiAgICB9XG4gICAgcHVibGljIHNldCBvbmJ1dHRvbnJlbW92ZSh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgICAgdGhpcy5idG5SZW1vdmUub25jbGljayA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgb25idXR0b25zb2x2ZSgpOiAodGhpczogR2xvYmFsRXZlbnRIYW5kbGVycywgZXY6IE1vdXNlRXZlbnQpID0+IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ0blNvbHZlLm9uY2xpY2s7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgb25idXR0b25zb2x2ZSh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgICAgdGhpcy5idG5Tb2x2ZS5vbmNsaWNrID0gdmFsdWU7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgb25idXR0b25wbG90KCk6ICh0aGlzOiBHbG9iYWxFdmVudEhhbmRsZXJzLCBldjogTW91c2VFdmVudCkgPT4gYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnRuUGxvdC5vbmNsaWNrO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IG9uYnV0dG9ucGxvdCh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgICAgdGhpcy5idG5QbG90Lm9uY2xpY2sgPSB2YWx1ZTtcbiAgICB9XG4gICAgcHVibGljIGdldCBvbmJ1dHRvbmRpdmlkZSgpOiAodGhpczogR2xvYmFsRXZlbnRIYW5kbGVycywgZXY6IE1vdXNlRXZlbnQpID0+IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ0bkRpdmlkZS5vbmNsaWNrO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IG9uYnV0dG9uZGl2aWRlKHZhbHVlOiAodGhpczogR2xvYmFsRXZlbnRIYW5kbGVycywgZXY6IE1vdXNlRXZlbnQpID0+IGFueSkge1xuICAgICAgICB0aGlzLmJ0bkRpdmlkZS5vbmNsaWNrID0gdmFsdWU7XG4gICAgfVxuXG5cbiAgICBjb25zdHJ1Y3RvcigpIHsgICBcbiAgICAgIHN1cGVyKGRvY3VtZW50LmJvZHkpO1xuICAgICAgdGhpcy5zb2x1dGlvbnN2aWV3PSBuZXcgU29sdXRpb25zVmlldygpO1xuICAgICAgdGhpcy5wb2x5bm9tZWRpdHZpZXc9IG5ldyBQb2x5bm9tRWRpdFZpZXcoKTtcbiAgICAgIHZhciB0b3BDb250YWluZXI9IDxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3BDb250YWluZXJcIik7XG4gICAgICB0aGlzLnBvbHlub21lZGl0dmlldy5hcHBlbmRUbyh0b3BDb250YWluZXIpOyAgICAgXG4gICAgfVxuICBcbiAgICBzZXRNb2RlbCh2YWx1ZTogTWFpbik6IHZvaWQge1xuXG4gICAgICAgIHRoaXMucG9seW5vbWVkaXR2aWV3LnNldE1vZGVsKHZhbHVlLnBvbHlub21FZGl0KTtcbiAgICAgICAgdGhpcy5zb2x1dGlvbnN2aWV3LnNldE1vZGVsKHZhbHVlLnNvbHV0aW9uKTtcbiAgICAgICAgICAgIFxuICAgIH1cbiAgICBnZXRNb2RlbCgpOiBNYWluIHtcbiAgICAgICAgcmV0dXJuIHtzb2x1dGlvbjp0aGlzLnNvbHV0aW9uc3ZpZXcuZ2V0TW9kZWwoKSxwb2x5bm9tRWRpdDp0aGlzLnBvbHlub21lZGl0dmlldy5nZXRNb2RlbCgpfTtcbiAgICB9XG4gICAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuXG4gIH0iLCJpbXBvcnQge0RlY2ltYWx9IGZyb20gJ2RlY2ltYWwuanMnO1xuRGVjaW1hbC5zZXQoeyBwcmVjaXNpb246IDk2fSlcbmV4cG9ydCB7RGVjaW1hbH07XG5jb25zdCBuZWdhdGl2ZUluZmluaXR5ID1uZXcgRGVjaW1hbChOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuY29uc3QgcG9zaXRpdmVJbmZpbml0eSA9bmV3IERlY2ltYWwoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbmNvbnN0IHplcm8gPW5ldyBEZWNpbWFsKDApO1xuY29uc3Qgb25lID1uZXcgRGVjaW1hbCgxKTtcbmNvbnN0IHR3byA9bmV3IERlY2ltYWwoMik7XG5jb25zdCBuYW4gPW5ldyBEZWNpbWFsKE51bWJlci5OYU4pO1xuXG5leHBvcnQgZnVuY3Rpb24qIGdldEludGVydmFsc0luUG9seW5vbSggLi4uc29ydGVkRGVyaXZhdGVaZXJvczpEZWNpbWFsW10pOkdlbmVyYXRvcjxJbnRlcnZhbD5cbntcbiAgICB2YXIgbGVmdCxyaWdodDtcbiAgICB2YXIgaW5kZXg9c29ydGVkRGVyaXZhdGVaZXJvcy5sZW5ndGg7ICBcbiAgICBpZiAoaW5kZXggPT0wKSB7XG4gICAgICAgeWllbGQge2xlZnQ6bmVnYXRpdmVJbmZpbml0eSxyaWdodDpwb3NpdGl2ZUluZmluaXR5LHN0YXJ0Onplcm99O1xuICAgICAgIHJldHVybjtcbiAgICB9IFxuICAgIHJpZ2h0PXNvcnRlZERlcml2YXRlWmVyb3NbMF1cbiAgICB5aWVsZCAge2xlZnQ6bmVnYXRpdmVJbmZpbml0eSxyaWdodCxzdGFydDpyaWdodC5zdWIob25lKX07IFxuXG4gICAgZm9yICh2YXIgaT0xO2k8aW5kZXg7aSsrKVxuICAgIHtcbiAgICAgICAgbGVmdD1yaWdodDsgICAgICBcbiAgICAgICAgcmlnaHQ9c29ydGVkRGVyaXZhdGVaZXJvc1tpXTsgICAgXG4gICAgICAgIGlmIChsZWZ0LmdyZWF0ZXJUaGFuT3JFcXVhbFRvKHJpZ2h0KSkgdGhyb3cgbmV3IEVycm9yKCk7ICAgICAgICBcbiAgICAgICAgeWllbGQge2xlZnQscmlnaHQsc3RhcnQ6bGVmdC5hZGQocmlnaHQpLmRpdih0d28pfTsgICAgICBcbiAgICB9XG4gICAgeWllbGQgIHtsZWZ0OnJpZ2h0LHJpZ2h0OnBvc2l0aXZlSW5maW5pdHksc3RhcnQ6cmlnaHQuYWRkKG9uZSl9IDsgICAgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBlcmFjaWQocG9seW5vbTpEZWNpbWFsW10sYWNjdXJhY3k6RGVjaW1hbD1uZXcgRGVjaW1hbCgwLjAxKSwgbmV3dG9uSXRlcmF0aW9uczpudW1iZXI9MzIpOkRlY2ltYWxbXVxue1xuIC8qXG4gIFNpbXBsaWZ5IHBvbHlub21pYWwgYnkgZGl2aWRpbmcgdGhyb3VnaCB0aGUgZmlyc3QgY29lZmZpY2llbnQuXG4gIFNtYWxsZXIgY29lZmZpY2llbnRzIG1lYW4gbGVzcyBjaGFuY2Ugb2Ygb3ZlcmZsb3dpbmcuXG4gKi9cbiBwb2x5bm9tPXNpbXBseWZ5UG9seW5vbShwb2x5bm9tKTsgXG4gdmFyIGRlZ3JlZSA9IHBvbHlub20ubGVuZ3RoLTE7XG4gaWYgKGRlZ3JlZTw9MCkgcmV0dXJuIG51bGw7XG4gdmFyIHBvbHlub21zPWNhbGN1bGF0ZURlcml2YXRlcyhwb2x5bm9tKTsgLy9jYWxjdWxhdGUgYWxsIGRlcml2YXRpdmVzXG4gLypcbiAgIEFkZCBwb2x5bm9taWFsIHRvIHRoZSBsaXN0IG9mIHBvbHlub21pYWxzLCB3aG9zZSByb290cyBuZWVkIHRvIGJlIGNhbGN1bGF0ZWRcbiAqL1xuIHBvbHlub21zLnVuc2hpZnQocG9seW5vbSk7IFxuIHZhciBjPSBkZWdyZWU7XG4gdmFyIGZpcnN0RGVncmVlRGVyaXZhdGlvbj1wb2x5bm9tc1twb2x5bm9tcy5sZW5ndGgtMl07XG4gdmFyIGRlcml2YXRlWmVyb3M6RGVjaW1hbFtdPVtmaXJzdERlZ3JlZURlcml2YXRpb25bMV0ubmVnKCkuZGl2KGZpcnN0RGVncmVlRGVyaXZhdGlvblswXSldO1xuIHZhciByb290cyA9IGRlcml2YXRlWmVyb3M7XG4gLypcbiAgQ2FsY3VsYXRlIHJvb3RzIG9mIHBvbHlub21pYWwgYW5kIGFsbCBpdHMgZGVyaXZhdGVzLCBzdGFydGluZyB3aXRoIGxvd2VzdCBkZWdyZWUuXG4gIFJvb3RzIGFyZSBuZWVkZWQgZm9yIGNhbGN1bGF0aW5nIHRoZSByb290cyBvZiB0aGUgcG9seW5vbSB3aXRoIHRoZSBuZXh0IGRlZ3JlZS4gIFxuICovXG4gd2hpbGUgKC0tYykgXG4geyBcbiAgICB2YXIgZng9IHBvbHlub21zW2MtMV07XG4gICAgdmFyIGZ4eD0gcG9seW5vbXNbY107XG4gICAgcm9vdHM9W107XG4gICAgLypcbiAgICAgIEludGVydmFscyBhcmUgbG9jYXRlZCBmcm9tIC1pbmZpbml0eSB0byB0aGUgZmlyc3Qgc3RhdGlvbmFyeSBwb2ludCwgaW4gYmV0d2VlbiBuZWlnYm91cmluZ1xuICAgICAgc3RhdGlvbmFyeSBwb2ludHMsIGFuZCBmcm9tIHRoZSBsYXN0IHN0YXRpb25hcnkgcG9pbnQgdG8gK2luZmluaXR5LiBCZWNhdXNlIG9mIHRoYXQsIHRoZSB6ZXJvc1xuICAgICAgb2YgdGhlIGRlcml2YXRlIGFyZSBuZWVkZWQsIGNhbGN1bGF0ZWQgaW4gdGhlIGxhc3QgbG9vcCBpdGVyYXRpb24uXG4gICAgICBJbiBlYWNoIGludGVydmFsIHRoZXJlIGlzIGF0IG1vc3Qgb25lIHplcm8sIGJlY2F1c2UgdGhlIHNpZ24gb2YgdGhlIGRlcml2YXRpdmUgaXMgY29uc3RhbnQuXG4gICAgKi8gIFxuICAgIHZhciBpbnRlcnZhbHM9IGdldEludGVydmFsc0luUG9seW5vbSguLi5kZXJpdmF0ZVplcm9zKTsgXG4gICAgZm9yKCB2YXIgaW50ZXJ2YWwgb2YgaW50ZXJ2YWxzKVxuICAgIHsgIC8vRG8gTmV3dG9uIGl0ZXJhdGlvbnMgc2VwZXJhdGVseSBmb3IgZWFjaCBpbnRlcnZhbFxuICAgICAgIHZhciByb290PW5ld3Rvbkl0ZXJhdGUoZngsZnh4LGludGVydmFsLmxlZnQsaW50ZXJ2YWwucmlnaHQsaW50ZXJ2YWwuc3RhcnQsbmV3dG9uSXRlcmF0aW9ucyxhY2N1cmFjeSk7IFxuICAgICAgIGlmIChyb290PT1udWxsKSBjb250aW51ZTsgICBcbiAgICAgICAvL3NraXAgbmV4dCBpbnRlcnZhbCwgYmVjYXVzZSByb290IHdpbGwgYmUgdGhlIHNhbWUgYXMgaW4gdGhlIGN1cnJlbnQgaW50ZXJ2YWwgIFxuICAgICAgIGlmIChpbnRlcnZhbC5yaWdodC5taW51cyhyb290KS5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkpIGludGVydmFscy5uZXh0KCk7IFxuICAgICAgIHJvb3RzLnB1c2gocm9vdCk7IC8vQWRkIHJvb3QgdG8gdGhlIGxpc3Qgb2YgZm91bmQgcm9vdHMgICBcbiAgICB9XG4gICAgZGVyaXZhdGVaZXJvcz1yb290czsgLy9Sb290cyBhcmUgbmVlZGVkIGZvciBjYWxjdWxhdGluZyB0aGUgbmV4dCBpbnRlcnZhbHMgICBcbiB9XG4gcmV0dXJuIHJvb3RzOyAvLyByZXR1cm4gZm91bmQgcm9vdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld3Rvbkl0ZXJhdGUocG9seW5vbTpEZWNpbWFsW10sZGVyaXZhdGU6RGVjaW1hbFtdLFxuICAgIGxlZnQ6RGVjaW1hbCxyaWdodDpEZWNpbWFsLHN0YXJ0OkRlY2ltYWwsXG4gICAgbmV3dG9uSXRlcmF0aW9uczpudW1iZXIsYWNjdXJhY3k6RGVjaW1hbCk6RGVjaW1hbFxue1xuIHZhciBkZWdyZWUgPSBwb2x5bm9tLmxlbmd0aC0xO1xuIGlmIChkZWdyZWU8PTAgfHwgZGVyaXZhdGUubGVuZ3RoICE9IHBvbHlub20ubGVuZ3RoLTEpIHJldHVybiBudWxsO1xuIGlmIChuZXd0b25JdGVyYXRpb25zPDApIHJldHVybiBudWxsO1xuIHZhciBjPTA7XG4gdmFyIHg9bnVsbDtcbiB2YXIgZng9cG9zaXRpdmVJbmZpbml0eTtcbiB2YXIgZnh4PW51bGw7XG4gdmFyIG5leHRGeD1udWxsO1xuIHdoaWxlKHRydWUpXG4geyAgICBcbiAgICBpZiAoc3RhcnQubGVzc1RoYW4obGVmdCkgfHwgc3RhcnQuZ3JlYXRlclRoYW4ocmlnaHQpKSBcbiAgICB7XG4gICAgICAgIGJyZWFrO1xuICAgIH0gICAgXG4gICAgbmV4dEZ4PWNhbGN1bGF0ZShwb2x5bm9tLHN0YXJ0KTtcbiAgICBpZiAoYz4xICYmIG5leHRGeC5hYnMoKS5ncmVhdGVyVGhhbk9yRXF1YWxUbyhmeC5hYnMoKSkgJiYgZnguYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpKSBcbiAgICB7ICAgICAgXG4gICAgICByZXR1cm4geDtcbiAgICB9ICAgXG4gICAgZng9IG5leHRGeDtcbiAgICB4PXN0YXJ0OyBcbiAgICBpZiAoZnguaXNaZXJvKCkgfHwgXG4gICAgICAgYz49bmV3dG9uSXRlcmF0aW9ucyB8fFxuICAgICAgIChmeHg9IGNhbGN1bGF0ZShkZXJpdmF0ZSx4KSkuaXNaZXJvKCkpIGJyZWFrO1xuICAgIHZhciBzdGFydD1zdGFydC5zdWIoZnguZGl2KGZ4eCkpO1xuICAgIGMrKzsgICAgXG4gfVxuIHJldHVybiBmeC5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkgPyB4OiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRGVyaXZhdGVzKHBvbHlub206RGVjaW1hbFtdKVxue1xuICAgIHZhciBkZXJpdmF0ZXNDb3VudCA9IHBvbHlub20ubGVuZ3RoLTE7XG4gICAgaWYgKGRlcml2YXRlc0NvdW50PDEpIHJldHVybiBbXTtcbiAgICB2YXIgZGVyaXZhdGlvbnM9bmV3IEFycmF5PERlY2ltYWxbXT4oZGVyaXZhdGVzQ291bnQpO1xuICAgIGRlcml2YXRpb25zWzBdPSBkZXJpdmF0aXZlKHBvbHlub20pO1xuICAgIGZvciAodmFyIGM9MTtjPGRlcml2YXRlc0NvdW50O2MrKylcbiAgICB7ICAgICBcbiAgICAgICAgZGVyaXZhdGlvbnNbY109ZGVyaXZhdGl2ZShkZXJpdmF0aW9uc1tjLTFdKTtcbiAgICB9IFxuICAgIHJldHVybiBkZXJpdmF0aW9ucztcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXJpdmF0aXZlKHBvbHlub206RGVjaW1hbFtdKVxue1xuICAgIHZhciBjPXBvbHlub20ubGVuZ3RoLTE7XG4gICAgdmFyIGRlcml2YXRpdmU9IG5ldyBBcnJheTxEZWNpbWFsPihjKTsgXG4gICAgdmFyIGRlZ3JlZT0xOyAgXG4gICAgd2hpbGUgKGMtLSlcbiAgICB7ICAgICAgXG4gICAgICAgIGRlcml2YXRpdmVbY109KHBvbHlub21bY10ubXVsKGRlZ3JlZSkpO1xuICAgICAgICBkZWdyZWUrKztcbiAgICB9XG4gICAgcmV0dXJuIGRlcml2YXRpdmU7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlKHBvbHlub206RGVjaW1hbFtdLHg6RGVjaW1hbClcbntcbiAgICB2YXIgc3VtPXplcm87XG4gICAgdmFyIGM9cG9seW5vbS5sZW5ndGg7XG4gICAgdmFyIGRlZ3JlZT0wOyAgXG4gICAgd2hpbGUgKGMtLSlcbiAgICB7ICAgICAgXG4gICAgICAgIHN1bT1zdW0uYWRkKHBvbHlub21bY10ubXVsKERlY2ltYWwucG93KHgsZGVncmVlKSkpO1xuICAgICAgICBkZWdyZWUrKztcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTmVpZ2hib3VyaW5nUm9vdHMocm9vdHM6IERlY2ltYWxbXSxhY2N1cmFjeTpEZWNpbWFsKVxue1xuIHZhciBsZW5ndGg9cm9vdHMubGVuZ3RoO1xuIHZhciBjb3VudD0wO1xuIGZvciAodmFyIGM9MDtjPGxlbmd0aDspXG4geyAgIFxuICAgICB2YXIgc3VtPXplcm87ICAgXG4gICAgIHZhciBzdGFydE1lcmdlPWM7ICBcbiAgICAgZG8gXG4gICAgIHtcbiAgICAgICB2YXIgdmFsdWU9cm9vdHNbY107XG4gICAgICAgc3VtPSBzdW0uYWRkKHZhbHVlKTtcbiAgICAgICBjKys7XG4gICAgIH0gd2hpbGUgKChjPGxlbmd0aCkmJnZhbHVlLnN1Yihyb290c1tjXSkuYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpKVxuICAgICByb290c1tjb3VudF09c3VtLmRpdihjLXN0YXJ0TWVyZ2UpO1xuICAgICBjb3VudCsrO1xuIH1cbiByb290cy5sZW5ndGg9Y291bnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uQXNjZW5kaW5nVG9UaGVSaWdodChwb2x5bm9tczpEZWNpbWFsW11bXSwgeDpEZWNpbWFsLGFjY3VyYWN5OkRlY2ltYWw9bmV3IERlY2ltYWwoMC4wMDEpKTpib29sZWFuXG57IFxuIC8vZmluZCBmaXJzdCBub24temVybyBkZXJpdmF0aW9uXG4gZm9yICh2YXIgZiA9MTtmPHBvbHlub21zLmxlbmd0aDtmKysgKVxuIHtcbiAgIHZhciB2YWx1ZT1jYWxjdWxhdGUocG9seW5vbXNbZl0seCk7XG4gICBpZiAoIXZhbHVlLmFicygpLmxlc3NUaGFuKGFjY3VyYWN5KSkge1xuICAgICByZXR1cm4gdmFsdWUuaXNQb3NpdGl2ZSgpO1xuICAgfVxuIH1cbiByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uQXNjZW5kaW5nVG9UaGVMZWZ0KHBvbHlub21zOkRlY2ltYWxbXVtdLCB4OkRlY2ltYWwsYWNjdXJhY3k6RGVjaW1hbD1uZXcgRGVjaW1hbCgwLjAwMSkpOmJvb2xlYW5cbnsgXG4gLy9maW5kIGZpcnN0IG5vbi16ZXJvIGRlcml2YXRpb25cbiBmb3IgKHZhciBmID0xO2Y8cG9seW5vbXMubGVuZ3RoO2YrKyApXG4ge1xuICAgdmFyIHZhbHVlPWNhbGN1bGF0ZShwb2x5bm9tc1tmXSx4KTtcbiAgIGlmICghdmFsdWUuYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpKSB7XG4gICAgIHJldHVybiB2YWx1ZS5pc1Bvc2l0aXZlKCk9PShmICUgMiA9PTApO1xuICAgfVxuIH1cbiByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGxpY2F0ZShwb2x5bm9tMTpEZWNpbWFsW10scG9seW5vbTI6RGVjaW1hbFtdKVxue1xuICB2YXIgYXJyYXlTaXplPXBvbHlub20xLmxlbmd0aC0xK3BvbHlub20yLmxlbmd0aDtcbiAgdmFyIHAgPSBuZXcgQXJyYXk8RGVjaW1hbD4oYXJyYXlTaXplKS5maWxsKHplcm8pOyBcbiAgZm9yICh2YXIgcDE9MDtwMTxwb2x5bm9tMS5sZW5ndGg7cDErKylcbiAge1xuICAgIGZvciAodmFyIHAyPTA7cDI8cG9seW5vbTIubGVuZ3RoO3AyKyspXG4gICAge1xuICAgICAgICB2YXIgdGFyZ2V0RGVncmVlPXAxK3AyO1xuICAgICAgICB2YXIgc3VtMmFkZD1wb2x5bm9tMVtwMV0ubXVsKHBvbHlub20yW3AyXSk7XG4gICAgICAgIHBbdGFyZ2V0RGVncmVlXT1wW3RhcmdldERlZ3JlZV0uYWRkKHN1bTJhZGQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUG9seW5vbUZyb21Sb290cyguLi5yb290czpEZWNpbWFsW10pXG57XG4gIHZhciBwOkRlY2ltYWxbXT1bb25lXTtcbiAgZm9yICh2YXIgYz0wO2M8IHJvb3RzLmxlbmd0aDtjKyspXG4gIHtcbiAgICBwPW11bHRpcGxpY2F0ZShwLFtvbmUsIHJvb3RzW2NdLm5lZygpXSk7ICAgXG4gIH1cbiAgcmV0dXJuIHA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaW1wbHlmeVBvbHlub20ocG9seW5vbTpEZWNpbWFsW10pOkRlY2ltYWxbXVxueyBcbiB2YXIgcDpEZWNpbWFsW109W107XG4gdmFyIGZpcnN0OkRlY2ltYWw9bnVsbDtcbiB2YXIgbGVuZ3RoPXBvbHlub20ubGVuZ3RoO1xuIGZvciAodmFyIGM9MDtjPGxlbmd0aDtjKyspXG4ge1xuICB2YXIgdmFsdWU9cG9seW5vbVtjXTtcbiAgaWYgKCF2YWx1ZS5pc1plcm8oKSlcbiAge1xuICAgICAgZmlyc3Q9dmFsdWU7ICAgICBcbiAgICAgIGJyZWFrO1xuICB9XG4gfVxuIGZvciAoO2M8bGVuZ3RoO2MrKylcbiB7XG4gIHZhciB2YWx1ZT1wb2x5bm9tW2NdO1xuICBwLnB1c2godmFsdWUuZGl2KGZpcnN0KSk7XG4gfVxuIHJldHVybiBwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFudGlkZXJpdmF0aXZlKHBvbHlub206RGVjaW1hbFtdKVxue1xuICAgIHZhciBkZWdyZWU9cG9seW5vbS5sZW5ndGg7XG4gICAgdmFyIGFkPSBuZXcgQXJyYXk8RGVjaW1hbD4oZGVncmVlKzEpOyAgXG4gICAgdmFyIGxhc3RJbmRleD1kZWdyZWU7ICAgXG4gICAgZm9yICh2YXIgYz0wO2M8bGFzdEluZGV4O2MrKylcbiAgICB7XG4gICAgICBhZFtjXT1wb2x5bm9tW2NdLmRpdihkZWdyZWUpO1xuICAgICAgZGVncmVlLS07XG4gICAgfVxuICAgIGFkW2xhc3RJbmRleF09emVybztcbiAgICByZXR1cm4gYWQ7XG59XG50eXBlIEludGVydmFsPVxue1xuICAgIGxlZnQ6RGVjaW1hbDtcbiAgICByaWdodDpEZWNpbWFsO1xuICAgIHN0YXJ0OkRlY2ltYWxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uICQoLi4uYXJyOkRlY2ltYWwuVmFsdWVbXSlcbntcbiAgICByZXR1cm4gYXJyLm1hcChwPT57cmV0dXJuIG5ldyBEZWNpbWFsKHApO30pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9TdHJpbmcocG9seW5vbTpEZWNpbWFsW10sZGVjaW1hbFBsYWNlczowfDF8MnwzfDR8NXw2fDd8OHw5KVxue1xuICAgIHZhciBmYWN0b3I9RGVjaW1hbC5wb3coMTAsZGVjaW1hbFBsYWNlcyk7XG4gICAgdmFyIGRlZ3JlZT1wb2x5bm9tLmxlbmd0aDtcbiAgICB2YXIgYz0wO1xuICAgIHZhciByZXN1bHQ9XCJcIjtcbiAgICB2YXIgZj0wO1xuICAgIHdoaWxlKGRlZ3JlZS0tKVxuICAgIHsgICAgIFxuICAgICB2YXIgdmFsdWU9cG9seW5vbVtjXTtcbiAgICAgaWYgKCF2YWx1ZS5pc1plcm8oKSlcbiAgICAge1xuICAgICAgICBpZiAodmFsdWUuaXNQb3NpdGl2ZSgpKVxuICAgICAgICB7IFxuICAgICAgICAgICBpZiAoZikgcmVzdWx0Kz0gXCIrXCI7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgIHJlc3VsdCs9IFwiLVwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhYnM9IHZhbHVlLmFicygpO1xuICAgICAgICB2YXIgc2hvd0ZhY3Rvcj1kZWdyZWU9PTAgfHwgIWFicy5lcXVhbHMob25lKTtcbiAgICAgICAgaWYgKHNob3dGYWN0b3IpIHJlc3VsdCs9YWJzLm11bChmYWN0b3IpLnJvdW5kKCkuZGl2KGZhY3RvcikudG9TdHJpbmcoKVxuICAgICAgICBcbiAgICAgICAgaWYgKGRlZ3JlZSAhPTApXG4gICAgICAgIHtcbiAgICAgICAgICAgcmVzdWx0Kz0oc2hvd0ZhY3Rvcj9cIipcIjpcIlwiKSArXCJ4XCI7XG4gICAgICAgIH0gXG4gICAgICAgIGlmIChkZWdyZWUgPjEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdCs9XCJeXCIrZGVncmVlO1xuICAgICAgICB9XG4gICAgICAgIGYrKztcbiAgICAgfSBcbiAgICAgYysrO1xuICAgIH0gICAgXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxudHlwZSBSb290RmluZGluZ1Jlc3VsdD17cG9seW5vbTpEZWNpbWFsW10semVyb3M6RGVjaW1hbFtdfSBcbmV4cG9ydCBmdW5jdGlvbiBzb2x2ZShwb2x5bm9tOkRlY2ltYWxbXSxhY2N1cmFjeTpEZWNpbWFsPW5ldyBEZWNpbWFsKDAuMDAxKSwgbmV3dG9uSXRlcmF0aW9uczpudW1iZXI9NjQpOlJvb3RGaW5kaW5nUmVzdWx0W11cbntcbiBwb2x5bm9tPXNpbXBseWZ5UG9seW5vbShwb2x5bm9tKTtcbiB2YXIgZGVncmVlID0gcG9seW5vbS5sZW5ndGgtMTtcbiBpZiAoZGVncmVlPD0wKSByZXR1cm4gbnVsbDtcbiB2YXIgcG9seW5vbXM9Y2FsY3VsYXRlRGVyaXZhdGVzKHBvbHlub20pO1xuIHBvbHlub21zLnVuc2hpZnQocG9seW5vbSk7XG4gdmFyIGM9IGRlZ3JlZTtcbiB2YXIgZmlyc3REZWdyZWVEZXJpdmF0aW9uPXBvbHlub21zW3BvbHlub21zLmxlbmd0aC0yXTtcbiB2YXIgZGVyaXZhdGVaZXJvczpEZWNpbWFsW109W2ZpcnN0RGVncmVlRGVyaXZhdGlvblsxXS5uZWcoKS5kaXYoZmlyc3REZWdyZWVEZXJpdmF0aW9uWzBdKV07XG4gdmFyIHJlc3VsdHM6Um9vdEZpbmRpbmdSZXN1bHRbXT1bXTtcbiByZXN1bHRzLnVuc2hpZnQoe3BvbHlub206Zmlyc3REZWdyZWVEZXJpdmF0aW9uLHplcm9zOmRlcml2YXRlWmVyb3N9KVxuIHdoaWxlICgtLWMpXG4geyBcbiAgICB2YXIgZng9IHBvbHlub21zW2MtMV07XG4gICAgdmFyIGZ4eD0gcG9seW5vbXNbY107XG4gICAgdmFyIHJvb3RzOkRlY2ltYWxbXT1bXTsgICBcbiAgICB2YXIgaW50ZXJ2YWxzPSBnZXRJbnRlcnZhbHNJblBvbHlub20oLi4uZGVyaXZhdGVaZXJvcylcbiAgICBmb3IoIHZhciBpbnRlcnZhbCBvZiBpbnRlcnZhbHMpXG4gICAgeyAgICAgICBcbiAgICAgICB2YXIgcm9vdD1uZXd0b25JdGVyYXRlKGZ4LGZ4eCxpbnRlcnZhbC5sZWZ0LGludGVydmFsLnJpZ2h0LGludGVydmFsLnN0YXJ0LG5ld3Rvbkl0ZXJhdGlvbnMsYWNjdXJhY3kpO1xuICAgICAgIGlmIChyb290PT1udWxsKSBjb250aW51ZTtcbiAgICAgICBpZiAoaW50ZXJ2YWwucmlnaHQubWludXMocm9vdCkuYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpKSBpbnRlcnZhbHMubmV4dCgpO1xuICAgICAgIHJvb3RzLnB1c2gocm9vdCk7XG4gICAgfVxuICAgIHJlc3VsdHMudW5zaGlmdCh7cG9seW5vbTpmeCx6ZXJvczpyb290c30pXG4gICAgZGVyaXZhdGVaZXJvcz1yb290czsgICAgXG4gfVxuIHJldHVybiByZXN1bHRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24qIGlzb2xhdGVSb290cyhwb2x5bm9tczpEZWNpbWFsW11bXSxzb3J0ZWREZXJpdmF0ZVplcm9zOkRlY2ltYWxbXSxhY2N1cmFjeTpEZWNpbWFsID0gbmV3IERlY2ltYWwoMC4wMDEpKTpHZW5lcmF0b3I8SW50ZXJ2YWw+XG57XG4gICAgdmFyIGxlZnQscmlnaHQ7XG4gICAgdmFyIHBvbHlub209cG9seW5vbXNbMF07XG4gICAgdmFyIGluZGV4PXNvcnRlZERlcml2YXRlWmVyb3MubGVuZ3RoOyAgXG4gICAgaWYgKGluZGV4ID09MCkgeyAgICBcbiAgICAgICB5aWVsZCB7bGVmdDpuZWdhdGl2ZUluZmluaXR5LHJpZ2h0OnBvc2l0aXZlSW5maW5pdHksc3RhcnQ6emVyb307XG4gICAgICAgcmV0dXJuO1xuICAgIH0gXG4gICAgcmlnaHQ9c29ydGVkRGVyaXZhdGVaZXJvc1swXVxuICAgIHZhciBmeFJpZ2h0PSBjYWxjdWxhdGUocG9seW5vbSxyaWdodCk7XG4gICAgaWYgKGZ4UmlnaHQuYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpIHx8IChmeFJpZ2h0LmlzTmVnYXRpdmUoKSA9PSBpc0Z1bmN0aW9uQXNjZW5kaW5nVG9UaGVMZWZ0KHBvbHlub21zLHJpZ2h0LGFjY3VyYWN5KSkpXG4gICAgeyAgXG4gICAgICAgIHlpZWxkICB7bGVmdDpuZWdhdGl2ZUluZmluaXR5LHJpZ2h0LHN0YXJ0OnJpZ2h0LnN1YihvbmUpfTtcbiAgICB9ICBcblxuICAgIGZvciAodmFyIGk9MTtpPGluZGV4O2krKylcbiAgICB7XG4gICAgICAgIGxlZnQ9cmlnaHQ7ICAgICAgXG4gICAgICAgIHJpZ2h0PXNvcnRlZERlcml2YXRlWmVyb3NbaV07ICAgIFxuICAgICAgICBpZiAobGVmdC5ncmVhdGVyVGhhbk9yRXF1YWxUbyhyaWdodCkpIHRocm93IG5ldyBFcnJvcigpOyAgIFxuICAgICAgICB2YXIgZnhMZWZ0PWZ4UmlnaHQ7XG4gICAgICAgIHZhciBmeFJpZ2h0PWNhbGN1bGF0ZShwb2x5bm9tLHJpZ2h0KTtcbiAgICAgICAgaWYgKGZ4UmlnaHQuYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpIHx8IGZ4TGVmdC5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkgfHwgZnhMZWZ0LmlzUG9zaXRpdmUoKSE9ZnhSaWdodC5pc1Bvc2l0aXZlKCkpXG4gICAgICAgIHsgICAgICAgICAgICAgXG4gICAgICAgICAgICB5aWVsZCB7bGVmdCxyaWdodCxzdGFydDpsZWZ0LmFkZChyaWdodCkuZGl2KHR3byl9OyBcbiAgICAgICAgfSAgXG4gICAgfVxuICAgIFxuICAgIGlmIChmeFJpZ2h0LmFicygpLmxlc3NUaGFuKGFjY3VyYWN5KSB8fCAoZnhSaWdodC5pc05lZ2F0aXZlKCkgPT0gaXNGdW5jdGlvbkFzY2VuZGluZ1RvVGhlUmlnaHQocG9seW5vbXMscmlnaHQsYWNjdXJhY3kpKSlcbiAgICB7ICAgICAgXG4gICAgICB5aWVsZCAge2xlZnQ6cmlnaHQscmlnaHQ6cG9zaXRpdmVJbmZpbml0eSxzdGFydDpyaWdodC5hZGQob25lKX07IFxuICAgIH1cbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubm1kID0gKG1vZHVsZSkgPT4ge1xuXHRtb2R1bGUucGF0aHMgPSBbXTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCIiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL2d1aS9wcmVzZW50ZXIudHNcIik7XG4iLCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=