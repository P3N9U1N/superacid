/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/decimal.js/decimal.js":
/*!********************************************!*\
  !*** ./node_modules/decimal.js/decimal.js ***!
  \********************************************/
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;;(function (globalScope) {
  'use strict';


  /*
   *  decimal.js v10.3.1
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2021 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */


  // -----------------------------------  EDITABLE DEFAULTS  ------------------------------------ //


    // The maximum exponent magnitude.
    // The limit on the value of `toExpNeg`, `toExpPos`, `minE` and `maxE`.
  var EXP_LIMIT = 9e15,                      // 0 to 9e15

    // The limit on the value of `precision`, and on the value of the first argument to
    // `toDecimalPlaces`, `toExponential`, `toFixed`, `toPrecision` and `toSignificantDigits`.
    MAX_DIGITS = 1e9,                        // 0 to 1e9

    // Base conversion alphabet.
    NUMERALS = '0123456789abcdef',

    // The natural logarithm of 10 (1025 digits).
    LN10 = '2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058',

    // Pi (1025 digits).
    PI = '3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789',


    // The initial configuration properties of the Decimal constructor.
    DEFAULTS = {

      // These values must be integers within the stated ranges (inclusive).
      // Most of these values can be changed at run-time using the `Decimal.config` method.

      // The maximum number of significant digits of the result of a calculation or base conversion.
      // E.g. `Decimal.config({ precision: 20 });`
      precision: 20,                         // 1 to MAX_DIGITS

      // The rounding mode used when rounding to `precision`.
      //
      // ROUND_UP         0 Away from zero.
      // ROUND_DOWN       1 Towards zero.
      // ROUND_CEIL       2 Towards +Infinity.
      // ROUND_FLOOR      3 Towards -Infinity.
      // ROUND_HALF_UP    4 Towards nearest neighbour. If equidistant, up.
      // ROUND_HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.
      // ROUND_HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.
      // ROUND_HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.
      // ROUND_HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.
      //
      // E.g.
      // `Decimal.rounding = 4;`
      // `Decimal.rounding = Decimal.ROUND_HALF_UP;`
      rounding: 4,                           // 0 to 8

      // The modulo mode used when calculating the modulus: a mod n.
      // The quotient (q = a / n) is calculated according to the corresponding rounding mode.
      // The remainder (r) is calculated as: r = a - n * q.
      //
      // UP         0 The remainder is positive if the dividend is negative, else is negative.
      // DOWN       1 The remainder has the same sign as the dividend (JavaScript %).
      // FLOOR      3 The remainder has the same sign as the divisor (Python %).
      // HALF_EVEN  6 The IEEE 754 remainder function.
      // EUCLID     9 Euclidian division. q = sign(n) * floor(a / abs(n)). Always positive.
      //
      // Truncated division (1), floored division (3), the IEEE 754 remainder (6), and Euclidian
      // division (9) are commonly used for the modulus operation. The other rounding modes can also
      // be used, but they may not give useful results.
      modulo: 1,                             // 0 to 9

      // The exponent value at and beneath which `toString` returns exponential notation.
      // JavaScript numbers: -7
      toExpNeg: -7,                          // 0 to -EXP_LIMIT

      // The exponent value at and above which `toString` returns exponential notation.
      // JavaScript numbers: 21
      toExpPos:  21,                         // 0 to EXP_LIMIT

      // The minimum exponent value, beneath which underflow to zero occurs.
      // JavaScript numbers: -324  (5e-324)
      minE: -EXP_LIMIT,                      // -1 to -EXP_LIMIT

      // The maximum exponent value, above which overflow to Infinity occurs.
      // JavaScript numbers: 308  (1.7976931348623157e+308)
      maxE: EXP_LIMIT,                       // 1 to EXP_LIMIT

      // Whether to use cryptographically-secure random number generation, if available.
      crypto: false                          // true/false
    },


  // ----------------------------------- END OF EDITABLE DEFAULTS ------------------------------- //


    Decimal, inexact, noConflict, quadrant,
    external = true,

    decimalError = '[DecimalError] ',
    invalidArgument = decimalError + 'Invalid argument: ',
    precisionLimitExceeded = decimalError + 'Precision limit exceeded',
    cryptoUnavailable = decimalError + 'crypto unavailable',
    tag = '[object Decimal]',

    mathfloor = Math.floor,
    mathpow = Math.pow,

    isBinary = /^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,
    isHex = /^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,
    isOctal = /^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,
    isDecimal = /^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,

    BASE = 1e7,
    LOG_BASE = 7,
    MAX_SAFE_INTEGER = 9007199254740991,

    LN10_PRECISION = LN10.length - 1,
    PI_PRECISION = PI.length - 1,

    // Decimal.prototype object
    P = { toStringTag: tag };


  // Decimal prototype methods


  /*
   *  absoluteValue             abs
   *  ceil
   *  clampedTo                 clamp
   *  comparedTo                cmp
   *  cosine                    cos
   *  cubeRoot                  cbrt
   *  decimalPlaces             dp
   *  dividedBy                 div
   *  dividedToIntegerBy        divToInt
   *  equals                    eq
   *  floor
   *  greaterThan               gt
   *  greaterThanOrEqualTo      gte
   *  hyperbolicCosine          cosh
   *  hyperbolicSine            sinh
   *  hyperbolicTangent         tanh
   *  inverseCosine             acos
   *  inverseHyperbolicCosine   acosh
   *  inverseHyperbolicSine     asinh
   *  inverseHyperbolicTangent  atanh
   *  inverseSine               asin
   *  inverseTangent            atan
   *  isFinite
   *  isInteger                 isInt
   *  isNaN
   *  isNegative                isNeg
   *  isPositive                isPos
   *  isZero
   *  lessThan                  lt
   *  lessThanOrEqualTo         lte
   *  logarithm                 log
   *  [maximum]                 [max]
   *  [minimum]                 [min]
   *  minus                     sub
   *  modulo                    mod
   *  naturalExponential        exp
   *  naturalLogarithm          ln
   *  negated                   neg
   *  plus                      add
   *  precision                 sd
   *  round
   *  sine                      sin
   *  squareRoot                sqrt
   *  tangent                   tan
   *  times                     mul
   *  toBinary
   *  toDecimalPlaces           toDP
   *  toExponential
   *  toFixed
   *  toFraction
   *  toHexadecimal             toHex
   *  toNearest
   *  toNumber
   *  toOctal
   *  toPower                   pow
   *  toPrecision
   *  toSignificantDigits       toSD
   *  toString
   *  truncated                 trunc
   *  valueOf                   toJSON
   */


  /*
   * Return a new Decimal whose value is the absolute value of this Decimal.
   *
   */
  P.absoluteValue = P.abs = function () {
    var x = new this.constructor(this);
    if (x.s < 0) x.s = 1;
    return finalise(x);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number in the
   * direction of positive Infinity.
   *
   */
  P.ceil = function () {
    return finalise(new this.constructor(this), this.e + 1, 2);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal clamped to the range
   * delineated by `min` and `max`.
   *
   * min {number|string|Decimal}
   * max {number|string|Decimal}
   *
   */
  P.clampedTo = P.clamp = function (min, max) {
    var k,
      x = this,
      Ctor = x.constructor;
    min = new Ctor(min);
    max = new Ctor(max);
    if (!min.s || !max.s) return new Ctor(NaN);
    if (min.gt(max)) throw Error(invalidArgument + max);
    k = x.cmp(min);
    return k < 0 ? min : x.cmp(max) > 0 ? max : new Ctor(x);
  };


  /*
   * Return
   *   1    if the value of this Decimal is greater than the value of `y`,
   *  -1    if the value of this Decimal is less than the value of `y`,
   *   0    if they have the same value,
   *   NaN  if the value of either Decimal is NaN.
   *
   */
  P.comparedTo = P.cmp = function (y) {
    var i, j, xdL, ydL,
      x = this,
      xd = x.d,
      yd = (y = new x.constructor(y)).d,
      xs = x.s,
      ys = y.s;

    // Either NaN or ±Infinity?
    if (!xd || !yd) {
      return !xs || !ys ? NaN : xs !== ys ? xs : xd === yd ? 0 : !xd ^ xs < 0 ? 1 : -1;
    }

    // Either zero?
    if (!xd[0] || !yd[0]) return xd[0] ? xs : yd[0] ? -ys : 0;

    // Signs differ?
    if (xs !== ys) return xs;

    // Compare exponents.
    if (x.e !== y.e) return x.e > y.e ^ xs < 0 ? 1 : -1;

    xdL = xd.length;
    ydL = yd.length;

    // Compare digit by digit.
    for (i = 0, j = xdL < ydL ? xdL : ydL; i < j; ++i) {
      if (xd[i] !== yd[i]) return xd[i] > yd[i] ^ xs < 0 ? 1 : -1;
    }

    // Compare lengths.
    return xdL === ydL ? 0 : xdL > ydL ^ xs < 0 ? 1 : -1;
  };


  /*
   * Return a new Decimal whose value is the cosine of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * cos(0)         = 1
   * cos(-0)        = 1
   * cos(Infinity)  = NaN
   * cos(-Infinity) = NaN
   * cos(NaN)       = NaN
   *
   */
  P.cosine = P.cos = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.d) return new Ctor(NaN);

    // cos(0) = cos(-0) = 1
    if (!x.d[0]) return new Ctor(1);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(x.e, x.sd()) + LOG_BASE;
    Ctor.rounding = 1;

    x = cosine(Ctor, toLessThanHalfPi(Ctor, x));

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return finalise(quadrant == 2 || quadrant == 3 ? x.neg() : x, pr, rm, true);
  };


  /*
   *
   * Return a new Decimal whose value is the cube root of the value of this Decimal, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   *  cbrt(0)  =  0
   *  cbrt(-0) = -0
   *  cbrt(1)  =  1
   *  cbrt(-1) = -1
   *  cbrt(N)  =  N
   *  cbrt(-I) = -I
   *  cbrt(I)  =  I
   *
   * Math.cbrt(x) = (x < 0 ? -Math.pow(-x, 1/3) : Math.pow(x, 1/3))
   *
   */
  P.cubeRoot = P.cbrt = function () {
    var e, m, n, r, rep, s, sd, t, t3, t3plusx,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite() || x.isZero()) return new Ctor(x);
    external = false;

    // Initial estimate.
    s = x.s * mathpow(x.s * x, 1 / 3);

     // Math.cbrt underflow/overflow?
     // Pass x to Math.pow as integer, then adjust the exponent of the result.
    if (!s || Math.abs(s) == 1 / 0) {
      n = digitsToString(x.d);
      e = x.e;

      // Adjust n exponent so it is a multiple of 3 away from x exponent.
      if (s = (e - n.length + 1) % 3) n += (s == 1 || s == -2 ? '0' : '00');
      s = mathpow(n, 1 / 3);

      // Rarely, e may be one less than the result exponent value.
      e = mathfloor((e + 1) / 3) - (e % 3 == (e < 0 ? -1 : 2));

      if (s == 1 / 0) {
        n = '5e' + e;
      } else {
        n = s.toExponential();
        n = n.slice(0, n.indexOf('e') + 1) + e;
      }

      r = new Ctor(n);
      r.s = x.s;
    } else {
      r = new Ctor(s.toString());
    }

    sd = (e = Ctor.precision) + 3;

    // Halley's method.
    // TODO? Compare Newton's method.
    for (;;) {
      t = r;
      t3 = t.times(t).times(t);
      t3plusx = t3.plus(x);
      r = divide(t3plusx.plus(x).times(t), t3plusx.plus(t3), sd + 2, 1);

      // TODO? Replace with for-loop and checkRoundingDigits.
      if (digitsToString(t.d).slice(0, sd) === (n = digitsToString(r.d)).slice(0, sd)) {
        n = n.slice(sd - 3, sd + 1);

        // The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or 4999
        // , i.e. approaching a rounding boundary, continue the iteration.
        if (n == '9999' || !rep && n == '4999') {

          // On the first iteration only, check to see if rounding up gives the exact result as the
          // nines may infinitely repeat.
          if (!rep) {
            finalise(t, e + 1, 0);

            if (t.times(t).times(t).eq(x)) {
              r = t;
              break;
            }
          }

          sd += 4;
          rep = 1;
        } else {

          // If the rounding digits are null, 0{0,4} or 50{0,3}, check for an exact result.
          // If not, then there are further digits and m will be truthy.
          if (!+n || !+n.slice(1) && n.charAt(0) == '5') {

            // Truncate to the first rounding digit.
            finalise(r, e + 1, 1);
            m = !r.times(r).times(r).eq(x);
          }

          break;
        }
      }
    }

    external = true;

    return finalise(r, e, Ctor.rounding, m);
  };


  /*
   * Return the number of decimal places of the value of this Decimal.
   *
   */
  P.decimalPlaces = P.dp = function () {
    var w,
      d = this.d,
      n = NaN;

    if (d) {
      w = d.length - 1;
      n = (w - mathfloor(this.e / LOG_BASE)) * LOG_BASE;

      // Subtract the number of trailing zeros of the last word.
      w = d[w];
      if (w) for (; w % 10 == 0; w /= 10) n--;
      if (n < 0) n = 0;
    }

    return n;
  };


  /*
   *  n / 0 = I
   *  n / N = N
   *  n / I = 0
   *  0 / n = 0
   *  0 / 0 = N
   *  0 / N = N
   *  0 / I = 0
   *  N / n = N
   *  N / 0 = N
   *  N / N = N
   *  N / I = N
   *  I / n = I
   *  I / 0 = I
   *  I / N = N
   *  I / I = N
   *
   * Return a new Decimal whose value is the value of this Decimal divided by `y`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   */
  P.dividedBy = P.div = function (y) {
    return divide(this, new this.constructor(y));
  };


  /*
   * Return a new Decimal whose value is the integer part of dividing the value of this Decimal
   * by the value of `y`, rounded to `precision` significant digits using rounding mode `rounding`.
   *
   */
  P.dividedToIntegerBy = P.divToInt = function (y) {
    var x = this,
      Ctor = x.constructor;
    return finalise(divide(x, new Ctor(y), 0, 1, 1), Ctor.precision, Ctor.rounding);
  };


  /*
   * Return true if the value of this Decimal is equal to the value of `y`, otherwise return false.
   *
   */
  P.equals = P.eq = function (y) {
    return this.cmp(y) === 0;
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number in the
   * direction of negative Infinity.
   *
   */
  P.floor = function () {
    return finalise(new this.constructor(this), this.e + 1, 3);
  };


  /*
   * Return true if the value of this Decimal is greater than the value of `y`, otherwise return
   * false.
   *
   */
  P.greaterThan = P.gt = function (y) {
    return this.cmp(y) > 0;
  };


  /*
   * Return true if the value of this Decimal is greater than or equal to the value of `y`,
   * otherwise return false.
   *
   */
  P.greaterThanOrEqualTo = P.gte = function (y) {
    var k = this.cmp(y);
    return k == 1 || k === 0;
  };


  /*
   * Return a new Decimal whose value is the hyperbolic cosine of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [1, Infinity]
   *
   * cosh(x) = 1 + x^2/2! + x^4/4! + x^6/6! + ...
   *
   * cosh(0)         = 1
   * cosh(-0)        = 1
   * cosh(Infinity)  = Infinity
   * cosh(-Infinity) = Infinity
   * cosh(NaN)       = NaN
   *
   *  x        time taken (ms)   result
   * 1000      9                 9.8503555700852349694e+433
   * 10000     25                4.4034091128314607936e+4342
   * 100000    171               1.4033316802130615897e+43429
   * 1000000   3817              1.5166076984010437725e+434294
   * 10000000  abandoned after 2 minute wait
   *
   * TODO? Compare performance of cosh(x) = 0.5 * (exp(x) + exp(-x))
   *
   */
  P.hyperbolicCosine = P.cosh = function () {
    var k, n, pr, rm, len,
      x = this,
      Ctor = x.constructor,
      one = new Ctor(1);

    if (!x.isFinite()) return new Ctor(x.s ? 1 / 0 : NaN);
    if (x.isZero()) return one;

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(x.e, x.sd()) + 4;
    Ctor.rounding = 1;
    len = x.d.length;

    // Argument reduction: cos(4x) = 1 - 8cos^2(x) + 8cos^4(x) + 1
    // i.e. cos(x) = 1 - cos^2(x/4)(8 - 8cos^2(x/4))

    // Estimate the optimum number of times to use the argument reduction.
    // TODO? Estimation reused from cosine() and may not be optimal here.
    if (len < 32) {
      k = Math.ceil(len / 3);
      n = (1 / tinyPow(4, k)).toString();
    } else {
      k = 16;
      n = '2.3283064365386962890625e-10';
    }

    x = taylorSeries(Ctor, 1, x.times(n), new Ctor(1), true);

    // Reverse argument reduction
    var cosh2_x,
      i = k,
      d8 = new Ctor(8);
    for (; i--;) {
      cosh2_x = x.times(x);
      x = one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));
    }

    return finalise(x, Ctor.precision = pr, Ctor.rounding = rm, true);
  };


  /*
   * Return a new Decimal whose value is the hyperbolic sine of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * sinh(x) = x + x^3/3! + x^5/5! + x^7/7! + ...
   *
   * sinh(0)         = 0
   * sinh(-0)        = -0
   * sinh(Infinity)  = Infinity
   * sinh(-Infinity) = -Infinity
   * sinh(NaN)       = NaN
   *
   * x        time taken (ms)
   * 10       2 ms
   * 100      5 ms
   * 1000     14 ms
   * 10000    82 ms
   * 100000   886 ms            1.4033316802130615897e+43429
   * 200000   2613 ms
   * 300000   5407 ms
   * 400000   8824 ms
   * 500000   13026 ms          8.7080643612718084129e+217146
   * 1000000  48543 ms
   *
   * TODO? Compare performance of sinh(x) = 0.5 * (exp(x) - exp(-x))
   *
   */
  P.hyperbolicSine = P.sinh = function () {
    var k, pr, rm, len,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite() || x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(x.e, x.sd()) + 4;
    Ctor.rounding = 1;
    len = x.d.length;

    if (len < 3) {
      x = taylorSeries(Ctor, 2, x, x, true);
    } else {

      // Alternative argument reduction: sinh(3x) = sinh(x)(3 + 4sinh^2(x))
      // i.e. sinh(x) = sinh(x/3)(3 + 4sinh^2(x/3))
      // 3 multiplications and 1 addition

      // Argument reduction: sinh(5x) = sinh(x)(5 + sinh^2(x)(20 + 16sinh^2(x)))
      // i.e. sinh(x) = sinh(x/5)(5 + sinh^2(x/5)(20 + 16sinh^2(x/5)))
      // 4 multiplications and 2 additions

      // Estimate the optimum number of times to use the argument reduction.
      k = 1.4 * Math.sqrt(len);
      k = k > 16 ? 16 : k | 0;

      x = x.times(1 / tinyPow(5, k));
      x = taylorSeries(Ctor, 2, x, x, true);

      // Reverse argument reduction
      var sinh2_x,
        d5 = new Ctor(5),
        d16 = new Ctor(16),
        d20 = new Ctor(20);
      for (; k--;) {
        sinh2_x = x.times(x);
        x = x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))));
      }
    }

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return finalise(x, pr, rm, true);
  };


  /*
   * Return a new Decimal whose value is the hyperbolic tangent of the value in radians of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * tanh(x) = sinh(x) / cosh(x)
   *
   * tanh(0)         = 0
   * tanh(-0)        = -0
   * tanh(Infinity)  = 1
   * tanh(-Infinity) = -1
   * tanh(NaN)       = NaN
   *
   */
  P.hyperbolicTangent = P.tanh = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite()) return new Ctor(x.s);
    if (x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + 7;
    Ctor.rounding = 1;

    return divide(x.sinh(), x.cosh(), Ctor.precision = pr, Ctor.rounding = rm);
  };


  /*
   * Return a new Decimal whose value is the arccosine (inverse cosine) in radians of the value of
   * this Decimal.
   *
   * Domain: [-1, 1]
   * Range: [0, pi]
   *
   * acos(x) = pi/2 - asin(x)
   *
   * acos(0)       = pi/2
   * acos(-0)      = pi/2
   * acos(1)       = 0
   * acos(-1)      = pi
   * acos(1/2)     = pi/3
   * acos(-1/2)    = 2*pi/3
   * acos(|x| > 1) = NaN
   * acos(NaN)     = NaN
   *
   */
  P.inverseCosine = P.acos = function () {
    var halfPi,
      x = this,
      Ctor = x.constructor,
      k = x.abs().cmp(1),
      pr = Ctor.precision,
      rm = Ctor.rounding;

    if (k !== -1) {
      return k === 0
        // |x| is 1
        ? x.isNeg() ? getPi(Ctor, pr, rm) : new Ctor(0)
        // |x| > 1 or x is NaN
        : new Ctor(NaN);
    }

    if (x.isZero()) return getPi(Ctor, pr + 4, rm).times(0.5);

    // TODO? Special case acos(0.5) = pi/3 and acos(-0.5) = 2*pi/3

    Ctor.precision = pr + 6;
    Ctor.rounding = 1;

    x = x.asin();
    halfPi = getPi(Ctor, pr + 4, rm).times(0.5);

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return halfPi.minus(x);
  };


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic cosine in radians of the
   * value of this Decimal.
   *
   * Domain: [1, Infinity]
   * Range: [0, Infinity]
   *
   * acosh(x) = ln(x + sqrt(x^2 - 1))
   *
   * acosh(x < 1)     = NaN
   * acosh(NaN)       = NaN
   * acosh(Infinity)  = Infinity
   * acosh(-Infinity) = NaN
   * acosh(0)         = NaN
   * acosh(-0)        = NaN
   * acosh(1)         = 0
   * acosh(-1)        = NaN
   *
   */
  P.inverseHyperbolicCosine = P.acosh = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (x.lte(1)) return new Ctor(x.eq(1) ? 0 : NaN);
    if (!x.isFinite()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(Math.abs(x.e), x.sd()) + 4;
    Ctor.rounding = 1;
    external = false;

    x = x.times(x).minus(1).sqrt().plus(x);

    external = true;
    Ctor.precision = pr;
    Ctor.rounding = rm;

    return x.ln();
  };


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic sine in radians of the value
   * of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * asinh(x) = ln(x + sqrt(x^2 + 1))
   *
   * asinh(NaN)       = NaN
   * asinh(Infinity)  = Infinity
   * asinh(-Infinity) = -Infinity
   * asinh(0)         = 0
   * asinh(-0)        = -0
   *
   */
  P.inverseHyperbolicSine = P.asinh = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite() || x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + 2 * Math.max(Math.abs(x.e), x.sd()) + 6;
    Ctor.rounding = 1;
    external = false;

    x = x.times(x).plus(1).sqrt().plus(x);

    external = true;
    Ctor.precision = pr;
    Ctor.rounding = rm;

    return x.ln();
  };


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic tangent in radians of the
   * value of this Decimal.
   *
   * Domain: [-1, 1]
   * Range: [-Infinity, Infinity]
   *
   * atanh(x) = 0.5 * ln((1 + x) / (1 - x))
   *
   * atanh(|x| > 1)   = NaN
   * atanh(NaN)       = NaN
   * atanh(Infinity)  = NaN
   * atanh(-Infinity) = NaN
   * atanh(0)         = 0
   * atanh(-0)        = -0
   * atanh(1)         = Infinity
   * atanh(-1)        = -Infinity
   *
   */
  P.inverseHyperbolicTangent = P.atanh = function () {
    var pr, rm, wpr, xsd,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite()) return new Ctor(NaN);
    if (x.e >= 0) return new Ctor(x.abs().eq(1) ? x.s / 0 : x.isZero() ? x : NaN);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    xsd = x.sd();

    if (Math.max(xsd, pr) < 2 * -x.e - 1) return finalise(new Ctor(x), pr, rm, true);

    Ctor.precision = wpr = xsd - x.e;

    x = divide(x.plus(1), new Ctor(1).minus(x), wpr + pr, 1);

    Ctor.precision = pr + 4;
    Ctor.rounding = 1;

    x = x.ln();

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return x.times(0.5);
  };


  /*
   * Return a new Decimal whose value is the arcsine (inverse sine) in radians of the value of this
   * Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi/2, pi/2]
   *
   * asin(x) = 2*atan(x/(1 + sqrt(1 - x^2)))
   *
   * asin(0)       = 0
   * asin(-0)      = -0
   * asin(1/2)     = pi/6
   * asin(-1/2)    = -pi/6
   * asin(1)       = pi/2
   * asin(-1)      = -pi/2
   * asin(|x| > 1) = NaN
   * asin(NaN)     = NaN
   *
   * TODO? Compare performance of Taylor series.
   *
   */
  P.inverseSine = P.asin = function () {
    var halfPi, k,
      pr, rm,
      x = this,
      Ctor = x.constructor;

    if (x.isZero()) return new Ctor(x);

    k = x.abs().cmp(1);
    pr = Ctor.precision;
    rm = Ctor.rounding;

    if (k !== -1) {

      // |x| is 1
      if (k === 0) {
        halfPi = getPi(Ctor, pr + 4, rm).times(0.5);
        halfPi.s = x.s;
        return halfPi;
      }

      // |x| > 1 or x is NaN
      return new Ctor(NaN);
    }

    // TODO? Special case asin(1/2) = pi/6 and asin(-1/2) = -pi/6

    Ctor.precision = pr + 6;
    Ctor.rounding = 1;

    x = x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan();

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return x.times(2);
  };


  /*
   * Return a new Decimal whose value is the arctangent (inverse tangent) in radians of the value
   * of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi/2, pi/2]
   *
   * atan(x) = x - x^3/3 + x^5/5 - x^7/7 + ...
   *
   * atan(0)         = 0
   * atan(-0)        = -0
   * atan(1)         = pi/4
   * atan(-1)        = -pi/4
   * atan(Infinity)  = pi/2
   * atan(-Infinity) = -pi/2
   * atan(NaN)       = NaN
   *
   */
  P.inverseTangent = P.atan = function () {
    var i, j, k, n, px, t, r, wpr, x2,
      x = this,
      Ctor = x.constructor,
      pr = Ctor.precision,
      rm = Ctor.rounding;

    if (!x.isFinite()) {
      if (!x.s) return new Ctor(NaN);
      if (pr + 4 <= PI_PRECISION) {
        r = getPi(Ctor, pr + 4, rm).times(0.5);
        r.s = x.s;
        return r;
      }
    } else if (x.isZero()) {
      return new Ctor(x);
    } else if (x.abs().eq(1) && pr + 4 <= PI_PRECISION) {
      r = getPi(Ctor, pr + 4, rm).times(0.25);
      r.s = x.s;
      return r;
    }

    Ctor.precision = wpr = pr + 10;
    Ctor.rounding = 1;

    // TODO? if (x >= 1 && pr <= PI_PRECISION) atan(x) = halfPi * x.s - atan(1 / x);

    // Argument reduction
    // Ensure |x| < 0.42
    // atan(x) = 2 * atan(x / (1 + sqrt(1 + x^2)))

    k = Math.min(28, wpr / LOG_BASE + 2 | 0);

    for (i = k; i; --i) x = x.div(x.times(x).plus(1).sqrt().plus(1));

    external = false;

    j = Math.ceil(wpr / LOG_BASE);
    n = 1;
    x2 = x.times(x);
    r = new Ctor(x);
    px = x;

    // atan(x) = x - x^3/3 + x^5/5 - x^7/7 + ...
    for (; i !== -1;) {
      px = px.times(x2);
      t = r.minus(px.div(n += 2));

      px = px.times(x2);
      r = t.plus(px.div(n += 2));

      if (r.d[j] !== void 0) for (i = j; r.d[i] === t.d[i] && i--;);
    }

    if (k) r = r.times(2 << (k - 1));

    external = true;

    return finalise(r, Ctor.precision = pr, Ctor.rounding = rm, true);
  };


  /*
   * Return true if the value of this Decimal is a finite number, otherwise return false.
   *
   */
  P.isFinite = function () {
    return !!this.d;
  };


  /*
   * Return true if the value of this Decimal is an integer, otherwise return false.
   *
   */
  P.isInteger = P.isInt = function () {
    return !!this.d && mathfloor(this.e / LOG_BASE) > this.d.length - 2;
  };


  /*
   * Return true if the value of this Decimal is NaN, otherwise return false.
   *
   */
  P.isNaN = function () {
    return !this.s;
  };


  /*
   * Return true if the value of this Decimal is negative, otherwise return false.
   *
   */
  P.isNegative = P.isNeg = function () {
    return this.s < 0;
  };


  /*
   * Return true if the value of this Decimal is positive, otherwise return false.
   *
   */
  P.isPositive = P.isPos = function () {
    return this.s > 0;
  };


  /*
   * Return true if the value of this Decimal is 0 or -0, otherwise return false.
   *
   */
  P.isZero = function () {
    return !!this.d && this.d[0] === 0;
  };


  /*
   * Return true if the value of this Decimal is less than `y`, otherwise return false.
   *
   */
  P.lessThan = P.lt = function (y) {
    return this.cmp(y) < 0;
  };


  /*
   * Return true if the value of this Decimal is less than or equal to `y`, otherwise return false.
   *
   */
  P.lessThanOrEqualTo = P.lte = function (y) {
    return this.cmp(y) < 1;
  };


  /*
   * Return the logarithm of the value of this Decimal to the specified base, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * If no base is specified, return log[10](arg).
   *
   * log[base](arg) = ln(arg) / ln(base)
   *
   * The result will always be correctly rounded if the base of the log is 10, and 'almost always'
   * otherwise:
   *
   * Depending on the rounding mode, the result may be incorrectly rounded if the first fifteen
   * rounding digits are [49]99999999999999 or [50]00000000000000. In that case, the maximum error
   * between the result and the correctly rounded result will be one ulp (unit in the last place).
   *
   * log[-b](a)       = NaN
   * log[0](a)        = NaN
   * log[1](a)        = NaN
   * log[NaN](a)      = NaN
   * log[Infinity](a) = NaN
   * log[b](0)        = -Infinity
   * log[b](-0)       = -Infinity
   * log[b](-a)       = NaN
   * log[b](1)        = 0
   * log[b](Infinity) = Infinity
   * log[b](NaN)      = NaN
   *
   * [base] {number|string|Decimal} The base of the logarithm.
   *
   */
  P.logarithm = P.log = function (base) {
    var isBase10, d, denominator, k, inf, num, sd, r,
      arg = this,
      Ctor = arg.constructor,
      pr = Ctor.precision,
      rm = Ctor.rounding,
      guard = 5;

    // Default base is 10.
    if (base == null) {
      base = new Ctor(10);
      isBase10 = true;
    } else {
      base = new Ctor(base);
      d = base.d;

      // Return NaN if base is negative, or non-finite, or is 0 or 1.
      if (base.s < 0 || !d || !d[0] || base.eq(1)) return new Ctor(NaN);

      isBase10 = base.eq(10);
    }

    d = arg.d;

    // Is arg negative, non-finite, 0 or 1?
    if (arg.s < 0 || !d || !d[0] || arg.eq(1)) {
      return new Ctor(d && !d[0] ? -1 / 0 : arg.s != 1 ? NaN : d ? 0 : 1 / 0);
    }

    // The result will have a non-terminating decimal expansion if base is 10 and arg is not an
    // integer power of 10.
    if (isBase10) {
      if (d.length > 1) {
        inf = true;
      } else {
        for (k = d[0]; k % 10 === 0;) k /= 10;
        inf = k !== 1;
      }
    }

    external = false;
    sd = pr + guard;
    num = naturalLogarithm(arg, sd);
    denominator = isBase10 ? getLn10(Ctor, sd + 10) : naturalLogarithm(base, sd);

    // The result will have 5 rounding digits.
    r = divide(num, denominator, sd, 1);

    // If at a rounding boundary, i.e. the result's rounding digits are [49]9999 or [50]0000,
    // calculate 10 further digits.
    //
    // If the result is known to have an infinite decimal expansion, repeat this until it is clear
    // that the result is above or below the boundary. Otherwise, if after calculating the 10
    // further digits, the last 14 are nines, round up and assume the result is exact.
    // Also assume the result is exact if the last 14 are zero.
    //
    // Example of a result that will be incorrectly rounded:
    // log[1048576](4503599627370502) = 2.60000000000000009610279511444746...
    // The above result correctly rounded using ROUND_CEIL to 1 decimal place should be 2.7, but it
    // will be given as 2.6 as there are 15 zeros immediately after the requested decimal place, so
    // the exact result would be assumed to be 2.6, which rounded using ROUND_CEIL to 1 decimal
    // place is still 2.6.
    if (checkRoundingDigits(r.d, k = pr, rm)) {

      do {
        sd += 10;
        num = naturalLogarithm(arg, sd);
        denominator = isBase10 ? getLn10(Ctor, sd + 10) : naturalLogarithm(base, sd);
        r = divide(num, denominator, sd, 1);

        if (!inf) {

          // Check for 14 nines from the 2nd rounding digit, as the first may be 4.
          if (+digitsToString(r.d).slice(k + 1, k + 15) + 1 == 1e14) {
            r = finalise(r, pr + 1, 0);
          }

          break;
        }
      } while (checkRoundingDigits(r.d, k += 10, rm));
    }

    external = true;

    return finalise(r, pr, rm);
  };


  /*
   * Return a new Decimal whose value is the maximum of the arguments and the value of this Decimal.
   *
   * arguments {number|string|Decimal}
   *
  P.max = function () {
    Array.prototype.push.call(arguments, this);
    return maxOrMin(this.constructor, arguments, 'lt');
  };
   */


  /*
   * Return a new Decimal whose value is the minimum of the arguments and the value of this Decimal.
   *
   * arguments {number|string|Decimal}
   *
  P.min = function () {
    Array.prototype.push.call(arguments, this);
    return maxOrMin(this.constructor, arguments, 'gt');
  };
   */


  /*
   *  n - 0 = n
   *  n - N = N
   *  n - I = -I
   *  0 - n = -n
   *  0 - 0 = 0
   *  0 - N = N
   *  0 - I = -I
   *  N - n = N
   *  N - 0 = N
   *  N - N = N
   *  N - I = N
   *  I - n = I
   *  I - 0 = I
   *  I - N = N
   *  I - I = N
   *
   * Return a new Decimal whose value is the value of this Decimal minus `y`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
  P.minus = P.sub = function (y) {
    var d, e, i, j, k, len, pr, rm, xd, xe, xLTy, yd,
      x = this,
      Ctor = x.constructor;

    y = new Ctor(y);

    // If either is not finite...
    if (!x.d || !y.d) {

      // Return NaN if either is NaN.
      if (!x.s || !y.s) y = new Ctor(NaN);

      // Return y negated if x is finite and y is ±Infinity.
      else if (x.d) y.s = -y.s;

      // Return x if y is finite and x is ±Infinity.
      // Return x if both are ±Infinity with different signs.
      // Return NaN if both are ±Infinity with the same sign.
      else y = new Ctor(y.d || x.s !== y.s ? x : NaN);

      return y;
    }

    // If signs differ...
    if (x.s != y.s) {
      y.s = -y.s;
      return x.plus(y);
    }

    xd = x.d;
    yd = y.d;
    pr = Ctor.precision;
    rm = Ctor.rounding;

    // If either is zero...
    if (!xd[0] || !yd[0]) {

      // Return y negated if x is zero and y is non-zero.
      if (yd[0]) y.s = -y.s;

      // Return x if y is zero and x is non-zero.
      else if (xd[0]) y = new Ctor(x);

      // Return zero if both are zero.
      // From IEEE 754 (2008) 6.3: 0 - 0 = -0 - -0 = -0 when rounding to -Infinity.
      else return new Ctor(rm === 3 ? -0 : 0);

      return external ? finalise(y, pr, rm) : y;
    }

    // x and y are finite, non-zero numbers with the same sign.

    // Calculate base 1e7 exponents.
    e = mathfloor(y.e / LOG_BASE);
    xe = mathfloor(x.e / LOG_BASE);

    xd = xd.slice();
    k = xe - e;

    // If base 1e7 exponents differ...
    if (k) {
      xLTy = k < 0;

      if (xLTy) {
        d = xd;
        k = -k;
        len = yd.length;
      } else {
        d = yd;
        e = xe;
        len = xd.length;
      }

      // Numbers with massively different exponents would result in a very high number of
      // zeros needing to be prepended, but this can be avoided while still ensuring correct
      // rounding by limiting the number of zeros to `Math.ceil(pr / LOG_BASE) + 2`.
      i = Math.max(Math.ceil(pr / LOG_BASE), len) + 2;

      if (k > i) {
        k = i;
        d.length = 1;
      }

      // Prepend zeros to equalise exponents.
      d.reverse();
      for (i = k; i--;) d.push(0);
      d.reverse();

    // Base 1e7 exponents equal.
    } else {

      // Check digits to determine which is the bigger number.

      i = xd.length;
      len = yd.length;
      xLTy = i < len;
      if (xLTy) len = i;

      for (i = 0; i < len; i++) {
        if (xd[i] != yd[i]) {
          xLTy = xd[i] < yd[i];
          break;
        }
      }

      k = 0;
    }

    if (xLTy) {
      d = xd;
      xd = yd;
      yd = d;
      y.s = -y.s;
    }

    len = xd.length;

    // Append zeros to `xd` if shorter.
    // Don't add zeros to `yd` if shorter as subtraction only needs to start at `yd` length.
    for (i = yd.length - len; i > 0; --i) xd[len++] = 0;

    // Subtract yd from xd.
    for (i = yd.length; i > k;) {

      if (xd[--i] < yd[i]) {
        for (j = i; j && xd[--j] === 0;) xd[j] = BASE - 1;
        --xd[j];
        xd[i] += BASE;
      }

      xd[i] -= yd[i];
    }

    // Remove trailing zeros.
    for (; xd[--len] === 0;) xd.pop();

    // Remove leading zeros and adjust exponent accordingly.
    for (; xd[0] === 0; xd.shift()) --e;

    // Zero?
    if (!xd[0]) return new Ctor(rm === 3 ? -0 : 0);

    y.d = xd;
    y.e = getBase10Exponent(xd, e);

    return external ? finalise(y, pr, rm) : y;
  };


  /*
   *   n % 0 =  N
   *   n % N =  N
   *   n % I =  n
   *   0 % n =  0
   *  -0 % n = -0
   *   0 % 0 =  N
   *   0 % N =  N
   *   0 % I =  0
   *   N % n =  N
   *   N % 0 =  N
   *   N % N =  N
   *   N % I =  N
   *   I % n =  N
   *   I % 0 =  N
   *   I % N =  N
   *   I % I =  N
   *
   * Return a new Decimal whose value is the value of this Decimal modulo `y`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * The result depends on the modulo mode.
   *
   */
  P.modulo = P.mod = function (y) {
    var q,
      x = this,
      Ctor = x.constructor;

    y = new Ctor(y);

    // Return NaN if x is ±Infinity or NaN, or y is NaN or ±0.
    if (!x.d || !y.s || y.d && !y.d[0]) return new Ctor(NaN);

    // Return x if y is ±Infinity or x is ±0.
    if (!y.d || x.d && !x.d[0]) {
      return finalise(new Ctor(x), Ctor.precision, Ctor.rounding);
    }

    // Prevent rounding of intermediate calculations.
    external = false;

    if (Ctor.modulo == 9) {

      // Euclidian division: q = sign(y) * floor(x / abs(y))
      // result = x - q * y    where  0 <= result < abs(y)
      q = divide(x, y.abs(), 0, 3, 1);
      q.s *= y.s;
    } else {
      q = divide(x, y, 0, Ctor.modulo, 1);
    }

    q = q.times(y);

    external = true;

    return x.minus(q);
  };


  /*
   * Return a new Decimal whose value is the natural exponential of the value of this Decimal,
   * i.e. the base e raised to the power the value of this Decimal, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
  P.naturalExponential = P.exp = function () {
    return naturalExponential(this);
  };


  /*
   * Return a new Decimal whose value is the natural logarithm of the value of this Decimal,
   * rounded to `precision` significant digits using rounding mode `rounding`.
   *
   */
  P.naturalLogarithm = P.ln = function () {
    return naturalLogarithm(this);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal negated, i.e. as if multiplied by
   * -1.
   *
   */
  P.negated = P.neg = function () {
    var x = new this.constructor(this);
    x.s = -x.s;
    return finalise(x);
  };


  /*
   *  n + 0 = n
   *  n + N = N
   *  n + I = I
   *  0 + n = n
   *  0 + 0 = 0
   *  0 + N = N
   *  0 + I = I
   *  N + n = N
   *  N + 0 = N
   *  N + N = N
   *  N + I = N
   *  I + n = I
   *  I + 0 = I
   *  I + N = N
   *  I + I = I
   *
   * Return a new Decimal whose value is the value of this Decimal plus `y`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   */
  P.plus = P.add = function (y) {
    var carry, d, e, i, k, len, pr, rm, xd, yd,
      x = this,
      Ctor = x.constructor;

    y = new Ctor(y);

    // If either is not finite...
    if (!x.d || !y.d) {

      // Return NaN if either is NaN.
      if (!x.s || !y.s) y = new Ctor(NaN);

      // Return x if y is finite and x is ±Infinity.
      // Return x if both are ±Infinity with the same sign.
      // Return NaN if both are ±Infinity with different signs.
      // Return y if x is finite and y is ±Infinity.
      else if (!x.d) y = new Ctor(y.d || x.s === y.s ? x : NaN);

      return y;
    }

     // If signs differ...
    if (x.s != y.s) {
      y.s = -y.s;
      return x.minus(y);
    }

    xd = x.d;
    yd = y.d;
    pr = Ctor.precision;
    rm = Ctor.rounding;

    // If either is zero...
    if (!xd[0] || !yd[0]) {

      // Return x if y is zero.
      // Return y if y is non-zero.
      if (!yd[0]) y = new Ctor(x);

      return external ? finalise(y, pr, rm) : y;
    }

    // x and y are finite, non-zero numbers with the same sign.

    // Calculate base 1e7 exponents.
    k = mathfloor(x.e / LOG_BASE);
    e = mathfloor(y.e / LOG_BASE);

    xd = xd.slice();
    i = k - e;

    // If base 1e7 exponents differ...
    if (i) {

      if (i < 0) {
        d = xd;
        i = -i;
        len = yd.length;
      } else {
        d = yd;
        e = k;
        len = xd.length;
      }

      // Limit number of zeros prepended to max(ceil(pr / LOG_BASE), len) + 1.
      k = Math.ceil(pr / LOG_BASE);
      len = k > len ? k + 1 : len + 1;

      if (i > len) {
        i = len;
        d.length = 1;
      }

      // Prepend zeros to equalise exponents. Note: Faster to use reverse then do unshifts.
      d.reverse();
      for (; i--;) d.push(0);
      d.reverse();
    }

    len = xd.length;
    i = yd.length;

    // If yd is longer than xd, swap xd and yd so xd points to the longer array.
    if (len - i < 0) {
      i = len;
      d = yd;
      yd = xd;
      xd = d;
    }

    // Only start adding at yd.length - 1 as the further digits of xd can be left as they are.
    for (carry = 0; i;) {
      carry = (xd[--i] = xd[i] + yd[i] + carry) / BASE | 0;
      xd[i] %= BASE;
    }

    if (carry) {
      xd.unshift(carry);
      ++e;
    }

    // Remove trailing zeros.
    // No need to check for zero, as +x + +y != 0 && -x + -y != 0
    for (len = xd.length; xd[--len] == 0;) xd.pop();

    y.d = xd;
    y.e = getBase10Exponent(xd, e);

    return external ? finalise(y, pr, rm) : y;
  };


  /*
   * Return the number of significant digits of the value of this Decimal.
   *
   * [z] {boolean|number} Whether to count integer-part trailing zeros: true, false, 1 or 0.
   *
   */
  P.precision = P.sd = function (z) {
    var k,
      x = this;

    if (z !== void 0 && z !== !!z && z !== 1 && z !== 0) throw Error(invalidArgument + z);

    if (x.d) {
      k = getPrecision(x.d);
      if (z && x.e + 1 > k) k = x.e + 1;
    } else {
      k = NaN;
    }

    return k;
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a whole number using
   * rounding mode `rounding`.
   *
   */
  P.round = function () {
    var x = this,
      Ctor = x.constructor;

    return finalise(new Ctor(x), x.e + 1, Ctor.rounding);
  };


  /*
   * Return a new Decimal whose value is the sine of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-1, 1]
   *
   * sin(x) = x - x^3/3! + x^5/5! - ...
   *
   * sin(0)         = 0
   * sin(-0)        = -0
   * sin(Infinity)  = NaN
   * sin(-Infinity) = NaN
   * sin(NaN)       = NaN
   *
   */
  P.sine = P.sin = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite()) return new Ctor(NaN);
    if (x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + Math.max(x.e, x.sd()) + LOG_BASE;
    Ctor.rounding = 1;

    x = sine(Ctor, toLessThanHalfPi(Ctor, x));

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return finalise(quadrant > 2 ? x.neg() : x, pr, rm, true);
  };


  /*
   * Return a new Decimal whose value is the square root of this Decimal, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   *  sqrt(-n) =  N
   *  sqrt(N)  =  N
   *  sqrt(-I) =  N
   *  sqrt(I)  =  I
   *  sqrt(0)  =  0
   *  sqrt(-0) = -0
   *
   */
  P.squareRoot = P.sqrt = function () {
    var m, n, sd, r, rep, t,
      x = this,
      d = x.d,
      e = x.e,
      s = x.s,
      Ctor = x.constructor;

    // Negative/NaN/Infinity/zero?
    if (s !== 1 || !d || !d[0]) {
      return new Ctor(!s || s < 0 && (!d || d[0]) ? NaN : d ? x : 1 / 0);
    }

    external = false;

    // Initial estimate.
    s = Math.sqrt(+x);

    // Math.sqrt underflow/overflow?
    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.
    if (s == 0 || s == 1 / 0) {
      n = digitsToString(d);

      if ((n.length + e) % 2 == 0) n += '0';
      s = Math.sqrt(n);
      e = mathfloor((e + 1) / 2) - (e < 0 || e % 2);

      if (s == 1 / 0) {
        n = '5e' + e;
      } else {
        n = s.toExponential();
        n = n.slice(0, n.indexOf('e') + 1) + e;
      }

      r = new Ctor(n);
    } else {
      r = new Ctor(s.toString());
    }

    sd = (e = Ctor.precision) + 3;

    // Newton-Raphson iteration.
    for (;;) {
      t = r;
      r = t.plus(divide(x, t, sd + 2, 1)).times(0.5);

      // TODO? Replace with for-loop and checkRoundingDigits.
      if (digitsToString(t.d).slice(0, sd) === (n = digitsToString(r.d)).slice(0, sd)) {
        n = n.slice(sd - 3, sd + 1);

        // The 4th rounding digit may be in error by -1 so if the 4 rounding digits are 9999 or
        // 4999, i.e. approaching a rounding boundary, continue the iteration.
        if (n == '9999' || !rep && n == '4999') {

          // On the first iteration only, check to see if rounding up gives the exact result as the
          // nines may infinitely repeat.
          if (!rep) {
            finalise(t, e + 1, 0);

            if (t.times(t).eq(x)) {
              r = t;
              break;
            }
          }

          sd += 4;
          rep = 1;
        } else {

          // If the rounding digits are null, 0{0,4} or 50{0,3}, check for an exact result.
          // If not, then there are further digits and m will be truthy.
          if (!+n || !+n.slice(1) && n.charAt(0) == '5') {

            // Truncate to the first rounding digit.
            finalise(r, e + 1, 1);
            m = !r.times(r).eq(x);
          }

          break;
        }
      }
    }

    external = true;

    return finalise(r, e, Ctor.rounding, m);
  };


  /*
   * Return a new Decimal whose value is the tangent of the value in radians of this Decimal.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-Infinity, Infinity]
   *
   * tan(0)         = 0
   * tan(-0)        = -0
   * tan(Infinity)  = NaN
   * tan(-Infinity) = NaN
   * tan(NaN)       = NaN
   *
   */
  P.tangent = P.tan = function () {
    var pr, rm,
      x = this,
      Ctor = x.constructor;

    if (!x.isFinite()) return new Ctor(NaN);
    if (x.isZero()) return new Ctor(x);

    pr = Ctor.precision;
    rm = Ctor.rounding;
    Ctor.precision = pr + 10;
    Ctor.rounding = 1;

    x = x.sin();
    x.s = 1;
    x = divide(x, new Ctor(1).minus(x.times(x)).sqrt(), pr + 10, 0);

    Ctor.precision = pr;
    Ctor.rounding = rm;

    return finalise(quadrant == 2 || quadrant == 4 ? x.neg() : x, pr, rm, true);
  };


  /*
   *  n * 0 = 0
   *  n * N = N
   *  n * I = I
   *  0 * n = 0
   *  0 * 0 = 0
   *  0 * N = N
   *  0 * I = N
   *  N * n = N
   *  N * 0 = N
   *  N * N = N
   *  N * I = N
   *  I * n = I
   *  I * 0 = N
   *  I * N = N
   *  I * I = I
   *
   * Return a new Decimal whose value is this Decimal times `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   */
  P.times = P.mul = function (y) {
    var carry, e, i, k, r, rL, t, xdL, ydL,
      x = this,
      Ctor = x.constructor,
      xd = x.d,
      yd = (y = new Ctor(y)).d;

    y.s *= x.s;

     // If either is NaN, ±Infinity or ±0...
    if (!xd || !xd[0] || !yd || !yd[0]) {

      return new Ctor(!y.s || xd && !xd[0] && !yd || yd && !yd[0] && !xd

        // Return NaN if either is NaN.
        // Return NaN if x is ±0 and y is ±Infinity, or y is ±0 and x is ±Infinity.
        ? NaN

        // Return ±Infinity if either is ±Infinity.
        // Return ±0 if either is ±0.
        : !xd || !yd ? y.s / 0 : y.s * 0);
    }

    e = mathfloor(x.e / LOG_BASE) + mathfloor(y.e / LOG_BASE);
    xdL = xd.length;
    ydL = yd.length;

    // Ensure xd points to the longer array.
    if (xdL < ydL) {
      r = xd;
      xd = yd;
      yd = r;
      rL = xdL;
      xdL = ydL;
      ydL = rL;
    }

    // Initialise the result array with zeros.
    r = [];
    rL = xdL + ydL;
    for (i = rL; i--;) r.push(0);

    // Multiply!
    for (i = ydL; --i >= 0;) {
      carry = 0;
      for (k = xdL + i; k > i;) {
        t = r[k] + yd[i] * xd[k - i - 1] + carry;
        r[k--] = t % BASE | 0;
        carry = t / BASE | 0;
      }

      r[k] = (r[k] + carry) % BASE | 0;
    }

    // Remove trailing zeros.
    for (; !r[--rL];) r.pop();

    if (carry) ++e;
    else r.shift();

    y.d = r;
    y.e = getBase10Exponent(r, e);

    return external ? finalise(y, Ctor.precision, Ctor.rounding) : y;
  };


  /*
   * Return a string representing the value of this Decimal in base 2, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toBinary = function (sd, rm) {
    return toStringBinary(this, 2, sd, rm);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `dp`
   * decimal places using rounding mode `rm` or `rounding` if `rm` is omitted.
   *
   * If `dp` is omitted, return a new Decimal whose value is the value of this Decimal.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toDecimalPlaces = P.toDP = function (dp, rm) {
    var x = this,
      Ctor = x.constructor;

    x = new Ctor(x);
    if (dp === void 0) return x;

    checkInt32(dp, 0, MAX_DIGITS);

    if (rm === void 0) rm = Ctor.rounding;
    else checkInt32(rm, 0, 8);

    return finalise(x, dp + x.e + 1, rm);
  };


  /*
   * Return a string representing the value of this Decimal in exponential notation rounded to
   * `dp` fixed decimal places using rounding mode `rounding`.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toExponential = function (dp, rm) {
    var str,
      x = this,
      Ctor = x.constructor;

    if (dp === void 0) {
      str = finiteToString(x, true);
    } else {
      checkInt32(dp, 0, MAX_DIGITS);

      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);

      x = finalise(new Ctor(x), dp + 1, rm);
      str = finiteToString(x, true, dp + 1);
    }

    return x.isNeg() && !x.isZero() ? '-' + str : str;
  };


  /*
   * Return a string representing the value of this Decimal in normal (fixed-point) notation to
   * `dp` fixed decimal places and rounded using rounding mode `rm` or `rounding` if `rm` is
   * omitted.
   *
   * As with JavaScript numbers, (-0).toFixed(0) is '0', but e.g. (-0.00001).toFixed(0) is '-0'.
   *
   * [dp] {number} Decimal places. Integer, 0 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.
   * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.
   * (-0).toFixed(3) is '0.000'.
   * (-0.5).toFixed(0) is '-0'.
   *
   */
  P.toFixed = function (dp, rm) {
    var str, y,
      x = this,
      Ctor = x.constructor;

    if (dp === void 0) {
      str = finiteToString(x);
    } else {
      checkInt32(dp, 0, MAX_DIGITS);

      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);

      y = finalise(new Ctor(x), dp + x.e + 1, rm);
      str = finiteToString(y, false, dp + y.e + 1);
    }

    // To determine whether to add the minus sign look at the value before it was rounded,
    // i.e. look at `x` rather than `y`.
    return x.isNeg() && !x.isZero() ? '-' + str : str;
  };


  /*
   * Return an array representing the value of this Decimal as a simple fraction with an integer
   * numerator and an integer denominator.
   *
   * The denominator will be a positive non-zero value less than or equal to the specified maximum
   * denominator. If a maximum denominator is not specified, the denominator will be the lowest
   * value necessary to represent the number exactly.
   *
   * [maxD] {number|string|Decimal} Maximum denominator. Integer >= 1 and < Infinity.
   *
   */
  P.toFraction = function (maxD) {
    var d, d0, d1, d2, e, k, n, n0, n1, pr, q, r,
      x = this,
      xd = x.d,
      Ctor = x.constructor;

    if (!xd) return new Ctor(x);

    n1 = d0 = new Ctor(1);
    d1 = n0 = new Ctor(0);

    d = new Ctor(d1);
    e = d.e = getPrecision(xd) - x.e - 1;
    k = e % LOG_BASE;
    d.d[0] = mathpow(10, k < 0 ? LOG_BASE + k : k);

    if (maxD == null) {

      // d is 10**e, the minimum max-denominator needed.
      maxD = e > 0 ? d : n1;
    } else {
      n = new Ctor(maxD);
      if (!n.isInt() || n.lt(n1)) throw Error(invalidArgument + n);
      maxD = n.gt(d) ? (e > 0 ? d : n1) : n;
    }

    external = false;
    n = new Ctor(digitsToString(xd));
    pr = Ctor.precision;
    Ctor.precision = e = xd.length * LOG_BASE * 2;

    for (;;)  {
      q = divide(n, d, 0, 1, 1);
      d2 = d0.plus(q.times(d1));
      if (d2.cmp(maxD) == 1) break;
      d0 = d1;
      d1 = d2;
      d2 = n1;
      n1 = n0.plus(q.times(d2));
      n0 = d2;
      d2 = d;
      d = n.minus(q.times(d2));
      n = d2;
    }

    d2 = divide(maxD.minus(d0), d1, 0, 1, 1);
    n0 = n0.plus(d2.times(n1));
    d0 = d0.plus(d2.times(d1));
    n0.s = n1.s = x.s;

    // Determine which fraction is closer to x, n0/d0 or n1/d1?
    r = divide(n1, d1, e, 1).minus(x).abs().cmp(divide(n0, d0, e, 1).minus(x).abs()) < 1
        ? [n1, d1] : [n0, d0];

    Ctor.precision = pr;
    external = true;

    return r;
  };


  /*
   * Return a string representing the value of this Decimal in base 16, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toHexadecimal = P.toHex = function (sd, rm) {
    return toStringBinary(this, 16, sd, rm);
  };


  /*
   * Returns a new Decimal whose value is the nearest multiple of `y` in the direction of rounding
   * mode `rm`, or `Decimal.rounding` if `rm` is omitted, to the value of this Decimal.
   *
   * The return value will always have the same sign as this Decimal, unless either this Decimal
   * or `y` is NaN, in which case the return value will be also be NaN.
   *
   * The return value is not affected by the value of `precision`.
   *
   * y {number|string|Decimal} The magnitude to round to a multiple of.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * 'toNearest() rounding mode not an integer: {rm}'
   * 'toNearest() rounding mode out of range: {rm}'
   *
   */
  P.toNearest = function (y, rm) {
    var x = this,
      Ctor = x.constructor;

    x = new Ctor(x);

    if (y == null) {

      // If x is not finite, return x.
      if (!x.d) return x;

      y = new Ctor(1);
      rm = Ctor.rounding;
    } else {
      y = new Ctor(y);
      if (rm === void 0) {
        rm = Ctor.rounding;
      } else {
        checkInt32(rm, 0, 8);
      }

      // If x is not finite, return x if y is not NaN, else NaN.
      if (!x.d) return y.s ? x : y;

      // If y is not finite, return Infinity with the sign of x if y is Infinity, else NaN.
      if (!y.d) {
        if (y.s) y.s = x.s;
        return y;
      }
    }

    // If y is not zero, calculate the nearest multiple of y to x.
    if (y.d[0]) {
      external = false;
      x = divide(x, y, 0, rm, 1).times(y);
      external = true;
      finalise(x);

    // If y is zero, return zero with the sign of x.
    } else {
      y.s = x.s;
      x = y;
    }

    return x;
  };


  /*
   * Return the value of this Decimal converted to a number primitive.
   * Zero keeps its sign.
   *
   */
  P.toNumber = function () {
    return +this;
  };


  /*
   * Return a string representing the value of this Decimal in base 8, round to `sd` significant
   * digits using rounding mode `rm`.
   *
   * If the optional `sd` argument is present then return binary exponential notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toOctal = function (sd, rm) {
    return toStringBinary(this, 8, sd, rm);
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal raised to the power `y`, rounded
   * to `precision` significant digits using rounding mode `rounding`.
   *
   * ECMAScript compliant.
   *
   *   pow(x, NaN)                           = NaN
   *   pow(x, ±0)                            = 1

   *   pow(NaN, non-zero)                    = NaN
   *   pow(abs(x) > 1, +Infinity)            = +Infinity
   *   pow(abs(x) > 1, -Infinity)            = +0
   *   pow(abs(x) == 1, ±Infinity)           = NaN
   *   pow(abs(x) < 1, +Infinity)            = +0
   *   pow(abs(x) < 1, -Infinity)            = +Infinity
   *   pow(+Infinity, y > 0)                 = +Infinity
   *   pow(+Infinity, y < 0)                 = +0
   *   pow(-Infinity, odd integer > 0)       = -Infinity
   *   pow(-Infinity, even integer > 0)      = +Infinity
   *   pow(-Infinity, odd integer < 0)       = -0
   *   pow(-Infinity, even integer < 0)      = +0
   *   pow(+0, y > 0)                        = +0
   *   pow(+0, y < 0)                        = +Infinity
   *   pow(-0, odd integer > 0)              = -0
   *   pow(-0, even integer > 0)             = +0
   *   pow(-0, odd integer < 0)              = -Infinity
   *   pow(-0, even integer < 0)             = +Infinity
   *   pow(finite x < 0, finite non-integer) = NaN
   *
   * For non-integer or very large exponents pow(x, y) is calculated using
   *
   *   x^y = exp(y*ln(x))
   *
   * Assuming the first 15 rounding digits are each equally likely to be any digit 0-9, the
   * probability of an incorrectly rounded result
   * P([49]9{14} | [50]0{14}) = 2 * 0.2 * 10^-14 = 4e-15 = 1/2.5e+14
   * i.e. 1 in 250,000,000,000,000
   *
   * If a result is incorrectly rounded the maximum error will be 1 ulp (unit in last place).
   *
   * y {number|string|Decimal} The power to which to raise this Decimal.
   *
   */
  P.toPower = P.pow = function (y) {
    var e, k, pr, r, rm, s,
      x = this,
      Ctor = x.constructor,
      yn = +(y = new Ctor(y));

    // Either ±Infinity, NaN or ±0?
    if (!x.d || !y.d || !x.d[0] || !y.d[0]) return new Ctor(mathpow(+x, yn));

    x = new Ctor(x);

    if (x.eq(1)) return x;

    pr = Ctor.precision;
    rm = Ctor.rounding;

    if (y.eq(1)) return finalise(x, pr, rm);

    // y exponent
    e = mathfloor(y.e / LOG_BASE);

    // If y is a small integer use the 'exponentiation by squaring' algorithm.
    if (e >= y.d.length - 1 && (k = yn < 0 ? -yn : yn) <= MAX_SAFE_INTEGER) {
      r = intPow(Ctor, x, k, pr);
      return y.s < 0 ? new Ctor(1).div(r) : finalise(r, pr, rm);
    }

    s = x.s;

    // if x is negative
    if (s < 0) {

      // if y is not an integer
      if (e < y.d.length - 1) return new Ctor(NaN);

      // Result is positive if x is negative and the last digit of integer y is even.
      if ((y.d[e] & 1) == 0) s = 1;

      // if x.eq(-1)
      if (x.e == 0 && x.d[0] == 1 && x.d.length == 1) {
        x.s = s;
        return x;
      }
    }

    // Estimate result exponent.
    // x^y = 10^e,  where e = y * log10(x)
    // log10(x) = log10(x_significand) + x_exponent
    // log10(x_significand) = ln(x_significand) / ln(10)
    k = mathpow(+x, yn);
    e = k == 0 || !isFinite(k)
      ? mathfloor(yn * (Math.log('0.' + digitsToString(x.d)) / Math.LN10 + x.e + 1))
      : new Ctor(k + '').e;

    // Exponent estimate may be incorrect e.g. x: 0.999999999999999999, y: 2.29, e: 0, r.e: -1.

    // Overflow/underflow?
    if (e > Ctor.maxE + 1 || e < Ctor.minE - 1) return new Ctor(e > 0 ? s / 0 : 0);

    external = false;
    Ctor.rounding = x.s = 1;

    // Estimate the extra guard digits needed to ensure five correct rounding digits from
    // naturalLogarithm(x). Example of failure without these extra digits (precision: 10):
    // new Decimal(2.32456).pow('2087987436534566.46411')
    // should be 1.162377823e+764914905173815, but is 1.162355823e+764914905173815
    k = Math.min(12, (e + '').length);

    // r = x^y = exp(y*ln(x))
    r = naturalExponential(y.times(naturalLogarithm(x, pr + k)), pr);

    // r may be Infinity, e.g. (0.9999999999999999).pow(-1e+40)
    if (r.d) {

      // Truncate to the required precision plus five rounding digits.
      r = finalise(r, pr + 5, 1);

      // If the rounding digits are [49]9999 or [50]0000 increase the precision by 10 and recalculate
      // the result.
      if (checkRoundingDigits(r.d, pr, rm)) {
        e = pr + 10;

        // Truncate to the increased precision plus five rounding digits.
        r = finalise(naturalExponential(y.times(naturalLogarithm(x, e + k)), e), e + 5, 1);

        // Check for 14 nines from the 2nd rounding digit (the first rounding digit may be 4 or 9).
        if (+digitsToString(r.d).slice(pr + 1, pr + 15) + 1 == 1e14) {
          r = finalise(r, pr + 1, 0);
        }
      }
    }

    r.s = s;
    external = true;
    Ctor.rounding = rm;

    return finalise(r, pr, rm);
  };


  /*
   * Return a string representing the value of this Decimal rounded to `sd` significant digits
   * using rounding mode `rounding`.
   *
   * Return exponential notation if `sd` is less than the number of digits necessary to represent
   * the integer part of the value in normal notation.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   */
  P.toPrecision = function (sd, rm) {
    var str,
      x = this,
      Ctor = x.constructor;

    if (sd === void 0) {
      str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);
    } else {
      checkInt32(sd, 1, MAX_DIGITS);

      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);

      x = finalise(new Ctor(x), sd, rm);
      str = finiteToString(x, sd <= x.e || x.e <= Ctor.toExpNeg, sd);
    }

    return x.isNeg() && !x.isZero() ? '-' + str : str;
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal rounded to a maximum of `sd`
   * significant digits using rounding mode `rm`, or to `precision` and `rounding` respectively if
   * omitted.
   *
   * [sd] {number} Significant digits. Integer, 1 to MAX_DIGITS inclusive.
   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
   *
   * 'toSD() digits out of range: {sd}'
   * 'toSD() digits not an integer: {sd}'
   * 'toSD() rounding mode not an integer: {rm}'
   * 'toSD() rounding mode out of range: {rm}'
   *
   */
  P.toSignificantDigits = P.toSD = function (sd, rm) {
    var x = this,
      Ctor = x.constructor;

    if (sd === void 0) {
      sd = Ctor.precision;
      rm = Ctor.rounding;
    } else {
      checkInt32(sd, 1, MAX_DIGITS);

      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);
    }

    return finalise(new Ctor(x), sd, rm);
  };


  /*
   * Return a string representing the value of this Decimal.
   *
   * Return exponential notation if this Decimal has a positive exponent equal to or greater than
   * `toExpPos`, or a negative exponent equal to or less than `toExpNeg`.
   *
   */
  P.toString = function () {
    var x = this,
      Ctor = x.constructor,
      str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);

    return x.isNeg() && !x.isZero() ? '-' + str : str;
  };


  /*
   * Return a new Decimal whose value is the value of this Decimal truncated to a whole number.
   *
   */
  P.truncated = P.trunc = function () {
    return finalise(new this.constructor(this), this.e + 1, 1);
  };


  /*
   * Return a string representing the value of this Decimal.
   * Unlike `toString`, negative zero will include the minus sign.
   *
   */
  P.valueOf = P.toJSON = function () {
    var x = this,
      Ctor = x.constructor,
      str = finiteToString(x, x.e <= Ctor.toExpNeg || x.e >= Ctor.toExpPos);

    return x.isNeg() ? '-' + str : str;
  };


  // Helper functions for Decimal.prototype (P) and/or Decimal methods, and their callers.


  /*
   *  digitsToString           P.cubeRoot, P.logarithm, P.squareRoot, P.toFraction, P.toPower,
   *                           finiteToString, naturalExponential, naturalLogarithm
   *  checkInt32               P.toDecimalPlaces, P.toExponential, P.toFixed, P.toNearest,
   *                           P.toPrecision, P.toSignificantDigits, toStringBinary, random
   *  checkRoundingDigits      P.logarithm, P.toPower, naturalExponential, naturalLogarithm
   *  convertBase              toStringBinary, parseOther
   *  cos                      P.cos
   *  divide                   P.atanh, P.cubeRoot, P.dividedBy, P.dividedToIntegerBy,
   *                           P.logarithm, P.modulo, P.squareRoot, P.tan, P.tanh, P.toFraction,
   *                           P.toNearest, toStringBinary, naturalExponential, naturalLogarithm,
   *                           taylorSeries, atan2, parseOther
   *  finalise                 P.absoluteValue, P.atan, P.atanh, P.ceil, P.cos, P.cosh,
   *                           P.cubeRoot, P.dividedToIntegerBy, P.floor, P.logarithm, P.minus,
   *                           P.modulo, P.negated, P.plus, P.round, P.sin, P.sinh, P.squareRoot,
   *                           P.tan, P.times, P.toDecimalPlaces, P.toExponential, P.toFixed,
   *                           P.toNearest, P.toPower, P.toPrecision, P.toSignificantDigits,
   *                           P.truncated, divide, getLn10, getPi, naturalExponential,
   *                           naturalLogarithm, ceil, floor, round, trunc
   *  finiteToString           P.toExponential, P.toFixed, P.toPrecision, P.toString, P.valueOf,
   *                           toStringBinary
   *  getBase10Exponent        P.minus, P.plus, P.times, parseOther
   *  getLn10                  P.logarithm, naturalLogarithm
   *  getPi                    P.acos, P.asin, P.atan, toLessThanHalfPi, atan2
   *  getPrecision             P.precision, P.toFraction
   *  getZeroString            digitsToString, finiteToString
   *  intPow                   P.toPower, parseOther
   *  isOdd                    toLessThanHalfPi
   *  maxOrMin                 max, min
   *  naturalExponential       P.naturalExponential, P.toPower
   *  naturalLogarithm         P.acosh, P.asinh, P.atanh, P.logarithm, P.naturalLogarithm,
   *                           P.toPower, naturalExponential
   *  nonFiniteToString        finiteToString, toStringBinary
   *  parseDecimal             Decimal
   *  parseOther               Decimal
   *  sin                      P.sin
   *  taylorSeries             P.cosh, P.sinh, cos, sin
   *  toLessThanHalfPi         P.cos, P.sin
   *  toStringBinary           P.toBinary, P.toHexadecimal, P.toOctal
   *  truncate                 intPow
   *
   *  Throws:                  P.logarithm, P.precision, P.toFraction, checkInt32, getLn10, getPi,
   *                           naturalLogarithm, config, parseOther, random, Decimal
   */


  function digitsToString(d) {
    var i, k, ws,
      indexOfLastWord = d.length - 1,
      str = '',
      w = d[0];

    if (indexOfLastWord > 0) {
      str += w;
      for (i = 1; i < indexOfLastWord; i++) {
        ws = d[i] + '';
        k = LOG_BASE - ws.length;
        if (k) str += getZeroString(k);
        str += ws;
      }

      w = d[i];
      ws = w + '';
      k = LOG_BASE - ws.length;
      if (k) str += getZeroString(k);
    } else if (w === 0) {
      return '0';
    }

    // Remove trailing zeros of last w.
    for (; w % 10 === 0;) w /= 10;

    return str + w;
  }


  function checkInt32(i, min, max) {
    if (i !== ~~i || i < min || i > max) {
      throw Error(invalidArgument + i);
    }
  }


  /*
   * Check 5 rounding digits if `repeating` is null, 4 otherwise.
   * `repeating == null` if caller is `log` or `pow`,
   * `repeating != null` if caller is `naturalLogarithm` or `naturalExponential`.
   */
  function checkRoundingDigits(d, i, rm, repeating) {
    var di, k, r, rd;

    // Get the length of the first word of the array d.
    for (k = d[0]; k >= 10; k /= 10) --i;

    // Is the rounding digit in the first word of d?
    if (--i < 0) {
      i += LOG_BASE;
      di = 0;
    } else {
      di = Math.ceil((i + 1) / LOG_BASE);
      i %= LOG_BASE;
    }

    // i is the index (0 - 6) of the rounding digit.
    // E.g. if within the word 3487563 the first rounding digit is 5,
    // then i = 4, k = 1000, rd = 3487563 % 1000 = 563
    k = mathpow(10, LOG_BASE - i);
    rd = d[di] % k | 0;

    if (repeating == null) {
      if (i < 3) {
        if (i == 0) rd = rd / 100 | 0;
        else if (i == 1) rd = rd / 10 | 0;
        r = rm < 4 && rd == 99999 || rm > 3 && rd == 49999 || rd == 50000 || rd == 0;
      } else {
        r = (rm < 4 && rd + 1 == k || rm > 3 && rd + 1 == k / 2) &&
          (d[di + 1] / k / 100 | 0) == mathpow(10, i - 2) - 1 ||
            (rd == k / 2 || rd == 0) && (d[di + 1] / k / 100 | 0) == 0;
      }
    } else {
      if (i < 4) {
        if (i == 0) rd = rd / 1000 | 0;
        else if (i == 1) rd = rd / 100 | 0;
        else if (i == 2) rd = rd / 10 | 0;
        r = (repeating || rm < 4) && rd == 9999 || !repeating && rm > 3 && rd == 4999;
      } else {
        r = ((repeating || rm < 4) && rd + 1 == k ||
        (!repeating && rm > 3) && rd + 1 == k / 2) &&
          (d[di + 1] / k / 1000 | 0) == mathpow(10, i - 3) - 1;
      }
    }

    return r;
  }


  // Convert string of `baseIn` to an array of numbers of `baseOut`.
  // Eg. convertBase('255', 10, 16) returns [15, 15].
  // Eg. convertBase('ff', 16, 10) returns [2, 5, 5].
  function convertBase(str, baseIn, baseOut) {
    var j,
      arr = [0],
      arrL,
      i = 0,
      strL = str.length;

    for (; i < strL;) {
      for (arrL = arr.length; arrL--;) arr[arrL] *= baseIn;
      arr[0] += NUMERALS.indexOf(str.charAt(i++));
      for (j = 0; j < arr.length; j++) {
        if (arr[j] > baseOut - 1) {
          if (arr[j + 1] === void 0) arr[j + 1] = 0;
          arr[j + 1] += arr[j] / baseOut | 0;
          arr[j] %= baseOut;
        }
      }
    }

    return arr.reverse();
  }


  /*
   * cos(x) = 1 - x^2/2! + x^4/4! - ...
   * |x| < pi/2
   *
   */
  function cosine(Ctor, x) {
    var k, len, y;

    if (x.isZero()) return x;

    // Argument reduction: cos(4x) = 8*(cos^4(x) - cos^2(x)) + 1
    // i.e. cos(x) = 8*(cos^4(x/4) - cos^2(x/4)) + 1

    // Estimate the optimum number of times to use the argument reduction.
    len = x.d.length;
    if (len < 32) {
      k = Math.ceil(len / 3);
      y = (1 / tinyPow(4, k)).toString();
    } else {
      k = 16;
      y = '2.3283064365386962890625e-10';
    }

    Ctor.precision += k;

    x = taylorSeries(Ctor, 1, x.times(y), new Ctor(1));

    // Reverse argument reduction
    for (var i = k; i--;) {
      var cos2x = x.times(x);
      x = cos2x.times(cos2x).minus(cos2x).times(8).plus(1);
    }

    Ctor.precision -= k;

    return x;
  }


  /*
   * Perform division in the specified base.
   */
  var divide = (function () {

    // Assumes non-zero x and k, and hence non-zero result.
    function multiplyInteger(x, k, base) {
      var temp,
        carry = 0,
        i = x.length;

      for (x = x.slice(); i--;) {
        temp = x[i] * k + carry;
        x[i] = temp % base | 0;
        carry = temp / base | 0;
      }

      if (carry) x.unshift(carry);

      return x;
    }

    function compare(a, b, aL, bL) {
      var i, r;

      if (aL != bL) {
        r = aL > bL ? 1 : -1;
      } else {
        for (i = r = 0; i < aL; i++) {
          if (a[i] != b[i]) {
            r = a[i] > b[i] ? 1 : -1;
            break;
          }
        }
      }

      return r;
    }

    function subtract(a, b, aL, base) {
      var i = 0;

      // Subtract b from a.
      for (; aL--;) {
        a[aL] -= i;
        i = a[aL] < b[aL] ? 1 : 0;
        a[aL] = i * base + a[aL] - b[aL];
      }

      // Remove leading zeros.
      for (; !a[0] && a.length > 1;) a.shift();
    }

    return function (x, y, pr, rm, dp, base) {
      var cmp, e, i, k, logBase, more, prod, prodL, q, qd, rem, remL, rem0, sd, t, xi, xL, yd0,
        yL, yz,
        Ctor = x.constructor,
        sign = x.s == y.s ? 1 : -1,
        xd = x.d,
        yd = y.d;

      // Either NaN, Infinity or 0?
      if (!xd || !xd[0] || !yd || !yd[0]) {

        return new Ctor(// Return NaN if either NaN, or both Infinity or 0.
          !x.s || !y.s || (xd ? yd && xd[0] == yd[0] : !yd) ? NaN :

          // Return ±0 if x is 0 or y is ±Infinity, or return ±Infinity as y is 0.
          xd && xd[0] == 0 || !yd ? sign * 0 : sign / 0);
      }

      if (base) {
        logBase = 1;
        e = x.e - y.e;
      } else {
        base = BASE;
        logBase = LOG_BASE;
        e = mathfloor(x.e / logBase) - mathfloor(y.e / logBase);
      }

      yL = yd.length;
      xL = xd.length;
      q = new Ctor(sign);
      qd = q.d = [];

      // Result exponent may be one less than e.
      // The digit array of a Decimal from toStringBinary may have trailing zeros.
      for (i = 0; yd[i] == (xd[i] || 0); i++);

      if (yd[i] > (xd[i] || 0)) e--;

      if (pr == null) {
        sd = pr = Ctor.precision;
        rm = Ctor.rounding;
      } else if (dp) {
        sd = pr + (x.e - y.e) + 1;
      } else {
        sd = pr;
      }

      if (sd < 0) {
        qd.push(1);
        more = true;
      } else {

        // Convert precision in number of base 10 digits to base 1e7 digits.
        sd = sd / logBase + 2 | 0;
        i = 0;

        // divisor < 1e7
        if (yL == 1) {
          k = 0;
          yd = yd[0];
          sd++;

          // k is the carry.
          for (; (i < xL || k) && sd--; i++) {
            t = k * base + (xd[i] || 0);
            qd[i] = t / yd | 0;
            k = t % yd | 0;
          }

          more = k || i < xL;

        // divisor >= 1e7
        } else {

          // Normalise xd and yd so highest order digit of yd is >= base/2
          k = base / (yd[0] + 1) | 0;

          if (k > 1) {
            yd = multiplyInteger(yd, k, base);
            xd = multiplyInteger(xd, k, base);
            yL = yd.length;
            xL = xd.length;
          }

          xi = yL;
          rem = xd.slice(0, yL);
          remL = rem.length;

          // Add zeros to make remainder as long as divisor.
          for (; remL < yL;) rem[remL++] = 0;

          yz = yd.slice();
          yz.unshift(0);
          yd0 = yd[0];

          if (yd[1] >= base / 2) ++yd0;

          do {
            k = 0;

            // Compare divisor and remainder.
            cmp = compare(yd, rem, yL, remL);

            // If divisor < remainder.
            if (cmp < 0) {

              // Calculate trial digit, k.
              rem0 = rem[0];
              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);

              // k will be how many times the divisor goes into the current remainder.
              k = rem0 / yd0 | 0;

              //  Algorithm:
              //  1. product = divisor * trial digit (k)
              //  2. if product > remainder: product -= divisor, k--
              //  3. remainder -= product
              //  4. if product was < remainder at 2:
              //    5. compare new remainder and divisor
              //    6. If remainder > divisor: remainder -= divisor, k++

              if (k > 1) {
                if (k >= base) k = base - 1;

                // product = divisor * trial digit.
                prod = multiplyInteger(yd, k, base);
                prodL = prod.length;
                remL = rem.length;

                // Compare product and remainder.
                cmp = compare(prod, rem, prodL, remL);

                // product > remainder.
                if (cmp == 1) {
                  k--;

                  // Subtract divisor from product.
                  subtract(prod, yL < prodL ? yz : yd, prodL, base);
                }
              } else {

                // cmp is -1.
                // If k is 0, there is no need to compare yd and rem again below, so change cmp to 1
                // to avoid it. If k is 1 there is a need to compare yd and rem again below.
                if (k == 0) cmp = k = 1;
                prod = yd.slice();
              }

              prodL = prod.length;
              if (prodL < remL) prod.unshift(0);

              // Subtract product from remainder.
              subtract(rem, prod, remL, base);

              // If product was < previous remainder.
              if (cmp == -1) {
                remL = rem.length;

                // Compare divisor and new remainder.
                cmp = compare(yd, rem, yL, remL);

                // If divisor < new remainder, subtract divisor from remainder.
                if (cmp < 1) {
                  k++;

                  // Subtract divisor from remainder.
                  subtract(rem, yL < remL ? yz : yd, remL, base);
                }
              }

              remL = rem.length;
            } else if (cmp === 0) {
              k++;
              rem = [0];
            }    // if cmp === 1, k will be 0

            // Add the next digit, k, to the result array.
            qd[i++] = k;

            // Update the remainder.
            if (cmp && rem[0]) {
              rem[remL++] = xd[xi] || 0;
            } else {
              rem = [xd[xi]];
              remL = 1;
            }

          } while ((xi++ < xL || rem[0] !== void 0) && sd--);

          more = rem[0] !== void 0;
        }

        // Leading zero?
        if (!qd[0]) qd.shift();
      }

      // logBase is 1 when divide is being used for base conversion.
      if (logBase == 1) {
        q.e = e;
        inexact = more;
      } else {

        // To calculate q.e, first get the number of digits of qd[0].
        for (i = 1, k = qd[0]; k >= 10; k /= 10) i++;
        q.e = i + e * logBase - 1;

        finalise(q, dp ? pr + q.e + 1 : pr, rm, more);
      }

      return q;
    };
  })();


  /*
   * Round `x` to `sd` significant digits using rounding mode `rm`.
   * Check for over/under-flow.
   */
   function finalise(x, sd, rm, isTruncated) {
    var digits, i, j, k, rd, roundUp, w, xd, xdi,
      Ctor = x.constructor;

    // Don't round if sd is null or undefined.
    out: if (sd != null) {
      xd = x.d;

      // Infinity/NaN.
      if (!xd) return x;

      // rd: the rounding digit, i.e. the digit after the digit that may be rounded up.
      // w: the word of xd containing rd, a base 1e7 number.
      // xdi: the index of w within xd.
      // digits: the number of digits of w.
      // i: what would be the index of rd within w if all the numbers were 7 digits long (i.e. if
      // they had leading zeros)
      // j: if > 0, the actual index of rd within w (if < 0, rd is a leading zero).

      // Get the length of the first word of the digits array xd.
      for (digits = 1, k = xd[0]; k >= 10; k /= 10) digits++;
      i = sd - digits;

      // Is the rounding digit in the first word of xd?
      if (i < 0) {
        i += LOG_BASE;
        j = sd;
        w = xd[xdi = 0];

        // Get the rounding digit at index j of w.
        rd = w / mathpow(10, digits - j - 1) % 10 | 0;
      } else {
        xdi = Math.ceil((i + 1) / LOG_BASE);
        k = xd.length;
        if (xdi >= k) {
          if (isTruncated) {

            // Needed by `naturalExponential`, `naturalLogarithm` and `squareRoot`.
            for (; k++ <= xdi;) xd.push(0);
            w = rd = 0;
            digits = 1;
            i %= LOG_BASE;
            j = i - LOG_BASE + 1;
          } else {
            break out;
          }
        } else {
          w = k = xd[xdi];

          // Get the number of digits of w.
          for (digits = 1; k >= 10; k /= 10) digits++;

          // Get the index of rd within w.
          i %= LOG_BASE;

          // Get the index of rd within w, adjusted for leading zeros.
          // The number of leading zeros of w is given by LOG_BASE - digits.
          j = i - LOG_BASE + digits;

          // Get the rounding digit at index j of w.
          rd = j < 0 ? 0 : w / mathpow(10, digits - j - 1) % 10 | 0;
        }
      }

      // Are there any non-zero digits after the rounding digit?
      isTruncated = isTruncated || sd < 0 ||
        xd[xdi + 1] !== void 0 || (j < 0 ? w : w % mathpow(10, digits - j - 1));

      // The expression `w % mathpow(10, digits - j - 1)` returns all the digits of w to the right
      // of the digit at (left-to-right) index j, e.g. if w is 908714 and j is 2, the expression
      // will give 714.

      roundUp = rm < 4
        ? (rd || isTruncated) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))
        : rd > 5 || rd == 5 && (rm == 4 || isTruncated || rm == 6 &&

          // Check whether the digit to the left of the rounding digit is odd.
          ((i > 0 ? j > 0 ? w / mathpow(10, digits - j) : 0 : xd[xdi - 1]) % 10) & 1 ||
            rm == (x.s < 0 ? 8 : 7));

      if (sd < 1 || !xd[0]) {
        xd.length = 0;
        if (roundUp) {

          // Convert sd to decimal places.
          sd -= x.e + 1;

          // 1, 0.1, 0.01, 0.001, 0.0001 etc.
          xd[0] = mathpow(10, (LOG_BASE - sd % LOG_BASE) % LOG_BASE);
          x.e = -sd || 0;
        } else {

          // Zero.
          xd[0] = x.e = 0;
        }

        return x;
      }

      // Remove excess digits.
      if (i == 0) {
        xd.length = xdi;
        k = 1;
        xdi--;
      } else {
        xd.length = xdi + 1;
        k = mathpow(10, LOG_BASE - i);

        // E.g. 56700 becomes 56000 if 7 is the rounding digit.
        // j > 0 means i > number of leading zeros of w.
        xd[xdi] = j > 0 ? (w / mathpow(10, digits - j) % mathpow(10, j) | 0) * k : 0;
      }

      if (roundUp) {
        for (;;) {

          // Is the digit to be rounded up in the first word of xd?
          if (xdi == 0) {

            // i will be the length of xd[0] before k is added.
            for (i = 1, j = xd[0]; j >= 10; j /= 10) i++;
            j = xd[0] += k;
            for (k = 1; j >= 10; j /= 10) k++;

            // if i != k the length has increased.
            if (i != k) {
              x.e++;
              if (xd[0] == BASE) xd[0] = 1;
            }

            break;
          } else {
            xd[xdi] += k;
            if (xd[xdi] != BASE) break;
            xd[xdi--] = 0;
            k = 1;
          }
        }
      }

      // Remove trailing zeros.
      for (i = xd.length; xd[--i] === 0;) xd.pop();
    }

    if (external) {

      // Overflow?
      if (x.e > Ctor.maxE) {

        // Infinity.
        x.d = null;
        x.e = NaN;

      // Underflow?
      } else if (x.e < Ctor.minE) {

        // Zero.
        x.e = 0;
        x.d = [0];
        // Ctor.underflow = true;
      } // else Ctor.underflow = false;
    }

    return x;
  }


  function finiteToString(x, isExp, sd) {
    if (!x.isFinite()) return nonFiniteToString(x);
    var k,
      e = x.e,
      str = digitsToString(x.d),
      len = str.length;

    if (isExp) {
      if (sd && (k = sd - len) > 0) {
        str = str.charAt(0) + '.' + str.slice(1) + getZeroString(k);
      } else if (len > 1) {
        str = str.charAt(0) + '.' + str.slice(1);
      }

      str = str + (x.e < 0 ? 'e' : 'e+') + x.e;
    } else if (e < 0) {
      str = '0.' + getZeroString(-e - 1) + str;
      if (sd && (k = sd - len) > 0) str += getZeroString(k);
    } else if (e >= len) {
      str += getZeroString(e + 1 - len);
      if (sd && (k = sd - e - 1) > 0) str = str + '.' + getZeroString(k);
    } else {
      if ((k = e + 1) < len) str = str.slice(0, k) + '.' + str.slice(k);
      if (sd && (k = sd - len) > 0) {
        if (e + 1 === len) str += '.';
        str += getZeroString(k);
      }
    }

    return str;
  }


  // Calculate the base 10 exponent from the base 1e7 exponent.
  function getBase10Exponent(digits, e) {
    var w = digits[0];

    // Add the number of digits of the first word of the digits array.
    for ( e *= LOG_BASE; w >= 10; w /= 10) e++;
    return e;
  }


  function getLn10(Ctor, sd, pr) {
    if (sd > LN10_PRECISION) {

      // Reset global state in case the exception is caught.
      external = true;
      if (pr) Ctor.precision = pr;
      throw Error(precisionLimitExceeded);
    }
    return finalise(new Ctor(LN10), sd, 1, true);
  }


  function getPi(Ctor, sd, rm) {
    if (sd > PI_PRECISION) throw Error(precisionLimitExceeded);
    return finalise(new Ctor(PI), sd, rm, true);
  }


  function getPrecision(digits) {
    var w = digits.length - 1,
      len = w * LOG_BASE + 1;

    w = digits[w];

    // If non-zero...
    if (w) {

      // Subtract the number of trailing zeros of the last word.
      for (; w % 10 == 0; w /= 10) len--;

      // Add the number of digits of the first word.
      for (w = digits[0]; w >= 10; w /= 10) len++;
    }

    return len;
  }


  function getZeroString(k) {
    var zs = '';
    for (; k--;) zs += '0';
    return zs;
  }


  /*
   * Return a new Decimal whose value is the value of Decimal `x` to the power `n`, where `n` is an
   * integer of type number.
   *
   * Implements 'exponentiation by squaring'. Called by `pow` and `parseOther`.
   *
   */
  function intPow(Ctor, x, n, pr) {
    var isTruncated,
      r = new Ctor(1),

      // Max n of 9007199254740991 takes 53 loop iterations.
      // Maximum digits array length; leaves [28, 34] guard digits.
      k = Math.ceil(pr / LOG_BASE + 4);

    external = false;

    for (;;) {
      if (n % 2) {
        r = r.times(x);
        if (truncate(r.d, k)) isTruncated = true;
      }

      n = mathfloor(n / 2);
      if (n === 0) {

        // To ensure correct rounding when r.d is truncated, increment the last word if it is zero.
        n = r.d.length - 1;
        if (isTruncated && r.d[n] === 0) ++r.d[n];
        break;
      }

      x = x.times(x);
      truncate(x.d, k);
    }

    external = true;

    return r;
  }


  function isOdd(n) {
    return n.d[n.d.length - 1] & 1;
  }


  /*
   * Handle `max` and `min`. `ltgt` is 'lt' or 'gt'.
   */
  function maxOrMin(Ctor, args, ltgt) {
    var y,
      x = new Ctor(args[0]),
      i = 0;

    for (; ++i < args.length;) {
      y = new Ctor(args[i]);
      if (!y.s) {
        x = y;
        break;
      } else if (x[ltgt](y)) {
        x = y;
      }
    }

    return x;
  }


  /*
   * Return a new Decimal whose value is the natural exponential of `x` rounded to `sd` significant
   * digits.
   *
   * Taylor/Maclaurin series.
   *
   * exp(x) = x^0/0! + x^1/1! + x^2/2! + x^3/3! + ...
   *
   * Argument reduction:
   *   Repeat x = x / 32, k += 5, until |x| < 0.1
   *   exp(x) = exp(x / 2^k)^(2^k)
   *
   * Previously, the argument was initially reduced by
   * exp(x) = exp(r) * 10^k  where r = x - k * ln10, k = floor(x / ln10)
   * to first put r in the range [0, ln10], before dividing by 32 until |x| < 0.1, but this was
   * found to be slower than just dividing repeatedly by 32 as above.
   *
   * Max integer argument: exp('20723265836946413') = 6.3e+9000000000000000
   * Min integer argument: exp('-20723265836946411') = 1.2e-9000000000000000
   * (Math object integer min/max: Math.exp(709) = 8.2e+307, Math.exp(-745) = 5e-324)
   *
   *  exp(Infinity)  = Infinity
   *  exp(-Infinity) = 0
   *  exp(NaN)       = NaN
   *  exp(±0)        = 1
   *
   *  exp(x) is non-terminating for any finite, non-zero x.
   *
   *  The result will always be correctly rounded.
   *
   */
  function naturalExponential(x, sd) {
    var denominator, guard, j, pow, sum, t, wpr,
      rep = 0,
      i = 0,
      k = 0,
      Ctor = x.constructor,
      rm = Ctor.rounding,
      pr = Ctor.precision;

    // 0/NaN/Infinity?
    if (!x.d || !x.d[0] || x.e > 17) {

      return new Ctor(x.d
        ? !x.d[0] ? 1 : x.s < 0 ? 0 : 1 / 0
        : x.s ? x.s < 0 ? 0 : x : 0 / 0);
    }

    if (sd == null) {
      external = false;
      wpr = pr;
    } else {
      wpr = sd;
    }

    t = new Ctor(0.03125);

    // while abs(x) >= 0.1
    while (x.e > -2) {

      // x = x / 2^5
      x = x.times(t);
      k += 5;
    }

    // Use 2 * log10(2^k) + 5 (empirically derived) to estimate the increase in precision
    // necessary to ensure the first 4 rounding digits are correct.
    guard = Math.log(mathpow(2, k)) / Math.LN10 * 2 + 5 | 0;
    wpr += guard;
    denominator = pow = sum = new Ctor(1);
    Ctor.precision = wpr;

    for (;;) {
      pow = finalise(pow.times(x), wpr, 1);
      denominator = denominator.times(++i);
      t = sum.plus(divide(pow, denominator, wpr, 1));

      if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum.d).slice(0, wpr)) {
        j = k;
        while (j--) sum = finalise(sum.times(sum), wpr, 1);

        // Check to see if the first 4 rounding digits are [49]999.
        // If so, repeat the summation with a higher precision, otherwise
        // e.g. with precision: 18, rounding: 1
        // exp(18.404272462595034083567793919843761) = 98372560.1229999999 (should be 98372560.123)
        // `wpr - guard` is the index of first rounding digit.
        if (sd == null) {

          if (rep < 3 && checkRoundingDigits(sum.d, wpr - guard, rm, rep)) {
            Ctor.precision = wpr += 10;
            denominator = pow = t = new Ctor(1);
            i = 0;
            rep++;
          } else {
            return finalise(sum, Ctor.precision = pr, rm, external = true);
          }
        } else {
          Ctor.precision = pr;
          return sum;
        }
      }

      sum = t;
    }
  }


  /*
   * Return a new Decimal whose value is the natural logarithm of `x` rounded to `sd` significant
   * digits.
   *
   *  ln(-n)        = NaN
   *  ln(0)         = -Infinity
   *  ln(-0)        = -Infinity
   *  ln(1)         = 0
   *  ln(Infinity)  = Infinity
   *  ln(-Infinity) = NaN
   *  ln(NaN)       = NaN
   *
   *  ln(n) (n != 1) is non-terminating.
   *
   */
  function naturalLogarithm(y, sd) {
    var c, c0, denominator, e, numerator, rep, sum, t, wpr, x1, x2,
      n = 1,
      guard = 10,
      x = y,
      xd = x.d,
      Ctor = x.constructor,
      rm = Ctor.rounding,
      pr = Ctor.precision;

    // Is x negative or Infinity, NaN, 0 or 1?
    if (x.s < 0 || !xd || !xd[0] || !x.e && xd[0] == 1 && xd.length == 1) {
      return new Ctor(xd && !xd[0] ? -1 / 0 : x.s != 1 ? NaN : xd ? 0 : x);
    }

    if (sd == null) {
      external = false;
      wpr = pr;
    } else {
      wpr = sd;
    }

    Ctor.precision = wpr += guard;
    c = digitsToString(xd);
    c0 = c.charAt(0);

    if (Math.abs(e = x.e) < 1.5e15) {

      // Argument reduction.
      // The series converges faster the closer the argument is to 1, so using
      // ln(a^b) = b * ln(a),   ln(a) = ln(a^b) / b
      // multiply the argument by itself until the leading digits of the significand are 7, 8, 9,
      // 10, 11, 12 or 13, recording the number of multiplications so the sum of the series can
      // later be divided by this number, then separate out the power of 10 using
      // ln(a*10^b) = ln(a) + b*ln(10).

      // max n is 21 (gives 0.9, 1.0 or 1.1) (9e15 / 21 = 4.2e14).
      //while (c0 < 9 && c0 != 1 || c0 == 1 && c.charAt(1) > 1) {
      // max n is 6 (gives 0.7 - 1.3)
      while (c0 < 7 && c0 != 1 || c0 == 1 && c.charAt(1) > 3) {
        x = x.times(y);
        c = digitsToString(x.d);
        c0 = c.charAt(0);
        n++;
      }

      e = x.e;

      if (c0 > 1) {
        x = new Ctor('0.' + c);
        e++;
      } else {
        x = new Ctor(c0 + '.' + c.slice(1));
      }
    } else {

      // The argument reduction method above may result in overflow if the argument y is a massive
      // number with exponent >= 1500000000000000 (9e15 / 6 = 1.5e15), so instead recall this
      // function using ln(x*10^e) = ln(x) + e*ln(10).
      t = getLn10(Ctor, wpr + 2, pr).times(e + '');
      x = naturalLogarithm(new Ctor(c0 + '.' + c.slice(1)), wpr - guard).plus(t);
      Ctor.precision = pr;

      return sd == null ? finalise(x, pr, rm, external = true) : x;
    }

    // x1 is x reduced to a value near 1.
    x1 = x;

    // Taylor series.
    // ln(y) = ln((1 + x)/(1 - x)) = 2(x + x^3/3 + x^5/5 + x^7/7 + ...)
    // where x = (y - 1)/(y + 1)    (|x| < 1)
    sum = numerator = x = divide(x.minus(1), x.plus(1), wpr, 1);
    x2 = finalise(x.times(x), wpr, 1);
    denominator = 3;

    for (;;) {
      numerator = finalise(numerator.times(x2), wpr, 1);
      t = sum.plus(divide(numerator, new Ctor(denominator), wpr, 1));

      if (digitsToString(t.d).slice(0, wpr) === digitsToString(sum.d).slice(0, wpr)) {
        sum = sum.times(2);

        // Reverse the argument reduction. Check that e is not 0 because, besides preventing an
        // unnecessary calculation, -0 + 0 = +0 and to ensure correct rounding -0 needs to stay -0.
        if (e !== 0) sum = sum.plus(getLn10(Ctor, wpr + 2, pr).times(e + ''));
        sum = divide(sum, new Ctor(n), wpr, 1);

        // Is rm > 3 and the first 4 rounding digits 4999, or rm < 4 (or the summation has
        // been repeated previously) and the first 4 rounding digits 9999?
        // If so, restart the summation with a higher precision, otherwise
        // e.g. with precision: 12, rounding: 1
        // ln(135520028.6126091714265381533) = 18.7246299999 when it should be 18.72463.
        // `wpr - guard` is the index of first rounding digit.
        if (sd == null) {
          if (checkRoundingDigits(sum.d, wpr - guard, rm, rep)) {
            Ctor.precision = wpr += guard;
            t = numerator = x = divide(x1.minus(1), x1.plus(1), wpr, 1);
            x2 = finalise(x.times(x), wpr, 1);
            denominator = rep = 1;
          } else {
            return finalise(sum, Ctor.precision = pr, rm, external = true);
          }
        } else {
          Ctor.precision = pr;
          return sum;
        }
      }

      sum = t;
      denominator += 2;
    }
  }


  // ±Infinity, NaN.
  function nonFiniteToString(x) {
    // Unsigned.
    return String(x.s * x.s / 0);
  }


  /*
   * Parse the value of a new Decimal `x` from string `str`.
   */
  function parseDecimal(x, str) {
    var e, i, len;

    // Decimal point?
    if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');

    // Exponential form?
    if ((i = str.search(/e/i)) > 0) {

      // Determine exponent.
      if (e < 0) e = i;
      e += +str.slice(i + 1);
      str = str.substring(0, i);
    } else if (e < 0) {

      // Integer.
      e = str.length;
    }

    // Determine leading zeros.
    for (i = 0; str.charCodeAt(i) === 48; i++);

    // Determine trailing zeros.
    for (len = str.length; str.charCodeAt(len - 1) === 48; --len);
    str = str.slice(i, len);

    if (str) {
      len -= i;
      x.e = e = e - i - 1;
      x.d = [];

      // Transform base

      // e is the base 10 exponent.
      // i is where to slice str to get the first word of the digits array.
      i = (e + 1) % LOG_BASE;
      if (e < 0) i += LOG_BASE;

      if (i < len) {
        if (i) x.d.push(+str.slice(0, i));
        for (len -= LOG_BASE; i < len;) x.d.push(+str.slice(i, i += LOG_BASE));
        str = str.slice(i);
        i = LOG_BASE - str.length;
      } else {
        i -= len;
      }

      for (; i--;) str += '0';
      x.d.push(+str);

      if (external) {

        // Overflow?
        if (x.e > x.constructor.maxE) {

          // Infinity.
          x.d = null;
          x.e = NaN;

        // Underflow?
        } else if (x.e < x.constructor.minE) {

          // Zero.
          x.e = 0;
          x.d = [0];
          // x.constructor.underflow = true;
        } // else x.constructor.underflow = false;
      }
    } else {

      // Zero.
      x.e = 0;
      x.d = [0];
    }

    return x;
  }


  /*
   * Parse the value of a new Decimal `x` from a string `str`, which is not a decimal value.
   */
  function parseOther(x, str) {
    var base, Ctor, divisor, i, isFloat, len, p, xd, xe;

    if (str.indexOf('_') > -1) {
      str = str.replace(/(\d)_(?=\d)/g, '$1');
      if (isDecimal.test(str)) return parseDecimal(x, str);
    } else if (str === 'Infinity' || str === 'NaN') {
      if (!+str) x.s = NaN;
      x.e = NaN;
      x.d = null;
      return x;
    }

    if (isHex.test(str))  {
      base = 16;
      str = str.toLowerCase();
    } else if (isBinary.test(str))  {
      base = 2;
    } else if (isOctal.test(str))  {
      base = 8;
    } else {
      throw Error(invalidArgument + str);
    }

    // Is there a binary exponent part?
    i = str.search(/p/i);

    if (i > 0) {
      p = +str.slice(i + 1);
      str = str.substring(2, i);
    } else {
      str = str.slice(2);
    }

    // Convert `str` as an integer then divide the result by `base` raised to a power such that the
    // fraction part will be restored.
    i = str.indexOf('.');
    isFloat = i >= 0;
    Ctor = x.constructor;

    if (isFloat) {
      str = str.replace('.', '');
      len = str.length;
      i = len - i;

      // log[10](16) = 1.2041... , log[10](88) = 1.9444....
      divisor = intPow(Ctor, new Ctor(base), i, i * 2);
    }

    xd = convertBase(str, base, BASE);
    xe = xd.length - 1;

    // Remove trailing zeros.
    for (i = xe; xd[i] === 0; --i) xd.pop();
    if (i < 0) return new Ctor(x.s * 0);
    x.e = getBase10Exponent(xd, xe);
    x.d = xd;
    external = false;

    // At what precision to perform the division to ensure exact conversion?
    // maxDecimalIntegerPartDigitCount = ceil(log[10](b) * otherBaseIntegerPartDigitCount)
    // log[10](2) = 0.30103, log[10](8) = 0.90309, log[10](16) = 1.20412
    // E.g. ceil(1.2 * 3) = 4, so up to 4 decimal digits are needed to represent 3 hex int digits.
    // maxDecimalFractionPartDigitCount = {Hex:4|Oct:3|Bin:1} * otherBaseFractionPartDigitCount
    // Therefore using 4 * the number of digits of str will always be enough.
    if (isFloat) x = divide(x, divisor, len * 4);

    // Multiply by the binary exponent part if present.
    if (p) x = x.times(Math.abs(p) < 54 ? mathpow(2, p) : Decimal.pow(2, p));
    external = true;

    return x;
  }


  /*
   * sin(x) = x - x^3/3! + x^5/5! - ...
   * |x| < pi/2
   *
   */
  function sine(Ctor, x) {
    var k,
      len = x.d.length;

    if (len < 3) {
      return x.isZero() ? x : taylorSeries(Ctor, 2, x, x);
    }

    // Argument reduction: sin(5x) = 16*sin^5(x) - 20*sin^3(x) + 5*sin(x)
    // i.e. sin(x) = 16*sin^5(x/5) - 20*sin^3(x/5) + 5*sin(x/5)
    // and  sin(x) = sin(x/5)(5 + sin^2(x/5)(16sin^2(x/5) - 20))

    // Estimate the optimum number of times to use the argument reduction.
    k = 1.4 * Math.sqrt(len);
    k = k > 16 ? 16 : k | 0;

    x = x.times(1 / tinyPow(5, k));
    x = taylorSeries(Ctor, 2, x, x);

    // Reverse argument reduction
    var sin2_x,
      d5 = new Ctor(5),
      d16 = new Ctor(16),
      d20 = new Ctor(20);
    for (; k--;) {
      sin2_x = x.times(x);
      x = x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));
    }

    return x;
  }


  // Calculate Taylor series for `cos`, `cosh`, `sin` and `sinh`.
  function taylorSeries(Ctor, n, x, y, isHyperbolic) {
    var j, t, u, x2,
      i = 1,
      pr = Ctor.precision,
      k = Math.ceil(pr / LOG_BASE);

    external = false;
    x2 = x.times(x);
    u = new Ctor(y);

    for (;;) {
      t = divide(u.times(x2), new Ctor(n++ * n++), pr, 1);
      u = isHyperbolic ? y.plus(t) : y.minus(t);
      y = divide(t.times(x2), new Ctor(n++ * n++), pr, 1);
      t = u.plus(y);

      if (t.d[k] !== void 0) {
        for (j = k; t.d[j] === u.d[j] && j--;);
        if (j == -1) break;
      }

      j = u;
      u = y;
      y = t;
      t = j;
      i++;
    }

    external = true;
    t.d.length = k + 1;

    return t;
  }


  // Exponent e must be positive and non-zero.
  function tinyPow(b, e) {
    var n = b;
    while (--e) n *= b;
    return n;
  }


  // Return the absolute value of `x` reduced to less than or equal to half pi.
  function toLessThanHalfPi(Ctor, x) {
    var t,
      isNeg = x.s < 0,
      pi = getPi(Ctor, Ctor.precision, 1),
      halfPi = pi.times(0.5);

    x = x.abs();

    if (x.lte(halfPi)) {
      quadrant = isNeg ? 4 : 1;
      return x;
    }

    t = x.divToInt(pi);

    if (t.isZero()) {
      quadrant = isNeg ? 3 : 2;
    } else {
      x = x.minus(t.times(pi));

      // 0 <= x < pi
      if (x.lte(halfPi)) {
        quadrant = isOdd(t) ? (isNeg ? 2 : 3) : (isNeg ? 4 : 1);
        return x;
      }

      quadrant = isOdd(t) ? (isNeg ? 1 : 4) : (isNeg ? 3 : 2);
    }

    return x.minus(pi).abs();
  }


  /*
   * Return the value of Decimal `x` as a string in base `baseOut`.
   *
   * If the optional `sd` argument is present include a binary exponent suffix.
   */
  function toStringBinary(x, baseOut, sd, rm) {
    var base, e, i, k, len, roundUp, str, xd, y,
      Ctor = x.constructor,
      isExp = sd !== void 0;

    if (isExp) {
      checkInt32(sd, 1, MAX_DIGITS);
      if (rm === void 0) rm = Ctor.rounding;
      else checkInt32(rm, 0, 8);
    } else {
      sd = Ctor.precision;
      rm = Ctor.rounding;
    }

    if (!x.isFinite()) {
      str = nonFiniteToString(x);
    } else {
      str = finiteToString(x);
      i = str.indexOf('.');

      // Use exponential notation according to `toExpPos` and `toExpNeg`? No, but if required:
      // maxBinaryExponent = floor((decimalExponent + 1) * log[2](10))
      // minBinaryExponent = floor(decimalExponent * log[2](10))
      // log[2](10) = 3.321928094887362347870319429489390175864

      if (isExp) {
        base = 2;
        if (baseOut == 16) {
          sd = sd * 4 - 3;
        } else if (baseOut == 8) {
          sd = sd * 3 - 2;
        }
      } else {
        base = baseOut;
      }

      // Convert the number as an integer then divide the result by its base raised to a power such
      // that the fraction part will be restored.

      // Non-integer.
      if (i >= 0) {
        str = str.replace('.', '');
        y = new Ctor(1);
        y.e = str.length - i;
        y.d = convertBase(finiteToString(y), 10, base);
        y.e = y.d.length;
      }

      xd = convertBase(str, 10, base);
      e = len = xd.length;

      // Remove trailing zeros.
      for (; xd[--len] == 0;) xd.pop();

      if (!xd[0]) {
        str = isExp ? '0p+0' : '0';
      } else {
        if (i < 0) {
          e--;
        } else {
          x = new Ctor(x);
          x.d = xd;
          x.e = e;
          x = divide(x, y, sd, rm, 0, base);
          xd = x.d;
          e = x.e;
          roundUp = inexact;
        }

        // The rounding digit, i.e. the digit after the digit that may be rounded up.
        i = xd[sd];
        k = base / 2;
        roundUp = roundUp || xd[sd + 1] !== void 0;

        roundUp = rm < 4
          ? (i !== void 0 || roundUp) && (rm === 0 || rm === (x.s < 0 ? 3 : 2))
          : i > k || i === k && (rm === 4 || roundUp || rm === 6 && xd[sd - 1] & 1 ||
            rm === (x.s < 0 ? 8 : 7));

        xd.length = sd;

        if (roundUp) {

          // Rounding up may mean the previous digit has to be rounded up and so on.
          for (; ++xd[--sd] > base - 1;) {
            xd[sd] = 0;
            if (!sd) {
              ++e;
              xd.unshift(1);
            }
          }
        }

        // Determine trailing zeros.
        for (len = xd.length; !xd[len - 1]; --len);

        // E.g. [4, 11, 15] becomes 4bf.
        for (i = 0, str = ''; i < len; i++) str += NUMERALS.charAt(xd[i]);

        // Add binary exponent suffix?
        if (isExp) {
          if (len > 1) {
            if (baseOut == 16 || baseOut == 8) {
              i = baseOut == 16 ? 4 : 3;
              for (--len; len % i; len++) str += '0';
              xd = convertBase(str, base, baseOut);
              for (len = xd.length; !xd[len - 1]; --len);

              // xd[0] will always be be 1
              for (i = 1, str = '1.'; i < len; i++) str += NUMERALS.charAt(xd[i]);
            } else {
              str = str.charAt(0) + '.' + str.slice(1);
            }
          }

          str =  str + (e < 0 ? 'p' : 'p+') + e;
        } else if (e < 0) {
          for (; ++e;) str = '0' + str;
          str = '0.' + str;
        } else {
          if (++e > len) for (e -= len; e-- ;) str += '0';
          else if (e < len) str = str.slice(0, e) + '.' + str.slice(e);
        }
      }

      str = (baseOut == 16 ? '0x' : baseOut == 2 ? '0b' : baseOut == 8 ? '0o' : '') + str;
    }

    return x.s < 0 ? '-' + str : str;
  }


  // Does not strip trailing zeros.
  function truncate(arr, len) {
    if (arr.length > len) {
      arr.length = len;
      return true;
    }
  }


  // Decimal methods


  /*
   *  abs
   *  acos
   *  acosh
   *  add
   *  asin
   *  asinh
   *  atan
   *  atanh
   *  atan2
   *  cbrt
   *  ceil
   *  clamp
   *  clone
   *  config
   *  cos
   *  cosh
   *  div
   *  exp
   *  floor
   *  hypot
   *  ln
   *  log
   *  log2
   *  log10
   *  max
   *  min
   *  mod
   *  mul
   *  pow
   *  random
   *  round
   *  set
   *  sign
   *  sin
   *  sinh
   *  sqrt
   *  sub
   *  sum
   *  tan
   *  tanh
   *  trunc
   */


  /*
   * Return a new Decimal whose value is the absolute value of `x`.
   *
   * x {number|string|Decimal}
   *
   */
  function abs(x) {
    return new this(x).abs();
  }


  /*
   * Return a new Decimal whose value is the arccosine in radians of `x`.
   *
   * x {number|string|Decimal}
   *
   */
  function acos(x) {
    return new this(x).acos();
  }


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic cosine of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function acosh(x) {
    return new this(x).acosh();
  }


  /*
   * Return a new Decimal whose value is the sum of `x` and `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function add(x, y) {
    return new this(x).plus(y);
  }


  /*
   * Return a new Decimal whose value is the arcsine in radians of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function asin(x) {
    return new this(x).asin();
  }


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic sine of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function asinh(x) {
    return new this(x).asinh();
  }


  /*
   * Return a new Decimal whose value is the arctangent in radians of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function atan(x) {
    return new this(x).atan();
  }


  /*
   * Return a new Decimal whose value is the inverse of the hyperbolic tangent of `x`, rounded to
   * `precision` significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function atanh(x) {
    return new this(x).atanh();
  }


  /*
   * Return a new Decimal whose value is the arctangent in radians of `y/x` in the range -pi to pi
   * (inclusive), rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * Domain: [-Infinity, Infinity]
   * Range: [-pi, pi]
   *
   * y {number|string|Decimal} The y-coordinate.
   * x {number|string|Decimal} The x-coordinate.
   *
   * atan2(±0, -0)               = ±pi
   * atan2(±0, +0)               = ±0
   * atan2(±0, -x)               = ±pi for x > 0
   * atan2(±0, x)                = ±0 for x > 0
   * atan2(-y, ±0)               = -pi/2 for y > 0
   * atan2(y, ±0)                = pi/2 for y > 0
   * atan2(±y, -Infinity)        = ±pi for finite y > 0
   * atan2(±y, +Infinity)        = ±0 for finite y > 0
   * atan2(±Infinity, x)         = ±pi/2 for finite x
   * atan2(±Infinity, -Infinity) = ±3*pi/4
   * atan2(±Infinity, +Infinity) = ±pi/4
   * atan2(NaN, x) = NaN
   * atan2(y, NaN) = NaN
   *
   */
  function atan2(y, x) {
    y = new this(y);
    x = new this(x);
    var r,
      pr = this.precision,
      rm = this.rounding,
      wpr = pr + 4;

    // Either NaN
    if (!y.s || !x.s) {
      r = new this(NaN);

    // Both ±Infinity
    } else if (!y.d && !x.d) {
      r = getPi(this, wpr, 1).times(x.s > 0 ? 0.25 : 0.75);
      r.s = y.s;

    // x is ±Infinity or y is ±0
    } else if (!x.d || y.isZero()) {
      r = x.s < 0 ? getPi(this, pr, rm) : new this(0);
      r.s = y.s;

    // y is ±Infinity or x is ±0
    } else if (!y.d || x.isZero()) {
      r = getPi(this, wpr, 1).times(0.5);
      r.s = y.s;

    // Both non-zero and finite
    } else if (x.s < 0) {
      this.precision = wpr;
      this.rounding = 1;
      r = this.atan(divide(y, x, wpr, 1));
      x = getPi(this, wpr, 1);
      this.precision = pr;
      this.rounding = rm;
      r = y.s < 0 ? r.minus(x) : r.plus(x);
    } else {
      r = this.atan(divide(y, x, wpr, 1));
    }

    return r;
  }


  /*
   * Return a new Decimal whose value is the cube root of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function cbrt(x) {
    return new this(x).cbrt();
  }


  /*
   * Return a new Decimal whose value is `x` rounded to an integer using `ROUND_CEIL`.
   *
   * x {number|string|Decimal}
   *
   */
  function ceil(x) {
    return finalise(x = new this(x), x.e + 1, 2);
  }


  /*
   * Return a new Decimal whose value is `x` clamped to the range delineated by `min` and `max`.
   *
   * x {number|string|Decimal}
   * min {number|string|Decimal}
   * max {number|string|Decimal}
   *
   */
  function clamp(x, min, max) {
    return new this(x).clamp(min, max);
  }


  /*
   * Configure global settings for a Decimal constructor.
   *
   * `obj` is an object with one or more of the following properties,
   *
   *   precision  {number}
   *   rounding   {number}
   *   toExpNeg   {number}
   *   toExpPos   {number}
   *   maxE       {number}
   *   minE       {number}
   *   modulo     {number}
   *   crypto     {boolean|number}
   *   defaults   {true}
   *
   * E.g. Decimal.config({ precision: 20, rounding: 4 })
   *
   */
  function config(obj) {
    if (!obj || typeof obj !== 'object') throw Error(decimalError + 'Object expected');
    var i, p, v,
      useDefaults = obj.defaults === true,
      ps = [
        'precision', 1, MAX_DIGITS,
        'rounding', 0, 8,
        'toExpNeg', -EXP_LIMIT, 0,
        'toExpPos', 0, EXP_LIMIT,
        'maxE', 0, EXP_LIMIT,
        'minE', -EXP_LIMIT, 0,
        'modulo', 0, 9
      ];

    for (i = 0; i < ps.length; i += 3) {
      if (p = ps[i], useDefaults) this[p] = DEFAULTS[p];
      if ((v = obj[p]) !== void 0) {
        if (mathfloor(v) === v && v >= ps[i + 1] && v <= ps[i + 2]) this[p] = v;
        else throw Error(invalidArgument + p + ': ' + v);
      }
    }

    if (p = 'crypto', useDefaults) this[p] = DEFAULTS[p];
    if ((v = obj[p]) !== void 0) {
      if (v === true || v === false || v === 0 || v === 1) {
        if (v) {
          if (typeof crypto != 'undefined' && crypto &&
            (crypto.getRandomValues || crypto.randomBytes)) {
            this[p] = true;
          } else {
            throw Error(cryptoUnavailable);
          }
        } else {
          this[p] = false;
        }
      } else {
        throw Error(invalidArgument + p + ': ' + v);
      }
    }

    return this;
  }


  /*
   * Return a new Decimal whose value is the cosine of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function cos(x) {
    return new this(x).cos();
  }


  /*
   * Return a new Decimal whose value is the hyperbolic cosine of `x`, rounded to precision
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function cosh(x) {
    return new this(x).cosh();
  }


  /*
   * Create and return a Decimal constructor with the same configuration properties as this Decimal
   * constructor.
   *
   */
  function clone(obj) {
    var i, p, ps;

    /*
     * The Decimal constructor and exported function.
     * Return a new Decimal instance.
     *
     * v {number|string|Decimal} A numeric value.
     *
     */
    function Decimal(v) {
      var e, i, t,
        x = this;

      // Decimal called without new.
      if (!(x instanceof Decimal)) return new Decimal(v);

      // Retain a reference to this Decimal constructor, and shadow Decimal.prototype.constructor
      // which points to Object.
      x.constructor = Decimal;

      // Duplicate.
      if (isDecimalInstance(v)) {
        x.s = v.s;

        if (external) {
          if (!v.d || v.e > Decimal.maxE) {

            // Infinity.
            x.e = NaN;
            x.d = null;
          } else if (v.e < Decimal.minE) {

            // Zero.
            x.e = 0;
            x.d = [0];
          } else {
            x.e = v.e;
            x.d = v.d.slice();
          }
        } else {
          x.e = v.e;
          x.d = v.d ? v.d.slice() : v.d;
        }

        return;
      }

      t = typeof v;

      if (t === 'number') {
        if (v === 0) {
          x.s = 1 / v < 0 ? -1 : 1;
          x.e = 0;
          x.d = [0];
          return;
        }

        if (v < 0) {
          v = -v;
          x.s = -1;
        } else {
          x.s = 1;
        }

        // Fast path for small integers.
        if (v === ~~v && v < 1e7) {
          for (e = 0, i = v; i >= 10; i /= 10) e++;

          if (external) {
            if (e > Decimal.maxE) {
              x.e = NaN;
              x.d = null;
            } else if (e < Decimal.minE) {
              x.e = 0;
              x.d = [0];
            } else {
              x.e = e;
              x.d = [v];
            }
          } else {
            x.e = e;
            x.d = [v];
          }

          return;

        // Infinity, NaN.
        } else if (v * 0 !== 0) {
          if (!v) x.s = NaN;
          x.e = NaN;
          x.d = null;
          return;
        }

        return parseDecimal(x, v.toString());

      } else if (t !== 'string') {
        throw Error(invalidArgument + v);
      }

      // Minus sign?
      if ((i = v.charCodeAt(0)) === 45) {
        v = v.slice(1);
        x.s = -1;
      } else {
        // Plus sign?
        if (i === 43) v = v.slice(1);
        x.s = 1;
      }

      return isDecimal.test(v) ? parseDecimal(x, v) : parseOther(x, v);
    }

    Decimal.prototype = P;

    Decimal.ROUND_UP = 0;
    Decimal.ROUND_DOWN = 1;
    Decimal.ROUND_CEIL = 2;
    Decimal.ROUND_FLOOR = 3;
    Decimal.ROUND_HALF_UP = 4;
    Decimal.ROUND_HALF_DOWN = 5;
    Decimal.ROUND_HALF_EVEN = 6;
    Decimal.ROUND_HALF_CEIL = 7;
    Decimal.ROUND_HALF_FLOOR = 8;
    Decimal.EUCLID = 9;

    Decimal.config = Decimal.set = config;
    Decimal.clone = clone;
    Decimal.isDecimal = isDecimalInstance;

    Decimal.abs = abs;
    Decimal.acos = acos;
    Decimal.acosh = acosh;        // ES6
    Decimal.add = add;
    Decimal.asin = asin;
    Decimal.asinh = asinh;        // ES6
    Decimal.atan = atan;
    Decimal.atanh = atanh;        // ES6
    Decimal.atan2 = atan2;
    Decimal.cbrt = cbrt;          // ES6
    Decimal.ceil = ceil;
    Decimal.clamp = clamp;
    Decimal.cos = cos;
    Decimal.cosh = cosh;          // ES6
    Decimal.div = div;
    Decimal.exp = exp;
    Decimal.floor = floor;
    Decimal.hypot = hypot;        // ES6
    Decimal.ln = ln;
    Decimal.log = log;
    Decimal.log10 = log10;        // ES6
    Decimal.log2 = log2;          // ES6
    Decimal.max = max;
    Decimal.min = min;
    Decimal.mod = mod;
    Decimal.mul = mul;
    Decimal.pow = pow;
    Decimal.random = random;
    Decimal.round = round;
    Decimal.sign = sign;          // ES6
    Decimal.sin = sin;
    Decimal.sinh = sinh;          // ES6
    Decimal.sqrt = sqrt;
    Decimal.sub = sub;
    Decimal.sum = sum;
    Decimal.tan = tan;
    Decimal.tanh = tanh;          // ES6
    Decimal.trunc = trunc;        // ES6

    if (obj === void 0) obj = {};
    if (obj) {
      if (obj.defaults !== true) {
        ps = ['precision', 'rounding', 'toExpNeg', 'toExpPos', 'maxE', 'minE', 'modulo', 'crypto'];
        for (i = 0; i < ps.length;) if (!obj.hasOwnProperty(p = ps[i++])) obj[p] = this[p];
      }
    }

    Decimal.config(obj);

    return Decimal;
  }


  /*
   * Return a new Decimal whose value is `x` divided by `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function div(x, y) {
    return new this(x).div(y);
  }


  /*
   * Return a new Decimal whose value is the natural exponential of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} The power to which to raise the base of the natural log.
   *
   */
  function exp(x) {
    return new this(x).exp();
  }


  /*
   * Return a new Decimal whose value is `x` round to an integer using `ROUND_FLOOR`.
   *
   * x {number|string|Decimal}
   *
   */
  function floor(x) {
    return finalise(x = new this(x), x.e + 1, 3);
  }


  /*
   * Return a new Decimal whose value is the square root of the sum of the squares of the arguments,
   * rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * hypot(a, b, ...) = sqrt(a^2 + b^2 + ...)
   *
   * arguments {number|string|Decimal}
   *
   */
  function hypot() {
    var i, n,
      t = new this(0);

    external = false;

    for (i = 0; i < arguments.length;) {
      n = new this(arguments[i++]);
      if (!n.d) {
        if (n.s) {
          external = true;
          return new this(1 / 0);
        }
        t = n;
      } else if (t.d) {
        t = t.plus(n.times(n));
      }
    }

    external = true;

    return t.sqrt();
  }


  /*
   * Return true if object is a Decimal instance (where Decimal is any Decimal constructor),
   * otherwise return false.
   *
   */
  function isDecimalInstance(obj) {
    return obj instanceof Decimal || obj && obj.toStringTag === tag || false;
  }


  /*
   * Return a new Decimal whose value is the natural logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function ln(x) {
    return new this(x).ln();
  }


  /*
   * Return a new Decimal whose value is the log of `x` to the base `y`, or to base 10 if no base
   * is specified, rounded to `precision` significant digits using rounding mode `rounding`.
   *
   * log[y](x)
   *
   * x {number|string|Decimal} The argument of the logarithm.
   * y {number|string|Decimal} The base of the logarithm.
   *
   */
  function log(x, y) {
    return new this(x).log(y);
  }


  /*
   * Return a new Decimal whose value is the base 2 logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function log2(x) {
    return new this(x).log(2);
  }


  /*
   * Return a new Decimal whose value is the base 10 logarithm of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function log10(x) {
    return new this(x).log(10);
  }


  /*
   * Return a new Decimal whose value is the maximum of the arguments.
   *
   * arguments {number|string|Decimal}
   *
   */
  function max() {
    return maxOrMin(this, arguments, 'lt');
  }


  /*
   * Return a new Decimal whose value is the minimum of the arguments.
   *
   * arguments {number|string|Decimal}
   *
   */
  function min() {
    return maxOrMin(this, arguments, 'gt');
  }


  /*
   * Return a new Decimal whose value is `x` modulo `y`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function mod(x, y) {
    return new this(x).mod(y);
  }


  /*
   * Return a new Decimal whose value is `x` multiplied by `y`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function mul(x, y) {
    return new this(x).mul(y);
  }


  /*
   * Return a new Decimal whose value is `x` raised to the power `y`, rounded to precision
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} The base.
   * y {number|string|Decimal} The exponent.
   *
   */
  function pow(x, y) {
    return new this(x).pow(y);
  }


  /*
   * Returns a new Decimal with a random value equal to or greater than 0 and less than 1, and with
   * `sd`, or `Decimal.precision` if `sd` is omitted, significant digits (or less if trailing zeros
   * are produced).
   *
   * [sd] {number} Significant digits. Integer, 0 to MAX_DIGITS inclusive.
   *
   */
  function random(sd) {
    var d, e, k, n,
      i = 0,
      r = new this(1),
      rd = [];

    if (sd === void 0) sd = this.precision;
    else checkInt32(sd, 1, MAX_DIGITS);

    k = Math.ceil(sd / LOG_BASE);

    if (!this.crypto) {
      for (; i < k;) rd[i++] = Math.random() * 1e7 | 0;

    // Browsers supporting crypto.getRandomValues.
    } else if (crypto.getRandomValues) {
      d = crypto.getRandomValues(new Uint32Array(k));

      for (; i < k;) {
        n = d[i];

        // 0 <= n < 4294967296
        // Probability n >= 4.29e9, is 4967296 / 4294967296 = 0.00116 (1 in 865).
        if (n >= 4.29e9) {
          d[i] = crypto.getRandomValues(new Uint32Array(1))[0];
        } else {

          // 0 <= n <= 4289999999
          // 0 <= (n % 1e7) <= 9999999
          rd[i++] = n % 1e7;
        }
      }

    // Node.js supporting crypto.randomBytes.
    } else if (crypto.randomBytes) {

      // buffer
      d = crypto.randomBytes(k *= 4);

      for (; i < k;) {

        // 0 <= n < 2147483648
        n = d[i] + (d[i + 1] << 8) + (d[i + 2] << 16) + ((d[i + 3] & 0x7f) << 24);

        // Probability n >= 2.14e9, is 7483648 / 2147483648 = 0.0035 (1 in 286).
        if (n >= 2.14e9) {
          crypto.randomBytes(4).copy(d, i);
        } else {

          // 0 <= n <= 2139999999
          // 0 <= (n % 1e7) <= 9999999
          rd.push(n % 1e7);
          i += 4;
        }
      }

      i = k / 4;
    } else {
      throw Error(cryptoUnavailable);
    }

    k = rd[--i];
    sd %= LOG_BASE;

    // Convert trailing digits to zeros according to sd.
    if (k && sd) {
      n = mathpow(10, LOG_BASE - sd);
      rd[i] = (k / n | 0) * n;
    }

    // Remove trailing words which are zero.
    for (; rd[i] === 0; i--) rd.pop();

    // Zero?
    if (i < 0) {
      e = 0;
      rd = [0];
    } else {
      e = -1;

      // Remove leading words which are zero and adjust exponent accordingly.
      for (; rd[0] === 0; e -= LOG_BASE) rd.shift();

      // Count the digits of the first word of rd to determine leading zeros.
      for (k = 1, n = rd[0]; n >= 10; n /= 10) k++;

      // Adjust the exponent for leading zeros of the first word of rd.
      if (k < LOG_BASE) e -= LOG_BASE - k;
    }

    r.e = e;
    r.d = rd;

    return r;
  }


  /*
   * Return a new Decimal whose value is `x` rounded to an integer using rounding mode `rounding`.
   *
   * To emulate `Math.round`, set rounding to 7 (ROUND_HALF_CEIL).
   *
   * x {number|string|Decimal}
   *
   */
  function round(x) {
    return finalise(x = new this(x), x.e + 1, this.rounding);
  }


  /*
   * Return
   *   1    if x > 0,
   *  -1    if x < 0,
   *   0    if x is 0,
   *  -0    if x is -0,
   *   NaN  otherwise
   *
   * x {number|string|Decimal}
   *
   */
  function sign(x) {
    x = new this(x);
    return x.d ? (x.d[0] ? x.s : 0 * x.s) : x.s || NaN;
  }


  /*
   * Return a new Decimal whose value is the sine of `x`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function sin(x) {
    return new this(x).sin();
  }


  /*
   * Return a new Decimal whose value is the hyperbolic sine of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function sinh(x) {
    return new this(x).sinh();
  }


  /*
   * Return a new Decimal whose value is the square root of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   *
   */
  function sqrt(x) {
    return new this(x).sqrt();
  }


  /*
   * Return a new Decimal whose value is `x` minus `y`, rounded to `precision` significant digits
   * using rounding mode `rounding`.
   *
   * x {number|string|Decimal}
   * y {number|string|Decimal}
   *
   */
  function sub(x, y) {
    return new this(x).sub(y);
  }


  /*
   * Return a new Decimal whose value is the sum of the arguments, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * Only the result is rounded, not the intermediate calculations.
   *
   * arguments {number|string|Decimal}
   *
   */
  function sum() {
    var i = 0,
      args = arguments,
      x = new this(args[i]);

    external = false;
    for (; x.s && ++i < args.length;) x = x.plus(args[i]);
    external = true;

    return finalise(x, this.precision, this.rounding);
  }


  /*
   * Return a new Decimal whose value is the tangent of `x`, rounded to `precision` significant
   * digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function tan(x) {
    return new this(x).tan();
  }


  /*
   * Return a new Decimal whose value is the hyperbolic tangent of `x`, rounded to `precision`
   * significant digits using rounding mode `rounding`.
   *
   * x {number|string|Decimal} A value in radians.
   *
   */
  function tanh(x) {
    return new this(x).tanh();
  }


  /*
   * Return a new Decimal whose value is `x` truncated to an integer.
   *
   * x {number|string|Decimal}
   *
   */
  function trunc(x) {
    return finalise(x = new this(x), x.e + 1, 1);
  }


  // Create and configure initial Decimal constructor.
  Decimal = clone(DEFAULTS);
  Decimal.prototype.constructor = Decimal;
  Decimal['default'] = Decimal.Decimal = Decimal;

  // Create the internal constants from their string values.
  LN10 = new Decimal(LN10);
  PI = new Decimal(PI);


  // Export.


  // AMD.
  if (true) {
    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
      return Decimal;
    }).call(exports, __webpack_require__, exports, module),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

  // Node and other environments that support module.exports.
  } else {}
})(this);


/***/ }),

/***/ "./node_modules/jsxgraph/distrib/jsxgraphcore.js":
/*!*******************************************************!*\
  !*** ./node_modules/jsxgraph/distrib/jsxgraphcore.js ***!
  \*******************************************************/
/***/ (function(module, exports, __webpack_require__) {

/* module decorator */ module = __webpack_require__.nmd(module);
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*
    JSXGraph 1.4.4

    Copyright 2008-2022
        Matthias Ehmann,
        Michael Gerhaeuser,
        Carsten Miller,
        Bianca Valentin,
        Andreas Walter,
        Alfred Wassermann,
        Peter Wilfahrt

    This file is part of JSXGraph.

    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.

    You can redistribute it and/or modify it under the terms of the

      * GNU Lesser General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version
      OR
      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT

    JSXGraph is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License and
    the MIT License along with JSXGraph. If not, see <https://www.gnu.org/licenses/>
    and <https://opensource.org/licenses/MIT/>.
*/

/**
 * almond 0.2.5 Copyright (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: https://github.com/jrburke/almond for details
 */

/**
 * UTF-8 Decoder by Bjoern Hoehrmann
 *
 * Copyright (c) 2008-2009 Bjoern Hoehrmann <bjoern@hoehrmann.de>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this
 * software and associated documentation files (the "Software"), to deal in the Software
 * without restriction, including without limitation the rights to use, copy, modify, merge,
 * publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons
 * to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or
 * substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING
 * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(t,e){ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (e),
		__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
		(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
		__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):0}("undefined"!=typeof self?self:this,(function(){
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */
var requirejs,require,define;return function(t){var e,i,r,s,o={},n={},a={},h={},l=Object.prototype.hasOwnProperty,c=[].slice,d=/\.js$/;function u(t,e){return l.call(t,e)}function p(t,e){var i,r,s,o,n,h,l,c,u,p,f,m=e&&e.split("/"),g=a.map,b=g&&g["*"]||{};if(t){for(n=(t=t.split("/")).length-1,a.nodeIdCompat&&d.test(t[n])&&(t[n]=t[n].replace(d,"")),"."===t[0].charAt(0)&&m&&(t=m.slice(0,m.length-1).concat(t)),u=0;u<t.length;u++)if("."===(f=t[u]))t.splice(u,1),u-=1;else if(".."===f){if(0===u||1===u&&".."===t[2]||".."===t[u-1])continue;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}if((m||b)&&g){for(u=(i=t.split("/")).length;u>0;u-=1){if(r=i.slice(0,u).join("/"),m)for(p=m.length;p>0;p-=1)if((s=g[m.slice(0,p).join("/")])&&(s=s[r])){o=s,h=u;break}if(o)break;!l&&b&&b[r]&&(l=b[r],c=u)}!o&&l&&(o=l,h=c),o&&(i.splice(0,h,o),t=i.join("/"))}return t}function f(e,r){return function(){var s=c.call(arguments,0);return"string"!=typeof s[0]&&1===s.length&&s.push(null),i.apply(t,s.concat([e,r]))}}function m(t){return function(e){o[t]=e}}function g(i){if(u(n,i)){var r=n[i];delete n[i],h[i]=!0,e.apply(t,r)}if(!u(o,i)&&!u(h,i))throw new Error("No "+i);return o[i]}function b(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function v(t){return t?b(t):[]}function y(t){return function(){return a&&a.config&&a.config[t]||{}}}r=function(t,e){var i,r,s=b(t),o=s[0],n=e[1];return t=s[1],o&&(i=g(o=p(o,n))),o?t=i&&i.normalize?i.normalize(t,(r=n,function(t){return p(t,r)})):p(t,n):(o=(s=b(t=p(t,n)))[0],t=s[1],o&&(i=g(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},s={require:function(t){return f(t)},exports:function(t){var e=o[t];return void 0!==e?e:o[t]={}},module:function(t){return{id:t,uri:"",exports:o[t],config:y(t)}}},e=function(e,i,a,l){var c,d,p,b,y,C,_,P=[],E=typeof a;if(C=v(l=l||e),"undefined"===E||"function"===E){for(i=!i.length&&a.length?["require","exports","module"]:i,y=0;y<i.length;y+=1)if("require"===(d=(b=r(i[y],C)).f))P[y]=s.require(e);else if("exports"===d)P[y]=s.exports(e),_=!0;else if("module"===d)c=P[y]=s.module(e);else if(u(o,d)||u(n,d)||u(h,d))P[y]=g(d);else{if(!b.p)throw new Error(e+" missing "+d);b.p.load(b.n,f(l,!0),m(d),{}),P[y]=o[d]}p=a?a.apply(o[e],P):void 0,e&&(c&&c.exports!==t&&c.exports!==o[e]?o[e]=c.exports:p===t&&_||(o[e]=p))}else e&&(o[e]=a)},requirejs=require=i=function(o,n,h,l,c){if("string"==typeof o)return s[o]?s[o](n):g(r(o,v(n)).f);if(!o.splice){if((a=o).deps&&i(a.deps,a.callback),!n)return;n.splice?(o=n,n=h,h=null):o=t}return n=n||function(){},"function"==typeof h&&(h=l,l=c),l?e(t,o,n,h):setTimeout((function(){e(t,o,n,h)}),4),i},i.config=function(t){return i(t)},requirejs._defined=o,(define=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),u(o,t)||u(n,t)||(n[t]=[t,e,i])}).amd={jQuery:!0}}(),define("../node_modules/almond/almond",(function(){})),define("jxg",[],(function(){"use strict";var t={};return"object"!=typeof JXG||JXG.extend||(t=JXG),t.extend=function(t,e,i,r){var s;for(s in i=i||!1,r=r||!1,e)(!i||i&&e.hasOwnProperty(s))&&(t[r?s.toLowerCase():s]=e[s])},t.defineConstant=function(e,i,r,s){(s=s||!1)&&t.exists(e[i])||Object.defineProperty(e,i,{value:r,writable:!1,enumerable:!0,configurable:!1})},t.extendConstants=function(t,e,i,r){var s,o;for(s in i=i||!1,r=r||!1,e)(!i||i&&e.hasOwnProperty(s))&&(o=r?s.toUpperCase():s,this.defineConstant(t,o,e[s]))},t.extend(t,{boards:{},readers:{},elements:{},registerElement:function(t,e){t=t.toLowerCase(),this.elements[t]=e},registerReader:function(t,e){var i,r;for(i=0;i<e.length;i++)r=e[i].toLowerCase(),"function"!=typeof this.readers[r]&&(this.readers[r]=t)},shortcut:function(t,e){return function(){return t[e].apply(this,arguments)}},getRef:function(e,i){return t.deprecated("JXG.getRef()","Board.select()"),e.select(i)},getReference:function(e,i){return t.deprecated("JXG.getReference()","Board.select()"),e.select(i)},getBoardByContainerId:function(t){var e;for(e in JXG.boards)if(JXG.boards.hasOwnProperty(e)&&JXG.boards[e].container===t)return JXG.boards[e];return null},deprecated:function(e,i){var r=e+" is deprecated.";i&&(r+=" Please use "+i+" instead."),t.warn(r)},warn:function(t){"object"==typeof window&&window.console&&console.warn?console.warn("WARNING:",t):"object"==typeof document&&document.getElementById("warning")&&(document.getElementById("debug").innerHTML+="WARNING: "+t+"<br />")},debugInt:function(t){var e,i;for(e=0;e<arguments.length;e++)i=arguments[e],"object"==typeof window&&window.console&&console.log?console.log(i):"object"==typeof document&&document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=i+"<br/>")},debugWST:function(e){var i=new Error;t.debugInt.apply(this,arguments),i&&i.stack&&(t.debugInt("stacktrace"),t.debugInt(i.stack.split("\n").slice(1).join("\n")))},debugLine:function(e){var i=new Error;t.debugInt.apply(this,arguments),i&&i.stack&&t.debugInt("Called from",i.stack.split("\n").slice(2,3).join("\n"))},debug:function(e){t.debugInt.apply(this,arguments)}}),t})),define("base/constants",["jxg"],(function(t){"use strict";var e,i="1.4.4";return e={version:i,licenseText:"JSXGraph v1.4.4 Copyright (C) see https://jsxgraph.org",COORDS_BY_USER:1,COORDS_BY_SCREEN:2,OBJECT_TYPE_ARC:1,OBJECT_TYPE_ARROW:2,OBJECT_TYPE_AXIS:3,OBJECT_TYPE_AXISPOINT:4,OBJECT_TYPE_TICKS:5,OBJECT_TYPE_CIRCLE:6,OBJECT_TYPE_CONIC:7,OBJECT_TYPE_CURVE:8,OBJECT_TYPE_GLIDER:9,OBJECT_TYPE_IMAGE:10,OBJECT_TYPE_LINE:11,OBJECT_TYPE_POINT:12,OBJECT_TYPE_SLIDER:13,OBJECT_TYPE_CAS:14,OBJECT_TYPE_GXTCAS:15,OBJECT_TYPE_POLYGON:16,OBJECT_TYPE_SECTOR:17,OBJECT_TYPE_TEXT:18,OBJECT_TYPE_ANGLE:19,OBJECT_TYPE_INTERSECTION:20,OBJECT_TYPE_TURTLE:21,OBJECT_TYPE_VECTOR:22,OBJECT_TYPE_OPROJECT:23,OBJECT_TYPE_GRID:24,OBJECT_TYPE_TANGENT:25,OBJECT_TYPE_HTMLSLIDER:26,OBJECT_TYPE_CHECKBOX:27,OBJECT_TYPE_INPUT:28,OBJECT_TYPE_BUTTON:29,OBJECT_TYPE_TRANSFORMATION:30,OBJECT_TYPE_FOREIGNOBJECT:31,OBJECT_TYPE_VIEW3D:32,OBJECT_CLASS_POINT:1,OBJECT_CLASS_LINE:2,OBJECT_CLASS_CIRCLE:3,OBJECT_CLASS_CURVE:4,OBJECT_CLASS_AREA:5,OBJECT_CLASS_OTHER:6,OBJECT_CLASS_TEXT:7,GENTYPE_ABC:1,GENTYPE_AXIS:2,GENTYPE_MID:3,GENTYPE_REFLECTION:4,GENTYPE_MIRRORELEMENT:5,GENTYPE_REFLECTION_ON_LINE:4,GENTYPE_REFLECTION_ON_POINT:5,GENTYPE_TANGENT:6,GENTYPE_PARALLEL:7,GENTYPE_BISECTORLINES:8,GENTYPE_BOARDIMG:9,GENTYPE_BISECTOR:10,GENTYPE_NORMAL:11,GENTYPE_POINT:12,GENTYPE_GLIDER:13,GENTYPE_INTERSECTION:14,GENTYPE_CIRCLE:15,GENTYPE_CIRCLE2POINTS:16,GENTYPE_LINE:17,GENTYPE_TRIANGLE:18,GENTYPE_QUADRILATERAL:19,GENTYPE_TEXT:20,GENTYPE_POLYGON:21,GENTYPE_REGULARPOLYGON:22,GENTYPE_SECTOR:23,GENTYPE_ANGLE:24,GENTYPE_PLOT:25,GENTYPE_SLIDER:26,GENTYPE_TRUNCATE:27,GENTYPE_JCODE:28,GENTYPE_MOVEMENT:29,GENTYPE_COMBINED:30,GENTYPE_RULER:31,GENTYPE_SLOPETRIANGLE:32,GENTYPE_PERPSEGMENT:33,GENTYPE_LABELMOVEMENT:34,GENTYPE_VECTOR:35,GENTYPE_NONREFLEXANGLE:36,GENTYPE_REFLEXANGLE:37,GENTYPE_PATH:38,GENTYPE_DERIVATIVE:39,GENTYPE_DELETE:41,GENTYPE_COPY:42,GENTYPE_MIRROR:43,GENTYPE_ROTATE:44,GENTYPE_ABLATION:45,GENTYPE_MIGRATE:46,GENTYPE_VECTORCOPY:47,GENTYPE_POLYGONCOPY:48,GENTYPE_CTX_TYPE_G:51,GENTYPE_CTX_TYPE_P:52,GENTYPE_CTX_TRACE:53,GENTYPE_CTX_VISIBILITY:54,GENTYPE_CTX_CCVISIBILITY:55,GENTYPE_CTX_MPVISIBILITY:56,GENTYPE_CTX_WITHLABEL:57,GENTYPE_CTX_LABEL:58,GENTYPE_CTX_FIXED:59,GENTYPE_CTX_STROKEWIDTH:60,GENTYPE_CTX_LABELSIZE:61,GENTYPE_CTX_SIZE:62,GENTYPE_CTX_FACE:63,GENTYPE_CTX_STRAIGHT:64,GENTYPE_CTX_ARROW:65,GENTYPE_CTX_COLOR:66,GENTYPE_CTX_RADIUS:67,GENTYPE_CTX_COORDS:68,GENTYPE_CTX_TEXT:69,GENTYPE_CTX_ANGLERADIUS:70,GENTYPE_CTX_DOTVISIBILITY:71,GENTYPE_CTX_FILLOPACITY:72,GENTYPE_CTX_PLOT:73,GENTYPE_CTX_SCALE:74,GENTYPE_CTX_INTVAL:75,GENTYPE_CTX_POINT1:76,GENTYPE_CTX_POINT2:77,GENTYPE_CTX_LABELSTICKY:78,GENTYPE_CTX_TYPE_I:79,GENTYPE_CTX_HASINNERPOINTS:80,GENTYPE_CTX_SNAPWIDTH:81,GENTYPE_CTX_SNAPTOGRID:82},t.extendConstants(t,e),e})),define("utils/type",["jxg","base/constants"],(function(t,e){"use strict";return t.extend(t,{isId:function(t,e){return"string"==typeof e&&!!t.objects[e]},isName:function(t,e){return"string"==typeof e&&!!t.elementsByName[e]},isGroup:function(t,e){return"string"==typeof e&&!!t.groups[e]},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t||"[Object Number]"===Object.prototype.toString.call(t)},isFunction:function(t){return"function"==typeof t},isArray:function(t){return Array.isArray?Array.isArray(t):null!==t&&"object"==typeof t&&"function"==typeof t.splice&&"function"==typeof t.join},isObject:function(t){return"object"==typeof t&&!this.isArray(t)},isPoint:function(t){return null!==t&&"object"==typeof t&&t.elementClass===e.OBJECT_CLASS_POINT},isPointType:function(t,e){var i,r;return!!this.isArray(e)||(!!(this.isFunction(e)&&(i=e(),this.isArray(i)&&i.length>1))||(r=t.select(e),this.isPoint(r)))},isTransformationOrArray:function(t){if(null!==t){if(this.isArray(t)&&t.length>0)return this.isTransformationOrArray(t[0]);if("object"==typeof t)return t.type===e.OBJECT_TYPE_TRANSFORMATION}return!1},exists:function(t,e){var i=!(null==t||null===t);return(e=e||!1)?i&&""!==t:i},isEmpty:function(t){return 0===Object.keys(t).length},def:function(t,e){return this.exists(t)?t:e},str2Bool:function(t){return!this.exists(t)||("boolean"==typeof t?t:!!this.isString(t)&&"true"===t.toLowerCase())},createEvalFunction:function(e,i,r){var s,o=[];for(s=0;s<r;s++)o[s]=t.createFunction(i[s],e,"",!0);return function(t){return o[t]()}},createFunction:function(t,e,i,r){var s=null;return this.exists(r)&&!r||!this.isString(t)?this.isFunction(t)?s=t:(this.isNumber(t)||this.isString(t))&&(s=function(){return t}):s=e.jc.snippet(t,!0,i,!0),null!==s&&(s.origin=t),s},providePoints:function(t,e,i,r,s){var o,n,a,h,l,c=0,d=[];for(this.isArray(e)||(e=[e]),a=e.length,this.exists(s)&&(c=s.length),0===c&&(h=this.copyAttributes(i,t.options,r)),o=0;o<a;++o)if(c>0&&(n=Math.min(o,c-1),h=this.copyAttributes(i,t.options,r,s[n])),this.isArray(e[o])&&e[o].length>1?(d.push(t.create("point",e[o],h)),d[d.length-1]._is_new=!0):this.isFunction(e[o])?(l=e[o](),this.isArray(l)&&l.length>1&&(d.push(t.create("point",[e[o]],h)),d[d.length-1]._is_new=!0)):d.push(t.select(e[o])),!this.isPoint(d[o]))return!1;return d},bind:function(t,e){return function(){return t.apply(e,arguments)}},evaluate:function(t){return this.isFunction(t)?t():t},indexOf:function(t,e,i){var r,s=this.exists(i);if(Array.indexOf&&!s)return t.indexOf(e);for(r=0;r<t.length;r++)if(s&&t[r][i]===e||!s&&t[r]===e)return r;return-1},eliminateDuplicates:function(t){var e,i=t.length,r=[],s={};for(e=0;e<i;e++)s[t[e]]=0;for(e in s)s.hasOwnProperty(e)&&r.push(e);return r},swap:function(t,e,i){var r;return r=t[e],t[e]=t[i],t[i]=r,t},uniqueArray:function(e){var i,r,s,o=[];if(0===e.length)return[];for(i=0;i<e.length;i++)if(s=this.isArray(e[i]),this.exists(e[i]))for(r=i+1;r<e.length;r++)s&&t.cmpArrays(e[i],e[r])?e[i]=[]:s||e[i]!==e[r]||(e[i]="");else e[i]="";for(r=0,i=0;i<e.length;i++)(s=this.isArray(e[i]))||""===e[i]?s&&0!==e[i].length&&(o[r]=e[i].slice(0),r++):(o[r]=e[i],r++);return e=o,o},isInArray:function(e,i){return t.indexOf(e,i)>-1},coordsArrayToMatrix:function(t,e){var i,r=[],s=[];for(i=0;i<t.length;i++)e?(r.push(t[i].usrCoords[1]),s.push(t[i].usrCoords[2])):s.push([t[i].usrCoords[1],t[i].usrCoords[2]]);return e&&(s=[r,s]),s},cmpArrays:function(t,e){var i;if(t===e)return!0;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(this.isArray(t[i])&&this.isArray(e[i])){if(!this.cmpArrays(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0},removeElementFromArray:function(t,e){var i;for(i=0;i<t.length;i++)if(t[i]===e)return t.splice(i,1),t;return t},trunc:function(e,i){return i=t.def(i,0),this.toFixed(e,i)},_decimalAdjust:function(t,e,i){return void 0===i||0==+i?Math[t](e):(e=+e,i=+i,isNaN(e)||"number"!=typeof i||i%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-i:-i)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+i:i))))},_round10:function(t,e){return this._decimalAdjust("round",t,e)},_floor10:function(t,e){return this._decimalAdjust("floor",t,e)},_ceil10:function(t,e){return this._decimalAdjust("ceil",t,e)},toFixed:function(t,e){return this._round10(t,-e).toFixed(e)},autoDigits:function(t){var e=Math.abs(t);return e>.1?this.toFixed(t,2):e>=.01?this.toFixed(t,4):e>=1e-4?this.toFixed(t,6):t},keys:function(t,e){var i,r=[];for(i in t)e?t.hasOwnProperty(i)&&r.push(i):r.push(i);return r},clone:function(t){var e={};return e.prototype=t,e},cloneAndCopy:function(t,e){var i,r=function(){};for(i in r.prototype=t,e)r[i]=e[i];return r},merge:function(t,e){var i,r;for(i in e)if(e.hasOwnProperty(i))if(this.isArray(e[i]))for(t[i]||(t[i]=[]),r=0;r<e[i].length;r++)"object"==typeof e[i][r]?t[i][r]=this.merge(t[i][r],e[i][r]):t[i][r]=e[i][r];else"object"==typeof e[i]?(t[i]||(t[i]={}),t[i]=this.merge(t[i],e[i])):t[i]=e[i];return t},deepCopy:function(t,e,i){var r,s,o,n;if(i=i||!1,"object"!=typeof t||null===t)return t;if(this.isArray(t))for(r=[],s=0;s<t.length;s++)"object"==typeof(o=t[s])?this.exists(o.board)?r[s]=o.id:r[s]=this.deepCopy(o):r[s]=o;else{for(s in r={},t)t.hasOwnProperty(s)&&(n=i?s.toLowerCase():s,null!==(o=t[s])&&"object"==typeof o?this.exists(o.board)?r[n]=o.id:r[n]=this.deepCopy(o):r[n]=o);for(s in e)e.hasOwnProperty(s)&&(n=i?s.toLowerCase():s,"object"==typeof(o=e[s])?this.isArray(o)||!this.exists(r[n])?r[n]=this.deepCopy(o):r[n]=this.deepCopy(r[n],o,i):r[n]=o)}return r},copyAttributes:function(e,i,r){var s,o,n,a,h,l={circle:1,curve:1,image:1,line:1,point:1,polygon:1,text:1,ticks:1,integral:1};for(s=(n=arguments.length)<3||l[r]?t.deepCopy(i.elements,null,!0):{},n<4&&this.exists(r)&&this.exists(i.layer[r])&&(s.layer=i.layer[r]),a=i,h=!0,o=2;o<n;o++){if(!this.exists(a[arguments[o]])){h=!1;break}a=a[arguments[o]]}for(h&&(s=t.deepCopy(s,a,!0)),a="object"==typeof e?e:{},h=!0,o=3;o<n;o++){if(!this.exists(a[arguments[o]])){h=!1;break}a=a[arguments[o]]}if(h&&this.extend(s,a,null,!0),"board"===arguments[2])return s;for(a=i,h=!0,o=2;o<n;o++){if(!this.exists(a[arguments[o]])){h=!1;break}a=a[arguments[o]]}return h&&this.exists(a.label)&&(s.label=t.deepCopy(a.label,s.label)),s.label=t.deepCopy(i.label,s.label),s},copyPrototypeMethods:function(t,e,i){var r;for(r in t.prototype[i]=e.prototype.constructor,e.prototype)e.prototype.hasOwnProperty(r)&&(t.prototype[r]=e.prototype[r])},toJSON:function(e,i){var r,s,o,n;if(i=t.def(i,!1),JSON.stringify&&!i)try{return JSON.stringify(e)}catch(t){}switch(typeof e){case"object":if(e){if(r=[],this.isArray(e)){for(o=0;o<e.length;o++)r.push(t.toJSON(e[o],i));return"["+r.join(",")+"]"}for(s in e)if(e.hasOwnProperty(s)){try{n=t.toJSON(e[s],i)}catch(t){n=""}i?r.push(s+":"+n):r.push('"'+s+'":'+n)}return"{"+r.join(",")+"} "}return"null";case"string":return"'"+e.replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return e.toString()}return"0"},clearVisPropOld:function(t){return t.visPropOld={cssclass:"",cssdefaultstyle:"",cssstyle:"",fillcolor:"",fillopacity:"",firstarrow:!1,fontsize:-1,lastarrow:!1,left:-1e5,linecap:"",shadow:!1,strokecolor:"",strokeopacity:"",strokewidth:"",tabindex:-1e5,transitionduration:0,top:-1e5,visible:null},t},isInObject:function(t,e){var i;for(i in t)if(t.hasOwnProperty(i)&&t[i]===e)return!0;return!1},escapeHTML:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(t){return t.replace(/<\/?[^>]+>/gi,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},capitalize:function(t){return t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()},trimNumber:function(t){return"."!==(t=(t=t.replace(/^0+/,"")).replace(/0+$/,""))[t.length-1]&&","!==t[t.length-1]||(t=t.slice(0,-1)),"."!==t[0]&&","!==t[0]||(t="0"+t),t},filterElements:function(t,e){var i,r,s,o,n,a,h,l=t.length,c=[];if("function"!=typeof e&&"object"!=typeof e)return c;for(i=0;i<l;i++){if(h=!0,s=t[i],"object"==typeof e){for(r in e)if(e.hasOwnProperty(r)&&(o=r.toLowerCase(),n="function"==typeof s[r]?s[r]():s[r],a=s.visProp&&"function"==typeof s.visProp[o]?s.visProp[o]():s.visProp&&s.visProp[o],!(h="function"==typeof e[r]?e[r](n)||e[r](a):n===e[r]||a===e[r])))break}else"function"==typeof e&&(h=e(s));h&&c.push(s)}return c},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},sanitizeHTML:function(t,e){return"function"==typeof html_sanitize&&e?html_sanitize(t,(function(){}),(function(t){return t})):(t&&"string"==typeof t&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;")),t)},evalSlider:function(t){return t&&t.type===e.OBJECT_TYPE_GLIDER&&"function"==typeof t.Value?t.Value():t}}),t})),define("utils/env",["jxg","utils/type"],(function(t,e){"use strict";return t.extendConstants(t,{touchProperty:"touches"}),t.extend(t,{isTouchEvent:function(e){return t.exists(e[t.touchProperty])},isPointerEvent:function(e){return t.exists(e.pointerId)},isMouseEvent:function(e){return!t.isTouchEvent(e)&&!t.isPointerEvent(e)},getNumberOfTouchPoints:function(e){var i=-1;return t.isTouchEvent(e)&&(i=e[t.touchProperty].length),i},isFirstTouch:function(e){var i=t.getNumberOfTouchPoints(e);return t.isPointerEvent(e)?e.isPrimary:1===i},isBrowser:"object"==typeof window&&"object"==typeof document,supportsES6:function(){try{return new Function("(a = 0) => a"),!0}catch(t){return!1}},supportsVML:function(){return this.isBrowser&&!!document.namespaces},supportsSVG:function(){return this.isBrowser&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},supportsCanvas:function(){var t=!1;if(this.isNode())try{t=!!( true?__webpack_require__(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'canvas'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())):0)}catch(t){}return t||this.isBrowser&&!!document.createElement("canvas").getContext},isNode:function(){return!this.isBrowser&&( true&&!!module.exports||"object"==typeof __webpack_require__.g&&__webpack_require__.g.requirejsVars&&!__webpack_require__.g.requirejsVars.isBrowser)},isWebWorker:function(){return!this.isBrowser&&"object"==typeof self&&"function"==typeof self.postMessage},supportsPointerEvents:function(){return!!(this.isBrowser&&window.navigator&&(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled))},isTouchDevice:function(){return this.isBrowser&&void 0!==window.ontouchstart},isAndroid:function(){return e.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")>-1},isWebkitAndroid:function(){return this.isAndroid()&&navigator.userAgent.indexOf(" AppleWebKit/")>-1},isApple:function(){return e.exists(navigator)&&(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)},isWebkitApple:function(){return this.isApple()&&navigator.userAgent.search(/Mobile\/[0-9A-Za-z.]*Safari/)>-1},isMetroApp:function(){return"object"==typeof window&&window.clientInformation&&window.clientInformation.appVersion&&window.clientInformation.appVersion.indexOf("MSAppHost")>-1},isMozilla:function(){return e.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("apple")},isFirefoxOS:function(){return e.exists(navigator)&&-1===navigator.userAgent.toLowerCase().indexOf("android")&&-1===navigator.userAgent.toLowerCase().indexOf("apple")&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1},ieVersion:function(){var t,e,i=3;if("object"!=typeof document)return 0;e=(t=document.createElement("div")).getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++i+"]><i></i><![endif]--\x3e"}while(e[0]);return i>4?i:void 0}(),getDimensions:function(t,i){var r,s,o,n,a,h,l,c,d,u=/\d+(\.\d*)?px/;if(!this.isBrowser||null===t)return{width:500,height:500};if(r=(i=i||document).getElementById(t),!e.exists(r))throw new Error("\nJSXGraph: HTML container element '"+t+"' not found.");return"none"!==(s=r.style.display)&&null!==s?r.clientWidth>0&&r.clientHeight>0?{width:r.clientWidth,height:r.clientHeight}:(d=window.getComputedStyle?window.getComputedStyle(r):r.style,{width:u.test(d.width)?parseFloat(d.width):0,height:u.test(d.height)?parseFloat(d.height):0}):(n=(o=r.style).visibility,a=o.position,h=o.display,o.visibility="hidden",o.position="absolute",o.display="block",l=r.clientWidth,c=r.clientHeight,o.display=h,o.position=a,o.visibility=n,{width:l,height:c})},addEvent:function(t,i,r,s){var o=function(){return r.apply(s,arguments)};o.origin=r,s["x_internal"+i]=s["x_internal"+i]||[],s["x_internal"+i].push(o),e.exists(t)&&e.exists(t.addEventListener)&&t.addEventListener(i,o,!1),e.exists(t)&&e.exists(t.attachEvent)&&t.attachEvent("on"+i,o)},removeEvent:function(i,r,s,o){var n;if(e.exists(o))if(e.exists(o["x_internal"+r]))if(e.isArray(o["x_internal"+r]))if(-1!==(n=e.indexOf(o["x_internal"+r],s,"origin"))){try{e.exists(i)&&e.exists(i.removeEventListener)&&i.removeEventListener(r,o["x_internal"+r][n],!1),e.exists(i)&&e.exists(i.detachEvent)&&i.detachEvent("on"+r,o["x_internal"+r][n])}catch(e){t.debug("event not registered in browser: ("+r+" -- "+s+")")}o["x_internal"+r].splice(n,1)}else t.debug("removeEvent: no such event function in internal list: "+s);else t.debug("owner[x_internal + "+r+"] is not an array");else t.debug("no such type: "+r);else t.debug("no such owner")},removeAllEvents:function(e,i,r){var s;if(r["x_internal"+i]){for(s=r["x_internal"+i].length-1;s>=0;s--)t.removeEvent(e,i,r["x_internal"+i][s].origin,r);r["x_internal"+i].length>0&&t.debug("removeAllEvents: Not all events could be removed.")}},getPosition:function(i,r,s){var o,n,a,h=0,l=0;if(i||(i=window.event),s=s||document,a=i[t.touchProperty],e.exists(a)&&0===a.length&&(a=i.changedTouches),e.exists(r)&&e.exists(a))if(-1===r){for(n=a.length,o=0;o<n;o++)if(a[o]){i=a[o];break}}else i=a[r];return i.clientX&&(h=i.clientX,l=i.clientY),[h,l]},getOffset:function(t){var e,i=t,r=t,s=i.offsetLeft-i.scrollLeft,o=i.offsetTop-i.scrollTop;for(s=(e=this.getCSSTransform([s,o],i))[0],o=e[1],i=i.offsetParent;i;){for(s+=i.offsetLeft,o+=i.offsetTop,i.offsetParent&&(s+=i.clientLeft-i.scrollLeft,o+=i.clientTop-i.scrollTop),s=(e=this.getCSSTransform([s,o],i))[0],o=e[1],r=r.parentNode;r!==i;)s+=r.clientLeft-r.scrollLeft,o+=r.clientTop-r.scrollTop,s=(e=this.getCSSTransform([s,o],r))[0],o=e[1],r=r.parentNode;i=i.offsetParent}return[s,o]},getStyle:function(e,i){var r,s=e.ownerDocument;return s.defaultView&&s.defaultView.getComputedStyle?r=s.defaultView.getComputedStyle(e,null).getPropertyValue(i):e.currentStyle&&t.ieVersion>=9?r=e.currentStyle[i]:e.style&&(i=i.replace(/-([a-z]|[0-9])/gi,(function(t,e){return e.toUpperCase()})),r=e.style[i]),r},getProp:function(t,e){var i=parseInt(this.getStyle(t,e),10);return isNaN(i)?0:i},getCSSTransform:function(t,i){var r,s,o,n,a,h,l,c=["transform","webkitTransform","MozTransform","msTransform","oTransform"];for(a=c.length,r=0,o="";r<a;r++)if(e.exists(i.style[c[r]])){o=i.style[c[r]];break}if(""!==o&&(n=o.indexOf("("))>0){for(a=o.length,s=0,h=(l=o.substring(n+1,a-1).split(",")).length;s<h;s++)l[s]=parseFloat(l[s]);0===o.indexOf("matrix")?(t[0]+=l[4],t[1]+=l[5]):0===o.indexOf("translateX")?t[0]+=l[0]:0===o.indexOf("translateY")?t[1]+=l[0]:0===o.indexOf("translate")&&(t[0]+=l[0],t[1]+=l[1])}return e.exists(i.style.zoom)&&""!==(o=i.style.zoom)&&(t[0]*=parseFloat(o),t[1]*=parseFloat(o)),t},getCSSTransformMatrix:function(t){var i,r,s,o,n,a,h,l,c=t.ownerDocument,d=["transform","webkitTransform","MozTransform","msTransform","oTransform"],u=[[1,0,0],[0,1,0],[0,0,1]];if(c.defaultView&&c.defaultView.getComputedStyle)s=(l=c.defaultView.getComputedStyle(t,null)).getPropertyValue("-webkit-transform")||l.getPropertyValue("-moz-transform")||l.getPropertyValue("-ms-transform")||l.getPropertyValue("-o-transform")||l.getPropertyValue("transform");else for(n=d.length,i=0,s="";i<n;i++)if(e.exists(t.style[d[i]])){s=t.style[d[i]];break}if(""!==s&&(o=s.indexOf("("))>0){for(n=s.length,r=0,a=(h=s.substring(o+1,n-1).split(",")).length;r<a;r++)h[r]=parseFloat(h[r]);0===s.indexOf("matrix")?u=[[1,0,0],[0,h[0],h[1]],[0,h[2],h[3]]]:0===s.indexOf("scaleX")?u[1][1]=h[0]:0===s.indexOf("scaleY")?u[2][2]=h[0]:0===s.indexOf("scale")&&(u[1][1]=h[0],u[2][2]=h[1])}return e.exists(t.style.zoom)&&""!==(s=t.style.zoom)&&(u[1][1]*=parseFloat(s),u[2][2]*=parseFloat(s)),u},timedChunk:function(t,e,i,r){var s=t.concat(),o=function(){var n=+new Date;do{e.call(i,s.shift())}while(s.length>0&&+new Date-n<300);s.length>0?window.setTimeout(o,1):r(t)};window.setTimeout(o,1)},_getScaleFactors:function(t){var e=t.getBoundingClientRect().width,i=t.getBoundingClientRect().height,r=window.screen.width/e,s=window.screen.height/i,o=.5*(window.screen.height-i),n=Math.min(r,s);return window.matchMedia&&window.matchMedia("(orientation:landscape)").matches&&window.screen.width<window.screen.height&&(r=window.screen.height/e,s=window.screen.width/i,n=Math.min(r,s),o=.5*(window.screen.width-i)),{scale:n*=.85,vshift:o,width:e}},scaleJSXGraphDiv:function(t,e,i,r){var s,o,n=document.styleSheets.length,a=[":fullscreen",":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"],h=a.length,l="{margin:0 auto;transform:matrix("+i+",0,0,"+i+",0,"+r+");}",c=new RegExp(".*#"+t+":.*full.*screen.*#"+e+".*auto;.*transform:.*matrix");for(0===n&&((s=document.createElement("style")).appendChild(document.createTextNode("")),document.body.appendChild(s),n=document.styleSheets.length),document.styleSheets[n-1].cssRules.length>0&&c.test(document.styleSheets[n-1].cssRules[0].cssText)&&document.styleSheets[n-1].deleteRule&&document.styleSheets[n-1].deleteRule(0),o=0;o<h;o++)try{document.styleSheets[n-1].insertRule("#"+t+a[o]+" #"+e+l,0);break}catch(t){}o===h&&(console.log("JXG.scaleJSXGraphDiv: Could not add any CSS rule."),console.log("One possible reason could be that the id of the JSXGraph container does not start with a letter."))}}),t})),define("utils/xml",["jxg","utils/type"],(function(t,e){"use strict";return t.XML={cleanWhitespace:function(t){for(var i=t.firstChild;e.exists(i);)3!==i.nodeType||/\S/.test(i.nodeValue)?1===i.nodeType&&this.cleanWhitespace(i):t.removeChild(i),i=i.nextSibling},parse:function(t){var e,i;return i="function"==typeof DOMParser||"object"==typeof DOMParser?DOMParser:function(){this.parseFromString=function(t){var e;return"function"==typeof ActiveXObject&&(e=new ActiveXObject("MSXML.DomDocument")).loadXML(t),e}},e=(new i).parseFromString(t,"text/xml"),this.cleanWhitespace(e),e}},t.XML})),define("utils/event",["jxg","utils/type"],(function(t,e){"use strict";return t.EventEmitter={eventHandlers:{},suspended:{},trigger:function(t,e){var i,r,s,o,n,a;for(n=t.length,r=0;r<n;r++)if(o=this.eventHandlers[t[r]],!this.suspended[t[r]]){if(this.suspended[t[r]]=!0,o)for(a=o.length,i=0;i<a;i++)(s=o[i]).handler.apply(s.context,e);this.suspended[t[r]]=!1}return this},on:function(t,i,r){return e.isArray(this.eventHandlers[t])||(this.eventHandlers[t]=[]),r=e.def(r,this),this.eventHandlers[t].push({handler:i,context:r}),this},off:function(t,i){var r;return t&&e.isArray(this.eventHandlers[t])?(i?((r=e.indexOf(this.eventHandlers[t],i,"handler"))>-1&&this.eventHandlers[t].splice(r,1),0===this.eventHandlers[t].length&&delete this.eventHandlers[t]):delete this.eventHandlers[t],this):this},eventify:function(t){t.eventHandlers={},t.on=this.on,t.off=this.off,t.triggerEventHandlers=this.trigger,t.trigger=this.trigger,t.suspended={}}},t.EventEmitter})),define("math/math",["jxg","utils/type"],(function(t,e){"use strict";var i,r=function(t){var e,r;return t.memo||(e={},r=Array.prototype.join,t.memo=function(){var s=r.call(arguments);return e[s]!==i?e[s]:e[s]=t.apply(this,arguments)}),t.memo};return t.Math={eps:1e-6,relDif:function(t,e){var i=Math.abs(t),r=Math.abs(e);return 0===(r=Math.max(i,r))?0:Math.abs(t-e)/r},mod:function(t,e){return t-Math.floor(t/e)*e},vector:function(t,e){var i,r;for(e=e||0,i=[],r=0;r<t;r++)i[r]=e;return i},matrix:function(t,e,i){var r,s,o;for(i=i||0,e=e||t,r=[],s=0;s<t;s++)for(r[s]=[],o=0;o<e;o++)r[s][o]=i;return r},identity:function(t,e){var r,s;for(e===i&&"number"!=typeof e&&(e=t),r=this.matrix(t,e),s=0;s<Math.min(t,e);s++)r[s][s]=1;return r},frustum:function(t,e,i,r,s,o){var n=this.matrix(4,4);return n[0][0]=2*s/(e-t),n[0][1]=0,n[0][2]=(e+t)/(e-t),n[0][3]=0,n[1][0]=0,n[1][1]=2*s/(r-i),n[1][2]=(r+i)/(r-i),n[1][3]=0,n[2][0]=0,n[2][1]=0,n[2][2]=-(o+s)/(o-s),n[2][3]=-o*s*2/(o-s),n[3][0]=0,n[3][1]=0,n[3][2]=-1,n[3][3]=0,n},projection:function(t,e,i,r){var s=i*Math.tan(t/2),o=s*e;return this.frustum(-o,o,-s,s,i,r)},matVecMult:function(t,e){var i,r,s,o=t.length,n=e.length,a=[];if(3===n)for(i=0;i<o;i++)a[i]=t[i][0]*e[0]+t[i][1]*e[1]+t[i][2]*e[2];else for(i=0;i<o;i++){for(r=0,s=0;s<n;s++)r+=t[i][s]*e[s];a[i]=r}return a},matMatMult:function(t,e){var i,r,s,o,n=t.length,a=n>0?e[0].length:0,h=e.length,l=this.matrix(n,a);for(i=0;i<n;i++)for(r=0;r<a;r++){for(s=0,o=0;o<h;o++)s+=t[i][o]*e[o][r];l[i][r]=s}return l},transpose:function(t){var e,i,r,s,o;for(s=t.length,o=t.length>0?t[0].length:0,e=this.matrix(o,s),i=0;i<o;i++)for(r=0;r<s;r++)e[i][r]=t[r][i];return e},inverse:function(t){var e,i,r,s,o,n,a,h=t.length,l=[],c=[],d=[];for(e=0;e<h;e++){for(l[e]=[],i=0;i<h;i++)l[e][i]=t[e][i];c[e]=e}for(i=0;i<h;i++){for(o=Math.abs(l[i][i]),n=i,e=i+1;e<h;e++)Math.abs(l[e][i])>o&&(o=Math.abs(l[e][i]),n=e);if(o<=this.eps)return[];if(n>i){for(r=0;r<h;r++)a=l[i][r],l[i][r]=l[n][r],l[n][r]=a;a=c[i],c[i]=c[n],c[n]=a}for(s=1/l[i][i],e=0;e<h;e++)l[e][i]*=s;for(l[i][i]=s,r=0;r<h;r++)if(r!==i){for(e=0;e<h;e++)e!==i&&(l[e][r]-=l[e][i]*l[i][r]);l[i][r]=-s*l[i][r]}}for(e=0;e<h;e++){for(r=0;r<h;r++)d[c[r]]=l[e][r];for(r=0;r<h;r++)l[e][r]=d[r]}return l},innerProduct:function(t,r,s){var o,n=0;for(s!==i&&e.isNumber(s)||(s=t.length),o=0;o<s;o++)n+=t[o]*r[o];return n},crossProduct:function(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]},norm:function(t,r){var s,o=0;for(r!==i&&e.isNumber(r)||(r=t.length),s=0;s<r;s++)o+=t[s]*t[s];return Math.sqrt(o)},axpy:function(t,e,i){var r,s=e.length,o=[];for(r=0;r<s;r++)o[r]=t*e[r]+i[r];return o},factorial:r((function(t){return t<0?NaN:0===(t=Math.floor(t))||1===t?1:t*this.factorial(t-1)})),binomial:r((function(t,e){var i,r;if(e>t||e<0)return NaN;if(e=Math.round(e),t=Math.round(t),0===e||e===t)return 1;for(i=1,r=0;r<e;r++)i*=t-r,i/=r+1;return i})),cosh:Math.cosh||function(t){return.5*(Math.exp(t)+Math.exp(-t))},sinh:Math.sinh||function(t){return.5*(Math.exp(t)-Math.exp(-t))},acosh:Math.acosh||function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:Math.asinh||function(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))},cot:function(t){return 1/Math.tan(t)},acot:function(t){return(t>=0?.5:-.5)*Math.PI-Math.atan(t)},nthroot:function(t,e){var i=1/e;return e<=0||Math.floor(e)!==e?NaN:0===t?0:t>0?Math.exp(i*Math.log(t)):e%2==1?-Math.exp(i*Math.log(-t)):NaN},cbrt:Math.cbrt||function(t){return this.nthroot(t,3)},pow:function(t,e){return 0===t?0===e?1:0:Math.floor(e)===e?Math.pow(t,e):t>0?Math.exp(e*Math.log(t)):NaN},ratpow:function(t,e,i){var r;return 0===e?1:0===i?NaN:(r=this.gcd(e,i),this.nthroot(this.pow(t,e/r),i/r))},log10:function(t){return Math.log(t)/Math.log(10)},log2:function(t){return Math.log(t)/Math.log(2)},log:function(t,i){return void 0!==i&&e.isNumber(i)?Math.log(t)/Math.log(i):Math.log(t)},sign:Math.sign||function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},squampow:function(t,e){var i;if(Math.floor(e)===e){for(i=1,e<0&&(t=1/t,e*=-1);0!==e;)1&e&&(i*=t),e>>=1,t*=t;return i}return this.pow(t,e)},gcd:function(t,i){if(t=Math.abs(t),i=Math.abs(i),!e.isNumber(t)||!e.isNumber(i))return NaN;if(i>t){var r=t;t=i,i=r}for(;;){if(0===(t%=i))return i;if(0===(i%=t))return t}},lcm:function(t,i){var r;return e.isNumber(t)&&e.isNumber(i)?0!==(r=t*i)?r/this.gcd(t,i):0:NaN},erf:function(t){return this.ProbFuncs.erf(t)},erfc:function(t){return this.ProbFuncs.erfc(t)},erfi:function(t){return this.ProbFuncs.erfi(t)},ndtr:function(t){return this.ProbFuncs.ndtr(t)},ndtri:function(t){return this.ProbFuncs.ndtri(t)},lt:function(t,e){return t<e},leq:function(t,e){return t<=e},gt:function(t,e){return t>e},geq:function(t,e){return t>=e},eq:function(t,e){return t===e},neq:function(t,e){return t!==e},and:function(t,e){return t&&e},not:function(t){return!t},or:function(t,e){return t||e},xor:function(t,e){return(t||e)&&!(t&&e)},normalize:function(t){var e,i,r=2*t[3],s=t[4]/r;return t[5]=s,t[6]=-t[1]/r,t[7]=-t[2]/r,isFinite(s)?Math.abs(s)>=1?(t[0]=(t[6]*t[6]+t[7]*t[7]-s*s)/(2*s),t[1]=-t[6]/s,t[2]=-t[7]/s,t[3]=1/(2*s),t[4]=1):(i=s<=0?-1:1,t[0]=i*(t[6]*t[6]+t[7]*t[7]-s*s)*.5,t[1]=-i*t[6],t[2]=-i*t[7],t[3]=i/2,t[4]=i*s):(e=Math.sqrt(t[1]*t[1]+t[2]*t[2]),t[0]/=e,t[1]/=e,t[2]/=e,t[3]=0,t[4]=1),t},toGL:function(t){var e,i,r;if(e="function"==typeof Float32Array?new Float32Array(16):new Array(16),4!==t.length&&4!==t[0].length)return e;for(i=0;i<4;i++)for(r=0;r<4;r++)e[i+4*r]=t[i][r];return e},Vieta:function(t){var e,i,r,s=t.length,o=[];for(o=t.slice(),e=1;e<s;++e){for(r=o[e],o[e]*=o[e-1],i=e-1;i>=1;--i)o[i]+=o[i-1]*r;o[0]+=r}return o}},t.Math})),define("base/coords",["jxg","base/constants","utils/event","utils/type","math/math"],(function(t,e,i,r,s){"use strict";return t.Coords=function(t,e,s,o){this.board=s,this.usrCoords=[],this.scrCoords=[],this.emitter=!r.exists(o)||o,this.emitter&&i.eventify(this),this.setCoordinates(t,e,!1,!0)},t.extend(t.Coords.prototype,{normalizeUsrCoords:function(){Math.abs(this.usrCoords[0])>s.eps&&(this.usrCoords[1]/=this.usrCoords[0],this.usrCoords[2]/=this.usrCoords[0],this.usrCoords[0]=1)},usr2screen:function(t){var e=Math.round,i=this.board,r=this.usrCoords,s=i.origin.scrCoords;!0===t?(this.scrCoords[0]=e(r[0]),this.scrCoords[1]=e(r[0]*s[1]+r[1]*i.unitX),this.scrCoords[2]=e(r[0]*s[2]-r[2]*i.unitY)):(this.scrCoords[0]=r[0],this.scrCoords[1]=r[0]*s[1]+r[1]*i.unitX,this.scrCoords[2]=r[0]*s[2]-r[2]*i.unitY)},screen2usr:function(){var t=this.board.origin.scrCoords,e=this.scrCoords,i=this.board;this.usrCoords[0]=1,this.usrCoords[1]=(e[1]-t[1])/i.unitX,this.usrCoords[2]=(t[2]-e[2])/i.unitY},distance:function(t,i){var r,o,n=0,a=this.usrCoords,h=this.scrCoords;if(t===e.COORDS_BY_USER){if(r=i.usrCoords,(n=(o=a[0]-r[0])*o)>s.eps*s.eps)return Number.POSITIVE_INFINITY;n+=(o=a[1]-r[1])*o,n+=(o=a[2]-r[2])*o}else r=i.scrCoords,n+=(o=h[1]-r[1])*o,n+=(o=h[2]-r[2])*o;return Math.sqrt(n)},setCoordinates:function(t,i,r,s){var o=this.usrCoords,n=this.scrCoords,a=[o[0],o[1],o[2]],h=[n[0],n[1],n[2]];return t===e.COORDS_BY_USER?(2===i.length?(o[0]=1,o[1]=i[0],o[2]=i[1]):(o[0]=i[0],o[1]=i[1],o[2]=i[2],this.normalizeUsrCoords()),this.usr2screen(r)):(2===i.length?(n[1]=i[0],n[2]=i[1]):(n[1]=i[1],n[2]=i[2]),this.screen2usr()),!this.emitter||s||h[1]===n[1]&&h[2]===n[2]||this.triggerEventHandlers(["update"],[a,h]),this},copy:function(t,e){return void 0===e&&(e=0),this[t].slice(e)},isReal:function(){return!isNaN(this.usrCoords[1]+this.usrCoords[2])&&Math.abs(this.usrCoords[0])>s.eps},__evt__update:function(t,e){},__evt:function(){}}),t.Coords})),define("utils/expect",["jxg","utils/type","base/constants","base/coords"],(function(t,e,i,r){"use strict";var s={each:function(t,i,r){var s,o,n=[];if(e.exists(t.length))for(o=t.length,s=0;s<o;s++)n.push(i.call(this,t[s],r));return n},coords:function(t,e){var s=t;return t&&t.elementClass===i.OBJECT_CLASS_POINT?s=t.coords:t.usrCoords&&t.scrCoords&&t.usr2screen&&(s=t),e&&(s=new r(i.COORDS_BY_USER,s.usrCoords,s.board)),s},coordsArray:function(t,i){var r;return(r=e.isArray(t)?t:this.coords(t).usrCoords).length<3&&r.unshift(1),i&&(r=[r[0],r[1],r[2]]),r}};return t.Expect=s,s})),define("math/probfuncs",["math/math","utils/type"],(function(t,e){"use strict";return t.ProbFuncs={MAXNUM:17014118346046923e22,SQRTH:.7071067811865476,SQRT2:1.4142135623730951,MAXLOG:708.3964185322641,P:[2.461969814735305e-10,.5641895648310689,7.463210564422699,48.63719709856814,196.5208329560771,526.4451949954773,934.5285271719576,1027.5518868951572,557.5353353693994],Q:[13.228195115474499,86.70721408859897,354.9377788878199,975.7085017432055,1823.9091668790973,2246.3376081871097,1656.6630919416134,557.5353408177277],R:[.5641895835477551,1.275366707599781,5.019050422511805,6.160210979930536,7.4097426995044895,2.9788666537210022],S:[2.2605286322011726,9.396035249380015,12.048953980809666,17.08144507475659,9.608968090632859,3.369076451000815],T:[9.604973739870516,90.02601972038427,2232.005345946843,7003.325141128051,55592.30130103949],U:[33.56171416475031,521.3579497801527,4594.323829709801,22629.000061389095,49267.39426086359],M:128,MINV:.0078125,expx2:function(t,e){var i,r,s,o;return t=Math.abs(t),e<0&&(t=-t),i=(s=this.MINV*Math.floor(this.M*t+.5))*s,r=2*s*(o=t-s)+o*o,e<0&&(i=-i,r=-r),i+r>this.MAXLOG?1/0:i=Math.exp(i)*Math.exp(r)},polevl:function(t,i,r){var s,o;if(e.exists(i.reduce))return i.reduce((function(e,i){return e*t+i}),0);for(o=0,s=0;o<=r;o++)s=s*t+i[o];return s},p1evl:function(t,i,r){var s,o;if(e.exists(i.reduce))return i.reduce((function(e,i){return e*t+i}),1);for(o=0,s=1;o<r;o++)s=s*t+i[o];return s},ndtr:function(t){var e,i,r;return e=t*this.SQRTH,(r=Math.abs(e))<1?i=.5+.5*this.erf(e):(i=.5*this.erfce(r),r=this.expx2(t,-1),i*=Math.sqrt(r),e>0&&(i=1-i)),i},_underflow:function(t){return console.log("erfc","UNDERFLOW"),t<0?2:0},erfc:function(t){var e,i,r,s,o;return(r=t<0?-t:t)<1?1-this.erf(t):(o=-t*t)<-this.MAXLOG?this._underflow(t):(o=this.expx2(t,-1),r<8?(e=this.polevl(r,this.P,8),i=this.p1evl(r,this.Q,8)):(e=this.polevl(r,this.R,5),i=this.p1evl(r,this.S,6)),s=o*e/i,t<0&&(s=2-s),0===s?this._underflow(t):s)},erfce:function(t){var e,i;return t<8?(e=this.polevl(t,this.P,8),i=this.p1evl(t,this.Q,8)):(e=this.polevl(t,this.R,5),i=this.p1evl(t,this.S,6)),e/i},erf:function(t){var e;return Math.abs(t)>1?1-this.erfc(t):(e=t*t,t*this.polevl(e,this.T,4)/this.p1evl(e,this.U,5))},s2pi:2.5066282746310007,P0:[-59.96335010141079,98.00107541859997,-56.67628574690703,13.931260938727968,-1.2391658386738125],Q0:[1.9544885833814176,4.676279128988815,86.36024213908905,-225.46268785411937,200.26021238006066,-82.03722561683334,15.90562251262117,-1.1833162112133],P1:[4.0554489230596245,31.525109459989388,57.16281922464213,44.08050738932008,14.684956192885803,2.1866330685079025,-.1402560791713545,-.03504246268278482,-.0008574567851546854],Q1:[15.779988325646675,45.39076351288792,41.3172038254672,15.04253856929075,2.504649462083094,-.14218292285478779,-.03808064076915783,-.0009332594808954574],P2:[3.2377489177694603,6.915228890689842,3.9388102529247444,1.3330346081580755,.20148538954917908,.012371663481782003,.00030158155350823543,26580697468673755e-22,6.239745391849833e-9],Q2:[6.02427039364742,3.6798356385616087,1.3770209948908132,.21623699359449663,.013420400608854318,.00032801446468212774,28924786474538068e-22,6.790194080099813e-9],ndtri:function(t){var e,i,r,s,o;return t<=0?-1/0:t>=1?1/0:(o=1,(i=t)>.8646647167633873&&(i=1-i,o=0),i>.1353352832366127?(e=(i-=.5)+i*((s=i*i)*this.polevl(s,this.P0,4)/this.p1evl(s,this.Q0,8)),e*=this.s2pi):(r=1/(e=Math.sqrt(-2*Math.log(i))),e=e-Math.log(e)/e-(e<8?r*this.polevl(r,this.P1,8)/this.p1evl(r,this.Q1,8):r*this.polevl(r,this.P2,8)/this.p1evl(r,this.Q2,8)),0!==o&&(e=-e),e))},erfi:function(t){return this.ndtri(.5*(t+1))*this.SQRTH}},t.ProbFuncs})),define("math/ia",["jxg","math/math","utils/type"],(function(t,e,i){"use strict";t.Math.DoubleBits=function(){var t,e,i,r,s,o,n,a,h=new Float64Array(1),l=new Uint32Array(h.buffer);void 0!==Float64Array&&(h[0]=1,!0,1072693248===l[1]?(t=function(t){return h[0]=t,[l[0],l[1]]},e=function(t,e){return l[0]=t,l[1]=e,h[0]},i=function(t){return h[0]=t,l[0]},r=function(t){return h[0]=t,l[1]},this.doubleBits=t,this.pack=e,this.lo=i,this.hi=r):1072693248===l[0]&&(s=function(t){return h[0]=t,[l[1],l[0]]},o=function(t,e){return l[1]=t,l[0]=e,h[0]},n=function(t){return h[0]=t,l[1]},a=function(t){return h[0]=t,l[0]},this.doubleBits=s,this.pack=o,this.lo=n,this.hi=a))},t.extend(t.Math.DoubleBits.prototype,{sign:function(t){return this.hi(t)>>>31},exponent:function(t){return(this.hi(t)<<1>>>21)-1023},fraction:function(t){var e=this.lo(t),i=this.hi(t),r=1048575&i;return 2146435072&i&&(r+=1<<20),[e,r]},denormalized:function(t){return!(2146435072&this.hi(t))}});var r=new t.Math.DoubleBits,s=function(t,i){if(void 0!==t&&void 0!==i){if(e.IntervalArithmetic.isInterval(t)){if(!e.IntervalArithmetic.isSingleton(t))throw new TypeError("JXG.Math.IntervalArithmetic: interval `lo` must be a singleton");this.lo=t.lo}else this.lo=t;if(e.IntervalArithmetic.isInterval(i)){if(!e.IntervalArithmetic.isSingleton(i))throw new TypeError("JXG.Math.IntervalArithmetic: interval `hi` must be a singleton");this.hi=i.hi}else this.hi=i}else{if(void 0!==t)return Array.isArray(t)?new s(t[0],t[1]):new s(t,t);this.lo=this.hi=0}};return t.extend(s.prototype,{print:function(){console.log("[",this.lo,this.hi,"]")},set:function(t,e){return this.lo=t,this.hi=e,this},bounded:function(t,i){return this.set(e.IntervalArithmetic.prev(t),e.IntervalArithmetic.next(i))},boundedSingleton:function(t){return this.bounded(t,t)},assign:function(t,e){if("number"!=typeof t||"number"!=typeof e)throw new TypeError("JXG.Math.Interval#assign: arguments must be numbers");return isNaN(t)||isNaN(e)||t>e?this.setEmpty():this.set(t,e)},setEmpty:function(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},setWhole:function(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)},open:function(t,i){return this.assign(e.IntervalArithmetic.next(t),e.IntervalArithmetic.prev(i))},halfOpenLeft:function(t,i){return this.assign(e.IntervalArithmetic.next(t),i)},halfOpenRight:function(t,i){return this.assign(t,e.IntervalArithmetic.prev(i))},toArray:function(){return[this.lo,this.hi]},clone:function(){return(new s).set(this.lo,this.hi)}}),t.Math.IntervalArithmetic={Interval:function(t,e){return new s(t,e)},isInterval:function(t){return null!==t&&"object"==typeof t&&"number"==typeof t.lo&&"number"==typeof t.hi},isSingleton:function(t){return t.lo===t.hi},add:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),new s(this.addLo(t.lo,e.lo),this.addHi(t.hi,e.hi))},sub:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),new s(this.subLo(t.lo,e.hi),this.subHi(t.hi,e.lo))},mul:function(t,e){var r,o,n,a,h;return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(t)||this.isEmpty(e)?this.EMPTY.clone():(r=t.lo,o=t.hi,n=e.lo,a=e.hi,h=new s,r<0?o>0?n<0?a>0?(h.lo=Math.min(this.mulLo(r,a),this.mulLo(o,n)),h.hi=Math.max(this.mulHi(r,n),this.mulHi(o,a))):(h.lo=this.mulLo(o,n),h.hi=this.mulHi(r,n)):a>0?(h.lo=this.mulLo(r,a),h.hi=this.mulHi(o,a)):(h.lo=0,h.hi=0):n<0?a>0?(h.lo=this.mulLo(r,a),h.hi=this.mulHi(r,n)):(h.lo=this.mulLo(o,a),h.hi=this.mulHi(r,n)):a>0?(h.lo=this.mulLo(r,a),h.hi=this.mulHi(o,n)):(h.lo=0,h.hi=0):o>0?n<0?a>0?(h.lo=this.mulLo(o,n),h.hi=this.mulHi(o,a)):(h.lo=this.mulLo(o,n),h.hi=this.mulHi(r,a)):a>0?(h.lo=this.mulLo(r,n),h.hi=this.mulHi(o,a)):(h.lo=0,h.hi=0):(h.lo=0,h.hi=0),h)},div:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(t)||this.isEmpty(e)?this.EMPTY.clone():this.zeroIn(e)?0!==e.lo?0!==e.hi?this.divZero(t):this.divNegative(t,e.lo):0!==e.hi?this.divPositive(t,e.hi):this.EMPTY.clone():this.divNonZero(t,e)},positive:function(t){return new s(t.lo,t.hi)},negative:function(t){return i.isNumber(t)?new s(-t):new s(-t.hi,-t.lo)},isEmpty:function(t){return t.lo>t.hi},isWhole:function(t){return t.lo===-1/0&&t.hi===1/0},zeroIn:function(t){return this.hasValue(t,0)},hasValue:function(t,e){return!this.isEmpty(t)&&(t.lo<=e&&e<=t.hi)},hasInterval:function(t,e){return!!this.isEmpty(t)||!this.isEmpty(e)&&e.lo<=t.lo&&t.hi<=e.hi},intervalsOverlap:function(t,e){return!this.isEmpty(t)&&!this.isEmpty(e)&&(t.lo<=e.lo&&e.lo<=t.hi||e.lo<=t.lo&&t.lo<=e.hi)},divNonZero:function(t,e){var i=t.lo,r=t.hi,o=e.lo,n=e.hi,a=new s;return r<0?n<0?(a.lo=this.divLo(r,o),a.hi=this.divHi(i,n)):(a.lo=this.divLo(i,o),a.hi=this.divHi(r,n)):i<0?n<0?(a.lo=this.divLo(r,n),a.hi=this.divHi(i,n)):(a.lo=this.divLo(i,o),a.hi=this.divHi(r,o)):n<0?(a.lo=this.divLo(r,n),a.hi=this.divHi(i,o)):(a.lo=this.divLo(i,n),a.hi=this.divHi(r,o)),a},divPositive:function(t,e){return 0===t.lo&&0===t.hi?t:this.zeroIn(t)?this.WHOLE:t.hi<0?new s(Number.NEGATIVE_INFINITY,this.divHi(t.hi,e)):new s(this.divLo(t.lo,e),Number.POSITIVE_INFINITY)},divNegative:function(t,e){return 0===t.lo&&0===t.hi?t:this.zeroIn(t)?this.WHOLE:t.hi<0?new s(this.divLo(t.hi,e),Number.POSITIVE_INFINITY):new s(Number.NEGATIVE_INFINITY,this.divHi(t.lo,e))},divZero:function(t){return 0===t.lo&&0===t.hi?t:this.WHOLE},fmod:function(t,e){var r,o;return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(t)||this.isEmpty(e)?this.EMPTY.clone():(r=t.lo<0?e.lo:e.hi,o=(o=t.lo/r)<0?Math.ceil(o):Math.floor(o),this.sub(t,this.mul(e,new s(o))))},multiplicativeInverse:function(t){return i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():this.zeroIn(t)?0!==t.lo?0!==t.hi?this.WHOLE:new s(Number.NEGATIVE_INFINITY,this.divHi(1,t.lo)):0!==t.hi?new s(this.divLo(1,t.hi),Number.POSITIVE_INFINITY):this.EMPTY.clone():new s(this.divLo(1,t.hi),this.divHi(1,t.lo))},pow:function(t,e){var r,o;if(i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t))return this.EMPTY.clone();if(this.isInterval(e)){if(!this.isSingleton(e))return this.EMPTY.clone();e=e.lo}return 0===e?0===t.lo&&0===t.hi?this.EMPTY.clone():this.ONE.clone():e<0?this.pow(this.multiplicativeInverse(t),-e):e%1==0?t.hi<0?(r=this.powLo(-t.hi,e),o=this.powHi(-t.lo,e),1==(1&e)?new s(-o,-r):new s(r,o)):t.lo<0?1==(1&e)?new s(-this.powLo(-t.lo,e),this.powHi(t.hi,e)):new s(0,this.powHi(Math.max(-t.lo,t.hi),e)):new s(this.powLo(t.lo,e),this.powHi(t.hi,e)):(console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),this.EMPTY.clone())},sqrt:function(t){return i.isNumber(t)&&(t=this.Interval(t)),this.nthRoot(t,2)},nthRoot:function(t,e){var r,o,n,a,h;if(i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)||e<0)return this.EMPTY.clone();if(this.isInterval(e)){if(!this.isSingleton(e))return this.EMPTY.clone();e=e.lo}return r=1/e,t.hi<0?e%1==0&&1==(1&e)?(o=this.powHi(-t.lo,r),n=this.powLo(-t.hi,r),new s(-o,-n)):this.EMPTY.clone():t.lo<0?(a=this.powHi(t.hi,r),e%1==0&&1==(1&e)?(h=-this.powHi(-t.lo,r),new s(h,a)):new s(0,a)):new s(this.powLo(t.lo,r),this.powHi(t.hi,r))},exp:function(t){return i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():new s(this.expLo(t.lo),this.expHi(t.hi))},log:function(t){var e;return i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():(e=t.lo<=0?Number.NEGATIVE_INFINITY:this.logLo(t.lo),new s(e,this.logHi(t.hi)))},ln:function(t){return this.log(t)},log10:function(t){return this.isEmpty(t)?this.EMPTY.clone():this.div(this.log(t),this.log(new s(10,10)))},log2:function(t){return this.isEmpty(t)?this.EMPTY.clone():this.div(this.log(t),this.log(new s(2,2)))},hull:function(t,e){var i=this.isEmpty(t),r=this.isEmpty(e);return i&&r?this.EMPTY.clone():i?e.clone():r?t.clone():new s(Math.min(t.lo,e.lo),Math.max(t.hi,e.hi))},intersection:function(t,e){var i,r;return this.isEmpty(t)||this.isEmpty(e)?this.EMPTY.clone():(i=Math.max(t.lo,e.lo))<=(r=Math.min(t.hi,e.hi))?new s(i,r):this.EMPTY.clone()},union:function(t,e){if(!this.intervalsOverlap(t,e))throw new Error("Interval#unions do not overlap");return new s(Math.min(t.lo,e.lo),Math.max(t.hi,e.hi))},difference:function(t,e){if(this.isEmpty(t)||this.isWhole(e))return this.EMPTY.clone();if(this.intervalsOverlap(t,e)){if(t.lo<e.lo&&e.hi<t.hi)throw new Error("Interval.difference: difference creates multiple intervals");return e.lo<=t.lo&&e.hi===1/0||e.hi>=t.hi&&e.lo===-1/0?this.EMPTY.clone():e.lo<=t.lo?(new s).halfOpenLeft(e.hi,t.hi):(new s).halfOpenRight(t.lo,e.lo)}return t.clone()},width:function(t){return this.isEmpty(t)?0:this.subHi(t.hi,t.lo)},abs:function(t){return i.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(t)?this.EMPTY.clone():t.lo>=0?t.clone():t.hi<=0?this.negative(t):new s(0,Math.max(-t.lo,t.hi))},max:function(t,e){var i=this.isEmpty(t),r=this.isEmpty(e);return i&&r?this.EMPTY.clone():i?e.clone():r?t.clone():new s(Math.max(t.lo,e.lo),Math.max(t.hi,e.hi))},min:function(t,e){var i=this.isEmpty(t),r=this.isEmpty(e);return i&&r?this.EMPTY.clone():i?e.clone():r?t.clone():new s(Math.min(t.lo,e.lo),Math.min(t.hi,e.hi))},onlyInfinity:function(t){return!isFinite(t.lo)&&t.lo===t.hi},_handleNegative:function(t){var e;return t.lo<0&&(t.lo===-1/0?(t.lo=0,t.hi=1/0):(e=Math.ceil(-t.lo/this.piTwiceLow),t.lo+=this.piTwiceLow*e,t.hi+=this.piTwiceLow*e)),t},cos:function(t){var e,i,r,o,n,a,h,l;return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():(e=(new s).set(t.lo,t.hi),this._handleNegative(e),i=this.PI_TWICE,r=this.fmod(e,i),this.width(r)>=i.lo?new s(-1,1):r.lo>=this.piHigh?(o=this.cos(this.sub(r,this.PI)),this.negative(o)):(n=r.lo,a=r.hi,h=this.cosLo(a),l=this.cosHi(n),a<=this.piLow?new s(h,l):a<=i.lo?new s(-1,Math.max(h,l)):new s(-1,1)))},sin:function(t){return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():this.cos(this.sub(t,this.PI_HALF))},tan:function(t){var e,i,r;return this.isEmpty(t)||this.onlyInfinity(t)?this.EMPTY.clone():(e=(new s).set(t.lo,t.hi),this._handleNegative(e),r=this.PI,(i=this.fmod(e,r)).lo>=this.piHalfLow&&(i=this.sub(i,r)),i.lo<=-this.piHalfLow||i.hi>=this.piHalfLow?this.WHOLE.clone():new s(this.tanLo(i.lo),this.tanHi(i.hi)))},asin:function(t){var e,i;return this.isEmpty(t)||t.hi<-1||t.lo>1?this.EMPTY.clone():(e=t.lo<=-1?-this.piHalfHigh:this.asinLo(t.lo),i=t.hi>=1?this.piHalfHigh:this.asinHi(t.hi),new s(e,i))},acos:function(t){var e,i;return this.isEmpty(t)||t.hi<-1||t.lo>1?this.EMPTY.clone():(e=t.hi>=1?0:this.acosLo(t.hi),i=t.lo<=-1?this.piHigh:this.acosHi(t.lo),new s(e,i))},atan:function(t){return this.isEmpty(t)?this.EMPTY.clone():new s(this.atanLo(t.lo),this.atanHi(t.hi))},sinh:function(t){return this.isEmpty(t)?this.EMPTY.clone():new s(this.sinhLo(t.lo),this.sinhHi(t.hi))},cosh:function(t){return this.isEmpty(t)?this.EMPTY.clone():t.hi<0?new s(this.coshLo(t.hi),this.coshHi(t.lo)):t.lo>=0?new s(this.coshLo(t.lo),this.coshHi(t.hi)):new s(1,this.coshHi(-t.lo>t.hi?t.lo:t.hi))},tanh:function(t){return this.isEmpty(t)?this.EMPTY.clone():new s(this.tanhLo(t.lo),this.tanhHi(t.hi))},equal:function(t,e){return this.isEmpty(t)?this.isEmpty(e):!this.isEmpty(e)&&t.lo===e.lo&&t.hi===e.hi},notEqual:function(t,e){return this.isEmpty(t)?!this.isEmpty(e):this.isEmpty(e)||t.hi<e.lo||t.lo>e.hi},lt:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),!this.isEmpty(t)&&!this.isEmpty(e)&&t.hi<e.lo},gt:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),!this.isEmpty(t)&&!this.isEmpty(e)&&t.lo>e.hi},leq:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),!this.isEmpty(t)&&!this.isEmpty(e)&&t.hi<=e.lo},geq:function(t,e){return i.isNumber(t)&&(t=this.Interval(t)),i.isNumber(e)&&(e=this.Interval(e)),!this.isEmpty(t)&&!this.isEmpty(e)&&t.lo>=e.hi},piLow:3.141592653589793,piHigh:3.1415926535897936,piHalfLow:1.5707963267948966,piHalfHigh:1.5707963267948968,piTwiceLow:6.283185307179586,piTwiceHigh:6.283185307179587,identity:function(t){return t},_prev:function(t){return t===1/0?t:this.nextafter(t,-1/0)},_next:function(t){return t===-1/0?t:this.nextafter(t,1/0)},prev:function(t){return this._prev(t)},next:function(t){return this._next(t)},toInteger:function(t){return t<0?Math.ceil(t):Math.floor(t)},addLo:function(t,e){return this.prev(t+e)},addHi:function(t,e){return this.next(t+e)},subLo:function(t,e){return this.prev(t-e)},subHi:function(t,e){return this.next(t-e)},mulLo:function(t,e){return this.prev(t*e)},mulHi:function(t,e){return this.next(t*e)},divLo:function(t,e){return this.prev(t/e)},divHi:function(t,e){return this.next(t/e)},intLo:function(t){return this.toInteger(this.prev(t))},intHi:function(t){return this.toInteger(this.next(t))},logLo:function(t){return this.prev(Math.log(t))},logHi:function(t){return this.next(Math.log(t))},expLo:function(t){return this.prev(Math.exp(t))},expHi:function(t){return this.next(Math.exp(t))},sinLo:function(t){return this.prev(Math.sin(t))},sinHi:function(t){return this.next(Math.sin(t))},cosLo:function(t){return this.prev(Math.cos(t))},cosHi:function(t){return this.next(Math.cos(t))},tanLo:function(t){return this.prev(Math.tan(t))},tanHi:function(t){return this.next(Math.tan(t))},asinLo:function(t){return this.prev(Math.asin(t))},asinHi:function(t){return this.next(Math.asin(t))},acosLo:function(t){return this.prev(Math.acos(t))},acosHi:function(t){return this.next(Math.acos(t))},atanLo:function(t){return this.prev(Math.atan(t))},atanHi:function(t){return this.next(Math.atan(t))},sinhLo:function(t){return this.prev(e.sinh(t))},sinhHi:function(t){return this.next(e.sinh(t))},coshLo:function(t){return this.prev(e.cosh(t))},coshHi:function(t){return this.next(e.cosh(t))},tanhLo:function(t){return this.prev(e.tanh(t))},tanhHi:function(t){return this.next(e.tanh(t))},sqrtLo:function(t){return this.prev(Math.sqrt(t))},sqrtHi:function(t){return this.next(Math.sqrt(t))},powLo:function(t,e){var i;if(e%1!=0)return this.prev(Math.pow(t,e));for(i=1==(1&e)?t:1,e>>=1;e>0;)t=this.mulLo(t,t),1==(1&e)&&(i=this.mulLo(t,i)),e>>=1;return i},powHi:function(t,e){var i;if(e%1!=0)return this.next(Math.pow(t,e));for(i=1==(1&e)?t:1,e>>=1;e>0;)t=this.mulHi(t,t),1==(1&e)&&(i=this.mulHi(t,i)),e>>=1;return i},disable:function(){this.next=this.prev=this.identity},enable:function(){this.prev=function(t){return this._prev(t)},this.next=function(t){return this._next(t)}},SMALLEST_DENORM:Math.pow(2,-1074),UINT_MAX:-1>>>0,nextafter:function(t,e){var i,s;return isNaN(t)||isNaN(e)?NaN:t===e?t:0===t?e<0?-this.SMALLEST_DENORM:this.SMALLEST_DENORM:(s=r.hi(t),i=r.lo(t),e>t==t>0?i===this.UINT_MAX?(s+=1,i=0):i+=1:0===i?(i=this.UINT_MAX,s-=1):i-=1,r.pack(i,s))}},t.Math.IntervalArithmetic.PI=new s(e.IntervalArithmetic.piLow,e.IntervalArithmetic.piHigh),t.Math.IntervalArithmetic.PI_HALF=new s(e.IntervalArithmetic.piHalfLow,e.IntervalArithmetic.piHalfHigh),t.Math.IntervalArithmetic.PI_TWICE=new s(e.IntervalArithmetic.piTwiceLow,e.IntervalArithmetic.piTwiceHigh),t.Math.IntervalArithmetic.ZERO=new s(0),t.Math.IntervalArithmetic.ONE=new s(1),t.Math.IntervalArithmetic.WHOLE=(new s).setWhole(),t.Math.IntervalArithmetic.EMPTY=(new s).setEmpty(),t.Math.IntervalArithmetic})),define("math/extrapolate",["math/math"],(function(t){"use strict";return t.Extrapolate={upper:15,infty:1e4,wynnEps:function(t,e,i){var r,s,o,n,a;if(i[e]=t,0===e)a=t;else{for(o=0,r=e;r>0;r--)s=o,o=i[r-1],n=i[r]-o,Math.abs(n)<=1e-15?i[r-1]=1e20:(1,i[r-1]=1*s+1/n);a=i[e%2]}return a},aitken:function(t,e,i){var r,s,o,n,a,h;if(i[e]=t,e<2)r=t;else{for(n=e/2,a=1;a<=n;a++)s=i[(h=e-2*a)+2]-2*i[h+1]+i[h],Math.abs(s)<1e-15?i[h]=1e20:(o=i[h]-i[h+1],i[h]-=o*o/s);r=i[e%2]}return r},brezinski:function(t,e,i){var r,s,o,n,a,h,l,c;if(i[e]=t,e<3)r=t;else{for(h=e/3,c=e,l=1;l<=h;l++)o=i[(c-=3)+1]-i[c],n=i[c+2]-i[c+1],s=(a=i[c+3]-i[c+2])*(n-o)-o*(a-n),Math.abs(s)<1e-15?i[c]=1e20:i[c]=i[c+1]-o*n*(a-n)/s;r=i[e%3]}return r},iteration:function(t,e,i,r,s){var o,n,a,h,l=NaN,c=[],d="finite",u=e;for(s=s||0,o=1;o<=this.upper;o++){if(n=i(t+(u=0===s?e/(o+1):.5*u),!0),a=this[r](n,o-1,c),isNaN(a)){d="NaN";break}if(0!==n&&a/n>this.infty){l=a,d="infinite";break}if(h=a-l,Math.abs(h)<1e-7)break;l=a}return[l,d,1-(o-1)/this.upper]},levin:function(t,e,i,r,s,o){var n,a,h,l;if(l=1/(r+e),s[e]=t/i,o[e]=1/i,e>0&&(s[e-1]=s[e]-s[e-1],o[e-1]=o[e]-o[e-1],e>1))for(h=(r+e-1)*l,n=2;n<=e;n++)a=(r+e-n)*Math.pow(h,n-2)*l,s[e-n]=s[e-n+1]-a*s[e-n],o[e-n]=o[e-n+1]-a*o[e-n],l*=h;return Math.abs(o[0])<1e-15?1e20:s[0]/o[0]},iteration_levin:function(t,e,i,r){var s,o,n,a,h,l,c,d=NaN,u=[],p=[],f="finite",m=e;for(r=r||0,a=i(t+e,!0),s=1;s<=this.upper;s++){if(h=(o=i(t+(m=0===r?e/(s+1):.5*m),!0))-a,c="u"===(Math.abs(h)<1?"u":"t")?(1+s)*h:h,a=o,l=(n=this.levin(o,s-1,c,1,u,p))-d,isNaN(n)){f="NaN";break}if(0!==o&&n/o>this.infty){d=n,f="infinite";break}if(Math.abs(l)<1e-7)break;d=n}return[d,f,1-(s-1)/this.upper]},limit:function(t,e,i){return this.iteration_levin(t,e,i,0)}},t.Extrapolate})),define("math/qdt",["math/math","utils/type"],(function(t,e){"use strict";return t.Quadtree=function(t){this.capacity=10,this.points=[],this.xlb=t[0],this.xub=t[2],this.ylb=t[3],this.yub=t[1],this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null},e.extend(t.Quadtree.prototype,{contains:function(t,e){return this.xlb<t&&t<=this.xub&&this.ylb<e&&e<=this.yub},insert:function(t){return!!this.contains(t.usrCoords[1],t.usrCoords[2])&&(this.points.length<this.capacity?(this.points.push(t),!0):(null===this.northWest&&this.subdivide(),!!this.northWest.insert(t)||(!!this.northEast.insert(t)||(!!this.southEast.insert(t)||!!this.southWest.insert(t)))))},subdivide:function(){var e,i=this.points.length,r=this.xlb+(this.xub-this.xlb)/2,s=this.ylb+(this.yub-this.ylb)/2;for(this.northWest=new t.Quadtree([this.xlb,this.yub,r,s]),this.northEast=new t.Quadtree([r,this.yub,this.xub,s]),this.southEast=new t.Quadtree([this.xlb,s,r,this.ylb]),this.southWest=new t.Quadtree([r,s,this.xub,this.ylb]),e=0;e<i;e+=1)this.northWest.insert(this.points[e]),this.northEast.insert(this.points[e]),this.southEast.insert(this.points[e]),this.southWest.insert(this.points[e])},_query:function(t,e){var i;if(this.contains(t,e)){if(null===this.northWest)return this;if(i=this.northWest._query(t,e))return i;if(i=this.northEast._query(t,e))return i;if(i=this.southEast._query(t,e))return i;if(i=this.southWest._query(t,e))return i}return!1},query:function(t,i){var r,s;return e.exists(i)?(r=t,s=i):(r=t.usrCoords[1],s=t.usrCoords[2]),this._query(r,s)}}),t.Quadtree})),define("math/numerics",["jxg","utils/type","utils/env","math/math"],(function(t,e,i,r){"use strict";var s={rk4:{s:4,A:[[0,0,0,0],[.5,0,0,0],[0,.5,0,0],[0,0,1,0]],b:[1/6,1/3,1/3,1/6],c:[0,.5,.5,1]},heun:{s:2,A:[[0,0],[1,0]],b:[.5,.5],c:[0,1]},euler:{s:1,A:[[0]],b:[1],c:[0]}};return r.Numerics={Gauss:function(t,i){var s,o,n,a,h,l=r.eps,c=t.length>0?t[0].length:0;if(c!==i.length||c!==t.length)throw new Error("JXG.Math.Numerics.Gauss: Dimensions don't match. A must be a square matrix and b must be of the same length as A.");for(a=[],h=i.slice(0,c),s=0;s<c;s++)a[s]=t[s].slice(0,c);for(o=0;o<c;o++){for(s=c-1;s>o;s--)if(Math.abs(a[s][o])>l)if(Math.abs(a[o][o])<l)e.swap(a,s,o),e.swap(h,s,o);else for(a[s][o]/=a[o][o],h[s]-=a[s][o]*h[o],n=o+1;n<c;n++)a[s][n]-=a[s][o]*a[o][n];if(Math.abs(a[o][o])<l)throw new Error("JXG.Math.Numerics.Gauss(): The given matrix seems to be singular.")}return this.backwardSolve(a,h,!0),h},backwardSolve:function(t,e,i){var r,s,o,n,a;for(r=i?e:e.slice(0,e.length),s=t.length,o=t.length>0?t[0].length:0,n=s-1;n>=0;n--){for(a=o-1;a>n;a--)r[n]-=t[n][a]*r[a];r[n]/=t[n][n]}return r},gaussBareiss:function(t){var e,i,s,o,n,a,h,l,c,d=r.eps;if((h=t.length)<=0)return 0;for(t[0].length<h&&(h=t[0].length),l=[],o=0;o<h;o++)l[o]=t[o].slice(0,h);for(i=1,s=1,e=0;e<h-1;e++){if(a=l[e][e],Math.abs(a)<d){for(o=e+1;o<h&&!(Math.abs(l[o][e])>=d);o++);if(o===h)return 0;for(n=e;n<h;n++)c=l[o][n],l[o][n]=l[e][n],l[e][n]=c;s=-s,a=l[e][e]}for(o=e+1;o<h;o++)for(n=e+1;n<h;n++)c=a*l[o][n]-l[o][e]*l[e][n],l[o][n]=c/i;i=a}return s*l[h-1][h-1]},det:function(t){return 2===t.length&&2===t[0].length?t[0][0]*t[1][1]-t[1][0]*t[0][1]:this.gaussBareiss(t)},Jacobi:function(t){var e,i,s,o,n,a,h,l,c,d=r.eps*r.eps,u=0,p=t.length,f=[[0,0,0],[0,0,0],[0,0,0]],m=[[0,0,0],[0,0,0],[0,0,0]],g=0;for(e=0;e<p;e++){for(i=0;i<p;i++)f[e][i]=0,m[e][i]=t[e][i],u+=Math.abs(m[e][i]);f[e][e]=1}if(1===p)return[m,f];if(u<=0)return[m,f];u/=p*p;do{for(l=0,c=0,i=1;i<p;i++)for(e=0;e<i;e++)if((o=Math.abs(m[e][i]))>c&&(c=o),l+=o,o>=d){for(o=.5*Math.atan2(2*m[e][i],m[e][e]-m[i][i]),n=Math.sin(o),a=Math.cos(o),s=0;s<p;s++)h=m[s][e],m[s][e]=a*h+n*m[s][i],m[s][i]=-n*h+a*m[s][i],h=f[s][e],f[s][e]=a*h+n*f[s][i],f[s][i]=-n*h+a*f[s][i];for(m[e][e]=a*m[e][e]+n*m[i][e],m[i][i]=-n*m[e][i]+a*m[i][i],m[e][i]=0,s=0;s<p;s++)m[e][s]=m[s][e],m[i][s]=m[s][i]}g+=1}while(Math.abs(l)/u>d&&g<2e3);return[m,f]},NewtonCotes:function(t,i,r){var s,o,n,a=0,h=r&&e.isNumber(r.number_of_nodes)?r.number_of_nodes:28,l={trapez:!0,simpson:!0,milne:!0},c=r&&r.integration_type&&l.hasOwnProperty(r.integration_type)&&l[r.integration_type]?r.integration_type:"milne",d=(t[1]-t[0])/h;switch(c){case"trapez":for(a=.5*(i(t[0])+i(t[1])),s=t[0],o=0;o<h-1;o++)a+=i(s+=d);a*=d;break;case"simpson":if(h%2>0)throw new Error("JSXGraph:  INT_SIMPSON requires config.number_of_nodes dividable by 2.");for(n=h/2,a=i(t[0])+i(t[1]),s=t[0],o=0;o<n-1;o++)a+=2*i(s+=2*d);for(s=t[0]-d,o=0;o<n;o++)a+=4*i(s+=2*d);a*=d/3;break;default:if(h%4>0)throw new Error("JSXGraph: Error in INT_MILNE: config.number_of_nodes must be a multiple of 4");for(n=.25*h,a=7*(i(t[0])+i(t[1])),s=t[0],o=0;o<n-1;o++)a+=14*i(s+=4*d);for(s=t[0]-3*d,o=0;o<n;o++)a+=32*(i(s+=4*d)+i(s+2*d));for(s=t[0]-2*d,o=0;o<n;o++)a+=12*i(s+=4*d);a*=2*d/45}return a},Romberg:function(t,i,r){var s,o,n,a,h,l,c,d,u=[],p=0,f=1/0,m=r&&e.isNumber(r.max_iterations)?r.max_iterations:20,g=r&&e.isNumber(r.eps)?r.eps:r.eps||1e-7;for(s=t[0],n=(o=t[1])-s,h=1,u[0]=.5*n*(i(s)+i(o)),l=0;l<m;++l){for(a=0,n*=.5,h*=2,d=1,c=1;c<h;c+=2)a+=i(s+c*n);for(u[l+1]=.5*u[l]+a*n,p=u[l+1],c=l-1;c>=0;--c)d*=4,u[c]=u[c+1]+(u[c+1]-u[c])/(d-1),p=u[c];if(Math.abs(p-f)<g*Math.abs(p))break;f=p}return p},GaussLegendre:function(t,i,r){var s,o,n,a,h,l,c,d,u=0,p=[],f=[],m=r&&e.isNumber(r.n)?r.n:12;if(m>18&&(m=18),p[2]=[.5773502691896257],f[2]=[1],p[4]=[.33998104358485626,.8611363115940526],f[4]=[.6521451548625461,.34785484513745385],p[6]=[.2386191860831969,.6612093864662645,.932469514203152],f[6]=[.46791393457269104,.3607615730481386,.17132449237917036],p[8]=[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],f[8]=[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],p[10]=[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],f[10]=[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],p[12]=[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],f[12]=[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],p[14]=[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],f[14]=[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],p[16]=[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],f[16]=[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],p[18]=[.0847750130417353,.2518862256915055,.41175116146284263,.5597708310739475,.6916870430603532,.8037049589725231,.8926024664975557,.9558239495713977,.9915651684209309],f[18]=[.1691423829631436,.16427648374583273,.15468467512626524,.14064291467065065,.12255520671147846,.10094204410628717,.07642573025488905,.0497145488949698,.02161601352648331],p[3]=[0,.7745966692414834],f[3]=[.8888888888888888,.5555555555555556],p[5]=[0,.5384693101056831,.906179845938664],f[5]=[.5688888888888889,.47862867049936647,.23692688505618908],p[7]=[0,.4058451513773972,.7415311855993945,.9491079123427585],f[7]=[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],p[9]=[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],f[9]=[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],p[11]=[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],f[11]=[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],p[13]=[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],f[13]=[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],p[15]=[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],f[15]=[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],p[17]=[0,.17848418149584785,.3512317634538763,.5126905370864769,.6576711592166907,.7815140038968014,.8802391537269859,.9506755217687678,.9905754753144174],f[17]=[.17944647035620653,.17656270536699264,.16800410215645004,.15404576107681028,.13513636846852548,.11188384719340397,.08503614831717918,.0554595293739872,.02414830286854793],s=t[0],o=t[1],a=m+1>>1,c=p[m],d=f[m],l=.5*(o-s),h=.5*(o+s),!0&m)for(u=d[0]*i(h),n=1;n<a;++n)u+=d[n]*(i(h+l*c[n])+i(h-l*c[n]));else for(u=0,n=0;n<a;++n)u+=d[n]*(i(h+l*c[n])+i(h-l*c[n]));return l*u},_rescale_error:function(t,e,i){var r,s,o=2220446049250313e-31;return t=Math.abs(t),0!==i&&0!==t&&(t=(r=Math.pow(200*t/i,1.5))<1?i*r:i),e>20041683600089728e-310&&(s=50*o*e)>t&&(t=s),t},_gaussKronrod:function(t,e,i,r,s,o,n){var a,h,l,c,d,u,p,f,m,g,b,v=t[0],y=t[1],C=.5*(v+y),_=.5*(y-v),P=Math.abs(_),E=e(C),x=0,S=E*o[i-1],O=Math.abs(S),w=0,T=[],N=[];for(i%2==0&&(x=E*s[i/2-1]),a=Math.floor((i-1)/2),d=0;d<a;d++)g=(f=e(C-(p=_*r[u=2*d+1])))+(m=e(C+p)),T[u]=f,N[u]=m,x+=s[d]*g,S+=o[u]*g,O+=o[u]*(Math.abs(f)+Math.abs(m));for(a=Math.floor(i/2),d=0;d<a;d++)f=e(C-(p=_*r[b=2*d])),m=e(C+p),T[b]=f,N[b]=m,S+=o[b]*(f+m),O+=o[b]*(Math.abs(f)+Math.abs(m));for(l=.5*S,w=o[i-1]*Math.abs(E-l),d=0;d<i-1;d++)w+=o[d]*(Math.abs(T[d]-l)+Math.abs(N[d]-l));return c=(S-x)*_,O*=P,w*=P,h=S*=_,n.abserr=this._rescale_error(c,O,w),n.resabs=O,n.resasc=w,h},GaussKronrod15:function(t,e,i){return this._gaussKronrod(t,e,8,[.9914553711208126,.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782],i)},GaussKronrod21:function(t,e,i){return this._gaussKronrod(t,e,11,[.9956571630258081,.9739065285171717,.9301574913557082,.8650633666889845,.7808177265864169,.6794095682990244,.5627571346686047,.4333953941292472,.2943928627014602,.14887433898163122,0],[.06667134430868814,.1494513491505806,.21908636251598204,.26926671930999635,.29552422471475287],[.011694638867371874,.032558162307964725,.054755896574351995,.07503967481091996,.0931254545836976,.10938715880229764,.12349197626206584,.13470921731147334,.14277593857706009,.14773910490133849,.1494455540029169],i)},GaussKronrod31:function(t,e,i){return this._gaussKronrod(t,e,16,[.9980022986933971,.9879925180204854,.9677390756791391,.937273392400706,.8972645323440819,.8482065834104272,.790418501442466,.7244177313601701,.650996741297417,.5709721726085388,.4850818636402397,.3941513470775634,.29918000715316884,.20119409399743451,.1011420669187175,0],[.03075324199611727,.07036604748810812,.10715922046717194,.13957067792615432,.16626920581699392,.1861610000155622,.19843148532711158,.2025782419255613],[.005377479872923349,.015007947329316122,.02546084732671532,.03534636079137585,.04458975132476488,.05348152469092809,.06200956780067064,.06985412131872826,.07684968075772038,.08308050282313302,.08856444305621176,.09312659817082532,.09664272698362368,.09917359872179196,.10076984552387559,.10133000701479154],i)},_workspace:function(t,e){return{limit:e,size:0,nrmax:0,i:0,alist:[t[0]],blist:[t[1]],rlist:[0],elist:[0],order:[0],level:[0],qpsrt:function(){var t,e,i,r,s,o=this.size-1,n=this.limit,a=this.nrmax,h=this.order[a];if(o<2)return this.order[0]=0,this.order[1]=1,void(this.i=h);for(t=this.elist[h];a>0&&t>this.elist[this.order[a-1]];)this.order[a]=this.order[a-1],a--;for(s=o<n/2+2?o:n-o+1,i=a+1;i<s&&t<this.elist[this.order[i]];)this.order[i-1]=this.order[i],i++;for(this.order[i-1]=h,e=this.elist[o],r=s-1;r>i-2&&e>=this.elist[this.order[r]];)this.order[r+1]=this.order[r],r--;this.order[r+1]=o,h=this.order[a],this.i=h,this.nrmax=a},set_initial_result:function(t,e){this.size=1,this.rlist[0]=t,this.elist[0]=e},update:function(t,e,i,r,s,o,n,a){var h=this.i,l=this.size,c=this.level[this.i]+1;a>r?(this.alist[h]=s,this.rlist[h]=n,this.elist[h]=a,this.level[h]=c,this.alist[l]=t,this.blist[l]=e,this.rlist[l]=i,this.elist[l]=r,this.level[l]=c):(this.blist[h]=e,this.rlist[h]=i,this.elist[h]=r,this.level[h]=c,this.alist[l]=s,this.blist[l]=o,this.rlist[l]=n,this.elist[l]=a,this.level[l]=c),this.size++,c>this.maximum_level&&(this.maximum_level=c),this.qpsrt()},retrieve:function(){var t=this.i;return{a:this.alist[t],b:this.blist[t],r:this.rlist[t],e:this.elist[t]}},sum_results:function(){var t,e=this.size,i=0;for(t=0;t<e;t++)i+=this.rlist[t];return i},subinterval_too_small:function(t,e,i){var r=1.0000000000000222*(Math.abs(e)+22250738585072014e-321);return Math.abs(t)<=r&&Math.abs(i)<=r}}},Qag:function(i,s,o){var n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x=this._workspace(i,1e3),S=o&&e.isNumber(o.limit)?o.limit:15,O=o&&e.isNumber(o.epsrel)?o.epsrel:1e-7,w=o&&e.isNumber(o.epsabs)?o.epsabs:1e-7,T=o&&e.isFunction(o.q)?o.q:this.GaussKronrod15,N={},M=0,A=0,R=0,L=0,k=0,D=0,B=0,I=0,Y=0,j=0;if(S>x.limit&&t.warn("iteration limit exceeds available workspace"),w<=0&&(O<50*r.eps||O<5e-29)&&t.warn("tolerance cannot be acheived with given epsabs and epsrel"),h=T.apply(this,[i,s,N]),l=N.abserr,c=N.resabs,d=N.resasc,x.set_initial_result(h,l),u=Math.max(w,O*Math.abs(h)),l<=11102230246251565e-30*c&&l>u)return h,t.warn("cannot reach tolerance because of roundoff error on first attempt"),-1/0;if(l<=u&&l!==d||0===l)return h;if(1===S)return h,t.warn("a maximum of one iteration was insufficient"),-1/0;n=h,a=l,M=1;do{k=0,D=0,B=0,I=0,Y=0,j=0,b=(P=x.retrieve()).a,v=P.b,y=P.r,C=P.e,p=b,m=f=.5*(b+v),g=v,k=T.apply(this,[[p,f],s,N]),I=N.abserr,_=N.resasc,D=T.apply(this,[[m,g],s,N]),a+=(j=I+(Y=N.abserr))-C,n+=(B=k+D)-y,_!==I&&N.resasc!==Y&&(E=y-B,Math.abs(E)<=1e-5*Math.abs(B)&&j>=.99*C&&A++,M>=10&&j>C&&R++),a>(u=Math.max(w,O*Math.abs(n)))&&((A>=6||R>=20)&&(L=2),x.subinterval_too_small(p,m,g)&&(L=3)),x.update(p,f,k,I,m,g,D,Y),b=(P=x.retrieve()).a_i,v=P.b_i,y=P.r_i,C=P.e_i,M++}while(M<S&&!L&&a>u);return x.sum_results()},I:function(t,e){return this.Qag(t,e,{q:this.GaussKronrod15,limit:15,epsrel:1e-7,epsabs:1e-7})},Newton:function(t,i,s){var o,n=0,a=r.eps,h=t.apply(s,[i]);for(e.isArray(i)&&(i=i[0]);n<50&&Math.abs(h)>a;)o=this.D(t,s)(i),Math.abs(o)>a?i-=h/o:i+=.2*Math.random()-1,h=t.apply(s,[i]),n+=1;return i},root:function(t,e,i){return this.chandrupatla(t,e,i)},generalizedNewton:function(t,e,i,s){var o,n,a,h,l,c,d,u,p,f,m,g,b,v,y=0;for(this.generalizedNewton.t1memo?(o=this.generalizedNewton.t1memo,n=this.generalizedNewton.t2memo):(o=i,n=s),f=(u=t.X(o)-e.X(n))*u+(p=t.Y(o)-e.Y(n))*p,m=this.D(t.X,t),g=this.D(e.X,e),b=this.D(t.Y,t),v=this.D(e.Y,e);f>r.eps&&y<10;)a=m(o),h=-g(n),l=b(o),o-=((c=-v(n))*u-h*p)/(d=a*c-h*l),n-=(a*p-l*u)/d,f=(u=t.X(o)-e.X(n))*u+(p=t.Y(o)-e.Y(n))*p,y+=1;return this.generalizedNewton.t1memo=o,this.generalizedNewton.t2memo=n,Math.abs(o)<Math.abs(n)?[t.X(o),t.Y(o)]:[e.X(n),e.Y(n)]},Neville:function(t){var e=[],i=function(i){return function(s,o){var n,a,h,l=r.binomial,c=t.length,d=c-1,u=0,p=0;if(!o)for(h=1,n=0;n<c;n++)e[n]=l(d,n)*h,h*=-1;for(a=s,n=0;n<c;n++){if(0===a)return t[n][i]();h=e[n]/a,a-=1,u+=t[n][i]()*h,p+=h}return u/p}};return[i("X"),i("Y"),0,function(){return t.length-1}]},splineDef:function(t,e){var i,r,s,o=Math.min(t.length,e.length),n=[],a=[],h=[],l=[],c=[],d=[];if(2===o)return[0,0];for(r=0;r<o;r++)i={X:t[r],Y:e[r]},h.push(i);for(h.sort((function(t,e){return t.X-e.X})),r=0;r<o;r++)t[r]=h[r].X,e[r]=h[r].Y;for(r=0;r<o-1;r++)l.push(t[r+1]-t[r]);for(r=0;r<o-2;r++)c.push(6*(e[r+2]-e[r+1])/l[r+1]-6*(e[r+1]-e[r])/l[r]);for(n.push(2*(l[0]+l[1])),a.push(c[0]),r=0;r<o-3;r++)s=l[r+1]/n[r],n.push(2*(l[r+1]+l[r+2])-s*l[r+1]),a.push(c[r+1]-s*a[r]);for(d[o-3]=a[o-3]/n[o-3],r=o-4;r>=0;r--)d[r]=(a[r]-l[r+1]*d[r+1])/n[r];for(r=o-3;r>=0;r--)d[r+1]=d[r];return d[0]=0,d[o-1]=0,d},splineEval:function(t,i,r,s){var o,n,a,h,l,c,d,u=Math.min(i.length,r.length),p=1,f=!1,m=[];for(e.isArray(t)?(p=t.length,f=!0):t=[t],o=0;o<p;o++){if(t[o]<i[0]||i[o]>i[u-1])return NaN;for(n=1;n<u&&!(t[o]<=i[n]);n++);a=r[n-=1],h=(r[n+1]-r[n])/(i[n+1]-i[n])-(i[n+1]-i[n])/6*(s[n+1]+2*s[n]),l=s[n]/2,c=(s[n+1]-s[n])/(6*(i[n+1]-i[n])),d=t[o]-i[n],m.push(a+(h+(l+c*d)*d)*d)}return f?m:m[0]},generatePolynomialTerm:function(t,e,i,r){var s,o=[];for(s=e;s>=0;s--)o=o.concat(["(",t[s].toPrecision(r),")"]),s>1?o=o.concat(["*",i,"<sup>",s,"<","/sup> + "]):1===s&&(o=o.concat(["*",i," + "]));return o.join("")},lagrangePolynomial:function(t){var e=[],i=this,r=function(i,r){var s,o,n,a,h=t.length,l=0,c=0;if(!r)for(s=0;s<h;s++){for(e[s]=1,n=t[s].X(),o=0;o<h;o++)o!==s&&(e[s]*=n-t[o].X());e[s]=1/e[s]}for(s=0;s<h;s++){if(i===(n=t[s].X()))return t[s].Y();c+=a=e[s]/(i-n),l+=a*t[s].Y()}return l/c};return r.getTerm=function(e,r,s){return i.lagrangePolynomialTerm(t,e,r,s)()},r},lagrangePolynomialTerm:function(e,s,o,n){return function(){var a,h,l,c,d,u,p=e.length,f=[],m=[],g=[],b=!0;for(o=o||"x",void 0===n&&(n=" * "),a=p-1,c=0;c<p;c++)g[c]=0;for(l=0;l<p;l++){for(d=e[l].Y(),u=e[l].X(),f=[],c=0;c<p;c++)c!==l&&(d/=u-e[c].X(),f.push(e[c].X()));for(m=[1].concat(r.Vieta(f)),c=0;c<m.length;c++)g[c]+=(c%2==1?-1:1)*m[c]*d}for(h="",c=0;c<g.length;c++)d=g[c],Math.abs(d)<r.eps||(t.exists(s)&&(d=i._round10(d,-s)),b?(h+=d>0?d:"-"+-d,b=!1):h+=d>0?" + "+d:" - "+-d,a-c>1?h+=n+o+"^"+(a-c):a-c==1&&(h+=n+o));return h}},_initCubicPoly:function(t,e,i,r){return[t,i,-3*t+3*e-2*i-r,2*t-2*e+i+r]},CardinalSpline:function(t,i,s){var o,n,a,h,l=[],c=this;return h=e.isFunction(i)?i:function(){return i},void 0===s&&(s="uniform"),n=function(e){return function(i,n){var d,u,p,f,m,g,b,v,y,C;if(t.length<2)return NaN;if(!n)for(a=h(),p={X:function(){return 2*t[0].X()-t[1].X()},Y:function(){return 2*t[0].Y()-t[1].Y()},Dist:function(t){var e=this.X()-t.X(),i=this.Y()-t.Y();return Math.sqrt(e*e+i*i)}},f={X:function(){return 2*t[t.length-1].X()-t[t.length-2].X()},Y:function(){return 2*t[t.length-1].Y()-t[t.length-2].Y()},Dist:function(t){var e=this.X()-t.X(),i=this.Y()-t.Y();return Math.sqrt(e*e+i*i)}},C=(o=[p].concat(t,[f])).length,l[e]=[],d=0;d<C-3;d++)"centripetal"===s?(b=o[d].Dist(o[d+1]),v=o[d+2].Dist(o[d+1]),y=o[d+3].Dist(o[d+2]),b=Math.sqrt(b),v=Math.sqrt(v),y=Math.sqrt(y),v<r.eps&&(v=1),b<r.eps&&(b=v),y<r.eps&&(y=v),m=(o[d+1][e]()-o[d][e]())/b-(o[d+2][e]()-o[d][e]())/(v+b)+(o[d+2][e]()-o[d+1][e]())/v,g=(o[d+2][e]()-o[d+1][e]())/v-(o[d+3][e]()-o[d+1][e]())/(y+v)+(o[d+3][e]()-o[d+2][e]())/y,m*=v,g*=v,l[e][d]=c._initCubicPoly(o[d+1][e](),o[d+2][e](),a*m,a*g)):l[e][d]=c._initCubicPoly(o[d+1][e](),o[d+2][e](),a*(o[d+2][e]()-o[d][e]()),a*(o[d+3][e]()-o[d+1][e]()));return isNaN(i)?NaN:(C=t.length,i<=0?t[0][e]():i>=C?t[C-1][e]():(d=Math.floor(i))===i?t[d][e]():(i-=d,void 0===(u=l[e][d])?NaN:((u[3]*i+u[2])*i+u[1])*i+u[0]))}},[n("X"),n("Y"),0,function(){return t.length-1}]},CatmullRomSpline:function(t,e){return this.CardinalSpline(t,.5,e)},regressionPolynomial:function(t,i,s){var o,n,a,h,l,c,d="";if(e.isPoint(t)&&e.isFunction(t.Value))n=function(){return t.Value()};else if(e.isFunction(t))n=t;else{if(!e.isNumber(t))throw new Error("JSXGraph: Can't create regressionPolynomial from degree of type'"+typeof t+"'.");n=function(){return t}}if(3===arguments.length&&e.isArray(i)&&e.isArray(s))l=0;else if(2===arguments.length&&e.isArray(i)&&i.length>0&&e.isPoint(i[0]))l=1;else{if(!(2===arguments.length&&e.isArray(i)&&i.length>0&&i[0].usrCoords&&i[0].scrCoords))throw new Error("JSXGraph: Can't create regressionPolynomial. Wrong parameters.");l=2}return(c=function(t,c){var u,p,f,m,g,b,v,y,C,_=i.length;if(C=Math.floor(n()),!c){if(1===l)for(a=[],h=[],u=0;u<_;u++)a[u]=i[u].X(),h[u]=i[u].Y();if(2===l)for(a=[],h=[],u=0;u<_;u++)a[u]=i[u].usrCoords[1],h[u]=i[u].usrCoords[2];if(0===l)for(a=[],h=[],u=0;u<_;u++)e.isFunction(i[u])?a.push(i[u]()):a.push(i[u]),e.isFunction(s[u])?h.push(s[u]()):h.push(s[u]);for(f=[],p=0;p<_;p++)f.push([1]);for(u=1;u<=C;u++)for(p=0;p<_;p++)f[p][u]=f[p][u-1]*a[p];g=h,m=r.transpose(f),b=r.matMatMult(m,f),v=r.matVecMult(m,g),o=r.Numerics.Gauss(b,v),d=r.Numerics.generatePolynomialTerm(o,C,"x",3)}for(y=o[C],u=C-1;u>=0;u--)y=y*t+o[u];return y}).getTerm=function(){return d},c},bezier:function(t){var e,i,r=function(r){return function(s,o){var n=3*Math.floor(s),a=s%1,h=1-a;return o||(i=3*Math.floor((t.length-1)/3),e=Math.floor(i/3)),s<0?t[0][r]():s>=e?t[i][r]():isNaN(s)?NaN:h*h*(h*t[n][r]()+3*a*t[n+1][r]())+(3*h*t[n+2][r]()+a*t[n+3][r]())*a*a}};return[r("X"),r("Y"),0,function(){return Math.floor(t.length/3)}]},bspline:function(t,e){var i,r=function(r){return function(s,o){var n,a,h,l,c=t.length,d=c-1,u=e;if(d<=0)return NaN;if(d+2<=u&&(u=d+1),s<=0)return t[0][r]();if(s>=d-u+2)return t[d][r]();for(h=Math.floor(s)+u-1,i=function(t,e){var i,r=[];for(i=0;i<t+e+1;i++)r[i]=i<e?0:i<=t?i-e+1:t-e+2;return r}(d,u),l=function(t,e,i,r){var s,o,n,a,h,l=[];for(e[r]<=t&&t<e[r+1]?l[r]=1:l[r]=0,s=2;s<=i;s++)for(o=r-s+1;o<=r;o++)n=o<=r-s+1||o<0?0:l[o],a=o>=r?0:l[o+1],h=e[o+s-1]-e[o],l[o]=0===h?0:(t-e[o])/h*n,0!=(h=e[o+s]-e[o+1])&&(l[o]+=(e[o+s]-t)/h*a);return l}(s,i,u,h),n=0,a=h-u+1;a<=h;a++)a<c&&a>=0&&(n+=t[a][r]()*l[a]);return n}};return[r("X"),r("Y"),0,function(){return t.length-1}]},D:function(t,i){return e.exists(i)?function(e,r){var s=1e-5;return(t.apply(i,[e+s,r])-t.apply(i,[e-s,r]))/2e-5}:function(e,i){var r=1e-5;return(t(e+r,i)-t(e-r,i))/2e-5}},_riemannValue:function(t,e,i,r){var s,o,n,a;if(r<0&&("trapezoidal"!==i&&(t+=r),r*=-1,"lower"===i?i="upper":"upper"===i&&(i="lower")),a=.01*r,"right"===i)s=e(t+r);else if("middle"===i)s=e(t+.5*r);else if("left"===i||"trapezoidal"===i)s=e(t);else if("lower"===i){for(s=e(t),n=t+a;n<=t+r;n+=a)(o=e(n))<s&&(s=o);(o=e(t+r))<s&&(s=o)}else if("upper"===i){for(s=e(t),n=t+a;n<=t+r;n+=a)(o=e(n))>s&&(s=o);(o=e(t+r))>s&&(s=o)}else s="random"===i?e(t+r*Math.random()):"simpson"===i?(e(t)+4*e(t+.5*r)+e(t+r))/6:e(t);return s},riemann:function(t,i,r,s,o){var n,a,h,l,c,d,u,p=[],f=[],m=0,g=s,b=0;if(e.isArray(t)?(c=t[0],l=t[1]):l=t,(i=Math.floor(i))<=0)return[p,f,b];for(a=(o-s)/i,n=0;n<i;n++)h=this._riemannValue(g,l,r,a),p[m]=g,f[m]=h,m+=1,g+=a,"trapezoidal"===r&&(h=l(g)),p[m]=g,f[m]=h,m+=1;for(n=0;n<i;n++)h=c?this._riemannValue(g,c,r,-a):0,p[m]=g,f[m]=h,m+=1,g-=a,"trapezoidal"===r&&c&&(h=c(g)),p[m]=g,f[m]=h,"trapezoidal"!==r?(d=h,u=f[2*(i-1)-2*n]):(u=.5*(l(g+a)+l(g)),d=c?.5*(c(g+a)+c(g)):0),b+=(u-d)*a,p[m+=1]=g,f[m]=f[2*(i-1)-2*n],m+=1;return[p,f,b]},riemannsum:function(e,i,r,s,o){return t.deprecated("Numerics.riemannsum()","Numerics.riemann()"),this.riemann(e,i,r,s,o)[2]},rungeKutta:function(t,i,r,o,n){var a,h,l,c,d,u,p=[],f=[],m=(r[1]-r[0])/o,g=r[0],b=i.length,v=[],y=0;for(e.isString(t)&&(t=s[t]||s.euler),u=t.s,a=0;a<b;a++)p[a]=i[a];for(h=0;h<o;h++){for(v[y]=[],a=0;a<b;a++)v[y][a]=p[a];for(y+=1,c=[],l=0;l<u;l++){for(a=0;a<b;a++)f[a]=0;for(d=0;d<l;d++)for(a=0;a<b;a++)f[a]+=t.A[l][d]*m*c[d][a];for(a=0;a<b;a++)f[a]+=p[a];c.push(n(g+t.c[l]*m,f))}for(a=0;a<b;a++)f[a]=0;for(d=0;d<u;d++)for(a=0;a<b;a++)f[a]+=t.b[d]*c[d][a];for(a=0;a<b;a++)p[a]=p[a]+m*f[a];g+=m}return v},maxIterationsRoot:80,maxIterationsMinimize:500,findBracket:function(t,i,r){var s,o,n,a,h,l,c,d,u,p;if(e.isArray(i))return i;for(s=i,n=t.call(r,s),p=(a=[s-.1*(o=0===s?1:s),s+.1*o,s-1,s+1,s-.5*o,s+.5*o,s-.6*o,s+.6*o,s-1*o,s+1*o,s-2*o,s+2*o,s-5*o,s+5*o,s-10*o,s+10*o,s-50*o,s+50*o,s-100*o,s+100*o]).length,u=0;u<p&&(h=a[u],!(n*(l=t.call(r,h))<=0));u++);return h<s&&(c=s,s=h,h=c,d=n,n=l,l=d),[s,n,h,l]},fzero:function(t,i,s){var o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C=r.eps,_=this.maxIterationsRoot,P=0;if(e.isArray(i)){if(i.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");o=i[0],h=t.call(s,o),n=i[1],l=t.call(s,n)}else o=(d=this.findBracket(t,i,s))[0],h=d[1],n=d[2],l=d[3];if(Math.abs(h)<=C)return o;if(Math.abs(l)<=C)return n;if(h*l>0)return e.isArray(i)?this.fminbr(t,[o,n],s):this.Newton(t,o,s);for(a=o,c=h;P<_;){if(u=n-o,Math.abs(c)<Math.abs(l)&&(o=n,n=a,a=o,h=l,l=c,c=h),g=2*C*Math.abs(n)+.5*C,y=.5*(a-n),Math.abs(y)<=g||Math.abs(l)<=C)return n;Math.abs(u)>=g&&Math.abs(h)>Math.abs(l)&&(f=a-n,o===a?(b=f*(p=l/h),v=1-p):(b=(m=l/h)*(f*(v=h/c)*(v-(p=l/c))-(n-o)*(p-1)),v=(v-1)*(p-1)*(m-1)),b>0?v=-v:b=-b,b<.75*f*v-.5*Math.abs(g*v)&&b<Math.abs(u*v*.5)&&(y=b/v)),Math.abs(y)<g&&(y=y>0?g:-g),o=n,h=l,n+=y,((l=t.call(s,n))>0&&c>0||l<0&&c<0)&&(a=o,c=h),P++}return n},chandrupatla:function(t,i,s){var o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S=0,O=this.maxIterationsRoot,w=1+.001*Math.random(),T=.5*w,N=r.eps;if(e.isArray(i)){if(i.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");o=i[0],n=t.call(s,o),a=i[1],h=t.call(s,a)}else o=(l=this.findBracket(t,i,s))[0],n=l[1],a=l[2],h=l[3];if(n*h>0)return e.isArray(i)?this.fminbr(t,[o,a],s):this.Newton(t,o,s);c=o,d=a,f=n,m=h;do{if(p=c+T*(d-c),b=t.call(s,p),Math.sign(b)===Math.sign(f)?(u=c,c=p,g=f,f=b):(u=d,d=c,g=m,m=f),v=c=p,y=f=b,Math.abs(m)<Math.abs(f)&&(v=d,y=m),(C=(2*N*Math.abs(v)+5e-6)/Math.abs(d-c))>.5||0===y)break;_=(c-d)/(u-d),P=(f-m)/(g-m),E=1-Math.sqrt(1-_),x=Math.sqrt(_),(T=E<P&&P<x?f/(m-f)*(g/(m-g))+f/(g-f)*(m/(g-m))*((u-c)/(d-c)):.5*w)<C&&(T=C),T>1-C&&(T=1-C),S++}while(S<=O);return v},fminbr:function(t,i,s){var o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_=.5*(3-Math.sqrt(5)),P=r.eps,E=r.eps,x=this.maxIterationsMinimize,S=0;if(!e.isArray(i)||i.length<2)throw new Error("JXG.Math.Numerics.fminbr: length of array x0 has to be at least two.");for(a=h=(o=i[0])+_*((n=i[1])-o),l=h,c=d=t.call(s,h),u=d;S<x;){if(p=n-o,f=.5*(o+n),m=E*Math.abs(a)+P/3,Math.abs(a-f)+.5*p<=2*m)return a;g=_*(a<f?n-a:o-a),Math.abs(a-l)>=m&&(b=(a-h)*(v=(a-h)*(c-u))-(a-l)*(y=(a-l)*(c-d)),(v=2*(v-y))>0?b=-b:v=-v,Math.abs(b)<Math.abs(g*v)&&b>v*(o-a+2*m)&&b<v*(n-a-2*m)&&(g=b/v)),Math.abs(g)<m&&(g=g>0?m:-m),y=a+g,(C=t.call(s,y))<=c?(y<a?n=a:o=a,h=l,l=a,a=y,d=u,u=c,c=C):(y<a?o=y:n=y,C<=u||l===a?(h=l,l=y,d=u,u=C):(C<=d||h===a||h===l)&&(h=y,d=C)),S+=1}return a},RamerDouglasPeucker:function(t,e){var i,s,o,n=[],a=[],h=function(t,e,i,s,o){var n=function(t,e,i){var s,o,n,a,h,l,c,d,u,p,f,m=1e4,g=0,b=e;if(i-e<2)return[-1,0];if(n=t[e].scrCoords,a=t[i].scrCoords,isNaN(n[1])||isNaN(n[2]))return[NaN,e];if(isNaN(a[1])||isNaN(a[2]))return[NaN,i];for(o=e+1;o<i;o++){if(h=t[o].scrCoords,isNaN(h[1])||isNaN(h[2]))return[NaN,o];l=(l=(l=h[1]-n[1])==1/0?m:l)===-1/0?-m:l,c=(c=(c=h[2]-n[2])==1/0?m:c)===-1/0?-m:c,(p=(d=(d=(d=a[1]-n[1])==1/0?m:d)===-1/0?-m:d)*d+(u=(u=(u=a[2]-n[2])==1/0?m:u)===-1/0?-m:u)*u)>=r.eps?((f=(l*d+c*u)/p)<0?f=0:f>1&&(f=1),s=(l-=f*d)*l+(c-=f*u)*c):(f=0,s=l*l+c*c),s>g&&(g=s,b=o)}return[Math.sqrt(g),b]}(t,e,i),a=n[1];if(isNaN(n[0])){h(t,e,a-1,s,o),o.push(t[a]);do{++a}while(a<=i&&isNaN(t[a].scrCoords[1]+t[a].scrCoords[2]));a<=i&&o.push(t[a]),h(t,a+1,i,s,o)}else n[0]>s?(h(t,e,a,s,o),h(t,a,i,s,o)):o.push(t[i])};for(o=t.length,i=0;;){for(;i<o&&isNaN(t[i].scrCoords[1]+t[i].scrCoords[2]);)i+=1;for(s=i+1;s<o&&!isNaN(t[s].scrCoords[1]+t[s].scrCoords[2]);)s+=1;if(s--,i<o&&s>i&&((a=[])[0]=t[i],h(t,i,s,e,a),n=n.concat(a)),i>=o)break;s<o-1&&n.push(t[s+1]),i=s+1}return n},RamerDouglasPeuker:function(e,i){return t.deprecated("Numerics.RamerDouglasPeuker()","Numerics.RamerDouglasPeucker()"),this.RamerDouglasPeucker(e,i)},Visvalingam:function(e,i){var r,s,o,n,a,h,l,c,d,u=[],p=[],f=[];if((s=e.length)<=2)return e;for(u[0]={used:!0,lft:null,node:null},a=0,r=1;r<s-1;r++)o=Math.abs(t.Math.Numerics.det([e[r-1].usrCoords,e[r].usrCoords,e[r+1].usrCoords])),isNaN(o)||(d={v:o,idx:r},p.push(d),u[r]={used:!0,lft:a,node:d},u[a].rt=r,a=r);for(u[s-1]={used:!0,rt:null,lft:a,node:null},u[a].rt=s-1,n=-1/0;p.length>i;)p.sort((function(t,e){return e.v-t.v})),u[r=p.pop().idx].used=!1,n=u[r].node.v,a=u[r].lft,h=u[r].rt,u[a].rt=h,u[h].lft=a,null!==(l=u[a].lft)&&(o=Math.abs(t.Math.Numerics.det([e[l].usrCoords,e[a].usrCoords,e[h].usrCoords])),u[a].node.v=o>=n?o:n),null!==(c=u[h].rt)&&(o=Math.abs(t.Math.Numerics.det([e[a].usrCoords,e[h].usrCoords,e[c].usrCoords])),u[h].node.v=o>=n?o:n);f=[e[r=0]];do{r=u[r].rt,f.push(e[r])}while(null!==u[r].rt);return f}},r.Numerics})),define("math/nlp",["jxg"],(function(t){"use strict";return t.Math.Nlp={arr:function(t){var e,i=new Array(t);for(e=0;e<t;e++)i[e]=0;return i},arr2:function(t,e){for(var i=0,r=new Array(t);i<t;)r[i]=this.arr(e),i++;return r},arraycopy:function(t,e,i,r,s){for(var o=0;o<s;)i[o+r]=t[o+e],o++},Normal:0,MaxIterationsReached:1,DivergingRoundingErrors:2,FindMinimum:function(t,e,i,r,s,o,n,a){var h,l,c=i+2,d=this.arr(e+1),u=this;return d[0]=0,this.arraycopy(r,0,d,1,e),l=function(e,i,r,s){var o,n,a=u.arr(e);return u.arraycopy(r,1,a,0,e),o=u.arr(i),n=t(e,i,a,o),u.arraycopy(o,0,s,1,i),n},h=this.cobylb(l,e,i,c,d,s,o,n,a),this.arraycopy(d,1,r,0,e),h},cobylb:function(t,e,i,r,s,o,n,a,h){var l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N,M,A,R,L,k,D,B,I,Y=-1,j=0,X=0,F=e+1,U=i+1,J=o,G=0,z=!1,H=!1,V=0,$=0,q=0,W=this.arr(1+r),Z=this.arr2(1+e,1+F),Q=this.arr2(1+e,1+e),K=this.arr2(1+r,1+F),tt=this.arr2(1+e,1+U),et=this.arr(1+e),it=this.arr(1+e),rt=this.arr(1+e),st=this.arr(1+e),ot=this.arr(1+e);for(a>=2&&console.log("The initial value of RHO is "+J+" and PARMU is set to zero."),g=0,f=1/J,c=1;c<=e;++c)Z[c][F]=s[c],Z[c][c]=J,Q[c][c]=f;b=F,v=!1;t:for(;;){if(g>=h&&g>0){Y=this.MaxIterationsReached;break t}for(++g,j=t(e,i,s,W),X=0,u=1;u<=i;++u)X=Math.max(X,-W[u]);if(g!==a-1&&3!==a||this.PrintIterationResult(g,j,X,s,e,a),W[U]=j,W[r]=X,y=!0,!v){for(y=!1,c=1;c<=r;++c)K[c][b]=W[c];if(g<=F){if(b<=e)if(K[U][F]<=j)s[b]=Z[b][F];else{for(Z[b][F]=s[b],u=1;u<=r;++u)K[u][b]=K[u][F],K[u][F]=W[u];for(u=1;u<=b;++u){for(Z[b][u]=-J,f=0,c=u;c<=b;++c)f-=Q[c][u];Q[b][u]=f}}if(g<=e){s[b=g]+=J;continue t}}v=!0}e:for(;;){i:do{if(!y){for(C=K[U][F]+G*K[r][F],_=F,d=1;d<=e;++d)(f=K[U][d]+G*K[r][d])<C?(_=d,C=f):f===C&&0===G&&K[r][d]<K[r][_]&&(_=d);if(_<=e){for(c=1;c<=r;++c)f=K[c][F],K[c][F]=K[c][_],K[c][_]=f;for(c=1;c<=e;++c){for(f=Z[c][_],Z[c][_]=0,Z[c][F]+=f,m=0,u=1;u<=e;++u)Z[c][u]-=f,m-=Q[u][c];Q[_][c]=m}}for(P=0,c=1;c<=e;++c)for(d=1;d<=e;++d)f=this.DOT_PRODUCT(this.PART(this.ROW(Q,c),1,e),this.PART(this.COL(Z,d),1,e))-(c===d?1:0),P=Math.max(P,Math.abs(f));if(P>.1){Y=this.DivergingRoundingErrors;break t}for(u=1;u<=U;++u){for(W[u]=-K[u][F],d=1;d<=e;++d)ot[d]=K[u][d]+W[u];for(c=1;c<=e;++c)tt[c][u]=(u===U?-1:1)*this.DOT_PRODUCT(this.PART(ot,1,e),this.PART(this.COL(Q,c),1,e))}for(z=!0,V=.25*J,E=2.1*J,d=1;d<=e;++d){for(x=0,u=1;u<=e;++u)x+=Q[d][u]*Q[d][u];for(S=0,u=1;u<=e;++u)S+=Z[u][d]*Z[u][d];et[d]=1/Math.sqrt(x),it[d]=Math.sqrt(S),(et[d]<V||it[d]>E)&&(z=!1)}if(!v&&!z){for(b=0,f=E,d=1;d<=e;++d)it[d]>f&&(b=d,f=it[d]);if(0===b)for(d=1;d<=e;++d)et[d]<f&&(b=d,f=et[d]);for(f=.5*J*et[b],u=1;u<=e;++u)st[u]=f*Q[b][u];for(O=0,w=0,l=0,u=1;u<=U;++u)l=this.DOT_PRODUCT(this.PART(this.COL(tt,u),1,e),this.PART(st,1,e)),u<U&&(f=K[u][F],O=Math.max(O,-l-f),w=Math.max(w,l-f));for(T=G*(O-w)>2*l?-1:1,f=0,c=1;c<=e;++c)st[c]=T*st[c],Z[c][b]=st[c],f+=Q[b][c]*st[c];for(u=1;u<=e;++u)Q[b][u]/=f;for(d=1;d<=e;++d){if(d!==b)for(f=this.DOT_PRODUCT(this.PART(this.ROW(Q,d),1,e),this.PART(st,1,e)),u=1;u<=e;++u)Q[d][u]-=f*Q[b][u];s[d]=Z[d][F]+st[d]}continue t}if(!(H=this.trstlp(e,i,tt,W,J,st))){for(f=0,u=1;u<=e;++u)f+=st[u]*st[u];if(f<.25*J*J){v=!0;break i}}for(l=0,N=0,W[U]=0,u=1;u<=U;++u)l=W[u]-this.DOT_PRODUCT(this.PART(this.COL(tt,u),1,e),this.PART(st,1,e)),u<U&&(N=Math.max(N,l));if(G<1.5*(M=($=K[r][F]-N)>0?l/$:0))for(G=2*M,a>=2&&console.log("Increase in PARMU to "+G),A=K[U][F]+G*K[r][F],d=1;d<=e;++d)if((f=K[U][d]+G*K[r][d])<A||f===A&&0===G&&K[r][d]<K[r][F])continue e;for(q=G*$-l,u=1;u<=e;++u)s[u]=Z[u][F]+st[u];v=!0;continue t}for(y=!1,R=K[U][F]+G*K[r][F]-(j+G*X),0===G&&j===K[U][F]&&(q=$,R=K[r][F]-X),L=R<=0?1:0,b=0,d=1;d<=e;++d)(f=Math.abs(this.DOT_PRODUCT(this.PART(this.ROW(Q,d),1,e),this.PART(st,1,e))))>L&&(b=d,L=f),rt[d]=f*et[d];for(k=1.1*J,p=0,d=1;d<=e;++d)if(rt[d]>=V||rt[d]>=et[d]){if(f=it[d],R>0){for(f=0,u=1;u<=e;++u)f+=Math.pow(st[u]-Z[u][d],2);f=Math.sqrt(f)}f>k&&(p=d,k=f)}if(p>0&&(b=p),0!==b){for(f=0,c=1;c<=e;++c)Z[c][b]=st[c],f+=Q[b][c]*st[c];for(u=1;u<=e;++u)Q[b][u]/=f;for(d=1;d<=e;++d)if(d!==b)for(f=this.DOT_PRODUCT(this.PART(this.ROW(Q,d),1,e),this.PART(st,1,e)),u=1;u<=e;++u)Q[d][u]-=f*Q[b][u];for(u=1;u<=r;++u)K[u][b]=W[u];if(R>0&&R>=.1*q)continue e}}while(0);if(z){if(J<=n){Y=this.Normal;break t}if(D=0,B=0,(J*=.5)<=1.5*n&&(J=n),G>0){for(I=0,u=1;u<=U;++u){for(B=D=K[u][F],c=1;c<=e;++c)D=Math.min(D,K[u][c]),B=Math.max(B,K[u][c]);u<=i&&D<.5*B&&(f=Math.max(B,0)-D,I=I<=0?f:Math.min(I,f))}0===I?G=0:B-D<G*I&&(G=(B-D)/I)}a>=2&&console.log("Reduction in RHO to "+J+"  and PARMU = "+G),2===a&&this.PrintIterationResult(g,K[U][F],K[r][F],this.COL(Z,F),e,a)}else v=!1}}switch(Y){case this.Normal:if(a>=1&&console.log("%nNormal return from subroutine COBYLA%n"),H)return a>=1&&this.PrintIterationResult(g,j,X,s,e,a),Y;break;case this.MaxIterationsReached:a>=1&&console.log("%nReturn from subroutine COBYLA because the MAXFUN limit has been reached.%n");break;case this.DivergingRoundingErrors:a>=1&&console.log("%nReturn from subroutine COBYLA because rounding errors are becoming damaging.%n")}for(u=1;u<=e;++u)s[u]=Z[u][F];return j=K[U][F],X=K[r][F],a>=1&&this.PrintIterationResult(g,j,X,s,e,a),Y},trstlp:function(t,e,i,r,s,o){var n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N,M,A,R,L,k,D,B,I,Y,j=0,X=0,F=0,U=this.arr2(1+t,1+t),J=this.arr(2+e),G=this.arr(2+e),z=this.arr(1+t),H=this.arr(1+t),V=this.arr(2+e),$=this.arr(2+e),q=e,W=0;for(h=1;h<=t;++h)U[h][h]=1,o[h]=0;if(n=0,a=0,e>=1){for(l=1;l<=e;++l)r[l]>a&&(a=r[l],n=l);for(l=1;l<=e;++l)$[l]=l,G[l]=a-r[l]}c=!0;do{t:for(;;){(!c||c&&0===a)&&(n=q=e+1,$[q]=q,G[q]=0),c=!1,d=0,u=0,p=0,f=0;e:do{if(m=q===e?a:-this.DOT_PRODUCT(this.PART(o,1,t),this.PART(this.COL(i,q),1,t)),0===u||m<d?(d=m,X=W,u=3):W>X?(X=W,u=3):--u,0===u)break t;if(g=0,n<=W){if(n<W){b=$[n],v=G[n],l=n;do{for(_=$[C=l+1],P=this.DOT_PRODUCT(this.PART(this.COL(U,l),1,t),this.PART(this.COL(i,_),1,t)),j=Math.sqrt(P*P+J[C]*J[C]),E=J[C]/j,x=P/j,J[C]=E*J[l],J[l]=j,h=1;h<=t;++h)j=E*U[h][C]+x*U[h][l],U[h][C]=E*U[h][l]-x*U[h][C],U[h][l]=j;$[l]=_,G[l]=G[C],l=C}while(l<W);$[l]=b,G[l]=v}if(--W,q>e)for(j=1/J[W],l=1;l<=t;++l)z[l]=j*U[l][W];else for(j=this.DOT_PRODUCT(this.PART(z,1,t),this.PART(this.COL(U,W+1),1,t)),l=1;l<=t;++l)z[l]-=j*U[l][W+1]}else{for(_=$[n],l=1;l<=t;++l)H[l]=i[l][_];for(S=0,l=t;l>W;){for(P=0,O=0,h=1;h<=t;++h)P+=j=U[h][l]*H[h],O+=Math.abs(j);if(w=O+.1*Math.abs(P),T=O+.2*Math.abs(P),(O>=w||w>=T)&&(P=0),0===S)S=P;else for(C=l+1,E=P/(j=Math.sqrt(P*P+S*S)),x=S/j,S=j,h=1;h<=t;++h)j=E*U[h][l]+x*U[h][C],U[h][C]=E*U[h][C]-x*U[h][l],U[h][l]=j;--l}if(0===S){g=-1,l=W;do{for(N=0,M=0,h=1;h<=t;++h)N+=j=U[h][l]*H[h],M+=Math.abs(j);if(w=M+.1*Math.abs(N),T=M+.2*Math.abs(N),M<w&&w<T){if((j=N/J[l])>0&&$[l]<=e&&(Y=G[l]/j,(g<0||Y<g)&&(g=Y)),l>=2)for(A=$[l],h=1;h<=t;++h)H[h]-=j*i[h][A];V[l]=j}else V[l]=0}while(--l>0);if(g<0)break t;for(l=1;l<=W;++l)G[l]=Math.max(0,G[l]-g*V[l]);if(n<W){b=$[n],v=G[n],l=n;do{for(A=$[C=l+1],P=this.DOT_PRODUCT(this.PART(this.COL(U,l),1,t),this.PART(this.COL(i,A),1,t)),j=Math.sqrt(P*P+J[C]*J[C]),E=J[C]/j,x=P/j,J[C]=E*J[l],J[l]=j,h=1;h<=t;++h)j=E*U[h][C]+x*U[h][l],U[h][C]=E*U[h][l]-x*U[h][C],U[h][l]=j;$[l]=A,G[l]=G[C],l=C}while(l<W);$[l]=b,G[l]=v}if(0===(j=this.DOT_PRODUCT(this.PART(this.COL(U,W),1,t),this.PART(this.COL(i,_),1,t))))break t;J[W]=j,G[n]=0,G[W]=g}else J[++W]=S,G[n]=G[W],G[W]=0;if($[n]=$[W],$[W]=_,q>e&&_!==q){for(l=W-1,P=this.DOT_PRODUCT(this.PART(this.COL(U,l),1,t),this.PART(this.COL(i,_),1,t)),j=Math.sqrt(P*P+J[W]*J[W]),E=J[W]/j,x=P/j,J[W]=E*J[l],J[l]=j,h=1;h<=t;++h)j=E*U[h][W]+x*U[h][l],U[h][W]=E*U[h][l]-x*U[h][W],U[h][l]=j;$[W]=$[l],$[l]=_,j=G[l],G[l]=G[W],G[W]=j}if(q>e)for(j=1/J[W],l=1;l<=t;++l)z[l]=j*U[l][W];else for(_=$[W],j=(this.DOT_PRODUCT(this.PART(z,1,t),this.PART(this.COL(i,_),1,t))-1)/J[W],l=1;l<=t;++l)z[l]-=j*U[l][W]}for(R=s*s,k=0,L=0,h=1;h<=t;++h)Math.abs(o[h])>=1e-6*s&&(R-=o[h]*o[h]),k+=o[h]*z[h],L+=z[h]*z[h];if(R<=0)break t;if(j=Math.sqrt(L*R),Math.abs(k)>=1e-6*j&&(j=Math.sqrt(L*R+k*k)),p=f=R/(j+k),q===e){if(T=p+.2*a,p>=(w=p+.1*a)||w>=T)break e;p=Math.min(p,a)}for(l=1;l<=t;++l)H[l]=o[l]+p*z[l];if(q===e)for(F=a,a=0,l=1;l<=W;++l)j=r[_=$[l]]-this.DOT_PRODUCT(this.PART(this.COL(i,_),1,t),this.PART(H,1,t)),a=Math.max(a,j);l=W;do{for(D=0,B=0,h=1;h<=t;++h)D+=j=U[h][l]*H[h],B+=Math.abs(j);if(w=B+.1*Math.abs(D),T=B+.2*Math.abs(D),(B>=w||w>=T)&&(D=0),V[l]=D/J[l],l>=2)for(_=$[l],h=1;h<=t;++h)H[h]-=V[l]*i[h][_]}while(l-- >=2);for(q>e&&(V[W]=Math.max(0,V[W])),l=1;l<=t;++l)H[l]=o[l]+p*z[l];if(q>W)for(l=W+1;l<=q;++l){for(y=a-r[_=$[l]],I=a+Math.abs(r[_]),h=1;h<=t;++h)y+=j=i[h][_]*H[h],I+=Math.abs(j);w=I+.1*Math.abs(y),T=I+.2*Math.abs(y),(I>=w||w>=T)&&(y=0),V[l]=y}for(g=1,n=0,l=1;l<=q;++l)V[l]<0&&(j=G[l]/(G[l]-V[l]))<g&&(g=j,n=l);for(j=1-g,l=1;l<=t;++l)o[l]=j*o[l]+g*H[l];for(l=1;l<=q;++l)G[l]=Math.max(0,j*G[l]+g*V[l]);q===e&&(a=F+g*(a-F))}while(n>0);if(p===f)return!0}}while(q===e);return!1},PrintIterationResult:function(t,e,i,r,s,o){o>1&&console.log("NFVALS = "+t+"  F = "+e+"  MAXCV = "+i),o>1&&console.log("X = "+this.PART(r,1,s))},ROW:function(t,e){return t[e].slice()},COL:function(t,e){var i,r=t.length,s=this.arr(r);for(i=0;i<r;++i)s[i]=t[i][e];return s},PART:function(t,e,i){return t.slice(e,i+1)},FORMAT:function(t){return t.join(",")},DOT_PRODUCT:function(t,e){var i,r=0,s=t.length;for(i=0;i<s;++i)r+=t[i]*e[i];return r}},t.Math.Nlp})),define("math/statistics",["jxg","math/math","utils/type"],(function(t,e,i){"use strict";return e.Statistics={sum:function(t){var e,i=t.length,r=0;for(e=0;e<i;e++)r+=t[e];return r},prod:function(t){var e,i=t.length,r=1;for(e=0;e<i;e++)r*=t[e];return r},mean:function(t){return t.length>0?this.sum(t)/t.length:0},median:function(t){var e,i;return t.length>0?(ArrayBuffer.isView(t)?(e=new Float64Array(t)).sort():(e=t.slice(0)).sort((function(t,e){return t-e})),1&(i=e.length)?e[parseInt(.5*i,10)]:.5*(e[.5*i-1]+e[.5*i])):0},percentile:function(t,e){var r,s,o,n,a,h=[];if(t.length>0){for(ArrayBuffer.isView(t)?(r=new Float64Array(t)).sort():(r=t.slice(0)).sort((function(t,e){return t-e})),s=r.length,n=i.isArray(e)?e:[e],o=0;o<n.length;o++)a=s*n[o]*.01,parseInt(a,10)===a?h.push(.5*(r[a-1]+r[a])):h.push(r[parseInt(a,10)]);return i.isArray(e)?h:h[0]}return 0},variance:function(t){var e,i,r,s=t.length;if(s>1){for(e=this.mean(t),i=0,r=0;r<s;r++)i+=(t[r]-e)*(t[r]-e);return i/(t.length-1)}return 0},sd:function(t){return Math.sqrt(this.variance(t))},weightedMean:function(t,e){if(t.length!==e.length)throw new Error("JSXGraph error (Math.Statistics.weightedMean): Array dimension mismatch.");return t.length>0?this.mean(this.multiply(t,e)):0},max:function(t){return Math.max.apply(this,t)},min:function(t){return Math.min.apply(this,t)},range:function(t){return[this.min(t),this.max(t)]},abs:function(t){var e,r,s;if(i.isArray(t))if(t.map)s=t.map(Math.abs);else for(r=t.length,s=[],e=0;e<r;e++)s[e]=Math.abs(t[e]);else s=ArrayBuffer.isView(t)?t.map(Math.abs):Math.abs(t);return s},add:function(t,e){var r,s,o=[];if(t=i.evalSlider(t),e=i.evalSlider(e),i.isArray(t)&&i.isNumber(e))for(s=t.length,r=0;r<s;r++)o[r]=t[r]+e;else if(i.isNumber(t)&&i.isArray(e))for(s=e.length,r=0;r<s;r++)o[r]=t+e[r];else if(i.isArray(t)&&i.isArray(e))for(s=Math.min(t.length,e.length),r=0;r<s;r++)o[r]=t[r]+e[r];else o=t+e;return o},div:function(t,e){var r,s,o=[];if(t=i.evalSlider(t),e=i.evalSlider(e),i.isArray(t)&&i.isNumber(e))for(s=t.length,r=0;r<s;r++)o[r]=t[r]/e;else if(i.isNumber(t)&&i.isArray(e))for(s=e.length,r=0;r<s;r++)o[r]=t/e[r];else if(i.isArray(t)&&i.isArray(e))for(s=Math.min(t.length,e.length),r=0;r<s;r++)o[r]=t[r]/e[r];else o=t/e;return o},divide:function(){t.deprecated("Statistics.divide()","Statistics.div()"),e.Statistics.div.apply(e.Statistics,arguments)},mod:function(t,r,s){var o,n,a=[],h=function(t,e){return t%e};if((s=i.def(s,!1))&&(h=e.mod),t=i.evalSlider(t),r=i.evalSlider(r),i.isArray(t)&&i.isNumber(r))for(n=t.length,o=0;o<n;o++)a[o]=h(t[o],r);else if(i.isNumber(t)&&i.isArray(r))for(n=r.length,o=0;o<n;o++)a[o]=h(t,r[o]);else if(i.isArray(t)&&i.isArray(r))for(n=Math.min(t.length,r.length),o=0;o<n;o++)a[o]=h(t[o],r[o]);else a=h(t,r);return a},multiply:function(t,e){var r,s,o=[];if(t=i.evalSlider(t),e=i.evalSlider(e),i.isArray(t)&&i.isNumber(e))for(s=t.length,r=0;r<s;r++)o[r]=t[r]*e;else if(i.isNumber(t)&&i.isArray(e))for(s=e.length,r=0;r<s;r++)o[r]=t*e[r];else if(i.isArray(t)&&i.isArray(e))for(s=Math.min(t.length,e.length),r=0;r<s;r++)o[r]=t[r]*e[r];else o=t*e;return o},subtract:function(t,e){var r,s,o=[];if(t=i.evalSlider(t),e=i.evalSlider(e),i.isArray(t)&&i.isNumber(e))for(s=t.length,r=0;r<s;r++)o[r]=t[r]-e;else if(i.isNumber(t)&&i.isArray(e))for(s=e.length,r=0;r<s;r++)o[r]=t-e[r];else if(i.isArray(t)&&i.isArray(e))for(s=Math.min(t.length,e.length),r=0;r<s;r++)o[r]=t[r]-e[r];else o=t-e;return o},TheilSenRegression:function(t){var i,r,s=[],o=[],n=[];for(i=0;i<t.length;i++){for(o.length=0,r=0;r<t.length;r++)Math.abs(t[r].usrCoords[1]-t[i].usrCoords[1])>e.eps&&(o[r]=(t[r].usrCoords[2]-t[i].usrCoords[2])/(t[r].usrCoords[1]-t[i].usrCoords[1]));s[i]=this.median(o),n.push(t[i].usrCoords[2]-s[i]*t[i].usrCoords[1])}return[this.median(n),this.median(s),-1]},generateGaussian:function(t,e){var i,r,s;if(this.hasSpare)return this.hasSpare=!1,this.spare*e+t;do{s=(i=2*Math.random()-1)*i+(r=2*Math.random()-1)*r}while(s>=1||0===s);return s=Math.sqrt(-2*Math.log(s)/s),this.spare=r*s,this.hasSpare=!0,t+e*i*s}},e.Statistics})),define("math/geometry",["jxg","base/constants","base/coords","math/math","math/numerics","utils/type","utils/expect"],(function(t,e,i,r,s,o,n){"use strict";return r.Geometry={},t.extend(r.Geometry,{angle:function(e,i,r){var s,o,n,a,h=[],l=[],c=[];return t.deprecated("Geometry.angle()","Geometry.rad()"),e.coords?(h[0]=e.coords.usrCoords[1],h[1]=e.coords.usrCoords[2]):(h[0]=e[0],h[1]=e[1]),i.coords?(l[0]=i.coords.usrCoords[1],l[1]=i.coords.usrCoords[2]):(l[0]=i[0],l[1]=i[1]),r.coords?(c[0]=r.coords.usrCoords[1],c[1]=r.coords.usrCoords[2]):(c[0]=r[0],c[1]=r[1]),s=h[0]-l[0],o=h[1]-l[1],n=c[0]-l[0],a=c[1]-l[1],Math.atan2(s*a-o*n,s*n+o*a)},trueAngle:function(t,e,i){return 57.29577951308232*this.rad(t,e,i)},rad:function(t,e,i){var r,s,o,n,a,h,l;return t.coords?(r=t.coords.usrCoords[1],s=t.coords.usrCoords[2]):(r=t[0],s=t[1]),e.coords?(o=e.coords.usrCoords[1],n=e.coords.usrCoords[2]):(o=e[0],n=e[1]),i.coords?(a=i.coords.usrCoords[1],h=i.coords.usrCoords[2]):(a=i[0],h=i[1]),(l=Math.atan2(h-n,a-o)-Math.atan2(s-n,r-o))<0&&(l+=6.283185307179586),l},angleBisector:function(t,r,s,n){var a,h,l,c,d,u=t.coords.usrCoords,p=r.coords.usrCoords,f=s.coords.usrCoords;return o.exists(n)||(n=t.board),0===p[0]?new i(e.COORDS_BY_USER,[1,.5*(u[1]+f[1]),.5*(u[2]+f[2])],n):(c=u[1]-p[1],d=u[2]-p[2],a=Math.atan2(d,c),c=f[1]-p[1],d=f[2]-p[2],l=.5*(a+(h=Math.atan2(d,c))),a>h&&(l+=Math.PI),c=Math.cos(l)+p[1],d=Math.sin(l)+p[2],new i(e.COORDS_BY_USER,[1,c,d],n))},reflection:function(t,r,s){var n,a,h,l,c,d,u=r.coords.usrCoords,p=t.point1.coords.usrCoords,f=t.point2.coords.usrCoords;return o.exists(s)||(s=r.board),l=f[1]-p[1],c=f[2]-p[2],n=u[1]-p[1],d=(l*(u[2]-p[2])-c*n)/(l*l+c*c),a=u[1]+2*d*c,h=u[2]-2*d*l,new i(e.COORDS_BY_USER,[a,h],s)},rotation:function(t,r,s,n){var a,h,l,c,d,u,p=r.coords.usrCoords,f=t.coords.usrCoords;return o.exists(n)||(n=r.board),a=p[1]-f[1],h=p[2]-f[2],d=a*(l=Math.cos(s))-h*(c=Math.sin(s))+f[1],u=a*c+h*l+f[2],new i(e.COORDS_BY_USER,[d,u],n)},perpendicular:function(t,s,n){var a,h,l,c,d,u=t.point1.coords.usrCoords,p=t.point2.coords.usrCoords,f=s.coords.usrCoords;return o.exists(n)||(n=s.board),s===t.point1?(a=u[1]+p[2]-u[2],h=u[2]-p[1]+u[1],d=u[0]*p[0],Math.abs(d)<r.eps&&(a=p[2],h=-p[1]),c=[d,a,h],l=!0):s===t.point2?(a=p[1]+u[2]-p[2],h=p[2]-u[1]+p[1],d=u[0]*p[0],Math.abs(d)<r.eps&&(a=u[2],h=-u[1]),c=[d,a,h],l=!1):Math.abs(r.innerProduct(f,t.stdform,3))<r.eps?(a=f[1]+p[2]-f[2],h=f[2]-p[1]+f[1],d=p[0],Math.abs(d)<r.eps&&(a=p[2],h=-p[1]),l=!0,Math.abs(d)>r.eps&&Math.abs(a-f[1])<r.eps&&Math.abs(h-f[2])<r.eps&&(a=f[1]+u[2]-f[2],h=f[2]-u[1]+f[1],l=!1),c=[d,a,h]):(c=[0,t.stdform[1],t.stdform[2]],c=r.crossProduct(c,f),c=r.crossProduct(c,t.stdform),l=!0),[new i(e.COORDS_BY_USER,c,n),l]},circumcenterMidpoint:function(){t.deprecated("Geometry.circumcenterMidpoint()","Geometry.circumcenter()"),this.circumcenter.apply(this,arguments)},circumcenter:function(t,s,n,a){var h,l,c,d,u=t.coords.usrCoords,p=s.coords.usrCoords,f=n.coords.usrCoords;return o.exists(a)||(a=t.board),h=[p[0]-u[0],-p[2]+u[2],p[1]-u[1]],l=[.5*(u[0]+p[0]),.5*(u[1]+p[1]),.5*(u[2]+p[2])],c=r.crossProduct(h,l),h=[f[0]-p[0],-f[2]+p[2],f[1]-p[1]],l=[.5*(p[0]+f[0]),.5*(p[1]+f[1]),.5*(p[2]+f[2])],d=r.crossProduct(h,l),new i(e.COORDS_BY_USER,r.crossProduct(c,d),a)},distance:function(t,e,i){var r,s=0;for(i||(i=Math.min(t.length,e.length)),r=0;r<i;r++)s+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(s)},affineDistance:function(t,e,i){var s;return(s=this.distance(t,e,i))>r.eps&&(Math.abs(t[0])<r.eps||Math.abs(e[0])<r.eps)?1/0:s},affineRatio:function(t,e,i){var s;return o.exists(t.usrCoords)&&(t=t.usrCoords),o.exists(e.usrCoords)&&(e=e.usrCoords),o.exists(i.usrCoords)&&(i=i.usrCoords),s=e[1]-t[1],Math.abs(s)>r.eps?(i[1]-t[1])/s:(i[2]-t[2])/(e[2]-t[2])},sortVertices:function(t){for(var e,i=n.each(t,n.coordsArray),r=i.length,s=null;i[0][0]===i[r-1][0]&&i[0][1]===i[r-1][1]&&i[0][2]===i[r-1][2];)s=i.pop(),r--;return e=i[0],i.sort((function(t,i){return(t[2]===e[2]&&t[1]===e[1]?-1/0:Math.atan2(t[2]-e[2],t[1]-e[1]))-(i[2]===e[2]&&i[1]===e[1]?-1/0:Math.atan2(i[2]-e[2],i[1]-e[1]))})),null!==s&&i.push(s),i},signedTriangle:function(t,e,i){var r=n.coordsArray(t),s=n.coordsArray(e),o=n.coordsArray(i);return.5*((s[1]-r[1])*(o[2]-r[2])-(s[2]-r[2])*(o[1]-r[1]))},signedPolygon:function(t,e){var i,r,s=0,o=n.each(t,n.coordsArray);for(void 0===e&&(e=!0),e?o.unshift(o[o.length-1]):o=this.sortVertices(o),r=o.length,i=1;i<r;i++)s+=o[i-1][1]*o[i][2]-o[i][1]*o[i-1][2];return.5*s},GrahamScan:function(t){var e,i=1,r=n.each(t,n.coordsArray),s=r.length;for(s=(r=this.sortVertices(r)).length,e=2;e<s;e++){for(;this.signedTriangle(r[i-1],r[i],r[e])<=0;){if(i>1)i-=1;else if(e===s-1)break;e+=1}i+=1,r=o.swap(r,i,e)}return r.slice(0,i)},calcStraight:function(t,i,s,n){var a,h,l,c,d,u,p,f,m,g;if(o.exists(n)||(n=10),u=o.evaluate(t.visProp.straightfirst),p=o.evaluate(t.visProp.straightlast),Math.abs(i.scrCoords[0])<r.eps&&(u=!0),Math.abs(s.scrCoords[0])<r.eps&&(p=!0),(u||p)&&((f=[])[0]=t.stdform[0]-t.stdform[1]*t.board.origin.scrCoords[1]/t.board.unitX+t.stdform[2]*t.board.origin.scrCoords[2]/t.board.unitY,f[1]=t.stdform[1]/t.board.unitX,f[2]=-t.stdform[2]/t.board.unitY,!isNaN(f[0]+f[1]+f[2]))){if(!1,!1,a=!u&&Math.abs(i.usrCoords[0])>=r.eps&&i.scrCoords[1]>=0&&i.scrCoords[1]<=t.board.canvasWidth&&i.scrCoords[2]>=0&&i.scrCoords[2]<=t.board.canvasHeight,h=!p&&Math.abs(s.usrCoords[0])>=r.eps&&s.scrCoords[1]>=0&&s.scrCoords[1]<=t.board.canvasWidth&&s.scrCoords[2]>=0&&s.scrCoords[2]<=t.board.canvasHeight,c=(l=this.meetLineBoard(f,t.board,n))[0],d=l[1],!a&&!h){if(!u&&p&&!this.isSameDirection(i,s,c)&&!this.isSameDirection(i,s,d))return;if(u&&!p&&!this.isSameDirection(s,i,c)&&!this.isSameDirection(s,i,d))return}a?h||(g=this.isSameDir(i,s,c,d)?d:c):h?m=this.isSameDir(i,s,c,d)?c:d:this.isSameDir(i,s,c,d)?(m=c,g=d):(g=c,m=d),m&&i.setCoordinates(e.COORDS_BY_USER,m.usrCoords),g&&s.setCoordinates(e.COORDS_BY_USER,g.usrCoords)}},calcLineDelimitingPoints:function(t,i,s){var n,a,h,l,c,d,u,p,f,m,g;if(c=o.evaluate(t.visProp.straightfirst),d=o.evaluate(t.visProp.straightlast),Math.abs(i.scrCoords[0])<r.eps&&(c=!0),Math.abs(s.scrCoords[0])<r.eps&&(d=!0),(u=[])[0]=t.stdform[0]-t.stdform[1]*t.board.origin.scrCoords[1]/t.board.unitX+t.stdform[2]*t.board.origin.scrCoords[2]/t.board.unitY,u[1]=t.stdform[1]/t.board.unitX,u[2]=-t.stdform[2]/t.board.unitY,!isNaN(u[0]+u[1]+u[2])){if(m=!c,g=!d,a=t.board.getBoundingBox(),t.getSlope()>=0?(h=this.projectPointToLine({coords:{usrCoords:[1,a[2],a[1]]}},t,t.board),l=this.projectPointToLine({coords:{usrCoords:[1,a[0],a[3]]}},t,t.board)):(h=this.projectPointToLine({coords:{usrCoords:[1,a[0],a[1]]}},t,t.board),l=this.projectPointToLine({coords:{usrCoords:[1,a[2],a[3]]}},t,t.board)),!m&&!g){if(!c&&!d){if(n=i.distance(e.COORDS_BY_USER,s),Math.abs(i.distance(e.COORDS_BY_USER,h)+h.distance(e.COORDS_BY_USER,s)-n)>r.eps)return;if(Math.abs(i.distance(e.COORDS_BY_USER,l)+l.distance(e.COORDS_BY_USER,s)-n)>r.eps)return}if(!c&&d&&!this.isSameDirection(i,s,h)&&!this.isSameDirection(i,s,l))return;if(c&&!d&&!this.isSameDirection(s,i,h)&&!this.isSameDirection(s,i,l))return}m?g||(f=this.isSameDir(i,s,h,l)?l:h):g?p=this.isSameDir(i,s,h,l)?h:l:this.isSameDir(i,s,h,l)?(p=h,f=l):(f=h,p=l),p&&i.setCoordinates(e.COORDS_BY_USER,p.usrCoords),f&&s.setCoordinates(e.COORDS_BY_USER,f.usrCoords)}},calcLabelQuadrant:function(t){return t<0&&(t+=2*Math.PI),["rt","urt","top","ulft","lft","llft","lrt"][Math.floor((t+Math.PI/8)/(Math.PI/4))%8]},isSameDir:function(t,e,i,s){var o=e.usrCoords[1]-t.usrCoords[1],n=e.usrCoords[2]-t.usrCoords[2],a=s.usrCoords[1]-i.usrCoords[1],h=s.usrCoords[2]-i.usrCoords[2];return Math.abs(e.usrCoords[0])<r.eps&&(o=e.usrCoords[1],n=e.usrCoords[2]),Math.abs(t.usrCoords[0])<r.eps&&(o=-t.usrCoords[1],n=-t.usrCoords[2]),o*a+n*h>=0},isSameDirection:function(t,e,i){var s,o,n,a,h=!1;return s=e.usrCoords[1]-t.usrCoords[1],o=e.usrCoords[2]-t.usrCoords[2],n=i.usrCoords[1]-t.usrCoords[1],a=i.usrCoords[2]-t.usrCoords[2],Math.abs(s)<r.eps&&(s=0),Math.abs(o)<r.eps&&(o=0),Math.abs(n)<r.eps&&(n=0),Math.abs(a)<r.eps&&(a=0),(s>=0&&n>=0||s<=0&&n<=0)&&(h=o>=0&&a>=0||o<=0&&a<=0),h},intersectionFunction:function(s,n,a,h,l,c){var d,u,p=this;return d=n.elementClass===e.OBJECT_CLASS_CURVE&&(n.type===e.OBJECT_TYPE_ARC||n.type===e.OBJECT_TYPE_SECTOR),u=a.elementClass===e.OBJECT_CLASS_CURVE&&(a.type===e.OBJECT_TYPE_ARC||a.type===e.OBJECT_TYPE_SECTOR),n.elementClass!==e.OBJECT_CLASS_CURVE&&a.elementClass!==e.OBJECT_CLASS_CURVE||n.elementClass!==e.OBJECT_CLASS_CURVE&&n.elementClass!==e.OBJECT_CLASS_CIRCLE||a.elementClass!==e.OBJECT_CLASS_CURVE&&a.elementClass!==e.OBJECT_CLASS_CIRCLE?n.elementClass===e.OBJECT_CLASS_CURVE&&!d&&a.elementClass===e.OBJECT_CLASS_LINE||a.elementClass===e.OBJECT_CLASS_CURVE&&!u&&n.elementClass===e.OBJECT_CLASS_LINE?function(){return p.meetCurveLine(n,a,h,n.board,c)}:n.type===e.OBJECT_TYPE_POLYGON||a.type===e.OBJECT_TYPE_POLYGON?n.elementClass===e.OBJECT_CLASS_LINE?function(){return p.meetPolygonLine(a,n,h,n.board,c)}:a.elementClass===e.OBJECT_CLASS_LINE?function(){return p.meetPolygonLine(n,a,h,n.board,c)}:function(){return p.meetPathPath(n,a,h,n.board)}:n.elementClass===e.OBJECT_CLASS_LINE&&a.elementClass===e.OBJECT_CLASS_LINE?function(){var t,r,s=o.evaluate(n.visProp.straightfirst),l=o.evaluate(n.visProp.straightlast),d=o.evaluate(a.visProp.straightfirst),u=o.evaluate(a.visProp.straightlast);return o.evaluate(c)||s&&l&&d&&u?p.meet(n.stdform,a.stdform,h,n.board):(t=p.meetSegmentSegment(n.point1.coords.usrCoords,n.point2.coords.usrCoords,a.point1.coords.usrCoords,a.point2.coords.usrCoords),r=!s&&t[1]<0||!l&&t[1]>1||!d&&t[2]<0||!u&&t[2]>1?[0,NaN,NaN]:t[0],new i(e.COORDS_BY_USER,r,n.board))}:function(){var s,l,f,m=p.meet(n.stdform,a.stdform,h,n.board),g=!0;return c?m:(n.elementClass!==e.OBJECT_CLASS_LINE||(s=o.evaluate(n.visProp.straightfirst),l=o.evaluate(n.visProp.straightlast),s&&l||(f=p.affineRatio(n.point1.coords,n.point2.coords,m),!(!l&&f>1+r.eps||!s&&f<0-r.eps))))&&(a.elementClass!==e.OBJECT_CLASS_LINE||(s=o.evaluate(a.visProp.straightfirst),l=o.evaluate(a.visProp.straightlast),s&&l||(f=p.affineRatio(a.point1.coords,a.point2.coords,m),!(!l&&f>1+r.eps||!s&&f<0-r.eps))))?d&&((g=p.coordsOnArc(n,m))&&u&&(g=p.coordsOnArc(a,m)),!g)?new i(t.COORDS_BY_USER,[0,NaN,NaN],n.board):m:new i(t.COORDS_BY_USER,[0,NaN,NaN],n.board)}:function(){return p.meetCurveCurve(n,a,h,l,n.board)}},coordsOnArc:function(t,e){var i=this.rad(t.radiuspoint,t.center,e.usrCoords.slice(1)),r=0,s=this.rad(t.radiuspoint,t.center,t.anglepoint),n=o.evaluate(t.visProp.selection);return("minor"===n&&s>Math.PI||"major"===n&&s<Math.PI)&&(r=s,s=2*Math.PI),!(i<r||i>s)},meet:function(t,e,i,s){var o=r.eps;return Math.abs(t[3])<o&&Math.abs(e[3])<o?this.meetLineLine(t,e,i,s):Math.abs(t[3])>=o&&Math.abs(e[3])<o?this.meetLineCircle(e,t,i,s):Math.abs(t[3])<o&&Math.abs(e[3])>=o?this.meetLineCircle(t,e,i,s):this.meetCircleCircle(t,e,i,s)},meetLineBoard:function(t,s,n){var a,h,l,c,d=[];for(o.exists(n)||(n=0),d[0]=r.crossProduct(t,[n,0,1]),d[1]=r.crossProduct(t,[n,1,0]),d[2]=r.crossProduct(t,[-n-s.canvasHeight,0,1]),d[3]=r.crossProduct(t,[-n-s.canvasWidth,1,0]),l=0;l<4;l++)if(Math.abs(d[l][0])>r.eps){for(c=2;c>0;c--)d[l][c]/=d[l][0];d[l][0]=1}return Math.abs(d[1][0])<r.eps?(a=d[0],h=d[2]):Math.abs(d[0][0])<r.eps?(a=d[1],h=d[3]):d[1][2]<0?(a=d[0],h=d[3][2]>s.canvasHeight?d[2]:d[3]):d[1][2]>s.canvasHeight?(a=d[2],h=d[3][2]<0?d[0]:d[3]):(a=d[1],h=d[3][2]<0?d[0]:d[3][2]>s.canvasHeight?d[2]:d[3]),[a=new i(e.COORDS_BY_SCREEN,a.slice(1),s),h=new i(e.COORDS_BY_SCREEN,h.slice(1),s)]},meetLineLine:function(t,s,o,n){var a=isNaN(t[5]+s[5])?[0,0,0]:r.crossProduct(t,s);return new i(e.COORDS_BY_USER,a,n)},meetLineCircle:function(t,s,o,n){var a,h,l,c,d,u,p,f,m;return s[4]<r.eps?Math.abs(r.innerProduct([1,s[6],s[7]],t,3))<r.eps?new i(e.COORDS_BY_USER,s.slice(6,8),n):new i(e.COORDS_BY_USER,[NaN,NaN],n):(l=s[0],h=s.slice(1,3),a=s[3],c=t[0],d=t.slice(1,3),u=a,(f=(p=h[0]*d[1]-h[1]*d[0])*p-4*u*(a*c*c-(h[0]*d[0]+h[1]*d[1])*c+l))>-r.eps*r.eps?(m=[(-p+(f=Math.sqrt(Math.abs(f))))/(2*u),(-p-f)/(2*u)],new i(e.COORDS_BY_USER,0===o?[-m[0]*-d[1]-c*d[0],-m[0]*d[0]-c*d[1]]:[-m[1]*-d[1]-c*d[0],-m[1]*d[0]-c*d[1]],n)):new i(e.COORDS_BY_USER,[0,0,0],n))},meetCircleCircle:function(t,s,o,n){var a;return t[4]<r.eps?Math.abs(this.distance(t.slice(6,2),s.slice(6,8))-s[4])<r.eps?new i(e.COORDS_BY_USER,t.slice(6,8),n):new i(e.COORDS_BY_USER,[0,0,0],n):s[4]<r.eps?Math.abs(this.distance(s.slice(6,2),t.slice(6,8))-t[4])<r.eps?new i(e.COORDS_BY_USER,s.slice(6,8),n):new i(e.COORDS_BY_USER,[0,0,0],n):(a=[s[3]*t[0]-t[3]*s[0],s[3]*t[1]-t[3]*s[1],s[3]*t[2]-t[3]*s[2],0,1,1/0,1/0,1/0],a=r.normalize(a),this.meetLineCircle(a,t,o,n))},meetCurveCurve:function(t,r,n,a,h,l){var c;return c=o.exists(l)&&"newton"===l?s.generalizedNewton(t,r,n,a):3===t.bezierDegree||3===r.bezierDegree?this.meetBezierCurveRedBlueSegments(t,r,n):this.meetCurveRedBlueSegments(t,r,n),new i(e.COORDS_BY_USER,c,h)},meetCurveLine:function(t,i,r,s,n){var a,h;return o.exists(s)||(s=t.board),t.elementClass===e.OBJECT_CLASS_CURVE?(a=t,h=i):(a=i,h=t),this.meetCurveLineDiscrete(a,h,r,s,!n)},meetCurveLineContinuous:function(t,o,n,a,h){var l,c,d,u,p,f,m,g,b,v,y,C,_,P=r.eps,E=r.eps;for(u=this.meetCurveLineDiscrete(t,o,n,a,h),p=u.usrCoords[1],f=u.usrCoords[2],c=function(e){var i,r;return e>t.maxX()||e<t.minX()?1/0:(i=p-t.X(e))*i+(r=f-t.Y(e))*r},d=function(e){var i=o.stdform[0]+o.stdform[1]*t.X(e)+o.stdform[2]*t.Y(e);return i*i},50,g=(t.maxX()-t.minX())/50,b=t.minX(),C=1e-4,y=NaN,v=0;v<50&&(l=s.root(c,[Math.max(b,t.minX()),Math.min(b+g,t.maxX())]),!((_=Math.abs(c(l)))<=C&&(y=l,(C=_)<P)));v++)b+=g;return l=y,_=d(l=s.root(d,[Math.max(l-g,t.minX()),Math.min(l+g,t.maxX())])),m=isNaN(_)||Math.abs(_)>E?0:1,new i(e.COORDS_BY_USER,[m,t.X(l),t.Y(l)],a)},meetCurveLineDiscrete:function(t,s,n,a,h){var l,c,d,u,p,f,m,g=s.point1.coords.usrCoords,b=s.point2.coords.usrCoords,v=0,y=t.numberPoints,C=o.evaluate(s.visProp.straightfirst),_=o.evaluate(s.visProp.straightlast);for(f=new i(e.COORDS_BY_USER,[0,NaN,NaN],a),0===g[0]?g=[1,b[1]+s.stdform[2],b[2]-s.stdform[1]]:0===b[0]&&(b=[1,g[1]+s.stdform[2],g[2]-s.stdform[1]]),u=t.points[0].usrCoords,l=1;l<y;l+=t.bezierDegree)if(d=u.slice(0),u=t.points[l].usrCoords,this.distance(d,u)>r.eps)for(m=3===t.bezierDegree?this.meetBeziersegmentBeziersegment([t.points[l-1].usrCoords.slice(1),t.points[l].usrCoords.slice(1),t.points[l+1].usrCoords.slice(1),t.points[l+2].usrCoords.slice(1)],[g.slice(1),b.slice(1)],h):[this.meetSegmentSegment(d,u,g,b)],c=0;c<m.length;c++)if(0<=(p=m[c])[1]&&p[1]<=1){if(v===n)return h&&(!C&&p[2]<0||!_&&p[2]>1)?f:f=new i(e.COORDS_BY_USER,p[0],a);v+=1}return f},meetCurveRedBlueSegments:function(t,e,i){var r,s,o,n,a,h,l,c,d,u=0,p=e.numberPoints,f=t.numberPoints;if(p<=1||f<=1)return[0,NaN,NaN];for(r=1;r<f;r++)for(o=t.points[r-1].usrCoords,n=t.points[r].usrCoords,c=Math.min(o[1],n[1]),d=Math.max(o[1],n[1]),h=e.points[0].usrCoords,s=1;s<p;s++)if(a=h,h=e.points[s].usrCoords,Math.min(a[1],h[1])<d&&Math.max(a[1],h[1])>c&&(l=this.meetSegmentSegment(o,n,a,h))[1]>=0&&l[2]>=0&&(l[1]<1&&l[2]<1||r===f-1&&1===l[1]||s===p-1&&1===l[2])){if(u===i)return l[0];u++}return[0,NaN,NaN]},meetSegmentSegment:function(t,e,i,s){var o,n,a,h=r.crossProduct(t,e),l=r.crossProduct(i,s),c=r.crossProduct(h,l);return Math.abs(c[0])<r.eps?[c,1/0,1/0]:(c[1]/=c[0],c[2]/=c[0],c[0]/=c[0],a=t[n=Math.abs(e[1]-e[0]*t[1])<r.eps?2:1]/t[0],o=(c[n]-a)/(0!==e[0]?e[n]/e[0]-a:e[n]),a=i[n=Math.abs(s[1]-s[0]*i[1])<r.eps?2:1]/i[0],[c,o,(c[n]-a)/(0!==s[0]?s[n]/s[0]-a:s[n])])},meetPathPath:function(s,o,n,a){var h,l,c,d;return(c=(h=t.Math.Clip._getPath(s,a)).length)>0&&this.distance(h[0].coords.usrCoords,h[c-1].coords.usrCoords,3)<r.eps&&h.pop(),(c=(l=t.Math.Clip._getPath(o,a)).length)>0&&this.distance(l[0].coords.usrCoords,l[c-1].coords.usrCoords,3)<r.eps*r.eps&&l.pop(),n<0||t.Math.Clip.isEmptyCase(h,l,"intersection")?new i(e.COORDS_BY_USER,[0,0,0],a):(t.Math.Clip.makeDoublyLinkedList(h),t.Math.Clip.makeDoublyLinkedList(l),n<(d=t.Math.Clip.findIntersections(h,l,a)[0]).length?d[n].coords:new i(e.COORDS_BY_USER,[0,0,0],a))},meetPolygonLine:function(t,r,s,o,n){var a,h,l,c=[0,0,0],d=t.borders.length,u=[];for(a=0;a<d;a++)l=t.borders[a],h=this.meetSegmentSegment(l.point1.coords.usrCoords,l.point2.coords.usrCoords,r.point1.coords.usrCoords,r.point2.coords.usrCoords),(!n||h[2]>=0&&h[2]<1)&&h[1]>=0&&h[1]<1&&u.push(h[0]);return s>=0&&s<u.length&&(c=u[s]),new i(e.COORDS_BY_USER,c,o)},_bezierSplit:function(t){var e,i,r,s,o,n;return e=[.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],i=[.5*(t[1][0]+t[2][0]),.5*(t[1][1]+t[2][1])],r=[.5*(t[2][0]+t[3][0]),.5*(t[2][1]+t[3][1])],n=[.5*((s=[.5*(e[0]+i[0]),.5*(e[1]+i[1])])[0]+(o=[.5*(i[0]+r[0]),.5*(i[1]+r[1])])[0]),.5*(s[1]+o[1])],[[t[0],e,s,n],[n,o,r,t[3]]]},_bezierBbox:function(t){var e=[];return 4===t.length?(e[0]=Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),e[1]=Math.max(t[0][1],t[1][1],t[2][1],t[3][1]),e[2]=Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),e[3]=Math.min(t[0][1],t[1][1],t[2][1],t[3][1])):(e[0]=Math.min(t[0][0],t[1][0]),e[1]=Math.max(t[0][1],t[1][1]),e[2]=Math.max(t[0][0],t[1][0]),e[3]=Math.min(t[0][1],t[1][1])),e},_bezierOverlap:function(t,e){return t[2]>=e[0]&&t[0]<=e[2]&&t[1]>=e[3]&&t[3]<=e[1]},_bezierListConcat:function(t,e,i,r){var s,n=o.exists(r),a=0,h=e.length,l=t.length;for(l>0&&h>0&&(1===t[l-1][1]&&0===e[0][1]||n&&1===t[l-1][2]&&0===e[0][2])&&(a=1),s=a;s<h;s++)n&&(e[s][2]*=.5,e[s][2]+=r),e[s][1]*=.5,e[s][1]+=i,t.push(e[s])},_bezierMeetSubdivision:function(t,e,i){var r,s,o,n,a,h,l,c,d,u,p,f,m=[];return s=this._bezierBbox(e),r=this._bezierBbox(t),this._bezierOverlap(s,r)?i<5?(h=(o=this._bezierSplit(t))[0],l=o[1],n=(o=this._bezierSplit(e))[0],a=o[1],this._bezierListConcat(m,this._bezierMeetSubdivision(h,n,i+1),0,0),this._bezierListConcat(m,this._bezierMeetSubdivision(h,a,i+1),0,.5),this._bezierListConcat(m,this._bezierMeetSubdivision(l,n,i+1),.5,0),this._bezierListConcat(m,this._bezierMeetSubdivision(l,a,i+1),.5,.5),m):(p=[1].concat(t[0]),f=[1].concat(t[3]),d=[1].concat(e[0]),u=[1].concat(e[3]),(c=this.meetSegmentSegment(p,f,d,u))[1]>=0&&c[2]>=0&&c[1]<=1&&c[2]<=1?[c]:[]):[]},_bezierLineMeetSubdivision:function(t,e,i,r){var s,o,n,a,h,l,c,d,u,p,f=[];return s=this._bezierBbox(e),o=this._bezierBbox(t),r&&!this._bezierOverlap(o,s)?[]:i<5?(a=(n=this._bezierSplit(t))[0],h=n[1],this._bezierListConcat(f,this._bezierLineMeetSubdivision(a,e,i+1),0),this._bezierListConcat(f,this._bezierLineMeetSubdivision(h,e,i+1),.5),f):(u=[1].concat(t[0]),p=[1].concat(t[3]),c=[1].concat(e[0]),d=[1].concat(e[1]),(l=this.meetSegmentSegment(u,p,c,d))[1]>=0&&l[1]<=1&&(!r||l[2]>=0&&l[2]<=1)?[l]:[])},meetBeziersegmentBeziersegment:function(t,e,i){var r,s,o;for((r=4===t.length&&4===e.length?this._bezierMeetSubdivision(t,e,0):this._bezierLineMeetSubdivision(t,e,0,i)).sort((function(t,e){return 1e7*(t[1]-e[1])+(t[2]-e[2])})),s=[],o=0;o<r.length;o++)0!==o&&r[o][1]===r[o-1][1]&&r[o][2]===r[o-1][2]||s.push(r[o]);return s},meetBezierCurveRedBlueSegments:function(t,i,s){var o,n,a,h,l,c,d,u,p,f,m=0,g=0,b=i.numberPoints,v=t.numberPoints,y=[];if(b<i.bezierDegree+1||v<t.bezierDegree+1)return[0,NaN,NaN];for(b-=i.bezierDegree,v-=t.bezierDegree,t.type===e.OBJECT_TYPE_SECTOR&&(m=3,v-=3),i.type===e.OBJECT_TYPE_SECTOR&&(g=3,b-=3),n=m;n<v;n+=t.bezierDegree)for(c=[(o=t.points)[n].usrCoords.slice(1),o[n+1].usrCoords.slice(1)],3===t.bezierDegree&&(c[2]=o[n+2].usrCoords.slice(1),c[3]=o[n+3].usrCoords.slice(1)),u=this._bezierBbox(c),a=g;a<b;a+=i.bezierDegree)if(d=[(o=i.points)[a].usrCoords.slice(1),o[a+1].usrCoords.slice(1)],3===i.bezierDegree&&(d[2]=o[a+2].usrCoords.slice(1),d[3]=o[a+3].usrCoords.slice(1)),p=this._bezierBbox(d),this._bezierOverlap(u,p)){if(0===(f=this.meetBeziersegmentBeziersegment(c,d)).length)continue;for(h=0;h<f.length;h++)(l=f[h])[1]<-r.eps||l[1]>1+r.eps||l[2]<-r.eps||l[2]>1+r.eps||y.push(l);if(y.length>s)return y[s][0]}return y.length>s?y[s][0]:[0,NaN,NaN]},bezierSegmentEval:function(t,e){var i,r,s,o=1-t;return r=0,s=0,r+=(i=o*o*o)*e[0][0],s+=i*e[0][1],r+=(i=3*t*o*o)*e[1][0],s+=i*e[1][1],r+=(i=3*t*t*o)*e[2][0],s+=i*e[2][1],[1,r+=(i=t*t*t)*e[3][0],s+=i*e[3][1]]},bezierArc:function(t,e,i,s,o){var n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E=.5*Math.PI,x=e[1],S=e[2],O=e[0],w=[],T=[];for(c=this.distance(e,t),x/=O,S/=O,d=this.rad(t.slice(1),e.slice(1),i.slice(1)),-1===o&&(d=2*Math.PI-d),(n=t)[1]/=n[0],n[2]/=n[0],n[0]/=n[0],l=n.slice(0),s?(w=[x,x+.333*(n[1]-x),x+.666*(n[1]-x),n[1]],T=[S,S+.333*(n[2]-S),S+.666*(n[2]-S),n[2]]):(w=[n[1]],T=[n[2]]);d>r.eps;)d>E?(u=E,d-=E):(u=d,d=0),P=[[1,0,0],[x*(1-(p=Math.cos(o*u)))+S*(f=Math.sin(o*u)),p,-f],[S*(1-p)-x*f,f,p]],l=[(C=r.matVecMult(P,n))[0]/C[0],C[1]/C[0],C[2]/C[0]],m=n[1]-x,g=n[2]-S,b=l[1]-x,v=l[2]-S,_=Math.sqrt((m+b)*(m+b)+(g+v)*(g+v)),y=Math.abs(v-g)>r.eps?(m+b)*(c/_-.5)/(v-g)*8/3:(g+v)*(c/_-.5)/(m-b)*8/3,a=[1,n[1]-y*g,n[2]+y*m],h=[1,l[1]+y*v,l[2]-y*b],w=w.concat([a[1],h[1],l[1]]),T=T.concat([a[2],h[2],l[2]]),n=l.slice(0);return s&&(w=w.concat([l[1]+.333*(x-l[1]),l[1]+.666*(x-l[1]),x]),T=T.concat([l[2]+.333*(S-l[2]),l[2]+.666*(S-l[2]),S])),[w,T]},projectPointToCircle:function(t,s,n){var a,h,l,c,d,u=s.center.coords.usrCoords;return o.exists(n)||(n=t.board),o.isPoint(t)?(a=t.coords.distance(e.COORDS_BY_USER,s.center.coords),h=t.coords.usrCoords):(a=t.distance(e.COORDS_BY_USER,s.center.coords),h=t.usrCoords),Math.abs(a)<r.eps&&(a=r.eps),d=s.Radius()/a,l=u[1]+d*(h[1]-u[1]),c=u[2]+d*(h[2]-u[2]),new i(e.COORDS_BY_USER,[l,c],n)},projectPointToLine:function(t,s,n){var a,h=[0,s.stdform[1],s.stdform[2]];return o.exists(n)||(n=o.exists(t.coords)?t.board:s.board),a=o.exists(t.coords)?t.coords.usrCoords:t.usrCoords,h=r.crossProduct(h,a),new i(e.COORDS_BY_USER,r.crossProduct(h,s.stdform),n)},projectCoordsToSegment:function(t,e,i){var s,o=[i[1]-e[1],i[2]-e[2]],n=[t[1]-e[1],t[2]-e[2]];return Math.abs(o[0])<r.eps&&Math.abs(o[1])<r.eps?[e,0]:(s=r.innerProduct(n,o),[[1,(s/=r.innerProduct(o,o))*o[0]+e[1],s*o[1]+e[2]],s])},projectCoordsToBeziersegment:function(e,i,r){var s;return s=t.Math.Numerics.fminbr((function(t){var s=[1,i.X(r+t),i.Y(r+t)];return s[1]-=e[1],s[2]-=e[2],s[1]*s[1]+s[2]*s[2]}),[0,1]),[[1,i.X(s+r),i.Y(s+r)],s]},projectPointToCurve:function(t,e,i){o.exists(i)||(i=t.board);var r=t.X(),s=t.Y(),n=t.position||0;return this.projectCoordsToCurve(r,s,n,e,i)},projectCoordsToCurve:function(t,r,n,a,h){var l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N=Number.POSITIVE_INFINITY;if(o.exists(h)||(h=a.board),"plot"===o.evaluate(a.visProp.curvetype)){if(n=0,p=N,l=0===a.numberPoints?[0,1,1]:[a.Z(0),a.X(0),a.Y(0)],a.numberPoints>1)for(g=[1,t,r],3===a.bezierDegree?u=0:y=[a.Z(0),a.X(0),a.Y(0)],d=0;d<a.numberPoints-1;d++)3===a.bezierDegree?_=this.projectCoordsToBeziersegment(g,a,u):(C=[a.Z(d+1),a.X(d+1),a.Y(d+1)],_=this.projectCoordsToSegment(g,y,C)),m=_[1],b=_[0],0<=m&&m<=1?(f=this.distance(b,g),v=d+m):m<0?(b=y,f=this.distance(y,g),v=d):m>1&&d===a.numberPoints-2&&(b=C,f=this.distance(b,g),v=a.numberPoints-1),f<p&&(p=f,n=v,l=b),3===a.bezierDegree?(u++,d+=2):y=C;c=new i(e.COORDS_BY_USER,l,h)}else{for(P=function(e){var i,s;return e<a.minX()||e>a.maxX()?1/0:(i=t-a.X(e))*i+(s=r-a.Y(e))*s},S=P(n),50,w=a.minX(),O=((T=a.maxX())-w)/50,E=w,d=0;d<50;d++)((x=P(E))<S||S===1/0)&&(n=E,S=x),E+=O;n=(n=(n=s.fminbr(P,[Math.max(n-O,w),Math.min(n+O,T)]))<w?w:n)>T?T:n,c=new i(e.COORDS_BY_USER,[a.X(n),a.Y(n)],h)}return[a.updateTransform(c),n]},projectCoordsToPolygon:function(e,i){var r,s,o,n,a,h=i.vertices.length,l=1/0;for(r=0;r<h-1;r++)0<=(o=t.Math.Geometry.projectCoordsToSegment(e,i.vertices[r].coords.usrCoords,i.vertices[r+1].coords.usrCoords))[1]&&o[1]<=1?(s=t.Math.Geometry.distance(o[0],e,3),n=o[0]):o[1]<0?(s=t.Math.Geometry.distance(i.vertices[r].coords.usrCoords,e,3),n=i.vertices[r].coords.usrCoords):(s=t.Math.Geometry.distance(i.vertices[r+1].coords.usrCoords,e,3),n=i.vertices[r+1].coords.usrCoords),s<l&&(a=n.slice(0),l=s);return a},projectPointToTurtle:function(t,r,s){var n,a,h,l,c,d,u,p,f,m,g=0,b=0,v=Number.POSITIVE_INFINITY,y=r.objects.length;for(o.exists(s)||(s=t.board),c=0;c<y;c++)(u=r.objects[c]).elementClass===e.OBJECT_CLASS_CURVE&&(n=(f=this.projectPointToCurve(t,u))[0],m=f[1],(d=this.distance(n.usrCoords,t.coords.usrCoords))<v&&(h=n.usrCoords[1],l=n.usrCoords[2],a=m,v=d,p=u,b=g),g+=u.numberPoints);return n=new i(e.COORDS_BY_USER,[h,l],s),[p.updateTransform(n),a+b]},projectPointToPoint:function(t,e){return e.coords},projectPointToBoard:function(t,e){var i,s,o,n=e||t.board,a=[[1,1,0,0,3,0,1],[-1,2,1,0,1,2,1],[-1,1,2,2,1,2,3],[1,2,3,0,3,2,3]],h=t.coords||t,l=n.getBoundingBox();for(i=0;i<4;i++)(o=a[i])[0]*h.usrCoords[o[1]]<o[0]*l[o[2]]&&((s=r.crossProduct([1,l[o[3]],l[o[4]]],[1,l[o[5]],l[o[6]]]))[3]=0,s=r.normalize(s),h=this.projectPointToLine({coords:h},{stdform:s},n));return h},distPointLine:function(t,e){var i,s=e[1],o=e[2],n=e[0];return Math.abs(s)+Math.abs(o)<r.eps?Number.POSITIVE_INFINITY:(i=s*t[1]+o*t[2]+n,s*=s,o*=o,Math.abs(i)/Math.sqrt(s+o))},reuleauxPolygon:function(t,e){var i,s=2*Math.PI,o=s/e,n=(e-1)/2,a=0,h=function(h,l){return function(c,d){var u=(c%s+s)%s,p=Math.floor(u/o)%e;return d||(a=t[0].Dist(t[n]),i=r.Geometry.rad([t[0].X()+1,t[0].Y()],t[0],t[n%e])),isNaN(p)?p:(u=.5*u+p*o*.5+i,t[p][h]()+a*Math[l](u))}};return[h("X","cos"),h("Y","sin"),0,s]},meet3Planes:function(t,e,i,s,o,n){var a,h,l,c,d,u=[0,0,0];for(a=r.crossProduct(o,t),h=r.crossProduct(t,i),l=r.crossProduct(i,o),c=r.innerProduct(t,l,3),d=0;d<3;d++)u[d]=(e*l[d]+s*a[d]+n*h[d])/c;return u},meetPlanePlane:function(t,e,i,s){var n,a,h,l=[0,0,0],c=[0,0,0];for(n=0;n<3;n++)l[n]=o.evaluate(t[n]),c[n]=o.evaluate(e[n]);for(a=r.crossProduct(l,c),n=0;n<3;n++)l[n]=o.evaluate(i[n]),c[n]=o.evaluate(s[n]);return h=r.crossProduct(l,c),r.crossProduct(a,h)},project3DTo3DPlane:function(t,e,i){var s,o;return i=i||[0,0,0],s=r.norm(e),o=(r.innerProduct(t,e,3)-r.innerProduct(i,e,3))/s,r.axpy(-o,e,t)},getPlaneBounds:function(t,e,i,r,o){var n,a,h,l,c;return t[2]+e[0]!==0?(h=[[t[0],e[0]],[t[1],e[1]]],l=[r-i[0],r-i[1]],n=(c=s.Gauss(h,l))[0],a=c[1],l=[o-i[0],o-i[1]],[n,(c=s.Gauss(h,l))[0],a,c[1]]):null}}),r.Geometry})),define("math/plot",["jxg","base/constants","base/coords","math/math","math/extrapolate","math/numerics","math/statistics","math/geometry","math/ia","utils/type"],(function(t,e,i,r,s,o,n,a,h,l){"use strict";return r.Plot={checkReal:function(t){var e,i,s=!1,o=t.length;for(e=0;e<o;e++)if(i=t[e].usrCoords,!isNaN(i[1])&&!isNaN(i[2])&&Math.abs(i[0])>r.eps){s=!0;break}return s},updateParametricCurveNaive:function(t,i,r,s){var o,n,a=!1,h=(r-i)/s;for(o=0;o<s;o++)n=i+o*h,t.points[o].setCoordinates(e.COORDS_BY_USER,[t.X(n,a),t.Y(n,a)],!1),t.points[o]._t=n,a=!0;return t},isSegmentOutside:function(t,e,i,r,s){return e<0&&r<0||e>s.canvasHeight&&r>s.canvasHeight||t<0&&i<0||t>s.canvasWidth&&i>s.canvasWidth},isDistOK:function(t,e,i,r){return Math.abs(t)<i&&Math.abs(e)<r&&!isNaN(t+e)},isSegmentDefined:function(t,e,i,r){return!(isNaN(t+e)&&isNaN(i+r))},updateParametricCurveOld:function(s,o,n){var a,h,l,c,d,u,p,f,m,g,b,v=!1,y=new i(e.COORDS_BY_USER,[0,0],s.board,!1),C=[],_=[],P=[],E=[],x=!1,S=0,O=function(t,e,i){var s,o,n=i[1]-t[1],a=i[2]-t[2],h=e[0]-t[1],l=e[1]-t[2],c=h*h+l*l;return c>=r.eps&&(s=(n*h+a*l)/c)>0&&(s<=1?(n-=s*h,a-=s*l):(n-=h,a-=l)),o=n*n+a*a,Math.sqrt(o)};for(t.deprecated("Curve.updateParametricCurveOld()"),s.board.updateQuality===s.board.BOARD_QUALITY_LOW?(m=15,g=10,b=10):(m=21,g=.7,b=.7),E[0]=n-o,a=1;a<m;a++)E[a]=.5*E[a-1];a=1,C[0]=1,_[0]=0,h=o,y.setCoordinates(e.COORDS_BY_USER,[s.X(h,v),s.Y(h,v)],!1),v=!0,d=y.scrCoords[1],u=y.scrCoords[2],h=n,y.setCoordinates(e.COORDS_BY_USER,[s.X(h,v),s.Y(h,v)],!1),l=y.scrCoords[1],c=y.scrCoords[2],P[0]=[l,c],p=1,f=0,s.points=[],s.points[S++]=new i(e.COORDS_BY_SCREEN,[d,u],s.board,!1);do{for(x=this.isDistOK(l-d,c-u,g,b)||this.isSegmentOutside(d,u,l,c,s.board);f<m&&(!x||f<6)&&(f<=7||this.isSegmentDefined(d,u,l,c));)C[p]=a,_[p]=f,P[p]=[l,c],p+=1,h=o+(a=2*a-1)*E[++f],y.setCoordinates(e.COORDS_BY_USER,[s.X(h,v),s.Y(h,v)],!1,!0),l=y.scrCoords[1],c=y.scrCoords[2],x=this.isDistOK(l-d,c-u,g,b)||this.isSegmentOutside(d,u,l,c,s.board);S>1&&O(s.points[S-2].scrCoords,[l,c],s.points[S-1].scrCoords)<.015&&(S-=1),s.points[S]=new i(e.COORDS_BY_SCREEN,[l,c],s.board,!1),s.points[S]._t=h,S+=1,d=l,u=c,h,l=P[p-=1][0],c=P[p][1],f=_[p]+1,a=2*C[p]}while(p>0&&S<5e5);return s.numberPoints=s.points.length,s},_insertPoint_v2:function(t,e,i){var r=!isNaN(this._lastCrds[1]+this._lastCrds[2]),s=!isNaN(e.scrCoords[1]+e.scrCoords[2]),o=t.board.canvasWidth,n=t.board.canvasHeight,a=500;(!(s=s&&e.scrCoords[1]>-500&&e.scrCoords[2]>-500&&e.scrCoords[1]<o+a&&e.scrCoords[2]<n+a)&&r||s&&(!r||Math.abs(e.scrCoords[1]-this._lastCrds[1])>.7||Math.abs(e.scrCoords[2]-this._lastCrds[2])>.7))&&(e._t=i,t.points.push(e),this._lastCrds=e.copy("scrCoords"))},neighborhood_isNaN_v2:function(t,s){var o,n,a=new i(e.COORDS_BY_USER,[0,0],t.board,!1);return o=s+r.eps,a.setCoordinates(e.COORDS_BY_USER,[t.X(o,!0),t.Y(o,!0)],!1),n=a.usrCoords,!!(isNaN(n[1]+n[2])||(o=s-r.eps,a.setCoordinates(e.COORDS_BY_USER,[t.X(o,!0),t.Y(o,!0)],!1),n=a.usrCoords,isNaN(n[1]+n[2])))},_borderCase:function(t,r,s,o,n,a,h,l){var c,d,u,p,f,m,g,b=null,v=!1;if(l<=1){if(d=new i(e.COORDS_BY_USER,[0,0],t.board,!1),isNaN(r[1]+r[2])&&!isNaN(o[1]+o[2])&&!this.neighborhood_isNaN_v2(t,n))return!1;if(isNaN(s[1]+s[2])&&!isNaN(o[1]+o[2])&&!this.neighborhood_isNaN_v2(t,a))return!1;if(isNaN(o[1]+o[2])&&(!isNaN(r[1]+r[2])||!isNaN(s[1]+s[2]))&&!this.neighborhood_isNaN_v2(t,h))return!1;p=0;do{if(isNaN(r[1]+r[2])&&!isNaN(o[1]+o[2]))f=n,m=h,g=a;else if(isNaN(s[1]+s[2])&&!isNaN(o[1]+o[2]))f=a,m=h,g=n;else if(isNaN(o[1]+o[2])&&!isNaN(s[1]+s[2]))f=h,m=a,g=a+(a-h);else{if(!isNaN(o[1]+o[2])||isNaN(r[1]+r[2]))return!1;f=h,m=n,g=n-(h-n)}c=.5*(f+m),d.setCoordinates(e.COORDS_BY_USER,[t.X(c,!0),t.Y(c,!0)],!1),u=d.usrCoords,(v=isNaN(u[1]+u[2]))?f=c:(g=m,m=c),++p}while(v&&p<30);if(p<30&&(b=u.slice(),o=u.slice(),m=c),(t.X(m,!0)-t.X(g,!0))/(m-g),(t.Y(m,!0)-t.Y(g,!0))/(m-g),null!==b)return this._insertPoint_v2(t,new i(e.COORDS_BY_USER,b,t.board,!1)),!0}return!1},_plotRecursive_v2:function(t,r,s,o,n,a,h){var l,c,d,u,p,f=0,m=new i(e.COORDS_BY_USER,[0,0],t.board,!1);if(!(t.numberPoints>65536))return a<this.nanLevel&&this._isUndefined(t,r,s,o,n)||a<this.nanLevel&&this._isOutside(r,s,o,n,t.board)?this:(l=.5*(s+n),m.setCoordinates(e.COORDS_BY_USER,[t.X(l,!0),t.Y(l,!0)],!1),c=m.scrCoords,this._borderCase(t,r,o,c,s,n,l,a)||(d=this._triangleDists(r,o,c),u=a<this.smoothLevel&&d[3]<h,p=a<this.jumpLevel&&(d[2]>.99*d[0]||d[1]>.99*d[0]||d[0]===1/0||d[1]===1/0||d[2]===1/0),a<this.smoothLevel+2&&d[0]<.5*(d[1]+d[2])&&(f=0,u=!1),--a,p?this._insertPoint_v2(t,new i(e.COORDS_BY_SCREEN,[NaN,NaN],t.board,!1),l):a<=f||u?this._insertPoint_v2(t,m,l):(this._plotRecursive_v2(t,r,s,c,l,a,h),isNaN(m.scrCoords[1]+m.scrCoords[2])||this._insertPoint_v2(t,m,l),this._plotRecursive_v2(t,c,l,o,n,a,h))),this)},updateParametricCurve_v2:function(t,r,s){var o,n,a,h,c,d,u,p,f,m=!1,g=new i(e.COORDS_BY_USER,[0,0],t.board,!1),b=new i(e.COORDS_BY_USER,[0,0],t.board,!1);return t.board.updateQuality===t.board.BOARD_QUALITY_LOW?(c=l.evaluate(t.visProp.recursiondepthlow)||13,d=2,this.smoothLevel=c-6,this.jumpLevel=3):(c=l.evaluate(t.visProp.recursiondepthhigh)||17,d=2,this.smoothLevel=c-9,this.jumpLevel=2),this.nanLevel=c-4,t.points=[],"x"===this.xterm?(u=.3*((p=t.board.getBoundingBox())[2]-p[0]),.3*(p[1]-p[3]),o=Math.max(r,p[0]-u),n=Math.min(s,p[2]+u)):(o=r,n=s),g.setCoordinates(e.COORDS_BY_USER,[t.X(o,m),t.Y(o,m)],!1),m=!0,b.setCoordinates(e.COORDS_BY_USER,[t.X(n,m),t.Y(n,m)],!1),f=this._findStartPoint(t,g.scrCoords,o,b.scrCoords,n),g.setCoordinates(e.COORDS_BY_SCREEN,f[0],!1),o=f[1],f=this._findStartPoint(t,b.scrCoords,n,g.scrCoords,o),b.setCoordinates(e.COORDS_BY_SCREEN,f[0],!1),n=f[1],this._visibleArea=[o,n],a=g.copy("scrCoords"),h=b.copy("scrCoords"),g._t=o,t.points.push(g),this._lastCrds=g.copy("scrCoords"),this._plotRecursive_v2(t,a,o,h,n,c,d),b._t=n,t.points.push(b),t.numberPoints=t.points.length,t},_insertLimesPoint:function(t,s,o,n,a){var h,l,c;Math.abs(this._lastUsrCrds[1])===1/0&&Math.abs(a.left_x)===1/0||Math.abs(this._lastUsrCrds[2])===1/0&&Math.abs(a.left_y)===1/0||((h=new i(e.COORDS_BY_USER,[a.left_x,a.left_y],t.board))._t=o,t.points.push(h),isNaN(a.left_x)||isNaN(a.left_y)||isNaN(a.right_x)||isNaN(a.right_y)||!(Math.abs(a.left_x-a.right_x)>r.eps||Math.abs(a.left_y-a.right_y)>r.eps)||((l=new i(e.COORDS_BY_SCREEN,s,t.board))._t=o,t.points.push(l)),(c=new i(e.COORDS_BY_USER,[a.right_x,a.right_y],t.board))._t=o,t.points.push(c),this._lastScrCrds=c.copy("scrCoords"),this._lastUsrCrds=c.copy("usrCoords"))},_insertPoint:function(t,r,s,o,n){var a,h=!isNaN(this._lastScrCrds[1]+this._lastScrCrds[2]),c=!isNaN(r[1]+r[2]),d=t.board.canvasWidth,u=t.board.canvasHeight,p=500;l.exists(n)?this._insertLimesPoint(t,r,s,o,n):(c=c&&r[1]>-500&&r[2]>-500&&r[1]<d+p&&r[2]<u+p,(h||c)&&(c&&h&&Math.abs(r[1]-this._lastScrCrds[1])<.8&&Math.abs(r[2]-this._lastScrCrds[2])<.8||Math.abs(r[1])===1/0&&Math.abs(this._lastUsrCrds[1])===1/0||Math.abs(r[2])===1/0&&Math.abs(this._lastUsrCrds[2])===1/0||((a=new i(e.COORDS_BY_SCREEN,r,t.board))._t=s,t.points.push(a),this._lastScrCrds=a.copy("scrCoords"),this._lastUsrCrds=a.copy("usrCoords"))))},_triangleDists:function(t,e,i){var r;return r=[t[0]*e[0],.5*(t[1]+e[1]),.5*(t[2]+e[2])],[a.distance(t,e,3),a.distance(t,i,3),a.distance(i,e,3),a.distance(i,r,3)]},_isUndefined:function(t,r,s,o,n){var a,h,l;if(!isNaN(r[1]+r[2])||!isNaN(o[1]+o[2]))return!1;for(l=new i(e.COORDS_BY_USER,[0,0],t.board,!1),h=0;h<20;++h)if(a=s+Math.random()*(n-s),l.setCoordinates(e.COORDS_BY_USER,[t.X(a,!0),t.Y(a,!0)],!1),!isNaN(l.scrCoords[0]+l.scrCoords[1]+l.scrCoords[2]))return!1;return!0},_isOutside:function(t,e,i,r,s){var o=500,n=s.canvasWidth,a=s.canvasHeight;return!!(t[1]<-500&&i[1]<-500||t[2]<-500&&i[2]<-500||t[1]>n+o&&i[1]>n+o||t[2]>a+o&&i[2]>a+o)},_isOutsidePoint:function(t,e){var i=500,r=e.canvasWidth,s=e.canvasHeight;return!!(t[1]<-500||t[2]<-500||t[1]>r+i||t[2]>s+i)},_findStartPoint:function(t,r,s,o,n){new i(e.COORDS_BY_USER,[0,0],t.board,!1),t.board.getBoundingBox();return[r,s]},_getBorderPos:function(t,s,o,n,a,h,l){var c,d,u,p,f,m;if(d=new i(e.COORDS_BY_USER,[0,0],t.board,!1),p=0,isNaN(o[1]+o[2])&&!isNaN(a[1]+a[2]))m=s,f=n,h;else if(isNaN(l[1]+l[2])&&!isNaN(a[1]+a[2]))m=h,f=n,s;else if(isNaN(a[1]+a[2])&&!isNaN(l[1]+l[2]))m=n,f=h,h+(h-n);else{if(!isNaN(a[1]+a[2])||isNaN(o[1]+o[2]))return!1;m=n,f=s,s-(n-s)}do{c=.5*(f+m),d.setCoordinates(e.COORDS_BY_USER,[t.X(c,!0),t.Y(c,!0)],!1),u=d.usrCoords,isNaN(u[1]+u[2])?m=c:(f,f=c),++p}while(p<30&&Math.abs(f-m)>r.eps);return c},_getCuspPos:function(t,e,i){var r=[t.X(e,!0),t.Y(e,!0)],s=[t.X(i,!0),t.Y(i,!0)];return o.fminbr((function(e){var i=[t.X(e,!0),t.Y(e,!0)];return-(Math.sqrt((r[0]-i[0])*(r[0]-i[0])+(r[1]-i[1])*(r[1]-i[1]))+Math.sqrt((s[0]-i[0])*(s[0]-i[0])+(s[1]-i[1])*(s[1]-i[1])))}),[e,i],t)},_getJumpPos:function(t,e,i){return o.fminbr((function(e){var i=r.eps*r.eps,s=[t.X(e,!0),t.Y(e,!0)],o=[t.X(e+i,!0),t.Y(e+i,!0)];return-Math.abs((o[1]-s[1])/(o[0]-s[0]))}),[e,i],t)},_getLimits:function(t,e){var i,r,o,n,a,h=2/(t.maxX()-t.minX());return r=(i=s.limit(e,-h,t.X))[0],"infinite"===i[1]&&(r=Math.sign(r)*(1/0)),n=(i=s.limit(e,-h,t.Y))[0],"infinite"===i[1]&&(n=Math.sign(n)*(1/0)),o=(i=s.limit(e,h,t.X))[0],"infinite"===i[1]&&(o=Math.sign(o)*(1/0)),a=(i=s.limit(e,h,t.Y))[0],"infinite"===i[1]&&(a=Math.sign(a)*(1/0)),{left_x:r,left_y:n,right_x:o,right_y:a,t:e}},_getLimes:function(t,e,i,r,s,o,n,a,h){var l;return"border"===a?l=this._getBorderPos(t,e,i,r,s,o,n):"cusp"===a?l=this._getCuspPos(t,e,o):"jump"===a&&(l=this._getJumpPos(t,e,o)),this._getLimits(t,l)},_plotNonRecursive:function(t,e,i,r,s,o){var n,a,h,l,c,d,u,p,f,m,g,b=null,v=!1,y="",C=[],_=0;for(p=t.board.origin.scrCoords,C[_++]=[e,i,r,s,o,1/0];_>0;){if(e=(g=C[--_])[0],i=g[1],r=g[2],s=g[3],f=g[4],m=g[5],v=!1,y="",b=null,t.points.length>65536)return;if(f<this.nanLevel){if(this._isUndefined(t,e,i,r,s))continue;if(this._isOutside(e,i,r,s,t.board))continue}n=.5*(i+s),d=t.X(n,!0),u=t.Y(n,!0),a=[1,p[1]+d*t.board.unitX,p[2]-u*t.board.unitY],h=this._triangleDists(e,r,a),l=isNaN(e[1]+e[2]),c=isNaN(r[1]+r[2]),l&&!c||!l&&c?y="border":h[0]>.66*m||h[0]<this.cusp_threshold*(h[1]+h[2])||h[1]>5*h[2]||h[2]>5*h[1]?y="cusp":(h[2]>this.jump_threshold*h[0]||h[1]>this.jump_threshold*h[0]||h[0]===1/0||h[1]===1/0||h[2]===1/0)&&(y="jump"),v=""===y&&f<this.smoothLevel&&h[3]<this.smooth_threshold,f<this.testLevel&&!v&&(""===y?v=!0:b=this._getLimes(t,i,e,n,a,s,r,y,f)),null!==b?(a=[1,NaN,NaN],this._insertPoint(t,a,n,f,b)):f<=0||v?this._insertPoint(t,a,n,f,null):(C[_++]=[a,n,r,s,f-1,h[0]],C[_++]=[e,i,a,n,f-1,h[0]])}return this},updateParametricCurve_v3:function(t,r,s){var o,n,a,h,c,d,u,p,f=!1,m=new i(e.COORDS_BY_USER,[0,0],t.board,!1),g=new i(e.COORDS_BY_USER,[0,0],t.board,!1);return c=t.board.updateQuality===t.board.BOARD_QUALITY_LOW?l.evaluate(t.visProp.recursiondepthlow)||14:l.evaluate(t.visProp.recursiondepthhigh)||17,this.smoothLevel=7,this.nanLevel=c-4,this.testLevel=4,this.cusp_threshold=.5,this.jump_threshold=.99,this.smooth_threshold=2,t.points=[],"x"===t.xterm?(d=.3*((u=t.board.getBoundingBox())[2]-u[0]),o=Math.max(r,u[0]-d),n=Math.min(s,u[2]+d)):(o=r,n=s),m.setCoordinates(e.COORDS_BY_USER,[t.X(o,f),t.Y(o,f)],!1),f=!0,g.setCoordinates(e.COORDS_BY_USER,[t.X(n,f),t.Y(n,f)],!1),p=this._findStartPoint(t,m.scrCoords,o,g.scrCoords,n),m.setCoordinates(e.COORDS_BY_SCREEN,p[0],!1),o=p[1],p=this._findStartPoint(t,g.scrCoords,n,m.scrCoords,o),g.setCoordinates(e.COORDS_BY_SCREEN,p[0],!1),n=p[1],this._visibleArea=[o,n],a=m.copy("scrCoords"),h=g.copy("scrCoords"),m._t=o,t.points.push(m),this._lastScrCrds=m.copy("scrCoords"),this._lastUsrCrds=m.copy("usrCoords"),this._plotNonRecursive(t,a,o,h,n,c),g._t=n,t.points.push(g),t.numberPoints=t.points.length,t},_criticalInterval:function(t,e,i){var r,s,o,a,h,l,c,d=!1,u=-1/0,p=!1,f=!1,m=0,g=[],b=[],v=[];for(c=n.abs(t),(a=n.median(c))<1e-7?(a=1e-7,p=!0):a*=this.criticalThreshold,r=0;r<e;r++)c[r]>a?(v.push({i:r,v:t[r],group:m}),u=r,d||(d=!0)):d&&r>u+4&&(v.length>0&&g.push(v.slice(0)),v=[],d=!1,m++);for(d&&v.length>1&&g.push(v.slice(0)),p&&0===g.length&&(f=!0),s=0;s<g.length;s++)if(b[s]="point",!((o=g[s].length)<64)){for(l=0,h=Math.sign(g[s][0].v),r=1;r<o;r++)Math.sign(g[s][r].v)!==h&&(l++,h=Math.sign(g[s][r].v));6*l>o&&(b[s]="interval")}return{smooth:f,groups:g,types:b}},Component:function(){this.left_isNaN=!1,this.right_isNaN=!1,this.left_t=null,this.right_t=null,this.t_values=[],this.x_values=[],this.y_values=[],this.len=0},findComponents:function(t,e,i,r){var s,o,n,a,h,l,c=[],d=0,u=0,p=0,f=!1,m=!1;for(n=(i-e)/r,c[d]=new this.Component,l=c[d],s=0,o=e;s<=r;s++,o+=n)a=t.X(o,m),h=t.Y(o,m),isNaN(a)||isNaN(h)?++p>1&&f&&(l.right_isNaN=!0,l.right_t=o-n,l.len=u,f=!1,c[++d]=new this.Component,l=c[d],p=0):(f||(f=!0,u=0,p>0&&(l.left_t=o-n,l.left_isNaN=!0)),p=0,l.t_values[u]=o,l.x_values[u]=a,l.y_values[u]=h,u++),0===s&&(m=!0);return f?l.len=u:c.pop(),c},getPointType:function(t,e,i,r,s,o,n){var a=s[0],h=o[0],l=r.length,c={idx:e,t:i,x:a[e],y:h[e],type:"other"};return e<5?(c.type="borderleft",c.idx=0,c.t=r[0],c.x=a[0],c.y=h[0],c):e>n-6?(c.type="borderright",c.idx=l-1,c.t=r[l-1],c.x=a[l-1],c.y=h[l-1],c):c},newtonApprox:function(t,e,i,r,s){var o,n=0;for(o=r;o>0;o--)n=(n+s[o][t])*(e-(o-1)*i)/o;return n+s[0][t]},thiele:function(t,e,i,r,s){var o,n=0;for(o=s;o>1;o--)n=(t-i[r+o])/(e[o][r+1]-e[o-2][r+1]+n);return e[0][r+1]+(t-i[r+1])/(e[1][r+1]+n)},differenceMethodExperiments:function(t,e){var i,r,s,o,n,a,h,l,c,d,u,p=t.t_values,f=t.x_values,m=t.y_values,g=[],b=[],v=[],y=[],C=[],_=[],P=[],E=[],x=0,S=[];for(n=p[1]-p[0],C.push([]),_.push([]),P.push([]),E.push([]),s=m.length,i=0;i<s;i++)C[0][i]=f[i],_[0][i]=m[i],P[0][i]=f[i],E[0][i]=m[i];for(C.push([]),_.push([]),P.push([]),E.push([]),a=n,s=m.length-1,i=0;i<s;i++)g[i]=f[i+1]-f[i],b[i]=m[i+1]-m[i],v[i]=g[i],y[i]=b[i],C[1][i]=g[i],_[1][i]=b[i],P[1][i]=a/g[i],E[1][i]=a/b[i];for(s--,o=Math.min(8,m.length-1),r=1;r<o;r++){for(C.push([]),_.push([]),P.push([]),E.push([]),a*=n,i=0;i<s;i++)g[i]=g[i+1]-g[i],b[i]=b[i+1]-b[i],C[r+1][i]=g[i],_[r+1][i]=b[i],P[r+1][i]=a/(P[r][i+1]-P[r][i])+P[r-1][i+1],E[r+1][i]=a/(E[r][i+1]-E[r][i])+E[r-1][i+1];if(!1===(u=this._criticalPoints(b,s,r))){console.log("Polynomial of degree",r),u=[];break}if(u.length>0&&++x>1&&r%2==0)break;s--}for(i=0;i<u.length;i++){for(l=-1/0,c=0;c<u[i].length;c++)(d=Math.abs(u[i][c].v))>l&&(l=d,h=c);h=Math.floor(u[i][h].i+r/2),S.push(this.getPointType(e,h,p,f,m,v,y,s+1))}return[S,C,_,P,E]},getCenterOfCriticalInterval:function(t,e,i){var r,s,o,n,a,h=0,l=0,c=i[1]-i[0],d=[];for(r=-1/0,d=[],s=0;s<t.length;s++)(n=Math.abs(t[s].v))>r?(d=[s],r=n,o=s):r===n&&d.push(s);if(d.length>0&&(a=d.reduce((function(t,e){return t+e}),0)/d.length,o=Math.floor(a),a+=t[0].i),r<1/0){for(s=0;s<t.length;s++)h+=Math.abs(t[s].v)*t[s].i,l+=Math.abs(t[s].v);a=h/l}return a+=e/2,[t[o].i+e/2,a,i[Math.floor(a)]+c*(a-Math.floor(a))]},differenceMethod:function(t,e){var i,r,s,o,n,a,h,l,c,d,u=t.t_values,p=t.x_values,f=t.y_values,m=[],g=[],b=0,v=-1,y=-1,C=[],_=[];for(s=f.length,m.push(new Float64Array(p)),g.push(new Float64Array(f)),s--,o=Math.min(12,s),r=0;r<o&&(m.push(new Float64Array(s)),g.push(new Float64Array(s)),m[r+1]=m[r].map((function(t,e,i){return i[e+1]-t})),g[r+1]=g[r].map((function(t,e,i){return i[e+1]-t})),!0===(l=this._criticalInterval(g[r+1],s,r)).smooth&&(y=r,C=[]),h=this._criticalInterval(m[r+1],s,r),-1===v&&!0===h.smooth&&(v=r),!(y>=0));r++){if(l.groups.length>0&&++b>2&&(r+1)%2==0){C=l.groups,d=l.types;break}s--}for(i=0;i<C.length;i++)"interval"!==d[i]&&(a=this.getCenterOfCriticalInterval(C[i],r+1,u),l[0],n=Math.floor(a[1]),c=a[2],_.push(this.getPointType(e,n,c,u,m,g,s+1)));return[_,m,g,v,y]},_insertPoint_v4:function(t,r,s,o){var n,a,h,l=null;t.points.length>0&&(l=t.points[t.points.length-1].scrCoords),n=new i(e.COORDS_BY_USER,r,t.board),null!==l&&(a=n.scrCoords[1]-l[1])*a+(h=n.scrCoords[2]-l[2])*h<.8*.8||(n._t=s,t.points.push(n))},getInterval:function(e,i,r){var s,o;return h.disable(),s=h.Interval(i,r),e.board.mathLib=h,e.board.mathLibJXG=h,e.X(s,!0),o=e.Y(s,!0),e.board.mathLib=Math,e.board.mathLibJXG=t.Math,o},sign:function(t){return t<0?-1:t>0?1:0},handleBorder:function(t,e,i,r,s){var o,n,a,h,c,d,u,p,f,m,g,b,v=i.idx;if(b=e.t_values[1]-e.t_values[0],"borderleft"===i.type?a=(n=o=e.left_isNaN?e.left_t:i.t-b)+b:"borderright"===i.type?n=(a=o=e.right_isNaN?e.right_t:i.t+b)-b:console.log("No bordercase!!!"),0!==(m=this.findComponents(t,n,a,32)).length){for("borderleft"===i.type&&(n=m[0].left_t,a=m[0].t_values[0],b=m[0].t_values[1]-m[0].t_values[0],o=n=null===n?a-b:n,h=this.getInterval(t,n,a),l.isObject(h)&&(u=h.lo,p=h.hi,c=t.X(o,!0),d=s[1][v]<0?p:u,this._insertPoint_v4(t,[1,c,d],o))),g=m[0].t_values.length,f=0;f<g;f++)o=m[0].t_values[f],c=m[0].x_values[f],d=m[0].y_values[f],this._insertPoint_v4(t,[1,c,d],o);"borderright"===i.type&&(n=m[0].t_values[g-1],a=m[0].right_t,b=m[0].t_values[1]-m[0].t_values[0],o=a=null===a?n+b:a,h=this.getInterval(t,n,a),l.isObject(h)&&(u=h.lo,p=h.hi,c=t.X(o,!0),d=s[1][v]>0?p:u,this._insertPoint_v4(t,[1,c,d],o)))}},_seconditeration_v4:function(t,e,i,r,s){var o,n,a,h,l,c,d,u,p,f,m,g,b;for(n=e.t_values[i.idx-2],a=e.t_values[i.idx+2],l=this.findComponents(t,n,a,64),d=0;d<l.length;d++){for(c=l[d],u=(h=this.differenceMethod(c,t))[0],f=h[1],m=h[2],g=0,p=0;p<=u.length;p++){for(b=p===u.length?c.len:u[p].idx,o=g;o<b;o++)isNaN(c.x_values[o])||isNaN(c.y_values[o])||this._insertPoint_v4(t,[1,c.x_values[o],c.y_values[o]],c.t_values[o]);p<u.length&&(this.handleSingularity(t,c,u[p],f,m),g=u[p].idx+1)}b=c.len,d<l.length-1&&this._insertPoint_v4(t,[1,NaN,NaN],c.right_t)}return this},_recurse_v4:function(t,e,i,r,s,o,n,a){var h,l,c=.5*(e+i),d=t.X(c,!0),u=t.Y(c,!0);0!==a?(h=(d-r)*t.board.unitX,l=(u-s)*t.board.unitY,Math.sqrt(h*h+l*l)>2?this._recurse_v4(t,e,c,r,s,d,u,a-1):this._insertPoint_v4(t,[1,d,u],c),h=(d-o)*t.board.unitX,l=(u-n)*t.board.unitY,Math.sqrt(h*h+l*l)>2?this._recurse_v4(t,c,i,d,u,o,n,a-1):this._insertPoint_v4(t,[1,d,u],c)):this._insertPoint_v4(t,[1,NaN,NaN],c)},handleSingularity:function(t,e,i,r,s){var o,n,a,h,c,d,u,p,f,m,g,b=i.idx,v=100;o=i.t,console.log("HandleSingularity at t =",o),n=e.t_values[b-5],a=e.t_values[b+5],h=this.getInterval(t,n,a),l.isObject(h)?(p=h.lo,f=h.hi):s[0][b-1]<s[0][b+1]?(p=s[0][b-1],f=s[0][b+1]):(p=s[0][b+1],f=s[0][b-1]),u=t.X(o,!0),m=(s[0][b-3]-s[0][b-5])/(e.t_values[b-3]-e.t_values[b-5]),g=(s[0][b+3]-s[0][b+5])/(e.t_values[b+3]-e.t_values[b+5]),console.log(":::",m,g),m<-100?(this._insertPoint_v4(t,[1,u,p],o,!0),g<=v&&this._insertPoint_v4(t,[1,NaN,NaN],o)):m>v?(this._insertPoint_v4(t,[1,u,f],o),g>=-100&&this._insertPoint_v4(t,[1,NaN,NaN],o)):(p===-1/0&&(this._insertPoint_v4(t,[1,u,p],o,!0),this._insertPoint_v4(t,[1,NaN,NaN],o)),f===1/0&&(this._insertPoint_v4(t,[1,NaN,NaN],o),this._insertPoint_v4(t,[1,u,f],o,!0)),i.t<e.t_values[b]?(c=b-1,d=b):(c=b,d=b+1),n=e.t_values[c],a=e.t_values[d],this._recurse_v4(t,n,a,r[0][c],s[0][c],r[0][d],s[0][d],10)),g<-100?this._insertPoint_v4(t,[1,u,f],o):g>v&&this._insertPoint_v4(t,[1,u,p],o)},steps:1021,criticalThreshold:1e3,plot_v4:function(t,e,i,r){var s,n,a,h,c,d,u,p,f,m,g,b,v,y,C,_=(i-e)/r,P=function(e){return t.Y(e,!0)},E=function(e){return-t.Y(e,!0)},x=.5*_;for(a=this.findComponents(t,e,i,r),h=0;h<a.length;h++){for(c=a[h],d=(f=this.differenceMethod(c,t))[0],m=f[1],g=f[2],f[3],f[4],0!==d.length&&"borderleft"===d[0].type||d.unshift({idx:0,t:c.t_values[0],x:c.x_values[0],y:c.y_values[0],type:"borderleft"}),"borderright"!==d[d.length-1].type&&(n=c.t_values.length,d.push({idx:n-1,t:c.t_values[n-1],x:c.x_values[n-1],y:c.y_values[n-1],type:"borderright"})),p=0,u=0;u<=d.length;u++){for(n=u===d.length?c.len:d[u].idx-1,0,0,s=p;s<n-2;s++)this._insertPoint_v4(t,[1,c.x_values[s],c.y_values[s]],c.t_values[s]),Math.max(0,s-2),s>=p+3&&s<n-3&&g.length>3&&Math.abs(g[2][s])>.2*Math.abs(g[0][s])?(b=c.t_values[s],x=.25*_,C=this.getInterval(t,b,b+_),l.isObject(C)?g[2][s]>0?this._insertPoint_v4(t,[1,b+x,C.lo],b+x):this._insertPoint_v4(t,[1,b+_-x,C.hi],b+_-x):(v=o.fminbr(P,[b,b+_]))<(y=o.fminbr(E,[b,b+_]))?(this._insertPoint_v4(t,[1,t.X(v,!0),t.Y(v,!0)],v),this._insertPoint_v4(t,[1,t.X(y,!0),t.Y(y,!0)],y)):(this._insertPoint_v4(t,[1,t.X(y,!0),t.Y(y,!0)],y),this._insertPoint_v4(t,[1,t.X(v,!0),t.Y(v,!0)],v))):0;u<d.length&&(s=d[u].idx,"borderleft"===d[u].type||"borderright"===d[u].type?this.handleBorder(t,c,d[u],m,g):this._seconditeration_v4(t,c,d[u],m,g),p=d[u].idx+1+1)}n=c.len,h<a.length-1&&this._insertPoint_v4(t,[1,NaN,NaN],c.right_t)}},updateParametricCurve_v4:function(t,e,i){var r,s,o,n;"x"===t.xterm?(o=.3*((n=t.board.getBoundingBox())[2]-n[0]),r=Math.max(e,n[0]-o),s=Math.min(i,n[2]+o)):(r=e,s=i),t.points=[],this.plot_v4(t,r,s,this.steps),t.numberPoints=t.points.length},updateParametricCurve:function(t,e,i){return this.updateParametricCurve_v2(t,e,i)}},r.Plot})),define("math/metapost",["utils/type","math/math"],(function(t,e){"use strict";return e.Metapost={MP_ENDPOINT:0,MP_EXPLICIT:1,MP_GIVEN:2,MP_CURL:3,MP_OPEN:4,MP_END_CYCLE:5,UNITY:1,FRACTION_ONE:1,FRACTION_THREE:3,ONE_EIGHTY_DEG:Math.PI,THREE_SIXTY_DEG:2*Math.PI,EPS_SQ:1e-5*1e-5,make_choices:function(t){var e,i,r,s,o,n,a,h,l,c,d,u,p,f,m;a=t[0];do{if(!a)break;n=a.next,a.rtype>this.MP_EXPLICIT&&(a.x-n.x)*(a.x-n.x)+(a.y-n.y)*(a.y-n.y)<this.EPS_SQ&&(a.rtype=this.MP_EXPLICIT,a.ltype===this.MP_OPEN&&(a.ltype=this.MP_CURL,a.set_left_curl(this.UNITY)),n.ltype=this.MP_EXPLICIT,n.rtype===this.MP_OPEN&&(n.rtype=this.MP_CURL,n.set_right_curl(this.UNITY)),a.rx=a.x,n.lx=a.x,a.ry=a.y,n.ly=a.y),a=n}while(a!==t[0]);for(i=t[0];i.ltype===this.MP_OPEN&&i.rtype===this.MP_OPEN;)if((i=i.next)===t[0]){i.ltype=this.MP_END_CYCLE;break}for(a=i;a;){if(n=a.next,a.rtype>=this.MP_GIVEN){for(;n.ltype===this.MP_OPEN&&n.rtype===this.MP_OPEN;)n=n.next;for(r=0,h=a,o=t.length,u=[],p=[],f=[],m=[null];c=h.next,u.push(c.x-h.x),p.push(c.y-h.y),f.push(this.mp_pyth_add(u[r],p[r])),r>0&&(d=p[r-1]/f[r-1],l=u[r-1]/f[r-1],m.push(Math.atan2(p[r]*l-u[r]*d,u[r]*l+p[r]*d))),r++,(h=c)===n&&(o=r),!(r>=o&&h.ltype!==this.MP_END_CYCLE););r===o?m.push(0):m.push(m[1]),n.ltype===this.MP_OPEN&&((s=n.rx-n.x)*s+(e=n.ry-n.y)*e<this.EPS_SQ?(n.ltype=this.MP_CURL,n.set_left_curl(this.UNITY)):(n.ltype=this.MP_GIVEN,n.set_left_given(Math.atan2(e,s)))),a.rtype===this.MP_OPEN&&a.ltype===this.MP_EXPLICIT&&((s=a.x-a.lx)*s+(e=a.y-a.ly)*e<this.EPS_SQ?(a.rtype=this.MP_CURL,a.set_right_curl(this.UNITY)):(a.rtype=this.MP_GIVEN,a.set_right_given(Math.atan2(e,s)))),this.mp_solve_choices(a,n,o,u,p,f,m)}else a.rtype===this.MP_ENDPOINT&&(a.rx=a.x,a.ry=a.y,n.lx=n.x,n.ly=n.y);if((a=n)===i)break}},mp_solve_choices:function(t,e,i,r,s,o,n){var a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N,M,A,R;for(d=o.length+1,g=new Array(d),m=new Array(d),l=new Array(d),_=new Array(d),A=0;A<d;A++)_[A]=l[A]=m[A]=g[A]=0;for(p=0,f=t,v=0;;){if(y=f.next,0===p)if(f.rtype===this.MP_GIVEN){if(y.ltype===this.MP_GIVEN)return a=Math.atan2(s[0],r[0]),O=(S=this.mp_n_sin_cos(t.right_given()-a))[0],w=S[1],N=(T=this.mp_n_sin_cos(e.left_given()-a))[0],M=T[1],void this.mp_set_controls(t,e,r[0],s[0],w,O,-M,N);l[0]=f.right_given()-Math.atan2(s[0],r[0]),l[0]=this.reduce_angle(l[0]),g[0]=0,m[0]=0}else if(f.rtype===this.MP_CURL){if(y.ltype===this.MP_CURL)return t.rtype=this.MP_EXPLICIT,e.ltype=this.MP_EXPLICIT,b=Math.abs(e.left_tension()),P=Math.abs(t.right_tension()),C=this.UNITY/(3*P),t.rx=t.x+r[0]*C,t.ry=t.y+s[0]*C,C=this.UNITY/(3*b),e.lx=e.x-r[0]*C,void(e.ly=e.y-s[0]*C);x=f.right_curl(),b=Math.abs(y.left_tension()),P=Math.abs(f.right_tension()),g[0]=this.mp_curl_ratio(x,P,b),l[0]=-n[1]*g[0],m[0]=0}else f.rtype===this.MP_OPEN&&(g[0]=0,l[0]=0,m[0]=this.FRACTION_ONE);else if(f.ltype===this.MP_END_CYCLE||f.ltype===this.MP_OPEN){if(a=this.UNITY/(3*Math.abs(v.right_tension())-this.UNITY),E=o[p]*(this.FRACTION_THREE-this.UNITY/Math.abs(v.right_tension())),c=this.UNITY/(3*Math.abs(y.left_tension())-this.UNITY),u=o[p-1]*(this.FRACTION_THREE-this.UNITY/Math.abs(y.left_tension())),E*=x=this.FRACTION_ONE-g[p-1]*a,(b=Math.abs(f.left_tension()))<(P=Math.abs(f.right_tension()))?E*=Math.pow(b/P,2):b>P&&(u*=Math.pow(P/b,2)),C=u/(u+E),g[p]=C*c,h=-n[p+1]*g[p],v.rtype===this.MP_CURL?(m[p]=0,l[p]=h-n[1]*(this.FRACTION_ONE-C)):(C=(this.FRACTION_ONE-C)/x,h-=n[p]*C,C*=a,l[p]=h-l[p-1]*C,m[p]=-m[p-1]*C),f.ltype===this.MP_END_CYCLE){for(a=0,c=this.FRACTION_ONE;0===(p-=1)&&(p=i),a=l[p]-a*g[p],c=m[p]-c*g[p],p!==i;);for(a/=this.FRACTION_ONE-c,_[i]=a,l[0]=a,R=1;R<i;R++)l[R]=l[R]+a*m[R];break}}else{if(f.ltype===this.MP_CURL){x=f.left_curl(),b=Math.abs(f.left_tension()),P=Math.abs(v.right_tension()),C=this.mp_curl_ratio(x,b,P),_[i]=-l[i-1]*C/(this.FRACTION_ONE-C*g[i-1]);break}if(f.ltype===this.MP_GIVEN){_[i]=f.left_given()-Math.atan2(s[i-1],r[i-1]),_[i]=this.reduce_angle(_[i]);break}}v=f,f=y,p+=1}for(p=i-1;p>-1;p--)_[p]=l[p]-_[p+1]*g[p];for(f=t,p=0;y=f.next,O=(S=this.mp_n_sin_cos(_[p]))[0],w=S[1],N=(T=this.mp_n_sin_cos(-n[p+1]-_[p+1]))[0],M=T[1],this.mp_set_controls(f,y,r[p],s[p],w,O,M,N),f=y,++p!==i;);},mp_n_sin_cos:function(t){return[Math.cos(t),Math.sin(t)]},mp_set_controls:function(t,e,i,r,s,o,n,a){var h,l,c,d,u;c=Math.abs(e.left_tension()),h=Math.abs(t.right_tension()),u=this.mp_velocity(s,o,n,a,h),l=this.mp_velocity(n,a,s,o,c),(t.right_tension()<0||e.left_tension()<0)&&(s>=0&&n>=0||s<=0&&n<=0)&&(d=Math.abs(s)*a+Math.abs(n)*o)>0&&(d*=1.00024414062,t.right_tension()<0&&this.mp_ab_vs_cd(Math.abs(n),this.FRACTION_ONE,u,d)<0&&(u=Math.abs(n)/d),e.left_tension()<0&&this.mp_ab_vs_cd(Math.abs(s),this.FRACTION_ONE,l,d)<0&&(l=Math.abs(s)/d)),t.rx=t.x+(i*o-r*s)*u,t.ry=t.y+(r*o+i*s)*u,e.lx=e.x-(i*a+r*n)*l,e.ly=e.y-(r*a-i*n)*l,t.rtype=this.MP_EXPLICIT,e.ltype=this.MP_EXPLICIT},mp_pyth_add:function(t,e){return Math.sqrt(t*t+e*e)},mp_curl_ratio:function(t,e,i){var r=1/e,s=1/i;return Math.min(4,((3-r)*r*r*t+s*s*s)/(r*r*r*t+(3-s)*s*s))},mp_ab_vs_cd:function(t,e,i,r){return t*e==i*r?0:t*e>i*r?1:-1},mp_velocity:function(t,e,i,r,s){return Math.min(4,(2+Math.sqrt(2)*(t-i/16)*(i-t/16)*(e-r))/(1.5*s*(2+(Math.sqrt(5)-1)*e+(3-Math.sqrt(5))*r)))},reduce_angle:function(t){return Math.abs(t)>this.ONE_EIGHTY_DEG&&(t>0?t-=this.THREE_SIXTY_DEG:t+=this.THREE_SIXTY_DEG),t},makeknots:function(t,e,i){var r,s,o=[];for(e=e||1,s=t.length,r=0;r<s;r++)o.push({x:t[r][0],y:t[r][1],ltype:this.MP_OPEN,rtype:this.MP_OPEN,ly:e,ry:e,lx:e,rx:e,left_curl:function(){return this.lx||0},right_curl:function(){return this.rx||0},left_tension:function(){return this.ly||(this.ly=1),this.ly},right_tension:function(){return this.ry||(this.ry=1),this.ry},set_right_curl:function(t){this.rx=t||0},set_left_curl:function(t){this.lx=t||0}});for(s=o.length,r=0;r<s;r++)o[r].next=o[r+1]||o[r],o[r].set_right_given=o[r].set_right_curl,o[r].set_left_given=o[r].set_left_curl,o[r].right_given=o[r].right_curl,o[r].left_given=o[r].left_curl;return o[s-1].next=o[0],i||(o[s-1].rtype=this.MP_ENDPOINT,o[s-1].ltype=this.MP_CURL,o[0].rtype=this.MP_CURL),o},curve:function(e,i){var r,s,o,n,a=[],h=[];for(o in i=i||{tension:1,direction:{},curl:{},isClosed:!1},s=(r=this.makeknots(e,t.evaluate(i.tension),i.isClosed)).length,i.direction)i.direction.hasOwnProperty(o)&&(n=t.evaluate(i.direction[o]),t.isArray(n)?(!1!==n[0]&&(r[o].lx=n[0]*Math.PI/180,r[o].ltype=this.MP_GIVEN),!1!==n[1]&&(r[o].rx=n[1]*Math.PI/180,r[o].rtype=this.MP_GIVEN)):(r[o].lx=n*Math.PI/180,r[o].rx=n*Math.PI/180,r[o].ltype=r[o].rtype=this.MP_GIVEN));for(o in i.curl)i.curl.hasOwnProperty(o)&&(n=t.evaluate(i.curl[o]),0===parseInt(o,10)?(r[o].rtype=this.MP_CURL,r[o].set_right_curl(n)):parseInt(o,10)===s-1&&(r[o].ltype=this.MP_CURL,r[o].set_left_curl(n)));for(this.make_choices(r),o=0;o<s-1;o++)a.push(r[o].x),a.push(r[o].rx),a.push(r[o+1].lx),h.push(r[o].y),h.push(r[o].ry),h.push(r[o+1].ly);return a.push(r[s-1].x),h.push(r[s-1].y),i.isClosed&&(a.push(r[s-1].rx),h.push(r[s-1].ry),a.push(r[0].lx),h.push(r[0].ly),a.push(r[0].x),h.push(r[0].y)),[a,h]}},e.Metapost})),define("utils/zip",["jxg"],(function(t){"use strict";var e=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],n=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];return t.Util=t.Util||{},t.Util.Unzip=function(a){var h,l,c,d,u=[],p=0,f=[],m=new Array(32768),g=0,b=!1,v=a.length,y=0,C=1,_=new Array(288),P=new Array(32),E=0,x=null,S=(new Array(64),new Array(64),0),O=new Array(17),w=[];function T(){return 8,y<v?a[y++]:-1}function N(){C=1}function M(){var t;try{return t=1&C,0===(C>>=1)&&(t=1&(C=T()),C=C>>1|128),t}catch(t){throw t}}function A(t){var i=0,r=t;try{for(;r--;)i=i<<1|M();t&&(i=e[i]>>8-t)}catch(t){throw t}return i}function R(){g=0}function L(t){m[g++]=t,u.push(String.fromCharCode(t)),32768===g&&(g=0)}function k(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function D(){for(;;){if(O[S]>=d)return-1;if(c[O[S]]===S)return O[S]++;O[S]++}}function B(){var t,e=x[E];if(17===S)return-1;if(E++,S++,(t=D())>=0)e.b0=t;else if(e.b0=32768,B())return-1;if((t=D())>=0)e.b1=t,e.jump=null;else if(e.b1=32768,e.jump=x[E],e.jumppos=E,B())return-1;return S--,0}function I(t,e,i,r){var s;for(x=t,E=0,c=i,d=e,s=0;s<17;s++)O[s]=0;return S=0,B()?-1:0}function Y(t){for(var e,i,r=0,s=t[r];;)if(M()){if(!(32768&s.b1))return s.b1;for(s=s.jump,e=t.length,i=0;i<e;i++)if(t[i]===s){r=i;break}}else{if(!(32768&s.b0))return s.b0;s=t[++r]}}function j(){var a,h,l,c,d,u,p,f,b,v,y,C,E,x,S;do{if(a=M(),0===(h=A(2)))for(N(),b=T(),b|=T()<<8,y=T(),65535&(b^~(y|=T()<<8))&&t.debug("BlockLen checksum mismatch\n");b--;)L(T());else if(1===h)for(;;)if((c=e[A(7)]>>1)>23?(c=c<<1|M())>199?c=(c-=128)<<1|M():(c-=48)>143&&(c+=136):c+=256,c<256)L(c);else{if(256===c)break;for(f=A(r[c-=257])+i[c],c=e[A(5)]>>3,o[c]>8?(v=A(8),v|=A(o[c]-8)<<8):v=A(o[c]),v+=s[c],c=0;c<f;c++)L(m[g-v&32767])}else if(2===h){for(u=new Array(320),E=257+A(5),x=1+A(5),S=4+A(4),c=0;c<19;c++)u[c]=0;for(c=0;c<S;c++)u[n[c]]=A(3);for(f=P.length,l=0;l<f;l++)P[l]=new k;if(I(P,19,u))return R(),1;for(C=E+x,l=0,-1;l<C;)if((c=Y(P))<16)u[l++]=c;else if(16===c){if(l+(c=3+A(2))>C)return R(),1;for(d=l?u[l-1]:0;c--;)u[l++]=d}else{if(l+(c=17===c?3+A(3):11+A(7))>C)return R(),1;for(;c--;)u[l++]=0}for(f=_.length,l=0;l<f;l++)_[l]=new k;if(I(_,E,u))return R(),1;for(f=_.length,l=0;l<f;l++)P[l]=new k;for(p=[],l=E;l<u.length;l++)p[l-E]=u[l];if(I(P,x,p))return R(),1;for(;;)if((c=Y(_))>=256){if(0===(c-=256))break;for(f=A(r[c-=1])+i[c],c=Y(P),o[c]>8?(v=A(8),v|=A(o[c]-8)<<8):v=A(o[c]),v+=s[c];f--;)L(m[g-v&32767])}else L(c)}}while(!a);return R(),N(),0}function X(){var t,e,i,r,s,o=[];try{if(u=[],b=!1,o[0]=T(),o[1]=T(),120===o[0]&&218===o[1]&&(j(),f[p]=[u.join(""),"geonext.gxt"],p++),31===o[0]&&139===o[1]&&(F(),f[p]=[u.join(""),"file"],p++),80===o[0]&&75===o[1]){if(b=!0,o[2]=T(),o[3]=T(),3===o[2]&&4===o[3]){for(o[0]=T(),o[1]=T(),h=T(),h|=T()<<8,s=T(),s|=T()<<8,T(),T(),T(),T(),T(),T()<<8,T()<<16,T()<<24,T(),T()<<8,T()<<16,T()<<24,T(),T()<<8,T()<<16,T()<<24,r=T(),r|=T()<<8,i=T(),i|=T()<<8,t=0,w=[];r--;)"/"===(e=T())|":"===e?t=0:t<255&&(w[t++]=String.fromCharCode(e));for(l||(l=w),t=0;t<i;)e=T(),t++;if(0,8===s&&(j(),f[p]=new Array(2),f[p][0]=u.join(""),f[p][1]=w.join(""),p++),F())return!1}return!0}}catch(t){throw t}return!1}function F(){var t,e,i=[];if(8&h&&(i[0]=T(),i[1]=T(),i[2]=T(),i[3]=T(),80===i[0]&&75===i[1]&&7===i[2]&&8===i[3]?(T(),T()<<8,T()<<16,T()<<24):i[0]|i[1]<<8|i[2]<<16|i[3]<<24,T(),T()<<8,T()<<16,T()<<24,T(),T()<<8,T()<<16,T()<<24),b&&X())return!1;if(i[0]=T(),8!==i[0])return!0;if(h=T(),T(),T(),T(),T(),T(),T(),4&h)for(i[0]=T(),i[2]=T(),S=i[0]+256*i[1],t=0;t<S;t++)T();if(8&h)for(t=0,w=[],e=T();e;)"7"!==e&&":"!==e||(t=0),t<255&&(w[t++]=e),e=T();if(16&h)for(e=T();e;)e=T();return 2&h&&(T(),T()),j(),T(),T()<<8,T()<<16,T()<<24,T(),T()<<8,T()<<16,T()<<24,b&&X(),!1}O[0]=0,t.Util.Unzip.prototype.unzipFile=function(t){var e;for(this.unzip(),e=0;e<f.length;e++)if(f[e][1]===t)return f[e][0];return""},t.Util.Unzip.prototype.unzip=function(){return X(),f}},t.Util})),define("utils/encoding",["jxg"],(function(t){"use strict";var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];return t.Util=t.Util||{},t.Util.UTF8={encode:function(t){var e,i,r="",s=t.length;if(t=t.replace(/\r\n/g,"\n"),"function"==typeof unescape&&"function"==typeof encodeURIComponent)return unescape(encodeURIComponent(t));for(e=0;e<s;e++)(i=t.charCodeAt(e))<128?r+=String.fromCharCode(i):i>127&&i<2048?(r+=String.fromCharCode(i>>6|192),r+=String.fromCharCode(63&i|128)):(r+=String.fromCharCode(i>>12|224),r+=String.fromCharCode(i>>6&63|128),r+=String.fromCharCode(63&i|128));return r},decode:function(t){var i,r,s,o=0,n=0,a=0,h=[],l=t.length,c=[];for(i=0;i<l;i++)r=t.charCodeAt(i),s=e[r],n=0!==a?63&r|n<<6:255>>s&r,0===(a=e[256+a+s])&&(n>65535?h.push(55232+(n>>10),56320+(1023&n)):h.push(n),++o%1e4==0&&(c.push(String.fromCharCode.apply(null,h)),h=[]));return c.push(String.fromCharCode.apply(null,h)),c.join("")},asciiCharCodeAt:function(t,e){var i=t.charCodeAt(e);if(i>255)switch(i){case 8364:i=128;break;case 8218:i=130;break;case 402:i=131;break;case 8222:i=132;break;case 8230:i=133;break;case 8224:i=134;break;case 8225:i=135;break;case 710:i=136;break;case 8240:i=137;break;case 352:i=138;break;case 8249:i=139;break;case 338:i=140;break;case 381:i=142;break;case 8216:i=145;break;case 8217:i=146;break;case 8220:i=147;break;case 8221:i=148;break;case 8226:i=149;break;case 8211:i=150;break;case 8212:i=151;break;case 732:i=152;break;case 8482:i=153;break;case 353:i=154;break;case 8250:i=155;break;case 339:i=156;break;case 382:i=158;break;case 376:i=159}return i}},t.Util.UTF8})),define("utils/base64",["jxg","utils/encoding"],(function(t,e){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r="=";function s(t,e){return 255&t.charCodeAt(e)}function o(t,e){return i.indexOf(t.charAt(e))}return t.Util=t.Util||{},t.Util.Base64={encode:function(t){var o,n,a,h,l,c=[];for(h=(a=(l=e.encode(t)).length)%3,o=0;o<a-h;o+=3)n=s(l,o)<<16|s(l,o+1)<<8|s(l,o+2),c.push(i.charAt(n>>18),i.charAt(n>>12&63),i.charAt(n>>6&63),i.charAt(63&n));switch(h){case 1:n=s(l,a-1),c.push(i.charAt(n>>2),i.charAt(n<<4&63),r,r);break;case 2:n=s(l,a-2)<<8|s(l,a-1),c.push(i.charAt(n>>10),i.charAt(n>>4&63),i.charAt(n<<2&63),r)}return c.join("")},decode:function(t,i){var s,n,a,h,l,c,d=[],u=[];if((a=(s=t.replace(/[^A-Za-z0-9+/=]/g,"")).length)%4!=0)throw new Error("JSXGraph/utils/base64: Can't decode string (invalid input length).");for(s.charAt(a-1)===r&&(h=1,s.charAt(a-2)===r&&(h=2),a-=4),n=0;n<a;n+=4)l=o(s,n)<<18|o(s,n+1)<<12|o(s,n+2)<<6|o(s,n+3),u.push(l>>16,l>>8&255,255&l),n%1e4==0&&(d.push(String.fromCharCode.apply(null,u)),u=[]);switch(h){case 1:l=o(s,a)<<12|o(s,a+1)<<6|o(s,a+2),u.push(l>>10,l>>2&255);break;case 2:l=o(s,n)<<6|o(s,n+1),u.push(l>>4)}return d.push(String.fromCharCode.apply(null,u)),c=d.join(""),i&&(c=e.decode(c)),c},decodeAsArray:function(t){var e,i=this.decode(t),r=[],s=i.length;for(e=0;e<s;e++)r[e]=i.charCodeAt(e);return r}},t.Util.Base64})),define("server/server",["jxg","utils/zip","utils/base64","utils/type"],(function(t,e,i,r){"use strict";return t.Server={modules:{},runningCalls:{},handleError:function(e){t.debug("error occured, server says: "+e.message)},callServer:function(s,o,n,a){var h,l,c,d,u,p,f;for(p in a=a||!1,"",n)n.hasOwnProperty(p)&&"&"+escape(p)+"="+escape(n[p]);u=r.toJSON(n);do{d=s+Math.floor(4096*Math.random())}while(r.exists(this.runningCalls[d]));return this.runningCalls[d]={action:s},r.exists(n.module)&&(this.runningCalls[d].module=n.module),h=t.serverBase+"JXGServer.py",l="action="+escape(s)+"&id="+d+"&dataJSON="+escape(i.encode(u)),this.cbp=function(t){var s,n,a,h,l,c,d,u;if(s=new e.Unzip(i.decodeAsArray(t)).unzip(),r.isArray(s)&&s.length>0&&(s=s[0][0]),r.exists(s))if("error"===(n=window.JSON&&window.JSON.parse?window.JSON.parse(s):new Function("return "+s)()).type)this.handleError(n);else if("response"===n.type){for(c=n.id,d=0;d<n.fields.length;d++)h=(a=n.fields[d]).namespace+("object"==typeof new Function("return "+a.namespace)()?".":".prototype.")+a.name+" = "+a.value,new Function(h)();for(d=0;d<n.handler.length;d++){for(a=n.handler[d],l=[],u=0;u<a.parameters.length;u++)l[u]='"'+a.parameters[u]+'": '+a.parameters[u];h="if(typeof JXG.Server.modules."+this.runningCalls[c].module+' == "undefined")JXG.Server.modules.'+this.runningCalls[c].module+" = {};",h+="JXG.Server.modules."+this.runningCalls[c].module+"."+a.name+"_cb = "+a.callback+";",h+="JXG.Server.modules."+this.runningCalls[c].module+"."+a.name+" = function ("+a.parameters.join(",")+', __JXGSERVER_CB__, __JXGSERVER_SYNC) {if(typeof __JXGSERVER_CB__ == "undefined") __JXGSERVER_CB__ = JXG.Server.modules.'+this.runningCalls[c].module+"."+a.name+"_cb;var __JXGSERVER_PAR__ = {"+l.join(",")+', "module": "'+this.runningCalls[c].module+'", "handler": "'+a.name+'" };JXG.Server.callServer("exec", __JXGSERVER_CB__, __JXGSERVER_PAR__, __JXGSERVER_SYNC);};',new Function(h)()}delete this.runningCalls[c],o(n.data)}},this.cb=t.bind(this.cbp,this),window.XMLHttpRequest?(c=new XMLHttpRequest).overrideMimeType("text/plain; charset=iso-8859-1"):c=new ActiveXObject("Microsoft.XMLHTTP"),!(!c||(c.open("POST",h,!a),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a||(c.onreadystatechange=(f=this.cb,function(){return 4===c.readyState&&200===c.status&&(f(c.responseText),!0)})),c.send(l),!a))&&(this.cb(c.responseText),!0)},loadModule_cb:function(e){var i;for(i=0;i<e.length;i++)t.debug(e[i].name+": "+e[i].value)},loadModule:function(e){return t.Server.callServer("load",t.Server.loadModule_cb,{module:e},!0)}},t.Server.load=t.Server.loadModule,t.Server})),define("math/symbolic",["base/constants","base/coords","math/math","math/geometry","server/server","utils/type"],(function(t,e,i,r,s,o){"use strict";var n;return i.Symbolic={generateSymbolicCoordinatesPartial:function(t,e,i,r){var s,n,a,h=e.ancestors,l=0,c=function(t){return"underscore"===r?i+"_{"+t+"}":"brace"===r?i+"["+t+"]":i+t};for(n in t.listOfFreePoints=[],t.listOfDependantPoints=[],h)if(h.hasOwnProperty(n)&&(s=0,o.isPoint(h[n]))){for(a in h[n].ancestors)h[n].ancestors.hasOwnProperty(a)&&s++;0===s?(h[n].symbolic.x=h[n].coords.usrCoords[1],h[n].symbolic.y=h[n].coords.usrCoords[2],t.listOfFreePoints.push(h[n])):(l+=1,h[n].symbolic.x=c(l),l+=1,h[n].symbolic.y=c(l),t.listOfDependantPoints.push(h[n]))}return o.isPoint(e)&&(e.symbolic.x="x",e.symbolic.y="y"),l},clearSymbolicCoordinates:function(t){var e=function(t){var e,i=t&&t.length||0;for(e=0;e<i;e++)o.isPoint(t[e])&&(t[e].symbolic.x="",t[e].symbolic.y="")};e(t.listOfFreePoints),e(t.listOfDependantPoints),delete t.listOfFreePoints,delete t.listOfDependantPoints},generatePolynomials:function(t,e,i){var r,s,n,a,h=e.ancestors,l=[],c=[];for(r in i&&this.generateSymbolicCoordinatesPartial(t,e,"u","brace"),h[e.id]=e,h)if(h.hasOwnProperty(r)&&(a=0,l=[],o.isPoint(h[r]))){for(s in h[r].ancestors)h[r].ancestors.hasOwnProperty(s)&&a++;if(a>0)for(l=h[r].generatePolynomial(),n=0;n<l.length;n++)c.push(l[n])}return i&&this.clearSymbolicCoordinates(t),c},geometricLocusByGroebnerBase:function(a,h){var l,c,d,u,p,f,m,g,b,v,y,C,_=a.options.locus,P={},E=this.generateSymbolicCoordinatesPartial(a,h,"u","brace"),x=new e(t.COORDS_BY_USR,[0,0],a),S=new e(t.COORDS_BY_USR,[a.canvasWidth,a.canvasHeight],a),O=1,w=0,T=0,N=0;if(s.modules.geoloci===n&&s.loadModule("geoloci"),s.modules.geoloci===n)throw new Error("JSXGraph: Unable to load JXG.Server module 'geoloci.py'.");if(f=x.usrCoords[1],m=S.usrCoords[1],g=S.usrCoords[2],b=x.usrCoords[2],_.translateToOrigin&&a.listOfFreePoints.length>0){for(w=(d=_.toOrigin!==n&&null!==_.toOrigin&&o.isInArray(a.listOfFreePoints,_.toOrigin.id)?_.toOrigin:a.listOfFreePoints[0]).symbolic.x,T=d.symbolic.y,p=0;p<a.listOfFreePoints.length;p++)a.listOfFreePoints[p].symbolic.x-=w,a.listOfFreePoints[p].symbolic.y-=T;if(f-=w,m-=w,g-=T,b-=T,_.translateTo10&&a.listOfFreePoints.length>1){for(u=_.to10!==n&&null!==_.to10&&_.to10.id!==_.toOrigin.id&&o.isInArray(a.listOfFreePoints,_.to10.id)?_.to10:a.listOfFreePoints[0].id===d.id?a.listOfFreePoints[1]:a.listOfFreePoints[0],N=r.rad([1,0],[0,0],[u.symbolic.x,u.symbolic.y]),v=Math.cos(-N),y=Math.sin(-N),p=0;p<a.listOfFreePoints.length;p++)C=a.listOfFreePoints[p].symbolic.x,a.listOfFreePoints[p].symbolic.x=v*a.listOfFreePoints[p].symbolic.x-y*a.listOfFreePoints[p].symbolic.y,a.listOfFreePoints[p].symbolic.y=y*C+v*a.listOfFreePoints[p].symbolic.y;if(u.symbolic.y=0,C=f,f=v*f-y*g,g=y*C+v*g,C=m,m=v*m-y*b,b=y*C+v*b,_.stretch&&Math.abs(u.symbolic.x)>i.eps){for(O=u.symbolic.x,p=0;p<a.listOfFreePoints.length;p++)a.listOfFreePoints[p].symbolic.x/=O,a.listOfFreePoints[p].symbolic.y/=O;for(p=0;p<a.objectsList.length;p++)a.objectsList[p].elementClass===t.OBJECT_CLASS_CIRCLE&&"pointRadius"===a.objectsList[p].method&&(P[p]=a.objectsList[p].radius,a.objectsList[p].radius/=O);f/=O,m/=O,g/=O,b/=O,u.symbolic.x=1}}for(p=0;p<a.listOfFreePoints.length;p++)C=a.listOfFreePoints[p].symbolic.x,Math.abs(C)<i.eps&&(a.listOfFreePoints[p].symbolic.x=0),Math.abs(C-Math.round(C))<i.eps&&(a.listOfFreePoints[p].symbolic.x=Math.round(C)),C=a.listOfFreePoints[p].symbolic.y,Math.abs(C)<i.eps&&(a.listOfFreePoints[p].symbolic.y=0),Math.abs(C-Math.round(C))<i.eps&&(a.listOfFreePoints[p].symbolic.y=Math.round(C))}for(p in l=this.generatePolynomials(a,h).join(","),this.cbp=function(t){c=t},this.cb=o.bind(this.cbp,this),s.modules.geoloci.lociCoCoA(f,m,g,b,E,l,O,N,w,T,this.cb,!0),this.clearSymbolicCoordinates(a),P)P.hasOwnProperty(p)&&(a.objects[p].radius=P[p]);return c}},i.Symbolic})),define("math/clip",["jxg","base/constants","base/coords","math/math","math/geometry","utils/type"],(function(t,e,i,r,s,o){"use strict";return r.Clip={_isSeparator:function(t){return isNaN(t.coords.usrCoords[1])&&isNaN(t.coords.usrCoords[2])},makeDoublyLinkedList:function(t){var e,i=null,r=[],s=t.length;if(s>0)for(e=0;e<s;e++)this._isSeparator(t[e])?(t[e]._next=t[(e+1)%s],t[e]._prev=t[(s+e-1)%s]):(null===i&&(i=e,r.push(i)),this._isSeparator(t[(e+1)%s])||e===s-1?(t[e]._next=t[i],t[i]._prev=t[e],t[e]._end=!0,i=null):(t[e]._next=t[(e+1)%s],t[i]._prev=t[e]),this._isSeparator(t[(s+e-1)%s])||(t[e]._prev=t[(s+e-1)%s]));return r},det:function(t,e,i){return(t[1]-i[1])*(e[2]-i[2])-(e[1]-i[1])*(t[2]-i[2])},windingNumber:function(t,e){var i,s,o,n,a,h=0,l=e.length,c=t[1],d=t[2];if(0===l)return 0;if(isNaN(c)||isNaN(d))return 1;if(e[0].coords.usrCoords[1]===c&&e[0].coords.usrCoords[2]===d)return 1;for(a=0;a<l;a++)if(i=e[a].coords.usrCoords,s=e[(a+1)%l].coords.usrCoords,!(0===i[0]||0===s[0]||isNaN(i[1])||isNaN(s[1])||isNaN(i[2])||isNaN(s[2]))){if(s[2]===d){if(s[1]===c)return 1;if(i[2]===d&&s[1]>c==i[1]<c)return 0}if(i[2]<d!=s[2]<d)if(n=2*(s[2]>i[2]?1:0)-1,i[1]>=c)if(s[1]>c)h+=n;else{if(0===(o=this.det(i,s,t)))return 0;o>0==s[2]>i[2]&&(h+=n)}else s[1]>c&&(o=this.det(i,s,t))>0+r.eps==s[2]>i[2]&&(h+=n)}return h},Vertex:function(t,i,r,s,o,n){this.pos=i,this.intersection=!0,this.coords=t,this.elementClass=e.OBJECT_CLASS_POINT,this.data={alpha:r,path:s,pathname:o,done:!1,type:n,idx:0},this.neighbour=null,this.entry_exit=!1},_addToList:function(t,i,s){var o=t.length,n=r.eps*r.eps;o>0&&Math.abs(t[o-1].coords.usrCoords[0]-i.usrCoords[0])<n&&Math.abs(t[o-1].coords.usrCoords[1]-i.usrCoords[1])<n&&Math.abs(t[o-1].coords.usrCoords[2]-i.usrCoords[2])<n||t.push({pos:s,intersection:!1,coords:i,elementClass:e.OBJECT_CLASS_POINT})},sortIntersections:function(t){var e,i,r,s,o,n,a=[],h=t.length;for(e=0;e<h;e++)if(t[e].sort((function(t,e){return t.data.alpha>e.data.alpha?1:-1})),t[e].length>0){for(o=t[e].length-1,n=(s=(r=t[e][0]).data.path[r.pos])._next,e===h-1&&(s._end=!1),0===r.data.alpha&&"T"===r.data.type?(s.intersection=!0,s.data=r.data,s.neighbour=r.neighbour,s.neighbour.neighbour=s,s.entry_exit=!1,t[e][0]=s):(r._prev=s,r._prev._next=r),i=1;i<=o;i++)(r=t[e][i])._prev=t[e][i-1],r._prev._next=r;(r=t[e][o])._next=n,r._next._prev=r,e===h-1&&(r._end=!0),a=a.concat(t[e])}return a},_inbetween:function(t,e,i){var s,o=r.eps*r.eps,n=i[1]-e[1],a=i[2]-e[2],h=t[1]-e[1],l=t[2]-e[2];return 0===n&&0===a&&0===h&&0===l||(s=Math.abs(h)<o&&Math.abs(n)<o?l/a:h/n,Math.abs(s)<o&&(s=0),s)},_print_array:function(t){var e,i;for(e=0;e<t.length;e++)try{i="",t[e]._end&&(i=" end"),console.log(e,t[e].coords.usrCoords,t[e].data.type,"\t","prev",t[e]._prev.coords.usrCoords,"next",t[e]._next.coords.usrCoords+i)}catch(i){console.log(e,t[e].coords.usrCoords)}},_print_list:function(t){for(var e,i=0;i<100&&(e=t.data?t.data.alpha:"-",console.log("\t",t.coords.usrCoords,"\n\t\tis:",t.intersection,"end:",t._end,e,"\n\t\t-:",t._prev.coords.usrCoords,"\n\t\t+:",t._next.coords.usrCoords,"\n\t\tn:",t.intersection?t.neighbour.coords.usrCoords:"-"),!t._end);)t=t._next,i++},_noOverlap:function(t,e,i,s){var o,n,a,h,l,c=Math.sqrt(r.eps),d=!1;for(o=0;o<3;o++)if(n=Math.min(t[o],e[o]),a=Math.max(t[o],e[o]),h=Math.min(i[o],s[o]),l=Math.max(i[o],s[o]),a<h-c||n>l+c){d=!0;break}return d},findIntersections:function(t,o,n){var a,h,l,c,d,u,p,f,m,g,b,v,y,C=[],_=r.eps,P=t.length,E=o.length,x=[],S=[],O=[],w=!1,T=!1,N=!1;for(h=0;h<E;h++)O.push([]);for(a=0;a<P;a++)if(S.push([]),this._isSeparator(t[a])||this._isSeparator(t[(a+1)%P]))w=!0;else{if(w&&a===P-1)break;for(c=t[a].coords.usrCoords,d=t[(a+1)%P].coords.usrCoords,h=0;h<E;h++)if(this._isSeparator(o[h])||this._isSeparator(o[(h+1)%E]))T=!0;else{if(T&&h===E-1)break;if(u=o[h].coords.usrCoords,p=o[(h+1)%E].coords.usrCoords,!this._noOverlap(c,d,u,p)&&(C=s.meetSegmentSegment(c,d,u,p),f=s.distance(c,d,3),m=s.distance(u,p,3),C[1]*f>-_&&C[1]<1-_/f&&C[2]*m>-_&&C[2]<1-_/m||C[1]===1/0&&C[2]===1/0&&r.norm(C[0],3)<_)){if(l=new i(e.COORDS_BY_USER,C[0],n),b="X",Math.abs(C[1])*f<_||Math.abs(C[2])*m<_)b="T",Math.abs(C[1])*f<_&&(C[1]=0),Math.abs(C[2])*m<_&&(C[2]=0),l=0===C[1]?new i(e.COORDS_BY_USER,c,n):new i(e.COORDS_BY_USER,u,n);else if(C[1]===1/0&&C[2]===1/0&&r.norm(C[0],3)<_){(g=this._inbetween(c,u,p))>=0&&g<1&&(b="T",l=new i(e.COORDS_BY_USER,c,n),C[1]=0,C[2]=g,v=new this.Vertex(l,a,C[1],t,"S",b),y=new this.Vertex(l,h,C[2],o,"C",b),v.neighbour=y,y.neighbour=v,S[a].push(v),O[h].push(y)),g=this._inbetween(u,c,d),s.distance(c,u,3)>_&&g>=0&&g<1&&(b="T",l=new i(e.COORDS_BY_USER,u,n),C[1]=g,C[2]=0,v=new this.Vertex(l,a,C[1],t,"S",b),y=new this.Vertex(l,h,C[2],o,"C",b),v.neighbour=y,y.neighbour=v,S[a].push(v),O[h].push(y));continue}N,v=new this.Vertex(l,a,C[1],t,"S",b),y=new this.Vertex(l,h,C[2],o,"C",b),v.neighbour=y,y.neighbour=v,S[a].push(v),O[h].push(y)}}}for(x=this.sortIntersections(S),a=0;a<x.length;a++)x[a].data.idx=a,x[a].neighbour.data.idx=a;return[x,this.sortIntersections(O)]},_getPosition:function(t,e,i,r){var s=this.det(t,e,i),o=this.det(t,i,r);return this.det(e,i,r)>=0?s>=0&&o>=0?"left":"right":s>=0||o>=0?"left":"right"},_classifyDegenerateIntersections:function(t){var e,i,n,a,h,l,c,d,u,p,f,m,g,b=!1;for(b,c=0,t._tours=0;;){if(t.intersection&&"T"===t.data.type&&(e=t._next.coords.usrCoords,i=t._prev.coords.usrCoords,s.distance(t.coords.usrCoords,e,3)<r.eps&&(e=t._next._next.coords.usrCoords),s.distance(t.coords.usrCoords,i,3)<r.eps&&(i=t._prev._prev.coords.usrCoords),a=(h=t.neighbour)._prev.coords.usrCoords,n=h._next.coords.usrCoords,s.distance(h.coords.usrCoords,n,3)<r.eps&&(n=h._next._next.coords.usrCoords),s.distance(h.coords.usrCoords,a,3)<r.eps&&(a=h._prev._prev.coords.usrCoords),p=this.det(t.coords.usrCoords,i,a),f=this.det(t.coords.usrCoords,e,n),m=this.det(t.coords.usrCoords,i,n),g=this.det(t.coords.usrCoords,e,a),0===p&&0===f&&0===m&&0===g&&(t.coords.usrCoords[1]*=1+Math.random()*r.eps,t.coords.usrCoords[2]*=1+Math.random()*r.eps,h.coords.usrCoords[1]=t.coords.usrCoords[1],h.coords.usrCoords[2]=t.coords.usrCoords[2],p=this.det(t.coords.usrCoords,i,a),f=this.det(t.coords.usrCoords,e,n),m=this.det(t.coords.usrCoords,i,n),g=this.det(t.coords.usrCoords,e,a)),u=!1,0===p?s.affineRatio(t.coords.usrCoords,i,a)<0&&(u=!0):0===f?s.affineRatio(t.coords.usrCoords,e,n)<0&&(u=!0):0===m?s.affineRatio(t.coords.usrCoords,i,n)>0&&(u=!0):0===g&&s.affineRatio(t.coords.usrCoords,e,a)>0&&(u=!0),u&&(d=a,a=n,n=d,d=p,p=m,m=d,d=f,f=g,g=d),o.exists(t.delayedStatus)||(t.delayedStatus=[]),0===p&&0===f?t.delayedStatus=["on","on"]:0===p?(l=this._getPosition(e,a,h.coords.usrCoords,n),t.delayedStatus=["on",l]):0===f?(l=this._getPosition(i,a,h.coords.usrCoords,n),t.delayedStatus=[l,"on"]):0===t.delayedStatus.length&&(this._getPosition(i,a,h.coords.usrCoords,n)!==this._getPosition(e,a,h.coords.usrCoords,n)?t.data.type="X":t.data.type="B")),o.exists(t._tours)&&t._tours++,t._tours>3||t._end||c>1e3){c>1e3&&console.log("Clipping: _classifyDegenerateIntersections exit"),o.exists(t._tours)&&delete t._tours;break}t.intersection&&c++,t=t._next}},_handleIntersectionChains:function(t){var e,i=0,r="Null",s=!1,o=!1,n=!1;for(n;!0===t.intersection&&("T"===t.data.type&&("on"!==t.delayedStatus[0]&&"on"===t.delayedStatus[1]?(s=!0,e=t,r=t.delayedStatus[0]):s&&"on"===t.delayedStatus[0]&&"on"===t.delayedStatus[1]?t.data.type="B":s&&"on"===t.delayedStatus[0]&&"on"!==t.delayedStatus[1]&&(s=!1,r===t.delayedStatus[1]?(e.data.type="DB",t.data.type="DB"):(e.data.type="DX",t.data.type="DX"))),i++),t._end&&(o=!0),!o||s;){if(i>1e3){console.log("Warning: _handleIntersectionChains: intersection chain reached maximum numbers of iterations");break}t=t._next}},_handleFullyDegenerateCase:function(t,s,o){var n,a,h,l,c,d,u,p,f,m,g,b,v,y=[t,s];for(h=0;h<2;h++){for(m=(n=y[h]).length,p=0,v=!0;p<m;p++)if(!n[p].intersection){v=!1;break}if(v)for(g=(a=y[(h+1)%2]).length,p=0;p<m;p++){for(c=n[p].coords.usrCoords,d=n[(p+1)%m].coords.usrCoords,l=[.5*(c[0]+d[0]),.5*(c[1]+d[1]),.5*(c[2]+d[2])],f=0,b=!1;f<g;f++)if(Math.abs(this.det(a[f].coords.usrCoords,a[(f+1)%g].coords.usrCoords,l))<r.eps){b=!0;break}if(!b){u={pos:p,intersection:!1,coords:new i(e.COORDS_BY_USER,l,o),elementClass:e.OBJECT_CLASS_POINT},n[p]._next=u,u._prev=n[p],n[(p+1)%m]._prev=u,u._next=n[(p+1)%m],n[p]._end&&(n[p]._end=!1,u._end=!0);break}}}},_getStatus:function(t,e){for(;t.intersection&&!t._end;)t=t._next;return[t,this.windingNumber(t.coords.usrCoords,e)%2==0?"entry":"exit"]},markEntryExit:function(t,e,i){var r,s,n,a,h,l,c,d=null,u=0;for(l=i.length,h=0;h<l;h++)for(c=i[h],this._classifyDegenerateIntersections(t[c]),this._handleIntersectionChains(t[c]),s=(a=this._getStatus(t[c],e))[0],r=a[1],s._starter=!0,n=0,d=null,u=0;!0===s.intersection&&("X"===s.data.type&&1===u&&(d.entry_exit=r,"exit"===r&&(d.data.type="X"),u=2),"X"!==s.data.type&&"DB"!==s.data.type||(s.entry_exit=r,r="entry"===r?"exit":"entry"),"DX"===s.data.type&&(0===u?(d=s,u=1):1===u?(s.entry_exit=r,d.entry_exit=r,"exit"===r?d.data.type="X":s.data.type="X",r="entry"===r?"exit":"entry",d=null,u=0):2===u&&(s.entry_exit=r,s.data.type="X",r="entry"===r?"exit":"entry",d=null,u=0))),s=s._next,!(o.exists(s._starter)||n>1e4);)n++},_stayOnPath:function(t,e){var i=!0;return t.intersection&&"B"!==t.data.type&&(i=e===t.entry_exit),i},_addVertex:function(t,e,i){return isNaN(e.coords.usrCoords[1])||isNaN(e.coords.usrCoords[2])||t.push(e),e.intersection&&e.data.done?(i&&console.log("Add last intersection point",e.coords.usrCoords,"on",e.data.pathname,e.entry_exit,e.data.type),!0):(e.intersection&&(e.data.done=!0,i&&console.log("Add intersection point",e.coords.usrCoords,"on",e.data.pathname,e.entry_exit,e.data.type)),!1)},tracing:function(t,e,i){var r,s,o,n,a=0,h=1e4,l=0,c=[],d=!1,u=!1;for(u;l<e.length&&a<h;)if((s=e[l]).data.done||"X"!==s.data.type)l++;else{u,c.length>0&&c.push([NaN,NaN]),o=s.data.idx,r=t,d=this._addVertex(c,s,u),n=s.entry_exit;do{if(d)break;if("intersection"===i&&"entry"===s.entry_exit||"union"===i&&"exit"===s.entry_exit||"difference"===i&&r===t==("exit"===s.entry_exit)){u;do{if(s=s._next,d=this._addVertex(c,s,u))break}while(this._stayOnPath(s,n));a++}else{u;do{if(s=s._prev,d=this._addVertex(c,s,u))break}while(this._stayOnPath(s,n));a++}if(d)break;if(!s.neighbour)return console.log("Tracing: emergency break - no neighbour!!!!!!!!!!!!!!!!!",a),[[0],[0]];if((s=s.neighbour).data.done)break;s.data.done=!0,n=s.entry_exit,r=s.data.path}while(s.data.idx!==o&&a<h);a>=h&&console.log("Tracing: stopping an infinite loop!",a),l++}return this._getCoordsArrays(c,!1)},isEmptyCase:function(t,e,i){return"intersection"===i&&(0===t.length||0===e.length)||("union"===i&&0===t.length&&0===e.length||"difference"===i&&0===t.length)},_getCoordsArrays:function(t,e){var i,r=[],s=[],o=t.length;for(i=0;i<o;i++)t[i].coords?(r.push(t[i].coords.usrCoords[1]),s.push(t[i].coords.usrCoords[2])):(r.push(t[i][0]),s.push(t[i][1]));return e&&o>0&&(t[0].coords?(r.push(t[0].coords.usrCoords[1]),s.push(t[0].coords.usrCoords[2])):(r.push(t[0][0]),s.push(t[0][1]))),[r,s]},handleEmptyIntersection:function(t,e,i){var r,o,n=!1,a=[];if(0===t.length)return a="union"===i?e:[],this._getCoordsArrays(a,!0);if(0===e.length)return a="intersection"===i?[]:t,this._getCoordsArrays(a,!0);if(t.length>0)for(r=t[0];r.intersection&&!(r=r._next)._end;);if(e.length>0)for(o=e[0];o.intersection&&!(o=o._next)._end;);return 0===this.windingNumber(r.coords.usrCoords,e)?0!==this.windingNumber(o.coords.usrCoords,t)?("union"===i?(a=a.concat(t)).push(t[0]):"difference"===i&&((a=a.concat(t)).push(t[0]),s.signedPolygon(t)*s.signedPolygon(e)>0&&a.reverse(),a.push([NaN,NaN])),"difference"!==i&&"intersection"!==i||((a=a.concat(e)).push(e[0]),n=!1)):"difference"===i?(a=a.concat(t),n=!0):"union"===i&&((a=a.concat(t)).push(t[0]),a.push([NaN,NaN]),(a=a.concat(e)).push(e[0])):"intersection"===i?(a=a.concat(t),n=!0):"union"===i&&(a=a.concat(e)).push(e[0]),this._getCoordsArrays(a,n)},_countCrossingIntersections:function(t){var e,i=t.length,r=0;for(e=0;e<i;e++)"X"===t[e].data.type&&r++;return r},_getPath:function(t,r){var n,a,h,l,c,d,u,p=[];if(t.elementClass!==e.OBJECT_CLASS_CURVE||t.type!==e.OBJECT_TYPE_ARC&&t.type!==e.OBJECT_TYPE_SECTOR){if(t.elementClass===e.OBJECT_CLASS_CURVE&&o.exists(t.points))for(a=t.numberPoints,n=0;n<a;n++)this._addToList(p,t.points[n],n);else if(t.type===e.OBJECT_TYPE_POLYGON)for(n=0;n<t.vertices.length;n++)this._addToList(p,t.vertices[n].coords,n);else if(t.elementClass===e.OBJECT_CLASS_CIRCLE)for(u=359,h=t.Radius(),l=2*Math.PI/u,n=0;n<=u;n++)this._addToList(p,new i(e.COORDS_BY_USER,[t.center.coords.usrCoords[0],t.center.coords.usrCoords[1]+Math.cos(n*l)*h,t.center.coords.usrCoords[2]+Math.sin(n*l)*h],r),n);else if(o.isArray(t))for(a=t.length,n=0;n<a;n++)o.exists(t[n].coords)?this._addToList(p,t[n].coords,n):o.isArray(t[n])?this._addToList(p,new i(e.COORDS_BY_USER,t[n],r),n):o.exists(t[n].usrCoords)&&this._addToList(p,t[n],n)}else{for(c=s.rad(t.radiuspoint,t.center,t.anglepoint),u=Math.floor(180*c/Math.PI),h=t.Radius(),l=c/u,d=Math.atan2(t.radiuspoint.coords.usrCoords[2]-t.center.coords.usrCoords[2],t.radiuspoint.coords.usrCoords[1]-t.center.coords.usrCoords[1]),t.type===e.OBJECT_TYPE_SECTOR&&this._addToList(p,t.center.coords,0),n=0;n<=u;n++)this._addToList(p,new i(e.COORDS_BY_USER,[t.center.coords.usrCoords[0],t.center.coords.usrCoords[1]+Math.cos(n*l+d)*h,t.center.coords.usrCoords[2]+Math.sin(n*l+d)*h],r),n+1);t.type===e.OBJECT_TYPE_SECTOR&&this._addToList(p,t.center.coords,u+2)}return p},greinerHormann:function(t,e,i,o){var n,a,h,l,c=[],d=[];return(n=(c=this._getPath(t,o)).length)>0&&s.distance(c[0].coords.usrCoords,c[n-1].coords.usrCoords,3)<r.eps&&c.pop(),(n=(d=this._getPath(e,o)).length)>0&&s.distance(d[0].coords.usrCoords,d[n-1].coords.usrCoords,3)<r.eps*r.eps&&d.pop(),this.isEmptyCase(c,d,i)?[[],[]]:(h=this.makeDoublyLinkedList(c),l=this.makeDoublyLinkedList(d),a=this.findIntersections(c,d,o)[0],this._handleFullyDegenerateCase(c,d,o),this.markEntryExit(c,d,h),this.markEntryExit(d,c,l),0===this._countCrossingIntersections(a)?this.handleEmptyIntersection(c,d,i):this.tracing(c,a,i))},union:function(t,e,i){return this.greinerHormann(t,e,"union",i)},intersection:function(t,e,i){return this.greinerHormann(t,e,"intersection",i)},difference:function(t,e,i){return this.greinerHormann(t,e,"difference",i)}},t.extend(r.Clip,{}),r.Clip})),define("math/poly",["jxg","math/math","utils/type"],(function(t,e,i){"use strict";return e.Poly={},e.Poly.Ring=function(t){this.vars=t},t.extend(e.Poly.Ring.prototype,{}),e.Poly.Monomial=function(t,e,r){var s;if(!i.exists(t))throw new Error("JSXGraph error: In JXG.Math.Poly.monomial missing parameter 'ring'.");for(i.isArray(r)||(r=[]),s=(r=r.slice(0,t.vars.length)).length;s<t.vars.length;s++)r.push(0);this.ring=t,this.coefficient=e||0,this.exponents=i.deepCopy(r)},t.extend(e.Poly.Monomial.prototype,{copy:function(){return new e.Poly.Monomial(this.ring,this.coefficient,this.exponents)},print:function(){var t,e=[];for(t=0;t<this.ring.vars.length;t++)e.push(this.ring.vars[t]+"^"+this.exponents[t]);return this.coefficient+"*"+e.join("*")}}),e.Poly.Polynomial=function(t,e){var r;if(!i.exists(t))throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial missing parameter 'ring'.");r=i.exists(e)&&i.isString(e)?void 0:[],this.ring=t,this.monomials=r},t.extend(e.Poly.Polynomial.prototype,{findSignature:function(t){var e;for(e=0;e<this.monomials.length;e++)if(i.cmpArrays(this.monomials[e].exponents,t))return e;return-1},addSubMonomial:function(t,e){var i;(i=this.findSignature(t.exponents))>-1?this.monomials[i].coefficient+=e*t.coefficient:(t.coefficient*=e,this.monomials.push(t))},add:function(t){var e;if(!i.exists(t)||t.ring!==this.ring)throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.add either summand is undefined or rings don't match.");if(i.isArray(t.exponents))this.addSubMonomial(t,1);else for(e=0;e<t.monomials.length;e++)this.addSubMonomial(t.monomials[e],1)},sub:function(t){var e;if(!i.exists(t)||t.ring!==this.ring)throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.sub either summand is undefined or rings don't match.");if(i.isArray(t.exponents))this.addSubMonomial(t,-1);else for(e=0;e<t.monomials.length;e++)this.addSubMonomial(t.monomials[e],-1)},copy:function(){var t,i;for(i=new e.Poly.Polynomial(this.ring),t=0;t<this.monomials.length;t++)i.monomials.push(this.monomials[t].copy());return i},print:function(){var t,e=[];for(t=0;t<this.monomials.length;t++)e.push("("+this.monomials[t].print()+")");return e.join("+")}}),e.Poly})),define("math/complex",["jxg","utils/type"],(function(t,e){"use strict";return t.Complex=function(t,e){this.isComplex=!0,t&&t.isComplex&&(e=t.imaginary,t=t.real),this.real=t||0,this.imaginary=e||0,this.absval=0,this.angle=0},t.extend(t.Complex.prototype,{toString:function(){return this.real+" + "+this.imaginary+"i"},add:function(t){return e.isNumber(t)?this.real+=t:(this.real+=t.real,this.imaginary+=t.imaginary),this},sub:function(t){return e.isNumber(t)?this.real-=t:(this.real-=t.real,this.imaginary-=t.imaginary),this},mult:function(t){var i,r;return e.isNumber(t)?(this.real*=t,this.imaginary*=t):(i=this.real,r=this.imaginary,this.real=i*t.real-r*t.imaginary,this.imaginary=i*t.imaginary+r*t.real),this},div:function(t){var i,r,s;if(e.isNumber(t)){if(Math.abs(t)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;this.real/=t,this.imaginary/=t}else{if(Math.abs(t.real)<Math.eps&&Math.abs(t.imaginary)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;i=t.real*t.real+t.imaginary*t.imaginary,s=this.real,r=this.imaginary,this.real=(s*t.real+r*t.imaginary)/i,this.imaginary=(r*t.real-s*t.imaginary)/i}return this},conj:function(){return this.imaginary*=-1,this}}),t.C={},t.C.add=function(e,i){var r=new t.Complex(e);return r.add(i),r},t.C.sub=function(e,i){var r=new t.Complex(e);return r.sub(i),r},t.C.mult=function(e,i){var r=new t.Complex(e);return r.mult(i),r},t.C.div=function(e,i){var r=new t.Complex(e);return r.div(i),r},t.C.conj=function(e){var i=new t.Complex(e);return i.conj(),i},t.C.abs=function(e){var i=new t.Complex(e);return i.conj(),i.mult(e),Math.sqrt(i.real)},t.Complex.C=t.C,t.Complex})),define("utils/color",["jxg","utils/type","math/math"],(function(t,e,i){"use strict";var r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},s=[{re:/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d.]{1,3})\s*\)\s*$/,example:["rgba(123, 234, 45, 0.5)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}];return t.rgbParser=function(t,i,o){var n,a,h,l,c,d,u,p,f,m,g=t;if(!e.exists(t))return[];if(e.exists(i)&&e.exists(o)&&(g=[t,i,o]),n=g,m=!1,e.isArray(n)){for(d=0;d<3;d++)m=m||/\./.test(g[d].toString());for(d=0;d<3;d++)m=m&&g[d]>=0&&g[d]<=1;return m?[Math.ceil(255*g[0]),Math.ceil(255*g[1]),Math.ceil(255*g[2])]:g}for("string"==typeof g&&(n=g),"#"===n.charAt(0)&&(n=n.substr(1,6)),n=n.replace(/ /g,"").toLowerCase(),n=r[n]||n,d=0;d<s.length;d++)h=s[d].re,l=s[d].process,(c=h.exec(n))&&(u=(a=l(c))[0],p=a[1],f=a[2]);return isNaN(u)||isNaN(p)||isNaN(f)?[]:[u=u<0||isNaN(u)?0:u>255?255:u,p=p<0||isNaN(p)?0:p>255?255:p,f=f<0||isNaN(f)?0:f>255?255:f]},t.rgb2css=function(e,i,r){var s;return"rgb("+(s=t.rgbParser(e,i,r))[0]+", "+s[1]+", "+s[2]+")"},t.rgb2hex=function(e,i,r){var s,o,n;return o=(s=t.rgbParser(e,i,r))[1],n=s[2],s=(s=s[0]).toString(16),o=o.toString(16),n=n.toString(16),1===s.length&&(s="0"+s),1===o.length&&(o="0"+o),1===n.length&&(n="0"+n),"#"+s+o+n},t.hex2rgb=function(e){return t.deprecated("JXG.hex2rgb()","JXG.rgb2css()"),t.rgb2css(e)},t.hsv2rgb=function(t,e,r){var s,o,n,a,h,l,c,d,u;if(t=(t%360+360)%360,0===e){if(!(isNaN(t)||t<i.eps))return"#ffffff";s=r,o=r,n=r}else switch(l=t>=360?0:t,c=r*(1-e),d=r*(1-e*(a=(l/=60)-(h=Math.floor(l)))),u=r*(1-e*(1-a)),h){case 0:s=r,o=u,n=c;break;case 1:s=d,o=r,n=c;break;case 2:s=c,o=r,n=u;break;case 3:s=c,o=d,n=r;break;case 4:s=u,o=c,n=r;break;case 5:s=r,o=c,n=d}return["#",s=2===(s=Math.round(255*s).toString(16)).length?s:1===s.length?"0"+s:"00",o=2===(o=Math.round(255*o).toString(16)).length?o:1===o.length?"0"+o:"00",n=2===(n=Math.round(255*n).toString(16)).length?n:1===n.length?"0"+n:"00"].join("")},t.rgb2hsv=function(e,i,r){var s,o,n,a,h,l,c,d,u,p,f,m,g;return o=(s=t.rgbParser(e,i,r))[1],n=s[2],a=(s=s[0])/255,h=o/255,l=n/255,m=Math.max(s,o,n),d=(g=Math.min(s,o,n))/255,p=0,(f=c=m/255)>0&&(p=(f-d)/f),u=1/(c-d),p>0&&(m===s?u*=h-l:u=m===o?2+(l-a)*u:4+(a-h)*u),(u*=60)<0&&(u+=360),m===g&&(u=0),[u,p,f]},t.rgb2LMS=function(e,i,r){var s,o,n,a,h,l,c,d=[[.05059983,.08585369,.0095242],[.01893033,.08925308,.01370054],[.00292202,.00975732,.07145979]];return o=(s=t.rgbParser(e,i,r))[1],n=s[2],s=s[0],s=Math.pow(s,.476190476),o=Math.pow(o,.476190476),n=Math.pow(n,.476190476),(c=[a=s*d[0][0]+o*d[0][1]+n*d[0][2],h=s*d[1][0]+o*d[1][1]+n*d[1][2],l=s*d[2][0]+o*d[2][1]+n*d[2][2]]).l=a,c.m=h,c.s=l,c},t.LMS2rgb=function(t,e,i){var r,s,o,n,a=[[30.830854,-29.832659,1.610474],[-6.481468,17.715578,-2.532642],[-.37569,-1.199062,14.273846]],h=function(t){for(var e=127,i=64;i>0;){if(Math.pow(e,.476190476)>t)e-=i;else{if(Math.pow(e+1,.476190476)>t)return e;e+=i}i/=2}return 254===e&&13.994955247<t?255:e};return r=t*a[0][0]+e*a[0][1]+i*a[0][2],s=t*a[1][0]+e*a[1][1]+i*a[1][2],o=t*a[2][0]+e*a[2][1]+i*a[2][2],(n=[r=h(r),s=h(s),o=h(o)]).r=r,n.g=s,n.b=o,n},t.rgba2rgbo=function(t){var e;return 9===t.length&&"#"===t.charAt(0)?(e=parseInt(t.substr(7,2).toUpperCase(),16)/255,t=t.substr(0,7)):e=1,[t,e]},t.rgbo2rgba=function(t,e){var i;return"none"===t?t:(1===(i=Math.round(255*e).toString(16)).length&&(i="0"+i),t+i)},t.rgb2bw=function(e){var i,r,s,o="0123456789ABCDEF";return"none"===e?e:(s=t.rgbParser(e),i=Math.floor(.3*s[0]+.59*s[1]+.11*s[2]),e="#"+(r=o.charAt(i>>4&15)+o.charAt(15&i))+r+r)},t.rgb2cb=function(e,i){var r,s,o,n,a,h,l,c,d,u,p,f="0123456789ABCDEF";if("none"===e)return e;switch(s=(a=t.rgb2LMS(e))[0],o=a[1],n=a[2],i=i.toLowerCase()){case"protanopia":h=-.06150039994295001,l=.08277001656812001,c=-.013200141220000003,d=.05858939668799999,u=-.07934519995360001,p=.013289415272000003,s=n/o<.6903216543277437?-(l*o+c*n)/h:-(u*o+p*n)/d;break;case"tritanopia":h=-.00058973116217,l=.007690316482,c=-.01011703519052,d=.025495080838999994,u=-.0422740347,p=.017005316784,n=o/s<.8349489908460004?-(h*s+l*o)/c:-(d*s+u*o)/p;break;default:h=-.06150039994295001,l=.08277001656812001,c=-.013200141220000003,d=.05858939668799999,u=-.07934519995360001,p=.013289415272000003,o=n/s<.5763833686400911?-(h*s+c*n)/l:-(d*s+p*n)/u}return r=t.LMS2rgb(s,o,n),e="#"+(f.charAt(r[0]>>4&15)+f.charAt(15&r[0])),e+=f.charAt(r[1]>>4&15)+f.charAt(15&r[1]),e+=f.charAt(r[2]>>4&15)+f.charAt(15&r[2])},t.autoHighlight=function(e){var i=t.rgba2rgbo(e),r=i[0],s=i[1];return"#"===e.charAt(0)?(s*=s<.3?1.8:.4,t.rgbo2rgba(r,s)):e},t.contrast=function(e,i,r,s){var o,n,a,h,l;return i=i||"#000000",r=r||"#ffffff",s=s||7,o=t.rgbParser(e),n=t.rgbParser("#000000"),l=(a=.2126*Math.pow(o[0]/255,2.2)+.7152*Math.pow(o[1]/255,2.2)+.0722*Math.pow(o[2]/255,2.2))>(h=.2126*Math.pow(n[0]/255,2.2)+.7152*Math.pow(n[1]/255,2.2)+.0722*Math.pow(n[2]/255,2.2))?Math.floor((a+.05)/(h+.05)):Math.floor((h+.05)/(a+.05)),(l-=1)>s?i:r},t.setClassicColors=function(){t.Options.elements.strokeColor="blue",t.Options.elements.fillColor="red",t.Options.hatch.strokeColor="blue",t.Options.angle.fillColor="#ff7f00",t.Options.angle.highlightFillColor="#ff7f00",t.Options.angle.strokeColor="#ff7f00",t.Options.angle.label.strokeColor="blue",t.Options.arc.strokeColor="blue",t.Options.circle.center.fillColor="red",t.Options.circle.center.strokeColor="blue",t.Options.circumcircle.strokeColor="blue",t.Options.circumcircle.center.fillColor="red",t.Options.circumcircle.center.strokeColor="blue",t.Options.circumcirclearc.strokeColor="blue",t.Options.circumcirclesector.strokeColor="blue",t.Options.circumcirclesector.fillColor="green",t.Options.circumcirclesector.highlightFillColor="green",t.Options.conic.strokeColor="blue",t.Options.curve.strokeColor="blue",t.Options.incircle.strokeColor="blue",t.Options.incircle.center.fillColor="red",t.Options.incircle.center.strokeColor="blue",t.Options.inequality.fillColor="red",t.Options.integral.fillColor="red",t.Options.integral.curveLeft.color="red",t.Options.integral.curveRight.color="red",t.Options.line.strokeColor="blue",t.Options.point.fillColor="red",t.Options.point.strokeColor="red",t.Options.polygon.fillColor="green",t.Options.polygon.highlightFillColor="green",t.Options.polygon.vertices.strokeColor="red",t.Options.polygon.vertices.fillColor="red",t.Options.regularpolygon.fillColor="green",t.Options.regularpolygon.highlightFillColor="green",t.Options.regularpolygon.vertices.strokeColor="red",t.Options.regularpolygon.vertices.fillColor="red",t.Options.riemannsum.fillColor="yellow",t.Options.sector.fillColor="green",t.Options.sector.highlightFillColor="green",t.Options.semicircle.center.fillColor="red",t.Options.semicircle.center.strokeColor="blue",t.Options.slopetriangle.fillColor="red",t.Options.slopetriangle.highlightFillColor="red",t.Options.turtle.arrow.strokeColor="blue"},t.extend(t,{paletteWong:{black:"#000000",orange:"#E69F00",skyblue:"#56B4E9",bluishgreen:"#009E73",yellow:"#F0E442",darkblue:"#0072B2",vermillion:"#D55E00",reddishpurple:"#CC79A7",blue:"#0072B2",red:"#D55E00",green:"#009E73",purple:"#CC79A7",white:"#ffffff"}}),t.palette=t.paletteWong,t})),define("options",["jxg","base/constants","math/math","utils/color","utils/type"],(function(t,e,i,r,s){"use strict";return t.Options={jc:{enabled:!0,compile:!0},board:{boundingBox:[-5,5,5,-5],maxBoundingBox:[-1/0,1/0,1/0,-1/0],zoomFactor:1,zoomX:1,zoomY:1,title:"",description:"",showCopyright:!0,axis:!1,defaultAxes:{x:{name:"x",ticks:{label:{visible:"inherit",anchorX:"middle",anchorY:"top",fontSize:12,offset:[0,-3]},drawZero:!1,visible:"inherit"}},y:{name:"y",ticks:{label:{visible:"inherit",anchorX:"right",anchorY:"middle",fontSize:12,offset:[-6,0]},tickEndings:[1,0],drawZero:!1,visible:"inherit"}}},showNavigation:!0,showZoom:!0,showReload:!1,showScreenshot:!1,screenshot:{scale:1,type:"png",symbol:"⌘",css:"background-color:#eeeeee; opacity:1.0; border:2px solid black; border-radius:10px; text-align:center",cssButton:"padding: 4px 10px; border: solid #356AA0 1px; border-radius: 5px; position: absolute; right: 2ex; top: 2ex; background-color: rgba(255, 255, 255, 0.3);"},showFullscreen:!1,fullscreen:{symbol:"□",id:null},showClearTraces:!1,keepAspectRatio:!1,ignoreLabels:!0,maxNameLength:1,document:!1,takeFirst:!1,takeSizeFromFile:!1,renderer:"auto",animationDelay:35,maxFrameRate:40,registerEvents:!0,minimizeReflow:"none",offsetX:0,offsetY:0,zoom:{enabled:!0,factorX:1.25,factorY:1.25,wheel:!0,needShift:!0,min:1e-4,max:1e4,pinchHorizontal:!0,pinchVertical:!0,pinchSensitivity:7},pan:{needShift:!0,needTwoFingers:!1,enabled:!0},drag:{enabled:!0},keyboard:{enabled:!0,dx:10,dy:10,panShift:!0,panCtrl:!1},resize:{enabled:!0,throttle:10},moveTarget:null,selection:{enabled:!1,name:"selectionPolygon",needShift:!1,needCtrl:!0,withLines:!1,vertices:{visible:!1},fillColor:"#ffff00",visible:!1},showInfobox:!0},navbar:{strokeColor:"#333333",fillColor:"transparent",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"14px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"5px"},elements:{strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",fillColor:r.palette.red,highlightFillColor:"none",strokeOpacity:1,highlightStrokeOpacity:1,fillOpacity:1,highlightFillOpacity:1,gradient:null,gradientSecondColor:"#ffffff",gradientSecondOpacity:1,gradientStartOffset:0,gradientEndOffset:1,gradientAngle:0,gradientCX:.5,gradientCY:.5,gradientR:.5,gradientFX:.5,gradientFY:.5,gradientFR:0,transitionDuration:100,strokeWidth:2,highlightStrokeWidth:2,fixed:!1,frozen:!1,withLabel:!1,visible:!0,priv:!1,layer:0,dash:0,shadow:!1,trace:!1,traceAttributes:{},highlight:!0,needsRegularUpdate:!0,snapToGrid:!1,scalable:!0,dragToTopOfLayer:!1,precision:"inherit",draft:{draft:!1,strokeColor:"#565656",fillColor:"#565656",strokeOpacity:.8,fillOpacity:.8,strokeWidth:1},isLabel:!1,tabindex:0},ticks:{generateLabelText:null,generateLabelValue:null,drawLabels:!1,label:{},beautifulScientificTickLabels:!1,useUnicodeMinus:!0,anchor:"left",drawZero:!1,insertTicks:!1,minTicksDistance:10,minorHeight:4,majorHeight:10,tickEndings:[1,1],minorTicks:4,scale:1,scaleSymbol:"",labels:[],maxLabelLength:5,precision:3,digits:3,ticksDistance:1,face:"|",strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"none",highlightFillColor:"none",visible:"inherit",includeBoundaries:!1,type:"linear"},hatch:{drawLabels:!1,drawZero:!0,majorHeight:20,anchor:"middle",face:"|",strokeWidth:2,strokeColor:r.palette.blue,ticksDistance:.2},precision:{touch:30,touchMax:100,mouse:4,pen:4,epsilon:1e-4,hasPoint:4},layer:{numlayers:20,unused9:19,unused8:18,unused7:17,unused6:16,unused5:15,unused4:14,unused3:13,unused2:12,unused1:11,unused0:10,text:9,point:9,glider:9,arc:8,line:7,circle:6,curve:5,turtle:5,polygon:3,sector:3,angle:3,integral:3,axis:2,ticks:2,grid:1,image:0,trace:0},angle:{withLabel:!0,radius:"auto",type:"sector",orthoType:"square",orthoSensitivity:1,fillColor:r.palette.orange,highlightFillColor:r.palette.orange,strokeColor:r.palette.orange,fillOpacity:.3,highlightFillOpacity:.3,radiuspoint:{withLabel:!1,visible:!1,name:""},pointsquare:{withLabel:!1,visible:!1,name:""},dot:{visible:!1,strokeColor:"none",fillColor:"#000000",size:2,face:"o",withLabel:!1,name:""},label:{position:"top",offset:[0,0],strokeColor:r.palette.blue},arc:{visible:!1,fillColor:"none"}},arc:{selection:"auto",hasInnerPoints:!1,label:{anchorX:"auto",anchorY:"auto"},firstArrow:!1,lastArrow:!1,fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",useDirection:!1,center:{},radiusPoint:{},anglePoint:{}},arrow:{firstArrow:!1,lastArrow:{type:1,highlightSize:6,size:6}},axis:{name:"",needsRegularUpdate:!1,strokeWidth:1,lastArrow:{type:1,highlightSize:8,size:8},strokeColor:"#666666",highlightStrokeWidth:1,highlightStrokeColor:"#888888",withTicks:!0,straightFirst:!0,straightLast:!0,margin:-4,withLabel:!1,scalable:!1,ticks:{label:{offset:[4,-9],parse:!1,needsRegularUpdate:!1,display:"internal",visible:"inherit",layer:9},visible:"inherit",needsRegularUpdate:!1,strokeWidth:1,strokeColor:"#666666",highlightStrokeColor:"#888888",drawLabels:!0,drawZero:!1,insertTicks:!0,minTicksDistance:5,minorHeight:10,majorHeight:-1,tickEndings:[0,1],minorTicks:4,ticksDistance:1,strokeOpacity:.25},point1:{needsRegularUpdate:!1,visible:!1},point2:{needsRegularUpdate:!1,visible:!1},tabindex:-1,label:{position:"lft",offset:[10,10]}},bisector:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},bisectorlines:{line1:{strokeColor:"#000000"},line2:{strokeColor:"#000000"}},boxplot:{dir:"vertical",smallWidth:.5,strokeWidth:2,strokeColor:r.palette.blue,fillColor:r.palette.blue,fillOpacity:.2,highlightStrokeWidth:2,highlightStrokeColor:r.palette.blue,highlightFillColor:r.palette.blue,highlightFillOpacity:.1},button:{disabled:!1,display:"html"},cardinalspline:{createPoints:!0,isArrayOfCoordinates:!1,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},chart:{chartStyle:"line",colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],highlightcolors:null,fillcolor:null,highlightonsector:!1,highlightbysize:!1,fillOpacity:.6,withLines:!1,label:{}},checkbox:{disabled:!1,checked:!1,display:"html"},circle:{hasInnerPoints:!1,fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},label:{position:"urt"}},circumcircle:{fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},circumcirclearc:{fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,name:""}},circumcirclesector:{useDirection:!0,fillColor:r.palette.yellow,highlightFillColor:r.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},conic:{fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",foci:{fixed:!1,visible:!1,withLabel:!1,name:""},center:{visible:!1,withLabel:!1,name:""},point:{withLabel:!1,name:""},line:{visible:!1}},curve:{strokeWidth:1,strokeColor:r.palette.blue,fillColor:"none",fixed:!0,useQDT:!1,handDrawing:!1,curveType:null,RDPsmoothing:!1,numberPointsHigh:1600,numberPointsLow:400,doAdvancedPlot:!0,recursionDepthHigh:17,recursionDepthLow:15,doAdvancedPlotOld:!1,plotVersion:2,label:{position:"lft"},firstArrow:!1,lastArrow:!1},foreignobject:{attractors:[],fixed:!0,visible:!0},glider:{label:{}},grid:{needsRegularUpdate:!1,hasGrid:!1,gridX:1,gridY:1,strokeColor:"#c0c0c0",strokeOpacity:.5,strokeWidth:1,dash:0,snapToGrid:!1,snapSizeX:10,snapSizeY:10},group:{needsRegularUpdate:!0},htmlslider:{widthRange:100,widthOut:34,step:.01,frozen:!0,isLabel:!1,strokeColor:"#000000",display:"html",anchorX:"left",anchorY:"middle",withLabel:!1},image:{imageString:null,fillOpacity:1,highlightFillOpacity:.6,cssClass:"JXGimage",highlightCssClass:"JXGimageHighlight",rotate:0,snapSizeX:1,snapSizeY:1,attractors:[]},incircle:{fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},inequality:{fillColor:r.palette.red,fillOpacity:.2,strokeColor:"none",inverse:!1},infobox:{fontSize:12,isLabel:!1,strokeColor:"#bbbbbb",display:"html",anchorX:"left",anchorY:"middle",cssClass:"JXGinfobox",rotate:0,visible:!0,parse:!1,transitionDuration:0,needsRegularUpdate:!1},integral:{axis:"x",withLabel:!0,fixed:!0,strokeWidth:0,strokeOpacity:0,fillColor:r.palette.red,fillOpacity:.3,highlightFillColor:r.palette.red,highlightFillOpacity:.2,curveLeft:{visible:!0,withLabel:!1,color:r.palette.red,fillOpacity:.8,layer:9},baseLeft:{visible:!1,fixed:!1,withLabel:!1,name:""},curveRight:{visible:!0,withLabel:!1,color:r.palette.red,fillOpacity:.8,layer:9},baseRight:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{fontSize:20}},input:{disabled:!1,maxlength:524288,display:"html"},intersection:{alwaysIntersect:!0},label:{visible:"inherit",strokeColor:"#000000",strokeOpacity:1,highlightStrokeOpacity:.666666,highlightStrokeColor:"#000000",fixed:!0,position:"urt",offset:[10,10],autoPosition:!1},legend:{style:"vertical",labels:["1","2","3","4","5","6","7","8"],colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],rowHeight:20,strokeWidth:5},line:{firstArrow:!1,lastArrow:!1,margin:0,straightFirst:!0,straightLast:!0,fillColor:"none",highlightFillColor:"none",strokeColor:r.palette.blue,highlightStrokeColor:"#c3d9ff",withTicks:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},ticks:{drawLabels:!0,label:{offset:[4,-9]},drawZero:!1,insertTicks:!1,minTicksDistance:50,minorHeight:4,majorHeight:-1,minorTicks:4,defaultDistance:1,strokeOpacity:.3,visible:"inherit"},label:{position:"llft"},snapToGrid:!1,snapSizeX:1,snapSizeY:1,touchFirstPoint:!1,touchLastPoint:!1,lineCap:"butt"},locus:{translateToOrigin:!1,translateTo10:!1,stretch:!1,toOrigin:null,to10:null},metapostspline:{createPoints:!0,isArrayOfCoordinates:!1,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},mirrorelement:{fixed:!0,point:{},center:{},type:"Euclidean"},normal:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},orthogonalprojection:{},parallel:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{position:"llft"}},perpendicular:{strokeColor:"#000000",straightFirst:!0,straightLast:!0},perpendicularsegment:{strokeColor:"#000000",straightFirst:!1,straightLast:!1,point:{visible:!1,fixed:!0,withLabel:!1,name:""}},point:{withLabel:!0,label:{},style:5,face:"o",size:3,sizeUnit:"screen",strokeWidth:2,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",zoom:!1,showInfobox:"inherit",infoboxDigits:"auto",draft:!1,attractors:[],attractorUnit:"user",attractorDistance:0,snatchDistance:0,snapToGrid:!1,attractToGrid:!1,snapSizeX:1,snapSizeY:1,snapToPoints:!1,ignoredSnapToPoints:[]},polygon:{hasInnerPoints:!1,fillColor:r.palette.yellow,highlightFillColor:r.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"},visible:"inherit"},vertices:{layer:9,withLabel:!1,name:"",strokeColor:r.palette.red,fillColor:r.palette.red,fixed:!1,visible:"inherit"},label:{offset:[0,0]}},polygonalchain:{fillColor:"none",highlightFillColor:"none"},prescribedangle:{anglePoint:{size:2,visible:!1,withLabel:!1}},reflection:{fixed:!0,center:{},type:"Euclidean"},regularpolygon:{hasInnerPoints:!1,fillColor:r.palette.yellow,highlightFillColor:r.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"}},vertices:{layer:9,withLabel:!0,strokeColor:r.palette.red,fillColor:r.palette.red,fixed:!1},label:{offset:[0,0]}},riemannsum:{withLabel:!1,fillOpacity:.3,fillColor:r.palette.yellow},sector:{fillColor:r.palette.yellow,highlightFillColor:r.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,highlightOnSector:!1,highlightStrokeWidth:0,selection:"auto",arc:{visible:!1,fillColor:"none"},radiusPoint:{visible:!1,withLabel:!1},center:{visible:!1,withLabel:!1},anglePoint:{visible:!1,withLabel:!1},label:{offset:[0,0],anchorX:"auto",anchorY:"auto"}},segment:{label:{position:"top"}},semicircle:{center:{visible:!1,withLabel:!1,fixed:!1,fillColor:r.palette.red,strokeColor:r.palette.red,highlightFillColor:"#eeeeee",highlightStrokeColor:r.palette.red,name:""}},slider:{snapWidth:-1,precision:2,digits:2,firstArrow:!1,lastArrow:!1,withTicks:!0,withLabel:!0,suffixLabel:null,unitLabel:null,postLabel:null,layer:9,showInfobox:!1,name:"",visible:!0,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"#ffffff",highlightFillColor:"none",size:6,point1:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},point2:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},baseline:{needsRegularUpdate:!1,visible:"inherit",fixed:!0,scalable:!1,tabindex:null,name:"",strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888"},ticks:{needsRegularUpdate:!1,fixed:!0,drawLabels:!1,digits:2,includeBoundaries:1,drawZero:!0,label:{offset:[-4,-14],display:"internal"},minTicksDistance:30,insertTicks:!0,minorHeight:4,majorHeight:5,minorTicks:0,defaultDistance:1,strokeOpacity:1,strokeWidth:1,tickEndings:[0,1],strokeColor:"#000000",visible:"inherit"},highline:{strokeWidth:3,visible:"inherit",fixed:!0,tabindex:null,name:"",strokeColor:"#000000",highlightStrokeColor:"#888888"},label:{visible:"inherit",strokeColor:"#000000"},moveOnUp:!0},comb:{frequency:.2,width:.4,angle:Math.PI/3,reverse:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},curve:{strokeWidth:1,strokeColor:"#000000",fillColor:"none"}},slopetriangle:{fillColor:r.palette.red,fillOpacity:.4,highlightFillColor:r.palette.red,highlightFillOpacity:.3,borders:{lastArrow:{type:1,size:6}},glider:{fixed:!0,visible:!1,withLabel:!1},baseline:{visible:!1,withLabel:!1,name:""},basepoint:{visible:!1,withLabel:!1,name:""},tangent:{visible:!1,withLabel:!1,name:""},toppoint:{visible:!1,withLabel:!1,name:""},label:{visible:!0}},stepfunction:{},tapemeasure:{strokeColor:"#000000",strokeWidth:2,highlightStrokeColor:"#000000",withTicks:!0,withLabel:!0,precision:2,digits:2,point1:{visible:"inherit",strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},point2:{visible:"inherit",strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},ticks:{drawLabels:!1,drawZero:!0,insertTicks:!0,minorHeight:8,majorHeight:16,minorTicks:4,tickEndings:[0,1],defaultDistance:.1,strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",visible:"inherit"},label:{position:"top"}},text:{fontSize:12,fontUnit:"px",digits:2,parse:!0,useCaja:!1,isLabel:!1,strokeColor:"#000000",highlightStrokeColor:"#000000",highlightStrokeOpacity:.666666,cssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",highlightCssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",cssStyle:"",highlightCssStyle:"",useASCIIMathML:!1,useMathJax:!1,useKatex:!1,display:"html",anchor:null,anchorX:"left",anchorY:"middle",cssClass:"JXGtext",highlightCssClass:"JXGtext",dragArea:"all",withLabel:!1,rotate:0,visible:!0,snapSizeX:1,snapSizeY:1,attractors:[]},tracecurve:{strokeColor:"#000000",fillColor:"none",numberPoints:100},turtle:{strokeWidth:1,fillColor:"none",strokeColor:"#000000",arrow:{strokeWidth:2,withLabel:!1,strokeColor:r.palette.red,lastArrow:!0}},shortcuts:{color:["strokeColor","fillColor"],opacity:["strokeOpacity","fillOpacity"],highlightColor:["highlightStrokeColor","highlightFillColor"],highlightOpacity:["highlightStrokeOpacity","highlightFillOpacity"],strokeWidth:["strokeWidth","highlightStrokeWidth"]}},t.Validator=function(){var e,r=function(t){return s.isString(t)},o=function(t){return Math.abs(t-Math.round(t))<i.eps},n=function(t){return o(t)&&t>0},a=function(t){return t>0},h=function(t){return t>=0},l={},c={attractorDistance:h,color:r,defaultDistance:s.isNumber,display:function(t){return"html"===t||"internal"===t},doAdvancedPlot:!1,draft:!1,drawLabels:!1,drawZero:!1,face:function(e){return s.exists(t.normalizePointFace(e))},factor:s.isNumber,fillColor:r,fillOpacity:s.isNumber,firstArrow:!1,fontSize:o,dash:o,gridX:s.isNumber,gridY:s.isNumber,hasGrid:!1,highlightFillColor:r,highlightFillOpacity:s.isNumber,highlightStrokeColor:r,highlightStrokeOpacity:s.isNumber,insertTicks:!1,lastArrow:!1,layer:function(t){return o(t)&&t>=0},majorHeight:o,minorHeight:o,minorTicks:h,minTicksDistance:n,numberPointsHigh:n,numberPointsLow:n,opacity:s.isNumber,radius:s.isNumber,RDPsmoothing:!1,renderer:function(t){return"vml"===t||"svg"===t||"canvas"===t||"no"===t},right:function(t){return/^[0-9]+px$/.test(t)},showCopyright:!1,showInfobox:!1,showNavigation:!1,size:h,snapSizeX:a,snapSizeY:a,snapWidth:s.isNumber,snapToGrid:!1,snatchDistance:h,straightFirst:!1,straightLast:!1,stretch:!1,strokeColor:r,strokeOpacity:s.isNumber,strokeWidth:h,takeFirst:!1,takeSizeFromFile:!1,to10:!1,toOrigin:!1,translateTo10:!1,translateToOrigin:!1,useASCIIMathML:!1,useDirection:!1,useMathJax:!1,withLabel:!1,withTicks:!1,zoom:!1};for(e in c)c.hasOwnProperty(e)&&(l[e.toLowerCase()]=c[e]);return l}(),t.normalizePointFace=function(t){return{cross:"x",x:"x",circle:"o",o:"o",square:"[]","[]":"[]",plus:"+","+":"+",diamond:"<>","<>":"<>",triangleup:"^",a:"^","^":"^",triangledown:"v",v:"v",triangleleft:"<","<":"<",triangleright:">",">":">"}[t]},t.useStandardOptions=function(i){var r,s,o,n,a=t.Options,h=i.hasGrid;for(r in i.options.grid.hasGrid=a.grid.hasGrid,i.options.grid.gridX=a.grid.gridX,i.options.grid.gridY=a.grid.gridY,i.options.grid.gridColor=a.grid.gridColor,i.options.grid.gridOpacity=a.grid.gridOpacity,i.options.grid.gridDash=a.grid.gridDash,i.options.grid.snapToGrid=a.grid.snapToGrid,i.options.grid.snapSizeX=a.grid.SnapSizeX,i.options.grid.snapSizeY=a.grid.SnapSizeY,i.takeSizeFromFile=a.takeSizeFromFile,n=function(t,e){t.visProp.fillcolor=e.fillColor,t.visProp.highlightfillcolor=e.highlightFillColor,t.visProp.strokecolor=e.strokeColor,t.visProp.highlightstrokecolor=e.highlightStrokeColor},i.objects)if(i.objects.hasOwnProperty(r))if((o=i.objects[r]).elementClass===e.OBJECT_CLASS_POINT)n(o,a.point);else if(o.elementClass===e.OBJECT_CLASS_LINE)for(n(o,a.line),s=0;s<o.ticks.length;s++)o.ticks[s].majorTicks=a.line.ticks.majorTicks,o.ticks[s].minTicksDistance=a.line.ticks.minTicksDistance,o.ticks[s].visProp.minorheight=a.line.ticks.minorHeight,o.ticks[s].visProp.majorheight=a.line.ticks.majorHeight;else o.elementClass===e.OBJECT_CLASS_CIRCLE?n(o,a.circle):o.type===e.OBJECT_TYPE_ANGLE?n(o,a.angle):o.type===e.OBJECT_TYPE_ARC?n(o,a.arc):o.type===e.OBJECT_TYPE_POLYGON?n(o,a.polygon):o.type===e.OBJECT_TYPE_CONIC?n(o,a.conic):o.type===e.OBJECT_TYPE_CURVE?n(o,a.curve):o.type===e.OBJECT_TYPE_SECTOR&&(o.arc.visProp.fillcolor=a.sector.fillColor,o.arc.visProp.highlightfillcolor=a.sector.highlightFillColor,o.arc.visProp.fillopacity=a.sector.fillOpacity,o.arc.visProp.highlightfillopacity=a.sector.highlightFillOpacity);i.fullUpdate(),h&&!i.hasGrid?i.removeGrids(i):!h&&i.hasGrid&&i.create("grid",[])},t.useBlackWhiteOptions=function(e){var i=t.Options;i.point.fillColor=r.rgb2bw(i.point.fillColor),i.point.highlightFillColor=r.rgb2bw(i.point.highlightFillColor),i.point.strokeColor=r.rgb2bw(i.point.strokeColor),i.point.highlightStrokeColor=r.rgb2bw(i.point.highlightStrokeColor),i.line.fillColor=r.rgb2bw(i.line.fillColor),i.line.highlightFillColor=r.rgb2bw(i.line.highlightFillColor),i.line.strokeColor=r.rgb2bw(i.line.strokeColor),i.line.highlightStrokeColor=r.rgb2bw(i.line.highlightStrokeColor),i.circle.fillColor=r.rgb2bw(i.circle.fillColor),i.circle.highlightFillColor=r.rgb2bw(i.circle.highlightFillColor),i.circle.strokeColor=r.rgb2bw(i.circle.strokeColor),i.circle.highlightStrokeColor=r.rgb2bw(i.circle.highlightStrokeColor),i.arc.fillColor=r.rgb2bw(i.arc.fillColor),i.arc.highlightFillColor=r.rgb2bw(i.arc.highlightFillColor),i.arc.strokeColor=r.rgb2bw(i.arc.strokeColor),i.arc.highlightStrokeColor=r.rgb2bw(i.arc.highlightStrokeColor),i.polygon.fillColor=r.rgb2bw(i.polygon.fillColor),i.polygon.highlightFillColor=r.rgb2bw(i.polygon.highlightFillColor),i.sector.fillColor=r.rgb2bw(i.sector.fillColor),i.sector.highlightFillColor=r.rgb2bw(i.sector.highlightFillColor),i.curve.strokeColor=r.rgb2bw(i.curve.strokeColor),i.grid.gridColor=r.rgb2bw(i.grid.gridColor),t.useStandardOptions(e)},t.Options.normalizePointFace=t.normalizePointFace,t.Options})),define("renderer/abstract",["jxg","options","base/coords","base/constants","math/math","math/geometry","utils/type","utils/env"],(function(t,e,i,r,s,o,n,a){"use strict";return t.AbstractRenderer=function(){this.vOffsetText=0,this.enhancedRendering=!0,this.container=null,this.type="",this.supportsForeignObject=!1},t.extend(t.AbstractRenderer.prototype,{_updateVisual:function(t,e,i){(i||this.enhancedRendering)&&(e=e||{},this.setObjectTransition(t),n.evaluate(t.visProp.draft)?this.setDraft(t):(e.stroke||(t.highlighted?(this.setObjectStrokeColor(t,t.visProp.highlightstrokecolor,t.visProp.highlightstrokeopacity),this.setObjectStrokeWidth(t,t.visProp.highlightstrokewidth)):(this.setObjectStrokeColor(t,t.visProp.strokecolor,t.visProp.strokeopacity),this.setObjectStrokeWidth(t,t.visProp.strokewidth))),e.fill||(t.highlighted?this.setObjectFillColor(t,t.visProp.highlightfillcolor,t.visProp.highlightfillopacity):this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity)),e.dash||this.setDashStyle(t,t.visProp),e.shadow||this.setShadow(t),e.gradient||this.setShadow(t),e.tabindex||this.setTabindex(t)))},_getHighlighted:function(t){var e=!1;return n.exists(t.board)&&n.exists(t.board.highlightedObjects)||(e=!0),!e&&n.exists(t.board.highlightedObjects[t.id])?"highlight":""},drawPoint:function(t){var i,r=e.normalizePointFace(n.evaluate(t.visProp.face));i="o"===r?"ellipse":"[]"===r?"rect":"path",t.rendNode=this.appendChildPrim(this.createPrim(i,t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,i),this._updateVisual(t,{dash:!0,shadow:!0},!0),this.updatePoint(t)},updatePoint:function(t){var i,r=n.evaluate(t.visProp.size),s=e.normalizePointFace(n.evaluate(t.visProp.face)),o=n.evaluate(t.visProp.sizeunit),a=n.evaluate(t.visProp.zoom);isNaN(t.coords.scrCoords[2]+t.coords.scrCoords[1])||("user"===o&&(r*=Math.sqrt(t.board.unitX*t.board.unitY)),i=0===(r*=t.board&&a?Math.sqrt(t.board.zoomX*t.board.zoomY):1)?0:r+1,"o"===s?this.updateEllipsePrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2],i,i):"[]"===s?this.updateRectPrim(t.rendNode,t.coords.scrCoords[1]-r,t.coords.scrCoords[2]-r,2*r,2*r):this.updatePathPrim(t.rendNode,this.updatePathStringPoint(t,r,s),t.board),this._updateVisual(t,{dash:!1,shadow:!1}),this.setShadow(t))},changePointStyle:function(t){var e=this.getElementById(t.id);n.exists(e)&&this.remove(e),this.drawPoint(t),n.clearVisPropOld(t),t.visPropCalc.visible||this.display(t,!1),n.evaluate(t.visProp.draft)&&this.setDraft(t)},drawLine:function(t){t.rendNode=this.appendChildPrim(this.createPrim("line",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"lines"),this.updateLine(t)},updateLine:function(t){this._updateVisual(t),this.updatePathWithArrowHeads(t),this.setLineCap(t)},drawCurve:function(t){t.rendNode=this.appendChildPrim(this.createPrim("path",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"path"),this.updateCurve(t)},updateCurve:function(t){this._updateVisual(t),this.updatePathWithArrowHeads(t),this.setLineCap(t)},updatePathWithArrowHeads:function(t,e){var i,s,o=t.visProp,a=e?"highlight":"";i=e&&o.highlightstrokewidth?Math.max(n.evaluate(o.highlightstrokewidth),n.evaluate(o.strokewidth)):n.evaluate(o.strokewidth),s=this.getArrowHeadData(t,i,a),this.makeArrows(t,s),t.elementClass===r.OBJECT_CLASS_LINE?this.updateLineWithEndings(t,s):t.elementClass===r.OBJECT_CLASS_CURVE&&this.updatePath(t),this.setArrowSize(t,s)},getArrowHeadData:function(t,e,i){var o,a,h,l,c=s.eps,d=0,u=0,p=0,f=0,m=n.evaluate(t.visProp.firstarrow),g=n.evaluate(t.visProp.lastarrow);return(m||g)&&(o=n.exists(m.type)?n.evaluate(m.type):t.elementClass===r.OBJECT_CLASS_LINE?1:7,a=n.exists(g.type)?n.evaluate(g.type):t.elementClass===r.OBJECT_CLASS_LINE?1:7,m&&(l=6,n.exists(m.size)&&(l=n.evaluate(m.size)),""!==i&&n.exists(m[i+"size"])&&(l=n.evaluate(m[i+"size"])),h=e*l,2===o?(h*=.5,c+=e*l):3===o?(h=e*l/3,c+=e):4===o||5===o||6===o?(h=e*l/1.5,c+=e*l):7===o?(h=0,l=10,c+=e):c+=e*l,d+=h,p=l),g&&(l=6,n.exists(g.size)&&(l=n.evaluate(g.size)),""!==i&&n.exists(g[i+"size"])&&(l=n.evaluate(g[i+"size"])),h=e*l,2===a?(h*=.5,c+=e*l):3===a?(h=e*l/3,c+=e):4===a||5===a||6===a?(h=e*l/1.5,c+=e*l):7===a?(h=0,l=10,c+=e):c+=e*l,u+=h,f=l)),t.visPropCalc.typeFirst=o,t.visPropCalc.typeLast=a,{evFirst:m,evLast:g,typeFirst:o,typeLast:a,offFirst:d,offLast:u,sizeFirst:p,sizeLast:f,showFirst:1,showLast:1,minLen:c,strokeWidth:e}},updateLineWithEndings:function(t,e){var s,a,h;return s=new i(r.COORDS_BY_USER,t.point1.coords.usrCoords,t.board),a=new i(r.COORDS_BY_USER,t.point2.coords.usrCoords,t.board),h=n.evaluate(t.visProp.margin),o.calcStraight(t,s,a,h),this.handleTouchpoints(t,s,a,e),this.getPositionArrowHead(t,s,a,e),this.updateLinePrim(t.rendNode,s.scrCoords[1],s.scrCoords[2],a.scrCoords[1],a.scrCoords[2],t.board),this},updatePath:function(t){return n.evaluate(t.visProp.handdrawing)?this.updatePathPrim(t.rendNode,this.updatePathStringBezierPrim(t),t.board):this.updatePathPrim(t.rendNode,this.updatePathStringPrim(t),t.board),this},getPositionArrowHead:function(t,e,i,s){var o,n,a,h,l;return(s.evFirst||s.evLast)&&(n=a=h=l=0,o=e.distance(r.COORDS_BY_SCREEN,i),s.evFirst&&"vml"!==t.board.renderer.type&&(o>=s.minLen?(n=(i.scrCoords[1]-e.scrCoords[1])*s.offFirst/o,a=(i.scrCoords[2]-e.scrCoords[2])*s.offFirst/o):s.showFirst=0),s.evLast&&"vml"!==t.board.renderer.type&&(o>=s.minLen?(h=(i.scrCoords[1]-e.scrCoords[1])*s.offLast/o,l=(i.scrCoords[2]-e.scrCoords[2])*s.offLast/o):s.showLast=0),e.setCoordinates(r.COORDS_BY_SCREEN,[e.scrCoords[1]+n,e.scrCoords[2]+a],!1,!0),i.setCoordinates(r.COORDS_BY_SCREEN,[i.scrCoords[1]-h,i.scrCoords[2]-l],!1,!0)),this},handleTouchpoints:function(t,e,i,s){var o,a,h,l,c,d,u;return(s.evFirst||s.evLast)&&(h=l=c=d=u=0,o=n.evaluate(t.point1.visProp.size)+n.evaluate(t.point1.visProp.strokewidth),a=n.evaluate(t.point2.visProp.size)+n.evaluate(t.point2.visProp.strokewidth),s.evFirst&&n.evaluate(t.visProp.touchfirstpoint)&&(h=e.distance(r.COORDS_BY_SCREEN,i),l=(i.scrCoords[1]-e.scrCoords[1])*o/h,c=(i.scrCoords[2]-e.scrCoords[2])*o/h),s.evLast&&n.evaluate(t.visProp.touchlastpoint)&&(h=e.distance(r.COORDS_BY_SCREEN,i),d=(i.scrCoords[1]-e.scrCoords[1])*a/h,u=(i.scrCoords[2]-e.scrCoords[2])*a/h),e.setCoordinates(r.COORDS_BY_SCREEN,[e.scrCoords[1]+l,e.scrCoords[2]+c],!1,!0),i.setCoordinates(r.COORDS_BY_SCREEN,[i.scrCoords[1]-d,i.scrCoords[2]-u],!1,!0)),this},setArrowSize:function(t,e){return e.evFirst&&this._setArrowWidth(t.rendNodeTriangleStart,e.showFirst*e.strokeWidth,t.rendNode,e.sizeFirst),e.evLast&&this._setArrowWidth(t.rendNodeTriangleEnd,e.showLast*e.strokeWidth,t.rendNode,e.sizeLast),this},setLineCap:function(t){},drawTicks:function(t){t.rendNode=this.appendChildPrim(this.createPrim("path",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"path")},updateTicks:function(t){},drawEllipse:function(t){t.rendNode=this.appendChildPrim(this.createPrim("ellipse",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"ellipse"),this.updateEllipse(t)},updateEllipse:function(t){this._updateVisual(t);var e=t.Radius();e>0&&Math.abs(t.center.coords.usrCoords[0])>s.eps&&!isNaN(e+t.center.coords.scrCoords[1]+t.center.coords.scrCoords[2])&&e*t.board.unitX<2e6&&this.updateEllipsePrim(t.rendNode,t.center.coords.scrCoords[1],t.center.coords.scrCoords[2],e*t.board.unitX,e*t.board.unitY)},drawPolygon:function(t){t.rendNode=this.appendChildPrim(this.createPrim("polygon",t.id),n.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"polygon"),this.updatePolygon(t)},updatePolygon:function(t){this._updateVisual(t,{stroke:!0,dash:!0}),this.updatePolygonPrim(t.rendNode,t)},displayCopyright:function(t,e){},drawInternalText:function(t){},updateInternalText:function(t){},drawText:function(t){var e,i,r,s;"html"===n.evaluate(t.visProp.display)&&a.isBrowser&&"no"!==this.type?((e=this.container.ownerDocument.createElement("div")).style.position="absolute",e.className=n.evaluate(t.visProp.cssclass),r=n.evaluate(t.visProp.layer),n.exists(r)||(r=0),i=""===this.container.style.zIndex?0:parseInt(this.container.style.zIndex,10),e.style.zIndex=i+r,this.container.appendChild(e),e.setAttribute("id",this.container.id+"_"+t.id)):e=this.drawInternalText(t),t.rendNode=e,t.htmlStr="",t.visProp.islabel&&n.exists(t.visProp.anchor)?(s=n.evaluate(t.visProp.anchor.visProp.visible),t.prepareUpdate().updateVisibility(s)):t.prepareUpdate().updateVisibility(),this.updateText(t)},updateText:function(e){var i,r,s,o,h,l,c,d,u,p=e.plaintext;if(e.visPropCalc.visible)if(this.updateTextStyle(e,!1),"html"===n.evaluate(e.visProp.display)&&"no"!==this.type){if(isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])||(r=e.coords.scrCoords[1],r=Math.abs(r)<1e6?r:1e6,i="right"===(d=e.getAnchorX())?e.board.canvasWidth-r:"middle"===d?r-.5*e.size[0]:r,e.visPropOld.left!==d+i&&("right"===d?(e.rendNode.style.right=i+"px",e.rendNode.style.left="auto"):(e.rendNode.style.left=i+"px",e.rendNode.style.right="auto"),e.visPropOld.left=d+i),r=e.coords.scrCoords[2]+this.vOffsetText,r=Math.abs(r)<1e6?r:1e6,i="bottom"===(u=e.getAnchorY())?e.board.canvasHeight-r:"middle"===u?r-.5*e.size[1]:r,e.visPropOld.top!==u+i&&("bottom"===u?(e.rendNode.style.top="auto",e.rendNode.style.bottom=i+"px"):(e.rendNode.style.bottom="auto",e.rendNode.style.top=i+"px"),e.visPropOld.top=u+i)),e.htmlStr!==p){try{e.type===n.OBJECT_TYPE_BUTTON?e.rendNodeButton.innerHTML=p:e.type===n.OBJECT_TYPE_CHECKBOX||e.type===n.OBJECT_TYPE_INPUT?e.rendNodeLabel.innerHTML=p:e.rendNode.innerHTML=p}catch(t){s=e.rendNode.parentNode,e.rendNode.parentNode.removeChild(e.rendNode),e.rendNode.innerHTML=p,s.appendChild(e.rendNode)}if(e.htmlStr=p,n.evaluate(e.visProp.usemathjax))try{MathJax.typeset?MathJax.typeset([e.rendNode]):MathJax.Hub.Queue(["Typeset",MathJax.Hub,e.rendNode]),c="fullscreenwrap_"+(l=e.board.container),document.getElementById(c)&&(o=e.board.containerObj._cssFullscreenStore.scale,h=e.board.containerObj._cssFullscreenStore.vshift,a.scaleJSXGraphDiv("#"+c,"#"+l,o,h))}catch(e){t.debug("MathJax (not yet) loaded")}else if(n.evaluate(e.visProp.usekatex))try{katex.render(p,e.rendNode,{throwOnError:!1})}catch(e){t.debug("KaTeX (not yet) loaded")}else if(n.evaluate(e.visProp.useasciimathml))try{AMprocessNode(e.rendNode,!1)}catch(e){t.debug("AsciiMathML (not yet) loaded")}}this.transformImage(e,e.transformations)}else this.updateInternalText(e)},_css2js:function(t){var e,i,r,s,o,a=[],h=n.trim(t).replace(/;$/,"").split(";");for(i=h.length,e=0;e<i;++e)""!==n.trim(h[e])&&(o=h[e].split(":"),r=n.trim(o[0].replace(/-([a-z])/gi,(function(t,e){return e.toUpperCase()}))),s=n.trim(o[1]),a.push({key:r,val:s}));return a},updateTextStyle:function(t,e){var i,r,s,o,h,l,c,d,u,p=t.visProp,f=a.isBrowser?p.display:"internal",m=["rendNode","rendNodeTag","rendNodeLabel"],g=m.length,b=n.evaluate(p.fontunit),v=["cssdefaultstyle","cssstyle"],y=v.length;if(e?(s=p.highlightstrokecolor,r=p.highlightstrokeopacity,o=p.highlightcssclass):(s=p.strokecolor,r=p.strokeopacity,o=p.cssclass),"no"!==this.type&&("html"===f||"canvas"!==this.type)){for(d=0;d<y;d++)if(""!==(u=n.evaluate(p[(e?"highlight":"")+v[d]]))&&t.visPropOld[v[d]]!==u){for(l=this._css2js(u),h=0;h<g;h++)if(n.exists(t[m[h]]))for(c in l)l.hasOwnProperty(c)&&(t[m[h]].style[l[c].key]=l[c].val);t.visPropOld[v[d]]=u}if(i=n.evaluate(p.fontsize),t.visPropOld.fontsize!==i){t.needsSizeUpdate=!0;try{for(h=0;h<g;h++)n.exists(t[m[h]])&&(t[m[h]].style.fontSize=i+b)}catch(e){for(h=0;h<g;h++)n.exists(t[m[h]])&&(t[m[h]].style.fontSize=i)}t.visPropOld.fontsize=i}}return this.setObjectTransition(t),"html"===f&&"no"!==this.type?(t.visPropOld.cssclass!==o&&(t.rendNode.className=o,t.visPropOld.cssclass=o,t.needsSizeUpdate=!0),this.setObjectStrokeColor(t,s,r)):this.updateInternalTextStyle(t,s,r),this},updateInternalTextStyle:function(t,e,i){this.setObjectStrokeColor(t,e,i)},drawImage:function(t){},updateImage:function(t){this.updateRectPrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),this.updateImageURL(t),this.transformImage(t,t.transformations),this._updateVisual(t,{stroke:!0,dash:!0},!0)},joinTransforms:function(t,e){var i,r=t.board.origin.scrCoords[1],o=t.board.origin.scrCoords[2],n=t.board.unitX,a=t.board.unitY,h=e.length,l=[[1,0,0],[-r/n,1/n,0],[o/a,0,-1/a]];for(i=0;i<h;i++)l=s.matMatMult(e[i].matrix,l);return l=s.matMatMult([[1,0,0],[r,n,0],[o,0,-a]],l)},transformImage:function(t,e){},updateImageURL:function(t){},updateImageStyle:function(t,e){t.rendNode.className=n.evaluate(e?t.visProp.highlightcssclass:t.visProp.cssclass)},drawForeignObject:function(t){},updateForeignObject:function(t){},appendChildPrim:function(t,e){},appendNodesToElement:function(t,e){},createPrim:function(t,e){return null},remove:function(t){},makeArrows:function(t,e){},_setArrowWidth:function(t,e,i){},updateEllipsePrim:function(t,e,i,r,s){},updateLinePrim:function(t,e,i,r,s,o){},updatePathPrim:function(t,e,i){},updatePathStringPoint:function(t,e,i){},updatePathStringPrim:function(t){},updatePathStringBezierPrim:function(t){},updatePolygonPrim:function(t,e){},updateRectPrim:function(t,e,i,r,s){},setPropertyPrim:function(t,e,i){},setTabindex:function(t){var e;t.board.attr.keyboard.enabled&&n.exists(t.rendNode)&&(e=n.evaluate(t.visProp.tabindex),t.visPropCalc.visible&&!n.evaluate(t.visProp.fixed)||(e=null),e!==t.visPropOld.tabindex&&(t.rendNode.setAttribute("tabindex",e),t.visPropOld.tabindex=e))},display:function(t,e){t&&(t.visPropOld.visible=e)},show:function(t){},hide:function(t){},setBuffering:function(t,e){},setDashStyle:function(t){},setDraft:function(t){if(n.evaluate(t.visProp.draft)){var e=t.board.options.elements.draft.color,i=t.board.options.elements.draft.opacity;this.setObjectTransition(t),t.type===r.OBJECT_TYPE_POLYGON?this.setObjectFillColor(t,e,i):(t.elementClass===r.OBJECT_CLASS_POINT?this.setObjectFillColor(t,e,i):this.setObjectFillColor(t,"none",0),this.setObjectStrokeColor(t,e,i),this.setObjectStrokeWidth(t,t.board.options.elements.draft.strokeWidth))}},removeDraft:function(t){this.setObjectTransition(t),t.type===r.OBJECT_TYPE_POLYGON?this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity):(t.type===r.OBJECT_CLASS_POINT&&this.setObjectFillColor(t,t.visProp.fillcolor,t.visProp.fillopacity),this.setObjectStrokeColor(t,t.visProp.strokecolor,t.visProp.strokeopacity),this.setObjectStrokeWidth(t,t.visProp.strokewidth))},setGradient:function(t){},updateGradient:function(t){},setObjectTransition:function(t,e){},setObjectFillColor:function(t,e,i){},setObjectStrokeColor:function(t,e,i){},setObjectStrokeWidth:function(t,e){},setShadow:function(t){},highlight:function(t){var e,i,s=t.visProp;if(this.setObjectTransition(t),!s.draft){if(t.type===r.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(t,s.highlightfillcolor,s.highlightfillopacity),e=0;e<t.borders.length;e++)this.setObjectStrokeColor(t.borders[e],t.borders[e].visProp.highlightstrokecolor,t.borders[e].visProp.highlightstrokeopacity);else t.elementClass===r.OBJECT_CLASS_TEXT?this.updateTextStyle(t,!0):t.type===r.OBJECT_TYPE_IMAGE?(this.updateImageStyle(t,!0),this.setObjectFillColor(t,s.highlightfillcolor,s.highlightfillopacity)):(this.setObjectStrokeColor(t,s.highlightstrokecolor,s.highlightstrokeopacity),this.setObjectFillColor(t,s.highlightfillcolor,s.highlightfillopacity));s.highlightstrokewidth&&(i=Math.max(n.evaluate(s.highlightstrokewidth),n.evaluate(s.strokewidth)),this.setObjectStrokeWidth(t,i),t.elementClass!==r.OBJECT_CLASS_LINE&&t.elementClass!==r.OBJECT_CLASS_CURVE||this.updatePathWithArrowHeads(t,!0))}return this},noHighlight:function(t){var e,i,s=t.visProp;if(this.setObjectTransition(t),!n.evaluate(t.visProp.draft)){if(t.type===r.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(t,s.fillcolor,s.fillopacity),e=0;e<t.borders.length;e++)this.setObjectStrokeColor(t.borders[e],t.borders[e].visProp.strokecolor,t.borders[e].visProp.strokeopacity);else t.elementClass===r.OBJECT_CLASS_TEXT?this.updateTextStyle(t,!1):t.type===r.OBJECT_TYPE_IMAGE?(this.updateImageStyle(t,!1),this.setObjectFillColor(t,s.fillcolor,s.fillopacity)):(this.setObjectStrokeColor(t,s.strokecolor,s.strokeopacity),this.setObjectFillColor(t,s.fillcolor,s.fillopacity));i=n.evaluate(s.strokewidth),this.setObjectStrokeWidth(t,i),t.elementClass!==r.OBJECT_CLASS_LINE&&t.elementClass!==r.OBJECT_CLASS_CURVE||this.updatePathWithArrowHeads(t,!1)}return this},suspendRedraw:function(){},unsuspendRedraw:function(){},drawZoomBar:function(t,e){var i,r,s=function(t){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},o=function(e,o){var h;h=i.createElement("span"),r.appendChild(h),h.appendChild(i.createTextNode(e)),h.style.paddingLeft="7px",h.style.paddingRight="7px",void 0!==h.classList&&h.classList.add("JXG_navigation_button"),a.addEvent(h,"click",(function(e){return n.bind(o,t)(),!1}),t),a.addEvent(h,"mouseup",s,t),a.addEvent(h,"mousedown",s,t),a.addEvent(h,"touchend",s,t),a.addEvent(h,"touchstart",s,t)};a.isBrowser&&"no"!==this.type&&(i=t.containerObj.ownerDocument,(r=i.createElement("div")).setAttribute("id",t.containerObj.id+"_navigationbar"),r.style.color=e.strokecolor,r.style.backgroundColor=e.fillcolor,r.style.padding=e.padding,r.style.position=e.position,r.style.fontSize=e.fontsize,r.style.cursor=e.cursor,r.style.zIndex=e.zindex,t.containerObj.appendChild(r),r.style.right=e.right,r.style.bottom=e.bottom,void 0!==r.classList&&r.classList.add("JXG_navigation"),t.attr.showfullscreen&&o(t.attr.fullscreen.symbol,(function(){t.toFullscreen(t.attr.fullscreen.id)})),t.attr.showscreenshot&&o(t.attr.screenshot.symbol,(function(){window.setTimeout((function(){t.renderer.screenshot(t,"",!1)}),330)})),t.attr.showreload&&o("↻",(function(){t.reload()})),t.attr.showcleartraces&&o("⊗",(function(){t.clearTraces()})),t.attr.shownavigation&&(t.attr.showzoom&&(o("–",t.zoomOut),o("o",t.zoom100),o("+",t.zoomIn)),o("←",t.clickLeftArrow),o("↓",t.clickUpArrow),o("↑",t.clickDownArrow),o("→",t.clickRightArrow)))},getElementById:function(t){return n.exists(this.container)?this.container.ownerDocument.getElementById(this.container.id+"_"+t):""},removeToInsertLater:function(t){var e=t.parentNode,i=t.nextSibling;if(null!==e)return e.removeChild(t),function(){i?e.insertBefore(t,i):e.appendChild(t)}},resize:function(t,e){},createTouchpoints:function(t){},showTouchpoint:function(t){},hideTouchpoint:function(t){},updateTouchpoint:function(t,e){},dumpToDataURI:function(t){},dumpToCanvas:function(t,e,i,r){},screenshot:function(t){},setLayer:function(t,e){}}),t.AbstractRenderer})),define("reader/file",["jxg","utils/env","utils/type","utils/encoding","utils/base64"],(function(t,e,i,r,s){"use strict";return t.FileReader={handleRemoteFile:function(e,o,n,a,h,l){var c=!1;try{c=new XMLHttpRequest,"raw"===n.toLowerCase()?c.overrideMimeType("text/plain; charset="+h):c.overrideMimeType("text/xml; charset="+h)}catch(t){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){c=!1}}}if(c){c.open("GET",e,a),"raw"===n.toLowerCase()?this.cbp=function(){var t=c;4===t.readyState&&o(t.responseText)}:this.cbp=function(){var t=c,e="";4===t.readyState&&(e=!i.exists(t.responseStream)||"PK"!==t.responseText.slice(0,2)&&31!==r.asciiCharCodeAt(t.responseText.slice(0,1),0)?t.responseText:s.decode(jxgBinFileReader(t)),this.parseString(e,o,n,l))},this.cb=i.bind(this.cbp,this),c.onreadystatechange=this.cb;try{c.send(null)}catch(t){throw new Error("JSXGraph: A problem occurred while trying to read remote file '"+e+"'.")}}else t.debug("AJAX not activated!")},handleLocalFile:function(t,e,r,s,o,n){i.exists(s)||(s=!0),"raw"===r.toLowerCase()?this.cbp=function(t){e(t.target.result)}:this.cbp=function(t){var i=t.target.result;this.parseString(i,e,r,n)},this.cb=i.bind(this.cbp,this);var a=new FileReader;a.onload=this.cb,"raw"===r.toLowerCase()?a.readAsText(t):a.readAsText(t,o)},parseFileContent:function(t,e,r,s,o,n){i.isString(t)||void 0===FileReader?this.handleRemoteFile(t,e,r,s,o,n):this.handleLocalFile(t,e,r,s,o,n)},parseString:function(e,r,s,o){var n;if(s=s.toLowerCase(),n=t.readers[s],i.exists(n))new n(r,e).read();else if("jessiecode"!==s)throw new Error("JSXGraph: There is no reader available for '"+s+"'.");i.isFunction(o)&&o(r)}},!e.isMetroApp()&&e.isBrowser&&"object"==typeof navigator&&/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)&&document&&document.write&&document.write('<script type="text/vbscript">\nFunction Base64Encode(inData)\n  Const Base64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"\n  Dim cOut, sOut, I\n  For I = 1 To LenB(inData) Step 3\n    Dim nGroup, pOut, sGroup\n    nGroup = &H10000 * AscB(MidB(inData, I, 1)) + _\n      &H100 * MyASC(MidB(inData, I + 1, 1)) + MyASC(MidB(inData, I + 2, 1))\n    nGroup = Oct(nGroup)\n    nGroup = String(8 - Len(nGroup), "0") & nGroup\n    pOut = Mid(Base64, CLng("&o" & Mid(nGroup, 1, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 3, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 5, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 7, 2)) + 1, 1)\n    sOut = sOut + pOut\n  Next\n  Select Case LenB(inData) Mod 3\n    Case 1: \'8 bit final\n      sOut = Left(sOut, Len(sOut) - 2) + "=="\n    Case 2: \'16 bit final\n      sOut = Left(sOut, Len(sOut) - 1) + "="\n  End Select\n  Base64Encode = sOut\nEnd Function\n\nFunction MyASC(OneChar)\n  If OneChar = "" Then MyASC = 0 Else MyASC = AscB(OneChar)\nEnd Function\n\nFunction jxgBinFileReader(xhr)\n    Dim byteString\n    Dim b64String\n    Dim i\n    byteString = xhr.responseBody\n    ReDim byteArray(LenB(byteString))\n    For i = 1 To LenB(byteString)\n        byteArray(i-1) = AscB(MidB(byteString, i, 1))\n    Next\n    b64String = Base64Encode(byteString)\n    jxgBinFileReader = b64String\nEnd Function\n<\/script>\n'),t.FileReader})),define("parser/geonext",["jxg","base/constants","utils/type"],(function(t,e,i){"use strict";return t.GeonextParser={replacePow:function(t){var e,i,r,s,o,n,a,h,l,c,d,u;for(c=(t=t.replace(/(\s*)\^(\s*)/g,"^")).indexOf("^"),s=-1;c>=0&&c<t.length-1;){if(s===c)throw new Error("JSXGraph: Error while parsing expression '"+t+"'");if(s=c,l=t.slice(0,c),d=t.slice(c+1),")"===l.charAt(l.length-1)){for(e=1,i=l.length-2;i>=0&&e>0;)")"===(r=l.charAt(i))?e++:"("===r&&(e-=1),i-=1;if(0!==e)throw new Error("JSXGraph: Missing '(' in expression");for(o="",a=l.substring(0,i+1),h=i;h>=0&&a.substr(h,1).match(/([\w.]+)/);)o=RegExp.$1+o,h-=1;o=(o+=l.substring(i+1,l.length)).replace(/([()+*%^\-/\][])/g,"\\$1")}else o="[\\w\\.]+";if(d.match(/^([\w.]*\()/)){for(e=1,i=RegExp.$1.length;i<d.length&&e>0;)")"===(r=d.charAt(i))?e-=1:"("===r&&(e+=1),i+=1;if(0!==e)throw new Error("JSXGraph: Missing ')' in expression");n=(n=d.substring(0,i)).replace(/([()+*%^\-/[\]])/g,"\\$1")}else n="[\\w\\.]+";u=new RegExp("("+o+")\\^("+n+")"),c=(t=t.replace(u,"pow($1,$2)")).indexOf("^")}return t},replaceIf:function(t){var e,i,r,s,o,n,a,h,l,c="",d=null,u=null,p=null;if((r=t.indexOf("If("))<0)return t;for(t=t.replace(/""/g,"0");r>=0;){for(e=t.slice(0,r),i=t.slice(r+3),o=1,s=0,n=-1,a=-1;s<i.length&&o>0;)")"===(h=i.charAt(s))?o-=1:"("===h?o+=1:","===h&&1===o&&(n<0?n=s:a=s),s+=1;if(l=i.slice(0,s-1),i=i.slice(s),n<0)return"";if(a<0)return"";d=l.slice(0,n),u=l.slice(n+1,a),p=l.slice(a+1),c+=e+"(("+(d=this.replaceIf(d))+")?("+(u=this.replaceIf(u))+"):("+(p=this.replaceIf(p))+"))",d=null,u=null,r=(t=i).indexOf("If(")}return c+=i},replaceNameById:function(t,e,i){var r,s,o,n,a=0,h=["X","Y","L","V"],l=function(t){return i?"$('"+t+"')":t};for(n=0;n<h.length;n++)for(a=t.indexOf(h[n]+"(");a>=0;)a>=0&&(r=t.indexOf(")",a+2))>=0&&(s=(s=t.slice(a+2,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+2)+(i?"$('":"")+l(o.id)+t.slice(r))),r=t.indexOf(")",a+2),a=t.indexOf(h[n]+"(",r);for(a=t.indexOf("Dist(");a>=0;)a>=0&&(r=t.indexOf(",",a+5))>=0&&(s=(s=t.slice(a+5,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+5)+l(o.id)+t.slice(r))),r=t.indexOf(",",a+5),a=t.indexOf(",",r),(r=t.indexOf(")",a+1))>=0&&(s=(s=t.slice(a+1,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+1)+l(o.id)+t.slice(r))),r=t.indexOf(")",a+1),a=t.indexOf("Dist(",r);for(h=["Deg","Rad"],n=0;n<h.length;n++)for(a=t.indexOf(h[n]+"(");a>=0;)a>=0&&(r=t.indexOf(",",a+4))>=0&&(s=(s=t.slice(a+4,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+4)+l(o.id)+t.slice(r))),r=t.indexOf(",",a+4),a=t.indexOf(",",r),(r=t.indexOf(",",a+1))>=0&&(s=(s=t.slice(a+1,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+1)+l(o.id)+t.slice(r))),r=t.indexOf(",",a+1),a=t.indexOf(",",r),(r=t.indexOf(")",a+1))>=0&&(s=(s=t.slice(a+1,r)).replace(/\\(['"])?/g,"$1"),(o=e.elementsByName[s])&&(t=t.slice(0,a+1)+l(o.id)+t.slice(r))),r=t.indexOf(")",a+1),a=t.indexOf(h[n]+"(",r);return t},replaceIdByObj:function(t){var e=/(X|Y|L)\(([\w_]+)\)/g;return t=t.replace(e,"$('$2').$1()"),e=/(V)\(([\w_]+)\)/g,t=t.replace(e,"$('$2').Value()"),e=/(Dist)\(([\w_]+),([\w_]+)\)/g,t=t.replace(e,"dist($('$2'), $('$3'))"),e=/(Deg)\(([\w_]+),([ \w[\w_]+),([\w_]+)\)/g,t=t.replace(e,"deg($('$2'),$('$3'),$('$4'))"),e=/Rad\(([\w_]+),([\w_]+),([\w_]+)\)/g,t=t.replace(e,"rad($('$1'),$('$2'),$('$3'))"),e=/N\((.+)\)/g,t=t.replace(e,"($1)")},geonext2JS:function(t,e){var i,r,s,o=["Abs","ACos","ASin","ATan","Ceil","Cos","Exp","Factorial","Floor","Log","Max","Min","Random","Round","Sin","Sqrt","Tan","Trunc"],n=["abs","acos","asin","atan","ceil","cos","exp","factorial","floor","log","max","min","random","round","sin","sqrt","tan","ceil"];for(r=t=(t=(t=t.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),r=this.replaceNameById(r,e),r=this.replaceIf(r),r=this.replacePow(r),r=this.replaceIdByObj(r),s=0;s<o.length;s++)i=new RegExp(["(\\W|^)(",o[s],")"].join(""),"ig"),r=r.replace(i,["$1",n[s]].join(""));return r=(r=(r=(r=(r=r.replace(/True/g,"true")).replace(/False/g,"false")).replace(/fasle/g,"false")).replace(/Pi/g,"PI")).replace(/"/g,"'")},findDependencies:function(t,r,s){var o,n,a,h;for(n in i.exists(s)||(s=t.board),o=s.elementsByName)o.hasOwnProperty(n)&&n!==t.name&&(o[n].elementClass===e.OBJECT_CLASS_TEXT&&i.evaluate(o[n].visProp.islabel)||(h=(h=n.replace(/\[/g,"\\[")).replace(/\]/g,"\\]"),a=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+h+")(,[\\w\\[\\]'_ ]+)*\\)","g"),r.search(a)>=0&&o[n].addChild(t)))},gxt2jc:function(t,e){var i;return i=t=(t=(t=t.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),i=(i=(i=(i=this.replaceNameById(i,e,!0)).replace(/True/g,"true")).replace(/False/g,"false")).replace(/fasle/g,"false")}},t.GeonextParser})),define("base/element",["jxg","base/constants","base/coords","math/math","math/statistics","options","utils/event","utils/color","utils/type"],(function(t,e,i,r,s,o,n,a,h){"use strict";return t.GeometryElement=function(t,i,r,s){var o,a,l;if(this.needsUpdate=!0,this.isDraggable=!1,this.isReal=!0,this.childElements={},this.hasLabel=!1,this.highlighted=!1,this.notExistingParents={},this.traces={},this.numTraces=0,this.transformations=[],this.baseElement=null,this.descendants={},this.ancestors={},this.parents=[],this.symbolic={},this.rendNode=null,this.elType="",this.dump=!0,this.subs={},this.inherits=[],this._pos=-1,this.stdform=[1,0,0,0,1,1,0,0],this.methodMap={setLabel:"setLabel",label:"label",setName:"setName",getName:"getName",addTransform:"addTransform",setProperty:"setAttribute",setAttribute:"setAttribute",addChild:"addChild",animate:"animate",on:"on",off:"off",trigger:"trigger",addTicks:"addTicks",removeTicks:"removeTicks",removeAllTicks:"removeAllTicks"},this.quadraticform=[[1,0,0],[0,1,0],[0,0,1]],this.visProp={},this.visPropCalc={visible:!1},n.eventify(this),this.mouseover=!1,this.lastDragTime=new Date,arguments.length>0){for(a in this.board=t,this.type=r,this._org_type=r,this.elementClass=s||e.OBJECT_CLASS_OTHER,this.id=i.id,o=i.name,h.exists(o)||(o=this.board.generateName(this)),""!==o&&(this.board.elementsByName[o]=this),this.name=o,this.needsRegularUpdate=i.needsregularupdate,h.clearVisPropOld(this),l=this.resolveShortcuts(i))l.hasOwnProperty(a)&&this._set(a,l[a]);this.visProp.draft=l.draft&&l.draft.draft}},t.extend(t.GeometryElement.prototype,{addChild:function(t){var e,i;for(e in this.childElements[t.id]=t,this.addDescendants(t),t.ancestors[this.id]=this,this.descendants)if(this.descendants.hasOwnProperty(e))for(i in this.descendants[e].ancestors[this.id]=this,this.ancestors)this.ancestors.hasOwnProperty(i)&&(this.descendants[e].ancestors[this.ancestors[i].id]=this.ancestors[i]);for(e in this.ancestors)if(this.ancestors.hasOwnProperty(e))for(i in this.descendants)this.descendants.hasOwnProperty(i)&&(this.ancestors[e].descendants[this.descendants[i].id]=this.descendants[i]);return this},addDescendants:function(t){var e;for(e in this.descendants[t.id]=t,t.childElements)t.childElements.hasOwnProperty(e)&&this.addDescendants(t.childElements[e]);return this},addParents:function(t){var e,i,r;for(i=(r=h.isArray(t)?t:arguments).length,e=0;e<i;++e)h.exists(r[e])&&(h.isId(this.board,r[e])?this.parents.push(r[e]):h.exists(r[e].id)&&this.parents.push(r[e].id));this.parents=h.uniqueArray(this.parents)},setParents:function(t){this.parents=[],this.addParents(t)},removeChild:function(t){return delete this.childElements[t.id],this.removeDescendants(t),delete t.ancestors[this.id],this},removeDescendants:function(t){var e;for(e in delete this.descendants[t.id],t.childElements)t.childElements.hasOwnProperty(e)&&this.removeDescendants(t.childElements[e]);return this},countChildren:function(){var t,e,i=0;for(t in e=this.childElements)e.hasOwnProperty(t)&&t.indexOf("Label")<0&&i++;return i},getName:function(){return this.name},addTransform:function(t){return this},draggable:function(){return this.isDraggable&&!h.evaluate(this.visProp.fixed)&&
/*!this.visProp.frozen &&*/this.type!==e.OBJECT_TYPE_GLIDER},setPosition:function(t,i){var r,s,o,n,a=[];if(!h.exists(this.parents))return this;for(o=this.parents.length,s=0;s<o;++s)if(r=this.board.select(this.parents[s]),h.isPoint(r)){if(!r.draggable())return this;a.push(r)}for(3===i.length&&(i=i.slice(1)),n=this.board.create("transform",i,{type:"translate"}),(o=a.length)>0?n.applyOnce(a):this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(n):this.addTransform(n),s=0;s<o;++s)a[s].type===e.OBJECT_TYPE_GLIDER&&a[s].updateGlider();return this},setPositionDirectly:function(t,r,o){var n=new i(t,r,this.board,!1),a=new i(t,o,this.board,!1),h=s.subtract(n.usrCoords,a.usrCoords);return this.setPosition(e.COORDS_BY_USER,h),this},generatePolynomial:function(){return[]},animate:function(t,e,i){i=i||{};var r,s,o,n=this.board.attr.animationdelay,l=Math.ceil(e/n),c=this,d=function(t,e,i){var r,s,n,h,d;for(r=a.rgb2hsv(t),n=((s=a.rgb2hsv(e))[0]-r[0])/l,h=(s[1]-r[1])/l,d=(s[2]-r[2])/l,c.animationData[i]=[],o=0;o<l;o++)c.animationData[i][l-o-1]=a.hsv2rgb(r[0]+(o+1)*n,r[1]+(o+1)*h,r[2]+(o+1)*d)},u=function(t,e,i,r){var s,n;if(t=parseFloat(t),e=parseFloat(e),!isNaN(t)&&!isNaN(e))for(n=(e-t)/l,c.animationData[i]=[],o=0;o<l;o++)s=t+(o+1)*n,c.animationData[i][l-o-1]=r?Math.floor(s):s};for(r in this.animationData={},t)if(t.hasOwnProperty(r))switch(s=r.toLowerCase()){case"strokecolor":case"fillcolor":d(this.visProp[s],t[r],s);break;case"size":if(!h.isPoint(this))break;u(this.visProp[s],t[r],s,!0);break;case"strokeopacity":case"strokewidth":case"fillopacity":u(this.visProp[s],t[r],s,!1)}return this.animationCallback=i.callback,this.board.addAnimation(this),this},update:function(){return h.evaluate(this.visProp.trace)&&this.cloneToBackground(),this},updateRenderer:function(){return this},fullUpdate:function(t){return this.prepareUpdate().update().updateVisibility(t).updateRenderer()},setDisplayRendNode:function(t){var e,i,r,s,o;if(void 0===t&&(t=this.visPropCalc.visible),t===this.visPropOld.visible)return this;for(this.board.renderer.display(this,t),i=this.inherits.length,r=0;r<i;r++)if(o=this.inherits[r],h.isArray(o))for(s=o.length,e=0;e<s;e++)h.exists(o[e])&&h.exists(o[e].rendNode)&&"inherit"===h.evaluate(o[e].visProp.visible)&&o[e].setDisplayRendNode(t);else h.exists(o)&&h.exists(o.rendNode)&&"inherit"===h.evaluate(o.visProp.visible)&&o.setDisplayRendNode(t);return this.hasLabel&&h.exists(this.label)&&h.exists(this.label.rendNode)&&"inherit"===h.evaluate(this.label.visProp.visible)&&this.label.setDisplayRendNode(t),this},hide:function(){return this.setAttribute({visible:!1}),this},hideElement:function(){return this.hide(),this},show:function(){return this.setAttribute({visible:!0}),this},showElement:function(){return this.show(),this},updateVisibility:function(t){var e,i,r,s,o,n;if(this.needsUpdate){for(void 0!==t?this.visPropCalc.visible=t:(n=h.evaluate(this.visProp.visible),h.exists(this.hiddenByParent)&&this.hiddenByParent&&(n=!1),"inherit"!==n&&(this.visPropCalc.visible=n)),i=this.inherits.length,r=0;r<i;r++)if(o=this.inherits[r],h.isArray(o))for(s=o.length,e=0;e<s;e++)h.exists(o[e])&&"inherit"===h.evaluate(o[e].visProp.visible)&&o[e].prepareUpdate().updateVisibility(this.visPropCalc.visible);else h.exists(o)&&"inherit"===h.evaluate(o.visProp.visible)&&o.prepareUpdate().updateVisibility(this.visPropCalc.visible);h.exists(this.label)&&h.exists(this.label.visProp)&&h.evaluate(this.label.visProp.visible)&&this.label.prepareUpdate().updateVisibility(this.visPropCalc.visible)}return this},_set:function(t,e){var i;if(t=t.toLocaleLowerCase(),this.visProp.hasOwnProperty(t)&&t.indexOf("color")>=0&&h.isString(e)&&9===e.length&&"#"===e.charAt(0))e=a.rgba2rgbo(e),this.visProp[t]=e[0],this.visProp[t.replace("color","opacity")]=e[1];else if(null===e||!h.isObject(e)||h.exists(e.id)||h.exists(e.name))this.visProp[t]=e;else for(i in this.visProp[t]={},e)e.hasOwnProperty(i)&&(this.visProp[t][i.toLocaleLowerCase()]=e[i])},resolveShortcuts:function(t){var e,i,r,s=["traceattributes","traceAttributes"];for(e in o.shortcuts)if(o.shortcuts.hasOwnProperty(e)){if(h.exists(t[e]))for(i=0;i<o.shortcuts[e].length;i++)h.exists(t[o.shortcuts[e][i]])||(t[o.shortcuts[e][i]]=t[e]);for(r=0;r<s.length;r++)h.isObject(t[s[r]])&&(t[s[r]]=this.resolveShortcuts(t[s[r]]))}return t},setLabel:function(t){this.hasLabel||this.setAttribute({withlabel:!0}),this.setLabelText(t)},setLabelText:function(t){return h.exists(this.label)&&(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.label.setText(t)),this},setName:function(t){t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"slider"!==this.elType&&this.setLabelText(t),this.setAttribute({name:t})},setProperty:function(){t.deprecated("setProperty()","setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(i){var r,s,o,n,l,c,d,u,p,f={};for(r=0;r<arguments.length;r++)c=arguments[r],h.isString(c)?(u=c.split(":"),f[h.trim(u[0])]=h.trim(u[1])):h.isArray(c)?f[c[0]]=c[1]:t.extend(f,c);for(r in f=this.resolveShortcuts(f))if(f.hasOwnProperty(r)){if(n=r.replace(/\s+/g,"").toLowerCase(),l=f[r],h.isObject(l)&&h.exists(this.visProp[n])){if(this.visProp[n]=h.merge(this.visProp[n],l),this.type===e.OBJECT_TYPE_TICKS&&h.exists(this.labels))for(o=this.labels.length,s=0;s<o;s++)this.labels[s].setAttribute(l);else if(h.exists(this[n]))if(h.isArray(this[n]))for(s=0;s<this[n].length;s++)this[n][s].setAttribute(l);else this[n].setAttribute(l);continue}switch(p=this.visProp[n],n){case"name":p=this.name,delete this.board.elementsByName[this.name],this.name=l,this.board.elementsByName[this.name]=this;break;case"needsregularupdate":this.needsRegularUpdate=!("false"===l||!1===l),this.board.renderer.setBuffering(this,this.needsRegularUpdate?"auto":"static");break;case"labelcolor":d=(l=a.rgba2rgbo(l))[1],l=l[0],0===d&&h.exists(this.label)&&this.hasLabel&&this.label.hideElement(),h.exists(this.label)&&this.hasLabel&&(this.label.visProp.strokecolor=l,this.board.renderer.setObjectStrokeColor(this.label,l,d)),this.elementClass===e.OBJECT_CLASS_TEXT&&(this.visProp.strokecolor=l,this.visProp.strokeopacity=d,this.board.renderer.setObjectStrokeColor(this,l,d));break;case"infoboxtext":h.isString(l)?this.infoboxText=l:this.infoboxText=!1;break;case"visible":this.visProp.visible="false"!==l&&("true"===l||l),this.setDisplayRendNode(h.evaluate(this.visProp.visible)),h.evaluate(this.visProp.visible)&&h.exists(this.updateSize)&&this.updateSize();break;case"face":h.isPoint(this)&&(this.visProp.face=l,this.board.renderer.changePointStyle(this));break;case"trace":"false"===l||!1===l?(this.clearTrace(),this.visProp.trace=!1):this.visProp.trace="pause"!==l;break;case"gradient":this.visProp.gradient=l,this.board.renderer.setGradient(this);break;case"gradientsecondcolor":l=a.rgba2rgbo(l),this.visProp.gradientsecondcolor=l[0],this.visProp.gradientsecondopacity=l[1],this.board.renderer.updateGradient(this);break;case"gradientsecondopacity":this.visProp.gradientsecondopacity=l,this.board.renderer.updateGradient(this);break;case"withlabel":this.visProp.withlabel=l,h.evaluate(l)?(this.label||this.createLabel(),this.label.setAttribute({visible:"inherit"})):this.label&&this.hasLabel&&this.label.setAttribute({visible:!1}),this.hasLabel=l;break;case"radius":this.type!==e.OBJECT_TYPE_ANGLE&&this.type!==e.OBJECT_TYPE_SECTOR||this.setRadius(l);break;case"rotate":(this.elementClass===e.OBJECT_CLASS_TEXT&&"internal"===h.evaluate(this.visProp.display)||this.type===e.OBJECT_TYPE_IMAGE)&&this.addRotation(l);break;case"ticksdistance":this.type===e.OBJECT_TYPE_TICKS&&h.isNumber(l)&&(this.ticksFunction=this.makeTicksFunction(l));break;case"generatelabelvalue":this.type===e.OBJECT_TYPE_TICKS&&h.isFunction(l)&&(this.generateLabelValue=l);break;case"onpolygon":this.type===e.OBJECT_TYPE_GLIDER&&(this.onPolygon=!!l);break;case"disabled":h.exists(this.rendNodeTag)&&(this.rendNodeTag.disabled=!!l);break;case"checked":h.exists(this.rendNodeTag)&&(this.rendNodeCheckbox.checked=!!l);break;case"maxlength":h.exists(this.rendNodeTag)&&(this.rendNodeTag.maxlength=!!l);break;case"layer":this.board.renderer.setLayer(this,h.evaluate(l)),this._set(n,l);break;case"tabindex":h.exists(this.rendNode)&&(this.rendNode.setAttribute("tabindex",l),this._set(n,l));break;default:h.exists(this.visProp[n])&&(!t.Validator[n]||t.Validator[n]&&t.Validator[n](l)||t.Validator[n]&&h.isFunction(l)&&t.Validator[n](l()))&&(l=(!l.toLowerCase||"false"!==l.toLowerCase())&&l,this._set(n,l))}this.triggerEventHandlers(["attribute:"+n],[p,l,this])}return this.triggerEventHandlers(["attribute"],[f,this]),h.evaluate(this.visProp.needsregularupdate)?this.board.update(this):this.board.fullUpdate(),this},getProperty:function(){t.deprecated("getProperty()","getAttribute()"),this.getProperty.apply(this,arguments)},getAttribute:function(t){var e;switch(t=t.toLowerCase()){case"needsregularupdate":e=this.needsRegularUpdate;break;case"labelcolor":e=this.label.visProp.strokecolor;break;case"infoboxtext":e=this.infoboxText;break;case"withlabel":e=this.hasLabel;break;default:e=this.visProp[t]}return e},setDash:function(t){return this.setAttribute({dash:t}),this},prepareUpdate:function(){return this.needsUpdate=!0,this},remove:function(){return this.board.renderer.remove(this.board.renderer.getElementById(this.id)),this.hasLabel&&this.board.renderer.remove(this.board.renderer.getElementById(this.label.id)),this},getTextAnchor:function(){return new i(e.COORDS_BY_USER,[0,0],this.board)},getLabelAnchor:function(){return new i(e.COORDS_BY_USER,[0,0],this.board)},setArrow:function(t,i){return this.visProp.firstarrow=t,this.visProp.lastarrow=i,i&&(this.type=e.OBJECT_TYPE_VECTOR,this.elType="arrow"),this.prepareUpdate().update().updateVisibility().updateRenderer(),this},createGradient:function(){var t=h.evaluate(this.visProp.gradient);"linear"!==t&&"radial"!==t||this.board.renderer.setGradient(this)},createLabel:function(){var e,i=this;return t.elements.text?((e=h.deepCopy(this.visProp.label,null)).id=this.id+"Label",e.isLabel=!0,e.anchor=this,e.priv=this.visProp.priv,this.visProp.withlabel&&(this.label=t.elements.text(this.board,[0,0,function(){return h.isFunction(i.name)?i.name():i.name}],e),this.label.needsUpdate=!0,this.label.dump=!1,this.label.fullUpdate(),this.hasLabel=!0)):t.debug("JSXGraph: Can't create label: text element is not available. Make sure you include base/text"),this},highlight:function(t){return t=h.def(t,!1),!h.evaluate(this.visProp.highlight)||this.highlighted&&!t||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this)),this},noHighlight:function(){return this.highlighted&&(this.highlighted=!1,delete this.board.highlightedObjects[this.id],this.board.renderer.noHighlight(this)),this},clearTrace:function(){var t;for(t in this.traces)this.traces.hasOwnProperty(t)&&this.board.renderer.remove(this.traces[t]);return this.numTraces=0,this},cloneToBackground:function(){return this},bounds:function(){return[0,0,0,0]},normalize:function(){return this.stdform=r.normalize(this.stdform),this},toJSON:function(){var t,e,i=['{"name":',this.name];for(e in i.push(', "id":'+this.id),t=[],this.visProp)this.visProp.hasOwnProperty(e)&&h.exists(this.visProp[e])&&t.push('"'+e+'":'+this.visProp[e]);return i.push(', "visProp":{'+t.toString()+"}"),i.push("}"),i.join("")},addRotation:function(t){var i,r,s,o,n,a=this;return(this.elementClass===e.OBJECT_CLASS_TEXT&&"internal"===h.evaluate(this.visProp.display)||this.type===e.OBJECT_TYPE_IMAGE)&&0!==t&&(i=this.board.create("transform",[function(){return-a.X()},function(){return-a.Y()}],{type:"translate"}),r=this.board.create("transform",[function(){return a.X()},function(){return a.Y()}],{type:"translate"}),s=this.board.create("transform",[function(){return a.board.unitX/a.board.unitY},function(){return 1}],{type:"scale"}),o=this.board.create("transform",[function(){return a.board.unitY/a.board.unitX},function(){return 1}],{type:"scale"}),n=this.board.create("transform",[function(){return h.evaluate(t)*Math.PI/180}],{type:"rotate"}),i.bindTo(this),s.bindTo(this),n.bindTo(this),o.bindTo(this),r.bindTo(this)),this},highlightStrokeColor:function(e){return t.deprecated("highlightStrokeColor()","setAttribute()"),this.setAttribute({highlightStrokeColor:e}),this},strokeColor:function(e){return t.deprecated("strokeColor()","setAttribute()"),this.setAttribute({strokeColor:e}),this},strokeWidth:function(e){return t.deprecated("strokeWidth()","setAttribute()"),this.setAttribute({strokeWidth:e}),this},fillColor:function(e){return t.deprecated("fillColor()","setAttribute()"),this.setAttribute({fillColor:e}),this},highlightFillColor:function(e){return t.deprecated("highlightFillColor()","setAttribute()"),this.setAttribute({highlightFillColor:e}),this},labelColor:function(e){return t.deprecated("labelColor()","setAttribute()"),this.setAttribute({labelColor:e}),this},dash:function(e){return t.deprecated("dash()","setAttribute()"),this.setAttribute({dash:e}),this},visible:function(e){return t.deprecated("visible()","setAttribute()"),this.setAttribute({visible:e}),this},shadow:function(e){return t.deprecated("shadow()","setAttribute()"),this.setAttribute({shadow:e}),this},getType:function(){return this.elType},getParents:function(){return h.isArray(this.parents)?this.parents:[]},snapToGrid:function(){return this},snapToPoints:function(){return this},getAttributes:function(){var t,e=h.deepCopy(this.visProp),i=[],r=i.length;for(e.id=this.id,e.name=this.name,t=0;t<r;t++)delete e[i[t]];return e},hasPoint:function(t,e){return!1},addTicks:function(t){return""!==t.id&&h.exists(t.id)||(t.id=this.id+"_ticks_"+(this.ticks.length+1)),this.board.renderer.drawTicks(t),this.ticks.push(t),t.id},removeAllTicks:function(){var t;if(h.exists(this.ticks)){for(t=this.ticks.length-1;t>=0;t--)this.removeTicks(this.ticks[t]);this.ticks=[],this.board.update()}},removeTicks:function(t){var e,i;if(h.exists(this.defaultTicks)&&this.defaultTicks===t&&(this.defaultTicks=null),h.exists(this.ticks))for(e=this.ticks.length-1;e>=0;e--)if(this.ticks[e]===t){if(this.board.removeObject(this.ticks[e]),this.ticks[e].ticks)for(i=0;i<this.ticks[e].ticks.length;i++)h.exists(this.ticks[e].labels[i])&&this.board.removeObject(this.ticks[e].labels[i]);delete this.ticks[e];break}},getSnapSizes:function(){var t,e,i;return t=h.evaluate(this.visProp.snapsizex),e=h.evaluate(this.visProp.snapsizey),t<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(t=(i=this.board.defaultAxes.x.defaultTicks).ticksDelta*(h.evaluate(i.visProp.minorticks)+1)),e<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(e=(i=this.board.defaultAxes.y.defaultTicks).ticksDelta*(h.evaluate(i.visProp.minorticks)+1)),[t,e]},handleSnapToGrid:function(i,r){var s,o,n,a,l,c,d,u,p,f=h.evaluate(this.visProp.attracttogrid),m=h.evaluate(this.visProp.attractorunit),g=h.evaluate(this.visProp.attractordistance);return!h.exists(this.coords)||h.evaluate(this.visProp.fixed)||(h.evaluate(this.visProp.snaptogrid)||f||!0===i)&&(s=this.coords.usrCoords[1],o=this.coords.usrCoords[2],u=(d=this.getSnapSizes())[0],p=d[1],u>0&&p>0&&(c=this.board.getBoundingBox(),n=Math.round(s/u)*u,a=Math.round(o/p)*p,l=new t.Coords(e.COORDS_BY_USER,[n,a],this.board),(!f||l.distance("screen"===m?e.COORDS_BY_SCREEN:e.COORDS_BY_USER,this.coords)<g)&&(s=n,o=a,r||(s<c[0]?s+=u:s>c[2]&&(s-=u),o<c[3]?o+=p:o>c[1]&&(o-=p)),this.coords.setCoordinates(e.COORDS_BY_USER,[s,o])))),this},getBoundingBox:function(){var t,i,r,s,o,n=[1/0,1/0,-1/0,-1/0];if(this.type===e.OBJECT_TYPE_POLYGON){if((i=this.vertices.length-1)<=0)return n;for(t=0;t<i;t++)r=this.vertices[t].X(),n[0]=r<n[0]?r:n[0],n[2]=r>n[2]?r:n[2],r=this.vertices[t].Y(),n[1]=r<n[1]?r:n[1],n[3]=r>n[3]?r:n[3]}else if(this.elementClass===e.OBJECT_CLASS_CIRCLE)s=this.center.X(),o=this.center.Y(),n=[s-this.radius,o+this.radius,s+this.radius,o-this.radius];else if(this.elementClass===e.OBJECT_CLASS_CURVE){if(0===(i=this.vertices.length))return n;for(t=0;t<i;t++)r=this.points[t].coords.usrCoords[1],n[0]=r<n[0]?r:n[0],n[2]=r>n[2]?r:n[2],r=this.points[t].coords.usrCoords[1],n[1]=r<n[1]?r:n[1],n[3]=r>n[3]?r:n[3]}return n},addEvent:t.shortcut(t.GeometryElement.prototype,"on"),removeEvent:t.shortcut(t.GeometryElement.prototype,"off"),__evt__over:function(t){},__evt__mouseover:function(t){},__evt__out:function(t){},__evt__mouseout:function(t){},__evt__move:function(t){},__evt__mousemove:function(t){},__evt__drag:function(t){},__evt__mousedrag:function(t){},__evt__pendrag:function(t){},__evt__touchdrag:function(t){},__evt__down:function(t){},__evt__mousedown:function(t){},__evt__pendown:function(t){},__evt__touchdown:function(t){},__evt__up:function(t){},__evt__mouseup:function(t){},__evt__penup:function(t){},__evt__touchup:function(t){},__evt__attribute:function(t,e){},__evt__attribute_:function(t,e,i){},__evt:function(){}}),t.GeometryElement})),define("base/coordselement",["jxg","math/math","math/geometry","math/numerics","math/statistics","base/coords","base/constants","utils/type"],(function(t,e,i,r,s,o,n,a){"use strict";return t.CoordsElement=function(t,e){var i;for(a.exists(t)||(t=[1,0,0]),i=0;i<t.length;++i)t[i]=parseFloat(t[i]);this.coords=new o(n.COORDS_BY_USER,t,this.board),this.initialCoords=new o(n.COORDS_BY_USER,t,this.board),this.position=null,this.isConstrained=!1,this.onPolygon=!1,this.slideObject=null,this.slideObjects=[],this.needsUpdateFromParent=!0,this.groups=[],this.Xjc=null,this.Yjc=null,this.methodMap=a.deepCopy(this.methodMap,{move:"moveTo",moveTo:"moveTo",moveAlong:"moveAlong",visit:"visit",glide:"makeGlider",makeGlider:"makeGlider",intersect:"makeIntersection",makeIntersection:"makeIntersection",X:"X",Y:"Y",free:"free",setPosition:"setGliderPosition",setGliderPosition:"setGliderPosition",addConstraint:"addConstraint",dist:"Dist",onPolygon:"onPolygon"}),a.exists(this.element)&&this.addAnchor(t,e),this.isDraggable=!0},t.extend(t.CoordsElement.prototype,{updateConstraint:function(){return this},updateCoords:function(t){return this.needsUpdate?(a.exists(t)||(t=!1),a.evaluate(this.visProp.frozen)||this.updateConstraint(),this.type===n.OBJECT_TYPE_GLIDER&&(this.isConstrained&&(t=!1),t?this.updateGliderFromParent():this.updateGlider()),this.updateTransform(t),this):this},updateGlider:function(){var t,r,s,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x=2*Math.PI,S=!1,O=this.slideObject,w=[];if(this.needsUpdateFromParent=!1,O.elementClass===n.OBJECT_CLASS_CIRCLE)a.evaluate(this.visProp.isgeonext)&&(x=1),v=i.projectPointToCircle(this,O,this.board),y=i.rad([O.center.X()+1,O.center.Y()],O.center,this)/x;else if(O.elementClass===n.OBJECT_CLASS_LINE){if(this.onPolygon){if(r=O.point1.coords.usrCoords,h=(s=O.point2.coords.usrCoords)[t=1]-r[t],Math.abs(h)<e.eps&&(h=s[t=2]-r[t]),d=(i.projectPointToLine(this,O,this.board).usrCoords[t]-r[t])/h,c=O.parentPolygon,d<0){for(t=0;t<c.borders.length;t++)if(O===c.borders[t]){O=c.borders[(t-1+c.borders.length)%c.borders.length];break}}else if(d>1)for(t=0;t<c.borders.length;t++)if(O===c.borders[t]){O=c.borders[(t+1+c.borders.length)%c.borders.length];break}O.id!==this.slideObject.id&&(this.slideObject=O)}r=O.point1.coords,s=O.point2.coords,(h=r.distance(n.COORDS_BY_USER,s))<e.eps?(v=r,S=!0,y=0):(v=i.projectPointToLine(this,O,this.board),r=r.usrCoords.slice(0),s=s.usrCoords.slice(0),Math.abs(s[0])<e.eps?(h=s[t=1],Math.abs(h)<e.eps&&(h=s[t=2]),y=((h=(v.usrCoords[t]-r[t])/h)>=0?1:-1)*(h=Math.abs(h))/(h+1)):Math.abs(r[0])<e.eps?(h=r[t=1],Math.abs(h)<e.eps&&(h=r[t=2]),y=(h=(v.usrCoords[t]-s[t])/h)<0?(1-2*h)/(1-h):1/(h+1)):(h=s[t=1]-r[t],Math.abs(h)<e.eps&&(h=s[t=2]-r[t]),y=(v.usrCoords[t]-r[t])/h)),C=a.evaluate(this.visProp.snapwidth),a.evaluate(C)>0&&Math.abs(this._smax-this._smin)>=e.eps&&(l=(y=Math.max(Math.min(y,1),0))*(this._smax-this._smin)+this._smin,y=((l=Math.round(l/C)*C)-this._smin)/(this._smax-this._smin),this.update(!0)),r=O.point1.coords,!a.evaluate(O.visProp.straightfirst)&&Math.abs(r.usrCoords[0])>e.eps&&y<0&&(v=r,S=!0,y=0),s=O.point2.coords,!a.evaluate(O.visProp.straightlast)&&Math.abs(s.usrCoords[0])>e.eps&&y>1&&(v=s,S=!0,y=1)}else if(O.type===n.OBJECT_TYPE_TURTLE)this.updateConstraint(),v=(_=i.projectPointToTurtle(this,O,this.board))[0],y=_[1];else if(O.elementClass===n.OBJECT_CLASS_CURVE)if(O.type===n.OBJECT_TYPE_ARC||O.type===n.OBJECT_TYPE_SECTOR)v=i.projectPointToCircle(this,O,this.board),f=i.rad(O.radiuspoint,O.center,this),u=0,p=i.rad(O.radiuspoint,O.center,O.anglepoint),y=f,("minor"===(C=a.evaluate(O.visProp.selection))&&p>Math.PI||"major"===C&&p<Math.PI)&&(u=p,p=2*Math.PI),(f<u||f>p)&&(y=p,(f<u&&f>.5*u||f>p&&f>.5*p+Math.PI)&&(y=u),this.needsUpdateFromParent=!0,this.updateGliderFromParent()),x=p-u,this.visProp.isgeonext&&(x=1),Math.abs(x)>e.eps&&(y/=x);else if(this.updateConstraint(),O.transformations.length>0){for(E=!1,(_=O.getTransformationSource())[0]&&(E=_[0],w.push(O),w.push(_[1]));_[0]&&a.exists(_[1]._transformationSource);)_=_[1].getTransformationSource(),w.push(_[1]);if(P=this.coords.usrCoords,E){for(t=0;t<w.length;t++)w[t].updateTransformMatrix(),b=e.inverse(w[t].transformMat),P=e.matVecMult(b,P);for(m=new o(n.COORDS_BY_USER,P,this.board).usrCoords,P=(g=i.projectCoordsToCurve(m[1],m[2],this.position||0,w[w.length-1],this.board))[0].usrCoords,t=w.length-2;t>=0;t--)P=e.matVecMult(w[t].transformMat,P);g[0]=new o(n.COORDS_BY_USER,P,this.board)}else O.updateTransformMatrix(),b=e.inverse(O.transformMat),P=e.matVecMult(b,P),m=new o(n.COORDS_BY_USER,P,this.board).usrCoords,g=i.projectCoordsToCurve(m[1],m[2],this.position||0,O,this.board);v=g[0],y=g[1]}else v=(_=i.projectPointToCurve(this,O,this.board))[0],y=_[1];else a.isPoint(O)&&(v=i.projectPointToPoint(this,O,this.board),y=this.position);this.coords.setCoordinates(n.COORDS_BY_USER,v.usrCoords,S),this.position=y},updateGliderFromParent:function(){var t,r,s,h,l,c,d,u,p,f,m,g,b=this.slideObject,v=[],y=2*Math.PI;if(this.needsUpdateFromParent){if(b.elementClass===n.OBJECT_CLASS_CIRCLE)s=b.Radius(),a.evaluate(this.visProp.isgeonext)&&(y=1),l=[b.center.X()+s*Math.cos(this.position*y),b.center.Y()+s*Math.sin(this.position*y)];else if(b.elementClass===n.OBJECT_CLASS_LINE)t=b.point1.coords.usrCoords,r=b.point2.coords.usrCoords,0===t[0]&&0===t[1]&&0===t[2]||0===r[0]&&0===r[1]&&0===r[2]?l=[0,0,0]:Math.abs(r[0])<e.eps?(h=Math.min(Math.abs(this.position),1-e.eps),h/=1-h,this.position<0&&(h=-h),l=[t[0]+h*r[0],t[1]+h*r[1],t[2]+h*r[2]]):Math.abs(t[0])<e.eps?(h=Math.max(this.position,e.eps),h=(h=Math.min(h,2-e.eps))>1?(h-1)/(h-2):(1-h)/h,l=[r[0]+h*t[0],r[1]+h*t[1],r[2]+h*t[2]]):(h=this.position,l=[t[0]+h*(r[0]-t[0]),t[1]+h*(r[1]-t[1]),t[2]+h*(r[2]-t[2])]);else if(b.type===n.OBJECT_TYPE_TURTLE)this.coords.setCoordinates(n.COORDS_BY_USER,[b.Z(this.position),b.X(this.position),b.Y(this.position)]),this.updateConstraint(),l=i.projectPointToTurtle(this,b,this.board)[0].usrCoords;else if(b.elementClass===n.OBJECT_CLASS_CURVE){for(u=!1,(c=b.getTransformationSource())[0]&&(u=c[0],v.push(b),v.push(c[1]));c[0]&&a.exists(c[1]._transformationSource);)c=c[1].getTransformationSource(),v.push(c[1]);if(u?this.coords.setCoordinates(n.COORDS_BY_USER,[v[v.length-1].Z(this.position),v[v.length-1].X(this.position),v[v.length-1].Y(this.position)]):this.coords.setCoordinates(n.COORDS_BY_USER,[b.Z(this.position),b.X(this.position),b.Y(this.position)]),b.type===n.OBJECT_TYPE_ARC||b.type===n.OBJECT_TYPE_SECTOR)p=i.rad([b.center.X()+1,b.center.Y()],b.center,b.radiuspoint),f=0,g=i.rad(b.radiuspoint,b.center,b.anglepoint),("minor"===b.visProp.selection&&g>Math.PI||"major"===b.visProp.selection&&g<Math.PI)&&(f=g,g=2*Math.PI),y=g-f,a.evaluate(this.visProp.isgeonext)&&(y=1),((m=this.position*y)<f||m>g)&&(((m=g)<f&&m>.5*f||m>g&&m>.5*g+Math.PI)&&(m=f),this.position=m,Math.abs(y)>e.eps&&(this.position/=y)),s=b.Radius(),l=[b.center.X()+s*Math.cos(this.position*y+p),b.center.Y()+s*Math.sin(this.position*y+p)];else if(this.updateConstraint(),u)for(l=i.projectPointToCurve(this,v[v.length-1],this.board)[0].usrCoords,d=v.length-2;d>=0;d--)l=new o(n.COORDS_BY_USER,e.matVecMult(v[d].transformMat,l),this.board).usrCoords;else l=i.projectPointToCurve(this,b,this.board)[0].usrCoords}else a.isPoint(b)&&(l=i.projectPointToPoint(this,b,this.board).usrCoords);this.coords.setCoordinates(n.COORDS_BY_USER,l,!1)}else this.needsUpdateFromParent=!0},updateRendererGeneric:function(t){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.coords.usrCoords[1]+this.coords.usrCoords[2]),this.isReal=Math.abs(this.coords.usrCoords[0])>e.eps&&this.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer[t](this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},X:function(){return this.coords.usrCoords[1]},Y:function(){return this.coords.usrCoords[2]},Z:function(){return this.coords.usrCoords[0]},XEval:function(){return this.coords.usrCoords[1]},YEval:function(){return this.coords.usrCoords[2]},ZEval:function(){return this.coords.usrCoords[0]},Dist:function(t){return this.isReal&&t.isReal?this.coords.distance(n.COORDS_BY_USER,t.coords):NaN},snapToGrid:function(t){return this.handleSnapToGrid(t)},handleSnapToPoints:function(t){var e,r,s,o,h,l,c,d,u=0,p=1/0,f=null,m=a.evaluate(this.visProp.ignoredsnaptopoints),g=!1;if(o=this.board.objectsList.length,m&&(c=m.length),a.evaluate(this.visProp.snaptopoints)||t){for(h=a.evaluate(this.visProp.attractorunit),l=a.evaluate(this.visProp.attractordistance),e=0;e<o;e++){if(r=this.board.objectsList[e],m){for(g=!1,d=0;d<c;d++)if(r===this.board.select(m[d])){g=!0;break}if(g)continue}a.isPoint(r)&&r!==this&&r.visPropCalc.visible&&(s=i.projectPointToPoint(this,r,this.board),(u="screen"===h?s.distance(n.COORDS_BY_SCREEN,this.coords):s.distance(n.COORDS_BY_USER,this.coords))<l&&u<p&&(p=u,f=s))}null!==f&&this.coords.setCoordinates(n.COORDS_BY_USER,f.usrCoords)}return this},snapToPoints:function(t){return this.handleSnapToPoints(t)},handleAttractors:function(){var t,e,r,s,h=0,l=a.evaluate(this.visProp.attractorunit),c=a.evaluate(this.visProp.attractordistance),d=a.evaluate(this.visProp.snatchdistance),u=a.evaluate(this.visProp.attractors),p=u.length;if(0!==c){for(t=0;t<p;t++)if(e=this.board.select(u[t]),a.exists(e)&&e!==this){if(a.isPoint(e)?r=i.projectPointToPoint(this,e,this.board):e.elementClass===n.OBJECT_CLASS_LINE?(s=i.projectCoordsToSegment(this.coords.usrCoords,e.point1.coords.usrCoords,e.point2.coords.usrCoords),r=!a.evaluate(e.visProp.straightfirst)&&s[1]<0?e.point1.coords:!a.evaluate(e.visProp.straightlast)&&s[1]>1?e.point2.coords:new o(n.COORDS_BY_USER,s[0],this.board)):e.elementClass===n.OBJECT_CLASS_CIRCLE?r=i.projectPointToCircle(this,e,this.board):e.elementClass===n.OBJECT_CLASS_CURVE?r=i.projectPointToCurve(this,e,this.board)[0]:e.type===n.OBJECT_TYPE_TURTLE?r=i.projectPointToTurtle(this,e,this.board)[0]:e.type===n.OBJECT_TYPE_POLYGON&&(r=new o(n.COORDS_BY_USER,i.projectCoordsToPolygon(this.coords.usrCoords,e),this.board)),(h="screen"===l?r.distance(n.COORDS_BY_SCREEN,this.coords):r.distance(n.COORDS_BY_USER,this.coords))<c){this.type===n.OBJECT_TYPE_GLIDER&&(e===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===e)||this.makeGlider(e);break}h>=d&&(e===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===e)&&this.popSlideObject()}return this}},setPositionDirectly:function(t,i){var r,h,l,c,d=this.coords;if(this.relativeCoords)return h=new o(t,i,this.board),a.evaluate(this.visProp.islabel)?(l=s.subtract(h.scrCoords,d.scrCoords),this.relativeCoords.scrCoords[1]+=l[1],this.relativeCoords.scrCoords[2]+=l[2]):(l=s.subtract(h.usrCoords,d.usrCoords),this.relativeCoords.usrCoords[1]+=l[1],this.relativeCoords.usrCoords[2]+=l[2]),this;for(this.coords.setCoordinates(t,i),this.handleSnapToGrid(),this.handleSnapToPoints(),this.handleAttractors(),r=this.transformations.length-1;r>=0;r--)t===n.COORDS_BY_SCREEN?c=new o(t,i,this.board).usrCoords:(2===i.length&&(i=[1].concat(i)),c=i),this.initialCoords.setCoordinates(n.COORDS_BY_USER,e.matVecMult(e.inverse(this.transformations[r].matrix),c));return this.prepareUpdate().update(),this.board.isSuspendedUpdate&&this.type===n.OBJECT_TYPE_GLIDER&&this.updateGlider(),this},setPositionByTransform:function(t,e){var i;return e=new o(t,e,this.board),i=this.board.create("transform",e.usrCoords.slice(1),{type:"translate"}),this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(i):this.addTransform(this,i),this.prepareUpdate().update(),this},setPosition:function(t,e){return this.setPositionDirectly(t,e)},setGliderPosition:function(t){return this.type===n.OBJECT_TYPE_GLIDER&&(this.position=t,this.board.update()),this},makeGlider:function(e){var i,r,s,o=this.board.select(e),h=!1;if(o.type===n.OBJECT_TYPE_POLYGON){for(i=Number.MAX_VALUE,r=0;r<o.borders.length;r++)(s=t.Math.Geometry.distPointLine(this.coords.usrCoords,o.borders[r].stdform))<i&&(i=s,e=o.borders[r]);o=this.board.select(e),h=!0}if(!a.exists(o))throw new Error("JSXGraph: slide object undefined.");if(o.type===n.OBJECT_TYPE_TICKS)throw new Error("JSXGraph: gliders on ticks are not possible.");return this.slideObject=this.board.select(e),this.slideObjects.push(this.slideObject),this.addParents(e),this.type=n.OBJECT_TYPE_GLIDER,this.elType="glider",this.visProp.snapwidth=-1,this.slideObject.addChild(this),this.isDraggable=!0,this.onPolygon=h,this.generatePolynomial=function(){return this.slideObject.generatePolynomial(this)},this.updateGlider(),this.needsUpdateFromParent=!0,this.updateGliderFromParent(),this},popSlideObject:function(){this.slideObjects.length>0&&(this.slideObjects.pop(),this.slideObject.removeChild(this),0===this.slideObjects.length?(this.type=this._org_type,this.type===n.OBJECT_TYPE_POINT?this.elType="point":this.elementClass===n.OBJECT_CLASS_TEXT?this.elType="text":this.type===n.OBJECT_TYPE_IMAGE?this.elType="image":this.type===n.OBJECT_TYPE_FOREIGNOBJECT&&(this.elType="foreignobject"),this.slideObject=null):this.slideObject=this.slideObjects[this.slideObjects.length-1])},free:function(){var t,e;if(this.type!==n.OBJECT_TYPE_GLIDER){if(this.transformations.length=0,delete this.updateConstraint,this.isConstrained=!1,this.isDraggable)return;this.isDraggable=!0,this.elementClass===n.OBJECT_CLASS_POINT&&(this.type=n.OBJECT_TYPE_POINT,this.elType="point"),this.XEval=function(){return this.coords.usrCoords[1]},this.YEval=function(){return this.coords.usrCoords[2]},this.ZEval=function(){return this.coords.usrCoords[0]},this.Xjc=null,this.Yjc=null}for(t in this.board.objects)this.board.objects.hasOwnProperty(t)&&(e=this.board.objects[t]).descendants&&(delete e.descendants[this.id],delete e.childElements[this.id],this.hasLabel&&(delete e.descendants[this.label.id],delete e.childElements[this.label.id]));this.ancestors={},this.slideObject=null,this.slideObjects=[],this.elementClass===n.OBJECT_CLASS_POINT?(this.type=n.OBJECT_TYPE_POINT,this.elType="point"):this.elementClass===n.OBJECT_CLASS_TEXT?(this.type=this._org_type,this.elType="text"):this.elementClass===n.OBJECT_CLASS_OTHER&&(this.type=this._org_type,this.elType="image")},addConstraint:function(t){var e,i,r=[],s=["X","Y"],o=function(t){return function(){return t}},h=function(t){return function(){return t.Value()}};for(this.elementClass===n.OBJECT_CLASS_POINT&&(this.type=n.OBJECT_TYPE_CAS),this.isDraggable=!1,e=0;e<t.length;e++)i=t[e],a.isString(i)?(r[e]=this.board.jc.snippet(i,!0,null,!0),2===t.length&&(this[s[e]+"jc"]=t[e])):a.isFunction(i)?r[e]=i:a.isNumber(i)?r[e]=o(i):a.isObject(i)&&a.isFunction(i.Value)&&(r[e]=h(i)),r[e].origin=i;return 1===t.length?this.updateConstraint=function(){var t=r[0]();return a.isArray(t)?this.coords.setCoordinates(n.COORDS_BY_USER,t):this.coords=t,this}:2===t.length?(this.XEval=r[0],this.YEval=r[1],this.setParents([r[0].origin,r[1].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(n.COORDS_BY_USER,[this.XEval(),this.YEval()]),this}):(this.ZEval=r[0],this.XEval=r[1],this.YEval=r[2],this.setParents([r[0].origin,r[1].origin,r[2].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(n.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()]),this}),this.isConstrained=!0,this.prepareUpdate().update(),this.board.isSuspendedUpdate||(this.updateVisibility().updateRenderer(),this.hasLabel&&this.label.fullUpdate()),this},addAnchor:function(t,e){this.relativeCoords=e?new o(n.COORDS_BY_SCREEN,t.slice(0,2),this.board):new o(n.COORDS_BY_USER,t,this.board),this.element.addChild(this),e&&this.addParents(this.element),this.XEval=function(){var t,e,i;return a.evaluate(this.visProp.islabel)?(i=a.evaluate(this.visProp.offset),t=parseFloat(i[0]),e=this.element.getLabelAnchor(),new o(n.COORDS_BY_SCREEN,[t+this.relativeCoords.scrCoords[1]+e.scrCoords[1],0],this.board).usrCoords[1]):(e=this.element.getTextAnchor(),this.relativeCoords.usrCoords[1]+e.usrCoords[1])},this.YEval=function(){var t,e,i;return a.evaluate(this.visProp.islabel)?(i=a.evaluate(this.visProp.offset),t=-parseFloat(i[1]),e=this.element.getLabelAnchor(),new o(n.COORDS_BY_SCREEN,[0,t+this.relativeCoords.scrCoords[2]+e.scrCoords[2]],this.board).usrCoords[2]):(e=this.element.getTextAnchor(),this.relativeCoords.usrCoords[2]+e.usrCoords[2])},this.ZEval=a.createFunction(1,this.board,""),this.updateConstraint=function(){this.coords.setCoordinates(n.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()])},this.isConstrained=!0,this.updateConstraint()},updateTransform:function(t){var e;if(0===this.transformations.length)return this;for(e=0;e<this.transformations.length;e++)this.transformations[e].update();return this},addTransform:function(t,e){var i,r=a.isArray(e)?e:[e],s=r.length;for(0===this.transformations.length&&(this.baseElement=t),i=0;i<s;i++)this.transformations.push(r[i]);return this},startAnimation:function(t,e,i){var r=this;return i=i||250,this.type!==n.OBJECT_TYPE_GLIDER||a.exists(this.intervalCode)||(this.intervalCode=window.setInterval((function(){r._anim(t,e)}),i),a.exists(this.intervalCount)||(this.intervalCount=0)),this},stopAnimation:function(){return a.exists(this.intervalCode)&&(window.clearInterval(this.intervalCode),delete this.intervalCode),this},moveAlong:function(t,e,i){i=i||{};var s,o,h,l,c,d=[],u=[],p=e/this.board.attr.animationdelay,f=function(e,i){return function(){return t[e][i]}};if(a.isArray(t)){for(h=t.length,s=0;s<h;s++)a.isPoint(t[s])?u[s]=t[s]:u[s]={elementClass:n.OBJECT_CLASS_POINT,X:f(s,0),Y:f(s,1)};if(0===(e=e||0))return this.setPosition(n.COORDS_BY_USER,[u[u.length-1].X(),u[u.length-1].Y()]),this.board.update(this);if(!a.exists(i.interpolate)||i.interpolate)for(o=r.Neville(u),s=0;s<p;s++)d[s]=[],d[s][0]=o[0]((p-s)/p*o[3]()),d[s][1]=o[1]((p-s)/p*o[3]());else{for(h=t.length-1,s=0;s<p;++s)c=s/p*h-(l=Math.floor(s/p*h)),d[s]=[],d[s][0]=(1-c)*u[l].X()+c*u[l+1].X(),d[s][1]=(1-c)*u[l].Y()+c*u[l+1].Y();d.push([u[h].X(),u[h].Y()]),d.reverse()}this.animationPath=d}else a.isFunction(t)&&(this.animationPath=t,this.animationStart=(new Date).getTime());return this.animationCallback=i.callback,this.board.addAnimation(this),this},moveTo:function(t,i,r){r=r||{},t=new o(n.COORDS_BY_USER,t,this.board);var s,h=this.board.attr.animationdelay,l=Math.ceil(i/h),c=[],d=this.coords.usrCoords[1],u=this.coords.usrCoords[2],p=t.usrCoords[1]-d,f=t.usrCoords[2]-u,m=function(t){return r.effect&&"<>"===r.effect?Math.pow(Math.sin(t/l*Math.PI/2),2):t/l};if(!a.exists(i)||0===i||Math.abs(t.usrCoords[0]-this.coords.usrCoords[0])>e.eps)return this.setPosition(n.COORDS_BY_USER,t.usrCoords),this.board.update(this);if(!a.exists(r.callback)&&Math.abs(p)<e.eps&&Math.abs(f)<e.eps)return this;for(s=l;s>=0;s--)c[l-s]=[t.usrCoords[0],d+p*m(s),u+f*m(s)];return this.animationPath=c,this.animationCallback=r.callback,this.board.addAnimation(this),this},visit:function(t,e,i){t=new o(n.COORDS_BY_USER,t,this.board);var r,s,h,l=this.board.attr.animationdelay,c=[],d=this.coords.usrCoords[1],u=this.coords.usrCoords[2],p=t.usrCoords[1]-d,f=t.usrCoords[2]-u,m=function(t){var e=t<h/2?2*t/h:2*(h-t)/h;return i.effect&&"<>"===i.effect?Math.pow(Math.sin(e*Math.PI/2),2):e};for(a.isNumber(i)?i={repeat:i}:(i=i||{},a.exists(i.repeat)||(i.repeat=1)),h=Math.ceil(e/(l*i.repeat)),s=0;s<i.repeat;s++)for(r=h;r>=0;r--)c[s*(h+1)+h-r]=[t.usrCoords[0],d+p*m(r),u+f*m(r)];return this.animationPath=c,this.animationCallback=i.callback,this.board.addAnimation(this),this},_anim:function(t,e){var r,s,o,a,h,l,c,d,u;return this.intervalCount+=1,this.intervalCount>e&&(this.intervalCount=0),this.slideObject.elementClass===n.OBJECT_CLASS_LINE?(c=this.slideObject.point1.coords.scrCoords,d=this.slideObject.point2.coords.scrCoords,r=Math.round((d[1]-c[1])*this.intervalCount/e),s=Math.round((d[2]-c[2])*this.intervalCount/e),t>0?a=this.slideObject.point1:(a=this.slideObject.point2,r*=-1,s*=-1),this.coords.setCoordinates(n.COORDS_BY_SCREEN,[a.coords.scrCoords[1]+r,a.coords.scrCoords[2]+s])):this.slideObject.elementClass===n.OBJECT_CLASS_CURVE?(h=t>0?Math.round(this.intervalCount/e*this.board.canvasWidth):Math.round((e-this.intervalCount)/e*this.board.canvasWidth),this.coords.setCoordinates(n.COORDS_BY_SCREEN,[h,0]),u=i.projectPointToCurve(this,this.slideObject,this.board),this.coords=u[0],this.position=u[1]):this.slideObject.elementClass===n.OBJECT_CLASS_CIRCLE&&(o=2*Math.PI,o*=t<0?this.intervalCount/e:(e-this.intervalCount)/e,l=this.slideObject.Radius(),this.coords.setCoordinates(n.COORDS_BY_USER,[this.slideObject.center.coords.usrCoords[1]+l*Math.cos(o),this.slideObject.center.coords.usrCoords[2]+l*Math.sin(o)])),this.board.update(this),this},getTextAnchor:function(){return this.coords},getLabelAnchor:function(){return this.coords},getParents:function(){var t=[this.Z(),this.X(),this.Y()];return 0!==this.parents.length&&(t=this.parents),this.type===n.OBJECT_TYPE_GLIDER&&(t=[this.X(),this.Y(),this.slideObject.id]),t}}),t.CoordsElement.create=function(t,e,i,r,s,o){var n,h,l=!1;for(h=0;h<i.length;h++)(a.isFunction(i[h])||a.isString(i[h]))&&(l=!0);if(l)(n=new t(e,[0,0],r,s,o)).addConstraint(i);else if(a.isNumber(i[0])&&a.isNumber(i[1]))n=new t(e,i,r,s,o),a.exists(r.slideobject)?n.makeGlider(r.slideobject):n.baseElement=n,n.isDraggable=!0;else{if(!a.isObject(i[0])||!a.isTransformationOrArray(i[1]))return!1;(n=new t(e,[0,0],r,s,o)).addTransform(i[0],i[1]),n.isDraggable=!1}return n.handleSnapToGrid(),n.handleSnapToPoints(),n.handleAttractors(),n.addParents(i),n},t.CoordsElement})),define("base/text",["jxg","base/constants","base/element","parser/geonext","utils/env","utils/type","math/math","base/coordselement"],(function(t,e,i,r,s,o,n,a){"use strict";var h=function(){this._val=parseFloat(this.rendNodeRange.value),this.rendNodeOut.value=this.rendNodeRange.value,this.board.update()};return t.Text=function(t,i,r,s){this.constructor(t,r,e.OBJECT_TYPE_TEXT,e.OBJECT_CLASS_TEXT),this.element=this.board.select(r.anchor),this.coordsConstructor(i,o.evaluate(this.visProp.islabel)),this.content="",this.plaintext="",this.plaintextOld=null,this.orgText="",this.needsSizeUpdate=!1,this.hiddenByParent=!1,this.size=[1,1],this.id=this.board.setId(this,"T"),this.board.renderer.drawText(this),this.board.finalizeAdding(this),this.setText(s),o.isString(this.content)&&this.notifyParents(this.content),this.elType="text",this.methodMap=o.deepCopy(this.methodMap,{setText:"setTextJessieCode",move:"setCoords"})},t.Text.prototype=new i,o.copyPrototypeMethods(t.Text,a,"coordsConstructor"),t.extend(t.Text.prototype,{hasPoint:function(t,e){var i,r,s,a,h,l,c,d;return o.isObject(o.evaluate(this.visProp.precision))?(c=this.board._inputDevice,d=o.evaluate(this.visProp.precision[c])):d=this.board.options.precision.hasPoint,this.transformations.length>0&&(t=(i=n.matVecMult(n.inverse(this.board.renderer.joinTransforms(this,this.transformations)),[1,t,e]))[1],e=i[2]),r=(i="right"===(h=this.getAnchorX())?this.coords.scrCoords[1]-this.size[0]:"middle"===h?this.coords.scrCoords[1]-.5*this.size[0]:this.coords.scrCoords[1])+this.size[0],s=(a="top"===(l=this.getAnchorY())?this.coords.scrCoords[2]+this.size[1]:"middle"===l?this.coords.scrCoords[2]+.5*this.size[1]:this.coords.scrCoords[2])-this.size[1],"all"===o.evaluate(this.visProp.dragarea)?t>=i-d&&t<r+d&&e>=s-d&&e<=a+d:e>=s-d&&e<=a+d&&(t>=i-d&&t<=i+2*d||t>=r-2*d&&t<=r+d)},_createFctUpdateText:function(t){var e,i,r=o.evaluate(this.visProp.parse),s=o.evaluate(this.visProp.usemathjax),n=o.evaluate(this.visProp.usekatex);this.orgText=t,o.isFunction(t)?this.updateText=function(){i=t().toString(),this.plaintext=!r||s||n?i:this.replaceSub(this.replaceSup(this.convertGeonextAndSketchometry2CSS(i)))}:o.isString(t)&&!r?this.updateText=function(){this.plaintext=t}:(o.isNumber(t)?this.content=o.toFixed(t,o.evaluate(this.visProp.digits)):o.evaluate(this.visProp.useasciimathml)?this.content="'`"+t+"`'":this.content=s||n?"'"+t+"'":this.generateTerm(t,!0,!0),e=this.board.jc.snippet(this.content,!0,"",!1),this.updateText=function(){this.plaintext=e()})},_setText:function(t){return this._createFctUpdateText(t),this.updateText(),this.fullUpdate(),this.board.infobox&&this.id===this.board.infobox.id||this.updateSize(),this},setTextJessieCode:function(t){var e;return this.visProp.castext=t,e=o.isFunction(t)?function(){return o.sanitizeHTML(t())}:o.isNumber(t)?t:o.sanitizeHTML(t),this._setText(e)},setText:function(t){return this._setText(t)},updateSize:function(){var t,e,i,r=o.evaluate(this.visProp.display);return s.isBrowser&&"no"!==this.board.renderer.type?(i=this.rendNode,"html"===r||"vml"===this.board.renderer.type?o.exists(i.offsetWidth)?(e=this,window.setTimeout((function(){e.size=[i.offsetWidth,i.offsetHeight],e.needsUpdate=!0,e.updateRenderer()}),0)):this.size=this.crudeSizeEstimate():"internal"===r&&("svg"===this.board.renderer.type?(e=this,window.setTimeout((function(){try{t=i.getBBox(),e.size=[t.width,t.height],e.needsUpdate=!0,e.updateRenderer()}catch(t){}}),0)):"canvas"===this.board.renderer.type&&(this.size=this.crudeSizeEstimate())),this):this},crudeSizeEstimate:function(){var t=parseFloat(o.evaluate(this.visProp.fontsize));return[t*this.plaintext.length*.45,.9*t]},utf8_decode:function(t){return t.replace(/&#x(\w+);/g,(function(t,e){return String.fromCharCode(parseInt(e,16))}))},replaceSub:function(t){if(!t.indexOf)return t;for(var e,i=t.indexOf("_{");i>=0;)(e=(t=t.substr(0,i)+t.substr(i).replace(/_\{/,"<sub>")).substr(i).indexOf("}"))>=0&&(t=t.substr(0,e)+t.substr(e).replace(/\}/,"</sub>")),i=t.indexOf("_{");for(i=t.indexOf("_");i>=0;)i=(t=t.substr(0,i)+t.substr(i).replace(/_(.?)/,"<sub>$1</sub>")).indexOf("_");return t},replaceSup:function(t){if(!t.indexOf)return t;for(var e,i=t.indexOf("^{");i>=0;)(e=(t=t.substr(0,i)+t.substr(i).replace(/\^\{/,"<sup>")).substr(i).indexOf("}"))>=0&&(t=t.substr(0,e)+t.substr(e).replace(/\}/,"</sup>")),i=t.indexOf("^{");for(i=t.indexOf("^");i>=0;)i=(t=t.substr(0,i)+t.substr(i).replace(/\^(.?)/,"<sup>$1</sup>")).indexOf("^");return t},getSize:function(){return this.size},setCoords:function(t,i){var r,s,n;return o.isArray(t)&&t.length>1&&(i=t[1],t=t[0]),o.evaluate(this.visProp.islabel)&&o.exists(this.element)?(s=(t-(r=this.element.getLabelAnchor()).usrCoords[1])*this.board.unitX,n=-(i-r.usrCoords[2])*this.board.unitY,this.relativeCoords.setCoordinates(e.COORDS_BY_SCREEN,[s,n])):this.coords.setCoordinates(e.COORDS_BY_USER,[t,i]),this.fullUpdate(),this},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateText(),"internal"===o.evaluate(this.visProp.display)&&o.isString(this.plaintext)&&(this.plaintext=this.utf8_decode(this.plaintext)),this.checkForSizeUpdate(),this.needsSizeUpdate&&this.updateSize(),this):this},checkForSizeUpdate:function(){this.board.infobox&&this.id===this.board.infobox.id?this.needsSizeUpdate=!1:(this.needsSizeUpdate=this.plaintextOld!==this.plaintext,this.needsSizeUpdate&&(this.plaintextOld=this.plaintext))},updateRenderer:function(){return o.evaluate(this.visProp.autoposition)&&this.setAutoPosition().updateConstraint(),this.updateRendererGeneric("updateText")},expandShortMath:function(t){return t.replace(/([)0-9.])\s*([(a-zA-Z_])/g,"$1*$2")},generateTerm:function(t,e,i){var s,n,a,h,l='""';if(a=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t||"").replace(/\r/g,"")).replace(/\n/g,"")).replace(/"/g,"'")).replace(/'/g,"\\'")).replace(/&amp;arc;/g,"&ang;")).replace(/<arc\s*\/>/g,"&ang;")).replace(/&lt;arc\s*\/&gt;/g,"&ang;")).replace(/&lt;sqrt\s*\/&gt;/g,"&radic;")).replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>")).indexOf("<value>"),h=t.indexOf("</value>"),a>=0)for(;a>=0;)l+=' + "'+this.replaceSub(this.replaceSup(t.slice(0,a)))+'"',n=(n=t.slice(a+7,h)).replace(/\s+/g,""),!0===e&&(n=this.expandShortMath(n)),(s=(s=(s=i?n:r.geonext2JS(n,this.board)).replace(/\\"/g,"'")).replace(/\\'/g,"'")).indexOf("toFixed")<0&&o.isNumber(o.bind(this.board.jc.snippet(s,!0,"",!1),this)())?l+="+("+s+").toFixed("+o.evaluate(this.visProp.digits)+")":l+="+("+s+")",a=(t=t.slice(h+8)).indexOf("<value>"),h=t.indexOf("</value>");return l+=' + "'+this.replaceSub(this.replaceSup(t))+'"',l=(l=(l=this.convertGeonextAndSketchometry2CSS(l)).replace(/&amp;/g,"&")).replace(/"/g,"'")},convertGeonext2CSS:function(t){return o.isString(t)&&(t=(t=(t=(t=t.replace(/(<|&lt;)overline(>|&gt;)/g,"<span style=text-decoration:overline;>")).replace(/(<|&lt;)\/overline(>|&gt;)/g,"</span>")).replace(/(<|&lt;)arrow(>|&gt;)/g,"<span style=text-decoration:overline;>")).replace(/(<|&lt;)\/arrow(>|&gt;)/g,"</span>")),t},convertSketchometry2CSS:function(t){return o.isString(t)&&(t=(t=(t=(t=t.replace(/(<|&lt;)sketchofont(>|&gt;)/g,"<span style=font-family:sketchometry-light;font-weight:500;>")).replace(/(<|&lt;)\/sketchofont(>|&gt;)/g,"</span>")).replace(/(<|&lt;)sketchometry-light(>|&gt;)/g,"<span style=font-family:sketchometry-light;font-weight:500;>")).replace(/(<|&lt;)\/sketchometry-light(>|&gt;)/g,"</span>")),t},convertGeonextAndSketchometry2CSS:function(t){return t=this.convertGeonext2CSS(t),t=this.convertSketchometry2CSS(t)},notifyParents:function(t){var e,i=null;t=(t=t.replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>");do{null!==(i=(e=/<value>([\w\s*/^\-+()[\],<>=!]+)<\/value>/).exec(t))&&(r.findDependencies(this,i[1],this.board),t=(t=t.substr(i.index)).replace(e,""))}while(null!==i);return this},getParents:function(){var t;return t=void 0!==this.relativeCoords?[this.relativeCoords.usrCoords[1],this.relativeCoords.usrCoords[2],this.orgText]:[this.Z(),this.X(),this.Y(),this.orgText],0!==this.parents.length&&(t=this.parents),t},bounds:function(){var t=this.coords.usrCoords;return o.evaluate(this.visProp.islabel)||0===this.board.unitY||0===this.board.unitX?[0,0,0,0]:[t[1],t[2]+this.size[1]/this.board.unitY,t[1]+this.size[0]/this.board.unitX,t[2]]},getAnchorX:function(){var t=o.evaluate(this.visProp.anchorx);if("auto"===t)switch(this.visProp.position){case"top":case"bot":return"middle";case"rt":case"lrt":case"urt":return"left";default:return"right"}return t},getAnchorY:function(){var t=o.evaluate(this.visProp.anchory);if("auto"===t)switch(this.visProp.position){case"top":case"ulft":case"urt":return"bottom";case"bot":case"lrt":case"llft":return"top";default:return"middle"}return t},getNumberofConflicts:function(t,e,i,r){var s,o,n,a,h=0;for(a=this.board.options.precision.hasPoint,this.board.options.precision.hasPoint=.25*(i+r),s=0,n=this.board.objectsList.length;s<n;s++)(o=this.board.objectsList[s]).visPropCalc.visible&&"axis"!==o.elType&&"ticks"!==o.elType&&o!==this.board.infobox&&o!==this&&o.hasPoint(t,e)&&h++;return this.board.options.precision.hasPoint=a,h},setAutoPosition:function(){var t,e,i,r,s,n,a,h,l,c,d,u,p,f,m,g,b=this.size[0],v=this.size[1],y={conflicts:1/0,angle:0,r:0},C=2*Math.PI/12;if(this===this.board.infobox||!this.visPropCalc.visible||!o.evaluate(this.visProp.islabel)||!this.element)return this;if(c=o.evaluate(this.visProp.offset),i=(s=this.element.getLabelAnchor()).scrCoords[1],r=s.scrCoords[2],p=c[0],f=c[1],0===(l=this.getNumberofConflicts(i+p,r-f,b,v)))return this;for(28,h=.2*(d=12),n=Math.atan2(f,p),y.conflicts=l,y.angle=n,y.r=d;y.conflicts>0&&d<28;){for(u=1,a=n+C;u<12&&y.conflicts>0&&(t=i+d*(m=Math.cos(a)),e=r-d*(g=Math.sin(a)),(l=this.getNumberofConflicts(t,e,b,v))<y.conflicts&&(y.conflicts=l,y.angle=a,y.r=d),0!==y.conflicts);u++)a+=C;d+=h}return d=y.r,m=Math.cos(y.angle),g=Math.sin(y.angle),this.visProp.offset=[d*m,d*g],this.visProp.anchorx=m<-.2?"right":m>.2?"left":"middle",this}}),t.createText=function(e,i,r){var s,n=o.copyAttributes(r,e.options,"text"),h=i.slice(0,-1),l=i[i.length-1];if(n.anchor=n.parent||n.anchor,!(s=a.create(t.Text,e,h,n,l)))throw new Error("JSXGraph: Can't create text with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==n.rotate&&"internal"===n.display&&s.addRotation(n.rotate),s},t.registerElement("text",t.createText),t.createHTMLSlider=function(e,i,r){var n,a,l=o.copyAttributes(r,e.options,"htmlslider");if(2!==i.length||2!==i[0].length||3!==i[1].length)throw new Error("JSXGraph: Can't create htmlslider with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parents are: [[x,y], [min, start, max]]");l.anchor=l.parent||l.anchor,l.fixed=l.fixed||!0,a=[i[0][0],i[0][1],'<form style="display:inline"><input type="range" /><span></span><input type="text" /></form>'],(n=t.createText(e,a,l)).type=o.OBJECT_TYPE_HTMLSLIDER,n.rendNodeForm=n.rendNode.childNodes[0],n.rendNodeRange=n.rendNodeForm.childNodes[0],n.rendNodeRange.min=i[1][0],n.rendNodeRange.max=i[1][2],n.rendNodeRange.step=l.step,n.rendNodeRange.value=i[1][1],n.rendNodeLabel=n.rendNodeForm.childNodes[1],n.rendNodeLabel.id=n.rendNode.id+"_label",l.withlabel&&(n.rendNodeLabel.innerHTML=n.name+"="),n.rendNodeOut=n.rendNodeForm.childNodes[2],n.rendNodeOut.value=i[1][1];try{n.rendNodeForm.id=n.rendNode.id+"_form",n.rendNodeRange.id=n.rendNode.id+"_range",n.rendNodeOut.id=n.rendNode.id+"_out"}catch(e){t.debug(e)}return n.rendNodeRange.style.width=l.widthrange+"px",n.rendNodeRange.style.verticalAlign="middle",n.rendNodeOut.style.width=l.widthout+"px",n._val=i[1][1],t.supportsVML()?s.addEvent(n.rendNodeForm,"change",h,n):s.addEvent(n.rendNodeForm,"input",h,n),n.Value=function(){return this._val},n},t.registerElement("htmlslider",t.createHTMLSlider),{Text:t.Text,createText:t.createText,createHTMLSlider:t.createHTMLSlider}})),define("utils/uuid",["jxg"],(function(t){"use strict";var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return t.Util=t.Util||{},t.Util.genUUID=function(t){var i,r,s=[],o=0;for(""!==(t=t||"")&&"-"!==t.substr(t.length-1)&&(t+="-"),r=0;r<36;r++)8===r||13===r||18===r||23===r?s[r]="-":14===r?s[r]="4":(o<=2&&(o=33554432+16777216*Math.random()|0),i=15&o,o>>=4,s[r]=e[19===r?3&i|8:i]);return t+s.join("")},t.Util})),define("parser/jessiecode",["jxg","base/constants","base/text","math/math","math/ia","math/geometry","math/statistics","utils/type","utils/uuid","utils/env"],(function(JXG,Const,Text,Mat,Interval,Geometry,Statistics,Type,UUID,Env){Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function i(){}return i.prototype=t,new i});var priv={modules:{math:Mat,"math/geometry":Geometry,"math/statistics":Statistics,"math/numerics":Mat.Numerics}},r,_ccache;JXG.JessieCode=function(t,e){this.scope={id:0,hasChild:!0,args:[],locals:{},context:null,previous:null},this.scopes=[],this.scopes.push(this.scope),this.dpstack=[[]],this.pscope=0,this.propstack=[{}],this.propscope=0,this.lhs=[],this.isLHS=!1,this.warnLog="jcwarn",this.$log=[],this.builtIn=this.defineBuiltIn(),this.operands=this.getPossibleOperands(),this.board=null,this.lineToElement={},this.parCurLine=1,this.parCurColumn=0,this.line=1,this.col=1,JXG.CA&&(this.CA=new JXG.CA(this.node,this.createNode,this)),this.code="","string"==typeof t&&this.parse(t,e)},JXG.extend(JXG.JessieCode.prototype,{node:function(t,e,i){return{type:t,value:e,children:i}},createNode:function(t,e,i){var r,s=this.node(t,e,[]);for(r=2;r<arguments.length;r++)s.children.push(arguments[r]);return"node_const"==s.type&&Type.isNumber(s.value)&&(s.isMath=!0),s.line=this.parCurLine,s.col=this.parCurColumn,s},pushScope:function(t){var e={args:t,locals:{},context:null,previous:this.scope};return this.scope.hasChild=!0,this.scope=e,e.id=this.scopes.push(e)-1,e},popScope:function(){var t=this.scope.previous;return this.scope=null!==t?t:this.scope,this.scope},getElementById:function(t){return this.board.objects[t]},log:function(){this.$log.push(arguments),"object"==typeof console&&console.log&&console.log.apply(console,arguments)},creator:(_ccache={},(r=function(t){var e,i;return"function"==typeof _ccache[this.board.id+t]?e=_ccache[this.board.id+t]:(i=this,(e=function(e,r){var s;return void 0===(s=Type.exists(r)?r:{}).name&&void 0===s.id&&(s.name=0!==i.lhs[i.scope.id]?i.lhs[i.scope.id]:""),i.board.create(t,e,s)}).creator=!0,_ccache[this.board.id+t]=e),e}).clearCache=function(){_ccache={}},r),letvar:function(t,e){this.builtIn[t]&&this._warn('"'+t+'" is a predefined value.'),this.scope.locals[t]=e},isLocalVariable:function(t){for(var e=this.scope;null!==e;){if(Type.exists(e.locals[t]))return e;e=e.previous}return null},isParameter:function(t){for(var e=this.scope;null!==e;){if(Type.indexOf(e.args,t)>-1)return e;e=e.previous}return null},isCreator:function(t){return!!JXG.elements[t]},isMathMethod:function(t){return"E"!==t&&!!Math[t]},isBuiltIn:function(t){return!!this.builtIn[t]},getvar:function(t,e,i){var r;if(e=Type.def(e,!1),null!==(r=this.isLocalVariable(t)))return r.locals[t];if("$board"===t||"EULER"===t||"PI"===t)return this.builtIn[t];if(i){if(this.isBuiltIn(t))return this.builtIn[t];if(this.isMathMethod(t))return Math[t];if(this.isCreator(t))return this.creator(t)}return e||(r=this.board.select(t))===t?void 0:r},resolve:function(t){for(var e=this.scope;null!==e;){if(Type.exists(e.locals[t]))return e.locals[t];e=e.previous}},getvarJS:function(t,e,i){var r,s="";return e=Type.def(e,!1),i=Type.def(i,!1),null!==this.isParameter(t)?t:null===this.isLocalVariable(t)||i?this.isCreator(t)?"(function () { var a = Array.prototype.slice.call(arguments, 0), props = "+(i?"a.pop()":"{}")+"; return $jc$.board.create.apply($jc$.board, ['"+t+"'].concat([a, props])); })":(i&&this._error("Syntax error (attribute values are allowed with element creators only)"),this.isBuiltIn(t)?(s=this.builtIn[t].src||this.builtIn[t],Type.isNumber(s)||s.match(/board\.select/)?s:(t=s.split(".").pop(),Type.exists(this.board.mathLib)&&null!==(r=new RegExp("^Math."+t)).exec(s)?s.replace(r,"$jc$.board.mathLib."+t):Type.exists(this.board.mathLibJXG)&&null!==(r=new RegExp("^JXG.Math.")).exec(s)?s.replace(r,"$jc$.board.mathLibJXG."):s)):this.isMathMethod(t)?"$jc$.board.mathLib."+t:e?"":(Type.isId(this.board,t)?(s="$jc$.board.objects['"+t+"']","slider"===this.board.objects[t].elType&&(s+=".Value()")):Type.isName(this.board,t)?(s="$jc$.board.elementsByName['"+t+"']","slider"===this.board.elementsByName[t].elType&&(s+=".Value()")):Type.isGroup(this.board,t)&&(s="$jc$.board.groups['"+t+"']"),s)):"$jc$.resolve('"+t+"')"},makeMap:function(t){return t.isMap=!0,t},functionCodeJS:function(t){var e=t.children[0].join(", "),i="",r="";return"op_map"===t.value&&(i="{ return  ",r=" }"),"function ("+e+") {\nvar $oldscope$ = $jc$.scope;\n$jc$.scope = $jc$.scopes["+this.scope.id+"];\nvar r = (function () "+i+this.compile(t.children[1],!0)+r+")();\n$jc$.scope = $oldscope$;\nreturn r;\n}"},defineFunction:function(node){var fun,i,that=this,list=node.children[0],scope=this.pushScope(list),_that;if(this.board.options.jc.compile){for(this.isLHS=!1,i=0;i<list.length;i++)scope.locals[list[i]]=list[i];this.replaceNames(node.children[1]),fun=function($jc$){var fun,str="var f = "+$jc$.functionCodeJS(node)+"; f;";try{for(fun=eval(str),scope.argtypes=[],i=0;i<list.length;i++)scope.argtypes.push(that.resolveType(list[i],node));return fun}catch(t){return $jc$._warn("error compiling function\n\n"+str+"\n\n"+t.toString()),function(){}}}(this),this.popScope()}else fun=function(t,e,i){return function(){var r,s;for(s=e.scope,e.scope=e.scopes[i],r=0;r<t.length;r++)e.scope.locals[t[r]]=arguments[r];return r=e.execute(node.children[1]),e.scope=s,r}}(list,this,scope.id);return fun.node=node,fun.scope=scope,fun.toJS=fun.toString,fun.toString=(_that=this,function(){return _that.compile(_that.replaceIDs(Type.deepCopy(node)))}),fun.deps={},this.collectDependencies(node.children[1],fun.deps),fun},mergeAttributes:function(t){var e,i={};for(e=0;e<arguments.length;e++)i=Type.deepCopy(i,arguments[e],!0);return i},setProp:function(t,e,i){var r,s,o={};t.elementClass!==Const.OBJECT_CLASS_POINT||"X"!==e&&"Y"!==e?t.elementClass!==Const.OBJECT_CLASS_TEXT||"X"!==e&&"Y"!==e?t.type&&t.elementClass&&t.visProp?Type.exists(t[t.methodMap[e]])&&"function"!=typeof t[t.methodMap[e]]?t[t.methodMap[e]]=i:(o[e]=i,t.setAttribute(o)):t[e]=i:("number"==typeof i?t[e]=function(){return i}:"function"==typeof i?(t.isDraggable=!1,t[e]=i):"string"==typeof i&&(t.isDraggable=!1,t[e]=Type.createFunction(i,this.board,null,!0),t[e+"jc"]=i),t[e].origin=i,this.board.update()):(e=e.toLowerCase(),t.isDraggable&&"number"==typeof i?(r="x"===e?i:t.X(),s="y"===e?i:t.Y(),t.setPosition(Const.COORDS_BY_USER,[r,s])):!t.isDraggable||"function"!=typeof i&&"string"!=typeof i?t.isDraggable||(r="x"===e?i:t.XEval.origin,s="y"===e?i:t.YEval.origin,t.addConstraint([r,s])):(r="x"===e?i:t.coords.usrCoords[1],s="y"===e?i:t.coords.usrCoords[2],t.addConstraint([r,s])),this.board.update())},_genericParse:function(t,e,i,r){var s,o,n,a,h=t.replace(/\r\n/g,"\n").split("\n"),l=[];r||(this.code+=t+"\n"),Text&&(o=Text.Text.prototype.setText,Text.Text.prototype.setText=Text.Text.prototype.setTextJessieCode);try{for(Type.exists(i)||(i=!1),s=0;s<h.length;s++)i&&(h[s]=JXG.GeonextParser.geonext2JS(h[s],this.board)),l.push(h[s]);switch(t=l.join("\n"),n=parser.parse(t),this.CA&&(n=this.CA.expandDerivatives(n,null,n),n=this.CA.removeTrivialNodes(n)),e){case"parse":a=this.execute(n);break;case"manipulate":a=this.compile(n);break;case"getAst":a=n;break;default:a=!1}}catch(t){throw t}finally{Text&&(Text.Text.prototype.setText=o)}return a},parse:function(t,e,i){return this._genericParse(t,"parse",e,i)},manipulate:function(t,e,i){return this._genericParse(t,"manipulate",e,i)},getAST:function(t,e,i){return this._genericParse(t,"getAst",e,i)},snippet:function(t,e,i,r){var s;return e=Type.def(e,!0),i=Type.def(i,""),r=Type.def(r,!1),s=(e?" function ("+i+") { return ":"")+t+(e?"; }":"")+";",this.parse(s,r,!0)},replaceIDs:function(t){var e,i;if(t.replaced&&(i=this.board.objects[t.children[1][0].value],Type.exists(i)&&""!==i.name&&(t.type="node_var",t.value=i.name,t.children.length=0,delete t.replaced)),Type.isArray(t))for(e=0;e<t.length;e++)t[e]=this.replaceIDs(t[e]);if(t.children)for(e=t.children.length;e>0;e--)Type.exists(t.children[e-1])&&(t.children[e-1]=this.replaceIDs(t.children[e-1]));return t},replaceNames:function(t){var e,i;if(i=t.value,"node_op"===t.type&&"op_lhs"===i&&1===t.children.length?this.isLHS=!0:"node_var"===t.type&&(this.isLHS?this.letvar(i,!0):!Type.exists(this.getvar(i,!0))&&Type.exists(this.board.elementsByName[i])&&(t=this.createReplacementNode(t))),Type.isArray(t))for(e=0;e<t.length;e++)t[e]=this.replaceNames(t[e]);if(t.children)for(e=t.children.length;e>0;e--)Type.exists(t.children[e-1])&&(t.children[e-1]=this.replaceNames(t.children[e-1]));return"node_op"===t.type&&"op_lhs"===t.value&&1===t.children.length&&(this.isLHS=!1),t},createReplacementNode:function(t){var e=t.value,i=this.board.elementsByName[e];return(t=this.createNode("node_op","op_execfun",this.createNode("node_var","$"),[this.createNode("node_str",i.id)])).replaced=!0,t},collectDependencies:function(t,e){var i,r,s,o;if(Type.isArray(t))for(o=t.length,i=0;i<o;i++)this.collectDependencies(t[i],e);else if(r=t.value,"node_var"===t.type&&(s=this.getvar(r))&&s.visProp&&s.type&&s.elementClass&&s.id&&(e[s.id]=s),"node_op"===t.type&&"op_execfun"===t.value&&t.children.length>1&&"$"===t.children[0].value&&t.children[1].length>0&&(e[s=t.children[1][0].value]=this.board.objects[s]),t.children)for(i=t.children.length;i>0;i--)Type.exists(t.children[i-1])&&this.collectDependencies(t.children[i-1],e)},resolveProperty:function(t,e,i){return i=Type.def(i,!1),t&&t.methodMap&&(Type.exists(t.subs)&&Type.exists(t.subs[e])?t=t.subs:Type.exists(t.methodMap[e])?e=t.methodMap[e]:(t=t.visProp,e=e.toLowerCase())),Type.isFunction(t)&&this._error("Accessing function properties is not allowed."),Type.exists(t)||this._error(t+" is not an object"),Type.exists(t[e])||this._error("unknown property "+e),i&&"function"==typeof t[e]?function(){return t[e].apply(t,arguments)}:t[e]},resolveType:function(t,e){var i,r;if(Type.isArray(e))for(i=0;i<e.length;i++)if("any"!==(r=this.resolveType(t,e[i])))return r;if("node_op"===e.type&&"op_execfun"===e.value&&"node_var"===e.children[0].type&&e.children[0].value===t)return"function";if("node_op"===e.type){for(i=0;i<e.children.length;i++)if("node_var"===e.children[0].type&&e.children[0].value===t&&("op_add"===e.value||"op_sub"===e.value||"op_mul"===e.value||"op_div"===e.value||"op_mod"===e.value||"op_exp"===e.value||"op_neg"===e.value))return"any";for(i=0;i<e.children.length;i++)if("any"!==(r=this.resolveType(t,e.children[i])))return r}return"any"},getLHS:function(t){var e;if("node_var"===t.type)e={o:this.scope.locals,what:t.value};else if("node_op"===t.type&&"op_property"===t.value)e={o:this.execute(t.children[0]),what:t.children[1]};else{if("node_op"!==t.type||"op_extvalue"!==t.value)throw new Error("Syntax error: Invalid left-hand side of assignment.");e={o:this.execute(t.children[0]),what:this.execute(t.children[1])}}return e},getLHSCompiler:function(t,e){var i;if("node_var"===t.type)i=t.value;else if("node_op"===t.type&&"op_property"===t.value)i=[this.compile(t.children[0],e),"'"+t.children[1]+"'"];else{if("node_op"!==t.type||"op_extvalue"!==t.value)throw new Error("Syntax error: Invalid left-hand side of assignment.");i=[this.compile(t.children[0],e),"node_const"===t.children[1].type?t.children[1].value:this.compile(t.children[1],e)]}return i},execute:function(t){var e,i,r,s,o,n,a,h,l,c,d=[];if(e=0,!t)return e;switch(this.line=t.line,this.col=t.col,t.type){case"node_op":switch(t.value){case"op_none":t.children[0]&&this.execute(t.children[0]),t.children[1]&&(e=this.execute(t.children[1]));break;case"op_assign":i=this.getLHS(t.children[0]),this.lhs[this.scope.id]=i.what,i.o.type&&i.o.elementClass&&i.o.methodMap&&"label"===i.what&&this._error("Left-hand side of assignment is read-only."),e=this.execute(t.children[1]),i.o!==this.scope.locals||Type.isArray(i.o)&&"number"==typeof i.what?this.setProp(i.o,i.what,e):this.letvar(i.what,e),this.lhs[this.scope.id]=0;break;case"op_if":this.execute(t.children[0])&&(e=this.execute(t.children[1]));break;case"op_conditional":case"op_if_else":e=this.execute(t.children[0])?this.execute(t.children[1]):this.execute(t.children[2]);break;case"op_while":for(;this.execute(t.children[0]);)this.execute(t.children[1]);break;case"op_do":do{this.execute(t.children[0])}while(this.execute(t.children[1]));break;case"op_for":for(this.execute(t.children[0]);this.execute(t.children[1]);this.execute(t.children[2]))this.execute(t.children[3]);break;case"op_proplst":t.children[0]&&this.execute(t.children[0]),t.children[1]&&this.execute(t.children[1]);break;case"op_emptyobject":e={};break;case"op_proplst_val":this.propstack.push({}),this.propscope++,this.execute(t.children[0]),e=this.propstack[this.propscope],this.propstack.pop(),this.propscope--;break;case"op_prop":this.propstack[this.propscope][t.children[0]]=this.execute(t.children[1]);break;case"op_array":for(e=[],o=t.children[0].length,r=0;r<o;r++)e.push(this.execute(t.children[0][r]));break;case"op_extvalue":e=this.execute(t.children[0]),e="number"==typeof(r=this.execute(t.children[1]))&&Math.abs(Math.round(r)-r)<Mat.eps?e[r]:undefined;break;case"op_return":if(0!==this.scope)return this.execute(t.children[0]);this._error("Unexpected return.");break;case"op_map":t.children[1].isMath||"node_var"===t.children[1].type||this._error("execute: In a map only function calls and mathematical expressions are allowed."),(h=this.defineFunction(t)).isMap=!0,e=h;break;case"op_function":(h=this.defineFunction(t)).isMap=!1,e=h;break;case"op_execfun":if(this.dpstack.push([]),this.pscope++,n=t.children[1],Type.exists(t.children[2]))if(t.children[3])for(a=t.children[2],l={},r=0;r<a.length;r++)l=Type.deepCopy(l,this.execute(a[r]),!0);else l=this.execute(t.children[2]);for(t.children[0]._isFunctionName=!0,h=this.execute(t.children[0]),delete t.children[0]._isFunctionName,c=h&&h.sc?h.sc:this,!h.creator&&Type.exists(t.children[2])&&this._error("Unexpected value. Only element creators are allowed to have a value after the function call."),r=0;r<n.length;r++)Type.exists(h.scope)&&Type.exists(h.scope.argtypes)&&"function"===h.scope.argtypes[r]?(n[r]._isFunctionName=!0,d[r]=this.execute(n[r]),delete n[r]._isFunctionName):d[r]=this.execute(n[r]),this.dpstack[this.pscope].push({line:t.children[1][r].line,col:t.children[1][r].ecol});if("function"!=typeof h||h.creator)if("function"==typeof h&&h.creator){s=this.line;try{for((e=h(d,l)).jcLineStart=s,e.jcLineEnd=t.eline,r=s;r<=t.line;r++)this.lineToElement[r]=e;e.debugParents=this.dpstack[this.pscope]}catch(t){this._error(t.toString())}}else this._error("Function '"+h+"' is undefined.");else e=h.apply(c,d);this.dpstack.pop(),this.pscope--;break;case"op_property":s=this.execute(t.children[0]),i=t.children[1],e=this.resolveProperty(s,i,!1),Type.exists(e)&&(e.sc=s);break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),this.use(t.children[0].toString());break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),i=this.getvar(t.children[0]),e=this.del(i);break;case"op_eq":e=this.execute(t.children[0])==this.execute(t.children[1]);break;case"op_neq":e=this.execute(t.children[0])!=this.execute(t.children[1]);break;case"op_approx":e=Math.abs(this.execute(t.children[0])-this.execute(t.children[1]))<Mat.eps;break;case"op_gt":e=this.execute(t.children[0])>this.execute(t.children[1]);break;case"op_lt":e=this.execute(t.children[0])<this.execute(t.children[1]);break;case"op_geq":e=this.execute(t.children[0])>=this.execute(t.children[1]);break;case"op_leq":e=this.execute(t.children[0])<=this.execute(t.children[1]);break;case"op_or":e=this.execute(t.children[0])||this.execute(t.children[1]);break;case"op_and":e=this.execute(t.children[0])&&this.execute(t.children[1]);break;case"op_not":e=!this.execute(t.children[0]);break;case"op_add":e=this.add(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_sub":e=this.sub(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_div":e=this.div(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_mod":e=this.mod(this.execute(t.children[0]),this.execute(t.children[1]),!0);break;case"op_mul":e=this.mul(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_exp":e=this.pow(this.execute(t.children[0]),this.execute(t.children[1]));break;case"op_neg":e=this.neg(this.execute(t.children[0]))}break;case"node_var":e=this.getvar(t.value,!1,t._isFunctionName);break;case"node_const":e=null===t.value?null:Number(t.value);break;case"node_const_bool":e=t.value;break;case"node_str":e=t.value.replace(/\\(.)/,"$1")}return e},compile:function(t,e){var i,r,s,o="";if(Type.exists(e)||(e=!1),!t)return o;switch(t.type){case"node_op":switch(t.value){case"op_none":t.children[0]&&(o=this.compile(t.children[0],e)),t.children[1]&&(o+=this.compile(t.children[1],e));break;case"op_assign":e?(i=this.getLHSCompiler(t.children[0],e),Type.isArray(i)?o="$jc$.setProp("+i[0]+", "+i[1]+", "+this.compile(t.children[1],e)+");\n":(this.isLocalVariable(i)!==this.scope&&(this.scope.locals[i]=!0),o="$jc$.scopes["+this.scope.id+"].locals['"+i+"'] = "+this.compile(t.children[1],e)+";\n")):o=(i=this.compile(t.children[0]))+" = "+this.compile(t.children[1],e)+";\n";break;case"op_if":o=" if ("+this.compile(t.children[0],e)+") "+this.compile(t.children[1],e);break;case"op_if_else":o=" if ("+this.compile(t.children[0],e)+")"+this.compile(t.children[1],e),o+=" else "+this.compile(t.children[2],e);break;case"op_conditional":o="(("+this.compile(t.children[0],e)+")?("+this.compile(t.children[1],e),o+="):("+this.compile(t.children[2],e)+"))";break;case"op_while":o=" while ("+this.compile(t.children[0],e)+") {\n"+this.compile(t.children[1],e)+"}\n";break;case"op_do":o=" do {\n"+this.compile(t.children[0],e)+"} while ("+this.compile(t.children[1],e)+");\n";break;case"op_for":o=" for ("+this.compile(t.children[0],e)+this.compile(t.children[1],e)+"; "+this.compile(t.children[2],e).slice(0,-2)+") {\n"+this.compile(t.children[3],e)+"\n}\n";break;case"op_proplst":t.children[0]&&(o=this.compile(t.children[0],e)+", "),o+=this.compile(t.children[1],e);break;case"op_prop":o=t.children[0]+": "+this.compile(t.children[1],e);break;case"op_emptyobject":o=e?"{}":"<< >>";break;case"op_proplst_val":o=this.compile(t.children[0],e);break;case"op_array":for(s=[],r=0;r<t.children[0].length;r++)s.push(this.compile(t.children[0][r],e));o="["+s.join(", ")+"]";break;case"op_extvalue":o=this.compile(t.children[0],e)+"["+this.compile(t.children[1],e)+"]";break;case"op_return":o=" return "+this.compile(t.children[0],e)+";\n";break;case"op_map":t.children[1].isMath||"node_var"===t.children[1].type||this._error("compile: In a map only function calls and mathematical expressions are allowed."),s=t.children[0],o=e?" $jc$.makeMap(function ("+s.join(", ")+") { return "+this.compile(t.children[1],e)+"; })":"map ("+s.join(", ")+") -> "+this.compile(t.children[1],e);break;case"op_function":s=t.children[0],this.pushScope(s),o=e?this.functionCodeJS(t):" function ("+s.join(", ")+") "+this.compile(t.children[1],e),this.popScope();break;case"op_execfunmath":console.log("op_execfunmath: TODO"),o="-1";break;case"op_execfun":if(t.children[2]){for(s=[],r=0;r<t.children[2].length;r++)s.push(this.compile(t.children[2][r],e));e&&(i="$jc$.mergeAttributes("+s.join(", ")+")")}for(t.children[0].withProps=!!t.children[2],s=[],r=0;r<t.children[1].length;r++)s.push(this.compile(t.children[1][r],e));o=this.compile(t.children[0],e)+"("+s.join(", ")+(t.children[2]&&e?", "+i:"")+")"+(t.children[2]&&!e?i:""),e&&(o+="\n"),e&&"$"===t.children[0].value&&(o="$jc$.board.objects["+this.compile(t.children[1][0],e)+"]");break;case"op_property":o=e&&"X"!==t.children[1]&&"Y"!==t.children[1]?"$jc$.resolveProperty("+this.compile(t.children[0],e)+", '"+t.children[1]+"', true)":this.compile(t.children[0],e)+"."+t.children[1];break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),o=e?"$jc$.use('":"use('",o+=t.children[0].toString()+"');";break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),o=e?"$jc$.del(":"remove(",o+=this.compile(t.children[0],e)+")";break;case"op_eq":o="("+this.compile(t.children[0],e)+" === "+this.compile(t.children[1],e)+")";break;case"op_neq":o="("+this.compile(t.children[0],e)+" !== "+this.compile(t.children[1],e)+")";break;case"op_approx":o="("+this.compile(t.children[0],e)+" ~= "+this.compile(t.children[1],e)+")";break;case"op_gt":o=e?"$jc$.gt("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" > "+this.compile(t.children[1],e)+")";break;case"op_lt":o=e?"$jc$.lt("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" < "+this.compile(t.children[1],e)+")";break;case"op_geq":o=e?"$jc$.geq("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" >= "+this.compile(t.children[1],e)+")";break;case"op_leq":o=e?"$jc$.leq("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" <= "+this.compile(t.children[1],e)+")";break;case"op_or":o="("+this.compile(t.children[0],e)+" || "+this.compile(t.children[1],e)+")";break;case"op_and":o="("+this.compile(t.children[0],e)+" && "+this.compile(t.children[1],e)+")";break;case"op_not":o="!("+this.compile(t.children[0],e)+")";break;case"op_add":o=e?"$jc$.add("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" + "+this.compile(t.children[1],e)+")";break;case"op_sub":o=e?"$jc$.sub("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" - "+this.compile(t.children[1],e)+")";break;case"op_div":o=e?"$jc$.div("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" / "+this.compile(t.children[1],e)+")";break;case"op_mod":o=e?"$jc$.mod("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+", true)":"("+this.compile(t.children[0],e)+" % "+this.compile(t.children[1],e)+")";break;case"op_mul":o=e?"$jc$.mul("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+" * "+this.compile(t.children[1],e)+")";break;case"op_exp":o=e?"$jc$.pow("+this.compile(t.children[0],e)+", "+this.compile(t.children[1],e)+")":"("+this.compile(t.children[0],e)+"^"+this.compile(t.children[1],e)+")";break;case"op_neg":o=e?"$jc$.neg("+this.compile(t.children[0],e)+")":"(-"+this.compile(t.children[0],e)+")"}break;case"node_var":o=e?this.getvarJS(t.value,!1,t.withProps):t.value;break;case"node_const":case"node_const_bool":o=t.value;break;case"node_str":o="'"+t.value+"'"}return t.needsBrackets&&(o="{\n"+o+"\n}\n"),o},getName:function(t,e){var i="";return Type.exists(t)&&Type.exists(t.getName)?(i=t.getName(),Type.exists(i)&&""!==i||!e||(i=t.id)):e&&(i=t.id),i},X:function(t){return t.X()},Y:function(t){return t.Y()},V:function(t){return t.Value()},L:function(t){return t.L()},area:function(t){return Type.exists(t)&&Type.exists(t.Area)||this._error("Error: Can't calculate area."),t.Area()},dist:function(t,e){return Type.exists(t)&&Type.exists(t.Dist)||this._error("Error: Can't calculate distance."),t.Dist(e)},radius:function(t){return Type.exists(t)&&Type.exists(t.Radius)||this._error("Error: Can't calculate radius."),t.Radius()},add:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e))s=Interval.add(t,e);else if(Type.isArray(t)&&Type.isArray(e))for(r=Math.min(t.length,e.length),s=[],i=0;i<r;i++)s[i]=t[i]+e[i];else Type.isNumber(t)&&Type.isNumber(e)?s=t+e:Type.isString(t)||Type.isString(e)?s=t.toString()+e.toString():this._error("Operation + not defined on operands "+typeof t+" and "+typeof e);return s},sub:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e))s=Interval.sub(t,e);else if(Type.isArray(t)&&Type.isArray(e))for(r=Math.min(t.length,e.length),s=[],i=0;i<r;i++)s[i]=t[i]-e[i];else Type.isNumber(t)&&Type.isNumber(e)?s=t-e:this._error("Operation - not defined on operands "+typeof t+" and "+typeof e);return s},neg:function(t){var e,i,r;if(t=Type.evalSlider(t),Interval.isInterval(t))r=Interval.negative(t);else if(Type.isArray(t))for(i=t.length,r=[],e=0;e<i;e++)r[e]=-t[e];else Type.isNumber(t)?r=-t:this._error("Unary operation - not defined on operand "+typeof t);return r},mul:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Type.isArray(t)&&Type.isNumber(e)&&(i=t,e=t=e),Interval.isInterval(t)||Interval.isInterval(e))s=Interval.mul(t,e);else if(Type.isArray(t)&&Type.isArray(e))r=Math.min(t.length,e.length),s=Mat.innerProduct(t,e,r);else if(Type.isNumber(t)&&Type.isArray(e))for(r=e.length,s=[],i=0;i<r;i++)s[i]=t*e[i];else Type.isNumber(t)&&Type.isNumber(e)?s=t*e:this._error("Operation * not defined on operands "+typeof t+" and "+typeof e);return s},div:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e))s=Interval.div(t,e);else if(Type.isArray(t)&&Type.isNumber(e))for(r=t.length,s=[],i=0;i<r;i++)s[i]=t[i]/e;else Type.isNumber(t)&&Type.isNumber(e)?s=t/e:this._error("Operation * not defined on operands "+typeof t+" and "+typeof e);return s},mod:function(t,e){var i,r,s;if(t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e))return Interval.fmod(t,e);if(Type.isArray(t)&&Type.isNumber(e))for(r=t.length,s=[],i=0;i<r;i++)s[i]=Mat.mod(t[i],e,!0);else Type.isNumber(t)&&Type.isNumber(e)?s=Mat.mod(t,e,!0):this._error("Operation * not defined on operands "+typeof t+" and "+typeof e);return s},pow:function(t,e){return t=Type.evalSlider(t),e=Type.evalSlider(e),Interval.isInterval(t)||Interval.isInterval(e)?Interval.pow(t,e):Mat.pow(t,e)},lt:function(t,e){return Interval.isInterval(t)||Interval.isInterval(e)?Interval.lt(t,e):t<e},leq:function(t,e){return Interval.isInterval(t)||Interval.isInterval(e)?Interval.leq(t,e):t<=e},gt:function(t,e){return Interval.isInterval(t)||Interval.isInterval(e)?Interval.gt(t,e):t>e},geq:function(t,e){return Interval.isInterval(t)||Interval.isInterval(e)?Intervalt.geq(t,e):t>=e},randint:function(t,e,i){return Type.exists(i)||(i=1),Math.round(Math.random()*(e-t)/i)*i+t},DDD:function(t){console.log("Dummy derivative function. This should never appear!")},ifthen:function(t,e,i){return t?e:i},del:function(t){"object"==typeof t&&JXG.exists(t.type)&&JXG.exists(t.elementClass)&&this.board.removeObject(t)},use:function(t){var e,i,r=!1;if("string"==typeof t){for(e in JXG.boards)if(JXG.boards.hasOwnProperty(e)&&JXG.boards[e].container===t){i=JXG.boards[e],r=!0;break}}else i=t,r=!0;r?(this.board=i,this.builtIn.$board=i,this.builtIn.$board.src="$jc$.board"):this._error("Board '"+t+"' not found!")},findSymbol:function(t,e){var i,r;for(r=-1===(e=Type.def(e,-1))?this.scope:this.scopes[e];null!==r;){for(i in r.locals)if(r.locals.hasOwnProperty(i)&&r.locals[i]===t)return[i,r];r=r.previous}return[]},importModule:function(t){return priv.modules[t.toLowerCase()]},defineBuiltIn:function(){var t=this,e={PI:Math.PI,EULER:Math.E,D:t.DDD,X:t.X,Y:t.Y,V:t.V,L:t.L,acosh:Mat.acosh,acot:Mat.acot,asinh:Mat.asinh,binomial:Mat.binomial,cbrt:Mat.cbrt,cosh:Mat.cosh,cot:Mat.cot,deg:Geometry.trueAngle,A:t.area,area:t.area,dist:t.dist,R:t.radius,radius:t.radius,erf:Mat.erf,erfc:Mat.erfc,erfi:Mat.erfi,factorial:Mat.factorial,gcd:Mat.gcd,lb:Mat.log2,lcm:Mat.lcm,ld:Mat.log2,lg:Mat.log10,ln:Math.log,log:Mat.log,log10:Mat.log10,log2:Mat.log2,ndtr:Mat.ndtr,ndtri:Mat.ndtri,nthroot:Mat.nthroot,pow:Mat.pow,rad:Geometry.rad,ratpow:Mat.ratpow,trunc:Type.trunc,sinh:Mat.sinh,randint:t.randint,IfThen:t.ifthen,import:t.importModule,use:t.use,remove:t.del,$:t.getElementById,getName:t.getName,name:t.getName,$board:t.board,$log:t.log};return e.rad.sc=Geometry,e.deg.sc=Geometry,e.factorial.sc=Mat,e.X.src="$jc$.X",e.Y.src="$jc$.Y",e.V.src="$jc$.V",e.L.src="$jc$.L",e.acosh.src="JXG.Math.acosh",e.acot.src="JXG.Math.acot",e.asinh.src="JXG.Math.asinh",e.binomial.src="JXG.Math.binomial",e.cbrt.src="JXG.Math.cbrt",e.cot.src="JXG.Math.cot",e.cosh.src="JXG.Math.cosh",e.deg.src="JXG.Math.Geometry.trueAngle",e.erf.src="JXG.Math.erf",e.erfc.src="JXG.Math.erfc",e.erfi.src="JXG.Math.erfi",e.A.src="$jc$.area",e.area.src="$jc$.area",e.dist.src="$jc$.dist",e.R.src="$jc$.radius",e.radius.src="$jc$.radius",e.factorial.src="JXG.Math.factorial",e.gcd.src="JXG.Math.gcd",e.lb.src="JXG.Math.log2",e.lcm.src="JXG.Math.lcm",e.ld.src="JXG.Math.log2",e.lg.src="JXG.Math.log10",e.ln.src="Math.log",e.log.src="JXG.Math.log",e.log10.src="JXG.Math.log10",e.log2.src="JXG.Math.log2",e.ndtr.src="JXG.Math.ndtr",e.ndtri.src="JXG.Math.ndtri",e.nthroot.src="JXG.Math.nthroot",e.pow.src="JXG.Math.pow",e.rad.src="JXG.Math.Geometry.rad",e.ratpow.src="JXG.Math.ratpow",e.trunc.src="JXG.trunc",e.sinh.src="JXG.Math.sinh",e.randint.src="$jc$.randint",e.import.src="$jc$.importModule",e.use.src="$jc$.use",e.remove.src="$jc$.del",e.IfThen.src="$jc$.ifthen",e.$.src="(function (n) { return $jc$.board.select(n); })",e.getName.src="$jc$.getName",e.name.src="$jc$.getName",e.$board&&(e.$board.src="$jc$.board"),e.$log.src="$jc$.log",e},getPossibleOperands:function(){var t,e,i,r,s,o,n,a,h,l,c,d,u,p,f=["E"],m=this.defineBuiltIn(),g=Math;for(u=function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())},p=function(t,e){var i=null;if("jc"===e)i=m[t];else{if("Math"!==e)return;i=g[t]}if(!f.includes(t))return JXG.isFunction(i)?{name:t,type:"function",numParams:i.length,origin:e}:JXG.isNumber(i)?{name:t,type:"constant",value:i,origin:e}:void(void 0!==i&&console.error("undefined type",i))},t=Object.getOwnPropertyNames(m).sort(u),e=Object.getOwnPropertyNames(g).sort(u),i=[],r=0,s=0;r<t.length||s<e.length;)t[r]===e[s]?(o=p(e[s],"Math"),JXG.exists(o)&&i.push(o),r++,s++):!JXG.exists(e[s])||t[r].toLowerCase().localeCompare(e[s].toLowerCase())<0?(o=p(t[r],"jc"),JXG.exists(o)&&i.push(o),r++):(o=p(e[s],"Math"),JXG.exists(o)&&i.push(o),s++);for(h=[],l=[],c=[],d={},n=i.length,r=0;r<n;r++){switch((a=i[r]).type){case"function":h.push(a.name),"jc"===a.origin&&l.push(a.name);break;case"constant":c.push(a.name)}d[a.name]=a}return{all:d,list:i,functions:h,functions_jessiecode:l,constants:c}},_debug:function(t){"object"==typeof console?console.log(t):Env.isBrowser&&document&&null!==document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=t+"<br />")},_error:function(t){var e=new Error("Error("+this.line+"): "+t);throw e.line=this.line,e},_warn:function(t){"object"==typeof console?console.log("Warning("+this.line+"): "+t):Env.isBrowser&&document&&null!==document.getElementById(this.warnLog)&&(document.getElementById(this.warnLog).innerHTML+="Warning("+this.line+"): "+t+"<br />")},_log:function(t){"object"!=typeof window&&"object"==typeof self&&self.postMessage?self.postMessage({type:"log",msg:"Log: "+t.toString()}):console.log("Log: ",arguments)}});var parser=function(){var t=function(t,e,i,r){for(i=i||{},r=t.length;r--;i[t[r]]=e);return i},e=[2,14],i=[1,13],r=[1,37],s=[1,14],o=[1,15],n=[1,21],a=[1,16],h=[1,17],l=[1,33],c=[1,18],d=[1,19],u=[1,12],p=[1,59],f=[1,60],m=[1,58],g=[1,46],b=[1,48],v=[1,49],y=[1,50],C=[1,51],_=[1,52],P=[1,53],E=[1,54],x=[1,45],S=[1,38],O=[1,39],w=[5,7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],T=[5,7,8,12,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],N=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],M=[2,48],A=[1,72],R=[10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,66,83,86],L=[1,78],k=[8,10,16,32,34,35,37,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],D=[1,82],B=[8,10,16,32,34,35,37,39,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],I=[1,83],Y=[1,84],j=[1,85],X=[8,10,16,32,34,35,37,39,41,42,43,50,51,53,54,55,57,64,65,66,83,86],F=[1,89],U=[1,90],J=[1,91],G=[1,92],z=[1,97],H=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,53,54,55,57,64,65,66,83,86],V=[1,103],$=[1,104],q=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,57,64,65,66,83,86],W=[1,105],Z=[1,106],Q=[1,107],K=[1,126],tt=[1,139],et=[83,86],it=[1,150],rt=[10,66,86],st=[8,10,16,20,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,82,83,86],ot=[1,167],nt=[10,86],at={trace:function(){},yy:{},symbols_:{error:2,Program:3,StatementList:4,EOF:5,IfStatement:6,IF:7,"(":8,Expression:9,")":10,Statement:11,ELSE:12,LoopStatement:13,WHILE:14,FOR:15,";":16,DO:17,UnaryStatement:18,USE:19,IDENTIFIER:20,DELETE:21,ReturnStatement:22,RETURN:23,EmptyStatement:24,StatementBlock:25,"{":26,"}":27,ExpressionStatement:28,AssignmentExpression:29,ConditionalExpression:30,LeftHandSideExpression:31,"=":32,LogicalORExpression:33,"?":34,":":35,LogicalANDExpression:36,"||":37,EqualityExpression:38,"&&":39,RelationalExpression:40,"==":41,"!=":42,"~=":43,AdditiveExpression:44,"<":45,">":46,"<=":47,">=":48,MultiplicativeExpression:49,"+":50,"-":51,UnaryExpression:52,"*":53,"/":54,"%":55,ExponentExpression:56,"^":57,"!":58,MemberExpression:59,CallExpression:60,PrimaryExpression:61,FunctionExpression:62,MapExpression:63,".":64,"[":65,"]":66,BasicLiteral:67,ObjectLiteral:68,ArrayLiteral:69,NullLiteral:70,BooleanLiteral:71,StringLiteral:72,NumberLiteral:73,NULL:74,TRUE:75,FALSE:76,STRING:77,NUMBER:78,NAN:79,INFINITY:80,ElementList:81,"<<":82,">>":83,PropertyList:84,Property:85,",":86,PropertyName:87,Arguments:88,AttributeList:89,Attribute:90,FUNCTION:91,ParameterDefinitionList:92,MAP:93,"->":94,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"IF",8:"(",10:")",12:"ELSE",14:"WHILE",15:"FOR",16:";",17:"DO",19:"USE",20:"IDENTIFIER",21:"DELETE",23:"RETURN",26:"{",27:"}",32:"=",34:"?",35:":",37:"||",39:"&&",41:"==",42:"!=",43:"~=",45:"<",46:">",47:"<=",48:">=",50:"+",51:"-",53:"*",54:"/",55:"%",57:"^",58:"!",64:".",65:"[",66:"]",74:"NULL",75:"TRUE",76:"FALSE",77:"STRING",78:"NUMBER",79:"NAN",80:"INFINITY",82:"<<",83:">>",86:",",91:"FUNCTION",93:"MAP",94:"->"},productions_:[0,[3,2],[6,5],[6,7],[13,5],[13,9],[13,7],[18,2],[18,2],[22,2],[22,3],[24,1],[25,3],[4,2],[4,0],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[28,2],[9,1],[29,1],[29,3],[30,1],[30,5],[33,1],[33,3],[36,1],[36,3],[38,1],[38,3],[38,3],[38,3],[40,1],[40,3],[40,3],[40,3],[40,3],[44,1],[44,3],[44,3],[49,1],[49,3],[49,3],[49,3],[56,1],[56,3],[52,1],[52,2],[52,2],[52,2],[31,1],[31,1],[59,1],[59,1],[59,1],[59,3],[59,4],[61,1],[61,1],[61,1],[61,1],[61,3],[67,1],[67,1],[67,1],[67,1],[70,1],[71,1],[71,1],[72,1],[73,1],[73,1],[73,1],[69,2],[69,3],[68,2],[68,3],[84,1],[84,3],[85,3],[87,1],[87,1],[87,1],[60,2],[60,3],[60,2],[60,4],[60,3],[88,2],[88,3],[89,1],[89,3],[90,1],[90,1],[81,1],[81,3],[62,4],[62,5],[63,5],[63,6],[92,1],[92,3]],performAction:function(t,e,i,r,s,o,n){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=ht.createNode(lt(n[a-4]),"node_op","op_if",o[a-2],o[a]);break;case 3:this.$=ht.createNode(lt(n[a-6]),"node_op","op_if_else",o[a-4],o[a-2],o[a]);break;case 4:this.$=ht.createNode(lt(n[a-4]),"node_op","op_while",o[a-2],o[a]);break;case 5:this.$=ht.createNode(lt(n[a-8]),"node_op","op_for",o[a-6],o[a-4],o[a-2],o[a]);break;case 6:this.$=ht.createNode(lt(n[a-6]),"node_op","op_do",o[a-5],o[a-2]);break;case 7:this.$=ht.createNode(lt(n[a-1]),"node_op","op_use",o[a]);break;case 8:this.$=ht.createNode(lt(n[a-1]),"node_op","op_delete",o[a]);break;case 9:this.$=ht.createNode(lt(n[a-1]),"node_op","op_return",void 0);break;case 10:this.$=ht.createNode(lt(n[a-2]),"node_op","op_return",o[a-1]);break;case 11:case 14:this.$=ht.createNode(lt(n[a]),"node_op","op_none");break;case 12:this.$=o[a-1],this.$.needsBrackets=!0;break;case 13:this.$=ht.createNode(lt(n[a-1]),"node_op","op_none",o[a-1],o[a]);break;case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 23:case 24:case 26:case 28:case 30:case 32:case 36:case 41:case 44:case 48:case 50:case 52:case 54:case 55:case 56:case 58:case 62:case 81:case 84:case 85:case 86:this.$=o[a];break;case 22:case 65:case 93:this.$=o[a-1];break;case 25:this.$=ht.createNode(lt(n[a-2]),"node_op","op_assign",o[a-2],o[a]),this.$.isMath=!1;break;case 27:this.$=ht.createNode(lt(n[a-4]),"node_op","op_conditional",o[a-4],o[a-2],o[a]),this.$.isMath=!1;break;case 29:this.$=ht.createNode(lt(n[a-2]),"node_op","op_or",o[a-2],o[a]),this.$.isMath=!1;break;case 31:this.$=ht.createNode(lt(n[a-2]),"node_op","op_and",o[a-2],o[a]),this.$.isMath=!1;break;case 33:this.$=ht.createNode(lt(n[a-2]),"node_op","op_eq",o[a-2],o[a]),this.$.isMath=!1;break;case 34:this.$=ht.createNode(lt(n[a-2]),"node_op","op_neq",o[a-2],o[a]),this.$.isMath=!1;break;case 35:this.$=ht.createNode(lt(n[a-2]),"node_op","op_approx",o[a-2],o[a]),this.$.isMath=!1;break;case 37:this.$=ht.createNode(lt(n[a-2]),"node_op","op_lt",o[a-2],o[a]),this.$.isMath=!1;break;case 38:this.$=ht.createNode(lt(n[a-2]),"node_op","op_gt",o[a-2],o[a]),this.$.isMath=!1;break;case 39:this.$=ht.createNode(lt(n[a-2]),"node_op","op_leq",o[a-2],o[a]),this.$.isMath=!1;break;case 40:this.$=ht.createNode(lt(n[a-2]),"node_op","op_geq",o[a-2],o[a]),this.$.isMath=!1;break;case 42:this.$=ht.createNode(lt(n[a-2]),"node_op","op_add",o[a-2],o[a]),this.$.isMath=!0;break;case 43:this.$=ht.createNode(lt(n[a-2]),"node_op","op_sub",o[a-2],o[a]),this.$.isMath=!0;break;case 45:this.$=ht.createNode(lt(n[a-2]),"node_op","op_mul",o[a-2],o[a]),this.$.isMath=!0;break;case 46:this.$=ht.createNode(lt(n[a-2]),"node_op","op_div",o[a-2],o[a]),this.$.isMath=!0;break;case 47:this.$=ht.createNode(lt(n[a-2]),"node_op","op_mod",o[a-2],o[a]),this.$.isMath=!0;break;case 49:this.$=ht.createNode(lt(n[a-2]),"node_op","op_exp",o[a-2],o[a]),this.$.isMath=!0;break;case 51:this.$=ht.createNode(lt(n[a-1]),"node_op","op_not",o[a]),this.$.isMath=!1;break;case 53:this.$=ht.createNode(lt(n[a-1]),"node_op","op_neg",o[a]),this.$.isMath=!0;break;case 57:case 63:case 64:case 66:case 67:case 68:case 97:this.$=o[a],this.$.isMath=!1;break;case 59:case 91:this.$=ht.createNode(lt(n[a-2]),"node_op","op_property",o[a-2],o[a]),this.$.isMath=!0;break;case 60:case 90:this.$=ht.createNode(lt(n[a-3]),"node_op","op_extvalue",o[a-3],o[a-1]),this.$.isMath=!0;break;case 61:this.$=ht.createNode(lt(n[a]),"node_var",o[a]);break;case 69:this.$=o[a],this.$.isMath=!0;break;case 70:this.$=ht.createNode(lt(n[a]),"node_const",null);break;case 71:this.$=ht.createNode(lt(n[a]),"node_const_bool",!0);break;case 72:this.$=ht.createNode(lt(n[a]),"node_const_bool",!1);break;case 73:this.$=ht.createNode(lt(n[a]),"node_str",o[a].substring(1,o[a].length-1));break;case 74:this.$=ht.createNode(lt(n[a]),"node_const",parseFloat(o[a]));break;case 75:this.$=ht.createNode(lt(n[a]),"node_const",NaN);break;case 76:this.$=ht.createNode(lt(n[a]),"node_const",1/0);break;case 77:this.$=ht.createNode(lt(n[a-1]),"node_op","op_array",[]);break;case 78:this.$=ht.createNode(lt(n[a-2]),"node_op","op_array",o[a-1]);break;case 79:this.$=ht.createNode(lt(n[a-1]),"node_op","op_emptyobject",{}),this.$.needsBrackets=!0;break;case 80:this.$=ht.createNode(lt(n[a-2]),"node_op","op_proplst_val",o[a-1]),this.$.needsBrackets=!0;break;case 82:this.$=ht.createNode(lt(n[a-2]),"node_op","op_proplst",o[a-2],o[a]);break;case 83:this.$=ht.createNode(lt(n[a-2]),"node_op","op_prop",o[a-2],o[a]);break;case 87:case 89:this.$=ht.createNode(lt(n[a-1]),"node_op","op_execfun",o[a-1],o[a]),this.$.isMath=!0;break;case 88:this.$=ht.createNode(lt(n[a-2]),"node_op","op_execfun",o[a-2],o[a-1],o[a],!0),this.$.isMath=!1;break;case 92:this.$=[];break;case 94:case 98:case 104:this.$=[o[a]];break;case 95:case 99:case 105:this.$=o[a-2].concat(o[a]);break;case 96:this.$=ht.createNode(lt(n[a]),"node_var",o[a]),this.$.isMath=!0;break;case 100:this.$=ht.createNode(lt(n[a-3]),"node_op","op_function",[],o[a]),this.$.isMath=!1;break;case 101:this.$=ht.createNode(lt(n[a-4]),"node_op","op_function",o[a-2],o[a]),this.$.isMath=!1;break;case 102:this.$=ht.createNode(lt(n[a-4]),"node_op","op_map",[],o[a]);break;case 103:this.$=ht.createNode(lt(n[a-5]),"node_op","op_map",o[a-3],o[a])}},table:[t([5,7,8,14,15,16,17,19,20,21,23,26,50,51,58,65,74,75,76,77,78,79,80,82,91,93],e,{3:1,4:2}),{1:[3]},{5:[1,3],6:6,7:i,8:r,9:20,11:4,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{1:[2,1]},t(w,[2,13]),t(T,[2,15]),t(T,[2,16]),t(T,[2,17]),t(T,[2,18]),t(T,[2,19]),t(T,[2,20]),t(T,[2,21]),t([7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],e,{4:61}),{8:[1,62]},{8:[1,63]},{8:[1,64]},{6:6,7:i,8:r,9:20,11:65,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{20:[1,66]},{20:[1,67]},{8:r,9:69,16:[1,68],20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{16:[1,70]},t(T,[2,11]),t(N,[2,23]),t(N,[2,24]),t([8,10,16,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],M,{32:[1,71],57:A}),t([8,10,16,32,35,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],[2,26],{34:[1,73],37:[1,74]}),t(R,[2,54],{88:77,8:L,64:[1,75],65:[1,76]}),t(R,[2,55],{88:79,8:L,64:[1,81],65:[1,80]}),t(k,[2,28],{39:D}),t(N,[2,56]),t(N,[2,57]),t(N,[2,58]),t(B,[2,30],{41:I,42:Y,43:j}),t(N,[2,61]),t(N,[2,62]),t(N,[2,63]),t(N,[2,64]),{8:r,9:86,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:[1,87]},{8:[1,88]},t(X,[2,32],{45:F,46:U,47:J,48:G}),t(N,[2,66]),t(N,[2,67]),t(N,[2,68]),t(N,[2,69]),{20:z,72:98,73:99,77:C,78:_,79:P,80:E,83:[1,93],84:94,85:95,87:96},{8:r,20:l,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,66:[1,100],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,81:101,82:x,91:S,93:O},t(H,[2,36],{50:V,51:$}),t(N,[2,70]),t(N,[2,71]),t(N,[2,72]),t(N,[2,73]),t(N,[2,74]),t(N,[2,75]),t(N,[2,76]),t(q,[2,41],{53:W,54:Z,55:Q}),t(N,[2,44]),t(N,[2,50]),{8:r,20:l,31:109,50:p,51:f,52:108,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:110,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:111,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{6:6,7:i,8:r,9:20,11:4,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,27:[1,112],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:113,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:114,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:115,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{14:[1,116]},t(T,[2,7]),t(T,[2,8]),t(T,[2,9]),{16:[1,117]},t(T,[2,22]),{8:r,20:l,29:118,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:119,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,29:120,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,36:121,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{20:[1,122]},{8:r,9:123,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,87],{89:124,90:125,68:127,20:K,82:x}),{8:r,10:[1,128],20:l,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,81:129,82:x,91:S,93:O},t(N,[2,89]),{8:r,9:130,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{20:[1,131]},{8:r,20:l,31:109,38:132,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,40:133,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,40:134,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,40:135,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{10:[1,136]},{10:[1,137],20:tt,92:138},{10:[1,140],20:tt,92:141},{8:r,20:l,31:109,44:142,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,44:143,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,44:144,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,44:145,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,79]),{83:[1,146],86:[1,147]},t(et,[2,81]),{35:[1,148]},{35:[2,84]},{35:[2,85]},{35:[2,86]},t(N,[2,77]),{66:[1,149],86:it},t(rt,[2,98]),{8:r,20:l,31:109,49:151,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,49:152,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:153,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:154,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,31:109,50:p,51:f,52:155,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,51]),t([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],M,{57:A}),t(N,[2,52]),t(N,[2,53]),t([5,7,8,10,12,14,15,16,17,19,20,21,23,26,27,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,58,64,65,66,74,75,76,77,78,79,80,82,83,86,91,93],[2,12]),{10:[1,156]},{10:[1,157]},{16:[1,158]},{8:[1,159]},t(T,[2,10]),t(N,[2,25]),t(N,[2,49]),{35:[1,160]},t(k,[2,29],{39:D}),t(N,[2,59]),{66:[1,161]},t([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83],[2,88],{86:[1,162]}),t(N,[2,94]),t(N,[2,96]),t(N,[2,97]),t(st,[2,92]),{10:[1,163],86:it},{66:[1,164]},t(N,[2,91]),t(B,[2,31],{41:I,42:Y,43:j}),t(X,[2,33],{45:F,46:U,47:J,48:G}),t(X,[2,34],{45:F,46:U,47:J,48:G}),t(X,[2,35],{45:F,46:U,47:J,48:G}),t(N,[2,65]),{25:165,26:u},{10:[1,166],86:ot},t(nt,[2,104]),{94:[1,168]},{10:[1,169],86:ot},t(H,[2,37],{50:V,51:$}),t(H,[2,38],{50:V,51:$}),t(H,[2,39],{50:V,51:$}),t(H,[2,40],{50:V,51:$}),t(N,[2,80]),{20:z,72:98,73:99,77:C,78:_,79:P,80:E,85:170,87:96},{8:r,20:l,29:171,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,78]),{8:r,20:l,29:172,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(q,[2,42],{53:W,54:Z,55:Q}),t(q,[2,43],{53:W,54:Z,55:Q}),t(N,[2,45]),t(N,[2,46]),t(N,[2,47]),{6:6,7:i,8:r,9:20,11:173,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{6:6,7:i,8:r,9:20,11:174,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:175,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:176,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,20:l,29:177,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(N,[2,60]),{20:K,68:127,82:x,90:178},t(st,[2,93]),t(N,[2,90]),t(N,[2,100]),{25:179,26:u},{20:[1,180]},{8:r,9:181,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{94:[1,182]},t(et,[2,82]),t(et,[2,83]),t(rt,[2,99]),t(w,[2,2],{12:[1,183]}),t(T,[2,4]),{16:[1,184]},{10:[1,185]},t(N,[2,27]),t(N,[2,95]),t(N,[2,101]),t(nt,[2,105]),t(N,[2,102]),{8:r,9:186,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{6:6,7:i,8:r,9:20,11:187,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{8:r,9:188,20:l,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},{16:[1,189]},t(N,[2,103]),t(T,[2,3]),{10:[1,190]},t(T,[2,6]),{6:6,7:i,8:r,9:20,11:191,13:7,14:s,15:o,16:n,17:a,18:8,19:h,20:l,21:c,22:9,23:d,24:11,25:5,26:u,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:m,59:26,60:27,61:29,62:30,63:31,65:g,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:b,75:v,76:y,77:C,78:_,79:P,80:E,82:x,91:S,93:O},t(T,[2,5])],defaultActions:{3:[2,1],97:[2,84],98:[2,85],99:[2,86]},parseError:function(t,e){if(!e.recoverable){var i=new Error(t);throw i.hash=e,i}this.trace(t)},parse:function(t){var e=this,i=[0],r=[null],s=[],o=this.table,n="",a=0,h=0,l=0,c=2,d=1,u=s.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(f.yy[m]=this.yy[m]);p.setInput(t,f.yy),f.yy.lexer=p,f.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var g=p.yylloc;s.push(g);var b=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var v,y,C,_,P,E,x,S,O,w=function(){var t;return"number"!=typeof(t=p.lex()||d)&&(t=e.symbols_[t]||t),t},T={};;){if(C=i[i.length-1],this.defaultActions[C]?_=this.defaultActions[C]:(null==v&&(v=w()),_=o[C]&&o[C][v]),void 0===_||!_.length||!_[0]){var N="";for(E in O=[],o[C])this.terminals_[E]&&E>c&&O.push("'"+this.terminals_[E]+"'");N=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(a+1)+": Unexpected "+(v==d?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(N,{text:p.match,token:this.terminals_[v]||v,line:p.yylineno,loc:g,expected:O})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+C+", token: "+v);switch(_[0]){case 1:i.push(v),r.push(p.yytext),s.push(p.yylloc),i.push(_[1]),v=null,y?(v=y,y=null):(h=p.yyleng,n=p.yytext,a=p.yylineno,g=p.yylloc,l>0&&l--);break;case 2:if(x=this.productions_[_[1]][1],T.$=r[r.length-x],T._$={first_line:s[s.length-(x||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(x||1)].first_column,last_column:s[s.length-1].last_column},b&&(T._$.range=[s[s.length-(x||1)].range[0],s[s.length-1].range[1]]),void 0!==(P=this.performAction.apply(T,[n,h,a,f.yy,_[1],r,s].concat(u))))return P;x&&(i=i.slice(0,-1*x*2),r=r.slice(0,-1*x),s=s.slice(0,-1*x)),i.push(this.productions_[_[1]][0]),r.push(T.$),s.push(T._$),S=o[i[i.length-2]][i[i.length-1]],i.push(S);break;case 3:return!0}}return!0}},ht={node:function(t,e,i){return{type:t,value:e,children:i}},createNode:function(t,e,i,r){var s,o=this.node(e,i,[]);for(s=3;s<arguments.length;s++)o.children.push(arguments[s]);return o.line=t[0],o.col=t[1],o.eline=t[2],o.ecol=t[3],o}},lt=function(t){return[t.first_line,t.first_column,t.last_line,t.last_column]},ct=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===r.length?this.yylloc.first_column:0)+r[r.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,r,s;if(this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i)return i;if(this._backtrack){for(var o in s)this[o]=s[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length;o++)if((i=this._input.match(this.rules[s[o]]))&&(!e||i[0].length>e[0].length)){if(e=i,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(i,s[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,s[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,i,r){switch(i){case 0:case 5:case 6:break;case 1:case 2:return 78;case 3:case 4:return 77;case 7:return 7;case 8:return 12;case 9:return 14;case 10:return 17;case 11:return 15;case 12:return 91;case 13:return 93;case 14:return 19;case 15:return 23;case 16:return 21;case 17:return 75;case 18:return 76;case 19:return 74;case 20:return 80;case 21:case 22:return 94;case 23:return 82;case 24:return 83;case 25:return 26;case 26:return 27;case 27:return 16;case 28:return"#";case 29:return 34;case 30:return 35;case 31:return 79;case 32:return 64;case 33:return 65;case 34:return 66;case 35:return 8;case 36:return 10;case 37:return 58;case 38:return 57;case 39:return 53;case 40:return 54;case 41:return 55;case 42:return 50;case 43:return 51;case 44:return 47;case 45:return 45;case 46:return 48;case 47:return 46;case 48:return 41;case 49:return 43;case 50:return 42;case 51:return 39;case 52:return 37;case 53:return 32;case 54:return 86;case 55:return 5;case 56:return 20;case 57:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:[0-9]+\.[0-9]*|[0-9]*\.[0-9]+\b)/,/^(?:[0-9]+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:\/\/.*)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:if\b)/,/^(?:else\b)/,/^(?:while\b)/,/^(?:do\b)/,/^(?:for\b)/,/^(?:function\b)/,/^(?:map\b)/,/^(?:use\b)/,/^(?:return\b)/,/^(?:delete\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:Infinity\b)/,/^(?:->)/,/^(?:=>)/,/^(?:<<)/,/^(?:>>)/,/^(?:\{)/,/^(?:\})/,/^(?:;)/,/^(?:#)/,/^(?:\?)/,/^(?::)/,/^(?:NaN\b)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:!)/,/^(?:\^)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:\+)/,/^(?:-)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:==)/,/^(?:~=)/,/^(?:!=)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:=)/,/^(?:,)/,/^(?:$)/,/^(?:[A-Za-z_\$][A-Za-z0-9_]*)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57],inclusive:!0}}};return t}();function dt(){this.yy={}}return at.lexer=ct,dt.prototype=at,at.Parser=dt,new dt}();return void 0!==require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var e=require("fs").readFileSync(require("path").normalize(t[1]),"utf8");return exports.parser.parse(e)}, true&&require.main===module&&exports.main(process.argv.slice(1))),parser.yy.parseError=parser.parseError,JXG.JessieCode})),define("base/composition",["jxg","utils/type"],(function(t,e){"use strict";return t.Composition=function(t){var i,r=this,s=["setAttribute","setParents","prepareUpdate","updateRenderer","update","fullUpdate","highlight","noHighlight"],o=function(t){return function(){var i;for(i in r.elements)r.elements.hasOwnProperty(i)&&e.exists(r.elements[i][t])&&r.elements[i][t].apply(r.elements[i],arguments);return r}};for(i=0;i<s.length;i++)this[s[i]]=o(s[i]);for(i in this.elements={},this.objects=this.elements,this.elementsByName={},this.objectsList=[],this.groups={},this.methodMap={setAttribute:"setAttribute",setProperty:"setAttribute",setParents:"setParents",add:"add",remove:"remove",select:"select"},t)t.hasOwnProperty(i)&&this.add(i,t[i]);this.dump=!0,this.subs={}},t.extend(t.Composition.prototype,{add:function(t,i){return!(e.exists(this[t])||!e.exists(i))&&(e.exists(i.id)?this.elements[i.id]=i:this.elements[t]=i,e.exists(i.name)&&(this.elementsByName[i.name]=i),i.on("attribute:name",this.nameListener,this),this.objectsList.push(i),this[t]=i,this.methodMap[t]=i,!0)},remove:function(t){var e,i=!1;for(e in this.elements)if(this.elements.hasOwnProperty(e)&&this.elements[e].id===this[t].id){i=!0;break}return i&&(delete this.elements[this[t].id],delete this[t]),i},nameListener:function(t,e,i){delete this.elementsByName[t],this.elementsByName[e]=i},select:function(i){return e.exists(t.Board)?t.Board.prototype.select.call(this,i):new t.Composition},getParents:function(){return this.parents},getType:function(){return this.elType},getAttributes:function(){var t,e={};for(t in this.subs)this.subs.hasOwnProperty(t)&&(e[t]=this.subs[t].visProp);return this.attr}}),t.Composition})),define("base/board",["jxg","base/constants","base/coords","options","math/numerics","math/math","math/geometry","math/complex","math/statistics","parser/jessiecode","utils/color","utils/type","utils/event","utils/env","base/composition"],(function(t,e,i,r,s,o,n,a,h,l,c,d,u,p,f){"use strict";return t.Board=function(i,s,o,n,a,h,c,f,m,g,b){if(this.BOARD_MODE_NONE=0,this.BOARD_MODE_DRAG=1,this.BOARD_MODE_MOVE_ORIGIN=2,this.BOARD_MODE_ZOOM=17,this.BOARD_QUALITY_LOW=1,this.BOARD_QUALITY_HIGH=2,d.exists(b.document)&&!1!==b.document?this.document=b.document:void 0!==document&&d.isObject(document)&&(this.document=document),this.container=i,this.containerObj=p.isBrowser?this.document.getElementById(this.container):null,p.isBrowser&&"no"!==s.type&&null===this.containerObj)throw new Error("\nJSXGraph: HTML container element '"+i+"' not found.");this.renderer=s,this.grids=[],this.options=d.deepCopy(r),this.attr=b,this.dimension=2,this.jc=new l,this.jc.use(this),this.origin={},this.origin.usrCoords=[1,0,0],this.origin.scrCoords=[1,n[0],n[1]],this.zoomX=a,this.zoomY=h,this.unitX=c*this.zoomX,this.unitY=f*this.zoomY,this.keepaspectratio=!1,this.canvasWidth=m,this.canvasHeight=g,d.exists(o)&&""!==o&&p.isBrowser&&!d.exists(this.document.getElementById(o))?this.id=o:this.id=this.generateId(),u.eventify(this),this.hooks=[],this.dependentBoards=[],this.inUpdate=!1,this.objects={},this.objectsList=[],this.groups={},this.animationObjects={},this.highlightedObjects={},this.numObjects=0,this.elementsByName={},this.mode=this.BOARD_MODE_NONE,this.updateQuality=this.BOARD_QUALITY_HIGH,this.isSuspendedRedraw=!1,this.calculateSnapSizes(),this.drag_dx=0,this.drag_dy=0,this.drag_position=[0,0],this.mouse={},this.touches=[],this.xmlString="",this.cPos=[],this.touchMoveLast=0,this.touchMoveLastId=1/0,this.positionAccessLast=0,this.downObjects=[],this.attr.showcopyright&&this.renderer.displayCopyright(e.licenseText,parseInt(this.options.text.fontSize,10)),this.needsFullUpdate=!1,this.reducedUpdate=!1,this.currentCBDef="none",this.geonextCompatibilityMode=!1,this.options.text.useASCIIMathML&&translateASCIIMath?init():this.options.text.useASCIIMathML=!1,this.hasMouseHandlers=!1,this.hasTouchHandlers=!1,this.hasPointerHandlers=!1,this.hasMouseUp=!1,this.hasTouchEnd=!1,this.hasPointerUp=!1,this._drag_offset=[0,0],this._inputDevice="mouse",this._board_touches=[],this.selectingMode=!1,this.isSelecting=!1,this._isScrolling=!1,this._isResizing=!1,this.selectingBox=[[0,0],[0,0]],this.mathLib=Math,this.mathLibJXG=t.Math,this.attr.registerevents&&this.addEventHandlers(),this.methodMap={update:"update",fullUpdate:"fullUpdate",on:"on",off:"off",trigger:"trigger",setView:"setBoundingBox",setBoundingBox:"setBoundingBox",migratePoint:"migratePoint",colorblind:"emulateColorblindness",suspendUpdate:"suspendUpdate",unsuspendUpdate:"unsuspendUpdate",clearTraces:"clearTraces",left:"clickLeftArrow",right:"clickRightArrow",up:"clickUpArrow",down:"clickDownArrow",zoomIn:"zoomIn",zoomOut:"zoomOut",zoom100:"zoom100",zoomElements:"zoomElements",remove:"removeObject",removeObject:"removeObject"}},t.extend(t.Board.prototype,{generateName:function(t){var i,r,s=this.attr.maxnamelength,o="",n="",a=[],h="";if(t.type===e.OBJECT_TYPE_TICKS)return"";for(i=d.isPoint(t)?["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:t.type===e.OBJECT_TYPE_ANGLE?["","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;"]:["","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],d.isPoint(t)||t.elementClass===e.OBJECT_CLASS_LINE||t.type===e.OBJECT_TYPE_ANGLE||(o=t.type===e.OBJECT_TYPE_POLYGON?"P_{":t.elementClass===e.OBJECT_CLASS_CIRCLE?"k_{":t.elementClass===e.OBJECT_CLASS_TEXT?"t_{":"s_{",n="}"),r=0;r<s;r++)a[r]=0;for(;a[s-1]<i.length;){for(a[0]=1;a[0]<i.length;a[0]++){for(h=o,r=s;r>0;r--)h+=i[a[r-1]];if(!d.exists(this.elementsByName[h+n]))return h+n}for(a[0]=i.length,r=1;r<s;r++)a[r-1]===i.length&&(a[r-1]=1,a[r]+=1)}return""},generateId:function(){for(var e=1;d.exists(t.boards["jxgBoard"+e]);)e=Math.round(65535*Math.random());return"jxgBoard"+e},setId:function(t,e){var i,r=this.numObjects,s=t.id;if(this.numObjects+=1,""===s||!d.exists(s))for(s=this.id+e+r;d.exists(this.objects[s]);)i=Math.round(65535*Math.random()),s=this.id+e+r+"-"+i;return t.id=s,this.objects[s]=t,t._pos=this.objectsList.length,this.objectsList[this.objectsList.length]=t,s},finalizeAdding:function(t){!1===d.evaluate(t.visProp.visible)&&this.renderer.display(t,!1)},finalizeLabel:function(t){t.hasLabel&&!d.evaluate(t.label.visProp.islabel)&&!1===d.evaluate(t.label.visProp.visible)&&this.renderer.display(t.label,!1)},checkFrameRate:function(t){var e=!1,i=(new Date).getTime();return d.exists(t.pointerId)&&this.touchMoveLastId!==t.pointerId&&(e=!0,this.touchMoveLastId=t.pointerId),!e&&(i-this.touchMoveLast)*this.attr.maxframerate>=1e3&&(e=!0),e&&(this.touchMoveLast=i),e},getCoordsTopLeftCorner:function(){var t,e,i,r,s,o=this.document.ownerDocument||this.document,n=o.documentElement||this.document.body.parentNode,a=o.body,h=this.containerObj;if(this.cPos.length>0&&(this.mode===this.BOARD_MODE_DRAG||this.mode===this.BOARD_MODE_MOVE_ORIGIN||(new Date).getTime()-this.positionAccessLast<1e3))return this.cPos;if(this.positionAccessLast=(new Date).getTime(),h.getBoundingClientRect){for(i=h.getBoundingClientRect(),r=1,s=h;s&&d.exists(s.parentNode);)d.exists(s.style)&&d.exists(s.style.zoom)&&""!==s.style.zoom&&(r*=parseFloat(s.style.zoom)),s=s.parentNode;return(t=[i.left*r,i.top*r])[0]+=p.getProp(h,"border-left-width"),t[1]+=p.getProp(h,"border-top-width"),"vml"!==this.renderer.type&&(t[0]+=p.getProp(h,"padding-left"),t[1]+=p.getProp(h,"padding-top")),this.cPos=t.slice(),this.cPos}return t=p.getOffset(h),e=this.document.documentElement.ownerDocument,!this.containerObj.currentStyle&&e.defaultView&&(t[0]+=p.getProp(n,"margin-left"),t[1]+=p.getProp(n,"margin-top"),t[0]+=p.getProp(n,"border-left-width"),t[1]+=p.getProp(n,"border-top-width"),t[0]+=p.getProp(n,"padding-left"),t[1]+=p.getProp(n,"padding-top")),a&&(t[0]+=p.getProp(a,"left"),t[1]+=p.getProp(a,"top")),"object"==typeof google&&google.translate&&(t[0]+=10,t[1]+=25),t[0]+=p.getProp(h,"border-left-width"),t[1]+=p.getProp(h,"border-top-width"),"vml"!==this.renderer.type&&(t[0]+=p.getProp(h,"padding-left"),t[1]+=p.getProp(h,"padding-top")),t[0]+=this.attr.offsetx,t[1]+=this.attr.offsety,this.cPos=t.slice(),this.cPos},getMousePosition:function(t,e){var i,r,s=this.getCoordsTopLeftCorner();return i=p.getPosition(t,e,this.document),d.exists(this.cssTransMat)||this.updateCSSTransforms(),r=[1,i[0]-s[0],i[1]-s[1]],(r=o.matVecMult(this.cssTransMat,r))[1]/=r[0],r[2]/=r[0],[r[1],r[2]]},initMoveOrigin:function(t,e){this.drag_dx=t-this.origin.scrCoords[1],this.drag_dy=e-this.origin.scrCoords[2],this.mode=this.BOARD_MODE_MOVE_ORIGIN,this.updateQuality=this.BOARD_QUALITY_LOW},initMoveObject:function(t,i,r,s){var o,n,a,l=[],c=[],u=this.objectsList.length,p={visProp:{layer:-1e4}};for(n=0;n<u;n++)a=(o=this.objectsList[n]).hasPoint&&o.hasPoint(t,i),o.visPropCalc.visible&&a&&(o.triggerEventHandlers([s+"down","down"],[r]),this.downObjects.push(o)),a&&o.isDraggable&&o.visPropCalc.visible&&(this.geonextCompatibilityMode&&(d.isPoint(o)||o.elementClass===e.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!d.evaluate(o.visProp.fixed)&&(o.visProp.layer>p.visProp.layer||o.visProp.layer===p.visProp.layer&&o.lastDragTime.getTime()>=p.lastDragTime.getTime())&&(this.attr.ignorelabels&&d.exists(p.label)&&o===p.label||(p=o,l.push(p),d.exists(p.coords)?c.push(h.subtract(p.coords.scrCoords.slice(1),[t,i])):c.push([0,0])));return this.attr.drag.enabled&&l.length>0&&(this.mode=this.BOARD_MODE_DRAG),this.attr.takefirst?(l.length=1,this._drag_offset=c[0]):(l=l.slice(-1),this._drag_offset=c[c.length-1]),this._drag_offset||(this._drag_offset=[0,0]),"svg"===this.renderer.type&&d.exists(l[0])&&d.evaluate(l[0].visProp.dragtotopoflayer)&&1===l.length&&d.exists(l[0].rendNode)&&l[0].rendNode.parentNode.appendChild(l[0].rendNode),this.previousRotation=0,this.previousScale=1,l.length>=1&&(l[0].highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[r,l[0]])),l},moveObject:function(t,r,s,o,n){var a,l,c,u=new i(e.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(t,r),this);s&&s.obj&&((a=s.obj).coords&&(l=a.coords.scrCoords.slice()),this.drag_position=[u.scrCoords[1],u.scrCoords[2]],this.drag_position=h.add(this.drag_position,this._drag_offset),d.exists(a.coords)?a.setPositionDirectly(e.COORDS_BY_SCREEN,this.drag_position):(this.displayInfobox(!1),isNaN(s.targets[0].Xprev+s.targets[0].Yprev)||a.setPositionDirectly(e.COORDS_BY_SCREEN,[u.scrCoords[1],u.scrCoords[2]],[s.targets[0].Xprev,s.targets[0].Yprev]),s.targets[0].Xprev=u.scrCoords[1],s.targets[0].Yprev=u.scrCoords[2]),d.exists(a.coords)&&(a.prepareUpdate().update(!1).updateRenderer(),this.updateInfobox(a),a.prepareUpdate().update(!0).updateRenderer()),a.coords&&(c=a.coords.scrCoords),a.coords&&l[1]===c[1]&&l[2]===c[2]||(a.triggerEventHandlers([n+"drag","drag"],[o]),this.update()),a.highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[o,a]),a.lastDragTime=new Date)},twoFingerMove:function(t,i,r){var s;d.exists(t)&&d.exists(t.obj)&&((s=t.obj).elementClass===e.OBJECT_CLASS_LINE||s.type===e.OBJECT_TYPE_POLYGON?this.twoFingerTouchObject(t.targets,s,i):s.elementClass===e.OBJECT_CLASS_CIRCLE&&this.twoFingerTouchCircle(t.targets,s,i),r&&s.triggerEventHandlers(["touchdrag","drag"],[r]))},twoFingerTouchObject:function(t,r,s){var a,h,l,c,u,p,f,m,g,b,v,y,C,_,P,E,x;if(d.exists(t[0])&&d.exists(t[1])&&!isNaN(t[0].Xprev+t[0].Yprev+t[1].Xprev+t[1].Yprev)){if(s===t[0].num?(P=t[1],E=t[0]):(P=t[0],E=t[1]),x=new i(e.COORDS_BY_SCREEN,[P.Xprev,P.Yprev],this).usrCoords,h=new i(e.COORDS_BY_SCREEN,[E.Xprev,E.Yprev],this).usrCoords,a=new i(e.COORDS_BY_SCREEN,[E.X,E.Y],this).usrCoords,c=o.crossProduct(x,h),l=o.crossProduct(x,a),f=o.crossProduct(c,l),Math.abs(f[0])<o.eps)return;if(p=n.rad(h.slice(1),x.slice(1),a.slice(1)),(m=this.create("transform",[p,[x[1],x[2]]],{type:"rotate"})).update(),d.evaluate(r.visProp.scalable)&&(u=n.distance(a,x)/n.distance(h,x),g=this.create("transform",[-x[1],-x[2]],{type:"translate"}),b=this.create("transform",[u,u],{type:"scale"}),v=this.create("transform",[x[1],x[2]],{type:"translate"}),m.melt(g).melt(b).melt(v)),r.elementClass===e.OBJECT_CLASS_LINE)y=[],r.point1.draggable()&&y.push(r.point1),r.point2.draggable()&&y.push(r.point2),m.applyOnce(y);else if(r.type===e.OBJECT_TYPE_POLYGON){for(y=[],_=r.vertices.length-1,C=0;C<_;++C)r.vertices[C].draggable()&&y.push(r.vertices[C]);m.applyOnce(y)}this.update(),r.highlight(!0)}},twoFingerTouchCircle:function(t,r,s){var o,a,h,l,c,u,p,f,m,g,b;"pointCircle"!==r.method&&"pointLine"!==r.method&&d.exists(t[0])&&d.exists(t[1])&&!isNaN(t[0].Xprev+t[0].Yprev+t[1].Xprev+t[1].Yprev)&&(s===t[0].num?(o=t[1],a=t[0]):(o=t[0],a=t[1]),c=new i(e.COORDS_BY_SCREEN,[o.Xprev,o.Yprev],this).usrCoords,l=new i(e.COORDS_BY_SCREEN,[a.Xprev,a.Yprev],this).usrCoords,h=new i(e.COORDS_BY_SCREEN,[a.X,a.Y],this).usrCoords,p=n.rad(l.slice(1),c.slice(1),h.slice(1)),f=this.create("transform",[-c[1],-c[2]],{type:"translate"}),m=this.create("transform",[p],{type:"rotate"}),f.melt(m),d.evaluate(r.visProp.scalable)&&(u=n.distance(c,h)/n.distance(c,l),g=this.create("transform",[u,u],{type:"scale"}),f.melt(g)),b=this.create("transform",[c[1],c[2]],{type:"translate"}),f.melt(b),r.center.draggable()&&f.applyOnce([r.center]),"twoPoints"===r.method?r.point2.draggable()&&f.applyOnce([r.point2]):"pointRadius"===r.method&&d.isNumber(r.updateRadius.origin)&&r.setRadius(r.radius*u),this.update(r.center),r.highlight(!0))},highlightElements:function(t,e,i,r){var s,o,n,a={},h=this.objectsList.length;for(s=0;s<h;s++)n=(o=this.objectsList[s]).id,d.exists(o.hasPoint)&&o.visPropCalc.visible&&o.hasPoint(t,e)&&(this.updateInfobox(o),d.exists(this.highlightedObjects[n])||(a[n]=o,o.highlight(),this.triggerEventHandlers(["mousehit","hit"],[i,o,r])),o.mouseover?o.triggerEventHandlers(["mousemove","move"],[i]):(o.triggerEventHandlers(["mouseover","over"],[i]),o.mouseover=!0));for(s=0;s<h;s++)n=(o=this.objectsList[s]).id,o.mouseover&&(a[n]||(o.triggerEventHandlers(["mouseout","out"],[i]),o.mouseover=!1))},saveStartPos:function(i,r){var s,o,n=[];if(i.type===e.OBJECT_TYPE_TICKS)n.push([1,NaN,NaN]);else if(i.elementClass===e.OBJECT_CLASS_LINE)n.push(i.point1.coords.usrCoords),n.push(i.point2.coords.usrCoords);else if(i.elementClass===e.OBJECT_CLASS_CIRCLE)n.push(i.center.coords.usrCoords),"twoPoints"===i.method&&n.push(i.point2.coords.usrCoords);else if(i.type===e.OBJECT_TYPE_POLYGON)for(o=i.vertices.length-1,s=0;s<o;s++)n.push(i.vertices[s].coords.usrCoords);else if(i.type===e.OBJECT_TYPE_SECTOR)n.push(i.point1.coords.usrCoords),n.push(i.point2.coords.usrCoords),n.push(i.point3.coords.usrCoords);else if(d.isPoint(i)||i.type===e.OBJECT_TYPE_GLIDER)n.push(i.coords.usrCoords);else if(i.elementClass===e.OBJECT_CLASS_CURVE)i.points.length>0&&n.push(i.points[0].usrCoords);else try{n.push(i.coords.usrCoords)}catch(e){t.debug("JSXGraph+ saveStartPos: obj.coords.usrCoords not available: "+e)}for(o=n.length,s=0;s<o;s++)r.Zstart.push(n[s][0]),r.Xstart.push(n[s][1]),r.Ystart.push(n[s][2])},mouseOriginMoveStart:function(t){var e,i;return(e=this._isRequiredKeyPressed(t,"pan"))&&(i=this.getMousePosition(t),this.initMoveOrigin(i[0],i[1])),e},mouseOriginMove:function(t){var e,i=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return i&&(e=this.getMousePosition(t),this.moveOrigin(e[0],e[1],!0)),i},touchStartMoveOriginOneFinger:function(e){var i,r,s=e[t.touchProperty];return(i=this.attr.pan.enabled&&!this.attr.pan.needtwofingers&&1===s.length)&&(r=this.getMousePosition(e,0),this.initMoveOrigin(r[0],r[1])),i},touchOriginMove:function(t){var e,i=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return i&&(e=this.getMousePosition(t,0),this.moveOrigin(e[0],e[1],!0)),i},originMoveEnd:function(){this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE},addEventHandlers:function(){if(p.supportsPointerEvents()?this.addPointerEventHandlers():(this.addMouseEventHandlers(),this.addTouchEventHandlers()),null!==this.containerObj&&(this.containerObj.oncontextmenu=function(t){return d.exists(t)&&t.preventDefault(),!1}),this.addFullscreenEventHandlers(),this.addKeyboardEventHandlers(),p.isBrowser){try{this.startResizeObserver()}catch(t){p.addEvent(window,"resize",this.resizeListener,this),this.startIntersectionObserver()}p.addEvent(window,"scroll",this.scrollListener,this)}},removeEventHandlers:function(){this.removeMouseEventHandlers(),this.removeTouchEventHandlers(),this.removePointerEventHandlers(),this.removeFullscreenEventHandlers(),this.removeKeyboardEventHandlers(),p.isBrowser&&(d.exists(this.resizeObserver)?this.stopResizeObserver():(p.removeEvent(window,"resize",this.resizeListener,this),this.stopIntersectionObserver()),p.removeEvent(window,"scroll",this.scrollListener,this))},addPointerEventHandlers:function(){if(!this.hasPointerHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(p.addEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),p.addEvent(t,"MSPointerMove",this.pointerMoveListener,this)):(p.addEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),p.addEvent(t,"pointermove",this.pointerMoveListener,this)),p.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),null!==this.containerObj&&(this.containerObj.style.touchAction="none"),this.hasPointerHandlers=!0}},addMouseEventHandlers:function(){if(!this.hasMouseHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;p.addEvent(this.containerObj,"mousedown",this.mouseDownListener,this),p.addEvent(t,"mousemove",this.mouseMoveListener,this),p.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!0}},addTouchEventHandlers:function(t){if(!this.hasTouchHandlers&&p.isBrowser){var e=this.attr.movetarget||this.containerObj;p.addEvent(this.containerObj,"touchstart",this.touchStartListener,this),p.addEvent(e,"touchmove",this.touchMoveListener,this),this.hasTouchHandlers=!0}},addFullscreenEventHandlers:function(){var t,e=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],i=e.length;if(!this.hasFullsceenEventHandlers&&p.isBrowser){for(t=0;t<i;t++)p.addEvent(this.document,e[t],this.fullscreenListener,this);this.hasFullsceenEventHandlers=!0}},addKeyboardEventHandlers:function(){this.attr.keyboard.enabled&&!this.hasKeyboardHandlers&&p.isBrowser&&(p.addEvent(this.containerObj,"keydown",this.keyDownListener,this),p.addEvent(this.containerObj,"focusin",this.keyFocusInListener,this),p.addEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!0)},removeKeyboardEventHandlers:function(){this.hasKeyboardHandlers&&p.isBrowser&&(p.removeEvent(this.containerObj,"keydown",this.keyDownListener,this),p.removeEvent(this.containerObj,"focusin",this.keyFocusInListener,this),p.removeEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!1)},removeFullscreenEventHandlers:function(){var t,e=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],i=e.length;if(this.hasFullsceenEventHandlers&&p.isBrowser){for(t=0;t<i;t++)p.removeEvent(this.document,e[t],this.fullscreenListener,this);this.hasFullsceenEventHandlers=!1}},removePointerEventHandlers:function(){if(this.hasPointerHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(p.removeEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),p.removeEvent(t,"MSPointerMove",this.pointerMoveListener,this)):(p.removeEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),p.removeEvent(t,"pointermove",this.pointerMoveListener,this)),p.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasPointerUp&&(window.navigator.msPointerEnabled?p.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.removeEvent(this.document,"pointerup",this.pointerUpListener,this),p.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this.hasPointerHandlers=!1}},removeMouseEventHandlers:function(){if(this.hasMouseHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;p.removeEvent(this.containerObj,"mousedown",this.mouseDownListener,this),p.removeEvent(t,"mousemove",this.mouseMoveListener,this),this.hasMouseUp&&(p.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),p.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!1}},removeTouchEventHandlers:function(){if(this.hasTouchHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;p.removeEvent(this.containerObj,"touchstart",this.touchStartListener,this),p.removeEvent(t,"touchmove",this.touchMoveListener,this),this.hasTouchEnd&&(p.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.hasTouchHandlers=!1}},clickLeftArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]+.1*this.canvasWidth,this.origin.scrCoords[2]),this},clickRightArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]-.1*this.canvasWidth,this.origin.scrCoords[2]),this},clickUpArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]-.1*this.canvasHeight),this},clickDownArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]+.1*this.canvasHeight),this},gestureChangeListener:function(t){var r,s,o,a,h,l,c,u,p,f,m,g,b=!1,v=this.attr.zoom.factorx,y=this.attr.zoom.factory;return this.mode!==this.BOARD_MODE_ZOOM||(t.preventDefault(),l=n.distance([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY],2),void 0===t.scale&&(t.scale=l/this.prevDist),!!d.exists(this.prevCoords)&&(s=[t.touches[0].clientX-this.prevCoords[0][0],t.touches[0].clientY-this.prevCoords[0][1]],o=[t.touches[1].clientX-this.prevCoords[1][0],t.touches[1].clientY-this.prevCoords[1][1]],s[0]*s[0]+s[1]*s[1]<100&&o[0]*o[0]+o[1]*o[1]<100||(a=n.rad(s,[0,0],o),"pan"!==this.isPreviousGesture&&Math.abs(a)>.2*Math.PI&&Math.abs(a)<1.8*Math.PI&&(b=!0),"pan"===this.isPreviousGesture||b||(Math.abs(t.scale)<.77||Math.abs(t.scale)>1.3)&&(b=!0),h=t.scale/this.prevScale,this.prevScale=t.scale,this.prevCoords=[[t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]],r=new i(e.COORDS_BY_SCREEN,this.getMousePosition(t,0),this),this.attr.pan.enabled&&this.attr.pan.needtwofingers&&!b?(this.isPreviousGesture="pan",this.moveOrigin(r.scrCoords[1],r.scrCoords[2],!0)):this.attr.zoom.enabled&&Math.abs(h-1)<.5&&((this.attr.zoom.pinchhorizontal||this.attr.zoom.pinchvertical)&&(c=Math.abs(t.touches[0].clientX-t.touches[1].clientX),u=Math.abs(t.touches[0].clientY-t.touches[1].clientY),p=Math.abs(Math.atan2(u,c)),g=Math.PI*this.attr.zoom.pinchsensitivity/90),this.attr.zoom.pinchhorizontal&&p<g?(this.attr.zoom.factorx=h,this.attr.zoom.factory=1,f=0,m=0):this.attr.zoom.pinchvertical&&Math.abs(p-.5*Math.PI)<g?(this.attr.zoom.factorx=1,this.attr.zoom.factory=h,f=0,m=0):(this.attr.zoom.factorx=h,this.attr.zoom.factory=h,f=r.usrCoords[1],m=r.usrCoords[2]),this.zoomIn(f,m),this.attr.zoom.factorx=v,this.attr.zoom.factory=y)),!1))},gestureStartListener:function(t){var e;return t.preventDefault(),this.prevScale=1,this.prevDist=n.distance([t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY],2),this.prevCoords=[[t.touches[0].clientX,t.touches[0].clientY],[t.touches[1].clientX,t.touches[1].clientY]],this.isPreviousGesture="none",e=this.getMousePosition(t,0),this.initMoveOrigin(e[0],e[1]),this.mode=this.BOARD_MODE_ZOOM,!1},_isRequiredKeyPressed:function(t,e){var i=this.attr[e];return!!i.enabled&&!(!(i.needshift&&t.shiftKey||!i.needshift&&!t.shiftKey)||!(i.needctrl&&t.ctrlKey||!i.needctrl&&!t.ctrlKey))},_isPointerRegistered:function(t){var e,i=this._board_touches.length;for(e=0;e<i;e++)if(this._board_touches[e].pointerId===t.pointerId)return!0;return!1},_pointerStorePosition:function(t){var e,i;for(e=0,i=!1;e<this._board_touches.length;e++)if(this._board_touches[e].pointerId===t.pointerId){this._board_touches[e].clientX=t.clientX,this._board_touches[e].clientY=t.clientY,i=!0;break}return!i&&this._board_touches.length<2&&this._board_touches.push({pointerId:t.pointerId,clientX:t.clientX,clientY:t.clientY}),this},_pointerRemoveTouches:function(t){var e;for(e=0;e<this._board_touches.length;e++)if(this._board_touches[e].pointerId===t.pointerId){this._board_touches.splice(e,1);break}return this},_pointerClearTouches:function(){this._board_touches.length>0&&this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE,this._board_touches=[],this.touches=[]},_getPointerInputDevice:function(t){if(p.isBrowser){if("touch"===t.pointerType||window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>1)return"touch";if("mouse"===t.pointerType)return"mouse";if("pen"===t.pointerType)return"pen"}return"mouse"},pointerDownListener:function(t,e){var i,r,s,o,n,a,h,l,c,u;if(!e&&this._isPointerRegistered(t))return!1;if(!e&&t.isPrimary&&this._pointerClearTouches(),this.hasPointerUp||(window.navigator.msPointerEnabled?p.addEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.addEvent(this.document,"pointerup",this.pointerUpListener,this),p.addEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!0),this.hasMouseHandlers&&this.removeMouseEventHandlers(),this.hasTouchHandlers&&this.removeTouchEventHandlers(),this.document.selection&&d.isFunction(this.document.selection.empty))this.document.selection.empty();else if(window.getSelection&&(a=window.getSelection()).removeAllRanges)try{a.removeAllRanges()}catch(t){}if(this._inputDevice=this._getPointerInputDevice(t),l=this._inputDevice,this.options.precision.hasPoint=this.options.precision[l],o=this.getMousePosition(t),this._testForSelection(t),this.selectingMode)return this._startSelecting(o),void this.triggerEventHandlers(["touchstartselecting","pointerstartselecting","startselecting"],[t]);if(this.attr.drag.enabled&&e?(n=[e],this.mode=this.BOARD_MODE_DRAG):n=this.initMoveObject(o[0],o[1],t,l),h={num:t.pointerId,X:o[0],Y:o[1],Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},n.length>0){for(u=n[n.length-1],c=!1,i=0;i<this.touches.length;i++)if(this.touches[i].obj===u){r=i,s=this.touches[i].targets.push(h)-1,c=!0;break}c||(s=0,r=this.touches.push({obj:u,targets:[h]})-1),this.dehighlightAll(),u.highlight(!0),this.saveStartPos(u,this.touches[r].targets[s]),t&&t.preventDefault?t.preventDefault():window.event&&(window.event.returnValue=!1)}return this.touches.length>0&&(t.preventDefault(),t.stopPropagation()),!!p.isBrowser&&("touch"!==this._getPointerInputDevice(t)?this.mode===this.BOARD_MODE_NONE&&this.mouseOriginMoveStart(t):(this._pointerStorePosition(t),t.touches=this._board_touches,1===t.touches.length&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(t)||2!==t.touches.length||this.mode!==this.BOARD_MODE_NONE&&this.mode!==this.BOARD_MODE_MOVE_ORIGIN||(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(t))),this.triggerEventHandlers(["touchstart","down","pointerdown","MSPointerDown"],[t]),!1)},pointerMoveListener:function(t){var e,i,r,s,o;if("touch"===this._getPointerInputDevice(t)&&!this._isPointerRegistered(t))return this.BOARD_MODE_NONE;if(!this.checkFrameRate(t))return!1;if(this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.mode!==this.BOARD_MODE_NONE&&(t.preventDefault(),t.stopPropagation()),this.updateQuality=this.BOARD_QUALITY_LOW,this._inputDevice=this._getPointerInputDevice(t),o=this._inputDevice,this.options.precision.hasPoint=this.options.precision[o],this.selectingMode)r=this.getMousePosition(t),this._moveSelecting(r),this.triggerEventHandlers(["touchmoveselecting","moveselecting","pointermoveselecting"],[t,this.mode]);else if(!this.mouseOriginMove(t))if(this.mode===this.BOARD_MODE_DRAG){for(e=0;e<this.touches.length;e++)for(s=this.touches[e].targets,i=0;i<s.length;i++)if(s[i].num===t.pointerId){r=this.getMousePosition(t),s[i].X=r[0],s[i].Y=r[1],1===s.length?this.moveObject(r[0],r[1],this.touches[e],t,o):2===s.length&&(this.twoFingerMove(this.touches[e],t.pointerId,t),s[i].Xprev=r[0],s[i].Yprev=r[1]);break}}else"touch"===this._getPointerInputDevice(t)&&(this._pointerStorePosition(t),2===this._board_touches.length&&(t.touches=this._board_touches,this.gestureChangeListener(t))),r=this.getMousePosition(t),this.highlightElements(r[0],r[1],t,-1);return this.triggerEventHandlers(["touchmove","move","pointermove","MSPointerMove"],[t,this.mode]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},pointerUpListener:function(t){var e,i,r,s;if(this.triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[t]),this.displayInfobox(!1),t)for(e=0;e<this.touches.length;e++)for(s=this.touches[e].targets,i=0;i<s.length;i++)if(s[i].num===t.pointerId){s.splice(i,1),0===s.length&&this.touches.splice(e,1);break}if(this.originMoveEnd(),this.update(),this.selectingMode)this._stopSelecting(t),this.triggerEventHandlers(["touchstopselecting","pointerstopselecting","stopselecting"],[t]),this.stopSelectionMode();else for(e=this.downObjects.length-1;e>-1;e--){for(r=!1,i=0;i<this.touches.length;i++)this.touches[i].obj.id===this.downObjects[e].id&&(r=!0);r||(this.downObjects[e].triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[t]),this.downObjects.splice(e,1))}return this.hasPointerUp&&(window.navigator.msPointerEnabled?p.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.removeEvent(this.document,"pointerup",this.pointerUpListener,this),p.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this._pointerClearTouches(),!0},touchStartListener:function(i){var s,o,n,a,h,l,c,u,f,m,g=this.options.precision.touch,b=i[t.touchProperty];for(this.hasTouchEnd||(p.addEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!0),this.document.selection&&d.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,s=0;s<b.length;s++)b[s].jxg_isused=!1;for(s=0;s<this.touches.length;s++)for(m=this.touches[s].targets,a=0;a<m.length;a++){m[a].num=-1,g=this.options.precision.touch;do{for(h=0;h<b.length;h++)if(Math.abs(Math.pow(b[h].screenX-m[a].X,2)+Math.pow(b[h].screenY-m[a].Y,2))<g*g){m[a].num=h,m[a].X=b[h].screenX,m[a].Y=b[h].screenY,b[h].jxg_isused=!0;break}g*=2}while(-1===m[a].num&&g<this.options.precision.touchMax);-1===m[a].num&&(t.debug("i couldn't find a targettouches for target no "+a+" on "+this.touches[s].obj.name+" ("+this.touches[s].obj.id+"). Removed the target."),t.debug("eps = "+g+", touchMax = "+r.precision.touchMax),m.splice(s,1))}for(s=0;s<b.length;s++)if(!b[s].jxg_isused){if(o=this.getMousePosition(i,s),this.selectingMode)return this._startSelecting(o),this.triggerEventHandlers(["touchstartselecting","startselecting"],[i]),i.preventDefault(),i.stopPropagation(),this.options.precision.hasPoint=this.options.precision.mouse,this.touches.length>0;if(0!==(n=this.initMoveObject(o[0],o[1],i,"touch")).length)if(l=n[n.length-1],f={num:s,X:b[s].screenX,Y:b[s].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},d.isPoint(l)||l.elementClass===e.OBJECT_CLASS_TEXT||l.type===e.OBJECT_TYPE_TICKS||l.type===e.OBJECT_TYPE_IMAGE)u=[f],this.saveStartPos(l,u[0]),this.touches.push({obj:l,targets:u}),l.highlight(!0);else if(l.elementClass===e.OBJECT_CLASS_LINE||l.elementClass===e.OBJECT_CLASS_CIRCLE||l.elementClass===e.OBJECT_CLASS_CURVE||l.type===e.OBJECT_TYPE_POLYGON){for(c=!1,a=0;a<this.touches.length;a++)l.id===this.touches[a].obj.id&&(c=!0,1===this.touches[a].targets.length&&(this.saveStartPos(l,f),this.touches[a].targets.push(f)),b[s].jxg_isused=!0);c||(u=[f],this.saveStartPos(l,u[0]),this.touches.push({obj:l,targets:u}),l.highlight(!0))}b[s].jxg_isused=!0}return this.touches.length>0&&(i.preventDefault(),i.stopPropagation()),1===b.length&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(i)||2!==b.length||this.mode!==this.BOARD_MODE_NONE&&this.mode!==this.BOARD_MODE_MOVE_ORIGIN||(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(i)),this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchstart","down"],[i]),!1},touchMoveListener:function(e){var i,r,s,o,n=e[t.touchProperty];if(!this.checkFrameRate(e))return!1;if(this.mode!==this.BOARD_MODE_NONE&&(e.preventDefault(),e.stopPropagation()),this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,this.updateQuality=this.BOARD_QUALITY_LOW,this.selectingMode){for(i=0;i<n.length;i++)if(!n[i].jxg_isused){r=this.getMousePosition(e,i),this._moveSelecting(r),this.triggerEventHandlers(["touchmoves","moveselecting"],[e,this.mode]);break}}else if(!this.touchOriginMove(e))if(this.mode===this.BOARD_MODE_DRAG){for(i=0;i<this.touches.length;i++)if(1===(o=this.touches[i].targets).length){if(n[o[0].num]){if((r=this.getMousePosition(e,o[0].num))[0]<0||r[0]>this.canvasWidth||r[1]<0||r[1]>this.canvasHeight)return;o[0].X=r[0],o[0].Y=r[1],this.moveObject(r[0],r[1],this.touches[i],e,"touch")}}else if(2===o.length&&o[0].num>-1&&o[1].num>-1&&n[o[0].num]&&n[o[1].num]){if(r=this.getMousePosition(e,o[0].num),s=this.getMousePosition(e,o[1].num),r[0]<0||r[0]>this.canvasWidth||r[1]<0||r[1]>this.canvasHeight||s[0]<0||s[0]>this.canvasWidth||s[1]<0||s[1]>this.canvasHeight)return;o[0].X=r[0],o[0].Y=r[1],o[1].X=s[0],o[1].Y=s[1],this.twoFingerMove(this.touches[i],o[0].num,e),this.twoFingerMove(this.touches[i],o[1].num),o[0].Xprev=r[0],o[0].Yprev=r[1],o[1].Xprev=s[0],o[1].Yprev=s[1]}}else 2===n.length&&this.gestureChangeListener(e),r=this.getMousePosition(e,0),this.highlightElements(r[0],r[1],e,-1);return this.mode!==this.BOARD_MODE_DRAG&&this.displayInfobox(!1),this.triggerEventHandlers(["touchmove","move"],[e,this.mode]),this.options.precision.hasPoint=this.options.precision.mouse,this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},touchEndListener:function(i){var r,s,o,n,a,h,l=this.options.precision.touch,c=[],u=i&&i[t.touchProperty];if(this.triggerEventHandlers(["touchend","up"],[i]),this.displayInfobox(!1),this.selectingMode)this._stopSelecting(i),this.triggerEventHandlers(["touchstopselecting","stopselecting"],[i]),this.stopSelectionMode();else if(u&&u.length>0){for(r=0;r<this.touches.length;r++)c[r]=this.touches[r];for(this.touches.length=0,r=0;r<u.length;r++)u[r].jxg_isused=!1;for(r=0;r<c.length;r++){for(n=!1,a=0,h=c[r].targets,s=0;s<h.length;s++)for(h[s].found=!1,o=0;o<u.length;o++)if(Math.abs(Math.pow(u[o].screenX-h[s].X,2)+Math.pow(u[o].screenY-h[s].Y,2))<l*l){h[s].found=!0,h[s].num=o,h[s].X=u[o].screenX,h[s].Y=u[o].screenY,a+=1;break}if(d.isPoint(c[r].obj)?n=h[0]&&h[0].found:c[r].obj.elementClass===e.OBJECT_CLASS_LINE?n=h[0]&&h[0].found||h[1]&&h[1].found:c[r].obj.elementClass===e.OBJECT_CLASS_CIRCLE&&(n=1===a||3===a),n)for(this.touches.push({obj:c[r].obj,targets:[]}),s=0;s<h.length;s++)h[s].found&&this.touches[this.touches.length-1].targets.push({num:h[s].num,X:h[s].screenX,Y:h[s].screenY,Xprev:NaN,Yprev:NaN,Xstart:h[s].Xstart,Ystart:h[s].Ystart,Zstart:h[s].Zstart});else c[r].obj.noHighlight()}}else this.touches.length=0;for(r=this.downObjects.length-1;r>-1;r--){for(n=!1,s=0;s<this.touches.length;s++)this.touches[s].obj.id===this.downObjects[r].id&&(n=!0);n||(this.downObjects[r].triggerEventHandlers(["touchup","up"],[i]),this.downObjects.splice(r,1))}return u&&0!==u.length||(this.hasTouchEnd&&(p.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),this.update()),!0},mouseDownListener:function(t){var e,i,r;if(this.document.selection&&d.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),!this.hasMouseUp)return p.addEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!0,this._inputDevice="mouse",this.options.precision.hasPoint=this.options.precision.mouse,e=this.getMousePosition(t),this._testForSelection(t),this.selectingMode?(this._startSelecting(e),void this.triggerEventHandlers(["mousestartselecting","startselecting"],[t])):(0===(i=this.initMoveObject(e[0],e[1],t,"mouse")).length?(this.mode=this.BOARD_MODE_NONE,r=!0):(this.mouse={obj:null,targets:[{X:e[0],Y:e[1],Xprev:NaN,Yprev:NaN}]},this.mouse.obj=i[i.length-1],this.dehighlightAll(),this.mouse.obj.highlight(!0),this.mouse.targets[0].Xstart=[],this.mouse.targets[0].Ystart=[],this.mouse.targets[0].Zstart=[],this.saveStartPos(this.mouse.obj,this.mouse.targets[0]),t&&t.preventDefault?t.preventDefault():window.event&&(window.event.returnValue=!1)),this.mode===this.BOARD_MODE_NONE&&(r=this.mouseOriginMoveStart(t)),this.triggerEventHandlers(["mousedown","down"],[t]),r)},mouseMoveListener:function(t){var e;if(!this.checkFrameRate(t))return!1;e=this.getMousePosition(t),this.updateQuality=this.BOARD_QUALITY_LOW,this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.selectingMode?(this._moveSelecting(e),this.triggerEventHandlers(["mousemoveselecting","moveselecting"],[t,this.mode])):this.mouseOriginMove(t)||(this.mode===this.BOARD_MODE_DRAG?this.moveObject(e[0],e[1],this.mouse,t,"mouse"):this.highlightElements(e[0],e[1],t,-1),this.triggerEventHandlers(["mousemove","move"],[t,this.mode])),this.updateQuality=this.BOARD_QUALITY_HIGH},mouseUpListener:function(t){var e;if(!1===this.selectingMode&&this.triggerEventHandlers(["mouseup","up"],[t]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),this.dehighlightAll(),this.update(),this.selectingMode)this._stopSelecting(t),this.triggerEventHandlers(["mousestopselecting","stopselecting"],[t]),this.stopSelectionMode();else for(e=0;e<this.downObjects.length;e++)this.downObjects[e].triggerEventHandlers(["mouseup","up"],[t]);this.downObjects.length=0,this.hasMouseUp&&(p.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.mouse=null},mouseWheelListener:function(t){if(!this.attr.zoom.wheel||!this._isRequiredKeyPressed(t,"zoom"))return!0;var r=(t=t||window.event).detail?-t.detail:t.wheelDelta/40,s=new i(e.COORDS_BY_SCREEN,this.getMousePosition(t),this);return r>0?this.zoomIn(s.usrCoords[1],s.usrCoords[2]):this.zoomOut(s.usrCoords[1],s.usrCoords[2]),this.triggerEventHandlers(["mousewheel"],[t]),t.preventDefault(),!1},keyDownListener:function(i){var r,s,o,n,a,h=i.target.id,l=0,c=0,u=d.evaluate(this.attr.keyboard.dx)/this.unitX,p=d.evaluate(this.attr.keyboard.dy)/this.unitY,f=!1,m=!0;return!(!this.attr.keyboard.enabled||""===h)&&(r=h.replace(this.containerObj.id+"_",""),s=this.select(r),d.exists(s.coords)&&(a=s.coords.usrCoords.slice(1)),(d.evaluate(this.attr.keyboard.panshift)||d.evaluate(this.attr.keyboard.panctrl))&&(f=!0),d.evaluate(this.attr.keyboard.panshift)&&i.shiftKey||d.evaluate(this.attr.keyboard.panctrl)&&i.ctrlKey?38===i.keyCode?this.clickUpArrow():40===i.keyCode?this.clickDownArrow():37===i.keyCode?this.clickLeftArrow():39===i.keyCode?this.clickRightArrow():m=!1:(d.exists(s.visProp)&&(d.exists(s.visProp.snaptogrid)&&s.visProp.snaptogrid&&d.evaluate(s.visProp.snapsizex)&&d.evaluate(s.visProp.snapsizey)?(l=(o=s.getSnapSizes())[0],c=o[1],u=Math.max(l,u),p=Math.max(c,p)):d.exists(s.visProp.attracttogrid)&&s.visProp.attracttogrid&&d.evaluate(s.visProp.attractordistance)&&d.evaluate(s.visProp.attractorunit)&&(c=l=1.1*d.evaluate(s.visProp.attractordistance),"screen"===d.evaluate(s.visProp.attractorunit)&&(l/=this.unitX,c/=this.unitX),u=Math.max(l,u),p=Math.max(c,p))),38===i.keyCode?n=[0,p]:40===i.keyCode?n=[0,-p]:37===i.keyCode?n=[-u,0]:39===i.keyCode?n=[u,0]:f&&"+"===i.key?this.zoomIn():f&&"-"===i.key?this.zoomOut():f&&"o"===i.key?this.zoom100():m=!1,n&&s.isDraggable&&s.visPropCalc.visible&&(this.geonextCompatibilityMode&&(d.isPoint(s)||s.elementClass===e.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!d.evaluate(s.visProp.fixed)&&(d.exists(s.coords)&&(n[0]+=a[0],n[1]+=a[1]),s.setPosition(t.COORDS_BY_USER,n),d.exists(s.coords)&&this.updateInfobox(s),this.triggerEventHandlers(["hit"],[i,s]))),this.update(),m&&d.exists(i.preventDefault)&&i.preventDefault(),!0)},keyFocusInListener:function(t){var e,i,r=t.target.id;if(!this.attr.keyboard.enabled||""===r)return!1;e=r.replace(this.containerObj.id+"_",""),i=this.select(e),d.exists(i.highlight)&&i.highlight(!0),d.exists(i.coords)&&this.updateInfobox(i),this.triggerEventHandlers(["hit"],[t,i])},keyFocusOutListener:function(t){if(!this.attr.keyboard.enabled)return!1;this.dehighlightAll(),this.displayInfobox(!1)},updateContainerDims:function(){var t,e,i,r;t=(i=this.containerObj.getBoundingClientRect()).width,e=i.height,window&&window.getComputedStyle&&(r=window.getComputedStyle(this.containerObj,null),t-=parseFloat(r.getPropertyValue("border-left-width"))+parseFloat(r.getPropertyValue("border-right-width")),e-=parseFloat(r.getPropertyValue("border-top-width"))+parseFloat(r.getPropertyValue("border-bottom-width"))),t<=0||e<=0||d.isNaN(t)||d.isNaN(e)||(isNaN(this.getBoundingBox()[0])&&this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"keep"),d.exists(this._prevDim)&&this._prevDim.w===t&&this._prevDim.h===e||(this.resizeContainer(t,e,!0),this._prevDim={w:t,h:e}))},startResizeObserver:function(){var t=this;p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this.resizeObserver=new ResizeObserver((function(e){t._isResizing||(t._isResizing=!0,window.setTimeout((function(){try{t.updateContainerDims()}catch(e){t.stopResizeObserver()}finally{t._isResizing=!1}}),t.attr.resize.throttle))})),this.resizeObserver.observe(this.containerObj))},stopResizeObserver:function(){p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&d.exists(this.resizeObserver)&&this.resizeObserver.unobserve(this.containerObj)},resizeListener:function(){var t=this;p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this._isScrolling||this._isResizing||(this._isResizing=!0,window.setTimeout((function(){t.updateContainerDims(),t._isResizing=!1}),this.attr.resize.throttle)))},scrollListener:function(t){var e=this;p.isBrowser&&(this._isScrolling||(this._isScrolling=!0,window.setTimeout((function(){e._isScrolling=!1}),66)))},startIntersectionObserver:function(){var t=this;try{this.intersectionObserver=new IntersectionObserver((function(e){isNaN(t.getBoundingBox()[0])&&t.updateContainerDims()}),{root:null,rootMargin:"0px",threshold:.8}),this.intersectionObserver.observe(t.containerObj)}catch(t){console.log("JSXGraph: IntersectionObserver not available in this browser.")}},stopIntersectionObserver:function(){d.exists(this.intersectionObserver)&&this.intersectionObserver.unobserve(this.containerObj)},initInfobox:function(){var t=d.copyAttributes({},this.options,"infobox");return t.id=this.id+"_infobox",this.infobox=this.create("text",[0,0,"0,0"],t),this.infobox.distanceX=-20,this.infobox.distanceY=25,this.infobox.dump=!1,this.displayInfobox(!1),this},updateInfobox:function(t){var e,i,r,s,o,n=d.evaluate(t.visProp.showinfobox);return!d.evaluate(this.attr.showinfobox)&&"inherit"===n||!n||d.isPoint(t)&&(r=t.coords.usrCoords[1],s=t.coords.usrCoords[2],o=d.evaluate(t.visProp.infoboxdigits),this.infobox.setCoords(r+this.infobox.distanceX/this.unitX,s+this.infobox.distanceY/this.unitY),"string"!=typeof t.infoboxText?("auto"===o?(e=d.autoDigits(r),i=d.autoDigits(s)):d.isNumber(o)?(e=d.toFixed(r,o),i=d.toFixed(s,o)):(e=r,i=s),this.highlightInfobox(e,i,t)):this.highlightCustomInfobox(t.infoboxText,t),this.displayInfobox(!0)),this},displayInfobox:function(t){return this.infobox.hiddenByParent===t&&(this.infobox.hiddenByParent=!t,this.infobox.prepareUpdate().updateVisibility(t).updateRenderer()),this},showInfobox:function(t){return this.displayInfobox(t)},highlightInfobox:function(t,e,i){return this.highlightCustomInfobox("("+t+", "+e+")",i),this},highlightCustomInfobox:function(t,e){return this.infobox.setText(t),this},dehighlightAll:function(){var t,e,i=!1;for(t in this.highlightedObjects)this.highlightedObjects.hasOwnProperty(t)&&(e=this.highlightedObjects[t],(this.hasMouseHandlers||this.hasPointerHandlers)&&e.noHighlight(),i=!0);return this.highlightedObjects={},"canvas"===this.renderer.type&&i&&(this.prepareUpdate(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw()),this},getScrCoordsOfMouse:function(t,e){return[t,e]},getUsrCoordsOfMouse:function(t){var r=this.getCoordsTopLeftCorner(),s=p.getPosition(t,null,this.document),o=s[0]-r[0],n=s[1]-r[1];return new i(e.COORDS_BY_SCREEN,[o,n],this).usrCoords.slice(1)},getAllUnderMouse:function(t){var e=this.getAllObjectsUnderMouse(t);return e.push(this.getUsrCoordsOfMouse(t)),e},getAllObjectsUnderMouse:function(t){var e,i,r=this.getCoordsTopLeftCorner(),s=p.getPosition(t,null,this.document),o=s[0]-r[0],n=s[1]-r[1],a=[],h=this.objectsList.length;for(e=0;e<h;e++)(i=this.objectsList[e]).visPropCalc.visible&&i.hasPoint&&i.hasPoint(o,n)&&(a[a.length]=i);return a},updateCoords:function(){var t,e,i=this.objectsList.length;for(e=0;e<i;e++)t=this.objectsList[e],d.exists(t.coords)&&(d.evaluate(t.visProp.frozen)?t.coords.screen2usr():t.coords.usr2screen());return this},moveOrigin:function(t,r,s){var o,n,a,h;return d.exists(t)&&d.exists(r)&&(o=this.origin.scrCoords[1],n=this.origin.scrCoords[2],this.origin.scrCoords[1]=t,this.origin.scrCoords[2]=r,s&&(this.origin.scrCoords[1]-=this.drag_dx,this.origin.scrCoords[2]-=this.drag_dy),a=new i(e.COORDS_BY_SCREEN,[0,0],this).usrCoords,h=new i(e.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords,(a[1]<this.maxboundingbox[0]||a[2]>this.maxboundingbox[1]||h[1]>this.maxboundingbox[2]||h[2]<this.maxboundingbox[3])&&(this.origin.scrCoords[1]=o,this.origin.scrCoords[2]=n)),this.updateCoords().clearTraces().fullUpdate(),this.triggerEventHandlers(["boundingbox"]),this},addConditions:function(i){var r,s,o,n,a,h,l,u=[],p=i.indexOf("<data>"),f=i.indexOf("</data>"),m=function(t,i,r,s){return function(){var o,n;n=(o=t.select(i.id)).coords.usrCoords[s],2===s?o.setPositionDirectly(e.COORDS_BY_USER,[r(),n]):o.setPositionDirectly(e.COORDS_BY_USER,[n,r()]),o.prepareUpdate().update()}},g=function(t,e,i){return function(){var r,s;r=t.select(e.id),s=i(),r.setAttribute({visible:s})}},b=function(t,e,i,r){return function(){var s,o;s=t.select(e.id),o=i(),"strokewidth"===r?s.visProp.strokewidth=o:(o=c.rgba2rgbo(o),s.visProp[r+"color"]=o[0],s.visProp[r+"opacity"]=o[1])}},v=function(t,e,i){return function(){t.select(e.id).position=i()}},y=function(t,e,i){return function(){t.select(e.id).setStyle(i())}};if(!(p<0)){for(;p>=0;){if(s=(r=i.slice(p+6,f)).indexOf("="),o=r.slice(0,s),n=r.slice(s+1),s=o.indexOf("."),a=o.slice(0,s),h=this.elementsByName[d.unescapeHTML(a)],l=o.slice(s+1).replace(/\s+/g,"").toLowerCase(),n=d.createFunction(n,this,"",!0),d.exists(this.elementsByName[a]))switch(l){case"x":u.push(m(this,h,n,2));break;case"y":u.push(m(this,h,n,1));break;case"visible":u.push(g(this,h,n));break;case"position":u.push(v(this,h,n));break;case"stroke":u.push(b(this,h,n,"stroke"));break;case"style":u.push(y(this,h,n));break;case"strokewidth":u.push(b(this,h,n,"strokewidth"));break;case"fill":u.push(b(this,h,n,"fill"));break;case"label":break;default:t.debug("property '"+l+"' in conditions not yet implemented:"+n)}else t.debug("debug conditions: |"+a+"| undefined");p=(i=i.slice(f+7)).indexOf("<data>"),f=i.indexOf("</data>")}this.updateConditions=function(){var t;for(t=0;t<u.length;t++)u[t]();return this.prepareUpdate().updateElements(),!0},this.updateConditions()}},updateConditions:function(){return!1},calculateSnapSizes:function(){var t=new i(e.COORDS_BY_USER,[0,0],this),r=new i(e.COORDS_BY_USER,[this.options.grid.gridX,this.options.grid.gridY],this),s=t.scrCoords[1]-r.scrCoords[1],o=t.scrCoords[2]-r.scrCoords[2];for(this.options.grid.snapSizeX=this.options.grid.gridX;Math.abs(s)>25;)this.options.grid.snapSizeX*=2,s/=2;for(this.options.grid.snapSizeY=this.options.grid.gridY;Math.abs(o)>25;)this.options.grid.snapSizeY*=2,o/=2;return this},applyZoom:function(){return this.updateCoords().calculateSnapSizes().clearTraces().fullUpdate(),this},zoomIn:function(t,e){var i=this.getBoundingBox(),r=this.attr.zoom.factorx,s=this.attr.zoom.factory,o=(i[2]-i[0])*(1-1/r),n=(i[1]-i[3])*(1-1/s),a=.5,h=.5,l=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX>this.attr.zoom.max&&r>1||this.zoomY>this.attr.zoom.max&&s>1||this.zoomX<l&&r<1||this.zoomY<l&&s<1?this:(d.isNumber(t)&&d.isNumber(e)&&(a=(t-i[0])/(i[2]-i[0]),h=(i[1]-e)/(i[1]-i[3])),this.setBoundingBox([i[0]+o*a,i[1]-n*h,i[2]-o*(1-a),i[3]+n*(1-h)],this.keepaspectratio,"update"),this.applyZoom())},zoomOut:function(t,e){var i=this.getBoundingBox(),r=this.attr.zoom.factorx,s=this.attr.zoom.factory,o=(i[2]-i[0])*(1-r),n=(i[1]-i[3])*(1-s),a=.5,h=.5,l=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX<l||this.zoomY<l?this:(d.isNumber(t)&&d.isNumber(e)&&(a=(t-i[0])/(i[2]-i[0]),h=(i[1]-e)/(i[1]-i[3])),this.setBoundingBox([i[0]+o*a,i[1]-n*h,i[2]-o*(1-a),i[3]+n*(1-h)],this.keepaspectratio,"update"),this.applyZoom())},zoom100:function(){var t,e,i;return d.exists(this.attr.boundingbox)?this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"reset"):(e=((t=this.getBoundingBox())[2]-t[0])*(1-this.zoomX)*.5,i=(t[1]-t[3])*(1-this.zoomY)*.5,this.setBoundingBox([t[0]+e,t[1]-i,t[2]-e,t[3]+i],this.keepaspectratio,"reset")),this.applyZoom()},zoomAllPoints:function(){var t,e,i,r,s=0,o=0,n=0,a=0,h=this.objectsList.length;for(t=0;t<h;t++)r=this.objectsList[t],d.isPoint(r)&&r.visPropCalc.visible&&(r.coords.usrCoords[1]<s?s=r.coords.usrCoords[1]:r.coords.usrCoords[1]>o&&(o=r.coords.usrCoords[1]),r.coords.usrCoords[2]>a?a=r.coords.usrCoords[2]:r.coords.usrCoords[2]<n&&(n=r.coords.usrCoords[2]));return 50,e=50/this.unitX,i=50/this.unitY,this.setBoundingBox([s-e,a+i,o+e,n-i],this.keepaspectratio,"update"),this.applyZoom()},zoomElements:function(t){var e,i,r,s,o,n,a,h=[1/0,-1/0,-1/0,1/0];if(!d.isArray(t)||0===t.length)return this;for(e=0;e<t.length;e++)i=this.select(t[e]).bounds(),d.isArray(i)&&(i[0]<h[0]&&(h[0]=i[0]),i[1]>h[1]&&(h[1]=i[1]),i[2]>h[2]&&(h[2]=i[2]),i[3]<h[3]&&(h[3]=i[3]));return d.isArray(h)&&(r=.5*(h[0]+h[2]),s=.5*(h[1]+h[3]),o=1.5*(h[2]-h[0])*.5,n=1.5*(h[1]-h[3])*.5,a=Math.max(o,n),this.setBoundingBox([r-a,s+a,r+a,s-a],this.keepaspectratio,"update")),this},setZoom:function(t,e){var i=this.attr.zoom.factorx,r=this.attr.zoom.factory;return this.attr.zoom.factorx=t/this.zoomX,this.attr.zoom.factory=e/this.zoomY,this.zoomIn(),this.attr.zoom.factorx=i,this.attr.zoom.factory=r,this},removeObject:function(i,r){var s,o;if(d.isArray(i)){for(o=0;o<i.length;o++)this.removeObject(i[o]);return this}if(i=this.select(i),!d.exists(i)||d.isString(i))return this;try{for(s in i.childElements)i.childElements.hasOwnProperty(s)&&i.childElements[s].board.removeObject(i.childElements[s]);for(s in i.objects)i.objects.hasOwnProperty(s)&&i.objects[s].board.removeObject(i.objects[s]);if(r)for(s in this.objects)this.objects.hasOwnProperty(s)&&d.exists(this.objects[s].childElements)&&d.exists(this.objects[s].childElements.hasOwnProperty(i.id))&&(delete this.objects[s].childElements[i.id],delete this.objects[s].descendants[i.id]);else if(d.exists(i.ancestors))for(s in i.ancestors)i.ancestors.hasOwnProperty(s)&&d.exists(i.ancestors[s].childElements)&&d.exists(i.ancestors[s].childElements.hasOwnProperty(i.id))&&(delete i.ancestors[s].childElements[i.id],delete i.ancestors[s].descendants[i.id]);if(i._pos>-1)for(this.objectsList.splice(i._pos,1),s=i._pos;s<this.objectsList.length;s++)this.objectsList[s]._pos--;else i.type!==e.OBJECT_TYPE_TURTLE&&t.debug("Board.removeObject: object "+i.id+" not found in list.");delete this.objects[i.id],delete this.elementsByName[i.name],i.visProp&&d.evaluate(i.visProp.trace)&&i.clearTrace(),d.exists(i.remove)&&i.remove()}catch(e){t.debug(i.id+": Could not be removed: "+e)}return this.update(),this},removeAncestors:function(t){var e;for(e in t.ancestors)t.ancestors.hasOwnProperty(e)&&this.removeAncestors(t.ancestors[e]);return this.removeObject(t),this},initGeonextBoard:function(){var t,e,i;return t=this.create("point",[0,0],{id:this.id+"g00e0",name:"Ursprung",withLabel:!1,visible:!1,fixed:!0}),e=this.create("point",[1,0],{id:this.id+"gX0e0",name:"Punkt_1_0",withLabel:!1,visible:!1,fixed:!0}),i=this.create("point",[0,1],{id:this.id+"gY0e0",name:"Punkt_0_1",withLabel:!1,visible:!1,fixed:!0}),this.create("line",[t,e],{id:this.id+"gXLe0",name:"X-Achse",withLabel:!1,visible:!1}),this.create("line",[t,i],{id:this.id+"gYLe0",name:"Y-Achse",withLabel:!1,visible:!1}),this},resizeContainer:function(t,e,i,r){var s;return r||(s=this.getBoundingBox()),this.canvasWidth=parseFloat(t),this.canvasHeight=parseFloat(e),i||(this.containerObj.style.width=this.canvasWidth+"px",this.containerObj.style.height=this.canvasHeight+"px"),this.renderer.resize(this.canvasWidth,this.canvasHeight),r||this.setBoundingBox(s,this.keepaspectratio,"keep"),this},showDependencies:function(){var t,e,i,r,s;for(t in e="<p>\n",this.objects)if(this.objects.hasOwnProperty(t)){for(i in s=0,this.objects[t].childElements)this.objects[t].childElements.hasOwnProperty(i)&&(s+=1);for(i in s>=0&&(e+="<strong>"+this.objects[t].id+":</strong> "),this.objects[t].childElements)this.objects[t].childElements.hasOwnProperty(i)&&(e+=this.objects[t].childElements[i].id+"("+this.objects[t].childElements[i].name+"), ");e+="<p>\n"}return e+="</p>\n",(r=window.open()).document.open(),r.document.write(e),r.document.close(),this},showXML:function(){var t=window.open("");return t.document.open(),t.document.write("<pre>"+d.escapeHTML(this.xmlString)+"</pre>"),t.document.close(),this},prepareUpdate:function(){var t,e,i=this.objectsList.length;for(t=0;t<i;t++)(e=this.objectsList[t]).needsUpdate=e.needsRegularUpdate||this.needsFullUpdate;for(t in this.groups)this.groups.hasOwnProperty(t)&&((e=this.groups[t]).needsUpdate=e.needsRegularUpdate||this.needsFullUpdate);return this},updateElements:function(t){var i,r;for(t=this.select(t),i=0;i<this.objectsList.length;i++)r=this.objectsList[i],this.needsFullUpdate&&r.elementClass===e.OBJECT_CLASS_TEXT&&r.updateSize(),r.update(!d.exists(t)||r.id!==t.id).updateVisibility();for(i in this.groups)this.groups.hasOwnProperty(i)&&this.groups[i].update(t);return this},updateRenderer:function(){var t,e=this.objectsList.length;if("canvas"===this.renderer.type)this.updateRendererCanvas();else for(t=0;t<e;t++)this.objectsList[t].updateRenderer();return this},updateRendererCanvas:function(){var t,e,i,r,s,o=this.objectsList.length,n=this.options.layer,a=this.options.layer.numlayers,h=Number.NEGATIVE_INFINITY;for(i=0;i<a;i++){for(s in r=Number.POSITIVE_INFINITY,n)n.hasOwnProperty(s)&&n[s]>h&&n[s]<r&&(r=n[s]);for(h=r,t=0;t<o;t++)(e=this.objectsList[t]).visProp.layer===r&&e.prepareUpdate().updateRenderer()}return this},addHook:function(e,i,r){return t.deprecated("Board.addHook()","Board.on()"),i=d.def(i,"update"),r=d.def(r,this),this.hooks.push([i,e]),this.on(i,e,r),this.hooks.length-1},addEvent:t.shortcut(t.Board.prototype,"on"),removeHook:function(e){return t.deprecated("Board.removeHook()","Board.off()"),this.hooks[e]&&(this.off(this.hooks[e][0],this.hooks[e][1]),this.hooks[e]=null),this},removeEvent:t.shortcut(t.Board.prototype,"off"),updateHooks:function(e){var i=Array.prototype.slice.call(arguments,0);return t.deprecated("Board.updateHooks()","Board.triggerEventHandlers()"),i[0]=d.def(i[0],"update"),this.triggerEventHandlers([i[0]],arguments),this},addChild:function(t){return d.exists(t)&&d.exists(t.containerObj)&&(this.dependentBoards.push(t),this.update()),this},removeChild:function(t){var e;for(e=this.dependentBoards.length-1;e>=0;e--)this.dependentBoards[e]===t&&this.dependentBoards.splice(e,1);return this},update:function(t){var e,i,r,s,o;if(this.inUpdate||this.isSuspendedUpdate)return this;for(this.inUpdate=!0,"all"===this.attr.minimizereflow&&this.containerObj&&"vml"!==this.renderer.type&&(o=this.document.activeElement,s=this.renderer.removeToInsertLater(this.containerObj)),"svg"===this.attr.minimizereflow&&"svg"===this.renderer.type&&(o=this.document.activeElement,s=this.renderer.removeToInsertLater(this.renderer.svgRoot)),this.prepareUpdate().updateElements(t).updateConditions(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw(),this.triggerEventHandlers(["update"],[]),s&&(s(),o.focus()),i=this.dependentBoards.length,e=0;e<i;e++)r=this.dependentBoards[e],d.exists(r)&&r!==this&&(r.updateQuality=this.updateQuality,r.prepareUpdate().updateElements().updateConditions(),r.renderer.suspendRedraw(),r.updateRenderer(),r.renderer.unsuspendRedraw(),r.triggerEventHandlers(["update"],[]));return this.inUpdate=!1,this},fullUpdate:function(){return this.needsFullUpdate=!0,this.update(),this.needsFullUpdate=!1,this},addGrid:function(){return this.create("grid",[]),this},removeGrids:function(){var t;for(t=0;t<this.grids.length;t++)this.removeObject(this.grids[t]);return this.grids.length=0,this.update(),this},create:function(e,i,r){var s,o;for(e=e.toLowerCase(),d.exists(i)||(i=[]),d.exists(r)||(r={}),o=0;o<i.length;o++)!d.isString(i[o])||"text"===e&&2===o||"solidofrevolution3d"===e&&2===o||!("input"!==e&&"checkbox"!==e&&"button"!==e||2!==o&&3!==o)||"curve"===e&&o>0||(i[o]=this.select(i[o]));if(!d.isFunction(t.elements[e]))throw new Error("JSXGraph: create: Unknown element type given: "+e);return s=t.elements[e](this,i,r),d.exists(s)?(s.prepareUpdate&&s.update&&s.updateRenderer&&s.fullUpdate(),s):(t.debug("JSXGraph: create: failure creating "+e),s)},createElement:function(){return t.deprecated("Board.createElement()","Board.create()"),this.create.apply(this,arguments)},clearTraces:function(){var t;for(t=0;t<this.objectsList.length;t++)this.objectsList[t].clearTrace();return this.numTraces=0,this},suspendUpdate:function(){return this.inUpdate||(this.isSuspendedUpdate=!0),this},unsuspendUpdate:function(){return this.isSuspendedUpdate&&(this.isSuspendedUpdate=!1,this.fullUpdate()),this},setBoundingBox:function(t,e,i){var r,s,o,n,a=0,h=0,l=p.getDimensions(this.container,this.document);return d.isArray(t)?(t[0]<this.maxboundingbox[0]||t[1]>this.maxboundingbox[1]||t[2]>this.maxboundingbox[2]||t[3]<this.maxboundingbox[3]||(d.exists(i)||(i="reset"),o=this.unitX,n=this.unitY,this.canvasWidth=parseInt(l.width,10),this.canvasHeight=parseInt(l.height,10),s=this.canvasWidth,r=this.canvasHeight,e?(this.unitX=s/(t[2]-t[0]),this.unitY=r/(t[1]-t[3]),Math.abs(this.unitX)<Math.abs(this.unitY)?(this.unitY=Math.abs(this.unitX)*this.unitY/Math.abs(this.unitY),h=.5*(r/this.unitY-(t[1]-t[3]))):(this.unitX=Math.abs(this.unitY)*this.unitX/Math.abs(this.unitX),a=.5*(s/this.unitX-(t[2]-t[0]))),this.keepaspectratio=!0):(this.unitX=s/(t[2]-t[0]),this.unitY=r/(t[1]-t[3]),this.keepaspectratio=!1),this.moveOrigin(-this.unitX*(t[0]-a),this.unitY*(t[1]+h)),"update"===i?(this.zoomX*=this.unitX/o,this.zoomY*=this.unitY/n):"reset"===i&&(this.zoomX=d.exists(this.attr.zoomx)?this.attr.zoomx:1,this.zoomY=d.exists(this.attr.zoomy)?this.attr.zoomy:1)),this):this},getBoundingBox:function(){var t=new i(e.COORDS_BY_SCREEN,[0,0],this).usrCoords,r=new i(e.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords;return[t[1],t[2],r[1],r[2]]},addAnimation:function(t){var e=this;return this.animationObjects[t.id]=t,this.animationIntervalCode||(this.animationIntervalCode=window.setInterval((function(){e.animate()}),t.board.attr.animationdelay)),this},stopAllAnimation:function(){var t;for(t in this.animationObjects)this.animationObjects.hasOwnProperty(t)&&d.exists(this.animationObjects[t])&&(this.animationObjects[t]=null,delete this.animationObjects[t]);return window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode,this},animate:function(){var t,i,r,s,o,n,a,h,l=0,c=null;for(i in this.animationObjects)if(this.animationObjects.hasOwnProperty(i)&&d.exists(this.animationObjects[i])){if(l+=1,(r=this.animationObjects[i]).animationPath&&(s=d.isFunction(r.animationPath)?r.animationPath((new Date).getTime()-r.animationStart):r.animationPath.pop(),!d.exists(s)||!d.isArray(s)&&isNaN(s)?delete r.animationPath:(r.setPositionDirectly(e.COORDS_BY_USER,s),r.fullUpdate(),c=r)),r.animationData){for(o in a=0,r.animationData)r.animationData.hasOwnProperty(o)&&(n=r.animationData[o].pop(),d.exists(n)?(a+=1,(t={})[o]=n,r.setAttribute(t)):delete r.animationData[n]);0===a&&delete r.animationData}d.exists(r.animationData)||d.exists(r.animationPath)||(this.animationObjects[i]=null,delete this.animationObjects[i],d.exists(r.animationCallback)&&(h=r.animationCallback,r.animationCallback=null,h()))}return 0===l?(window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode):this.update(c),this},migratePoint:function(t,e,i){var r,s,o,n,a,h,l=!1;for(s in t=this.select(t),e=this.select(e),d.exists(t.label)&&(h=t.label.id,l=!0,this.removeObject(t.label)),t.childElements)if(t.childElements.hasOwnProperty(s)){for(o in n=!1,r=t.childElements[s])r.hasOwnProperty(o)&&r[o]===t&&(r[o]=e,n=!0);for(n&&delete t.childElements[s],a=0;a<r.parents.length;a++)r.parents[a]===t.id&&(r.parents[a]=e.id);e.addChild(r)}return i&&(l&&(delete e.childElements[h],delete e.descendants[h]),e.label&&this.removeObject(e.label),delete this.elementsByName[e.name],e.name=t.name,l&&e.createLabel()),this.removeObject(t),d.exists(e.name)&&""!==e.name&&(this.elementsByName[e.name]=e),this.fullUpdate(),this},emulateColorblindness:function(e){var i,r;if(d.exists(e)||(e="none"),this.currentCBDef===e)return this;for(i in this.objects)this.objects.hasOwnProperty(i)&&(r=this.objects[i],"none"!==e?("none"===this.currentCBDef&&(r.visPropOriginal={strokecolor:r.visProp.strokecolor,fillcolor:r.visProp.fillcolor,highlightstrokecolor:r.visProp.highlightstrokecolor,highlightfillcolor:r.visProp.highlightfillcolor}),r.setAttribute({strokecolor:c.rgb2cb(d.evaluate(r.visPropOriginal.strokecolor),e),fillcolor:c.rgb2cb(d.evaluate(r.visPropOriginal.fillcolor),e),highlightstrokecolor:c.rgb2cb(d.evaluate(r.visPropOriginal.highlightstrokecolor),e),highlightfillcolor:c.rgb2cb(d.evaluate(r.visPropOriginal.highlightfillcolor),e)})):d.exists(r.visPropOriginal)&&t.extend(r.visProp,r.visPropOriginal));return this.currentCBDef=e,this.update(),this},select:function(t,e){var i,r,s,o,n=t;if(null===n)return n;if(d.isString(n)&&""!==n)d.exists(this.objects[n])?n=this.objects[n]:d.exists(this.elementsByName[n])?n=this.elementsByName[n]:d.exists(this.groups[n])&&(n=this.groups[n]);else if(!e&&(d.isFunction(n)||d.isObject(n)&&!d.isFunction(n.setAttribute))){for(r={},o=(i=d.filterElements(this.objectsList,n)).length,s=0;s<o;s++)r[i[s].id]=i[s];n=new f(r)}else d.isObject(n)&&d.exists(n.id)&&!d.exists(this.objects[n.id])&&(n=null);return n},hasPoint:function(t,e){var i=t,r=e,s=this.getBoundingBox();return d.exists(t)&&d.isArray(t.usrCoords)&&(i=t.usrCoords[1],r=t.usrCoords[2]),!!(d.isNumber(i)&&d.isNumber(r)&&s[0]<i&&i<s[2]&&s[1]>r&&r>s[3])},updateCSSTransforms:function(){var t=this.containerObj,e=t,i=t;for(this.cssTransMat=p.getCSSTransformMatrix(e),e=e.offsetParent;e;){for(this.cssTransMat=o.matMatMult(p.getCSSTransformMatrix(e),this.cssTransMat),i=i.parentNode;i!==e;)this.cssTransMat=o.matMatMult(p.getCSSTransformMatrix(e),this.cssTransMat),i=i.parentNode||i.host;e=e.offsetParent}return this.cssTransMat=o.inverse(this.cssTransMat),this},startSelectionMode:function(){this.selectingMode=!0,this.selectionPolygon.setAttribute({visible:!0}),this.selectingBox=[[0,0],[0,0]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate()},stopSelectionMode:function(){return this.selectingMode=!1,this.selectionPolygon.setAttribute({visible:!1}),[this.selectionPolygon.vertices[0].coords,this.selectionPolygon.vertices[2].coords]},_startSelecting:function(t){this.isSelecting=!0,this.selectingBox=[[t[0],t[1]],[t[0],t[1]]],this._setSelectionPolygonFromBox()},_moveSelecting:function(t){this.isSelecting&&(this.selectingBox[1]=[t[0],t[1]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate())},_stopSelecting:function(t){var e=this.getMousePosition(t);this.isSelecting=!1,this.selectingBox[1]=[e[0],e[1]],this._setSelectionPolygonFromBox()},_setSelectionPolygonFromBox:function(){var e=this.selectingBox[0],i=this.selectingBox[1];this.selectionPolygon.vertices[0].setPositionDirectly(t.COORDS_BY_SCREEN,[e[0],e[1]]),this.selectionPolygon.vertices[1].setPositionDirectly(t.COORDS_BY_SCREEN,[e[0],i[1]]),this.selectionPolygon.vertices[2].setPositionDirectly(t.COORDS_BY_SCREEN,[i[0],i[1]]),this.selectionPolygon.vertices[3].setPositionDirectly(t.COORDS_BY_SCREEN,[i[0],e[1]])},_testForSelection:function(t){this._isRequiredKeyPressed(t,"selection")&&(d.exists(this.selectionPolygon)||this._createSelectionPolygon(this.attr),this.startSelectionMode())},_createSelectionPolygon:function(t){var e;return d.exists(this.selectionPolygon)||!0===(e=d.copyAttributes(t,r,"board","selection")).enabled&&(this.selectionPolygon=this.create("polygon",[[0,0],[0,0],[0,0],[0,0]],e)),this},__evt__down:function(t){},__evt__mousedown:function(t){},__evt__pendown:function(t){},__evt__pointerdown:function(t){},__evt__touchstart:function(t){},__evt__up:function(t){},__evt__mouseup:function(t){},__evt__pointerup:function(t){},__evt__touchend:function(t){},__evt__move:function(t,e){},__evt__mousemove:function(t,e){},__evt__penmove:function(t,e){},__evt__pointermove:function(t,e){},__evt__touchmove:function(t,e){},__evt__hit:function(t,e,i){},__evt__mousehit:function(t,e,i){},__evt__update:function(){},__evt__boundingbox:function(){},__evt__startselecting:function(){},__evt__mousestartselecting:function(){},__evt__pointerstartselecting:function(){},__evt__touchstartselecting:function(){},__evt__stopselecting:function(){},__evt__mousestopselecting:function(){},__evt__pointerstopselecting:function(){},__evt__touchstopselecting:function(){},__evt__moveselecting:function(){},__evt__mousemoveselecting:function(){},__evt__pointermoveselecting:function(){},__evt__touchmoveselecting:function(){},__evt:function(){},toFullscreen:function(t){var e,i,r;return t=t||this.container,this._fullscreen_inner_id=t,r=this.document.getElementById(t),e="fullscreenwrap_"+t,this.document.getElementById(e)?i=this.document.getElementById(e):((i=document.createElement("div")).classList.add("JXG_wrap_private"),i.setAttribute("id",e),r.parentNode.insertBefore(i,r),i.appendChild(r)),this._fullscreen_res=p._getScaleFactors(r),i.requestFullscreen=i.requestFullscreen||i.webkitRequestFullscreen||i.mozRequestFullScreen||i.msRequestFullscreen,i.requestFullscreen&&i.requestFullscreen(),this},fullscreenListener:function(t){var e,i,r;if(i=this._fullscreen_inner_id,d.exists(i)){if(this.document.fullscreenElement=this.document.fullscreenElement||this.document.webkitFullscreenElement||this.document.mozFullscreenElement||this.document.msFullscreenElement,r=this.document.getElementById(i),this.document.fullscreenElement)e=this._fullscreen_res,r._cssFullscreenStore={id:this.document.fullscreenElement.id,isFullscreen:!0,margin:r.style.margin,width:r.style.width,scale:e.scale,vshift:e.vshift},r.style.margin="",r.style.width=e.width+"px",p.scaleJSXGraphDiv(document.fullscreenElement.id,i,e.scale,e.vshift),this.document.fullscreenElement=null;else if(d.exists(r._cssFullscreenStore)){try{this.document.styleSheets[this.document.styleSheets.length-1].deleteRule(0)}catch(t){console.log("JSXGraph: Could not remove CSS rules for full screen mode")}r._cssFullscreenStore.isFullscreen=!1,r.style.margin=r._cssFullscreenStore.margin,r.style.width=r._cssFullscreenStore.width}this.updateCSSTransforms()}},createRoulette:function(t,e,i,r,o,n,h){var l=this;return new function(){var c,d=0,u=0,p=0,f=i,m=s.root((function(i){var r=t.X(f),s=t.Y(f),o=e.X(i),n=e.Y(i);return(r-o)*(r-o)+(s-n)*(s-n)}),[0,2*Math.PI]),g=0,b=0,v=l.create("transform",[function(){return d}],{type:"rotate"}),y=l.create("transform",[function(){return d},function(){return t.X(f)},function(){return t.Y(f)}],{type:"rotate"}),C=l.create("transform",[function(){return u},function(){return p}],{type:"translate"}),_=function(t,e,i){var r=s.D(t.X)(e),o=s.D(t.Y)(e),n=s.D(t.X)(i),a=s.D(t.Y)(i),h=s.D(t.X)(.5*(e+i)),l=s.D(t.Y)(.5*(e+i)),c=Math.sqrt(r*r+o*o),d=Math.sqrt(n*n+a*a);return(c+4*Math.sqrt(h*h+l*l)+d)*(i-e)/6},P=function(t){return c-_(e,m,t)},E=Math.PI/18,x=9*E,S=null;return this.rolling=function(){var i,n,S,O,w;c=_(t,f,g=f+o*r),b=s.root(P,m),i=new a(t.X(g),t.Y(g)),n=new a(e.X(b),e.Y(b)),S=new a(s.D(t.X)(g),s.D(t.Y)(g)),O=new a(s.D(e.X)(b),s.D(e.Y)(b)),w=a.C.div(S,O),d=Math.atan2(w.imaginary,w.real),w.div(a.C.abs(w)),w.mult(n),u=i.real-w.real,p=i.imaginary-w.imaginary,d<-E&&d>-x?(d=-E,y.applyOnce(h)):d>E&&d<x?(d=E,y.applyOnce(h)):(v.applyOnce(h),C.applyOnce(h),f=g,m=b),l.update()},this.start=function(){return n>0&&(S=window.setInterval(this.rolling,n)),this},this.stop=function(){return window.clearInterval(S),this},this}}}),t.Board})),define("renderer/svg",["jxg","options","renderer/abstract","base/constants","utils/type","utils/color","utils/base64","math/numerics"],(function(t,e,i,r,s,o,n,a){"use strict";return t.SVGRenderer=function(t,i){var r;for(this.type="svg",this.isIE=-1!==navigator.appVersion.indexOf("MSIE")||navigator.userAgent.match(/Trident\//),this.svgRoot=null,this.svgNamespace="http://www.w3.org/2000/svg",this.xlinkNamespace="http://www.w3.org/1999/xlink",this.container=t,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.svgRoot=this.container.ownerDocument.createElementNS(this.svgNamespace,"svg"),this.svgRoot.style.overflow="hidden",this.svgRoot.style.display="block",this.resize(i.width,i.height),this.container.appendChild(this.svgRoot),this.defs=this.container.ownerDocument.createElementNS(this.svgNamespace,"defs"),this.svgRoot.appendChild(this.defs),this.filter=this.container.ownerDocument.createElementNS(this.svgNamespace,"filter"),this.filter.setAttributeNS(null,"id",this.container.id+"_f1"),this.filter.setAttributeNS(null,"width","300%"),this.filter.setAttributeNS(null,"height","300%"),this.filter.setAttributeNS(null,"filterUnits","userSpaceOnUse"),this.feOffset=this.container.ownerDocument.createElementNS(this.svgNamespace,"feOffset"),this.feOffset.setAttributeNS(null,"result","offOut"),this.feOffset.setAttributeNS(null,"in","SourceAlpha"),this.feOffset.setAttributeNS(null,"dx","5"),this.feOffset.setAttributeNS(null,"dy","5"),this.filter.appendChild(this.feOffset),this.feGaussianBlur=this.container.ownerDocument.createElementNS(this.svgNamespace,"feGaussianBlur"),this.feGaussianBlur.setAttributeNS(null,"result","blurOut"),this.feGaussianBlur.setAttributeNS(null,"in","offOut"),this.feGaussianBlur.setAttributeNS(null,"stdDeviation","3"),this.filter.appendChild(this.feGaussianBlur),this.feBlend=this.container.ownerDocument.createElementNS(this.svgNamespace,"feBlend"),this.feBlend.setAttributeNS(null,"in","SourceGraphic"),this.feBlend.setAttributeNS(null,"in2","blurOut"),this.feBlend.setAttributeNS(null,"mode","normal"),this.filter.appendChild(this.feBlend),this.defs.appendChild(this.filter),this.layer=[],r=0;r<e.layer.numlayers;r++)this.layer[r]=this.container.ownerDocument.createElementNS(this.svgNamespace,"g"),this.svgRoot.appendChild(this.layer[r]);this.supportsForeignObject=document.implementation.hasFeature("http://w3.org/TR/SVG11/feature#Extensibility","1.1"),this.supportsForeignObject&&(this.foreignObjLayer=this.container.ownerDocument.createElementNS(this.svgNamespace,"foreignObject"),this.foreignObjLayer.setAttribute("display","none"),this.foreignObjLayer.setAttribute("x",0),this.foreignObjLayer.setAttribute("y",0),this.foreignObjLayer.setAttribute("width","100%"),this.foreignObjLayer.setAttribute("height","100%"),this.foreignObjLayer.setAttribute("id",this.container.id+"_foreignObj"),this.svgRoot.appendChild(this.foreignObjLayer)),this.dashArray=["2, 2","5, 5","10, 10","20, 20","20, 10, 10, 10","20, 5, 10, 5"]},t.SVGRenderer.prototype=new i,t.extend(t.SVGRenderer.prototype,{_createArrowHead:function(t,e,i){var o,n,a,h,l=t.id+"Triangle";return s.exists(e)&&(l+=e),(o=this.createPrim("marker",l)).setAttributeNS(null,"stroke",s.evaluate(t.visProp.strokecolor)),o.setAttributeNS(null,"stroke-opacity",s.evaluate(t.visProp.strokeopacity)),o.setAttributeNS(null,"fill",s.evaluate(t.visProp.strokecolor)),o.setAttributeNS(null,"fill-opacity",s.evaluate(t.visProp.strokeopacity)),o.setAttributeNS(null,"stroke-width",0),o.setAttributeNS(null,"orient","auto"),o.setAttributeNS(null,"markerUnits","strokeWidth"),n=this.container.ownerDocument.createElementNS(this.svgNamespace,"path"),h=5,"End"===e?(a=0,2===i?n.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 L 5,5 z"):3===i?n.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z"):4===i?(h=3.31,n.setAttributeNS(null,"d","M 0.00,3.31 C 3.53,3.84 7.13,4.50 10.00,6.63 C 9.33,5.52 8.67,4.42 8.00,3.31 C 8.67,2.21 9.33,1.10 10.00,0.00 C 7.13,2.13 3.53,2.79 0.00,3.31")):5===i?(h=3.28,n.setAttributeNS(null,"d","M 0.00,3.28 C 3.39,4.19 6.81,5.07 10.00,6.55 C 9.38,5.56 9.00,4.44 9.00,3.28 C 9.00,2.11 9.38,0.99 10.00,0.00 C 6.81,1.49 3.39,2.37 0.00,3.28")):6===i?(h=2.84,n.setAttributeNS(null,"d","M 0.00,2.84 C 3.39,3.59 6.79,4.35 10.00,5.68 C 9.67,4.73 9.33,3.78 9.00,2.84 C 9.33,1.89 9.67,0.95 10.00,0.00 C 6.79,1.33 3.39,2.09 0.00,2.84")):7===i?(h=5.2,n.setAttributeNS(null,"d","M 0.00,5.20 C 4.04,5.20 7.99,6.92 10.00,10.39 M 10.00,0.00 C 7.99,3.47 4.04,5.20 0.00,5.20")):n.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 z"),/*!Type.exists(el.rendNode.getTotalLength) && */t.elementClass===r.OBJECT_CLASS_LINE&&(a=2===i?4.9:3===i?3.3:4===i||5===i||6===i?6.66:7===i?0:10)):(a=10,2===i?n.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 L 5,5 z"):3===i?(a=3.3,n.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z")):4===i?(h=3.31,n.setAttributeNS(null,"d","M 10.00,3.31 C 6.47,3.84 2.87,4.50 0.00,6.63 C 0.67,5.52 1.33,4.42 2.00,3.31 C 1.33,2.21 0.67,1.10 0.00,0.00 C 2.87,2.13 6.47,2.79 10.00,3.31")):5===i?(h=3.28,n.setAttributeNS(null,"d","M 10.00,3.28 C 6.61,4.19 3.19,5.07 0.00,6.55 C 0.62,5.56 1.00,4.44 1.00,3.28 C 1.00,2.11 0.62,0.99 0.00,0.00 C 3.19,1.49 6.61,2.37 10.00,3.28")):6===i?(h=2.84,n.setAttributeNS(null,"d","M 10.00,2.84 C 6.61,3.59 3.21,4.35 0.00,5.68 C 0.33,4.73 0.67,3.78 1.00,2.84 C 0.67,1.89 0.33,0.95 0.00,0.00 C 3.21,1.33 6.61,2.09 10.00,2.84")):7===i?(h=5.2,n.setAttributeNS(null,"d","M 10.00,5.20 C 5.96,5.20 2.01,6.92 0.00,10.39 M 0.00,0.00 C 2.01,3.47 5.96,5.20 10.00,5.20")):n.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 z"),/*!Type.exists(el.rendNode.getTotalLength) &&*/t.elementClass===r.OBJECT_CLASS_LINE&&(a=2===i?5.1:3===i?.02:4===i||5===i||6===i?3.33:7===i?10:.05)),7===i&&(o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"stroke-width",1)),o.setAttributeNS(null,"refY",h),o.setAttributeNS(null,"refX",a),o.appendChild(n),o},_setArrowColor:function(t,e,i,r,o){t&&(s.isString(e)&&(7!==o?this._setAttribute((function(){t.setAttributeNS(null,"stroke",e),t.setAttributeNS(null,"fill",e),t.setAttributeNS(null,"stroke-opacity",i),t.setAttributeNS(null,"fill-opacity",i)}),r.visPropOld.fillcolor):this._setAttribute((function(){t.setAttributeNS(null,"fill","none"),t.setAttributeNS(null,"stroke",e),t.setAttributeNS(null,"stroke-opacity",i)}),r.visPropOld.fillcolor)),this.isIE&&r.rendNode.parentNode.insertBefore(r.rendNode,r.rendNode))},_setArrowWidth:function(t,e,i,r){var s,o;t&&(o=(s=e)*r,t.setAttributeNS(null,"viewBox","0 0 "+10*s+" "+10*s),t.setAttributeNS(null,"markerHeight",o),t.setAttributeNS(null,"markerWidth",o),t.setAttributeNS(null,"display","inherit"),this.isIE&&i.parentNode.insertBefore(i,i))},updateTicks:function(t){var e,i,r,o,n,a,h,l,c="",d=t.ticks.length,u=!0;for(e=0;e<d;e++){for(n=(r=t.ticks[e])[0],a=r[1],h=n.length,l=" M "+n[0]+" "+a[0],s.isNumber(n[0])||(u=!1),i=1;u&&i<h;++i)s.isNumber(n[i])?l+=" L "+n[i]+" "+a[i]:u=!1;u&&(c+=l)}o=t.rendNode,s.exists(o)||(o=this.createPrim("path",t.id),this.appendChildPrim(o,s.evaluate(t.visProp.layer)),t.rendNode=o),o.setAttributeNS(null,"stroke",s.evaluate(t.visProp.strokecolor)),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"stroke-opacity",s.evaluate(t.visProp.strokeopacity)),o.setAttributeNS(null,"stroke-width",s.evaluate(t.visProp.strokewidth)),this.updatePathPrim(o,c,t.board)},displayCopyright:function(t,e){var i,r=this.createPrim("text","licenseText");r.setAttributeNS(null,"x","20px"),r.setAttributeNS(null,"y",2+e+"px"),r.setAttributeNS(null,"style","font-family:Arial,Helvetica,sans-serif; font-size:"+e+"px; fill:#356AA0;  opacity:0.3;"),i=this.container.ownerDocument.createTextNode(t),r.appendChild(i),this.appendChildPrim(r,0)},drawInternalText:function(t){var e=this.createPrim("text",t.id);return e.style.whiteSpace="nowrap",t.rendNodeText=this.container.ownerDocument.createTextNode(""),e.appendChild(t.rendNodeText),this.appendChildPrim(e,s.evaluate(t.visProp.layer)),e},updateInternalText:function(t){var e,i=t.plaintext,r=t.getAnchorX(),o=t.getAnchorY();t.rendNode.getAttributeNS(null,"class")!==t.visProp.cssclass&&(t.rendNode.setAttributeNS(null,"class",s.evaluate(t.visProp.cssclass)),t.needsSizeUpdate=!0),isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])||(e=t.coords.scrCoords[1],t.visPropOld.left!==r+e&&(t.rendNode.setAttributeNS(null,"x",e+"px"),"left"===r?t.rendNode.setAttributeNS(null,"text-anchor","start"):"right"===r?t.rendNode.setAttributeNS(null,"text-anchor","end"):"middle"===r&&t.rendNode.setAttributeNS(null,"text-anchor","middle"),t.visPropOld.left=r+e),e=t.coords.scrCoords[2],t.visPropOld.top!==o+e&&(t.rendNode.setAttributeNS(null,"y",e+.5*this.vOffsetText+"px"),"bottom"===o?t.rendNode.setAttributeNS(null,"dominant-baseline","text-after-edge"):"top"===o?t.rendNode.setAttributeNS(null,"dy","1.6ex"):"middle"===o&&t.rendNode.setAttributeNS(null,"dy","0.6ex"),t.visPropOld.top=o+e)),t.htmlStr!==i&&(t.rendNodeText.data=i,t.htmlStr=i),this.transformImage(t,t.transformations)},updateInternalTextStyle:function(t,e,i,r){this.setObjectFillColor(t,e,i)},drawImage:function(t){var e=this.createPrim("image",t.id);e.setAttributeNS(null,"preserveAspectRatio","none"),this.appendChildPrim(e,s.evaluate(t.visProp.layer)),t.rendNode=e,this.updateImage(t)},transformImage:function(t,e){var i,r=t.rendNode,s="";e.length>0&&(s+=" matrix("+[(i=this.joinTransforms(t,e))[1][1],i[2][1],i[1][2],i[2][2],i[1][0],i[2][0]].join(",")+") ",r.setAttributeNS(null,"transform",s))},updateImageURL:function(t){var e=s.evaluate(t.url);return t._src!==e&&(t.imgIsLoaded=!1,t.rendNode.setAttributeNS(this.xlinkNamespace,"xlink:href",e),t._src=e,!0)},updateImageStyle:function(t,e){var i=s.evaluate(e?t.visProp.highlightcssclass:t.visProp.cssclass);t.rendNode.setAttributeNS(null,"class",i)},drawForeignObject:function(t){t.rendNode=this.appendChildPrim(this.createPrim("foreignObject",t.id),s.evaluate(t.visProp.layer)),this.appendNodesToElement(t,"foreignObject"),this.updateForeignObject(t)},updateForeignObject:function(t){t._useUserSize?t.rendNode.style.overflow="hidden":t.rendNode.style.overflow="visible",this.updateRectPrim(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),t.rendNode.innerHTML=t.content,this._updateVisual(t,{stroke:!0,dash:!0},!0)},appendChildPrim:function(t,i){return s.exists(i)?i>=e.layer.numlayers&&(i=e.layer.numlayers-1):i=0,this.layer[i].appendChild(t),t},createPrim:function(t,e){var i=this.container.ownerDocument.createElementNS(this.svgNamespace,t);return i.setAttributeNS(null,"id",this.container.id+"_"+e),i.style.position="absolute","path"===t&&(i.setAttributeNS(null,"stroke-linecap","round"),i.setAttributeNS(null,"stroke-linejoin","round"),i.setAttributeNS(null,"fill-rule","evenodd")),i},remove:function(t){s.exists(t)&&s.exists(t.parentNode)&&t.parentNode.removeChild(t)},setLayer:function(t,i){s.exists(i)?i>=e.layer.numlayers&&(i=e.layer.numlayers-1):i=0,this.layer[i].appendChild(t.rendNode)},makeArrows:function(t,e){var i,r=e.evFirst,o=e.evLast;t.visPropOld.firstarrow!==r||t.visPropOld.lastarrow!==o?(r?(i=t.rendNodeTriangleStart,s.exists(i)?this.defs.appendChild(i):(i=this._createArrowHead(t,"End",e.typeFirst),this.defs.appendChild(i),t.rendNodeTriangleStart=i,t.rendNode.setAttributeNS(null,"marker-start","url(#"+this.container.id+"_"+t.id+"TriangleEnd)"))):(i=t.rendNodeTriangleStart,s.exists(i)&&this.remove(i)),o?(i=t.rendNodeTriangleEnd,s.exists(i)?this.defs.appendChild(i):(i=this._createArrowHead(t,"Start",e.typeLast),this.defs.appendChild(i),t.rendNodeTriangleEnd=i,t.rendNode.setAttributeNS(null,"marker-end","url(#"+this.container.id+"_"+t.id+"TriangleStart)"))):(i=t.rendNodeTriangleEnd,s.exists(i)&&this.remove(i)),t.visPropOld.firstarrow=r,t.visPropOld.lastarrow=o):this.isIE&&t.visPropCalc.visible&&(r||o)&&t.rendNode.parentNode.insertBefore(t.rendNode,t.rendNode)},updateEllipsePrim:function(t,e,i,r,s){var o;o=2e5,e=Math.abs(e)<o?e:o*e/Math.abs(e),i=Math.abs(i)<o?i:o*i/Math.abs(i),r=Math.abs(r)<o?r:o*r/Math.abs(r),s=Math.abs(s)<o?s:o*s/Math.abs(s),t.setAttributeNS(null,"cx",e),t.setAttributeNS(null,"cy",i),t.setAttributeNS(null,"rx",Math.abs(r)),t.setAttributeNS(null,"ry",Math.abs(s))},updateLinePrim:function(t,e,i,r,s){var o;o=2e5,isNaN(e+i+r+s)||(e=Math.abs(e)<o?e:o*e/Math.abs(e),i=Math.abs(i)<o?i:o*i/Math.abs(i),r=Math.abs(r)<o?r:o*r/Math.abs(r),s=Math.abs(s)<o?s:o*s/Math.abs(s),t.setAttributeNS(null,"x1",e),t.setAttributeNS(null,"y1",i),t.setAttributeNS(null,"x2",r),t.setAttributeNS(null,"y2",s))},updatePathPrim:function(t,e){""===e&&(e="M 0 0"),t.setAttributeNS(null,"d",e)},updatePathStringPoint:function(t,e,i){var r="",s=t.coords.scrCoords,o=e*Math.sqrt(3)*.5,n=.5*e;return"x"===i?r=" M "+(s[1]-e)+" "+(s[2]-e)+" L "+(s[1]+e)+" "+(s[2]+e)+" M "+(s[1]+e)+" "+(s[2]-e)+" L "+(s[1]-e)+" "+(s[2]+e):"+"===i?r=" M "+(s[1]-e)+" "+s[2]+" L "+(s[1]+e)+" "+s[2]+" M "+s[1]+" "+(s[2]-e)+" L "+s[1]+" "+(s[2]+e):"<>"===i?r=" M "+(s[1]-e)+" "+s[2]+" L "+s[1]+" "+(s[2]+e)+" L "+(s[1]+e)+" "+s[2]+" L "+s[1]+" "+(s[2]-e)+" Z ":"^"===i?r=" M "+s[1]+" "+(s[2]-e)+" L "+(s[1]-o)+" "+(s[2]+n)+" L "+(s[1]+o)+" "+(s[2]+n)+" Z ":"v"===i?r=" M "+s[1]+" "+(s[2]+e)+" L "+(s[1]-o)+" "+(s[2]-n)+" L "+(s[1]+o)+" "+(s[2]-n)+" Z ":">"===i?r=" M "+(s[1]+e)+" "+s[2]+" L "+(s[1]-n)+" "+(s[2]-o)+" L "+(s[1]-n)+" "+(s[2]+o)+" Z ":"<"===i&&(r=" M "+(s[1]-e)+" "+s[2]+" L "+(s[1]+n)+" "+(s[2]-o)+" L "+(s[1]+n)+" "+(s[2]+o)+" Z "),r},updatePathStringPrim:function(t){var e,i,r,s=" M ",o=s,n=5e3,a="";if(t.numberPoints<=0)return"";if(r=Math.min(t.points.length,t.numberPoints),1===t.bezierDegree)for(e=0;e<r;e++)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?o=s:(i[1]=Math.max(Math.min(i[1],n),-5e3),i[2]=Math.max(Math.min(i[2],n),-5e3),a+=o+i[1]+" "+i[2],o=" L ");else if(3===t.bezierDegree)for(e=0;e<r;)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?o=s:(a+=o+i[1]+" "+i[2]," C "===o&&(e+=1,a+=" "+(i=t.points[e].scrCoords)[1]+" "+i[2],e+=1,a+=" "+(i=t.points[e].scrCoords)[1]+" "+i[2]),o=" C "),e+=1;return a},updatePathStringBezierPrim:function(t){var e,i,r,o,n,h,l,c=" M ",d=c,u=5e3,p="",f=s.evaluate(t.visProp.strokewidth),m="plot"!==s.evaluate(t.visProp.curvetype);if(t.numberPoints<=0)return"";for(m&&t.board.options.curve.RDPsmoothing&&(t.points=a.RamerDouglasPeucker(t.points,.5)),l=Math.min(t.points.length,t.numberPoints),i=1;i<3;i++)for(d=c,e=0;e<l;e++)o=t.points[e].scrCoords,isNaN(o[1])||isNaN(o[2])?d=c:(o[1]=Math.max(Math.min(o[1],u),-5e3),o[2]=Math.max(Math.min(o[2],u),-5e3),d===c?p+=d+o[1]+" "+o[2]:(r=2*i,p+=[d,n+.333*(o[1]-n)+f*(r*Math.random()-i)," ",h+.333*(o[2]-h)+f*(r*Math.random()-i)," ",n+.666*(o[1]-n)+f*(r*Math.random()-i)," ",h+.666*(o[2]-h)+f*(r*Math.random()-i)," ",o[1]," ",o[2]].join("")),d=" C ",n=o[1],h=o[2]);return p},updatePolygonPrim:function(t,e){var i,r,s="",o=e.vertices.length;for(t.setAttributeNS(null,"stroke","none"),"polygonalchain"===e.elType&&o++,i=0;i<o-1;i++){if(!e.vertices[i].isReal)return void t.setAttributeNS(null,"points","");s=s+(r=e.vertices[i].coords.scrCoords)[1]+","+r[2],i<o-2&&(s+=" ")}-1===s.indexOf("NaN")&&t.setAttributeNS(null,"points",s)},updateRectPrim:function(t,e,i,r,s){t.setAttributeNS(null,"x",e),t.setAttributeNS(null,"y",i),t.setAttributeNS(null,"width",r),t.setAttributeNS(null,"height",s)},setPropertyPrim:function(t,e,i){"stroked"!==e&&t.setAttributeNS(null,e,i)},display:function(t,e){var i;t&&t.rendNode&&(t.visPropOld.visible=e,i=t.rendNode,e?(i.setAttributeNS(null,"display","inline"),i.style.visibility="inherit"):(i.setAttributeNS(null,"display","none"),i.style.visibility="hidden"))},show:function(e){t.deprecated("Board.renderer.show()","Board.renderer.display()"),this.display(e,!0)},hide:function(e){t.deprecated("Board.renderer.hide()","Board.renderer.display()"),this.display(e,!1)},setBuffering:function(t,e){t.rendNode.setAttribute("buffered-rendering",e)},setDashStyle:function(t){var e=s.evaluate(t.visProp.dash),i=t.rendNode;e>0?i.setAttributeNS(null,"stroke-dasharray",this.dashArray[e-1]):i.hasAttributeNS(null,"stroke-dasharray")&&i.removeAttributeNS(null,"stroke-dasharray")},setGradient:function(t){var e,i,r,o=t.rendNode,n=s.evaluate(t.visProp.gradient);"linear"===n||"radial"===n?(e=this.createPrim(n+"Gradient",t.id+"_gradient"),i=this.createPrim("stop",t.id+"_gradient1"),r=this.createPrim("stop",t.id+"_gradient2"),e.appendChild(i),e.appendChild(r),this.defs.appendChild(e),o.setAttributeNS(null,"style","fill:url(#"+this.container.id+"_"+t.id+"_gradient)"),t.gradNode1=i,t.gradNode2=r,t.gradNode=e):o.removeAttributeNS(null,"style")},updateGradientAngle:function(t,e){var i=1,r=Math.cos(e),s=Math.sin(e);Math.abs(r)>Math.abs(s)?i/=Math.abs(r):i/=Math.abs(s),r>=0?(t.setAttributeNS(null,"x1",0),t.setAttributeNS(null,"x2",r*i)):(t.setAttributeNS(null,"x1",-r*i),t.setAttributeNS(null,"x2",0)),s>=0?(t.setAttributeNS(null,"y1",0),t.setAttributeNS(null,"y2",s*i)):(t.setAttributeNS(null,"y1",-s*i),t.setAttributeNS(null,"y2",0))},updateGradientCircle:function(t,e,i,r,s,o,n){t.setAttributeNS(null,"cx",100*e+"%"),t.setAttributeNS(null,"cy",100*i+"%"),t.setAttributeNS(null,"r",100*r+"%"),t.setAttributeNS(null,"fx",100*s+"%"),t.setAttributeNS(null,"fy",100*o+"%"),t.setAttributeNS(null,"fr",100*n+"%")},updateGradient:function(t){var e,i,r=t.gradNode1,o=t.gradNode2,n=s.evaluate(t.visProp.gradient);s.exists(r)&&s.exists(o)&&(i=(i=s.evaluate(t.visProp.fillopacity))>0?i:0,e=s.evaluate(t.visProp.fillcolor),r.setAttributeNS(null,"style","stop-color:"+e+";stop-opacity:"+i),o.setAttributeNS(null,"style","stop-color:"+s.evaluate(t.visProp.gradientsecondcolor)+";stop-opacity:"+s.evaluate(t.visProp.gradientsecondopacity)),r.setAttributeNS(null,"offset",100*s.evaluate(t.visProp.gradientstartoffset)+"%"),o.setAttributeNS(null,"offset",100*s.evaluate(t.visProp.gradientendoffset)+"%"),"linear"===n?this.updateGradientAngle(t.gradNode,s.evaluate(t.visProp.gradientangle)):"radial"===n&&this.updateGradientCircle(t.gradNode,s.evaluate(t.visProp.gradientcx),s.evaluate(t.visProp.gradientcy),s.evaluate(t.visProp.gradientr),s.evaluate(t.visProp.gradientfx),s.evaluate(t.visProp.gradientfy),s.evaluate(t.visProp.gradientfr)))},setObjectTransition:function(t,e){var i,o,n,a=["rendNode","rendNodeTriangleStart","rendNodeTriangleEnd"];if(void 0===e&&(e=s.evaluate(t.visProp.transitionduration)),e!==t.visPropOld.transitionduration){for(i=t.elementClass===r.OBJECT_CLASS_TEXT&&"html"===s.evaluate(t.visProp.display)?" color "+e+"ms, opacity "+e+"ms":" fill "+e+"ms, fill-opacity "+e+"ms, stroke "+e+"ms, stroke-opacity "+e+"ms",n=a.length,o=0;o<n;++o)t[a[o]]&&(t[a[o]].style.transition=i);t.visPropOld.transitionduration=e}},_setAttribute:function(t,e){""===e?t():window.setTimeout(t,1)},setObjectFillColor:function(e,i,r,n){var a,h,l,c,d=s.evaluate(i),u=s.evaluate(r),p=s.evaluate(e.visProp.gradient);u=u>0?u:0,e.visPropOld.fillcolor===d&&e.visPropOld.fillopacity===u&&null===p||(s.exists(d)&&!1!==d&&(9!==d.length?(h=d,c=u):(l=o.rgba2rgbo(d),h=l[0],c=u*l[1]),a=void 0===n?e.rendNode:n,"none"!==h&&this._setAttribute((function(){a.setAttributeNS(null,"fill",h)}),e.visPropOld.fillcolor),e.type===t.OBJECT_TYPE_IMAGE?this._setAttribute((function(){a.setAttributeNS(null,"opacity",c)}),e.visPropOld.fillopacity):("none"===h?(c=0,a.setAttributeNS(null,"pointer-events","visibleStroke")):a.setAttributeNS(null,"pointer-events","visiblePainted"),this._setAttribute((function(){a.setAttributeNS(null,"fill-opacity",c)}),e.visPropOld.fillopacity)),"linear"!==p&&"radial"!==p||this.updateGradient(e)),e.visPropOld.fillcolor=d,e.visPropOld.fillopacity=u)},setObjectStrokeColor:function(t,e,i){var n,a,h,l,c=s.evaluate(e),d=s.evaluate(i);d=d>0?d:0,t.visPropOld.strokecolor===c&&t.visPropOld.strokeopacity===d||(s.exists(c)&&!1!==c&&(9!==c.length?(n=c,h=d):(a=o.rgba2rgbo(c),n=a[0],h=d*a[1]),l=t.rendNode,t.elementClass===r.OBJECT_CLASS_TEXT?"html"===s.evaluate(t.visProp.display)?this._setAttribute((function(){l.style.color=n,l.style.opacity=h}),t.visPropOld.strokecolor):this._setAttribute((function(){l.setAttributeNS(null,"style","fill:"+n),l.setAttributeNS(null,"style","fill-opacity:"+h)}),t.visPropOld.strokecolor):this._setAttribute((function(){l.setAttributeNS(null,"stroke",n),l.setAttributeNS(null,"stroke-opacity",h)}),t.visPropOld.strokecolor),t.elementClass!==r.OBJECT_CLASS_CURVE&&t.elementClass!==r.OBJECT_CLASS_LINE||(s.evaluate(t.visProp.firstarrow)&&this._setArrowColor(t.rendNodeTriangleStart,n,h,t,t.visPropCalc.typeFirst),s.evaluate(t.visProp.lastarrow)&&this._setArrowColor(t.rendNodeTriangleEnd,n,h,t,t.visPropCalc.typeLast))),t.visPropOld.strokecolor=c,t.visPropOld.strokeopacity=d)},setObjectStrokeWidth:function(t,e){var i,r=s.evaluate(e);isNaN(r)||t.visPropOld.strokewidth===r||(i=t.rendNode,this.setPropertyPrim(i,"stroked","true"),s.exists(r)&&this.setPropertyPrim(i,"stroke-width",r+"px"),t.visPropOld.strokewidth=r)},setLineCap:function(t){var e=s.evaluate(t.visProp.linecap);void 0!==e&&""!==e&&t.visPropOld.linecap!==e&&s.exists(t.rendNode)&&(this.setPropertyPrim(t.rendNode,"stroke-linecap",e),t.visPropOld.linecap=e)},setShadow:function(t){var e=s.evaluate(t.visProp.shadow);t.visPropOld.shadow!==e&&(s.exists(t.rendNode)&&(e?t.rendNode.setAttributeNS(null,"filter","url(#"+this.container.id+"_f1)"):t.rendNode.removeAttributeNS(null,"filter")),t.visPropOld.shadow=e)},suspendRedraw:function(){},unsuspendRedraw:function(){},resize:function(t,e){this.svgRoot.setAttribute("width",parseFloat(t)),this.svgRoot.setAttribute("height",parseFloat(e))},createTouchpoints:function(t){var e,i,r,s;for(this.touchpoints=[],e=0;e<t;e++)i="touchpoint1_"+e,s=this.createPrim("path",i),this.appendChildPrim(s,19),s.setAttributeNS(null,"d","M 0 0"),this.touchpoints.push(s),this.setPropertyPrim(s,"stroked","true"),this.setPropertyPrim(s,"stroke-width","1px"),s.setAttributeNS(null,"stroke","#000000"),s.setAttributeNS(null,"stroke-opacity",1),s.setAttributeNS(null,"display","none"),r="touchpoint2_"+e,s=this.createPrim("ellipse",r),this.appendChildPrim(s,19),this.updateEllipsePrim(s,0,0,0,0),this.touchpoints.push(s),this.setPropertyPrim(s,"stroked","true"),this.setPropertyPrim(s,"stroke-width","1px"),s.setAttributeNS(null,"stroke","#000000"),s.setAttributeNS(null,"stroke-opacity",1),s.setAttributeNS(null,"fill","#ffffff"),s.setAttributeNS(null,"fill-opacity",0),s.setAttributeNS(null,"display","none")},showTouchpoint:function(t){this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(this.touchpoints[2*t].setAttributeNS(null,"display","inline"),this.touchpoints[2*t+1].setAttributeNS(null,"display","inline"))},hideTouchpoint:function(t){this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(this.touchpoints[2*t].setAttributeNS(null,"display","none"),this.touchpoints[2*t+1].setAttributeNS(null,"display","none"))},updateTouchpoint:function(t,e){var i,r;this.touchpoints&&t>=0&&2*t<this.touchpoints.length&&(i=e[0],r=e[1],this.touchpoints[2*t].setAttributeNS(null,"d","M "+(i-37)+" "+r+" L "+(i+37)+" "+r+" M "+i+" "+(r-37)+" L "+i+" "+(r+37)),this.updateEllipsePrim(this.touchpoints[2*t+1],e[0],e[1],25,25))},_getValuesOfDOMElements:function(t){var e=[];if(1===t.nodeType)for(t=t.firstChild;t;)void 0!==t.id&&void 0!==t.value&&e.push([t.id,t.value]),e=e.concat(this._getValuesOfDOMElements(t)),t=t.nextSibling;return e},_getDataUri:function(t,e){var i=new Image;i.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(this,0,0),e(t.toDataURL("image/png")),t.remove()},i.src=t},_getImgDataURL:function(t){var e,i,r,s,o,n;if((i=(e=t.getElementsByTagName("image")).length)>0)for(r=document.createElement("canvas"),n=0;n<i;n++){e[n].setAttribute("crossorigin","anonymous"),s=r.getContext("2d"),r.width=e[n].getAttribute("width"),r.height=e[n].getAttribute("height");try{s.drawImage(e[n],0,0,r.width,r.height),o=r.toDataURL(),e[n].setAttribute("xlink:href",o)}catch(t){console.log("CORS problem! Image can not be used",t)}}return!0},dumpToDataURI:function(t){var e,i,r,o=this.svgRoot,a=window.btoa||n.encode,h=[];if(this.container.hasChildNodes()&&s.exists(this.foreignObjLayer))for(t||this.foreignObjLayer.setAttribute("display","inline");o.nextSibling;)h=h.concat(this._getValuesOfDOMElements(o.nextSibling)),this.foreignObjLayer.appendChild(o.nextSibling);if(this._getImgDataURL(o),o.setAttribute("xmlns","http://www.w3.org/2000/svg"),e=(new XMLSerializer).serializeToString(o),!0!==t)for(r=h.length,i=0;i<r;i++)e=e.replace('id="'+h[i][0]+'"','id="'+h[i][0]+'" value="'+h[i][1]+'"');if((e.match(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g)||[]).length>1&&(e=e.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"")),e=e.replace(/&nbsp;/g," "),s.exists(this.foreignObjLayer)&&this.foreignObjLayer.hasChildNodes()){for(;this.foreignObjLayer.firstChild;)this.container.appendChild(this.foreignObjLayer.firstChild);this.foreignObjLayer.setAttribute("display","none")}return"data:image/svg+xml;base64,"+a(unescape(encodeURIComponent(e)))},dumpToCanvas:function(t,e,i,r){var s,o,n,a;return(n=this.container.ownerDocument.getElementById(t)).width=n.width,a=n.getContext("2d"),void 0!==e&&void 0!==i&&(n.style.width=parseFloat(e)+"px",n.style.height=parseFloat(i)+"px",n.setAttribute("width",parseFloat(e)),n.setAttribute("height",parseFloat(i))),o=new Image,s=this.dumpToDataURI(r),o.src=s,"Promise"in window?new Promise((function(t,r){try{o.onload=function(){a.drawImage(o,0,0,e,i),t()}}catch(t){r(t)}})):(o.onload=function(){window.setTimeout((function(){try{a.drawImage(o,0,0,e,i)}catch(t){console.log("screenshots not longer supported on IE")}}),200)},this)},screenshot:function(t,e,i){var r,o,n,a,h,l,c,d,u,p,f,m=this.container.ownerDocument,g=this.container.parentNode,b=t.attr.screenshot,v=!1;return"no"===this.type||(c=b.scale*this.container.getBoundingClientRect().width,d=b.scale*this.container.getBoundingClientRect().height,void 0===e||""===e?(v=!0,(a=new Image).style.width=c+"px",a.style.height=d+"px"):(v=!1,a=m.getElementById(e)),v&&((r=m.createElement("div")).style.cssText=b.css,r.style.width=c+"px",r.style.height=d+"px",r.style.zIndex=this.container.style.zIndex+120,r.style.position="absolute",r.style.top=this.container.offsetTop+"px",r.style.left=this.container.offsetLeft+"px"),o=m.createElement("canvas"),n=Math.random().toString(36).substr(2,5),o.setAttribute("id",n),o.setAttribute("width",c),o.setAttribute("height",d),o.style.width=c+"px",o.style.height=c+"px",o.style.display="none",g.appendChild(o),v&&(h=m.createElement("span"),l=m.createTextNode("✖"),h.style.cssText=b.cssButton,h.appendChild(l),h.onclick=function(){r.parentNode.removeChild(r)},r.appendChild(a),r.appendChild(h),g.insertBefore(r,this.container.nextSibling)),u=m.getElementById(this.container.id+"_navigationbar"),s.exists(u)&&(p=u.style.display,u.style.display="none"),f=function(){a.src=o.toDataURL("image/png"),g.removeChild(o)},"Promise"in window?this.dumpToCanvas(n,c,d,i).then(f):(this.dumpToCanvas(n,c,d,i),window.setTimeout(f,200)),s.exists(u)&&(u.style.display=p)),this}}),t.SVGRenderer})),define("renderer/vml",["jxg","renderer/abstract","base/constants","utils/type","utils/color","math/math","math/numerics"],(function(t,e,i,r,s,o,n){"use strict";return t.VMLRenderer=function(e){this.type="vml",this.container=e,this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.onselectstart=function(){return!1},this.resolution=10,r.exists(t.vmlStylesheet)||(e.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),t.vmlStylesheet=this.container.ownerDocument.createStyleSheet(),t.vmlStylesheet.addRule(".jxgvml","behavior:url(#default#VML)"));try{e.ownerDocument.namespaces.jxgvml||e.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),this.createNode=function(t){return e.ownerDocument.createElement("<jxgvml:"+t+' class="jxgvml">')}}catch(t){this.createNode=function(t){return e.ownerDocument.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="jxgvml">')}}this.dashArray=["Solid","1 1","ShortDash","Dash","LongDash","ShortDashDot","LongDashDot"]},t.VMLRenderer.prototype=new e,t.extend(t.VMLRenderer.prototype,{_setAttr:function(e,i,r,s){try{8===this.container.ownerDocument.documentMode?e[i]=r:e.setAttribute(i,r,s)}catch(e){t.debug("_setAttr: "+i+" "+r+"<br>\n")}},updateTicks:function(t){var e,i,s,o,n,a=this.resolution,h=[];for(i=t.ticks.length,e=0;e<i;e++)o=(s=t.ticks[e])[0],n=s[1],r.isNumber(o[0])&&r.isNumber(o[1])&&h.push(" m "+Math.round(a*o[0])+", "+Math.round(a*n[0])+" l "+Math.round(a*o[1])+", "+Math.round(a*n[1])+" ");r.exists(t.rendNode)||(t.rendNode=this.createPrim("path",t.id),this.appendChildPrim(t.rendNode,r.evaluate(t.visProp.layer))),this._setAttr(t.rendNode,"stroked","true"),this._setAttr(t.rendNode,"strokecolor",r.evaluate(t.visProp.strokecolor),1),this._setAttr(t.rendNode,"strokeweight",r.evaluate(t.visProp.strokewidth)),this._setAttr(t.rendNodeStroke,"opacity",100*r.evaluate(t.visProp.strokeopacity)+"%"),this.updatePathPrim(t.rendNode,h,t.board)},displayCopyright:function(t,e){var i,r;(i=this.createNode("textbox")).style.position="absolute",this._setAttr(i,"id",this.container.id+"_licenseText"),i.style.left=20,i.style.top=2,i.style.fontSize=e,i.style.color="#356AA0",i.style.fontFamily="Arial,Helvetica,sans-serif",this._setAttr(i,"opacity","30%"),i.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 30, enabled = true)",r=this.container.ownerDocument.createTextNode(t),i.appendChild(r),this.appendChildPrim(i,0)},drawInternalText:function(t){var e;return(e=this.createNode("textbox")).style.position="absolute",t.rendNodeText=this.container.ownerDocument.createTextNode(""),e.appendChild(t.rendNodeText),this.appendChildPrim(e,9),e.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",e},updateInternalText:function(t){var e,i,r,s,n,a,h=t.plaintext,l=this.joinTransforms(t,t.transformations),c=[0,0],d=t.rendNode,u=[],p=t.getAnchorX(),f=t.getAnchorY();if(!isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])){for("right"===p?c[0]=1:"middle"===p&&(c[0]=.5),"bottom"===f?c[1]=1:"middle"===f&&(c[1]=.5),u[0]=o.matVecMult(l,[1,t.coords.scrCoords[1]-c[0]*t.size[0],t.coords.scrCoords[2]+(1-c[1])*t.size[1]+this.vOffsetText]),u[0][1]/=u[0][0],u[0][2]/=u[0][0],u[1]=o.matVecMult(l,[1,t.coords.scrCoords[1]+(1-c[0])*t.size[0],t.coords.scrCoords[2]+(1-c[1])*t.size[1]+this.vOffsetText]),u[1][1]/=u[1][0],u[1][2]/=u[1][0],u[2]=o.matVecMult(l,[1,t.coords.scrCoords[1]+(1-c[0])*t.size[0],t.coords.scrCoords[2]-c[1]*t.size[1]+this.vOffsetText]),u[2][1]/=u[2][0],u[2][2]/=u[2][0],u[3]=o.matVecMult(l,[1,t.coords.scrCoords[1]-c[0]*t.size[0],t.coords.scrCoords[2]-c[1]*t.size[1]+this.vOffsetText]),u[3][1]/=u[3][0],u[3][2]/=u[3][0],i=u[0][1],s=u[0][1],r=u[0][2],n=u[0][2],a=1;a<4;a++)i=Math.max(i,u[a][1]),s=Math.min(s,u[a][1]),r=Math.max(r,u[a][2]),n=Math.min(n,u[a][2]);e=1===c[0]?Math.floor(t.board.canvasWidth-i):Math.floor(s),t.visPropOld.left!==p+e&&(1===c[0]?(t.rendNode.style.right=e+"px",t.rendNode.style.left="auto"):(t.rendNode.style.left=e+"px",t.rendNode.style.right="auto"),t.visPropOld.left=p+e),e=1===c[1]?Math.floor(t.board.canvasHeight-r):Math.floor(n),t.visPropOld.top!==f+e&&(1===c[1]?(t.rendNode.style.bottom=e+"px",t.rendNode.style.top="auto"):(t.rendNode.style.top=e+"px",t.rendNode.style.bottom="auto"),t.visPropOld.top=f+e)}t.htmlStr!==h&&(t.rendNodeText.data=h,t.htmlStr=h),d.filters.item(0).M11=l[1][1],d.filters.item(0).M12=l[1][2],d.filters.item(0).M21=l[2][1],d.filters.item(0).M22=l[2][2],d.filters.item(0).enabled=!0},drawImage:function(t){var e;(e=this.container.ownerDocument.createElement("img")).style.position="absolute",this._setAttr(e,"id",this.container.id+"_"+t.id),this.container.appendChild(e),this.appendChildPrim(e,r.evaluate(t.visProp.layer)),e.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",t.rendNode=e,this.updateImage(t)},transformImage:function(t,e){var i,r,s,n,a,h,l=t.rendNode,c=[];if(e.length>0){for(i=this.joinTransforms(t,e),c[0]=o.matVecMult(i,t.coords.scrCoords),c[0][1]/=c[0][0],c[0][2]/=c[0][0],c[1]=o.matVecMult(i,[1,t.coords.scrCoords[1]+t.size[0],t.coords.scrCoords[2]]),c[1][1]/=c[1][0],c[1][2]/=c[1][0],c[2]=o.matVecMult(i,[1,t.coords.scrCoords[1]+t.size[0],t.coords.scrCoords[2]-t.size[1]]),c[2][1]/=c[2][0],c[2][2]/=c[2][0],c[3]=o.matVecMult(i,[1,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1]]),c[3][1]/=c[3][0],c[3][2]/=c[3][0],r=c[0][1],n=c[0][1],s=c[0][2],a=c[0][2],h=1;h<4;h++)r=Math.max(r,c[h][1]),n=Math.min(n,c[h][1]),s=Math.max(s,c[h][2]),a=Math.min(a,c[h][2]);l.style.left=Math.floor(n)+"px",l.style.top=Math.floor(a)+"px",l.filters.item(0).M11=i[1][1],l.filters.item(0).M12=i[1][2],l.filters.item(0).M21=i[2][1],l.filters.item(0).M22=i[2][2],l.filters.item(0).enabled=!0}},updateImageURL:function(t){var e=r.evaluate(t.url);this._setAttr(t.rendNode,"src",e)},appendChildPrim:function(t,e){return r.exists(e)||(e=0),t.style.zIndex=e,this.container.appendChild(t),t},appendNodesToElement:function(t,e){"shape"!==e&&"path"!==e&&"polygon"!==e||(t.rendNodePath=this.getElementById(t.id+"_path")),t.rendNodeFill=this.getElementById(t.id+"_fill"),t.rendNodeStroke=this.getElementById(t.id+"_stroke"),t.rendNodeShadow=this.getElementById(t.id+"_shadow"),t.rendNode=this.getElementById(t.id)},createPrim:function(t,e){var i,r,s=this.createNode("fill"),o=this.createNode("stroke"),n=this.createNode("shadow");return this._setAttr(s,"id",this.container.id+"_"+e+"_fill"),this._setAttr(o,"id",this.container.id+"_"+e+"_stroke"),this._setAttr(n,"id",this.container.id+"_"+e+"_shadow"),"circle"===t||"ellipse"===t?((i=this.createNode("oval")).appendChild(s),i.appendChild(o),i.appendChild(n)):"polygon"===t||"path"===t||"shape"===t||"line"===t?((i=this.createNode("shape")).appendChild(s),i.appendChild(o),i.appendChild(n),r=this.createNode("path"),this._setAttr(r,"id",this.container.id+"_"+e+"_path"),i.appendChild(r)):((i=this.createNode(t)).appendChild(s),i.appendChild(o),i.appendChild(n)),i.style.position="absolute",i.style.left="0px",i.style.top="0px",this._setAttr(i,"id",this.container.id+"_"+e),i},remove:function(t){r.exists(t)&&t.removeNode(!0)},makeArrows:function(t){var e,i=r.evaluate(t.visProp.firstarrow),s=r.evaluate(t.visProp.lastarrow);t.visPropOld.firstarrow===i&&t.visPropOld.lastarrow===s||(i?(e=t.rendNodeStroke,this._setAttr(e,"startarrow","block"),this._setAttr(e,"startarrowlength","long")):(e=t.rendNodeStroke,r.exists(e)&&this._setAttr(e,"startarrow","none")),s?(e=t.rendNodeStroke,this._setAttr(e,"id",this.container.id+"_"+t.id+"stroke"),this._setAttr(e,"endarrow","block"),this._setAttr(e,"endarrowlength","long")):(e=t.rendNodeStroke,r.exists(e)&&this._setAttr(e,"endarrow","none")),t.visPropOld.firstarrow=i,t.visPropOld.lastarrow=s)},updateEllipsePrim:function(t,e,i,r,s){t.style.left=Math.floor(e-r)+"px",t.style.top=Math.floor(i-s)+"px",t.style.width=Math.floor(2*Math.abs(r))+"px",t.style.height=Math.floor(2*Math.abs(s))+"px"},updateLinePrim:function(t,e,i,r,s,o){var n,a=this.resolution;isNaN(e+i+r+s)||(n=["m ",Math.floor(a*e),", ",Math.floor(a*i)," l ",Math.floor(a*r),", ",Math.floor(a*s)],this.updatePathPrim(t,n,o))},updatePathPrim:function(t,e,i){var r=i.canvasWidth,s=i.canvasHeight;e.length<=0&&(e=["m 0,0"]),t.style.width=r,t.style.height=s,this._setAttr(t,"coordsize",[Math.floor(this.resolution*r),Math.floor(this.resolution*s)].join(",")),this._setAttr(t,"path",e.join(""))},updatePathStringPoint:function(t,e,i){var r=[],s=Math.round,o=t.coords.scrCoords,n=e*Math.sqrt(3)*.5,a=.5*e,h=this.resolution;return"x"===i?r.push([" m ",s(h*(o[1]-e)),", ",s(h*(o[2]-e))," l ",s(h*(o[1]+e)),", ",s(h*(o[2]+e))," m ",s(h*(o[1]+e)),", ",s(h*(o[2]-e))," l ",s(h*(o[1]-e)),", ",s(h*(o[2]+e))].join("")):"+"===i?r.push([" m ",s(h*(o[1]-e)),", ",s(h*o[2])," l ",s(h*(o[1]+e)),", ",s(h*o[2])," m ",s(h*o[1]),", ",s(h*(o[2]-e))," l ",s(h*o[1]),", ",s(h*(o[2]+e))].join("")):"<>"===i?r.push([" m ",s(h*(o[1]-e)),", ",s(h*o[2])," l ",s(h*o[1]),", ",s(h*(o[2]+e))," l ",s(h*(o[1]+e)),", ",s(h*o[2])," l ",s(h*o[1]),", ",s(h*(o[2]-e))," x e "].join("")):"^"===i?r.push([" m ",s(h*o[1]),", ",s(h*(o[2]-e))," l ",s(h*(o[1]-n)),", ",s(h*(o[2]+a))," l ",s(h*(o[1]+n)),", ",s(h*(o[2]+a))," x e "].join("")):"v"===i?r.push([" m ",s(h*o[1]),", ",s(h*(o[2]+e))," l ",s(h*(o[1]-n)),", ",s(h*(o[2]-a))," l ",s(h*(o[1]+n)),", ",s(h*(o[2]-a))," x e "].join("")):">"===i?r.push([" m ",s(h*(o[1]+e)),", ",s(h*o[2])," l ",s(h*(o[1]-a)),", ",s(h*(o[2]-n))," l ",s(h*(o[1]-a)),", ",s(h*(o[2]+n))," l ",s(h*(o[1]+e)),", ",s(h*o[2])].join("")):"<"===i&&r.push([" m ",s(h*(o[1]-e)),", ",s(h*o[2])," l ",s(h*(o[1]+a)),", ",s(h*(o[2]-n))," l ",s(h*(o[1]+a)),", ",s(h*(o[2]+n))," x e "].join("")),r},updatePathStringPrim:function(t){var e,i,r=[],s=this.resolution,o=Math.round,n=" m ",a=n,h=Math.min(t.numberPoints,8192);if(t.numberPoints<=0)return"";if(h=Math.min(h,t.points.length),1===t.bezierDegree)for(e=0;e<h;e++)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?a=n:(i[1]>2e4?i[1]=2e4:i[1]<-2e4&&(i[1]=-2e4),i[2]>2e4?i[2]=2e4:i[2]<-2e4&&(i[2]=-2e4),r.push([a,o(s*i[1]),", ",o(s*i[2])].join("")),a=" l ");else if(3===t.bezierDegree)for(e=0;e<h;)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?a=n:(r.push([a,o(s*i[1]),", ",o(s*i[2])].join(""))," c "===a&&(e+=1,i=t.points[e].scrCoords,r.push([" ",o(s*i[1]),", ",o(s*i[2])].join("")),e+=1,i=t.points[e].scrCoords,r.push([" ",o(s*i[1]),", ",o(s*i[2])].join(""))),a=" c "),e+=1;return r.push(" e"),r},updatePathStringBezierPrim:function(t){var e,i,s,o,a,h,l=[],c=r.evaluate(t.visProp.strokewidth),d=this.resolution,u=Math.round,p=" m ",f=p,m="plot"!==r.evaluate(t.visProp.curvetype),g=Math.min(t.numberPoints,8192);if(t.numberPoints<=0)return"";for(m&&t.board.options.curve.RDPsmoothing&&(t.points=n.RamerDouglasPeucker(t.points,1)),g=Math.min(g,t.points.length),i=1;i<3;i++)for(f=p,e=0;e<g;e++)o=t.points[e].scrCoords,isNaN(o[1])||isNaN(o[2])?f=p:(o[1]>2e4?o[1]=2e4:o[1]<-2e4&&(o[1]=-2e4),o[2]>2e4?o[2]=2e4:o[2]<-2e4&&(o[2]=-2e4),f===p?l.push([f,u(d*o[1])," ",u(d*o[2])].join("")):(s=2*i,l.push([f,u(d*(a+.333*(o[1]-a)+c*(s*Math.random()-i)))," ",u(d*(h+.333*(o[2]-h)+c*(s*Math.random()-i)))," ",u(d*(a+.666*(o[1]-a)+c*(s*Math.random()-i)))," ",u(d*(h+.666*(o[2]-h)+c*(s*Math.random()-i)))," ",u(d*o[1])," ",u(d*o[2])].join(""))),f=" c ",a=o[1],h=o[2]);return l.push(" e"),l},updatePolygonPrim:function(t,e){var i,r,s=e.vertices.length,o=this.resolution,n=[];if(this._setAttr(t,"stroked","false"),r=e.vertices[0].coords.scrCoords,!isNaN(r[1]+r[2])){for(n.push(["m ",Math.floor(o*r[1]),",",Math.floor(o*r[2])," l "].join("")),i=1;i<s-1;i++){if(!e.vertices[i].isReal)return void this.updatePathPrim(t,"",e.board);if(r=e.vertices[i].coords.scrCoords,isNaN(r[1]+r[2]))return;n.push(Math.floor(o*r[1])+","+Math.floor(o*r[2])),i<s-2&&n.push(", ")}n.push(" x e"),this.updatePathPrim(t,n,e.board)}},updateRectPrim:function(t,e,i,r,s){t.style.left=Math.floor(e)+"px",t.style.top=Math.floor(i)+"px",r>=0&&(t.style.width=r+"px"),s>=0&&(t.style.height=s+"px")},setPropertyPrim:function(t,e,i){var s,o="";switch(e){case"stroke":o="strokecolor";break;case"stroke-width":o="strokeweight";break;case"stroke-dasharray":o="dashstyle"}""!==o&&(s=r.evaluate(i),this._setAttr(t,o,s))},display:function(t,e){t&&t.rendNode&&(t.visPropOld.visible=e,t.rendNode.style.visibility=e?"inherit":"hidden")},show:function(e){t.deprecated("Board.renderer.show()","Board.renderer.display()"),e&&e.rendNode&&(e.rendNode.style.visibility="inherit")},hide:function(e){t.deprecated("Board.renderer.hide()","Board.renderer.display()"),e&&e.rendNode&&(e.rendNode.style.visibility="hidden")},setDashStyle:function(t,e){var i;e.dash>=0&&(i=t.rendNodeStroke,this._setAttr(i,"dashstyle",this.dashArray[e.dash]))},setGradient:function(t){var e=t.rendNodeFill,i=r.evaluate(t.visProp.gradient);"linear"===i?(this._setAttr(e,"type","gradient"),this._setAttr(e,"color2",r.evaluate(t.visProp.gradientsecondcolor)),this._setAttr(e,"opacity2",r.evaluate(t.visProp.gradientsecondopacity)),this._setAttr(e,"angle",r.evaluate(t.visProp.gradientangle))):"radial"===i?(this._setAttr(e,"type","gradientradial"),this._setAttr(e,"color2",r.evaluate(t.visProp.gradientsecondcolor)),this._setAttr(e,"opacity2",r.evaluate(t.visProp.gradientsecondopacity)),this._setAttr(e,"focusposition",100*r.evaluate(t.visProp.gradientpositionx)+"%,"+100*r.evaluate(t.visProp.gradientpositiony)+"%"),this._setAttr(e,"focussize","0,0")):this._setAttr(e,"type","solid")},setObjectFillColor:function(t,e,o){var n,a,h,l=r.evaluate(e),c=r.evaluate(o),d=t.rendNode;c=c>0?c:0,t.visPropOld.fillcolor===l&&t.visPropOld.fillopacity===c||(r.exists(l)&&!1!==l&&(9!==l.length?(n=l,h=c):(n=(a=s.rgba2rgbo(l))[0],h=c*a[1]),"none"===n||!1===n?this._setAttr(t.rendNode,"filled","false"):(this._setAttr(t.rendNode,"filled","true"),this._setAttr(t.rendNode,"fillcolor",n),r.exists(h)&&t.rendNodeFill&&this._setAttr(t.rendNodeFill,"opacity",100*h+"%")),t.type===i.OBJECT_TYPE_IMAGE&&d.filters.length>1&&(d.filters.item(1).opacity=Math.round(100*h),d.filters.item(1).enabled=!0)),t.visPropOld.fillcolor=l,t.visPropOld.fillopacity=c)},setObjectStrokeColor:function(t,e,s){var o,n,a,h,l=r.evaluate(e),c=r.evaluate(s),d=t.rendNode;c=c>0?c:0,t.visPropOld.strokecolor===l&&t.visPropOld.strokeopacity===c||(r.exists(l)&&!1!==l&&(9!==l.length?(o=l,a=c):(o=(n=e.rgba2rgbo(l))[0],a=c*n[1]),t.elementClass===i.OBJECT_CLASS_TEXT?(d.filters.length>1&&(d.filters.item(1).opacity=Math.round(100*a),d.filters.item(1).enabled=!0),d.style.color=o):(!1!==o&&(this._setAttr(d,"stroked","true"),this._setAttr(d,"strokecolor",o)),h=t.rendNodeStroke,r.exists(a)&&t.type!==i.OBJECT_TYPE_IMAGE&&this._setAttr(h,"opacity",100*a+"%"))),t.visPropOld.strokecolor=l,t.visPropOld.strokeopacity=c)},setObjectStrokeWidth:function(t,e){var i,s=r.evaluate(e);isNaN(s)||t.visPropOld.strokewidth===s||(i=t.rendNode,this.setPropertyPrim(i,"stroked","true"),r.exists(s)&&(this.setPropertyPrim(i,"stroke-width",s),0===s&&r.exists(t.rendNodeStroke)&&this._setAttr(i,"stroked","false")),t.visPropOld.strokewidth=s)},setShadow:function(t){var e=t.rendNodeShadow,i=r.evaluate(t.visProp.shadow);e&&t.visPropOld.shadow!==i&&(i?(this._setAttr(e,"On","True"),this._setAttr(e,"Offset","3pt,3pt"),this._setAttr(e,"Opacity","60%"),this._setAttr(e,"Color","#aaaaaa")):this._setAttr(e,"On","False"),t.visPropOld.shadow=i)},suspendRedraw:function(){this.container.style.display="none"},unsuspendRedraw:function(){this.container.style.display=""}}),t.VMLRenderer})),define("renderer/canvas",["jxg","renderer/abstract","base/constants","utils/env","utils/type","utils/uuid","utils/color","base/coords","math/math","math/geometry","math/numerics"],(function(t,e,i,r,s,o,n,a,h,l,c){"use strict";return t.CanvasRenderer=function(t,e){if(this.type="canvas",this.canvasRoot=null,this.suspendHandle=null,this.canvasId=o.genUUID(),this.canvasNamespace=null,r.isBrowser)this.container=t,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.innerHTML=['<canvas id="',this.canvasId,'" width="',e.width,'px" height="',e.height,'px"><',"/canvas>"].join(""),this.canvasRoot=this.container.ownerDocument.getElementById(this.canvasId),this.canvasRoot.style.display="block",this.context=this.canvasRoot.getContext("2d");else if(r.isNode())try{this.canvasId= true?__webpack_require__(Object(function webpackMissingModule() { var e = new Error("Cannot find module 'canvas'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())):0,this.canvasRoot=new this.canvasId(500,500),this.context=this.canvasRoot.getContext("2d")}catch(t){console.log("Warning: 'canvas' not found. You might need to call 'npm install canvas'")}this.dashArray=[[2,2],[5,5],[10,10],[20,20],[20,10,10,10],[20,5,10,5]]},t.CanvasRenderer.prototype=new e,t.extend(t.CanvasRenderer.prototype,{_drawPolygon:function(t,e,i){var r,s=t.length,o=this.context;if(s>0){if(i&&(o.lineWidth=0),o.beginPath(),o.moveTo(t[0][0],t[0][1]),1===e)for(r=1;r<s;r++)o.lineTo(t[r][0],t[r][1]);else for(r=1;r<s;r+=3)o.bezierCurveTo(t[r][0],t[r][1],t[r+1][0],t[r+1][1],t[r+2][0],t[r+2][1]);i?(o.lineTo(t[0][0],t[0][1]),o.closePath(),o.fill()):o.stroke()}},_fill:function(t){var e=this.context;e.save(),this._setColor(t,"fill")&&e.fill(),e.restore()},_rotatePoint:function(t,e,i){return[e*Math.cos(t)-i*Math.sin(t),e*Math.sin(t)+i*Math.cos(t)]},_rotateShape:function(t,e){var i,r=[],s=t.length;if(s<=0)return t;for(i=0;i<s;i++)r.push(this._rotatePoint(e,t[i][0],t[i][1]));return r},updateGradientAngle:function(t,e){var r,s,o,n,h,l,c,d,u,p,f,m,g=1,b=Math.cos(-e),v=Math.sin(-e),y=t.getBoundingBox();return Math.abs(b)>Math.abs(v)?g/=Math.abs(b):g/=Math.abs(v),b>=0?(o=0,n=b*g):(o=-b*g,n=0),v>=0?(h=0,l=v*g):(h=-v*g,l=0),r=new a(i.COORDS_BY_USER,[y[0],y[1]],t.board),f=(s=new a(i.COORDS_BY_USER,[y[2],y[3]],t.board)).scrCoords[1]-r.scrCoords[1],m=s.scrCoords[2]-r.scrCoords[2],c=r.scrCoords[1]+f*o,u=r.scrCoords[2]+m*h,d=r.scrCoords[1]+f*n,p=r.scrCoords[2]+m*l,this.context.createLinearGradient(c,u,d,p)},updateGradientCircle:function(t,e,r,s,o,n,h){var l,c,d,u,p,f,m,g,b,v,y=t.getBoundingBox();return l=new a(i.COORDS_BY_USER,[y[0],y[1]],t.board),b=(c=new a(i.COORDS_BY_USER,[y[2],y[3]],t.board)).scrCoords[1]-l.scrCoords[1],v=l.scrCoords[2]-c.scrCoords[2],d=l.scrCoords[1]+b*e,u=c.scrCoords[2]+v*r,f=l.scrCoords[1]+b*o,m=c.scrCoords[2]+v*n,p=s*(b+v)*.5,g=h*(b+v)*.5,this.context.createRadialGradient(f,m,g,d,u,p)},updateGradient:function(t){var e,i,r,o=s.evaluate(t.visProp.gradient);return i=(i=s.evaluate(t.visProp.fillopacity))>0?i:0,e=s.evaluate(t.visProp.fillcolor),"linear"===o?r=this.updateGradientAngle(t,s.evaluate(t.visProp.gradientangle)):"radial"===o&&(r=this.updateGradientCircle(t,s.evaluate(t.visProp.gradientcx),s.evaluate(t.visProp.gradientcy),s.evaluate(t.visProp.gradientr),s.evaluate(t.visProp.gradientfx),s.evaluate(t.visProp.gradientfy),s.evaluate(t.visProp.gradientfr))),r.addColorStop(s.evaluate(t.visProp.gradientstartoffset),e),r.addColorStop(s.evaluate(t.visProp.gradientendoffset),s.evaluate(t.visProp.gradientsecondcolor)),r},_setColor:function(t,e,i){var r,o,a,h,l,c,d,u,p=!0,f=t.visProp;return e=e||"stroke",i=i||e,r=this._getHighlighted(t),"linear"===(u=s.evaluate(t.visProp.gradient))||"radial"===u?(this.context[i+"Style"]=this.updateGradient(t),p):("none"!==(a=s.evaluate(f[r+e+"color"]))&&!1!==a?(c=(c=s.evaluate(f[r+e+"opacity"]))>0?c:0,9!==a.length?(l=a,d=c):(l=(h=n.rgba2rgbo(a))[0],d=c*h[1]),this.context.globalAlpha=d,this.context[i+"Style"]=l):p=!1,o=parseFloat(s.evaluate(f[r+"strokewidth"])),"stroke"!==e||isNaN(o)||(0===o?this.context.globalAlpha=0:this.context.lineWidth=o),"stroke"===e&&void 0!==f.linecap&&""!==f.linecap&&(this.context.lineCap=f.linecap),p)},_stroke:function(t){var e=this.context,i=s.evaluate(t.visProp.dash);e.save(),i>0?e.setLineDash&&e.setLineDash(this.dashArray[i]):this.context.lineDashArray=[],this._setColor(t,"stroke")&&e.stroke(),e.restore()},_translateShape:function(t,e,i){var r,s=[],o=t.length;if(o<=0)return t;for(r=0;r<o;r++)s.push([t[r][0]+e,t[r][1]+i]);return s},drawPoint:function(t){var e=s.evaluate(t.visProp.face),i=s.evaluate(t.visProp.size),r=t.coords.scrCoords,o=i*Math.sqrt(3)*.5,n=.5*i,a=parseFloat(s.evaluate(t.visProp.strokewidth))/2,h=this.context;if(t.visPropCalc.visible)switch(e){case"cross":case"x":h.beginPath(),h.moveTo(r[1]-i,r[2]-i),h.lineTo(r[1]+i,r[2]+i),h.moveTo(r[1]+i,r[2]-i),h.lineTo(r[1]-i,r[2]+i),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(t);break;case"circle":case"o":h.beginPath(),h.arc(r[1],r[2],i+1+a,0,2*Math.PI,!1),h.closePath(),this._fill(t),this._stroke(t);break;case"square":case"[]":if(i<=0)break;h.save(),this._setColor(t,"stroke","fill")&&h.fillRect(r[1]-i-a,r[2]-i-a,2*i+3*a,2*i+3*a),h.restore(),h.save(),this._setColor(t,"fill"),h.fillRect(r[1]-i+a,r[2]-i+a,2*i-a,2*i-a),h.restore();break;case"plus":case"+":h.beginPath(),h.moveTo(r[1]-i,r[2]),h.lineTo(r[1]+i,r[2]),h.moveTo(r[1],r[2]-i),h.lineTo(r[1],r[2]+i),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(t);break;case"diamond":case"<>":h.beginPath(),h.moveTo(r[1]-i,r[2]),h.lineTo(r[1],r[2]+i),h.lineTo(r[1]+i,r[2]),h.lineTo(r[1],r[2]-i),h.closePath(),this._fill(t),this._stroke(t);break;case"triangleup":case"a":case"^":h.beginPath(),h.moveTo(r[1],r[2]-i),h.lineTo(r[1]-o,r[2]+n),h.lineTo(r[1]+o,r[2]+n),h.closePath(),this._fill(t),this._stroke(t);break;case"triangledown":case"v":h.beginPath(),h.moveTo(r[1],r[2]+i),h.lineTo(r[1]-o,r[2]-n),h.lineTo(r[1]+o,r[2]-n),h.closePath(),this._fill(t),this._stroke(t);break;case"triangleleft":case"<":h.beginPath(),h.moveTo(r[1]-i,r[2]),h.lineTo(r[1]+n,r[2]-o),h.lineTo(r[1]+n,r[2]+o),h.closePath(),this._fill(t),this._stroke(t);break;case"triangleright":case">":h.beginPath(),h.moveTo(r[1]+i,r[2]),h.lineTo(r[1]-n,r[2]-o),h.lineTo(r[1]-n,r[2]+o),h.closePath(),this._fill(t),this._stroke(t)}},updatePoint:function(t){this.drawPoint(t)},drawArrows:function(t,e,r,o,n){var a,h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w=this.context,T=1,N=1,M=1,A=n.evFirst,R=n.evLast;if("none"!==s.evaluate(t.visProp.strokecolor)&&(A||R)){if(t.elementClass===i.OBJECT_CLASS_LINE)a=e.scrCoords[1],h=e.scrCoords[2],l=r.scrCoords[1],c=r.scrCoords[2],S=O=Math.atan2(c-h,l-a);else{if(a=t.points[0].scrCoords[1],h=t.points[0].scrCoords[2],(x=t.points.length-1)<1)return;l=t.points[t.points.length-1].scrCoords[1],c=t.points[t.points.length-1].scrCoords[2],C=t.points[1].scrCoords[1]-t.points[0].scrCoords[1],_=t.points[1].scrCoords[2]-t.points[0].scrCoords[2],P=t.points[x].scrCoords[1]-t.points[x-1].scrCoords[1],E=t.points[x].scrCoords[2]-t.points[x-1].scrCoords[2],A&&(S=Math.atan2(_,C)),R&&(O=Math.atan2(E,P))}if(d=s.evaluate(t.visProp[o+"strokewidth"]),A)if(u=d*n.sizeFirst,m=T=n.typeFirst,2===T)f=[[u,.5*-u],[0,0],[u,.5*u],[.5*u,0]];else if(3===T)f=[[u/3,.5*-u],[0,.5*-u],[0,.5*u],[u/3,.5*u]];else if(4===T)for(u/=10,N=3,y=(f=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]]).length,v=0;v<y;v++)f[v][0]*=-u,f[v][1]*=u,f[v][0]+=10*u,f[v][1]-=3.31*u;else if(5===T)for(u/=10,N=3,y=(f=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]]).length,v=0;v<y;v++)f[v][0]*=-u,f[v][1]*=u,f[v][0]+=10*u,f[v][1]-=3.28*u;else if(6===T)for(u/=10,N=3,y=(f=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]]).length,v=0;v<y;v++)f[v][0]*=-u,f[v][1]*=u,f[v][0]+=10*u,f[v][1]-=2.84*u;else if(7===T)for(u=d,N=3,y=(f=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]]).length,v=0;v<y;v++)f[v][0]*=-u,f[v][1]*=u,f[v][0]+=10*u,f[v][1]-=5.2*u;else f=[[u,.5*-u],[0,0],[u,.5*u]];if(R)if(u=d*n.sizeLast,g=T=n.typeLast,2===T)p=[[-u,.5*-u],[0,0],[-u,.5*u],[.5*-u,0]];else if(3===T)p=[[-u/3,.5*-u],[0,.5*-u],[0,.5*u],[-u/3,.5*u]];else if(4===T)for(u/=10,M=3,y=(p=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]]).length,v=0;v<y;v++)p[v][0]*=u,p[v][1]*=u,p[v][0]-=10*u,p[v][1]-=3.31*u;else if(5===T)for(u/=10,M=3,y=(p=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]]).length,v=0;v<y;v++)p[v][0]*=u,p[v][1]*=u,p[v][0]-=10*u,p[v][1]-=3.28*u;else if(6===T)for(u/=10,M=3,y=(p=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]]).length,v=0;v<y;v++)p[v][0]*=u,p[v][1]*=u,p[v][0]-=10*u,p[v][1]-=2.84*u;else if(7===T)for(u=d,M=3,y=(p=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]]).length,v=0;v<y;v++)p[v][0]*=u,p[v][1]*=u,p[v][0]-=10*u,p[v][1]-=5.2*u;else p=[[-u,.5*-u],[0,0],[-u,.5*u]];w.save(),this._setColor(t,"stroke","fill")&&(this._setColor(t,"stroke"),A&&(b=7!==m,this._drawPolygon(this._translateShape(this._rotateShape(f,S),a,h),N,b)),R&&(b=7!==g,this._drawPolygon(this._translateShape(this._rotateShape(p,O),l,c),M,b))),w.restore()}},drawLine:function(t){var e,r,o,n,h,c=new a(i.COORDS_BY_USER,t.point1.coords.usrCoords,t.board),d=new a(i.COORDS_BY_USER,t.point2.coords.usrCoords,t.board),u=null;t.visPropCalc.visible&&(o=this._getHighlighted(t),n=s.evaluate(t.visProp[o+"strokewidth"]),((h=this.getArrowHeadData(t,n,o)).evFirst||h.evLast)&&(u=-4),l.calcStraight(t,c,d,u),this.handleTouchpoints(t,c,d,h),e=new a(i.COORDS_BY_USER,c.usrCoords,t.board),r=new a(i.COORDS_BY_USER,d.usrCoords,t.board),this.getPositionArrowHead(t,c,d,h),this.context.beginPath(),this.context.moveTo(c.scrCoords[1],c.scrCoords[2]),this.context.lineTo(d.scrCoords[1],d.scrCoords[2]),this._stroke(t),(h.evFirst||h.evLast)&&this.drawArrows(t,e,r,o,h))},updateLine:function(t){this.drawLine(t)},drawTicks:function(){},updateTicks:function(t){var e,i,r,s,o,n,a=t.ticks.length,h=this.context;for(h.beginPath(),e=0;e<a;e++)for(r=(i=t.ticks[e])[0],s=i[1],o=r.length,h.moveTo(r[0],s[0]),n=1;n<o;++n)h.lineTo(r[n],s[n]);h.lineCap="round",this._stroke(t)},drawCurve:function(t){var e,i,r;s.evaluate(t.visProp.handdrawing)?this.updatePathStringBezierPrim(t):this.updatePathStringPrim(t),t.numberPoints>1&&(e=this._getHighlighted(t),i=s.evaluate(t.visProp[e+"strokewidth"]),((r=this.getArrowHeadData(t,i,e)).evFirst||r.evLast)&&this.drawArrows(t,null,null,e,r))},updateCurve:function(t){this.drawCurve(t)},drawEllipse:function(t){var e=t.center.coords.scrCoords[1],i=t.center.coords.scrCoords[2],r=t.board.unitX,s=t.board.unitY,o=2*t.Radius(),n=2*t.Radius(),a=o*r,h=n*s,l=e-a/2,c=i-h/2,d=a/2*.5522848,u=h/2*.5522848,p=l+a,f=c+h,m=l+a/2,g=c+h/2,b=this.context;o>0&&n>0&&!isNaN(e+i)&&(b.beginPath(),b.moveTo(l,g),b.bezierCurveTo(l,g-u,m-d,c,m,c),b.bezierCurveTo(m+d,c,p,g-u,p,g),b.bezierCurveTo(p,g+u,m+d,f,m,f),b.bezierCurveTo(m-d,f,l,g+u,l,g),b.closePath(),this._fill(t),this._stroke(t))},updateEllipse:function(t){return this.drawEllipse(t)},displayCopyright:function(t,e){var i=this.context;i.save(),i.font=e+"px Arial",i.fillStyle="#aaa",i.lineWidth=.5,i.fillText(t,10,2+e),i.restore()},drawInternalText:function(t){var e=s.evaluate(t.visProp.fontsize),i=s.evaluate(t.visProp.fontunit),r=t.getAnchorX(),o=t.getAnchorY(),n=this.context;return n.save(),this._setColor(t,"stroke","fill")&&!isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])&&(n.font=(e>0?e:0)+i+" Arial",this.transformImage(t,t.transformations),"left"===r?n.textAlign="left":"right"===r?n.textAlign="right":"middle"===r&&(n.textAlign="center"),"bottom"===o?n.textBaseline="bottom":"top"===o?n.textBaseline="top":"middle"===o&&(n.textBaseline="middle"),n.fillText(t.plaintext,t.coords.scrCoords[1],t.coords.scrCoords[2])),n.restore(),null},updateInternalText:function(t){this.drawInternalText(t)},setObjectStrokeColor:function(t,e,r){var o,a,h,l,c=s.evaluate(e),d=s.evaluate(r);d=d>0?d:0,t.visPropOld.strokecolor===c&&t.visPropOld.strokeopacity===d||(s.exists(c)&&!1!==c&&(9!==c.length?(o=c,h=d):(o=(a=n.rgba2rgbo(c))[0],h=d*a[1]),l=t.rendNode,t.elementClass===i.OBJECT_CLASS_TEXT&&"html"===s.evaluate(t.visProp.display)&&(l.style.color=o,l.style.opacity=h)),t.visPropOld.strokecolor=c,t.visPropOld.strokeopacity=d)},drawImage:function(t){t.rendNode=new Image,t._src="",this.updateImage(t)},updateImage:function(t){var e=this.context,i=s.evaluate(t.visProp.fillopacity),r=s.bind((function(){t.imgIsLoaded=!0,t.size[0]<=0||t.size[1]<=0||(e.save(),e.globalAlpha=i,this.transformImage(t,t.transformations),e.drawImage(t.rendNode,t.coords.scrCoords[1],t.coords.scrCoords[2]-t.size[1],t.size[0],t.size[1]),e.restore())}),this);this.updateImageURL(t)?t.rendNode.onload=r:t.imgIsLoaded&&r()},transformImage:function(t,e){var i,r=e.length,s=this.context;r>0&&(i=this.joinTransforms(t,e),Math.abs(c.det(i))>=h.eps&&s.transform(i[1][1],i[2][1],i[1][2],i[2][2],i[1][0],i[2][0]))},updateImageURL:function(t){var e;return e=s.evaluate(t.url),t._src!==e&&(t.imgIsLoaded=!1,t.rendNode.src=e,t._src=e,!0)},remove:function(t){s.exists(t)&&s.exists(t.parentNode)&&t.parentNode.removeChild(t)},updatePathStringPrim:function(t){var e,i,r,s,o,n="M",a=n,h=5e3,l=this.context;if(!(t.numberPoints<=0)){if(o=Math.min(t.points.length,t.numberPoints),l.beginPath(),1===t.bezierDegree)for(e=0;e<o;e++)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?a=n:(i[1]>h?i[1]=h:i[1]<-5e3&&(i[1]=-5e3),i[2]>h?i[2]=h:i[2]<-5e3&&(i[2]=-5e3),a===n?l.moveTo(i[1],i[2]):l.lineTo(i[1],i[2]),a="L");else if(3===t.bezierDegree)for(e=0;e<o;)i=t.points[e].scrCoords,isNaN(i[1])||isNaN(i[2])?a=n:(a===n?l.moveTo(i[1],i[2]):(e+=1,r=t.points[e].scrCoords,e+=1,s=t.points[e].scrCoords,l.bezierCurveTo(i[1],i[2],r[1],r[2],s[1],s[2])),a="C"),e+=1;l.lineCap="round",this._fill(t),this._stroke(t)}},updatePathStringBezierPrim:function(t){var e,i,r,o,n,a,h,l="M",d=l,u=5e3,p=s.evaluate(t.visProp.strokewidth),f="plot"!==s.evaluate(t.visProp.curvetype),m=this.context;if(!(t.numberPoints<=0)){for(f&&t.board.options.curve.RDPsmoothing&&(t.points=c.RamerDouglasPeucker(t.points,.5)),h=Math.min(t.points.length,t.numberPoints),m.beginPath(),i=1;i<3;i++)for(d=l,e=0;e<h;e++)o=t.points[e].scrCoords,isNaN(o[1])||isNaN(o[2])?d=l:(o[1]>u?o[1]=u:o[1]<-5e3&&(o[1]=-5e3),o[2]>u?o[2]=u:o[2]<-5e3&&(o[2]=-5e3),d===l?m.moveTo(o[1],o[2]):(r=2*i,m.bezierCurveTo(n+.333*(o[1]-n)+p*(r*Math.random()-i),a+.333*(o[2]-a)+p*(r*Math.random()-i),n+.666*(o[1]-n)+p*(r*Math.random()-i),a+.666*(o[2]-a)+p*(r*Math.random()-i),o[1],o[2])),d="C",n=o[1],a=o[2]);m.lineCap="round",this._fill(t),this._stroke(t)}},updatePolygonPrim:function(t,e){var i,r,s,o=e.vertices.length,n=this.context,a=!0;if(!(o<=0)&&e.visPropCalc.visible){for("polygonalchain"===e.elType&&o++,n.beginPath(),r=0;!e.vertices[r].isReal&&r<o-1;)r++,a=!1;for(i=e.vertices[r].coords.scrCoords,n.moveTo(i[1],i[2]),s=r;s<o-1;s++)e.vertices[s].isReal||(a=!1),i=e.vertices[s].coords.scrCoords,n.lineTo(i[1],i[2]);n.closePath(),a&&this._fill(e)}},display:function(t,e){t&&t.rendNode&&(t.visPropOld.visible=e,t.rendNode.style.visibility=e?"inherit":"hidden")},show:function(e){t.deprecated("Board.renderer.show()","Board.renderer.display()"),s.exists(e.rendNode)&&(e.rendNode.style.visibility="inherit")},hide:function(e){t.deprecated("Board.renderer.hide()","Board.renderer.display()"),s.exists(e.rendNode)&&(e.rendNode.style.visibility="hidden")},setGradient:function(t){var e;e=(e=s.evaluate(t.visProp.fillopacity))>0?e:0},setShadow:function(t){t.visPropOld.shadow!==t.visProp.shadow&&(t.visPropOld.shadow=t.visProp.shadow)},highlight:function(t){return t.elementClass===i.OBJECT_CLASS_TEXT&&"html"===s.evaluate(t.visProp.display)?this.updateTextStyle(t,!0):(t.board.prepareUpdate(),t.board.renderer.suspendRedraw(t.board),t.board.updateRenderer(),t.board.renderer.unsuspendRedraw()),this},noHighlight:function(t){return t.elementClass===i.OBJECT_CLASS_TEXT&&"html"===s.evaluate(t.visProp.display)?this.updateTextStyle(t,!1):(t.board.prepareUpdate(),t.board.renderer.suspendRedraw(t.board),t.board.updateRenderer(),t.board.renderer.unsuspendRedraw()),this},suspendRedraw:function(e){this.context.save(),this.context.clearRect(0,0,this.canvasRoot.width,this.canvasRoot.height),e&&e.attr.showcopyright&&this.displayCopyright(t.licenseText,12)},unsuspendRedraw:function(){this.context.restore()},resize:function(t,e){this.container?(this.canvasRoot.style.width=parseFloat(t)+"px",this.canvasRoot.style.height=parseFloat(e)+"px",this.canvasRoot.setAttribute("width",2*parseFloat(t)+"px"),this.canvasRoot.setAttribute("height",2*parseFloat(e)+"px")):(this.canvasRoot.width=2*parseFloat(t),this.canvasRoot.height=2*parseFloat(e)),this.context=this.canvasRoot.getContext("2d"),this.context.scale(2,2)},removeToInsertLater:function(){return function(){}}}),t.CanvasRenderer})),define("renderer/no",["jxg","renderer/abstract"],(function(t,e){"use strict";return t.NoRenderer=function(){this.enhancedRendering=!1,this.type="no"},t.extend(t.NoRenderer.prototype,{drawPoint:function(t){},updatePoint:function(t){},changePointStyle:function(t){},drawLine:function(t){},updateLine:function(t){},drawTicks:function(t){},updateTicks:function(t){},drawCurve:function(t){},updateCurve:function(t){},drawEllipse:function(t){},updateEllipse:function(t){},drawPolygon:function(t){},updatePolygon:function(t){},displayCopyright:function(t,e){},drawInternalText:function(t){},updateInternalText:function(t){},drawText:function(t){},updateText:function(t){},updateTextStyle:function(t,e){},updateInternalTextStyle:function(t,e,i){},drawImage:function(t){},updateImage:function(t){},transformImage:function(t,e){},updateImageURL:function(t){},appendChildPrim:function(t,e){},appendNodesToElement:function(t,e){},createPrim:function(t,e){return null},remove:function(t){},makeArrows:function(t){},updateEllipsePrim:function(t,e,i,r,s){},updateLinePrim:function(t,e,i,r,s,o){},updatePathPrim:function(t,e,i){},updatePathStringPoint:function(t,e,i){},updatePathStringPrim:function(t){},updatePathStringBezierPrim:function(t){},updatePolygonPrim:function(t,e){},updateRectPrim:function(t,e,i,r,s){},setPropertyPrim:function(t,e,i){},display:function(t,e){t&&(t.visPropOld.visible=e)},show:function(t){},hide:function(t){},setBuffering:function(t,e){},setDashStyle:function(t){},setDraft:function(t){},removeDraft:function(t){},setGradient:function(t){},updateGradient:function(t){},setObjectTransition:function(t,e){},setObjectFillColor:function(t,e,i){},setObjectStrokeColor:function(t,e,i){},setObjectStrokeWidth:function(t,e){},setShadow:function(t){},highlight:function(t){},noHighlight:function(t){},suspendRedraw:function(){},unsuspendRedraw:function(){},drawZoomBar:function(t){},getElementById:function(t){return null},resize:function(t,e){},removeToInsertLater:function(){return function(){}}}),t.NoRenderer.prototype=new e,t.NoRenderer})),define("jsxgraph",["jxg","utils/env","utils/type","base/board","reader/file","options","renderer/svg","renderer/vml","renderer/canvas","renderer/no"],(function(t,e,i,r,s,o,n,a,h,l){"use strict";return t.JSXGraph={rendererType:(o.board.renderer="no",e.supportsVML()&&(o.board.renderer="vml",document.onmousemove=function(){var t;return document.body&&(t=document.body.scrollLeft,t+=document.body.scrollTop),t}),e.supportsCanvas()&&(o.board.renderer="canvas"),e.supportsSVG()&&(o.board.renderer="svg"),e.isNode()&&e.supportsCanvas()&&(o.board.renderer="canvas"),(e.isNode()||"no"===o.renderer)&&(o.text.display="internal",o.infobox.display="internal"),o.board.renderer),initRenderer:function(t,e,r,s){var o;if(i.exists(r)&&!1!==r||"object"!=typeof document||(r=document),"object"==typeof r&&null!==t)for(o=r.getElementById(t);o.firstChild;)o.removeChild(o.firstChild);else o=t;return void 0!==s&&"auto"!==s||(s=this.rendererType),"svg"===s?new n(o,e):"vml"===s?new a(o):"canvas"===s?new h(o,e):new l},_setAttributes:function(t){var e=i.copyAttributes(t,o,"board");return e.zoom=i.copyAttributes(e,o,"board","zoom"),e.pan=i.copyAttributes(e,o,"board","pan"),e.drag=i.copyAttributes(e,o,"board","drag"),e.keyboard=i.copyAttributes(e,o,"board","keyboard"),e.selection=i.copyAttributes(e,o,"board","selection"),e.navbar=i.copyAttributes(e.navbar,o,"navbar"),e.screenshot=i.copyAttributes(e,o,"board","screenshot"),e.resize=i.copyAttributes(e,o,"board","resize"),e.fullscreen=i.copyAttributes(e,o,"board","fullscreen"),e.movetarget=t.moveTarget||t.movetarget||o.board.moveTarget,e},_fillBoard:function(e,i,r){e.initInfobox(),e.maxboundingbox=i.maxboundingbox,e.resizeContainer(r.width,r.height,!0,!0),e._createSelectionPolygon(i),e.renderer.drawZoomBar(e,i.navbar),t.boards[e.id]=e},_setARIA:function(t,e){var i,r,s,o,n,a,h=e.document||document;"object"==typeof h&&(i=(r=h.getElementById(t)).ownerDocument,o=r.parentNode,n=t+"_ARIAlabel",a=t+"_ARIAdescription",(s=i.createElement("div")).innerHTML=e.title,s.setAttribute("id",n),s.style.display="none",o.insertBefore(s,r),(s=i.createElement("div")).innerHTML=e.description,s.setAttribute("id",a),s.style.display="none",o.insertBefore(s,r),r.setAttribute("aria-labelledby",n),r.setAttribute("aria-describedby",a))},_removeARIANodes:function(t){var e,i,r;"object"==typeof(r=t.document||document)&&(i=t.containerObj.getAttribute("aria-labelledby"),(e=r.getElementById(i))&&e.parentNode&&e.parentNode.removeChild(e),i=t.containerObj.getAttribute("aria-describedby"),(e=r.getElementById(i))&&e.parentNode&&e.parentNode.removeChild(e))},initBoard:function(t,s){var n,a,h,l,c,d,u,p,f,m,g,b,v,y,C=0,_=0;return s=s||{},m=this._setAttributes(s),p=e.getDimensions(t,m.document),m.unitx||m.unity?(n=i.def(m.originx,150),a=i.def(m.originy,150),h=i.def(m.unitx,50),l=i.def(m.unity,50)):((f=m.boundingbox)[0]<m.maxboundingbox[0]&&(f[0]=m.maxboundingbox[0]),f[1]>m.maxboundingbox[1]&&(f[1]=m.maxboundingbox[1]),f[2]>m.maxboundingbox[2]&&(f[2]=m.maxboundingbox[2]),f[3]<m.maxboundingbox[3]&&(f[3]=m.maxboundingbox[3]),d=parseInt(p.width,10),u=parseInt(p.height,10),i.exists(f)&&m.keepaspectratio?(h=d/(f[2]-f[0]),l=u/(f[1]-f[3]),Math.abs(h)<Math.abs(l)?_=.5*(u/(l=Math.abs(h)*l/Math.abs(l))-(f[1]-f[3])):C=.5*(d/(h=Math.abs(l)*h/Math.abs(h))-(f[2]-f[0]))):(h=d/(f[2]-f[0]),l=u/(f[1]-f[3])),n=-h*(f[0]-C),a=l*(f[1]+_)),c=this.initRenderer(t,p,m.document,m.renderer),this._setARIA(t,m),(y=new r(t,c,m.id,[n,a],m.zoomfactor*m.zoomx,m.zoomfactor*m.zoomy,h,l,p.width,p.height,m)).keepaspectratio=m.keepaspectratio,this._fillBoard(y,m,p),y.suspendUpdate(),m.axis&&(g="object"==typeof m.axis?m.axis:{},b=i.deepCopy(o.board.defaultAxes.x,g),v=i.deepCopy(o.board.defaultAxes.y,g),m.defaultaxes.x&&(b=i.deepCopy(b,m.defaultaxes.x)),m.defaultaxes.y&&(v=i.deepCopy(v,m.defaultaxes.y)),y.defaultAxes={},y.defaultAxes.x=y.create("axis",[[0,0],[1,0]],b),y.defaultAxes.y=y.create("axis",[[0,0],[0,1]],v)),m.grid&&y.create("grid",[],"object"==typeof m.grid?m.grid:{}),y.unsuspendUpdate(),y},loadBoardFromFile:function(t,i,o,n,a){var h,l,c,d,u;return n=n||{},h=this._setAttributes(n),d=e.getDimensions(t,h.document),l=this.initRenderer(t,d,h.document,h.renderer),this._setARIA(t,h),c=new r(t,l,"",[150,150],1,1,50,50,d.width,d.height,h),this._fillBoard(c,h,d),u=h.encoding||"iso-8859-1",s.parseFileContent(i,c,o,!0,u,a),c},loadBoardFromString:function(t,i,o,n,a){var h,l,c,d;return n=n||{},h=this._setAttributes(n),d=e.getDimensions(t,h.document),l=this.initRenderer(t,d,h.document),this._setARIA(t,h),c=new r(t,l,"",[150,150],1,1,50,50,d.width,d.height,h),this._fillBoard(c,h,d),s.parseString(i,c,o,!0,a),c},freeBoard:function(e){var i;for(i in"string"==typeof e&&(e=t.boards[e]),this._removeARIANodes(e),e.removeEventHandlers(),e.suspendUpdate(),e.objects)e.objects.hasOwnProperty(i)&&e.objects[i].remove();for(;e.containerObj.firstChild;)e.containerObj.removeChild(e.containerObj.firstChild);for(i in e.objects)e.objects.hasOwnProperty(i)&&delete e.objects[i];delete e.renderer,e.jc.creator.clearCache(),delete e.jc,delete t.boards[e.id]},registerElement:function(e,i){t.deprecated("JXG.JSXGraph.registerElement()","JXG.registerElement()"),t.registerElement(e,i)}},e.isBrowser&&"object"==typeof window&&"object"==typeof document&&e.addEvent(window,"load",(function(){var e,r,s,o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C=!1,_=document.getElementsByTagName("script"),P=function(e,i,r){var s=t.JSXGraph.initBoard(n,{boundingbox:r,keepaspectratio:!0,grid:g,axis:m,showReload:!0});if(i.toLowerCase().indexOf("script")>-1)s.construct(e);else try{s.jc.parse(e)}catch(e){t.debug(e)}return s},E=function(e,i,r,s){return function(){var o;t.JSXGraph.freeBoard(e),(o=P(i,r,s)).reload=E(o,i,r,s)}};for(r=0;r<_.length;r++)if(e=_[r].getAttribute("type",!1),i.exists(e)&&("text/jessiescript"===e.toLowerCase()||"jessiescript"===e.toLowerCase()||"text/jessiecode"===e.toLowerCase()||"jessiecode"===e.toLowerCase())){if(p=_[r].getAttribute("class",!1)||"",l=_[r].getAttribute("width",!1)||"",c=_[r].getAttribute("height",!1)||"",d=_[r].getAttribute("maxwidth",!1)||"100%",u=_[r].getAttribute("aspectratio",!1)||"1/1",f=_[r].getAttribute("boundingbox",!1)||"-5, 5, 5, -5",n=_[r].getAttribute("container",!1),v=_[r].getAttribute("src",!1),4!==(f=f.split(",")).length)f=[-5,5,5,-5];else for(s=0;s<f.length;s++)f[s]=parseFloat(f[s]);if(m=i.str2Bool(_[r].getAttribute("axis",!1)||"false"),g=i.str2Bool(_[r].getAttribute("grid",!1)||"false"),i.exists(n))o=document.getElementById(n);else{n="jessiescript_autgen_jxg_"+r,(o=document.createElement("div")).setAttribute("id",n),h=""!==l?"width:"+l+";":"",h+=""!==c?"height:"+c+";":"",h+=""!==d?"max-width:"+d+";":"",h+=""!==u?"aspect-ratio:"+u+";":"",o.setAttribute("style",h),o.setAttribute("class","jxgbox "+p);try{document.body.insertBefore(o,_[r])}catch(t){"object"==typeof jQuery&&jQuery(o).insertBefore(_[r])}}b="",i.exists(v)?(C=!0,(y=new XMLHttpRequest).open("GET",v),y.overrideMimeType("text/plain; charset=x-user-defined"),y.addEventListener("load",(function(){if(!(this.status<400))throw new Error("\nJSXGraph: failed to load file",v,":",this.responseText);b=this.responseText+"\n"+b,(a=P(b,e,f)).reload=E(a,b,e,f)})),y.addEventListener("error",(function(t){throw new Error("\nJSXGraph: failed to load file",v,":",t)})),y.send()):C=!1,document.getElementById(n)?(b=(b=_[r].innerHTML).replace(/<!\[CDATA\[/g,"").replace(/\]\]>/g,""),_[r].innerHTML=b,C||((a=P(b,e,f)).reload=E(a,b,e,f))):t.debug("JSXGraph: Apparently the div injection failed. Can't create a board, sorry.")}}),window),t.JSXGraph})),define("base/point",["jxg","options","math/math","math/geometry","base/constants","base/element","utils/type","base/coordselement"],(function(t,e,i,r,s,o,n,a){"use strict";return t.Point=function(t,e,i){this.constructor(t,i,s.OBJECT_TYPE_POINT,s.OBJECT_CLASS_POINT),this.element=this.board.select(i.anchor),this.coordsConstructor(e),this.elType="point",this.id=this.board.setId(this,"P"),this.board.renderer.drawPoint(this),this.board.finalizeAdding(this),this.createGradient(),this.createLabel()},t.Point.prototype=new o,n.copyPrototypeMethods(t.Point,a,"coordsConstructor"),t.extend(t.Point.prototype,{hasPoint:function(t,e){var i,r,s,o=this.coords.scrCoords,a=n.evaluate(this.visProp.sizeunit);return n.isObject(n.evaluate(this.visProp.precision))?(s=this.board._inputDevice,r=n.evaluate(this.visProp.precision[s])):r=this.board.options.precision.hasPoint,i=parseFloat(n.evaluate(this.visProp.size)),"user"===a&&(i*=Math.sqrt(this.board.unitX*this.board.unitY)),(i+=.5*parseFloat(n.evaluate(this.visProp.strokewidth)))<r&&(i=r),Math.abs(o[1]-t)<i+2&&Math.abs(o[2]-e)<i+2},update:function(t){return this.needsUpdate?(this.updateCoords(t),n.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateTransform:function(t){var e,i;if(0===this.transformations.length||null===this.baseElement)return this;for(this===this.baseElement?(e=this.transformations[0].apply(this.baseElement,"self"),this.coords.setCoordinates(s.COORDS_BY_USER,e)):e=this.transformations[0].apply(this.baseElement),this.coords.setCoordinates(s.COORDS_BY_USER,e),i=1;i<this.transformations.length;i++)this.coords.setCoordinates(s.COORDS_BY_USER,this.transformations[i].apply(this));return this},updateRenderer:function(){return this.updateRendererGeneric("updatePoint"),this},bounds:function(){return this.coords.usrCoords.slice(1).concat(this.coords.usrCoords.slice(1))},makeIntersection:function(t,e,i,o){var a;t=this.board.select(t),e=this.board.select(e),a=r.intersectionFunction(this.board,t,e,i,o,n.evaluate(this.visProp.alwaysintersect)),this.addConstraint([a]);try{t.addChild(this),e.addChild(this)}catch(i){throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof t+"' and '"+typeof e+"'.")}this.type=s.OBJECT_TYPE_INTERSECTION,this.elType="intersection",this.parents=[t.id,e.id,i,o],this.generatePolynomial=function(){var i=t.generatePolynomial(this),r=e.generatePolynomial(this);return 0===i.length||0===r.length?[]:[i[0],r[0]]},this.prepareUpdate().update()},setStyle:function(t){return this.visProp.face=["cross","cross","cross","circle","circle","circle","circle","square","square","square","plus","plus","plus"][t],this.visProp.size=[2,3,4,1,2,3,4,2,3,4,2,3,4][t],this.board.renderer.changePointStyle(this),this},normalizeFace:function(i){return t.deprecated("Point.normalizeFace()","JXG.normalizePointFace()"),e.normalizePointFace(i)},face:function(e){t.deprecated("Point.face()","Point.setAttribute()"),this.setAttribute({face:e})},size:function(e){t.deprecated("Point.size()","Point.setAttribute()"),this.setAttribute({size:e})},isOn:function(e,o){var a,h;return o=o||i.eps,n.isPoint(e)?this.Dist(e)<o:e.elementClass===s.OBJECT_CLASS_LINE?("segment"!==e.elType||n.evaluate(this.visProp.alwaysintersect)||(a=t.Math.Geometry.projectCoordsToSegment(this.coords.usrCoords,e.point1.coords.usrCoords,e.point2.coords.usrCoords))[1]>=0&&a[1]<=1)&&r.distPointLine(this.coords.usrCoords,e.stdform)<o:e.elementClass===s.OBJECT_CLASS_CIRCLE?n.evaluate(e.visProp.hasinnerpoints)?this.Dist(e.center)<e.Radius()+o:Math.abs(this.Dist(e.center)-e.Radius())<o:e.elementClass===s.OBJECT_CLASS_CURVE?(h=r.projectPointToCurve(this,e,this.board)[0],r.distance(this.coords.usrCoords,h.usrCoords,3)<o):e.type===s.OBJECT_TYPE_POLYGON?!(!n.evaluate(e.visProp.hasinnerpoints)||!e.pnpoly(this.coords.usrCoords[1],this.coords.usrCoords[2],t.COORDS_BY_USER))||(a=r.projectCoordsToPolygon(this.coords.usrCoords,e),r.distance(this.coords.usrCoords,a,3)<o):e.type===s.OBJECT_TYPE_TURTLE&&(h=r.projectPointToTurtle(this,e,this.board),r.distance(this.coords.usrCoords,h.usrCoords,3)<o)},cloneToBackground:function(){var t={};return t.id=this.id+"T"+this.numTraces,this.numTraces+=1,t.coords=this.coords,t.visProp=n.deepCopy(this.visProp,this.visProp.traceattributes,!0),t.visProp.layer=this.board.options.layer.trace,t.elementClass=s.OBJECT_CLASS_POINT,t.board=this.board,n.clearVisPropOld(t),t.visPropCalc={visible:n.evaluate(t.visProp.visible)},this.board.renderer.drawPoint(t),this.traces[t.id]=t.rendNode,this}}),t.createPoint=function(e,i,r){var s,o;if(o=n.copyAttributes(r,e.options,"point"),!(s=a.create(t.Point,e,i,o)))throw new Error("JSXGraph: Can't create point with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return s},t.createGlider=function(t,e,i){var r,s,o=n.copyAttributes(i,t.options,"glider");return s=1===e.length?[0,0]:e.slice(0,2),(r=t.create("point",s,o)).makeGlider(e[e.length-1]),r},t.createIntersectionPoint=function(t,e,i){var o,a,h,l,c,d,u=n.copyAttributes(i,t.options,"intersection");e.push(0,0),a=t.select(e[0]),h=t.select(e[1]),c=e[2]||0,d=e[3]||0,o=t.create("point",[0,0,0],u),l=r.intersectionFunction(t,a,h,c,d,o.visProp.alwaysintersect),o.addConstraint([l]);try{a.addChild(o),h.addChild(o)}catch(t){throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.")}return o.type=s.OBJECT_TYPE_INTERSECTION,o.elType="intersection",o.setParents([a.id,h.id]),o.intersectionNumbers=[c,d],o.getParents=function(){return this.parents.concat(this.intersectionNumbers)},o.generatePolynomial=function(){var t=a.generatePolynomial(o),e=h.generatePolynomial(o);return 0===t.length||0===e.length?[]:[t[0],e[0]]},o},t.createOtherIntersectionPoint=function(t,e,o){var a,h,l,c;if(3!==e.length||!n.isPoint(e[2])||e[0].elementClass!==s.OBJECT_CLASS_LINE&&e[0].elementClass!==s.OBJECT_CLASS_CIRCLE||e[1].elementClass!==s.OBJECT_CLASS_LINE&&e[1].elementClass!==s.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'other intersection point' with parent types '"+typeof e[0]+"',  '"+typeof e[1]+"'and  '"+typeof e[2]+"'.\nPossible parent types: [circle|line,circle|line,point]");return h=t.select(e[0]),l=t.select(e[1]),c=t.select(e[2]),(a=t.create("point",[function(){var t=r.meet(h.stdform,l.stdform,0,h.board);return Math.abs(c.X()-t.usrCoords[1])>i.eps||Math.abs(c.Y()-t.usrCoords[2])>i.eps||Math.abs(c.Z()-t.usrCoords[0])>i.eps?t:r.meet(h.stdform,l.stdform,1,h.board)}],o)).type=s.OBJECT_TYPE_INTERSECTION,a.elType="otherintersection",a.setParents([h.id,l.id,c]),h.addChild(a),l.addChild(a),a.generatePolynomial=function(){var t=h.generatePolynomial(a),e=l.generatePolynomial(a);return 0===t.length||0===e.length?[]:[t[0],e[0]]},a},t.createPolePoint=function(e,i,r){var o,n,a,h,l,c,d;if(i.length>1&&(h=i[0].type===s.OBJECT_TYPE_CONIC||i[0].elementClass===s.OBJECT_CLASS_CIRCLE,l=i[1].type===s.OBJECT_TYPE_CONIC||i[1].elementClass===s.OBJECT_CLASS_CIRCLE,c=i[0].elementClass===s.OBJECT_CLASS_LINE,d=i[1].elementClass===s.OBJECT_CLASS_LINE),2!==i.length||!(h&&d||c&&l))throw new Error("JSXGraph: Can't create 'pole point' with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent type: [conic|circle,line], [line,conic|circle]");return d?(n=e.select(i[0]),a=e.select(i[1])):(n=e.select(i[1]),a=e.select(i[0])),(o=e.create("point",[function(){var e=n.quadraticform,i=a.stdform.slice(0,3);return[t.Math.Numerics.det([i,e[1],e[2]]),t.Math.Numerics.det([e[0],i,e[2]]),t.Math.Numerics.det([e[0],e[1],i])]}],r)).elType="polepoint",o.setParents([n.id,a.id]),n.addChild(o),a.addChild(o),o},t.registerElement("point",t.createPoint),t.registerElement("glider",t.createGlider),t.registerElement("intersection",t.createIntersectionPoint),t.registerElement("otherintersection",t.createOtherIntersectionPoint),t.registerElement("polepoint",t.createPolePoint),{Point:t.Point,createPoint:t.createPoint,createGlider:t.createGlider,createIntersection:t.createIntersectionPoint,createOtherIntersection:t.createOtherIntersectionPoint,createPolePoint:t.createPolePoint}})),define("base/line",["jxg","math/math","math/geometry","math/numerics","math/statistics","base/constants","base/coords","base/element","utils/type","base/point"],(function(t,e,i,r,s,o,n,a,h,l){"use strict";return t.Line=function(e,i,r,s){this.constructor(e,s,o.OBJECT_TYPE_LINE,o.OBJECT_CLASS_LINE),this.point1=this.board.select(i),this.point2=this.board.select(r),this.ticks=[],this.defaultTicks=null,this.parentPolygon=null,this.id=this.board.setId(this,"L"),this.board.renderer.drawLine(this),this.board.finalizeAdding(this),this.elType="line",this.point1._is_new?(this.addChild(this.point1),delete this.point1._is_new):this.point1.addChild(this),this.point2._is_new?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this),this.inherits.push(this.point1,this.point2),this.updateStdform(),this.createLabel(),this.methodMap=t.deepCopy(this.methodMap,{point1:"point1",point2:"point2",getSlope:"getSlope",getRise:"getRise",getYIntersect:"getRise",getAngle:"getAngle",L:"L",length:"L"})},t.Line.prototype=new a,t.extend(t.Line.prototype,{hasPoint:function(t,r){var s,a,l,c,d,u,p,f,m,g=[],b=[1,t,r],v=h.evaluate(this.visProp.strokewidth);return h.isObject(h.evaluate(this.visProp.precision))?(m=this.board._inputDevice,f=h.evaluate(this.visProp.precision[m])):f=this.board.options.precision.hasPoint,f+=.5*v,g[0]=this.stdform[0]-this.stdform[1]*this.board.origin.scrCoords[1]/this.board.unitX+this.stdform[2]*this.board.origin.scrCoords[2]/this.board.unitY,g[1]=this.stdform[1]/this.board.unitX,g[2]=this.stdform[2]/-this.board.unitY,s=i.distPointLine(b,g),!(isNaN(s)||s>f)&&(!(!h.evaluate(this.visProp.straightfirst)||!h.evaluate(this.visProp.straightlast))||(l=this.point1.coords,c=this.point2.coords,a=[0,g[1],g[2]],a=e.crossProduct(a,b),(a=e.crossProduct(a,g))[1]/=a[0],a[2]/=a[0],a[0]=1,a=new n(o.COORDS_BY_SCREEN,a.slice(1),this.board).usrCoords,d=l.distance(o.COORDS_BY_USER,c),l=l.usrCoords.slice(0),c=c.usrCoords.slice(0),d<e.eps?u=0:(d===Number.POSITIVE_INFINITY&&(d=1/e.eps,Math.abs(c[0])<e.eps?(d/=i.distance([0,0,0],c),c=[1,l[1]+c[1]*d,l[2]+c[2]*d]):(d/=i.distance([0,0,0],l),l=[1,c[1]+l[1]*d,c[2]+l[2]*d])),d=c[p=1]-l[p],Math.abs(d)<e.eps&&(d=c[p=2]-l[p]),u=(a[p]-l[p])/d),!(!h.evaluate(this.visProp.straightfirst)&&u<0)&&!(!h.evaluate(this.visProp.straightlast)&&u>1)))},update:function(){var t;return this.needsUpdate?(this.constrained&&(h.isFunction(this.funps)?(t=this.funps())&&t.length&&2===t.length&&(this.point1=t[0],this.point2=t[1]):(h.isFunction(this.funp1)&&(t=this.funp1(),h.isPoint(t)?this.point1=t:t&&t.length&&2===t.length&&this.point1.setPositionDirectly(o.COORDS_BY_USER,t)),h.isFunction(this.funp2)&&(t=this.funp2(),h.isPoint(t)?this.point2=t:t&&t.length&&2===t.length&&this.point2.setPositionDirectly(o.COORDS_BY_USER,t)))),this.updateSegmentFixedLength(),this.updateStdform(),h.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateSegmentFixedLength:function(){var t,i,r,s,n,a,l,c;return this.hasFixedLength?(t=this.point1.Dist(this.point2),i=this.fixedLength(),r=this.fixedLengthOldCoords[0].distance(o.COORDS_BY_USER,this.point1.coords),s=this.fixedLengthOldCoords[1].distance(o.COORDS_BY_USER,this.point2.coords),(r>e.eps||s>e.eps||t!==i)&&(n=this.point1.isDraggable&&this.point1.type!==o.OBJECT_TYPE_GLIDER&&!h.evaluate(this.point1.visProp.fixed),a=this.point2.isDraggable&&this.point2.type!==o.OBJECT_TYPE_GLIDER&&!h.evaluate(this.point2.visProp.fixed),t>e.eps?r>s&&a||r<=s&&a&&!n?(this.point2.setPositionDirectly(o.COORDS_BY_USER,[this.point1.X()+(this.point2.X()-this.point1.X())*i/t,this.point1.Y()+(this.point2.Y()-this.point1.Y())*i/t]),this.point2.fullUpdate()):(r<=s&&n||r>s&&n&&!a)&&(this.point1.setPositionDirectly(o.COORDS_BY_USER,[this.point2.X()+(this.point1.X()-this.point2.X())*i/t,this.point2.Y()+(this.point1.Y()-this.point2.Y())*i/t]),this.point1.fullUpdate()):(l=Math.random()-.5,c=Math.random()-.5,t=Math.sqrt(l*l+c*c),a?(this.point2.setPositionDirectly(o.COORDS_BY_USER,[this.point1.X()+l*i/t,this.point1.Y()+c*i/t]),this.point2.fullUpdate()):n&&(this.point1.setPositionDirectly(o.COORDS_BY_USER,[this.point2.X()+l*i/t,this.point2.Y()+c*i/t]),this.point1.fullUpdate())),this.fixedLengthOldCoords[0].setCoordinates(o.COORDS_BY_USER,this.point1.coords.usrCoords),this.fixedLengthOldCoords[1].setCoordinates(o.COORDS_BY_USER,this.point2.coords.usrCoords)),this):this},updateStdform:function(){var t=e.crossProduct(this.point1.coords.usrCoords,this.point2.coords.usrCoords);this.stdform[0]=t[0],this.stdform[1]=t[1],this.stdform[2]=t[2],this.stdform[3]=0,this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.point1.coords.usrCoords[1]+this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[1]+this.point2.coords.usrCoords[2])&&e.innerProduct(this.stdform,this.stdform,3)>=e.eps*e.eps,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateLine(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},generatePolynomial:function(t){var e=this.point1.symbolic.x,i=this.point1.symbolic.y,r=this.point2.symbolic.x,s=this.point2.symbolic.y,o=t.symbolic.x,n=t.symbolic.y;return[["(",i,")*(",o,")-(",i,")*(",r,")+(",n,")*(",r,")-(",e,")*(",n,")+(",e,")*(",s,")-(",o,")*(",s,")"].join("")]},getRise:function(){return Math.abs(this.stdform[2])>=e.eps?-this.stdform[0]/this.stdform[2]:1/0},getSlope:function(){return Math.abs(this.stdform[2])>=e.eps?-this.stdform[1]/this.stdform[2]:1/0},getAngle:function(){return Math.atan2(-this.stdform[1],this.stdform[2])},setStraight:function(t,e){return this.visProp.straightfirst=t,this.visProp.straightlast=e,this.board.renderer.updateLine(this),this},getTextAnchor:function(){return new n(o.COORDS_BY_USER,[.5*(this.point2.X()+this.point1.X()),.5*(this.point2.Y()+this.point1.Y())],this.board)},setLabelRelativeCoords:function(t){h.exists(this.label)&&(this.label.relativeCoords=new n(o.COORDS_BY_SCREEN,[t[0],-t[1]],this.board))},getLabelAnchor:function(){var t,r,s=0,a=new n(o.COORDS_BY_USER,this.point1.coords.usrCoords,this.board),l=new n(o.COORDS_BY_USER,this.point2.coords.usrCoords,this.board),c=h.evaluate(this.visProp.straightfirst),d=h.evaluate(this.visProp.straightlast);if((c||d)&&i.calcStraight(this,a,l,0),a=a.scrCoords,l=l.scrCoords,!h.exists(this.label))return new n(o.COORDS_BY_SCREEN,[NaN,NaN],this.board);switch(h.evaluate(this.label.visProp.position)){case"lft":case"llft":case"ulft":a[1]<=l[1]?(t=a[1],r=a[2]):(t=l[1],r=l[2]);break;case"rt":case"lrt":case"urt":a[1]>l[1]?(t=a[1],r=a[2]):(t=l[1],r=l[2]);break;default:t=.5*(a[1]+l[1]),r=.5*(a[2]+l[2])}return(c||d)&&(h.exists(this.label)&&(s=h.evaluate(this.label.visProp.fontsize)),Math.abs(t)<e.eps?t=s:this.board.canvasWidth+e.eps>t&&t>this.board.canvasWidth-s-e.eps&&(t=this.board.canvasWidth-s),e.eps+s>r&&r>-e.eps?r=s:this.board.canvasHeight+e.eps>r&&r>this.board.canvasHeight-s-e.eps&&(r=this.board.canvasHeight-s)),new n(o.COORDS_BY_SCREEN,[t,r],this.board)},cloneToBackground:function(){var t,e,i,r={};return r.id=this.id+"T"+this.numTraces,r.elementClass=o.OBJECT_CLASS_LINE,this.numTraces++,r.point1=this.point1,r.point2=this.point2,r.stdform=this.stdform,r.board=this.board,r.visProp=h.deepCopy(this.visProp,this.visProp.traceattributes,!0),r.visProp.layer=this.board.options.layer.trace,h.clearVisPropOld(r),r.visPropCalc={visible:h.evaluate(r.visProp.visible)},e=this.getSlope(),t=this.getRise(),r.getSlope=function(){return e},r.getRise=function(){return t},i=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawLine(r),this.board.renderer.enhancedRendering=i,this.traces[r.id]=r.rendNode,this},addTransform:function(t){var e,i=h.isArray(t)?t:[t],r=i.length;for(e=0;e<r;e++)this.point1.transformations.push(i[e]),this.point2.transformations.push(i[e]);return this},snapToGrid:function(t){var e,r,a,l,c,d,u,p;return h.evaluate(this.visProp.snaptogrid)?this.parents.length<3?(this.point1.handleSnapToGrid(!0,!0),this.point2.handleSnapToGrid(!0,!0)):h.exists(t)&&(u=h.evaluate(this.visProp.snapsizex),p=h.evaluate(this.visProp.snapsizey),c=(e=new n(o.COORDS_BY_SCREEN,[t.Xprev,t.Yprev],this.board)).usrCoords[1],d=e.usrCoords[2],u<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(u=(l=this.board.defaultAxes.x.defaultTicks).ticksDelta*(h.evaluate(l.visProp.minorticks)+1)),p<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(p=(l=this.board.defaultAxes.y.defaultTicks).ticksDelta*(h.evaluate(l.visProp.minorticks)+1)),u>0&&p>0&&(r=i.projectPointToLine({coords:e},this,this.board),a=s.subtract([1,Math.round(c/u)*u,Math.round(d/p)*p],r.usrCoords),this.board.create("transform",a.slice(1),{type:"translate"}).applyOnce([this.point1,this.point2]))):(this.point1.handleSnapToGrid(!1,!0),this.point2.handleSnapToGrid(!1,!0)),this},snapToPoints:function(){var t=h.evaluate(this.visProp.snaptopoints);return this.parents.length<3&&(this.point1.handleSnapToPoints(t),this.point2.handleSnapToPoints(t)),this},X:function(t){var i,r=this.stdform[2];return i=Math.abs(this.point1.coords.usrCoords[0])>e.eps?this.point1.coords.usrCoords[1]:this.point2.coords.usrCoords[1],t=2*(t-.5),(1-Math.abs(t))*i-t*r},Y:function(t){var i,r=this.stdform[1];return i=Math.abs(this.point1.coords.usrCoords[0])>e.eps?this.point1.coords.usrCoords[2]:this.point2.coords.usrCoords[2],t=2*(t-.5),(1-Math.abs(t))*i+t*r},Z:function(t){var i=Math.abs(this.point1.coords.usrCoords[0])>e.eps?this.point1.coords.usrCoords[0]:this.point2.coords.usrCoords[0];return t=2*(t-.5),(1-Math.abs(t))*i},L:function(){return this.point1.Dist(this.point2)},minX:function(){return 0},maxX:function(){return 1},bounds:function(){var t=this.point1.coords.usrCoords,e=this.point2.coords.usrCoords;return[Math.min(t[1],e[1]),Math.max(t[2],e[2]),Math.max(t[1],e[1]),Math.min(t[2],e[2])]},remove:function(){this.removeAllTicks(),a.prototype.remove.call(this)}}),t.createLine=function(e,i,r){var s,o,n,a,c,d,u,p=[],f=!1,m=!1;if(2===i.length){if(h.isArray(i[0])&&i[0].length>1)d=h.copyAttributes(r,e.options,"line","point1"),n=e.create("point",i[0],d);else if(h.isString(i[0])||h.isPoint(i[0]))n=e.select(i[0]);else if(h.isFunction(i[0])&&h.isPoint(i[0]()))n=i[0](),m=!0;else if(h.isFunction(i[0])&&i[0]().length&&i[0]().length>=2)d=h.copyAttributes(r,e.options,"line","point1"),n=l.createPoint(e,i[0](),d),m=!0;else{if(!h.isObject(i[0])||!h.isTransformationOrArray(i[1]))throw new Error("JSXGraph: Can't create line with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");f=!0,d=h.copyAttributes(r,e.options,"line","point1"),n=e.create("point",[i[0].point1,i[1]],d)}if(f)d=h.copyAttributes(r,e.options,"line","point2"),a=e.create("point",[i[0].point2,i[1]],d);else if(h.isArray(i[1])&&i[1].length>1)d=h.copyAttributes(r,e.options,"line","point2"),a=e.create("point",i[1],d);else if(h.isString(i[1])||h.isPoint(i[1]))a=e.select(i[1]);else if(h.isFunction(i[1])&&h.isPoint(i[1]()))a=i[1](),m=!0;else{if(!(h.isFunction(i[1])&&i[1]().length&&i[1]().length>=2))throw new Error("JSXGraph: Can't create line with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");d=h.copyAttributes(r,e.options,"line","point2"),a=l.createPoint(e,i[1](),d),m=!0}d=h.copyAttributes(r,e.options,"line"),o=new t.Line(e,n,a,d),m?(o.constrained=!0,o.funp1=i[0],o.funp2=i[1]):f||(o.isDraggable=!0),o.setParents([n.id,a.id])}else if(3===i.length){for(u=!0,c=0;c<3;c++)if(h.isNumber(i[c]))p[c]=h.createFunction(i[c]);else{if(!h.isFunction(i[c]))throw new Error("JSXGraph: Can't create line with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");p[c]=i[c],u=!1}d=h.copyAttributes(r,e.options,"line","point1"),n=u?e.create("point",[p[2]()*p[2]()+p[1]()*p[1](),p[2]()-p[1]()*p[0]()+p[2](),-p[1]()-p[2]()*p[0]()-p[1]()],d):e.create("point",[function(){return.5*(p[2]()*p[2]()+p[1]()*p[1]())},function(){return.5*(p[2]()-p[1]()*p[0]()+p[2]())},function(){return.5*(-p[1]()-p[2]()*p[0]()-p[1]())}],d),d=h.copyAttributes(r,e.options,"line","point2"),a=u?e.create("point",[p[2]()*p[2]()+p[1]()*p[1](),-p[1]()*p[0]()+p[2](),-p[2]()*p[0]()-p[1]()],d):e.create("point",[function(){return p[2]()*p[2]()+p[1]()*p[1]()},function(){return-p[1]()*p[0]()+p[2]()},function(){return-p[2]()*p[0]()-p[1]()}],d),n.prepareUpdate().update(),a.prepareUpdate().update(),d=h.copyAttributes(r,e.options,"line"),(o=new t.Line(e,n,a,d)).isDraggable=u,o.setParents([n,a])}else if(1===i.length&&h.isFunction(i[0])&&2===i[0]().length&&h.isPoint(i[0]()[0])&&h.isPoint(i[0]()[1]))s=i[0](),d=h.copyAttributes(r,e.options,"line"),(o=new t.Line(e,s[0],s[1],d)).constrained=!0,o.funps=i[0],o.setParents(s);else{if(!(1===i.length&&h.isFunction(i[0])&&3===i[0]().length&&h.isNumber(i[0]()[0])&&h.isNumber(i[0]()[1])&&h.isNumber(i[0]()[2])))throw new Error("JSXGraph: Can't create line with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");s=i[0],d=h.copyAttributes(r,e.options,"line","point1"),n=e.create("point",[function(){var t=s();return[.5*(t[2]*t[2]+t[1]*t[1]),.5*(t[2]-t[1]*t[0]+t[2]),.5*(-t[1]-t[2]*t[0]-t[1])]}],d),d=h.copyAttributes(r,e.options,"line","point2"),a=e.create("point",[function(){var t=s();return[t[2]*t[2]+t[1]*t[1],-t[1]*t[0]+t[2],-t[2]*t[0]-t[1]]}],d),d=h.copyAttributes(r,e.options,"line"),(o=new t.Line(e,n,a,d)).constrained=!0,o.funps=i[0],o.setParents([n,a])}return o},t.registerElement("line",t.createLine),t.createSegment=function(t,e,i){var r,s;if(i.straightFirst=!1,i.straightLast=!1,s=h.copyAttributes(i,t.options,"segment"),r=t.create("line",e.slice(0,2),s),3===e.length){if(r.hasFixedLength=!0,h.isNumber(e[2]))r.fixedLength=function(){return e[2]};else{if(!h.isFunction(e[2]))throw new Error("JSXGraph: Can't create segment with third parent type '"+typeof e[2]+"'.\nPossible third parent types: number or function");r.fixedLength=e[2]}r.getParents=function(){return this.parents.concat(this.fixedLength())},r.fixedLengthOldCoords=[],r.fixedLengthOldCoords[0]=new n(o.COORDS_BY_USER,r.point1.coords.usrCoords.slice(1,3),t),r.fixedLengthOldCoords[1]=new n(o.COORDS_BY_USER,r.point2.coords.usrCoords.slice(1,3),t)}return r.elType="segment",r},t.registerElement("segment",t.createSegment),t.createArrow=function(t,e,i){var r,s;return i.straightFirst=!1,i.straightLast=!1,s=h.copyAttributes(i,t.options,"arrow"),(r=t.create("line",e,s)).type=o.OBJECT_TYPE_VECTOR,r.elType="arrow",r},t.registerElement("arrow",t.createArrow),t.createAxis=function(t,e,i){var r,s,n,a,l;if(!h.isArray(e[0])&&!h.isPoint(e[0])||!h.isArray(e[1])&&!h.isPoint(e[1]))throw new Error("JSXGraph: Can't create axis with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");for(a in r=h.copyAttributes(i,t.options,"axis"),(n=t.create("line",e,r)).type=o.OBJECT_TYPE_AXIS,n.isDraggable=!1,n.point1.isDraggable=!1,n.point2.isDraggable=!1,n.ancestors)n.ancestors.hasOwnProperty(a)&&(n.ancestors[a].type=o.OBJECT_TYPE_AXISPOINT);return s=h.copyAttributes(i,t.options,"axis","ticks"),l=h.exists(s.ticksdistance)?s.ticksdistance:h.isArray(s.ticks)?s.ticks:1,n.defaultTicks=t.create("ticks",[n,l],s),n.defaultTicks.dump=!1,n.elType="axis",n.subs={ticks:n.defaultTicks},n.inherits.push(n.defaultTicks),n},t.registerElement("axis",t.createAxis),t.createTangent=function(t,i,s){var n,a,l,c,d;if(1===i.length)n=i[0],a=n.slideObject;else{if(2!==i.length)throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [glider], [point,line|curve|circle|conic]");if(h.isPoint(i[0]))n=i[0],a=i[1];else{if(!h.isPoint(i[1]))throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [glider], [point,line|curve|circle|conic]");a=i[0],n=i[1]}}if(a.elementClass===o.OBJECT_CLASS_LINE?(d=t.create("line",[a.point1,a.point2],s)).glider=n:a.elementClass===o.OBJECT_CLASS_CURVE&&a.type!==o.OBJECT_TYPE_CONIC?"plot"!==h.evaluate(a.visProp.curvetype)?(d=t.create("line",[function(){var t=a.X,e=a.Y;return-n.X()*r.D(e)(n.position)+n.Y()*r.D(t)(n.position)},function(){return r.D(a.Y)(n.position)},function(){return-r.D(a.X)(n.position)}],s),n.addChild(d),d.glider=n):(d=t.create("line",[function(){var t,e,i,r,s,o,h,l,c,d,u=Math.floor(n.position);if(1===a.bezierDegree)u===a.numberPoints-1&&u--;else{if(3!==a.bezierDegree)return 0;u=3*Math.floor(n.position*(a.numberPoints-1)/3),i=(n.position*(a.numberPoints-1)-u)/3,u>=a.numberPoints-1&&(u=a.numberPoints-4,i=1)}return u<0?1:(1===a.bezierDegree?(t=a.points[u].usrCoords,e=a.points[u+1].usrCoords):(r=a.points[u].usrCoords,s=a.points[u+1].usrCoords,o=a.points[u+2].usrCoords,h=a.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(h[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(h[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=n.coords.usrCoords)[1]+l,t[2]+c]),t[2]*e[1]-t[1]*e[2])},function(){var t,e,i,r,s,o,h,l,c,d,u=Math.floor(n.position);if(1===a.bezierDegree)u===a.numberPoints-1&&u--;else{if(3!==a.bezierDegree)return 0;u=3*Math.floor(n.position*(a.numberPoints-1)/3),i=(n.position*(a.numberPoints-1)-u)/3,u>=a.numberPoints-1&&(u=a.numberPoints-4,i=1)}return u<0?0:(1===a.bezierDegree?(t=a.points[u].usrCoords,e=a.points[u+1].usrCoords):(r=a.points[u].usrCoords,s=a.points[u+1].usrCoords,o=a.points[u+2].usrCoords,h=a.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(h[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(h[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=n.coords.usrCoords)[1]+l,t[2]+c]),e[2]-t[2])},function(){var t,e,i,r,s,o,h,l,c,d,u=Math.floor(n.position);if(1===a.bezierDegree)u===a.numberPoints-1&&u--;else{if(3!==a.bezierDegree)return 0;u=3*Math.floor(n.position*(a.numberPoints-1)/3),i=(n.position*(a.numberPoints-1)-u)/3,u>=a.numberPoints-1&&(u=a.numberPoints-4,i=1)}return u<0?0:(1===a.bezierDegree?(t=a.points[u].usrCoords,e=a.points[u+1].usrCoords):(r=a.points[u].usrCoords,s=a.points[u+1].usrCoords,o=a.points[u+2].usrCoords,h=a.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(h[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(h[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=n.coords.usrCoords)[1]+l,t[2]+c]),t[1]-e[1])}],s),n.addChild(d),d.glider=n):a.type===o.OBJECT_TYPE_TURTLE?(d=t.create("line",[function(){var t=Math.floor(n.position);for(l=0;l<a.objects.length;l++)if((c=a.objects[l]).type===o.OBJECT_TYPE_CURVE){if(t<c.numberPoints)break;t-=c.numberPoints}return t===c.numberPoints-1&&t--,t<0?1:c.Y(t)*c.X(t+1)-c.X(t)*c.Y(t+1)},function(){var t=Math.floor(n.position);for(l=0;l<a.objects.length;l++)if((c=a.objects[l]).type===o.OBJECT_TYPE_CURVE){if(t<c.numberPoints)break;t-=c.numberPoints}return t===c.numberPoints-1&&t--,t<0?0:c.Y(t+1)-c.Y(t)},function(){var t=Math.floor(n.position);for(l=0;l<a.objects.length;l++)if((c=a.objects[l]).type===o.OBJECT_TYPE_CURVE){if(t<c.numberPoints)break;t-=c.numberPoints}return t===c.numberPoints-1&&t--,t<0?0:c.X(t)-c.X(t+1)}],s),n.addChild(d),d.glider=n):a.elementClass!==o.OBJECT_CLASS_CIRCLE&&a.type!==o.OBJECT_TYPE_CONIC||(d=t.create("line",[function(){return e.matVecMult(a.quadraticform,n.coords.usrCoords)[0]},function(){return e.matVecMult(a.quadraticform,n.coords.usrCoords)[1]},function(){return e.matVecMult(a.quadraticform,n.coords.usrCoords)[2]}],s),n.addChild(d),d.glider=n),!h.exists(d))throw new Error("JSXGraph: Couldn't create tangent with the given parents.");return d.elType="tangent",d.type=o.OBJECT_TYPE_TANGENT,d.setParents(i),d},t.createRadicalAxis=function(t,i,r){var s,n,a;if(2!==i.length||i[0].elementClass!==o.OBJECT_CLASS_CIRCLE||i[1].elementClass!==o.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'radical axis' with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent type: [circle,circle]");return n=t.select(i[0]),a=t.select(i[1]),(s=t.create("line",[function(){var t=n.stdform,i=a.stdform;return e.matVecMult(e.transpose([t.slice(0,3),i.slice(0,3)]),[i[3],-t[3]])}],r)).elType="radicalaxis",s.setParents([n.id,a.id]),n.addChild(s),a.addChild(s),s},t.createPolarLine=function(t,e,i){var r,s,n,a,l,c,d;if(e.length>1&&(a=e[0].type===o.OBJECT_TYPE_CONIC||e[0].elementClass===o.OBJECT_CLASS_CIRCLE,l=e[1].type===o.OBJECT_TYPE_CONIC||e[1].elementClass===o.OBJECT_CLASS_CIRCLE,c=h.isPoint(e[0]),d=h.isPoint(e[1])),2!==e.length||!(a&&d||c&&l))throw new Error("JSXGraph: Can't create 'polar line' with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent type: [conic|circle,point], [point,conic|circle]");return d?(s=t.select(e[0]),n=t.select(e[1])):(s=t.select(e[1]),n=t.select(e[0])),(r=t.create("tangent",[s,n],i)).elType="polarline",r},t.registerElement("tangent",t.createTangent),t.registerElement("polar",t.createTangent),t.registerElement("radicalaxis",t.createRadicalAxis),t.registerElement("polarline",t.createPolarLine),{Line:t.Line,createLine:t.createLine,createTangent:t.createTangent,createPolar:t.createTangent,createSegment:t.createSegment,createAxis:t.createAxis,createArrow:t.createArrow,createRadicalAxis:t.createRadicalAxis,createPolarLine:t.createPolarLine}})),define("base/group",["jxg","base/constants","math/math","math/geometry","utils/type"],(function(t,e,i,r,s){"use strict";return t.Group=function(t,i,r,o,n){var a,h,l,c;for(this.board=t,this.objects={},a=this.board.numObjects,this.board.numObjects+=1,""!==i&&s.exists(i)?this.id=i:this.id=this.board.id+"Group"+a,this.board.groups[this.id]=this,this.type=e.OBJECT_TYPE_POINT,this.elementClass=e.OBJECT_CLASS_POINT,""!==r&&s.exists(r)?this.name=r:this.name="group_"+this.board.generateName(this),delete this.type,this.coords={},this.needsRegularUpdate=n.needsregularupdate,this.rotationCenter="centroid",this.scaleCenter=null,this.rotationPoints=[],this.translationPoints=[],this.scalePoints=[],this.scaleDirections={},this.parents=[],h=s.isArray(o)?o:Array.prototype.slice.call(arguments,3),l=0;l<h.length;l++)c=this.board.select(h[l]),!s.evaluate(c.visProp.fixed)&&s.exists(c.coords)&&this.addPoint(c);this.methodMap={ungroup:"ungroup",add:"addPoint",addPoint:"addPoint",addPoints:"addPoints",addGroup:"addGroup",remove:"removePoint",removePoint:"removePoint",setAttribute:"setAttribute",setProperty:"setAttribute"}},t.extend(t.Group.prototype,{ungroup:function(){var t,e,i;for(t in this.objects)this.objects.hasOwnProperty(t)&&(e=this.objects[t].point,s.isArray(e.groups)&&(i=s.indexOf(e.groups,this.id))>=0&&delete e.groups[i]);return this.objects={},this},addParents:function(t){var e,i,r;for(i=(r=s.isArray(t)?t:arguments).length,e=0;e<i;++e)s.isId(this.board,r[e])?this.parents.push(r[e]):s.exists(r[e].id)&&this.parents.push(r[e].id);this.parents=s.uniqueArray(this.parents)},setParents:function(t){return this.parents=[],this.addParents(t),this},getParents:function(){return s.isArray(this.parents)?this.parents:[]},_updateCoordsCache:function(t){var e;""!==t&&s.exists(this.objects[t])&&(e=this.objects[t].point,this.coords[e.id]={usrCoords:e.coords.usrCoords.slice(0)})},update:function(){var t,e,o,n,a,h,l,c,d,u,p=null;if(!this.needsUpdate)return this;if("nothing"===(t=this._update_find_drag_type()).action)return this._updateCoordsCache(t.id),this;if(p=this.objects[t.id].point,"translation"===t.action)d=[p.coords.usrCoords[1]-this.coords[t.id].usrCoords[1],p.coords.usrCoords[2]-this.coords[t.id].usrCoords[2]];else if("rotation"===t.action||"scaling"===t.action){if(o="rotation"===t.action?"rotationCenter":"scaleCenter",s.isPoint(this[o]))u=this[o].coords.usrCoords.slice(1);else if("centroid"===this[o])u=this._update_centroid_center();else if(s.isArray(this[o]))u=this[o];else{if(!s.isFunction(this[o]))return this;u=this[o]()}if("rotation"===t.action)c=r.rad(this.coords[t.id].usrCoords.slice(1),u,this.objects[t.id].point),(d=this.board.create("transform",[c,u[0],u[1]],{type:"rotate"})).update();else{if("scaling"!==t.action)return this;if(a=r.distance(this.coords[t.id].usrCoords.slice(1),u),Math.abs(a)<i.eps)return this;a=r.distance(p.coords.usrCoords.slice(1),u)/a,h=this.scaleDirections[t.id].indexOf("x")>=0?a:1,l=this.scaleDirections[t.id].indexOf("y")>=0?a:1,(d=this.board.create("transform",[1,0,0,u[0]*(1-h),h,0,u[1]*(1-l),0,l],{type:"generic"})).update()}}for(e in this._update_apply_transformation(t,d),this.needsUpdate=!1,this.objects)if(this.objects.hasOwnProperty(e))for(n in this.objects[e].descendants)this.objects[e].descendants.hasOwnProperty(n)&&(this.objects[e].descendants.needsUpdate=this.objects[e].descendants.needsRegularUpdate||this.board.needsFullUpdate);for(e in this.board.updateElements(t),this.objects)this.objects.hasOwnProperty(e)&&this._updateCoordsCache(e);return this},_update_find_drag_type:function(){var t,r,o,n="nothing",a=[];for(t in this.objects)this.objects.hasOwnProperty(t)&&(r=this.objects[t].point).coords.distance(e.COORDS_BY_USER,this.coords[t])>i.eps&&a.push(r.id);return 0===a.length?{action:n,id:"",changed:a}:(o=a[0],r=this.objects[o].point,a.length>1?n="translation":s.isInArray(this.rotationPoints,r)&&s.exists(this.rotationCenter)?n="rotation":s.isInArray(this.scalePoints,r)&&s.exists(this.scaleCenter)?n="scaling":s.isInArray(this.translationPoints,r)&&(n="translation"),{action:n,id:o,changed:a})},_update_centroid_center:function(){var t,e,i;for(i in t=[0,0],e=0,this.coords)this.coords.hasOwnProperty(i)&&(t[0]+=this.coords[i].usrCoords[1],t[1]+=this.coords[i].usrCoords[2],++e);return e>0&&(t[0]/=e,t[1]/=e),t},_update_apply_transformation:function(t,r){var o,n;for(o in this.objects)this.objects.hasOwnProperty(o)&&(s.exists(this.board.objects[o])?(n=this.objects[o].point).id!==t.id?"translation"===t.action?s.isInArray(t.changed,n.id)||n.coords.setCoordinates(e.COORDS_BY_USER,[this.coords[o].usrCoords[1]+r[0],this.coords[o].usrCoords[2]+r[1]]):"rotation"!==t.action&&"scaling"!==t.action||r.applyOnce([n]):"rotation"!==t.action&&"scaling"!==t.action||n.coords.setCoordinates(e.COORDS_BY_USER,i.matVecMult(r.matrix,this.coords[n.id].usrCoords)):delete this.objects[o])},addPoint:function(t){return this.objects[t.id]={point:this.board.select(t)},this._updateCoordsCache(t.id),this.translationPoints.push(t),t.groups.push(this.id),t.groups=s.uniqueArray(t.groups),this},addPoints:function(t){var e;for(e=0;e<t.length;e++)this.addPoint(t[e]);return this},addGroup:function(t){var e;for(e in t.objects)t.objects.hasOwnProperty(e)&&this.addPoint(t.objects[e].point);return this},removePoint:function(t){return delete this.objects[t.id],this},setRotationCenter:function(t){return this.rotationCenter=t,this},setRotationPoints:function(t){return this._setActionPoints("rotation",t)},addRotationPoint:function(t){return this._addActionPoint("rotation",t)},removeRotationPoint:function(t){return this._removeActionPoint("rotation",t)},setTranslationPoints:function(t){return this._setActionPoints("translation",t)},addTranslationPoint:function(t){return this._addActionPoint("translation",t)},removeTranslationPoint:function(t){return this._removeActionPoint("translation",t)},setScaleCenter:function(t){return this.scaleCenter=t,this},setScalePoints:function(t,e){var i,r,o;for(o=(i=s.isArray(t)?t:arguments).length,r=0;r<o;++r)this.scaleDirections[this.board.select(i[r]).id]=e||"xy";return this._setActionPoints("scale",t)},addScalePoint:function(t,e){return this._addActionPoint("scale",t),this.scaleDirections[this.board.select(t).id]=e||"xy",this},removeScalePoint:function(t){return this._removeActionPoint("scale",t)},_setActionPoints:function(t,e){var i,r,o;for(o=(i=s.isArray(e)?e:arguments).length,this[t+"Points"]=[],r=0;r<o;++r)this._addActionPoint(t,i[r]);return this},_addActionPoint:function(t,e){return this[t+"Points"].push(this.board.select(e)),this},_removeActionPoint:function(t,e){var i=this[t+"Points"].indexOf(this.board.select(e));return i>-1&&this[t+"Points"].splice(i,1),this},setProperty:function(){t.deprecated("Group.setProperty","Group.setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(){var t;for(t in this.objects)this.objects.hasOwnProperty(t)&&this.objects[t].point.setAttribute.apply(this.objects[t].point,arguments);return this}}),t.createGroup=function(e,i,r){var o=s.copyAttributes(r,e.options,"group"),n=new t.Group(e,o.id,o.name,i,o);return n.elType="group",n.setParents(i),n},t.registerElement("group",t.createGroup),{Group:t.Group,createGroup:t.createGroup}})),define("element/conic",["jxg","base/constants","base/coords","math/math","math/numerics","math/geometry","utils/type"],(function(t,e,i,r,s,o,n){"use strict";return t.createEllipse=function(t,r,s){var o,a,h,l,c,d,u,p=[],f=n.copyAttributes(s,t.options,"conic","foci"),m=n.copyAttributes(s,t.options,"conic","center"),g=n.copyAttributes(s,t.options,"conic");for(d=0;d<2;d++)if(r[d].length>1)p[d]=t.create("point",r[d],f);else if(n.isPoint(r[d]))p[d]=t.select(r[d]);else if(n.isFunction(r[d])&&n.isPoint(r[d]()))p[d]=r[d]();else{if(!n.isString(r[d]))throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");p[d]=t.select(r[d])}if(n.isNumber(r[2]))c=n.createFunction(r[2],t);else if(n.isFunction(r[2])&&n.isNumber(r[2]()))c=r[2];else{if(n.isPoint(r[2]))l=t.select(r[2]);else if(r[2].length>1)l=t.create("point",r[2],f);else if(n.isFunction(r[2])&&n.isPoint(r[2]()))l=r[2]();else{if(!n.isString(r[2]))throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");l=t.select(r[2])}c=function(){return l.Dist(p[0])+l.Dist(p[1])}}for(n.exists(r[4])||(r[4]=2*Math.PI),n.exists(r[3])||(r[3]=0),h=t.create("point",[function(){return.5*(p[0].X()+p[1].X())},function(){return.5*(p[0].Y()+p[1].Y())}],m),(a=t.create("curve",[function(t){return 0},function(t){return 0},r[3],r[4]],g)).majorAxis=c,u=a.hasPoint,o=function(t,e){var i,r,s,o,n,h,l,d,u;e||(r=(i=c())*i,s=p[0].X(),o=p[0].Y(),l=s-(n=p[1].X()),d=o-(h=p[1].Y()),u=(r-s*s-o*o+n*n+h*h)/(2*i),a.quadraticform=[[u*u-n*n-h*h,u*l/i+n,u*d/i+h],[u*l/i+n,l*l/r-1,l*d/r],[u*d/i+h,l*d/r,d*d/r-1]])},a.X=function(t,e){var i=c(),r=p[1].Dist(p[0]),s=.5*(r*r-i*i)/(r*Math.cos(t)-i),n=Math.atan2(p[1].Y()-p[0].Y(),p[1].X()-p[0].X());return e||o(0,e),p[0].X()+Math.cos(n+t)*s},a.Y=function(t,e){var i=c(),r=p[1].Dist(p[0]),s=.5*(r*r-i*i)/(r*Math.cos(t)-i),o=Math.atan2(p[1].Y()-p[0].Y(),p[1].X()-p[0].X());return p[0].Y()+Math.sin(o+t)*s},a.midpoint=a.center=h,a.type=e.OBJECT_TYPE_CONIC,a.subs={center:a.center},a.inherits.push(a.center,p[0],p[1]),n.isPoint(l)&&a.inherits.push(l),a.hasPoint=function(t,r){var s,o,a,h;return n.evaluate(this.visProp.hasinnerpoints)?(s=p[0].coords,o=p[1].coords,a=this.majorAxis(),(h=new i(e.COORDS_BY_SCREEN,[t,r],this.board)).distance(e.COORDS_BY_USER,s)+h.distance(e.COORDS_BY_USER,o)<=a):u.apply(this,arguments)},h.addChild(a),d=0;d<2;d++)n.isPoint(p[d])&&p[d].addChild(a);return n.isPoint(l)&&l.addChild(a),a.setParents(r),a},t.createHyperbola=function(t,i,r){var s,o,a,h,l,c,d=[],u=n.copyAttributes(r,t.options,"conic","foci"),p=n.copyAttributes(r,t.options,"conic","center"),f=n.copyAttributes(r,t.options,"conic");for(c=0;c<2;c++)if(i[c].length>1)d[c]=t.create("point",i[c],u);else if(n.isPoint(i[c]))d[c]=t.select(i[c]);else if(n.isFunction(i[c])&&n.isPoint(i[c]()))d[c]=i[c]();else{if(!n.isString(i[c]))throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");d[c]=t.select(i[c])}if(n.isNumber(i[2]))l=n.createFunction(i[2],t);else if(n.isFunction(i[2])&&n.isNumber(i[2]()))l=i[2];else{if(n.isPoint(i[2]))h=t.select(i[2]);else if(i[2].length>1)h=t.create("point",i[2],u);else if(n.isFunction(i[2])&&n.isPoint(i[2]()))h=i[2]();else{if(!n.isString(i[2]))throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");h=t.select(i[2])}l=function(){return h.Dist(d[0])-h.Dist(d[1])}}for(n.exists(i[4])||(i[4]=1.0001*Math.PI),n.exists(i[3])||(i[3]=-1.0001*Math.PI),a=t.create("point",[function(){return.5*(d[0].X()+d[1].X())},function(){return.5*(d[0].Y()+d[1].Y())}],p),(o=t.create("curve",[function(t){return 0},function(t){return 0},i[3],i[4]],f)).majorAxis=l,s=function(t,e){var i,r,s,n,a,h,c,u,p;e||(r=(i=l())*i,s=d[0].X(),n=d[0].Y(),c=s-(a=d[1].X()),u=n-(h=d[1].Y()),p=(r-s*s-n*n+a*a+h*h)/(2*i),o.quadraticform=[[p*p-a*a-h*h,p*c/i+a,p*u/i+h],[p*c/i+a,c*c/r-1,c*u/r],[p*u/i+h,c*u/r,u*u/r-1]])},o.X=function(t,e){var i=l(),r=d[1].Dist(d[0]),o=.5*(r*r-i*i)/(r*Math.cos(t)+i),n=Math.atan2(d[1].Y()-d[0].Y(),d[1].X()-d[0].X());return e||s(0,e),d[0].X()+Math.cos(n+t)*o},o.Y=function(t,e){var i=l(),r=d[1].Dist(d[0]),s=.5*(r*r-i*i)/(r*Math.cos(t)+i),o=Math.atan2(d[1].Y()-d[0].Y(),d[1].X()-d[0].X());return d[0].Y()+Math.sin(o+t)*s},o.midpoint=o.center=a,o.subs={center:o.center},o.inherits.push(o.center,d[0],d[1]),n.isPoint(h)&&o.inherits.push(h),o.type=e.OBJECT_TYPE_CONIC,a.addChild(o),c=0;c<2;c++)n.isPoint(d[c])&&d[c].addChild(o);return n.isPoint(h)&&h.addChild(o),o.setParents(i),o},t.createParabola=function(t,i,r){var s,a,h,l,c=i[0],d=i[1],u=n.copyAttributes(r,t.options,"conic","foci"),p=n.copyAttributes(r,t.options,"conic","center"),f=n.copyAttributes(r,t.options,"conic");if(i[0].length>1)c=t.create("point",i[0],u);else if(n.isPoint(i[0]))c=t.select(i[0]);else if(n.isFunction(i[0])&&n.isPoint(i[0]()))c=i[0]();else{if(!n.isString(i[0]))throw new Error("JSXGraph: Can't create Parabola with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,line]");c=t.select(i[0])}return n.isArray(d)&&2===d.length&&(l=n.copyAttributes(r,t.options,"conic","line"),d=t.create("line",d,l)),n.exists(i[3])||(i[3]=2*Math.PI),n.exists(i[2])||(i[2]=0),h=t.create("point",[function(){return o.projectPointToLine(c,d,t).usrCoords}],p),(a=t.create("curve",[function(t){return 0},function(t){return 0},i[2],i[3]],f)).midpoint=a.center=h,a.subs={center:a.center},a.inherits.push(a.center),s=function(t,e){var i,r,s,o,n,h;e||(i=d.stdform[1],r=d.stdform[2],s=d.stdform[0],o=i*i+r*r,n=c.X(),h=c.Y(),a.quadraticform=[[s*s-o*(n*n+h*h),s*i+o*n,s*r+o*h],[s*i+o*n,-r*r,i*r],[s*r+o*h,i*r,-i*i]])},a.X=function(t,e){var i,r=d.getAngle(),n=o.distPointLine(c.coords.usrCoords,d.stdform),a=d.point1.coords.usrCoords,h=d.point2.coords.usrCoords,l=c.coords.usrCoords;return 0===a[0]?a=[1,h[1]+d.stdform[2],h[2]-d.stdform[1]]:0===h[0]&&(h=[1,a[1]+d.stdform[2],a[2]-d.stdform[1]]),i=((h[1]-a[1])*(l[2]-a[2])-(h[2]-a[2])*(l[1]-a[1])>=0?1:-1)*n/(1-Math.sin(t)),e||s(0,e),c.X()+Math.cos(t+r)*i},a.Y=function(t,e){var i,r=d.getAngle(),s=o.distPointLine(c.coords.usrCoords,d.stdform),n=d.point1.coords.usrCoords,a=d.point2.coords.usrCoords,h=c.coords.usrCoords;return 0===n[0]?n=[1,a[1]+d.stdform[2],a[2]-d.stdform[1]]:0===a[0]&&(a=[1,n[1]+d.stdform[2],n[2]-d.stdform[1]]),i=((a[1]-n[1])*(h[2]-n[2])-(a[2]-n[2])*(h[1]-n[1])>=0?1:-1)*s/(1-Math.sin(t)),c.Y()+Math.sin(t+r)*i},a.type=e.OBJECT_TYPE_CONIC,h.addChild(a),n.isPoint(c)&&(c.addChild(a),a.inherits.push(c)),d.addChild(a),a.setParents(i),a},t.createConic=function(t,i,o){var a,h,l,c,d,u,p,f,m,g,b,v,y,C,_=[[1,0,0],[0,1,0],[0,0,1]],P=[[1,0,0],[0,1,0],[0,0,1]],E=[],x=[],S=n.copyAttributes(o,t.options,"conic","point"),O=n.copyAttributes(o,t.options,"conic","center"),w=n.copyAttributes(o,t.options,"conic");if(5===i.length)C=!0;else{if(6!==i.length)throw new Error("JSXGraph: Can't create generic Conic with "+i.length+" parameters.");C=!1}if(C)for(v=0;v<5;v++)if(i[v].length>1)E[v]=t.create("point",i[v],S);else if(n.isPoint(i[v]))E[v]=t.select(i[v]);else if(n.isFunction(i[v])&&n.isPoint(i[v]()))E[v]=i[v]();else{if(!n.isString(i[v]))throw new Error("JSXGraph: Can't create Conic section with parent types '"+typeof i[v]+"'.\nPossible parent types: [point,point,point,point,point], [a00,a11,a22,a01,a02,a12]");E[v]=t.select(i[v])}else(y=[[0,0,0],[0,0,0],[0,0,0]])[0][0]=n.isFunction(i[2])?function(){return i[2]()}:function(){return i[2]},y[0][1]=n.isFunction(i[4])?function(){return i[4]()}:function(){return i[4]},y[0][2]=n.isFunction(i[5])?function(){return i[5]()}:function(){return i[5]},y[1][1]=n.isFunction(i[0])?function(){return i[0]()}:function(){return i[0]},y[1][2]=n.isFunction(i[3])?function(){return i[3]()}:function(){return i[3]},y[2][2]=n.isFunction(i[1])?function(){return i[1]()}:function(){return i[1]};if(d=function(t){var e,i;for(e=0;e<3;e++)for(i=e;i<3;i++)t[e][i]+=t[i][e];for(e=0;e<3;e++)for(i=0;i<e;i++)t[e][i]=t[i][e];return t},c=function(t,e){var i,r,s=[[0,0,0],[0,0,0],[0,0,0]];for(i=0;i<3;i++)for(r=0;r<3;r++)s[i][r]=t[i]*e[r];return d(s)},l=function(t,e,i){var s,o,n,a,h,l=[[0,0,0],[0,0,0],[0,0,0]];for(h=r.matVecMult(e,i),n=r.innerProduct(i,h),h=r.matVecMult(t,i),a=r.innerProduct(i,h),s=0;s<3;s++)for(o=0;o<3;o++)l[s][o]=n*t[s][o]-a*e[s][o];return l},h=t.create("curve",[function(t){return 0},function(t){return 0},0,2*Math.PI],w),a=function(t,e){var i,o,a,d;if(!e){if(C){for(i=0;i<5;i++)x[i]=E[i].coords.usrCoords;g=c(r.crossProduct(x[0],x[1]),r.crossProduct(x[2],x[3])),b=c(r.crossProduct(x[0],x[2]),r.crossProduct(x[1],x[3])),P=l(g,b,x[4])}else for(i=0;i<3;i++)for(o=i;o<3;o++)P[i][o]=y[i][o](),o>i&&(P[o][i]=P[i][o]);for(h.quadraticform=P,(u=s.Jacobi(P))[0][0][0]<0&&(u[0][0][0]*=-1,u[0][1][1]*=-1,u[0][2][2]*=-1),i=0;i<3;i++){for(a=0,o=0;o<3;o++)a+=u[1][o][i]*u[1][o][i];a=Math.sqrt(a)}_=u[1],m=Math.sqrt(Math.abs(u[0][0][0])),p=Math.sqrt(Math.abs(u[0][1][1])),f=Math.sqrt(Math.abs(u[0][2][2]))}return u[0][1][1]<=0&&u[0][2][2]<=0?d=r.matVecMult(_,[1/m,Math.cos(t)/p,Math.sin(t)/f]):u[0][1][1]<=0&&u[0][2][2]>0?d=r.matVecMult(_,[Math.cos(t)/m,1/p,Math.sin(t)/f]):u[0][2][2]<0&&(d=r.matVecMult(_,[Math.sin(t)/m,Math.cos(t)/p,1/f])),n.exists(d)?(d[1]/=d[0],d[2]/=d[0],d[0]=1):d=[1,NaN,NaN],d},h.X=function(t,e){return a(t,e)[1]},h.Y=function(t,e){return a(t,e)[2]},h.midpoint=t.create("point",[function(){var t=h.quadraticform;return[t[1][1]*t[2][2]-t[1][2]*t[1][2],t[1][2]*t[0][2]-t[2][2]*t[0][1],t[0][1]*t[1][2]-t[1][1]*t[0][2]]}],O),h.type=e.OBJECT_TYPE_CONIC,h.center=h.midpoint,h.subs={center:h.center},h.inherits.push(h.center),h.inherits=h.inherits.concat(E),C){for(v=0;v<5;v++)n.isPoint(E[v])&&E[v].addChild(h);h.setParents(i)}return h.addChild(h.center),h},t.registerElement("ellipse",t.createEllipse),t.registerElement("hyperbola",t.createHyperbola),t.registerElement("parabola",t.createParabola),t.registerElement("conic",t.createConic),{createEllipse:t.createEllipse,createHyperbola:t.createHyperbola,createParabola:t.createParabola,createConic:t.createConic}})),define("base/circle",["jxg","base/element","base/coords","base/constants","element/conic","parser/geonext","utils/type"],(function(t,e,i,r,s,o,n){"use strict";return t.Circle=function(t,e,i,s,o){this.constructor(t,o,r.OBJECT_TYPE_CIRCLE,r.OBJECT_CLASS_CIRCLE),this.method=e,this.midpoint=this.board.select(i),this.center=this.board.select(i),this.point2=null,this.radius=0,this.line=null,this.circle=null,this.points=[],"twoPoints"===e?(this.point2=t.select(s),this.radius=this.Radius()):"pointRadius"===e?(this.gxtterm=s,this.updateRadius=n.createFunction(s,this.board,null,!0),this.updateRadius()):"pointLine"===e?(this.line=t.select(s),this.radius=this.line.point1.coords.distance(r.COORDS_BY_USER,this.line.point2.coords)):"pointCircle"===e&&(this.circle=t.select(s),this.radius=this.circle.Radius()),this.id=this.board.setId(this,"C"),this.board.renderer.drawEllipse(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="circle",this.createLabel(),n.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),"pointRadius"===e?this.notifyParents(s):"pointLine"===e?this.line.addChild(this):"pointCircle"===e?this.circle.addChild(this):"twoPoints"===e&&(n.exists(this.point2._is_new)?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this)),this.methodMap=n.deepCopy(this.methodMap,{setRadius:"setRadius",getRadius:"getRadius",Area:"Area",area:"Area",radius:"Radius",center:"center",line:"line",point2:"point2"})},t.Circle.prototype=new e,t.extend(t.Circle.prototype,{hasPoint:function(t,e){var s,o,a,h,l,c=this.center.coords.usrCoords,d=new i(r.COORDS_BY_SCREEN,[t,e],this.board),u=this.Radius();return n.isObject(n.evaluate(this.visProp.precision))?(o=this.board._inputDevice,s=n.evaluate(this.visProp.precision[o])):s=this.board.options.precision.hasPoint,a=c[1]-d.usrCoords[1],h=c[2]-d.usrCoords[2],l=Math.sqrt(a*a+h*h),s+=.5*n.evaluate(this.visProp.strokewidth),s/=Math.sqrt(this.board.unitX*this.board.unitY),n.evaluate(this.visProp.hasinnerpoints)?l<u+s:Math.abs(l-u)<s},generatePolynomial:function(t){var e=this.center.symbolic.x,i=this.center.symbolic.y,r=t.symbolic.x,s=t.symbolic.y,o=this.generateRadiusSquared();return""===o?[]:["(("+r+")-("+e+"))^2 + (("+s+")-("+i+"))^2 - ("+o+")"]},generateRadiusSquared:function(){var t,e,i,r,s="";return"twoPoints"===this.method?(t=this.center.symbolic.x,e=this.center.symbolic.y,s="(("+(i=this.point2.symbolic.x)+")-("+t+"))^2 + (("+(r=this.point2.symbolic.y)+")-("+e+"))^2"):"pointRadius"===this.method?n.isNumber(this.radius)&&(s=(this.radius*this.radius).toString()):"pointLine"===this.method?(i=this.line.point1.symbolic.x,r=this.line.point1.symbolic.y,s="(("+i+")-("+this.line.point2.symbolic.x+"))^2 + (("+r+")-("+this.line.point2.symbolic.y+"))^2"):"pointCircle"===this.method&&(s=this.circle.Radius()),s},update:function(){var t,e,s,o,a,h;if(this.needsUpdate)for(n.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),"pointLine"===this.method?this.radius=this.line.point1.coords.distance(r.COORDS_BY_USER,this.line.point2.coords):"pointCircle"===this.method?this.radius=this.circle.Radius():"pointRadius"===this.method&&(this.radius=this.updateRadius()),this.updateStdform(),this.updateQuadraticform(),s=this.center.coords.usrCoords[0],t=this.center.coords.usrCoords[1]/s,e=this.center.coords.usrCoords[2]/s,s/=s,o=this.Radius(),a=.551915024494,this.numberPoints=13,this.dataX=[t+o,t+o,t+o*a,t,t-o*a,t-o,t-o,t-o,t-o*a,t,t+o*a,t+o,t+o],this.dataY=[e,e+o*a,e+o,e+o,e+o,e+o*a,e,e-o*a,e-o,e-o,e-o,e-o*a,e],this.bezierDegree=3,h=0;h<this.numberPoints;h++)this.points[h]=new i(r.COORDS_BY_USER,[this.dataX[h],this.dataY[h]],this.board);return this},updateQuadraticform:function(){var t=this.center,e=t.X(),i=t.Y(),r=this.Radius();this.quadraticform=[[e*e+i*i-r*r,-e,-i],[-e,1,0],[-i,0,1]]},updateStdform:function(){this.stdform[3]=.5,this.stdform[4]=this.Radius(),this.stdform[1]=-this.center.coords.usrCoords[1],this.stdform[2]=-this.center.coords.usrCoords[2],isFinite(this.stdform[4])||(this.stdform[0]=n.exists(this.point2)?-(this.stdform[1]*this.point2.coords.usrCoords[1]+this.stdform[2]*this.point2.coords.usrCoords[2]):0),this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.center.coords.usrCoords[1]+this.center.coords.usrCoords[2]+this.Radius())&&this.center.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateEllipse(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},notifyParents:function(t){n.isString(t)&&o.findDependencies(this,t,this.board)},setRadius:function(t){return this.updateRadius=n.createFunction(t,this.board,null,!0),this.board.update(),this},Radius:function(t){return n.exists(t)?(this.setRadius(t),this.Radius()):"twoPoints"===this.method?n.cmpArrays(this.point2.coords.usrCoords,[0,0,0])||n.cmpArrays(this.center.coords.usrCoords,[0,0,0])?NaN:this.center.Dist(this.point2):"pointLine"===this.method||"pointCircle"===this.method?this.radius:"pointRadius"===this.method?this.updateRadius():NaN},getRadius:function(){return t.deprecated("Circle.getRadius()","Circle.Radius()"),this.Radius()},getTextAnchor:function(){return this.center.coords},getLabelAnchor:function(){var t,e,s=this.Radius(),o=this.center.coords.usrCoords,a=.7071067811865476;switch(n.evaluate(this.visProp.label.position)){case"lft":t=o[1]-s,e=o[2];break;case"llft":t=o[1]-a*s,e=o[2]-a*s;break;case"rt":t=o[1]+s,e=o[2];break;case"lrt":t=o[1]+a*s,e=o[2]-a*s;break;case"urt":t=o[1]+a*s,e=o[2]+a*s;break;case"top":t=o[1],e=o[2]+s;break;case"bot":t=o[1],e=o[2]-s;break;default:t=o[1]-a*s,e=o[2]+a*s}return new i(r.COORDS_BY_USER,[t,e],this.board)},cloneToBackground:function(){var t,e=this.Radius(),i={id:this.id+"T"+this.numTraces,elementClass:r.OBJECT_CLASS_CIRCLE,center:{coords:this.center.coords},Radius:function(){return e},getRadius:function(){return e},board:this.board,visProp:n.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return i.visProp.layer=this.board.options.layer.trace,this.numTraces++,n.clearVisPropOld(i),i.visPropCalc={visible:n.evaluate(i.visProp.visible)},t=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawEllipse(i),this.board.renderer.enhancedRendering=t,this.traces[i.id]=i.rendNode,this},addTransform:function(t){var e,i=n.isArray(t)?t:[t],r=i.length;for(e=0;e<r;e++)this.center.transformations.push(i[e]),"twoPoints"===this.method&&this.point2.transformations.push(i[e]);return this},snapToGrid:function(){var t=n.evaluate(this.visProp.snaptogrid);return this.center.handleSnapToGrid(t,!0),"twoPoints"===this.method&&this.point2.handleSnapToGrid(t,!0),this},snapToPoints:function(){var t=n.evaluate(this.visProp.snaptopoints);return this.center.handleSnapToPoints(t),"twoPoints"===this.method&&this.point2.handleSnapToPoints(t),this},X:function(t){return this.Radius()*Math.cos(2*t*Math.PI)+this.center.coords.usrCoords[1]},Y:function(t){return this.Radius()*Math.sin(2*t*Math.PI)+this.center.coords.usrCoords[2]},Z:function(t){return 1},minX:function(){return 0},maxX:function(){return 1},Area:function(){var t=this.Radius();return t*t*Math.PI},bounds:function(){var t=this.center.coords.usrCoords,e=this.Radius();return[t[1]-e,t[2]+e,t[1]+e,t[2]-e]},getParents:function(){return 1===this.parents.length?this.parents.concat(this.radius):this.parents}}),t.createCircle=function(e,i,o){var a,h,l,c,d,u=["center","point2"];if(h=[],d=e.select(i[0]),n.isObject(d)&&d.elementClass===r.OBJECT_CLASS_CIRCLE&&n.isTransformationOrArray(i[1]))return c=n.copyAttributes(o,e.options,"circle"),(a=s.createEllipse(e,[d.center,d.center,function(){return 2*d.Radius()}],c)).addTransform(i[1]),a;for(l=0;l<i.length;l++)if(n.isPointType(e,i[l])){if(!1===(h=h.concat(n.providePoints(e,[i[l]],o,"circle",[u[l]])))[h.length-1])throw new Error("JSXGraph: Can't create circle from this type. Please provide a point type.")}else h.push(i[l]);if(c=n.copyAttributes(o,e.options,"circle"),2===h.length&&n.isPoint(h[0])&&n.isPoint(h[1]))a=new t.Circle(e,"twoPoints",h[0],h[1],c);else if((n.isNumber(h[0])||n.isFunction(h[0])||n.isString(h[0]))&&n.isPoint(h[1]))a=new t.Circle(e,"pointRadius",h[1],h[0],c);else if((n.isNumber(h[1])||n.isFunction(h[1])||n.isString(h[1]))&&n.isPoint(h[0]))a=new t.Circle(e,"pointRadius",h[0],h[1],c);else if(h[0].elementClass===r.OBJECT_CLASS_CIRCLE&&n.isPoint(h[1]))a=new t.Circle(e,"pointCircle",h[1],h[0],c);else if(h[1].elementClass===r.OBJECT_CLASS_CIRCLE&&n.isPoint(h[0]))a=new t.Circle(e,"pointCircle",h[0],h[1],c);else if(h[0].elementClass===r.OBJECT_CLASS_LINE&&n.isPoint(h[1]))a=new t.Circle(e,"pointLine",h[1],h[0],c);else if(h[1].elementClass===r.OBJECT_CLASS_LINE&&n.isPoint(h[0]))a=new t.Circle(e,"pointLine",h[0],h[1],c);else{if(!(3===i.length&&n.isPoint(h[0])&&n.isPoint(h[1])&&n.isPoint(h[2])))throw new Error("JSXGraph: Can't create circle with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [point,number], [point,function], [point,circle], [point,point,point], [circle,transformation]");if(!t.elements.circumcircle)throw new Error("JSXGraph: Can't create circle with three points. Please include the circumcircle element (element/composition).");a=t.elements.circumcircle(e,h,c)}for(a.isDraggable=!0,a.setParents(h),a.elType="circle",l=0;l<h.length;l++)n.isPoint(h[l])&&a.inherits.push(h[l]);return a},t.registerElement("circle",t.createCircle),{Circle:t.Circle,createCircle:t.createCircle}})),define("base/polygon",["jxg","base/constants","base/coords","math/statistics","math/geometry","utils/type","base/element"],(function(t,e,i,r,s,o,n){"use strict";return t.Polygon=function(i,r,s){this.constructor(i,s,e.OBJECT_TYPE_POLYGON,e.OBJECT_CLASS_AREA);var n,a,h,l,c,d=o.copyAttributes(s,i.options,"polygon","borders");for(this.withLines=s.withlines,this.attr_line=d,this.vertices=[],n=0;n<r.length;n++)this.vertices[n]=this.board.select(r[n]);if(this.vertices.length>0&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.borders=[],this.withLines)for(h=this.vertices.length-1,l=0;l<h;l++)n=(l+1)%h,d.id=d.ids&&d.ids[n],d.name=d.names&&d.names[n],d.strokecolor=o.isArray(d.colors)&&d.colors[n%d.colors.length]||d.strokecolor,d.visible=o.exists(s.borders.visible)?s.borders.visible:s.visible,!1===d.strokecolor&&(d.strokecolor="none"),(a=i.create("segment",[this.vertices[n],this.vertices[n+1]],d)).dump=!1,this.borders[n]=a,a.parentPolygon=this;for(this.inherits.push(this.vertices,this.borders),this.id=this.board.setId(this,"Py"),n=0;n<this.vertices.length-1;n++)c=this.board.select(this.vertices[n]),o.exists(c._is_new)?(this.addChild(c),delete c._is_new):c.addChild(this);this.board.renderer.drawPolygon(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="polygon",this.createLabel(),this.methodMap=t.deepCopy(this.methodMap,{borders:"borders",vertices:"vertices",A:"Area",Area:"Area",Perimeter:"Perimeter",L:"Perimeter",Length:"Perimeter",boundingBox:"boundingBox",bounds:"bounds",addPoints:"addPoints",insertPoints:"insertPoints",removePoints:"removePoints"})},t.Polygon.prototype=new n,t.extend(t.Polygon.prototype,{pnpoly:function(t,r,s){var o,n,a,h,l,c,d=this.vertices,u=!1;for(s===e.COORDS_BY_USER?(h=(c=new i(e.COORDS_BY_USER,[t,r],this.board)).scrCoords[1],l=c.scrCoords[2]):(h=t,l=r),o=0,n=(a=this.vertices.length)-2;o<a-1;n=o++)d[o].coords.scrCoords[2]>l!=d[n].coords.scrCoords[2]>l&&h<(d[n].coords.scrCoords[1]-d[o].coords.scrCoords[1])*(l-d[o].coords.scrCoords[2])/(d[n].coords.scrCoords[2]-d[o].coords.scrCoords[2])+d[o].coords.scrCoords[1]&&(u=!u);return u},hasPoint:function(t,e){var i,r;if(o.evaluate(this.visProp.hasinnerpoints)&&this.pnpoly(t,e))return!0;for(r=this.borders.length,i=0;i<r;i++)if(this.borders[i].hasPoint(t,e))return!0;return!1},updateRenderer:function(){var t,e;if(!this.needsUpdate)return this;if(this.visPropCalc.visible){for(e=this.vertices.length,this.isReal=!0,t=0;t<e;++t)if(!this.vertices[t].isReal){this.isReal=!1;break}this.isReal||this.updateVisibility(!1)}return this.visPropCalc.visible&&this.board.renderer.updatePolygon(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this},getTextAnchor:function(){var t,r,s,o,n;if(0===this.vertices.length)return new i(e.COORDS_BY_USER,[1,0,0],this.board);for(s=t=this.vertices[0].X(),o=r=this.vertices[0].Y(),n=0;n<this.vertices.length;n++)this.vertices[n].X()<t&&(t=this.vertices[n].X()),this.vertices[n].X()>s&&(s=this.vertices[n].X()),this.vertices[n].Y()>r&&(r=this.vertices[n].Y()),this.vertices[n].Y()<o&&(o=this.vertices[n].Y());return new i(e.COORDS_BY_USER,[.5*(t+s),.5*(r+o)],this.board)},getLabelAnchor:t.shortcut(t.Polygon.prototype,"getTextAnchor"),cloneToBackground:function(){var t,e={};return e.id=this.id+"T"+this.numTraces,this.numTraces++,e.vertices=this.vertices,e.visProp=o.deepCopy(this.visProp,this.visProp.traceattributes,!0),e.visProp.layer=this.board.options.layer.trace,e.board=this.board,o.clearVisPropOld(e),e.visPropCalc={visible:o.evaluate(e.visProp.visible)},t=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawPolygon(e),this.board.renderer.enhancedRendering=t,this.traces[e.id]=e.rendNode,this},hideElement:function(e){var i;if(t.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),!e)for(i=0;i<this.borders.length;i++)this.borders[i].hideElement();this.hasLabel&&o.exists(this.label)&&(this.label.hiddenByParent=!0,this.label.visPropCalc.visible&&this.label.hideElement())},showElement:function(e){var i;if(t.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!0),!e)for(i=0;i<this.borders.length;i++)this.borders[i].showElement().updateRenderer();return o.exists(this.label)&&this.hasLabel&&this.label.hiddenByParent&&(this.label.hiddenByParent=!1,this.label.visPropCalc.visible||this.label.showElement().updateRenderer()),this},Area:function(){return Math.abs(s.signedPolygon(this.vertices,!0))},Perimeter:function(){var t,e=this.vertices.length,i=0;for(t=1;t<e;++t)i+=this.vertices[t].Dist(this.vertices[t-1]);return i},boundingBox:function(){var t,e,i=[0,0,0,0],r=this.vertices.length-1;if(0===r)return i;for(i[0]=this.vertices[0].X(),i[2]=i[0],i[1]=this.vertices[0].Y(),i[3]=i[1],t=1;t<r;++t)(e=this.vertices[t].X())<i[0]?i[0]=e:e>i[2]&&(i[2]=e),(e=this.vertices[t].Y())>i[1]?i[1]=e:e<i[3]&&(i[3]=e);return i},bounds:function(){return this.boundingBox()},remove:function(){var t;for(t=0;t<this.borders.length;t++)this.board.removeObject(this.borders[t]);n.prototype.remove.call(this)},findPoint:function(t){var e;if(!o.isPoint(t))return-1;for(e=0;e<this.vertices.length;e++)if(this.vertices[e].id===t.id)return e;return-1},addPoints:function(t){var e=Array.prototype.slice.call(arguments);return this.insertPoints.apply(this,[this.vertices.length-2].concat(e))},insertPoints:function(t,e){var i,r;if(0===arguments.length)return this;if(t<-1||t>this.vertices.length-2)return this;for(r=arguments.length-1,i=1;i<r+1;i++)this.vertices.splice(t+i,0,o.providePoints(this.board,[arguments[i]],{},"polygon",["vertices"])[0]);if(-1===t&&(this.vertices[this.vertices.length-1]=this.vertices[0]),this.withLines)for(t<0?this.borders[this.borders.length-1].point2=this.vertices[this.vertices.length-1]:this.borders[t].point2=this.vertices[t+1],i=t+1;i<t+1+r;i++)this.borders.splice(i,0,this.board.create("segment",[this.vertices[i],this.vertices[i+1]],this.attr_line));return this.board.update(),this},removePoints:function(t){var e,i,r,s=[],n=[],a=[],h=[];for(this.vertices=this.vertices.slice(0,this.vertices.length-1),e=0;e<arguments.length;e++)r=arguments[e],o.isPoint(r)&&(r=this.findPoint(r)),o.isNumber(r)&&r>-1&&r<this.vertices.length&&-1===o.indexOf(a,r)&&a.push(r);for(e=0;e<a.length;e++)this.vertices[a[e]].removeChild(this);for(a=a.sort(),s=this.vertices.slice(),n=this.borders.slice(),this.withLines&&h.push([a[a.length-1]]),e=a.length-1;e>-1;e--)s[a[e]]=-1,this.withLines&&a[e]-1>a[e-1]&&(h[h.length-1][1]=a[e],h.push([a[e-1]]));for(this.withLines&&(h[h.length-1][1]=a[0]),this.vertices=[],e=0;e<s.length;e++)o.isPoint(s[e])&&this.vertices.push(s[e]);if(this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.withLines){for(e=0;e<h.length;e++){for(i=h[e][1]-1;i<h[e][0]+1;i++)i<0?(i=0,this.board.removeObject(this.borders[n.length-1]),n[n.length-1]=-1):i>n.length-1&&(i=n.length-1),this.board.removeObject(this.borders[i]),n[i]=-1;0!==h[e][1]&&h[e][0]!==s.length-1&&(n[h[e][0]-1]=this.board.create("segment",[s[Math.max(h[e][1]-1,0)],s[Math.min(h[e][0]+1,this.vertices.length-1)]],this.attr_line))}for(this.borders=[],e=0;e<n.length;e++)-1!==n[e]&&this.borders.push(n[e]);h[0][1]!==this.vertices.length-1&&0!==h[h.length-1][1]||this.borders.push(this.board.create("segment",[this.vertices[0],this.vertices[this.vertices.length-2]],this.attr_line))}return this.board.update(),this},getParents:function(){return this.setParents(this.vertices),this.parents},getAttributes:function(){var t,e=n.prototype.getAttributes.call(this);if(this.withLines)for(e.lines=e.lines||{},e.lines.ids=[],e.lines.colors=[],t=0;t<this.borders.length;t++)e.lines.ids.push(this.borders[t].id),e.lines.colors.push(this.borders[t].visProp.strokecolor);return e},snapToGrid:function(){var t,e;for(e=!!o.evaluate(this.visProp.snaptogrid),t=0;t<this.vertices.length;t++)this.vertices[t].handleSnapToGrid(e,!0)},setPositionDirectly:function(t,e,s){var o,n,a,h=new i(t,e,this.board),l=new i(t,s,this.board);for(a=this.vertices.length-1,n=0;n<a;n++)if(!this.vertices[n].draggable())return this;return o=r.subtract(h.usrCoords,l.usrCoords),this.board.create("transform",o.slice(1),{type:"translate"}).applyOnce(this.vertices.slice(0,-1)),this},sutherlandHodgman:function(e){var i,r,s,o,n,a,h,l=t.Math.Geometry.sortVertices(this.vertices),c=t.Math.Geometry.sortVertices(e.vertices),d=l.length-1,u=c.length-1,p=[],f=function(t,e,i){return(e[1]-t[1])*(i[2]-t[2])-(e[2]-t[2])*(i[1]-t[1])>=0};for(s=0;s<u;s++)p.push(c[s]);for(s=0;s<d;s++)for(r=p.slice(0),p=[],n=r[(i=r.length)-1],o=0;o<i;o++)a=r[o],f(l[s],l[s+1],a)?(f(l[s],l[s+1],n)||((h=t.Math.Geometry.meetSegmentSegment(n,a,l[s],l[s+1]))[0][1]/=h[0][0],h[0][2]/=h[0][0],h[0][0]=1,p.push(h[0])),p.push(a)):f(l[s],l[s+1],n)&&((h=t.Math.Geometry.meetSegmentSegment(n,a,l[s],l[s+1]))[0][1]/=h[0][0],h[0][2]/=h[0][0],h[0][0]=1,p.push(h[0])),n=a;return p},intersect:function(t){return this.sutherlandHodgman(t)}}),t.createPolygon=function(i,r,s){var n,a,h,l,c,d,u=[],p=!1;if(o.copyAttributes(s,i.options,"polygon"),null===(l=i.select(r[0]))&&(l=r[0]),o.isObject(l)&&l.type===e.OBJECT_TYPE_POLYGON&&o.isTransformationOrArray(r[1]))for(p=!0,h=l.vertices.length-1,d=o.copyAttributes(s,i.options,"polygon","vertices"),a=0;a<h;a++)d.withlabel&&(d.name=""===l.vertices[a].name?"":l.vertices[a].name+"'"),u.push(i.create("point",[l.vertices[a],r[1]],d));else if(!1===(u=o.providePoints(i,r,s,"polygon",["vertices"])))throw new Error("JSXGraph: Can't create polygon / polygonalchain with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates. Alternatively, a polygon and a transformation can be supplied");if(c=o.copyAttributes(s,i.options,"polygon"),(n=new t.Polygon(i,u,c)).isDraggable=!0,p)for(n.prepareUpdate().update().updateVisibility().updateRenderer(),h=l.vertices.length-1,a=0;a<h;a++)u[a].prepareUpdate().update().updateVisibility().updateRenderer();return n},t.createRegularPolygon=function(t,i,r){var s,n,a,h,l,c,d,u=[];if(a=i[(l=i.length)-1],o.isNumber(a)&&(3!==i.length||a<3))throw new Error("JSXGraph: A regular polygon needs two point types and a number > 2 as input.");if(o.isNumber(t.select(a))?(l--,c=!1):(a=l,c=!0),!1===(u=o.providePoints(t,i.slice(0,l),r,"regularpolygon",["vertices"])))throw new Error("JSXGraph: Can't create regular polygon with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates");for(d=o.copyAttributes(r,t.options,"regularpolygon","vertices"),n=2;n<a;n++)h=t.create("transform",[Math.PI*(2-(a-2)/a),u[n-1]],{type:"rotate"}),c?(u[n].addTransform(u[n-2],h),u[n].fullUpdate()):(o.isArray(d.ids)&&d.ids.length>=a-2&&(d.id=d.ids[n-2]),u[n]=t.create("point",[u[n-2],h],d),u[n].type=e.OBJECT_TYPE_CAS,u[n].isDraggable=!0,u[n].visProp.fixed=!1);return d=o.copyAttributes(r,t.options,"regularpolygon"),(s=t.create("polygon",u,d)).elType="regularpolygon",s},t.createPolygonalChain=function(t,e,i){var r,s;return r=o.copyAttributes(i,t.options,"polygonalchain"),(s=t.create("polygon",e,r)).elType="polygonalchain",s.vertices.pop(),t.removeObject(s.borders[s.borders.length-1]),s.borders.pop(),s},t.registerElement("polygon",t.createPolygon),t.registerElement("regularpolygon",t.createRegularPolygon),t.registerElement("polygonalchain",t.createPolygonalChain),{Polygon:t.Polygon,createPolygon:t.createPolygon,createRegularPolygon:t.createRegularPolygon}})),define("base/curve",["jxg","base/constants","base/coords","base/element","math/math","math/numerics","math/plot","math/geometry","parser/geonext","utils/type","math/qdt"],(function(t,e,i,r,s,o,n,a,h,l,c){"use strict";return t.Curve=function(t,i,r){this.constructor(t,r,e.OBJECT_TYPE_CURVE,e.OBJECT_CLASS_CURVE),this.points=[],this.numberPoints=l.evaluate(this.visProp.numberpointshigh),this.bezierDegree=1,this.dataX=null,this.dataY=null,this.ticks=[],this.qdt=null,l.exists(i[0])?this.varname=i[0]:this.varname="x",this.xterm=i[1],this.yterm=i[2],this.generateTerm(this.varname,this.xterm,this.yterm,i[3],i[4]),this.updateCurve(),this.id=this.board.setId(this,"G"),this.board.renderer.drawCurve(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="curve",this.createLabel(),l.isString(this.xterm)&&this.notifyParents(this.xterm),l.isString(this.yterm)&&this.notifyParents(this.yterm),this.methodMap=l.deepCopy(this.methodMap,{generateTerm:"generateTerm",setTerm:"generateTerm",move:"moveTo",moveTo:"moveTo"})},t.Curve.prototype=new r,t.extend(t.Curve.prototype,{minX:function(){return"polar"===l.evaluate(this.visProp.curvetype)?0:new i(e.COORDS_BY_SCREEN,[.1*-this.board.canvasWidth,0],this.board,!1).usrCoords[1]},maxX:function(){return"polar"===l.evaluate(this.visProp.curvetype)?2*Math.PI:new i(e.COORDS_BY_SCREEN,[1.1*this.board.canvasWidth,0],this.board,!1).usrCoords[1]},X:function(t){return NaN},Y:function(t){return NaN},Z:function(t){return 1},hasPoint:function(t,r,o){var n,h,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x=[],S=l.evaluate(this.visProp.numberpointslow),O=(this.maxX()-this.minX())/S,w=1/0;if(l.isObject(l.evaluate(this.visProp.precision))?(y=this.board._inputDevice,v=l.evaluate(this.visProp.precision[y])):v=this.board.options.precision.hasPoint,t=(h=new i(e.COORDS_BY_SCREEN,[t,r],this.board,!1)).usrCoords[1],r=h.usrCoords[2],v+=.5*l.evaluate(this.visProp.strokewidth),v*=v,C=this.board.unitX*this.board.unitX,_=this.board.unitY*this.board.unitY,E=this.minX(),this.maxX(),l.exists(this._visibleArea)&&(E=this._visibleArea[0],O=(this._visibleArea[1]-E)/S),"parameter"===(P=l.evaluate(this.visProp.curvetype))||"polar"===P)for(this.transformations.length>0&&(this.updateTransformMatrix(),d=s.inverse(this.transformMat),t=(u=s.matVecMult(d,[1,t,r]))[1],r=u[2]),p=0,n=E;p<S;p++){if((w=(t-(f=this.X(n,true)))*(t-f)*C+(r-(m=this.Y(n,true)))*(r-m)*_)<=v)return!0;n+=O}else if("plot"===P||"functiongraph"===P){for((!l.exists(o)||o<0)&&(o=0),l.exists(this.qdt)&&l.evaluate(this.visProp.useqdt)&&3!==this.bezierDegree?c=(g=(b=this.qdt.query(new i(e.COORDS_BY_USER,[t,r],this.board))).points).length:(g=this.points,c=this.numberPoints-1),p=o;p<c;p++)if(3===this.bezierDegree?x.push(a.projectCoordsToBeziersegment([1,t,r],this,p)):b?(g[p].prev&&(x=a.projectCoordsToSegment([1,t,r],g[p].prev.usrCoords,g[p].usrCoords)),g[p].next&&g[p+1]!==g[p].next&&(x=a.projectCoordsToSegment([1,t,r],g[p].usrCoords,g[p].next.usrCoords))):x=a.projectCoordsToSegment([1,t,r],g[p].usrCoords,g[p+1].usrCoords),x[1]>=0&&x[1]<=1&&(t-x[0][1])*(t-x[0][1])*C+(r-x[0][2])*(r-x[0][2])*_<=v)return!0;return!1}return w<v},allocatePoints:function(){var t,r;if(r=this.numberPoints,this.points.length<this.numberPoints)for(t=this.points.length;t<r;t++)this.points[t]=new i(e.COORDS_BY_USER,[0,0],this.board,!1)},update:function(){return this.needsUpdate&&(l.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this.updateCurve()),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=n.checkReal(this.points),this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateCurve(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateDataArray:function(){},updateCurve:function(){var t,i,r,s,a,h,d=this.visProp.plotversion,u=!1;if(this.updateTransformMatrix(),this.updateDataArray(),i=this.minX(),r=this.maxX(),l.exists(this.dataX))for(this.numberPoints=this.dataX.length,t=this.numberPoints,this.allocatePoints(),h=0;h<t;h++)s=h,l.exists(this.dataY)?(a=h,this.points[h].setCoordinates(e.COORDS_BY_USER,[this.dataX[h],this.dataY[h]],!1)):(a=this.X(s),this.points[h].setCoordinates(e.COORDS_BY_USER,[this.dataX[h],this.Y(a,u)],!1)),this.points[h]._t=h,u=!0;else if(l.evaluate(this.visProp.doadvancedplot)?1===d||l.evaluate(this.visProp.doadvancedplotold)?n.updateParametricCurveOld(this,i,r):2===d?n.updateParametricCurve_v2(this,i,r):3===d?n.updateParametricCurve_v3(this,i,r):4===d?n.updateParametricCurve_v4(this,i,r):n.updateParametricCurve_v2(this,i,r):(this.board.updateQuality===this.board.BOARD_QUALITY_HIGH?this.numberPoints=l.evaluate(this.visProp.numberpointshigh):this.numberPoints=l.evaluate(this.visProp.numberpointslow),this.allocatePoints(),n.updateParametricCurveNaive(this,i,r,this.numberPoints)),t=this.numberPoints,l.evaluate(this.visProp.useqdt)&&this.board.updateQuality===this.board.BOARD_QUALITY_HIGH)for(this.qdt=new c(this.board.getBoundingBox()),h=0;h<this.points.length;h++)this.qdt.insert(this.points[h]),h>0&&(this.points[h].prev=this.points[h-1]),h<t-1&&(this.points[h].next=this.points[h+1]);for("plot"!==l.evaluate(this.visProp.curvetype)&&l.evaluate(this.visProp.rdpsmoothing)&&(this.points=o.RamerDouglasPeucker(this.points,.2),this.numberPoints=this.points.length),t=this.numberPoints,h=0;h<t;h++)this.updateTransform(this.points[h]);return this},updateTransformMatrix:function(){var t,e,i=this.transformations.length;for(this.transformMat=[[1,0,0],[0,1,0],[0,0,1]],e=0;e<i;e++)(t=this.transformations[e]).update(),this.transformMat=s.matMatMult(t.matrix,this.transformMat);return this},updateTransform:function(t){var i;return this.transformations.length>0&&(i=s.matVecMult(this.transformMat,t.usrCoords),t.setCoordinates(e.COORDS_BY_USER,i,!1,!0)),t},addTransform:function(t){var e,i=l.isArray(t)?t:[t],r=i.length;for(e=0;e<r;e++)this.transformations.push(i[e]);return this},interpolationFunctionFromArray:function(t){var e="data"+t,i=this;return function(t,r){var s,o,n,a,h=i[e],c=h.length,d=[];if(isNaN(t))return NaN;if(t<0)return l.isFunction(h[0])?h[0]():h[0];if(3===i.bezierDegree){if(t>=(c-1)/3)return l.isFunction(h[h.length-1])?h[h.length-1]():h[h.length-1];for(s=3*Math.floor(t),a=1-(n=t%1),o=0;o<4;o++)l.isFunction(h[s+o])?d[o]=h[s+o]():d[o]=h[s+o];return a*a*(a*d[0]+3*n*d[1])+(3*a*d[2]+n*d[3])*n*n}if((s=t>c-2?c-2:parseInt(Math.floor(t),10))===t)return l.isFunction(h[s])?h[s]():h[s];for(o=0;o<2;o++)l.isFunction(h[s+o])?d[o]=h[s+o]():d[o]=h[s+o];return d[0]+(d[1]-d[0])*(t-s)}},generateTerm:function(t,e,i,r,s){var o,n;l.isArray(e)?(this.dataX=e,this.numberPoints=this.dataX.length,this.X=this.interpolationFunctionFromArray.apply(this,["X"]),this.visProp.curvetype="plot",this.isDraggable=!0):(this.X=l.createFunction(e,this.board,t),l.isString(e)?this.visProp.curvetype="functiongraph":(l.isFunction(e)||l.isNumber(e))&&(this.visProp.curvetype="parameter"),this.isDraggable=!0),l.isArray(i)?(this.dataY=i,this.Y=this.interpolationFunctionFromArray.apply(this,["Y"])):this.Y=l.createFunction(i,this.board,t),l.isFunction(e)&&l.isArray(i)&&(o=l.createFunction(i[0],this.board,""),n=l.createFunction(i[1],this.board,""),this.X=function(t){return e(t)*Math.cos(t)+o()},this.Y=function(t){return e(t)*Math.sin(t)+n()},this.visProp.curvetype="polar"),l.exists(r)&&(this.minX=l.createFunction(r,this.board,"")),l.exists(s)&&(this.maxX=l.createFunction(s,this.board,""))},notifyParents:function(t){var e,i,r,s=!1;for(e in r={xterm:1,yterm:1})if(r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&this[e].origin)for(i in s=!0,this[e].origin.deps)this[e].origin.deps.hasOwnProperty(i)&&this[e].origin.deps[i].addChild(this);s||h.findDependencies(this,t,this.board)},getLabelAnchor:function(){var t,r,s,o=.05*this.board.canvasWidth,n=.05*this.board.canvasHeight,h=.95*this.board.canvasWidth,c=.95*this.board.canvasHeight;switch(l.evaluate(this.visProp.label.position)){case"ulft":r=o,s=n;break;case"llft":r=o,s=c;break;case"rt":r=h,s=.5*c;break;case"lrt":r=h,s=c;break;case"urt":r=h,s=n;break;case"top":r=.5*h,s=n;break;case"bot":r=.5*h,s=c;break;default:r=o,s=.5*c}return t=new i(e.COORDS_BY_SCREEN,[r,s],this.board,!1),a.projectCoordsToCurve(t.usrCoords[1],t.usrCoords[2],0,this,this.board)[0]},cloneToBackground:function(){var t,i={id:this.id+"T"+this.numTraces,elementClass:e.OBJECT_CLASS_CURVE,points:this.points.slice(0),bezierDegree:this.bezierDegree,numberPoints:this.numberPoints,board:this.board,visProp:l.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return i.visProp.layer=this.board.options.layer.trace,i.visProp.curvetype=this.visProp.curvetype,this.numTraces++,l.clearVisPropOld(i),i.visPropCalc={visible:l.evaluate(i.visProp.visible)},t=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawCurve(i),this.board.renderer.enhancedRendering=t,this.traces[i.id]=i.rendNode,this},bounds:function(){var t,e,i,r=1/0,s=-1/0,n=1/0,a=-1/0,h=this.points.length;if(3===this.bezierDegree){for(t=0;t<h;t++)this.points[t].X=l.bind((function(){return this.usrCoords[1]}),this.points[t]),this.points[t].Y=l.bind((function(){return this.usrCoords[2]}),this.points[t]);return i=(e=o.bezier(this.points))[3](),r=o.fminbr((function(t){return e[0](t)}),[0,i]),s=o.fminbr((function(t){return-e[0](t)}),[0,i]),n=o.fminbr((function(t){return e[1](t)}),[0,i]),a=o.fminbr((function(t){return-e[1](t)}),[0,i]),r=e[0](r),s=e[0](s),n=e[1](n),[r,a=e[1](a),s,n]}for(t=0;t<h;t++)r>this.points[t].usrCoords[1]&&(r=this.points[t].usrCoords[1]),s<this.points[t].usrCoords[1]&&(s=this.points[t].usrCoords[1]),n>this.points[t].usrCoords[2]&&(n=this.points[t].usrCoords[2]),a<this.points[t].usrCoords[2]&&(a=this.points[t].usrCoords[2]);return[r,a,s,n]},getParents:function(){var t=[this.xterm,this.yterm,this.minX(),this.maxX()];return 0!==this.parents.length&&(t=this.parents),t},moveTo:function(t){var i,r=[];return this.points.length>0&&!l.evaluate(this.visProp.fixed)&&(i=this.points[0],r=3===t.length?[t[0]-i.usrCoords[0],t[1]-i.usrCoords[1],t[2]-i.usrCoords[2]]:[t[0]-i.usrCoords[1],t[1]-i.usrCoords[2]],this.setPosition(e.COORDS_BY_USER,r)),this},getTransformationSource:function(){var t,i;return l.exists(this._transformationSource)&&(i=this._transformationSource).elementClass===e.OBJECT_CLASS_CURVE&&(t=!0),[t,i]}}),t.createCurve=function(i,r,s){var o,n,a=l.copyAttributes(s,i.options,"curve");return o=i.select(r[0],!0),l.isObject(o)&&(o.type===e.OBJECT_TYPE_CURVE||o.type===e.OBJECT_TYPE_ANGLE||o.type===e.OBJECT_TYPE_ARC||o.type===e.OBJECT_TYPE_CONIC||o.type===e.OBJECT_TYPE_SECTOR)&&l.isTransformationOrArray(r[1])?(o.type===e.OBJECT_TYPE_SECTOR?a=l.copyAttributes(s,i.options,"sector"):o.type===e.OBJECT_TYPE_ARC?a=l.copyAttributes(s,i.options,"arc"):o.type===e.OBJECT_TYPE_ANGLE?(l.exists(s.withLabel)||(s.withLabel=!1),a=l.copyAttributes(s,i.options,"angle")):a=l.copyAttributes(s,i.options,"curve"),a=l.copyAttributes(a,i.options,"curve"),(n=new t.Curve(i,["x",[],[]],a)).updateDataArray=function(){var t,e=o.numberPoints;for(this.bezierDegree=o.bezierDegree,this.dataX=[],this.dataY=[],t=0;t<e;t++)this.dataX.push(o.points[t].usrCoords[1]),this.dataY.push(o.points[t].usrCoords[2]);return this},n.addTransform(r[1]),o.addChild(n),n.setParents([o]),n._transformationSource=o,n):(a=l.copyAttributes(s,i.options,"curve"),new t.Curve(i,["x"].concat(r),a))},t.registerElement("curve",t.createCurve),t.createFunctiongraph=function(e,i,r){var s,o=["x","x"].concat(i);return(s=l.copyAttributes(r,e.options,"curve")).curvetype="functiongraph",new t.Curve(e,o,s)},t.registerElement("functiongraph",t.createFunctiongraph),t.registerElement("plot",t.createFunctiongraph),t.createSpline=function(e,i,r){var s,n,a;return n=function(){var t,e=[],r=[];return[function(s,n){var a,h,c;if(!n){if(e=[],r=[],2===i.length&&l.isArray(i[0])&&l.isArray(i[1])&&i[0].length===i[1].length)for(a=0;a<i[0].length;a++)l.isFunction(i[0][a])?e.push(i[0][a]()):e.push(i[0][a]),l.isFunction(i[1][a])?r.push(i[1][a]()):r.push(i[1][a]);else for(a=0;a<i.length;a++)if(l.isPoint(i[a]))e.push(i[a].X()),r.push(i[a].Y());else if(l.isArray(i[a])&&2===i[a].length)for(h=0;h<i.length;h++)l.isFunction(i[h][0])?e.push(i[h][0]()):e.push(i[h][0]),l.isFunction(i[h][1])?r.push(i[h][1]()):r.push(i[h][1]);else l.isFunction(i[a])&&2===i[a]().length&&(c=i[a](),e.push(c[0]),r.push(c[1]));t=o.splineDef(e,r)}return o.splineEval(s,e,r,t)},function(){return e[0]},function(){return e[e.length-1]}]},(r=l.copyAttributes(r,e.options,"curve")).curvetype="functiongraph",a=n(),(s=new t.Curve(e,["x","x",a[0],a[1],a[2]],r)).setParents(i),s.elType="spline",s},t.registerElement("spline",t.createSpline),t.createCardinalSpline=function(e,i,r){var s,n,a,h,c,d,u,p,f,m,g="\nPossible parent types: [points:array, tau:number|function, type:string]";if(!l.exists(i[0])||!l.isArray(i[0]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 1 'points' has to be array of points or coordinate pairs"+g);if(!l.exists(i[1])||!l.isNumber(i[1])&&!l.isFunction(i[1]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 2 'tau' has to be number between [0,1] or function'"+g);if(!l.exists(i[2])||!l.isString(i[2]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 3 'type' has to be string 'uniform' or 'centripetal'"+g);if(r=l.copyAttributes(r,e.options,"curve"),(r=l.copyAttributes(r,e.options,"cardinalspline")).curvetype="parameter",d=i[0],u=[],!r.isarrayofcoordinates&&2===d.length&&l.isArray(d[0])&&l.isArray(d[1])&&d[0].length===d[1].length)for(p=0;p<d[0].length;p++)u[p]=[],l.isFunction(d[0][p])?u[p].push(d[0][p]()):u[p].push(d[0][p]),l.isFunction(d[1][p])?u[p].push(d[1][p]()):u[p].push(d[1][p]);else for(p=0;p<d.length;p++)l.isString(d[p])?u.push(e.select(d[p])):l.isPoint(d[p])?u.push(d[p]):l.isArray(d[p])&&2===d[p].length?(u[p]=[],l.isFunction(d[p][0])?u[p].push(d[p][0]()):u[p].push(d[p][0]),l.isFunction(d[p][1])?u[p].push(d[p][1]()):u[p].push(d[p][1])):l.isFunction(d[p])&&2===d[p]().length&&u.push(i[p]());if(!0===r.createpoints)a=l.providePoints(e,u,r,"cardinalspline",["points"]);else for(a=[],n=function(t){return{X:function(){return u[t][0]},Y:function(){return u[t][1]},Dist:function(t){var e=this.X()-t.X(),i=this.Y()-t.Y();return Math.sqrt(e*e+i*i)}}},p=0;p<u.length;p++)l.isPoint(u[p])?a.push(u[p]):a.push(n(p));for(h=i[1],c=i[2],m=["x"].concat(o.CardinalSpline(a,h,c)),s=new t.Curve(e,m,r),f=a.length,s.setParents(a),p=0;p<f;p++)d=a[p],l.isPoint(d)&&(l.exists(d._is_new)?(s.addChild(d),delete d._is_new):d.addChild(s));return s.elType="cardinalspline",s},t.registerElement("cardinalspline",t.createCardinalSpline),t.createMetapostSpline=function(e,i,r){var s,o,n,a,h,c,d,u,p="\nPossible parent types: [points:array, controls:object";if(!l.exists(i[0])||!l.isArray(i[0]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 1 'points' has to be array of points or coordinate pairs"+p);if(!l.exists(i[1])||!l.isObject(i[1]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 2 'controls' has to be a JavaScript object'"+p);if(r=l.copyAttributes(r,e.options,"curve"),(r=l.copyAttributes(r,e.options,"metapostspline")).curvetype="parameter",h=i[0],c=[],!r.isarrayofcoordinates&&2===h.length&&l.isArray(h[0])&&l.isArray(h[1])&&h[0].length===h[1].length)for(d=0;d<h[0].length;d++)c[d]=[],l.isFunction(h[0][d])?c[d].push(h[0][d]()):c[d].push(h[0][d]),l.isFunction(h[1][d])?c[d].push(h[1][d]()):c[d].push(h[1][d]);else for(d=0;d<h.length;d++)l.isString(h[d])?c.push(e.select(h[d])):l.isPoint(h[d])?c.push(h[d]):l.isArray(h[d])&&2===h[d].length?(c[d]=[],l.isFunction(h[d][0])?c[d].push(h[d][0]()):c[d].push(h[d][0]),l.isFunction(h[d][1])?c[d].push(h[d][1]()):c[d].push(h[d][1])):l.isFunction(h[d])&&2===h[d]().length&&c.push(i[d]());if(!0===r.createpoints)n=l.providePoints(e,c,r,"metapostspline",["points"]);else for(n=[],o=function(t){return{X:function(){return c[t][0]},Y:function(){return c[t][1]}}},d=0;d<c.length;d++)l.isPoint(c[d])?n.push(c[d]):n.push(o);for(a=i[1],(s=new t.Curve(e,["t",[],[],0,h.length-1],r)).updateDataArray=function(){var e,i,r=n.length,s=[];for(i=0;i<r;i++)s.push([n[i].X(),n[i].Y()]);e=t.Math.Metapost.curve(s,a),this.dataX=e[0],this.dataY=e[1]},s.bezierDegree=3,u=n.length,s.setParents(n),d=0;d<u;d++)l.isPoint(n[d])&&n[d].addChild(s);return s.elType="metapostspline",s},t.registerElement("metapostspline",t.createMetapostSpline),t.createRiemannsum=function(t,e,i){var r,s,n,a,h,c;if((c=l.copyAttributes(i,t.options,"riemannsum")).curvetype="plot",n=e[0],r=l.createFunction(e[1],t,""),!l.exists(r))throw new Error("JSXGraph: JXG.createRiemannsum: argument '2' n has to be number or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");if(s=l.createFunction(e[2],t,"",!1),!l.exists(s))throw new Error("JSXGraph: JXG.createRiemannsum: argument 3 'type' has to be string or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");return a=[[0],[0]].concat(e.slice(3)),(h=t.create("curve",a,c)).sum=0,h.Value=function(){return this.sum},h.updateDataArray=function(){var t=o.riemann(n,r(),s(),this.minX(),this.maxX());this.dataX=t[0],this.dataY=t[1],this.sum=t[2]},h},t.registerElement("riemannsum",t.createRiemannsum),t.createTracecurve=function(t,i,r){var s,o,n,a;if(2!==i.length)throw new Error("JSXGraph: Can't create trace curve with given parent'\nPossible parent types: [glider, point]");if(o=t.select(i[0]),n=t.select(i[1]),o.type!==e.OBJECT_TYPE_GLIDER||!l.isPoint(n))throw new Error("JSXGraph: Can't create trace curve with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [glider, point]");return(a=l.copyAttributes(r,t.options,"tracecurve")).curvetype="plot",(s=t.create("curve",[[0],[0]],a)).updateDataArray=function(){var t,i,r,s,h,l,c,d,u,p=a.numberpoints,f=o.position,m=o.slideObject,g=m.minX();for(i=(m.maxX()-g)/p,this.dataX=[],this.dataY=[],m.elementClass!==e.OBJECT_CLASS_CURVE&&p++,t=0;t<p;t++){for(s in r=g+t*i,l=m.X(r)/m.Z(r),c=m.Y(r)/m.Z(r),o.setPositionDirectly(e.COORDS_BY_USER,[l,c]),d=!1,this.board.objects)if(this.board.objects.hasOwnProperty(s)&&((h=this.board.objects[s])===o&&(d=!0),d&&h.needsRegularUpdate&&(u=h.visProp.trace,h.visProp.trace=!1,h.needsUpdate=!0,h.update(!0),h.visProp.trace=u,h===n)))break;this.dataX[t]=n.X(),this.dataY[t]=n.Y()}for(s in o.position=f,d=!1,this.board.objects)if(this.board.objects.hasOwnProperty(s)&&((h=this.board.objects[s])===o&&(d=!0),d&&h.needsRegularUpdate&&(u=h.visProp.trace,h.visProp.trace=!1,h.needsUpdate=!0,h.update(!0),h.visProp.trace=u,h===n)))break},s},t.registerElement("tracecurve",t.createTracecurve),t.createStepfunction=function(t,e,i){var r,s;if(2!==e.length)throw new Error("JSXGraph: Can't create step function with given parent'\nPossible parent types: [array, array|function]");return s=l.copyAttributes(i,t.options,"stepfunction"),(r=t.create("curve",e,s)).updateDataArray=function(){var t,e=0,i=this.xterm.length;if(this.dataX=[],this.dataY=[],0!==i)for(this.dataX[e]=this.xterm[0],this.dataY[e]=this.yterm[0],++e,t=1;t<i;++t)this.dataX[e]=this.xterm[t],this.dataY[e]=this.dataY[e-1],++e,this.dataX[e]=this.xterm[t],this.dataY[e]=this.yterm[t],++e},r},t.registerElement("stepfunction",t.createStepfunction),t.createDerivative=function(t,i,r){var s,n,a,h,c;if(1!==i.length&&i[0].class!==e.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create derivative curve with given parent'\nPossible parent types: [curve]");return c=l.copyAttributes(r,t.options,"curve"),n=i[0],a=o.D(n.X),h=o.D(n.Y),(s=t.create("curve",[function(t){return n.X(t)},function(t){return h(t)/a(t)},n.minX(),n.maxX()],c)).setParents(n),s},t.registerElement("derivative",t.createDerivative),t.createCurveIntersection=function(e,i,r){var s;if(2!==i.length)throw new Error("JSXGraph: Can't create curve intersection with given parent'\nPossible parent types: [array, array|function]");return(s=e.create("curve",[[],[]],r)).updateDataArray=function(){var e=t.Math.Clip.intersection(i[0],i[1],this.board);this.dataX=e[0],this.dataY=e[1]},s},t.createCurveUnion=function(e,i,r){var s;if(2!==i.length)throw new Error("JSXGraph: Can't create curve union with given parent'\nPossible parent types: [array, array|function]");return(s=e.create("curve",[[],[]],r)).updateDataArray=function(){var e=t.Math.Clip.union(i[0],i[1],this.board);this.dataX=e[0],this.dataY=e[1]},s},t.createCurveDifference=function(e,i,r){var s;if(2!==i.length)throw new Error("JSXGraph: Can't create curve difference with given parent'\nPossible parent types: [array, array|function]");return(s=e.create("curve",[[],[]],r)).updateDataArray=function(){var e=t.Math.Clip.difference(i[0],i[1],this.board);this.dataX=e[0],this.dataY=e[1]},s},t.registerElement("curvedifference",t.createCurveDifference),t.registerElement("curveintersection",t.createCurveIntersection),t.registerElement("curveunion",t.createCurveUnion),t.createBoxPlot=function(t,e,i){var r,s,o,n=l.copyAttributes(i,t.options,"boxplot");if(3!==e.length)throw new Error("JSXGraph: Can't create box plot with given parent'\nPossible parent types: [array, number|function, number|function] containing quantiles, axis, width");if(e[0].length<5)throw new Error("JSXGraph: Can't create box plot with given parent[0]'\nparent[0] has to conatin at least 5 quantiles.");for(r=t.create("curve",[[],[]],n),o=e[0].length,r.Q=[],s=0;s<o;s++)r.Q[s]=l.createFunction(e[0][s],t,null,!0);return r.x=l.createFunction(e[1],t,null,!0),r.w=l.createFunction(e[2],t,null,!0),r.updateDataArray=function(){var t,e,i,r,s,o,n,a,h;n=l.evaluate(this.visProp.smallwidth),a=l.evaluate(this.visProp.dir),i=(h=this.x())-.5*this.w(),r=h-.5*this.w()*n,s=h+.5*this.w(),t=[h,r,o=h+.5*this.w()*n,h,h,i,i,s,s,h,NaN,i,s,NaN,h,h,r,o,h],e=[this.Q[0](),this.Q[0](),this.Q[0](),this.Q[0](),this.Q[1](),this.Q[1](),this.Q[3](),this.Q[3](),this.Q[1](),this.Q[1](),NaN,this.Q[2](),this.Q[2](),NaN,this.Q[3](),this.Q[4](),this.Q[4](),this.Q[4](),this.Q[4]()],"vertical"===a?(this.dataX=t,this.dataY=e):(this.dataX=e,this.dataY=t)},r},t.registerElement("boxplot",t.createBoxPlot),{Curve:t.Curve,createCardinalSpline:t.createCardinalSpline,createCurve:t.createCurve,createCurveDifference:t.createCurveDifference,createCurveIntersection:t.createCurveIntersection,createCurveUnion:t.createCurveUnion,createDerivative:t.createDerivative,createFunctiongraph:t.createFunctiongraph,createMetapostSpline:t.createMetapostSpline,createPlot:t.createFunctiongraph,createSpline:t.createSpline,createRiemannsum:t.createRiemannsum,createStepfunction:t.createStepfunction,createTracecurve:t.createTracecurve}})),define("element/arc",["jxg","math/geometry","math/math","base/coords","base/circle","utils/type","base/constants"],(function(t,e,i,r,s,o,n){"use strict";return t.createArc=function(a,h,l){var c,d,u;if(!1===(u=o.providePoints(a,h,l,"arc",["center","radiusPoint","anglePoint"]))||u.length<3)throw new Error("JSXGraph: Can't create Arc with parent types '"+typeof h[0]+"' and '"+typeof h[1]+"' and '"+typeof h[2]+"'.\nPossible parent types: [point,point,point], [arc, transformation]");return d=o.copyAttributes(l,a.options,"arc"),(c=a.create("curve",[[0],[0]],d)).elType="arc",c.setParents(u),c.type=n.OBJECT_TYPE_ARC,c.center=u[0],c.radiuspoint=u[1],c.point2=c.radiuspoint,c.anglepoint=u[2],c.point3=c.anglepoint,o.exists(c.center._is_new)?(c.addChild(c.center),delete c.center._is_new):c.center.addChild(c),o.exists(c.radiuspoint._is_new)?(c.addChild(c.radiuspoint),delete c.radiuspoint._is_new):c.radiuspoint.addChild(c),o.exists(c.anglepoint._is_new)?(c.addChild(c.anglepoint),delete c.anglepoint._is_new):c.anglepoint.addChild(c),c.useDirection=d.usedirection,c.updateDataArray=function(){var t,i,r,s,n,a=1,h=this.radiuspoint,l=this.center,c=this.anglepoint,d=o.evaluate(this.visProp.selection);i=e.rad(h,l,c),("minor"===d&&i>Math.PI||"major"===d&&i<Math.PI)&&(a=-1),this.useDirection&&(r=u[1].coords.usrCoords,s=u[3].coords.usrCoords,n=u[2].coords.usrCoords,(r[1]-n[1])*(r[2]-s[2])-(r[2]-n[2])*(r[1]-s[1])<0?(this.radiuspoint=u[1],this.anglepoint=u[2]):(this.radiuspoint=u[2],this.anglepoint=u[1])),h=h.coords.usrCoords,l=l.coords.usrCoords,c=c.coords.usrCoords,t=e.bezierArc(h,l,c,!1,a),this.dataX=t[0],this.dataY=t[1],this.bezierDegree=3,this.updateStdform(),this.updateQuadraticform()},c.Radius=function(){return this.radiuspoint.Dist(this.center)},c.getRadius=function(){return t.deprecated("Arc.getRadius()","Arc.Radius()"),this.Radius()},c.Value=function(){return this.Radius()*e.rad(this.radiuspoint,this.center,this.anglepoint)},c.hasPoint=function(t,s){var a,h,l,c,d,u,p,f=this.Radius();return o.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(t,s):(o.isObject(o.evaluate(this.visProp.precision))?(p=this.board._inputDevice,u=o.evaluate(this.visProp.precision[p])):u=this.board.options.precision.hasPoint,u/=Math.min(this.board.unitX,this.board.unitY),h=new r(n.COORDS_BY_SCREEN,[t,s],this.board),this.transformations.length>0&&(this.updateTransformMatrix(),c=i.inverse(this.transformMat),d=i.matVecMult(c,h.usrCoords),h=new r(n.COORDS_BY_USER,d,this.board)),a=this.center.coords.distance(n.COORDS_BY_USER,h),(l=Math.abs(a-f)<u)&&(l=e.coordsOnArc(this,h)),l)},c.hasPointSector=function(t,i){var s=new r(n.COORDS_BY_SCREEN,[t,i],this.board),o=this.Radius(),a=this.center.coords.distance(n.COORDS_BY_USER,s)<o;return a&&(a=e.coordsOnArc(this,s)),a},c.getTextAnchor=function(){return this.center.coords},c.getLabelAnchor=function(){var t,i,s,a,h,l=e.rad(this.radiuspoint,this.center,this.anglepoint),c=10/this.board.unitX,d=10/this.board.unitY,u=this.point2.coords.usrCoords,p=this.center.coords.usrCoords,f=u[1]-p[1],m=u[2]-p[2],g=o.evaluate(this.visProp.selection),b=this.label?this.label.visProp:this.visProp.label;return("minor"===g&&l>Math.PI||"major"===g&&l<Math.PI)&&(l=-(2*Math.PI-l)),s=(t=new r(n.COORDS_BY_USER,[p[1]+Math.cos(.5*l)*f-Math.sin(.5*l)*m,p[2]+Math.sin(.5*l)*f+Math.cos(.5*l)*m],this.board)).usrCoords[1]-p[1],a=t.usrCoords[2]-p[2],s=s*((h=Math.sqrt(s*s+a*a))+c)/h,a=a*(h+d)/h,i=[p[1]+s,p[2]+a],b.position=e.calcLabelQuadrant(e.rad([1,0],[0,0],i)),new r(n.COORDS_BY_USER,i,this.board)},c.updateQuadraticform=s.Circle.prototype.updateQuadraticform,c.updateStdform=s.Circle.prototype.updateStdform,c.methodMap=t.deepCopy(c.methodMap,{getRadius:"getRadius",radius:"Radius",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",Value:"Value"}),c.prepareUpdate().update(),c},t.registerElement("arc",t.createArc),t.createSemicircle=function(t,e,i){var r,s,n,a;if(!1===(a=o.providePoints(t,e,i,"point"))||2!==a.length)throw new Error("JSXGraph: Can't create Semicircle with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,point]");return n=o.copyAttributes(i,t.options,"semicircle","center"),(s=t.create("midpoint",a,n)).dump=!1,n=o.copyAttributes(i,t.options,"semicircle"),(r=t.create("arc",[s,a[1],a[0]],n)).elType="semicircle",r.setParents([a[0].id,a[1].id]),r.subs={midpoint:s},r.inherits.push(s),r.midpoint=r.center=s,r},t.registerElement("semicircle",t.createSemicircle),t.createCircumcircleArc=function(t,e,i){var r,s,n,a;if(!1===(a=o.providePoints(t,e,i,"point"))||3!==a.length)throw new Error("JSXGraph: create Circumcircle Arc with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"' and '"+typeof e[2]+"'.\nPossible parent types: [point,point,point]");return n=o.copyAttributes(i,t.options,"circumcirclearc","center"),(s=t.create("circumcenter",a,n)).dump=!1,(n=o.copyAttributes(i,t.options,"circumcirclearc")).usedirection=!0,(r=t.create("arc",[s,a[0],a[2],a[1]],n)).elType="circumcirclearc",r.setParents([a[0].id,a[1].id,a[2].id]),r.subs={center:s},r.inherits.push(s),r.center=s,r},t.registerElement("circumcirclearc",t.createCircumcircleArc),t.createMinorArc=function(e,i,r){return r.selection="minor",t.createArc(e,i,r)},t.registerElement("minorarc",t.createMinorArc),t.createMajorArc=function(e,i,r){return r.selection="major",t.createArc(e,i,r)},t.registerElement("majorarc",t.createMajorArc),{createArc:t.createArc,createSemicircle:t.createSemicircle,createCircumcircleArc:t.createCircumcircleArc,createMinorArc:t.createMinorArc,createMajorArc:t.createMajorArc}})),define("element/sector",["jxg","math/geometry","math/math","math/statistics","base/coords","base/constants","utils/type"],(function(t,e,i,r,s,o,n){"use strict";return t.createSector=function(a,h,l){var c,d,u,p,f,m,g="invalid";if(h[0].elementClass===o.OBJECT_CLASS_LINE&&h[1].elementClass===o.OBJECT_CLASS_LINE&&(n.isArray(h[2])||n.isNumber(h[2]))&&(n.isArray(h[3])||n.isNumber(h[3]))&&(n.isNumber(h[4])||n.isFunction(h[4])||n.isString(h[4])))g="2lines";else{if(!1===(m=n.providePoints(a,h,l,"sector",["center","radiusPoint","anglePoint"])))throw new Error("JSXGraph: Can't create Sector with parent types '"+typeof h[0]+"' and '"+typeof h[1]+"' and '"+typeof h[2]+"'.");g="3points"}if(d=n.copyAttributes(l,a.options,"sector"),(c=a.create("curve",[[0],[0]],d)).type=o.OBJECT_TYPE_SECTOR,c.elType="sector",c.autoRadius=function(){var t=20/c.board.unitX,e=1/0,i=50/c.board.unitX;return n.isPoint(c.center)&&(e=.3333*c.center.Dist(c.point2)),Math.max(t,Math.min(e,i))},"2lines"===g)c.Radius=function(){var t=n.evaluate(h[4]);return"auto"===t?this.autoRadius():t},c.line1=a.select(h[0]),c.line2=a.select(h[1]),c.line1.addChild(c),c.line2.addChild(c),c.setParents(h),c.point1={visProp:{}},c.point2={visProp:{}},c.point3={visProp:{}},p=e.meetLineLine(c.line1.stdform,c.line2.stdform,0,a),n.isArray(h[2])?(2===h[2].length&&(h[2]=[1].concat(h[2])),f=e.projectPointToLine({coords:{usrCoords:h[2]}},c.line1,a),f=r.subtract(f.usrCoords,p.usrCoords),c.direction1=i.innerProduct(f,[0,c.line1.stdform[2],-c.line1.stdform[1]],3)>=0?1:-1):c.direction1=h[2]>=0?1:-1,n.isArray(h[3])?(2===h[3].length&&(h[3]=[1].concat(h[3])),f=e.projectPointToLine({coords:{usrCoords:h[3]}},c.line2,a),f=r.subtract(f.usrCoords,p.usrCoords),c.direction2=i.innerProduct(f,[0,c.line2.stdform[2],-c.line2.stdform[1]],3)>=0?1:-1):c.direction2=h[3]>=0?1:-1,c.updateDataArray=function(){var t,n,a,h,l,d,u=[0,0,0];if(n=this.line1,a=this.line2,u=i.crossProduct(n.stdform,a.stdform),Math.abs(u[0])>i.eps*i.eps&&(u[1]/=u[0],u[2]/=u[0],u[0]/=u[0]),t=this.direction1*this.Radius(),h=r.add(u,[0,t*n.stdform[2],-t*n.stdform[1]]),t=this.direction2*this.Radius(),l=r.add(u,[0,t*a.stdform[2],-t*a.stdform[1]]),this.point2.coords=new s(o.COORDS_BY_USER,h,c.board),this.point1.coords=new s(o.COORDS_BY_USER,u,c.board),this.point3.coords=new s(o.COORDS_BY_USER,l,c.board),Math.abs(h[0])<i.eps||Math.abs(u[0])<i.eps||Math.abs(l[0])<i.eps)return this.dataX=[NaN],void(this.dataY=[NaN]);d=e.bezierArc(h,u,l,!0,1),this.dataX=d[0],this.dataY=d[1],this.bezierDegree=3},c.methodMap=t.deepCopy(c.methodMap,{radius:"Radius",getRadius:"Radius",setRadius:"setRadius"});else if("3points"===g){for(c.point1=m[0],c.point2=m[1],c.point3=m[2],u=0;u<3;u++)n.exists(m[u]._is_new)?(c.addChild(m[u]),delete m[u]._is_new):m[u].addChild(c);c.useDirection=l.usedirection,c.setParents(m),n.exists(m[3])&&(c.point4=m[3],c.point4.addChild(c)),c.methodMap=t.deepCopy(c.methodMap,{arc:"arc",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",radius:"Radius",getRadius:"Radius",setRadius:"setRadius"}),c.updateDataArray=function(){var t,i,r,s,o,a=this.point2,h=this.point1,l=this.point3,c=1,d=n.evaluate(this.visProp.selection);if(!a.isReal||!h.isReal||!l.isReal)return this.dataX=[NaN],void(this.dataY=[NaN]);o=e.rad(a,h,l),("minor"===d&&o>Math.PI||"major"===d&&o<Math.PI)&&(c=-1),this.useDirection&&n.exists(this.point4)&&(i=this.point2.coords.usrCoords,r=this.point4.coords.usrCoords,s=this.point3.coords.usrCoords,(i[1]-s[1])*(i[2]-r[2])-(i[2]-s[2])*(i[1]-r[1])>=0&&(l=this.point2,a=this.point3)),a=a.coords.usrCoords,h=h.coords.usrCoords,l=l.coords.usrCoords,t=e.bezierArc(a,h,l,!0,c),this.dataX=t[0],this.dataY=t[1],this.bezierDegree=3},c.Radius=function(){return this.point2.Dist(this.point1)},(d=n.copyAttributes(l,a.options,"sector","arc")).withLabel=!1,d.name+="_arc",c.arc=a.create("arc",[c.point1,c.point2,c.point3],d),c.addChild(c.arc)}return c.center=c.point1,c.radiuspoint=c.point2,c.anglepoint=c.point3,c.hasPointCurve=function(t,i){var r,a,h,l,c,d,u=new s(o.COORDS_BY_SCREEN,[t,i],this.board),p=this.Radius(),f=this.center.coords.distance(o.COORDS_BY_USER,u),m=n.evaluate(this.visProp.selection);return n.isObject(n.evaluate(this.visProp.precision))?(c=this.board._inputDevice,l=n.evaluate(this.visProp.precision[c])):l=this.board.options.precision.hasPoint,l/=Math.min(this.board.unitX,this.board.unitY),(d=Math.abs(f-p)<l)&&(r=e.rad(this.point2,this.center,u.usrCoords.slice(1)),a=0,h=e.rad(this.point2,this.center,this.point3),("minor"===m&&h>Math.PI||"major"===m&&h<Math.PI)&&(a=h,h=2*Math.PI),(r<a||r>h)&&(d=!1)),d},c.hasPointSector=function(t,i){var r,a,h,l=new s(o.COORDS_BY_SCREEN,[t,i],this.board),c=this.Radius(),d=this.point1.coords.distance(o.COORDS_BY_USER,l)<c,u=n.evaluate(this.visProp.selection);return d&&(r=e.rad(this.radiuspoint,this.center,l.usrCoords.slice(1)),a=0,h=e.rad(this.radiuspoint,this.center,this.anglepoint),("minor"===u&&h>Math.PI||"major"===u&&h<Math.PI)&&(a=h,h=2*Math.PI),(r<a||r>h)&&(d=!1)),d},c.hasPoint=function(t,e){return n.evaluate(this.visProp.highlightonsector)||n.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(t,e):this.hasPointCurve(t,e)},c.getTextAnchor=function(){return this.point1.coords},c.getLabelAnchor=function(){var t,i,r,a,h,l=e.rad(this.point2,this.point1,this.point3),c=13/this.board.unitX,d=13/this.board.unitY,u=this.point2.coords.usrCoords,p=this.point1.coords.usrCoords,f=u[1]-p[1],m=u[2]-p[2],g=n.evaluate(this.visProp.selection),b=this.label?this.label.visProp:this.visProp.label;return("minor"===g&&l>Math.PI||"major"===g&&l<Math.PI)&&(l=-(2*Math.PI-l)),r=(t=new s(o.COORDS_BY_USER,[p[1]+Math.cos(.5*l)*f-Math.sin(.5*l)*m,p[2]+Math.sin(.5*l)*f+Math.cos(.5*l)*m],this.board)).usrCoords[1]-p[1],a=t.usrCoords[2]-p[2],r=r*((h=Math.sqrt(r*r+a*a))+c)/h,a=a*(h+d)/h,i=[p[1]+r,p[2]+a],b.position=e.calcLabelQuadrant(e.rad([1,0],[0,0],i)),new s(o.COORDS_BY_USER,i,this.board)},c.setRadius=function(t){c.Radius=function(){var e=n.evaluate(t);return"auto"===e?this.autoRadius():e}},c.getRadius=function(){return t.deprecated("Sector.getRadius()","Sector.Radius()"),this.Radius()},"3points"===g&&(c.setPositionDirectly=function(t,e,i){var o,n=new s(t,e,this.board),a=new s(t,i,this.board);return c.point1.draggable()&&c.point2.draggable()&&c.point3.draggable()?(o=r.subtract(n.usrCoords,a.usrCoords),this.board.create("transform",o.slice(1),{type:"translate"}).applyOnce([c.point1,c.point2,c.point3]),this):this}),c.prepareUpdate().update(),c},t.registerElement("sector",t.createSector),t.createCircumcircleSector=function(t,e,i){var r,s,o,a;if(!1===(a=n.providePoints(t,e,i,"point")))throw new Error("JSXGraph: Can't create circumcircle sector with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"' and '"+typeof e[2]+"'.");return(s=t.create("circumcenter",a.slice(0,3),o)).dump=!1,o=n.copyAttributes(i,t.options,"circumcirclesector"),(r=t.create("sector",[s,a[0],a[2],a[1]],o)).elType="circumcirclesector",r.setParents(a),r.center=s,r.subs={center:s},r},t.registerElement("circumcirclesector",t.createCircumcircleSector),t.createMinorSector=function(e,i,r){return r.selection="minor",t.createSector(e,i,r)},t.registerElement("minorsector",t.createMinorSector),t.createMajorSector=function(e,i,r){return r.selection="major",t.createSector(e,i,r)},t.registerElement("majorsector",t.createMajorSector),t.createAngle=function(t,r,a){var h,l,c,d,u,p,f="invalid";if(r[0].elementClass===o.OBJECT_CLASS_LINE&&r[1].elementClass===o.OBJECT_CLASS_LINE&&(n.isArray(r[2])||n.isNumber(r[2]))&&(n.isArray(r[3])||n.isNumber(r[3])))f="2lines";else{if(!1===(p=n.providePoints(t,r,a,"point")))throw new Error("JSXGraph: Can't create angle with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.");f="3points"}if(c=n.copyAttributes(a,t.options,"angle"),n.exists(c.name)&&""!==c.name||(c.name=t.generateName({type:o.OBJECT_TYPE_ANGLE})),l=n.exists(c.radius)?c.radius:0,"2lines"===f?(r.push(l),(h=t.create("sector",r,c)).updateDataArraySector=h.updateDataArray,h.setAngle=function(t){},h.free=function(t){}):((h=t.create("sector",[p[1],p[0],p[2]],c)).arc.visProp.priv=!0,h.point=h.point2=h.radiuspoint=p[0],h.pointsquare=h.point3=h.anglepoint=p[2],h.Radius=function(){var t=n.evaluate(l);return"auto"===t?h.autoRadius():t},h.updateDataArraySector=function(){var t,i,r=this.point2,s=this.point1,o=this.point3,a=this.Radius(),h=s.Dist(r),l=1,c=n.evaluate(this.visProp.selection);i=e.rad(r,s,o),("minor"===c&&i>Math.PI||"major"===c&&i<Math.PI)&&(l=-1),r=r.coords.usrCoords,s=s.coords.usrCoords,o=o.coords.usrCoords,r=[1,s[1]+(r[1]-s[1])*a/h,s[2]+(r[2]-s[2])*a/h],o=[1,s[1]+(o[1]-s[1])*a/h,s[2]+(o[2]-s[2])*a/h],t=e.bezierArc(r,s,o,!0,l),this.dataX=t[0],this.dataY=t[1],this.bezierDegree=3},h.setAngle=function(t){var e,r,s,o=this.anglepoint,a=this.radiuspoint;return o.draggable()&&(e=this.board.create("transform",[t,this.center],{type:"rotate"}),o.addTransform(a,e),e.update(),o.moveTo(i.matVecMult(e.matrix,a.coords.usrCoords)),s=n.isFunction(t)?function(){return 2*Math.PI-t()}:function(){return 2*Math.PI-t},r=this.board.create("transform",[s,this.center],{type:"rotate"}),o.coords.on("update",(function(){r.update(),a.moveTo(i.matVecMult(r.matrix,o.coords.usrCoords))})),o.setParents(a)),this},h.free=function(){var t=this.anglepoint;return t.transformations.length>0&&(t.transformations.pop(),t.isDraggable=!0,t.parents=[],t.coords.off("update")),this},h.setParents(p)),n.exists(h.visProp.text)&&h.label.setText(n.evaluate(h.visProp.text)),h.elType="angle",h.type=o.OBJECT_TYPE_ANGLE,h.subs={},h.updateDataArraySquare=function(){var t,r,s,o,n,a,h,l,c=this.Radius();"2lines"===f&&this.updateDataArraySector(),t=this.point2,r=this.point1,s=this.point3,t=t.coords.usrCoords,r=r.coords.usrCoords,s=s.coords.usrCoords,o=e.distance(t,r,3),n=e.distance(s,r,3),t=[1,r[1]+(t[1]-r[1])*c/o,r[2]+(t[2]-r[2])*c/o],s=[1,r[1]+(s[1]-r[1])*c/n,r[2]+(s[2]-r[2])*c/n],a=i.crossProduct(s,r),h=[-t[1]*a[1]-t[2]*a[2],t[0]*a[1],t[0]*a[2]],a=i.crossProduct(t,r),l=[-s[1]*a[1]-s[2]*a[2],s[0]*a[1],s[0]*a[2]],(a=i.crossProduct(h,l))[1]/=a[0],a[2]/=a[0],this.dataX=[r[1],t[1],a[1],s[1],r[1]],this.dataY=[r[2],t[2],a[2],s[2],r[2]],this.bezierDegree=1},h.updateDataArrayNone=function(){this.dataX=[NaN],this.dataY=[NaN],this.bezierDegree=1},h.updateDataArray=function(){var t=n.evaluate(this.visProp.type),r=e.trueAngle(this.point2,this.point1,this.point3),s=n.evaluate(this.visProp.selection);("minor"===s&&r>180||"major"===s&&r<180)&&(r=360-r),Math.abs(r-90)<n.evaluate(this.visProp.orthosensitivity)+i.eps&&(t=n.evaluate(this.visProp.orthotype)),"none"===t?this.updateDataArrayNone():"square"===t?this.updateDataArraySquare():"sector"===t?this.updateDataArraySector():"sectordot"===t&&(this.updateDataArraySector(),this.dot.visProp.visible||this.dot.setAttribute({visible:!0})),(!this.visProp.visible||"sectordot"!==t&&this.dot.visProp.visible)&&this.dot.setAttribute({visible:!1})},d=n.copyAttributes(a,t.options,"angle","dot"),h.dot=t.create("point",[function(){var t,r,s,o,a,l,c,d,u;return n.exists(h.dot)&&!h.dot.visProp.visible?[0,0]:(t=h.point2.coords.usrCoords,r=h.point1.coords.usrCoords,s=h.Radius(),o=e.distance(t,r,3),a=e.rad(h.point2,h.point1,h.point3),("minor"===(u=n.evaluate(h.visProp.selection))&&a>Math.PI||"major"===u&&a<Math.PI)&&(a=-(2*Math.PI-a)),a*=.5,l=Math.cos(a),c=Math.sin(a),t=[1,r[1]+(t[1]-r[1])*s/o,r[2]+(t[2]-r[2])*s/o],d=[[1,0,0],[r[1]-.5*r[1]*l+.5*r[2]*c,.5*l,.5*-c],[r[2]-.5*r[1]*c-.5*r[2]*l,.5*c,.5*l]],i.matVecMult(d,t))}],d),h.dot.dump=!1,h.subs.dot=h.dot,"2lines"===f)for(u=0;u<2;u++)t.select(r[u]).addChild(h.dot);else for(u=0;u<3;u++)t.select(p[u]).addChild(h.dot);return h.getLabelAnchor=function(){var t,r,a,l,c,d,u,p,f,m=12,g=n.evaluate(h.visProp.selection),b=this.label?this.label.visProp:this.visProp.label;return n.exists(this.label.visProp.fontSize)&&(m=n.evaluate(this.label.visProp.fontSize)),m/=this.board.unitX,r=h.point2.coords.usrCoords,a=h.point1.coords.usrCoords,l=h.Radius(),c=e.distance(r,a,3),d=e.rad(h.point2,h.point1,h.point3),("minor"===g&&d>Math.PI||"major"===g&&d<Math.PI)&&(d=-(2*Math.PI-d)),d*=.5,u=Math.cos(d),p=Math.sin(d),r=[1,a[1]+(r[1]-a[1])*l/c,a[2]+(r[2]-a[2])*l/c],f=[[1,0,0],[a[1]-.5*a[1]*u+.5*a[2]*p,.5*u,.5*-p],[a[2]-.5*a[1]*p-.5*a[2]*u,.5*p,.5*u]],(t=i.matVecMult(f,r))[1]/=t[0],t[2]/=t[0],t[0]/=t[0],c=e.distance(t,a,3),t=[t[0],a[1]+(t[1]-a[1])*(l+m)/c,a[2]+(t[2]-a[2])*(l+m)/c],b.position=e.calcLabelQuadrant(e.rad([1,0],[0,0],t)),new s(o.COORDS_BY_USER,t,this.board)},h.Value=function(){return e.rad(this.point2,this.point1,this.point3)},h.methodMap=n.deepCopy(h.methodMap,{Value:"Value",setAngle:"setAngle",free:"free"}),h},t.registerElement("angle",t.createAngle),t.createNonreflexAngle=function(i,r,s){var o;return s.selection="minor",(o=t.createAngle(i,r,s)).Value=function(){var t=e.rad(this.point2,this.point1,this.point3);return t<Math.PI?t:2*Math.PI-t},o},t.registerElement("nonreflexangle",t.createNonreflexAngle),t.createReflexAngle=function(i,r,s){var o;return s.selection="major",(o=t.createAngle(i,r,s)).Value=function(){var t=e.rad(this.point2,this.point1,this.point3);return t>=Math.PI?t:2*Math.PI-t},o},t.registerElement("reflexangle",t.createReflexAngle),{createSector:t.createSector,createCircumcircleSector:t.createCircumcircleSector,createMinorSector:t.createMinorSector,createMajorSector:t.createMajorSector,createAngle:t.createAngle,createReflexAngle:t.createReflexAngle,createNonreflexAngle:t.createNonreflexAngle}})),define("base/transformation",["jxg","base/constants","math/math","utils/type"],(function(t,e,i,r){"use strict";return t.Transformation=function(t,i,r){this.elementClass=e.OBJECT_CLASS_OTHER,this.type=e.OBJECT_TYPE_TRANSFORMATION,this.matrix=[[1,0,0],[0,1,0],[0,0,1]],this.board=t,this.isNumericMatrix=!1,this.setMatrix(t,i,r),this.methodMap={apply:"apply",applyOnce:"applyOnce",bindTo:"bindTo",bind:"bindTo",melt:"melt"}},t.Transformation.prototype={},t.extend(t.Transformation.prototype,{update:function(){return this},setMatrix:function(t,e,s){var o;for(this.isNumericMatrix=!0,o=0;o<s.length;o++)if("number"!=typeof s[o]){this.isNumericMatrix=!1;break}if("translate"===e){if(2!==s.length)throw new Error("JSXGraph: translate transformation needs 2 parameters.");this.evalParam=r.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][0]=this.evalParam(0),this.matrix[2][0]=this.evalParam(1)}}else if("scale"===e){if(2!==s.length)throw new Error("JSXGraph: scale transformation needs 2 parameters.");this.evalParam=r.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][1]=this.evalParam(0),this.matrix[2][2]=this.evalParam(1)}}else if("reflect"===e)s.length<4&&(s[0]=t.select(s[0])),2===s.length&&(s[1]=t.select(s[1])),4===s.length&&(this.evalParam=r.createEvalFunction(t,s,4)),this.update=function(){var t,e,r,o,n,a,h,l;1===s.length?h=s[0].stdform:2===s.length?h=i.crossProduct(s[1].coords.usrCoords,s[0].coords.usrCoords):4===s.length&&(h=i.crossProduct([1,this.evalParam(2),this.evalParam(3)],[1,this.evalParam(0),this.evalParam(1)])),t=h[1],e=h[2],a=(l=[-(r=h[0])*t,-r*e,t*t+e*e])[2],o=l[0]/l[2],n=l[1]/l[2],t=-h[2],e=h[1],this.matrix[1][1]=(t*t-e*e)/a,this.matrix[1][2]=2*t*e/a,this.matrix[2][1]=this.matrix[1][2],this.matrix[2][2]=-this.matrix[1][1],this.matrix[1][0]=o*(1-this.matrix[1][1])-n*this.matrix[1][2],this.matrix[2][0]=n*(1-this.matrix[2][2])-o*this.matrix[2][1]};else if("rotate"===e)3===s.length?this.evalParam=r.createEvalFunction(t,s,3):s.length>0&&s.length<=2&&(this.evalParam=r.createEvalFunction(t,s,1),2!==s.length||r.isArray(s[1])||(s[1]=t.select(s[1]))),this.update=function(){var t,e,i=this.evalParam(0),o=Math.cos(i),n=Math.sin(i);this.matrix[1][1]=o,this.matrix[1][2]=-n,this.matrix[2][1]=n,this.matrix[2][2]=o,s.length>1&&(3===s.length?(t=this.evalParam(1),e=this.evalParam(2)):r.isArray(s[1])?(t=s[1][0],e=s[1][1]):(t=s[1].X(),e=s[1].Y()),this.matrix[1][0]=t*(1-o)+e*n,this.matrix[2][0]=e*(1-o)-t*n)};else if("shear"===e){if(2!==s.length)throw new Error("JSXGraph: shear transformation needs 2 parameters.");this.evalParam=r.createEvalFunction(t,s,2),this.update=function(){this.matrix[1][2]=this.evalParam(0),this.matrix[2][1]=this.evalParam(1)}}else if("generic"===e){if(9!==s.length)throw new Error("JSXGraph: generic transformation needs 9 parameters.");this.evalParam=r.createEvalFunction(t,s,9),this.update=function(){this.matrix[0][0]=this.evalParam(0),this.matrix[0][1]=this.evalParam(1),this.matrix[0][2]=this.evalParam(2),this.matrix[1][0]=this.evalParam(3),this.matrix[1][1]=this.evalParam(4),this.matrix[1][2]=this.evalParam(5),this.matrix[2][0]=this.evalParam(6),this.matrix[2][1]=this.evalParam(7),this.matrix[2][2]=this.evalParam(8)}}},apply:function(t,e){return this.update(),r.exists(e)?i.matVecMult(this.matrix,t.initialCoords.usrCoords):i.matVecMult(this.matrix,t.coords.usrCoords)},applyOnce:function(t){var s,o,n;for(r.isArray(t)||(t=[t]),o=t.length,n=0;n<o;n++)this.update(),s=i.matVecMult(this.matrix,t[n].coords.usrCoords),t[n].coords.setCoordinates(e.COORDS_BY_USER,s)},bindTo:function(t){var e,i;if(r.isArray(t))for(i=t.length,e=0;e<i;e++)t[e].transformations.push(this);else t.transformations.push(this)},setProperty:function(e){t.deprecated("Transformation.setProperty()","Transformation.setAttribute()")},setAttribute:function(t){},melt:function(t){var e,i,r,s,o,n,a=[];for(i=t.matrix.length,r=this.matrix[0].length,e=0;e<i;e++)a[e]=[];for(this.update(),t.update(),e=0;e<i;e++)for(n=0;n<r;n++){for(o=0,s=0;s<i;s++)o+=t.matrix[e][s]*this.matrix[s][n];a[e][n]=o}return this.update=function(){var t=this.matrix.length,i=this.matrix[0].length;for(e=0;e<t;e++)for(n=0;n<i;n++)this.matrix[e][n]=a[e][n]},this},getParents:function(){var t=[[].concat.apply([],this.matrix)];return 0!==this.parents.length&&(t=this.parents),t}}),t.createTransform=function(e,i,r){return new t.Transformation(e,r.type,i)},t.registerElement("transform",t.createTransform),{Transformation:t.Transformation,createTransform:t.createTransform}})),define("element/composition",["jxg","math/math","math/geometry","math/numerics","base/coords","utils/type","base/constants","base/point","base/line","base/circle","base/transformation","base/composition","base/curve","base/polygon"],(function(t,e,i,r,s,o,n,a,h,l,c,d,u,p){"use strict";return t.createOrthogonalProjection=function(t,e,r){var s,a,h,l;if(e[0]=t.select(e[0]),e[1]=t.select(e[1]),o.isPointType(t,e[0])&&e[1].elementClass===n.OBJECT_CLASS_LINE)a=o.providePoints(t,[e[0]],r,"point")[0],s=e[1];else{if(!o.isPointType(t,e[1])||e[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,line]");a=o.providePoints(t,[e[1]],r,"point")[0],s=e[0]}return l=o.copyAttributes(r,t.options,"orthogonalprojection"),h=t.create("point",[function(){return i.projectPointToLine(a,s,t)}],l),o.exists(a._is_new)?(h.addChild(a),delete a._is_new):a.addChild(h),s.addChild(h),h.elType="orthogonalprojection",h.setParents([a.id,h.id]),h.update(),h.generatePolynomial=function(){var t=s.point1.symbolic.x,e=s.point1.symbolic.y,i=s.point2.symbolic.x,r=s.point2.symbolic.y,o=a.symbolic.x,n=a.symbolic.y,l=h.symbolic.x,c=h.symbolic.y;return["("+e+")*("+l+")-("+e+")*("+i+")+("+c+")*("+i+")-("+t+")*("+c+")+("+t+")*("+r+")-("+l+")*("+r+")","("+n+")*("+e+")-("+n+")*("+r+")-("+c+")*("+e+")+("+c+")*("+r+")+("+o+")*("+t+")-("+o+")*("+i+")-("+l+")*("+t+")+("+l+")*("+i+")"]},h},t.createPerpendicular=function(t,e,i){var r,s,a,l;if(e[0]=t.select(e[0]),e[1]=t.select(e[1]),o.isPointType(t,e[0])&&e[1].elementClass===n.OBJECT_CLASS_LINE)s=e[1],r=o.providePoints(t,[e[0]],i,"point")[0];else{if(!o.isPointType(t,e[1])||e[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [line,point]");s=e[0],r=o.providePoints(t,[e[1]],i,"point")[0]}return l=o.copyAttributes(i,t.options,"perpendicular"),(a=h.createLine(t,[function(){return s.stdform[2]*r.X()-s.stdform[1]*r.Y()},function(){return-s.stdform[2]*r.Z()},function(){return s.stdform[1]*r.Z()}],l)).elType="perpendicular",a.setParents([s.id,r.id]),o.exists(r._is_new)?(a.addChild(r),delete r._is_new):r.addChild(a),s.addChild(a),a},t.createPerpendicularPoint=function(t,e,r){var s,a,h;if(e[0]=t.select(e[0]),e[1]=t.select(e[1]),o.isPointType(t,e[0])&&e[1].elementClass===n.OBJECT_CLASS_LINE)a=o.providePoints(t,[e[0]],r,"point")[0],s=e[1];else{if(!o.isPointType(t,e[1])||e[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,line]");a=o.providePoints(t,[e[1]],r,"point")[0],s=e[0]}return h=t.create("point",[function(){return i.perpendicular(s,a,t)[0]}],r),o.exists(a._is_new)?(h.addChild(a),delete a._is_new):a.addChild(h),s.addChild(h),h.elType="perpendicularpoint",h.setParents([a.id,s.id]),h.update(),h.generatePolynomial=function(){var t=s.point1.symbolic.x,e=s.point1.symbolic.y,i=s.point2.symbolic.x,r=s.point2.symbolic.y,o=a.symbolic.x,n=a.symbolic.y,l=h.symbolic.x,c=h.symbolic.y;return["("+e+")*("+l+")-("+e+")*("+i+")+("+c+")*("+i+")-("+t+")*("+c+")+("+t+")*("+r+")-("+l+")*("+r+")","("+n+")*("+e+")-("+n+")*("+r+")-("+c+")*("+e+")+("+c+")*("+r+")+("+o+")*("+t+")-("+o+")*("+i+")-("+l+")*("+t+")+("+l+")*("+i+")"]},h},t.createPerpendicularSegment=function(e,r,s){var a,l,c,d,u;if(r[0]=e.select(r[0]),r[1]=e.select(r[1]),o.isPointType(e,r[0])&&r[1].elementClass===n.OBJECT_CLASS_LINE)l=r[1],a=o.providePoints(e,[r[0]],s,"point")[0];else{if(!o.isPointType(e,r[1])||r[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [line,point]");l=r[0],a=o.providePoints(e,[r[1]],s,"point")[0]}return u=o.copyAttributes(s,e.options,"perpendicularsegment","point"),(d=t.createPerpendicularPoint(e,[l,a],u)).dump=!1,o.exists(s.layer)||(s.layer=e.options.layer.line),u=o.copyAttributes(s,e.options,"perpendicularsegment"),(c=h.createLine(e,[function(){return i.perpendicular(l,a,e)[1]?[d,a]:[a,d]}],u)).point=d,o.exists(a._is_new)?(c.addChild(a),delete a._is_new):a.addChild(c),l.addChild(c),c.elType="perpendicularsegment",c.setParents([a.id,l.id]),c.subs={point:d},c.inherits.push(d),c},t.createMidpoint=function(t,i,r){var s,a,h,l,c;for(l=0;l<i.length;++l)i[l]=t.select(i[l]);if(2===i.length&&o.isPointType(t,i[0])&&o.isPointType(t,i[1]))i=o.providePoints(t,i,r,"point"),s=i[0],a=i[1];else{if(1!==i.length||i[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create midpoint.\nPossible parent types: [point,point], [line]");s=i[0].point1,a=i[0].point2}return c=o.copyAttributes(r,t.options,"midpoint"),h=t.create("point",[function(){var t=s.coords.usrCoords[1]+a.coords.usrCoords[1];return isNaN(t)||Math.abs(s.coords.usrCoords[0])<e.eps||Math.abs(a.coords.usrCoords[0])<e.eps?NaN:.5*t},function(){var t=s.coords.usrCoords[2]+a.coords.usrCoords[2];return isNaN(t)||Math.abs(s.coords.usrCoords[0])<e.eps||Math.abs(a.coords.usrCoords[0])<e.eps?NaN:.5*t}],c),o.exists(s._is_new)?(h.addChild(s),delete s._is_new):s.addChild(h),o.exists(a._is_new)?(h.addChild(a),delete a._is_new):a.addChild(h),h.elType="midpoint",h.setParents([s.id,a.id]),h.prepareUpdate().update(),h.generatePolynomial=function(){var t=s.symbolic.x,e=s.symbolic.y,i=a.symbolic.x,r=a.symbolic.y,o=h.symbolic.x,n=h.symbolic.y;return["("+e+")*("+o+")-("+e+")*("+i+")+("+n+")*("+i+")-("+t+")*("+n+")+("+t+")*("+r+")-("+o+")*("+r+")","("+t+")^2 - 2*("+t+")*("+o+")+("+e+")^2-2*("+e+")*("+n+")-("+i+")^2+2*("+i+")*("+o+")-("+r+")^2+2*("+r+")*("+n+")"]},h},t.createParallelPoint=function(t,e,i){var r,s,a,h,l;for(l=0;l<e.length;++l)e[l]=t.select(e[l]);if(3===e.length&&o.isPointType(t,e[0])&&o.isPointType(t,e[1])&&o.isPointType(t,e[2]))e=o.providePoints(t,e,i,"point"),r=e[0],s=e[1],a=e[2];else if(o.isPointType(t,e[0])&&e[1].elementClass===n.OBJECT_CLASS_LINE)a=o.providePoints(t,[e[0]],i,"point")[0],r=e[1].point1,s=e[1].point2;else{if(!o.isPointType(t,e[1])||e[0].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create parallel point with parent types '"+typeof e[0]+"', '"+typeof e[1]+"' and '"+typeof e[2]+"'.\nPossible parent types: [line,point], [point,point,point]");a=o.providePoints(t,[e[1]],i,"point")[0],r=e[0].point1,s=e[0].point2}return h=t.create("point",[function(){return a.coords.usrCoords[1]+s.coords.usrCoords[1]-r.coords.usrCoords[1]},function(){return a.coords.usrCoords[2]+s.coords.usrCoords[2]-r.coords.usrCoords[2]}],i),o.exists(r._is_new)?(h.addChild(r),delete r._is_new):r.addChild(h),o.exists(s._is_new)?(h.addChild(s),delete s._is_new):s.addChild(h),o.exists(a._is_new)?(h.addChild(a),delete a._is_new):a.addChild(h),h.elType="parallelpoint",h.setParents([r.id,s.id,a.id]),h.prepareUpdate().update(),h.generatePolynomial=function(){var t=r.symbolic.x,e=r.symbolic.y,i=s.symbolic.x,o=s.symbolic.y,n=a.symbolic.x,l=a.symbolic.y,c=h.symbolic.x,d=h.symbolic.y;return["("+o+")*("+c+")-("+o+")*("+n+")-("+e+")*("+c+")+("+e+")*("+n+")-("+d+")*("+i+")+("+d+")*("+t+")+("+l+")*("+i+")-("+l+")*("+t+")","("+d+")*("+t+")-("+d+")*("+n+")-("+o+")*("+t+")+("+o+")*("+n+")-("+c+")*("+e+")+("+c+")*("+l+")+("+i+")*("+e+")-("+i+")*("+l+")"]},h},t.createParallel=function(t,i,r){var s,n,a,h,l,c,d=1;for(l=0;l<i.length;++l)i[l]=t.select(i[l]);return s=null,3===i.length?(s=(i=o.providePoints(t,i,r,"point"))[2],d=0):o.isPointType(t,i[0])?(s=o.providePoints(t,[i[0]],r,"point")[0],h=function(){return i[1].stdform}):o.isPointType(t,i[1])&&(s=o.providePoints(t,[i[1]],r,"point")[0],h=function(){return i[0].stdform}),o.exists(r.layer)||(r.layer=t.options.layer.line),c=o.copyAttributes(r,t.options,"parallel","point"),(n=1===d?t.create("point",[function(){return e.crossProduct([1,0,0],h())}],c):t.create("parallelpoint",i,c)).isDraggable=!0,c=o.copyAttributes(r,t.options,"parallel"),(a=t.create("line",[s,n],c)).elType="parallel",a.subs={point:n},a.inherits.push(n),a.setParents([i[0].id,i[1].id]),3===i.length&&a.addParents(i[2].id),a.point=n,a},t.createArrowParallel=function(e,i,r){var s;try{return r.firstArrow=!1,r.lastArrow=!0,(s=t.createParallel(e,i,r).setAttribute({straightFirst:!1,straightLast:!1})).elType="arrowparallel",s}catch(t){throw new Error("JSXGraph: Can't create arrowparallel with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [line,point], [point,point,point]")}},t.createNormal=function(t,i,s){var a,h,l,c,d,u,p,f,m;for(c=0;c<i.length;++c)i[c]=t.select(i[c]);if(1===i.length)a=i[0],h=a.slideObject;else{if(2!==i.length)throw new Error("JSXGraph: Can't create normal with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");if(o.isPointType(t,i[0]))a=o.providePoints(t,[i[0]],s,"point")[0],h=i[1];else{if(!o.isPointType(t,i[1]))throw new Error("JSXGraph: Can't create normal with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");h=i[0],a=o.providePoints(t,[i[1]],s,"point")[0]}}if(p=o.copyAttributes(s,t.options,"normal"),h.elementClass===n.OBJECT_CLASS_LINE)m=o.copyAttributes(s,t.options,"normal","point"),f=t.create("point",[function(){var t=e.crossProduct([1,0,0],h.stdform);return[t[0],-t[2],t[1]]}],m),f.isDraggable=!0,(l=t.create("line",[a,f],p)).point=f,l.subs={point:f},l.inherits.push(f);else if(h.elementClass===n.OBJECT_CLASS_CIRCLE)l=t.create("line",[h.midpoint,a],p);else if(h.elementClass===n.OBJECT_CLASS_CURVE)"plot"!==o.evaluate(h.visProp.curvetype)?(d=h.X,u=h.Y,l=t.create("line",[function(){return-a.X()*r.D(d)(a.position)-a.Y()*r.D(u)(a.position)},function(){return r.D(d)(a.position)},function(){return r.D(u)(a.position)}],p)):l=t.create("line",[function(){var t,e,i,r,s,o,n,l,c,d,u=Math.floor(a.position),p=a.position-u;if(1===h.bezierdegree)u===h.numberPoints-1&&(u-=1,p=1);else{if(3!==h.bezierDegree)return 0;u=3*Math.floor(a.position*(h.numberPoints-1)/3),i=(a.position*(h.numberPoints-1)-u)/3,u>=h.numberPoints-1&&(u=h.numberPoints-4,i=1)}return u<0?1:1===h.bezierDegree?(h.Y(u)+p*(h.Y(u+1)-h.Y(u)))*(h.Y(u)-h.Y(u+1))-(h.X(u)+p*(h.X(u+1)-h.X(u)))*(h.X(u+1)-h.X(u)):(r=h.points[u].usrCoords,s=h.points[u+1].usrCoords,o=h.points[u+2].usrCoords,n=h.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(n[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(n[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=a.coords.usrCoords)[1]-c,t[2]+l],t[2]*e[1]-t[1]*e[2])},function(){var t,e,i,r,s,o,n,l,c,d=Math.floor(a.position);if(1===h.bezierdegree)d===h.numberPoints-1&&(d-=1);else{if(3!==h.bezierDegree)return 0;d=3*Math.floor(a.position*(h.numberPoints-1)/3),e=(a.position*(h.numberPoints-1)-d)/3,d>=h.numberPoints-1&&(d=h.numberPoints-4,e=1)}return d<0?0:1===h.bezierDegree?h.X(d+1)-h.X(d):(i=h.points[d].usrCoords,r=h.points[d+1].usrCoords,s=h.points[d+2].usrCoords,o=h.points[d+3].usrCoords,n=(1-e)*(1-e)*(r[1]-i[1])+2*(1-e)*e*(s[1]-r[1])+e*e*(o[1]-s[1]),l=(1-e)*(1-e)*(r[2]-i[2])+2*(1-e)*e*(s[2]-r[2])+e*e*(o[2]-s[2]),n/=c=Math.sqrt(n*n+l*l),l/=c,[1,(t=a.coords.usrCoords)[1]-l,t[2]+n][2]-t[2])},function(){var t,e,i,r,s,o,n,l,c,d,u=Math.floor(a.position);if(1===h.bezierdegree)u===h.numberPoints-1&&(u-=1);else{if(3!==h.bezierDegree)return 0;u=3*Math.floor(a.position*(h.numberPoints-1)/3),i=(a.position*(h.numberPoints-1)-u)/3,u>=h.numberPoints-1&&(u=h.numberPoints-4,i=1)}return u<0?0:1===h.bezierDegree?h.Y(u+1)-h.Y(u):(r=h.points[u].usrCoords,s=h.points[u+1].usrCoords,o=h.points[u+2].usrCoords,n=h.points[u+3].usrCoords,l=(1-i)*(1-i)*(s[1]-r[1])+2*(1-i)*i*(o[1]-s[1])+i*i*(n[1]-o[1]),c=(1-i)*(1-i)*(s[2]-r[2])+2*(1-i)*i*(o[2]-s[2])+i*i*(n[2]-o[2]),l/=d=Math.sqrt(l*l+c*c),c/=d,e=[1,(t=a.coords.usrCoords)[1]-c,t[2]+l],t[1]-e[1])}],p);else{if(h.type!==n.OBJECT_TYPE_TURTLE)throw new Error("JSXGraph: Can't create normal with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");l=t.create("line",[function(){var t,e,i=Math.floor(a.position),r=a.position-i;for(e=0;e<h.objects.length;e++)if((t=h.objects[e]).type===n.OBJECT_TYPE_CURVE){if(i<t.numberPoints)break;i-=t.numberPoints}return i===t.numberPoints-1&&(i-=1,r=1),i<0?1:(t.Y(i)+r*(t.Y(i+1)-t.Y(i)))*(t.Y(i)-t.Y(i+1))-(t.X(i)+r*(t.X(i+1)-t.X(i)))*(t.X(i+1)-t.X(i))},function(){var t,e,i=Math.floor(a.position);for(e=0;e<h.objects.length;e++)if((t=h.objects[e]).type===n.OBJECT_TYPE_CURVE){if(i<t.numberPoints)break;i-=t.numberPoints}return i===t.numberPoints-1&&(i-=1),i<0?0:t.X(i+1)-t.X(i)},function(){var t,e,i=Math.floor(a.position);for(e=0;e<h.objects.length;e++)if((t=h.objects[e]).type===n.OBJECT_TYPE_CURVE){if(i<t.numberPoints)break;i-=t.numberPoints}return i===t.numberPoints-1&&(i-=1),i<0?0:t.Y(i+1)-t.Y(i)}],p)}return l.elType="normal",l.setParents(i),o.exists(a._is_new)?(l.addChild(a),delete a._is_new):a.addChild(l),h.addChild(l),l},t.createBisector=function(t,e,r){var s,n,a,l;if(e=o.providePoints(t,e,r,"point"),o.isPoint(e[0])&&o.isPoint(e[1])&&o.isPoint(e[2])){for((l=o.copyAttributes(r,t.options,"bisector","point")).snapToGrid=!1,(s=t.create("point",[function(){return i.angleBisector(e[0],e[1],e[2],t)}],l)).dump=!1,a=0;a<3;a++)o.exists(e[a]._is_new)?(s.addChild(e[a]),delete e[a]._is_new):e[a].addChild(s);return o.exists(r.layer)||(r.layer=t.options.layer.line),l=o.copyAttributes(r,t.options,"bisector"),(n=h.createLine(t,[e[1],s],l)).point=s,n.elType="bisector",n.setParents(e),n.subs={point:s},n.inherits.push(s),n}throw new Error("JSXGraph: Can't create angle bisector with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [point,point,point]")},t.createAngularBisectorsOfTwoLines=function(t,e,i){var r,s,a,h,l=t.select(e[0]),c=t.select(e[1]);if(l.elementClass!==n.OBJECT_CLASS_LINE||c.elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create angle bisectors of two lines with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'.\nPossible parent types: [line,line]");return o.exists(i.layer)||(i.layer=t.options.layer.line),a=o.copyAttributes(i,t.options,"bisectorlines","line1"),r=t.create("line",[function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[0]/t-c.stdform[0]/e},function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[1]/t-c.stdform[1]/e},function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[2]/t-c.stdform[2]/e}],a),o.exists(i.layer)||(i.layer=t.options.layer.line),a=o.copyAttributes(i,t.options,"bisectorlines","line2"),s=t.create("line",[function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[0]/t+c.stdform[0]/e},function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[1]/t+c.stdform[1]/e},function(){var t=Math.sqrt(l.stdform[1]*l.stdform[1]+l.stdform[2]*l.stdform[2]),e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]);return l.stdform[2]/t+c.stdform[2]/e}],a),h=new d({line1:r,line2:s}),r.dump=!1,s.dump=!1,h.elType="bisectorlines",h.setParents([l.id,c.id]),h.subs={line1:r,line2:s},h},t.createCircumcenter=function(t,e,r){var s,n,h,l,c;if(e=o.providePoints(t,e,r,"point"),o.isPoint(e[0])&&o.isPoint(e[1])&&o.isPoint(e[2])){for(h=e[0],l=e[1],c=e[2],s=a.createPoint(t,[function(){return i.circumcenter(h,l,c,t)}],r),n=0;n<3;n++)o.exists(e[n]._is_new)?(s.addChild(e[n]),delete e[n]._is_new):e[n].addChild(s);return s.elType="circumcenter",s.setParents(e),s.generatePolynomial=function(){var t=h.symbolic.x,e=h.symbolic.y,i=l.symbolic.x,r=l.symbolic.y,o=c.symbolic.x,n=c.symbolic.y,a=s.symbolic.x,d=s.symbolic.y;return[["((",a,")-(",t,"))^2+((",d,")-(",e,"))^2-((",a,")-(",i,"))^2-((",d,")-(",r,"))^2"].join(""),["((",a,")-(",t,"))^2+((",d,")-(",e,"))^2-((",a,")-(",o,"))^2-((",d,")-(",n,"))^2"].join("")]},s}throw new Error("JSXGraph: Can't create circumcircle midpoint with parent types '"+typeof e[0]+"', '"+typeof e[1]+"' and '"+typeof e[2]+"'.\nPossible parent types: [point,point,point]")},t.createIncenter=function(t,e,i){var r,a,h,l,c;if(!((e=o.providePoints(t,e,i,"point")).length>=3&&o.isPoint(e[0])&&o.isPoint(e[1])&&o.isPoint(e[2])))throw new Error("JSXGraph: Can't create incenter with parent types '"+typeof e[0]+"', '"+typeof e[1]+"' and '"+typeof e[2]+"'.\nPossible parent types: [point,point,point]");for(a=e[0],h=e[1],l=e[2],r=t.create("point",[function(){var e,i,r;return e=Math.sqrt((h.X()-l.X())*(h.X()-l.X())+(h.Y()-l.Y())*(h.Y()-l.Y())),i=Math.sqrt((a.X()-l.X())*(a.X()-l.X())+(a.Y()-l.Y())*(a.Y()-l.Y())),r=Math.sqrt((h.X()-a.X())*(h.X()-a.X())+(h.Y()-a.Y())*(h.Y()-a.Y())),new s(n.COORDS_BY_USER,[(e*a.X()+i*h.X()+r*l.X())/(e+i+r),(e*a.Y()+i*h.Y()+r*l.Y())/(e+i+r)],t)}],i),c=0;c<3;c++)o.exists(e[c]._is_new)?(r.addChild(e[c]),delete e[c]._is_new):e[c].addChild(r);return r.elType="incenter",r.setParents(e),r},t.createCircumcircle=function(e,i,r){var s,n,a,h;if(!1===(i=o.providePoints(e,i,r,"point")))throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof i[0]+"', '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]");try{for(a=o.copyAttributes(r,e.options,"circumcircle","center"),(s=t.createCircumcenter(e,i,a)).dump=!1,o.exists(r.layer)||(r.layer=e.options.layer.circle),a=o.copyAttributes(r,e.options,"circumcircle"),(n=l.createCircle(e,[s,i[0]],a)).elType="circumcircle",n.setParents(i),n.subs={center:s},n.inherits.push(n),h=0;h<3;h++)o.exists(i[h]._is_new)?(n.addChild(i[h]),delete i[h]._is_new):i[h].addChild(n)}catch(t){throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof i[0]+"', '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]")}return n},t.createIncircle=function(e,i,r){var s,n,a,h;if(!1===(i=o.providePoints(e,i,r,"point")))throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof i[0]+"', '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]");try{for(h=o.copyAttributes(r,e.options,"incircle","center"),(n=t.createIncenter(e,i,h)).dump=!1,o.exists(r.layer)||(r.layer=e.options.layer.circle),h=o.copyAttributes(r,e.options,"incircle"),(a=l.createCircle(e,[n,function(){var t=Math.sqrt((i[1].X()-i[2].X())*(i[1].X()-i[2].X())+(i[1].Y()-i[2].Y())*(i[1].Y()-i[2].Y())),e=Math.sqrt((i[0].X()-i[2].X())*(i[0].X()-i[2].X())+(i[0].Y()-i[2].Y())*(i[0].Y()-i[2].Y())),r=Math.sqrt((i[1].X()-i[0].X())*(i[1].X()-i[0].X())+(i[1].Y()-i[0].Y())*(i[1].Y()-i[0].Y())),s=(t+e+r)/2;return Math.sqrt((s-t)*(s-e)*(s-r)/s)}],h)).elType="incircle",a.setParents(i),s=0;s<3;s++)o.exists(i[s]._is_new)?(a.addChild(i[s]),delete i[s]._is_new):i[s].addChild(a);a.center=n,a.subs={center:a.center},a.inherits.push(n)}catch(t){throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof i[0]+"', '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point]")}return a},t.createReflection=function(t,e,i){var r,s,d,f,m,g,b,v,y="\nPossible parent types: [point|line|curve|polygon|circle|arc|sector, line]";for(g=0;g<e.length;++g)e[g]=t.select(e[g]);if(b=o.copyAttributes(i,t.options,"reflection"),o.isPoint(e[0]))s=o.providePoints(t,[e[0]],v)[0];else{if(e[0].elementClass!==n.OBJECT_CLASS_CURVE&&e[0].elementClass!==n.OBJECT_CLASS_LINE&&e[0].type!==n.OBJECT_TYPE_POLYGON&&e[0].elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create reflection element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);s=e[0]}if(e[1].elementClass!==n.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);if(r=e[1],m=c.createTransform(t,[r],{type:"reflect"}),o.isPoint(s))d=a.createPoint(t,[s,m],b);else if(s.elementClass===n.OBJECT_CLASS_CURVE)d=u.createCurve(t,[s,m],b);else if(s.elementClass===n.OBJECT_CLASS_LINE)d=h.createLine(t,[s,m],b);else if(s.type===n.OBJECT_TYPE_POLYGON)d=p.createPolygon(t,[s,m],b);else{if(s.elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);"euclidean"===b.type.toLowerCase()?(v=o.copyAttributes(i,t.options,"reflection","center"),(f=a.createPoint(t,[s.center,m],v)).prepareUpdate().update().updateVisibility(o.evaluate(f.visProp.visible)).updateRenderer(),d=l.createCircle(t,[f,function(){return s.Radius()}],b)):d=l.createCircle(t,[s,m],b)}return o.exists(s._is_new)&&(d.addChild(s),delete s._is_new),r.addChild(d),d.elType="reflection",d.addParents(r),d.prepareUpdate().update(),o.isPoint(d)&&(d.generatePolynomial=function(){var t=r.point1.symbolic.x,e=r.point1.symbolic.y,i=r.point2.symbolic.x,o=r.point2.symbolic.y,n=s.symbolic.x,a=s.symbolic.y,h=d.symbolic.x,l=d.symbolic.y;return[["((",l,")-(",a,"))*((",e,")-(",o,"))+((",t,")-(",i,"))*((",h,")-(",n,"))"].join(""),["((",h,")-(",t,"))^2+((",l,")-(",e,"))^2-((",n,")-(",t,"))^2-((",a,")-(",e,"))^2"].join("")]}),d},t.createMirrorElement=function(t,e,i){var r,s,d,f,m,g,b,v,y="\nPossible parent types: [point|line|curve|polygon|circle|arc|sector, point]";for(s=0;s<e.length;++s)e[s]=t.select(e[s]);if(b=o.copyAttributes(i,t.options,"mirrorelement"),o.isPoint(e[0]))r=o.providePoints(t,[e[0]],b)[0];else{if(e[0].elementClass!==n.OBJECT_CLASS_CURVE&&e[0].elementClass!==n.OBJECT_CLASS_LINE&&e[0].type!==n.OBJECT_TYPE_POLYGON&&e[0].elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);r=e[0]}if(!o.isPoint(e[1]))throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);if(v=o.copyAttributes(i,t.options,"mirrorelement","point"),d=o.providePoints(t,[e[1]],v)[0],g=c.createTransform(t,[Math.PI,d],{type:"rotate"}),o.isPoint(r))f=a.createPoint(t,[r,g],b);else if(r.elementClass===n.OBJECT_CLASS_CURVE)f=u.createCurve(t,[r,g],b);else if(r.elementClass===n.OBJECT_CLASS_LINE)f=h.createLine(t,[r,g],b);else if(r.type===n.OBJECT_TYPE_POLYGON)f=p.createPolygon(t,[r,g],b);else{if(r.elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof e[0]+"' and '"+typeof e[1]+"'."+y);"euclidean"===b.type.toLowerCase()?(v=o.copyAttributes(i,t.options,"mirrorelement","center"),(m=a.createPoint(t,[r.center,g],v)).prepareUpdate().update().updateVisibility(o.evaluate(m.visProp.visible)).updateRenderer(),f=l.createCircle(t,[m,function(){return r.Radius()}],b)):f=l.createCircle(t,[r,g],b)}return o.exists(r._is_new)&&(f.addChild(r),delete r._is_new),d.addChild(f),f.elType="mirrorelement",f.addParents(d),f.prepareUpdate().update(),f},t.createMirrorPoint=function(e,i,r){var s=t.createMirrorElement(e,i,r);return s.elType="mirrorpoint",s},t.createIntegral=function(e,i,a){var h,l,c,d,u,p,f,m,g,b,v,y,C,_,P=null;if(o.isArray(i[0])&&i[1].elementClass===n.OBJECT_CLASS_CURVE)h=i[0],l=i[1];else{if(!o.isArray(i[1])||i[0].elementClass!==n.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create integral with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [[number|function,number|function],curve]");h=i[1],l=i[0]}return(c=o.copyAttributes(a,e.options,"integral")).withLabel=!1,_=e.create("curve",[[0],[0]],c),d=h[0],u=h[1],o.isFunction(d)?(f=function(){return l.Y(p())},d=(p=d)()):(p=d,f=l.Y(d)),o.isFunction(u)?(g=function(){return l.Y(m())},u=(m=u)()):(m=u,g=l.Y(u)),c=o.copyAttributes(a,e.options,"integral","curveLeft"),b=e.create("glider",[p,f,l],c),o.isFunction(p)&&b.hideElement(),c=o.copyAttributes(a,e.options,"integral","baseLeft"),v=e.create("point",[function(){return"y"===o.evaluate(_.visProp.axis)?0:b.X()},function(){return"y"===o.evaluate(_.visProp.axis)?b.Y():0}],c),c=o.copyAttributes(a,e.options,"integral","curveRight"),y=e.create("glider",[m,g,l],c),o.isFunction(m)&&y.hideElement(),c=o.copyAttributes(a,e.options,"integral","baseRight"),C=e.create("point",[function(){return"y"===o.evaluate(_.visProp.axis)?0:y.X()},function(){return"y"===o.evaluate(_.visProp.axis)?y.Y():0}],c),!1!==(c=o.copyAttributes(a,e.options,"integral")).withlabel&&"y"!==c.axis&&(c=o.copyAttributes(a,e.options,"integral","label"),c=o.copyAttributes(c,e.options,"label"),(P=e.create("text",[function(){var t=new s(n.COORDS_BY_SCREEN,[o.evaluate(this.visProp.offset[0])+this.board.origin.scrCoords[1],0],this.board,!1),e=this.board.getBoundingBox(),i=.1*(e[2]-e[0]),r=y.X();return r<e[0]?r=e[0]+i:r>e[2]&&(r=e[2]-i),r+t.usrCoords[1]},function(){var t=new s(n.COORDS_BY_SCREEN,[0,o.evaluate(this.visProp.offset[1])+this.board.origin.scrCoords[2]],this.board,!1),e=this.board.getBoundingBox(),i=.1*(e[1]-e[3]),r=y.Y();return r>e[1]?r=e[1]-i:r<e[3]&&(r=e[3]+i),r+t.usrCoords[2]},function(){var t=r.NewtonCotes([v.X(),C.X()],l.Y);return"&int; = "+o.toFixed(t,4)}],c)).dump=!1,b.addChild(P),y.addChild(P)),b.dump=!1,v.dump=!1,y.dump=!1,C.dump=!1,_.elType="integral",_.setParents([l.id,h]),_.subs={curveLeft:b,baseLeft:v,curveRight:y,baseRight:C},_.inherits.push(b,v,y,C),c.withLabel&&(_.subs.label=P,_.inherits.push(P)),_.Value=function(){return r.I([v.X(),C.X()],l.Y)},_.updateDataArray=function(){var t,e,i,r,s,n,a,h,c;if("y"===o.evaluate(this.visProp.axis)){for(b.Y()<y.Y()?(n=b.X(),h=b.Y(),a=y.X(),c=y.Y()):(n=y.X(),h=y.Y(),a=b.X(),c=b.Y()),r=Math.min(n,a),s=Math.max(n,a),t=[0,n],e=[h,h],i=0;i<l.numberPoints;i++)h<=l.points[i].usrCoords[2]&&r<=l.points[i].usrCoords[1]&&l.points[i].usrCoords[2]<=c&&l.points[i].usrCoords[1]<=s&&(t.push(l.points[i].usrCoords[1]),e.push(l.points[i].usrCoords[2]));t.push(a),e.push(c),t.push(0),e.push(c),t.push(0),e.push(h)}else{for(v.X()<C.X()?(r=v.X(),s=C.X()):(r=C.X(),s=v.X()),t=[r,r],e=[0,l.Y(r)],i=0;i<l.numberPoints;i++)r<=l.points[i].usrCoords[1]&&l.points[i].usrCoords[1]<=s&&(t.push(l.points[i].usrCoords[1]),e.push(l.points[i].usrCoords[2]));t.push(s),e.push(l.Y(s)),t.push(s),e.push(0),t.push(r),e.push(0)}this.dataX=t,this.dataY=e},b.addChild(_),y.addChild(_),v.addChild(_),C.addChild(_),_.baseLeft=v,_.baseRight=C,_.curveLeft=b,_.curveRight=y,_.methodMap=t.deepCopy(_.methodMap,{curveLeft:"curveLeft",baseLeft:"baseLeft",curveRight:"curveRight",baseRight:"baseRight",Value:"Value"}),_.label=P,_},t.createGrid=function(t,e,i){var r,a;return a=o.copyAttributes(i,t.options,"grid"),(r=t.create("curve",[[null],[null]],a)).elType="grid",r.type=n.OBJECT_TYPE_GRID,r.updateDataArray=function(){var e,i,a,h,l,c=o.evaluate(this.visProp.gridx),d=o.evaluate(this.visProp.gridy);for(h=o.isArray(this.visProp.topleft)?new s(o.evaluate(this.visProp.tltype)||n.COORDS_BY_USER,this.visProp.topleft,t):new s(n.COORDS_BY_SCREEN,[0,0],t),l=o.isArray(this.visProp.bottomright)?new s(o.evaluate(this.visProp.brtype)||n.COORDS_BY_USER,this.visProp.bottomright,t):new s(n.COORDS_BY_SCREEN,[t.canvasWidth,t.canvasHeight],t),t.options.grid.hasGrid=!0,r.dataX=[],r.dataY=[],e=Math.floor(h.usrCoords[2]/d)*d,i=Math.ceil(l.usrCoords[2]/d)*d,h.usrCoords[2]<l.usrCoords[2]&&(e=Math.ceil(l.usrCoords[2]/d)*d,i=Math.floor(h.usrCoords[2]/d)*d),a=e;a>i-d;a-=d)r.dataX.push(h.usrCoords[1],l.usrCoords[1],NaN),r.dataY.push(a,a,NaN);for(e=Math.ceil(h.usrCoords[1]/c)*c,i=Math.floor(l.usrCoords[1]/c)*c,h.usrCoords[1]>l.usrCoords[1]&&(e=Math.floor(l.usrCoords[1]/c)*c,i=Math.ceil(h.usrCoords[1]/c)*c),a=e;a<i+c;a+=c)r.dataX.push(a,a,NaN),r.dataY.push(h.usrCoords[2],l.usrCoords[2],NaN)},r.hasPoint=function(){return!1},t.grids.push(r),r},t.createInequality=function(t,r,s){var a,h,l;if(l=o.copyAttributes(s,t.options,"inequality"),r[0].elementClass===n.OBJECT_CLASS_LINE)(h=t.create("curve",[[],[]],l)).hasPoint=function(){return!1},h.updateDataArray=function(){var s,o,a,h=t.getBoundingBox(),c=l.inverse?-1:1,d=1.5*Math.max(h[2]-h[0],h[1]-h[3]),u={coords:{usrCoords:[1,(h[0]+h[2])/2,l.inverse?h[1]:h[3]]}},p=r[0].stdform.slice(1),f=p;a=1.5*Math.max(i.perpendicular(r[0],u,t)[0].distance(n.COORDS_BY_USER,u.coords),d),a*=c,u={coords:{usrCoords:[1,(h[0]+h[2])/2,(h[1]+h[3])/2]}},s=[1,(u=Math.abs(e.innerProduct(u.coords.usrCoords,r[0].stdform,3))>=e.eps?i.perpendicular(r[0],u,t)[0].usrCoords:u.coords.usrCoords)[1]+p[1]*d,u[2]-p[0]*d],o=[1,u[1]-f[1]*d,u[2]+f[0]*d],this.dataX=[s[1],s[1]+p[0]*a,o[1]+f[0]*a,o[1],s[1]],this.dataY=[s[2],s[2]+p[1]*a,o[2]+f[1]*a,o[2],s[2]]};else if(r[0].elementClass===n.OBJECT_CLASS_CURVE&&"functiongraph"===r[0].visProp.curvetype)(h=t.create("curve",[[],[]],l)).updateDataArray=function(){var t,e,i,s,n,a,h,l,c,d=this.board.getBoundingBox(),u=[],p=r[0].minX(),f=r[0].maxX(),m=.3*(d[1]-d[3]);if(t=o.evaluate(this.visProp.inverse)?1:3,this.dataX=[],this.dataY=[],0!==(s=r[0].points.length))for(d[1]+=m,d[3]-=m,i=-1;i<s-1;){for(n=i+1,e=s;n<s;n++)if(r[0].points[n].isReal()){e=n;break}if(e>=s)break;for(n=e,i=s-1;n<s-1;n++)if(!r[0].points[n+1].isReal()){i=n;break}for(l=r[0].points[e].usrCoords[1],c=r[0].points[i].usrCoords[1],a=d[0]<p?p:d[0],h=d[2]>f?f:d[2],a=0===e?a:Math.max(a,l),h=i===s-1?h:Math.min(h,c),h=i===s-1?f:c,(u=[]).push([1,a=0===e?p:l,d[t]]),u.push([1,a,r[0].points[e].usrCoords[2]]),n=e;n<=i;n++)u.push(r[0].points[n].usrCoords);for(u.push([1,h,r[0].points[i].usrCoords[2]]),u.push([1,h,d[t]]),u.push(u[0]),n=0;n<u.length;n++)this.dataX.push(u[n][1]),this.dataY.push(u[n][2]);i<s-1&&(this.dataX.push(NaN),this.dataY.push(NaN))}},h.hasPoint=function(){return!1};else if(a=o.createFunction(r[0]),!o.exists(a))throw new Error("JSXGraph: Can't create area with the given parents.\nPossible parent types: [line], [function]");return h.addParents(r[0]),h},t.registerElement("arrowparallel",t.createArrowParallel),t.registerElement("bisector",t.createBisector),t.registerElement("bisectorlines",t.createAngularBisectorsOfTwoLines),t.registerElement("msector",t.createMsector),t.registerElement("circumcircle",t.createCircumcircle),t.registerElement("circumcirclemidpoint",t.createCircumcenter),t.registerElement("circumcenter",t.createCircumcenter),t.registerElement("incenter",t.createIncenter),t.registerElement("incircle",t.createIncircle),t.registerElement("integral",t.createIntegral),t.registerElement("midpoint",t.createMidpoint),t.registerElement("mirrorelement",t.createMirrorElement),t.registerElement("mirrorpoint",t.createMirrorPoint),t.registerElement("normal",t.createNormal),t.registerElement("orthogonalprojection",t.createOrthogonalProjection),t.registerElement("parallel",t.createParallel),t.registerElement("parallelpoint",t.createParallelPoint),t.registerElement("perpendicular",t.createPerpendicular),t.registerElement("perpendicularpoint",t.createPerpendicularPoint),t.registerElement("perpendicularsegment",t.createPerpendicularSegment),t.registerElement("reflection",t.createReflection),t.registerElement("grid",t.createGrid),t.registerElement("inequality",t.createInequality),{createArrowParallel:t.createArrowParallel,createBisector:t.createBisector,createAngularBisectorOfTwoLines:t.createAngularBisectorsOfTwoLines,createCircumcircle:t.createCircumcircle,createCircumcenter:t.createCircumcenter,createIncenter:t.createIncenter,createIncircle:t.createIncircle,createIntegral:t.createIntegral,createMidpoint:t.createMidpoint,createMirrorElement:t.createMirrorElement,createMirrorPoint:t.createMirrorPoint,createNormal:t.createNormal,createOrthogonalProjection:t.createOrthogonalProjection,createParallel:t.createParallel,createParallelPoint:t.createParallelPoint,createPerpendicular:t.createPerpendicular,createPerpendicularPoint:t.createPerpendicularPoint,createPerpendicularSegmen:t.createPerpendicularSegment,createReflection:t.createReflection,createGrid:t.createGrid,createInequality:t.createInequality}})),define("element/locus",["jxg","math/symbolic","utils/type"],(function(t,e,i){"use strict";return t.createLocus=function(t,r,s){var o,n;if(!i.isArray(r)||1!==r.length||!i.isPoint(r[0]))throw new Error("JSXGraph: Can't create locus with parent of type other than point.\nPossible parent types: [point]");return n=r[0],(o=t.create("curve",[[null],[null]],s)).dontCallServer=!1,o.elType="locus",o.setParents([n.id]),o.updateDataArray=function(){var i,r,s;o.board.mode>0||(i=e.generatePolynomials(t,n,!0).join("|"))!==o.spe&&(o.spe=i,(r=function(t,e,i,r){var s;o.dataX=t,o.dataY=e,o.eq=i,o.ctime=r,o.generatePolynomial=(s=i,function(t){var e,i="("+t.symbolic.x+")",r="("+t.symbolic.y+")",o=[];for(e=0;e<s.length;e++)o[e]=s[e].replace(/\*\*/g,"^").replace(/x/g,i).replace(/y/g,r);return o})})((s=e.geometricLocusByGroebnerBase(t,n,r)).datax,s.datay,s.polynomial,s.exectime))},o},t.registerElement("locus",t.createLocus),{createLocus:t.createLocus}})),define("base/image",["jxg","base/constants","base/coords","base/element","math/math","utils/type","base/coordselement"],(function(t,e,i,r,s,o,n){"use strict";return t.Image=function(i,r,s,n,a){this.constructor(i,s,e.OBJECT_TYPE_IMAGE,e.OBJECT_CLASS_OTHER),this.element=this.board.select(s.anchor),this.coordsConstructor(r),this.W=o.createFunction(a[0],this.board,""),this.H=o.createFunction(a[1],this.board,""),this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*i.unitX),Math.abs(this.usrSize[1]*i.unitY)],this.url=n,this.elType="image",this.span=[this.coords.usrCoords.slice(0),[this.coords.usrCoords[0],this.W(),0],[this.coords.usrCoords[0],0,this.H()]],this.id=this.board.setId(this,"Im"),this.board.renderer.drawImage(this),this.board.finalizeAdding(this),this.methodMap=t.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})},t.Image.prototype=new r,o.copyPrototypeMethods(t.Image,n,"coordsConstructor"),t.extend(t.Image.prototype,{hasPoint:function(t,r){var n,a,h,l,c,d,u,p,f,m=this.transformations.length;return o.isObject(o.evaluate(this.visProp.precision))?(l=this.board._inputDevice,c=o.evaluate(this.visProp.precision[l])):c=this.board.options.precision.hasPoint,0===m?(n=t-this.coords.scrCoords[1],a=this.coords.scrCoords[2]-r,n>=-(h=c)&&n-this.size[0]<=h&&a>=-h&&a-this.size[1]<=h):(u=[(d=(d=new i(e.COORDS_BY_SCREEN,[t,r],this.board)).usrCoords)[0]-this.span[0][0],d[1]-this.span[0][1],d[2]-this.span[0][2]],0<=(p=(f=s.innerProduct)(u,this.span[1]))&&p<=f(this.span[1],this.span[1])&&0<=(p=f(u,this.span[2]))&&p<=f(this.span[2],this.span[2]))},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateSize(),this.updateSpan(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateImage")},updateSize:function(){return this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)],this},updateSpan:function(){var t,e,i=this.transformations.length,r=[];if(0===i)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(r[0]=[this.Z(),this.X(),this.Y()],r[1]=[this.Z(),this.X()+this.W(),this.Y()],r[2]=[this.Z(),this.X(),this.Y()+this.H()],t=0;t<i;t++)for(e=0;e<3;e++)r[e]=s.matVecMult(this.transformations[t].matrix,r[e]);for(e=0;e<3;e++)r[e][1]/=r[e][0],r[e][2]/=r[e][0],r[e][0]/=r[e][0];for(e=1;e<3;e++)r[e][0]-=r[0][0],r[e][1]-=r[0][1],r[e][2]-=r[0][2];this.span=r}return this},addTransform:function(t){var e;if(o.isArray(t))for(e=0;e<t.length;e++)this.transformations.push(t[e]);else this.transformations.push(t);return this},getParents:function(){var t=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return 0!==this.parents.length&&(t=this.parents),t},setSize:function(t,e){return this.W=o.createFunction(t,this.board,""),this.H=o.createFunction(e,this.board,""),this},W:function(){},H:function(){}}),t.createImage=function(e,i,r){var s,a,h=i[0],l=i[1],c=i[2];if(s=o.copyAttributes(r,e.options,"image"),!(a=n.create(t.Image,e,l,s,h,c)))throw new Error("JSXGraph: Can't create image with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==s.rotate&&a.addRotation(s.rotate),a},t.registerElement("image",t.createImage),{Image:t.Image,createImage:t.createImage}})),define("element/slider",["jxg","math/math","base/constants","base/coords","utils/type","base/point"],(function(t,e,i,r,s,o){"use strict";return t.createSlider=function(t,n,a){var h,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T;return x=(T=s.copyAttributes(a,t.options,"slider")).withticks,E=T.withlabel,S=T.snapwidth,T=s.copyAttributes(a,t.options,"slider","point1"),f=t.create("point",n[0],T),T=s.copyAttributes(a,t.options,"slider","point2"),m=t.create("point",n[1],T),T=s.copyAttributes(a,t.options,"slider","baseline"),(g=t.create("segment",[f,m],T)).updateStdform(),h=f.coords.usrCoords.slice(1),l=m.coords.usrCoords.slice(1),c=n[2][0],d=n[2][1],u=n[2][2],p=u-c,w=-1===(O=s.evaluate(S))?d:Math.round(d/O)*O,v=h[0]+(l[0]-h[0])*(w-c)/(u-c),y=h[1]+(l[1]-h[1])*(w-c)/(u-c),(T=s.copyAttributes(a,t.options,"slider")).withLabel=!1,(C=t.create("glider",[v,y,g],T)).setAttribute({snapwidth:S}),T=s.copyAttributes(a,t.options,"slider","highline"),_=t.create("segment",[f,C],T),C.Value=function(){var t=this._smax-this._smin,e=s.evaluate(this.visProp.snapwidth);return-1===e?this.position*t+this._smin:Math.round((this.position*t+this._smin)/e)*e},C.methodMap=s.deepCopy(C.methodMap,{Value:"Value",setValue:"setValue",smax:"_smax",smin:"_smin",setMax:"setMax",setMin:"setMin"}),C._smax=u,C._smin=c,C.setMax=function(t){return this._smax=t,this},C.setValue=function(t){var i=this._smax-this._smin;return Math.abs(i)>e.eps?this.position=(t-this._smin)/i:this.position=0,this.position=Math.max(0,Math.min(1,this.position)),this},C.setMin=function(t){return this._smin=t,this},E&&(T=s.copyAttributes(a,t.options,"slider","label"),P=t.create("text",[function(){return.05*(m.X()-f.X())+m.X()},function(){return.05*(m.Y()-f.Y())+m.Y()},function(){var t,e=s.evaluate(C.visProp.digits),i=s.evaluate(C.visProp.suffixlabel),r=s.evaluate(C.visProp.unitlabel),o=s.evaluate(C.visProp.postlabel);return 2===e&&2!==s.evaluate(C.visProp.precision)&&(e=s.evaluate(C.visProp.precision)),t=null!==i?i:C.name&&""!==C.name?C.name+" = ":"",t+=s.toFixed(C.Value(),e),null!==r&&(t+=r),null!==o&&(t+=o),t}],T),C.label=P,C.visProp.withlabel=!0,C.hasLabel=!0),C.point1=f,C.point2=m,C.baseline=g,C.highline=_,x&&(T=s.copyAttributes(a,t.options,"slider","ticks"),s.exists(T.generatelabeltext)||(T.generateLabelText=function(t,i,r){var s=C.point1.Dist(C.point2),o=C._smin,n=C._smax,a=this.getDistanceFromZero(i,t)*(n-o)/s+o;return s<e.eps||Math.abs(a)<e.eps?"0":this.formatLabelText(a)}),2,b=t.create("ticks",[C.baseline,C.point1.Dist(f)/2,function(t){var r=C.point1.Dist(C.point2),s=C.point1.coords.distance(i.COORDS_BY_USER,t);return r<e.eps?0:s/r*p+c}],T),C.ticks=b),C.remove=function(){E&&t.removeObject(P),t.removeObject(_),t.removeObject(g),t.removeObject(m),t.removeObject(f),o.Point.prototype.remove.call(C)},f.dump=!1,m.dump=!1,g.dump=!1,_.dump=!1,E&&(P.dump=!1),C.elType="slider",C.parents=n,C.subs={point1:f,point2:m,baseLine:g,highLine:_},C.inherits.push(f,m,g,_),x&&(b.dump=!1,C.subs.ticks=b,C.inherits.push(b)),C.getParents=function(){return[this.point1.coords.usrCoords.slice(1),this.point2.coords.usrCoords.slice(1),[this._smin,this.position*(this._smax-this._smin)+this._smin,this._smax]]},C.baseline.on("up",(function(t){var e,o;s.evaluate(C.visProp.moveonup)&&!s.evaluate(C.visProp.fixed)&&(e=g.board.getMousePosition(t,0),o=new r(i.COORDS_BY_SCREEN,e,this.board),C.moveTo([o.usrCoords[1],o.usrCoords[2]]))})),C.prepareUpdate().update(),t.isSuspendedUpdate||(C.updateVisibility().updateRenderer(),C.baseline.updateVisibility().updateRenderer(),C.highline.updateVisibility().updateRenderer(),x&&C.ticks.updateVisibility().updateRenderer()),C},t.registerElement("slider",t.createSlider),{createSlider:t.createSlider}})),define("element/measure",["jxg","utils/type","base/element"],(function(t,e,i){"use strict";return t.createTapemeasure=function(r,s,o){var n,a,h,l,c,d,u,p,f,m,g;return n=s[0],a=s[1],h=e.copyAttributes(o,r.options,"tapemeasure","point1"),p=r.create("point",n,h),h=e.copyAttributes(o,r.options,"tapemeasure","point2"),f=r.create("point",a,h),p.setAttribute({ignoredSnapToPoints:[f]}),f.setAttribute({ignoredSnapToPoints:[p]}),h=e.copyAttributes(o,r.options,"tapemeasure"),l=h.withticks,c=h.withlabel,2===(d=h.digits)&&2!==h.precision&&(d=h.precision),c&&(h.withlabel=!0),u=r.create("segment",[p,f],h),c&&(m=o.name&&""!==o.name?o.name+" = ":"",u.label.setText((function(){return m+e.toFixed(p.Dist(f),d)}))),l&&(h=e.copyAttributes(o,r.options,"tapemeasure","ticks"),g=r.create("ticks",[u,.1],h),u.inherits.push(g)),u.remove=function(){l&&u.removeTicks(g),r.removeObject(f),r.removeObject(p),i.prototype.remove.call(this)},u.Value=function(){return p.Dist(f)},p.dump=!1,f.dump=!1,u.elType="tapemeasure",u.getParents=function(){return[[p.X(),p.Y()],[f.X(),f.Y()]]},u.subs={point1:p,point2:f},l&&(g.dump=!1),u.methodMap=t.deepCopy(u.methodMap,{Value:"Value"}),u.prepareUpdate().update(),r.isSuspendedUpdate||(u.updateVisibility().updateRenderer(),u.point1.updateVisibility().updateRenderer(),u.point2.updateVisibility().updateRenderer()),u},t.registerElement("tapemeasure",t.createTapemeasure),{createTapemeasure:t.createTapemeasure}})),define("parser/datasource",["jxg","utils/type"],(function(t,e){"use strict";return t.DataSource=function(){return this.data=[],this.columnHeaders=[],this.rowHeaders=[],this},t.extend(t.DataSource.prototype,{loadFromArray:function(t,i,r){var s,o,n;if(e.isArray(i)&&(this.columnHeaders=i,i=!1),e.isArray(r)&&(this.rowHeaders=r,r=!1),this.data=[],i&&(this.columnHeaders=[]),r&&(this.rowHeaders=[]),e.exists(t)){for(this.data=[],s=0;s<t.length;s++)for(this.data[s]=[],o=0;o<t[s].length;o++)n=t[s][o],parseFloat(n).toString()===n?this.data[s][o]=parseFloat(n):this.data[s][o]="-"!==n?n:NaN;if(i&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),r)for(this.rowHeaders=[],s=0;s<this.data.length;s++)this.rowHeaders.push(this.data[s][0]),this.data[s]=this.data[s].slice(1)}return this},loadFromTable:function(t,i,r){var s,o,n,a,h;if(e.isArray(i)&&(this.columnHeaders=i,i=!1),e.isArray(r)&&(this.rowHeaders=r,r=!1),this.data=[],i&&(this.columnHeaders=[]),r&&(this.rowHeaders=[]),t=document.getElementById(t),e.exists(t)){for(s=t.getElementsByTagName("tr"),this.data=[],o=0;o<s.length;o++)for(a=s[o].getElementsByTagName("td"),this.data[o]=[],n=0;n<a.length;n++)h=a[n].innerHTML,parseFloat(h).toString()===h?this.data[o][n]=parseFloat(h):this.data[o][n]="-"!==h?h:NaN;if(i&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),r)for(this.rowHeaders=[],o=0;o<this.data.length;o++)this.rowHeaders.push(this.data[o][0]),this.data[o]=this.data[o].slice(1)}return this},addColumn:function(t,e,i){throw new Error("not implemented")},addRow:function(t,e,i){throw new Error("not implemented")},getColumn:function(t){var i,r=[];if(e.isString(t))for(i=0;i<this.columnHeaders.length;i++)if(t===this.columnHeaders[i]){t=i;break}for(i=0;i<this.data.length;i++)this.data[i].length>t&&(r[i]=parseFloat(this.data[i][t]));return r},getRow:function(t){var i,r;if(e.isString(t))for(r=0;r<this.rowHeaders.length;r++)if(t===this.rowHeaders[r]){t=r;break}for(i=[],r=0;r<this.data[t].length;r++)i[r]=this.data[t][r];return i}}),t.DataSource})),define("base/chart",["jxg","math/numerics","math/statistics","base/constants","base/coords","base/element","parser/datasource","utils/color","utils/type","utils/env","base/curve","base/point","base/text","base/polygon","element/sector","base/transformation","base/line","base/circle"],(function(t,e,i,r,s,o,n,a,h,l,c,d,u,p,f,m,g,b){"use strict";return t.Chart=function(t,e,i){var r,s,o,n,a,l;if(this.constructor(t,i),!h.isArray(e)||0===e.length)throw new Error("JSXGraph: Can't create a chart without data");if(this.elements=[],h.isNumber(e[0]))for(s=e,r=[],o=0;o<s.length;o++)r[o]=o+1;else if(1===e.length&&h.isArray(e[0]))for(s=e[0],r=[],l=h.evaluate(s).length,o=0;o<l;o++)r[o]=o+1;else 2===e.length&&(l=Math.min(e[0].length,e[1].length),r=e[0].slice(0,l),s=e[1].slice(0,l));if(h.isArray(s)&&0===s.length)throw new Error("JSXGraph: Can't create charts without data.");for(a=i.chartstyle.replace(/ /g,"").split(","),o=0;o<a.length;o++){switch(a[o]){case"bar":n=this.drawBar(t,r,s,i);break;case"line":n=this.drawLine(t,r,s,i);break;case"fit":n=this.drawFit(t,r,s,i);break;case"spline":n=this.drawSpline(t,r,s,i);break;case"pie":n=this.drawPie(t,s,i);break;case"point":n=this.drawPoints(t,r,s,i);break;case"radar":n=this.drawRadar(t,e,i)}this.elements.push(n)}return this.id=this.board.setId(this,"Chart"),this.elements},t.Chart.prototype=new o,t.extend(t.Chart.prototype,{drawLine:function(t,e,i,r){return r.fillcolor="none",r.highlightfillcolor="none",t.create("curve",[e,i],r)},drawSpline:function(t,e,i,r){return r.fillColor="none",r.highlightfillcolor="none",t.create("spline",[e,i],r)},drawFit:function(t,i,r,s){var o=s.degree;return o=Math.max(parseInt(o,10),1)||1,s.fillcolor="none",s.highlightfillcolor="none",t.create("functiongraph",[e.regressionPolynomial(o,i,r)],s)},drawBar:function(t,e,i,r){var s,o,n,a,l,c,d,u,p,f,m=[],g=[],b=function(t,i){return function(){return e[t]()-i*n}},v={fixed:!0,withLabel:!1,visible:!1,name:""};if((p=h.copyAttributes(r,t.options,"chart"))&&p.width)n=p.width;else{if(e.length<=1)n=1;else for(n=e[1]-e[0],s=1;s<e.length-1;s++)n=e[s+1]-e[s]<n?e[s+1]-e[s]:n;n*=.8}for(f=h.copyAttributes(r,t.options,"chart","label"),s=0;s<e.length;s++)h.isFunction(e[s])?(a=b(s,-.5),l=b(s,0),c=b(s,.5)):(a=e[s]-.5*n,l=e[s],c=e[s]+.5*n),d=h.isFunction(i[s])?i[s]():i[s],d=i[s],"horizontal"===p.dir?(g[0]=t.create("point",[0,a],v),g[1]=t.create("point",[d,a],v),g[2]=t.create("point",[d,c],v),g[3]=t.create("point",[0,c],v),h.exists(p.labels)&&h.exists(p.labels[s])&&(f.anchorY="middle",(o=t.create("text",[d,l,p.labels[s]],f)).visProp.anchorx=function(t){return function(){return t.X()>=0?"left":"right"}}(o))):(g[0]=t.create("point",[a,0],v),g[1]=t.create("point",[a,d],v),g[2]=t.create("point",[c,d],v),g[3]=t.create("point",[c,0],v),h.exists(p.labels)&&h.exists(p.labels[s])&&(f.anchorX="middle",(o=t.create("text",[l,d,p.labels[s]],f)).visProp.anchory=function(t){return function(){return t.Y()>=0?"bottom":"top"}}(o))),h.isArray(p.colors)&&(u=p.colors,p.fillcolor=u[s%u.length]),m[s]=t.create("polygon",g,p),h.exists(p.labels)&&h.exists(p.labels[s])&&(m[s].text=o);return m},drawPoints:function(t,e,i,r){var s,o=[],n=r.infoboxarray;for(r.fixed=!0,r.name="",s=0;s<e.length;s++)r.infoboxtext=!!n&&n[s%n.length],o[s]=t.create("point",[e[s],i[s]],r);return o},drawPie:function(t,e,o){var n,a,l=[],c=[],d=(i.sum(e),o.colors),u=o.highlightcolors,p=o.labels,f=o.radius||4,m=f,g=o.center||[0,0],b=g[0],v=g[1],y=function(t,i,r){return function(){var s,o,n,a=0;for(o=0;o<=t;o++)a+=parseFloat(h.evaluate(e[o]));for(s=a,o=t+1;o<e.length;o++)s+=parseFloat(h.evaluate(e[o]));return n=0!==s?2*Math.PI*a/s:0,m()*Math[i](n)+r}},C=function(t,e){var i=-this.point1.coords.usrCoords[1]+this.point2.coords.usrCoords[1],o=-this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[2];h.exists(this.label)&&(this.label.rendNode.style.fontSize=e*h.evaluate(this.label.visProp.fontsize)+"px",this.label.fullUpdate()),this.point2.coords=new s(r.COORDS_BY_USER,[this.point1.coords.usrCoords[1]+i*t,this.point1.coords.usrCoords[2]+o*t],this.board),this.fullUpdate()},_=function(){this.highlighted||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this),C.call(this,1.1,2))},P=function(){this.highlighted&&(this.highlighted=!1,this.board.renderer.noHighlight(this),C.call(this,.9090909,1))},E={fixed:!0,withLabel:!1,visible:!1,name:""};if(!h.isArray(p))for(p=[],n=0;n<e.length;n++)p[n]="";for(h.isFunction(f)||(m=function(){return f}),o.highlightonsector=o.highlightonsector||!1,o.straightfirst=!1,o.straightlast=!1,a=t.create("point",[b,v],E),l[0]=t.create("point",[function(){return m()+b},function(){return v}],E),n=0;n<e.length;n++)l[n+1]=t.create("point",[y(n,"cos",b),y(n,"sin",v)],E),o.name=p[n],o.withlabel=""!==o.name,o.fillcolor=d&&d[n%d.length],o.labelcolor=d&&d[n%d.length],o.highlightfillcolor=u&&u[n%u.length],c[n]=t.create("sector",[a,l[n],l[n+1]],o),o.highlightonsector&&(c[n].hasPoint=c[n].hasPointSector),o.highlightbysize&&(c[n].highlight=_,c[n].noHighlight=P);return{sectors:c,points:l,midpoint:a}},drawRadar:function(e,i,o){var n,a,l,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x,S,O,w,T,N,M,A,R,L,k,D,B,I,Y,j,X,F,U,J,G,z,H,V,$,q=i.length,W=function(){var t,e,i,o,n=h.evaluate(this.visProp.label.offset).slice(0);return t=this.point1.X(),e=this.point2.X(),i=this.point1.Y(),o=this.point2.Y(),e<t&&(n[0]=-n[0]),o<i&&(n[1]=-n[1]),this.setLabelRelativeCoords(n),new s(r.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)},Z=function(t,i){var r,s,o;return r=e.create("transform",[-(_[i]-y[i]),0],{type:"translate"}),s=e.create("transform",[S/(P[i]+C[i]-(_[i]-y[i])),1],{type:"scale"}),r.melt(s),o=e.create("transform",[t],{type:"rotate"}),r.melt(o),r};if(q<=0)throw new Error("JSXGraph radar chart: no data");if(l=o.paramarray,!h.exists(l))throw new Error("JSXGraph radar chart: need paramArray attribute");if((c=l.length)<=1)throw new Error("JSXGraph radar chart: need more than one param in paramArray");for(n=0;n<q;n++)if(c!==i[n].length)throw new Error("JSXGraph radar chart: use data length equal to number of params ("+i[n].length+" != "+c+")");for(d=[],u=[],a=0;a<c;a++)d[a]=i[0][a],u[a]=d[a];for(n=1;n<q;n++)for(a=0;a<c;a++)i[n][a]>d[a]&&(d[a]=i[n][a]),i[n][a]<u[a]&&(u[a]=i[n][a]);for(p=[],f=[],n=0;n<q;n++)p[n]="",f[n]=[];for(m=[],g=[],b=o.startshiftratio||0,v=o.endshiftratio||0,n=0;n<c;n++)m[n]=(d[n]-u[n])*b,g[n]=(d[n]-u[n])*v;if(y=o.startshiftarray||m,C=o.endshiftarray||g,_=o.startarray||u,h.exists(o.start))for(n=0;n<c;n++)_[n]=o.start;if(P=o.endarray||d,h.exists(o.end))for(n=0;n<c;n++)P[n]=o.end;if(y.length!==c)throw new Error("JSXGraph radar chart: start shifts length is not equal to number of parameters");if(C.length!==c)throw new Error("JSXGraph radar chart: end shifts length is not equal to number of parameters");if(_.length!==c)throw new Error("JSXGraph radar chart: starts length is not equal to number of parameters");if(P.length!==c)throw new Error("JSXGraph radar chart: snds length is not equal to number of parameters");for(E=o.labelarray||p,x=o.colors,o.highlightcolors,S=o.radius||10,V=o.strokewidth||1,h.exists(o.highlightonsector)||(o.highlightonsector=!1),O={name:o.name,id:o.id,strokewidth:V,polystrokewidth:o.polystrokewidth||V,strokecolor:o.strokecolor||"black",straightfirst:!1,straightlast:!1,fillcolor:o.fillColor||"#FFFF88",fillopacity:o.fillOpacity||.4,highlightfillcolor:o.highlightFillColor||"#FF7400",highlightstrokecolor:o.highlightStrokeColor||"black",gradient:o.gradient||"none"},T=(w=o.center||[0,0])[0],N=w[1],M=e.create("point",[T,N],{name:"",fixed:!0,withlabel:!1,visible:!1}),Math.PI/2-Math.PI/c,R=A=o.startangle||0,L=[],k=[],n=0;n<c;n++)for(R+=2*Math.PI/c,B=S*Math.cos(R)+T,I=S*Math.sin(R)+N,L[n]=e.create("point",[B,I],{name:"",fixed:!0,withlabel:!1,visible:!1}),k[n]=e.create("line",[M,L[n]],{name:l[n],strokeColor:O.strokecolor,strokeWidth:O.strokewidth,strokeOpacity:1,straightFirst:!1,straightLast:!1,withLabel:!0,highlightStrokeColor:O.highlightstrokecolor}),k[n].getLabelAnchor=W,D=Z(R,n),a=0;a<i.length;a++)$=i[a][n],f[a][n]=e.create("point",[$,0],{name:"",fixed:!0,withlabel:!1,visible:!1}),f[a][n].addTransform(f[a][n],D);for(Y=[],n=0;n<q;n++)for(O.labelcolor=x&&x[n%x.length],O.strokecolor=x&&x[n%x.length],O.fillcolor=x&&x[n%x.length],Y[n]=e.create("polygon",f[n],{withLines:!0,withLabel:!1,fillColor:O.fillcolor,fillOpacity:O.fillopacity,highlightFillColor:O.highlightfillcolor}),a=0;a<c;a++)Y[n].borders[a].setAttribute("strokecolor:"+x[n%x.length]),Y[n].borders[a].setAttribute("strokewidth:"+O.polystrokewidth);switch(o.legendposition||"none"){case"right":X=o.legendleftoffset||2,F=o.legendtopoffset||1,this.legend=e.create("legend",[T+S+X,N+S-F],{labels:E,colors:x});break;case"none":break;default:t.debug("Unknown legend position")}if(j=[],o.showcircles){for(U=[],n=0;n<6;n++)U[n]=20*n;if(U[0]="0",(G=(J=o.circlelabelarray||U).length)<2)throw new Error("JSXGraph radar chart: too less circles in circleLabelArray");for(z=[],D=Z(A+Math.PI/c,0),O.fillcolor="none",O.highlightfillcolor="none",O.strokecolor=o.strokecolor||"black",O.strokewidth=o.circlestrokewidth||.5,O.layer=0,H=(P[0]-_[0])/(G-1),n=0;n<G;n++)z[n]=e.create("point",[_[0]+n*H,0],{name:J[n],size:0,fixed:!0,withLabel:!0,visible:!0}),z[n].addTransform(z[n],D),j[n]=e.create("circle",[M,z[n]],O)}return this.rendNode=Y[0].rendNode,{circles:j,lines:k,points:f,midpoint:M,polygons:Y}},updateRenderer:function(){return this},update:function(){return this.needsUpdate&&this.updateDataArray(),this},updateDataArray:function(){return this}}),t.createChart=function(e,i,r){var s,o,c,d,u,p,f,m,g,b,v,y,C,_,P,E,x=[],S=l.isBrowser?e.document.getElementById(i[0]):null;if(1===i.length&&h.isString(i[0])){if(h.exists(S)){if(g=h.copyAttributes(r,e.options,"chart"),s=(S=(new n).loadFromTable(i[0],g.withheaders,g.withheaders)).data,u=S.columnHeaders,o=S.rowHeaders,b=g.width,v=g.name,y=g.strokecolor,C=g.fillcolor,_=g.highlightstrokecolor,P=g.highlightfillcolor,e.suspendUpdate(),E=s.length,m=[],g.rows&&h.isArray(g.rows)){for(c=0;c<E;c++)for(d=0;d<g.rows.length;d++)if(g.rows[d]===c||g.withheaders&&g.rows[d]===o[c]){m.push(s[c]);break}}else m=s;for(E=m.length,c=0;c<E;c++){if(f=[],g.chartstyle&&-1!==g.chartstyle.indexOf("bar")){for(p=b||.8,f.push(1-p/2+(c+.5)*p/E),d=1;d<m[c].length;d++)f.push(f[d-1]+1);g.width=p/E}v&&v.length===E?g.name=v[c]:g.withheaders&&(g.name=u[c]),y&&y.length===E?g.strokecolor=y[c]:g.strokecolor=a.hsv2rgb((c+1)/E*360,.9,.6),C&&C.length===E?g.fillcolor=C[c]:g.fillcolor=a.hsv2rgb((c+1)/E*360,.9,1),_&&_.length===E?g.highlightstrokecolor=_[c]:g.highlightstrokecolor=a.hsv2rgb((c+1)/E*360,.9,1),P&&P.length===E?g.highlightfillcolor=P[c]:g.highlightfillcolor=a.hsv2rgb((c+1)/E*360,.9,.6),g.chartstyle&&-1!==g.chartstyle.indexOf("bar")?x.push(new t.Chart(e,[f,m[c]],g)):x.push(new t.Chart(e,[m[c]],g))}e.unsuspendUpdate()}return x}return g=h.copyAttributes(r,e.options,"chart"),new t.Chart(e,i,g)},t.registerElement("chart",t.createChart),t.Legend=function(t,e,i){var o;if(this.constructor(),o=h.copyAttributes(i,t.options,"legend"),this.board=t,this.coords=new s(r.COORDS_BY_USER,e,this.board),this.myAtts={},this.label_array=o.labelarray||o.labels,this.color_array=o.colorarray||o.colors,this.lines=[],this.myAtts.strokewidth=o.strokewidth||5,this.myAtts.straightfirst=!1,this.myAtts.straightlast=!1,this.myAtts.withlabel=!0,this.myAtts.fixed=!0,this.style=o.legendstyle||o.style,"vertical"!==this.style)throw new Error("JSXGraph: Unknown legend style: "+this.style);this.drawVerticalLegend(t,o)},t.Legend.prototype=new o,t.Legend.prototype.drawVerticalLegend=function(t,e){var i,o=e.linelength||1,n=(e.rowheight||20)/this.board.unitY,a=function(){return this.setLabelRelativeCoords(this.visProp.label.offset),new s(r.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)};for(i=0;i<this.label_array.length;i++)this.myAtts.name=this.label_array[i],this.myAtts.strokecolor=this.color_array[i%this.color_array.length],this.myAtts.highlightstrokecolor=this.color_array[i%this.color_array.length],this.myAtts.label={offset:[10,0],strokeColor:this.color_array[i%this.color_array.length],strokeWidth:this.myAtts.strokewidth},this.lines[i]=t.create("line",[[this.coords.usrCoords[1],this.coords.usrCoords[2]-i*n],[this.coords.usrCoords[1]+o,this.coords.usrCoords[2]-i*n]],this.myAtts),this.lines[i].getLabelAnchor=a,this.lines[i].prepareUpdate().update().updateVisibility(h.evaluate(this.lines[i].visProp.visible)).updateRenderer()},t.createLegend=function(e,i,r){var s=[0,0];if(!h.exists(i)||2!==i.length)throw new Error("JSXGraph: Legend element needs two numbers as parameters");return s=i,new t.Legend(e,s,r)},t.registerElement("legend",t.createLegend),{Chart:t.Chart,Legend:t.Legend,createChart:t.createChart,createLegend:t.createLegend}})),define("base/turtle",["jxg","base/constants","base/element","utils/type"],(function(t,e,i,r){"use strict";return t.Turtle=function(t,i,s){var o,n,a;return this.constructor(t,s,e.OBJECT_TYPE_TURTLE,e.OBJECT_CLASS_OTHER),this.turtleIsHidden=!1,this.board=t,this.visProp.curveType="plot",this._attributes=r.copyAttributes(this.visProp,t.options,"turtle"),delete this._attributes.id,o=0,n=0,a=90,0!==i.length&&(3===i.length?(o=i[0],n=i[1],a=i[2]):2===i.length?r.isArray(i[0])?(o=i[0][0],n=i[0][1],a=i[1]):(o=i[0],n=i[1]):(o=i[0][0],n=i[0][1])),this.init(o,n,a),this.methodMap=r.deepCopy(this.methodMap,{forward:"forward",fd:"forward",back:"back",bk:"back",right:"right",rt:"right",left:"left",lt:"left",penUp:"penUp",pu:"penUp",penDown:"penDown",pd:"penDown",clearScreen:"clearScreen",cs:"clearScreen",clean:"clean",setPos:"setPos",home:"home",hideTurtle:"hideTurtle",ht:"hideTurtle",showTurtle:"showTurtle",st:"showTurtle",penSize:"setPenSize",penColor:"setPenColor",pushTurtle:"pushTurtle",push:"pushTurtle",popTurtle:"popTurtle",pop:"popTurtle",lookTo:"lookTo",pos:"pos",moveTo:"moveTo",X:"X",Y:"Y"}),this},t.Turtle.prototype=new i,t.extend(t.Turtle.prototype,{init:function(t,e,i){var r={fixed:!0,name:"",visible:!1,withLabel:!1};this.arrowLen=20/Math.sqrt(this.board.unitX*this.board.unitX+this.board.unitY*this.board.unitY),this.pos=[t,e],this.isPenDown=!0,this.dir=90,this.stack=[],this.objects=[],this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.turtle=this.board.create("point",this.pos,r),this.objects.push(this.turtle),this.turtle2=this.board.create("point",[this.pos[0],this.pos[1]+this.arrowLen],r),this.objects.push(this.turtle2),this.visProp.arrow.lastArrow=!0,this.visProp.arrow.straightFirst=!1,this.visProp.arrow.straightLast=!1,this.arrow=this.board.create("line",[this.turtle,this.turtle2],this.visProp.arrow),this.objects.push(this.arrow),this.subs={arrow:this.arrow},this.inherits.push(this.arrow),this.right(90-i),this.board.update()},forward:function(t){if(0===t)return this;var e,i=t*Math.cos(this.dir*Math.PI/180),r=t*Math.sin(this.dir*Math.PI/180);return this.turtleIsHidden||((e=this.board.create("transform",[i,r],{type:"translate"})).applyOnce(this.turtle),e.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]+=i,this.pos[1]+=r,this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update(),this},back:function(t){return this.forward(-t)},right:function(t){(this.dir-=t,this.dir%=360,this.turtleIsHidden)||this.board.create("transform",[-t*Math.PI/180,this.turtle],{type:"rotate"}).applyOnce(this.turtle2);return this.board.update(),this},left:function(t){return this.right(-t)},penUp:function(){return this.isPenDown=!1,this},penDown:function(){return this.isPenDown=!0,this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this},clean:function(){var t,i;for(t=0;t<this.objects.length;t++)(i=this.objects[t]).type===e.OBJECT_TYPE_CURVE&&(this.board.removeObject(i),this.objects.splice(t,1));return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},clearScreen:function(){var t,e,i=this.objects.length;for(t=0;t<i;t++)e=this.objects[t],this.board.removeObject(e);return this.init(0,0,90),this},setPos:function(t,i){return r.isArray(t)?this.pos=t:this.pos=[t,i],this.turtleIsHidden||(this.turtle.setPositionDirectly(e.COORDS_BY_USER,[t,i]),this.turtle2.setPositionDirectly(e.COORDS_BY_USER,[t,i+this.arrowLen]),this.board.create("transform",[-(this.dir-90)*Math.PI/180,this.turtle],{type:"rotate"}).applyOnce(this.turtle2)),this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},setPenSize:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeWidth",t)),this.objects.push(this.curve),this},setPenColor:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeColor",t)),this.objects.push(this.curve),this},setHighlightPenColor:function(t){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("highlightStrokeColor",t)),this.objects.push(this.curve),this},setAttribute:function(t){var i,s,o,n=this.objects.length;for(i=0;i<n;i++)(s=this.objects[i]).type===e.OBJECT_TYPE_CURVE&&s.setAttribute(t);return o=this.visProp.id,this.visProp=r.deepCopy(this.curve.visProp),this.visProp.id=o,this._attributes=r.deepCopy(this.visProp),delete this._attributes.id,this},copyAttr:function(t,e){return this._attributes[t.toLowerCase()]=e,this._attributes},showTurtle:function(){return this.turtleIsHidden=!1,this.arrow.setAttribute({visible:!0}),this.visProp.arrow.visible=!1,this.setPos(this.pos[0],this.pos[1]),this.board.update(),this},hideTurtle:function(){return this.turtleIsHidden=!0,this.arrow.setAttribute({visible:!1}),this.visProp.arrow.visible=!1,this.board.update(),this},home:function(){return this.pos=[0,0],this.setPos(this.pos[0],this.pos[1]),this},pushTurtle:function(){return this.stack.push([this.pos[0],this.pos[1],this.dir]),this},popTurtle:function(){var t=this.stack.pop();return this.pos[0]=t[0],this.pos[1]=t[1],this.dir=t[2],this.setPos(this.pos[0],this.pos[1]),this},lookTo:function(t){var e,i,s,o,n;return r.isArray(t)?(e=this.pos[0],i=this.pos[1],s=t[0],o=t[1],n=Math.atan2(o-i,s-e),this.right(this.dir-180*n/Math.PI)):r.isNumber(t)&&this.right(this.dir-t),this},moveTo:function(t){var e,i,s;return r.isArray(t)&&(e=t[0]-this.pos[0],i=t[1]-this.pos[1],this.turtleIsHidden||((s=this.board.create("transform",[e,i],{type:"translate"})).applyOnce(this.turtle),s.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]=t[0],this.pos[1]=t[1],this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update()),this},fd:function(t){return this.forward(t)},bk:function(t){return this.back(t)},lt:function(t){return this.left(t)},rt:function(t){return this.right(t)},pu:function(){return this.penUp()},pd:function(){return this.penDown()},ht:function(){return this.hideTurtle()},st:function(){return this.showTurtle()},cs:function(){return this.clearScreen()},push:function(){return this.pushTurtle()},pop:function(){return this.popTurtle()},evalAt:function(t,i){var r,s,o,n,a=this.objects.length;for(r=0,s=0;r<a;r++)if((o=this.objects[r]).elementClass===e.OBJECT_CLASS_CURVE){if(s<=t&&t<s+o.numberPoints)return n=t-s,o[i](n);s+=o.numberPoints}return this[i]()},X:function(t){return r.exists(t)?this.evalAt(t,"X"):this.pos[0]},Y:function(t){return r.exists(t)?this.evalAt(t,"Y"):this.pos[1]},Z:function(t){return 1},minX:function(){return 0},maxX:function(){var t,i=this.objects.length,r=0;for(t=0;t<i;t++)this.objects[t].elementClass===e.OBJECT_CLASS_CURVE&&(r+=this.objects[t].numberPoints);return r},hasPoint:function(t,i){var r,s;for(r=0;r<this.objects.length;r++)if((s=this.objects[r]).type===e.OBJECT_TYPE_CURVE&&s.hasPoint(t,i))return!0;return!1}}),t.createTurtle=function(e,i,s){var o;return i=i||[],o=r.copyAttributes(s,e.options,"turtle"),new t.Turtle(e,i,o)},t.registerElement("turtle",t.createTurtle),{Turtle:t.Turtle,createTurtle:t.createTurtle}})),define("base/ticks",["jxg","math/math","math/geometry","math/numerics","base/constants","base/element","base/coords","utils/type","base/text"],(function(t,e,i,r,s,o,n,a,h){"use strict";return t.Ticks=function(t,i,r){if(this.constructor(t.board,r,s.OBJECT_TYPE_TICKS,s.OBJECT_CLASS_OTHER),this.line=t,this.board=this.line.board,this.ticksFunction=null,this.fixedTicks=null,this.equidistant=!1,this.labelsData=[],a.isFunction(i))throw this.ticksFunction=i,new Error("Function arguments are no longer supported.");a.isArray(i)?this.fixedTicks=i:((Math.abs(i)<e.eps||i<0)&&(i=r.defaultdistance),this.ticksFunction=this.makeTicksFunction(i),this.equidistant=!0),this.minTicksDistance=r.minticksdistance,this.ticks=[],this.ticksDelta=1,this.labels=[],this.labelData=[],this.labelCounter=0,this.id=this.line.addTicks(this),this.elType="ticks",this.inherits.push(this.labels),this.board.setId(this,"Ti")},t.Ticks.prototype=new o,t.extend(t.Ticks.prototype,{makeTicksFunction:function(t){return function(){var e,i,r;return a.evaluate(this.visProp.insertticks)?((r=(i=this.getLowerAndUpperBounds(this.getZeroCoordinates(),"ticksdistance")).upper-i.lower)<=6*(e=Math.pow(10,Math.floor(Math.log(.6*r)/Math.LN10)))&&(e*=.5),e):t}},hasPoint:function(t,i){var r,o,n,h,l=this.ticks&&this.ticks.length||0;if(a.isObject(a.evaluate(this.visProp.precision))?(h=this.board._inputDevice,n=a.evaluate(this.visProp.precision[h])):n=this.board.options.precision.hasPoint,n+=.5*a.evaluate(this.visProp.strokewidth),!a.evaluate(this.line.visProp.scalable)||this.line.elementClass===s.OBJECT_CLASS_CURVE)return!1;if(0!==this.line.stdform[1]&&0!==this.line.stdform[2]&&this.line.type!==s.OBJECT_TYPE_AXIS)return!1;for(r=0;r<l;r++)if((o=this.ticks[r])[2]&&!(0===this.line.stdform[1]&&Math.abs(o[0][0]-this.line.point1.coords.scrCoords[1])<e.eps||0===this.line.stdform[2]&&Math.abs(o[1][0]-this.line.point1.coords.scrCoords[2])<e.eps)&&(Math.abs(o[0][0]-o[0][1])>=1||Math.abs(o[1][0]-o[1][1])>=1))if(0===this.line.stdform[1]){if(Math.abs(i-.5*(o[1][0]+o[1][1]))<2*n&&o[0][0]-n<t&&t<o[0][1]+n)return!0}else if(0===this.line.stdform[2]&&Math.abs(t-.5*(o[0][0]+o[0][1]))<2*n&&o[1][0]-n<i&&i<o[1][1]+n)return!0;return!1},setPositionDirectly:function(t,i,r){var o,h,l=new n(t,i,this.board),c=new n(t,r,this.board),d=this.board.getBoundingBox();return this.line.type===s.OBJECT_TYPE_AXIS&&a.evaluate(this.line.visProp.scalable)?(Math.abs(this.line.stdform[1])<e.eps&&Math.abs(l.usrCoords[1]*c.usrCoords[1])>e.eps?(o=c.usrCoords[1]/l.usrCoords[1],d[0]*=o,d[2]*=o,this.board.setBoundingBox(d,this.board.keepaspectratio,"update")):Math.abs(this.line.stdform[2])<e.eps&&Math.abs(l.usrCoords[2]*c.usrCoords[2])>e.eps&&(h=c.usrCoords[2]/l.usrCoords[2],d[3]*=h,d[1]*=h,this.board.setBoundingBox(d,this.board.keepaspectratio,"update")),this):this},calculateTicksCoordinates:function(){var t,i,r,o;if(!(this.line.elementClass===s.OBJECT_CLASS_LINE&&(this.setTicksSizeVariables(),Math.abs(this.dx)<e.eps&&Math.abs(this.dy)<e.eps)))return t=this.getZeroCoordinates(),i=this.line.elementClass===s.OBJECT_CLASS_LINE?this.getLowerAndUpperBounds(t):{lower:this.line.minX(),upper:this.line.maxX()},"polar"===a.evaluate(this.visProp.type)&&(o=this.board.getBoundingBox(),r=Math.max(Math.sqrt(o[0]*o[0]+o[1]*o[1]),Math.sqrt(o[2]*o[2]+o[3]*o[3])),i.upper=r),this.ticks=[],this.labelsData=[],this.equidistant?this.generateEquidistantTicks(t,i):this.generateFixedTicks(t,i),this},setTicksSizeVariables:function(t){var i,s,o,n,h=.5*a.evaluate(this.visProp.majorheight),l=.5*a.evaluate(this.visProp.minorheight);a.exists(t)?(s=this.line.minX(),o=this.line.maxX(),(n=this.line.points.length)<2?(this.dxMaj=0,this.dyMaj=0):e.relDif(t,s)<e.eps?(this.dxMaj=this.line.points[0].usrCoords[2]-this.line.points[1].usrCoords[2],this.dyMaj=this.line.points[1].usrCoords[1]-this.line.points[0].usrCoords[1]):e.relDif(t,o)<e.eps?(this.dxMaj=this.line.points[n-2].usrCoords[2]-this.line.points[n-1].usrCoords[2],this.dyMaj=this.line.points[n-1].usrCoords[1]-this.line.points[n-2].usrCoords[1]):(this.dxMaj=-r.D(this.line.Y)(t),this.dyMaj=r.D(this.line.X)(t))):(this.dxMaj=this.line.stdform[1],this.dyMaj=this.line.stdform[2]),this.dxMin=this.dxMaj,this.dyMin=this.dyMaj,this.dx=this.dxMaj,this.dy=this.dyMaj,i=Math.sqrt(this.dxMaj*this.dxMaj*this.board.unitX*this.board.unitX+this.dyMaj*this.dyMaj*this.board.unitY*this.board.unitY),this.dxMaj*=h/i*this.board.unitX,this.dyMaj*=h/i*this.board.unitY,this.dxMin*=l/i*this.board.unitX,this.dyMin*=l/i*this.board.unitY,this.minStyle=a.evaluate(this.visProp.minorheight)<0?"infinite":"finite",this.majStyle=a.evaluate(this.visProp.majorheight)<0?"infinite":"finite"},getZeroCoordinates:function(){var t,e,r,o,h,l,c,d,u=a.evaluate(this.visProp.anchor);return this.line.elementClass===s.OBJECT_CLASS_LINE?this.line.type===s.OBJECT_TYPE_AXIS?i.projectPointToLine({coords:{usrCoords:[1,0,0]}},this.line,this.board):(r=this.line.point1.coords.usrCoords[0],t=this.line.point1.coords.usrCoords[1],e=this.line.point1.coords.usrCoords[2],l=this.line.point2.coords.usrCoords[0],o=this.line.point2.coords.usrCoords[1],h=this.line.point2.coords.usrCoords[2],"right"===u?this.line.point2.coords:"middle"===u?new n(s.COORDS_BY_USER,[.5*(r+l),.5*(t+o),.5*(e+h)],this.board):a.isNumber(u)?new n(s.COORDS_BY_USER,[r+(l-r)*u,t+(o-t)*u,e+(h-e)*u],this.board):this.line.point1.coords):(c=this.line.minX(),d=this.line.maxX(),"right"===u?d:"middle"===u?.5*(c+d):a.isNumber(u)?c*(1-u)+d*u:c)},getLowerAndUpperBounds:function(t,r){var o,h,l,c,d,u,p,f,m,g,b=a.evaluate(this.line.visProp.straightfirst),v=a.evaluate(this.line.visProp.straightlast),y=a.evaluate(this.visProp.includeboundaries);return this.line.elementClass===s.OBJECT_CLASS_CURVE?{lower:this.line.minX(),upper:this.line.maxX()}:(d=new n(s.COORDS_BY_USER,this.line.point1.coords.usrCoords,this.board),u=new n(s.COORDS_BY_USER,this.line.point2.coords.usrCoords,this.board),p=Math.abs(d.usrCoords[0])>=e.eps&&d.scrCoords[1]>=0&&d.scrCoords[1]<=this.board.canvasWidth&&d.scrCoords[2]>=0&&d.scrCoords[2]<=this.board.canvasHeight,f=Math.abs(u.usrCoords[0])>=e.eps&&u.scrCoords[1]>=0&&u.scrCoords[1]<=this.board.canvasWidth&&u.scrCoords[2]>=0&&u.scrCoords[2]<=this.board.canvasHeight,a.exists(r)||"tickdistance"===r?i.calcStraight(this.line,d,u,a.evaluate(this.line.visProp.margin)):i.calcLineDelimitingPoints(this.line,d,u),l=a.evaluate(this.line.visProp.firstarrow),c=a.evaluate(this.line.visProp.lastarrow),(l||c)&&(this.board.renderer.getPositionArrowHead(this.line,d,u,a.evaluate(this.line.visProp.strokewidth)),l&&d.setCoordinates(s.COORDS_BY_SCREEN,[d.scrCoords[1],d.scrCoords[2]]),c&&u.setCoordinates(s.COORDS_BY_SCREEN,[u.scrCoords[1],u.scrCoords[2]])),(m=this.getDistanceFromZero(t,d))<(g=this.getDistanceFromZero(t,u))?(o=m,b||!p||y||(o+=e.eps),h=g,v||!f||y||(h-=e.eps)):g<m?(o=g,v||!f||y||(o+=e.eps),h=m,b||!p||y||(h-=e.eps)):(o=0,h=0),{lower:o,upper:h})},getDistanceFromZero:function(t,i){var r,o,n,a,h;return r=this.line.point1.coords,o=this.line.point2.coords,h=t.distance(s.COORDS_BY_USER,i),n=[o.usrCoords[0]-r.usrCoords[0],o.usrCoords[1]-r.usrCoords[1],o.usrCoords[2]-r.usrCoords[2]],a=[i.usrCoords[0]-t.usrCoords[0],i.usrCoords[1]-t.usrCoords[1],i.usrCoords[2]-t.usrCoords[2]],e.innerProduct(n,a,3)<0&&(h*=-1),h},generateEquidistantTicks:function(t,i){var r,o,n=e.eps,h=this.equidistant?this.ticksFunction(1):this.ticksDelta,l=a.evaluate(this.visProp.insertticks),c=a.evaluate(this.visProp.minorticks);if(this.line.elementClass===s.OBJECT_CLASS_LINE&&(o=this.getXandYdeltas()),h*=a.evaluate(this.visProp.scale),l&&this.minTicksDistance>e.eps?(h=this.adjustTickDistance(h,t,o),h/=c+1):l||(h/=c+1),this.ticksDelta=h,!(h<e.eps)){for(r=0,a.evaluate(this.visProp.drawzero)||(r=h);r<=i.upper+n&&(r>=i.lower-n&&this.processTickPosition(t,r,h,o),r+=h,!(i.upper-r>1e4*h)););for(r=-h;r>=i.lower-n&&(r<=i.upper+n&&this.processTickPosition(t,r,h,o),!((r-=h)-i.lower>1e4*h)););}},adjustTickDistance:function(t,e,i){var r,o,h,l=1,c=a.evaluate(this.visProp.minorticks);if(this.line.elementClass===s.OBJECT_CLASS_CURVE)return t;if(this.getLowerAndUpperBounds(e,"ticksdistance"),r=e.usrCoords[1]+i.x*t,o=e.usrCoords[2]+i.y*t,h=e.distance(s.COORDS_BY_SCREEN,new n(s.COORDS_BY_USER,[r,o],this.board)),0===t)return 0;for(;h/(c+1)<this.minTicksDistance;)t*=1===l?2:5,l*=-1,r=e.usrCoords[1]+i.x*t,o=e.usrCoords[2]+i.y*t,h=e.distance(s.COORDS_BY_SCREEN,new n(s.COORDS_BY_USER,[r,o],this.board));return t},processTickPosition:function(t,e,i,r){var o,h,l,c,d=null;this.line.elementClass===s.OBJECT_CLASS_LINE?(o=t.usrCoords[1]+e*r.x,h=t.usrCoords[2]+e*r.y):(o=this.line.X(t+e),h=this.line.Y(t+e)),l=new n(s.COORDS_BY_USER,[o,h],this.board),this.line.elementClass===s.OBJECT_CLASS_CURVE&&(d=t+e,this.setTicksSizeVariables(d)),l.major=Math.round(e/i)%(a.evaluate(this.visProp.minorticks)+1)==0,3===(c=this.createTickPath(l,l.major)).length&&(this.ticks.push(c),l.major&&a.evaluate(this.visProp.drawlabels)?this.labelsData.push(this.generateLabelData(this.generateLabelText(l,t,d),l,this.ticks.length)):this.labelsData.push(null))},generateFixedTicks:function(t,i){var r,o,h,l,c,d,u,p,f=e.eps,m=a.isArray(this.visProp.labels),g=a.evaluate(this.visProp.drawlabels);for(this.line.elementClass===s.OBJECT_CLASS_LINE&&(p=this.getXandYdeltas()),h=0;h<this.fixedTicks.length;h++)this.line.elementClass===s.OBJECT_CLASS_LINE?(u=this.fixedTicks[h],c=t.usrCoords[1]+u*p.x,d=t.usrCoords[2]+u*p.y):(u=t+this.fixedTicks[h],c=this.line.X(u),d=this.line.Y(u)),r=new n(s.COORDS_BY_USER,[c,d],this.board),this.line.elementClass===s.OBJECT_CLASS_CURVE&&this.setTicksSizeVariables(u),3===(l=this.createTickPath(r,!0)).length&&u>=i.lower-f&&u<=i.upper+f&&(this.ticks.push(l),g&&(m||a.exists(this.visProp.labels[h]))?(o=m?a.evaluate(this.visProp.labels[h]):u,this.labelsData.push(this.generateLabelData(this.generateLabelText(r,t,o),r,h))):this.labelsData.push(null))},getXandYdeltas:function(){var t,i,r=this.line.point1.Dist(this.line.point2);return this.line.type===s.OBJECT_TYPE_AXIS?(t=this.line.point1.coords.usrCoords,i=this.line.point2.coords.usrCoords,(t[1]>i[1]||Math.abs(t[1]-i[1])<e.eps&&t[2]>i[2])&&(t=this.line.point2.coords.usrCoords,i=this.line.point1.coords.usrCoords)):(t=this.line.point1.coords.usrCoords,i=this.line.point2.coords.usrCoords),{x:(i[1]-t[1])/r,y:(i[2]-t[2])/r}},_isInsideCanvas:function(t,e,i){var r=this.board.canvasWidth,s=this.board.canvasHeight;return void 0===i&&(i=0),t[0]>=i&&t[0]<=r-i&&e[0]>=i&&e[0]<=s-i||t[1]>=i&&t[1]<=r-i&&e[1]>=i&&e[1]<=s-i},createTickPath:function(t,e){var r,s,o,n,h,l,c,d,u,p,f,m,g,b,v=[-2e6,-2e6],y=[-2e6,-2e6];if(r=t.scrCoords,e?(n=this.dxMaj,h=this.dyMaj,u=this.majStyle):(n=this.dxMin,h=this.dyMin,u=this.minStyle),s=[-h*r[1]-n*r[2],h,n],e&&"polar"===a.evaluate(this.visProp.type)){if(m=this.board.getBoundingBox(),b=(g=2*Math.PI)/180,r=t.usrCoords,(f=Math.sqrt(r[1]*r[1]+r[2]*r[2]))<Math.max(Math.sqrt(m[0]*m[0]+m[1]*m[1]),Math.sqrt(m[2]*m[2]+m[3]*m[3]))){for(v=[],y=[],p=0;p<=g;p+=b)v.push(this.board.origin.scrCoords[1]+f*Math.cos(p)*this.board.unitX),y.push(this.board.origin.scrCoords[2]+f*Math.sin(p)*this.board.unitY);return[v,y,e]}}else if("infinite"===u?(o=i.meetLineBoard(s,this.board),v[0]=o[0].scrCoords[1],v[1]=o[1].scrCoords[1],y[0]=o[0].scrCoords[2],y[1]=o[1].scrCoords[2]):(d=">"===a.evaluate(this.visProp.face)?Math.PI/4:"<"===a.evaluate(this.visProp.face)?-Math.PI/4:0,l=Math.cos(d)*n-Math.sin(d)*h,c=Math.sin(d)*n+Math.cos(d)*h,v[0]=r[1]+l*a.evaluate(this.visProp.tickendings[0]),y[0]=r[2]-c*a.evaluate(this.visProp.tickendings[0]),v[1]=r[1],y[1]=r[2],d=-d,l=Math.cos(d)*n-Math.sin(d)*h,c=Math.sin(d)*n+Math.cos(d)*h,v[2]=r[1]-l*a.evaluate(this.visProp.tickendings[1]),y[2]=r[2]+c*a.evaluate(this.visProp.tickendings[1])),this._isInsideCanvas(v,y))return[v,y,e];return[]},formatLabelText:function(t){var e,i,r=a.evaluate(this.visProp.scalesymbol);return a.isNumber(t)?(((e=(Math.round(1e13*t)/1e13).toString()).length>a.evaluate(this.visProp.maxlabellength)||-1!==e.indexOf("e"))&&(i=a.evaluate(this.visProp.digits),3!==a.evaluate(this.visProp.precision)&&3===i&&(i=a.evaluate(this.visProp.precision)),e=t.toExponential(i).toString()),a.evaluate(this.visProp.beautifulscientificticklabels)&&(e=this.beautifyScientificNotationLabel(e)),e.indexOf(".")>-1&&-1===e.indexOf("e")&&(e=(e=e.replace(/0+$/,"")).replace(/\.$/,""))):e=t.toString(),r.length>0&&("1"===e?e=r:"-1"===e?e="-"+r:"0"!==e&&(e+=r)),a.evaluate(this.visProp.useunicodeminus)&&(e=e.replace(/-/g,"−")),e},beautifyScientificNotationLabel:function(t){return-1===t.indexOf("e")?t:(parseFloat(t.substring(0,t.indexOf("e")))+t.substring(t.indexOf("e"))).replace(/e(.*)$/g,(function(t,e){var i="•10";return i+=e.replace(/-/g,"⁻").replace(/\+/g,"").replace(/0/g,"⁰").replace(/1/g,"¹").replace(/2/g,"²").replace(/3/g,"³").replace(/4/g,"⁴").replace(/5/g,"⁵").replace(/6/g,"⁶").replace(/7/g,"⁷").replace(/8/g,"⁸").replace(/9/g,"⁹")}))},generateLabelText:function(t,i,r){var s;if(!a.exists(r)){if(s=this.getDistanceFromZero(i,t),Math.abs(s)<e.eps)return"0";r=s/a.evaluate(this.visProp.scale)}return this.formatLabelText(r)},generateLabelData:function(t,e,i){var r,s,o,n;return n=a.evaluate(this.visProp.label.fontsize),r=[e.scrCoords[1],e.scrCoords[1]],s=[e.scrCoords[2],e.scrCoords[2]],o=void 0===n?12:n,o*=.5,this._isInsideCanvas(r,s,o)?(r=a.evaluate(this.visProp.label.offset[0]),s=a.evaluate(this.visProp.label.offset[1]),{x:e.usrCoords[1]+r/this.board.unitX,y:e.usrCoords[2]+s/this.board.unitY,t:t,i:i}):null},update:function(){return this.needsUpdate&&0!==this.board.canvasWidth&&0!==this.board.canvasHeight&&this.calculateTicksCoordinates(),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&this.board.renderer.updateTicks(this),this.updateRendererLabels(),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateRendererLabels:function(){var t,e,i,r,s,o,n,l;for(i=this.labelsData.length,r=this.labels.length,t=0,e=0;t<i;t++)null!==this.labelsData[t]&&(n=this.labelsData[t],e<r?((o=this.labels[e]).setText(n.t),o.setCoords(n.x,n.y),e++):(this.labelCounter+=1,s={isLabel:!0,layer:this.board.options.layer.line,highlightStrokeColor:this.board.options.text.strokeColor,highlightStrokeWidth:this.board.options.text.strokeWidth,highlightStrokeOpacity:this.board.options.text.strokeOpacity,priv:this.visProp.priv},(s=a.deepCopy(s,this.visProp.label)).id=this.id+n.i+"Label"+this.labelCounter,o=h.createText(this.board,[n.x,n.y,n.t],s),this.addChild(o),o.setParents(this),o.isDraggable=!1,o.dump=!1,this.labels.push(o)),"inherit"===(l=a.evaluate(this.visProp.label.visible))&&(l=this.visPropCalc.visible),o.prepareUpdate().updateVisibility(l).updateRenderer(),o.distanceX=a.evaluate(this.visProp.label.offset[0]),o.distanceY=a.evaluate(this.visProp.label.offset[1]));for(e=i=e;e<r;e++)this.board.renderer.display(this.labels[e],!1),this.labels[e].visProp.visible=this.labels[e].visPropCalc.visible=!1;return this},hideElement:function(){var e;for(t.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),e=0;e<this.labels.length;e++)a.exists(this.labels[e])&&this.labels[e].hideElement();return this},showElement:function(){var e;for(t.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!1),e=0;e<this.labels.length;e++)a.exists(this.labels[e])&&this.labels[e].showElement();return this}}),t.createTicks=function(e,i,r){var o,n,h=a.copyAttributes(r,e.options,"ticks");if(n=i.length<2?h.ticksdistance:i[1],i[0].elementClass!==s.OBJECT_CLASS_LINE&&i[0].elementClass!==s.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create Ticks with parent types '"+typeof i[0]+"'.");return o=new t.Ticks(i[0],n,h),a.isFunction(h.generatelabelvalue)&&(o.generateLabelText=h.generatelabelvalue),a.isFunction(h.generatelabeltext)&&(o.generateLabelText=h.generatelabeltext),o.setParents(i[0]),o.isDraggable=!0,o.fullUpdate(i[0].visPropCalc.visible),o},t.createHatchmark=function(t,e,i){var r,o,n,h,l,c=[],d=a.copyAttributes(i,t.options,"hatch");if(e[0].elementClass!==s.OBJECT_CLASS_LINE&&e[0].elementClass!==s.OBJECT_CLASS_CURVE||"number"!=typeof e[1])throw new Error("JSXGraph: Can't create Hatch mark with parent types '"+typeof e[0]+"' and '"+typeof e[1]+" and ''"+typeof e[2]+"'.");for(n=.5*-(((r=e[1])-1)*(h=d.ticksdistance)),o=0;o<r;o++)c[o]=n+o*h;return(l=t.create("ticks",[e[0],c],d)).elType="hatch",l},t.registerElement("ticks",t.createTicks),t.registerElement("hash",t.createHatchmark),t.registerElement("hatch",t.createHatchmark),{Ticks:t.Ticks,createTicks:t.createTicks,createHashmark:t.createHatchmark,createHatchmark:t.createHatchmark}})),define("parser/ca",["jxg","base/constants","base/text","math/math","math/geometry","math/statistics","utils/type","utils/env"],(function(t,e,i,r,s,o,n,a){"use strict";return t.CA=function(t,e,i){this.node=t,this.createNode=e,this.parser=i},t.extend(t.CA.prototype,{findMapNode:function(t,e){var i,r,s;if("op_assign"===e.value&&e.children[0].value===t)return e.children[1];if(e.children)for(r=e.children.length,i=0;i<r;++i)if(null!==(s=this.findMapNode(t,e.children[i])))return s;return null},setMath:function(t){var e,i;if(("node_op"!=t.type||"op_add"!=t.value&&"op_sub"!=t.value&&"op_mul"!=t.value&&"op_div"!=t.value&&"op_neg"!=t.value&&"op_execfun"!=t.value&&"op_exp"!=t.value)&&"node_var"!=t.type&&"node_const"!=t.type||(t.isMath=!0),t.children)for(i=t.children.length,e=0;e<i;++e)this.setMath(t.children[e])},deriveElementary:function(t,e){var i,r=t.children[0].value,s=t.children[1];switch(r){case"abs":i=this.createNode("node_op","op_div",s[0],this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0]))]));break;case"sqrt":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_mul",this.createNode("node_const",2),this.createNode(t.type,t.value,n.deepCopy(t.children[0]),n.deepCopy(t.children[1]))));break;case"sin":i=this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),n.deepCopy(s));break;case"cos":i=this.createNode("node_op","op_neg",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),n.deepCopy(s)));break;case"tan":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),n.deepCopy(s)),this.createNode("node_const",2)));break;case"cot":i=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),n.deepCopy(s)),this.createNode("node_const",2))));break;case"exp":i=this.createNode(t.type,t.value,n.deepCopy(t.children[0]),n.deepCopy(t.children[1]));break;case"pow":i=this.createNode("node_op","op_mul",this.createNode("node_op","op_execfun",n.deepCopy(t.children[0]),n.deepCopy(t.children[1])),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(t.children[1][0],e),this.createNode("node_op","op_div",n.deepCopy(t.children[1][1]),n.deepCopy(t.children[1][0]))),this.createNode("node_op","op_mul",this.derivative(t.children[1][1],e),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[n.deepCopy(t.children[1][0])]))));break;case"log":case"ln":i=this.createNode("node_op","op_div",this.createNode("node_const",1),n.deepCopy(s[0]));break;case"log2":case"lb":case"ld":i=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),n.deepCopy(s[0])),this.createNode("node_const",1.4426950408889634));break;case"log10":case"lg":i=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),n.deepCopy(s[0])),this.createNode("node_const",.43429448190325176));break;case"asin":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])))]));break;case"acos":i=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])))])));break;case"atan":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0]))));break;case"acot":i=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])))));break;case"sinh":i=this.createNode("node_op","op_execfun",this.createNode("node_var","cosh"),[n.deepCopy(s[0])]);break;case"cosh":i=this.createNode("node_op","op_execfun",this.createNode("node_var","sinh"),[n.deepCopy(s[0])]);break;case"tanh":i=this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","tanh"),[n.deepCopy(s[0])]),this.createNode("node_const",2)));break;case"asinh":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_add",this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])),this.createNode("node_const",1))]));break;case"acosh":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0])),this.createNode("node_const",1))]));break;case"atanh":i=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",n.deepCopy(s[0]),n.deepCopy(s[0]))));break;default:throw i=this.createNode("node_const",0),console.log('Derivative of "'+r+'" not yet implemented'),new Error("Error("+this.line+"): ")}return i},derivative:function(t,e){var i;switch(t.type){case"node_op":switch(t.value){case"op_execfun":i="pow"==t.children[0].value?this.deriveElementary(t,e):0===t.children[1].length?this.createNode("node_const",0):this.createNode("node_op","op_mul",this.deriveElementary(t,e),this.derivative(t.children[1][0],e));break;case"op_div":i=this.createNode("node_op","op_div",this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",this.derivative(t.children[0],e),n.deepCopy(t.children[1])),this.createNode("node_op","op_mul",n.deepCopy(t.children[0]),this.derivative(t.children[1],e))),this.createNode("node_op","op_mul",n.deepCopy(t.children[1]),n.deepCopy(t.children[1])));break;case"op_mul":i=this.createNode("node_op","op_add",this.createNode("node_op","op_mul",n.deepCopy(t.children[0]),this.derivative(t.children[1],e)),this.createNode("node_op","op_mul",this.derivative(t.children[0],e),n.deepCopy(t.children[1])));break;case"op_neg":i=this.createNode("node_op","op_neg",this.derivative(t.children[0],e));break;case"op_add":case"op_sub":i=this.createNode("node_op",t.value,this.derivative(t.children[0],e),this.derivative(t.children[1],e));break;case"op_exp":i=this.createNode("node_op","op_mul",n.deepCopy(t),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(t.children[0],e),this.createNode("node_op","op_div",n.deepCopy(t.children[1]),n.deepCopy(t.children[0]))),this.createNode("node_op","op_mul",this.derivative(t.children[1],e),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[n.deepCopy(t.children[0])]))))}break;case"node_var":i=t.value===e?this.createNode("node_const",1):this.createNode("node_const",0);break;case"node_const":i=this.createNode("node_const",0)}return i},expandDerivatives:function(t,e,i){var r,s,o,a,h,l,c,d,u,p,f;if(0,!t)return 0;for(this.line=t.line,this.col=t.col,r=t.children.length,s=0;s<r;++s)if(t.children[s]&&t.children[s].type)t.children[s]=this.expandDerivatives(t.children[s],t,i);else if(n.isArray(t.children[s]))for(o=0;o<t.children[s].length;++o)t.children[s][o]&&t.children[s][o].type&&(t.children[s][o]=this.expandDerivatives(t.children[s][o],t,i));if("node_op"===t.type)if("op_execfun"===t.value)if(t.children[0]&&"D"===t.children[0].value){if("node_var"==t.children[1][0].type?(d=t.children[1][0].value,p=(a=this.findMapNode(d,i)).children[0],u=t.children[1].length>=2?t.children[1][1].value:a.children[0][0],h=a.children[1]):(h=t.children[1][0],p=["x"],u=t.children[1].length>=2?t.children[1][1].value:"x"),c=h,(f=t.children[1].length>=3?t.children[1][2].value:1)>=1)for(;f>=1;)c=this.derivative(c,u),c=this.removeTrivialNodes(c),f--;l="node_op"==e.type&&"op_assign"==e.value?this.createNode("node_op","op_map",p,c):c,this.setMath(l),t.type=l.type,t.value=l.value,t.children[0]=l.children[0],t.children[1]=l.children[1]}return t},removeTrivialNodes:function(t){var e,i,r,s,o;if(n.isArray(t))for(i=t.length,e=0;e<i;++e)t[e]=this.removeTrivialNodes(t[e]);if("node_op"!=t.type||!t.children)return t;for(i=t.children.length,e=0;e<i;++e){this.mayNotBeSimplified=!1;do{t.children[e]=this.removeTrivialNodes(t.children[e])}while(this.mayNotBeSimplified)}switch(t.value){case"op_map":if(r=t.children[0],"node_var"==(s=t.children[1]).type)for(e=0;e<r.length;++e)if(r[e]==s.value){s.isMath=!0;break}break;case"op_add":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&0===r.value)return s;if("node_const"==s.type&&0===s.value)return r;if("node_const"==r.type&&"node_const"==s.type)return r.value+=s.value,r;break;case"op_mul":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&1==r.value)return s;if("node_const"==s.type&&1==s.value)return r;if("node_const"==r.type&&0===r.value)return r;if("node_const"==s.type&&0===s.value)return s;if("node_const"==s.type&&0===s.value)return s;if("node_op"==r.type&&"op_neg"==r.value&&"node_op"==s.type&&"op_neg"==s.value)return t.children=[r.children[0],s.children[0]],this.mayNotBeSimplified=!0,t;if("op_neg"==r.value&&"op_neg"!=s.value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_mul",r.children[0],s)],this.mayNotBeSimplified=!0,t;if("op_neg"!=r.value&&"op_neg"==s.value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_mul",r,s.children[0])],this.mayNotBeSimplified=!0,t;if("op_div"==r.value&&"node_const"==r.children[0].type&&1==r.children[0].value)return t.type="node_op",t.value="op_div",t.children=[s,r.children[1]],this.mayNotBeSimplified=!0,t;if("op_div"==s.value&&"node_const"==s.children[0].type&&1==s.children[0].value)return t.type="node_op",t.value="op_div",t.children=[r,s.children[1]],this.mayNotBeSimplified=!0,t;if("node_const"!=r.type&&"node_const"==s.type)return t.children=[s,r],this.mayNotBeSimplified=!0,t;if("node_const"!=r.type&&"node_op"==s.type&&"op_neg"==s.value&&"node_const"==s.children[0].type)return t.children=[s,r],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_execfun"!=r.value&&("node_var"==s.type||"node_op"==s.type&&"op_execfun"==s.value))return t.children=[s,r],this.mayNotBeSimplified=!0,t;if("node_op"!=r.type&&"node_op"==s.type&&"op_neg"==s.value&&"node_var"==s.children[0].type)return t.children=[s,r],this.mayNotBeSimplified=!0,t;if("node_const"!=r.type&&"node_op"==s.type&&("op_mul"==s.value||"op_div"==s.value)&&"node_const"==s.children[0].type)return o=s.children[0],s.children[0]=r,t.children=[o,s],this.mayNotBeSimplified=!0,t;if("node_const"!=s.type&&"node_op"==r.type&&"op_mul"==r.value&&"node_const"==r.children[0].type)return t.children=[r.children[0],this.createNode("node_op","op_mul",r.children[1],s)],this.mayNotBeSimplified=!0,t;if("node_const"==r.type&&"node_const"==s.type)return r.value*=s.value,r;if("node_const"==r.type&&"node_op"==s.type&&("op_mul"==s.value||"op_div"==s.value)&&"node_const"==s.children[0].type)return s.children[0].value*=r.value,s;if(r.hash=this.parser.compile(r),s.hash=this.parser.compile(s),r.hash===s.hash)return t.value="op_exp",t.children[1]=this.createNode("node_const",2),t;if("node_const"==r.type&&"node_op"==s.type&&("op_mul"==s.value||"op_div"==s.value)&&"node_const"==s.children[0].type)return s.children[0].value*=r.value,s;if("node_op"==s.type&&"op_exp"==s.value&&(r.hash||(r.hash=this.parser.compile(r)),s.children[0].hash||(s.children[0].hash=this.parser.compile(s.children[0])),r.hash===s.children[0].hash))return s.children[1]=this.createNode("node_op","op_add",s.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,s;if("node_op"==r.type&&"op_exp"==r.value&&"node_op"==s.type&&"op_exp"==s.value&&(r.children[0].hash=this.parser.compile(r.children[0]),s.children[0].hash=this.parser.compile(s.children[0]),r.children[0].hash===s.children[0].hash))return r.children[1]=this.createNode("node_op","op_add",r.children[1],s.children[1]),this.mayNotBeSimplified=!0,r;break;case"op_sub":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&0===r.value)return t.value="op_neg",t.children[0]=s,t;if("node_const"==s.type&&0===s.value)return r;if("node_const"==r.type&&"node_const"==s.type&&r.value==s.value)return this.createNode("node_const",0);if("node_var"==r.type&&"node_var"==s.type&&r.value==s.value)return this.createNode("node_const",0);if("node_const"==r.type&&"node_const"==s.type)return r.value-=s.value,r;if("node_op"==r.type&&"op_mul"==r.value&&"node_op"==s.type&&"op_mul"==s.value&&(r.children[1].hash=this.parser.compile(r.children[1]),s.children[1].hash=this.parser.compile(s.children[1]),r.children[1].hash===s.children[1].hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",r.children[0],s.children[0]),r.children[1]],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_mul"==r.value&&(r.children[1].hash=this.parser.compile(r.children[1]),s.hash=this.parser.compile(s),r.children[1].hash===s.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",r.children[0],this.createNode("node_const",1)),s],this.mayNotBeSimplified=!0,t;if("node_op"==s.type&&"op_mul"==s.value&&(s.children[1].hash=this.parser.compile(s.children[1]),r.hash=this.parser.compile(r),s.children[1].hash===r.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_sub",this.createNode("node_const",1),s.children[0]),r],this.mayNotBeSimplified=!0,t;break;case"op_neg":if("node_const"==(r=t.children[0]).type&&0===r.value)return r;if("node_op"==r.type&&"op_neg"==r.value)return r.children[0];break;case"op_div":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&"node_const"==s.type&&r.value==s.value&&0!==r.value)return r.value=1,r;if("node_const"==r.type&&0===r.value&&"node_const"==s.type&&0!==s.value)return r.value=0,r;if("node_const"==r.type&&0===r.value&&("node_op"==s.type||"node_var"==s.type))return t.type="node_const",t.value=0,t;if("node_var"==r.type&&"node_var"==s.type&&r.value==s.value)return this.createNode("node_const",1);if("node_const"==r.type&&0!==r.value&&"node_const"==s.type&&0===s.value)return r.value>0?r.value=1/0:r.value=-1/0,r;if("node_op"==r.type&&"op_neg"==r.value&&"node_op"==s.type&&"op_neg"==s.value)return t.children=[r.children[0],s.children[0]],this.mayNotBeSimplified=!0,t;if("op_neg"==r.value&&"op_neg"!=s.value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_div",r.children[0],s)],this.mayNotBeSimplified=!0,t;if("op_neg"!=r.value&&"op_neg"==s.value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_op","op_div",r,s.children[0])],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_exp"==r.value&&(s.hash||(s.hash=this.parser.compile(s)),r.children[0].hash||(r.children[0].hash=this.parser.compile(r.children[0])),s.hash===r.children[0].hash))return r.children[1]=this.createNode("node_op","op_sub",r.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,r;if("node_const"!=s.type&&"node_op"==r.type&&"op_mul"==r.value&&"node_const"==r.children[0].type)return t.value="op_mul",t.children=[r.children[0],this.createNode("node_op","op_div",r.children[1],s)],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_exp"==r.value&&"node_op"==s.type&&"op_exp"==s.value&&(r.children[0].hash=this.parser.compile(r.children[0]),s.children[0].hash=this.parser.compile(s.children[0]),r.children[0].hash===s.children[0].hash))return r.children[1]=this.createNode("node_op","op_sub",r.children[1],s.children[1]),this.mayNotBeSimplified=!0,r;break;case"op_exp":if(r=t.children[0],"node_const"==(s=t.children[1]).type&&0===s.value)return s.value=1,s;if("node_const"==s.type&&1==s.value)return r;if("node_const"==r.type&&1==r.value)return r;if("node_const"==r.type&&0===r.value&&"node_const"==s.type&&0!==s.value)return r;if("node_op"==r.type&&"op_exp"==r.value)return t.children=[r.children[0],this.createNode("node_op","op_mul",r.children[1],s)],t}switch(t.value){case"op_add":if(r=t.children[0],s=t.children[1],"node_const"==r.type&&"node_const"==s.type&&r.value==s.value)return r.value+=s.value,r;if("node_var"==r.type&&"node_var"==s.type&&r.value==s.value)return t.children[0]=this.createNode("node_const",2),t.value="op_mul",t;if("node_op"==r.type&&"op_neg"==r.value)return t.value="op_sub",t.children[0]=s,t.children[1]=r.children[0],this.mayNotBeSimplified=!0,t;if("node_op"==s.type&&"op_neg"==s.value)return t.value="op_sub",t.children[1]=s.children[0],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_mul"==r.value&&"node_op"==s.type&&"op_mul"==s.value&&(r.children[1].hash=this.parser.compile(r.children[1]),s.children[1].hash=this.parser.compile(s.children[1]),r.children[1].hash===s.children[1].hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",r.children[0],s.children[0]),r.children[1]],this.mayNotBeSimplified=!0,t;if("node_op"==r.type&&"op_mul"==r.value&&(r.children[1].hash=this.parser.compile(r.children[1]),s.hash=this.parser.compile(s),r.children[1].hash===s.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",r.children[0],this.createNode("node_const",1)),s],this.mayNotBeSimplified=!0,t;if("node_op"==s.type&&"op_mul"==s.value&&(s.children[1].hash=this.parser.compile(s.children[1]),r.hash=this.parser.compile(r),s.children[1].hash===r.hash))return t.value="op_mul",t.children=[this.createNode("node_op","op_add",this.createNode("node_const",1),s.children[0]),r],this.mayNotBeSimplified=!0,t;break;case"op_sub":if(r=t.children[0],"node_op"==(s=t.children[1]).type&&"op_neg"==s.value)return t.value="op_add",t.children[1]=s.children[0],this.mayNotBeSimplified=!0,t;break;case"op_execfun":return this.simplifyElementary(t)}return t},simplifyElementary:function(t){var e=t.children[0].value,i=t.children[1];if(0==i.length)return t;switch(e){case"sin":case"tan":if("node_const"==i[0].type&&0===i[0].value)return t.type="node_const",t.value=0,t;if("node_var"==i[0].type&&"PI"==i[0].value)return t.type="node_const",t.value=0,t;if("node_op"==i[0].type&&"op_mul"==i[0].value&&"node_const"==i[0].children[0].type&&i[0].children[0].value%1==0&&"node_var"==i[0].children[1].type&&"PI"==i[0].children[1].value)return t.type="node_const",t.value=0,t;break;case"cos":if("node_const"==i[0].type&&0===i[0].value)return t.type="node_const",t.value=1,t;if("node_var"==i[0].type&&"PI"==i[0].value)return t.type="node_op",t.value="op_neg",t.children=[this.createNode("node_const",1)],t;break;case"exp":if("node_const"==i[0].type&&0===i[0].value)return t.type="node_const",t.value=1,t;break;case"pow":if("node_const"==i[1].type&&0===i[1].value)return t.type="node_const",t.value=1,t}return t}}),t.CA})),define("utils/dump",["jxg","utils/type"],(function(t,e){"use strict";return t.Dump={addMarkers:function(t,i,r){var s,o,n;for(s in e.isArray(i)||(i=[i]),e.isArray(r)||(r=[r]),o=Math.min(i.length,r.length),i.length=o,r.length=o,t.objects)if(t.objects.hasOwnProperty(s))for(n=0;n<o;n++)t.objects[s][i[n]]=r[n]},deleteMarkers:function(t,i){var r,s,o;for(r in e.isArray(i)||(i=[i]),s=i.length,i.length=s,t.objects)if(t.objects.hasOwnProperty(r))for(o=0;o<s;o++)delete t.objects[r][i[o]]},str:function(t){return"string"==typeof t&&"function"!==t.substr(0,7)&&(t='"'+t+'"'),t},minimizeObject:function(i,r){var s,o,n,a={},h=e.deepCopy(i),l=[];for(n=1;n<arguments.length;n++)l.push(arguments[n]);for(a=e.deepCopy(a,t.Options.elements,!0),n=l.length;n>0;n--)a=e.deepCopy(a,l[n-1],!0);for(s in a)a.hasOwnProperty(s)&&(o=s.toLowerCase(),"object"!=typeof a[s]&&a[s]===h[o]&&delete h[o]);return h},prepareAttributes:function(e,i){var r,s;for(s in r=this.minimizeObject(i.getAttributes(),t.Options[i.elType]),i.subs)i.subs.hasOwnProperty(s)&&(r[s]=this.minimizeObject(i.subs[s].getAttributes(),t.Options[i.elType][s],t.Options[i.subs[s].elType]),r[s].id=i.subs[s].id,r[s].name=i.subs[s].name);return r.id=i.id,r.name=i.name,r},setBoundingBox:function(t,e,i){return t.push({obj:i,method:"setBoundingBox",params:[e.getBoundingBox(),e.keepaspectratio]}),t},dump:function(t){var i,r,s,o,n=[],a=[],h=t.objectsList.length;for(this.addMarkers(t,"dumped",!1),i=0;i<h;i++)if(s={},!(r=t.objectsList[i]).dumped&&r.dump){for(s.type=r.getType(),s.parents=r.getParents().slice(),"point"===s.type&&1===s.parents[0]&&(s.parents=s.parents.slice(1)),o=0;o<s.parents.length;o++)e.isString(s.parents[o])&&"'"!==s.parents[o][0]&&'"'!==s.parents[o][0]?s.parents[o]='"'+s.parents[o]+'"':e.isArray(s.parents[o])&&(s.parents[o]="["+s.parents[o].toString()+"]");s.attributes=this.prepareAttributes(t,r),"glider"===s.type&&r.onPolygon&&n.push({obj:r.id,prop:"onPolygon",val:!0}),a.push(s)}return this.deleteMarkers(t,"dumped"),{elements:a,props:n,methods:[]}},arrayToParamStr:function(t,e){var i,r=[];for(i=0;i<t.length;i++)r.push(e.call(this,t[i]));return r.join(", ")},toJCAN:function(t){var i,r,s;switch(typeof t){case"object":if(t){if(r=[],e.isArray(t)){for(i=0;i<t.length;i++)r.push(this.toJCAN(t[i]));return"["+r.join(",")+"]"}for(s in t)t.hasOwnProperty(s)&&r.push(s+": "+this.toJCAN(t[s]));return"<<"+r.join(", ")+">> "}return"null";case"string":return"'"+t.replace(/\\/g,"\\\\").replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return t.toString();case"null":return"null"}},toJessie:function(t){var e,i,r,s=this.dump(t),o=[];for(s.methods=this.setBoundingBox(s.methods,t,"$board"),i=s.elements,e=0;e<i.length;e++)i[e].attributes.name.length>0&&o.push("// "+i[e].attributes.name),o.push("s"+e+" = "+i[e].type+"("+i[e].parents.join(", ")+") "+this.toJCAN(i[e].attributes).replace(/\n/,"\\n")+";"),"axis"===i[e].type&&(r=i[e].attributes.id,null===t.objects[r].defaultTicks&&o.push("s"+e+".removeAllTicks();")),o.push("");for(e=0;e<s.methods.length;e++)o.push(s.methods[e].obj+"."+s.methods[e].method+"("+this.arrayToParamStr(s.methods[e].params,this.toJCAN)+");"),o.push("");for(e=0;e<s.props.length;e++)o.push(s.props[e].obj+"."+s.props[e].prop+" = "+this.toJCAN(s.props[e].val)+";"),o.push("");return o.join("\n")},toJavaScript:function(t){var i,r,s,o=this.dump(t),n=[];for(o.methods=this.setBoundingBox(o.methods,t,"board"),r=o.elements,i=0;i<r.length;i++)n.push('board.create("'+r[i].type+'", ['+r[i].parents.join(", ")+"], "+e.toJSON(r[i].attributes)+");"),"axis"===r[i].type&&(s=r[i].attributes.id,null===t.objects[s].defaultTicks&&n.push('board.objects["'+s+'"].removeTicks(board.objects["'+s+'"].defaultTicks);'));for(i=0;i<o.methods.length;i++)n.push(o.methods[i].obj+"."+o.methods[i].method+"("+this.arrayToParamStr(o.methods[i].params,e.toJSON)+");"),n.push("");for(i=0;i<o.props.length;i++)n.push(o.props[i].obj+"."+o.props[i].prop+" = "+e.toJSON(o.props[i].val)+";"),n.push("");return n.join("\n")}},t.Dump})),define("element/comb",["jxg","utils/type","base/point"],(function(t,e,i){"use strict";return t.createComb=function(t,r,s){var o,n,a,h,l;if(2!==r.length)throw l=r.map((function(t){return"'"+typeof t+"'"})),new Error("JSXGraph: Can't create comb with parent types "+l.join(", ")+".\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");if(e.isArray(r[0])&&r[0].length>1)h=e.copyAttributes(s,t.options,"comb","point1"),o=t.create("point",r[0],h);else if(e.isString(r[0])||e.isPoint(r[0]))o=t.select(r[0]);else if(e.isFunction(r[0])&&e.isPoint(r[0]()))o=r[0]();else{if(!(e.isFunction(r[0])&&r[0]().length&&r[0]().length>=2))throw new Error("JSXGraph: Can't create comb with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");h=e.copyAttributes(s,t.options,"comb","point1"),o=i.createPoint(t,r[0](),h)}if(e.isArray(r[1])&&r[1].length>1)h=e.copyAttributes(s,t.options,"comb","point2"),n=t.create("point",r[1],h);else if(e.isString(r[1])||e.isPoint(r[1]))n=t.select(r[1]);else if(e.isFunction(r[1])&&e.isPoint(r[1]()))n=r[1]();else{if(!(e.isFunction(r[1])&&r[1]().length&&r[1]().length>=2))throw new Error("JSXGraph: Can't create comb with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");h=e.copyAttributes(s,t.options,"comb","point2"),n=i.createPoint(t,r[1](),h)}return h=e.copyAttributes(s,t.options,"comb"),e.merge(h,e.copyAttributes(s,t.options,"comb","curve")),(a=t.create("curve",[[0],[0]],h)).updateDataArray=function(){var t,i,r,s,h,l,c,d,u,p,f=0,m=o.Dist(n),g=o,b=n;for(d=e.evaluate(a.visProp.frequency),u=-e.evaluate(a.visProp.angle),p=e.evaluate(a.visProp.width),e.evaluate(a.visProp.reverse)&&(g=n,b=o,u=-u),t=Math.cos(u),i=Math.sin(u),r=(b.X()-g.X())/m,s=(b.Y()-g.Y())/m,t*=p/Math.abs(i),i*=p/Math.abs(i),this.dataX=[],this.dataY=[];f<m;)h=g.X()+r*f,l=g.Y()+s*f,i*=c=Math.min(t,m-f)/Math.abs(t),t*=c,this.dataX.push(h),this.dataY.push(l),this.dataX.push(h+r*t+s*i),this.dataY.push(l-r*i+s*t),this.dataX.push(NaN),this.dataY.push(NaN),f+=d},a},t.registerElement("comb",t.createComb),{createComb:t.createComb}})),define("element/slopetriangle",["jxg","utils/type","base/constants","base/polygon"],(function(t,e,i,r){"use strict";var s=function(){r.Polygon.prototype.remove.call(this),this.board.removeObject(this.toppoint),this.board.removeObject(this.glider),this.board.removeObject(this.baseline),this.board.removeObject(this.basepoint),this.board.removeObject(this.label),this._isPrivateTangent&&this.board.removeObject(this.tangent)},o=function(){return this.tangent.getSlope()};return t.createSlopeTriangle=function(r,n,a){var h,l,c,d,u,p,f,m,g,b=!1;if(1===n.length&&n[0].type===i.OBJECT_TYPE_TANGENT)l=n[0],c=l.glider;else if(1===n.length&&n[0].type===i.OBJECT_TYPE_GLIDER)c=n[0],g=e.copyAttributes(a,r.options,"slopetriangle","tangent"),l=r.create("tangent",[c],g),b=!0;else{if(2!==n.length||n[0].elementClass!==i.OBJECT_CLASS_LINE||!e.isPoint(n[1]))throw new Error("JSXGraph: Can't create slope triangle with parent types '"+typeof n[0]+"'.");l=n[0],c=n[1]}return g=e.copyAttributes(a,r.options,"slopetriangle","basepoint"),f=r.create("point",[function(){return[c.X()+1,c.Y()]}],g),g=e.copyAttributes(a,r.options,"slopetriangle","baseline"),p=r.create("line",[c,f],g),g=e.copyAttributes(a,r.options,"slopetriangle","glider"),d=r.create("glider",[c.X()+1,c.Y(),p],g),g=e.copyAttributes(a,r.options,"slopetriangle","toppoint"),u=r.create("point",[function(){return[d.X(),d.Y()+(d.X()-c.X())*l.getSlope()]}],g),(g=e.copyAttributes(a,r.options,"slopetriangle")).borders=e.copyAttributes(g.borders,r.options,"slopetriangle","borders"),(h=r.create("polygon",[c,d,u],g)).Value=o,h.tangent=l,h._isPrivateTangent=b,h.borders[2].setArrow(!1,!1),g=e.copyAttributes(a,r.options,"slopetriangle","label"),(m=r.create("text",[function(){return d.X()+.1},function(){return.5*(d.Y()+u.Y())},function(){return""}],g))._setText((function(){return e.toFixed(h.Value(),e.evaluate(m.visProp.digits))})),m.fullUpdate(),h.glider=d,h.basepoint=f,h.baseline=p,h.toppoint=u,h.label=m,h.subs={glider:d,basePoint:f,baseLine:p,topPoint:u,label:m},h.inherits.push(d,f,p,u,m),h.methodMap=t.deepCopy(h.methodMap,{tangent:"tangent",glider:"glider",basepoint:"basepoint",baseline:"baseline",toppoint:"toppoint",label:"label",Value:"Value",V:"Value"}),h.remove=s,h},t.registerElement("slopetriangle",t.createSlopeTriangle),{createSlopeTriangle:t.createSlopeTriangle}})),define("element/checkbox",["jxg","utils/env","utils/type"],(function(t,e,i){"use strict";var r=function(){this._value=this.rendNodeCheckbox.checked,this.board.update()};return t.createCheckbox=function(s,o,n){var a,h,l=i.copyAttributes(n,s.options,"checkbox");return h=[o[0],o[1],'<span style="display:inline"><input type="checkbox" /><label for=""></label></span>'],(a=s.create("text",h,l)).type=i.OBJECT_TYPE_CHECKBOX,a.rendNodeCheckbox=a.rendNode.childNodes[0].childNodes[0],a.rendNodeLabel=a.rendNode.childNodes[0].childNodes[1],a.rendNodeTag=a.rendNodeCheckbox,a.rendNodeTag.disabled=!!l.disabled,a.rendNodeLabel.innerHTML=o[2],a.rendNodeCheckbox.id=a.rendNode.id+"_checkbox",a.rendNodeLabel.id=a.rendNode.id+"_label",a.rendNodeLabel.setAttribute("for",a.rendNodeCheckbox.id),a.visPropOld.fontsize="0px",s.renderer.updateTextStyle(a,!1),a.rendNodeCheckbox.checked=l.checked,a._value=l.checked,a.Value=function(){return this._value},a.update=function(){return this.needsUpdate&&(t.Text.prototype.update.call(this),this._value=this.rendNodeCheckbox.checked),this},e.addEvent(a.rendNodeCheckbox,"change",r,a),a},t.registerElement("checkbox",t.createCheckbox),{createCheckbox:t.createCheckbox}})),define("element/input",["jxg","utils/env","utils/type"],(function(t,e,i){"use strict";var r=function(t){this._value=this.rendNodeInput.value,this.board.update()};return t.createInput=function(s,o,n){var a,h,l=i.copyAttributes(n,s.options,"input");return h=[o[0],o[1],'<span style="display:inline; white-space:nowrap; padding:0px;"><span></span><input type="text" maxlength="'+l.maxlength+'" style="width:100%"/></span>'],(a=s.create("text",h,l)).type=i.OBJECT_TYPE_INPUT,a.rendNodeLabel=a.rendNode.childNodes[0].childNodes[0],a.rendNodeInput=a.rendNode.childNodes[0].childNodes[1],a.rendNodeLabel.innerHTML=o[3],a.rendNodeInput.value=o[2],a.rendNodeTag=a.rendNodeInput,a.rendNodeTag.disabled=!!l.disabled,a.rendNodeLabel.id=a.rendNode.id+"_label",a.rendNodeInput.id=a.rendNode.id+"_input",a._value=o[2],a.update=function(){return this.needsUpdate&&(t.Text.prototype.update.call(this),this._value=this.rendNodeInput.value),this},a.Value=function(){return this._value},a.set=function(t){return this._value=t,this.rendNodeInput.value=t,this},e.addEvent(a.rendNodeInput,"input",r,a),e.addEvent(a.rendNodeInput,"mousedown",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),e.addEvent(a.rendNodeInput,"touchstart",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),e.addEvent(a.rendNodeInput,"pointerdown",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),a.visPropOld.fontsize="0px",s.renderer.updateTextStyle(a,!1),a},t.registerElement("input",t.createInput),{createInput:t.createInput}})),define("element/button",["jxg","utils/env","utils/type"],(function(t,e,i){"use strict";var r=function(){this._handler&&this._handler(),this.board.update()};return t.createButton=function(s,o,n){var a,h,l=i.copyAttributes(n,s.options,"button");return h=[o[0],o[1],'<button type="button" style="width:100%;"></button>'],(a=s.create("text",h,l)).type=i.OBJECT_TYPE_BUTTON,a.rendNodeButton=a.rendNode.childNodes[0],a.rendNodeButton.id=a.rendNode.id+"_button",a.rendNodeButton.innerHTML=o[2],a.rendNodeTag=a.rendNodeButton,a.rendNodeTag.disabled=!!l.disabled,a.visPropOld.fontsize="0px",s.renderer.updateTextStyle(a,!1),o[3]&&(i.isString(o[3])?(a._jc=new t.JessieCode,a._jc.use(s),a._handler=function(){a._jc.parse(o[3])}):a._handler=o[3]),e.addEvent(a.rendNodeButton,"click",r,a),e.addEvent(a.rendNodeButton,"mousedown",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),e.addEvent(a.rendNodeButton,"touchstart",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),e.addEvent(a.rendNodeButton,"pointerdown",(function(t){i.exists(t.stopPropagation)&&t.stopPropagation()}),a),a},t.registerElement("button",t.createButton),{createButton:t.createButton}})),define("base/foreignobject",["jxg","base/constants","base/coords","base/element","math/math","utils/type","base/coordselement"],(function(t,e,i,r,s,o,n){"use strict";return t.ForeignObject=function(i,r,s,n,a){this.constructor(i,s,e.OBJECT_TYPE_FOREIGNOBJECT,e.OBJECT_CLASS_OTHER),this.element=this.board.select(s.anchor),this.coordsConstructor(r),this._useUserSize=!1,this.size=[1,1],o.exists(a)&&a.length>0&&(this._useUserSize=!0,this.W=o.createFunction(a[0],this.board,""),this.H=o.createFunction(a[1],this.board,""),this.usrSize=[this.W(),this.H()]),this.content=n,this.elType="foreignobject",this.id=this.board.setId(this,"Im"),this.board.renderer.drawForeignObject(this),this.board.finalizeAdding(this),this.methodMap=t.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})},t.ForeignObject.prototype=new r,o.copyPrototypeMethods(t.ForeignObject,n,"coordsConstructor"),t.extend(t.ForeignObject.prototype,{hasPoint:function(t,r){var n,a,h,l,c,d,u,p,f,m=this.transformations.length;return o.isObject(o.evaluate(this.visProp.precision))?(l=this.board._inputDevice,c=o.evaluate(this.visProp.precision[l])):c=this.board.options.precision.hasPoint,0===m?(n=t-this.coords.scrCoords[1],a=this.coords.scrCoords[2]-r,n>=-(h=c)&&n-this.size[0]<=h&&a>=-h&&a-this.size[1]<=h):(u=[(d=(d=new i(e.COORDS_BY_SCREEN,[t,r],this.board)).usrCoords)[0]-this.span[0][0],d[1]-this.span[0][1],d[2]-this.span[0][2]],0<=(p=(f=s.innerProduct)(u,this.span[1]))&&p<=f(this.span[1],this.span[1])&&0<=(p=f(u,this.span[2]))&&p<=f(this.span[2],this.span[2]))},update:function(t){return this.needsUpdate?(this.updateCoords(t),this.updateSize(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateForeignObject")},updateSize:function(){var t=[0,0];return this._useUserSize?(this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)]):this.rendNode.hasChildNodes()&&(t=this.rendNode.childNodes[0].getBoundingClientRect(),this.size=[t.width,t.height]),this},updateSpan:function(){var t,e,i=this.transformations.length,r=[];if(0===i)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(r[0]=[this.Z(),this.X(),this.Y()],r[1]=[this.Z(),this.X()+this.W(),this.Y()],r[2]=[this.Z(),this.X(),this.Y()+this.H()],t=0;t<i;t++)for(e=0;e<3;e++)r[e]=s.matVecMult(this.transformations[t].matrix,r[e]);for(e=0;e<3;e++)r[e][1]/=r[e][0],r[e][2]/=r[e][0],r[e][0]/=r[e][0];for(e=1;e<3;e++)r[e][0]-=r[0][0],r[e][1]-=r[0][1],r[e][2]-=r[0][2];this.span=r}return this},addTransform:function(t){var e;if(o.isArray(t))for(e=0;e<t.length;e++)this.transformations.push(t[e]);else this.transformations.push(t);return this},getParents:function(){var t=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return 0!==this.parents.length&&(t=this.parents),t},setSize:function(t,e){return this.W=o.createFunction(t,this.board,""),this.H=o.createFunction(e,this.board,""),this._useUserSize=!0,this},W:function(){},H:function(){}}),t.createForeignObject=function(e,i,r){var s,a,h=i[0],l=i[1],c=[];if(i.length>=2&&(c=i[2]),s=o.copyAttributes(r,e.options,"foreignobject"),!(a=n.create(t.ForeignObject,e,l,s,h,c)))throw new Error("JSXGraph: Can't create foreignObject with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [string, [x, y], [w, h]], [string, [x, y]], [element,transformation]");return a},t.registerElement("foreignobject",t.createForeignObject),t.registerElement("fo",t.createForeignObject),{ForeignObject:t.ForeignObject,createForeignobject:t.createForeignObject}})),define("options3d",["jxg","options"],(function(t,e){"use strict";return t.extend(e,{infobox:{strokeColor:"black"},axes3d:{axesPosition:"center",xAxis:{visible:!0,point2:{name:"x"}},yAxis:{visible:!0,point2:{name:"y"}},zAxis:{visible:!0,point2:{name:"z"}},xPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},yPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},zPlaneRear:{visible:!0,layer:0,mesh3d:{layer:1}},xPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},yPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},zPlaneFront:{visible:!1,layer:0,mesh3d:{layer:1}},xPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1}},axis3d:{highlight:!1,strokecolor:"black",strokeWidth:1,tabindex:null,point1:{visible:!1,name:""},point2:{visible:!1,name:"",label:{visible:!0}}},mesh3d:{strokeWidth:1,strokeColor:"#9a9a9a",strokeOpacity:.6,highlight:!1,fillColor:"#9a9a9a",fillOpacity:.1,tabindex:null,visible:"inherit"},line3d:{strokeWidth:1,strokeColor:"black",fixed:!0,tabindex:null,gradient:"linear",gradientSecondColor:"#ffffff",point1:{visible:!1,name:""},point2:{visible:!1,name:""}},plane3d:{strokeWidth:0,strokeColor:"black",strokeOpacity:1,highlight:!1,tabindex:null,gradient:"linear",gradientSecondColor:"#ffffff",gradientAngle:Math.PI,fillColor:"#a7a7a7",fillOpacity:.6},point3d:{strokeWidth:0,gradient:"radial",gradientSecondColor:"#555555",fillColor:"yellow",highlightStrokeColor:"#555555"},surface3d:{highlight:!1,tabindex:-1,strokeWidth:1,stepsU:30,stepsV:30},view3d:{needsRegularUpdate:!0}}),t.Options})),define("3d/threed",["jxg"],(function(t){"use strict";return t.ThreeD={},t.ThreeD})),define("3d/view3d",["jxg","options","base/constants","utils/type","math/math","base/element","3d/threed"],(function(t,e,i,r,s,o,n){"use strict";return n.View3D=function(t,e,s){var o,n,a;this.constructor(t,s,i.OBJECT_TYPE_VIEW3D,i.OBJECT_CLASS_CURVE),o=e[2],n=e[0],a=e[1],this.D3={},this.D3.objects={},this.D3.objectsList=[],this.D3.defaultAxes=null,this.D3.matrix=[[1,0,0,0],[0,1,0,0],[0,0,1,0]],this.D3.bbox3d=o,this.D3.coords=n,this.D3.size=a,this.D3.r=-1,this.timeoutAzimuth=null,this.id=this.board.setId(this,"V"),this.board.finalizeAdding(this),this.elType="view3d",this.methodMap=r.deepCopy(this.methodMap,{})},n.View3D.prototype=new o,t.extend(n.View3D.prototype,{create:function(t,e,i){var r,s=[];return t.indexOf("3d")>0&&(!0,s.push(this)),r=this.board.create(t,s.concat(e),i),this.add(r),r},add:function(t){this.D3.objects[t.id]=t,this.D3.objectsList.push(t)},update:function(){var t,e,i,o,n,a=this.D3;return r.exists(a.el_slide)&&r.exists(a.az_slide)&&this.needsUpdate?(t=a.el_slide.Value(),e=a.r,i=a.az_slide.Value(),o=e*Math.sin(t),n=[[1,0,0],[0,1,0],[0,0,1]],a.matrix=[[1,0,0,0],[0,1,0,0],[0,0,1,0]],a.matrix[1][1]=e*Math.cos(i),a.matrix[1][2]=-e*Math.sin(i),a.matrix[2][1]=o*Math.sin(i),a.matrix[2][2]=o*Math.cos(i),a.matrix[2][3]=Math.cos(t),n[1][1]=a.size[0]/(a.bbox3d[0][1]-a.bbox3d[0][0]),n[2][2]=a.size[1]/(a.bbox3d[1][1]-a.bbox3d[1][0]),n[1][0]=a.coords[0]-n[1][1]*a.bbox3d[0][0],n[2][0]=a.coords[1]-n[2][2]*a.bbox3d[1][0],a.matrix=s.matMatMult(n,a.matrix),this):this},updateRenderer:function(){return this.needsUpdate=!1,this},project3DTo2D:function(t,e,i){var r;return r=3===arguments.length?[1,t,e,i]:3===t.length?[1].concat(t):t,s.matVecMult(this.D3.matrix,r)},project2DTo3DPlane:function(t,e,i){var r,o,n,a,h=e.slice(1),l=[1,0,0,0];i=i||[1,0,0,0],a=s.norm(h,3),n=s.innerProduct(i.slice(1),h,3)/a,(r=this.D3.matrix.slice(0,3)).push([0].concat(h)),o=t.coords.usrCoords.concat([n]);try{1===r[2][3]&&(r[2][1]=r[2][2]=.001*s.eps),l=s.Numerics.Gauss(r,o)}catch(t){l=[0,NaN,NaN,NaN]}return l},project3DToCube:function(t){var e=this.D3.bbox3d;return t[1]<e[0][0]&&(t[1]=e[0][0]),t[1]>e[0][1]&&(t[1]=e[0][1]),t[2]<e[1][0]&&(t[2]=e[1][0]),t[2]>e[1][1]&&(t[2]=e[1][1]),t[3]<e[2][0]&&(t[3]=e[2][0]),t[3]>e[2][1]&&(t[3]=e[2][1]),t},intersectionLineCube:function(t,e,i){var r,s,o,n;for(r=i,s=0;s<3;s++)0!==e[s]&&(o=(this.D3.bbox3d[s][0]-t[s])/e[s],n=(this.D3.bbox3d[s][1]-t[s])/e[s],r=i<0?Math.max(r,Math.min(o,n)):Math.min(r,Math.max(o,n)));return r},isInCube:function(t){return t[0]>this.D3.bbox3d[0][0]-s.eps&&t[0]<this.D3.bbox3d[0][1]+s.eps&&t[1]>this.D3.bbox3d[1][0]-s.eps&&t[1]<this.D3.bbox3d[1][1]+s.eps&&t[2]>this.D3.bbox3d[2][0]-s.eps&&t[2]<this.D3.bbox3d[2][1]+s.eps},intersectionPlanePlane:function(t,e,i){var r,o,n,a,h=[[],[]];return i=i||e.D3.d,r=s.Geometry.meet3Planes(t.D3.normal,t.D3.d,e.D3.normal,i,s.crossProduct(t.D3.normal,e.D3.normal),0),o=s.Geometry.meetPlanePlane(t.D3.dir1,t.D3.dir2,e.D3.dir1,e.D3.dir2),n=this.intersectionLineCube(r,o,1/0),a=s.axpy(n,o,r),this.isInCube(a)&&(h[0]=a),n=this.intersectionLineCube(r,o,-1/0),a=s.axpy(n,o,r),this.isInCube(a)&&(h[1]=a),h},getMesh:function(t,e,i,s,o){var n,a,h,l,c,d,u,p=[0,0,0],f=s[2],m=o[2],g=[],b=[];for(d=(r.evaluate(s[1])-r.evaluate(s[0]))/f,u=(r.evaluate(o[1])-r.evaluate(o[0]))/m,n=0;n<=f;n++){for(h=s[0]+d*n,a=0;a<=m;a++)l=o[0]+u*a,p[0]=t(h,l),p[1]=e(h,l),p[2]=i(h,l),c=this.project3DTo2D(p),g.push(c[1]),b.push(c[2]);g.push(NaN),b.push(NaN)}for(a=0;a<=m;a++){for(l=o[0]+u*a,n=0;n<=f;n++)h=s[0]+d*n,p[0]=t(h,l),p[1]=e(h,l),p[2]=i(h,l),c=this.project3DTo2D(p),g.push(c[1]),b.push(c[2]);g.push(NaN),b.push(NaN)}return[g,b]},animateAzimuth:function(){var t=this.D3.az_slide._smin,e=this.D3.az_slide._smax-t,i=this.D3.az_slide.Value()+.1;this.D3.az_slide.position=(i-t)/e,this.D3.az_slide.position>1&&(this.D3.az_slide.position=0),this.board.update(),this.timeoutAzimuth=setTimeout(function(){this.animateAzimuth()}.bind(this),200)},stopAzimuth:function(){clearTimeout(this.timeoutAzimuth),this.timeoutAzimuth=null}}),n.createView3D=function(t,e,i){var s,o,a,h,l,c,d=e[0],u=e[1];return o=r.copyAttributes(i,t.options,"view3d"),(s=new n.View3D(t,e,o)).defaultAxes=s.create("axes3d",e,i),a=d[0],h=d[1],l=u[0],c=u[1],s.D3.az_slide=t.create("slider",[[a-1,h-2],[a+l+1,h-2],[0,1,2*Math.PI]],{style:6,name:"az",point1:{frozen:!0},point2:{frozen:!0}}),s.D3.el_slide=t.create("slider",[[a-1,h],[a-1,h+c],[0,.3,Math.PI/2]],{style:6,name:"el",point1:{frozen:!0},point2:{frozen:!0}}),s.board.highlightInfobox=function(t,e,i){var o;r.exists(i.D3)?"auto"===(o=r.evaluate(i.visProp.infoboxdigits))?s.board.highlightCustomInfobox("("+r.autoDigits(i.D3.X())+" | "+r.autoDigits(i.D3.Y())+" | "+r.autoDigits(i.D3.Z())+")",i):s.board.highlightCustomInfobox("("+r.toFixed(i.D3.X(),o)+" | "+r.toFixed(i.D3.Y(),o)+" | "+r.toFixed(i.D3.Z(),o)+")",i):s.board.highlightCustomInfobox("("+t+", "+e+")",i)},s},t.registerElement("view3d",n.createView3D),n.View3D})),define("3d/box3d",["jxg","utils/type","math/math","math/geometry","3d/view3d"],(function(t,e,i,r,s){"use strict";s.createAxes=function(t,i,r){var s,o,n,a,h,l,c,d,u,p,f,m,g,b,v,y,C,_=i[0],P=["x","y","z"],E="Axis",x=["Rear","Front"],S=[0,0,0],O=[0,0,0],w={};if(e.exists(_.D3))for(s=0;s<P.length;s++)S[s]=_.D3.bbox3d[s][0],O[s]=_.D3.bbox3d[s][1];else for(s=0;s<P.length;s++)S[s]=i[1][s],O[s]=i[2][1];for(c=(l=e.copyAttributes(r,t.options,"axes3d")).axesposition,s=0;s<P.length;s++)v=(d=P[s])+E,"center"===c?(u=[0,0,0],(p=[0,0,0])[s]=O[s],w[v]=_.create("axis3d",[u,p],l[v.toLowerCase()])):(v+="Border",u=S.slice(),p=O.slice(),2===s?(u[1]=O[1],p[0]=S[0]):(u[s]=O[s],p[2]=S[2]),p[s]=O[s],l[v.toLowerCase()].lastArrow=!1,w[v]=_.create("axis3d",[u,p],l[v.toLowerCase()]),C={visible:!0,minorTicks:0,tickEndings:[0,1],drawLabels:!1},2===s&&(C.tickEndings=[1,0]),w[v+"Ticks"]=_.create("ticks",[w[v],1],C));for(w.O=t.create("intersection",[w[P[0]+E],w[P[1]+E]],{name:"",visible:!1,withLabel:!1}),s=0;s<P.length;s++)for(a=(s+1)%3,h=(s+2)%3,d=P[s],o=0;o<x.length;o++)(u=[0,0,0])[s]=0===o?S[s]:O[s],m=[0,0,0],(f=[0,0,0])[a]=1,m[h]=1,g=[S[a],O[a]],b=[S[h],O[h]],v=d+"Plane"+x[o],l=e.copyAttributes(r,t.options,"axes3d",v),w[v]=_.create("plane3d",[u,f,m,g,b],l),w[v].D3.elType="axisplane3d";for(s=0;s<P.length;s++)for(d=P[s],o=0;o<x.length;o++)for(n=1;n<=2;n++)v=d+"Plane"+x[o]+P[a=(s+n)%3].toUpperCase()+"Axis",y=d+"Plane"+x[o],(u=[0,0,0])[s]=(p=[0,0,0])[s]=0===o?S[s]:O[s],u[a]=S[a],p[a]=O[a],l=e.copyAttributes(r,t.options,"axes3d",v),w[v]=_.create("axis3d",[u,p],l),w[y].addChild(w[v]),w[y].inherits.push(w[v]);return w},t.registerElement("axes3d",s.createAxes),s.createAxis=function(t,i,r){var s,o,n,a,h,l,c=i[0],d=i[1],u=i[2];return s=e.copyAttributes(r.point1,t.options,"axis3d","point1"),o=t.create("point",[(a=d[0],h=d[1],l=d[2],function(){return c.project3DTo2D(a,h,l)[1]}),function(t,e,i){return function(){return c.project3DTo2D(t,e,i)[2]}}(d[0],d[1],d[2])],s),s=e.copyAttributes(r.point2,t.options,"axis3d","point2"),n=t.create("point",[function(t,e,i){return function(){return c.project3DTo2D(t,e,i)[1]}}(u[0],u[1],u[2]),function(t,e,i){return function(){return c.project3DTo2D(t,e,i)[2]}}(u[0],u[1],u[2])],s),s=e.copyAttributes(r,t.options,"axis3d"),t.create("arrow",[o,n],s)},t.registerElement("axis3d",s.createAxis),s.createMesh=function(i,r,s){var o,n=r[0],a=r[1],h=r[2],l=r[3],c=r[4],d=r[5];return(o=i.create("curve",[[],[]],s)).updateDataArray=function(){var i,r,s,o,u=l[0],p=l[1],f=d[0],m=d[1],g=[0,0,0],b=[0,0,0],v=[0,0,0];for(this.dataX=[],this.dataY=[],o=0;o<3;o++)v[o]=e.evaluate(a[o]),g[o]=e.evaluate(h[o]),b[o]=e.evaluate(c[o]);for(i=t.Math.norm(g,3),r=t.Math.norm(b,3),o=0;o<3;o++)g[o]/=i,b[o]/=r;s=n.getMesh((function(t,e){return v[0]+t*g[0]+e*b[0]}),(function(t,e){return v[1]+t*g[1]+e*b[1]}),(function(t,e){return v[2]+t*g[2]+e*b[2]}),[Math.ceil(u),Math.floor(p),(Math.ceil(p)-Math.floor(u))/1],[Math.ceil(f),Math.floor(m),(Math.ceil(m)-Math.floor(f))/1]),this.dataX=s[0],this.dataY=s[1]},o},t.registerElement("mesh3d",s.createMesh)})),define("3d/curve3d",["jxg","utils/type","3d/view3d"],(function(t,e,i){"use strict";i.createCurve=function(t,i,r){var s,o,n=i[0];return(s={elType:"curve3D",X:i[1],Y:i[2],Z:i[3]}).F=[s.X,s.Y,s.Z],(o=t.create("curve",[[],[]],r)).D3=s,e.isFunction(o.D3.X)?(o.D3.range=i[4],o.updateDataArray=function(){var t,i,r,s=e.evaluate(this.visProp.numberpointshigh),o=e.evaluate(this.D3.range[0]),a=e.evaluate(this.D3.range[1]),h=(a-o)/(s-1),l=[0,0,0];for(this.dataX=[],this.dataY=[],i=o;i<=a;i+=h){for(r=0;r<3;r++)l[r]=this.D3.F[r](i);t=n.project3DTo2D(l),this.dataX.push(t[1]),this.dataY.push(t[2])}}):e.isArray(o.D3.X)&&(o.updateDataArray=function(){var t,e,i=this.D3.X.length;for(this.dataX=[],this.dataY=[],t=0;t<i;t++)e=n.project3DTo2D([this.D3.X[t],this.D3.Y[t],this.D3.Z[t]]),this.dataX.push(e[1]),this.dataY.push(e[2])}),o},t.registerElement("curve3d",i.createCurve)})),define("3d/linspace3d",["jxg","utils/type","math/math","math/geometry","3d/view3d"],(function(t,e,i,r,s){"use strict";s.createLine=function(t,i,r){var s,o,n,a,h,l,c=i[0];return o={elType:"line3d",range:i[3]||[-1/0,1/0]},n=e.isPoint(i[1])?i[1]:c.create("point3d",i[1],{visible:!1,name:"",withLabel:!1}),o.point=n,e.isPoint(i[2])&&e.exists(i[2].D3)?(a=n,h=i[2],o.direction=function(){return[h.D3.X()-n.D3.X(),h.D3.Y()-n.D3.Y(),h.D3.Z()-n.D3.Z()]},o.range=[0,1]):(e.isFunction(i[2])?o.direction=i[2]:3===i[2].length?o.direction=[1].concat(i[2]):4===i[2].length&&(o.direction=i[2]),o.getPointCoords=function(t){var i,r=[],s=[];if(r.push(n.D3.X()),r.push(n.D3.Y()),r.push(n.D3.Z()),e.isFunction(o.direction))s=o.direction();else for(i=1;i<4;i++)s.push(e.evaluate(o.direction[i]));return Math.abs(t)===1/0&&(t=c.intersectionLineCube(r,s,t)),[r[0]+s[0]*t,r[1]+s[1]*t,r[2]+s[2]*t]},s=e.copyAttributes(r,t.options,"line3d","point1"),a=c.create("point3d",[function(){return o.getPointCoords(e.evaluate(o.range[0]))}],s),s=e.copyAttributes(r,t.options,"line3d","point2"),h=c.create("point3d",[function(){return o.getPointCoords(e.evaluate(o.range[1]))}],s)),s=e.copyAttributes(r,t.options,"line3d"),(l=c.create("segment",[a,h],s)).point1=a,l.point2=h,a.addChild(l),h.addChild(l),l.D3=o,l},t.registerElement("line3d",s.createLine),s.createPlane=function(t,s,o){var n,a,h,l,c,d=s[0],u=s[2],p=s[3];return a={elType:"plane3d",dir1:[],dir2:[],range1:s[4],range2:s[5],vec1:u,vec2:p},h=e.isPoint(s[1])?s[1]:d.create("point3d",s[1],{visible:!1,name:"",withLabel:!1}),a.point=h,a.updateNormal=function(){var t;for(t=0;t<3;t++)a.dir1[t]=e.evaluate(a.vec1[t]),a.dir2[t]=e.evaluate(a.vec2[t]);a.normal=i.crossProduct(a.dir1,a.dir2),a.d=i.innerProduct(a.point.D3.coords.slice(1),a.normal,3)},a.updateNormal(),n=e.copyAttributes(o,t.options,"plane3d"),(l=t.create("curve",[[],[]],n)).D3=a,l.updateDataArray=function(){var t,s,o,n,h,l,c,u,p,f,m,g,b,v,y=["xPlaneRear","yPlaneRear","zPlaneRear"],C=[],_=[0,0,0],P=[0,0,0],E=[0,0,0],x=[0,0,0];if(this.dataX=[],this.dataY=[],this.D3.updateNormal(),"axisplane3d"===this.D3.elType||!d.defaultAxes||a.range1&&a.range2){for(t=e.evaluate(this.D3.range1[0]),s=e.evaluate(this.D3.range1[1]),o=e.evaluate(this.D3.range2[0]),n=e.evaluate(this.D3.range2[1]),E=this.D3.point.D3.coords.slice(1),_=this.D3.dir1.slice(),P=this.D3.dir2.slice(),l=i.norm(_,3),c=i.norm(P,3),p=0;p<3;p++)_[p]/=l,P[p]/=c;for(f=0;f<4;f++){switch(f){case 0:m=t,g=o;break;case 1:m=s,g=o;break;case 2:m=s,g=n;break;case 3:m=t,g=n}for(p=0;p<3;p++)x[p]=E[p]+m*_[p]+g*P[p];h=d.project3DTo2D(x),this.dataX.push(h[1]),this.dataY.push(h[2])}this.dataX.push(this.dataX[0]),this.dataY.push(this.dataY[0])}else{for(f=0;f<y.length;f++){if(3===(x=d.intersectionPlanePlane(this,d.defaultAxes[y[f]]))[0].length&&3===x[1].length){for(p=0;p<C.length&&!(r.distance(x[0],C[p][0],3)<i.eps&&r.distance(x[1],C[p][1],3)<i.eps||r.distance(x[0],C[p][1],3)<i.eps&&r.distance(x[1],C[p][0],3)<i.eps);p++);p===C.length&&C.push(x.slice())}if((x=[0,0,0])[f]=d.D3.bbox3d[f][1],u=i.innerProduct(x,d.defaultAxes[y[f]].D3.normal,3),3===(x=d.intersectionPlanePlane(this,d.defaultAxes[y[f]],u))[0].length&&3===x[1].length){for(p=0;p<C.length&&!(r.distance(x[0],C[p][0],3)<i.eps&&r.distance(x[1],C[p][1],3)<i.eps||r.distance(x[0],C[p][1],3)<i.eps&&r.distance(x[1],C[p][0],3)<i.eps);p++);p===C.length&&C.push(x.slice())}}0,b=0,p=0;do{for(3===(x=C[b][p]).length&&(h=d.project3DTo2D(x),this.dataX.push(h[1]),this.dataY.push(h[2])),p=(p+1)%2,x=C[b][p],v=b,f=0;f<C.length;f++){if(f!==b&&r.distance(x,C[f][0])<i.eps){b=f,p=0;break}if(f!==b&&r.distance(x,C[f][1])<i.eps){b=f,p=1;break}}if(b===v){console.log("Error: update plane3d: did not find next",b);break}}while(0!==b);h=d.project3DTo2D(C[0][0]),this.dataX.push(h[1]),this.dataY.push(h[2])}},n=e.copyAttributes(o.mesh3d,t.options,"mesh3d"),a.range1&&a.range2&&(c=d.create("mesh3d",[h.D3.coords.slice(1),u,a.range1,p,a.range2],n),l.grid=c,l.inherits.push(c)),l},t.registerElement("plane3d",s.createPlane)})),define("3d/point3d",["jxg","base/constants","math/math","math/geometry","utils/type","3d/view3d"],(function(t,e,i,r,s,o){"use strict";o.createPoint=function(t,o,n){var a,h,l,c,d,u,p=o[0];if(a=s.copyAttributes(n,t.options,"point3d"),l={elType:"point3d",coords:[1,0,0,0],X:function(){return this.coords[1]},Y:function(){return this.coords[2]},Z:function(){return this.coords[3]}},o.length>2&&s.exists(o[o.length-1].D3)?l.slide=o.pop():l.slide=null,2===o.length)l.F=o[1],l.coords=[1].concat(s.evaluate(l.F));else if(4===o.length)for(l.F=o.slice(1),c=0;c<3;c++)l.coords[c+1]=s.evaluate(l.F[c]);return l.updateCoords=function(){var t,e;if(s.isFunction(this.F))t=s.evaluate(this.F),this.coords=[1,t[0],t[1],t[2]];else for(this.coords[0]=1,e=0;e<3;e++)s.isFunction(this.F[e])&&(this.coords[e+1]=s.evaluate(this.F[e]));return this},l.updateCoords(),d=p.project3DTo2D(l.coords),(u=t.create("point",d,a)).D3=l,u.D3.c2d=u.coords.usrCoords.slice(),h=u.update,u.D3.slide&&(u._minFunc=function(t,e,i,r){var s=u.D3.slide.D3,o=[1,s.X(i[0],i[1]),s.Y(i[0],i[1]),s.Z(i[0],i[1])],n=p.project3DTo2D(o);return r[0]=u.X()-n[1],r[1]=u.Y()-n[2],r[0]*r[0]+r[1]*r[1]},u.projectCoords2Surface=function(){var t,r,o=[0,0],n=this.D3.slide.D3;s.exists(this.D3.params)&&(o=this.D3.params.slice()),i.Nlp.FindMinimum(this._minFunc,2,2,o,5,1e-6,0,200),t=[1,n.X(o[0],o[1]),n.Y(o[0],o[1]),n.Z(o[0],o[1])],r=p.project3DTo2D(t),this.D3.params=o,this.D3.coords=t,this.coords.setCoordinates(e.COORDS_BY_USER,r),this.D3.c2d=r}),u.update=function(t){var i,s;return this.needsUpdate?(this.draggable()&&0!==r.distance(this.D3.c2d,this.coords.usrCoords)?this.D3.slide?this.projectCoords2Surface():(s=[1,0,0,this.D3.coords[3]],0!==(i=p.project2DTo3DPlane(u,[1,0,0,1],s))[0]&&(this.D3.coords=p.project3DToCube(i))):(this.D3.updateCoords(),u.coords.setCoordinates(e.COORDS_BY_USER,p.project3DTo2D([1,this.D3.X(),this.D3.Y(),this.D3.Z()]))),this.D3.c2d=u.coords.usrCoords.slice(),h.apply(this,[t]),this):this},u},t.registerElement("point3d",o.createPoint)})),define("3d/surface3d",["jxg","utils/type","3d/view3d"],(function(t,e,i){"use strict";i.createParametricSurface=function(t,i,r){var s,o,n,a=i[0];return o={elType:"surface3d",X:i[1],Y:i[2],Z:i[3],range_u:i[4],range_v:i[5]},s=e.copyAttributes(r,t.options,"surface3d"),(n=t.create("curve",[[],[]],s)).updateDataArray=function(){var t=e.evaluate(this.visProp.stepsu),i=e.evaluate(this.visProp.stepsv),r=e.evaluate(this.D3.range_u),s=e.evaluate(this.D3.range_v),o=a.getMesh(this.D3.X,this.D3.Y,this.D3.Z,r.concat([t]),s.concat([i]));this.dataX=o[0],this.dataY=o[1]},n.D3=o,n},t.registerElement("parametricsurface3d",i.createParametricSurface),i.createFunctiongraph=function(t,e,i){var r=e[0],s=e[1],o=e[2],n=e[3];return r.create("parametricsurface3d",[function(t,e){return t},function(t,e){return e},s,o,n],i)},t.registerElement("functiongraph3d",i.createFunctiongraph)})),define("../build/core.deps.js",["jxg","utils/env","base/constants","utils/type","utils/xml","utils/event","utils/expect","math/math","math/probfuncs","math/ia","math/extrapolate","math/qdt","math/numerics","math/nlp","math/plot","math/metapost","math/statistics","math/symbolic","math/geometry","math/clip","math/poly","math/complex","renderer/abstract","reader/file","parser/geonext","base/board","options","jsxgraph","base/element","base/coords","base/coordselement","base/point","base/line","base/group","base/circle","element/conic","base/polygon","base/curve","element/arc","element/sector","base/composition","element/composition","element/locus","base/text","base/image","element/slider","element/measure","base/chart","base/transformation","base/turtle","utils/color","base/ticks","utils/zip","utils/base64","utils/uuid","utils/encoding","server/server","parser/datasource","parser/jessiecode","parser/ca","utils/dump","renderer/svg","renderer/vml","renderer/canvas","renderer/no","element/comb","element/slopetriangle","element/checkbox","element/input","element/button","base/foreignobject","options3d","3d/box3d","3d/curve3d","3d/linspace3d","3d/point3d","3d/surface3d","3d/threed","3d/view3d"],(function(t,e){"use strict";return e.isBrowser?window.JXG=t:e.isNode()&&"object"=="object"?module.exports=t:e.isWebWorker()&&(self.JXG=t),t})),require("../build/core.deps.js")}));

/***/ }),

/***/ "./gui/chartview.ts":
/*!**************************!*\
  !*** ./gui/chartview.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FunctionEditView = exports.SliderView = exports.FunctionView = exports.FunctionsView = exports.ChartView = void 0;
const framework_1 = __webpack_require__(/*! ./framework */ "./gui/framework.ts");
const JXG = __importStar(__webpack_require__(/*! jsxgraph */ "./node_modules/jsxgraph/distrib/jsxgraphcore.js"));
class ChartView extends framework_1.View {
    chart;
    btnClose;
    btnRedraw;
    functionsView;
    board;
    colors = ["#A64499", "#84d4c9", "#fbc994"];
    graphs = [];
    constructor() {
        super(document.getElementById("plotOverlay"));
        this.chart = this.element[0].querySelector("#chart");
        this.btnClose = this.element[0].querySelector("#btnClose");
        this.btnRedraw = this.element[0].querySelector("#btnRedraw");
        this.btnRedraw.onclick = this.onButtonRedraw.bind(this);
        this.functionsView = new FunctionsView();
        this.functionsView.onkeyenter = this.onButtonRedraw.bind(this);
        this.functionsView.onpropertychange = (sender, view, property, value) => {
            if (property == "visible") {
                if (value) {
                    var index = this.functionsView.indexOf(view);
                    var m = view.getModel();
                    var graph = this.addGraph(m.function, this.colors[index]);
                    this.graphs[index] = graph;
                }
                else {
                    var index = this.functionsView.indexOf(view);
                    this.board.removeObject(this.graphs[index]);
                    this.graphs[index] = null;
                }
            }
        };
        this.functionsView.onchange = (sender, view, value) => {
        };
    }
    onButtonRedraw() {
        var model = this.functionsView.getModel();
        this.redraw(model);
    }
    get onbuttonclose() {
        return this.btnClose.onclick;
    }
    set onbuttonclose(value) {
        this.btnClose.onclick = value;
    }
    addGraph(func, color) {
        try {
            var d = this.board.jc.snippet(func, true, 'x', true);
        }
        catch (ex) {
            return null;
        }
        var graph = this.board.create("functiongraph", d, { strokeColor: color });
        return graph;
    }
    redraw(functions) {
        this.board.removeObject(this.graphs);
        this.graphs.length = 0;
        for (var c = 0; c < functions.length; c++) {
            var f = functions[c];
            if (!f.visible)
                continue;
            var graph = this.addGraph(f.function, this.colors[c]);
            this.graphs[c] = graph;
        }
    }
    setModel(value) {
        this.visible = value.visible;
        this.functionsView.setModel(value.functions);
        if (this.board != null)
            JXG.JSXGraph.freeBoard(this.board);
        this.board = JXG.JSXGraph.initBoard('chart', {
            boundingbox: [-5, 5, 5, -5],
            keepAspectRatio: true,
            axis: true,
            showCopyright: false,
            resize: { enabled: true, throttle: 200 },
            zoom: true,
            pan: true
        });
        this.redraw(value.functions);
    }
    getModel() {
        throw new Error("Method not implemented.");
    }
    dispose() {
        this.btnClose.onclick = null;
        this.btnRedraw.onclick = null;
        this.functionsView.clear();
        this.functionsView.onkeyenter = null;
        if (this.board != null)
            JXG.JSXGraph.freeBoard(this.board);
        this.graphs.length = 0;
        this.board = null;
    }
}
exports.ChartView = ChartView;
class FunctionsView extends framework_1.ViewList {
    onkeyenter;
    constructor() {
        super(document.querySelector("#plotOverlayContainer>.functions"));
        this.element.onkeydown = ((ev) => {
            if (ev.key == "Enter" && this.onkeyenter) {
                this.onkeyenter();
            }
        });
    }
    createViewmodel(model) {
        var f = new FunctionView();
        f.setModel(model);
        return f;
    }
    dispose() {
        this.element.onkeydown = null;
    }
}
exports.FunctionsView = FunctionsView;
class FunctionView extends framework_1.View {
    visibleView;
    functionEditView;
    constructor() {
        var visibleView = new SliderView();
        var functionEditView = new FunctionEditView();
        super([visibleView.element[0], functionEditView.element[0]]);
        this.visibleView = visibleView;
        this.functionEditView = functionEditView;
        this.visibleView.onchange = (sender, value) => {
            this.emitPropertyChange("visible", value);
        };
    }
    setModel(value) {
        this.visibleView.setModel(value.visible);
        this.functionEditView.setModel(value.function);
    }
    getModel() {
        return { function: this.functionEditView.getModel(), visible: this.visibleView.getModel() };
    }
    dispose() {
        this.visibleView.dispose();
        this.functionEditView.dispose();
    }
}
exports.FunctionView = FunctionView;
class SliderView extends framework_1.View {
    checkbox;
    constructor() {
        var l = document.createElement("label");
        l.className = "switch";
        var i = document.createElement("input");
        i.type = "checkbox";
        var s = document.createElement("span");
        s.className = "slider";
        l.appendChild(i);
        l.appendChild(s);
        super(l);
        this.checkbox = i;
        i.onchange = () => {
            var value = this.checkbox.checked;
            this.emitChange(value);
        };
    }
    setModel(value) {
        this.checkbox.checked = value;
    }
    getModel() {
        return this.checkbox.checked;
    }
    dispose() {
    }
}
exports.SliderView = SliderView;
class FunctionEditView extends framework_1.View {
    textBox;
    constructor() {
        super(document.getElementById("tmplEditFunction"));
        this.textBox = this.element[0];
    }
    setModel(value) {
        this.textBox.value = value;
    }
    getModel() {
        return this.textBox.value;
    }
    dispose() {
    }
}
exports.FunctionEditView = FunctionEditView;


/***/ }),

/***/ "./gui/framework.ts":
/*!**************************!*\
  !*** ./gui/framework.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.View = exports.ViewList = void 0;
class ViewList {
    set = new Set();
    container;
    element;
    onchange = null;
    onpropertychange = null;
    onadd = null;
    onremove = null;
    constructor(htmlElement, containerSelector, iterable) {
        if (htmlElement.tagName == "TEMPLATE") {
            this.element = htmlElement.content.cloneNode(true);
        }
        else {
            this.element = htmlElement;
        }
        this.container = containerSelector ? this.element.querySelector(containerSelector) : this.element;
        if (iterable) {
            for (var c of iterable) {
                this.add(c);
            }
        }
    }
    appendTo(target) {
        target.appendChild(this.element);
    }
    indexOf(view) {
        var index = 0;
        for (var c of this) {
            if (c === view)
                return index;
            index++;
        }
        return -1;
    }
    add(value) {
        var view = this.createViewmodel(value);
        view.appendTo(this.container);
        this.set.add(view);
        view.onchange = (sender, value) => {
            if (this.onchange != null)
                this.onchange(this, sender, value);
        };
        view.onpropertychange = (sender, property, value) => {
            if (this.onpropertychange != null)
                this.onpropertychange(this, sender, property, value);
        };
        if (this.onadd != null)
            this.onadd(this, view, value);
        return view;
    }
    clear() {
        for (var c of this.set.keys()) {
            c.remove();
            c.dispose();
        }
        this.set.clear();
    }
    delete(view) {
        if (!this.set.delete(view))
            return false;
        if (this.onremove != null)
            this.onremove(this, view);
        view.remove();
        view.dispose();
        return true;
    }
    has(value) {
        return this.set.has(value);
    }
    get size() {
        return this.set.size;
    }
    *[Symbol.iterator]() {
        for (var i of this.set) {
            yield i;
        }
    }
    setModel(values) {
        this.clear();
        for (var m of values) {
            this.add(m);
        }
    }
    getModel() {
        var arr = [];
        for (var m of this) {
            arr.push(m.getModel());
        }
        return arr;
    }
    set visible(value) {
        var visibility = value ? "visible" : "hidden";
        this.element.style.visibility = visibility;
    }
    set display(value) {
        this.element.style.display = value;
    }
}
exports.ViewList = ViewList;
class View {
    _element = [];
    get element() {
        return this._element;
    }
    onchange = null;
    onpropertychange = null;
    constructor(htmlElement) {
        if (Array.isArray(htmlElement)) {
            var arr = htmlElement;
            for (var e of arr) {
                this._element.push(e);
            }
        }
        else if (htmlElement.tagName == "TEMPLATE") {
            this._element = [htmlElement.content.firstElementChild.cloneNode(true)];
        }
        else {
            this._element = [htmlElement];
        }
    }
    remove() {
        for (var e of this._element) {
            e.remove();
        }
    }
    appendTo(target) {
        for (var e of this._element) {
            target.appendChild(e);
        }
    }
    emitChange(value) {
        if (this.onchange != null)
            this.onchange(this, value);
    }
    emitPropertyChange(property, value) {
        if (this.onpropertychange != null)
            this.onpropertychange(this, property, value);
    }
    /**Overwrite this method for unregistering events */
    dispose() {
        this.onchange = null;
        this.onpropertychange = null;
    }
    set visible(value) {
        var visibility = value ? "visible" : "hidden";
        for (var e of this._element) {
            e.style.visibility = visibility;
        }
    }
    set display(value) {
        for (var e of this._element) {
            e.style.display = value;
        }
    }
}
exports.View = View;


/***/ }),

/***/ "./gui/presenter.ts":
/*!**************************!*\
  !*** ./gui/presenter.ts ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const view_1 = __webpack_require__(/*! ./view */ "./gui/view.ts");
const chartview_1 = __webpack_require__(/*! ./chartview */ "./gui/chartview.ts");
const solver = __importStar(__webpack_require__(/*! ../src/solver */ "./src/solver.ts"));
let divideOverlay = document.getElementById("divideOverlay");
var chartView = null;
var main = new view_1.MainView();
main.setModel({ polynomEdit: [null, null, null], solution: []
});
main.onbuttonadd = () => {
    if (main.polynomeditview.degree < 20)
        main.polynomeditview.push(null);
};
main.onbuttonremove = () => {
    if (main.polynomeditview.degree > 1)
        main.polynomeditview.pop();
};
function closeChartView() {
    if (chartView == null)
        return;
    chartView.visible = false;
    chartView.dispose();
    chartView = null;
}
main.onbuttonplot = () => {
    var model = main.polynomeditview.getModel();
    history.pushState("", "", "");
    chartView = new chartview_1.ChartView();
    chartView.onbuttonclose = () => {
        closeChartView();
    };
    var derivates = solver.calculateDerivates(model);
    derivates.unshift(model);
    derivates.length = Math.min(3, derivates.length - 1);
    var functions = derivates.map((p) => { return { function: solver.toString(p, 4), visible: true }; });
    chartView.setModel({ visible: true, functions });
};
main.polynomeditview.onkeyenter = () => {
    solve();
};
main.onbuttonsolve = () => {
    solve();
};
function formatResult(result) {
    var r = result.map(p => p.mul(10000).round().div(10000).toString());
    return r.toString();
}
function solve() {
    var m = main.polynomeditview.getModel();
    var polynom = solver.$(...m);
    var result = solver.solve(polynom, new solver.Decimal("0.00001"), 256);
    if (result == null)
        return;
    var derivations = solver.calculateDerivates(polynom);
    derivations.unshift(polynom);
    var max = Math.min(result.length - 1, 2);
    for (var c = max; c >= 0; c--) {
        var zero = result[c].zeros;
        var p = derivations[c];
        var solution = formatResult(zero);
        var view = main.solutionsview.add({ solution, polynom: p });
        if (c == max && main.solutionsview.size > 1) {
            view.seperator = true;
        }
    }
    main.solutionsview.scrollToBottom();
}
window.addEventListener("popstate", function (e) {
    //alert("back")
    closeChartView();
});


/***/ }),

/***/ "./gui/view.ts":
/*!*********************!*\
  !*** ./gui/view.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MainView = exports.FactorEditView = exports.PolynomEditView = exports.PolynomView = exports.SolutionView = exports.SolutionsView = void 0;
const framework_1 = __webpack_require__(/*! ./framework */ "./gui/framework.ts");
const solver_1 = __webpack_require__(/*! ../src/solver */ "./src/solver.ts");
class SolutionsView extends framework_1.ViewList {
    tableContainer = document.getElementById("tableContainer");
    constructor() {
        super(document.getElementById("table").getElementsByTagName("tbody")[0]);
    }
    createViewmodel(model) {
        var view = new SolutionView();
        view.setModel(model);
        return view;
    }
    scrollToBottom() {
        this.tableContainer.scrollTo(0, this.tableContainer.scrollHeight);
    }
    dispose() {
    }
}
exports.SolutionsView = SolutionsView;
class SolutionView extends framework_1.View {
    polynom;
    static tmplDisplaySolution = document.getElementById("tmplDisplaySolution");
    constructor() {
        super(document.getElementById("tmplDisplayRow"));
        this.polynom = new PolynomView();
    }
    get seperator() {
        return this.element[0].classList.contains("seperator");
    }
    set seperator(value) {
        if (value) {
            this.element[0].classList.add("seperator");
        }
        else {
            this.element[0].classList.remove("seperator");
        }
    }
    setModel(value) {
        this.polynom.setModel(value.polynom);
        var tr = this.element[0];
        var c1 = tr.children[0];
        c1.innerHTML = "";
        c1.appendChild(this.polynom.element[0]);
        var displaySolution = SolutionView.tmplDisplaySolution.content.cloneNode(true).querySelector(".displaysolution");
        displaySolution.innerHTML = value.solution;
        var c2 = tr.children[1];
        c2.innerHTML = "";
        c2.appendChild(displaySolution);
    }
    dispose() {
    }
    getModel() {
        throw new Error("Method not implemented.");
    }
}
exports.SolutionView = SolutionView;
class PolynomView extends framework_1.View {
    static tmplXtext = document.getElementById("tmplXtext");
    constructor() {
        super(document.getElementById("tmplFormula"));
    }
    setModel(value) {
        this.element[0].innerHTML = "";
        var degree = value.length - 1;
        var first = true;
        for (var c = 0; c < value.length; c++) {
            var v = value[c];
            if (v.isZero()) {
                continue;
            }
            var xtext = PolynomView.tmplXtext.content.cloneNode(true);
            var factor = xtext.querySelector(".factor");
            factor.innerHTML = v.abs().mul(10000).round().div(10000).toString();
            if (c != degree) {
                xtext.querySelector(".variablename").innerHTML = "x";
                var exponent = xtext.querySelector(".exponent");
                exponent.innerHTML = (degree - c).toString();
                if (c == degree - 1)
                    exponent.style.display = "none";
            }
            if (!first || v.isNegative()) {
                var sign = v.isPositive() ? "+" : "-";
                if (!first)
                    sign += " ";
                xtext.querySelector(".sign").innerHTML = sign;
            }
            this.element[0].appendChild(xtext);
            first = false;
        }
    }
    dispose() {
    }
    getModel() {
        throw new Error("Method not implemented.");
    }
}
exports.PolynomView = PolynomView;
class PolynomEditView extends framework_1.View {
    get degree() {
        return this.factorEditViews.length - 1;
    }
    editRowContainer;
    factorEditViews = [];
    onkeyenter;
    constructor() {
        super(document.getElementById("tmplEditRow"));
        this.editRowContainer = this.element[0];
        this.editRowContainer.onkeydown = ((ev) => {
            if (ev.key == "Enter" && this.onkeyenter) {
                this.onkeyenter();
            }
        });
    }
    setModel(value) {
        this.editRowContainer.innerHTML = "";
        this.factorEditViews.length = 0;
        var degree = value.length - 1;
        for (var c = degree; c >= 0; c--) {
            var v = new FactorEditView();
            v.setModel(value[degree - c]);
            v.degree = c;
            this.factorEditViews.push(v);
            this.editRowContainer.appendChild(v.element[0]);
        }
    }
    push(value) {
        var v = new FactorEditView();
        v.setModel(value);
        v.degree = this.factorEditViews.length;
        this.factorEditViews.unshift(v);
        this.editRowContainer.prepend(v.element[0]);
    }
    pop() {
        if (this.factorEditViews.shift() === undefined)
            return;
        this.editRowContainer.firstElementChild.remove();
    }
    getModel() {
        return this.factorEditViews.map(p => p.getModel());
    }
    dispose() {
        this.editRowContainer.onkeydown = null;
    }
}
exports.PolynomEditView = PolynomEditView;
class FactorEditView extends framework_1.View {
    static tmplXtext = document.getElementById("tmplXedit");
    factor;
    _degree;
    get degree() {
        return this._degree;
    }
    set degree(value) {
        this._degree = value;
        if (this.degree != 0) {
            this.element[0].querySelector(".variablename").innerHTML = "x";
            var exponent = this.element[0].querySelector(".exponent");
            exponent.innerHTML = this.degree.toString();
            if (this.degree == 1)
                exponent.style.display = "none";
            this.element[0].querySelector(".sign").innerHTML = "+";
        }
        else {
            this.element[0].querySelector(".sign").innerHTML = "=0";
        }
    }
    constructor() {
        super(FactorEditView.tmplXtext);
        this.factor = this.element[0].querySelector(".factor");
    }
    setModel(value) {
        this.factor.value = value === null || value.isNaN() ? "" : value.toString();
    }
    getModel() {
        var decimal;
        try {
            decimal = new solver_1.Decimal(this.factor.value.trim());
        }
        catch (ex) {
            return new solver_1.Decimal(0);
        }
        return decimal.isNaN() ? new solver_1.Decimal(0) : decimal;
    }
    dispose() {
    }
}
exports.FactorEditView = FactorEditView;
class MainView extends framework_1.View {
    btnAdd = document.getElementById("btnAdd");
    btnRemove = document.getElementById("btnRemove");
    btnSolve = document.getElementById("btnSolve");
    btnPlot = document.getElementById("btnPlot");
    btnDivide = document.getElementById("btnDivide");
    polynomeditview;
    solutionsview;
    get onbuttonadd() {
        return this.btnAdd.onclick;
    }
    set onbuttonadd(value) {
        this.btnAdd.onclick = value;
    }
    get onbuttonremove() {
        return this.btnRemove.onclick;
    }
    set onbuttonremove(value) {
        this.btnRemove.onclick = value;
    }
    get onbuttonsolve() {
        return this.btnSolve.onclick;
    }
    set onbuttonsolve(value) {
        this.btnSolve.onclick = value;
    }
    get onbuttonplot() {
        return this.btnPlot.onclick;
    }
    set onbuttonplot(value) {
        this.btnPlot.onclick = value;
    }
    get onbuttondivide() {
        return this.btnDivide.onclick;
    }
    set onbuttondivide(value) {
        this.btnDivide.onclick = value;
    }
    constructor() {
        super(document.body);
        this.solutionsview = new SolutionsView();
        this.polynomeditview = new PolynomEditView();
        var topContainer = document.getElementById("topContainer");
        this.polynomeditview.appendTo(topContainer);
    }
    setModel(value) {
        this.polynomeditview.setModel(value.polynomEdit);
        this.solutionsview.setModel(value.solution);
    }
    getModel() {
        return { solution: this.solutionsview.getModel(), polynomEdit: this.polynomeditview.getModel() };
    }
    dispose() {
        throw new Error("Method not implemented.");
    }
}
exports.MainView = MainView;


/***/ }),

/***/ "./src/solver.ts":
/*!***********************!*\
  !*** ./src/solver.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isolateRoots = exports.solve = exports.toString = exports.$ = exports.antiderivative = exports.simplyfyPolynom = exports.generatePolynomFromRoots = exports.multiplicate = exports.isFunctionAscendingToTheLeft = exports.isFunctionAscendingToTheRight = exports.mergeNeighbouringRoots = exports.calculate = exports.derivative = exports.calculateDerivates = exports.bisect = exports.newtonIterate = exports.superacid = exports.getIntervalsInPolynom = exports.Decimal = void 0;
const decimal_js_1 = __webpack_require__(/*! decimal.js */ "./node_modules/decimal.js/decimal.js");
Object.defineProperty(exports, "Decimal", ({ enumerable: true, get: function () { return decimal_js_1.Decimal; } }));
decimal_js_1.Decimal.set({ precision: 96 });
const negativeInfinity = new decimal_js_1.Decimal(Number.NEGATIVE_INFINITY);
const positiveInfinity = new decimal_js_1.Decimal(Number.POSITIVE_INFINITY);
const zero = new decimal_js_1.Decimal(0);
const one = new decimal_js_1.Decimal(1);
const two = new decimal_js_1.Decimal(2);
const nan = new decimal_js_1.Decimal(Number.NaN);
function* getIntervalsInPolynom(...sortedDerivateZeros) {
    var left, right;
    var index = sortedDerivateZeros.length;
    if (index == 0) {
        yield { left: negativeInfinity, right: positiveInfinity, start: zero };
        return;
    }
    right = sortedDerivateZeros[0];
    yield { left: negativeInfinity, right, start: right.sub(one) };
    for (var i = 1; i < index; i++) {
        left = right;
        right = sortedDerivateZeros[i];
        if (left.greaterThanOrEqualTo(right))
            throw new Error();
        yield { left, right, start: left.add(right).div(two) };
    }
    yield { left: right, right: positiveInfinity, start: right.add(one) };
}
exports.getIntervalsInPolynom = getIntervalsInPolynom;
function superacid(polynom, accuracy = new decimal_js_1.Decimal("0.00001"), iterations = 96) {
    var result = solve(polynom, accuracy, iterations);
    if (result.length == 0)
        return [];
    return result[0].zeros;
}
exports.superacid = superacid;
function newtonIterate(polynom, derivate, left, right, start, iterations, accuracy) {
    var degree = polynom.length - 1;
    if (degree <= 0 || derivate.length != polynom.length - 1)
        return null;
    if (iterations < 0)
        return null;
    var c = 0;
    var x = null;
    var fx = positiveInfinity;
    var fxx = null;
    var nextFx = null;
    while (true) {
        if (start.lessThan(left) || start.greaterThan(right)) {
            break;
        }
        nextFx = calculate(polynom, start);
        if (c > 1 && nextFx.abs().greaterThanOrEqualTo(fx.abs()) && fx.abs().lessThan(accuracy)) {
            return x;
        }
        fx = nextFx;
        x = start;
        if (fx.isZero() ||
            c >= iterations ||
            (fxx = calculate(derivate, x)).isZero())
            break;
        var start = start.sub(fx.div(fxx));
        c++;
    }
    return fx.abs().lessThan(accuracy) ? x : null;
}
exports.newtonIterate = newtonIterate;
function bisect(polynom, positiveEndpoint, negativeEndpoint, iterations, accuracy) {
    var degree = polynom.length - 1;
    if (degree <= 0)
        return null;
    //var fxPositive=calculate(polynom,positiveEndpoint);
    //var fxNegative=calculate(polynom,negativeEndpoint);
    var oldmiddle = positiveInfinity;
    for (var c = 0; c < iterations; c++) {
        var middle = positiveEndpoint.add(negativeEndpoint).div(two);
        if (middle.equals(oldmiddle)) {
            break;
        }
        var fxmiddle = calculate(polynom, middle);
        if (fxmiddle.abs().lessThan(accuracy))
            return middle;
        if (fxmiddle.isPositive()) {
            positiveEndpoint = middle;
        }
        else {
            negativeEndpoint = middle;
        }
        oldmiddle = middle;
    }
    return fxmiddle.abs().lessThan(accuracy) ? middle : null;
}
exports.bisect = bisect;
function calculateDerivates(polynom) {
    var derivatesCount = polynom.length - 1;
    if (derivatesCount < 1)
        return [];
    var derivations = new Array(derivatesCount);
    derivations[0] = derivative(polynom);
    for (var c = 1; c < derivatesCount; c++) {
        derivations[c] = derivative(derivations[c - 1]);
    }
    return derivations;
}
exports.calculateDerivates = calculateDerivates;
function derivative(polynom) {
    var c = polynom.length - 1;
    var derivative = new Array(c);
    var degree = 1;
    while (c--) {
        derivative[c] = (polynom[c].mul(degree));
        degree++;
    }
    return derivative;
}
exports.derivative = derivative;
function calculate(polynom, x) {
    var sum = zero;
    var c = polynom.length;
    var degree = 0;
    while (c--) {
        sum = sum.add(polynom[c].mul(decimal_js_1.Decimal.pow(x, degree)));
        degree++;
    }
    return sum;
}
exports.calculate = calculate;
function mergeNeighbouringRoots(roots, accuracy) {
    var length = roots.length;
    var count = 0;
    for (var c = 0; c < length;) {
        var sum = zero;
        var startMerge = c;
        do {
            var value = roots[c];
            sum = sum.add(value);
            c++;
        } while ((c < length) && value.sub(roots[c]).abs().lessThan(accuracy));
        roots[count] = sum.div(c - startMerge);
        count++;
    }
    roots.length = count;
}
exports.mergeNeighbouringRoots = mergeNeighbouringRoots;
function isFunctionAscendingToTheRight(polynoms, x, accuracy = new decimal_js_1.Decimal(0.001)) {
    //find first non-zero derivation
    for (var f = 1; f < polynoms.length; f++) {
        var value = calculate(polynoms[f], x);
        if (!value.abs().lessThan(accuracy)) {
            return value.isPositive();
        }
    }
    return null;
}
exports.isFunctionAscendingToTheRight = isFunctionAscendingToTheRight;
function isFunctionAscendingToTheLeft(polynoms, x, accuracy = new decimal_js_1.Decimal(0.001)) {
    //find first non-zero derivation
    for (var f = 1; f < polynoms.length; f++) {
        var value = calculate(polynoms[f], x);
        if (!value.abs().lessThan(accuracy)) {
            return value.isPositive() == (f % 2 == 0);
        }
    }
    return null;
}
exports.isFunctionAscendingToTheLeft = isFunctionAscendingToTheLeft;
function multiplicate(polynom1, polynom2) {
    var arraySize = polynom1.length - 1 + polynom2.length;
    var p = new Array(arraySize).fill(zero);
    for (var p1 = 0; p1 < polynom1.length; p1++) {
        for (var p2 = 0; p2 < polynom2.length; p2++) {
            var targetDegree = p1 + p2;
            var sum2add = polynom1[p1].mul(polynom2[p2]);
            p[targetDegree] = p[targetDegree].add(sum2add);
        }
    }
    return p;
}
exports.multiplicate = multiplicate;
function generatePolynomFromRoots(...roots) {
    var p = [one];
    for (var c = 0; c < roots.length; c++) {
        p = multiplicate(p, [one, roots[c].neg()]);
    }
    return p;
}
exports.generatePolynomFromRoots = generatePolynomFromRoots;
function simplyfyPolynom(polynom) {
    var p = [];
    var first = null;
    var length = polynom.length;
    for (var c = 0; c < length; c++) {
        var value = polynom[c];
        if (!value.isZero()) {
            first = value;
            break;
        }
    }
    for (; c < length; c++) {
        var value = polynom[c];
        p.push(value.div(first));
    }
    return p;
}
exports.simplyfyPolynom = simplyfyPolynom;
function antiderivative(polynom) {
    var degree = polynom.length;
    var ad = new Array(degree + 1);
    var lastIndex = degree;
    for (var c = 0; c < lastIndex; c++) {
        ad[c] = polynom[c].div(degree);
        degree--;
    }
    ad[lastIndex] = zero;
    return ad;
}
exports.antiderivative = antiderivative;
function $(...arr) {
    return arr.map(p => { return new decimal_js_1.Decimal(p); });
}
exports.$ = $;
function toString(polynom, decimalPlaces) {
    var factor = decimal_js_1.Decimal.pow(10, decimalPlaces);
    var degree = polynom.length;
    var c = 0;
    var result = "";
    var f = 0;
    while (degree--) {
        var value = polynom[c];
        if (!value.isZero()) {
            if (value.isPositive()) {
                if (f)
                    result += "+";
            }
            else {
                result += "-";
            }
            var abs = value.abs();
            var showFactor = degree == 0 || !abs.equals(one);
            if (showFactor)
                result += abs.mul(factor).round().div(factor).toString();
            if (degree != 0) {
                result += (showFactor ? "*" : "") + "x";
            }
            if (degree > 1) {
                result += "^" + degree;
            }
            f++;
        }
        c++;
    }
    return result;
}
exports.toString = toString;
function solve(polynom, accuracy = new decimal_js_1.Decimal(0.001), iterations = 64) {
    /*
     Simplify polynomial by dividing through the first coefficient.
     Smaller coefficients mean less chance of overflowing.
    */
    polynom = simplyfyPolynom(polynom);
    var degree = polynom.length - 1;
    if (degree <= 0)
        return null;
    var polynoms = calculateDerivates(polynom); //calculate all derivatives
    /*
      Add polynomial to the list of polynomials, whose roots need to be calculated
    */
    polynoms.unshift(polynom);
    var c = degree;
    var firstDegreeDerivation = polynoms[polynoms.length - 2];
    var derivateZeros = [firstDegreeDerivation[1].neg().div(firstDegreeDerivation[0])];
    var results = [];
    results.unshift({ polynom: firstDegreeDerivation, zeros: derivateZeros });
    /*
     Calculate roots of polynomial and all its derivates, starting with lowest degree.
     Roots are needed for calculating the roots of the polynom with the next degree.
    */
    while (--c) {
        var fx = polynoms[c - 1];
        var fxx = polynoms[c];
        var roots = [];
        /*
          Intervals are located from -infinity to the first stationary point, in between neigbouring
          stationary points, and from the last stationary point to +infinity. Because of that, the zeros
          of the derivate are needed, calculated in the last loop iteration.
          In each interval there is at most one zero, because the sign of the derivative is constant.
        */
        var intervals = getIntervalsInPolynom(...derivateZeros);
        for (var interval of intervals) {
            var root = null;
            var fxLeft = null, fxRight = null;
            var leftestInterval = interval.left.equals(negativeInfinity);
            var rightestInterval = interval.right.equals(positiveInfinity);
            if (leftestInterval ||
                rightestInterval) {
                //Choose Newton method
                root = newtonIterate(fx, fxx, interval.left, interval.right, interval.start, iterations, accuracy);
            }
            else {
                fxLeft = fxRight ?? calculate(fx, interval.left);
                fxRight = calculate(fx, interval.right);
                if (fxLeft.abs().lessThan(accuracy) ||
                    fxRight.abs().lessThan(accuracy)) {
                    //Choose Newton method
                    root = newtonIterate(fx, fxx, interval.left, interval.right, interval.start, iterations, accuracy);
                }
                else {
                    //Choose bisecting
                    var fxLeftPositive = fxLeft.isPositive();
                    if (fxLeftPositive != fxRight.isPositive()) {
                        var positiveEndpoint, negativeEndpoint;
                        if (fxLeftPositive) {
                            positiveEndpoint = interval.left;
                            negativeEndpoint = interval.right;
                        }
                        else {
                            positiveEndpoint = interval.right;
                            negativeEndpoint = interval.left;
                        }
                        root = bisect(fx, positiveEndpoint, negativeEndpoint, iterations, accuracy);
                    }
                }
            }
            if (root == null)
                continue;
            //skip next interval, because root will be the same as in the current interval  
            if (interval.right.minus(root).abs().lessThan(accuracy))
                intervals.next();
            roots.push(root); //Add root to the list of found roots   
        }
        results.unshift({ polynom: fx, zeros: roots });
        derivateZeros = roots;
    }
    return results; // return found roots
}
exports.solve = solve;
//experimental root isolation (is not used)
function* isolateRoots(polynoms, sortedDerivateZeros, accuracy = new decimal_js_1.Decimal(0.001)) {
    var left, right;
    var polynom = polynoms[0];
    var index = sortedDerivateZeros.length;
    if (index == 0) {
        yield { left: negativeInfinity, right: positiveInfinity, start: zero };
        return;
    }
    right = sortedDerivateZeros[0];
    var fxRight = calculate(polynom, right);
    if (fxRight.abs().lessThan(accuracy) || (fxRight.isNegative() == isFunctionAscendingToTheLeft(polynoms, right, accuracy))) {
        yield { left: negativeInfinity, right, start: right.sub(one) };
    }
    for (var i = 1; i < index; i++) {
        left = right;
        right = sortedDerivateZeros[i];
        if (left.greaterThanOrEqualTo(right))
            throw new Error();
        var fxLeft = fxRight;
        var fxRight = calculate(polynom, right);
        if (fxRight.abs().lessThan(accuracy) || fxLeft.abs().lessThan(accuracy) || fxLeft.isPositive() != fxRight.isPositive()) {
            yield { left, right, start: left.add(right).div(two) };
        }
    }
    if (fxRight.abs().lessThan(accuracy) || (fxRight.isNegative() == isFunctionAscendingToTheRight(polynoms, right, accuracy))) {
        yield { left: right, right: positiveInfinity, start: right.add(one) };
    }
}
exports.isolateRoots = isolateRoots;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./gui/presenter.ts");
/******/ 	
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vZ3VpL2J1bmRsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxtQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGVBQWUsRUFBRTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxPQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGdEQUFnRCxLQUFLLE1BQU0sSUFBSTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixhQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxJQUFJO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixHQUFHO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5QkFBeUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVCQUF1QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUix1QkFBdUIsYUFBYTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixJQUFJO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0E7QUFDQSx3QkFBd0IsTUFBTTtBQUM5QjtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxJQUFJO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixFQUFFO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGdEQUFnRCxLQUFLLE1BQU0sSUFBSTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsSUFBSTtBQUNyQjtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQSx3QkFBd0IsTUFBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx1QkFBdUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxpREFBaUQsR0FBRztBQUNwRCwrQ0FBK0MsR0FBRztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsSUFBSSxRQUFRLEdBQUc7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7QUFDQSxtQ0FBbUMsR0FBRztBQUN0QyxxQ0FBcUMsR0FBRztBQUN4Qyw0Q0FBNEMsR0FBRztBQUMvQywwQ0FBMEMsR0FBRztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEJBQTBCO0FBQzFDO0FBQ0E7QUFDQSwyQkFBMkIsZ0NBQWdDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUk7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxtQkFBbUI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLElBQUk7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxlQUFlO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGNBQWM7QUFDNUM7QUFDQTtBQUNBLDhCQUE4QixTQUFTO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixTQUFTO0FBQ25DO0FBQ0Esb0NBQW9DLGNBQWM7QUFDbEQ7QUFDQTtBQUNBLHNDQUFzQyxTQUFTO0FBQy9DLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLGlCQUFpQixJQUFJO0FBQ3JCO0FBQ0EsVUFBVTtBQUNWLHdDQUF3QyxLQUFLO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsVUFBVTtBQUNWLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQixtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQjtBQUNBLDJCQUEyQiw0QkFBNEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVCQUF1QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsU0FBUztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxQkFBcUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1QkFBdUI7QUFDL0IsUUFBUSx1QkFBdUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVCQUF1QjtBQUMvQixRQUFRLHVCQUF1QjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFD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YUQ7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3pCQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLEdBQUc7V0FDSDtXQUNBO1dBQ0EsQ0FBQzs7Ozs7V0NQRDtXQUNBO1dBQ0E7V0FDQTtXQUNBOzs7OztVRUpBO1VBQ0E7VUFDQTtVQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcG9seW5vbWlhbHNvbHZlci8uL25vZGVfbW9kdWxlcy9kZWNpbWFsLmpzL2RlY2ltYWwuanMiLCJ3ZWJwYWNrOi8vcG9seW5vbWlhbHNvbHZlci8uL25vZGVfbW9kdWxlcy9qc3hncmFwaC9kaXN0cmliL2pzeGdyYXBoY29yZS5qcyIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyLy4vZ3VpL2NoYXJ0dmlldy50cyIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyLy4vZ3VpL2ZyYW1ld29yay50cyIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyLy4vZ3VpL3ByZXNlbnRlci50cyIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyLy4vZ3VpL3ZpZXcudHMiLCJ3ZWJwYWNrOi8vcG9seW5vbWlhbHNvbHZlci8uL3NyYy9zb2x2ZXIudHMiLCJ3ZWJwYWNrOi8vcG9seW5vbWlhbHNvbHZlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vcG9seW5vbWlhbHNvbHZlci93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3BvbHlub21pYWxzb2x2ZXIvd2VicGFjay9iZWZvcmUtc3RhcnR1cCIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyL3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly9wb2x5bm9taWFsc29sdmVyL3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyI7KGZ1bmN0aW9uIChnbG9iYWxTY29wZSkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIGRlY2ltYWwuanMgdjEwLjMuMVxyXG4gICAqICBBbiBhcmJpdHJhcnktcHJlY2lzaW9uIERlY2ltYWwgdHlwZSBmb3IgSmF2YVNjcmlwdC5cclxuICAgKiAgaHR0cHM6Ly9naXRodWIuY29tL01pa2VNY2wvZGVjaW1hbC5qc1xyXG4gICAqICBDb3B5cmlnaHQgKGMpIDIwMjEgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cclxuICAgKiAgTUlUIExpY2VuY2VcclxuICAgKi9cclxuXHJcblxyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBFRElUQUJMRSBERUZBVUxUUyAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG5cclxuICAgIC8vIFRoZSBtYXhpbXVtIGV4cG9uZW50IG1hZ25pdHVkZS5cclxuICAgIC8vIFRoZSBsaW1pdCBvbiB0aGUgdmFsdWUgb2YgYHRvRXhwTmVnYCwgYHRvRXhwUG9zYCwgYG1pbkVgIGFuZCBgbWF4RWAuXHJcbiAgdmFyIEVYUF9MSU1JVCA9IDllMTUsICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gOWUxNVxyXG5cclxuICAgIC8vIFRoZSBsaW1pdCBvbiB0aGUgdmFsdWUgb2YgYHByZWNpc2lvbmAsIGFuZCBvbiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGFyZ3VtZW50IHRvXHJcbiAgICAvLyBgdG9EZWNpbWFsUGxhY2VzYCwgYHRvRXhwb25lbnRpYWxgLCBgdG9GaXhlZGAsIGB0b1ByZWNpc2lvbmAgYW5kIGB0b1NpZ25pZmljYW50RGlnaXRzYC5cclxuICAgIE1BWF9ESUdJVFMgPSAxZTksICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byAxZTlcclxuXHJcbiAgICAvLyBCYXNlIGNvbnZlcnNpb24gYWxwaGFiZXQuXHJcbiAgICBOVU1FUkFMUyA9ICcwMTIzNDU2Nzg5YWJjZGVmJyxcclxuXHJcbiAgICAvLyBUaGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgMTAgKDEwMjUgZGlnaXRzKS5cclxuICAgIExOMTAgPSAnMi4zMDI1ODUwOTI5OTQwNDU2ODQwMTc5OTE0NTQ2ODQzNjQyMDc2MDExMDE0ODg2Mjg3NzI5NzYwMzMzMjc5MDA5Njc1NzI2MDk2NzczNTI0ODAyMzU5OTcyMDUwODk1OTgyOTgzNDE5Njc3ODQwNDIyODYyNDg2MzM0MDk1MjU0NjUwODI4MDY3NTY2NjYyODczNjkwOTg3ODE2ODk0ODI5MDcyMDgzMjU1NTQ2ODA4NDM3OTk4OTQ4MjYyMzMxOTg1MjgzOTM1MDUzMDg5NjUzNzc3MzI2Mjg4NDYxNjMzNjYyMjIyODc2OTgyMTk4ODY3NDY1NDM2Njc0NzQ0MDQyNDMyNzQzNjUxNTUwNDg5MzQzMTQ5MzkzOTE0Nzk2MTk0MDQ0MDAyMjIxMDUxMDE3MTQxNzQ4MDAzNjg4MDg0MDEyNjQ3MDgwNjg1NTY3NzQzMjE2MjI4MzU1MjIwMTE0ODA0NjYzNzE1NjU5MTIxMzczNDUwNzQ3ODU2OTQ3NjgzNDYzNjE2NzkyMTAxODA2NDQ1MDcwNjQ4MDAwMjc3NTAyNjg0OTE2NzQ2NTUwNTg2ODU2OTM1NjczNDIwNjcwNTgxMTM2NDI5MjI0NTU0NDA1NzU4OTI1NzI0MjA4MjQxMzE0Njk1Njg5MDE2NzU4OTQwMjU2Nzc2MzExMzU2OTE5MjkyMDMzMzc2NTg3MTQxNjYwMjMwMTA1NzAzMDg5NjM0NTcyMDc1NDQwMzcwODQ3NDY5OTQwMTY4MjY5MjgyODA4NDgxMTg0Mjg5MzE0ODQ4NTI0OTQ4NjQ0ODcxOTI3ODA5Njc2MjcxMjc1Nzc1Mzk3MDI3NjY4NjA1OTUyNDk2NzE2Njc0MTgzNDg1NzA0NDIyNTA3MTk3OTY1MDA0NzE0OTUxMDUwNDkyMjE0Nzc2NTY3NjM2OTM4NjYyOTc2OTc5NTIyMTEwNzE4MjY0NTQ5NzM0NzcyNjYyNDI1NzA5NDI5MzIyNTgyNzk4NTAyNTg1NTA5Nzg1MjY1MzgzMjA3NjA2NzI2MzE3MTY0MzA5NTA1OTk1MDg3ODA3NTIzNzEwMzMzMTAxMTk3ODU3NTQ3MzMxNTQxNDIxODA4NDI3NTQzODYzNTkxNzc4MTE3MDU0MzA5ODI3NDgyMzg1MDQ1NjQ4MDE5MDk1NjEwMjk5MjkxODI0MzE4MjM3NTI1MzU3NzA5NzUwNTM5NTY1MTg3Njk3NTEwMzc0OTcwODg4NjkyMTgwMjA1MTg5MzM5NTA3MjM4NTM5MjA1MTQ0NjM0MTk3MjY1Mjg3Mjg2OTY1MTEwODYyNTcxNDkyMTk4ODQ5OTc4NzQ4ODczNzcxMzQ1Njg2MjA5MTY3MDU4JyxcclxuXHJcbiAgICAvLyBQaSAoMTAyNSBkaWdpdHMpLlxyXG4gICAgUEkgPSAnMy4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1MDI4ODQxOTcxNjkzOTkzNzUxMDU4MjA5NzQ5NDQ1OTIzMDc4MTY0MDYyODYyMDg5OTg2MjgwMzQ4MjUzNDIxMTcwNjc5ODIxNDgwODY1MTMyODIzMDY2NDcwOTM4NDQ2MDk1NTA1ODIyMzE3MjUzNTk0MDgxMjg0ODExMTc0NTAyODQxMDI3MDE5Mzg1MjExMDU1NTk2NDQ2MjI5NDg5NTQ5MzAzODE5NjQ0Mjg4MTA5NzU2NjU5MzM0NDYxMjg0NzU2NDgyMzM3ODY3ODMxNjUyNzEyMDE5MDkxNDU2NDg1NjY5MjM0NjAzNDg2MTA0NTQzMjY2NDgyMTMzOTM2MDcyNjAyNDkxNDEyNzM3MjQ1ODcwMDY2MDYzMTU1ODgxNzQ4ODE1MjA5MjA5NjI4MjkyNTQwOTE3MTUzNjQzNjc4OTI1OTAzNjAwMTEzMzA1MzA1NDg4MjA0NjY1MjEzODQxNDY5NTE5NDE1MTE2MDk0MzMwNTcyNzAzNjU3NTk1OTE5NTMwOTIxODYxMTczODE5MzI2MTE3OTMxMDUxMTg1NDgwNzQ0NjIzNzk5NjI3NDk1NjczNTE4ODU3NTI3MjQ4OTEyMjc5MzgxODMwMTE5NDkxMjk4MzM2NzMzNjI0NDA2NTY2NDMwODYwMjEzOTQ5NDYzOTUyMjQ3MzcxOTA3MDIxNzk4NjA5NDM3MDI3NzA1MzkyMTcxNzYyOTMxNzY3NTIzODQ2NzQ4MTg0Njc2Njk0MDUxMzIwMDA1NjgxMjcxNDUyNjM1NjA4Mjc3ODU3NzEzNDI3NTc3ODk2MDkxNzM2MzcxNzg3MjE0Njg0NDA5MDEyMjQ5NTM0MzAxNDY1NDk1ODUzNzEwNTA3OTIyNzk2ODkyNTg5MjM1NDIwMTk5NTYxMTIxMjkwMjE5NjA4NjQwMzQ0MTgxNTk4MTM2Mjk3NzQ3NzEzMDk5NjA1MTg3MDcyMTEzNDk5OTk5OTgzNzI5NzgwNDk5NTEwNTk3MzE3MzI4MTYwOTYzMTg1OTUwMjQ0NTk0NTUzNDY5MDgzMDI2NDI1MjIzMDgyNTMzNDQ2ODUwMzUyNjE5MzExODgxNzEwMTAwMDMxMzc4Mzg3NTI4ODY1ODc1MzMyMDgzODE0MjA2MTcxNzc2NjkxNDczMDM1OTgyNTM0OTA0Mjg3NTU0Njg3MzExNTk1NjI4NjM4ODIzNTM3ODc1OTM3NTE5NTc3ODE4NTc3ODA1MzIxNzEyMjY4MDY2MTMwMDE5Mjc4NzY2MTExOTU5MDkyMTY0MjAxOTg5MzgwOTUyNTcyMDEwNjU0ODU4NjMyNzg5JyxcclxuXHJcblxyXG4gICAgLy8gVGhlIGluaXRpYWwgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzIG9mIHRoZSBEZWNpbWFsIGNvbnN0cnVjdG9yLlxyXG4gICAgREVGQVVMVFMgPSB7XHJcblxyXG4gICAgICAvLyBUaGVzZSB2YWx1ZXMgbXVzdCBiZSBpbnRlZ2VycyB3aXRoaW4gdGhlIHN0YXRlZCByYW5nZXMgKGluY2x1c2l2ZSkuXHJcbiAgICAgIC8vIE1vc3Qgb2YgdGhlc2UgdmFsdWVzIGNhbiBiZSBjaGFuZ2VkIGF0IHJ1bi10aW1lIHVzaW5nIHRoZSBgRGVjaW1hbC5jb25maWdgIG1ldGhvZC5cclxuXHJcbiAgICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHJlc3VsdCBvZiBhIGNhbGN1bGF0aW9uIG9yIGJhc2UgY29udmVyc2lvbi5cclxuICAgICAgLy8gRS5nLiBgRGVjaW1hbC5jb25maWcoeyBwcmVjaXNpb246IDIwIH0pO2BcclxuICAgICAgcHJlY2lzaW9uOiAyMCwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMSB0byBNQVhfRElHSVRTXHJcblxyXG4gICAgICAvLyBUaGUgcm91bmRpbmcgbW9kZSB1c2VkIHdoZW4gcm91bmRpbmcgdG8gYHByZWNpc2lvbmAuXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIFJPVU5EX1VQICAgICAgICAgMCBBd2F5IGZyb20gemVyby5cclxuICAgICAgLy8gUk9VTkRfRE9XTiAgICAgICAxIFRvd2FyZHMgemVyby5cclxuICAgICAgLy8gUk9VTkRfQ0VJTCAgICAgICAyIFRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgICAvLyBST1VORF9GTE9PUiAgICAgIDMgVG93YXJkcyAtSW5maW5pdHkuXHJcbiAgICAgIC8vIFJPVU5EX0hBTEZfVVAgICAgNCBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdXAuXHJcbiAgICAgIC8vIFJPVU5EX0hBTEZfRE9XTiAgNSBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgZG93bi5cclxuICAgICAgLy8gUk9VTkRfSEFMRl9FVkVOICA2IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIGV2ZW4gbmVpZ2hib3VyLlxyXG4gICAgICAvLyBST1VORF9IQUxGX0NFSUwgIDcgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgK0luZmluaXR5LlxyXG4gICAgICAvLyBST1VORF9IQUxGX0ZMT09SIDggVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBFLmcuXHJcbiAgICAgIC8vIGBEZWNpbWFsLnJvdW5kaW5nID0gNDtgXHJcbiAgICAgIC8vIGBEZWNpbWFsLnJvdW5kaW5nID0gRGVjaW1hbC5ST1VORF9IQUxGX1VQO2BcclxuICAgICAgcm91bmRpbmc6IDQsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA4XHJcblxyXG4gICAgICAvLyBUaGUgbW9kdWxvIG1vZGUgdXNlZCB3aGVuIGNhbGN1bGF0aW5nIHRoZSBtb2R1bHVzOiBhIG1vZCBuLlxyXG4gICAgICAvLyBUaGUgcXVvdGllbnQgKHEgPSBhIC8gbikgaXMgY2FsY3VsYXRlZCBhY2NvcmRpbmcgdG8gdGhlIGNvcnJlc3BvbmRpbmcgcm91bmRpbmcgbW9kZS5cclxuICAgICAgLy8gVGhlIHJlbWFpbmRlciAocikgaXMgY2FsY3VsYXRlZCBhczogciA9IGEgLSBuICogcS5cclxuICAgICAgLy9cclxuICAgICAgLy8gVVAgICAgICAgICAwIFRoZSByZW1haW5kZXIgaXMgcG9zaXRpdmUgaWYgdGhlIGRpdmlkZW5kIGlzIG5lZ2F0aXZlLCBlbHNlIGlzIG5lZ2F0aXZlLlxyXG4gICAgICAvLyBET1dOICAgICAgIDEgVGhlIHJlbWFpbmRlciBoYXMgdGhlIHNhbWUgc2lnbiBhcyB0aGUgZGl2aWRlbmQgKEphdmFTY3JpcHQgJSkuXHJcbiAgICAgIC8vIEZMT09SICAgICAgMyBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpc29yIChQeXRob24gJSkuXHJcbiAgICAgIC8vIEhBTEZfRVZFTiAgNiBUaGUgSUVFRSA3NTQgcmVtYWluZGVyIGZ1bmN0aW9uLlxyXG4gICAgICAvLyBFVUNMSUQgICAgIDkgRXVjbGlkaWFuIGRpdmlzaW9uLiBxID0gc2lnbihuKSAqIGZsb29yKGEgLyBhYnMobikpLiBBbHdheXMgcG9zaXRpdmUuXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIFRydW5jYXRlZCBkaXZpc2lvbiAoMSksIGZsb29yZWQgZGl2aXNpb24gKDMpLCB0aGUgSUVFRSA3NTQgcmVtYWluZGVyICg2KSwgYW5kIEV1Y2xpZGlhblxyXG4gICAgICAvLyBkaXZpc2lvbiAoOSkgYXJlIGNvbW1vbmx5IHVzZWQgZm9yIHRoZSBtb2R1bHVzIG9wZXJhdGlvbi4gVGhlIG90aGVyIHJvdW5kaW5nIG1vZGVzIGNhbiBhbHNvXHJcbiAgICAgIC8vIGJlIHVzZWQsIGJ1dCB0aGV5IG1heSBub3QgZ2l2ZSB1c2VmdWwgcmVzdWx0cy5cclxuICAgICAgbW9kdWxvOiAxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byA5XHJcblxyXG4gICAgICAvLyBUaGUgZXhwb25lbnQgdmFsdWUgYXQgYW5kIGJlbmVhdGggd2hpY2ggYHRvU3RyaW5nYCByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IC03XHJcbiAgICAgIHRvRXhwTmVnOiAtNywgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gLUVYUF9MSU1JVFxyXG5cclxuICAgICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBhYm92ZSB3aGljaCBgdG9TdHJpbmdgIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAgIC8vIEphdmFTY3JpcHQgbnVtYmVyczogMjFcclxuICAgICAgdG9FeHBQb3M6ICAyMSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBFWFBfTElNSVRcclxuXHJcbiAgICAgIC8vIFRoZSBtaW5pbXVtIGV4cG9uZW50IHZhbHVlLCBiZW5lYXRoIHdoaWNoIHVuZGVyZmxvdyB0byB6ZXJvIG9jY3Vycy5cclxuICAgICAgLy8gSmF2YVNjcmlwdCBudW1iZXJzOiAtMzI0ICAoNWUtMzI0KVxyXG4gICAgICBtaW5FOiAtRVhQX0xJTUlULCAgICAgICAgICAgICAgICAgICAgICAvLyAtMSB0byAtRVhQX0xJTUlUXHJcblxyXG4gICAgICAvLyBUaGUgbWF4aW11bSBleHBvbmVudCB2YWx1ZSwgYWJvdmUgd2hpY2ggb3ZlcmZsb3cgdG8gSW5maW5pdHkgb2NjdXJzLlxyXG4gICAgICAvLyBKYXZhU2NyaXB0IG51bWJlcnM6IDMwOCAgKDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4KVxyXG4gICAgICBtYXhFOiBFWFBfTElNSVQsICAgICAgICAgICAgICAgICAgICAgICAvLyAxIHRvIEVYUF9MSU1JVFxyXG5cclxuICAgICAgLy8gV2hldGhlciB0byB1c2UgY3J5cHRvZ3JhcGhpY2FsbHktc2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiwgaWYgYXZhaWxhYmxlLlxyXG4gICAgICBjcnlwdG86IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlL2ZhbHNlXHJcbiAgICB9LFxyXG5cclxuXHJcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRU5EIE9GIEVESVRBQkxFIERFRkFVTFRTIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cclxuXHJcblxyXG4gICAgRGVjaW1hbCwgaW5leGFjdCwgbm9Db25mbGljdCwgcXVhZHJhbnQsXHJcbiAgICBleHRlcm5hbCA9IHRydWUsXHJcblxyXG4gICAgZGVjaW1hbEVycm9yID0gJ1tEZWNpbWFsRXJyb3JdICcsXHJcbiAgICBpbnZhbGlkQXJndW1lbnQgPSBkZWNpbWFsRXJyb3IgKyAnSW52YWxpZCBhcmd1bWVudDogJyxcclxuICAgIHByZWNpc2lvbkxpbWl0RXhjZWVkZWQgPSBkZWNpbWFsRXJyb3IgKyAnUHJlY2lzaW9uIGxpbWl0IGV4Y2VlZGVkJyxcclxuICAgIGNyeXB0b1VuYXZhaWxhYmxlID0gZGVjaW1hbEVycm9yICsgJ2NyeXB0byB1bmF2YWlsYWJsZScsXHJcbiAgICB0YWcgPSAnW29iamVjdCBEZWNpbWFsXScsXHJcblxyXG4gICAgbWF0aGZsb29yID0gTWF0aC5mbG9vcixcclxuICAgIG1hdGhwb3cgPSBNYXRoLnBvdyxcclxuXHJcbiAgICBpc0JpbmFyeSA9IC9eMGIoWzAxXSsoXFwuWzAxXSopP3xcXC5bMDFdKykocFsrLV0/XFxkKyk/JC9pLFxyXG4gICAgaXNIZXggPSAvXjB4KFswLTlhLWZdKyhcXC5bMC05YS1mXSopP3xcXC5bMC05YS1mXSspKHBbKy1dP1xcZCspPyQvaSxcclxuICAgIGlzT2N0YWwgPSAvXjBvKFswLTddKyhcXC5bMC03XSopP3xcXC5bMC03XSspKHBbKy1dP1xcZCspPyQvaSxcclxuICAgIGlzRGVjaW1hbCA9IC9eKFxcZCsoXFwuXFxkKik/fFxcLlxcZCspKGVbKy1dP1xcZCspPyQvaSxcclxuXHJcbiAgICBCQVNFID0gMWU3LFxyXG4gICAgTE9HX0JBU0UgPSA3LFxyXG4gICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXHJcblxyXG4gICAgTE4xMF9QUkVDSVNJT04gPSBMTjEwLmxlbmd0aCAtIDEsXHJcbiAgICBQSV9QUkVDSVNJT04gPSBQSS5sZW5ndGggLSAxLFxyXG5cclxuICAgIC8vIERlY2ltYWwucHJvdG90eXBlIG9iamVjdFxyXG4gICAgUCA9IHsgdG9TdHJpbmdUYWc6IHRhZyB9O1xyXG5cclxuXHJcbiAgLy8gRGVjaW1hbCBwcm90b3R5cGUgbWV0aG9kc1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgYWJzb2x1dGVWYWx1ZSAgICAgICAgICAgICBhYnNcclxuICAgKiAgY2VpbFxyXG4gICAqICBjbGFtcGVkVG8gICAgICAgICAgICAgICAgIGNsYW1wXHJcbiAgICogIGNvbXBhcmVkVG8gICAgICAgICAgICAgICAgY21wXHJcbiAgICogIGNvc2luZSAgICAgICAgICAgICAgICAgICAgY29zXHJcbiAgICogIGN1YmVSb290ICAgICAgICAgICAgICAgICAgY2JydFxyXG4gICAqICBkZWNpbWFsUGxhY2VzICAgICAgICAgICAgIGRwXHJcbiAgICogIGRpdmlkZWRCeSAgICAgICAgICAgICAgICAgZGl2XHJcbiAgICogIGRpdmlkZWRUb0ludGVnZXJCeSAgICAgICAgZGl2VG9JbnRcclxuICAgKiAgZXF1YWxzICAgICAgICAgICAgICAgICAgICBlcVxyXG4gICAqICBmbG9vclxyXG4gICAqICBncmVhdGVyVGhhbiAgICAgICAgICAgICAgIGd0XHJcbiAgICogIGdyZWF0ZXJUaGFuT3JFcXVhbFRvICAgICAgZ3RlXHJcbiAgICogIGh5cGVyYm9saWNDb3NpbmUgICAgICAgICAgY29zaFxyXG4gICAqICBoeXBlcmJvbGljU2luZSAgICAgICAgICAgIHNpbmhcclxuICAgKiAgaHlwZXJib2xpY1RhbmdlbnQgICAgICAgICB0YW5oXHJcbiAgICogIGludmVyc2VDb3NpbmUgICAgICAgICAgICAgYWNvc1xyXG4gICAqICBpbnZlcnNlSHlwZXJib2xpY0Nvc2luZSAgIGFjb3NoXHJcbiAgICogIGludmVyc2VIeXBlcmJvbGljU2luZSAgICAgYXNpbmhcclxuICAgKiAgaW52ZXJzZUh5cGVyYm9saWNUYW5nZW50ICBhdGFuaFxyXG4gICAqICBpbnZlcnNlU2luZSAgICAgICAgICAgICAgIGFzaW5cclxuICAgKiAgaW52ZXJzZVRhbmdlbnQgICAgICAgICAgICBhdGFuXHJcbiAgICogIGlzRmluaXRlXHJcbiAgICogIGlzSW50ZWdlciAgICAgICAgICAgICAgICAgaXNJbnRcclxuICAgKiAgaXNOYU5cclxuICAgKiAgaXNOZWdhdGl2ZSAgICAgICAgICAgICAgICBpc05lZ1xyXG4gICAqICBpc1Bvc2l0aXZlICAgICAgICAgICAgICAgIGlzUG9zXHJcbiAgICogIGlzWmVyb1xyXG4gICAqICBsZXNzVGhhbiAgICAgICAgICAgICAgICAgIGx0XHJcbiAgICogIGxlc3NUaGFuT3JFcXVhbFRvICAgICAgICAgbHRlXHJcbiAgICogIGxvZ2FyaXRobSAgICAgICAgICAgICAgICAgbG9nXHJcbiAgICogIFttYXhpbXVtXSAgICAgICAgICAgICAgICAgW21heF1cclxuICAgKiAgW21pbmltdW1dICAgICAgICAgICAgICAgICBbbWluXVxyXG4gICAqICBtaW51cyAgICAgICAgICAgICAgICAgICAgIHN1YlxyXG4gICAqICBtb2R1bG8gICAgICAgICAgICAgICAgICAgIG1vZFxyXG4gICAqICBuYXR1cmFsRXhwb25lbnRpYWwgICAgICAgIGV4cFxyXG4gICAqICBuYXR1cmFsTG9nYXJpdGhtICAgICAgICAgIGxuXHJcbiAgICogIG5lZ2F0ZWQgICAgICAgICAgICAgICAgICAgbmVnXHJcbiAgICogIHBsdXMgICAgICAgICAgICAgICAgICAgICAgYWRkXHJcbiAgICogIHByZWNpc2lvbiAgICAgICAgICAgICAgICAgc2RcclxuICAgKiAgcm91bmRcclxuICAgKiAgc2luZSAgICAgICAgICAgICAgICAgICAgICBzaW5cclxuICAgKiAgc3F1YXJlUm9vdCAgICAgICAgICAgICAgICBzcXJ0XHJcbiAgICogIHRhbmdlbnQgICAgICAgICAgICAgICAgICAgdGFuXHJcbiAgICogIHRpbWVzICAgICAgICAgICAgICAgICAgICAgbXVsXHJcbiAgICogIHRvQmluYXJ5XHJcbiAgICogIHRvRGVjaW1hbFBsYWNlcyAgICAgICAgICAgdG9EUFxyXG4gICAqICB0b0V4cG9uZW50aWFsXHJcbiAgICogIHRvRml4ZWRcclxuICAgKiAgdG9GcmFjdGlvblxyXG4gICAqICB0b0hleGFkZWNpbWFsICAgICAgICAgICAgIHRvSGV4XHJcbiAgICogIHRvTmVhcmVzdFxyXG4gICAqICB0b051bWJlclxyXG4gICAqICB0b09jdGFsXHJcbiAgICogIHRvUG93ZXIgICAgICAgICAgICAgICAgICAgcG93XHJcbiAgICogIHRvUHJlY2lzaW9uXHJcbiAgICogIHRvU2lnbmlmaWNhbnREaWdpdHMgICAgICAgdG9TRFxyXG4gICAqICB0b1N0cmluZ1xyXG4gICAqICB0cnVuY2F0ZWQgICAgICAgICAgICAgICAgIHRydW5jXHJcbiAgICogIHZhbHVlT2YgICAgICAgICAgICAgICAgICAgdG9KU09OXHJcbiAgICovXHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmFic29sdXRlVmFsdWUgPSBQLmFicyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB4ID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyk7XHJcbiAgICBpZiAoeC5zIDwgMCkgeC5zID0gMTtcclxuICAgIHJldHVybiBmaW5hbGlzZSh4KTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSB3aG9sZSBudW1iZXIgaW4gdGhlXHJcbiAgICogZGlyZWN0aW9uIG9mIHBvc2l0aXZlIEluZmluaXR5LlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5jZWlsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAyKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGNsYW1wZWQgdG8gdGhlIHJhbmdlXHJcbiAgICogZGVsaW5lYXRlZCBieSBgbWluYCBhbmQgYG1heGAuXHJcbiAgICpcclxuICAgKiBtaW4ge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKiBtYXgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuY2xhbXBlZFRvID0gUC5jbGFtcCA9IGZ1bmN0aW9uIChtaW4sIG1heCkge1xyXG4gICAgdmFyIGssXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuICAgIG1pbiA9IG5ldyBDdG9yKG1pbik7XHJcbiAgICBtYXggPSBuZXcgQ3RvcihtYXgpO1xyXG4gICAgaWYgKCFtaW4ucyB8fCAhbWF4LnMpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG4gICAgaWYgKG1pbi5ndChtYXgpKSB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBtYXgpO1xyXG4gICAgayA9IHguY21wKG1pbik7XHJcbiAgICByZXR1cm4gayA8IDAgPyBtaW4gOiB4LmNtcChtYXgpID4gMCA/IG1heCA6IG5ldyBDdG9yKHgpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVyblxyXG4gICAqICAgMSAgICBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLFxyXG4gICAqICAtMSAgICBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiB0aGUgdmFsdWUgb2YgYHlgLFxyXG4gICAqICAgMCAgICBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgdmFsdWUsXHJcbiAgICogICBOYU4gIGlmIHRoZSB2YWx1ZSBvZiBlaXRoZXIgRGVjaW1hbCBpcyBOYU4uXHJcbiAgICpcclxuICAgKi9cclxuICBQLmNvbXBhcmVkVG8gPSBQLmNtcCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICB2YXIgaSwgaiwgeGRMLCB5ZEwsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICB4ZCA9IHguZCxcclxuICAgICAgeWQgPSAoeSA9IG5ldyB4LmNvbnN0cnVjdG9yKHkpKS5kLFxyXG4gICAgICB4cyA9IHgucyxcclxuICAgICAgeXMgPSB5LnM7XHJcblxyXG4gICAgLy8gRWl0aGVyIE5hTiBvciDCsUluZmluaXR5P1xyXG4gICAgaWYgKCF4ZCB8fCAheWQpIHtcclxuICAgICAgcmV0dXJuICF4cyB8fCAheXMgPyBOYU4gOiB4cyAhPT0geXMgPyB4cyA6IHhkID09PSB5ZCA/IDAgOiAheGQgXiB4cyA8IDAgPyAxIDogLTE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRWl0aGVyIHplcm8/XHJcbiAgICBpZiAoIXhkWzBdIHx8ICF5ZFswXSkgcmV0dXJuIHhkWzBdID8geHMgOiB5ZFswXSA/IC15cyA6IDA7XHJcblxyXG4gICAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gICAgaWYgKHhzICE9PSB5cykgcmV0dXJuIHhzO1xyXG5cclxuICAgIC8vIENvbXBhcmUgZXhwb25lbnRzLlxyXG4gICAgaWYgKHguZSAhPT0geS5lKSByZXR1cm4geC5lID4geS5lIF4geHMgPCAwID8gMSA6IC0xO1xyXG5cclxuICAgIHhkTCA9IHhkLmxlbmd0aDtcclxuICAgIHlkTCA9IHlkLmxlbmd0aDtcclxuXHJcbiAgICAvLyBDb21wYXJlIGRpZ2l0IGJ5IGRpZ2l0LlxyXG4gICAgZm9yIChpID0gMCwgaiA9IHhkTCA8IHlkTCA/IHhkTCA6IHlkTDsgaSA8IGo7ICsraSkge1xyXG4gICAgICBpZiAoeGRbaV0gIT09IHlkW2ldKSByZXR1cm4geGRbaV0gPiB5ZFtpXSBeIHhzIDwgMCA/IDEgOiAtMTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wYXJlIGxlbmd0aHMuXHJcbiAgICByZXR1cm4geGRMID09PSB5ZEwgPyAwIDogeGRMID4geWRMIF4geHMgPCAwID8gMSA6IC0xO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjb3NpbmUgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKiBSYW5nZTogWy0xLCAxXVxyXG4gICAqXHJcbiAgICogY29zKDApICAgICAgICAgPSAxXHJcbiAgICogY29zKC0wKSAgICAgICAgPSAxXHJcbiAgICogY29zKEluZmluaXR5KSAgPSBOYU5cclxuICAgKiBjb3MoLUluZmluaXR5KSA9IE5hTlxyXG4gICAqIGNvcyhOYU4pICAgICAgID0gTmFOXHJcbiAgICpcclxuICAgKi9cclxuICBQLmNvc2luZSA9IFAuY29zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHByLCBybSxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICgheC5kKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAvLyBjb3MoMCkgPSBjb3MoLTApID0gMVxyXG4gICAgaWYgKCF4LmRbMF0pIHJldHVybiBuZXcgQ3RvcigxKTtcclxuXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwciArIE1hdGgubWF4KHguZSwgeC5zZCgpKSArIExPR19CQVNFO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gICAgeCA9IGNvc2luZShDdG9yLCB0b0xlc3NUaGFuSGFsZlBpKEN0b3IsIHgpKTtcclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICAgIHJldHVybiBmaW5hbGlzZShxdWFkcmFudCA9PSAyIHx8IHF1YWRyYW50ID09IDMgPyB4Lm5lZygpIDogeCwgcHIsIHJtLCB0cnVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBjdWJlIHJvb3Qgb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCwgcm91bmRlZCB0b1xyXG4gICAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiAgY2JydCgwKSAgPSAgMFxyXG4gICAqICBjYnJ0KC0wKSA9IC0wXHJcbiAgICogIGNicnQoMSkgID0gIDFcclxuICAgKiAgY2JydCgtMSkgPSAtMVxyXG4gICAqICBjYnJ0KE4pICA9ICBOXHJcbiAgICogIGNicnQoLUkpID0gLUlcclxuICAgKiAgY2JydChJKSAgPSAgSVxyXG4gICAqXHJcbiAgICogTWF0aC5jYnJ0KHgpID0gKHggPCAwID8gLU1hdGgucG93KC14LCAxLzMpIDogTWF0aC5wb3coeCwgMS8zKSlcclxuICAgKlxyXG4gICAqL1xyXG4gIFAuY3ViZVJvb3QgPSBQLmNicnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZSwgbSwgbiwgciwgcmVwLCBzLCBzZCwgdCwgdDMsIHQzcGx1c3gsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoIXguaXNGaW5pdGUoKSB8fCB4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEluaXRpYWwgZXN0aW1hdGUuXHJcbiAgICBzID0geC5zICogbWF0aHBvdyh4LnMgKiB4LCAxIC8gMyk7XHJcblxyXG4gICAgIC8vIE1hdGguY2JydCB1bmRlcmZsb3cvb3ZlcmZsb3c/XHJcbiAgICAgLy8gUGFzcyB4IHRvIE1hdGgucG93IGFzIGludGVnZXIsIHRoZW4gYWRqdXN0IHRoZSBleHBvbmVudCBvZiB0aGUgcmVzdWx0LlxyXG4gICAgaWYgKCFzIHx8IE1hdGguYWJzKHMpID09IDEgLyAwKSB7XHJcbiAgICAgIG4gPSBkaWdpdHNUb1N0cmluZyh4LmQpO1xyXG4gICAgICBlID0geC5lO1xyXG5cclxuICAgICAgLy8gQWRqdXN0IG4gZXhwb25lbnQgc28gaXQgaXMgYSBtdWx0aXBsZSBvZiAzIGF3YXkgZnJvbSB4IGV4cG9uZW50LlxyXG4gICAgICBpZiAocyA9IChlIC0gbi5sZW5ndGggKyAxKSAlIDMpIG4gKz0gKHMgPT0gMSB8fCBzID09IC0yID8gJzAnIDogJzAwJyk7XHJcbiAgICAgIHMgPSBtYXRocG93KG4sIDEgLyAzKTtcclxuXHJcbiAgICAgIC8vIFJhcmVseSwgZSBtYXkgYmUgb25lIGxlc3MgdGhhbiB0aGUgcmVzdWx0IGV4cG9uZW50IHZhbHVlLlxyXG4gICAgICBlID0gbWF0aGZsb29yKChlICsgMSkgLyAzKSAtIChlICUgMyA9PSAoZSA8IDAgPyAtMSA6IDIpKTtcclxuXHJcbiAgICAgIGlmIChzID09IDEgLyAwKSB7XHJcbiAgICAgICAgbiA9ICc1ZScgKyBlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG4gPSBzLnRvRXhwb25lbnRpYWwoKTtcclxuICAgICAgICBuID0gbi5zbGljZSgwLCBuLmluZGV4T2YoJ2UnKSArIDEpICsgZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgciA9IG5ldyBDdG9yKG4pO1xyXG4gICAgICByLnMgPSB4LnM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByID0gbmV3IEN0b3Iocy50b1N0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICBzZCA9IChlID0gQ3Rvci5wcmVjaXNpb24pICsgMztcclxuXHJcbiAgICAvLyBIYWxsZXkncyBtZXRob2QuXHJcbiAgICAvLyBUT0RPPyBDb21wYXJlIE5ld3RvbidzIG1ldGhvZC5cclxuICAgIGZvciAoOzspIHtcclxuICAgICAgdCA9IHI7XHJcbiAgICAgIHQzID0gdC50aW1lcyh0KS50aW1lcyh0KTtcclxuICAgICAgdDNwbHVzeCA9IHQzLnBsdXMoeCk7XHJcbiAgICAgIHIgPSBkaXZpZGUodDNwbHVzeC5wbHVzKHgpLnRpbWVzKHQpLCB0M3BsdXN4LnBsdXModDMpLCBzZCArIDIsIDEpO1xyXG5cclxuICAgICAgLy8gVE9ETz8gUmVwbGFjZSB3aXRoIGZvci1sb29wIGFuZCBjaGVja1JvdW5kaW5nRGlnaXRzLlxyXG4gICAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCBzZCkgPT09IChuID0gZGlnaXRzVG9TdHJpbmcoci5kKSkuc2xpY2UoMCwgc2QpKSB7XHJcbiAgICAgICAgbiA9IG4uc2xpY2Uoc2QgLSAzLCBzZCArIDEpO1xyXG5cclxuICAgICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHMgYXJlIDk5OTkgb3IgNDk5OVxyXG4gICAgICAgIC8vICwgaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5LCBjb250aW51ZSB0aGUgaXRlcmF0aW9uLlxyXG4gICAgICAgIGlmIChuID09ICc5OTk5JyB8fCAhcmVwICYmIG4gPT0gJzQ5OTknKSB7XHJcblxyXG4gICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGl0ZXJhdGlvbiBvbmx5LCBjaGVjayB0byBzZWUgaWYgcm91bmRpbmcgdXAgZ2l2ZXMgdGhlIGV4YWN0IHJlc3VsdCBhcyB0aGVcclxuICAgICAgICAgIC8vIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICAgIGlmICghcmVwKSB7XHJcbiAgICAgICAgICAgIGZpbmFsaXNlKHQsIGUgKyAxLCAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0LnRpbWVzKHQpLnRpbWVzKHQpLmVxKHgpKSB7XHJcbiAgICAgICAgICAgICAgciA9IHQ7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZCArPSA0O1xyXG4gICAgICAgICAgcmVwID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdHMgYXJlIG51bGwsIDB7MCw0fSBvciA1MHswLDN9LCBjaGVjayBmb3IgYW4gZXhhY3QgcmVzdWx0LlxyXG4gICAgICAgICAgLy8gSWYgbm90LCB0aGVuIHRoZXJlIGFyZSBmdXJ0aGVyIGRpZ2l0cyBhbmQgbSB3aWxsIGJlIHRydXRoeS5cclxuICAgICAgICAgIGlmICghK24gfHwgIStuLnNsaWNlKDEpICYmIG4uY2hhckF0KDApID09ICc1Jykge1xyXG5cclxuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgICBmaW5hbGlzZShyLCBlICsgMSwgMSk7XHJcbiAgICAgICAgICAgIG0gPSAhci50aW1lcyhyKS50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHIsIGUsIEN0b3Iucm91bmRpbmcsIG0pO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmRlY2ltYWxQbGFjZXMgPSBQLmRwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHcsXHJcbiAgICAgIGQgPSB0aGlzLmQsXHJcbiAgICAgIG4gPSBOYU47XHJcblxyXG4gICAgaWYgKGQpIHtcclxuICAgICAgdyA9IGQubGVuZ3RoIC0gMTtcclxuICAgICAgbiA9ICh3IC0gbWF0aGZsb29yKHRoaXMuZSAvIExPR19CQVNFKSkgKiBMT0dfQkFTRTtcclxuXHJcbiAgICAgIC8vIFN1YnRyYWN0IHRoZSBudW1iZXIgb2YgdHJhaWxpbmcgemVyb3Mgb2YgdGhlIGxhc3Qgd29yZC5cclxuICAgICAgdyA9IGRbd107XHJcbiAgICAgIGlmICh3KSBmb3IgKDsgdyAlIDEwID09IDA7IHcgLz0gMTApIG4tLTtcclxuICAgICAgaWYgKG4gPCAwKSBuID0gMDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAvIDAgPSBJXHJcbiAgICogIG4gLyBOID0gTlxyXG4gICAqICBuIC8gSSA9IDBcclxuICAgKiAgMCAvIG4gPSAwXHJcbiAgICogIDAgLyAwID0gTlxyXG4gICAqICAwIC8gTiA9IE5cclxuICAgKiAgMCAvIEkgPSAwXHJcbiAgICogIE4gLyBuID0gTlxyXG4gICAqICBOIC8gMCA9IE5cclxuICAgKiAgTiAvIE4gPSBOXHJcbiAgICogIE4gLyBJID0gTlxyXG4gICAqICBJIC8gbiA9IElcclxuICAgKiAgSSAvIDAgPSBJXHJcbiAgICogIEkgLyBOID0gTlxyXG4gICAqICBJIC8gSSA9IE5cclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgZGl2aWRlZCBieSBgeWAsIHJvdW5kZWQgdG9cclxuICAgKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5kaXZpZGVkQnkgPSBQLmRpdiA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICByZXR1cm4gZGl2aWRlKHRoaXMsIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHkpKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW50ZWdlciBwYXJ0IG9mIGRpdmlkaW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWxcclxuICAgKiBieSB0aGUgdmFsdWUgb2YgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuZGl2VG9JbnQgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgdmFyIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuICAgIHJldHVybiBmaW5hbGlzZShkaXZpZGUoeCwgbmV3IEN0b3IoeSksIDAsIDEsIDEpLCBDdG9yLnByZWNpc2lvbiwgQ3Rvci5yb3VuZGluZyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgYHlgLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5lcXVhbHMgPSBQLmVxID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHJldHVybiB0aGlzLmNtcCh5KSA9PT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYSB3aG9sZSBudW1iZXIgaW4gdGhlXHJcbiAgICogZGlyZWN0aW9uIG9mIG5lZ2F0aXZlIEluZmluaXR5LlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5mbG9vciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBmaW5hbGlzZShuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKSwgdGhpcy5lICsgMSwgMyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIGB5YCwgb3RoZXJ3aXNlIHJldHVyblxyXG4gICAqIGZhbHNlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5ncmVhdGVyVGhhbiA9IFAuZ3QgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgcmV0dXJuIHRoaXMuY21wKHkpID4gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2YgYHlgLFxyXG4gICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmdyZWF0ZXJUaGFuT3JFcXVhbFRvID0gUC5ndGUgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgdmFyIGsgPSB0aGlzLmNtcCh5KTtcclxuICAgIHJldHVybiBrID09IDEgfHwgayA9PT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgdGhlIHZhbHVlIGluIHJhZGlhbnMgb2YgdGhpc1xyXG4gICAqIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbMSwgSW5maW5pdHldXHJcbiAgICpcclxuICAgKiBjb3NoKHgpID0gMSArIHheMi8yISArIHheNC80ISArIHheNi82ISArIC4uLlxyXG4gICAqXHJcbiAgICogY29zaCgwKSAgICAgICAgID0gMVxyXG4gICAqIGNvc2goLTApICAgICAgICA9IDFcclxuICAgKiBjb3NoKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gICAqIGNvc2goLUluZmluaXR5KSA9IEluZmluaXR5XHJcbiAgICogY29zaChOYU4pICAgICAgID0gTmFOXHJcbiAgICpcclxuICAgKiAgeCAgICAgICAgdGltZSB0YWtlbiAobXMpICAgcmVzdWx0XHJcbiAgICogMTAwMCAgICAgIDkgICAgICAgICAgICAgICAgIDkuODUwMzU1NTcwMDg1MjM0OTY5NGUrNDMzXHJcbiAgICogMTAwMDAgICAgIDI1ICAgICAgICAgICAgICAgIDQuNDAzNDA5MTEyODMxNDYwNzkzNmUrNDM0MlxyXG4gICAqIDEwMDAwMCAgICAxNzEgICAgICAgICAgICAgICAxLjQwMzMzMTY4MDIxMzA2MTU4OTdlKzQzNDI5XHJcbiAgICogMTAwMDAwMCAgIDM4MTcgICAgICAgICAgICAgIDEuNTE2NjA3Njk4NDAxMDQzNzcyNWUrNDM0Mjk0XHJcbiAgICogMTAwMDAwMDAgIGFiYW5kb25lZCBhZnRlciAyIG1pbnV0ZSB3YWl0XHJcbiAgICpcclxuICAgKiBUT0RPPyBDb21wYXJlIHBlcmZvcm1hbmNlIG9mIGNvc2goeCkgPSAwLjUgKiAoZXhwKHgpICsgZXhwKC14KSlcclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaHlwZXJib2xpY0Nvc2luZSA9IFAuY29zaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBrLCBuLCBwciwgcm0sIGxlbixcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICBvbmUgPSBuZXcgQ3RvcigxKTtcclxuXHJcbiAgICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgucyA/IDEgLyAwIDogTmFOKTtcclxuICAgIGlmICh4LmlzWmVybygpKSByZXR1cm4gb25lO1xyXG5cclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgNDtcclxuICAgIEN0b3Iucm91bmRpbmcgPSAxO1xyXG4gICAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgICAvLyBBcmd1bWVudCByZWR1Y3Rpb246IGNvcyg0eCkgPSAxIC0gOGNvc14yKHgpICsgOGNvc140KHgpICsgMVxyXG4gICAgLy8gaS5lLiBjb3MoeCkgPSAxIC0gY29zXjIoeC80KSg4IC0gOGNvc14yKHgvNCkpXHJcblxyXG4gICAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gICAgLy8gVE9ETz8gRXN0aW1hdGlvbiByZXVzZWQgZnJvbSBjb3NpbmUoKSBhbmQgbWF5IG5vdCBiZSBvcHRpbWFsIGhlcmUuXHJcbiAgICBpZiAobGVuIDwgMzIpIHtcclxuICAgICAgayA9IE1hdGguY2VpbChsZW4gLyAzKTtcclxuICAgICAgbiA9ICgxIC8gdGlueVBvdyg0LCBrKSkudG9TdHJpbmcoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGsgPSAxNjtcclxuICAgICAgbiA9ICcyLjMyODMwNjQzNjUzODY5NjI4OTA2MjVlLTEwJztcclxuICAgIH1cclxuXHJcbiAgICB4ID0gdGF5bG9yU2VyaWVzKEN0b3IsIDEsIHgudGltZXMobiksIG5ldyBDdG9yKDEpLCB0cnVlKTtcclxuXHJcbiAgICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gICAgdmFyIGNvc2gyX3gsXHJcbiAgICAgIGkgPSBrLFxyXG4gICAgICBkOCA9IG5ldyBDdG9yKDgpO1xyXG4gICAgZm9yICg7IGktLTspIHtcclxuICAgICAgY29zaDJfeCA9IHgudGltZXMoeCk7XHJcbiAgICAgIHggPSBvbmUubWludXMoY29zaDJfeC50aW1lcyhkOC5taW51cyhjb3NoMl94LnRpbWVzKGQ4KSkpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UoeCwgQ3Rvci5wcmVjaXNpb24gPSBwciwgQ3Rvci5yb3VuZGluZyA9IHJtLCB0cnVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBzaW5lIG9mIHRoZSB2YWx1ZSBpbiByYWRpYW5zIG9mIHRoaXNcclxuICAgKiBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKiBSYW5nZTogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICpcclxuICAgKiBzaW5oKHgpID0geCArIHheMy8zISArIHheNS81ISArIHheNy83ISArIC4uLlxyXG4gICAqXHJcbiAgICogc2luaCgwKSAgICAgICAgID0gMFxyXG4gICAqIHNpbmgoLTApICAgICAgICA9IC0wXHJcbiAgICogc2luaChJbmZpbml0eSkgID0gSW5maW5pdHlcclxuICAgKiBzaW5oKC1JbmZpbml0eSkgPSAtSW5maW5pdHlcclxuICAgKiBzaW5oKE5hTikgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqIHggICAgICAgIHRpbWUgdGFrZW4gKG1zKVxyXG4gICAqIDEwICAgICAgIDIgbXNcclxuICAgKiAxMDAgICAgICA1IG1zXHJcbiAgICogMTAwMCAgICAgMTQgbXNcclxuICAgKiAxMDAwMCAgICA4MiBtc1xyXG4gICAqIDEwMDAwMCAgIDg4NiBtcyAgICAgICAgICAgIDEuNDAzMzMxNjgwMjEzMDYxNTg5N2UrNDM0MjlcclxuICAgKiAyMDAwMDAgICAyNjEzIG1zXHJcbiAgICogMzAwMDAwICAgNTQwNyBtc1xyXG4gICAqIDQwMDAwMCAgIDg4MjQgbXNcclxuICAgKiA1MDAwMDAgICAxMzAyNiBtcyAgICAgICAgICA4LjcwODA2NDM2MTI3MTgwODQxMjllKzIxNzE0NlxyXG4gICAqIDEwMDAwMDAgIDQ4NTQzIG1zXHJcbiAgICpcclxuICAgKiBUT0RPPyBDb21wYXJlIHBlcmZvcm1hbmNlIG9mIHNpbmgoeCkgPSAwLjUgKiAoZXhwKHgpIC0gZXhwKC14KSlcclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaHlwZXJib2xpY1NpbmUgPSBQLnNpbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaywgcHIsIHJtLCBsZW4sXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoIXguaXNGaW5pdGUoKSB8fCB4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyBNYXRoLm1heCh4LmUsIHguc2QoKSkgKyA0O1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgICBsZW4gPSB4LmQubGVuZ3RoO1xyXG5cclxuICAgIGlmIChsZW4gPCAzKSB7XHJcbiAgICAgIHggPSB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCwgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gQWx0ZXJuYXRpdmUgYXJndW1lbnQgcmVkdWN0aW9uOiBzaW5oKDN4KSA9IHNpbmgoeCkoMyArIDRzaW5oXjIoeCkpXHJcbiAgICAgIC8vIGkuZS4gc2luaCh4KSA9IHNpbmgoeC8zKSgzICsgNHNpbmheMih4LzMpKVxyXG4gICAgICAvLyAzIG11bHRpcGxpY2F0aW9ucyBhbmQgMSBhZGRpdGlvblxyXG5cclxuICAgICAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBzaW5oKDV4KSA9IHNpbmgoeCkoNSArIHNpbmheMih4KSgyMCArIDE2c2luaF4yKHgpKSlcclxuICAgICAgLy8gaS5lLiBzaW5oKHgpID0gc2luaCh4LzUpKDUgKyBzaW5oXjIoeC81KSgyMCArIDE2c2luaF4yKHgvNSkpKVxyXG4gICAgICAvLyA0IG11bHRpcGxpY2F0aW9ucyBhbmQgMiBhZGRpdGlvbnNcclxuXHJcbiAgICAgIC8vIEVzdGltYXRlIHRoZSBvcHRpbXVtIG51bWJlciBvZiB0aW1lcyB0byB1c2UgdGhlIGFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAgICAgayA9IDEuNCAqIE1hdGguc3FydChsZW4pO1xyXG4gICAgICBrID0gayA+IDE2ID8gMTYgOiBrIHwgMDtcclxuXHJcbiAgICAgIHggPSB4LnRpbWVzKDEgLyB0aW55UG93KDUsIGspKTtcclxuICAgICAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4LCB0cnVlKTtcclxuXHJcbiAgICAgIC8vIFJldmVyc2UgYXJndW1lbnQgcmVkdWN0aW9uXHJcbiAgICAgIHZhciBzaW5oMl94LFxyXG4gICAgICAgIGQ1ID0gbmV3IEN0b3IoNSksXHJcbiAgICAgICAgZDE2ID0gbmV3IEN0b3IoMTYpLFxyXG4gICAgICAgIGQyMCA9IG5ldyBDdG9yKDIwKTtcclxuICAgICAgZm9yICg7IGstLTspIHtcclxuICAgICAgICBzaW5oMl94ID0geC50aW1lcyh4KTtcclxuICAgICAgICB4ID0geC50aW1lcyhkNS5wbHVzKHNpbmgyX3gudGltZXMoZDE2LnRpbWVzKHNpbmgyX3gpLnBsdXMoZDIwKSkpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHgsIHByLCBybSwgdHJ1ZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgdGFuZ2VudCBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzXHJcbiAgICogRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICogUmFuZ2U6IFstMSwgMV1cclxuICAgKlxyXG4gICAqIHRhbmgoeCkgPSBzaW5oKHgpIC8gY29zaCh4KVxyXG4gICAqXHJcbiAgICogdGFuaCgwKSAgICAgICAgID0gMFxyXG4gICAqIHRhbmgoLTApICAgICAgICA9IC0wXHJcbiAgICogdGFuaChJbmZpbml0eSkgID0gMVxyXG4gICAqIHRhbmgoLUluZmluaXR5KSA9IC0xXHJcbiAgICogdGFuaChOYU4pICAgICAgID0gTmFOXHJcbiAgICpcclxuICAgKi9cclxuICBQLmh5cGVyYm9saWNUYW5nZW50ID0gUC50YW5oID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHByLCBybSxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoeC5zKTtcclxuICAgIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyA3O1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gICAgcmV0dXJuIGRpdmlkZSh4LnNpbmgoKSwgeC5jb3NoKCksIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY2Nvc2luZSAoaW52ZXJzZSBjb3NpbmUpIGluIHJhZGlhbnMgb2YgdGhlIHZhbHVlIG9mXHJcbiAgICogdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogRG9tYWluOiBbLTEsIDFdXHJcbiAgICogUmFuZ2U6IFswLCBwaV1cclxuICAgKlxyXG4gICAqIGFjb3MoeCkgPSBwaS8yIC0gYXNpbih4KVxyXG4gICAqXHJcbiAgICogYWNvcygwKSAgICAgICA9IHBpLzJcclxuICAgKiBhY29zKC0wKSAgICAgID0gcGkvMlxyXG4gICAqIGFjb3MoMSkgICAgICAgPSAwXHJcbiAgICogYWNvcygtMSkgICAgICA9IHBpXHJcbiAgICogYWNvcygxLzIpICAgICA9IHBpLzNcclxuICAgKiBhY29zKC0xLzIpICAgID0gMipwaS8zXHJcbiAgICogYWNvcyh8eHwgPiAxKSA9IE5hTlxyXG4gICAqIGFjb3MoTmFOKSAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaW52ZXJzZUNvc2luZSA9IFAuYWNvcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBoYWxmUGksXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgayA9IHguYWJzKCkuY21wKDEpLFxyXG4gICAgICBwciA9IEN0b3IucHJlY2lzaW9uLFxyXG4gICAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gICAgaWYgKGsgIT09IC0xKSB7XHJcbiAgICAgIHJldHVybiBrID09PSAwXHJcbiAgICAgICAgLy8gfHh8IGlzIDFcclxuICAgICAgICA/IHguaXNOZWcoKSA/IGdldFBpKEN0b3IsIHByLCBybSkgOiBuZXcgQ3RvcigwKVxyXG4gICAgICAgIC8vIHx4fCA+IDEgb3IgeCBpcyBOYU5cclxuICAgICAgICA6IG5ldyBDdG9yKE5hTik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG5cclxuICAgIC8vIFRPRE8/IFNwZWNpYWwgY2FzZSBhY29zKDAuNSkgPSBwaS8zIGFuZCBhY29zKC0wLjUpID0gMipwaS8zXHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwciArIDY7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgICB4ID0geC5hc2luKCk7XHJcbiAgICBoYWxmUGkgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gICAgcmV0dXJuIGhhbGZQaS5taW51cyh4KTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaW52ZXJzZSBvZiB0aGUgaHlwZXJib2xpYyBjb3NpbmUgaW4gcmFkaWFucyBvZiB0aGVcclxuICAgKiB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFsxLCBJbmZpbml0eV1cclxuICAgKiBSYW5nZTogWzAsIEluZmluaXR5XVxyXG4gICAqXHJcbiAgICogYWNvc2goeCkgPSBsbih4ICsgc3FydCh4XjIgLSAxKSlcclxuICAgKlxyXG4gICAqIGFjb3NoKHggPCAxKSAgICAgPSBOYU5cclxuICAgKiBhY29zaChOYU4pICAgICAgID0gTmFOXHJcbiAgICogYWNvc2goSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAgICogYWNvc2goLUluZmluaXR5KSA9IE5hTlxyXG4gICAqIGFjb3NoKDApICAgICAgICAgPSBOYU5cclxuICAgKiBhY29zaCgtMCkgICAgICAgID0gTmFOXHJcbiAgICogYWNvc2goMSkgICAgICAgICA9IDBcclxuICAgKiBhY29zaCgtMSkgICAgICAgID0gTmFOXHJcbiAgICpcclxuICAgKi9cclxuICBQLmludmVyc2VIeXBlcmJvbGljQ29zaW5lID0gUC5hY29zaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwciwgcm0sXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoeC5sdGUoMSkpIHJldHVybiBuZXcgQ3Rvcih4LmVxKDEpID8gMCA6IE5hTik7XHJcbiAgICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoTWF0aC5hYnMoeC5lKSwgeC5zZCgpKSArIDQ7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gICAgeCA9IHgudGltZXMoeCkubWludXMoMSkuc3FydCgpLnBsdXMoeCk7XHJcblxyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgICByZXR1cm4geC5sbigpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIHNpbmUgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWVcclxuICAgKiBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKlxyXG4gICAqIGFzaW5oKHgpID0gbG4oeCArIHNxcnQoeF4yICsgMSkpXHJcbiAgICpcclxuICAgKiBhc2luaChOYU4pICAgICAgID0gTmFOXHJcbiAgICogYXNpbmgoSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAgICogYXNpbmgoLUluZmluaXR5KSA9IC1JbmZpbml0eVxyXG4gICAqIGFzaW5oKDApICAgICAgICAgPSAwXHJcbiAgICogYXNpbmgoLTApICAgICAgICA9IC0wXHJcbiAgICpcclxuICAgKi9cclxuICBQLmludmVyc2VIeXBlcmJvbGljU2luZSA9IFAuYXNpbmggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcHIsIHJtLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKCF4LmlzRmluaXRlKCkgfHwgeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByICsgMiAqIE1hdGgubWF4KE1hdGguYWJzKHguZSksIHguc2QoKSkgKyA2O1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAgIHggPSB4LnRpbWVzKHgpLnBsdXMoMSkuc3FydCgpLnBsdXMoeCk7XHJcblxyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgICByZXR1cm4geC5sbigpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgaW4gcmFkaWFucyBvZiB0aGVcclxuICAgKiB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstMSwgMV1cclxuICAgKiBSYW5nZTogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICpcclxuICAgKiBhdGFuaCh4KSA9IDAuNSAqIGxuKCgxICsgeCkgLyAoMSAtIHgpKVxyXG4gICAqXHJcbiAgICogYXRhbmgofHh8ID4gMSkgICA9IE5hTlxyXG4gICAqIGF0YW5oKE5hTikgICAgICAgPSBOYU5cclxuICAgKiBhdGFuaChJbmZpbml0eSkgID0gTmFOXHJcbiAgICogYXRhbmgoLUluZmluaXR5KSA9IE5hTlxyXG4gICAqIGF0YW5oKDApICAgICAgICAgPSAwXHJcbiAgICogYXRhbmgoLTApICAgICAgICA9IC0wXHJcbiAgICogYXRhbmgoMSkgICAgICAgICA9IEluZmluaXR5XHJcbiAgICogYXRhbmgoLTEpICAgICAgICA9IC1JbmZpbml0eVxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5pbnZlcnNlSHlwZXJib2xpY1RhbmdlbnQgPSBQLmF0YW5oID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHByLCBybSwgd3ByLCB4c2QsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgICBpZiAoeC5lID49IDApIHJldHVybiBuZXcgQ3Rvcih4LmFicygpLmVxKDEpID8geC5zIC8gMCA6IHguaXNaZXJvKCkgPyB4IDogTmFOKTtcclxuXHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgeHNkID0geC5zZCgpO1xyXG5cclxuICAgIGlmIChNYXRoLm1heCh4c2QsIHByKSA8IDIgKiAteC5lIC0gMSkgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBwciwgcm0sIHRydWUpO1xyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gd3ByID0geHNkIC0geC5lO1xyXG5cclxuICAgIHggPSBkaXZpZGUoeC5wbHVzKDEpLCBuZXcgQ3RvcigxKS5taW51cyh4KSwgd3ByICsgcHIsIDEpO1xyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyA0O1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gICAgeCA9IHgubG4oKTtcclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICAgIHJldHVybiB4LnRpbWVzKDAuNSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3NpbmUgKGludmVyc2Ugc2luZSkgaW4gcmFkaWFucyBvZiB0aGUgdmFsdWUgb2YgdGhpc1xyXG4gICAqIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbLXBpLzIsIHBpLzJdXHJcbiAgICpcclxuICAgKiBhc2luKHgpID0gMiphdGFuKHgvKDEgKyBzcXJ0KDEgLSB4XjIpKSlcclxuICAgKlxyXG4gICAqIGFzaW4oMCkgICAgICAgPSAwXHJcbiAgICogYXNpbigtMCkgICAgICA9IC0wXHJcbiAgICogYXNpbigxLzIpICAgICA9IHBpLzZcclxuICAgKiBhc2luKC0xLzIpICAgID0gLXBpLzZcclxuICAgKiBhc2luKDEpICAgICAgID0gcGkvMlxyXG4gICAqIGFzaW4oLTEpICAgICAgPSAtcGkvMlxyXG4gICAqIGFzaW4ofHh8ID4gMSkgPSBOYU5cclxuICAgKiBhc2luKE5hTikgICAgID0gTmFOXHJcbiAgICpcclxuICAgKiBUT0RPPyBDb21wYXJlIHBlcmZvcm1hbmNlIG9mIFRheWxvciBzZXJpZXMuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmludmVyc2VTaW5lID0gUC5hc2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGhhbGZQaSwgayxcclxuICAgICAgcHIsIHJtLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKHguaXNaZXJvKCkpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICBrID0geC5hYnMoKS5jbXAoMSk7XHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICAgIGlmIChrICE9PSAtMSkge1xyXG5cclxuICAgICAgLy8gfHh8IGlzIDFcclxuICAgICAgaWYgKGsgPT09IDApIHtcclxuICAgICAgICBoYWxmUGkgPSBnZXRQaShDdG9yLCBwciArIDQsIHJtKS50aW1lcygwLjUpO1xyXG4gICAgICAgIGhhbGZQaS5zID0geC5zO1xyXG4gICAgICAgIHJldHVybiBoYWxmUGk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHx4fCA+IDEgb3IgeCBpcyBOYU5cclxuICAgICAgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETz8gU3BlY2lhbCBjYXNlIGFzaW4oMS8yKSA9IHBpLzYgYW5kIGFzaW4oLTEvMikgPSAtcGkvNlxyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyA2O1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gICAgeCA9IHguZGl2KG5ldyBDdG9yKDEpLm1pbnVzKHgudGltZXMoeCkpLnNxcnQoKS5wbHVzKDEpKS5hdGFuKCk7XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgIEN0b3Iucm91bmRpbmcgPSBybTtcclxuXHJcbiAgICByZXR1cm4geC50aW1lcygyKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCAoaW52ZXJzZSB0YW5nZW50KSBpbiByYWRpYW5zIG9mIHRoZSB2YWx1ZVxyXG4gICAqIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIERvbWFpbjogWy1JbmZpbml0eSwgSW5maW5pdHldXHJcbiAgICogUmFuZ2U6IFstcGkvMiwgcGkvMl1cclxuICAgKlxyXG4gICAqIGF0YW4oeCkgPSB4IC0geF4zLzMgKyB4XjUvNSAtIHheNy83ICsgLi4uXHJcbiAgICpcclxuICAgKiBhdGFuKDApICAgICAgICAgPSAwXHJcbiAgICogYXRhbigtMCkgICAgICAgID0gLTBcclxuICAgKiBhdGFuKDEpICAgICAgICAgPSBwaS80XHJcbiAgICogYXRhbigtMSkgICAgICAgID0gLXBpLzRcclxuICAgKiBhdGFuKEluZmluaXR5KSAgPSBwaS8yXHJcbiAgICogYXRhbigtSW5maW5pdHkpID0gLXBpLzJcclxuICAgKiBhdGFuKE5hTikgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaW52ZXJzZVRhbmdlbnQgPSBQLmF0YW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgaSwgaiwgaywgbiwgcHgsIHQsIHIsIHdwciwgeDIsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgcHIgPSBDdG9yLnByZWNpc2lvbixcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSB7XHJcbiAgICAgIGlmICgheC5zKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICAgICAgaWYgKHByICsgNCA8PSBQSV9QUkVDSVNJT04pIHtcclxuICAgICAgICByID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC41KTtcclxuICAgICAgICByLnMgPSB4LnM7XHJcbiAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoeC5pc1plcm8oKSkge1xyXG4gICAgICByZXR1cm4gbmV3IEN0b3IoeCk7XHJcbiAgICB9IGVsc2UgaWYgKHguYWJzKCkuZXEoMSkgJiYgcHIgKyA0IDw9IFBJX1BSRUNJU0lPTikge1xyXG4gICAgICByID0gZ2V0UGkoQ3RvciwgcHIgKyA0LCBybSkudGltZXMoMC4yNSk7XHJcbiAgICAgIHIucyA9IHgucztcclxuICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgPSBwciArIDEwO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IDE7XHJcblxyXG4gICAgLy8gVE9ETz8gaWYgKHggPj0gMSAmJiBwciA8PSBQSV9QUkVDSVNJT04pIGF0YW4oeCkgPSBoYWxmUGkgKiB4LnMgLSBhdGFuKDEgLyB4KTtcclxuXHJcbiAgICAvLyBBcmd1bWVudCByZWR1Y3Rpb25cclxuICAgIC8vIEVuc3VyZSB8eHwgPCAwLjQyXHJcbiAgICAvLyBhdGFuKHgpID0gMiAqIGF0YW4oeCAvICgxICsgc3FydCgxICsgeF4yKSkpXHJcblxyXG4gICAgayA9IE1hdGgubWluKDI4LCB3cHIgLyBMT0dfQkFTRSArIDIgfCAwKTtcclxuXHJcbiAgICBmb3IgKGkgPSBrOyBpOyAtLWkpIHggPSB4LmRpdih4LnRpbWVzKHgpLnBsdXMoMSkuc3FydCgpLnBsdXMoMSkpO1xyXG5cclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcblxyXG4gICAgaiA9IE1hdGguY2VpbCh3cHIgLyBMT0dfQkFTRSk7XHJcbiAgICBuID0gMTtcclxuICAgIHgyID0geC50aW1lcyh4KTtcclxuICAgIHIgPSBuZXcgQ3Rvcih4KTtcclxuICAgIHB4ID0geDtcclxuXHJcbiAgICAvLyBhdGFuKHgpID0geCAtIHheMy8zICsgeF41LzUgLSB4XjcvNyArIC4uLlxyXG4gICAgZm9yICg7IGkgIT09IC0xOykge1xyXG4gICAgICBweCA9IHB4LnRpbWVzKHgyKTtcclxuICAgICAgdCA9IHIubWludXMocHguZGl2KG4gKz0gMikpO1xyXG5cclxuICAgICAgcHggPSBweC50aW1lcyh4Mik7XHJcbiAgICAgIHIgPSB0LnBsdXMocHguZGl2KG4gKz0gMikpO1xyXG5cclxuICAgICAgaWYgKHIuZFtqXSAhPT0gdm9pZCAwKSBmb3IgKGkgPSBqOyByLmRbaV0gPT09IHQuZFtpXSAmJiBpLS07KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaykgciA9IHIudGltZXMoMiA8PCAoayAtIDEpKTtcclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHIsIEN0b3IucHJlY2lzaW9uID0gcHIsIEN0b3Iucm91bmRpbmcgPSBybSwgdHJ1ZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBhIGZpbml0ZSBudW1iZXIsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmlzRmluaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICEhdGhpcy5kO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgYW4gaW50ZWdlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaXNJbnRlZ2VyID0gUC5pc0ludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAhIXRoaXMuZCAmJiBtYXRoZmxvb3IodGhpcy5lIC8gTE9HX0JBU0UpID4gdGhpcy5kLmxlbmd0aCAtIDI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBOYU4sIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmlzTmFOID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICF0aGlzLnM7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpcyBuZWdhdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaXNOZWdhdGl2ZSA9IFAuaXNOZWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zIDwgMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIHBvc2l0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5pc1Bvc2l0aXZlID0gUC5pc1BvcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLnMgPiAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAuaXNaZXJvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICEhdGhpcy5kICYmIHRoaXMuZFswXSA9PT0gMDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGlzIGxlc3MgdGhhbiBgeWAsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICpcclxuICAgKi9cclxuICBQLmxlc3NUaGFuID0gUC5sdCA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAoeSkgPCAwO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGB5YCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAubGVzc1RoYW5PckVxdWFsVG8gPSBQLmx0ZSA9IGZ1bmN0aW9uICh5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAoeSkgPCAxO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0aGUgbG9nYXJpdGhtIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgdG8gdGhlIHNwZWNpZmllZCBiYXNlLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIElmIG5vIGJhc2UgaXMgc3BlY2lmaWVkLCByZXR1cm4gbG9nWzEwXShhcmcpLlxyXG4gICAqXHJcbiAgICogbG9nW2Jhc2VdKGFyZykgPSBsbihhcmcpIC8gbG4oYmFzZSlcclxuICAgKlxyXG4gICAqIFRoZSByZXN1bHQgd2lsbCBhbHdheXMgYmUgY29ycmVjdGx5IHJvdW5kZWQgaWYgdGhlIGJhc2Ugb2YgdGhlIGxvZyBpcyAxMCwgYW5kICdhbG1vc3QgYWx3YXlzJ1xyXG4gICAqIG90aGVyd2lzZTpcclxuICAgKlxyXG4gICAqIERlcGVuZGluZyBvbiB0aGUgcm91bmRpbmcgbW9kZSwgdGhlIHJlc3VsdCBtYXkgYmUgaW5jb3JyZWN0bHkgcm91bmRlZCBpZiB0aGUgZmlyc3QgZmlmdGVlblxyXG4gICAqIHJvdW5kaW5nIGRpZ2l0cyBhcmUgWzQ5XTk5OTk5OTk5OTk5OTk5IG9yIFs1MF0wMDAwMDAwMDAwMDAwMC4gSW4gdGhhdCBjYXNlLCB0aGUgbWF4aW11bSBlcnJvclxyXG4gICAqIGJldHdlZW4gdGhlIHJlc3VsdCBhbmQgdGhlIGNvcnJlY3RseSByb3VuZGVkIHJlc3VsdCB3aWxsIGJlIG9uZSB1bHAgKHVuaXQgaW4gdGhlIGxhc3QgcGxhY2UpLlxyXG4gICAqXHJcbiAgICogbG9nWy1iXShhKSAgICAgICA9IE5hTlxyXG4gICAqIGxvZ1swXShhKSAgICAgICAgPSBOYU5cclxuICAgKiBsb2dbMV0oYSkgICAgICAgID0gTmFOXHJcbiAgICogbG9nW05hTl0oYSkgICAgICA9IE5hTlxyXG4gICAqIGxvZ1tJbmZpbml0eV0oYSkgPSBOYU5cclxuICAgKiBsb2dbYl0oMCkgICAgICAgID0gLUluZmluaXR5XHJcbiAgICogbG9nW2JdKC0wKSAgICAgICA9IC1JbmZpbml0eVxyXG4gICAqIGxvZ1tiXSgtYSkgICAgICAgPSBOYU5cclxuICAgKiBsb2dbYl0oMSkgICAgICAgID0gMFxyXG4gICAqIGxvZ1tiXShJbmZpbml0eSkgPSBJbmZpbml0eVxyXG4gICAqIGxvZ1tiXShOYU4pICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqIFtiYXNlXSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZSBvZiB0aGUgbG9nYXJpdGhtLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5sb2dhcml0aG0gPSBQLmxvZyA9IGZ1bmN0aW9uIChiYXNlKSB7XHJcbiAgICB2YXIgaXNCYXNlMTAsIGQsIGRlbm9taW5hdG9yLCBrLCBpbmYsIG51bSwgc2QsIHIsXHJcbiAgICAgIGFyZyA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSBhcmcuY29uc3RydWN0b3IsXHJcbiAgICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgICAgZ3VhcmQgPSA1O1xyXG5cclxuICAgIC8vIERlZmF1bHQgYmFzZSBpcyAxMC5cclxuICAgIGlmIChiYXNlID09IG51bGwpIHtcclxuICAgICAgYmFzZSA9IG5ldyBDdG9yKDEwKTtcclxuICAgICAgaXNCYXNlMTAgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYmFzZSA9IG5ldyBDdG9yKGJhc2UpO1xyXG4gICAgICBkID0gYmFzZS5kO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBiYXNlIGlzIG5lZ2F0aXZlLCBvciBub24tZmluaXRlLCBvciBpcyAwIG9yIDEuXHJcbiAgICAgIGlmIChiYXNlLnMgPCAwIHx8ICFkIHx8ICFkWzBdIHx8IGJhc2UuZXEoMSkpIHJldHVybiBuZXcgQ3RvcihOYU4pO1xyXG5cclxuICAgICAgaXNCYXNlMTAgPSBiYXNlLmVxKDEwKTtcclxuICAgIH1cclxuXHJcbiAgICBkID0gYXJnLmQ7XHJcblxyXG4gICAgLy8gSXMgYXJnIG5lZ2F0aXZlLCBub24tZmluaXRlLCAwIG9yIDE/XHJcbiAgICBpZiAoYXJnLnMgPCAwIHx8ICFkIHx8ICFkWzBdIHx8IGFyZy5lcSgxKSkge1xyXG4gICAgICByZXR1cm4gbmV3IEN0b3IoZCAmJiAhZFswXSA/IC0xIC8gMCA6IGFyZy5zICE9IDEgPyBOYU4gOiBkID8gMCA6IDEgLyAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaGUgcmVzdWx0IHdpbGwgaGF2ZSBhIG5vbi10ZXJtaW5hdGluZyBkZWNpbWFsIGV4cGFuc2lvbiBpZiBiYXNlIGlzIDEwIGFuZCBhcmcgaXMgbm90IGFuXHJcbiAgICAvLyBpbnRlZ2VyIHBvd2VyIG9mIDEwLlxyXG4gICAgaWYgKGlzQmFzZTEwKSB7XHJcbiAgICAgIGlmIChkLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBpbmYgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAoayA9IGRbMF07IGsgJSAxMCA9PT0gMDspIGsgLz0gMTA7XHJcbiAgICAgICAgaW5mID0gayAhPT0gMTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICBzZCA9IHByICsgZ3VhcmQ7XHJcbiAgICBudW0gPSBuYXR1cmFsTG9nYXJpdGhtKGFyZywgc2QpO1xyXG4gICAgZGVub21pbmF0b3IgPSBpc0Jhc2UxMCA/IGdldExuMTAoQ3Rvciwgc2QgKyAxMCkgOiBuYXR1cmFsTG9nYXJpdGhtKGJhc2UsIHNkKTtcclxuXHJcbiAgICAvLyBUaGUgcmVzdWx0IHdpbGwgaGF2ZSA1IHJvdW5kaW5nIGRpZ2l0cy5cclxuICAgIHIgPSBkaXZpZGUobnVtLCBkZW5vbWluYXRvciwgc2QsIDEpO1xyXG5cclxuICAgIC8vIElmIGF0IGEgcm91bmRpbmcgYm91bmRhcnksIGkuZS4gdGhlIHJlc3VsdCdzIHJvdW5kaW5nIGRpZ2l0cyBhcmUgWzQ5XTk5OTkgb3IgWzUwXTAwMDAsXHJcbiAgICAvLyBjYWxjdWxhdGUgMTAgZnVydGhlciBkaWdpdHMuXHJcbiAgICAvL1xyXG4gICAgLy8gSWYgdGhlIHJlc3VsdCBpcyBrbm93biB0byBoYXZlIGFuIGluZmluaXRlIGRlY2ltYWwgZXhwYW5zaW9uLCByZXBlYXQgdGhpcyB1bnRpbCBpdCBpcyBjbGVhclxyXG4gICAgLy8gdGhhdCB0aGUgcmVzdWx0IGlzIGFib3ZlIG9yIGJlbG93IHRoZSBib3VuZGFyeS4gT3RoZXJ3aXNlLCBpZiBhZnRlciBjYWxjdWxhdGluZyB0aGUgMTBcclxuICAgIC8vIGZ1cnRoZXIgZGlnaXRzLCB0aGUgbGFzdCAxNCBhcmUgbmluZXMsIHJvdW5kIHVwIGFuZCBhc3N1bWUgdGhlIHJlc3VsdCBpcyBleGFjdC5cclxuICAgIC8vIEFsc28gYXNzdW1lIHRoZSByZXN1bHQgaXMgZXhhY3QgaWYgdGhlIGxhc3QgMTQgYXJlIHplcm8uXHJcbiAgICAvL1xyXG4gICAgLy8gRXhhbXBsZSBvZiBhIHJlc3VsdCB0aGF0IHdpbGwgYmUgaW5jb3JyZWN0bHkgcm91bmRlZDpcclxuICAgIC8vIGxvZ1sxMDQ4NTc2XSg0NTAzNTk5NjI3MzcwNTAyKSA9IDIuNjAwMDAwMDAwMDAwMDAwMDk2MTAyNzk1MTE0NDQ3NDYuLi5cclxuICAgIC8vIFRoZSBhYm92ZSByZXN1bHQgY29ycmVjdGx5IHJvdW5kZWQgdXNpbmcgUk9VTkRfQ0VJTCB0byAxIGRlY2ltYWwgcGxhY2Ugc2hvdWxkIGJlIDIuNywgYnV0IGl0XHJcbiAgICAvLyB3aWxsIGJlIGdpdmVuIGFzIDIuNiBhcyB0aGVyZSBhcmUgMTUgemVyb3MgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIHJlcXVlc3RlZCBkZWNpbWFsIHBsYWNlLCBzb1xyXG4gICAgLy8gdGhlIGV4YWN0IHJlc3VsdCB3b3VsZCBiZSBhc3N1bWVkIHRvIGJlIDIuNiwgd2hpY2ggcm91bmRlZCB1c2luZyBST1VORF9DRUlMIHRvIDEgZGVjaW1hbFxyXG4gICAgLy8gcGxhY2UgaXMgc3RpbGwgMi42LlxyXG4gICAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoci5kLCBrID0gcHIsIHJtKSkge1xyXG5cclxuICAgICAgZG8ge1xyXG4gICAgICAgIHNkICs9IDEwO1xyXG4gICAgICAgIG51bSA9IG5hdHVyYWxMb2dhcml0aG0oYXJnLCBzZCk7XHJcbiAgICAgICAgZGVub21pbmF0b3IgPSBpc0Jhc2UxMCA/IGdldExuMTAoQ3Rvciwgc2QgKyAxMCkgOiBuYXR1cmFsTG9nYXJpdGhtKGJhc2UsIHNkKTtcclxuICAgICAgICByID0gZGl2aWRlKG51bSwgZGVub21pbmF0b3IsIHNkLCAxKTtcclxuXHJcbiAgICAgICAgaWYgKCFpbmYpIHtcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayBmb3IgMTQgbmluZXMgZnJvbSB0aGUgMm5kIHJvdW5kaW5nIGRpZ2l0LCBhcyB0aGUgZmlyc3QgbWF5IGJlIDQuXHJcbiAgICAgICAgICBpZiAoK2RpZ2l0c1RvU3RyaW5nKHIuZCkuc2xpY2UoayArIDEsIGsgKyAxNSkgKyAxID09IDFlMTQpIHtcclxuICAgICAgICAgICAgciA9IGZpbmFsaXNlKHIsIHByICsgMSwgMCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IHdoaWxlIChjaGVja1JvdW5kaW5nRGlnaXRzKHIuZCwgayArPSAxMCwgcm0pKTtcclxuICAgIH1cclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1heGltdW0gb2YgdGhlIGFyZ3VtZW50cyBhbmQgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbC5cclxuICAgKlxyXG4gICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgUC5tYXggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBBcnJheS5wcm90b3R5cGUucHVzaC5jYWxsKGFyZ3VtZW50cywgdGhpcyk7XHJcbiAgICByZXR1cm4gbWF4T3JNaW4odGhpcy5jb25zdHJ1Y3RvciwgYXJndW1lbnRzLCAnbHQnKTtcclxuICB9O1xyXG4gICAqL1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzIGFuZCB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICBQLm1pbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmNhbGwoYXJndW1lbnRzLCB0aGlzKTtcclxuICAgIHJldHVybiBtYXhPck1pbih0aGlzLmNvbnN0cnVjdG9yLCBhcmd1bWVudHMsICdndCcpO1xyXG4gIH07XHJcbiAgICovXHJcblxyXG5cclxuICAvKlxyXG4gICAqICBuIC0gMCA9IG5cclxuICAgKiAgbiAtIE4gPSBOXHJcbiAgICogIG4gLSBJID0gLUlcclxuICAgKiAgMCAtIG4gPSAtblxyXG4gICAqICAwIC0gMCA9IDBcclxuICAgKiAgMCAtIE4gPSBOXHJcbiAgICogIDAgLSBJID0gLUlcclxuICAgKiAgTiAtIG4gPSBOXHJcbiAgICogIE4gLSAwID0gTlxyXG4gICAqICBOIC0gTiA9IE5cclxuICAgKiAgTiAtIEkgPSBOXHJcbiAgICogIEkgLSBuID0gSVxyXG4gICAqICBJIC0gMCA9IElcclxuICAgKiAgSSAtIE4gPSBOXHJcbiAgICogIEkgLSBJID0gTlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBtaW51cyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5taW51cyA9IFAuc3ViID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHZhciBkLCBlLCBpLCBqLCBrLCBsZW4sIHByLCBybSwgeGQsIHhlLCB4TFR5LCB5ZCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIHkgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgICAvLyBJZiBlaXRoZXIgaXMgbm90IGZpbml0ZS4uLlxyXG4gICAgaWYgKCF4LmQgfHwgIXkuZCkge1xyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgICBpZiAoIXgucyB8fCAheS5zKSB5ID0gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAgIC8vIFJldHVybiB5IG5lZ2F0ZWQgaWYgeCBpcyBmaW5pdGUgYW5kIHkgaXMgwrFJbmZpbml0eS5cclxuICAgICAgZWxzZSBpZiAoeC5kKSB5LnMgPSAteS5zO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHggaWYgeSBpcyBmaW5pdGUgYW5kIHggaXMgwrFJbmZpbml0eS5cclxuICAgICAgLy8gUmV0dXJuIHggaWYgYm90aCBhcmUgwrFJbmZpbml0eSB3aXRoIGRpZmZlcmVudCBzaWducy5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBib3RoIGFyZSDCsUluZmluaXR5IHdpdGggdGhlIHNhbWUgc2lnbi5cclxuICAgICAgZWxzZSB5ID0gbmV3IEN0b3IoeS5kIHx8IHgucyAhPT0geS5zID8geCA6IE5hTik7XHJcblxyXG4gICAgICByZXR1cm4geTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiBzaWducyBkaWZmZXIuLi5cclxuICAgIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICAgIHkucyA9IC15LnM7XHJcbiAgICAgIHJldHVybiB4LnBsdXMoeSk7XHJcbiAgICB9XHJcblxyXG4gICAgeGQgPSB4LmQ7XHJcbiAgICB5ZCA9IHkuZDtcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gICAgLy8gSWYgZWl0aGVyIGlzIHplcm8uLi5cclxuICAgIGlmICgheGRbMF0gfHwgIXlkWzBdKSB7XHJcblxyXG4gICAgICAvLyBSZXR1cm4geSBuZWdhdGVkIGlmIHggaXMgemVybyBhbmQgeSBpcyBub24temVyby5cclxuICAgICAgaWYgKHlkWzBdKSB5LnMgPSAteS5zO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHggaWYgeSBpcyB6ZXJvIGFuZCB4IGlzIG5vbi16ZXJvLlxyXG4gICAgICBlbHNlIGlmICh4ZFswXSkgeSA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHplcm8gaWYgYm90aCBhcmUgemVyby5cclxuICAgICAgLy8gRnJvbSBJRUVFIDc1NCAoMjAwOCkgNi4zOiAwIC0gMCA9IC0wIC0gLTAgPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eS5cclxuICAgICAgZWxzZSByZXR1cm4gbmV3IEN0b3Iocm0gPT09IDMgPyAtMCA6IDApO1xyXG5cclxuICAgICAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8geCBhbmQgeSBhcmUgZmluaXRlLCBub24temVybyBudW1iZXJzIHdpdGggdGhlIHNhbWUgc2lnbi5cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgYmFzZSAxZTcgZXhwb25lbnRzLlxyXG4gICAgZSA9IG1hdGhmbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICB4ZSA9IG1hdGhmbG9vcih4LmUgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgeGQgPSB4ZC5zbGljZSgpO1xyXG4gICAgayA9IHhlIC0gZTtcclxuXHJcbiAgICAvLyBJZiBiYXNlIDFlNyBleHBvbmVudHMgZGlmZmVyLi4uXHJcbiAgICBpZiAoaykge1xyXG4gICAgICB4TFR5ID0gayA8IDA7XHJcblxyXG4gICAgICBpZiAoeExUeSkge1xyXG4gICAgICAgIGQgPSB4ZDtcclxuICAgICAgICBrID0gLWs7XHJcbiAgICAgICAgbGVuID0geWQubGVuZ3RoO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGQgPSB5ZDtcclxuICAgICAgICBlID0geGU7XHJcbiAgICAgICAgbGVuID0geGQubGVuZ3RoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBOdW1iZXJzIHdpdGggbWFzc2l2ZWx5IGRpZmZlcmVudCBleHBvbmVudHMgd291bGQgcmVzdWx0IGluIGEgdmVyeSBoaWdoIG51bWJlciBvZlxyXG4gICAgICAvLyB6ZXJvcyBuZWVkaW5nIHRvIGJlIHByZXBlbmRlZCwgYnV0IHRoaXMgY2FuIGJlIGF2b2lkZWQgd2hpbGUgc3RpbGwgZW5zdXJpbmcgY29ycmVjdFxyXG4gICAgICAvLyByb3VuZGluZyBieSBsaW1pdGluZyB0aGUgbnVtYmVyIG9mIHplcm9zIHRvIGBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSkgKyAyYC5cclxuICAgICAgaSA9IE1hdGgubWF4KE1hdGguY2VpbChwciAvIExPR19CQVNFKSwgbGVuKSArIDI7XHJcblxyXG4gICAgICBpZiAoayA+IGkpIHtcclxuICAgICAgICBrID0gaTtcclxuICAgICAgICBkLmxlbmd0aCA9IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFByZXBlbmQgemVyb3MgdG8gZXF1YWxpc2UgZXhwb25lbnRzLlxyXG4gICAgICBkLnJldmVyc2UoKTtcclxuICAgICAgZm9yIChpID0gazsgaS0tOykgZC5wdXNoKDApO1xyXG4gICAgICBkLnJldmVyc2UoKTtcclxuXHJcbiAgICAvLyBCYXNlIDFlNyBleHBvbmVudHMgZXF1YWwuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gQ2hlY2sgZGlnaXRzIHRvIGRldGVybWluZSB3aGljaCBpcyB0aGUgYmlnZ2VyIG51bWJlci5cclxuXHJcbiAgICAgIGkgPSB4ZC5sZW5ndGg7XHJcbiAgICAgIGxlbiA9IHlkLmxlbmd0aDtcclxuICAgICAgeExUeSA9IGkgPCBsZW47XHJcbiAgICAgIGlmICh4TFR5KSBsZW4gPSBpO1xyXG5cclxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKHhkW2ldICE9IHlkW2ldKSB7XHJcbiAgICAgICAgICB4TFR5ID0geGRbaV0gPCB5ZFtpXTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgayA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHhMVHkpIHtcclxuICAgICAgZCA9IHhkO1xyXG4gICAgICB4ZCA9IHlkO1xyXG4gICAgICB5ZCA9IGQ7XHJcbiAgICAgIHkucyA9IC15LnM7XHJcbiAgICB9XHJcblxyXG4gICAgbGVuID0geGQubGVuZ3RoO1xyXG5cclxuICAgIC8vIEFwcGVuZCB6ZXJvcyB0byBgeGRgIGlmIHNob3J0ZXIuXHJcbiAgICAvLyBEb24ndCBhZGQgemVyb3MgdG8gYHlkYCBpZiBzaG9ydGVyIGFzIHN1YnRyYWN0aW9uIG9ubHkgbmVlZHMgdG8gc3RhcnQgYXQgYHlkYCBsZW5ndGguXHJcbiAgICBmb3IgKGkgPSB5ZC5sZW5ndGggLSBsZW47IGkgPiAwOyAtLWkpIHhkW2xlbisrXSA9IDA7XHJcblxyXG4gICAgLy8gU3VidHJhY3QgeWQgZnJvbSB4ZC5cclxuICAgIGZvciAoaSA9IHlkLmxlbmd0aDsgaSA+IGs7KSB7XHJcblxyXG4gICAgICBpZiAoeGRbLS1pXSA8IHlkW2ldKSB7XHJcbiAgICAgICAgZm9yIChqID0gaTsgaiAmJiB4ZFstLWpdID09PSAwOykgeGRbal0gPSBCQVNFIC0gMTtcclxuICAgICAgICAtLXhkW2pdO1xyXG4gICAgICAgIHhkW2ldICs9IEJBU0U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhkW2ldIC09IHlkW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoOyB4ZFstLWxlbl0gPT09IDA7KSB4ZC5wb3AoKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgZm9yICg7IHhkWzBdID09PSAwOyB4ZC5zaGlmdCgpKSAtLWU7XHJcblxyXG4gICAgLy8gWmVybz9cclxuICAgIGlmICgheGRbMF0pIHJldHVybiBuZXcgQ3RvcihybSA9PT0gMyA/IC0wIDogMCk7XHJcblxyXG4gICAgeS5kID0geGQ7XHJcbiAgICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudCh4ZCwgZSk7XHJcblxyXG4gICAgcmV0dXJuIGV4dGVybmFsID8gZmluYWxpc2UoeSwgcHIsIHJtKSA6IHk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogICBuICUgMCA9ICBOXHJcbiAgICogICBuICUgTiA9ICBOXHJcbiAgICogICBuICUgSSA9ICBuXHJcbiAgICogICAwICUgbiA9ICAwXHJcbiAgICogIC0wICUgbiA9IC0wXHJcbiAgICogICAwICUgMCA9ICBOXHJcbiAgICogICAwICUgTiA9ICBOXHJcbiAgICogICAwICUgSSA9ICAwXHJcbiAgICogICBOICUgbiA9ICBOXHJcbiAgICogICBOICUgMCA9ICBOXHJcbiAgICogICBOICUgTiA9ICBOXHJcbiAgICogICBOICUgSSA9ICBOXHJcbiAgICogICBJICUgbiA9ICBOXHJcbiAgICogICBJICUgMCA9ICBOXHJcbiAgICogICBJICUgTiA9ICBOXHJcbiAgICogICBJICUgSSA9ICBOXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIG1vZHVsbyBgeWAsIHJvdW5kZWQgdG9cclxuICAgKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogVGhlIHJlc3VsdCBkZXBlbmRzIG9uIHRoZSBtb2R1bG8gbW9kZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgdmFyIHEsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICB5ID0gbmV3IEN0b3IoeSk7XHJcblxyXG4gICAgLy8gUmV0dXJuIE5hTiBpZiB4IGlzIMKxSW5maW5pdHkgb3IgTmFOLCBvciB5IGlzIE5hTiBvciDCsTAuXHJcbiAgICBpZiAoIXguZCB8fCAheS5zIHx8IHkuZCAmJiAheS5kWzBdKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAvLyBSZXR1cm4geCBpZiB5IGlzIMKxSW5maW5pdHkgb3IgeCBpcyDCsTAuXHJcbiAgICBpZiAoIXkuZCB8fCB4LmQgJiYgIXguZFswXSkge1xyXG4gICAgICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIEN0b3IucHJlY2lzaW9uLCBDdG9yLnJvdW5kaW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcmV2ZW50IHJvdW5kaW5nIG9mIGludGVybWVkaWF0ZSBjYWxjdWxhdGlvbnMuXHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChDdG9yLm1vZHVsbyA9PSA5KSB7XHJcblxyXG4gICAgICAvLyBFdWNsaWRpYW4gZGl2aXNpb246IHEgPSBzaWduKHkpICogZmxvb3IoeCAvIGFicyh5KSlcclxuICAgICAgLy8gcmVzdWx0ID0geCAtIHEgKiB5ICAgIHdoZXJlICAwIDw9IHJlc3VsdCA8IGFicyh5KVxyXG4gICAgICBxID0gZGl2aWRlKHgsIHkuYWJzKCksIDAsIDMsIDEpO1xyXG4gICAgICBxLnMgKj0geS5zO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcSA9IGRpdmlkZSh4LCB5LCAwLCBDdG9yLm1vZHVsbywgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcSA9IHEudGltZXMoeSk7XHJcblxyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICAgIHJldHVybiB4Lm1pbnVzKHEpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGV4cG9uZW50aWFsIG9mIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwsXHJcbiAgICogaS5lLiB0aGUgYmFzZSBlIHJhaXNlZCB0byB0aGUgcG93ZXIgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKi9cclxuICBQLm5hdHVyYWxFeHBvbmVudGlhbCA9IFAuZXhwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIG5hdHVyYWxFeHBvbmVudGlhbCh0aGlzKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgbmF0dXJhbCBsb2dhcml0aG0gb2YgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCxcclxuICAgKiByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKi9cclxuICBQLm5hdHVyYWxMb2dhcml0aG0gPSBQLmxuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIG5hdHVyYWxMb2dhcml0aG0odGhpcyk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBuZWdhdGVkLCBpLmUuIGFzIGlmIG11bHRpcGxpZWQgYnlcclxuICAgKiAtMS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAubmVnYXRlZCA9IFAubmVnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHggPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzKTtcclxuICAgIHgucyA9IC14LnM7XHJcbiAgICByZXR1cm4gZmluYWxpc2UoeCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogIG4gKyAwID0gblxyXG4gICAqICBuICsgTiA9IE5cclxuICAgKiAgbiArIEkgPSBJXHJcbiAgICogIDAgKyBuID0gblxyXG4gICAqICAwICsgMCA9IDBcclxuICAgKiAgMCArIE4gPSBOXHJcbiAgICogIDAgKyBJID0gSVxyXG4gICAqICBOICsgbiA9IE5cclxuICAgKiAgTiArIDAgPSBOXHJcbiAgICogIE4gKyBOID0gTlxyXG4gICAqICBOICsgSSA9IE5cclxuICAgKiAgSSArIG4gPSBJXHJcbiAgICogIEkgKyAwID0gSVxyXG4gICAqICBJICsgTiA9IE5cclxuICAgKiAgSSArIEkgPSBJXHJcbiAgICpcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHBsdXMgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAucGx1cyA9IFAuYWRkID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHZhciBjYXJyeSwgZCwgZSwgaSwgaywgbGVuLCBwciwgcm0sIHhkLCB5ZCxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIHkgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgICAvLyBJZiBlaXRoZXIgaXMgbm90IGZpbml0ZS4uLlxyXG4gICAgaWYgKCF4LmQgfHwgIXkuZCkge1xyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgICBpZiAoIXgucyB8fCAheS5zKSB5ID0gbmV3IEN0b3IoTmFOKTtcclxuXHJcbiAgICAgIC8vIFJldHVybiB4IGlmIHkgaXMgZmluaXRlIGFuZCB4IGlzIMKxSW5maW5pdHkuXHJcbiAgICAgIC8vIFJldHVybiB4IGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG4gICAgICAvLyBSZXR1cm4gTmFOIGlmIGJvdGggYXJlIMKxSW5maW5pdHkgd2l0aCBkaWZmZXJlbnQgc2lnbnMuXHJcbiAgICAgIC8vIFJldHVybiB5IGlmIHggaXMgZmluaXRlIGFuZCB5IGlzIMKxSW5maW5pdHkuXHJcbiAgICAgIGVsc2UgaWYgKCF4LmQpIHkgPSBuZXcgQ3Rvcih5LmQgfHwgeC5zID09PSB5LnMgPyB4IDogTmFOKTtcclxuXHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfVxyXG5cclxuICAgICAvLyBJZiBzaWducyBkaWZmZXIuLi5cclxuICAgIGlmICh4LnMgIT0geS5zKSB7XHJcbiAgICAgIHkucyA9IC15LnM7XHJcbiAgICAgIHJldHVybiB4Lm1pbnVzKHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHhkID0geC5kO1xyXG4gICAgeWQgPSB5LmQ7XHJcbiAgICBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG5cclxuICAgIC8vIElmIGVpdGhlciBpcyB6ZXJvLi4uXHJcbiAgICBpZiAoIXhkWzBdIHx8ICF5ZFswXSkge1xyXG5cclxuICAgICAgLy8gUmV0dXJuIHggaWYgeSBpcyB6ZXJvLlxyXG4gICAgICAvLyBSZXR1cm4geSBpZiB5IGlzIG5vbi16ZXJvLlxyXG4gICAgICBpZiAoIXlkWzBdKSB5ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBwciwgcm0pIDogeTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB4IGFuZCB5IGFyZSBmaW5pdGUsIG5vbi16ZXJvIG51bWJlcnMgd2l0aCB0aGUgc2FtZSBzaWduLlxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSBiYXNlIDFlNyBleHBvbmVudHMuXHJcbiAgICBrID0gbWF0aGZsb29yKHguZSAvIExPR19CQVNFKTtcclxuICAgIGUgPSBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICAgIHhkID0geGQuc2xpY2UoKTtcclxuICAgIGkgPSBrIC0gZTtcclxuXHJcbiAgICAvLyBJZiBiYXNlIDFlNyBleHBvbmVudHMgZGlmZmVyLi4uXHJcbiAgICBpZiAoaSkge1xyXG5cclxuICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgZCA9IHhkO1xyXG4gICAgICAgIGkgPSAtaTtcclxuICAgICAgICBsZW4gPSB5ZC5sZW5ndGg7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZCA9IHlkO1xyXG4gICAgICAgIGUgPSBrO1xyXG4gICAgICAgIGxlbiA9IHhkLmxlbmd0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTGltaXQgbnVtYmVyIG9mIHplcm9zIHByZXBlbmRlZCB0byBtYXgoY2VpbChwciAvIExPR19CQVNFKSwgbGVuKSArIDEuXHJcbiAgICAgIGsgPSBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSk7XHJcbiAgICAgIGxlbiA9IGsgPiBsZW4gPyBrICsgMSA6IGxlbiArIDE7XHJcblxyXG4gICAgICBpZiAoaSA+IGxlbikge1xyXG4gICAgICAgIGkgPSBsZW47XHJcbiAgICAgICAgZC5sZW5ndGggPSAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gTm90ZTogRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXHJcbiAgICAgIGQucmV2ZXJzZSgpO1xyXG4gICAgICBmb3IgKDsgaS0tOykgZC5wdXNoKDApO1xyXG4gICAgICBkLnJldmVyc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBsZW4gPSB4ZC5sZW5ndGg7XHJcbiAgICBpID0geWQubGVuZ3RoO1xyXG5cclxuICAgIC8vIElmIHlkIGlzIGxvbmdlciB0aGFuIHhkLCBzd2FwIHhkIGFuZCB5ZCBzbyB4ZCBwb2ludHMgdG8gdGhlIGxvbmdlciBhcnJheS5cclxuICAgIGlmIChsZW4gLSBpIDwgMCkge1xyXG4gICAgICBpID0gbGVuO1xyXG4gICAgICBkID0geWQ7XHJcbiAgICAgIHlkID0geGQ7XHJcbiAgICAgIHhkID0gZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPbmx5IHN0YXJ0IGFkZGluZyBhdCB5ZC5sZW5ndGggLSAxIGFzIHRoZSBmdXJ0aGVyIGRpZ2l0cyBvZiB4ZCBjYW4gYmUgbGVmdCBhcyB0aGV5IGFyZS5cclxuICAgIGZvciAoY2FycnkgPSAwOyBpOykge1xyXG4gICAgICBjYXJyeSA9ICh4ZFstLWldID0geGRbaV0gKyB5ZFtpXSArIGNhcnJ5KSAvIEJBU0UgfCAwO1xyXG4gICAgICB4ZFtpXSAlPSBCQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjYXJyeSkge1xyXG4gICAgICB4ZC51bnNoaWZ0KGNhcnJ5KTtcclxuICAgICAgKytlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIC8vIE5vIG5lZWQgdG8gY2hlY2sgZm9yIHplcm8sIGFzICt4ICsgK3kgIT0gMCAmJiAteCArIC15ICE9IDBcclxuICAgIGZvciAobGVuID0geGQubGVuZ3RoOyB4ZFstLWxlbl0gPT0gMDspIHhkLnBvcCgpO1xyXG5cclxuICAgIHkuZCA9IHhkO1xyXG4gICAgeS5lID0gZ2V0QmFzZTEwRXhwb25lbnQoeGQsIGUpO1xyXG5cclxuICAgIHJldHVybiBleHRlcm5hbCA/IGZpbmFsaXNlKHksIHByLCBybSkgOiB5O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZiB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogW3pdIHtib29sZWFufG51bWJlcn0gV2hldGhlciB0byBjb3VudCBpbnRlZ2VyLXBhcnQgdHJhaWxpbmcgemVyb3M6IHRydWUsIGZhbHNlLCAxIG9yIDAuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnByZWNpc2lvbiA9IFAuc2QgPSBmdW5jdGlvbiAoeikge1xyXG4gICAgdmFyIGssXHJcbiAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgIGlmICh6ICE9PSB2b2lkIDAgJiYgeiAhPT0gISF6ICYmIHogIT09IDEgJiYgeiAhPT0gMCkgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgeik7XHJcblxyXG4gICAgaWYgKHguZCkge1xyXG4gICAgICBrID0gZ2V0UHJlY2lzaW9uKHguZCk7XHJcbiAgICAgIGlmICh6ICYmIHguZSArIDEgPiBrKSBrID0geC5lICsgMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGsgPSBOYU47XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGs7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgd2hvbGUgbnVtYmVyIHVzaW5nXHJcbiAgICogcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5yb3VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKG5ldyBDdG9yKHgpLCB4LmUgKyAxLCBDdG9yLnJvdW5kaW5nKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc2luZSBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbLTEsIDFdXHJcbiAgICpcclxuICAgKiBzaW4oeCkgPSB4IC0geF4zLzMhICsgeF41LzUhIC0gLi4uXHJcbiAgICpcclxuICAgKiBzaW4oMCkgICAgICAgICA9IDBcclxuICAgKiBzaW4oLTApICAgICAgICA9IC0wXHJcbiAgICogc2luKEluZmluaXR5KSAgPSBOYU5cclxuICAgKiBzaW4oLUluZmluaXR5KSA9IE5hTlxyXG4gICAqIHNpbihOYU4pICAgICAgID0gTmFOXHJcbiAgICpcclxuICAgKi9cclxuICBQLnNpbmUgPSBQLnNpbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBwciwgcm0sXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoIXguaXNGaW5pdGUoKSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcbiAgICBpZiAoeC5pc1plcm8oKSkgcmV0dXJuIG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByICsgTWF0aC5tYXgoeC5lLCB4LnNkKCkpICsgTE9HX0JBU0U7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gMTtcclxuXHJcbiAgICB4ID0gc2luZShDdG9yLCB0b0xlc3NUaGFuSGFsZlBpKEN0b3IsIHgpKTtcclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICAgIHJldHVybiBmaW5hbGlzZShxdWFkcmFudCA+IDIgPyB4Lm5lZygpIDogeCwgcHIsIHJtLCB0cnVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgdGhpcyBEZWNpbWFsLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqICBzcXJ0KC1uKSA9ICBOXHJcbiAgICogIHNxcnQoTikgID0gIE5cclxuICAgKiAgc3FydCgtSSkgPSAgTlxyXG4gICAqICBzcXJ0KEkpICA9ICBJXHJcbiAgICogIHNxcnQoMCkgID0gIDBcclxuICAgKiAgc3FydCgtMCkgPSAtMFxyXG4gICAqXHJcbiAgICovXHJcbiAgUC5zcXVhcmVSb290ID0gUC5zcXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG0sIG4sIHNkLCByLCByZXAsIHQsXHJcbiAgICAgIHggPSB0aGlzLFxyXG4gICAgICBkID0geC5kLFxyXG4gICAgICBlID0geC5lLFxyXG4gICAgICBzID0geC5zLFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICAvLyBOZWdhdGl2ZS9OYU4vSW5maW5pdHkvemVybz9cclxuICAgIGlmIChzICE9PSAxIHx8ICFkIHx8ICFkWzBdKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQ3RvcighcyB8fCBzIDwgMCAmJiAoIWQgfHwgZFswXSkgPyBOYU4gOiBkID8geCA6IDEgLyAwKTtcclxuICAgIH1cclxuXHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEluaXRpYWwgZXN0aW1hdGUuXHJcbiAgICBzID0gTWF0aC5zcXJ0KCt4KTtcclxuXHJcbiAgICAvLyBNYXRoLnNxcnQgdW5kZXJmbG93L292ZXJmbG93P1xyXG4gICAgLy8gUGFzcyB4IHRvIE1hdGguc3FydCBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgZXhwb25lbnQgb2YgdGhlIHJlc3VsdC5cclxuICAgIGlmIChzID09IDAgfHwgcyA9PSAxIC8gMCkge1xyXG4gICAgICBuID0gZGlnaXRzVG9TdHJpbmcoZCk7XHJcblxyXG4gICAgICBpZiAoKG4ubGVuZ3RoICsgZSkgJSAyID09IDApIG4gKz0gJzAnO1xyXG4gICAgICBzID0gTWF0aC5zcXJ0KG4pO1xyXG4gICAgICBlID0gbWF0aGZsb29yKChlICsgMSkgLyAyKSAtIChlIDwgMCB8fCBlICUgMik7XHJcblxyXG4gICAgICBpZiAocyA9PSAxIC8gMCkge1xyXG4gICAgICAgIG4gPSAnNWUnICsgZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuID0gcy50b0V4cG9uZW50aWFsKCk7XHJcbiAgICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHIgPSBuZXcgQ3RvcihuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHIgPSBuZXcgQ3RvcihzLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNkID0gKGUgPSBDdG9yLnByZWNpc2lvbikgKyAzO1xyXG5cclxuICAgIC8vIE5ld3Rvbi1SYXBoc29uIGl0ZXJhdGlvbi5cclxuICAgIGZvciAoOzspIHtcclxuICAgICAgdCA9IHI7XHJcbiAgICAgIHIgPSB0LnBsdXMoZGl2aWRlKHgsIHQsIHNkICsgMiwgMSkpLnRpbWVzKDAuNSk7XHJcblxyXG4gICAgICAvLyBUT0RPPyBSZXBsYWNlIHdpdGggZm9yLWxvb3AgYW5kIGNoZWNrUm91bmRpbmdEaWdpdHMuXHJcbiAgICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHNkKSA9PT0gKG4gPSBkaWdpdHNUb1N0cmluZyhyLmQpKS5zbGljZSgwLCBzZCkpIHtcclxuICAgICAgICBuID0gbi5zbGljZShzZCAtIDMsIHNkICsgMSk7XHJcblxyXG4gICAgICAgIC8vIFRoZSA0dGggcm91bmRpbmcgZGlnaXQgbWF5IGJlIGluIGVycm9yIGJ5IC0xIHNvIGlmIHRoZSA0IHJvdW5kaW5nIGRpZ2l0cyBhcmUgOTk5OSBvclxyXG4gICAgICAgIC8vIDQ5OTksIGkuZS4gYXBwcm9hY2hpbmcgYSByb3VuZGluZyBib3VuZGFyeSwgY29udGludWUgdGhlIGl0ZXJhdGlvbi5cclxuICAgICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAgIC8vIE9uIHRoZSBmaXJzdCBpdGVyYXRpb24gb25seSwgY2hlY2sgdG8gc2VlIGlmIHJvdW5kaW5nIHVwIGdpdmVzIHRoZSBleGFjdCByZXN1bHQgYXMgdGhlXHJcbiAgICAgICAgICAvLyBuaW5lcyBtYXkgaW5maW5pdGVseSByZXBlYXQuXHJcbiAgICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgICBmaW5hbGlzZSh0LCBlICsgMSwgMCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodC50aW1lcyh0KS5lcSh4KSkge1xyXG4gICAgICAgICAgICAgIHIgPSB0O1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2QgKz0gNDtcclxuICAgICAgICAgIHJlcCA9IDE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBudWxsLCAwezAsNH0gb3IgNTB7MCwzfSwgY2hlY2sgZm9yIGFuIGV4YWN0IHJlc3VsdC5cclxuICAgICAgICAgIC8vIElmIG5vdCwgdGhlbiB0aGVyZSBhcmUgZnVydGhlciBkaWdpdHMgYW5kIG0gd2lsbCBiZSB0cnV0aHkuXHJcbiAgICAgICAgICBpZiAoIStuIHx8ICErbi5zbGljZSgxKSAmJiBuLmNoYXJBdCgwKSA9PSAnNScpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgICAgZmluYWxpc2UociwgZSArIDEsIDEpO1xyXG4gICAgICAgICAgICBtID0gIXIudGltZXMocikuZXEoeCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZXh0ZXJuYWwgPSB0cnVlO1xyXG5cclxuICAgIHJldHVybiBmaW5hbGlzZShyLCBlLCBDdG9yLnJvdW5kaW5nLCBtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdGFuZ2VudCBvZiB0aGUgdmFsdWUgaW4gcmFkaWFucyBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICpcclxuICAgKiBEb21haW46IFstSW5maW5pdHksIEluZmluaXR5XVxyXG4gICAqIFJhbmdlOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKlxyXG4gICAqIHRhbigwKSAgICAgICAgID0gMFxyXG4gICAqIHRhbigtMCkgICAgICAgID0gLTBcclxuICAgKiB0YW4oSW5maW5pdHkpICA9IE5hTlxyXG4gICAqIHRhbigtSW5maW5pdHkpID0gTmFOXHJcbiAgICogdGFuKE5hTikgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAudGFuZ2VudCA9IFAudGFuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHByLCBybSxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbmV3IEN0b3IoTmFOKTtcclxuICAgIGlmICh4LmlzWmVybygpKSByZXR1cm4gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIEN0b3IucHJlY2lzaW9uID0gcHIgKyAxMDtcclxuICAgIEN0b3Iucm91bmRpbmcgPSAxO1xyXG5cclxuICAgIHggPSB4LnNpbigpO1xyXG4gICAgeC5zID0gMTtcclxuICAgIHggPSBkaXZpZGUoeCwgbmV3IEN0b3IoMSkubWludXMoeC50aW1lcyh4KSkuc3FydCgpLCBwciArIDEwLCAwKTtcclxuXHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgQ3Rvci5yb3VuZGluZyA9IHJtO1xyXG5cclxuICAgIHJldHVybiBmaW5hbGlzZShxdWFkcmFudCA9PSAyIHx8IHF1YWRyYW50ID09IDQgPyB4Lm5lZygpIDogeCwgcHIsIHJtLCB0cnVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiAgbiAqIDAgPSAwXHJcbiAgICogIG4gKiBOID0gTlxyXG4gICAqICBuICogSSA9IElcclxuICAgKiAgMCAqIG4gPSAwXHJcbiAgICogIDAgKiAwID0gMFxyXG4gICAqICAwICogTiA9IE5cclxuICAgKiAgMCAqIEkgPSBOXHJcbiAgICogIE4gKiBuID0gTlxyXG4gICAqICBOICogMCA9IE5cclxuICAgKiAgTiAqIE4gPSBOXHJcbiAgICogIE4gKiBJID0gTlxyXG4gICAqICBJICogbiA9IElcclxuICAgKiAgSSAqIDAgPSBOXHJcbiAgICogIEkgKiBOID0gTlxyXG4gICAqICBJICogSSA9IElcclxuICAgKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoaXMgRGVjaW1hbCB0aW1lcyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50aW1lcyA9IFAubXVsID0gZnVuY3Rpb24gKHkpIHtcclxuICAgIHZhciBjYXJyeSwgZSwgaSwgaywgciwgckwsIHQsIHhkTCwgeWRMLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHhkID0geC5kLFxyXG4gICAgICB5ZCA9ICh5ID0gbmV3IEN0b3IoeSkpLmQ7XHJcblxyXG4gICAgeS5zICo9IHgucztcclxuXHJcbiAgICAgLy8gSWYgZWl0aGVyIGlzIE5hTiwgwrFJbmZpbml0eSBvciDCsTAuLi5cclxuICAgIGlmICgheGQgfHwgIXhkWzBdIHx8ICF5ZCB8fCAheWRbMF0pIHtcclxuXHJcbiAgICAgIHJldHVybiBuZXcgQ3RvcigheS5zIHx8IHhkICYmICF4ZFswXSAmJiAheWQgfHwgeWQgJiYgIXlkWzBdICYmICF4ZFxyXG5cclxuICAgICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4uXHJcbiAgICAgICAgLy8gUmV0dXJuIE5hTiBpZiB4IGlzIMKxMCBhbmQgeSBpcyDCsUluZmluaXR5LCBvciB5IGlzIMKxMCBhbmQgeCBpcyDCsUluZmluaXR5LlxyXG4gICAgICAgID8gTmFOXHJcblxyXG4gICAgICAgIC8vIFJldHVybiDCsUluZmluaXR5IGlmIGVpdGhlciBpcyDCsUluZmluaXR5LlxyXG4gICAgICAgIC8vIFJldHVybiDCsTAgaWYgZWl0aGVyIGlzIMKxMC5cclxuICAgICAgICA6ICF4ZCB8fCAheWQgPyB5LnMgLyAwIDogeS5zICogMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZSA9IG1hdGhmbG9vcih4LmUgLyBMT0dfQkFTRSkgKyBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG4gICAgeGRMID0geGQubGVuZ3RoO1xyXG4gICAgeWRMID0geWQubGVuZ3RoO1xyXG5cclxuICAgIC8vIEVuc3VyZSB4ZCBwb2ludHMgdG8gdGhlIGxvbmdlciBhcnJheS5cclxuICAgIGlmICh4ZEwgPCB5ZEwpIHtcclxuICAgICAgciA9IHhkO1xyXG4gICAgICB4ZCA9IHlkO1xyXG4gICAgICB5ZCA9IHI7XHJcbiAgICAgIHJMID0geGRMO1xyXG4gICAgICB4ZEwgPSB5ZEw7XHJcbiAgICAgIHlkTCA9IHJMO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpc2UgdGhlIHJlc3VsdCBhcnJheSB3aXRoIHplcm9zLlxyXG4gICAgciA9IFtdO1xyXG4gICAgckwgPSB4ZEwgKyB5ZEw7XHJcbiAgICBmb3IgKGkgPSByTDsgaS0tOykgci5wdXNoKDApO1xyXG5cclxuICAgIC8vIE11bHRpcGx5IVxyXG4gICAgZm9yIChpID0geWRMOyAtLWkgPj0gMDspIHtcclxuICAgICAgY2FycnkgPSAwO1xyXG4gICAgICBmb3IgKGsgPSB4ZEwgKyBpOyBrID4gaTspIHtcclxuICAgICAgICB0ID0gcltrXSArIHlkW2ldICogeGRbayAtIGkgLSAxXSArIGNhcnJ5O1xyXG4gICAgICAgIHJbay0tXSA9IHQgJSBCQVNFIHwgMDtcclxuICAgICAgICBjYXJyeSA9IHQgLyBCQVNFIHwgMDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcltrXSA9IChyW2tdICsgY2FycnkpICUgQkFTRSB8IDA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yICg7ICFyWy0tckxdOykgci5wb3AoKTtcclxuXHJcbiAgICBpZiAoY2FycnkpICsrZTtcclxuICAgIGVsc2Ugci5zaGlmdCgpO1xyXG5cclxuICAgIHkuZCA9IHI7XHJcbiAgICB5LmUgPSBnZXRCYXNlMTBFeHBvbmVudChyLCBlKTtcclxuXHJcbiAgICByZXR1cm4gZXh0ZXJuYWwgPyBmaW5hbGlzZSh5LCBDdG9yLnByZWNpc2lvbiwgQ3Rvci5yb3VuZGluZykgOiB5O1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDIsIHJvdW5kIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gLlxyXG4gICAqXHJcbiAgICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCB0aGVuIHJldHVybiBiaW5hcnkgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICpcclxuICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvQmluYXJ5ID0gZnVuY3Rpb24gKHNkLCBybSkge1xyXG4gICAgcmV0dXJuIHRvU3RyaW5nQmluYXJ5KHRoaXMsIDIsIHNkLCBybSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBgZHBgXHJcbiAgICogZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gIG9yIGByb3VuZGluZ2AgaWYgYHJtYCBpcyBvbWl0dGVkLlxyXG4gICAqXHJcbiAgICogSWYgYGRwYCBpcyBvbWl0dGVkLCByZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvRGVjaW1hbFBsYWNlcyA9IFAudG9EUCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgIHZhciB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgeCA9IG5ldyBDdG9yKHgpO1xyXG4gICAgaWYgKGRwID09PSB2b2lkIDApIHJldHVybiB4O1xyXG5cclxuICAgIGNoZWNrSW50MzIoZHAsIDAsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgIHJldHVybiBmaW5hbGlzZSh4LCBkcCArIHguZSArIDEsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gZXhwb25lbnRpYWwgbm90YXRpb24gcm91bmRlZCB0b1xyXG4gICAqIGBkcGAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvRXhwb25lbnRpYWwgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICB2YXIgc3RyLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKGRwID09PSB2b2lkIDApIHtcclxuICAgICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjaGVja0ludDMyKGRwLCAwLCBNQVhfRElHSVRTKTtcclxuXHJcbiAgICAgIGlmIChybSA9PT0gdm9pZCAwKSBybSA9IEN0b3Iucm91bmRpbmc7XHJcbiAgICAgIGVsc2UgY2hlY2tJbnQzMihybSwgMCwgOCk7XHJcblxyXG4gICAgICB4ID0gZmluYWxpc2UobmV3IEN0b3IoeCksIGRwICsgMSwgcm0pO1xyXG4gICAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB0cnVlLCBkcCArIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4LmlzTmVnKCkgJiYgIXguaXNaZXJvKCkgPyAnLScgKyBzdHIgOiBzdHI7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIGluIG5vcm1hbCAoZml4ZWQtcG9pbnQpIG5vdGF0aW9uIHRvXHJcbiAgICogYGRwYCBmaXhlZCBkZWNpbWFsIHBsYWNlcyBhbmQgcm91bmRlZCB1c2luZyByb3VuZGluZyBtb2RlIGBybWAgb3IgYHJvdW5kaW5nYCBpZiBgcm1gIGlzXHJcbiAgICogb21pdHRlZC5cclxuICAgKlxyXG4gICAqIEFzIHdpdGggSmF2YVNjcmlwdCBudW1iZXJzLCAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLCBidXQgZS5nLiAoLTAuMDAwMDEpLnRvRml4ZWQoMCkgaXMgJy0wJy5cclxuICAgKlxyXG4gICAqIFtkcF0ge251bWJlcn0gRGVjaW1hbCBwbGFjZXMuIEludGVnZXIsIDAgdG8gTUFYX0RJR0lUUyBpbmNsdXNpdmUuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogKC0wKS50b0ZpeGVkKDApIGlzICcwJywgYnV0ICgtMC4xKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAgICogKC0wKS50b0ZpeGVkKDEpIGlzICcwLjAnLCBidXQgKC0wLjAxKS50b0ZpeGVkKDEpIGlzICctMC4wJy5cclxuICAgKiAoLTApLnRvRml4ZWQoMykgaXMgJzAuMDAwJy5cclxuICAgKiAoLTAuNSkudG9GaXhlZCgwKSBpcyAnLTAnLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50b0ZpeGVkID0gZnVuY3Rpb24gKGRwLCBybSkge1xyXG4gICAgdmFyIHN0ciwgeSxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmIChkcCA9PT0gdm9pZCAwKSB7XHJcbiAgICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hlY2tJbnQzMihkcCwgMCwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgICAgeSA9IGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBkcCArIHguZSArIDEsIHJtKTtcclxuICAgICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeSwgZmFsc2UsIGRwICsgeS5lICsgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVG8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gYWRkIHRoZSBtaW51cyBzaWduIGxvb2sgYXQgdGhlIHZhbHVlIGJlZm9yZSBpdCB3YXMgcm91bmRlZCxcclxuICAgIC8vIGkuZS4gbG9vayBhdCBgeGAgcmF0aGVyIHRoYW4gYHlgLlxyXG4gICAgcmV0dXJuIHguaXNOZWcoKSAmJiAheC5pc1plcm8oKSA/ICctJyArIHN0ciA6IHN0cjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgYXMgYSBzaW1wbGUgZnJhY3Rpb24gd2l0aCBhbiBpbnRlZ2VyXHJcbiAgICogbnVtZXJhdG9yIGFuZCBhbiBpbnRlZ2VyIGRlbm9taW5hdG9yLlxyXG4gICAqXHJcbiAgICogVGhlIGRlbm9taW5hdG9yIHdpbGwgYmUgYSBwb3NpdGl2ZSBub24temVybyB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHNwZWNpZmllZCBtYXhpbXVtXHJcbiAgICogZGVub21pbmF0b3IuIElmIGEgbWF4aW11bSBkZW5vbWluYXRvciBpcyBub3Qgc3BlY2lmaWVkLCB0aGUgZGVub21pbmF0b3Igd2lsbCBiZSB0aGUgbG93ZXN0XHJcbiAgICogdmFsdWUgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgbnVtYmVyIGV4YWN0bHkuXHJcbiAgICpcclxuICAgKiBbbWF4RF0ge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gTWF4aW11bSBkZW5vbWluYXRvci4gSW50ZWdlciA+PSAxIGFuZCA8IEluZmluaXR5LlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50b0ZyYWN0aW9uID0gZnVuY3Rpb24gKG1heEQpIHtcclxuICAgIHZhciBkLCBkMCwgZDEsIGQyLCBlLCBrLCBuLCBuMCwgbjEsIHByLCBxLCByLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgeGQgPSB4LmQsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmICgheGQpIHJldHVybiBuZXcgQ3Rvcih4KTtcclxuXHJcbiAgICBuMSA9IGQwID0gbmV3IEN0b3IoMSk7XHJcbiAgICBkMSA9IG4wID0gbmV3IEN0b3IoMCk7XHJcblxyXG4gICAgZCA9IG5ldyBDdG9yKGQxKTtcclxuICAgIGUgPSBkLmUgPSBnZXRQcmVjaXNpb24oeGQpIC0geC5lIC0gMTtcclxuICAgIGsgPSBlICUgTE9HX0JBU0U7XHJcbiAgICBkLmRbMF0gPSBtYXRocG93KDEwLCBrIDwgMCA/IExPR19CQVNFICsgayA6IGspO1xyXG5cclxuICAgIGlmIChtYXhEID09IG51bGwpIHtcclxuXHJcbiAgICAgIC8vIGQgaXMgMTAqKmUsIHRoZSBtaW5pbXVtIG1heC1kZW5vbWluYXRvciBuZWVkZWQuXHJcbiAgICAgIG1heEQgPSBlID4gMCA/IGQgOiBuMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSBuZXcgQ3RvcihtYXhEKTtcclxuICAgICAgaWYgKCFuLmlzSW50KCkgfHwgbi5sdChuMSkpIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIG4pO1xyXG4gICAgICBtYXhEID0gbi5ndChkKSA/IChlID4gMCA/IGQgOiBuMSkgOiBuO1xyXG4gICAgfVxyXG5cclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICBuID0gbmV3IEN0b3IoZGlnaXRzVG9TdHJpbmcoeGQpKTtcclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBDdG9yLnByZWNpc2lvbiA9IGUgPSB4ZC5sZW5ndGggKiBMT0dfQkFTRSAqIDI7XHJcblxyXG4gICAgZm9yICg7OykgIHtcclxuICAgICAgcSA9IGRpdmlkZShuLCBkLCAwLCAxLCAxKTtcclxuICAgICAgZDIgPSBkMC5wbHVzKHEudGltZXMoZDEpKTtcclxuICAgICAgaWYgKGQyLmNtcChtYXhEKSA9PSAxKSBicmVhaztcclxuICAgICAgZDAgPSBkMTtcclxuICAgICAgZDEgPSBkMjtcclxuICAgICAgZDIgPSBuMTtcclxuICAgICAgbjEgPSBuMC5wbHVzKHEudGltZXMoZDIpKTtcclxuICAgICAgbjAgPSBkMjtcclxuICAgICAgZDIgPSBkO1xyXG4gICAgICBkID0gbi5taW51cyhxLnRpbWVzKGQyKSk7XHJcbiAgICAgIG4gPSBkMjtcclxuICAgIH1cclxuXHJcbiAgICBkMiA9IGRpdmlkZShtYXhELm1pbnVzKGQwKSwgZDEsIDAsIDEsIDEpO1xyXG4gICAgbjAgPSBuMC5wbHVzKGQyLnRpbWVzKG4xKSk7XHJcbiAgICBkMCA9IGQwLnBsdXMoZDIudGltZXMoZDEpKTtcclxuICAgIG4wLnMgPSBuMS5zID0geC5zO1xyXG5cclxuICAgIC8vIERldGVybWluZSB3aGljaCBmcmFjdGlvbiBpcyBjbG9zZXIgdG8geCwgbjAvZDAgb3IgbjEvZDE/XHJcbiAgICByID0gZGl2aWRlKG4xLCBkMSwgZSwgMSkubWludXMoeCkuYWJzKCkuY21wKGRpdmlkZShuMCwgZDAsIGUsIDEpLm1pbnVzKHgpLmFicygpKSA8IDFcclxuICAgICAgICA/IFtuMSwgZDFdIDogW24wLCBkMF07XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSBwcjtcclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gcjtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgaW4gYmFzZSAxNiwgcm91bmQgdG8gYHNkYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgb3B0aW9uYWwgYHNkYCBhcmd1bWVudCBpcyBwcmVzZW50IHRoZW4gcmV0dXJuIGJpbmFyeSBleHBvbmVudGlhbCBub3RhdGlvbi5cclxuICAgKlxyXG4gICAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAudG9IZXhhZGVjaW1hbCA9IFAudG9IZXggPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgMTYsIHNkLCBybSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJucyBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuZWFyZXN0IG11bHRpcGxlIG9mIGB5YCBpbiB0aGUgZGlyZWN0aW9uIG9mIHJvdW5kaW5nXHJcbiAgICogbW9kZSBgcm1gLCBvciBgRGVjaW1hbC5yb3VuZGluZ2AgaWYgYHJtYCBpcyBvbWl0dGVkLCB0byB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogVGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsd2F5cyBoYXZlIHRoZSBzYW1lIHNpZ24gYXMgdGhpcyBEZWNpbWFsLCB1bmxlc3MgZWl0aGVyIHRoaXMgRGVjaW1hbFxyXG4gICAqIG9yIGB5YCBpcyBOYU4sIGluIHdoaWNoIGNhc2UgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGJlIGFsc28gYmUgTmFOLlxyXG4gICAqXHJcbiAgICogVGhlIHJldHVybiB2YWx1ZSBpcyBub3QgYWZmZWN0ZWQgYnkgdGhlIHZhbHVlIG9mIGBwcmVjaXNpb25gLlxyXG4gICAqXHJcbiAgICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgbWFnbml0dWRlIHRvIHJvdW5kIHRvIGEgbXVsdGlwbGUgb2YuXHJcbiAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAqXHJcbiAgICogJ3RvTmVhcmVzdCgpIHJvdW5kaW5nIG1vZGUgbm90IGFuIGludGVnZXI6IHtybX0nXHJcbiAgICogJ3RvTmVhcmVzdCgpIHJvdW5kaW5nIG1vZGUgb3V0IG9mIHJhbmdlOiB7cm19J1xyXG4gICAqXHJcbiAgICovXHJcbiAgUC50b05lYXJlc3QgPSBmdW5jdGlvbiAoeSwgcm0pIHtcclxuICAgIHZhciB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgeCA9IG5ldyBDdG9yKHgpO1xyXG5cclxuICAgIGlmICh5ID09IG51bGwpIHtcclxuXHJcbiAgICAgIC8vIElmIHggaXMgbm90IGZpbml0ZSwgcmV0dXJuIHguXHJcbiAgICAgIGlmICgheC5kKSByZXR1cm4geDtcclxuXHJcbiAgICAgIHkgPSBuZXcgQ3RvcigxKTtcclxuICAgICAgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeSA9IG5ldyBDdG9yKHkpO1xyXG4gICAgICBpZiAocm0gPT09IHZvaWQgMCkge1xyXG4gICAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgeCBpcyBub3QgZmluaXRlLCByZXR1cm4geCBpZiB5IGlzIG5vdCBOYU4sIGVsc2UgTmFOLlxyXG4gICAgICBpZiAoIXguZCkgcmV0dXJuIHkucyA/IHggOiB5O1xyXG5cclxuICAgICAgLy8gSWYgeSBpcyBub3QgZmluaXRlLCByZXR1cm4gSW5maW5pdHkgd2l0aCB0aGUgc2lnbiBvZiB4IGlmIHkgaXMgSW5maW5pdHksIGVsc2UgTmFOLlxyXG4gICAgICBpZiAoIXkuZCkge1xyXG4gICAgICAgIGlmICh5LnMpIHkucyA9IHgucztcclxuICAgICAgICByZXR1cm4geTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHkgaXMgbm90IHplcm8sIGNhbGN1bGF0ZSB0aGUgbmVhcmVzdCBtdWx0aXBsZSBvZiB5IHRvIHguXHJcbiAgICBpZiAoeS5kWzBdKSB7XHJcbiAgICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICAgIHggPSBkaXZpZGUoeCwgeSwgMCwgcm0sIDEpLnRpbWVzKHkpO1xyXG4gICAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICAgIGZpbmFsaXNlKHgpO1xyXG5cclxuICAgIC8vIElmIHkgaXMgemVybywgcmV0dXJuIHplcm8gd2l0aCB0aGUgc2lnbiBvZiB4LlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgeS5zID0geC5zO1xyXG4gICAgICB4ID0geTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBjb252ZXJ0ZWQgdG8gYSBudW1iZXIgcHJpbWl0aXZlLlxyXG4gICAqIFplcm8ga2VlcHMgaXRzIHNpZ24uXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuICt0aGlzO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgRGVjaW1hbCBpbiBiYXNlIDgsIHJvdW5kIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm1gLlxyXG4gICAqXHJcbiAgICogSWYgdGhlIG9wdGlvbmFsIGBzZGAgYXJndW1lbnQgaXMgcHJlc2VudCB0aGVuIHJldHVybiBiaW5hcnkgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICpcclxuICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvT2N0YWwgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmdCaW5hcnkodGhpcywgOCwgc2QsIHJtKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJhaXNlZCB0byB0aGUgcG93ZXIgYHlgLCByb3VuZGVkXHJcbiAgICogdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIEVDTUFTY3JpcHQgY29tcGxpYW50LlxyXG4gICAqXHJcbiAgICogICBwb3coeCwgTmFOKSAgICAgICAgICAgICAgICAgICAgICAgICAgID0gTmFOXHJcbiAgICogICBwb3coeCwgwrEwKSAgICAgICAgICAgICAgICAgICAgICAgICAgICA9IDFcclxuXHJcbiAgICogICBwb3coTmFOLCBub24temVybykgICAgICAgICAgICAgICAgICAgID0gTmFOXHJcbiAgICogICBwb3coYWJzKHgpID4gMSwgK0luZmluaXR5KSAgICAgICAgICAgID0gK0luZmluaXR5XHJcbiAgICogICBwb3coYWJzKHgpID4gMSwgLUluZmluaXR5KSAgICAgICAgICAgID0gKzBcclxuICAgKiAgIHBvdyhhYnMoeCkgPT0gMSwgwrFJbmZpbml0eSkgICAgICAgICAgID0gTmFOXHJcbiAgICogICBwb3coYWJzKHgpIDwgMSwgK0luZmluaXR5KSAgICAgICAgICAgID0gKzBcclxuICAgKiAgIHBvdyhhYnMoeCkgPCAxLCAtSW5maW5pdHkpICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICAgKiAgIHBvdygrSW5maW5pdHksIHkgPiAwKSAgICAgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICAgKiAgIHBvdygrSW5maW5pdHksIHkgPCAwKSAgICAgICAgICAgICAgICAgPSArMFxyXG4gICAqICAgcG93KC1JbmZpbml0eSwgb2RkIGludGVnZXIgPiAwKSAgICAgICA9IC1JbmZpbml0eVxyXG4gICAqICAgcG93KC1JbmZpbml0eSwgZXZlbiBpbnRlZ2VyID4gMCkgICAgICA9ICtJbmZpbml0eVxyXG4gICAqICAgcG93KC1JbmZpbml0eSwgb2RkIGludGVnZXIgPCAwKSAgICAgICA9IC0wXHJcbiAgICogICBwb3coLUluZmluaXR5LCBldmVuIGludGVnZXIgPCAwKSAgICAgID0gKzBcclxuICAgKiAgIHBvdygrMCwgeSA+IDApICAgICAgICAgICAgICAgICAgICAgICAgPSArMFxyXG4gICAqICAgcG93KCswLCB5IDwgMCkgICAgICAgICAgICAgICAgICAgICAgICA9ICtJbmZpbml0eVxyXG4gICAqICAgcG93KC0wLCBvZGQgaW50ZWdlciA+IDApICAgICAgICAgICAgICA9IC0wXHJcbiAgICogICBwb3coLTAsIGV2ZW4gaW50ZWdlciA+IDApICAgICAgICAgICAgID0gKzBcclxuICAgKiAgIHBvdygtMCwgb2RkIGludGVnZXIgPCAwKSAgICAgICAgICAgICAgPSAtSW5maW5pdHlcclxuICAgKiAgIHBvdygtMCwgZXZlbiBpbnRlZ2VyIDwgMCkgICAgICAgICAgICAgPSArSW5maW5pdHlcclxuICAgKiAgIHBvdyhmaW5pdGUgeCA8IDAsIGZpbml0ZSBub24taW50ZWdlcikgPSBOYU5cclxuICAgKlxyXG4gICAqIEZvciBub24taW50ZWdlciBvciB2ZXJ5IGxhcmdlIGV4cG9uZW50cyBwb3coeCwgeSkgaXMgY2FsY3VsYXRlZCB1c2luZ1xyXG4gICAqXHJcbiAgICogICB4XnkgPSBleHAoeSpsbih4KSlcclxuICAgKlxyXG4gICAqIEFzc3VtaW5nIHRoZSBmaXJzdCAxNSByb3VuZGluZyBkaWdpdHMgYXJlIGVhY2ggZXF1YWxseSBsaWtlbHkgdG8gYmUgYW55IGRpZ2l0IDAtOSwgdGhlXHJcbiAgICogcHJvYmFiaWxpdHkgb2YgYW4gaW5jb3JyZWN0bHkgcm91bmRlZCByZXN1bHRcclxuICAgKiBQKFs0OV05ezE0fSB8IFs1MF0wezE0fSkgPSAyICogMC4yICogMTBeLTE0ID0gNGUtMTUgPSAxLzIuNWUrMTRcclxuICAgKiBpLmUuIDEgaW4gMjUwLDAwMCwwMDAsMDAwLDAwMFxyXG4gICAqXHJcbiAgICogSWYgYSByZXN1bHQgaXMgaW5jb3JyZWN0bHkgcm91bmRlZCB0aGUgbWF4aW11bSBlcnJvciB3aWxsIGJlIDEgdWxwICh1bml0IGluIGxhc3QgcGxhY2UpLlxyXG4gICAqXHJcbiAgICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgcG93ZXIgdG8gd2hpY2ggdG8gcmFpc2UgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50b1Bvd2VyID0gUC5wb3cgPSBmdW5jdGlvbiAoeSkge1xyXG4gICAgdmFyIGUsIGssIHByLCByLCBybSwgcyxcclxuICAgICAgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICB5biA9ICsoeSA9IG5ldyBDdG9yKHkpKTtcclxuXHJcbiAgICAvLyBFaXRoZXIgwrFJbmZpbml0eSwgTmFOIG9yIMKxMD9cclxuICAgIGlmICgheC5kIHx8ICF5LmQgfHwgIXguZFswXSB8fCAheS5kWzBdKSByZXR1cm4gbmV3IEN0b3IobWF0aHBvdygreCwgeW4pKTtcclxuXHJcbiAgICB4ID0gbmV3IEN0b3IoeCk7XHJcblxyXG4gICAgaWYgKHguZXEoMSkpIHJldHVybiB4O1xyXG5cclxuICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICBybSA9IEN0b3Iucm91bmRpbmc7XHJcblxyXG4gICAgaWYgKHkuZXEoMSkpIHJldHVybiBmaW5hbGlzZSh4LCBwciwgcm0pO1xyXG5cclxuICAgIC8vIHkgZXhwb25lbnRcclxuICAgIGUgPSBtYXRoZmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG5cclxuICAgIC8vIElmIHkgaXMgYSBzbWFsbCBpbnRlZ2VyIHVzZSB0aGUgJ2V4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nJyBhbGdvcml0aG0uXHJcbiAgICBpZiAoZSA+PSB5LmQubGVuZ3RoIC0gMSAmJiAoayA9IHluIDwgMCA/IC15biA6IHluKSA8PSBNQVhfU0FGRV9JTlRFR0VSKSB7XHJcbiAgICAgIHIgPSBpbnRQb3coQ3RvciwgeCwgaywgcHIpO1xyXG4gICAgICByZXR1cm4geS5zIDwgMCA/IG5ldyBDdG9yKDEpLmRpdihyKSA6IGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbiAgICB9XHJcblxyXG4gICAgcyA9IHgucztcclxuXHJcbiAgICAvLyBpZiB4IGlzIG5lZ2F0aXZlXHJcbiAgICBpZiAocyA8IDApIHtcclxuXHJcbiAgICAgIC8vIGlmIHkgaXMgbm90IGFuIGludGVnZXJcclxuICAgICAgaWYgKGUgPCB5LmQubGVuZ3RoIC0gMSkgcmV0dXJuIG5ldyBDdG9yKE5hTik7XHJcblxyXG4gICAgICAvLyBSZXN1bHQgaXMgcG9zaXRpdmUgaWYgeCBpcyBuZWdhdGl2ZSBhbmQgdGhlIGxhc3QgZGlnaXQgb2YgaW50ZWdlciB5IGlzIGV2ZW4uXHJcbiAgICAgIGlmICgoeS5kW2VdICYgMSkgPT0gMCkgcyA9IDE7XHJcblxyXG4gICAgICAvLyBpZiB4LmVxKC0xKVxyXG4gICAgICBpZiAoeC5lID09IDAgJiYgeC5kWzBdID09IDEgJiYgeC5kLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgeC5zID0gcztcclxuICAgICAgICByZXR1cm4geDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEVzdGltYXRlIHJlc3VsdCBleHBvbmVudC5cclxuICAgIC8vIHheeSA9IDEwXmUsICB3aGVyZSBlID0geSAqIGxvZzEwKHgpXHJcbiAgICAvLyBsb2cxMCh4KSA9IGxvZzEwKHhfc2lnbmlmaWNhbmQpICsgeF9leHBvbmVudFxyXG4gICAgLy8gbG9nMTAoeF9zaWduaWZpY2FuZCkgPSBsbih4X3NpZ25pZmljYW5kKSAvIGxuKDEwKVxyXG4gICAgayA9IG1hdGhwb3coK3gsIHluKTtcclxuICAgIGUgPSBrID09IDAgfHwgIWlzRmluaXRlKGspXHJcbiAgICAgID8gbWF0aGZsb29yKHluICogKE1hdGgubG9nKCcwLicgKyBkaWdpdHNUb1N0cmluZyh4LmQpKSAvIE1hdGguTE4xMCArIHguZSArIDEpKVxyXG4gICAgICA6IG5ldyBDdG9yKGsgKyAnJykuZTtcclxuXHJcbiAgICAvLyBFeHBvbmVudCBlc3RpbWF0ZSBtYXkgYmUgaW5jb3JyZWN0IGUuZy4geDogMC45OTk5OTk5OTk5OTk5OTk5OTksIHk6IDIuMjksIGU6IDAsIHIuZTogLTEuXHJcblxyXG4gICAgLy8gT3ZlcmZsb3cvdW5kZXJmbG93P1xyXG4gICAgaWYgKGUgPiBDdG9yLm1heEUgKyAxIHx8IGUgPCBDdG9yLm1pbkUgLSAxKSByZXR1cm4gbmV3IEN0b3IoZSA+IDAgPyBzIC8gMCA6IDApO1xyXG5cclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0geC5zID0gMTtcclxuXHJcbiAgICAvLyBFc3RpbWF0ZSB0aGUgZXh0cmEgZ3VhcmQgZGlnaXRzIG5lZWRlZCB0byBlbnN1cmUgZml2ZSBjb3JyZWN0IHJvdW5kaW5nIGRpZ2l0cyBmcm9tXHJcbiAgICAvLyBuYXR1cmFsTG9nYXJpdGhtKHgpLiBFeGFtcGxlIG9mIGZhaWx1cmUgd2l0aG91dCB0aGVzZSBleHRyYSBkaWdpdHMgKHByZWNpc2lvbjogMTApOlxyXG4gICAgLy8gbmV3IERlY2ltYWwoMi4zMjQ1NikucG93KCcyMDg3OTg3NDM2NTM0NTY2LjQ2NDExJylcclxuICAgIC8vIHNob3VsZCBiZSAxLjE2MjM3NzgyM2UrNzY0OTE0OTA1MTczODE1LCBidXQgaXMgMS4xNjIzNTU4MjNlKzc2NDkxNDkwNTE3MzgxNVxyXG4gICAgayA9IE1hdGgubWluKDEyLCAoZSArICcnKS5sZW5ndGgpO1xyXG5cclxuICAgIC8vIHIgPSB4XnkgPSBleHAoeSpsbih4KSlcclxuICAgIHIgPSBuYXR1cmFsRXhwb25lbnRpYWwoeS50aW1lcyhuYXR1cmFsTG9nYXJpdGhtKHgsIHByICsgaykpLCBwcik7XHJcblxyXG4gICAgLy8gciBtYXkgYmUgSW5maW5pdHksIGUuZy4gKDAuOTk5OTk5OTk5OTk5OTk5OSkucG93KC0xZSs0MClcclxuICAgIGlmIChyLmQpIHtcclxuXHJcbiAgICAgIC8vIFRydW5jYXRlIHRvIHRoZSByZXF1aXJlZCBwcmVjaXNpb24gcGx1cyBmaXZlIHJvdW5kaW5nIGRpZ2l0cy5cclxuICAgICAgciA9IGZpbmFsaXNlKHIsIHByICsgNSwgMSk7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5OSBvciBbNTBdMDAwMCBpbmNyZWFzZSB0aGUgcHJlY2lzaW9uIGJ5IDEwIGFuZCByZWNhbGN1bGF0ZVxyXG4gICAgICAvLyB0aGUgcmVzdWx0LlxyXG4gICAgICBpZiAoY2hlY2tSb3VuZGluZ0RpZ2l0cyhyLmQsIHByLCBybSkpIHtcclxuICAgICAgICBlID0gcHIgKyAxMDtcclxuXHJcbiAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGluY3JlYXNlZCBwcmVjaXNpb24gcGx1cyBmaXZlIHJvdW5kaW5nIGRpZ2l0cy5cclxuICAgICAgICByID0gZmluYWxpc2UobmF0dXJhbEV4cG9uZW50aWFsKHkudGltZXMobmF0dXJhbExvZ2FyaXRobSh4LCBlICsgaykpLCBlKSwgZSArIDUsIDEpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayBmb3IgMTQgbmluZXMgZnJvbSB0aGUgMm5kIHJvdW5kaW5nIGRpZ2l0ICh0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQgbWF5IGJlIDQgb3IgOSkuXHJcbiAgICAgICAgaWYgKCtkaWdpdHNUb1N0cmluZyhyLmQpLnNsaWNlKHByICsgMSwgcHIgKyAxNSkgKyAxID09IDFlMTQpIHtcclxuICAgICAgICAgIHIgPSBmaW5hbGlzZShyLCBwciArIDEsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHIucyA9IHM7XHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICBDdG9yLnJvdW5kaW5nID0gcm07XHJcblxyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHIsIHByLCBybSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsIHJvdW5kZWQgdG8gYHNkYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gZXhwb25lbnRpYWwgbm90YXRpb24gaWYgYHNkYCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBkaWdpdHMgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudFxyXG4gICAqIHRoZSBpbnRlZ2VyIHBhcnQgb2YgdGhlIHZhbHVlIGluIG5vcm1hbCBub3RhdGlvbi5cclxuICAgKlxyXG4gICAqIFtzZF0ge251bWJlcn0gU2lnbmlmaWNhbnQgZGlnaXRzLiBJbnRlZ2VyLCAxIHRvIE1BWF9ESUdJVFMgaW5jbHVzaXZlLlxyXG4gICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIFAudG9QcmVjaXNpb24gPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICB2YXIgc3RyLFxyXG4gICAgICB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgaWYgKHNkID09PSB2b2lkIDApIHtcclxuICAgICAgc3RyID0gZmluaXRlVG9TdHJpbmcoeCwgeC5lIDw9IEN0b3IudG9FeHBOZWcgfHwgeC5lID49IEN0b3IudG9FeHBQb3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2hlY2tJbnQzMihzZCwgMSwgTUFYX0RJR0lUUyk7XHJcblxyXG4gICAgICBpZiAocm0gPT09IHZvaWQgMCkgcm0gPSBDdG9yLnJvdW5kaW5nO1xyXG4gICAgICBlbHNlIGNoZWNrSW50MzIocm0sIDAsIDgpO1xyXG5cclxuICAgICAgeCA9IGZpbmFsaXNlKG5ldyBDdG9yKHgpLCBzZCwgcm0pO1xyXG4gICAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCBzZCA8PSB4LmUgfHwgeC5lIDw9IEN0b3IudG9FeHBOZWcsIHNkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgcm91bmRlZCB0byBhIG1heGltdW0gb2YgYHNkYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGBybWAsIG9yIHRvIGBwcmVjaXNpb25gIGFuZCBgcm91bmRpbmdgIHJlc3BlY3RpdmVseSBpZlxyXG4gICAqIG9taXR0ZWQuXHJcbiAgICpcclxuICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMSB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICpcclxuICAgKiAndG9TRCgpIGRpZ2l0cyBvdXQgb2YgcmFuZ2U6IHtzZH0nXHJcbiAgICogJ3RvU0QoKSBkaWdpdHMgbm90IGFuIGludGVnZXI6IHtzZH0nXHJcbiAgICogJ3RvU0QoKSByb3VuZGluZyBtb2RlIG5vdCBhbiBpbnRlZ2VyOiB7cm19J1xyXG4gICAqICd0b1NEKCkgcm91bmRpbmcgbW9kZSBvdXQgb2YgcmFuZ2U6IHtybX0nXHJcbiAgICpcclxuICAgKi9cclxuICBQLnRvU2lnbmlmaWNhbnREaWdpdHMgPSBQLnRvU0QgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICB2YXIgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yO1xyXG5cclxuICAgIGlmIChzZCA9PT0gdm9pZCAwKSB7XHJcbiAgICAgIHNkID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UobmV3IEN0b3IoeCksIHNkLCBybSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBEZWNpbWFsLlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uIGlmIHRoaXMgRGVjaW1hbCBoYXMgYSBwb3NpdGl2ZSBleHBvbmVudCBlcXVhbCB0byBvciBncmVhdGVyIHRoYW5cclxuICAgKiBgdG9FeHBQb3NgLCBvciBhIG5lZ2F0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGxlc3MgdGhhbiBgdG9FeHBOZWdgLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB4ID0gdGhpcyxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgsIHguZSA8PSBDdG9yLnRvRXhwTmVnIHx8IHguZSA+PSBDdG9yLnRvRXhwUG9zKTtcclxuXHJcbiAgICByZXR1cm4geC5pc05lZygpICYmICF4LmlzWmVybygpID8gJy0nICsgc3RyIDogc3RyO1xyXG4gIH07XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwgdHJ1bmNhdGVkIHRvIGEgd2hvbGUgbnVtYmVyLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC50cnVuY2F0ZWQgPSBQLnRydW5jID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpLCB0aGlzLmUgKyAxLCAxKTtcclxuICB9O1xyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIERlY2ltYWwuXHJcbiAgICogVW5saWtlIGB0b1N0cmluZ2AsIG5lZ2F0aXZlIHplcm8gd2lsbCBpbmNsdWRlIHRoZSBtaW51cyBzaWduLlxyXG4gICAqXHJcbiAgICovXHJcbiAgUC52YWx1ZU9mID0gUC50b0pTT04gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgeCA9IHRoaXMsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICBzdHIgPSBmaW5pdGVUb1N0cmluZyh4LCB4LmUgPD0gQ3Rvci50b0V4cE5lZyB8fCB4LmUgPj0gQ3Rvci50b0V4cFBvcyk7XHJcblxyXG4gICAgcmV0dXJuIHguaXNOZWcoKSA/ICctJyArIHN0ciA6IHN0cjtcclxuICB9O1xyXG5cclxuXHJcbiAgLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgRGVjaW1hbC5wcm90b3R5cGUgKFApIGFuZC9vciBEZWNpbWFsIG1ldGhvZHMsIGFuZCB0aGVpciBjYWxsZXJzLlxyXG5cclxuXHJcbiAgLypcclxuICAgKiAgZGlnaXRzVG9TdHJpbmcgICAgICAgICAgIFAuY3ViZVJvb3QsIFAubG9nYXJpdGhtLCBQLnNxdWFyZVJvb3QsIFAudG9GcmFjdGlvbiwgUC50b1Bvd2VyLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXRlVG9TdHJpbmcsIG5hdHVyYWxFeHBvbmVudGlhbCwgbmF0dXJhbExvZ2FyaXRobVxyXG4gICAqICBjaGVja0ludDMyICAgICAgICAgICAgICAgUC50b0RlY2ltYWxQbGFjZXMsIFAudG9FeHBvbmVudGlhbCwgUC50b0ZpeGVkLCBQLnRvTmVhcmVzdCxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudG9QcmVjaXNpb24sIFAudG9TaWduaWZpY2FudERpZ2l0cywgdG9TdHJpbmdCaW5hcnksIHJhbmRvbVxyXG4gICAqICBjaGVja1JvdW5kaW5nRGlnaXRzICAgICAgUC5sb2dhcml0aG0sIFAudG9Qb3dlciwgbmF0dXJhbEV4cG9uZW50aWFsLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAgICogIGNvbnZlcnRCYXNlICAgICAgICAgICAgICB0b1N0cmluZ0JpbmFyeSwgcGFyc2VPdGhlclxyXG4gICAqICBjb3MgICAgICAgICAgICAgICAgICAgICAgUC5jb3NcclxuICAgKiAgZGl2aWRlICAgICAgICAgICAgICAgICAgIFAuYXRhbmgsIFAuY3ViZVJvb3QsIFAuZGl2aWRlZEJ5LCBQLmRpdmlkZWRUb0ludGVnZXJCeSxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBQLm1vZHVsbywgUC5zcXVhcmVSb290LCBQLnRhbiwgUC50YW5oLCBQLnRvRnJhY3Rpb24sXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvTmVhcmVzdCwgdG9TdHJpbmdCaW5hcnksIG5hdHVyYWxFeHBvbmVudGlhbCwgbmF0dXJhbExvZ2FyaXRobSxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRheWxvclNlcmllcywgYXRhbjIsIHBhcnNlT3RoZXJcclxuICAgKiAgZmluYWxpc2UgICAgICAgICAgICAgICAgIFAuYWJzb2x1dGVWYWx1ZSwgUC5hdGFuLCBQLmF0YW5oLCBQLmNlaWwsIFAuY29zLCBQLmNvc2gsXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLmN1YmVSb290LCBQLmRpdmlkZWRUb0ludGVnZXJCeSwgUC5mbG9vciwgUC5sb2dhcml0aG0sIFAubWludXMsXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLm1vZHVsbywgUC5uZWdhdGVkLCBQLnBsdXMsIFAucm91bmQsIFAuc2luLCBQLnNpbmgsIFAuc3F1YXJlUm9vdCxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIFAudGFuLCBQLnRpbWVzLCBQLnRvRGVjaW1hbFBsYWNlcywgUC50b0V4cG9uZW50aWFsLCBQLnRvRml4ZWQsXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRvTmVhcmVzdCwgUC50b1Bvd2VyLCBQLnRvUHJlY2lzaW9uLCBQLnRvU2lnbmlmaWNhbnREaWdpdHMsXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICBQLnRydW5jYXRlZCwgZGl2aWRlLCBnZXRMbjEwLCBnZXRQaSwgbmF0dXJhbEV4cG9uZW50aWFsLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJhbExvZ2FyaXRobSwgY2VpbCwgZmxvb3IsIHJvdW5kLCB0cnVuY1xyXG4gICAqICBmaW5pdGVUb1N0cmluZyAgICAgICAgICAgUC50b0V4cG9uZW50aWFsLCBQLnRvRml4ZWQsIFAudG9QcmVjaXNpb24sIFAudG9TdHJpbmcsIFAudmFsdWVPZixcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nQmluYXJ5XHJcbiAgICogIGdldEJhc2UxMEV4cG9uZW50ICAgICAgICBQLm1pbnVzLCBQLnBsdXMsIFAudGltZXMsIHBhcnNlT3RoZXJcclxuICAgKiAgZ2V0TG4xMCAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBuYXR1cmFsTG9nYXJpdGhtXHJcbiAgICogIGdldFBpICAgICAgICAgICAgICAgICAgICBQLmFjb3MsIFAuYXNpbiwgUC5hdGFuLCB0b0xlc3NUaGFuSGFsZlBpLCBhdGFuMlxyXG4gICAqICBnZXRQcmVjaXNpb24gICAgICAgICAgICAgUC5wcmVjaXNpb24sIFAudG9GcmFjdGlvblxyXG4gICAqICBnZXRaZXJvU3RyaW5nICAgICAgICAgICAgZGlnaXRzVG9TdHJpbmcsIGZpbml0ZVRvU3RyaW5nXHJcbiAgICogIGludFBvdyAgICAgICAgICAgICAgICAgICBQLnRvUG93ZXIsIHBhcnNlT3RoZXJcclxuICAgKiAgaXNPZGQgICAgICAgICAgICAgICAgICAgIHRvTGVzc1RoYW5IYWxmUGlcclxuICAgKiAgbWF4T3JNaW4gICAgICAgICAgICAgICAgIG1heCwgbWluXHJcbiAgICogIG5hdHVyYWxFeHBvbmVudGlhbCAgICAgICBQLm5hdHVyYWxFeHBvbmVudGlhbCwgUC50b1Bvd2VyXHJcbiAgICogIG5hdHVyYWxMb2dhcml0aG0gICAgICAgICBQLmFjb3NoLCBQLmFzaW5oLCBQLmF0YW5oLCBQLmxvZ2FyaXRobSwgUC5uYXR1cmFsTG9nYXJpdGhtLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgUC50b1Bvd2VyLCBuYXR1cmFsRXhwb25lbnRpYWxcclxuICAgKiAgbm9uRmluaXRlVG9TdHJpbmcgICAgICAgIGZpbml0ZVRvU3RyaW5nLCB0b1N0cmluZ0JpbmFyeVxyXG4gICAqICBwYXJzZURlY2ltYWwgICAgICAgICAgICAgRGVjaW1hbFxyXG4gICAqICBwYXJzZU90aGVyICAgICAgICAgICAgICAgRGVjaW1hbFxyXG4gICAqICBzaW4gICAgICAgICAgICAgICAgICAgICAgUC5zaW5cclxuICAgKiAgdGF5bG9yU2VyaWVzICAgICAgICAgICAgIFAuY29zaCwgUC5zaW5oLCBjb3MsIHNpblxyXG4gICAqICB0b0xlc3NUaGFuSGFsZlBpICAgICAgICAgUC5jb3MsIFAuc2luXHJcbiAgICogIHRvU3RyaW5nQmluYXJ5ICAgICAgICAgICBQLnRvQmluYXJ5LCBQLnRvSGV4YWRlY2ltYWwsIFAudG9PY3RhbFxyXG4gICAqICB0cnVuY2F0ZSAgICAgICAgICAgICAgICAgaW50UG93XHJcbiAgICpcclxuICAgKiAgVGhyb3dzOiAgICAgICAgICAgICAgICAgIFAubG9nYXJpdGhtLCBQLnByZWNpc2lvbiwgUC50b0ZyYWN0aW9uLCBjaGVja0ludDMyLCBnZXRMbjEwLCBnZXRQaSxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdHVyYWxMb2dhcml0aG0sIGNvbmZpZywgcGFyc2VPdGhlciwgcmFuZG9tLCBEZWNpbWFsXHJcbiAgICovXHJcblxyXG5cclxuICBmdW5jdGlvbiBkaWdpdHNUb1N0cmluZyhkKSB7XHJcbiAgICB2YXIgaSwgaywgd3MsXHJcbiAgICAgIGluZGV4T2ZMYXN0V29yZCA9IGQubGVuZ3RoIC0gMSxcclxuICAgICAgc3RyID0gJycsXHJcbiAgICAgIHcgPSBkWzBdO1xyXG5cclxuICAgIGlmIChpbmRleE9mTGFzdFdvcmQgPiAwKSB7XHJcbiAgICAgIHN0ciArPSB3O1xyXG4gICAgICBmb3IgKGkgPSAxOyBpIDwgaW5kZXhPZkxhc3RXb3JkOyBpKyspIHtcclxuICAgICAgICB3cyA9IGRbaV0gKyAnJztcclxuICAgICAgICBrID0gTE9HX0JBU0UgLSB3cy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKGspIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgICAgIHN0ciArPSB3cztcclxuICAgICAgfVxyXG5cclxuICAgICAgdyA9IGRbaV07XHJcbiAgICAgIHdzID0gdyArICcnO1xyXG4gICAgICBrID0gTE9HX0JBU0UgLSB3cy5sZW5ndGg7XHJcbiAgICAgIGlmIChrKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgIH0gZWxzZSBpZiAodyA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gJzAnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcyBvZiBsYXN0IHcuXHJcbiAgICBmb3IgKDsgdyAlIDEwID09PSAwOykgdyAvPSAxMDtcclxuXHJcbiAgICByZXR1cm4gc3RyICsgdztcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiBjaGVja0ludDMyKGksIG1pbiwgbWF4KSB7XHJcbiAgICBpZiAoaSAhPT0gfn5pIHx8IGkgPCBtaW4gfHwgaSA+IG1heCkge1xyXG4gICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIENoZWNrIDUgcm91bmRpbmcgZGlnaXRzIGlmIGByZXBlYXRpbmdgIGlzIG51bGwsIDQgb3RoZXJ3aXNlLlxyXG4gICAqIGByZXBlYXRpbmcgPT0gbnVsbGAgaWYgY2FsbGVyIGlzIGBsb2dgIG9yIGBwb3dgLFxyXG4gICAqIGByZXBlYXRpbmcgIT0gbnVsbGAgaWYgY2FsbGVyIGlzIGBuYXR1cmFsTG9nYXJpdGhtYCBvciBgbmF0dXJhbEV4cG9uZW50aWFsYC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjaGVja1JvdW5kaW5nRGlnaXRzKGQsIGksIHJtLCByZXBlYXRpbmcpIHtcclxuICAgIHZhciBkaSwgaywgciwgcmQ7XHJcblxyXG4gICAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGFycmF5IGQuXHJcbiAgICBmb3IgKGsgPSBkWzBdOyBrID49IDEwOyBrIC89IDEwKSAtLWk7XHJcblxyXG4gICAgLy8gSXMgdGhlIHJvdW5kaW5nIGRpZ2l0IGluIHRoZSBmaXJzdCB3b3JkIG9mIGQ/XHJcbiAgICBpZiAoLS1pIDwgMCkge1xyXG4gICAgICBpICs9IExPR19CQVNFO1xyXG4gICAgICBkaSA9IDA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkaSA9IE1hdGguY2VpbCgoaSArIDEpIC8gTE9HX0JBU0UpO1xyXG4gICAgICBpICU9IExPR19CQVNFO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGkgaXMgdGhlIGluZGV4ICgwIC0gNikgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgLy8gRS5nLiBpZiB3aXRoaW4gdGhlIHdvcmQgMzQ4NzU2MyB0aGUgZmlyc3Qgcm91bmRpbmcgZGlnaXQgaXMgNSxcclxuICAgIC8vIHRoZW4gaSA9IDQsIGsgPSAxMDAwLCByZCA9IDM0ODc1NjMgJSAxMDAwID0gNTYzXHJcbiAgICBrID0gbWF0aHBvdygxMCwgTE9HX0JBU0UgLSBpKTtcclxuICAgIHJkID0gZFtkaV0gJSBrIHwgMDtcclxuXHJcbiAgICBpZiAocmVwZWF0aW5nID09IG51bGwpIHtcclxuICAgICAgaWYgKGkgPCAzKSB7XHJcbiAgICAgICAgaWYgKGkgPT0gMCkgcmQgPSByZCAvIDEwMCB8IDA7XHJcbiAgICAgICAgZWxzZSBpZiAoaSA9PSAxKSByZCA9IHJkIC8gMTAgfCAwO1xyXG4gICAgICAgIHIgPSBybSA8IDQgJiYgcmQgPT0gOTk5OTkgfHwgcm0gPiAzICYmIHJkID09IDQ5OTk5IHx8IHJkID09IDUwMDAwIHx8IHJkID09IDA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgciA9IChybSA8IDQgJiYgcmQgKyAxID09IGsgfHwgcm0gPiAzICYmIHJkICsgMSA9PSBrIC8gMikgJiZcclxuICAgICAgICAgIChkW2RpICsgMV0gLyBrIC8gMTAwIHwgMCkgPT0gbWF0aHBvdygxMCwgaSAtIDIpIC0gMSB8fFxyXG4gICAgICAgICAgICAocmQgPT0gayAvIDIgfHwgcmQgPT0gMCkgJiYgKGRbZGkgKyAxXSAvIGsgLyAxMDAgfCAwKSA9PSAwO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoaSA8IDQpIHtcclxuICAgICAgICBpZiAoaSA9PSAwKSByZCA9IHJkIC8gMTAwMCB8IDA7XHJcbiAgICAgICAgZWxzZSBpZiAoaSA9PSAxKSByZCA9IHJkIC8gMTAwIHwgMDtcclxuICAgICAgICBlbHNlIGlmIChpID09IDIpIHJkID0gcmQgLyAxMCB8IDA7XHJcbiAgICAgICAgciA9IChyZXBlYXRpbmcgfHwgcm0gPCA0KSAmJiByZCA9PSA5OTk5IHx8ICFyZXBlYXRpbmcgJiYgcm0gPiAzICYmIHJkID09IDQ5OTk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgciA9ICgocmVwZWF0aW5nIHx8IHJtIDwgNCkgJiYgcmQgKyAxID09IGsgfHxcclxuICAgICAgICAoIXJlcGVhdGluZyAmJiBybSA+IDMpICYmIHJkICsgMSA9PSBrIC8gMikgJiZcclxuICAgICAgICAgIChkW2RpICsgMV0gLyBrIC8gMTAwMCB8IDApID09IG1hdGhwb3coMTAsIGkgLSAzKSAtIDE7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcjtcclxuICB9XHJcblxyXG5cclxuICAvLyBDb252ZXJ0IHN0cmluZyBvZiBgYmFzZUluYCB0byBhbiBhcnJheSBvZiBudW1iZXJzIG9mIGBiYXNlT3V0YC5cclxuICAvLyBFZy4gY29udmVydEJhc2UoJzI1NScsIDEwLCAxNikgcmV0dXJucyBbMTUsIDE1XS5cclxuICAvLyBFZy4gY29udmVydEJhc2UoJ2ZmJywgMTYsIDEwKSByZXR1cm5zIFsyLCA1LCA1XS5cclxuICBmdW5jdGlvbiBjb252ZXJ0QmFzZShzdHIsIGJhc2VJbiwgYmFzZU91dCkge1xyXG4gICAgdmFyIGosXHJcbiAgICAgIGFyciA9IFswXSxcclxuICAgICAgYXJyTCxcclxuICAgICAgaSA9IDAsXHJcbiAgICAgIHN0ckwgPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgIGZvciAoOyBpIDwgc3RyTDspIHtcclxuICAgICAgZm9yIChhcnJMID0gYXJyLmxlbmd0aDsgYXJyTC0tOykgYXJyW2FyckxdICo9IGJhc2VJbjtcclxuICAgICAgYXJyWzBdICs9IE5VTUVSQUxTLmluZGV4T2Yoc3RyLmNoYXJBdChpKyspKTtcclxuICAgICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChhcnJbal0gPiBiYXNlT3V0IC0gMSkge1xyXG4gICAgICAgICAgaWYgKGFycltqICsgMV0gPT09IHZvaWQgMCkgYXJyW2ogKyAxXSA9IDA7XHJcbiAgICAgICAgICBhcnJbaiArIDFdICs9IGFycltqXSAvIGJhc2VPdXQgfCAwO1xyXG4gICAgICAgICAgYXJyW2pdICU9IGJhc2VPdXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFyci5yZXZlcnNlKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBjb3MoeCkgPSAxIC0geF4yLzIhICsgeF40LzQhIC0gLi4uXHJcbiAgICogfHh8IDwgcGkvMlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY29zaW5lKEN0b3IsIHgpIHtcclxuICAgIHZhciBrLCBsZW4sIHk7XHJcblxyXG4gICAgaWYgKHguaXNaZXJvKCkpIHJldHVybiB4O1xyXG5cclxuICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvbjogY29zKDR4KSA9IDgqKGNvc140KHgpIC0gY29zXjIoeCkpICsgMVxyXG4gICAgLy8gaS5lLiBjb3MoeCkgPSA4Kihjb3NeNCh4LzQpIC0gY29zXjIoeC80KSkgKyAxXHJcblxyXG4gICAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gICAgbGVuID0geC5kLmxlbmd0aDtcclxuICAgIGlmIChsZW4gPCAzMikge1xyXG4gICAgICBrID0gTWF0aC5jZWlsKGxlbiAvIDMpO1xyXG4gICAgICB5ID0gKDEgLyB0aW55UG93KDQsIGspKS50b1N0cmluZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgayA9IDE2O1xyXG4gICAgICB5ID0gJzIuMzI4MzA2NDM2NTM4Njk2Mjg5MDYyNWUtMTAnO1xyXG4gICAgfVxyXG5cclxuICAgIEN0b3IucHJlY2lzaW9uICs9IGs7XHJcblxyXG4gICAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAxLCB4LnRpbWVzKHkpLCBuZXcgQ3RvcigxKSk7XHJcblxyXG4gICAgLy8gUmV2ZXJzZSBhcmd1bWVudCByZWR1Y3Rpb25cclxuICAgIGZvciAodmFyIGkgPSBrOyBpLS07KSB7XHJcbiAgICAgIHZhciBjb3MyeCA9IHgudGltZXMoeCk7XHJcbiAgICAgIHggPSBjb3MyeC50aW1lcyhjb3MyeCkubWludXMoY29zMngpLnRpbWVzKDgpLnBsdXMoMSk7XHJcbiAgICB9XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gLT0gaztcclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFBlcmZvcm0gZGl2aXNpb24gaW4gdGhlIHNwZWNpZmllZCBiYXNlLlxyXG4gICAqL1xyXG4gIHZhciBkaXZpZGUgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIC8vIEFzc3VtZXMgbm9uLXplcm8geCBhbmQgaywgYW5kIGhlbmNlIG5vbi16ZXJvIHJlc3VsdC5cclxuICAgIGZ1bmN0aW9uIG11bHRpcGx5SW50ZWdlcih4LCBrLCBiYXNlKSB7XHJcbiAgICAgIHZhciB0ZW1wLFxyXG4gICAgICAgIGNhcnJ5ID0gMCxcclxuICAgICAgICBpID0geC5sZW5ndGg7XHJcblxyXG4gICAgICBmb3IgKHggPSB4LnNsaWNlKCk7IGktLTspIHtcclxuICAgICAgICB0ZW1wID0geFtpXSAqIGsgKyBjYXJyeTtcclxuICAgICAgICB4W2ldID0gdGVtcCAlIGJhc2UgfCAwO1xyXG4gICAgICAgIGNhcnJ5ID0gdGVtcCAvIGJhc2UgfCAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY2FycnkpIHgudW5zaGlmdChjYXJyeSk7XHJcblxyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wYXJlKGEsIGIsIGFMLCBiTCkge1xyXG4gICAgICB2YXIgaSwgcjtcclxuXHJcbiAgICAgIGlmIChhTCAhPSBiTCkge1xyXG4gICAgICAgIHIgPSBhTCA+IGJMID8gMSA6IC0xO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAoaSA9IHIgPSAwOyBpIDwgYUw7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGFbaV0gIT0gYltpXSkge1xyXG4gICAgICAgICAgICByID0gYVtpXSA+IGJbaV0gPyAxIDogLTE7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHI7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc3VidHJhY3QoYSwgYiwgYUwsIGJhc2UpIHtcclxuICAgICAgdmFyIGkgPSAwO1xyXG5cclxuICAgICAgLy8gU3VidHJhY3QgYiBmcm9tIGEuXHJcbiAgICAgIGZvciAoOyBhTC0tOykge1xyXG4gICAgICAgIGFbYUxdIC09IGk7XHJcbiAgICAgICAgaSA9IGFbYUxdIDwgYlthTF0gPyAxIDogMDtcclxuICAgICAgICBhW2FMXSA9IGkgKiBiYXNlICsgYVthTF0gLSBiW2FMXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoOyAhYVswXSAmJiBhLmxlbmd0aCA+IDE7KSBhLnNoaWZ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4LCB5LCBwciwgcm0sIGRwLCBiYXNlKSB7XHJcbiAgICAgIHZhciBjbXAsIGUsIGksIGssIGxvZ0Jhc2UsIG1vcmUsIHByb2QsIHByb2RMLCBxLCBxZCwgcmVtLCByZW1MLCByZW0wLCBzZCwgdCwgeGksIHhMLCB5ZDAsXHJcbiAgICAgICAgeUwsIHl6LFxyXG4gICAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICAgIHNpZ24gPSB4LnMgPT0geS5zID8gMSA6IC0xLFxyXG4gICAgICAgIHhkID0geC5kLFxyXG4gICAgICAgIHlkID0geS5kO1xyXG5cclxuICAgICAgLy8gRWl0aGVyIE5hTiwgSW5maW5pdHkgb3IgMD9cclxuICAgICAgaWYgKCF4ZCB8fCAheGRbMF0gfHwgIXlkIHx8ICF5ZFswXSkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IEN0b3IoLy8gUmV0dXJuIE5hTiBpZiBlaXRoZXIgTmFOLCBvciBib3RoIEluZmluaXR5IG9yIDAuXHJcbiAgICAgICAgICAheC5zIHx8ICF5LnMgfHwgKHhkID8geWQgJiYgeGRbMF0gPT0geWRbMF0gOiAheWQpID8gTmFOIDpcclxuXHJcbiAgICAgICAgICAvLyBSZXR1cm4gwrEwIGlmIHggaXMgMCBvciB5IGlzIMKxSW5maW5pdHksIG9yIHJldHVybiDCsUluZmluaXR5IGFzIHkgaXMgMC5cclxuICAgICAgICAgIHhkICYmIHhkWzBdID09IDAgfHwgIXlkID8gc2lnbiAqIDAgOiBzaWduIC8gMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChiYXNlKSB7XHJcbiAgICAgICAgbG9nQmFzZSA9IDE7XHJcbiAgICAgICAgZSA9IHguZSAtIHkuZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBiYXNlID0gQkFTRTtcclxuICAgICAgICBsb2dCYXNlID0gTE9HX0JBU0U7XHJcbiAgICAgICAgZSA9IG1hdGhmbG9vcih4LmUgLyBsb2dCYXNlKSAtIG1hdGhmbG9vcih5LmUgLyBsb2dCYXNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeUwgPSB5ZC5sZW5ndGg7XHJcbiAgICAgIHhMID0geGQubGVuZ3RoO1xyXG4gICAgICBxID0gbmV3IEN0b3Ioc2lnbik7XHJcbiAgICAgIHFkID0gcS5kID0gW107XHJcblxyXG4gICAgICAvLyBSZXN1bHQgZXhwb25lbnQgbWF5IGJlIG9uZSBsZXNzIHRoYW4gZS5cclxuICAgICAgLy8gVGhlIGRpZ2l0IGFycmF5IG9mIGEgRGVjaW1hbCBmcm9tIHRvU3RyaW5nQmluYXJ5IG1heSBoYXZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICBmb3IgKGkgPSAwOyB5ZFtpXSA9PSAoeGRbaV0gfHwgMCk7IGkrKyk7XHJcblxyXG4gICAgICBpZiAoeWRbaV0gPiAoeGRbaV0gfHwgMCkpIGUtLTtcclxuXHJcbiAgICAgIGlmIChwciA9PSBudWxsKSB7XHJcbiAgICAgICAgc2QgPSBwciA9IEN0b3IucHJlY2lzaW9uO1xyXG4gICAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgICAgfSBlbHNlIGlmIChkcCkge1xyXG4gICAgICAgIHNkID0gcHIgKyAoeC5lIC0geS5lKSArIDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2QgPSBwcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNkIDwgMCkge1xyXG4gICAgICAgIHFkLnB1c2goMSk7XHJcbiAgICAgICAgbW9yZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgcHJlY2lzaW9uIGluIG51bWJlciBvZiBiYXNlIDEwIGRpZ2l0cyB0byBiYXNlIDFlNyBkaWdpdHMuXHJcbiAgICAgICAgc2QgPSBzZCAvIGxvZ0Jhc2UgKyAyIHwgMDtcclxuICAgICAgICBpID0gMDtcclxuXHJcbiAgICAgICAgLy8gZGl2aXNvciA8IDFlN1xyXG4gICAgICAgIGlmICh5TCA9PSAxKSB7XHJcbiAgICAgICAgICBrID0gMDtcclxuICAgICAgICAgIHlkID0geWRbMF07XHJcbiAgICAgICAgICBzZCsrO1xyXG5cclxuICAgICAgICAgIC8vIGsgaXMgdGhlIGNhcnJ5LlxyXG4gICAgICAgICAgZm9yICg7IChpIDwgeEwgfHwgaykgJiYgc2QtLTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHQgPSBrICogYmFzZSArICh4ZFtpXSB8fCAwKTtcclxuICAgICAgICAgICAgcWRbaV0gPSB0IC8geWQgfCAwO1xyXG4gICAgICAgICAgICBrID0gdCAlIHlkIHwgMDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBtb3JlID0gayB8fCBpIDwgeEw7XHJcblxyXG4gICAgICAgIC8vIGRpdmlzb3IgPj0gMWU3XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyBOb3JtYWxpc2UgeGQgYW5kIHlkIHNvIGhpZ2hlc3Qgb3JkZXIgZGlnaXQgb2YgeWQgaXMgPj0gYmFzZS8yXHJcbiAgICAgICAgICBrID0gYmFzZSAvICh5ZFswXSArIDEpIHwgMDtcclxuXHJcbiAgICAgICAgICBpZiAoayA+IDEpIHtcclxuICAgICAgICAgICAgeWQgPSBtdWx0aXBseUludGVnZXIoeWQsIGssIGJhc2UpO1xyXG4gICAgICAgICAgICB4ZCA9IG11bHRpcGx5SW50ZWdlcih4ZCwgaywgYmFzZSk7XHJcbiAgICAgICAgICAgIHlMID0geWQubGVuZ3RoO1xyXG4gICAgICAgICAgICB4TCA9IHhkLmxlbmd0aDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB4aSA9IHlMO1xyXG4gICAgICAgICAgcmVtID0geGQuc2xpY2UoMCwgeUwpO1xyXG4gICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgLy8gQWRkIHplcm9zIHRvIG1ha2UgcmVtYWluZGVyIGFzIGxvbmcgYXMgZGl2aXNvci5cclxuICAgICAgICAgIGZvciAoOyByZW1MIDwgeUw7KSByZW1bcmVtTCsrXSA9IDA7XHJcblxyXG4gICAgICAgICAgeXogPSB5ZC5zbGljZSgpO1xyXG4gICAgICAgICAgeXoudW5zaGlmdCgwKTtcclxuICAgICAgICAgIHlkMCA9IHlkWzBdO1xyXG5cclxuICAgICAgICAgIGlmICh5ZFsxXSA+PSBiYXNlIC8gMikgKyt5ZDA7XHJcblxyXG4gICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBrID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBjbXAgPSBjb21wYXJlKHlkLCByZW0sIHlMLCByZW1MKTtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGlmIChjbXAgPCAwKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0cmlhbCBkaWdpdCwgay5cclxuICAgICAgICAgICAgICByZW0wID0gcmVtWzBdO1xyXG4gICAgICAgICAgICAgIGlmICh5TCAhPSByZW1MKSByZW0wID0gcmVtMCAqIGJhc2UgKyAocmVtWzFdIHx8IDApO1xyXG5cclxuICAgICAgICAgICAgICAvLyBrIHdpbGwgYmUgaG93IG1hbnkgdGltZXMgdGhlIGRpdmlzb3IgZ29lcyBpbnRvIHRoZSBjdXJyZW50IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBrID0gcmVtMCAvIHlkMCB8IDA7XHJcblxyXG4gICAgICAgICAgICAgIC8vICBBbGdvcml0aG06XHJcbiAgICAgICAgICAgICAgLy8gIDEuIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQgKGspXHJcbiAgICAgICAgICAgICAgLy8gIDIuIGlmIHByb2R1Y3QgPiByZW1haW5kZXI6IHByb2R1Y3QgLT0gZGl2aXNvciwgay0tXHJcbiAgICAgICAgICAgICAgLy8gIDMuIHJlbWFpbmRlciAtPSBwcm9kdWN0XHJcbiAgICAgICAgICAgICAgLy8gIDQuIGlmIHByb2R1Y3Qgd2FzIDwgcmVtYWluZGVyIGF0IDI6XHJcbiAgICAgICAgICAgICAgLy8gICAgNS4gY29tcGFyZSBuZXcgcmVtYWluZGVyIGFuZCBkaXZpc29yXHJcbiAgICAgICAgICAgICAgLy8gICAgNi4gSWYgcmVtYWluZGVyID4gZGl2aXNvcjogcmVtYWluZGVyIC09IGRpdmlzb3IsIGsrK1xyXG5cclxuICAgICAgICAgICAgICBpZiAoayA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrID49IGJhc2UpIGsgPSBiYXNlIC0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwcm9kdWN0ID0gZGl2aXNvciAqIHRyaWFsIGRpZ2l0LlxyXG4gICAgICAgICAgICAgICAgcHJvZCA9IG11bHRpcGx5SW50ZWdlcih5ZCwgaywgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgcmVtTCA9IHJlbS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcGFyZSBwcm9kdWN0IGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKHByb2QsIHJlbSwgcHJvZEwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHByb2R1Y3QgPiByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICBpZiAoY21wID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgay0tO1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QuXHJcbiAgICAgICAgICAgICAgICAgIHN1YnRyYWN0KHByb2QsIHlMIDwgcHJvZEwgPyB5eiA6IHlkLCBwcm9kTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjbXAgaXMgLTEuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBrIGlzIDAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29tcGFyZSB5ZCBhbmQgcmVtIGFnYWluIGJlbG93LCBzbyBjaGFuZ2UgY21wIHRvIDFcclxuICAgICAgICAgICAgICAgIC8vIHRvIGF2b2lkIGl0LiBJZiBrIGlzIDEgdGhlcmUgaXMgYSBuZWVkIHRvIGNvbXBhcmUgeWQgYW5kIHJlbSBhZ2FpbiBiZWxvdy5cclxuICAgICAgICAgICAgICAgIGlmIChrID09IDApIGNtcCA9IGsgPSAxO1xyXG4gICAgICAgICAgICAgICAgcHJvZCA9IHlkLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBwcm9kTCA9IHByb2QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIGlmIChwcm9kTCA8IHJlbUwpIHByb2QudW5zaGlmdCgwKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHByb2QsIHJlbUwsIGJhc2UpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiBwcm9kdWN0IHdhcyA8IHByZXZpb3VzIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBpZiAoY21wID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDb21wYXJlIGRpdmlzb3IgYW5kIG5ldyByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICBjbXAgPSBjb21wYXJlKHlkLCByZW0sIHlMLCByZW1MKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBkaXZpc29yIDwgbmV3IHJlbWFpbmRlciwgc3VidHJhY3QgZGl2aXNvciBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIGlmIChjbXAgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgIGsrKztcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgeUwgPCByZW1MID8geXogOiB5ZCwgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT09IDApIHtcclxuICAgICAgICAgICAgICBrKys7XHJcbiAgICAgICAgICAgICAgcmVtID0gWzBdO1xyXG4gICAgICAgICAgICB9ICAgIC8vIGlmIGNtcCA9PT0gMSwgayB3aWxsIGJlIDBcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgbmV4dCBkaWdpdCwgaywgdG8gdGhlIHJlc3VsdCBhcnJheS5cclxuICAgICAgICAgICAgcWRbaSsrXSA9IGs7XHJcblxyXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCAmJiByZW1bMF0pIHtcclxuICAgICAgICAgICAgICByZW1bcmVtTCsrXSA9IHhkW3hpXSB8fCAwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlbSA9IFt4ZFt4aV1dO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgfSB3aGlsZSAoKHhpKysgPCB4TCB8fCByZW1bMF0gIT09IHZvaWQgMCkgJiYgc2QtLSk7XHJcblxyXG4gICAgICAgICAgbW9yZSA9IHJlbVswXSAhPT0gdm9pZCAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTGVhZGluZyB6ZXJvP1xyXG4gICAgICAgIGlmICghcWRbMF0pIHFkLnNoaWZ0KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGxvZ0Jhc2UgaXMgMSB3aGVuIGRpdmlkZSBpcyBiZWluZyB1c2VkIGZvciBiYXNlIGNvbnZlcnNpb24uXHJcbiAgICAgIGlmIChsb2dCYXNlID09IDEpIHtcclxuICAgICAgICBxLmUgPSBlO1xyXG4gICAgICAgIGluZXhhY3QgPSBtb3JlO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAvLyBUbyBjYWxjdWxhdGUgcS5lLCBmaXJzdCBnZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgcWRbMF0uXHJcbiAgICAgICAgZm9yIChpID0gMSwgayA9IHFkWzBdOyBrID49IDEwOyBrIC89IDEwKSBpKys7XHJcbiAgICAgICAgcS5lID0gaSArIGUgKiBsb2dCYXNlIC0gMTtcclxuXHJcbiAgICAgICAgZmluYWxpc2UocSwgZHAgPyBwciArIHEuZSArIDEgOiBwciwgcm0sIG1vcmUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcTtcclxuICAgIH07XHJcbiAgfSkoKTtcclxuXHJcblxyXG4gIC8qXHJcbiAgICogUm91bmQgYHhgIHRvIGBzZGAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJtYC5cclxuICAgKiBDaGVjayBmb3Igb3Zlci91bmRlci1mbG93LlxyXG4gICAqL1xyXG4gICBmdW5jdGlvbiBmaW5hbGlzZSh4LCBzZCwgcm0sIGlzVHJ1bmNhdGVkKSB7XHJcbiAgICB2YXIgZGlnaXRzLCBpLCBqLCBrLCByZCwgcm91bmRVcCwgdywgeGQsIHhkaSxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3I7XHJcblxyXG4gICAgLy8gRG9uJ3Qgcm91bmQgaWYgc2QgaXMgbnVsbCBvciB1bmRlZmluZWQuXHJcbiAgICBvdXQ6IGlmIChzZCAhPSBudWxsKSB7XHJcbiAgICAgIHhkID0geC5kO1xyXG5cclxuICAgICAgLy8gSW5maW5pdHkvTmFOLlxyXG4gICAgICBpZiAoIXhkKSByZXR1cm4geDtcclxuXHJcbiAgICAgIC8vIHJkOiB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICAvLyB3OiB0aGUgd29yZCBvZiB4ZCBjb250YWluaW5nIHJkLCBhIGJhc2UgMWU3IG51bWJlci5cclxuICAgICAgLy8geGRpOiB0aGUgaW5kZXggb2YgdyB3aXRoaW4geGQuXHJcbiAgICAgIC8vIGRpZ2l0czogdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygdy5cclxuICAgICAgLy8gaTogd2hhdCB3b3VsZCBiZSB0aGUgaW5kZXggb2YgcmQgd2l0aGluIHcgaWYgYWxsIHRoZSBudW1iZXJzIHdlcmUgNyBkaWdpdHMgbG9uZyAoaS5lLiBpZlxyXG4gICAgICAvLyB0aGV5IGhhZCBsZWFkaW5nIHplcm9zKVxyXG4gICAgICAvLyBqOiBpZiA+IDAsIHRoZSBhY3R1YWwgaW5kZXggb2YgcmQgd2l0aGluIHcgKGlmIDwgMCwgcmQgaXMgYSBsZWFkaW5nIHplcm8pLlxyXG5cclxuICAgICAgLy8gR2V0IHRoZSBsZW5ndGggb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGRpZ2l0cyBhcnJheSB4ZC5cclxuICAgICAgZm9yIChkaWdpdHMgPSAxLCBrID0geGRbMF07IGsgPj0gMTA7IGsgLz0gMTApIGRpZ2l0cysrO1xyXG4gICAgICBpID0gc2QgLSBkaWdpdHM7XHJcblxyXG4gICAgICAvLyBJcyB0aGUgcm91bmRpbmcgZGlnaXQgaW4gdGhlIGZpcnN0IHdvcmQgb2YgeGQ/XHJcbiAgICAgIGlmIChpIDwgMCkge1xyXG4gICAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgICAgaiA9IHNkO1xyXG4gICAgICAgIHcgPSB4ZFt4ZGkgPSAwXTtcclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIHcuXHJcbiAgICAgICAgcmQgPSB3IC8gbWF0aHBvdygxMCwgZGlnaXRzIC0gaiAtIDEpICUgMTAgfCAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhkaSA9IE1hdGguY2VpbCgoaSArIDEpIC8gTE9HX0JBU0UpO1xyXG4gICAgICAgIGsgPSB4ZC5sZW5ndGg7XHJcbiAgICAgICAgaWYgKHhkaSA+PSBrKSB7XHJcbiAgICAgICAgICBpZiAoaXNUcnVuY2F0ZWQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIE5lZWRlZCBieSBgbmF0dXJhbEV4cG9uZW50aWFsYCwgYG5hdHVyYWxMb2dhcml0aG1gIGFuZCBgc3F1YXJlUm9vdGAuXHJcbiAgICAgICAgICAgIGZvciAoOyBrKysgPD0geGRpOykgeGQucHVzaCgwKTtcclxuICAgICAgICAgICAgdyA9IHJkID0gMDtcclxuICAgICAgICAgICAgZGlnaXRzID0gMTtcclxuICAgICAgICAgICAgaSAlPSBMT0dfQkFTRTtcclxuICAgICAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIDE7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBicmVhayBvdXQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHcgPSBrID0geGRbeGRpXTtcclxuXHJcbiAgICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2Ygdy5cclxuICAgICAgICAgIGZvciAoZGlnaXRzID0gMTsgayA+PSAxMDsgayAvPSAxMCkgZGlnaXRzKys7XHJcblxyXG4gICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gdy5cclxuICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcblxyXG4gICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gdywgYWRqdXN0ZWQgZm9yIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2YgdyBpcyBnaXZlbiBieSBMT0dfQkFTRSAtIGRpZ2l0cy5cclxuICAgICAgICAgIGogPSBpIC0gTE9HX0JBU0UgKyBkaWdpdHM7XHJcblxyXG4gICAgICAgICAgLy8gR2V0IHRoZSByb3VuZGluZyBkaWdpdCBhdCBpbmRleCBqIG9mIHcuXHJcbiAgICAgICAgICByZCA9IGogPCAwID8gMCA6IHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqIC0gMSkgJSAxMCB8IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBcmUgdGhlcmUgYW55IG5vbi16ZXJvIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQ/XHJcbiAgICAgIGlzVHJ1bmNhdGVkID0gaXNUcnVuY2F0ZWQgfHwgc2QgPCAwIHx8XHJcbiAgICAgICAgeGRbeGRpICsgMV0gIT09IHZvaWQgMCB8fCAoaiA8IDAgPyB3IDogdyAlIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKSk7XHJcblxyXG4gICAgICAvLyBUaGUgZXhwcmVzc2lvbiBgdyAlIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGogLSAxKWAgcmV0dXJucyBhbGwgdGhlIGRpZ2l0cyBvZiB3IHRvIHRoZSByaWdodFxyXG4gICAgICAvLyBvZiB0aGUgZGlnaXQgYXQgKGxlZnQtdG8tcmlnaHQpIGluZGV4IGosIGUuZy4gaWYgdyBpcyA5MDg3MTQgYW5kIGogaXMgMiwgdGhlIGV4cHJlc3Npb25cclxuICAgICAgLy8gd2lsbCBnaXZlIDcxNC5cclxuXHJcbiAgICAgIHJvdW5kVXAgPSBybSA8IDRcclxuICAgICAgICA/IChyZCB8fCBpc1RydW5jYXRlZCkgJiYgKHJtID09IDAgfHwgcm0gPT0gKHgucyA8IDAgPyAzIDogMikpXHJcbiAgICAgICAgOiByZCA+IDUgfHwgcmQgPT0gNSAmJiAocm0gPT0gNCB8fCBpc1RydW5jYXRlZCB8fCBybSA9PSA2ICYmXHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cclxuICAgICAgICAgICgoaSA+IDAgPyBqID4gMCA/IHcgLyBtYXRocG93KDEwLCBkaWdpdHMgLSBqKSA6IDAgOiB4ZFt4ZGkgLSAxXSkgJSAxMCkgJiAxIHx8XHJcbiAgICAgICAgICAgIHJtID09ICh4LnMgPCAwID8gOCA6IDcpKTtcclxuXHJcbiAgICAgIGlmIChzZCA8IDEgfHwgIXhkWzBdKSB7XHJcbiAgICAgICAgeGQubGVuZ3RoID0gMDtcclxuICAgICAgICBpZiAocm91bmRVcCkge1xyXG5cclxuICAgICAgICAgIC8vIENvbnZlcnQgc2QgdG8gZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgICBzZCAtPSB4LmUgKyAxO1xyXG5cclxuICAgICAgICAgIC8vIDEsIDAuMSwgMC4wMSwgMC4wMDEsIDAuMDAwMSBldGMuXHJcbiAgICAgICAgICB4ZFswXSA9IG1hdGhwb3coMTAsIChMT0dfQkFTRSAtIHNkICUgTE9HX0JBU0UpICUgTE9HX0JBU0UpO1xyXG4gICAgICAgICAgeC5lID0gLXNkIHx8IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyBaZXJvLlxyXG4gICAgICAgICAgeGRbMF0gPSB4LmUgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlbW92ZSBleGNlc3MgZGlnaXRzLlxyXG4gICAgICBpZiAoaSA9PSAwKSB7XHJcbiAgICAgICAgeGQubGVuZ3RoID0geGRpO1xyXG4gICAgICAgIGsgPSAxO1xyXG4gICAgICAgIHhkaS0tO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhkLmxlbmd0aCA9IHhkaSArIDE7XHJcbiAgICAgICAgayA9IG1hdGhwb3coMTAsIExPR19CQVNFIC0gaSk7XHJcblxyXG4gICAgICAgIC8vIEUuZy4gNTY3MDAgYmVjb21lcyA1NjAwMCBpZiA3IGlzIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAvLyBqID4gMCBtZWFucyBpID4gbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2Ygdy5cclxuICAgICAgICB4ZFt4ZGldID0gaiA+IDAgPyAodyAvIG1hdGhwb3coMTAsIGRpZ2l0cyAtIGopICUgbWF0aHBvdygxMCwgaikgfCAwKSAqIGsgOiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocm91bmRVcCkge1xyXG4gICAgICAgIGZvciAoOzspIHtcclxuXHJcbiAgICAgICAgICAvLyBJcyB0aGUgZGlnaXQgdG8gYmUgcm91bmRlZCB1cCBpbiB0aGUgZmlyc3Qgd29yZCBvZiB4ZD9cclxuICAgICAgICAgIGlmICh4ZGkgPT0gMCkge1xyXG5cclxuICAgICAgICAgICAgLy8gaSB3aWxsIGJlIHRoZSBsZW5ndGggb2YgeGRbMF0gYmVmb3JlIGsgaXMgYWRkZWQuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGogPSB4ZFswXTsgaiA+PSAxMDsgaiAvPSAxMCkgaSsrO1xyXG4gICAgICAgICAgICBqID0geGRbMF0gKz0gaztcclxuICAgICAgICAgICAgZm9yIChrID0gMTsgaiA+PSAxMDsgaiAvPSAxMCkgaysrO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgaSAhPSBrIHRoZSBsZW5ndGggaGFzIGluY3JlYXNlZC5cclxuICAgICAgICAgICAgaWYgKGkgIT0gaykge1xyXG4gICAgICAgICAgICAgIHguZSsrO1xyXG4gICAgICAgICAgICAgIGlmICh4ZFswXSA9PSBCQVNFKSB4ZFswXSA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeGRbeGRpXSArPSBrO1xyXG4gICAgICAgICAgICBpZiAoeGRbeGRpXSAhPSBCQVNFKSBicmVhaztcclxuICAgICAgICAgICAgeGRbeGRpLS1dID0gMDtcclxuICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoaSA9IHhkLmxlbmd0aDsgeGRbLS1pXSA9PT0gMDspIHhkLnBvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChleHRlcm5hbCkge1xyXG5cclxuICAgICAgLy8gT3ZlcmZsb3c/XHJcbiAgICAgIGlmICh4LmUgPiBDdG9yLm1heEUpIHtcclxuXHJcbiAgICAgICAgLy8gSW5maW5pdHkuXHJcbiAgICAgICAgeC5kID0gbnVsbDtcclxuICAgICAgICB4LmUgPSBOYU47XHJcblxyXG4gICAgICAvLyBVbmRlcmZsb3c/XHJcbiAgICAgIH0gZWxzZSBpZiAoeC5lIDwgQ3Rvci5taW5FKSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgeC5lID0gMDtcclxuICAgICAgICB4LmQgPSBbMF07XHJcbiAgICAgICAgLy8gQ3Rvci51bmRlcmZsb3cgPSB0cnVlO1xyXG4gICAgICB9IC8vIGVsc2UgQ3Rvci51bmRlcmZsb3cgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiBmaW5pdGVUb1N0cmluZyh4LCBpc0V4cCwgc2QpIHtcclxuICAgIGlmICgheC5pc0Zpbml0ZSgpKSByZXR1cm4gbm9uRmluaXRlVG9TdHJpbmcoeCk7XHJcbiAgICB2YXIgayxcclxuICAgICAgZSA9IHguZSxcclxuICAgICAgc3RyID0gZGlnaXRzVG9TdHJpbmcoeC5kKSxcclxuICAgICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICBpZiAoaXNFeHApIHtcclxuICAgICAgaWYgKHNkICYmIChrID0gc2QgLSBsZW4pID4gMCkge1xyXG4gICAgICAgIHN0ciA9IHN0ci5jaGFyQXQoMCkgKyAnLicgKyBzdHIuc2xpY2UoMSkgKyBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgICB9IGVsc2UgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdHIgPSBzdHIgKyAoeC5lIDwgMCA/ICdlJyA6ICdlKycpICsgeC5lO1xyXG4gICAgfSBlbHNlIGlmIChlIDwgMCkge1xyXG4gICAgICBzdHIgPSAnMC4nICsgZ2V0WmVyb1N0cmluZygtZSAtIDEpICsgc3RyO1xyXG4gICAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGxlbikgPiAwKSBzdHIgKz0gZ2V0WmVyb1N0cmluZyhrKTtcclxuICAgIH0gZWxzZSBpZiAoZSA+PSBsZW4pIHtcclxuICAgICAgc3RyICs9IGdldFplcm9TdHJpbmcoZSArIDEgLSBsZW4pO1xyXG4gICAgICBpZiAoc2QgJiYgKGsgPSBzZCAtIGUgLSAxKSA+IDApIHN0ciA9IHN0ciArICcuJyArIGdldFplcm9TdHJpbmcoayk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAoKGsgPSBlICsgMSkgPCBsZW4pIHN0ciA9IHN0ci5zbGljZSgwLCBrKSArICcuJyArIHN0ci5zbGljZShrKTtcclxuICAgICAgaWYgKHNkICYmIChrID0gc2QgLSBsZW4pID4gMCkge1xyXG4gICAgICAgIGlmIChlICsgMSA9PT0gbGVuKSBzdHIgKz0gJy4nO1xyXG4gICAgICAgIHN0ciArPSBnZXRaZXJvU3RyaW5nKGspO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9XHJcblxyXG5cclxuICAvLyBDYWxjdWxhdGUgdGhlIGJhc2UgMTAgZXhwb25lbnQgZnJvbSB0aGUgYmFzZSAxZTcgZXhwb25lbnQuXHJcbiAgZnVuY3Rpb24gZ2V0QmFzZTEwRXhwb25lbnQoZGlnaXRzLCBlKSB7XHJcbiAgICB2YXIgdyA9IGRpZ2l0c1swXTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGRpZ2l0cyBhcnJheS5cclxuICAgIGZvciAoIGUgKj0gTE9HX0JBU0U7IHcgPj0gMTA7IHcgLz0gMTApIGUrKztcclxuICAgIHJldHVybiBlO1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIGdldExuMTAoQ3Rvciwgc2QsIHByKSB7XHJcbiAgICBpZiAoc2QgPiBMTjEwX1BSRUNJU0lPTikge1xyXG5cclxuICAgICAgLy8gUmVzZXQgZ2xvYmFsIHN0YXRlIGluIGNhc2UgdGhlIGV4Y2VwdGlvbiBpcyBjYXVnaHQuXHJcbiAgICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgICAgaWYgKHByKSBDdG9yLnByZWNpc2lvbiA9IHByO1xyXG4gICAgICB0aHJvdyBFcnJvcihwcmVjaXNpb25MaW1pdEV4Y2VlZGVkKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmaW5hbGlzZShuZXcgQ3RvcihMTjEwKSwgc2QsIDEsIHRydWUpO1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIGdldFBpKEN0b3IsIHNkLCBybSkge1xyXG4gICAgaWYgKHNkID4gUElfUFJFQ0lTSU9OKSB0aHJvdyBFcnJvcihwcmVjaXNpb25MaW1pdEV4Y2VlZGVkKTtcclxuICAgIHJldHVybiBmaW5hbGlzZShuZXcgQ3RvcihQSSksIHNkLCBybSwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gZ2V0UHJlY2lzaW9uKGRpZ2l0cykge1xyXG4gICAgdmFyIHcgPSBkaWdpdHMubGVuZ3RoIC0gMSxcclxuICAgICAgbGVuID0gdyAqIExPR19CQVNFICsgMTtcclxuXHJcbiAgICB3ID0gZGlnaXRzW3ddO1xyXG5cclxuICAgIC8vIElmIG5vbi16ZXJvLi4uXHJcbiAgICBpZiAodykge1xyXG5cclxuICAgICAgLy8gU3VidHJhY3QgdGhlIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvcyBvZiB0aGUgbGFzdCB3b3JkLlxyXG4gICAgICBmb3IgKDsgdyAlIDEwID09IDA7IHcgLz0gMTApIGxlbi0tO1xyXG5cclxuICAgICAgLy8gQWRkIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIHRoZSBmaXJzdCB3b3JkLlxyXG4gICAgICBmb3IgKHcgPSBkaWdpdHNbMF07IHcgPj0gMTA7IHcgLz0gMTApIGxlbisrO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZW47XHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gZ2V0WmVyb1N0cmluZyhrKSB7XHJcbiAgICB2YXIgenMgPSAnJztcclxuICAgIGZvciAoOyBrLS07KSB6cyArPSAnMCc7XHJcbiAgICByZXR1cm4genM7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgRGVjaW1hbCBgeGAgdG8gdGhlIHBvd2VyIGBuYCwgd2hlcmUgYG5gIGlzIGFuXHJcbiAgICogaW50ZWdlciBvZiB0eXBlIG51bWJlci5cclxuICAgKlxyXG4gICAqIEltcGxlbWVudHMgJ2V4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nJy4gQ2FsbGVkIGJ5IGBwb3dgIGFuZCBgcGFyc2VPdGhlcmAuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBpbnRQb3coQ3RvciwgeCwgbiwgcHIpIHtcclxuICAgIHZhciBpc1RydW5jYXRlZCxcclxuICAgICAgciA9IG5ldyBDdG9yKDEpLFxyXG5cclxuICAgICAgLy8gTWF4IG4gb2YgOTAwNzE5OTI1NDc0MDk5MSB0YWtlcyA1MyBsb29wIGl0ZXJhdGlvbnMuXHJcbiAgICAgIC8vIE1heGltdW0gZGlnaXRzIGFycmF5IGxlbmd0aDsgbGVhdmVzIFsyOCwgMzRdIGd1YXJkIGRpZ2l0cy5cclxuICAgICAgayA9IE1hdGguY2VpbChwciAvIExPR19CQVNFICsgNCk7XHJcblxyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgICBmb3IgKDs7KSB7XHJcbiAgICAgIGlmIChuICUgMikge1xyXG4gICAgICAgIHIgPSByLnRpbWVzKHgpO1xyXG4gICAgICAgIGlmICh0cnVuY2F0ZShyLmQsIGspKSBpc1RydW5jYXRlZCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG4gPSBtYXRoZmxvb3IobiAvIDIpO1xyXG4gICAgICBpZiAobiA9PT0gMCkge1xyXG5cclxuICAgICAgICAvLyBUbyBlbnN1cmUgY29ycmVjdCByb3VuZGluZyB3aGVuIHIuZCBpcyB0cnVuY2F0ZWQsIGluY3JlbWVudCB0aGUgbGFzdCB3b3JkIGlmIGl0IGlzIHplcm8uXHJcbiAgICAgICAgbiA9IHIuZC5sZW5ndGggLSAxO1xyXG4gICAgICAgIGlmIChpc1RydW5jYXRlZCAmJiByLmRbbl0gPT09IDApICsrci5kW25dO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB4ID0geC50aW1lcyh4KTtcclxuICAgICAgdHJ1bmNhdGUoeC5kLCBrKTtcclxuICAgIH1cclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gaXNPZGQobikge1xyXG4gICAgcmV0dXJuIG4uZFtuLmQubGVuZ3RoIC0gMV0gJiAxO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogSGFuZGxlIGBtYXhgIGFuZCBgbWluYC4gYGx0Z3RgIGlzICdsdCcgb3IgJ2d0Jy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBtYXhPck1pbihDdG9yLCBhcmdzLCBsdGd0KSB7XHJcbiAgICB2YXIgeSxcclxuICAgICAgeCA9IG5ldyBDdG9yKGFyZ3NbMF0pLFxyXG4gICAgICBpID0gMDtcclxuXHJcbiAgICBmb3IgKDsgKytpIDwgYXJncy5sZW5ndGg7KSB7XHJcbiAgICAgIHkgPSBuZXcgQ3RvcihhcmdzW2ldKTtcclxuICAgICAgaWYgKCF5LnMpIHtcclxuICAgICAgICB4ID0geTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfSBlbHNlIGlmICh4W2x0Z3RdKHkpKSB7XHJcbiAgICAgICAgeCA9IHk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geDtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGV4cG9uZW50aWFsIG9mIGB4YCByb3VuZGVkIHRvIGBzZGAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMuXHJcbiAgICpcclxuICAgKiBUYXlsb3IvTWFjbGF1cmluIHNlcmllcy5cclxuICAgKlxyXG4gICAqIGV4cCh4KSA9IHheMC8wISArIHheMS8xISArIHheMi8yISArIHheMy8zISArIC4uLlxyXG4gICAqXHJcbiAgICogQXJndW1lbnQgcmVkdWN0aW9uOlxyXG4gICAqICAgUmVwZWF0IHggPSB4IC8gMzIsIGsgKz0gNSwgdW50aWwgfHh8IDwgMC4xXHJcbiAgICogICBleHAoeCkgPSBleHAoeCAvIDJeayleKDJeaylcclxuICAgKlxyXG4gICAqIFByZXZpb3VzbHksIHRoZSBhcmd1bWVudCB3YXMgaW5pdGlhbGx5IHJlZHVjZWQgYnlcclxuICAgKiBleHAoeCkgPSBleHAocikgKiAxMF5rICB3aGVyZSByID0geCAtIGsgKiBsbjEwLCBrID0gZmxvb3IoeCAvIGxuMTApXHJcbiAgICogdG8gZmlyc3QgcHV0IHIgaW4gdGhlIHJhbmdlIFswLCBsbjEwXSwgYmVmb3JlIGRpdmlkaW5nIGJ5IDMyIHVudGlsIHx4fCA8IDAuMSwgYnV0IHRoaXMgd2FzXHJcbiAgICogZm91bmQgdG8gYmUgc2xvd2VyIHRoYW4ganVzdCBkaXZpZGluZyByZXBlYXRlZGx5IGJ5IDMyIGFzIGFib3ZlLlxyXG4gICAqXHJcbiAgICogTWF4IGludGVnZXIgYXJndW1lbnQ6IGV4cCgnMjA3MjMyNjU4MzY5NDY0MTMnKSA9IDYuM2UrOTAwMDAwMDAwMDAwMDAwMFxyXG4gICAqIE1pbiBpbnRlZ2VyIGFyZ3VtZW50OiBleHAoJy0yMDcyMzI2NTgzNjk0NjQxMScpID0gMS4yZS05MDAwMDAwMDAwMDAwMDAwXHJcbiAgICogKE1hdGggb2JqZWN0IGludGVnZXIgbWluL21heDogTWF0aC5leHAoNzA5KSA9IDguMmUrMzA3LCBNYXRoLmV4cCgtNzQ1KSA9IDVlLTMyNClcclxuICAgKlxyXG4gICAqICBleHAoSW5maW5pdHkpICA9IEluZmluaXR5XHJcbiAgICogIGV4cCgtSW5maW5pdHkpID0gMFxyXG4gICAqICBleHAoTmFOKSAgICAgICA9IE5hTlxyXG4gICAqICBleHAowrEwKSAgICAgICAgPSAxXHJcbiAgICpcclxuICAgKiAgZXhwKHgpIGlzIG5vbi10ZXJtaW5hdGluZyBmb3IgYW55IGZpbml0ZSwgbm9uLXplcm8geC5cclxuICAgKlxyXG4gICAqICBUaGUgcmVzdWx0IHdpbGwgYWx3YXlzIGJlIGNvcnJlY3RseSByb3VuZGVkLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbmF0dXJhbEV4cG9uZW50aWFsKHgsIHNkKSB7XHJcbiAgICB2YXIgZGVub21pbmF0b3IsIGd1YXJkLCBqLCBwb3csIHN1bSwgdCwgd3ByLFxyXG4gICAgICByZXAgPSAwLFxyXG4gICAgICBpID0gMCxcclxuICAgICAgayA9IDAsXHJcbiAgICAgIEN0b3IgPSB4LmNvbnN0cnVjdG9yLFxyXG4gICAgICBybSA9IEN0b3Iucm91bmRpbmcsXHJcbiAgICAgIHByID0gQ3Rvci5wcmVjaXNpb247XHJcblxyXG4gICAgLy8gMC9OYU4vSW5maW5pdHk/XHJcbiAgICBpZiAoIXguZCB8fCAheC5kWzBdIHx8IHguZSA+IDE3KSB7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IEN0b3IoeC5kXHJcbiAgICAgICAgPyAheC5kWzBdID8gMSA6IHgucyA8IDAgPyAwIDogMSAvIDBcclxuICAgICAgICA6IHgucyA/IHgucyA8IDAgPyAwIDogeCA6IDAgLyAwKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2QgPT0gbnVsbCkge1xyXG4gICAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG4gICAgICB3cHIgPSBwcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHdwciA9IHNkO1xyXG4gICAgfVxyXG5cclxuICAgIHQgPSBuZXcgQ3RvcigwLjAzMTI1KTtcclxuXHJcbiAgICAvLyB3aGlsZSBhYnMoeCkgPj0gMC4xXHJcbiAgICB3aGlsZSAoeC5lID4gLTIpIHtcclxuXHJcbiAgICAgIC8vIHggPSB4IC8gMl41XHJcbiAgICAgIHggPSB4LnRpbWVzKHQpO1xyXG4gICAgICBrICs9IDU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIDIgKiBsb2cxMCgyXmspICsgNSAoZW1waXJpY2FsbHkgZGVyaXZlZCkgdG8gZXN0aW1hdGUgdGhlIGluY3JlYXNlIGluIHByZWNpc2lvblxyXG4gICAgLy8gbmVjZXNzYXJ5IHRvIGVuc3VyZSB0aGUgZmlyc3QgNCByb3VuZGluZyBkaWdpdHMgYXJlIGNvcnJlY3QuXHJcbiAgICBndWFyZCA9IE1hdGgubG9nKG1hdGhwb3coMiwgaykpIC8gTWF0aC5MTjEwICogMiArIDUgfCAwO1xyXG4gICAgd3ByICs9IGd1YXJkO1xyXG4gICAgZGVub21pbmF0b3IgPSBwb3cgPSBzdW0gPSBuZXcgQ3RvcigxKTtcclxuICAgIEN0b3IucHJlY2lzaW9uID0gd3ByO1xyXG5cclxuICAgIGZvciAoOzspIHtcclxuICAgICAgcG93ID0gZmluYWxpc2UocG93LnRpbWVzKHgpLCB3cHIsIDEpO1xyXG4gICAgICBkZW5vbWluYXRvciA9IGRlbm9taW5hdG9yLnRpbWVzKCsraSk7XHJcbiAgICAgIHQgPSBzdW0ucGx1cyhkaXZpZGUocG93LCBkZW5vbWluYXRvciwgd3ByLCAxKSk7XHJcblxyXG4gICAgICBpZiAoZGlnaXRzVG9TdHJpbmcodC5kKS5zbGljZSgwLCB3cHIpID09PSBkaWdpdHNUb1N0cmluZyhzdW0uZCkuc2xpY2UoMCwgd3ByKSkge1xyXG4gICAgICAgIGogPSBrO1xyXG4gICAgICAgIHdoaWxlIChqLS0pIHN1bSA9IGZpbmFsaXNlKHN1bS50aW1lcyhzdW0pLCB3cHIsIDEpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIGFyZSBbNDldOTk5LlxyXG4gICAgICAgIC8vIElmIHNvLCByZXBlYXQgdGhlIHN1bW1hdGlvbiB3aXRoIGEgaGlnaGVyIHByZWNpc2lvbiwgb3RoZXJ3aXNlXHJcbiAgICAgICAgLy8gZS5nLiB3aXRoIHByZWNpc2lvbjogMTgsIHJvdW5kaW5nOiAxXHJcbiAgICAgICAgLy8gZXhwKDE4LjQwNDI3MjQ2MjU5NTAzNDA4MzU2Nzc5MzkxOTg0Mzc2MSkgPSA5ODM3MjU2MC4xMjI5OTk5OTk5IChzaG91bGQgYmUgOTgzNzI1NjAuMTIzKVxyXG4gICAgICAgIC8vIGB3cHIgLSBndWFyZGAgaXMgdGhlIGluZGV4IG9mIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgIGlmIChzZCA9PSBudWxsKSB7XHJcblxyXG4gICAgICAgICAgaWYgKHJlcCA8IDMgJiYgY2hlY2tSb3VuZGluZ0RpZ2l0cyhzdW0uZCwgd3ByIC0gZ3VhcmQsIHJtLCByZXApKSB7XHJcbiAgICAgICAgICAgIEN0b3IucHJlY2lzaW9uID0gd3ByICs9IDEwO1xyXG4gICAgICAgICAgICBkZW5vbWluYXRvciA9IHBvdyA9IHQgPSBuZXcgQ3RvcigxKTtcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgICAgIHJlcCsrO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbmFsaXNlKHN1bSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgICAgICByZXR1cm4gc3VtO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc3VtID0gdDtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBgeGAgcm91bmRlZCB0byBgc2RgIHNpZ25pZmljYW50XHJcbiAgICogZGlnaXRzLlxyXG4gICAqXHJcbiAgICogIGxuKC1uKSAgICAgICAgPSBOYU5cclxuICAgKiAgbG4oMCkgICAgICAgICA9IC1JbmZpbml0eVxyXG4gICAqICBsbigtMCkgICAgICAgID0gLUluZmluaXR5XHJcbiAgICogIGxuKDEpICAgICAgICAgPSAwXHJcbiAgICogIGxuKEluZmluaXR5KSAgPSBJbmZpbml0eVxyXG4gICAqICBsbigtSW5maW5pdHkpID0gTmFOXHJcbiAgICogIGxuKE5hTikgICAgICAgPSBOYU5cclxuICAgKlxyXG4gICAqICBsbihuKSAobiAhPSAxKSBpcyBub24tdGVybWluYXRpbmcuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBuYXR1cmFsTG9nYXJpdGhtKHksIHNkKSB7XHJcbiAgICB2YXIgYywgYzAsIGRlbm9taW5hdG9yLCBlLCBudW1lcmF0b3IsIHJlcCwgc3VtLCB0LCB3cHIsIHgxLCB4MixcclxuICAgICAgbiA9IDEsXHJcbiAgICAgIGd1YXJkID0gMTAsXHJcbiAgICAgIHggPSB5LFxyXG4gICAgICB4ZCA9IHguZCxcclxuICAgICAgQ3RvciA9IHguY29uc3RydWN0b3IsXHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZyxcclxuICAgICAgcHIgPSBDdG9yLnByZWNpc2lvbjtcclxuXHJcbiAgICAvLyBJcyB4IG5lZ2F0aXZlIG9yIEluZmluaXR5LCBOYU4sIDAgb3IgMT9cclxuICAgIGlmICh4LnMgPCAwIHx8ICF4ZCB8fCAheGRbMF0gfHwgIXguZSAmJiB4ZFswXSA9PSAxICYmIHhkLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgIHJldHVybiBuZXcgQ3Rvcih4ZCAmJiAheGRbMF0gPyAtMSAvIDAgOiB4LnMgIT0gMSA/IE5hTiA6IHhkID8gMCA6IHgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzZCA9PSBudWxsKSB7XHJcbiAgICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICAgIHdwciA9IHByO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd3ByID0gc2Q7XHJcbiAgICB9XHJcblxyXG4gICAgQ3Rvci5wcmVjaXNpb24gPSB3cHIgKz0gZ3VhcmQ7XHJcbiAgICBjID0gZGlnaXRzVG9TdHJpbmcoeGQpO1xyXG4gICAgYzAgPSBjLmNoYXJBdCgwKTtcclxuXHJcbiAgICBpZiAoTWF0aC5hYnMoZSA9IHguZSkgPCAxLjVlMTUpIHtcclxuXHJcbiAgICAgIC8vIEFyZ3VtZW50IHJlZHVjdGlvbi5cclxuICAgICAgLy8gVGhlIHNlcmllcyBjb252ZXJnZXMgZmFzdGVyIHRoZSBjbG9zZXIgdGhlIGFyZ3VtZW50IGlzIHRvIDEsIHNvIHVzaW5nXHJcbiAgICAgIC8vIGxuKGFeYikgPSBiICogbG4oYSksICAgbG4oYSkgPSBsbihhXmIpIC8gYlxyXG4gICAgICAvLyBtdWx0aXBseSB0aGUgYXJndW1lbnQgYnkgaXRzZWxmIHVudGlsIHRoZSBsZWFkaW5nIGRpZ2l0cyBvZiB0aGUgc2lnbmlmaWNhbmQgYXJlIDcsIDgsIDksXHJcbiAgICAgIC8vIDEwLCAxMSwgMTIgb3IgMTMsIHJlY29yZGluZyB0aGUgbnVtYmVyIG9mIG11bHRpcGxpY2F0aW9ucyBzbyB0aGUgc3VtIG9mIHRoZSBzZXJpZXMgY2FuXHJcbiAgICAgIC8vIGxhdGVyIGJlIGRpdmlkZWQgYnkgdGhpcyBudW1iZXIsIHRoZW4gc2VwYXJhdGUgb3V0IHRoZSBwb3dlciBvZiAxMCB1c2luZ1xyXG4gICAgICAvLyBsbihhKjEwXmIpID0gbG4oYSkgKyBiKmxuKDEwKS5cclxuXHJcbiAgICAgIC8vIG1heCBuIGlzIDIxIChnaXZlcyAwLjksIDEuMCBvciAxLjEpICg5ZTE1IC8gMjEgPSA0LjJlMTQpLlxyXG4gICAgICAvL3doaWxlIChjMCA8IDkgJiYgYzAgIT0gMSB8fCBjMCA9PSAxICYmIGMuY2hhckF0KDEpID4gMSkge1xyXG4gICAgICAvLyBtYXggbiBpcyA2IChnaXZlcyAwLjcgLSAxLjMpXHJcbiAgICAgIHdoaWxlIChjMCA8IDcgJiYgYzAgIT0gMSB8fCBjMCA9PSAxICYmIGMuY2hhckF0KDEpID4gMykge1xyXG4gICAgICAgIHggPSB4LnRpbWVzKHkpO1xyXG4gICAgICAgIGMgPSBkaWdpdHNUb1N0cmluZyh4LmQpO1xyXG4gICAgICAgIGMwID0gYy5jaGFyQXQoMCk7XHJcbiAgICAgICAgbisrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlID0geC5lO1xyXG5cclxuICAgICAgaWYgKGMwID4gMSkge1xyXG4gICAgICAgIHggPSBuZXcgQ3RvcignMC4nICsgYyk7XHJcbiAgICAgICAgZSsrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHggPSBuZXcgQ3RvcihjMCArICcuJyArIGMuc2xpY2UoMSkpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gVGhlIGFyZ3VtZW50IHJlZHVjdGlvbiBtZXRob2QgYWJvdmUgbWF5IHJlc3VsdCBpbiBvdmVyZmxvdyBpZiB0aGUgYXJndW1lbnQgeSBpcyBhIG1hc3NpdmVcclxuICAgICAgLy8gbnVtYmVyIHdpdGggZXhwb25lbnQgPj0gMTUwMDAwMDAwMDAwMDAwMCAoOWUxNSAvIDYgPSAxLjVlMTUpLCBzbyBpbnN0ZWFkIHJlY2FsbCB0aGlzXHJcbiAgICAgIC8vIGZ1bmN0aW9uIHVzaW5nIGxuKHgqMTBeZSkgPSBsbih4KSArIGUqbG4oMTApLlxyXG4gICAgICB0ID0gZ2V0TG4xMChDdG9yLCB3cHIgKyAyLCBwcikudGltZXMoZSArICcnKTtcclxuICAgICAgeCA9IG5hdHVyYWxMb2dhcml0aG0obmV3IEN0b3IoYzAgKyAnLicgKyBjLnNsaWNlKDEpKSwgd3ByIC0gZ3VhcmQpLnBsdXModCk7XHJcbiAgICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcblxyXG4gICAgICByZXR1cm4gc2QgPT0gbnVsbCA/IGZpbmFsaXNlKHgsIHByLCBybSwgZXh0ZXJuYWwgPSB0cnVlKSA6IHg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8geDEgaXMgeCByZWR1Y2VkIHRvIGEgdmFsdWUgbmVhciAxLlxyXG4gICAgeDEgPSB4O1xyXG5cclxuICAgIC8vIFRheWxvciBzZXJpZXMuXHJcbiAgICAvLyBsbih5KSA9IGxuKCgxICsgeCkvKDEgLSB4KSkgPSAyKHggKyB4XjMvMyArIHheNS81ICsgeF43LzcgKyAuLi4pXHJcbiAgICAvLyB3aGVyZSB4ID0gKHkgLSAxKS8oeSArIDEpICAgICh8eHwgPCAxKVxyXG4gICAgc3VtID0gbnVtZXJhdG9yID0geCA9IGRpdmlkZSh4Lm1pbnVzKDEpLCB4LnBsdXMoMSksIHdwciwgMSk7XHJcbiAgICB4MiA9IGZpbmFsaXNlKHgudGltZXMoeCksIHdwciwgMSk7XHJcbiAgICBkZW5vbWluYXRvciA9IDM7XHJcblxyXG4gICAgZm9yICg7Oykge1xyXG4gICAgICBudW1lcmF0b3IgPSBmaW5hbGlzZShudW1lcmF0b3IudGltZXMoeDIpLCB3cHIsIDEpO1xyXG4gICAgICB0ID0gc3VtLnBsdXMoZGl2aWRlKG51bWVyYXRvciwgbmV3IEN0b3IoZGVub21pbmF0b3IpLCB3cHIsIDEpKTtcclxuXHJcbiAgICAgIGlmIChkaWdpdHNUb1N0cmluZyh0LmQpLnNsaWNlKDAsIHdwcikgPT09IGRpZ2l0c1RvU3RyaW5nKHN1bS5kKS5zbGljZSgwLCB3cHIpKSB7XHJcbiAgICAgICAgc3VtID0gc3VtLnRpbWVzKDIpO1xyXG5cclxuICAgICAgICAvLyBSZXZlcnNlIHRoZSBhcmd1bWVudCByZWR1Y3Rpb24uIENoZWNrIHRoYXQgZSBpcyBub3QgMCBiZWNhdXNlLCBiZXNpZGVzIHByZXZlbnRpbmcgYW5cclxuICAgICAgICAvLyB1bm5lY2Vzc2FyeSBjYWxjdWxhdGlvbiwgLTAgKyAwID0gKzAgYW5kIHRvIGVuc3VyZSBjb3JyZWN0IHJvdW5kaW5nIC0wIG5lZWRzIHRvIHN0YXkgLTAuXHJcbiAgICAgICAgaWYgKGUgIT09IDApIHN1bSA9IHN1bS5wbHVzKGdldExuMTAoQ3Rvciwgd3ByICsgMiwgcHIpLnRpbWVzKGUgKyAnJykpO1xyXG4gICAgICAgIHN1bSA9IGRpdmlkZShzdW0sIG5ldyBDdG9yKG4pLCB3cHIsIDEpO1xyXG5cclxuICAgICAgICAvLyBJcyBybSA+IDMgYW5kIHRoZSBmaXJzdCA0IHJvdW5kaW5nIGRpZ2l0cyA0OTk5LCBvciBybSA8IDQgKG9yIHRoZSBzdW1tYXRpb24gaGFzXHJcbiAgICAgICAgLy8gYmVlbiByZXBlYXRlZCBwcmV2aW91c2x5KSBhbmQgdGhlIGZpcnN0IDQgcm91bmRpbmcgZGlnaXRzIDk5OTk/XHJcbiAgICAgICAgLy8gSWYgc28sIHJlc3RhcnQgdGhlIHN1bW1hdGlvbiB3aXRoIGEgaGlnaGVyIHByZWNpc2lvbiwgb3RoZXJ3aXNlXHJcbiAgICAgICAgLy8gZS5nLiB3aXRoIHByZWNpc2lvbjogMTIsIHJvdW5kaW5nOiAxXHJcbiAgICAgICAgLy8gbG4oMTM1NTIwMDI4LjYxMjYwOTE3MTQyNjUzODE1MzMpID0gMTguNzI0NjI5OTk5OSB3aGVuIGl0IHNob3VsZCBiZSAxOC43MjQ2My5cclxuICAgICAgICAvLyBgd3ByIC0gZ3VhcmRgIGlzIHRoZSBpbmRleCBvZiBmaXJzdCByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICBpZiAoc2QgPT0gbnVsbCkge1xyXG4gICAgICAgICAgaWYgKGNoZWNrUm91bmRpbmdEaWdpdHMoc3VtLmQsIHdwciAtIGd1YXJkLCBybSwgcmVwKSkge1xyXG4gICAgICAgICAgICBDdG9yLnByZWNpc2lvbiA9IHdwciArPSBndWFyZDtcclxuICAgICAgICAgICAgdCA9IG51bWVyYXRvciA9IHggPSBkaXZpZGUoeDEubWludXMoMSksIHgxLnBsdXMoMSksIHdwciwgMSk7XHJcbiAgICAgICAgICAgIHgyID0gZmluYWxpc2UoeC50aW1lcyh4KSwgd3ByLCAxKTtcclxuICAgICAgICAgICAgZGVub21pbmF0b3IgPSByZXAgPSAxO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZpbmFsaXNlKHN1bSwgQ3Rvci5wcmVjaXNpb24gPSBwciwgcm0sIGV4dGVybmFsID0gdHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIEN0b3IucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgICAgICByZXR1cm4gc3VtO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc3VtID0gdDtcclxuICAgICAgZGVub21pbmF0b3IgKz0gMjtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvLyDCsUluZmluaXR5LCBOYU4uXHJcbiAgZnVuY3Rpb24gbm9uRmluaXRlVG9TdHJpbmcoeCkge1xyXG4gICAgLy8gVW5zaWduZWQuXHJcbiAgICByZXR1cm4gU3RyaW5nKHgucyAqIHgucyAvIDApO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUGFyc2UgdGhlIHZhbHVlIG9mIGEgbmV3IERlY2ltYWwgYHhgIGZyb20gc3RyaW5nIGBzdHJgLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHBhcnNlRGVjaW1hbCh4LCBzdHIpIHtcclxuICAgIHZhciBlLCBpLCBsZW47XHJcblxyXG4gICAgLy8gRGVjaW1hbCBwb2ludD9cclxuICAgIGlmICgoZSA9IHN0ci5pbmRleE9mKCcuJykpID4gLTEpIHN0ciA9IHN0ci5yZXBsYWNlKCcuJywgJycpO1xyXG5cclxuICAgIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgICBpZiAoKGkgPSBzdHIuc2VhcmNoKC9lL2kpKSA+IDApIHtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSBleHBvbmVudC5cclxuICAgICAgaWYgKGUgPCAwKSBlID0gaTtcclxuICAgICAgZSArPSArc3RyLnNsaWNlKGkgKyAxKTtcclxuICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBpKTtcclxuICAgIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAgIC8vIEludGVnZXIuXHJcbiAgICAgIGUgPSBzdHIubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERldGVybWluZSBsZWFkaW5nIHplcm9zLlxyXG4gICAgZm9yIChpID0gMDsgc3RyLmNoYXJDb2RlQXQoaSkgPT09IDQ4OyBpKyspO1xyXG5cclxuICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAobGVuID0gc3RyLmxlbmd0aDsgc3RyLmNoYXJDb2RlQXQobGVuIC0gMSkgPT09IDQ4OyAtLWxlbik7XHJcbiAgICBzdHIgPSBzdHIuc2xpY2UoaSwgbGVuKTtcclxuXHJcbiAgICBpZiAoc3RyKSB7XHJcbiAgICAgIGxlbiAtPSBpO1xyXG4gICAgICB4LmUgPSBlID0gZSAtIGkgLSAxO1xyXG4gICAgICB4LmQgPSBbXTtcclxuXHJcbiAgICAgIC8vIFRyYW5zZm9ybSBiYXNlXHJcblxyXG4gICAgICAvLyBlIGlzIHRoZSBiYXNlIDEwIGV4cG9uZW50LlxyXG4gICAgICAvLyBpIGlzIHdoZXJlIHRvIHNsaWNlIHN0ciB0byBnZXQgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIGRpZ2l0cyBhcnJheS5cclxuICAgICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgICAgaWYgKGUgPCAwKSBpICs9IExPR19CQVNFO1xyXG5cclxuICAgICAgaWYgKGkgPCBsZW4pIHtcclxuICAgICAgICBpZiAoaSkgeC5kLnB1c2goK3N0ci5zbGljZSgwLCBpKSk7XHJcbiAgICAgICAgZm9yIChsZW4gLT0gTE9HX0JBU0U7IGkgPCBsZW47KSB4LmQucHVzaCgrc3RyLnNsaWNlKGksIGkgKz0gTE9HX0JBU0UpKTtcclxuICAgICAgICBzdHIgPSBzdHIuc2xpY2UoaSk7XHJcbiAgICAgICAgaSA9IExPR19CQVNFIC0gc3RyLmxlbmd0aDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpIC09IGxlbjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZm9yICg7IGktLTspIHN0ciArPSAnMCc7XHJcbiAgICAgIHguZC5wdXNoKCtzdHIpO1xyXG5cclxuICAgICAgaWYgKGV4dGVybmFsKSB7XHJcblxyXG4gICAgICAgIC8vIE92ZXJmbG93P1xyXG4gICAgICAgIGlmICh4LmUgPiB4LmNvbnN0cnVjdG9yLm1heEUpIHtcclxuXHJcbiAgICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgICB4LmUgPSBOYU47XHJcblxyXG4gICAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgICB9IGVsc2UgaWYgKHguZSA8IHguY29uc3RydWN0b3IubWluRSkge1xyXG5cclxuICAgICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgICAgLy8geC5jb25zdHJ1Y3Rvci51bmRlcmZsb3cgPSB0cnVlO1xyXG4gICAgICAgIH0gLy8gZWxzZSB4LmNvbnN0cnVjdG9yLnVuZGVyZmxvdyA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgLy8gWmVyby5cclxuICAgICAgeC5lID0gMDtcclxuICAgICAgeC5kID0gWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUGFyc2UgdGhlIHZhbHVlIG9mIGEgbmV3IERlY2ltYWwgYHhgIGZyb20gYSBzdHJpbmcgYHN0cmAsIHdoaWNoIGlzIG5vdCBhIGRlY2ltYWwgdmFsdWUuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcGFyc2VPdGhlcih4LCBzdHIpIHtcclxuICAgIHZhciBiYXNlLCBDdG9yLCBkaXZpc29yLCBpLCBpc0Zsb2F0LCBsZW4sIHAsIHhkLCB4ZTtcclxuXHJcbiAgICBpZiAoc3RyLmluZGV4T2YoJ18nKSA+IC0xKSB7XHJcbiAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKC8oXFxkKV8oPz1cXGQpL2csICckMScpO1xyXG4gICAgICBpZiAoaXNEZWNpbWFsLnRlc3Qoc3RyKSkgcmV0dXJuIHBhcnNlRGVjaW1hbCh4LCBzdHIpO1xyXG4gICAgfSBlbHNlIGlmIChzdHIgPT09ICdJbmZpbml0eScgfHwgc3RyID09PSAnTmFOJykge1xyXG4gICAgICBpZiAoIStzdHIpIHgucyA9IE5hTjtcclxuICAgICAgeC5lID0gTmFOO1xyXG4gICAgICB4LmQgPSBudWxsO1xyXG4gICAgICByZXR1cm4geDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNIZXgudGVzdChzdHIpKSAge1xyXG4gICAgICBiYXNlID0gMTY7XHJcbiAgICAgIHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfSBlbHNlIGlmIChpc0JpbmFyeS50ZXN0KHN0cikpICB7XHJcbiAgICAgIGJhc2UgPSAyO1xyXG4gICAgfSBlbHNlIGlmIChpc09jdGFsLnRlc3Qoc3RyKSkgIHtcclxuICAgICAgYmFzZSA9IDg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBzdHIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElzIHRoZXJlIGEgYmluYXJ5IGV4cG9uZW50IHBhcnQ/XHJcbiAgICBpID0gc3RyLnNlYXJjaCgvcC9pKTtcclxuXHJcbiAgICBpZiAoaSA+IDApIHtcclxuICAgICAgcCA9ICtzdHIuc2xpY2UoaSArIDEpO1xyXG4gICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDIsIGkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3RyID0gc3RyLnNsaWNlKDIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQgYHN0cmAgYXMgYW4gaW50ZWdlciB0aGVuIGRpdmlkZSB0aGUgcmVzdWx0IGJ5IGBiYXNlYCByYWlzZWQgdG8gYSBwb3dlciBzdWNoIHRoYXQgdGhlXHJcbiAgICAvLyBmcmFjdGlvbiBwYXJ0IHdpbGwgYmUgcmVzdG9yZWQuXHJcbiAgICBpID0gc3RyLmluZGV4T2YoJy4nKTtcclxuICAgIGlzRmxvYXQgPSBpID49IDA7XHJcbiAgICBDdG9yID0geC5jb25zdHJ1Y3RvcjtcclxuXHJcbiAgICBpZiAoaXNGbG9hdCkge1xyXG4gICAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgICAgbGVuID0gc3RyLmxlbmd0aDtcclxuICAgICAgaSA9IGxlbiAtIGk7XHJcblxyXG4gICAgICAvLyBsb2dbMTBdKDE2KSA9IDEuMjA0MS4uLiAsIGxvZ1sxMF0oODgpID0gMS45NDQ0Li4uLlxyXG4gICAgICBkaXZpc29yID0gaW50UG93KEN0b3IsIG5ldyBDdG9yKGJhc2UpLCBpLCBpICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIGJhc2UsIEJBU0UpO1xyXG4gICAgeGUgPSB4ZC5sZW5ndGggLSAxO1xyXG5cclxuICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IHhlOyB4ZFtpXSA9PT0gMDsgLS1pKSB4ZC5wb3AoKTtcclxuICAgIGlmIChpIDwgMCkgcmV0dXJuIG5ldyBDdG9yKHgucyAqIDApO1xyXG4gICAgeC5lID0gZ2V0QmFzZTEwRXhwb25lbnQoeGQsIHhlKTtcclxuICAgIHguZCA9IHhkO1xyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBBdCB3aGF0IHByZWNpc2lvbiB0byBwZXJmb3JtIHRoZSBkaXZpc2lvbiB0byBlbnN1cmUgZXhhY3QgY29udmVyc2lvbj9cclxuICAgIC8vIG1heERlY2ltYWxJbnRlZ2VyUGFydERpZ2l0Q291bnQgPSBjZWlsKGxvZ1sxMF0oYikgKiBvdGhlckJhc2VJbnRlZ2VyUGFydERpZ2l0Q291bnQpXHJcbiAgICAvLyBsb2dbMTBdKDIpID0gMC4zMDEwMywgbG9nWzEwXSg4KSA9IDAuOTAzMDksIGxvZ1sxMF0oMTYpID0gMS4yMDQxMlxyXG4gICAgLy8gRS5nLiBjZWlsKDEuMiAqIDMpID0gNCwgc28gdXAgdG8gNCBkZWNpbWFsIGRpZ2l0cyBhcmUgbmVlZGVkIHRvIHJlcHJlc2VudCAzIGhleCBpbnQgZGlnaXRzLlxyXG4gICAgLy8gbWF4RGVjaW1hbEZyYWN0aW9uUGFydERpZ2l0Q291bnQgPSB7SGV4OjR8T2N0OjN8QmluOjF9ICogb3RoZXJCYXNlRnJhY3Rpb25QYXJ0RGlnaXRDb3VudFxyXG4gICAgLy8gVGhlcmVmb3JlIHVzaW5nIDQgKiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBzdHIgd2lsbCBhbHdheXMgYmUgZW5vdWdoLlxyXG4gICAgaWYgKGlzRmxvYXQpIHggPSBkaXZpZGUoeCwgZGl2aXNvciwgbGVuICogNCk7XHJcblxyXG4gICAgLy8gTXVsdGlwbHkgYnkgdGhlIGJpbmFyeSBleHBvbmVudCBwYXJ0IGlmIHByZXNlbnQuXHJcbiAgICBpZiAocCkgeCA9IHgudGltZXMoTWF0aC5hYnMocCkgPCA1NCA/IG1hdGhwb3coMiwgcCkgOiBEZWNpbWFsLnBvdygyLCBwKSk7XHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIHg7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBzaW4oeCkgPSB4IC0geF4zLzMhICsgeF41LzUhIC0gLi4uXHJcbiAgICogfHh8IDwgcGkvMlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc2luZShDdG9yLCB4KSB7XHJcbiAgICB2YXIgayxcclxuICAgICAgbGVuID0geC5kLmxlbmd0aDtcclxuXHJcbiAgICBpZiAobGVuIDwgMykge1xyXG4gICAgICByZXR1cm4geC5pc1plcm8oKSA/IHggOiB0YXlsb3JTZXJpZXMoQ3RvciwgMiwgeCwgeCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXJndW1lbnQgcmVkdWN0aW9uOiBzaW4oNXgpID0gMTYqc2luXjUoeCkgLSAyMCpzaW5eMyh4KSArIDUqc2luKHgpXHJcbiAgICAvLyBpLmUuIHNpbih4KSA9IDE2KnNpbl41KHgvNSkgLSAyMCpzaW5eMyh4LzUpICsgNSpzaW4oeC81KVxyXG4gICAgLy8gYW5kICBzaW4oeCkgPSBzaW4oeC81KSg1ICsgc2luXjIoeC81KSgxNnNpbl4yKHgvNSkgLSAyMCkpXHJcblxyXG4gICAgLy8gRXN0aW1hdGUgdGhlIG9wdGltdW0gbnVtYmVyIG9mIHRpbWVzIHRvIHVzZSB0aGUgYXJndW1lbnQgcmVkdWN0aW9uLlxyXG4gICAgayA9IDEuNCAqIE1hdGguc3FydChsZW4pO1xyXG4gICAgayA9IGsgPiAxNiA/IDE2IDogayB8IDA7XHJcblxyXG4gICAgeCA9IHgudGltZXMoMSAvIHRpbnlQb3coNSwgaykpO1xyXG4gICAgeCA9IHRheWxvclNlcmllcyhDdG9yLCAyLCB4LCB4KTtcclxuXHJcbiAgICAvLyBSZXZlcnNlIGFyZ3VtZW50IHJlZHVjdGlvblxyXG4gICAgdmFyIHNpbjJfeCxcclxuICAgICAgZDUgPSBuZXcgQ3Rvcig1KSxcclxuICAgICAgZDE2ID0gbmV3IEN0b3IoMTYpLFxyXG4gICAgICBkMjAgPSBuZXcgQ3RvcigyMCk7XHJcbiAgICBmb3IgKDsgay0tOykge1xyXG4gICAgICBzaW4yX3ggPSB4LnRpbWVzKHgpO1xyXG4gICAgICB4ID0geC50aW1lcyhkNS5wbHVzKHNpbjJfeC50aW1lcyhkMTYudGltZXMoc2luMl94KS5taW51cyhkMjApKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB4O1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIENhbGN1bGF0ZSBUYXlsb3Igc2VyaWVzIGZvciBgY29zYCwgYGNvc2hgLCBgc2luYCBhbmQgYHNpbmhgLlxyXG4gIGZ1bmN0aW9uIHRheWxvclNlcmllcyhDdG9yLCBuLCB4LCB5LCBpc0h5cGVyYm9saWMpIHtcclxuICAgIHZhciBqLCB0LCB1LCB4MixcclxuICAgICAgaSA9IDEsXHJcbiAgICAgIHByID0gQ3Rvci5wcmVjaXNpb24sXHJcbiAgICAgIGsgPSBNYXRoLmNlaWwocHIgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgZXh0ZXJuYWwgPSBmYWxzZTtcclxuICAgIHgyID0geC50aW1lcyh4KTtcclxuICAgIHUgPSBuZXcgQ3Rvcih5KTtcclxuXHJcbiAgICBmb3IgKDs7KSB7XHJcbiAgICAgIHQgPSBkaXZpZGUodS50aW1lcyh4MiksIG5ldyBDdG9yKG4rKyAqIG4rKyksIHByLCAxKTtcclxuICAgICAgdSA9IGlzSHlwZXJib2xpYyA/IHkucGx1cyh0KSA6IHkubWludXModCk7XHJcbiAgICAgIHkgPSBkaXZpZGUodC50aW1lcyh4MiksIG5ldyBDdG9yKG4rKyAqIG4rKyksIHByLCAxKTtcclxuICAgICAgdCA9IHUucGx1cyh5KTtcclxuXHJcbiAgICAgIGlmICh0LmRba10gIT09IHZvaWQgMCkge1xyXG4gICAgICAgIGZvciAoaiA9IGs7IHQuZFtqXSA9PT0gdS5kW2pdICYmIGotLTspO1xyXG4gICAgICAgIGlmIChqID09IC0xKSBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgaiA9IHU7XHJcbiAgICAgIHUgPSB5O1xyXG4gICAgICB5ID0gdDtcclxuICAgICAgdCA9IGo7XHJcbiAgICAgIGkrKztcclxuICAgIH1cclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcbiAgICB0LmQubGVuZ3RoID0gayArIDE7XHJcblxyXG4gICAgcmV0dXJuIHQ7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gRXhwb25lbnQgZSBtdXN0IGJlIHBvc2l0aXZlIGFuZCBub24temVyby5cclxuICBmdW5jdGlvbiB0aW55UG93KGIsIGUpIHtcclxuICAgIHZhciBuID0gYjtcclxuICAgIHdoaWxlICgtLWUpIG4gKj0gYjtcclxuICAgIHJldHVybiBuO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIFJldHVybiB0aGUgYWJzb2x1dGUgdmFsdWUgb2YgYHhgIHJlZHVjZWQgdG8gbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGhhbGYgcGkuXHJcbiAgZnVuY3Rpb24gdG9MZXNzVGhhbkhhbGZQaShDdG9yLCB4KSB7XHJcbiAgICB2YXIgdCxcclxuICAgICAgaXNOZWcgPSB4LnMgPCAwLFxyXG4gICAgICBwaSA9IGdldFBpKEN0b3IsIEN0b3IucHJlY2lzaW9uLCAxKSxcclxuICAgICAgaGFsZlBpID0gcGkudGltZXMoMC41KTtcclxuXHJcbiAgICB4ID0geC5hYnMoKTtcclxuXHJcbiAgICBpZiAoeC5sdGUoaGFsZlBpKSkge1xyXG4gICAgICBxdWFkcmFudCA9IGlzTmVnID8gNCA6IDE7XHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuICAgIHQgPSB4LmRpdlRvSW50KHBpKTtcclxuXHJcbiAgICBpZiAodC5pc1plcm8oKSkge1xyXG4gICAgICBxdWFkcmFudCA9IGlzTmVnID8gMyA6IDI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB4ID0geC5taW51cyh0LnRpbWVzKHBpKSk7XHJcblxyXG4gICAgICAvLyAwIDw9IHggPCBwaVxyXG4gICAgICBpZiAoeC5sdGUoaGFsZlBpKSkge1xyXG4gICAgICAgIHF1YWRyYW50ID0gaXNPZGQodCkgPyAoaXNOZWcgPyAyIDogMykgOiAoaXNOZWcgPyA0IDogMSk7XHJcbiAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHF1YWRyYW50ID0gaXNPZGQodCkgPyAoaXNOZWcgPyAxIDogNCkgOiAoaXNOZWcgPyAzIDogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHgubWludXMocGkpLmFicygpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiBEZWNpbWFsIGB4YCBhcyBhIHN0cmluZyBpbiBiYXNlIGBiYXNlT3V0YC5cclxuICAgKlxyXG4gICAqIElmIHRoZSBvcHRpb25hbCBgc2RgIGFyZ3VtZW50IGlzIHByZXNlbnQgaW5jbHVkZSBhIGJpbmFyeSBleHBvbmVudCBzdWZmaXguXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdG9TdHJpbmdCaW5hcnkoeCwgYmFzZU91dCwgc2QsIHJtKSB7XHJcbiAgICB2YXIgYmFzZSwgZSwgaSwgaywgbGVuLCByb3VuZFVwLCBzdHIsIHhkLCB5LFxyXG4gICAgICBDdG9yID0geC5jb25zdHJ1Y3RvcixcclxuICAgICAgaXNFeHAgPSBzZCAhPT0gdm9pZCAwO1xyXG5cclxuICAgIGlmIChpc0V4cCkge1xyXG4gICAgICBjaGVja0ludDMyKHNkLCAxLCBNQVhfRElHSVRTKTtcclxuICAgICAgaWYgKHJtID09PSB2b2lkIDApIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgICAgZWxzZSBjaGVja0ludDMyKHJtLCAwLCA4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNkID0gQ3Rvci5wcmVjaXNpb247XHJcbiAgICAgIHJtID0gQ3Rvci5yb3VuZGluZztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXguaXNGaW5pdGUoKSkge1xyXG4gICAgICBzdHIgPSBub25GaW5pdGVUb1N0cmluZyh4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN0ciA9IGZpbml0ZVRvU3RyaW5nKHgpO1xyXG4gICAgICBpID0gc3RyLmluZGV4T2YoJy4nKTtcclxuXHJcbiAgICAgIC8vIFVzZSBleHBvbmVudGlhbCBub3RhdGlvbiBhY2NvcmRpbmcgdG8gYHRvRXhwUG9zYCBhbmQgYHRvRXhwTmVnYD8gTm8sIGJ1dCBpZiByZXF1aXJlZDpcclxuICAgICAgLy8gbWF4QmluYXJ5RXhwb25lbnQgPSBmbG9vcigoZGVjaW1hbEV4cG9uZW50ICsgMSkgKiBsb2dbMl0oMTApKVxyXG4gICAgICAvLyBtaW5CaW5hcnlFeHBvbmVudCA9IGZsb29yKGRlY2ltYWxFeHBvbmVudCAqIGxvZ1syXSgxMCkpXHJcbiAgICAgIC8vIGxvZ1syXSgxMCkgPSAzLjMyMTkyODA5NDg4NzM2MjM0Nzg3MDMxOTQyOTQ4OTM5MDE3NTg2NFxyXG5cclxuICAgICAgaWYgKGlzRXhwKSB7XHJcbiAgICAgICAgYmFzZSA9IDI7XHJcbiAgICAgICAgaWYgKGJhc2VPdXQgPT0gMTYpIHtcclxuICAgICAgICAgIHNkID0gc2QgKiA0IC0gMztcclxuICAgICAgICB9IGVsc2UgaWYgKGJhc2VPdXQgPT0gOCkge1xyXG4gICAgICAgICAgc2QgPSBzZCAqIDMgLSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBiYXNlID0gYmFzZU91dDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29udmVydCB0aGUgbnVtYmVyIGFzIGFuIGludGVnZXIgdGhlbiBkaXZpZGUgdGhlIHJlc3VsdCBieSBpdHMgYmFzZSByYWlzZWQgdG8gYSBwb3dlciBzdWNoXHJcbiAgICAgIC8vIHRoYXQgdGhlIGZyYWN0aW9uIHBhcnQgd2lsbCBiZSByZXN0b3JlZC5cclxuXHJcbiAgICAgIC8vIE5vbi1pbnRlZ2VyLlxyXG4gICAgICBpZiAoaSA+PSAwKSB7XHJcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICAgICAgeSA9IG5ldyBDdG9yKDEpO1xyXG4gICAgICAgIHkuZSA9IHN0ci5sZW5ndGggLSBpO1xyXG4gICAgICAgIHkuZCA9IGNvbnZlcnRCYXNlKGZpbml0ZVRvU3RyaW5nKHkpLCAxMCwgYmFzZSk7XHJcbiAgICAgICAgeS5lID0geS5kLmxlbmd0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGQgPSBjb252ZXJ0QmFzZShzdHIsIDEwLCBiYXNlKTtcclxuICAgICAgZSA9IGxlbiA9IHhkLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yICg7IHhkWy0tbGVuXSA9PSAwOykgeGQucG9wKCk7XHJcblxyXG4gICAgICBpZiAoIXhkWzBdKSB7XHJcbiAgICAgICAgc3RyID0gaXNFeHAgPyAnMHArMCcgOiAnMCc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgICBlLS07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHggPSBuZXcgQ3Rvcih4KTtcclxuICAgICAgICAgIHguZCA9IHhkO1xyXG4gICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgIHggPSBkaXZpZGUoeCwgeSwgc2QsIHJtLCAwLCBiYXNlKTtcclxuICAgICAgICAgIHhkID0geC5kO1xyXG4gICAgICAgICAgZSA9IHguZTtcclxuICAgICAgICAgIHJvdW5kVXAgPSBpbmV4YWN0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVGhlIHJvdW5kaW5nIGRpZ2l0LCBpLmUuIHRoZSBkaWdpdCBhZnRlciB0aGUgZGlnaXQgdGhhdCBtYXkgYmUgcm91bmRlZCB1cC5cclxuICAgICAgICBpID0geGRbc2RdO1xyXG4gICAgICAgIGsgPSBiYXNlIC8gMjtcclxuICAgICAgICByb3VuZFVwID0gcm91bmRVcCB8fCB4ZFtzZCArIDFdICE9PSB2b2lkIDA7XHJcblxyXG4gICAgICAgIHJvdW5kVXAgPSBybSA8IDRcclxuICAgICAgICAgID8gKGkgIT09IHZvaWQgMCB8fCByb3VuZFVwKSAmJiAocm0gPT09IDAgfHwgcm0gPT09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICAgICAgOiBpID4gayB8fCBpID09PSBrICYmIChybSA9PT0gNCB8fCByb3VuZFVwIHx8IHJtID09PSA2ICYmIHhkW3NkIC0gMV0gJiAxIHx8XHJcbiAgICAgICAgICAgIHJtID09PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICAgIHhkLmxlbmd0aCA9IHNkO1xyXG5cclxuICAgICAgICBpZiAocm91bmRVcCkge1xyXG5cclxuICAgICAgICAgIC8vIFJvdW5kaW5nIHVwIG1heSBtZWFuIHRoZSBwcmV2aW91cyBkaWdpdCBoYXMgdG8gYmUgcm91bmRlZCB1cCBhbmQgc28gb24uXHJcbiAgICAgICAgICBmb3IgKDsgKyt4ZFstLXNkXSA+IGJhc2UgLSAxOykge1xyXG4gICAgICAgICAgICB4ZFtzZF0gPSAwO1xyXG4gICAgICAgICAgICBpZiAoIXNkKSB7XHJcbiAgICAgICAgICAgICAgKytlO1xyXG4gICAgICAgICAgICAgIHhkLnVuc2hpZnQoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKGxlbiA9IHhkLmxlbmd0aDsgIXhkW2xlbiAtIDFdOyAtLWxlbik7XHJcblxyXG4gICAgICAgIC8vIEUuZy4gWzQsIDExLCAxNV0gYmVjb21lcyA0YmYuXHJcbiAgICAgICAgZm9yIChpID0gMCwgc3RyID0gJyc7IGkgPCBsZW47IGkrKykgc3RyICs9IE5VTUVSQUxTLmNoYXJBdCh4ZFtpXSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBiaW5hcnkgZXhwb25lbnQgc3VmZml4P1xyXG4gICAgICAgIGlmIChpc0V4cCkge1xyXG4gICAgICAgICAgaWYgKGxlbiA+IDEpIHtcclxuICAgICAgICAgICAgaWYgKGJhc2VPdXQgPT0gMTYgfHwgYmFzZU91dCA9PSA4KSB7XHJcbiAgICAgICAgICAgICAgaSA9IGJhc2VPdXQgPT0gMTYgPyA0IDogMztcclxuICAgICAgICAgICAgICBmb3IgKC0tbGVuOyBsZW4gJSBpOyBsZW4rKykgc3RyICs9ICcwJztcclxuICAgICAgICAgICAgICB4ZCA9IGNvbnZlcnRCYXNlKHN0ciwgYmFzZSwgYmFzZU91dCk7XHJcbiAgICAgICAgICAgICAgZm9yIChsZW4gPSB4ZC5sZW5ndGg7ICF4ZFtsZW4gLSAxXTsgLS1sZW4pO1xyXG5cclxuICAgICAgICAgICAgICAvLyB4ZFswXSB3aWxsIGFsd2F5cyBiZSBiZSAxXHJcbiAgICAgICAgICAgICAgZm9yIChpID0gMSwgc3RyID0gJzEuJzsgaSA8IGxlbjsgaSsrKSBzdHIgKz0gTlVNRVJBTFMuY2hhckF0KHhkW2ldKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzdHIgPSBzdHIuY2hhckF0KDApICsgJy4nICsgc3RyLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc3RyID0gIHN0ciArIChlIDwgMCA/ICdwJyA6ICdwKycpICsgZTtcclxuICAgICAgICB9IGVsc2UgaWYgKGUgPCAwKSB7XHJcbiAgICAgICAgICBmb3IgKDsgKytlOykgc3RyID0gJzAnICsgc3RyO1xyXG4gICAgICAgICAgc3RyID0gJzAuJyArIHN0cjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKCsrZSA+IGxlbikgZm9yIChlIC09IGxlbjsgZS0tIDspIHN0ciArPSAnMCc7XHJcbiAgICAgICAgICBlbHNlIGlmIChlIDwgbGVuKSBzdHIgPSBzdHIuc2xpY2UoMCwgZSkgKyAnLicgKyBzdHIuc2xpY2UoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBzdHIgPSAoYmFzZU91dCA9PSAxNiA/ICcweCcgOiBiYXNlT3V0ID09IDIgPyAnMGInIDogYmFzZU91dCA9PSA4ID8gJzBvJyA6ICcnKSArIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geC5zIDwgMCA/ICctJyArIHN0ciA6IHN0cjtcclxuICB9XHJcblxyXG5cclxuICAvLyBEb2VzIG5vdCBzdHJpcCB0cmFpbGluZyB6ZXJvcy5cclxuICBmdW5jdGlvbiB0cnVuY2F0ZShhcnIsIGxlbikge1xyXG4gICAgaWYgKGFyci5sZW5ndGggPiBsZW4pIHtcclxuICAgICAgYXJyLmxlbmd0aCA9IGxlbjtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gRGVjaW1hbCBtZXRob2RzXHJcblxyXG5cclxuICAvKlxyXG4gICAqICBhYnNcclxuICAgKiAgYWNvc1xyXG4gICAqICBhY29zaFxyXG4gICAqICBhZGRcclxuICAgKiAgYXNpblxyXG4gICAqICBhc2luaFxyXG4gICAqICBhdGFuXHJcbiAgICogIGF0YW5oXHJcbiAgICogIGF0YW4yXHJcbiAgICogIGNicnRcclxuICAgKiAgY2VpbFxyXG4gICAqICBjbGFtcFxyXG4gICAqICBjbG9uZVxyXG4gICAqICBjb25maWdcclxuICAgKiAgY29zXHJcbiAgICogIGNvc2hcclxuICAgKiAgZGl2XHJcbiAgICogIGV4cFxyXG4gICAqICBmbG9vclxyXG4gICAqICBoeXBvdFxyXG4gICAqICBsblxyXG4gICAqICBsb2dcclxuICAgKiAgbG9nMlxyXG4gICAqICBsb2cxMFxyXG4gICAqICBtYXhcclxuICAgKiAgbWluXHJcbiAgICogIG1vZFxyXG4gICAqICBtdWxcclxuICAgKiAgcG93XHJcbiAgICogIHJhbmRvbVxyXG4gICAqICByb3VuZFxyXG4gICAqICBzZXRcclxuICAgKiAgc2lnblxyXG4gICAqICBzaW5cclxuICAgKiAgc2luaFxyXG4gICAqICBzcXJ0XHJcbiAgICogIHN1YlxyXG4gICAqICBzdW1cclxuICAgKiAgdGFuXHJcbiAgICogIHRhbmhcclxuICAgKiAgdHJ1bmNcclxuICAgKi9cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIGB4YC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFicyh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuYWJzKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjY29zaW5lIGluIHJhZGlhbnMgb2YgYHhgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYWNvcyh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuYWNvcygpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0b1xyXG4gICAqIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFjb3NoKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5hY29zaCgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiBgeGAgYW5kIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYWRkKHgsIHkpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5wbHVzKHkpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGFyY3NpbmUgaW4gcmFkaWFucyBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYXNpbih4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuYXNpbigpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGludmVyc2Ugb2YgdGhlIGh5cGVyYm9saWMgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG9cclxuICAgKiBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBhc2luaCh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuYXNpbmgoKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBhcmN0YW5nZW50IGluIHJhZGlhbnMgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGF0YW4oeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmF0YW4oKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBpbnZlcnNlIG9mIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvXHJcbiAgICogYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYXRhbmgoeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmF0YW5oKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYXJjdGFuZ2VudCBpbiByYWRpYW5zIG9mIGB5L3hgIGluIHRoZSByYW5nZSAtcGkgdG8gcGlcclxuICAgKiAoaW5jbHVzaXZlKSwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogRG9tYWluOiBbLUluZmluaXR5LCBJbmZpbml0eV1cclxuICAgKiBSYW5nZTogWy1waSwgcGldXHJcbiAgICpcclxuICAgKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSB5LWNvb3JkaW5hdGUuXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgeC1jb29yZGluYXRlLlxyXG4gICAqXHJcbiAgICogYXRhbjIowrEwLCAtMCkgICAgICAgICAgICAgICA9IMKxcGlcclxuICAgKiBhdGFuMijCsTAsICswKSAgICAgICAgICAgICAgID0gwrEwXHJcbiAgICogYXRhbjIowrEwLCAteCkgICAgICAgICAgICAgICA9IMKxcGkgZm9yIHggPiAwXHJcbiAgICogYXRhbjIowrEwLCB4KSAgICAgICAgICAgICAgICA9IMKxMCBmb3IgeCA+IDBcclxuICAgKiBhdGFuMigteSwgwrEwKSAgICAgICAgICAgICAgID0gLXBpLzIgZm9yIHkgPiAwXHJcbiAgICogYXRhbjIoeSwgwrEwKSAgICAgICAgICAgICAgICA9IHBpLzIgZm9yIHkgPiAwXHJcbiAgICogYXRhbjIowrF5LCAtSW5maW5pdHkpICAgICAgICA9IMKxcGkgZm9yIGZpbml0ZSB5ID4gMFxyXG4gICAqIGF0YW4yKMKxeSwgK0luZmluaXR5KSAgICAgICAgPSDCsTAgZm9yIGZpbml0ZSB5ID4gMFxyXG4gICAqIGF0YW4yKMKxSW5maW5pdHksIHgpICAgICAgICAgPSDCsXBpLzIgZm9yIGZpbml0ZSB4XHJcbiAgICogYXRhbjIowrFJbmZpbml0eSwgLUluZmluaXR5KSA9IMKxMypwaS80XHJcbiAgICogYXRhbjIowrFJbmZpbml0eSwgK0luZmluaXR5KSA9IMKxcGkvNFxyXG4gICAqIGF0YW4yKE5hTiwgeCkgPSBOYU5cclxuICAgKiBhdGFuMih5LCBOYU4pID0gTmFOXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBhdGFuMih5LCB4KSB7XHJcbiAgICB5ID0gbmV3IHRoaXMoeSk7XHJcbiAgICB4ID0gbmV3IHRoaXMoeCk7XHJcbiAgICB2YXIgcixcclxuICAgICAgcHIgPSB0aGlzLnByZWNpc2lvbixcclxuICAgICAgcm0gPSB0aGlzLnJvdW5kaW5nLFxyXG4gICAgICB3cHIgPSBwciArIDQ7XHJcblxyXG4gICAgLy8gRWl0aGVyIE5hTlxyXG4gICAgaWYgKCF5LnMgfHwgIXgucykge1xyXG4gICAgICByID0gbmV3IHRoaXMoTmFOKTtcclxuXHJcbiAgICAvLyBCb3RoIMKxSW5maW5pdHlcclxuICAgIH0gZWxzZSBpZiAoIXkuZCAmJiAheC5kKSB7XHJcbiAgICAgIHIgPSBnZXRQaSh0aGlzLCB3cHIsIDEpLnRpbWVzKHgucyA+IDAgPyAwLjI1IDogMC43NSk7XHJcbiAgICAgIHIucyA9IHkucztcclxuXHJcbiAgICAvLyB4IGlzIMKxSW5maW5pdHkgb3IgeSBpcyDCsTBcclxuICAgIH0gZWxzZSBpZiAoIXguZCB8fCB5LmlzWmVybygpKSB7XHJcbiAgICAgIHIgPSB4LnMgPCAwID8gZ2V0UGkodGhpcywgcHIsIHJtKSA6IG5ldyB0aGlzKDApO1xyXG4gICAgICByLnMgPSB5LnM7XHJcblxyXG4gICAgLy8geSBpcyDCsUluZmluaXR5IG9yIHggaXMgwrEwXHJcbiAgICB9IGVsc2UgaWYgKCF5LmQgfHwgeC5pc1plcm8oKSkge1xyXG4gICAgICByID0gZ2V0UGkodGhpcywgd3ByLCAxKS50aW1lcygwLjUpO1xyXG4gICAgICByLnMgPSB5LnM7XHJcblxyXG4gICAgLy8gQm90aCBub24temVybyBhbmQgZmluaXRlXHJcbiAgICB9IGVsc2UgaWYgKHgucyA8IDApIHtcclxuICAgICAgdGhpcy5wcmVjaXNpb24gPSB3cHI7XHJcbiAgICAgIHRoaXMucm91bmRpbmcgPSAxO1xyXG4gICAgICByID0gdGhpcy5hdGFuKGRpdmlkZSh5LCB4LCB3cHIsIDEpKTtcclxuICAgICAgeCA9IGdldFBpKHRoaXMsIHdwciwgMSk7XHJcbiAgICAgIHRoaXMucHJlY2lzaW9uID0gcHI7XHJcbiAgICAgIHRoaXMucm91bmRpbmcgPSBybTtcclxuICAgICAgciA9IHkucyA8IDAgPyByLm1pbnVzKHgpIDogci5wbHVzKHgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgciA9IHRoaXMuYXRhbihkaXZpZGUoeSwgeCwgd3ByLCAxKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY3ViZSByb290IG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBjYnJ0KHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5jYnJ0KCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcm91bmRlZCB0byBhbiBpbnRlZ2VyIHVzaW5nIGBST1VORF9DRUlMYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNlaWwoeCkge1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgMik7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgY2xhbXBlZCB0byB0aGUgcmFuZ2UgZGVsaW5lYXRlZCBieSBgbWluYCBhbmQgYG1heGAuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICogbWluIHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICogbWF4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBjbGFtcCh4LCBtaW4sIG1heCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmNsYW1wKG1pbiwgbWF4KTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIENvbmZpZ3VyZSBnbG9iYWwgc2V0dGluZ3MgZm9yIGEgRGVjaW1hbCBjb25zdHJ1Y3Rvci5cclxuICAgKlxyXG4gICAqIGBvYmpgIGlzIGFuIG9iamVjdCB3aXRoIG9uZSBvciBtb3JlIG9mIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyxcclxuICAgKlxyXG4gICAqICAgcHJlY2lzaW9uICB7bnVtYmVyfVxyXG4gICAqICAgcm91bmRpbmcgICB7bnVtYmVyfVxyXG4gICAqICAgdG9FeHBOZWcgICB7bnVtYmVyfVxyXG4gICAqICAgdG9FeHBQb3MgICB7bnVtYmVyfVxyXG4gICAqICAgbWF4RSAgICAgICB7bnVtYmVyfVxyXG4gICAqICAgbWluRSAgICAgICB7bnVtYmVyfVxyXG4gICAqICAgbW9kdWxvICAgICB7bnVtYmVyfVxyXG4gICAqICAgY3J5cHRvICAgICB7Ym9vbGVhbnxudW1iZXJ9XHJcbiAgICogICBkZWZhdWx0cyAgIHt0cnVlfVxyXG4gICAqXHJcbiAgICogRS5nLiBEZWNpbWFsLmNvbmZpZyh7IHByZWNpc2lvbjogMjAsIHJvdW5kaW5nOiA0IH0pXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBjb25maWcob2JqKSB7XHJcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JykgdGhyb3cgRXJyb3IoZGVjaW1hbEVycm9yICsgJ09iamVjdCBleHBlY3RlZCcpO1xyXG4gICAgdmFyIGksIHAsIHYsXHJcbiAgICAgIHVzZURlZmF1bHRzID0gb2JqLmRlZmF1bHRzID09PSB0cnVlLFxyXG4gICAgICBwcyA9IFtcclxuICAgICAgICAncHJlY2lzaW9uJywgMSwgTUFYX0RJR0lUUyxcclxuICAgICAgICAncm91bmRpbmcnLCAwLCA4LFxyXG4gICAgICAgICd0b0V4cE5lZycsIC1FWFBfTElNSVQsIDAsXHJcbiAgICAgICAgJ3RvRXhwUG9zJywgMCwgRVhQX0xJTUlULFxyXG4gICAgICAgICdtYXhFJywgMCwgRVhQX0xJTUlULFxyXG4gICAgICAgICdtaW5FJywgLUVYUF9MSU1JVCwgMCxcclxuICAgICAgICAnbW9kdWxvJywgMCwgOVxyXG4gICAgICBdO1xyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCBwcy5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICBpZiAocCA9IHBzW2ldLCB1c2VEZWZhdWx0cykgdGhpc1twXSA9IERFRkFVTFRTW3BdO1xyXG4gICAgICBpZiAoKHYgPSBvYmpbcF0pICE9PSB2b2lkIDApIHtcclxuICAgICAgICBpZiAobWF0aGZsb29yKHYpID09PSB2ICYmIHYgPj0gcHNbaSArIDFdICYmIHYgPD0gcHNbaSArIDJdKSB0aGlzW3BdID0gdjtcclxuICAgICAgICBlbHNlIHRocm93IEVycm9yKGludmFsaWRBcmd1bWVudCArIHAgKyAnOiAnICsgdik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAocCA9ICdjcnlwdG8nLCB1c2VEZWZhdWx0cykgdGhpc1twXSA9IERFRkFVTFRTW3BdO1xyXG4gICAgaWYgKCh2ID0gb2JqW3BdKSAhPT0gdm9pZCAwKSB7XHJcbiAgICAgIGlmICh2ID09PSB0cnVlIHx8IHYgPT09IGZhbHNlIHx8IHYgPT09IDAgfHwgdiA9PT0gMSkge1xyXG4gICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICBpZiAodHlwZW9mIGNyeXB0byAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8gJiZcclxuICAgICAgICAgICAgKGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgfHwgY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xyXG4gICAgICAgICAgICB0aGlzW3BdID0gdHJ1ZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGNyeXB0b1VuYXZhaWxhYmxlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpc1twXSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBFcnJvcihpbnZhbGlkQXJndW1lbnQgKyBwICsgJzogJyArIHYpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgY29zaW5lIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudFxyXG4gICAqIGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNvcyh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuY29zKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgaHlwZXJib2xpYyBjb3NpbmUgb2YgYHhgLCByb3VuZGVkIHRvIHByZWNpc2lvblxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgdmFsdWUgaW4gcmFkaWFucy5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNvc2goeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmNvc2goKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgRGVjaW1hbCBjb25zdHJ1Y3RvciB3aXRoIHRoZSBzYW1lIGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcyBhcyB0aGlzIERlY2ltYWxcclxuICAgKiBjb25zdHJ1Y3Rvci5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNsb25lKG9iaikge1xyXG4gICAgdmFyIGksIHAsIHBzO1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBUaGUgRGVjaW1hbCBjb25zdHJ1Y3RvciBhbmQgZXhwb3J0ZWQgZnVuY3Rpb24uXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiB2IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IEEgbnVtZXJpYyB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIERlY2ltYWwodikge1xyXG4gICAgICB2YXIgZSwgaSwgdCxcclxuICAgICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAgIC8vIERlY2ltYWwgY2FsbGVkIHdpdGhvdXQgbmV3LlxyXG4gICAgICBpZiAoISh4IGluc3RhbmNlb2YgRGVjaW1hbCkpIHJldHVybiBuZXcgRGVjaW1hbCh2KTtcclxuXHJcbiAgICAgIC8vIFJldGFpbiBhIHJlZmVyZW5jZSB0byB0aGlzIERlY2ltYWwgY29uc3RydWN0b3IsIGFuZCBzaGFkb3cgRGVjaW1hbC5wcm90b3R5cGUuY29uc3RydWN0b3JcclxuICAgICAgLy8gd2hpY2ggcG9pbnRzIHRvIE9iamVjdC5cclxuICAgICAgeC5jb25zdHJ1Y3RvciA9IERlY2ltYWw7XHJcblxyXG4gICAgICAvLyBEdXBsaWNhdGUuXHJcbiAgICAgIGlmIChpc0RlY2ltYWxJbnN0YW5jZSh2KSkge1xyXG4gICAgICAgIHgucyA9IHYucztcclxuXHJcbiAgICAgICAgaWYgKGV4dGVybmFsKSB7XHJcbiAgICAgICAgICBpZiAoIXYuZCB8fCB2LmUgPiBEZWNpbWFsLm1heEUpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgICAgICB4LmUgPSBOYU47XHJcbiAgICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHYuZSA8IERlY2ltYWwubWluRSkge1xyXG5cclxuICAgICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgICAgeC5lID0gMDtcclxuICAgICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgICAgICB4LmQgPSB2LmQuc2xpY2UoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5lID0gdi5lO1xyXG4gICAgICAgICAgeC5kID0gdi5kID8gdi5kLnNsaWNlKCkgOiB2LmQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHQgPSB0eXBlb2YgdjtcclxuXHJcbiAgICAgIGlmICh0ID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGlmICh2ID09PSAwKSB7XHJcbiAgICAgICAgICB4LnMgPSAxIC8gdiA8IDAgPyAtMSA6IDE7XHJcbiAgICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgICAgeC5kID0gWzBdO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHYgPCAwKSB7XHJcbiAgICAgICAgICB2ID0gLXY7XHJcbiAgICAgICAgICB4LnMgPSAtMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5zID0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZhc3QgcGF0aCBmb3Igc21hbGwgaW50ZWdlcnMuXHJcbiAgICAgICAgaWYgKHYgPT09IH5+diAmJiB2IDwgMWU3KSB7XHJcbiAgICAgICAgICBmb3IgKGUgPSAwLCBpID0gdjsgaSA+PSAxMDsgaSAvPSAxMCkgZSsrO1xyXG5cclxuICAgICAgICAgIGlmIChleHRlcm5hbCkge1xyXG4gICAgICAgICAgICBpZiAoZSA+IERlY2ltYWwubWF4RSkge1xyXG4gICAgICAgICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICAgICAgICB4LmQgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUgPCBEZWNpbWFsLm1pbkUpIHtcclxuICAgICAgICAgICAgICB4LmUgPSAwO1xyXG4gICAgICAgICAgICAgIHguZCA9IFswXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB4LmUgPSBlO1xyXG4gICAgICAgICAgICAgIHguZCA9IFt2XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgICAgeC5kID0gW3ZdO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gSW5maW5pdHksIE5hTi5cclxuICAgICAgICB9IGVsc2UgaWYgKHYgKiAwICE9PSAwKSB7XHJcbiAgICAgICAgICBpZiAoIXYpIHgucyA9IE5hTjtcclxuICAgICAgICAgIHguZSA9IE5hTjtcclxuICAgICAgICAgIHguZCA9IG51bGw7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcGFyc2VEZWNpbWFsKHgsIHYudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICB9IGVsc2UgaWYgKHQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEFyZ3VtZW50ICsgdik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE1pbnVzIHNpZ24/XHJcbiAgICAgIGlmICgoaSA9IHYuY2hhckNvZGVBdCgwKSkgPT09IDQ1KSB7XHJcbiAgICAgICAgdiA9IHYuc2xpY2UoMSk7XHJcbiAgICAgICAgeC5zID0gLTE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gUGx1cyBzaWduP1xyXG4gICAgICAgIGlmIChpID09PSA0MykgdiA9IHYuc2xpY2UoMSk7XHJcbiAgICAgICAgeC5zID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGlzRGVjaW1hbC50ZXN0KHYpID8gcGFyc2VEZWNpbWFsKHgsIHYpIDogcGFyc2VPdGhlcih4LCB2KTtcclxuICAgIH1cclxuXHJcbiAgICBEZWNpbWFsLnByb3RvdHlwZSA9IFA7XHJcblxyXG4gICAgRGVjaW1hbC5ST1VORF9VUCA9IDA7XHJcbiAgICBEZWNpbWFsLlJPVU5EX0RPV04gPSAxO1xyXG4gICAgRGVjaW1hbC5ST1VORF9DRUlMID0gMjtcclxuICAgIERlY2ltYWwuUk9VTkRfRkxPT1IgPSAzO1xyXG4gICAgRGVjaW1hbC5ST1VORF9IQUxGX1VQID0gNDtcclxuICAgIERlY2ltYWwuUk9VTkRfSEFMRl9ET1dOID0gNTtcclxuICAgIERlY2ltYWwuUk9VTkRfSEFMRl9FVkVOID0gNjtcclxuICAgIERlY2ltYWwuUk9VTkRfSEFMRl9DRUlMID0gNztcclxuICAgIERlY2ltYWwuUk9VTkRfSEFMRl9GTE9PUiA9IDg7XHJcbiAgICBEZWNpbWFsLkVVQ0xJRCA9IDk7XHJcblxyXG4gICAgRGVjaW1hbC5jb25maWcgPSBEZWNpbWFsLnNldCA9IGNvbmZpZztcclxuICAgIERlY2ltYWwuY2xvbmUgPSBjbG9uZTtcclxuICAgIERlY2ltYWwuaXNEZWNpbWFsID0gaXNEZWNpbWFsSW5zdGFuY2U7XHJcblxyXG4gICAgRGVjaW1hbC5hYnMgPSBhYnM7XHJcbiAgICBEZWNpbWFsLmFjb3MgPSBhY29zO1xyXG4gICAgRGVjaW1hbC5hY29zaCA9IGFjb3NoOyAgICAgICAgLy8gRVM2XHJcbiAgICBEZWNpbWFsLmFkZCA9IGFkZDtcclxuICAgIERlY2ltYWwuYXNpbiA9IGFzaW47XHJcbiAgICBEZWNpbWFsLmFzaW5oID0gYXNpbmg7ICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwuYXRhbiA9IGF0YW47XHJcbiAgICBEZWNpbWFsLmF0YW5oID0gYXRhbmg7ICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwuYXRhbjIgPSBhdGFuMjtcclxuICAgIERlY2ltYWwuY2JydCA9IGNicnQ7ICAgICAgICAgIC8vIEVTNlxyXG4gICAgRGVjaW1hbC5jZWlsID0gY2VpbDtcclxuICAgIERlY2ltYWwuY2xhbXAgPSBjbGFtcDtcclxuICAgIERlY2ltYWwuY29zID0gY29zO1xyXG4gICAgRGVjaW1hbC5jb3NoID0gY29zaDsgICAgICAgICAgLy8gRVM2XHJcbiAgICBEZWNpbWFsLmRpdiA9IGRpdjtcclxuICAgIERlY2ltYWwuZXhwID0gZXhwO1xyXG4gICAgRGVjaW1hbC5mbG9vciA9IGZsb29yO1xyXG4gICAgRGVjaW1hbC5oeXBvdCA9IGh5cG90OyAgICAgICAgLy8gRVM2XHJcbiAgICBEZWNpbWFsLmxuID0gbG47XHJcbiAgICBEZWNpbWFsLmxvZyA9IGxvZztcclxuICAgIERlY2ltYWwubG9nMTAgPSBsb2cxMDsgICAgICAgIC8vIEVTNlxyXG4gICAgRGVjaW1hbC5sb2cyID0gbG9nMjsgICAgICAgICAgLy8gRVM2XHJcbiAgICBEZWNpbWFsLm1heCA9IG1heDtcclxuICAgIERlY2ltYWwubWluID0gbWluO1xyXG4gICAgRGVjaW1hbC5tb2QgPSBtb2Q7XHJcbiAgICBEZWNpbWFsLm11bCA9IG11bDtcclxuICAgIERlY2ltYWwucG93ID0gcG93O1xyXG4gICAgRGVjaW1hbC5yYW5kb20gPSByYW5kb207XHJcbiAgICBEZWNpbWFsLnJvdW5kID0gcm91bmQ7XHJcbiAgICBEZWNpbWFsLnNpZ24gPSBzaWduOyAgICAgICAgICAvLyBFUzZcclxuICAgIERlY2ltYWwuc2luID0gc2luO1xyXG4gICAgRGVjaW1hbC5zaW5oID0gc2luaDsgICAgICAgICAgLy8gRVM2XHJcbiAgICBEZWNpbWFsLnNxcnQgPSBzcXJ0O1xyXG4gICAgRGVjaW1hbC5zdWIgPSBzdWI7XHJcbiAgICBEZWNpbWFsLnN1bSA9IHN1bTtcclxuICAgIERlY2ltYWwudGFuID0gdGFuO1xyXG4gICAgRGVjaW1hbC50YW5oID0gdGFuaDsgICAgICAgICAgLy8gRVM2XHJcbiAgICBEZWNpbWFsLnRydW5jID0gdHJ1bmM7ICAgICAgICAvLyBFUzZcclxuXHJcbiAgICBpZiAob2JqID09PSB2b2lkIDApIG9iaiA9IHt9O1xyXG4gICAgaWYgKG9iaikge1xyXG4gICAgICBpZiAob2JqLmRlZmF1bHRzICE9PSB0cnVlKSB7XHJcbiAgICAgICAgcHMgPSBbJ3ByZWNpc2lvbicsICdyb3VuZGluZycsICd0b0V4cE5lZycsICd0b0V4cFBvcycsICdtYXhFJywgJ21pbkUnLCAnbW9kdWxvJywgJ2NyeXB0byddO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcy5sZW5ndGg7KSBpZiAoIW9iai5oYXNPd25Qcm9wZXJ0eShwID0gcHNbaSsrXSkpIG9ialtwXSA9IHRoaXNbcF07XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBEZWNpbWFsLmNvbmZpZyhvYmopO1xyXG5cclxuICAgIHJldHVybiBEZWNpbWFsO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIGRpdmlkZWQgYnkgYHlgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAgICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKiB5IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBkaXYoeCwgeSkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmRpdih5KTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBuYXR1cmFsIGV4cG9uZW50aWFsIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBwb3dlciB0byB3aGljaCB0byByYWlzZSB0aGUgYmFzZSBvZiB0aGUgbmF0dXJhbCBsb2cuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBleHAoeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLmV4cCgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJvdW5kIHRvIGFuIGludGVnZXIgdXNpbmcgYFJPVU5EX0ZMT09SYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZsb29yKHgpIHtcclxuICAgIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIDMpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHNxdWFyZSByb290IG9mIHRoZSBzdW0gb2YgdGhlIHNxdWFyZXMgb2YgdGhlIGFyZ3VtZW50cyxcclxuICAgKiByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiBoeXBvdChhLCBiLCAuLi4pID0gc3FydChhXjIgKyBiXjIgKyAuLi4pXHJcbiAgICpcclxuICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGh5cG90KCkge1xyXG4gICAgdmFyIGksIG4sXHJcbiAgICAgIHQgPSBuZXcgdGhpcygwKTtcclxuXHJcbiAgICBleHRlcm5hbCA9IGZhbHNlO1xyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOykge1xyXG4gICAgICBuID0gbmV3IHRoaXMoYXJndW1lbnRzW2krK10pO1xyXG4gICAgICBpZiAoIW4uZCkge1xyXG4gICAgICAgIGlmIChuLnMpIHtcclxuICAgICAgICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuICAgICAgICAgIHJldHVybiBuZXcgdGhpcygxIC8gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHQgPSBuO1xyXG4gICAgICB9IGVsc2UgaWYgKHQuZCkge1xyXG4gICAgICAgIHQgPSB0LnBsdXMobi50aW1lcyhuKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBleHRlcm5hbCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIHQuc3FydCgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIHRydWUgaWYgb2JqZWN0IGlzIGEgRGVjaW1hbCBpbnN0YW5jZSAod2hlcmUgRGVjaW1hbCBpcyBhbnkgRGVjaW1hbCBjb25zdHJ1Y3RvciksXHJcbiAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzRGVjaW1hbEluc3RhbmNlKG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIERlY2ltYWwgfHwgb2JqICYmIG9iai50b1N0cmluZ1RhZyA9PT0gdGFnIHx8IGZhbHNlO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG5hdHVyYWwgbG9nYXJpdGhtIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBsbih4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkubG4oKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBsb2cgb2YgYHhgIHRvIHRoZSBiYXNlIGB5YCwgb3IgdG8gYmFzZSAxMCBpZiBubyBiYXNlXHJcbiAgICogaXMgc3BlY2lmaWVkLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiBsb2dbeV0oeClcclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGFyZ3VtZW50IG9mIHRoZSBsb2dhcml0aG0uXHJcbiAgICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBUaGUgYmFzZSBvZiB0aGUgbG9nYXJpdGhtLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbG9nKHgsIHkpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5sb2coeSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgYmFzZSAyIGxvZ2FyaXRobSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbG9nMih4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKDIpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGJhc2UgMTAgbG9nYXJpdGhtIG9mIGB4YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYFxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBsb2cxMCh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkubG9nKDEwKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBtYXhpbXVtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAgICpcclxuICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG1heCgpIHtcclxuICAgIHJldHVybiBtYXhPck1pbih0aGlzLCBhcmd1bWVudHMsICdsdCcpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIG1pbmltdW0gb2YgdGhlIGFyZ3VtZW50cy5cclxuICAgKlxyXG4gICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbWluKCkge1xyXG4gICAgcmV0dXJuIG1heE9yTWluKHRoaXMsIGFyZ3VtZW50cywgJ2d0Jyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbW9kdWxvIGB5YCwgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgKiB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9XHJcbiAgICogeSB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbW9kKHgsIHkpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5tb2QoeSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgbXVsdGlwbGllZCBieSBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnRcclxuICAgKiBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIG11bCh4LCB5KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkubXVsKHkpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHJhaXNlZCB0byB0aGUgcG93ZXIgYHlgLCByb3VuZGVkIHRvIHByZWNpc2lvblxyXG4gICAqIHNpZ25pZmljYW50IGRpZ2l0cyB1c2luZyByb3VuZGluZyBtb2RlIGByb3VuZGluZ2AuXHJcbiAgICpcclxuICAgKiB4IHtudW1iZXJ8c3RyaW5nfERlY2ltYWx9IFRoZSBiYXNlLlxyXG4gICAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gVGhlIGV4cG9uZW50LlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcG93KHgsIHkpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5wb3coeSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm5zIGEgbmV3IERlY2ltYWwgd2l0aCBhIHJhbmRvbSB2YWx1ZSBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDEsIGFuZCB3aXRoXHJcbiAgICogYHNkYCwgb3IgYERlY2ltYWwucHJlY2lzaW9uYCBpZiBgc2RgIGlzIG9taXR0ZWQsIHNpZ25pZmljYW50IGRpZ2l0cyAob3IgbGVzcyBpZiB0cmFpbGluZyB6ZXJvc1xyXG4gICAqIGFyZSBwcm9kdWNlZCkuXHJcbiAgICpcclxuICAgKiBbc2RdIHtudW1iZXJ9IFNpZ25pZmljYW50IGRpZ2l0cy4gSW50ZWdlciwgMCB0byBNQVhfRElHSVRTIGluY2x1c2l2ZS5cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHJhbmRvbShzZCkge1xyXG4gICAgdmFyIGQsIGUsIGssIG4sXHJcbiAgICAgIGkgPSAwLFxyXG4gICAgICByID0gbmV3IHRoaXMoMSksXHJcbiAgICAgIHJkID0gW107XHJcblxyXG4gICAgaWYgKHNkID09PSB2b2lkIDApIHNkID0gdGhpcy5wcmVjaXNpb247XHJcbiAgICBlbHNlIGNoZWNrSW50MzIoc2QsIDEsIE1BWF9ESUdJVFMpO1xyXG5cclxuICAgIGsgPSBNYXRoLmNlaWwoc2QgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgaWYgKCF0aGlzLmNyeXB0bykge1xyXG4gICAgICBmb3IgKDsgaSA8IGs7KSByZFtpKytdID0gTWF0aC5yYW5kb20oKSAqIDFlNyB8IDA7XHJcblxyXG4gICAgLy8gQnJvd3NlcnMgc3VwcG9ydGluZyBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLlxyXG4gICAgfSBlbHNlIGlmIChjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XHJcbiAgICAgIGQgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50MzJBcnJheShrKSk7XHJcblxyXG4gICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcbiAgICAgICAgbiA9IGRbaV07XHJcblxyXG4gICAgICAgIC8vIDAgPD0gbiA8IDQyOTQ5NjcyOTZcclxuICAgICAgICAvLyBQcm9iYWJpbGl0eSBuID49IDQuMjllOSwgaXMgNDk2NzI5NiAvIDQyOTQ5NjcyOTYgPSAwLjAwMTE2ICgxIGluIDg2NSkuXHJcbiAgICAgICAgaWYgKG4gPj0gNC4yOWU5KSB7XHJcbiAgICAgICAgICBkW2ldID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMSkpWzBdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgLy8gMCA8PSBuIDw9IDQyODk5OTk5OTlcclxuICAgICAgICAgIC8vIDAgPD0gKG4gJSAxZTcpIDw9IDk5OTk5OTlcclxuICAgICAgICAgIHJkW2krK10gPSBuICUgMWU3O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIC8vIE5vZGUuanMgc3VwcG9ydGluZyBjcnlwdG8ucmFuZG9tQnl0ZXMuXHJcbiAgICB9IGVsc2UgaWYgKGNyeXB0by5yYW5kb21CeXRlcykge1xyXG5cclxuICAgICAgLy8gYnVmZmVyXHJcbiAgICAgIGQgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoayAqPSA0KTtcclxuXHJcbiAgICAgIGZvciAoOyBpIDwgazspIHtcclxuXHJcbiAgICAgICAgLy8gMCA8PSBuIDwgMjE0NzQ4MzY0OFxyXG4gICAgICAgIG4gPSBkW2ldICsgKGRbaSArIDFdIDw8IDgpICsgKGRbaSArIDJdIDw8IDE2KSArICgoZFtpICsgM10gJiAweDdmKSA8PCAyNCk7XHJcblxyXG4gICAgICAgIC8vIFByb2JhYmlsaXR5IG4gPj0gMi4xNGU5LCBpcyA3NDgzNjQ4IC8gMjE0NzQ4MzY0OCA9IDAuMDAzNSAoMSBpbiAyODYpLlxyXG4gICAgICAgIGlmIChuID49IDIuMTRlOSkge1xyXG4gICAgICAgICAgY3J5cHRvLnJhbmRvbUJ5dGVzKDQpLmNvcHkoZCwgaSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAvLyAwIDw9IG4gPD0gMjEzOTk5OTk5OVxyXG4gICAgICAgICAgLy8gMCA8PSAobiAlIDFlNykgPD0gOTk5OTk5OVxyXG4gICAgICAgICAgcmQucHVzaChuICUgMWU3KTtcclxuICAgICAgICAgIGkgKz0gNDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGkgPSBrIC8gNDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRocm93IEVycm9yKGNyeXB0b1VuYXZhaWxhYmxlKTtcclxuICAgIH1cclxuXHJcbiAgICBrID0gcmRbLS1pXTtcclxuICAgIHNkICU9IExPR19CQVNFO1xyXG5cclxuICAgIC8vIENvbnZlcnQgdHJhaWxpbmcgZGlnaXRzIHRvIHplcm9zIGFjY29yZGluZyB0byBzZC5cclxuICAgIGlmIChrICYmIHNkKSB7XHJcbiAgICAgIG4gPSBtYXRocG93KDEwLCBMT0dfQkFTRSAtIHNkKTtcclxuICAgICAgcmRbaV0gPSAoayAvIG4gfCAwKSAqIG47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHdvcmRzIHdoaWNoIGFyZSB6ZXJvLlxyXG4gICAgZm9yICg7IHJkW2ldID09PSAwOyBpLS0pIHJkLnBvcCgpO1xyXG5cclxuICAgIC8vIFplcm8/XHJcbiAgICBpZiAoaSA8IDApIHtcclxuICAgICAgZSA9IDA7XHJcbiAgICAgIHJkID0gWzBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZSA9IC0xO1xyXG5cclxuICAgICAgLy8gUmVtb3ZlIGxlYWRpbmcgd29yZHMgd2hpY2ggYXJlIHplcm8gYW5kIGFkanVzdCBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgZm9yICg7IHJkWzBdID09PSAwOyBlIC09IExPR19CQVNFKSByZC5zaGlmdCgpO1xyXG5cclxuICAgICAgLy8gQ291bnQgdGhlIGRpZ2l0cyBvZiB0aGUgZmlyc3Qgd29yZCBvZiByZCB0byBkZXRlcm1pbmUgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChrID0gMSwgbiA9IHJkWzBdOyBuID49IDEwOyBuIC89IDEwKSBrKys7XHJcblxyXG4gICAgICAvLyBBZGp1c3QgdGhlIGV4cG9uZW50IGZvciBsZWFkaW5nIHplcm9zIG9mIHRoZSBmaXJzdCB3b3JkIG9mIHJkLlxyXG4gICAgICBpZiAoayA8IExPR19CQVNFKSBlIC09IExPR19CQVNFIC0gaztcclxuICAgIH1cclxuXHJcbiAgICByLmUgPSBlO1xyXG4gICAgci5kID0gcmQ7XHJcblxyXG4gICAgcmV0dXJuIHI7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyBgeGAgcm91bmRlZCB0byBhbiBpbnRlZ2VyIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIFRvIGVtdWxhdGUgYE1hdGgucm91bmRgLCBzZXQgcm91bmRpbmcgdG8gNyAoUk9VTkRfSEFMRl9DRUlMKS5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHJvdW5kKHgpIHtcclxuICAgIHJldHVybiBmaW5hbGlzZSh4ID0gbmV3IHRoaXMoeCksIHguZSArIDEsIHRoaXMucm91bmRpbmcpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuXHJcbiAgICogICAxICAgIGlmIHggPiAwLFxyXG4gICAqICAtMSAgICBpZiB4IDwgMCxcclxuICAgKiAgIDAgICAgaWYgeCBpcyAwLFxyXG4gICAqICAtMCAgICBpZiB4IGlzIC0wLFxyXG4gICAqICAgTmFOICBvdGhlcndpc2VcclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNpZ24oeCkge1xyXG4gICAgeCA9IG5ldyB0aGlzKHgpO1xyXG4gICAgcmV0dXJuIHguZCA/ICh4LmRbMF0gPyB4LnMgOiAwICogeC5zKSA6IHgucyB8fCBOYU47XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAgICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBzaW4oeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLnNpbigpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIGh5cGVyYm9saWMgc2luZSBvZiBgeGAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmBcclxuICAgKiBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfSBBIHZhbHVlIGluIHJhZGlhbnMuXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBzaW5oKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS5zaW5oKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLypcclxuICAgKiBSZXR1cm4gYSBuZXcgRGVjaW1hbCB3aG9zZSB2YWx1ZSBpcyB0aGUgc3F1YXJlIHJvb3Qgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAgICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNxcnQoeCkge1xyXG4gICAgcmV0dXJuIG5ldyB0aGlzKHgpLnNxcnQoKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIGB4YCBtaW51cyBgeWAsIHJvdW5kZWQgdG8gYHByZWNpc2lvbmAgc2lnbmlmaWNhbnQgZGlnaXRzXHJcbiAgICogdXNpbmcgcm91bmRpbmcgbW9kZSBgcm91bmRpbmdgLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqIHkge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHN1Yih4LCB5KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkuc3ViKHkpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHN1bSBvZiB0aGUgYXJndW1lbnRzLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIE9ubHkgdGhlIHJlc3VsdCBpcyByb3VuZGVkLCBub3QgdGhlIGludGVybWVkaWF0ZSBjYWxjdWxhdGlvbnMuXHJcbiAgICpcclxuICAgKiBhcmd1bWVudHMge251bWJlcnxzdHJpbmd8RGVjaW1hbH1cclxuICAgKlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHN1bSgpIHtcclxuICAgIHZhciBpID0gMCxcclxuICAgICAgYXJncyA9IGFyZ3VtZW50cyxcclxuICAgICAgeCA9IG5ldyB0aGlzKGFyZ3NbaV0pO1xyXG5cclxuICAgIGV4dGVybmFsID0gZmFsc2U7XHJcbiAgICBmb3IgKDsgeC5zICYmICsraSA8IGFyZ3MubGVuZ3RoOykgeCA9IHgucGx1cyhhcmdzW2ldKTtcclxuICAgIGV4dGVybmFsID0gdHJ1ZTtcclxuXHJcbiAgICByZXR1cm4gZmluYWxpc2UoeCwgdGhpcy5wcmVjaXNpb24sIHRoaXMucm91bmRpbmcpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgdGhlIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gIHNpZ25pZmljYW50XHJcbiAgICogZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdGFuKHgpIHtcclxuICAgIHJldHVybiBuZXcgdGhpcyh4KS50YW4oKTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIFJldHVybiBhIG5ldyBEZWNpbWFsIHdob3NlIHZhbHVlIGlzIHRoZSBoeXBlcmJvbGljIHRhbmdlbnQgb2YgYHhgLCByb3VuZGVkIHRvIGBwcmVjaXNpb25gXHJcbiAgICogc2lnbmlmaWNhbnQgZGlnaXRzIHVzaW5nIHJvdW5kaW5nIG1vZGUgYHJvdW5kaW5nYC5cclxuICAgKlxyXG4gICAqIHgge251bWJlcnxzdHJpbmd8RGVjaW1hbH0gQSB2YWx1ZSBpbiByYWRpYW5zLlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdGFuaCh4KSB7XHJcbiAgICByZXR1cm4gbmV3IHRoaXMoeCkudGFuaCgpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qXHJcbiAgICogUmV0dXJuIGEgbmV3IERlY2ltYWwgd2hvc2UgdmFsdWUgaXMgYHhgIHRydW5jYXRlZCB0byBhbiBpbnRlZ2VyLlxyXG4gICAqXHJcbiAgICogeCB7bnVtYmVyfHN0cmluZ3xEZWNpbWFsfVxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdHJ1bmMoeCkge1xyXG4gICAgcmV0dXJuIGZpbmFsaXNlKHggPSBuZXcgdGhpcyh4KSwgeC5lICsgMSwgMSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy8gQ3JlYXRlIGFuZCBjb25maWd1cmUgaW5pdGlhbCBEZWNpbWFsIGNvbnN0cnVjdG9yLlxyXG4gIERlY2ltYWwgPSBjbG9uZShERUZBVUxUUyk7XHJcbiAgRGVjaW1hbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEZWNpbWFsO1xyXG4gIERlY2ltYWxbJ2RlZmF1bHQnXSA9IERlY2ltYWwuRGVjaW1hbCA9IERlY2ltYWw7XHJcblxyXG4gIC8vIENyZWF0ZSB0aGUgaW50ZXJuYWwgY29uc3RhbnRzIGZyb20gdGhlaXIgc3RyaW5nIHZhbHVlcy5cclxuICBMTjEwID0gbmV3IERlY2ltYWwoTE4xMCk7XHJcbiAgUEkgPSBuZXcgRGVjaW1hbChQSSk7XHJcblxyXG5cclxuICAvLyBFeHBvcnQuXHJcblxyXG5cclxuICAvLyBBTUQuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gRGVjaW1hbDtcclxuICAgIH0pO1xyXG5cclxuICAvLyBOb2RlIGFuZCBvdGhlciBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLlxyXG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xyXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnKSB7XHJcbiAgICAgIFBbU3ltYm9sWydmb3InXSgnbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0gPSBQLnRvU3RyaW5nO1xyXG4gICAgICBQW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnRGVjaW1hbCc7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBEZWNpbWFsO1xyXG5cclxuICAvLyBCcm93c2VyLlxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAoIWdsb2JhbFNjb3BlKSB7XHJcbiAgICAgIGdsb2JhbFNjb3BlID0gdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiAmJiBzZWxmLnNlbGYgPT0gc2VsZiA/IHNlbGYgOiB3aW5kb3c7XHJcbiAgICB9XHJcblxyXG4gICAgbm9Db25mbGljdCA9IGdsb2JhbFNjb3BlLkRlY2ltYWw7XHJcbiAgICBEZWNpbWFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGdsb2JhbFNjb3BlLkRlY2ltYWwgPSBub0NvbmZsaWN0O1xyXG4gICAgICByZXR1cm4gRGVjaW1hbDtcclxuICAgIH07XHJcblxyXG4gICAgZ2xvYmFsU2NvcGUuRGVjaW1hbCA9IERlY2ltYWw7XHJcbiAgfVxyXG59KSh0aGlzKTtcclxuIiwiLypcbiAgICBKU1hHcmFwaCAxLjQuNFxuXG4gICAgQ29weXJpZ2h0IDIwMDgtMjAyMlxuICAgICAgICBNYXR0aGlhcyBFaG1hbm4sXG4gICAgICAgIE1pY2hhZWwgR2VyaGFldXNlcixcbiAgICAgICAgQ2Fyc3RlbiBNaWxsZXIsXG4gICAgICAgIEJpYW5jYSBWYWxlbnRpbixcbiAgICAgICAgQW5kcmVhcyBXYWx0ZXIsXG4gICAgICAgIEFsZnJlZCBXYXNzZXJtYW5uLFxuICAgICAgICBQZXRlciBXaWxmYWhydFxuXG4gICAgVGhpcyBmaWxlIGlzIHBhcnQgb2YgSlNYR3JhcGguXG5cbiAgICBKU1hHcmFwaCBpcyBmcmVlIHNvZnR3YXJlIGR1YWwgbGljZW5zZWQgdW5kZXIgdGhlIEdOVSBMR1BMIG9yIE1JVCBMaWNlbnNlLlxuXG4gICAgWW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlXG5cbiAgICAgICogR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICAgICAgICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICAgICAgICAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uXG4gICAgICBPUlxuICAgICAgKiBNSVQgTGljZW5zZTogaHR0cHM6Ly9naXRodWIuY29tL2pzeGdyYXBoL2pzeGdyYXBoL2Jsb2IvbWFzdGVyL0xJQ0VOU0UuTUlUXG5cbiAgICBKU1hHcmFwaCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gICAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICAgIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuXG4gICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFuZFxuICAgIHRoZSBNSVQgTGljZW5zZSBhbG9uZyB3aXRoIEpTWEdyYXBoLiBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+XG4gICAgYW5kIDxodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC8+LlxuKi9cblxuLyoqXG4gKiBhbG1vbmQgMC4yLjUgQ29weXJpZ2h0IChjKSAyMDExLTIwMTIsIFRoZSBEb2pvIEZvdW5kYXRpb24gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIEF2YWlsYWJsZSB2aWEgdGhlIE1JVCBvciBuZXcgQlNEIGxpY2Vuc2UuXG4gKiBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL2FsbW9uZCBmb3IgZGV0YWlsc1xuICovXG5cbi8qKlxuICogVVRGLTggRGVjb2RlciBieSBCam9lcm4gSG9laHJtYW5uXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDA4LTIwMDkgQmpvZXJuIEhvZWhybWFubiA8YmpvZXJuQGhvZWhybWFubi5kZT5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXNcbiAqIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZVxuICogd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSxcbiAqIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29uc1xuICogdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yXG4gKiBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkdcbiAqIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuICogTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbiAqIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuICovXG4hZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwianN4Z3JhcGhjb3JlXCIsW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSgpOnQucmV0dXJuRXhwb3J0cz1lKCl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcywoZnVuY3Rpb24oKXtcbi8qKlxuICogQGxpY2Vuc2UgYWxtb25kIDAuMy4zIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzLlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UsIGh0dHA6Ly9naXRodWIuY29tL3JlcXVpcmVqcy9hbG1vbmQvTElDRU5TRVxuICovXG52YXIgcmVxdWlyZWpzLHJlcXVpcmUsZGVmaW5lO3JldHVybiBmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvPXt9LG49e30sYT17fSxoPXt9LGw9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxjPVtdLnNsaWNlLGQ9L1xcLmpzJC87ZnVuY3Rpb24gdSh0LGUpe3JldHVybiBsLmNhbGwodCxlKX1mdW5jdGlvbiBwKHQsZSl7dmFyIGkscixzLG8sbixoLGwsYyx1LHAsZixtPWUmJmUuc3BsaXQoXCIvXCIpLGc9YS5tYXAsYj1nJiZnW1wiKlwiXXx8e307aWYodCl7Zm9yKG49KHQ9dC5zcGxpdChcIi9cIikpLmxlbmd0aC0xLGEubm9kZUlkQ29tcGF0JiZkLnRlc3QodFtuXSkmJih0W25dPXRbbl0ucmVwbGFjZShkLFwiXCIpKSxcIi5cIj09PXRbMF0uY2hhckF0KDApJiZtJiYodD1tLnNsaWNlKDAsbS5sZW5ndGgtMSkuY29uY2F0KHQpKSx1PTA7dTx0Lmxlbmd0aDt1KyspaWYoXCIuXCI9PT0oZj10W3VdKSl0LnNwbGljZSh1LDEpLHUtPTE7ZWxzZSBpZihcIi4uXCI9PT1mKXtpZigwPT09dXx8MT09PXUmJlwiLi5cIj09PXRbMl18fFwiLi5cIj09PXRbdS0xXSljb250aW51ZTt1PjAmJih0LnNwbGljZSh1LTEsMiksdS09Mil9dD10LmpvaW4oXCIvXCIpfWlmKChtfHxiKSYmZyl7Zm9yKHU9KGk9dC5zcGxpdChcIi9cIikpLmxlbmd0aDt1PjA7dS09MSl7aWYocj1pLnNsaWNlKDAsdSkuam9pbihcIi9cIiksbSlmb3IocD1tLmxlbmd0aDtwPjA7cC09MSlpZigocz1nW20uc2xpY2UoMCxwKS5qb2luKFwiL1wiKV0pJiYocz1zW3JdKSl7bz1zLGg9dTticmVha31pZihvKWJyZWFrOyFsJiZiJiZiW3JdJiYobD1iW3JdLGM9dSl9IW8mJmwmJihvPWwsaD1jKSxvJiYoaS5zcGxpY2UoMCxoLG8pLHQ9aS5qb2luKFwiL1wiKSl9cmV0dXJuIHR9ZnVuY3Rpb24gZihlLHIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBzPWMuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHNbMF0mJjE9PT1zLmxlbmd0aCYmcy5wdXNoKG51bGwpLGkuYXBwbHkodCxzLmNvbmNhdChbZSxyXSkpfX1mdW5jdGlvbiBtKHQpe3JldHVybiBmdW5jdGlvbihlKXtvW3RdPWV9fWZ1bmN0aW9uIGcoaSl7aWYodShuLGkpKXt2YXIgcj1uW2ldO2RlbGV0ZSBuW2ldLGhbaV09ITAsZS5hcHBseSh0LHIpfWlmKCF1KG8saSkmJiF1KGgsaSkpdGhyb3cgbmV3IEVycm9yKFwiTm8gXCIraSk7cmV0dXJuIG9baV19ZnVuY3Rpb24gYih0KXt2YXIgZSxpPXQ/dC5pbmRleE9mKFwiIVwiKTotMTtyZXR1cm4gaT4tMSYmKGU9dC5zdWJzdHJpbmcoMCxpKSx0PXQuc3Vic3RyaW5nKGkrMSx0Lmxlbmd0aCkpLFtlLHRdfWZ1bmN0aW9uIHYodCl7cmV0dXJuIHQ/Yih0KTpbXX1mdW5jdGlvbiB5KHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhJiZhLmNvbmZpZyYmYS5jb25maWdbdF18fHt9fX1yPWZ1bmN0aW9uKHQsZSl7dmFyIGkscixzPWIodCksbz1zWzBdLG49ZVsxXTtyZXR1cm4gdD1zWzFdLG8mJihpPWcobz1wKG8sbikpKSxvP3Q9aSYmaS5ub3JtYWxpemU/aS5ub3JtYWxpemUodCwocj1uLGZ1bmN0aW9uKHQpe3JldHVybiBwKHQscil9KSk6cCh0LG4pOihvPShzPWIodD1wKHQsbikpKVswXSx0PXNbMV0sbyYmKGk9ZyhvKSkpLHtmOm8/bytcIiFcIit0OnQsbjp0LHByOm8scDppfX0scz17cmVxdWlyZTpmdW5jdGlvbih0KXtyZXR1cm4gZih0KX0sZXhwb3J0czpmdW5jdGlvbih0KXt2YXIgZT1vW3RdO3JldHVybiB2b2lkIDAhPT1lP2U6b1t0XT17fX0sbW9kdWxlOmZ1bmN0aW9uKHQpe3JldHVybntpZDp0LHVyaTpcIlwiLGV4cG9ydHM6b1t0XSxjb25maWc6eSh0KX19fSxlPWZ1bmN0aW9uKGUsaSxhLGwpe3ZhciBjLGQscCxiLHksQyxfLFA9W10sRT10eXBlb2YgYTtpZihDPXYobD1sfHxlKSxcInVuZGVmaW5lZFwiPT09RXx8XCJmdW5jdGlvblwiPT09RSl7Zm9yKGk9IWkubGVuZ3RoJiZhLmxlbmd0aD9bXCJyZXF1aXJlXCIsXCJleHBvcnRzXCIsXCJtb2R1bGVcIl06aSx5PTA7eTxpLmxlbmd0aDt5Kz0xKWlmKFwicmVxdWlyZVwiPT09KGQ9KGI9cihpW3ldLEMpKS5mKSlQW3ldPXMucmVxdWlyZShlKTtlbHNlIGlmKFwiZXhwb3J0c1wiPT09ZClQW3ldPXMuZXhwb3J0cyhlKSxfPSEwO2Vsc2UgaWYoXCJtb2R1bGVcIj09PWQpYz1QW3ldPXMubW9kdWxlKGUpO2Vsc2UgaWYodShvLGQpfHx1KG4sZCl8fHUoaCxkKSlQW3ldPWcoZCk7ZWxzZXtpZighYi5wKXRocm93IG5ldyBFcnJvcihlK1wiIG1pc3NpbmcgXCIrZCk7Yi5wLmxvYWQoYi5uLGYobCwhMCksbShkKSx7fSksUFt5XT1vW2RdfXA9YT9hLmFwcGx5KG9bZV0sUCk6dm9pZCAwLGUmJihjJiZjLmV4cG9ydHMhPT10JiZjLmV4cG9ydHMhPT1vW2VdP29bZV09Yy5leHBvcnRzOnA9PT10JiZffHwob1tlXT1wKSl9ZWxzZSBlJiYob1tlXT1hKX0scmVxdWlyZWpzPXJlcXVpcmU9aT1mdW5jdGlvbihvLG4saCxsLGMpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvKXJldHVybiBzW29dP3Nbb10obik6ZyhyKG8sdihuKSkuZik7aWYoIW8uc3BsaWNlKXtpZigoYT1vKS5kZXBzJiZpKGEuZGVwcyxhLmNhbGxiYWNrKSwhbilyZXR1cm47bi5zcGxpY2U/KG89bixuPWgsaD1udWxsKTpvPXR9cmV0dXJuIG49bnx8ZnVuY3Rpb24oKXt9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGgmJihoPWwsbD1jKSxsP2UodCxvLG4saCk6c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlKHQsbyxuLGgpfSksNCksaX0saS5jb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCl9LHJlcXVpcmVqcy5fZGVmaW5lZD1vLChkZWZpbmU9ZnVuY3Rpb24odCxlLGkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIlNlZSBhbG1vbmQgUkVBRE1FOiBpbmNvcnJlY3QgbW9kdWxlIGJ1aWxkLCBubyBtb2R1bGUgbmFtZVwiKTtlLnNwbGljZXx8KGk9ZSxlPVtdKSx1KG8sdCl8fHUobix0KXx8KG5bdF09W3QsZSxpXSl9KS5hbWQ9e2pRdWVyeTohMH19KCksZGVmaW5lKFwiLi4vbm9kZV9tb2R1bGVzL2FsbW9uZC9hbG1vbmRcIiwoZnVuY3Rpb24oKXt9KSksZGVmaW5lKFwianhnXCIsW10sKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9e307cmV0dXJuXCJvYmplY3RcIiE9dHlwZW9mIEpYR3x8SlhHLmV4dGVuZHx8KHQ9SlhHKSx0LmV4dGVuZD1mdW5jdGlvbih0LGUsaSxyKXt2YXIgcztmb3IocyBpbiBpPWl8fCExLHI9cnx8ITEsZSkoIWl8fGkmJmUuaGFzT3duUHJvcGVydHkocykpJiYodFtyP3MudG9Mb3dlckNhc2UoKTpzXT1lW3NdKX0sdC5kZWZpbmVDb25zdGFudD1mdW5jdGlvbihlLGkscixzKXsocz1zfHwhMSkmJnQuZXhpc3RzKGVbaV0pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLHt2YWx1ZTpyLHdyaXRhYmxlOiExLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExfSl9LHQuZXh0ZW5kQ29uc3RhbnRzPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG87Zm9yKHMgaW4gaT1pfHwhMSxyPXJ8fCExLGUpKCFpfHxpJiZlLmhhc093blByb3BlcnR5KHMpKSYmKG89cj9zLnRvVXBwZXJDYXNlKCk6cyx0aGlzLmRlZmluZUNvbnN0YW50KHQsbyxlW3NdKSl9LHQuZXh0ZW5kKHQse2JvYXJkczp7fSxyZWFkZXJzOnt9LGVsZW1lbnRzOnt9LHJlZ2lzdGVyRWxlbWVudDpmdW5jdGlvbih0LGUpe3Q9dC50b0xvd2VyQ2FzZSgpLHRoaXMuZWxlbWVudHNbdF09ZX0scmVnaXN0ZXJSZWFkZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxyO2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspcj1lW2ldLnRvTG93ZXJDYXNlKCksXCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5yZWFkZXJzW3JdJiYodGhpcy5yZWFkZXJzW3JdPXQpfSxzaG9ydGN1dDpmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0W2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGdldFJlZjpmdW5jdGlvbihlLGkpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJKWEcuZ2V0UmVmKClcIixcIkJvYXJkLnNlbGVjdCgpXCIpLGUuc2VsZWN0KGkpfSxnZXRSZWZlcmVuY2U6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiSlhHLmdldFJlZmVyZW5jZSgpXCIsXCJCb2FyZC5zZWxlY3QoKVwiKSxlLnNlbGVjdChpKX0sZ2V0Qm9hcmRCeUNvbnRhaW5lcklkOmZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlIGluIEpYRy5ib2FyZHMpaWYoSlhHLmJvYXJkcy5oYXNPd25Qcm9wZXJ0eShlKSYmSlhHLmJvYXJkc1tlXS5jb250YWluZXI9PT10KXJldHVybiBKWEcuYm9hcmRzW2VdO3JldHVybiBudWxsfSxkZXByZWNhdGVkOmZ1bmN0aW9uKGUsaSl7dmFyIHI9ZStcIiBpcyBkZXByZWNhdGVkLlwiO2kmJihyKz1cIiBQbGVhc2UgdXNlIFwiK2krXCIgaW5zdGVhZC5cIiksdC53YXJuKHIpfSx3YXJuOmZ1bmN0aW9uKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4/Y29uc29sZS53YXJuKFwiV0FSTklORzpcIix0KTpcIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2FybmluZ1wiKSYmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdcIikuaW5uZXJIVE1MKz1cIldBUk5JTkc6IFwiK3QrXCI8YnIgLz5cIil9LGRlYnVnSW50OmZ1bmN0aW9uKHQpe3ZhciBlLGk7Zm9yKGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWk9YXJndW1lbnRzW2VdLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZz9jb25zb2xlLmxvZyhpKTpcIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVidWdcIikmJihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnXCIpLmlubmVySFRNTCs9aStcIjxici8+XCIpfSxkZWJ1Z1dTVDpmdW5jdGlvbihlKXt2YXIgaT1uZXcgRXJyb3I7dC5kZWJ1Z0ludC5hcHBseSh0aGlzLGFyZ3VtZW50cyksaSYmaS5zdGFjayYmKHQuZGVidWdJbnQoXCJzdGFja3RyYWNlXCIpLHQuZGVidWdJbnQoaS5zdGFjay5zcGxpdChcIlxcblwiKS5zbGljZSgxKS5qb2luKFwiXFxuXCIpKSl9LGRlYnVnTGluZTpmdW5jdGlvbihlKXt2YXIgaT1uZXcgRXJyb3I7dC5kZWJ1Z0ludC5hcHBseSh0aGlzLGFyZ3VtZW50cyksaSYmaS5zdGFjayYmdC5kZWJ1Z0ludChcIkNhbGxlZCBmcm9tXCIsaS5zdGFjay5zcGxpdChcIlxcblwiKS5zbGljZSgyLDMpLmpvaW4oXCJcXG5cIikpfSxkZWJ1ZzpmdW5jdGlvbihlKXt0LmRlYnVnSW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSx0fSkpLGRlZmluZShcImJhc2UvY29uc3RhbnRzXCIsW1wianhnXCJdLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZSxpPVwiMS40LjRcIjtyZXR1cm4gZT17dmVyc2lvbjppLGxpY2Vuc2VUZXh0OlwiSlNYR3JhcGggdjEuNC40IENvcHlyaWdodCAoQykgc2VlIGh0dHBzOi8vanN4Z3JhcGgub3JnXCIsQ09PUkRTX0JZX1VTRVI6MSxDT09SRFNfQllfU0NSRUVOOjIsT0JKRUNUX1RZUEVfQVJDOjEsT0JKRUNUX1RZUEVfQVJST1c6MixPQkpFQ1RfVFlQRV9BWElTOjMsT0JKRUNUX1RZUEVfQVhJU1BPSU5UOjQsT0JKRUNUX1RZUEVfVElDS1M6NSxPQkpFQ1RfVFlQRV9DSVJDTEU6NixPQkpFQ1RfVFlQRV9DT05JQzo3LE9CSkVDVF9UWVBFX0NVUlZFOjgsT0JKRUNUX1RZUEVfR0xJREVSOjksT0JKRUNUX1RZUEVfSU1BR0U6MTAsT0JKRUNUX1RZUEVfTElORToxMSxPQkpFQ1RfVFlQRV9QT0lOVDoxMixPQkpFQ1RfVFlQRV9TTElERVI6MTMsT0JKRUNUX1RZUEVfQ0FTOjE0LE9CSkVDVF9UWVBFX0dYVENBUzoxNSxPQkpFQ1RfVFlQRV9QT0xZR09OOjE2LE9CSkVDVF9UWVBFX1NFQ1RPUjoxNyxPQkpFQ1RfVFlQRV9URVhUOjE4LE9CSkVDVF9UWVBFX0FOR0xFOjE5LE9CSkVDVF9UWVBFX0lOVEVSU0VDVElPTjoyMCxPQkpFQ1RfVFlQRV9UVVJUTEU6MjEsT0JKRUNUX1RZUEVfVkVDVE9SOjIyLE9CSkVDVF9UWVBFX09QUk9KRUNUOjIzLE9CSkVDVF9UWVBFX0dSSUQ6MjQsT0JKRUNUX1RZUEVfVEFOR0VOVDoyNSxPQkpFQ1RfVFlQRV9IVE1MU0xJREVSOjI2LE9CSkVDVF9UWVBFX0NIRUNLQk9YOjI3LE9CSkVDVF9UWVBFX0lOUFVUOjI4LE9CSkVDVF9UWVBFX0JVVFRPTjoyOSxPQkpFQ1RfVFlQRV9UUkFOU0ZPUk1BVElPTjozMCxPQkpFQ1RfVFlQRV9GT1JFSUdOT0JKRUNUOjMxLE9CSkVDVF9UWVBFX1ZJRVczRDozMixPQkpFQ1RfQ0xBU1NfUE9JTlQ6MSxPQkpFQ1RfQ0xBU1NfTElORToyLE9CSkVDVF9DTEFTU19DSVJDTEU6MyxPQkpFQ1RfQ0xBU1NfQ1VSVkU6NCxPQkpFQ1RfQ0xBU1NfQVJFQTo1LE9CSkVDVF9DTEFTU19PVEhFUjo2LE9CSkVDVF9DTEFTU19URVhUOjcsR0VOVFlQRV9BQkM6MSxHRU5UWVBFX0FYSVM6MixHRU5UWVBFX01JRDozLEdFTlRZUEVfUkVGTEVDVElPTjo0LEdFTlRZUEVfTUlSUk9SRUxFTUVOVDo1LEdFTlRZUEVfUkVGTEVDVElPTl9PTl9MSU5FOjQsR0VOVFlQRV9SRUZMRUNUSU9OX09OX1BPSU5UOjUsR0VOVFlQRV9UQU5HRU5UOjYsR0VOVFlQRV9QQVJBTExFTDo3LEdFTlRZUEVfQklTRUNUT1JMSU5FUzo4LEdFTlRZUEVfQk9BUkRJTUc6OSxHRU5UWVBFX0JJU0VDVE9SOjEwLEdFTlRZUEVfTk9STUFMOjExLEdFTlRZUEVfUE9JTlQ6MTIsR0VOVFlQRV9HTElERVI6MTMsR0VOVFlQRV9JTlRFUlNFQ1RJT046MTQsR0VOVFlQRV9DSVJDTEU6MTUsR0VOVFlQRV9DSVJDTEUyUE9JTlRTOjE2LEdFTlRZUEVfTElORToxNyxHRU5UWVBFX1RSSUFOR0xFOjE4LEdFTlRZUEVfUVVBRFJJTEFURVJBTDoxOSxHRU5UWVBFX1RFWFQ6MjAsR0VOVFlQRV9QT0xZR09OOjIxLEdFTlRZUEVfUkVHVUxBUlBPTFlHT046MjIsR0VOVFlQRV9TRUNUT1I6MjMsR0VOVFlQRV9BTkdMRToyNCxHRU5UWVBFX1BMT1Q6MjUsR0VOVFlQRV9TTElERVI6MjYsR0VOVFlQRV9UUlVOQ0FURToyNyxHRU5UWVBFX0pDT0RFOjI4LEdFTlRZUEVfTU9WRU1FTlQ6MjksR0VOVFlQRV9DT01CSU5FRDozMCxHRU5UWVBFX1JVTEVSOjMxLEdFTlRZUEVfU0xPUEVUUklBTkdMRTozMixHRU5UWVBFX1BFUlBTRUdNRU5UOjMzLEdFTlRZUEVfTEFCRUxNT1ZFTUVOVDozNCxHRU5UWVBFX1ZFQ1RPUjozNSxHRU5UWVBFX05PTlJFRkxFWEFOR0xFOjM2LEdFTlRZUEVfUkVGTEVYQU5HTEU6MzcsR0VOVFlQRV9QQVRIOjM4LEdFTlRZUEVfREVSSVZBVElWRTozOSxHRU5UWVBFX0RFTEVURTo0MSxHRU5UWVBFX0NPUFk6NDIsR0VOVFlQRV9NSVJST1I6NDMsR0VOVFlQRV9ST1RBVEU6NDQsR0VOVFlQRV9BQkxBVElPTjo0NSxHRU5UWVBFX01JR1JBVEU6NDYsR0VOVFlQRV9WRUNUT1JDT1BZOjQ3LEdFTlRZUEVfUE9MWUdPTkNPUFk6NDgsR0VOVFlQRV9DVFhfVFlQRV9HOjUxLEdFTlRZUEVfQ1RYX1RZUEVfUDo1MixHRU5UWVBFX0NUWF9UUkFDRTo1MyxHRU5UWVBFX0NUWF9WSVNJQklMSVRZOjU0LEdFTlRZUEVfQ1RYX0NDVklTSUJJTElUWTo1NSxHRU5UWVBFX0NUWF9NUFZJU0lCSUxJVFk6NTYsR0VOVFlQRV9DVFhfV0lUSExBQkVMOjU3LEdFTlRZUEVfQ1RYX0xBQkVMOjU4LEdFTlRZUEVfQ1RYX0ZJWEVEOjU5LEdFTlRZUEVfQ1RYX1NUUk9LRVdJRFRIOjYwLEdFTlRZUEVfQ1RYX0xBQkVMU0laRTo2MSxHRU5UWVBFX0NUWF9TSVpFOjYyLEdFTlRZUEVfQ1RYX0ZBQ0U6NjMsR0VOVFlQRV9DVFhfU1RSQUlHSFQ6NjQsR0VOVFlQRV9DVFhfQVJST1c6NjUsR0VOVFlQRV9DVFhfQ09MT1I6NjYsR0VOVFlQRV9DVFhfUkFESVVTOjY3LEdFTlRZUEVfQ1RYX0NPT1JEUzo2OCxHRU5UWVBFX0NUWF9URVhUOjY5LEdFTlRZUEVfQ1RYX0FOR0xFUkFESVVTOjcwLEdFTlRZUEVfQ1RYX0RPVFZJU0lCSUxJVFk6NzEsR0VOVFlQRV9DVFhfRklMTE9QQUNJVFk6NzIsR0VOVFlQRV9DVFhfUExPVDo3MyxHRU5UWVBFX0NUWF9TQ0FMRTo3NCxHRU5UWVBFX0NUWF9JTlRWQUw6NzUsR0VOVFlQRV9DVFhfUE9JTlQxOjc2LEdFTlRZUEVfQ1RYX1BPSU5UMjo3NyxHRU5UWVBFX0NUWF9MQUJFTFNUSUNLWTo3OCxHRU5UWVBFX0NUWF9UWVBFX0k6NzksR0VOVFlQRV9DVFhfSEFTSU5ORVJQT0lOVFM6ODAsR0VOVFlQRV9DVFhfU05BUFdJRFRIOjgxLEdFTlRZUEVfQ1RYX1NOQVBUT0dSSUQ6ODJ9LHQuZXh0ZW5kQ29uc3RhbnRzKHQsZSksZX0pKSxkZWZpbmUoXCJ1dGlscy90eXBlXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5leHRlbmQodCx7aXNJZDpmdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYhIXQub2JqZWN0c1tlXX0saXNOYW1lOmZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJiEhdC5lbGVtZW50c0J5TmFtZVtlXX0saXNHcm91cDpmdW5jdGlvbih0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYhIXQuZ3JvdXBzW2VdfSxpc1N0cmluZzpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdH0saXNOdW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR8fFwiW09iamVjdCBOdW1iZXJdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9LGlzRnVuY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH0saXNBcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5KHQpOm51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zcGxpY2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuam9pbn0saXNPYmplY3Q6ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJiF0aGlzLmlzQXJyYXkodCl9LGlzUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19QT0lOVH0saXNQb2ludFR5cGU6ZnVuY3Rpb24odCxlKXt2YXIgaSxyO3JldHVybiEhdGhpcy5pc0FycmF5KGUpfHwoISEodGhpcy5pc0Z1bmN0aW9uKGUpJiYoaT1lKCksdGhpcy5pc0FycmF5KGkpJiZpLmxlbmd0aD4xKSl8fChyPXQuc2VsZWN0KGUpLHRoaXMuaXNQb2ludChyKSkpfSxpc1RyYW5zZm9ybWF0aW9uT3JBcnJheTpmdW5jdGlvbih0KXtpZihudWxsIT09dCl7aWYodGhpcy5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wKXJldHVybiB0aGlzLmlzVHJhbnNmb3JtYXRpb25PckFycmF5KHRbMF0pO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXJldHVybiB0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX1RSQU5TRk9STUFUSU9OfXJldHVybiExfSxleGlzdHM6ZnVuY3Rpb24odCxlKXt2YXIgaT0hKG51bGw9PXR8fG51bGw9PT10KTtyZXR1cm4oZT1lfHwhMSk/aSYmXCJcIiE9PXQ6aX0saXNFbXB0eTpmdW5jdGlvbih0KXtyZXR1cm4gMD09PU9iamVjdC5rZXlzKHQpLmxlbmd0aH0sZGVmOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZXhpc3RzKHQpP3Q6ZX0sc3RyMkJvb2w6ZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuZXhpc3RzKHQpfHwoXCJib29sZWFuXCI9PXR5cGVvZiB0P3Q6ISF0aGlzLmlzU3RyaW5nKHQpJiZcInRydWVcIj09PXQudG9Mb3dlckNhc2UoKSl9LGNyZWF0ZUV2YWxGdW5jdGlvbjpmdW5jdGlvbihlLGkscil7dmFyIHMsbz1bXTtmb3Iocz0wO3M8cjtzKyspb1tzXT10LmNyZWF0ZUZ1bmN0aW9uKGlbc10sZSxcIlwiLCEwKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG9bdF0oKX19LGNyZWF0ZUZ1bmN0aW9uOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzPW51bGw7cmV0dXJuIHRoaXMuZXhpc3RzKHIpJiYhcnx8IXRoaXMuaXNTdHJpbmcodCk/dGhpcy5pc0Z1bmN0aW9uKHQpP3M9dDoodGhpcy5pc051bWJlcih0KXx8dGhpcy5pc1N0cmluZyh0KSkmJihzPWZ1bmN0aW9uKCl7cmV0dXJuIHR9KTpzPWUuamMuc25pcHBldCh0LCEwLGksITApLG51bGwhPT1zJiYocy5vcmlnaW49dCksc30scHJvdmlkZVBvaW50czpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciBvLG4sYSxoLGwsYz0wLGQ9W107Zm9yKHRoaXMuaXNBcnJheShlKXx8KGU9W2VdKSxhPWUubGVuZ3RoLHRoaXMuZXhpc3RzKHMpJiYoYz1zLmxlbmd0aCksMD09PWMmJihoPXRoaXMuY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMscikpLG89MDtvPGE7KytvKWlmKGM+MCYmKG49TWF0aC5taW4obyxjLTEpLGg9dGhpcy5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxyLHNbbl0pKSx0aGlzLmlzQXJyYXkoZVtvXSkmJmVbb10ubGVuZ3RoPjE/KGQucHVzaCh0LmNyZWF0ZShcInBvaW50XCIsZVtvXSxoKSksZFtkLmxlbmd0aC0xXS5faXNfbmV3PSEwKTp0aGlzLmlzRnVuY3Rpb24oZVtvXSk/KGw9ZVtvXSgpLHRoaXMuaXNBcnJheShsKSYmbC5sZW5ndGg+MSYmKGQucHVzaCh0LmNyZWF0ZShcInBvaW50XCIsW2Vbb11dLGgpKSxkW2QubGVuZ3RoLTFdLl9pc19uZXc9ITApKTpkLnB1c2godC5zZWxlY3QoZVtvXSkpLCF0aGlzLmlzUG9pbnQoZFtvXSkpcmV0dXJuITE7cmV0dXJuIGR9LGJpbmQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fSxldmFsdWF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0Z1bmN0aW9uKHQpP3QoKTp0fSxpbmRleE9mOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzPXRoaXMuZXhpc3RzKGkpO2lmKEFycmF5LmluZGV4T2YmJiFzKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKylpZihzJiZ0W3JdW2ldPT09ZXx8IXMmJnRbcl09PT1lKXJldHVybiByO3JldHVybi0xfSxlbGltaW5hdGVEdXBsaWNhdGVzOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dC5sZW5ndGgscj1bXSxzPXt9O2ZvcihlPTA7ZTxpO2UrKylzW3RbZV1dPTA7Zm9yKGUgaW4gcylzLmhhc093blByb3BlcnR5KGUpJiZyLnB1c2goZSk7cmV0dXJuIHJ9LHN3YXA6ZnVuY3Rpb24odCxlLGkpe3ZhciByO3JldHVybiByPXRbZV0sdFtlXT10W2ldLHRbaV09cix0fSx1bmlxdWVBcnJheTpmdW5jdGlvbihlKXt2YXIgaSxyLHMsbz1bXTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuW107Zm9yKGk9MDtpPGUubGVuZ3RoO2krKylpZihzPXRoaXMuaXNBcnJheShlW2ldKSx0aGlzLmV4aXN0cyhlW2ldKSlmb3Iocj1pKzE7cjxlLmxlbmd0aDtyKyspcyYmdC5jbXBBcnJheXMoZVtpXSxlW3JdKT9lW2ldPVtdOnN8fGVbaV0hPT1lW3JdfHwoZVtpXT1cIlwiKTtlbHNlIGVbaV09XCJcIjtmb3Iocj0wLGk9MDtpPGUubGVuZ3RoO2krKykocz10aGlzLmlzQXJyYXkoZVtpXSkpfHxcIlwiPT09ZVtpXT9zJiYwIT09ZVtpXS5sZW5ndGgmJihvW3JdPWVbaV0uc2xpY2UoMCkscisrKToob1tyXT1lW2ldLHIrKyk7cmV0dXJuIGU9byxvfSxpc0luQXJyYXk6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5pbmRleE9mKGUsaSk+LTF9LGNvb3Jkc0FycmF5VG9NYXRyaXg6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPVtdLHM9W107Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyllPyhyLnB1c2godFtpXS51c3JDb29yZHNbMV0pLHMucHVzaCh0W2ldLnVzckNvb3Jkc1syXSkpOnMucHVzaChbdFtpXS51c3JDb29yZHNbMV0sdFtpXS51c3JDb29yZHNbMl1dKTtyZXR1cm4gZSYmKHM9W3Isc10pLHN9LGNtcEFycmF5czpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKHQ9PT1lKXJldHVybiEwO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKGk9MDtpPHQubGVuZ3RoO2krKylpZih0aGlzLmlzQXJyYXkodFtpXSkmJnRoaXMuaXNBcnJheShlW2ldKSl7aWYoIXRoaXMuY21wQXJyYXlzKHRbaV0sZVtpXSkpcmV0dXJuITF9ZWxzZSBpZih0W2ldIT09ZVtpXSlyZXR1cm4hMTtyZXR1cm4hMH0scmVtb3ZlRWxlbWVudEZyb21BcnJheTpmdW5jdGlvbih0LGUpe3ZhciBpO2ZvcihpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXT09PWUpcmV0dXJuIHQuc3BsaWNlKGksMSksdDtyZXR1cm4gdH0sdHJ1bmM6ZnVuY3Rpb24oZSxpKXtyZXR1cm4gaT10LmRlZihpLDApLHRoaXMudG9GaXhlZChlLGkpfSxfZGVjaW1hbEFkanVzdDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHZvaWQgMD09PWl8fDA9PStpP01hdGhbdF0oZSk6KGU9K2UsaT0raSxpc05hTihlKXx8XCJudW1iZXJcIiE9dHlwZW9mIGl8fGklMSE9MD9OYU46KGU9ZS50b1N0cmluZygpLnNwbGl0KFwiZVwiKSwrKChlPShlPU1hdGhbdF0oKyhlWzBdK1wiZVwiKyhlWzFdPytlWzFdLWk6LWkpKSkpLnRvU3RyaW5nKCkuc3BsaXQoXCJlXCIpKVswXStcImVcIisoZVsxXT8rZVsxXStpOmkpKSkpfSxfcm91bmQxMDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kZWNpbWFsQWRqdXN0KFwicm91bmRcIix0LGUpfSxfZmxvb3IxMDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kZWNpbWFsQWRqdXN0KFwiZmxvb3JcIix0LGUpfSxfY2VpbDEwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RlY2ltYWxBZGp1c3QoXCJjZWlsXCIsdCxlKX0sdG9GaXhlZDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9yb3VuZDEwKHQsLWUpLnRvRml4ZWQoZSl9LGF1dG9EaWdpdHM6ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5hYnModCk7cmV0dXJuIGU+LjE/dGhpcy50b0ZpeGVkKHQsMik6ZT49LjAxP3RoaXMudG9GaXhlZCh0LDQpOmU+PTFlLTQ/dGhpcy50b0ZpeGVkKHQsNik6dH0sa2V5czpmdW5jdGlvbih0LGUpe3ZhciBpLHI9W107Zm9yKGkgaW4gdCllP3QuaGFzT3duUHJvcGVydHkoaSkmJnIucHVzaChpKTpyLnB1c2goaSk7cmV0dXJuIHJ9LGNsb25lOmZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiBlLnByb3RvdHlwZT10LGV9LGNsb25lQW5kQ29weTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9ZnVuY3Rpb24oKXt9O2ZvcihpIGluIHIucHJvdG90eXBlPXQsZSlyW2ldPWVbaV07cmV0dXJuIHJ9LG1lcmdlOmZ1bmN0aW9uKHQsZSl7dmFyIGkscjtmb3IoaSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaSkpaWYodGhpcy5pc0FycmF5KGVbaV0pKWZvcih0W2ldfHwodFtpXT1bXSkscj0wO3I8ZVtpXS5sZW5ndGg7cisrKVwib2JqZWN0XCI9PXR5cGVvZiBlW2ldW3JdP3RbaV1bcl09dGhpcy5tZXJnZSh0W2ldW3JdLGVbaV1bcl0pOnRbaV1bcl09ZVtpXVtyXTtlbHNlXCJvYmplY3RcIj09dHlwZW9mIGVbaV0/KHRbaV18fCh0W2ldPXt9KSx0W2ldPXRoaXMubWVyZ2UodFtpXSxlW2ldKSk6dFtpXT1lW2ldO3JldHVybiB0fSxkZWVwQ29weTpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG47aWYoaT1pfHwhMSxcIm9iamVjdFwiIT10eXBlb2YgdHx8bnVsbD09PXQpcmV0dXJuIHQ7aWYodGhpcy5pc0FycmF5KHQpKWZvcihyPVtdLHM9MDtzPHQubGVuZ3RoO3MrKylcIm9iamVjdFwiPT10eXBlb2Yobz10W3NdKT90aGlzLmV4aXN0cyhvLmJvYXJkKT9yW3NdPW8uaWQ6cltzXT10aGlzLmRlZXBDb3B5KG8pOnJbc109bztlbHNle2ZvcihzIGluIHI9e30sdCl0Lmhhc093blByb3BlcnR5KHMpJiYobj1pP3MudG9Mb3dlckNhc2UoKTpzLG51bGwhPT0obz10W3NdKSYmXCJvYmplY3RcIj09dHlwZW9mIG8/dGhpcy5leGlzdHMoby5ib2FyZCk/cltuXT1vLmlkOnJbbl09dGhpcy5kZWVwQ29weShvKTpyW25dPW8pO2ZvcihzIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShzKSYmKG49aT9zLnRvTG93ZXJDYXNlKCk6cyxcIm9iamVjdFwiPT10eXBlb2Yobz1lW3NdKT90aGlzLmlzQXJyYXkobyl8fCF0aGlzLmV4aXN0cyhyW25dKT9yW25dPXRoaXMuZGVlcENvcHkobyk6cltuXT10aGlzLmRlZXBDb3B5KHJbbl0sbyxpKTpyW25dPW8pfXJldHVybiByfSxjb3B5QXR0cmlidXRlczpmdW5jdGlvbihlLGkscil7dmFyIHMsbyxuLGEsaCxsPXtjaXJjbGU6MSxjdXJ2ZToxLGltYWdlOjEsbGluZToxLHBvaW50OjEscG9seWdvbjoxLHRleHQ6MSx0aWNrczoxLGludGVncmFsOjF9O2ZvcihzPShuPWFyZ3VtZW50cy5sZW5ndGgpPDN8fGxbcl0/dC5kZWVwQ29weShpLmVsZW1lbnRzLG51bGwsITApOnt9LG48NCYmdGhpcy5leGlzdHMocikmJnRoaXMuZXhpc3RzKGkubGF5ZXJbcl0pJiYocy5sYXllcj1pLmxheWVyW3JdKSxhPWksaD0hMCxvPTI7bzxuO28rKyl7aWYoIXRoaXMuZXhpc3RzKGFbYXJndW1lbnRzW29dXSkpe2g9ITE7YnJlYWt9YT1hW2FyZ3VtZW50c1tvXV19Zm9yKGgmJihzPXQuZGVlcENvcHkocyxhLCEwKSksYT1cIm9iamVjdFwiPT10eXBlb2YgZT9lOnt9LGg9ITAsbz0zO288bjtvKyspe2lmKCF0aGlzLmV4aXN0cyhhW2FyZ3VtZW50c1tvXV0pKXtoPSExO2JyZWFrfWE9YVthcmd1bWVudHNbb11dfWlmKGgmJnRoaXMuZXh0ZW5kKHMsYSxudWxsLCEwKSxcImJvYXJkXCI9PT1hcmd1bWVudHNbMl0pcmV0dXJuIHM7Zm9yKGE9aSxoPSEwLG89MjtvPG47bysrKXtpZighdGhpcy5leGlzdHMoYVthcmd1bWVudHNbb11dKSl7aD0hMTticmVha31hPWFbYXJndW1lbnRzW29dXX1yZXR1cm4gaCYmdGhpcy5leGlzdHMoYS5sYWJlbCkmJihzLmxhYmVsPXQuZGVlcENvcHkoYS5sYWJlbCxzLmxhYmVsKSkscy5sYWJlbD10LmRlZXBDb3B5KGkubGFiZWwscy5sYWJlbCksc30sY29weVByb3RvdHlwZU1ldGhvZHM6ZnVuY3Rpb24odCxlLGkpe3ZhciByO2ZvcihyIGluIHQucHJvdG90eXBlW2ldPWUucHJvdG90eXBlLmNvbnN0cnVjdG9yLGUucHJvdG90eXBlKWUucHJvdG90eXBlLmhhc093blByb3BlcnR5KHIpJiYodC5wcm90b3R5cGVbcl09ZS5wcm90b3R5cGVbcl0pfSx0b0pTT046ZnVuY3Rpb24oZSxpKXt2YXIgcixzLG8sbjtpZihpPXQuZGVmKGksITEpLEpTT04uc3RyaW5naWZ5JiYhaSl0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfWNhdGNoKHQpe31zd2l0Y2godHlwZW9mIGUpe2Nhc2VcIm9iamVjdFwiOmlmKGUpe2lmKHI9W10sdGhpcy5pc0FycmF5KGUpKXtmb3Iobz0wO288ZS5sZW5ndGg7bysrKXIucHVzaCh0LnRvSlNPTihlW29dLGkpKTtyZXR1cm5cIltcIityLmpvaW4oXCIsXCIpK1wiXVwifWZvcihzIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShzKSl7dHJ5e249dC50b0pTT04oZVtzXSxpKX1jYXRjaCh0KXtuPVwiXCJ9aT9yLnB1c2gocytcIjpcIituKTpyLnB1c2goJ1wiJytzKydcIjonK24pfXJldHVyblwie1wiK3Iuam9pbihcIixcIikrXCJ9IFwifXJldHVyblwibnVsbFwiO2Nhc2VcInN0cmluZ1wiOnJldHVyblwiJ1wiK2UucmVwbGFjZSgvKFtcIiddKS9nLFwiXFxcXCQxXCIpK1wiJ1wiO2Nhc2VcIm51bWJlclwiOmNhc2VcImJvb2xlYW5cIjpyZXR1cm4gZS50b1N0cmluZygpfXJldHVyblwiMFwifSxjbGVhclZpc1Byb3BPbGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQudmlzUHJvcE9sZD17Y3NzY2xhc3M6XCJcIixjc3NkZWZhdWx0c3R5bGU6XCJcIixjc3NzdHlsZTpcIlwiLGZpbGxjb2xvcjpcIlwiLGZpbGxvcGFjaXR5OlwiXCIsZmlyc3RhcnJvdzohMSxmb250c2l6ZTotMSxsYXN0YXJyb3c6ITEsbGVmdDotMWU1LGxpbmVjYXA6XCJcIixzaGFkb3c6ITEsc3Ryb2tlY29sb3I6XCJcIixzdHJva2VvcGFjaXR5OlwiXCIsc3Ryb2tld2lkdGg6XCJcIix0YWJpbmRleDotMWU1LHRyYW5zaXRpb25kdXJhdGlvbjowLHRvcDotMWU1LHZpc2libGU6bnVsbH0sdH0saXNJbk9iamVjdDpmdW5jdGlvbih0LGUpe3ZhciBpO2ZvcihpIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShpKSYmdFtpXT09PWUpcmV0dXJuITA7cmV0dXJuITF9LGVzY2FwZUhUTUw6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvJi9nLFwiJmFtcDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpfSx1bmVzY2FwZUhUTUw6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvPFxcLz9bXj5dKz4vZ2ksXCJcIikucmVwbGFjZSgvJmFtcDsvZyxcIiZcIikucmVwbGFjZSgvJmx0Oy9nLFwiPFwiKS5yZXBsYWNlKC8mZ3Q7L2csXCI+XCIpfSxjYXBpdGFsaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCl9LHRyaW1OdW1iZXI6ZnVuY3Rpb24odCl7cmV0dXJuXCIuXCIhPT0odD0odD10LnJlcGxhY2UoL14wKy8sXCJcIikpLnJlcGxhY2UoLzArJC8sXCJcIikpW3QubGVuZ3RoLTFdJiZcIixcIiE9PXRbdC5sZW5ndGgtMV18fCh0PXQuc2xpY2UoMCwtMSkpLFwiLlwiIT09dFswXSYmXCIsXCIhPT10WzBdfHwodD1cIjBcIit0KSx0fSxmaWx0ZXJFbGVtZW50czpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvLG4sYSxoLGw9dC5sZW5ndGgsYz1bXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm4gYztmb3IoaT0wO2k8bDtpKyspe2lmKGg9ITAscz10W2ldLFwib2JqZWN0XCI9PXR5cGVvZiBlKXtmb3IociBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikmJihvPXIudG9Mb3dlckNhc2UoKSxuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNbcl0/c1tyXSgpOnNbcl0sYT1zLnZpc1Byb3AmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHMudmlzUHJvcFtvXT9zLnZpc1Byb3Bbb10oKTpzLnZpc1Byb3AmJnMudmlzUHJvcFtvXSwhKGg9XCJmdW5jdGlvblwiPT10eXBlb2YgZVtyXT9lW3JdKG4pfHxlW3JdKGEpOm49PT1lW3JdfHxhPT09ZVtyXSkpKWJyZWFrfWVsc2VcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoaD1lKHMpKTtoJiZjLnB1c2gocyl9cmV0dXJuIGN9LHRyaW06ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXCJcIil9LHNhbml0aXplSFRNTDpmdW5jdGlvbih0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGh0bWxfc2FuaXRpemUmJmU/aHRtbF9zYW5pdGl6ZSh0LChmdW5jdGlvbigpe30pLChmdW5jdGlvbih0KXtyZXR1cm4gdH0pKToodCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXQucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpKSx0KX0sZXZhbFNsaWRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC50eXBlPT09ZS5PQkpFQ1RfVFlQRV9HTElERVImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVmFsdWU/dC5WYWx1ZSgpOnR9fSksdH0pKSxkZWZpbmUoXCJ1dGlscy9lbnZcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuZXh0ZW5kQ29uc3RhbnRzKHQse3RvdWNoUHJvcGVydHk6XCJ0b3VjaGVzXCJ9KSx0LmV4dGVuZCh0LHtpc1RvdWNoRXZlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXhpc3RzKGVbdC50b3VjaFByb3BlcnR5XSl9LGlzUG9pbnRlckV2ZW50OmZ1bmN0aW9uKGUpe3JldHVybiB0LmV4aXN0cyhlLnBvaW50ZXJJZCl9LGlzTW91c2VFdmVudDpmdW5jdGlvbihlKXtyZXR1cm4hdC5pc1RvdWNoRXZlbnQoZSkmJiF0LmlzUG9pbnRlckV2ZW50KGUpfSxnZXROdW1iZXJPZlRvdWNoUG9pbnRzOmZ1bmN0aW9uKGUpe3ZhciBpPS0xO3JldHVybiB0LmlzVG91Y2hFdmVudChlKSYmKGk9ZVt0LnRvdWNoUHJvcGVydHldLmxlbmd0aCksaX0saXNGaXJzdFRvdWNoOmZ1bmN0aW9uKGUpe3ZhciBpPXQuZ2V0TnVtYmVyT2ZUb3VjaFBvaW50cyhlKTtyZXR1cm4gdC5pc1BvaW50ZXJFdmVudChlKT9lLmlzUHJpbWFyeToxPT09aX0saXNCcm93c2VyOlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCxzdXBwb3J0c0VTNjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEZ1bmN0aW9uKFwiKGEgPSAwKSA9PiBhXCIpLCEwfWNhdGNoKHQpe3JldHVybiExfX0sc3VwcG9ydHNWTUw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Jyb3dzZXImJiEhZG9jdW1lbnQubmFtZXNwYWNlc30sc3VwcG9ydHNTVkc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Jyb3dzZXImJmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoXCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0Jhc2ljU3RydWN0dXJlXCIsXCIxLjFcIil9LHN1cHBvcnRzQ2FudmFzOmZ1bmN0aW9uKCl7dmFyIHQ9ITE7aWYodGhpcy5pc05vZGUoKSl0cnl7dD0hIShcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5yZXF1aXJlKFwiY2FudmFzXCIpOnJlcXVpcmUoXCJjYW52YXNcIikpfWNhdGNoKHQpe31yZXR1cm4gdHx8dGhpcy5pc0Jyb3dzZXImJiEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0fSxpc05vZGU6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0Jyb3dzZXImJihcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiYhIW1vZHVsZS5leHBvcnRzfHxcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwucmVxdWlyZWpzVmFycyYmIWdsb2JhbC5yZXF1aXJlanNWYXJzLmlzQnJvd3Nlcil9LGlzV2ViV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNCcm93c2VyJiZcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmXCJmdW5jdGlvblwiPT10eXBlb2Ygc2VsZi5wb3N0TWVzc2FnZX0sc3VwcG9ydHNQb2ludGVyRXZlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5pc0Jyb3dzZXImJndpbmRvdy5uYXZpZ2F0b3ImJih3aW5kb3cuUG9pbnRlckV2ZW50fHx3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkfHx3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpKX0saXNUb3VjaERldmljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQnJvd3NlciYmdm9pZCAwIT09d2luZG93Lm9udG91Y2hzdGFydH0saXNBbmRyb2lkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZXhpc3RzKG5hdmlnYXRvcikmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiYW5kcm9pZFwiKT4tMX0saXNXZWJraXRBbmRyb2lkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNBbmRyb2lkKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIiBBcHBsZVdlYktpdC9cIik+LTF9LGlzQXBwbGU6ZnVuY3Rpb24oKXtyZXR1cm4gZS5leGlzdHMobmF2aWdhdG9yKSYmKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcImlQYWRcIik+LTF8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcImlQaG9uZVwiKT4tMSl9LGlzV2Via2l0QXBwbGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0FwcGxlKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuc2VhcmNoKC9Nb2JpbGVcXC9bMC05QS1aYS16Ll0qU2FmYXJpLyk+LTF9LGlzTWV0cm9BcHA6ZnVuY3Rpb24oKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY2xpZW50SW5mb3JtYXRpb24mJndpbmRvdy5jbGllbnRJbmZvcm1hdGlvbi5hcHBWZXJzaW9uJiZ3aW5kb3cuY2xpZW50SW5mb3JtYXRpb24uYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNBcHBIb3N0XCIpPi0xfSxpc01vemlsbGE6ZnVuY3Rpb24oKXtyZXR1cm4gZS5leGlzdHMobmF2aWdhdG9yKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJtb3ppbGxhXCIpPi0xJiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiYXBwbGVcIil9LGlzRmlyZWZveE9TOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZXhpc3RzKG5hdmlnYXRvcikmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJhbmRyb2lkXCIpJiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiYXBwbGVcIikmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwibW9iaWxlXCIpPi0xJiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIm1vemlsbGFcIik+LTF9LGllVmVyc2lvbjpmdW5jdGlvbigpe3ZhciB0LGUsaT0zO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBkb2N1bWVudClyZXR1cm4gMDtlPSh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaVwiKTtkb3t0LmlubmVySFRNTD1cIlxceDNjIS0tW2lmIGd0IElFIFwiKyArK2krXCJdPjxpPjwvaT48IVtlbmRpZl0tLVxceDNlXCJ9d2hpbGUoZVswXSk7cmV0dXJuIGk+ND9pOnZvaWQgMH0oKSxnZXREaW1lbnNpb25zOmZ1bmN0aW9uKHQsaSl7dmFyIHIscyxvLG4sYSxoLGwsYyxkLHU9L1xcZCsoXFwuXFxkKik/cHgvO2lmKCF0aGlzLmlzQnJvd3Nlcnx8bnVsbD09PXQpcmV0dXJue3dpZHRoOjUwMCxoZWlnaHQ6NTAwfTtpZihyPShpPWl8fGRvY3VtZW50KS5nZXRFbGVtZW50QnlJZCh0KSwhZS5leGlzdHMocikpdGhyb3cgbmV3IEVycm9yKFwiXFxuSlNYR3JhcGg6IEhUTUwgY29udGFpbmVyIGVsZW1lbnQgJ1wiK3QrXCInIG5vdCBmb3VuZC5cIik7cmV0dXJuXCJub25lXCIhPT0ocz1yLnN0eWxlLmRpc3BsYXkpJiZudWxsIT09cz9yLmNsaWVudFdpZHRoPjAmJnIuY2xpZW50SGVpZ2h0PjA/e3dpZHRoOnIuY2xpZW50V2lkdGgsaGVpZ2h0OnIuY2xpZW50SGVpZ2h0fTooZD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShyKTpyLnN0eWxlLHt3aWR0aDp1LnRlc3QoZC53aWR0aCk/cGFyc2VGbG9hdChkLndpZHRoKTowLGhlaWdodDp1LnRlc3QoZC5oZWlnaHQpP3BhcnNlRmxvYXQoZC5oZWlnaHQpOjB9KToobj0obz1yLnN0eWxlKS52aXNpYmlsaXR5LGE9by5wb3NpdGlvbixoPW8uZGlzcGxheSxvLnZpc2liaWxpdHk9XCJoaWRkZW5cIixvLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixvLmRpc3BsYXk9XCJibG9ja1wiLGw9ci5jbGllbnRXaWR0aCxjPXIuY2xpZW50SGVpZ2h0LG8uZGlzcGxheT1oLG8ucG9zaXRpb249YSxvLnZpc2liaWxpdHk9bix7d2lkdGg6bCxoZWlnaHQ6Y30pfSxhZGRFdmVudDpmdW5jdGlvbih0LGkscixzKXt2YXIgbz1mdW5jdGlvbigpe3JldHVybiByLmFwcGx5KHMsYXJndW1lbnRzKX07by5vcmlnaW49cixzW1wieF9pbnRlcm5hbFwiK2ldPXNbXCJ4X2ludGVybmFsXCIraV18fFtdLHNbXCJ4X2ludGVybmFsXCIraV0ucHVzaChvKSxlLmV4aXN0cyh0KSYmZS5leGlzdHModC5hZGRFdmVudExpc3RlbmVyKSYmdC5hZGRFdmVudExpc3RlbmVyKGksbywhMSksZS5leGlzdHModCkmJmUuZXhpc3RzKHQuYXR0YWNoRXZlbnQpJiZ0LmF0dGFjaEV2ZW50KFwib25cIitpLG8pfSxyZW1vdmVFdmVudDpmdW5jdGlvbihpLHIscyxvKXt2YXIgbjtpZihlLmV4aXN0cyhvKSlpZihlLmV4aXN0cyhvW1wieF9pbnRlcm5hbFwiK3JdKSlpZihlLmlzQXJyYXkob1tcInhfaW50ZXJuYWxcIityXSkpaWYoLTEhPT0obj1lLmluZGV4T2Yob1tcInhfaW50ZXJuYWxcIityXSxzLFwib3JpZ2luXCIpKSl7dHJ5e2UuZXhpc3RzKGkpJiZlLmV4aXN0cyhpLnJlbW92ZUV2ZW50TGlzdGVuZXIpJiZpLnJlbW92ZUV2ZW50TGlzdGVuZXIocixvW1wieF9pbnRlcm5hbFwiK3JdW25dLCExKSxlLmV4aXN0cyhpKSYmZS5leGlzdHMoaS5kZXRhY2hFdmVudCkmJmkuZGV0YWNoRXZlbnQoXCJvblwiK3Isb1tcInhfaW50ZXJuYWxcIityXVtuXSl9Y2F0Y2goZSl7dC5kZWJ1ZyhcImV2ZW50IG5vdCByZWdpc3RlcmVkIGluIGJyb3dzZXI6IChcIityK1wiIC0tIFwiK3MrXCIpXCIpfW9bXCJ4X2ludGVybmFsXCIrcl0uc3BsaWNlKG4sMSl9ZWxzZSB0LmRlYnVnKFwicmVtb3ZlRXZlbnQ6IG5vIHN1Y2ggZXZlbnQgZnVuY3Rpb24gaW4gaW50ZXJuYWwgbGlzdDogXCIrcyk7ZWxzZSB0LmRlYnVnKFwib3duZXJbeF9pbnRlcm5hbCArIFwiK3IrXCJdIGlzIG5vdCBhbiBhcnJheVwiKTtlbHNlIHQuZGVidWcoXCJubyBzdWNoIHR5cGU6IFwiK3IpO2Vsc2UgdC5kZWJ1ZyhcIm5vIHN1Y2ggb3duZXJcIil9LHJlbW92ZUFsbEV2ZW50czpmdW5jdGlvbihlLGkscil7dmFyIHM7aWYocltcInhfaW50ZXJuYWxcIitpXSl7Zm9yKHM9cltcInhfaW50ZXJuYWxcIitpXS5sZW5ndGgtMTtzPj0wO3MtLSl0LnJlbW92ZUV2ZW50KGUsaSxyW1wieF9pbnRlcm5hbFwiK2ldW3NdLm9yaWdpbixyKTtyW1wieF9pbnRlcm5hbFwiK2ldLmxlbmd0aD4wJiZ0LmRlYnVnKFwicmVtb3ZlQWxsRXZlbnRzOiBOb3QgYWxsIGV2ZW50cyBjb3VsZCBiZSByZW1vdmVkLlwiKX19LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGkscixzKXt2YXIgbyxuLGEsaD0wLGw9MDtpZihpfHwoaT13aW5kb3cuZXZlbnQpLHM9c3x8ZG9jdW1lbnQsYT1pW3QudG91Y2hQcm9wZXJ0eV0sZS5leGlzdHMoYSkmJjA9PT1hLmxlbmd0aCYmKGE9aS5jaGFuZ2VkVG91Y2hlcyksZS5leGlzdHMocikmJmUuZXhpc3RzKGEpKWlmKC0xPT09cil7Zm9yKG49YS5sZW5ndGgsbz0wO288bjtvKyspaWYoYVtvXSl7aT1hW29dO2JyZWFrfX1lbHNlIGk9YVtyXTtyZXR1cm4gaS5jbGllbnRYJiYoaD1pLmNsaWVudFgsbD1pLmNsaWVudFkpLFtoLGxdfSxnZXRPZmZzZXQ6ZnVuY3Rpb24odCl7dmFyIGUsaT10LHI9dCxzPWkub2Zmc2V0TGVmdC1pLnNjcm9sbExlZnQsbz1pLm9mZnNldFRvcC1pLnNjcm9sbFRvcDtmb3Iocz0oZT10aGlzLmdldENTU1RyYW5zZm9ybShbcyxvXSxpKSlbMF0sbz1lWzFdLGk9aS5vZmZzZXRQYXJlbnQ7aTspe2ZvcihzKz1pLm9mZnNldExlZnQsbys9aS5vZmZzZXRUb3AsaS5vZmZzZXRQYXJlbnQmJihzKz1pLmNsaWVudExlZnQtaS5zY3JvbGxMZWZ0LG8rPWkuY2xpZW50VG9wLWkuc2Nyb2xsVG9wKSxzPShlPXRoaXMuZ2V0Q1NTVHJhbnNmb3JtKFtzLG9dLGkpKVswXSxvPWVbMV0scj1yLnBhcmVudE5vZGU7ciE9PWk7KXMrPXIuY2xpZW50TGVmdC1yLnNjcm9sbExlZnQsbys9ci5jbGllbnRUb3Atci5zY3JvbGxUb3Ascz0oZT10aGlzLmdldENTU1RyYW5zZm9ybShbcyxvXSxyKSlbMF0sbz1lWzFdLHI9ci5wYXJlbnROb2RlO2k9aS5vZmZzZXRQYXJlbnR9cmV0dXJuW3Msb119LGdldFN0eWxlOmZ1bmN0aW9uKGUsaSl7dmFyIHIscz1lLm93bmVyRG9jdW1lbnQ7cmV0dXJuIHMuZGVmYXVsdFZpZXcmJnMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZT9yPXMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmdldFByb3BlcnR5VmFsdWUoaSk6ZS5jdXJyZW50U3R5bGUmJnQuaWVWZXJzaW9uPj05P3I9ZS5jdXJyZW50U3R5bGVbaV06ZS5zdHlsZSYmKGk9aS5yZXBsYWNlKC8tKFthLXpdfFswLTldKS9naSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSkpLHI9ZS5zdHlsZVtpXSkscn0sZ2V0UHJvcDpmdW5jdGlvbih0LGUpe3ZhciBpPXBhcnNlSW50KHRoaXMuZ2V0U3R5bGUodCxlKSwxMCk7cmV0dXJuIGlzTmFOKGkpPzA6aX0sZ2V0Q1NTVHJhbnNmb3JtOmZ1bmN0aW9uKHQsaSl7dmFyIHIscyxvLG4sYSxoLGwsYz1bXCJ0cmFuc2Zvcm1cIixcIndlYmtpdFRyYW5zZm9ybVwiLFwiTW96VHJhbnNmb3JtXCIsXCJtc1RyYW5zZm9ybVwiLFwib1RyYW5zZm9ybVwiXTtmb3IoYT1jLmxlbmd0aCxyPTAsbz1cIlwiO3I8YTtyKyspaWYoZS5leGlzdHMoaS5zdHlsZVtjW3JdXSkpe289aS5zdHlsZVtjW3JdXTticmVha31pZihcIlwiIT09byYmKG49by5pbmRleE9mKFwiKFwiKSk+MCl7Zm9yKGE9by5sZW5ndGgscz0wLGg9KGw9by5zdWJzdHJpbmcobisxLGEtMSkuc3BsaXQoXCIsXCIpKS5sZW5ndGg7czxoO3MrKylsW3NdPXBhcnNlRmxvYXQobFtzXSk7MD09PW8uaW5kZXhPZihcIm1hdHJpeFwiKT8odFswXSs9bFs0XSx0WzFdKz1sWzVdKTowPT09by5pbmRleE9mKFwidHJhbnNsYXRlWFwiKT90WzBdKz1sWzBdOjA9PT1vLmluZGV4T2YoXCJ0cmFuc2xhdGVZXCIpP3RbMV0rPWxbMF06MD09PW8uaW5kZXhPZihcInRyYW5zbGF0ZVwiKSYmKHRbMF0rPWxbMF0sdFsxXSs9bFsxXSl9cmV0dXJuIGUuZXhpc3RzKGkuc3R5bGUuem9vbSkmJlwiXCIhPT0obz1pLnN0eWxlLnpvb20pJiYodFswXSo9cGFyc2VGbG9hdChvKSx0WzFdKj1wYXJzZUZsb2F0KG8pKSx0fSxnZXRDU1NUcmFuc2Zvcm1NYXRyaXg6ZnVuY3Rpb24odCl7dmFyIGkscixzLG8sbixhLGgsbCxjPXQub3duZXJEb2N1bWVudCxkPVtcInRyYW5zZm9ybVwiLFwid2Via2l0VHJhbnNmb3JtXCIsXCJNb3pUcmFuc2Zvcm1cIixcIm1zVHJhbnNmb3JtXCIsXCJvVHJhbnNmb3JtXCJdLHU9W1sxLDAsMF0sWzAsMSwwXSxbMCwwLDFdXTtpZihjLmRlZmF1bHRWaWV3JiZjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpcz0obD1jLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCxudWxsKSkuZ2V0UHJvcGVydHlWYWx1ZShcIi13ZWJraXQtdHJhbnNmb3JtXCIpfHxsLmdldFByb3BlcnR5VmFsdWUoXCItbW96LXRyYW5zZm9ybVwiKXx8bC5nZXRQcm9wZXJ0eVZhbHVlKFwiLW1zLXRyYW5zZm9ybVwiKXx8bC5nZXRQcm9wZXJ0eVZhbHVlKFwiLW8tdHJhbnNmb3JtXCIpfHxsLmdldFByb3BlcnR5VmFsdWUoXCJ0cmFuc2Zvcm1cIik7ZWxzZSBmb3Iobj1kLmxlbmd0aCxpPTAscz1cIlwiO2k8bjtpKyspaWYoZS5leGlzdHModC5zdHlsZVtkW2ldXSkpe3M9dC5zdHlsZVtkW2ldXTticmVha31pZihcIlwiIT09cyYmKG89cy5pbmRleE9mKFwiKFwiKSk+MCl7Zm9yKG49cy5sZW5ndGgscj0wLGE9KGg9cy5zdWJzdHJpbmcobysxLG4tMSkuc3BsaXQoXCIsXCIpKS5sZW5ndGg7cjxhO3IrKyloW3JdPXBhcnNlRmxvYXQoaFtyXSk7MD09PXMuaW5kZXhPZihcIm1hdHJpeFwiKT91PVtbMSwwLDBdLFswLGhbMF0saFsxXV0sWzAsaFsyXSxoWzNdXV06MD09PXMuaW5kZXhPZihcInNjYWxlWFwiKT91WzFdWzFdPWhbMF06MD09PXMuaW5kZXhPZihcInNjYWxlWVwiKT91WzJdWzJdPWhbMF06MD09PXMuaW5kZXhPZihcInNjYWxlXCIpJiYodVsxXVsxXT1oWzBdLHVbMl1bMl09aFsxXSl9cmV0dXJuIGUuZXhpc3RzKHQuc3R5bGUuem9vbSkmJlwiXCIhPT0ocz10LnN0eWxlLnpvb20pJiYodVsxXVsxXSo9cGFyc2VGbG9hdChzKSx1WzJdWzJdKj1wYXJzZUZsb2F0KHMpKSx1fSx0aW1lZENodW5rOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzPXQuY29uY2F0KCksbz1mdW5jdGlvbigpe3ZhciBuPStuZXcgRGF0ZTtkb3tlLmNhbGwoaSxzLnNoaWZ0KCkpfXdoaWxlKHMubGVuZ3RoPjAmJituZXcgRGF0ZS1uPDMwMCk7cy5sZW5ndGg+MD93aW5kb3cuc2V0VGltZW91dChvLDEpOnIodCl9O3dpbmRvdy5zZXRUaW1lb3V0KG8sMSl9LF9nZXRTY2FsZUZhY3RvcnM6ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxpPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LHI9d2luZG93LnNjcmVlbi53aWR0aC9lLHM9d2luZG93LnNjcmVlbi5oZWlnaHQvaSxvPS41Kih3aW5kb3cuc2NyZWVuLmhlaWdodC1pKSxuPU1hdGgubWluKHIscyk7cmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhJiZ3aW5kb3cubWF0Y2hNZWRpYShcIihvcmllbnRhdGlvbjpsYW5kc2NhcGUpXCIpLm1hdGNoZXMmJndpbmRvdy5zY3JlZW4ud2lkdGg8d2luZG93LnNjcmVlbi5oZWlnaHQmJihyPXdpbmRvdy5zY3JlZW4uaGVpZ2h0L2Uscz13aW5kb3cuc2NyZWVuLndpZHRoL2ksbj1NYXRoLm1pbihyLHMpLG89LjUqKHdpbmRvdy5zY3JlZW4ud2lkdGgtaSkpLHtzY2FsZTpuKj0uODUsdnNoaWZ0Om8sd2lkdGg6ZX19LHNjYWxlSlNYR3JhcGhEaXY6ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbyxuPWRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aCxhPVtcIjpmdWxsc2NyZWVuXCIsXCI6LXdlYmtpdC1mdWxsLXNjcmVlblwiLFwiOi1tb3otZnVsbC1zY3JlZW5cIixcIjotbXMtZnVsbHNjcmVlblwiXSxoPWEubGVuZ3RoLGw9XCJ7bWFyZ2luOjAgYXV0bzt0cmFuc2Zvcm06bWF0cml4KFwiK2krXCIsMCwwLFwiK2krXCIsMCxcIityK1wiKTt9XCIsYz1uZXcgUmVnRXhwKFwiLiojXCIrdCtcIjouKmZ1bGwuKnNjcmVlbi4qI1wiK2UrXCIuKmF1dG87Lip0cmFuc2Zvcm06LiptYXRyaXhcIik7Zm9yKDA9PT1uJiYoKHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKSxuPWRvY3VtZW50LnN0eWxlU2hlZXRzLmxlbmd0aCksZG9jdW1lbnQuc3R5bGVTaGVldHNbbi0xXS5jc3NSdWxlcy5sZW5ndGg+MCYmYy50ZXN0KGRvY3VtZW50LnN0eWxlU2hlZXRzW24tMV0uY3NzUnVsZXNbMF0uY3NzVGV4dCkmJmRvY3VtZW50LnN0eWxlU2hlZXRzW24tMV0uZGVsZXRlUnVsZSYmZG9jdW1lbnQuc3R5bGVTaGVldHNbbi0xXS5kZWxldGVSdWxlKDApLG89MDtvPGg7bysrKXRyeXtkb2N1bWVudC5zdHlsZVNoZWV0c1tuLTFdLmluc2VydFJ1bGUoXCIjXCIrdCthW29dK1wiICNcIitlK2wsMCk7YnJlYWt9Y2F0Y2godCl7fW89PT1oJiYoY29uc29sZS5sb2coXCJKWEcuc2NhbGVKU1hHcmFwaERpdjogQ291bGQgbm90IGFkZCBhbnkgQ1NTIHJ1bGUuXCIpLGNvbnNvbGUubG9nKFwiT25lIHBvc3NpYmxlIHJlYXNvbiBjb3VsZCBiZSB0aGF0IHRoZSBpZCBvZiB0aGUgSlNYR3JhcGggY29udGFpbmVyIGRvZXMgbm90IHN0YXJ0IHdpdGggYSBsZXR0ZXIuXCIpKX19KSx0fSkpLGRlZmluZShcInV0aWxzL3htbFwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5YTUw9e2NsZWFuV2hpdGVzcGFjZTpmdW5jdGlvbih0KXtmb3IodmFyIGk9dC5maXJzdENoaWxkO2UuZXhpc3RzKGkpOykzIT09aS5ub2RlVHlwZXx8L1xcUy8udGVzdChpLm5vZGVWYWx1ZSk/MT09PWkubm9kZVR5cGUmJnRoaXMuY2xlYW5XaGl0ZXNwYWNlKGkpOnQucmVtb3ZlQ2hpbGQoaSksaT1pLm5leHRTaWJsaW5nfSxwYXJzZTpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIERPTVBhcnNlcnx8XCJvYmplY3RcIj09dHlwZW9mIERPTVBhcnNlcj9ET01QYXJzZXI6ZnVuY3Rpb24oKXt0aGlzLnBhcnNlRnJvbVN0cmluZz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBBY3RpdmVYT2JqZWN0JiYoZT1uZXcgQWN0aXZlWE9iamVjdChcIk1TWE1MLkRvbURvY3VtZW50XCIpKS5sb2FkWE1MKHQpLGV9fSxlPShuZXcgaSkucGFyc2VGcm9tU3RyaW5nKHQsXCJ0ZXh0L3htbFwiKSx0aGlzLmNsZWFuV2hpdGVzcGFjZShlKSxlfX0sdC5YTUx9KSksZGVmaW5lKFwidXRpbHMvZXZlbnRcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRXZlbnRFbWl0dGVyPXtldmVudEhhbmRsZXJzOnt9LHN1c3BlbmRlZDp7fSx0cmlnZ2VyOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG8sbixhO2ZvcihuPXQubGVuZ3RoLHI9MDtyPG47cisrKWlmKG89dGhpcy5ldmVudEhhbmRsZXJzW3Rbcl1dLCF0aGlzLnN1c3BlbmRlZFt0W3JdXSl7aWYodGhpcy5zdXNwZW5kZWRbdFtyXV09ITAsbylmb3IoYT1vLmxlbmd0aCxpPTA7aTxhO2krKykocz1vW2ldKS5oYW5kbGVyLmFwcGx5KHMuY29udGV4dCxlKTt0aGlzLnN1c3BlbmRlZFt0W3JdXT0hMX1yZXR1cm4gdGhpc30sb246ZnVuY3Rpb24odCxpLHIpe3JldHVybiBlLmlzQXJyYXkodGhpcy5ldmVudEhhbmRsZXJzW3RdKXx8KHRoaXMuZXZlbnRIYW5kbGVyc1t0XT1bXSkscj1lLmRlZihyLHRoaXMpLHRoaXMuZXZlbnRIYW5kbGVyc1t0XS5wdXNoKHtoYW5kbGVyOmksY29udGV4dDpyfSksdGhpc30sb2ZmOmZ1bmN0aW9uKHQsaSl7dmFyIHI7cmV0dXJuIHQmJmUuaXNBcnJheSh0aGlzLmV2ZW50SGFuZGxlcnNbdF0pPyhpPygocj1lLmluZGV4T2YodGhpcy5ldmVudEhhbmRsZXJzW3RdLGksXCJoYW5kbGVyXCIpKT4tMSYmdGhpcy5ldmVudEhhbmRsZXJzW3RdLnNwbGljZShyLDEpLDA9PT10aGlzLmV2ZW50SGFuZGxlcnNbdF0ubGVuZ3RoJiZkZWxldGUgdGhpcy5ldmVudEhhbmRsZXJzW3RdKTpkZWxldGUgdGhpcy5ldmVudEhhbmRsZXJzW3RdLHRoaXMpOnRoaXN9LGV2ZW50aWZ5OmZ1bmN0aW9uKHQpe3QuZXZlbnRIYW5kbGVycz17fSx0Lm9uPXRoaXMub24sdC5vZmY9dGhpcy5vZmYsdC50cmlnZ2VyRXZlbnRIYW5kbGVycz10aGlzLnRyaWdnZXIsdC50cmlnZ2VyPXRoaXMudHJpZ2dlcix0LnN1c3BlbmRlZD17fX19LHQuRXZlbnRFbWl0dGVyfSkpLGRlZmluZShcIm1hdGgvbWF0aFwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPWZ1bmN0aW9uKHQpe3ZhciBlLHI7cmV0dXJuIHQubWVtb3x8KGU9e30scj1BcnJheS5wcm90b3R5cGUuam9pbix0Lm1lbW89ZnVuY3Rpb24oKXt2YXIgcz1yLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZVtzXSE9PWk/ZVtzXTplW3NdPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksdC5tZW1vfTtyZXR1cm4gdC5NYXRoPXtlcHM6MWUtNixyZWxEaWY6ZnVuY3Rpb24odCxlKXt2YXIgaT1NYXRoLmFicyh0KSxyPU1hdGguYWJzKGUpO3JldHVybiAwPT09KHI9TWF0aC5tYXgoaSxyKSk/MDpNYXRoLmFicyh0LWUpL3J9LG1vZDpmdW5jdGlvbih0LGUpe3JldHVybiB0LU1hdGguZmxvb3IodC9lKSplfSx2ZWN0b3I6ZnVuY3Rpb24odCxlKXt2YXIgaSxyO2ZvcihlPWV8fDAsaT1bXSxyPTA7cjx0O3IrKylpW3JdPWU7cmV0dXJuIGl9LG1hdHJpeDpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvO2ZvcihpPWl8fDAsZT1lfHx0LHI9W10scz0wO3M8dDtzKyspZm9yKHJbc109W10sbz0wO288ZTtvKyspcltzXVtvXT1pO3JldHVybiByfSxpZGVudGl0eTpmdW5jdGlvbih0LGUpe3ZhciByLHM7Zm9yKGU9PT1pJiZcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9dCkscj10aGlzLm1hdHJpeCh0LGUpLHM9MDtzPE1hdGgubWluKHQsZSk7cysrKXJbc11bc109MTtyZXR1cm4gcn0sZnJ1c3R1bTpmdW5jdGlvbih0LGUsaSxyLHMsbyl7dmFyIG49dGhpcy5tYXRyaXgoNCw0KTtyZXR1cm4gblswXVswXT0yKnMvKGUtdCksblswXVsxXT0wLG5bMF1bMl09KGUrdCkvKGUtdCksblswXVszXT0wLG5bMV1bMF09MCxuWzFdWzFdPTIqcy8oci1pKSxuWzFdWzJdPShyK2kpLyhyLWkpLG5bMV1bM109MCxuWzJdWzBdPTAsblsyXVsxXT0wLG5bMl1bMl09LShvK3MpLyhvLXMpLG5bMl1bM109LW8qcyoyLyhvLXMpLG5bM11bMF09MCxuWzNdWzFdPTAsblszXVsyXT0tMSxuWzNdWzNdPTAsbn0scHJvamVjdGlvbjpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcz1pKk1hdGgudGFuKHQvMiksbz1zKmU7cmV0dXJuIHRoaXMuZnJ1c3R1bSgtbyxvLC1zLHMsaSxyKX0sbWF0VmVjTXVsdDpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvPXQubGVuZ3RoLG49ZS5sZW5ndGgsYT1bXTtpZigzPT09bilmb3IoaT0wO2k8bztpKyspYVtpXT10W2ldWzBdKmVbMF0rdFtpXVsxXSplWzFdK3RbaV1bMl0qZVsyXTtlbHNlIGZvcihpPTA7aTxvO2krKyl7Zm9yKHI9MCxzPTA7czxuO3MrKylyKz10W2ldW3NdKmVbc107YVtpXT1yfXJldHVybiBhfSxtYXRNYXRNdWx0OmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG8sbj10Lmxlbmd0aCxhPW4+MD9lWzBdLmxlbmd0aDowLGg9ZS5sZW5ndGgsbD10aGlzLm1hdHJpeChuLGEpO2ZvcihpPTA7aTxuO2krKylmb3Iocj0wO3I8YTtyKyspe2ZvcihzPTAsbz0wO288aDtvKyspcys9dFtpXVtvXSplW29dW3JdO2xbaV1bcl09c31yZXR1cm4gbH0sdHJhbnNwb3NlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG87Zm9yKHM9dC5sZW5ndGgsbz10Lmxlbmd0aD4wP3RbMF0ubGVuZ3RoOjAsZT10aGlzLm1hdHJpeChvLHMpLGk9MDtpPG87aSsrKWZvcihyPTA7cjxzO3IrKyllW2ldW3JdPXRbcl1baV07cmV0dXJuIGV9LGludmVyc2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuLGEsaD10Lmxlbmd0aCxsPVtdLGM9W10sZD1bXTtmb3IoZT0wO2U8aDtlKyspe2ZvcihsW2VdPVtdLGk9MDtpPGg7aSsrKWxbZV1baV09dFtlXVtpXTtjW2VdPWV9Zm9yKGk9MDtpPGg7aSsrKXtmb3Iobz1NYXRoLmFicyhsW2ldW2ldKSxuPWksZT1pKzE7ZTxoO2UrKylNYXRoLmFicyhsW2VdW2ldKT5vJiYobz1NYXRoLmFicyhsW2VdW2ldKSxuPWUpO2lmKG88PXRoaXMuZXBzKXJldHVybltdO2lmKG4+aSl7Zm9yKHI9MDtyPGg7cisrKWE9bFtpXVtyXSxsW2ldW3JdPWxbbl1bcl0sbFtuXVtyXT1hO2E9Y1tpXSxjW2ldPWNbbl0sY1tuXT1hfWZvcihzPTEvbFtpXVtpXSxlPTA7ZTxoO2UrKylsW2VdW2ldKj1zO2ZvcihsW2ldW2ldPXMscj0wO3I8aDtyKyspaWYociE9PWkpe2ZvcihlPTA7ZTxoO2UrKyllIT09aSYmKGxbZV1bcl0tPWxbZV1baV0qbFtpXVtyXSk7bFtpXVtyXT0tcypsW2ldW3JdfX1mb3IoZT0wO2U8aDtlKyspe2ZvcihyPTA7cjxoO3IrKylkW2Nbcl1dPWxbZV1bcl07Zm9yKHI9MDtyPGg7cisrKWxbZV1bcl09ZFtyXX1yZXR1cm4gbH0saW5uZXJQcm9kdWN0OmZ1bmN0aW9uKHQscixzKXt2YXIgbyxuPTA7Zm9yKHMhPT1pJiZlLmlzTnVtYmVyKHMpfHwocz10Lmxlbmd0aCksbz0wO288cztvKyspbis9dFtvXSpyW29dO3JldHVybiBufSxjcm9zc1Byb2R1Y3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm5bdFsxXSplWzJdLXRbMl0qZVsxXSx0WzJdKmVbMF0tdFswXSplWzJdLHRbMF0qZVsxXS10WzFdKmVbMF1dfSxub3JtOmZ1bmN0aW9uKHQscil7dmFyIHMsbz0wO2ZvcihyIT09aSYmZS5pc051bWJlcihyKXx8KHI9dC5sZW5ndGgpLHM9MDtzPHI7cysrKW8rPXRbc10qdFtzXTtyZXR1cm4gTWF0aC5zcXJ0KG8pfSxheHB5OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzPWUubGVuZ3RoLG89W107Zm9yKHI9MDtyPHM7cisrKW9bcl09dCplW3JdK2lbcl07cmV0dXJuIG99LGZhY3RvcmlhbDpyKChmdW5jdGlvbih0KXtyZXR1cm4gdDwwP05hTjowPT09KHQ9TWF0aC5mbG9vcih0KSl8fDE9PT10PzE6dCp0aGlzLmZhY3RvcmlhbCh0LTEpfSkpLGJpbm9taWFsOnIoKGZ1bmN0aW9uKHQsZSl7dmFyIGkscjtpZihlPnR8fGU8MClyZXR1cm4gTmFOO2lmKGU9TWF0aC5yb3VuZChlKSx0PU1hdGgucm91bmQodCksMD09PWV8fGU9PT10KXJldHVybiAxO2ZvcihpPTEscj0wO3I8ZTtyKyspaSo9dC1yLGkvPXIrMTtyZXR1cm4gaX0pKSxjb3NoOk1hdGguY29zaHx8ZnVuY3Rpb24odCl7cmV0dXJuLjUqKE1hdGguZXhwKHQpK01hdGguZXhwKC10KSl9LHNpbmg6TWF0aC5zaW5ofHxmdW5jdGlvbih0KXtyZXR1cm4uNSooTWF0aC5leHAodCktTWF0aC5leHAoLXQpKX0sYWNvc2g6TWF0aC5hY29zaHx8ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubG9nKHQrTWF0aC5zcXJ0KHQqdC0xKSl9LGFzaW5oOk1hdGguYXNpbmh8fGZ1bmN0aW9uKHQpe3JldHVybiB0PT09LTEvMD90Ok1hdGgubG9nKHQrTWF0aC5zcXJ0KHQqdCsxKSl9LGNvdDpmdW5jdGlvbih0KXtyZXR1cm4gMS9NYXRoLnRhbih0KX0sYWNvdDpmdW5jdGlvbih0KXtyZXR1cm4odD49MD8uNTotLjUpKk1hdGguUEktTWF0aC5hdGFuKHQpfSxudGhyb290OmZ1bmN0aW9uKHQsZSl7dmFyIGk9MS9lO3JldHVybiBlPD0wfHxNYXRoLmZsb29yKGUpIT09ZT9OYU46MD09PXQ/MDp0PjA/TWF0aC5leHAoaSpNYXRoLmxvZyh0KSk6ZSUyPT0xPy1NYXRoLmV4cChpKk1hdGgubG9nKC10KSk6TmFOfSxjYnJ0Ok1hdGguY2JydHx8ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubnRocm9vdCh0LDMpfSxwb3c6ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PXQ/MD09PWU/MTowOk1hdGguZmxvb3IoZSk9PT1lP01hdGgucG93KHQsZSk6dD4wP01hdGguZXhwKGUqTWF0aC5sb2codCkpOk5hTn0scmF0cG93OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcjtyZXR1cm4gMD09PWU/MTowPT09aT9OYU46KHI9dGhpcy5nY2QoZSxpKSx0aGlzLm50aHJvb3QodGhpcy5wb3codCxlL3IpLGkvcikpfSxsb2cxMDpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5sb2codCkvTWF0aC5sb2coMTApfSxsb2cyOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmxvZyh0KS9NYXRoLmxvZygyKX0sbG9nOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHZvaWQgMCE9PWkmJmUuaXNOdW1iZXIoaSk/TWF0aC5sb2codCkvTWF0aC5sb2coaSk6TWF0aC5sb2codCl9LHNpZ246TWF0aC5zaWdufHxmdW5jdGlvbih0KXtyZXR1cm4gMD09PSh0PSt0KXx8aXNOYU4odCk/dDp0PjA/MTotMX0sc3F1YW1wb3c6ZnVuY3Rpb24odCxlKXt2YXIgaTtpZihNYXRoLmZsb29yKGUpPT09ZSl7Zm9yKGk9MSxlPDAmJih0PTEvdCxlKj0tMSk7MCE9PWU7KTEmZSYmKGkqPXQpLGU+Pj0xLHQqPXQ7cmV0dXJuIGl9cmV0dXJuIHRoaXMucG93KHQsZSl9LGdjZDpmdW5jdGlvbih0LGkpe2lmKHQ9TWF0aC5hYnModCksaT1NYXRoLmFicyhpKSwhZS5pc051bWJlcih0KXx8IWUuaXNOdW1iZXIoaSkpcmV0dXJuIE5hTjtpZihpPnQpe3ZhciByPXQ7dD1pLGk9cn1mb3IoOzspe2lmKDA9PT0odCU9aSkpcmV0dXJuIGk7aWYoMD09PShpJT10KSlyZXR1cm4gdH19LGxjbTpmdW5jdGlvbih0LGkpe3ZhciByO3JldHVybiBlLmlzTnVtYmVyKHQpJiZlLmlzTnVtYmVyKGkpPzAhPT0ocj10KmkpP3IvdGhpcy5nY2QodCxpKTowOk5hTn0sZXJmOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlByb2JGdW5jcy5lcmYodCl9LGVyZmM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuUHJvYkZ1bmNzLmVyZmModCl9LGVyZmk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuUHJvYkZ1bmNzLmVyZmkodCl9LG5kdHI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuUHJvYkZ1bmNzLm5kdHIodCl9LG5kdHJpOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlByb2JGdW5jcy5uZHRyaSh0KX0sbHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdDxlfSxsZXE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdDw9ZX0sZ3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD5lfSxnZXE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD49ZX0sZXE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9LG5lcTpmdW5jdGlvbih0LGUpe3JldHVybiB0IT09ZX0sYW5kOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQmJmV9LG5vdDpmdW5jdGlvbih0KXtyZXR1cm4hdH0sb3I6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHx8ZX0seG9yOmZ1bmN0aW9uKHQsZSl7cmV0dXJuKHR8fGUpJiYhKHQmJmUpfSxub3JtYWxpemU6ZnVuY3Rpb24odCl7dmFyIGUsaSxyPTIqdFszXSxzPXRbNF0vcjtyZXR1cm4gdFs1XT1zLHRbNl09LXRbMV0vcix0WzddPS10WzJdL3IsaXNGaW5pdGUocyk/TWF0aC5hYnMocyk+PTE/KHRbMF09KHRbNl0qdFs2XSt0WzddKnRbN10tcypzKS8oMipzKSx0WzFdPS10WzZdL3MsdFsyXT0tdFs3XS9zLHRbM109MS8oMipzKSx0WzRdPTEpOihpPXM8PTA/LTE6MSx0WzBdPWkqKHRbNl0qdFs2XSt0WzddKnRbN10tcypzKSouNSx0WzFdPS1pKnRbNl0sdFsyXT0taSp0WzddLHRbM109aS8yLHRbNF09aSpzKTooZT1NYXRoLnNxcnQodFsxXSp0WzFdK3RbMl0qdFsyXSksdFswXS89ZSx0WzFdLz1lLHRbMl0vPWUsdFszXT0wLHRbNF09MSksdH0sdG9HTDpmdW5jdGlvbih0KXt2YXIgZSxpLHI7aWYoZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/bmV3IEZsb2F0MzJBcnJheSgxNik6bmV3IEFycmF5KDE2KSw0IT09dC5sZW5ndGgmJjQhPT10WzBdLmxlbmd0aClyZXR1cm4gZTtmb3IoaT0wO2k8NDtpKyspZm9yKHI9MDtyPDQ7cisrKWVbaSs0KnJdPXRbaV1bcl07cmV0dXJuIGV9LFZpZXRhOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzPXQubGVuZ3RoLG89W107Zm9yKG89dC5zbGljZSgpLGU9MTtlPHM7KytlKXtmb3Iocj1vW2VdLG9bZV0qPW9bZS0xXSxpPWUtMTtpPj0xOy0taSlvW2ldKz1vW2ktMV0qcjtvWzBdKz1yfXJldHVybiBvfX0sdC5NYXRofSkpLGRlZmluZShcImJhc2UvY29vcmRzXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwidXRpbHMvZXZlbnRcIixcInV0aWxzL3R5cGVcIixcIm1hdGgvbWF0aFwiXSwoZnVuY3Rpb24odCxlLGkscixzKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Db29yZHM9ZnVuY3Rpb24odCxlLHMsbyl7dGhpcy5ib2FyZD1zLHRoaXMudXNyQ29vcmRzPVtdLHRoaXMuc2NyQ29vcmRzPVtdLHRoaXMuZW1pdHRlcj0hci5leGlzdHMobyl8fG8sdGhpcy5lbWl0dGVyJiZpLmV2ZW50aWZ5KHRoaXMpLHRoaXMuc2V0Q29vcmRpbmF0ZXModCxlLCExLCEwKX0sdC5leHRlbmQodC5Db29yZHMucHJvdG90eXBlLHtub3JtYWxpemVVc3JDb29yZHM6ZnVuY3Rpb24oKXtNYXRoLmFicyh0aGlzLnVzckNvb3Jkc1swXSk+cy5lcHMmJih0aGlzLnVzckNvb3Jkc1sxXS89dGhpcy51c3JDb29yZHNbMF0sdGhpcy51c3JDb29yZHNbMl0vPXRoaXMudXNyQ29vcmRzWzBdLHRoaXMudXNyQ29vcmRzWzBdPTEpfSx1c3Iyc2NyZWVuOmZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgucm91bmQsaT10aGlzLmJvYXJkLHI9dGhpcy51c3JDb29yZHMscz1pLm9yaWdpbi5zY3JDb29yZHM7ITA9PT10Pyh0aGlzLnNjckNvb3Jkc1swXT1lKHJbMF0pLHRoaXMuc2NyQ29vcmRzWzFdPWUoclswXSpzWzFdK3JbMV0qaS51bml0WCksdGhpcy5zY3JDb29yZHNbMl09ZShyWzBdKnNbMl0tclsyXSppLnVuaXRZKSk6KHRoaXMuc2NyQ29vcmRzWzBdPXJbMF0sdGhpcy5zY3JDb29yZHNbMV09clswXSpzWzFdK3JbMV0qaS51bml0WCx0aGlzLnNjckNvb3Jkc1syXT1yWzBdKnNbMl0tclsyXSppLnVuaXRZKX0sc2NyZWVuMnVzcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9hcmQub3JpZ2luLnNjckNvb3JkcyxlPXRoaXMuc2NyQ29vcmRzLGk9dGhpcy5ib2FyZDt0aGlzLnVzckNvb3Jkc1swXT0xLHRoaXMudXNyQ29vcmRzWzFdPShlWzFdLXRbMV0pL2kudW5pdFgsdGhpcy51c3JDb29yZHNbMl09KHRbMl0tZVsyXSkvaS51bml0WX0sZGlzdGFuY2U6ZnVuY3Rpb24odCxpKXt2YXIgcixvLG49MCxhPXRoaXMudXNyQ29vcmRzLGg9dGhpcy5zY3JDb29yZHM7aWYodD09PWUuQ09PUkRTX0JZX1VTRVIpe2lmKHI9aS51c3JDb29yZHMsKG49KG89YVswXS1yWzBdKSpvKT5zLmVwcypzLmVwcylyZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO24rPShvPWFbMV0tclsxXSkqbyxuKz0obz1hWzJdLXJbMl0pKm99ZWxzZSByPWkuc2NyQ29vcmRzLG4rPShvPWhbMV0tclsxXSkqbyxuKz0obz1oWzJdLXJbMl0pKm87cmV0dXJuIE1hdGguc3FydChuKX0sc2V0Q29vcmRpbmF0ZXM6ZnVuY3Rpb24odCxpLHIscyl7dmFyIG89dGhpcy51c3JDb29yZHMsbj10aGlzLnNjckNvb3JkcyxhPVtvWzBdLG9bMV0sb1syXV0saD1bblswXSxuWzFdLG5bMl1dO3JldHVybiB0PT09ZS5DT09SRFNfQllfVVNFUj8oMj09PWkubGVuZ3RoPyhvWzBdPTEsb1sxXT1pWzBdLG9bMl09aVsxXSk6KG9bMF09aVswXSxvWzFdPWlbMV0sb1syXT1pWzJdLHRoaXMubm9ybWFsaXplVXNyQ29vcmRzKCkpLHRoaXMudXNyMnNjcmVlbihyKSk6KDI9PT1pLmxlbmd0aD8oblsxXT1pWzBdLG5bMl09aVsxXSk6KG5bMV09aVsxXSxuWzJdPWlbMl0pLHRoaXMuc2NyZWVuMnVzcigpKSwhdGhpcy5lbWl0dGVyfHxzfHxoWzFdPT09blsxXSYmaFsyXT09PW5bMl18fHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widXBkYXRlXCJdLFthLGhdKSx0aGlzfSxjb3B5OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPTApLHRoaXNbdF0uc2xpY2UoZSl9LGlzUmVhbDpmdW5jdGlvbigpe3JldHVybiFpc05hTih0aGlzLnVzckNvb3Jkc1sxXSt0aGlzLnVzckNvb3Jkc1syXSkmJk1hdGguYWJzKHRoaXMudXNyQ29vcmRzWzBdKT5zLmVwc30sX19ldnRfX3VwZGF0ZTpmdW5jdGlvbih0LGUpe30sX19ldnQ6ZnVuY3Rpb24oKXt9fSksdC5Db29yZHN9KSksZGVmaW5lKFwidXRpbHMvZXhwZWN0XCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIl0sKGZ1bmN0aW9uKHQsZSxpLHIpe1widXNlIHN0cmljdFwiO3ZhciBzPXtlYWNoOmZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG49W107aWYoZS5leGlzdHModC5sZW5ndGgpKWZvcihvPXQubGVuZ3RoLHM9MDtzPG87cysrKW4ucHVzaChpLmNhbGwodGhpcyx0W3NdLHIpKTtyZXR1cm4gbn0sY29vcmRzOmZ1bmN0aW9uKHQsZSl7dmFyIHM9dDtyZXR1cm4gdCYmdC5lbGVtZW50Q2xhc3M9PT1pLk9CSkVDVF9DTEFTU19QT0lOVD9zPXQuY29vcmRzOnQudXNyQ29vcmRzJiZ0LnNjckNvb3JkcyYmdC51c3Iyc2NyZWVuJiYocz10KSxlJiYocz1uZXcgcihpLkNPT1JEU19CWV9VU0VSLHMudXNyQ29vcmRzLHMuYm9hcmQpKSxzfSxjb29yZHNBcnJheTpmdW5jdGlvbih0LGkpe3ZhciByO3JldHVybihyPWUuaXNBcnJheSh0KT90OnRoaXMuY29vcmRzKHQpLnVzckNvb3JkcykubGVuZ3RoPDMmJnIudW5zaGlmdCgxKSxpJiYocj1bclswXSxyWzFdLHJbMl1dKSxyfX07cmV0dXJuIHQuRXhwZWN0PXMsc30pKSxkZWZpbmUoXCJtYXRoL3Byb2JmdW5jc1wiLFtcIm1hdGgvbWF0aFwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Qcm9iRnVuY3M9e01BWE5VTToxNzAxNDExODM0NjA0NjkyM2UyMixTUVJUSDouNzA3MTA2NzgxMTg2NTQ3NixTUVJUMjoxLjQxNDIxMzU2MjM3MzA5NTEsTUFYTE9HOjcwOC4zOTY0MTg1MzIyNjQxLFA6WzIuNDYxOTY5ODE0NzM1MzA1ZS0xMCwuNTY0MTg5NTY0ODMxMDY4OSw3LjQ2MzIxMDU2NDQyMjY5OSw0OC42MzcxOTcwOTg1NjgxNCwxOTYuNTIwODMyOTU2MDc3MSw1MjYuNDQ1MTk0OTk1NDc3Myw5MzQuNTI4NTI3MTcxOTU3NiwxMDI3LjU1MTg4Njg5NTE1NzIsNTU3LjUzNTMzNTM2OTM5OTRdLFE6WzEzLjIyODE5NTExNTQ3NDQ5OSw4Ni43MDcyMTQwODg1OTg5NywzNTQuOTM3Nzc4ODg3ODE5OSw5NzUuNzA4NTAxNzQzMjA1NSwxODIzLjkwOTE2Njg3OTA5NzMsMjI0Ni4zMzc2MDgxODcxMDk3LDE2NTYuNjYzMDkxOTQxNjEzNCw1NTcuNTM1MzQwODE3NzI3N10sUjpbLjU2NDE4OTU4MzU0Nzc1NTEsMS4yNzUzNjY3MDc1OTk3ODEsNS4wMTkwNTA0MjI1MTE4MDUsNi4xNjAyMTA5Nzk5MzA1MzYsNy40MDk3NDI2OTk1MDQ0ODk1LDIuOTc4ODY2NjUzNzIxMDAyMl0sUzpbMi4yNjA1Mjg2MzIyMDExNzI2LDkuMzk2MDM1MjQ5MzgwMDE1LDEyLjA0ODk1Mzk4MDgwOTY2NiwxNy4wODE0NDUwNzQ3NTY1OSw5LjYwODk2ODA5MDYzMjg1OSwzLjM2OTA3NjQ1MTAwMDgxNV0sVDpbOS42MDQ5NzM3Mzk4NzA1MTYsOTAuMDI2MDE5NzIwMzg0MjcsMjIzMi4wMDUzNDU5NDY4NDMsNzAwMy4zMjUxNDExMjgwNTEsNTU1OTIuMzAxMzAxMDM5NDldLFU6WzMzLjU2MTcxNDE2NDc1MDMxLDUyMS4zNTc5NDk3ODAxNTI3LDQ1OTQuMzIzODI5NzA5ODAxLDIyNjI5LjAwMDA2MTM4OTA5NSw0OTI2Ny4zOTQyNjA4NjM1OV0sTToxMjgsTUlOVjouMDA3ODEyNSxleHB4MjpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvO3JldHVybiB0PU1hdGguYWJzKHQpLGU8MCYmKHQ9LXQpLGk9KHM9dGhpcy5NSU5WKk1hdGguZmxvb3IodGhpcy5NKnQrLjUpKSpzLHI9MipzKihvPXQtcykrbypvLGU8MCYmKGk9LWkscj0tciksaStyPnRoaXMuTUFYTE9HPzEvMDppPU1hdGguZXhwKGkpKk1hdGguZXhwKHIpfSxwb2xldmw6ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG87aWYoZS5leGlzdHMoaS5yZWR1Y2UpKXJldHVybiBpLnJlZHVjZSgoZnVuY3Rpb24oZSxpKXtyZXR1cm4gZSp0K2l9KSwwKTtmb3Iobz0wLHM9MDtvPD1yO28rKylzPXMqdCtpW29dO3JldHVybiBzfSxwMWV2bDpmdW5jdGlvbih0LGkscil7dmFyIHMsbztpZihlLmV4aXN0cyhpLnJlZHVjZSkpcmV0dXJuIGkucmVkdWNlKChmdW5jdGlvbihlLGkpe3JldHVybiBlKnQraX0pLDEpO2ZvcihvPTAscz0xO288cjtvKyspcz1zKnQraVtvXTtyZXR1cm4gc30sbmR0cjpmdW5jdGlvbih0KXt2YXIgZSxpLHI7cmV0dXJuIGU9dCp0aGlzLlNRUlRILChyPU1hdGguYWJzKGUpKTwxP2k9LjUrLjUqdGhpcy5lcmYoZSk6KGk9LjUqdGhpcy5lcmZjZShyKSxyPXRoaXMuZXhweDIodCwtMSksaSo9TWF0aC5zcXJ0KHIpLGU+MCYmKGk9MS1pKSksaX0sX3VuZGVyZmxvdzpmdW5jdGlvbih0KXtyZXR1cm4gY29uc29sZS5sb2coXCJlcmZjXCIsXCJVTkRFUkZMT1dcIiksdDwwPzI6MH0sZXJmYzpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvO3JldHVybihyPXQ8MD8tdDp0KTwxPzEtdGhpcy5lcmYodCk6KG89LXQqdCk8LXRoaXMuTUFYTE9HP3RoaXMuX3VuZGVyZmxvdyh0KToobz10aGlzLmV4cHgyKHQsLTEpLHI8OD8oZT10aGlzLnBvbGV2bChyLHRoaXMuUCw4KSxpPXRoaXMucDFldmwocix0aGlzLlEsOCkpOihlPXRoaXMucG9sZXZsKHIsdGhpcy5SLDUpLGk9dGhpcy5wMWV2bChyLHRoaXMuUyw2KSkscz1vKmUvaSx0PDAmJihzPTItcyksMD09PXM/dGhpcy5fdW5kZXJmbG93KHQpOnMpfSxlcmZjZTpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybiB0PDg/KGU9dGhpcy5wb2xldmwodCx0aGlzLlAsOCksaT10aGlzLnAxZXZsKHQsdGhpcy5RLDgpKTooZT10aGlzLnBvbGV2bCh0LHRoaXMuUiw1KSxpPXRoaXMucDFldmwodCx0aGlzLlMsNikpLGUvaX0sZXJmOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBNYXRoLmFicyh0KT4xPzEtdGhpcy5lcmZjKHQpOihlPXQqdCx0KnRoaXMucG9sZXZsKGUsdGhpcy5ULDQpL3RoaXMucDFldmwoZSx0aGlzLlUsNSkpfSxzMnBpOjIuNTA2NjI4Mjc0NjMxMDAwNyxQMDpbLTU5Ljk2MzM1MDEwMTQxMDc5LDk4LjAwMTA3NTQxODU5OTk3LC01Ni42NzYyODU3NDY5MDcwMywxMy45MzEyNjA5Mzg3Mjc5NjgsLTEuMjM5MTY1ODM4NjczODEyNV0sUTA6WzEuOTU0NDg4NTgzMzgxNDE3Niw0LjY3NjI3OTEyODk4ODgxNSw4Ni4zNjAyNDIxMzkwODkwNSwtMjI1LjQ2MjY4Nzg1NDExOTM3LDIwMC4yNjAyMTIzODAwNjA2NiwtODIuMDM3MjI1NjE2ODMzMzQsMTUuOTA1NjIyNTEyNjIxMTcsLTEuMTgzMzE2MjExMjEzM10sUDE6WzQuMDU1NDQ4OTIzMDU5NjI0NSwzMS41MjUxMDk0NTk5ODkzODgsNTcuMTYyODE5MjI0NjQyMTMsNDQuMDgwNTA3Mzg5MzIwMDgsMTQuNjg0OTU2MTkyODg1ODAzLDIuMTg2NjMzMDY4NTA3OTAyNSwtLjE0MDI1NjA3OTE3MTM1NDUsLS4wMzUwNDI0NjI2ODI3ODQ4MiwtLjAwMDg1NzQ1Njc4NTE1NDY4NTRdLFExOlsxNS43Nzk5ODgzMjU2NDY2NzUsNDUuMzkwNzYzNTEyODg3OTIsNDEuMzE3MjAzODI1NDY3MiwxNS4wNDI1Mzg1NjkyOTA3NSwyLjUwNDY0OTQ2MjA4MzA5NCwtLjE0MjE4MjkyMjg1NDc4Nzc5LC0uMDM4MDgwNjQwNzY5MTU3ODMsLS4wMDA5MzMyNTk0ODA4OTU0NTc0XSxQMjpbMy4yMzc3NDg5MTc3Njk0NjAzLDYuOTE1MjI4ODkwNjg5ODQyLDMuOTM4ODEwMjUyOTI0NzQ0NCwxLjMzMzAzNDYwODE1ODA3NTUsLjIwMTQ4NTM4OTU0OTE3OTA4LC4wMTIzNzE2NjM0ODE3ODIwMDMsLjAwMDMwMTU4MTU1MzUwODIzNTQzLDI2NTgwNjk3NDY4NjczNzU1ZS0yMiw2LjIzOTc0NTM5MTg0OTgzM2UtOV0sUTI6WzYuMDI0MjcwMzkzNjQ3NDIsMy42Nzk4MzU2Mzg1NjE2MDg3LDEuMzc3MDIwOTk0ODkwODEzMiwuMjE2MjM2OTkzNTk0NDk2NjMsLjAxMzQyMDQwMDYwODg1NDMxOCwuMDAwMzI4MDE0NDY0NjgyMTI3NzQsMjg5MjQ3ODY0NzQ1MzgwNjhlLTIyLDYuNzkwMTk0MDgwMDk5ODEzZS05XSxuZHRyaTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvO3JldHVybiB0PD0wPy0xLzA6dD49MT8xLzA6KG89MSwoaT10KT4uODY0NjY0NzE2NzYzMzg3MyYmKGk9MS1pLG89MCksaT4uMTM1MzM1MjgzMjM2NjEyNz8oZT0oaS09LjUpK2kqKChzPWkqaSkqdGhpcy5wb2xldmwocyx0aGlzLlAwLDQpL3RoaXMucDFldmwocyx0aGlzLlEwLDgpKSxlKj10aGlzLnMycGkpOihyPTEvKGU9TWF0aC5zcXJ0KC0yKk1hdGgubG9nKGkpKSksZT1lLU1hdGgubG9nKGUpL2UtKGU8OD9yKnRoaXMucG9sZXZsKHIsdGhpcy5QMSw4KS90aGlzLnAxZXZsKHIsdGhpcy5RMSw4KTpyKnRoaXMucG9sZXZsKHIsdGhpcy5QMiw4KS90aGlzLnAxZXZsKHIsdGhpcy5RMiw4KSksMCE9PW8mJihlPS1lKSxlKSl9LGVyZmk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmR0cmkoLjUqKHQrMSkpKnRoaXMuU1FSVEh9fSx0LlByb2JGdW5jc30pKSxkZWZpbmUoXCJtYXRoL2lhXCIsW1wianhnXCIsXCJtYXRoL21hdGhcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt0Lk1hdGguRG91YmxlQml0cz1mdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbyxuLGEsaD1uZXcgRmxvYXQ2NEFycmF5KDEpLGw9bmV3IFVpbnQzMkFycmF5KGguYnVmZmVyKTt2b2lkIDAhPT1GbG9hdDY0QXJyYXkmJihoWzBdPTEsITAsMTA3MjY5MzI0OD09PWxbMV0/KHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGhbMF09dCxbbFswXSxsWzFdXX0sZT1mdW5jdGlvbih0LGUpe3JldHVybiBsWzBdPXQsbFsxXT1lLGhbMF19LGk9ZnVuY3Rpb24odCl7cmV0dXJuIGhbMF09dCxsWzBdfSxyPWZ1bmN0aW9uKHQpe3JldHVybiBoWzBdPXQsbFsxXX0sdGhpcy5kb3VibGVCaXRzPXQsdGhpcy5wYWNrPWUsdGhpcy5sbz1pLHRoaXMuaGk9cik6MTA3MjY5MzI0OD09PWxbMF0mJihzPWZ1bmN0aW9uKHQpe3JldHVybiBoWzBdPXQsW2xbMV0sbFswXV19LG89ZnVuY3Rpb24odCxlKXtyZXR1cm4gbFsxXT10LGxbMF09ZSxoWzBdfSxuPWZ1bmN0aW9uKHQpe3JldHVybiBoWzBdPXQsbFsxXX0sYT1mdW5jdGlvbih0KXtyZXR1cm4gaFswXT10LGxbMF19LHRoaXMuZG91YmxlQml0cz1zLHRoaXMucGFjaz1vLHRoaXMubG89bix0aGlzLmhpPWEpKX0sdC5leHRlbmQodC5NYXRoLkRvdWJsZUJpdHMucHJvdG90eXBlLHtzaWduOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhpKHQpPj4+MzF9LGV4cG9uZW50OmZ1bmN0aW9uKHQpe3JldHVybih0aGlzLmhpKHQpPDwxPj4+MjEpLTEwMjN9LGZyYWN0aW9uOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubG8odCksaT10aGlzLmhpKHQpLHI9MTA0ODU3NSZpO3JldHVybiAyMTQ2NDM1MDcyJmkmJihyKz0xPDwyMCksW2Uscl19LGRlbm9ybWFsaXplZDpmdW5jdGlvbih0KXtyZXR1cm4hKDIxNDY0MzUwNzImdGhpcy5oaSh0KSl9fSk7dmFyIHI9bmV3IHQuTWF0aC5Eb3VibGVCaXRzLHM9ZnVuY3Rpb24odCxpKXtpZih2b2lkIDAhPT10JiZ2b2lkIDAhPT1pKXtpZihlLkludGVydmFsQXJpdGhtZXRpYy5pc0ludGVydmFsKHQpKXtpZighZS5JbnRlcnZhbEFyaXRobWV0aWMuaXNTaW5nbGV0b24odCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkpYRy5NYXRoLkludGVydmFsQXJpdGhtZXRpYzogaW50ZXJ2YWwgYGxvYCBtdXN0IGJlIGEgc2luZ2xldG9uXCIpO3RoaXMubG89dC5sb31lbHNlIHRoaXMubG89dDtpZihlLkludGVydmFsQXJpdGhtZXRpYy5pc0ludGVydmFsKGkpKXtpZighZS5JbnRlcnZhbEFyaXRobWV0aWMuaXNTaW5nbGV0b24oaSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkpYRy5NYXRoLkludGVydmFsQXJpdGhtZXRpYzogaW50ZXJ2YWwgYGhpYCBtdXN0IGJlIGEgc2luZ2xldG9uXCIpO3RoaXMuaGk9aS5oaX1lbHNlIHRoaXMuaGk9aX1lbHNle2lmKHZvaWQgMCE9PXQpcmV0dXJuIEFycmF5LmlzQXJyYXkodCk/bmV3IHModFswXSx0WzFdKTpuZXcgcyh0LHQpO3RoaXMubG89dGhpcy5oaT0wfX07cmV0dXJuIHQuZXh0ZW5kKHMucHJvdG90eXBlLHtwcmludDpmdW5jdGlvbigpe2NvbnNvbGUubG9nKFwiW1wiLHRoaXMubG8sdGhpcy5oaSxcIl1cIil9LHNldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmxvPXQsdGhpcy5oaT1lLHRoaXN9LGJvdW5kZWQ6ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5zZXQoZS5JbnRlcnZhbEFyaXRobWV0aWMucHJldih0KSxlLkludGVydmFsQXJpdGhtZXRpYy5uZXh0KGkpKX0sYm91bmRlZFNpbmdsZXRvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ib3VuZGVkKHQsdCl9LGFzc2lnbjpmdW5jdGlvbih0LGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0fHxcIm51bWJlclwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSlhHLk1hdGguSW50ZXJ2YWwjYXNzaWduOiBhcmd1bWVudHMgbXVzdCBiZSBudW1iZXJzXCIpO3JldHVybiBpc05hTih0KXx8aXNOYU4oZSl8fHQ+ZT90aGlzLnNldEVtcHR5KCk6dGhpcy5zZXQodCxlKX0sc2V0RW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXQoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLE51bWJlci5ORUdBVElWRV9JTkZJTklUWSl9LHNldFdob2xlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0KE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpfSxvcGVuOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuYXNzaWduKGUuSW50ZXJ2YWxBcml0aG1ldGljLm5leHQodCksZS5JbnRlcnZhbEFyaXRobWV0aWMucHJldihpKSl9LGhhbGZPcGVuTGVmdDpmdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLmFzc2lnbihlLkludGVydmFsQXJpdGhtZXRpYy5uZXh0KHQpLGkpfSxoYWxmT3BlblJpZ2h0OmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuYXNzaWduKHQsZS5JbnRlcnZhbEFyaXRobWV0aWMucHJldihpKSl9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5sbyx0aGlzLmhpXX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHMpLnNldCh0aGlzLmxvLHRoaXMuaGkpfX0pLHQuTWF0aC5JbnRlcnZhbEFyaXRobWV0aWM9e0ludGVydmFsOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBzKHQsZSl9LGlzSW50ZXJ2YWw6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubG8mJlwibnVtYmVyXCI9PXR5cGVvZiB0LmhpfSxpc1NpbmdsZXRvbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5sbz09PXQuaGl9LGFkZDpmdW5jdGlvbih0LGUpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSxpLmlzTnVtYmVyKGUpJiYoZT10aGlzLkludGVydmFsKGUpKSxuZXcgcyh0aGlzLmFkZExvKHQubG8sZS5sbyksdGhpcy5hZGRIaSh0LmhpLGUuaGkpKX0sc3ViOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLGkuaXNOdW1iZXIoZSkmJihlPXRoaXMuSW50ZXJ2YWwoZSkpLG5ldyBzKHRoaXMuc3ViTG8odC5sbyxlLmhpKSx0aGlzLnN1YkhpKHQuaGksZS5sbykpfSxtdWw6ZnVuY3Rpb24odCxlKXt2YXIgcixvLG4sYSxoO3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSxpLmlzTnVtYmVyKGUpJiYoZT10aGlzLkludGVydmFsKGUpKSx0aGlzLmlzRW1wdHkodCl8fHRoaXMuaXNFbXB0eShlKT90aGlzLkVNUFRZLmNsb25lKCk6KHI9dC5sbyxvPXQuaGksbj1lLmxvLGE9ZS5oaSxoPW5ldyBzLHI8MD9vPjA/bjwwP2E+MD8oaC5sbz1NYXRoLm1pbih0aGlzLm11bExvKHIsYSksdGhpcy5tdWxMbyhvLG4pKSxoLmhpPU1hdGgubWF4KHRoaXMubXVsSGkocixuKSx0aGlzLm11bEhpKG8sYSkpKTooaC5sbz10aGlzLm11bExvKG8sbiksaC5oaT10aGlzLm11bEhpKHIsbikpOmE+MD8oaC5sbz10aGlzLm11bExvKHIsYSksaC5oaT10aGlzLm11bEhpKG8sYSkpOihoLmxvPTAsaC5oaT0wKTpuPDA/YT4wPyhoLmxvPXRoaXMubXVsTG8ocixhKSxoLmhpPXRoaXMubXVsSGkocixuKSk6KGgubG89dGhpcy5tdWxMbyhvLGEpLGguaGk9dGhpcy5tdWxIaShyLG4pKTphPjA/KGgubG89dGhpcy5tdWxMbyhyLGEpLGguaGk9dGhpcy5tdWxIaShvLG4pKTooaC5sbz0wLGguaGk9MCk6bz4wP248MD9hPjA/KGgubG89dGhpcy5tdWxMbyhvLG4pLGguaGk9dGhpcy5tdWxIaShvLGEpKTooaC5sbz10aGlzLm11bExvKG8sbiksaC5oaT10aGlzLm11bEhpKHIsYSkpOmE+MD8oaC5sbz10aGlzLm11bExvKHIsbiksaC5oaT10aGlzLm11bEhpKG8sYSkpOihoLmxvPTAsaC5oaT0wKTooaC5sbz0wLGguaGk9MCksaCl9LGRpdjpmdW5jdGlvbih0LGUpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSxpLmlzTnVtYmVyKGUpJiYoZT10aGlzLkludGVydmFsKGUpKSx0aGlzLmlzRW1wdHkodCl8fHRoaXMuaXNFbXB0eShlKT90aGlzLkVNUFRZLmNsb25lKCk6dGhpcy56ZXJvSW4oZSk/MCE9PWUubG8/MCE9PWUuaGk/dGhpcy5kaXZaZXJvKHQpOnRoaXMuZGl2TmVnYXRpdmUodCxlLmxvKTowIT09ZS5oaT90aGlzLmRpdlBvc2l0aXZlKHQsZS5oaSk6dGhpcy5FTVBUWS5jbG9uZSgpOnRoaXMuZGl2Tm9uWmVybyh0LGUpfSxwb3NpdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHModC5sbyx0LmhpKX0sbmVnYXRpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIGkuaXNOdW1iZXIodCk/bmV3IHMoLXQpOm5ldyBzKC10LmhpLC10LmxvKX0saXNFbXB0eTpmdW5jdGlvbih0KXtyZXR1cm4gdC5sbz50LmhpfSxpc1dob2xlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmxvPT09LTEvMCYmdC5oaT09PTEvMH0semVyb0luOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhc1ZhbHVlKHQsMCl9LGhhc1ZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIXRoaXMuaXNFbXB0eSh0KSYmKHQubG88PWUmJmU8PXQuaGkpfSxoYXNJbnRlcnZhbDpmdW5jdGlvbih0LGUpe3JldHVybiEhdGhpcy5pc0VtcHR5KHQpfHwhdGhpcy5pc0VtcHR5KGUpJiZlLmxvPD10LmxvJiZ0LmhpPD1lLmhpfSxpbnRlcnZhbHNPdmVybGFwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIXRoaXMuaXNFbXB0eSh0KSYmIXRoaXMuaXNFbXB0eShlKSYmKHQubG88PWUubG8mJmUubG88PXQuaGl8fGUubG88PXQubG8mJnQubG88PWUuaGkpfSxkaXZOb25aZXJvOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5sbyxyPXQuaGksbz1lLmxvLG49ZS5oaSxhPW5ldyBzO3JldHVybiByPDA/bjwwPyhhLmxvPXRoaXMuZGl2TG8ocixvKSxhLmhpPXRoaXMuZGl2SGkoaSxuKSk6KGEubG89dGhpcy5kaXZMbyhpLG8pLGEuaGk9dGhpcy5kaXZIaShyLG4pKTppPDA/bjwwPyhhLmxvPXRoaXMuZGl2TG8ocixuKSxhLmhpPXRoaXMuZGl2SGkoaSxuKSk6KGEubG89dGhpcy5kaXZMbyhpLG8pLGEuaGk9dGhpcy5kaXZIaShyLG8pKTpuPDA/KGEubG89dGhpcy5kaXZMbyhyLG4pLGEuaGk9dGhpcy5kaXZIaShpLG8pKTooYS5sbz10aGlzLmRpdkxvKGksbiksYS5oaT10aGlzLmRpdkhpKHIsbykpLGF9LGRpdlBvc2l0aXZlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIDA9PT10LmxvJiYwPT09dC5oaT90OnRoaXMuemVyb0luKHQpP3RoaXMuV0hPTEU6dC5oaTwwP25ldyBzKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSx0aGlzLmRpdkhpKHQuaGksZSkpOm5ldyBzKHRoaXMuZGl2TG8odC5sbyxlKSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpfSxkaXZOZWdhdGl2ZTpmdW5jdGlvbih0LGUpe3JldHVybiAwPT09dC5sbyYmMD09PXQuaGk/dDp0aGlzLnplcm9Jbih0KT90aGlzLldIT0xFOnQuaGk8MD9uZXcgcyh0aGlzLmRpdkxvKHQuaGksZSksTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTpuZXcgcyhOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksdGhpcy5kaXZIaSh0LmxvLGUpKX0sZGl2WmVybzpmdW5jdGlvbih0KXtyZXR1cm4gMD09PXQubG8mJjA9PT10LmhpP3Q6dGhpcy5XSE9MRX0sZm1vZDpmdW5jdGlvbih0LGUpe3ZhciByLG87cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLGkuaXNOdW1iZXIoZSkmJihlPXRoaXMuSW50ZXJ2YWwoZSkpLHRoaXMuaXNFbXB0eSh0KXx8dGhpcy5pc0VtcHR5KGUpP3RoaXMuRU1QVFkuY2xvbmUoKToocj10LmxvPDA/ZS5sbzplLmhpLG89KG89dC5sby9yKTwwP01hdGguY2VpbChvKTpNYXRoLmZsb29yKG8pLHRoaXMuc3ViKHQsdGhpcy5tdWwoZSxuZXcgcyhvKSkpKX0sbXVsdGlwbGljYXRpdmVJbnZlcnNlOmZ1bmN0aW9uKHQpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSx0aGlzLmlzRW1wdHkodCk/dGhpcy5FTVBUWS5jbG9uZSgpOnRoaXMuemVyb0luKHQpPzAhPT10LmxvPzAhPT10LmhpP3RoaXMuV0hPTEU6bmV3IHMoTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLHRoaXMuZGl2SGkoMSx0LmxvKSk6MCE9PXQuaGk/bmV3IHModGhpcy5kaXZMbygxLHQuaGkpLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk6dGhpcy5FTVBUWS5jbG9uZSgpOm5ldyBzKHRoaXMuZGl2TG8oMSx0LmhpKSx0aGlzLmRpdkhpKDEsdC5sbykpfSxwb3c6ZnVuY3Rpb24odCxlKXt2YXIgcixvO2lmKGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLHRoaXMuaXNFbXB0eSh0KSlyZXR1cm4gdGhpcy5FTVBUWS5jbG9uZSgpO2lmKHRoaXMuaXNJbnRlcnZhbChlKSl7aWYoIXRoaXMuaXNTaW5nbGV0b24oZSkpcmV0dXJuIHRoaXMuRU1QVFkuY2xvbmUoKTtlPWUubG99cmV0dXJuIDA9PT1lPzA9PT10LmxvJiYwPT09dC5oaT90aGlzLkVNUFRZLmNsb25lKCk6dGhpcy5PTkUuY2xvbmUoKTplPDA/dGhpcy5wb3codGhpcy5tdWx0aXBsaWNhdGl2ZUludmVyc2UodCksLWUpOmUlMT09MD90LmhpPDA/KHI9dGhpcy5wb3dMbygtdC5oaSxlKSxvPXRoaXMucG93SGkoLXQubG8sZSksMT09KDEmZSk/bmV3IHMoLW8sLXIpOm5ldyBzKHIsbykpOnQubG88MD8xPT0oMSZlKT9uZXcgcygtdGhpcy5wb3dMbygtdC5sbyxlKSx0aGlzLnBvd0hpKHQuaGksZSkpOm5ldyBzKDAsdGhpcy5wb3dIaShNYXRoLm1heCgtdC5sbyx0LmhpKSxlKSk6bmV3IHModGhpcy5wb3dMbyh0LmxvLGUpLHRoaXMucG93SGkodC5oaSxlKSk6KGNvbnNvbGUud2FybihcInBvd2VyIGlzIG5vdCBhbiBpbnRlZ2VyLCB5b3Ugc2hvdWxkIHVzZSBudGgtcm9vdCBpbnN0ZWFkLCByZXR1cm5pbmcgYW4gZW1wdHkgaW50ZXJ2YWxcIiksdGhpcy5FTVBUWS5jbG9uZSgpKX0sc3FydDpmdW5jdGlvbih0KXtyZXR1cm4gaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksdGhpcy5udGhSb290KHQsMil9LG50aFJvb3Q6ZnVuY3Rpb24odCxlKXt2YXIgcixvLG4sYSxoO2lmKGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLHRoaXMuaXNFbXB0eSh0KXx8ZTwwKXJldHVybiB0aGlzLkVNUFRZLmNsb25lKCk7aWYodGhpcy5pc0ludGVydmFsKGUpKXtpZighdGhpcy5pc1NpbmdsZXRvbihlKSlyZXR1cm4gdGhpcy5FTVBUWS5jbG9uZSgpO2U9ZS5sb31yZXR1cm4gcj0xL2UsdC5oaTwwP2UlMT09MCYmMT09KDEmZSk/KG89dGhpcy5wb3dIaSgtdC5sbyxyKSxuPXRoaXMucG93TG8oLXQuaGksciksbmV3IHMoLW8sLW4pKTp0aGlzLkVNUFRZLmNsb25lKCk6dC5sbzwwPyhhPXRoaXMucG93SGkodC5oaSxyKSxlJTE9PTAmJjE9PSgxJmUpPyhoPS10aGlzLnBvd0hpKC10LmxvLHIpLG5ldyBzKGgsYSkpOm5ldyBzKDAsYSkpOm5ldyBzKHRoaXMucG93TG8odC5sbyxyKSx0aGlzLnBvd0hpKHQuaGkscikpfSxleHA6ZnVuY3Rpb24odCl7cmV0dXJuIGkuaXNOdW1iZXIodCkmJih0PXRoaXMuSW50ZXJ2YWwodCkpLHRoaXMuaXNFbXB0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6bmV3IHModGhpcy5leHBMbyh0LmxvKSx0aGlzLmV4cEhpKHQuaGkpKX0sbG9nOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSx0aGlzLmlzRW1wdHkodCk/dGhpcy5FTVBUWS5jbG9uZSgpOihlPXQubG88PTA/TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZOnRoaXMubG9nTG8odC5sbyksbmV3IHMoZSx0aGlzLmxvZ0hpKHQuaGkpKSl9LGxuOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxvZyh0KX0sbG9nMTA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6dGhpcy5kaXYodGhpcy5sb2codCksdGhpcy5sb2cobmV3IHMoMTAsMTApKSl9LGxvZzI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6dGhpcy5kaXYodGhpcy5sb2codCksdGhpcy5sb2cobmV3IHMoMiwyKSkpfSxodWxsOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5pc0VtcHR5KHQpLHI9dGhpcy5pc0VtcHR5KGUpO3JldHVybiBpJiZyP3RoaXMuRU1QVFkuY2xvbmUoKTppP2UuY2xvbmUoKTpyP3QuY2xvbmUoKTpuZXcgcyhNYXRoLm1pbih0LmxvLGUubG8pLE1hdGgubWF4KHQuaGksZS5oaSkpfSxpbnRlcnNlY3Rpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxyO3JldHVybiB0aGlzLmlzRW1wdHkodCl8fHRoaXMuaXNFbXB0eShlKT90aGlzLkVNUFRZLmNsb25lKCk6KGk9TWF0aC5tYXgodC5sbyxlLmxvKSk8PShyPU1hdGgubWluKHQuaGksZS5oaSkpP25ldyBzKGkscik6dGhpcy5FTVBUWS5jbG9uZSgpfSx1bmlvbjpmdW5jdGlvbih0LGUpe2lmKCF0aGlzLmludGVydmFsc092ZXJsYXAodCxlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcnZhbCN1bmlvbnMgZG8gbm90IG92ZXJsYXBcIik7cmV0dXJuIG5ldyBzKE1hdGgubWluKHQubG8sZS5sbyksTWF0aC5tYXgodC5oaSxlLmhpKSl9LGRpZmZlcmVuY2U6ZnVuY3Rpb24odCxlKXtpZih0aGlzLmlzRW1wdHkodCl8fHRoaXMuaXNXaG9sZShlKSlyZXR1cm4gdGhpcy5FTVBUWS5jbG9uZSgpO2lmKHRoaXMuaW50ZXJ2YWxzT3ZlcmxhcCh0LGUpKXtpZih0LmxvPGUubG8mJmUuaGk8dC5oaSl0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcnZhbC5kaWZmZXJlbmNlOiBkaWZmZXJlbmNlIGNyZWF0ZXMgbXVsdGlwbGUgaW50ZXJ2YWxzXCIpO3JldHVybiBlLmxvPD10LmxvJiZlLmhpPT09MS8wfHxlLmhpPj10LmhpJiZlLmxvPT09LTEvMD90aGlzLkVNUFRZLmNsb25lKCk6ZS5sbzw9dC5sbz8obmV3IHMpLmhhbGZPcGVuTGVmdChlLmhpLHQuaGkpOihuZXcgcykuaGFsZk9wZW5SaWdodCh0LmxvLGUubG8pfXJldHVybiB0LmNsb25lKCl9LHdpZHRoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzRW1wdHkodCk/MDp0aGlzLnN1YkhpKHQuaGksdC5sbyl9LGFiczpmdW5jdGlvbih0KXtyZXR1cm4gaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksdGhpcy5pc0VtcHR5KHQpP3RoaXMuRU1QVFkuY2xvbmUoKTp0LmxvPj0wP3QuY2xvbmUoKTp0LmhpPD0wP3RoaXMubmVnYXRpdmUodCk6bmV3IHMoMCxNYXRoLm1heCgtdC5sbyx0LmhpKSl9LG1heDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuaXNFbXB0eSh0KSxyPXRoaXMuaXNFbXB0eShlKTtyZXR1cm4gaSYmcj90aGlzLkVNUFRZLmNsb25lKCk6aT9lLmNsb25lKCk6cj90LmNsb25lKCk6bmV3IHMoTWF0aC5tYXgodC5sbyxlLmxvKSxNYXRoLm1heCh0LmhpLGUuaGkpKX0sbWluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5pc0VtcHR5KHQpLHI9dGhpcy5pc0VtcHR5KGUpO3JldHVybiBpJiZyP3RoaXMuRU1QVFkuY2xvbmUoKTppP2UuY2xvbmUoKTpyP3QuY2xvbmUoKTpuZXcgcyhNYXRoLm1pbih0LmxvLGUubG8pLE1hdGgubWluKHQuaGksZS5oaSkpfSxvbmx5SW5maW5pdHk6ZnVuY3Rpb24odCl7cmV0dXJuIWlzRmluaXRlKHQubG8pJiZ0LmxvPT09dC5oaX0sX2hhbmRsZU5lZ2F0aXZlOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0LmxvPDAmJih0LmxvPT09LTEvMD8odC5sbz0wLHQuaGk9MS8wKTooZT1NYXRoLmNlaWwoLXQubG8vdGhpcy5waVR3aWNlTG93KSx0LmxvKz10aGlzLnBpVHdpY2VMb3cqZSx0LmhpKz10aGlzLnBpVHdpY2VMb3cqZSkpLHR9LGNvczpmdW5jdGlvbih0KXt2YXIgZSxpLHIsbyxuLGEsaCxsO3JldHVybiB0aGlzLmlzRW1wdHkodCl8fHRoaXMub25seUluZmluaXR5KHQpP3RoaXMuRU1QVFkuY2xvbmUoKTooZT0obmV3IHMpLnNldCh0LmxvLHQuaGkpLHRoaXMuX2hhbmRsZU5lZ2F0aXZlKGUpLGk9dGhpcy5QSV9UV0lDRSxyPXRoaXMuZm1vZChlLGkpLHRoaXMud2lkdGgocik+PWkubG8/bmV3IHMoLTEsMSk6ci5sbz49dGhpcy5waUhpZ2g/KG89dGhpcy5jb3ModGhpcy5zdWIocix0aGlzLlBJKSksdGhpcy5uZWdhdGl2ZShvKSk6KG49ci5sbyxhPXIuaGksaD10aGlzLmNvc0xvKGEpLGw9dGhpcy5jb3NIaShuKSxhPD10aGlzLnBpTG93P25ldyBzKGgsbCk6YTw9aS5sbz9uZXcgcygtMSxNYXRoLm1heChoLGwpKTpuZXcgcygtMSwxKSkpfSxzaW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KXx8dGhpcy5vbmx5SW5maW5pdHkodCk/dGhpcy5FTVBUWS5jbG9uZSgpOnRoaXMuY29zKHRoaXMuc3ViKHQsdGhpcy5QSV9IQUxGKSl9LHRhbjpmdW5jdGlvbih0KXt2YXIgZSxpLHI7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KXx8dGhpcy5vbmx5SW5maW5pdHkodCk/dGhpcy5FTVBUWS5jbG9uZSgpOihlPShuZXcgcykuc2V0KHQubG8sdC5oaSksdGhpcy5faGFuZGxlTmVnYXRpdmUoZSkscj10aGlzLlBJLChpPXRoaXMuZm1vZChlLHIpKS5sbz49dGhpcy5waUhhbGZMb3cmJihpPXRoaXMuc3ViKGkscikpLGkubG88PS10aGlzLnBpSGFsZkxvd3x8aS5oaT49dGhpcy5waUhhbGZMb3c/dGhpcy5XSE9MRS5jbG9uZSgpOm5ldyBzKHRoaXMudGFuTG8oaS5sbyksdGhpcy50YW5IaShpLmhpKSkpfSxhc2luOmZ1bmN0aW9uKHQpe3ZhciBlLGk7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KXx8dC5oaTwtMXx8dC5sbz4xP3RoaXMuRU1QVFkuY2xvbmUoKTooZT10LmxvPD0tMT8tdGhpcy5waUhhbGZIaWdoOnRoaXMuYXNpbkxvKHQubG8pLGk9dC5oaT49MT90aGlzLnBpSGFsZkhpZ2g6dGhpcy5hc2luSGkodC5oaSksbmV3IHMoZSxpKSl9LGFjb3M6ZnVuY3Rpb24odCl7dmFyIGUsaTtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpfHx0LmhpPC0xfHx0LmxvPjE/dGhpcy5FTVBUWS5jbG9uZSgpOihlPXQuaGk+PTE/MDp0aGlzLmFjb3NMbyh0LmhpKSxpPXQubG88PS0xP3RoaXMucGlIaWdoOnRoaXMuYWNvc0hpKHQubG8pLG5ldyBzKGUsaSkpfSxhdGFuOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzRW1wdHkodCk/dGhpcy5FTVBUWS5jbG9uZSgpOm5ldyBzKHRoaXMuYXRhbkxvKHQubG8pLHRoaXMuYXRhbkhpKHQuaGkpKX0sc2luaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpP3RoaXMuRU1QVFkuY2xvbmUoKTpuZXcgcyh0aGlzLnNpbmhMbyh0LmxvKSx0aGlzLnNpbmhIaSh0LmhpKSl9LGNvc2g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6dC5oaTwwP25ldyBzKHRoaXMuY29zaExvKHQuaGkpLHRoaXMuY29zaEhpKHQubG8pKTp0LmxvPj0wP25ldyBzKHRoaXMuY29zaExvKHQubG8pLHRoaXMuY29zaEhpKHQuaGkpKTpuZXcgcygxLHRoaXMuY29zaEhpKC10LmxvPnQuaGk/dC5sbzp0LmhpKSl9LHRhbmg6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXNFbXB0eSh0KT90aGlzLkVNUFRZLmNsb25lKCk6bmV3IHModGhpcy50YW5oTG8odC5sbyksdGhpcy50YW5oSGkodC5oaSkpfSxlcXVhbDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmlzRW1wdHkodCk/dGhpcy5pc0VtcHR5KGUpOiF0aGlzLmlzRW1wdHkoZSkmJnQubG89PT1lLmxvJiZ0LmhpPT09ZS5oaX0sbm90RXF1YWw6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5pc0VtcHR5KHQpPyF0aGlzLmlzRW1wdHkoZSk6dGhpcy5pc0VtcHR5KGUpfHx0LmhpPGUubG98fHQubG8+ZS5oaX0sbHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksaS5pc051bWJlcihlKSYmKGU9dGhpcy5JbnRlcnZhbChlKSksIXRoaXMuaXNFbXB0eSh0KSYmIXRoaXMuaXNFbXB0eShlKSYmdC5oaTxlLmxvfSxndDpmdW5jdGlvbih0LGUpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSxpLmlzTnVtYmVyKGUpJiYoZT10aGlzLkludGVydmFsKGUpKSwhdGhpcy5pc0VtcHR5KHQpJiYhdGhpcy5pc0VtcHR5KGUpJiZ0LmxvPmUuaGl9LGxlcTpmdW5jdGlvbih0LGUpe3JldHVybiBpLmlzTnVtYmVyKHQpJiYodD10aGlzLkludGVydmFsKHQpKSxpLmlzTnVtYmVyKGUpJiYoZT10aGlzLkludGVydmFsKGUpKSwhdGhpcy5pc0VtcHR5KHQpJiYhdGhpcy5pc0VtcHR5KGUpJiZ0LmhpPD1lLmxvfSxnZXE6ZnVuY3Rpb24odCxlKXtyZXR1cm4gaS5pc051bWJlcih0KSYmKHQ9dGhpcy5JbnRlcnZhbCh0KSksaS5pc051bWJlcihlKSYmKGU9dGhpcy5JbnRlcnZhbChlKSksIXRoaXMuaXNFbXB0eSh0KSYmIXRoaXMuaXNFbXB0eShlKSYmdC5sbz49ZS5oaX0scGlMb3c6My4xNDE1OTI2NTM1ODk3OTMscGlIaWdoOjMuMTQxNTkyNjUzNTg5NzkzNixwaUhhbGZMb3c6MS41NzA3OTYzMjY3OTQ4OTY2LHBpSGFsZkhpZ2g6MS41NzA3OTYzMjY3OTQ4OTY4LHBpVHdpY2VMb3c6Ni4yODMxODUzMDcxNzk1ODYscGlUd2ljZUhpZ2g6Ni4yODMxODUzMDcxNzk1ODcsaWRlbnRpdHk6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LF9wcmV2OmZ1bmN0aW9uKHQpe3JldHVybiB0PT09MS8wP3Q6dGhpcy5uZXh0YWZ0ZXIodCwtMS8wKX0sX25leHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT0tMS8wP3Q6dGhpcy5uZXh0YWZ0ZXIodCwxLzApfSxwcmV2OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wcmV2KHQpfSxuZXh0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9uZXh0KHQpfSx0b0ludGVnZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KX0sYWRkTG86ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wcmV2KHQrZSl9LGFkZEhpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubmV4dCh0K2UpfSxzdWJMbzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnByZXYodC1lKX0sc3ViSGk6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5uZXh0KHQtZSl9LG11bExvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucHJldih0KmUpfSxtdWxIaTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm5leHQodCplKX0sZGl2TG86ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wcmV2KHQvZSl9LGRpdkhpOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubmV4dCh0L2UpfSxpbnRMbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50b0ludGVnZXIodGhpcy5wcmV2KHQpKX0saW50SGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudG9JbnRlZ2VyKHRoaXMubmV4dCh0KSl9LGxvZ0xvOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByZXYoTWF0aC5sb2codCkpfSxsb2dIaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KE1hdGgubG9nKHQpKX0sZXhwTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihNYXRoLmV4cCh0KSl9LGV4cEhpOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5leHQoTWF0aC5leHAodCkpfSxzaW5MbzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2KE1hdGguc2luKHQpKX0sc2luSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChNYXRoLnNpbih0KSl9LGNvc0xvOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnByZXYoTWF0aC5jb3ModCkpfSxjb3NIaTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZXh0KE1hdGguY29zKHQpKX0sdGFuTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihNYXRoLnRhbih0KSl9LHRhbkhpOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5leHQoTWF0aC50YW4odCkpfSxhc2luTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihNYXRoLmFzaW4odCkpfSxhc2luSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChNYXRoLmFzaW4odCkpfSxhY29zTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihNYXRoLmFjb3ModCkpfSxhY29zSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChNYXRoLmFjb3ModCkpfSxhdGFuTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihNYXRoLmF0YW4odCkpfSxhdGFuSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChNYXRoLmF0YW4odCkpfSxzaW5oTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihlLnNpbmgodCkpfSxzaW5oSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChlLnNpbmgodCkpfSxjb3NoTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihlLmNvc2godCkpfSxjb3NoSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChlLmNvc2godCkpfSx0YW5oTG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihlLnRhbmgodCkpfSx0YW5oSGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChlLnRhbmgodCkpfSxzcXJ0TG86ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucHJldihNYXRoLnNxcnQodCkpfSxzcXJ0SGk6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dChNYXRoLnNxcnQodCkpfSxwb3dMbzpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKGUlMSE9MClyZXR1cm4gdGhpcy5wcmV2KE1hdGgucG93KHQsZSkpO2ZvcihpPTE9PSgxJmUpP3Q6MSxlPj49MTtlPjA7KXQ9dGhpcy5tdWxMbyh0LHQpLDE9PSgxJmUpJiYoaT10aGlzLm11bExvKHQsaSkpLGU+Pj0xO3JldHVybiBpfSxwb3dIaTpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKGUlMSE9MClyZXR1cm4gdGhpcy5uZXh0KE1hdGgucG93KHQsZSkpO2ZvcihpPTE9PSgxJmUpP3Q6MSxlPj49MTtlPjA7KXQ9dGhpcy5tdWxIaSh0LHQpLDE9PSgxJmUpJiYoaT10aGlzLm11bEhpKHQsaSkpLGU+Pj0xO3JldHVybiBpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5uZXh0PXRoaXMucHJldj10aGlzLmlkZW50aXR5fSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLnByZXY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3ByZXYodCl9LHRoaXMubmV4dD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbmV4dCh0KX19LFNNQUxMRVNUX0RFTk9STTpNYXRoLnBvdygyLC0xMDc0KSxVSU5UX01BWDotMT4+PjAsbmV4dGFmdGVyOmZ1bmN0aW9uKHQsZSl7dmFyIGkscztyZXR1cm4gaXNOYU4odCl8fGlzTmFOKGUpP05hTjp0PT09ZT90OjA9PT10P2U8MD8tdGhpcy5TTUFMTEVTVF9ERU5PUk06dGhpcy5TTUFMTEVTVF9ERU5PUk06KHM9ci5oaSh0KSxpPXIubG8odCksZT50PT10PjA/aT09PXRoaXMuVUlOVF9NQVg/KHMrPTEsaT0wKTppKz0xOjA9PT1pPyhpPXRoaXMuVUlOVF9NQVgscy09MSk6aS09MSxyLnBhY2soaSxzKSl9fSx0Lk1hdGguSW50ZXJ2YWxBcml0aG1ldGljLlBJPW5ldyBzKGUuSW50ZXJ2YWxBcml0aG1ldGljLnBpTG93LGUuSW50ZXJ2YWxBcml0aG1ldGljLnBpSGlnaCksdC5NYXRoLkludGVydmFsQXJpdGhtZXRpYy5QSV9IQUxGPW5ldyBzKGUuSW50ZXJ2YWxBcml0aG1ldGljLnBpSGFsZkxvdyxlLkludGVydmFsQXJpdGhtZXRpYy5waUhhbGZIaWdoKSx0Lk1hdGguSW50ZXJ2YWxBcml0aG1ldGljLlBJX1RXSUNFPW5ldyBzKGUuSW50ZXJ2YWxBcml0aG1ldGljLnBpVHdpY2VMb3csZS5JbnRlcnZhbEFyaXRobWV0aWMucGlUd2ljZUhpZ2gpLHQuTWF0aC5JbnRlcnZhbEFyaXRobWV0aWMuWkVSTz1uZXcgcygwKSx0Lk1hdGguSW50ZXJ2YWxBcml0aG1ldGljLk9ORT1uZXcgcygxKSx0Lk1hdGguSW50ZXJ2YWxBcml0aG1ldGljLldIT0xFPShuZXcgcykuc2V0V2hvbGUoKSx0Lk1hdGguSW50ZXJ2YWxBcml0aG1ldGljLkVNUFRZPShuZXcgcykuc2V0RW1wdHkoKSx0Lk1hdGguSW50ZXJ2YWxBcml0aG1ldGljfSkpLGRlZmluZShcIm1hdGgvZXh0cmFwb2xhdGVcIixbXCJtYXRoL21hdGhcIl0sKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkV4dHJhcG9sYXRlPXt1cHBlcjoxNSxpbmZ0eToxZTQsd3lubkVwczpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG4sYTtpZihpW2VdPXQsMD09PWUpYT10O2Vsc2V7Zm9yKG89MCxyPWU7cj4wO3ItLSlzPW8sbz1pW3ItMV0sbj1pW3JdLW8sTWF0aC5hYnMobik8PTFlLTE1P2lbci0xXT0xZTIwOigxLGlbci0xXT0xKnMrMS9uKTthPWlbZSUyXX1yZXR1cm4gYX0sYWl0a2VuOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhLGg7aWYoaVtlXT10LGU8MilyPXQ7ZWxzZXtmb3Iobj1lLzIsYT0xO2E8PW47YSsrKXM9aVsoaD1lLTIqYSkrMl0tMippW2grMV0raVtoXSxNYXRoLmFicyhzKTwxZS0xNT9pW2hdPTFlMjA6KG89aVtoXS1pW2grMV0saVtoXS09bypvL3MpO3I9aVtlJTJdfXJldHVybiByfSxicmV6aW5za2k6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGEsaCxsLGM7aWYoaVtlXT10LGU8MylyPXQ7ZWxzZXtmb3IoaD1lLzMsYz1lLGw9MTtsPD1oO2wrKylvPWlbKGMtPTMpKzFdLWlbY10sbj1pW2MrMl0taVtjKzFdLHM9KGE9aVtjKzNdLWlbYysyXSkqKG4tbyktbyooYS1uKSxNYXRoLmFicyhzKTwxZS0xNT9pW2NdPTFlMjA6aVtjXT1pW2MrMV0tbypuKihhLW4pL3M7cj1pW2UlM119cmV0dXJuIHJ9LGl0ZXJhdGlvbjpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciBvLG4sYSxoLGw9TmFOLGM9W10sZD1cImZpbml0ZVwiLHU9ZTtmb3Iocz1zfHwwLG89MTtvPD10aGlzLnVwcGVyO28rKyl7aWYobj1pKHQrKHU9MD09PXM/ZS8obysxKTouNSp1KSwhMCksYT10aGlzW3JdKG4sby0xLGMpLGlzTmFOKGEpKXtkPVwiTmFOXCI7YnJlYWt9aWYoMCE9PW4mJmEvbj50aGlzLmluZnR5KXtsPWEsZD1cImluZmluaXRlXCI7YnJlYWt9aWYoaD1hLWwsTWF0aC5hYnMoaCk8MWUtNylicmVhaztsPWF9cmV0dXJuW2wsZCwxLShvLTEpL3RoaXMudXBwZXJdfSxsZXZpbjpmdW5jdGlvbih0LGUsaSxyLHMsbyl7dmFyIG4sYSxoLGw7aWYobD0xLyhyK2UpLHNbZV09dC9pLG9bZV09MS9pLGU+MCYmKHNbZS0xXT1zW2VdLXNbZS0xXSxvW2UtMV09b1tlXS1vW2UtMV0sZT4xKSlmb3IoaD0ocitlLTEpKmwsbj0yO248PWU7bisrKWE9KHIrZS1uKSpNYXRoLnBvdyhoLG4tMikqbCxzW2Utbl09c1tlLW4rMV0tYSpzW2Utbl0sb1tlLW5dPW9bZS1uKzFdLWEqb1tlLW5dLGwqPWg7cmV0dXJuIE1hdGguYWJzKG9bMF0pPDFlLTE1PzFlMjA6c1swXS9vWzBdfSxpdGVyYXRpb25fbGV2aW46ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbyxuLGEsaCxsLGMsZD1OYU4sdT1bXSxwPVtdLGY9XCJmaW5pdGVcIixtPWU7Zm9yKHI9cnx8MCxhPWkodCtlLCEwKSxzPTE7czw9dGhpcy51cHBlcjtzKyspe2lmKGg9KG89aSh0KyhtPTA9PT1yP2UvKHMrMSk6LjUqbSksITApKS1hLGM9XCJ1XCI9PT0oTWF0aC5hYnMoaCk8MT9cInVcIjpcInRcIik/KDErcykqaDpoLGE9byxsPShuPXRoaXMubGV2aW4obyxzLTEsYywxLHUscCkpLWQsaXNOYU4obikpe2Y9XCJOYU5cIjticmVha31pZigwIT09byYmbi9vPnRoaXMuaW5mdHkpe2Q9bixmPVwiaW5maW5pdGVcIjticmVha31pZihNYXRoLmFicyhsKTwxZS03KWJyZWFrO2Q9bn1yZXR1cm5bZCxmLDEtKHMtMSkvdGhpcy51cHBlcl19LGxpbWl0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5pdGVyYXRpb25fbGV2aW4odCxlLGksMCl9fSx0LkV4dHJhcG9sYXRlfSkpLGRlZmluZShcIm1hdGgvcWR0XCIsW1wibWF0aC9tYXRoXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlF1YWR0cmVlPWZ1bmN0aW9uKHQpe3RoaXMuY2FwYWNpdHk9MTAsdGhpcy5wb2ludHM9W10sdGhpcy54bGI9dFswXSx0aGlzLnh1Yj10WzJdLHRoaXMueWxiPXRbM10sdGhpcy55dWI9dFsxXSx0aGlzLm5vcnRoV2VzdD1udWxsLHRoaXMubm9ydGhFYXN0PW51bGwsdGhpcy5zb3V0aEVhc3Q9bnVsbCx0aGlzLnNvdXRoV2VzdD1udWxsfSxlLmV4dGVuZCh0LlF1YWR0cmVlLnByb3RvdHlwZSx7Y29udGFpbnM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy54bGI8dCYmdDw9dGhpcy54dWImJnRoaXMueWxiPGUmJmU8PXRoaXMueXVifSxpbnNlcnQ6ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmNvbnRhaW5zKHQudXNyQ29vcmRzWzFdLHQudXNyQ29vcmRzWzJdKSYmKHRoaXMucG9pbnRzLmxlbmd0aDx0aGlzLmNhcGFjaXR5Pyh0aGlzLnBvaW50cy5wdXNoKHQpLCEwKToobnVsbD09PXRoaXMubm9ydGhXZXN0JiZ0aGlzLnN1YmRpdmlkZSgpLCEhdGhpcy5ub3J0aFdlc3QuaW5zZXJ0KHQpfHwoISF0aGlzLm5vcnRoRWFzdC5pbnNlcnQodCl8fCghIXRoaXMuc291dGhFYXN0Lmluc2VydCh0KXx8ISF0aGlzLnNvdXRoV2VzdC5pbnNlcnQodCkpKSkpfSxzdWJkaXZpZGU6ZnVuY3Rpb24oKXt2YXIgZSxpPXRoaXMucG9pbnRzLmxlbmd0aCxyPXRoaXMueGxiKyh0aGlzLnh1Yi10aGlzLnhsYikvMixzPXRoaXMueWxiKyh0aGlzLnl1Yi10aGlzLnlsYikvMjtmb3IodGhpcy5ub3J0aFdlc3Q9bmV3IHQuUXVhZHRyZWUoW3RoaXMueGxiLHRoaXMueXViLHIsc10pLHRoaXMubm9ydGhFYXN0PW5ldyB0LlF1YWR0cmVlKFtyLHRoaXMueXViLHRoaXMueHViLHNdKSx0aGlzLnNvdXRoRWFzdD1uZXcgdC5RdWFkdHJlZShbdGhpcy54bGIscyxyLHRoaXMueWxiXSksdGhpcy5zb3V0aFdlc3Q9bmV3IHQuUXVhZHRyZWUoW3Iscyx0aGlzLnh1Yix0aGlzLnlsYl0pLGU9MDtlPGk7ZSs9MSl0aGlzLm5vcnRoV2VzdC5pbnNlcnQodGhpcy5wb2ludHNbZV0pLHRoaXMubm9ydGhFYXN0Lmluc2VydCh0aGlzLnBvaW50c1tlXSksdGhpcy5zb3V0aEVhc3QuaW5zZXJ0KHRoaXMucG9pbnRzW2VdKSx0aGlzLnNvdXRoV2VzdC5pbnNlcnQodGhpcy5wb2ludHNbZV0pfSxfcXVlcnk6ZnVuY3Rpb24odCxlKXt2YXIgaTtpZih0aGlzLmNvbnRhaW5zKHQsZSkpe2lmKG51bGw9PT10aGlzLm5vcnRoV2VzdClyZXR1cm4gdGhpcztpZihpPXRoaXMubm9ydGhXZXN0Ll9xdWVyeSh0LGUpKXJldHVybiBpO2lmKGk9dGhpcy5ub3J0aEVhc3QuX3F1ZXJ5KHQsZSkpcmV0dXJuIGk7aWYoaT10aGlzLnNvdXRoRWFzdC5fcXVlcnkodCxlKSlyZXR1cm4gaTtpZihpPXRoaXMuc291dGhXZXN0Ll9xdWVyeSh0LGUpKXJldHVybiBpfXJldHVybiExfSxxdWVyeTpmdW5jdGlvbih0LGkpe3ZhciByLHM7cmV0dXJuIGUuZXhpc3RzKGkpPyhyPXQscz1pKToocj10LnVzckNvb3Jkc1sxXSxzPXQudXNyQ29vcmRzWzJdKSx0aGlzLl9xdWVyeShyLHMpfX0pLHQuUXVhZHRyZWV9KSksZGVmaW5lKFwibWF0aC9udW1lcmljc1wiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMvZW52XCIsXCJtYXRoL21hdGhcIl0sKGZ1bmN0aW9uKHQsZSxpLHIpe1widXNlIHN0cmljdFwiO3ZhciBzPXtyazQ6e3M6NCxBOltbMCwwLDAsMF0sWy41LDAsMCwwXSxbMCwuNSwwLDBdLFswLDAsMSwwXV0sYjpbMS82LDEvMywxLzMsMS82XSxjOlswLC41LC41LDFdfSxoZXVuOntzOjIsQTpbWzAsMF0sWzEsMF1dLGI6Wy41LC41XSxjOlswLDFdfSxldWxlcjp7czoxLEE6W1swXV0sYjpbMV0sYzpbMF19fTtyZXR1cm4gci5OdW1lcmljcz17R2F1c3M6ZnVuY3Rpb24odCxpKXt2YXIgcyxvLG4sYSxoLGw9ci5lcHMsYz10Lmxlbmd0aD4wP3RbMF0ubGVuZ3RoOjA7aWYoYyE9PWkubGVuZ3RofHxjIT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlhHLk1hdGguTnVtZXJpY3MuR2F1c3M6IERpbWVuc2lvbnMgZG9uJ3QgbWF0Y2guIEEgbXVzdCBiZSBhIHNxdWFyZSBtYXRyaXggYW5kIGIgbXVzdCBiZSBvZiB0aGUgc2FtZSBsZW5ndGggYXMgQS5cIik7Zm9yKGE9W10saD1pLnNsaWNlKDAsYykscz0wO3M8YztzKyspYVtzXT10W3NdLnNsaWNlKDAsYyk7Zm9yKG89MDtvPGM7bysrKXtmb3Iocz1jLTE7cz5vO3MtLSlpZihNYXRoLmFicyhhW3NdW29dKT5sKWlmKE1hdGguYWJzKGFbb11bb10pPGwpZS5zd2FwKGEscyxvKSxlLnN3YXAoaCxzLG8pO2Vsc2UgZm9yKGFbc11bb10vPWFbb11bb10saFtzXS09YVtzXVtvXSpoW29dLG49bysxO248YztuKyspYVtzXVtuXS09YVtzXVtvXSphW29dW25dO2lmKE1hdGguYWJzKGFbb11bb10pPGwpdGhyb3cgbmV3IEVycm9yKFwiSlhHLk1hdGguTnVtZXJpY3MuR2F1c3MoKTogVGhlIGdpdmVuIG1hdHJpeCBzZWVtcyB0byBiZSBzaW5ndWxhci5cIil9cmV0dXJuIHRoaXMuYmFja3dhcmRTb2x2ZShhLGgsITApLGh9LGJhY2t3YXJkU29sdmU6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGE7Zm9yKHI9aT9lOmUuc2xpY2UoMCxlLmxlbmd0aCkscz10Lmxlbmd0aCxvPXQubGVuZ3RoPjA/dFswXS5sZW5ndGg6MCxuPXMtMTtuPj0wO24tLSl7Zm9yKGE9by0xO2E+bjthLS0pcltuXS09dFtuXVthXSpyW2FdO3Jbbl0vPXRbbl1bbl19cmV0dXJuIHJ9LGdhdXNzQmFyZWlzczpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbyxuLGEsaCxsLGMsZD1yLmVwcztpZigoaD10Lmxlbmd0aCk8PTApcmV0dXJuIDA7Zm9yKHRbMF0ubGVuZ3RoPGgmJihoPXRbMF0ubGVuZ3RoKSxsPVtdLG89MDtvPGg7bysrKWxbb109dFtvXS5zbGljZSgwLGgpO2ZvcihpPTEscz0xLGU9MDtlPGgtMTtlKyspe2lmKGE9bFtlXVtlXSxNYXRoLmFicyhhKTxkKXtmb3Iobz1lKzE7bzxoJiYhKE1hdGguYWJzKGxbb11bZV0pPj1kKTtvKyspO2lmKG89PT1oKXJldHVybiAwO2ZvcihuPWU7bjxoO24rKyljPWxbb11bbl0sbFtvXVtuXT1sW2VdW25dLGxbZV1bbl09YztzPS1zLGE9bFtlXVtlXX1mb3Iobz1lKzE7bzxoO28rKylmb3Iobj1lKzE7bjxoO24rKyljPWEqbFtvXVtuXS1sW29dW2VdKmxbZV1bbl0sbFtvXVtuXT1jL2k7aT1hfXJldHVybiBzKmxbaC0xXVtoLTFdfSxkZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIDI9PT10Lmxlbmd0aCYmMj09PXRbMF0ubGVuZ3RoP3RbMF1bMF0qdFsxXVsxXS10WzFdWzBdKnRbMF1bMV06dGhpcy5nYXVzc0JhcmVpc3ModCl9LEphY29iaTpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbyxuLGEsaCxsLGMsZD1yLmVwcypyLmVwcyx1PTAscD10Lmxlbmd0aCxmPVtbMCwwLDBdLFswLDAsMF0sWzAsMCwwXV0sbT1bWzAsMCwwXSxbMCwwLDBdLFswLDAsMF1dLGc9MDtmb3IoZT0wO2U8cDtlKyspe2ZvcihpPTA7aTxwO2krKylmW2VdW2ldPTAsbVtlXVtpXT10W2VdW2ldLHUrPU1hdGguYWJzKG1bZV1baV0pO2ZbZV1bZV09MX1pZigxPT09cClyZXR1cm5bbSxmXTtpZih1PD0wKXJldHVyblttLGZdO3UvPXAqcDtkb3tmb3IobD0wLGM9MCxpPTE7aTxwO2krKylmb3IoZT0wO2U8aTtlKyspaWYoKG89TWF0aC5hYnMobVtlXVtpXSkpPmMmJihjPW8pLGwrPW8sbz49ZCl7Zm9yKG89LjUqTWF0aC5hdGFuMigyKm1bZV1baV0sbVtlXVtlXS1tW2ldW2ldKSxuPU1hdGguc2luKG8pLGE9TWF0aC5jb3Mobykscz0wO3M8cDtzKyspaD1tW3NdW2VdLG1bc11bZV09YSpoK24qbVtzXVtpXSxtW3NdW2ldPS1uKmgrYSptW3NdW2ldLGg9ZltzXVtlXSxmW3NdW2VdPWEqaCtuKmZbc11baV0sZltzXVtpXT0tbipoK2EqZltzXVtpXTtmb3IobVtlXVtlXT1hKm1bZV1bZV0rbiptW2ldW2VdLG1baV1baV09LW4qbVtlXVtpXSthKm1baV1baV0sbVtlXVtpXT0wLHM9MDtzPHA7cysrKW1bZV1bc109bVtzXVtlXSxtW2ldW3NdPW1bc11baV19Zys9MX13aGlsZShNYXRoLmFicyhsKS91PmQmJmc8MmUzKTtyZXR1cm5bbSxmXX0sTmV3dG9uQ290ZXM6ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbixhPTAsaD1yJiZlLmlzTnVtYmVyKHIubnVtYmVyX29mX25vZGVzKT9yLm51bWJlcl9vZl9ub2RlczoyOCxsPXt0cmFwZXo6ITAsc2ltcHNvbjohMCxtaWxuZTohMH0sYz1yJiZyLmludGVncmF0aW9uX3R5cGUmJmwuaGFzT3duUHJvcGVydHkoci5pbnRlZ3JhdGlvbl90eXBlKSYmbFtyLmludGVncmF0aW9uX3R5cGVdP3IuaW50ZWdyYXRpb25fdHlwZTpcIm1pbG5lXCIsZD0odFsxXS10WzBdKS9oO3N3aXRjaChjKXtjYXNlXCJ0cmFwZXpcIjpmb3IoYT0uNSooaSh0WzBdKStpKHRbMV0pKSxzPXRbMF0sbz0wO288aC0xO28rKylhKz1pKHMrPWQpO2EqPWQ7YnJlYWs7Y2FzZVwic2ltcHNvblwiOmlmKGglMj4wKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiAgSU5UX1NJTVBTT04gcmVxdWlyZXMgY29uZmlnLm51bWJlcl9vZl9ub2RlcyBkaXZpZGFibGUgYnkgMi5cIik7Zm9yKG49aC8yLGE9aSh0WzBdKStpKHRbMV0pLHM9dFswXSxvPTA7bzxuLTE7bysrKWErPTIqaShzKz0yKmQpO2ZvcihzPXRbMF0tZCxvPTA7bzxuO28rKylhKz00Kmkocys9MipkKTthKj1kLzM7YnJlYWs7ZGVmYXVsdDppZihoJTQ+MCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogRXJyb3IgaW4gSU5UX01JTE5FOiBjb25maWcubnVtYmVyX29mX25vZGVzIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0XCIpO2ZvcihuPS4yNSpoLGE9NyooaSh0WzBdKStpKHRbMV0pKSxzPXRbMF0sbz0wO288bi0xO28rKylhKz0xNCppKHMrPTQqZCk7Zm9yKHM9dFswXS0zKmQsbz0wO288bjtvKyspYSs9MzIqKGkocys9NCpkKStpKHMrMipkKSk7Zm9yKHM9dFswXS0yKmQsbz0wO288bjtvKyspYSs9MTIqaShzKz00KmQpO2EqPTIqZC80NX1yZXR1cm4gYX0sUm9tYmVyZzpmdW5jdGlvbih0LGkscil7dmFyIHMsbyxuLGEsaCxsLGMsZCx1PVtdLHA9MCxmPTEvMCxtPXImJmUuaXNOdW1iZXIoci5tYXhfaXRlcmF0aW9ucyk/ci5tYXhfaXRlcmF0aW9uczoyMCxnPXImJmUuaXNOdW1iZXIoci5lcHMpP3IuZXBzOnIuZXBzfHwxZS03O2ZvcihzPXRbMF0sbj0obz10WzFdKS1zLGg9MSx1WzBdPS41Km4qKGkocykraShvKSksbD0wO2w8bTsrK2wpe2ZvcihhPTAsbio9LjUsaCo9MixkPTEsYz0xO2M8aDtjKz0yKWErPWkocytjKm4pO2Zvcih1W2wrMV09LjUqdVtsXSthKm4scD11W2wrMV0sYz1sLTE7Yz49MDstLWMpZCo9NCx1W2NdPXVbYysxXSsodVtjKzFdLXVbY10pLyhkLTEpLHA9dVtjXTtpZihNYXRoLmFicyhwLWYpPGcqTWF0aC5hYnMocCkpYnJlYWs7Zj1wfXJldHVybiBwfSxHYXVzc0xlZ2VuZHJlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG4sYSxoLGwsYyxkLHU9MCxwPVtdLGY9W10sbT1yJiZlLmlzTnVtYmVyKHIubik/ci5uOjEyO2lmKG0+MTgmJihtPTE4KSxwWzJdPVsuNTc3MzUwMjY5MTg5NjI1N10sZlsyXT1bMV0scFs0XT1bLjMzOTk4MTA0MzU4NDg1NjI2LC44NjExMzYzMTE1OTQwNTI2XSxmWzRdPVsuNjUyMTQ1MTU0ODYyNTQ2MSwuMzQ3ODU0ODQ1MTM3NDUzODVdLHBbNl09Wy4yMzg2MTkxODYwODMxOTY5LC42NjEyMDkzODY0NjYyNjQ1LC45MzI0Njk1MTQyMDMxNTJdLGZbNl09Wy40Njc5MTM5MzQ1NzI2OTEwNCwuMzYwNzYxNTczMDQ4MTM4NiwuMTcxMzI0NDkyMzc5MTcwMzZdLHBbOF09Wy4xODM0MzQ2NDI0OTU2NDk4LC41MjU1MzI0MDk5MTYzMjksLjc5NjY2NjQ3NzQxMzYyNjcsLjk2MDI4OTg1NjQ5NzUzNjNdLGZbOF09Wy4zNjI2ODM3ODMzNzgzNjIsLjMxMzcwNjY0NTg3Nzg4NzI3LC4yMjIzODEwMzQ0NTMzNzQ0OCwuMTAxMjI4NTM2MjkwMzc2MjZdLHBbMTBdPVsuMTQ4ODc0MzM4OTgxNjMxMjIsLjQzMzM5NTM5NDEyOTI0NzIsLjY3OTQwOTU2ODI5OTAyNDQsLjg2NTA2MzM2NjY4ODk4NDUsLjk3MzkwNjUyODUxNzE3MTddLGZbMTBdPVsuMjk1NTI0MjI0NzE0NzUyODcsLjI2OTI2NjcxOTMwOTk5NjM1LC4yMTkwODYzNjI1MTU5ODIwNCwuMTQ5NDUxMzQ5MTUwNTgwNiwuMDY2NjcxMzQ0MzA4Njg4MTRdLHBbMTJdPVsuMTI1MjMzNDA4NTExNDY4OSwuMzY3ODMxNDk4OTk4MTgwMiwuNTg3MzE3OTU0Mjg2NjE3NSwuNzY5OTAyNjc0MTk0MzA0NywuOTA0MTE3MjU2MzcwNDc0OSwuOTgxNTYwNjM0MjQ2NzE5Ml0sZlsxMl09Wy4yNDkxNDcwNDU4MTM0MDI3NywuMjMzNDkyNTM2NTM4MzU0OCwuMjAzMTY3NDI2NzIzMDY1OTIsLjE2MDA3ODMyODU0MzM0NjIyLC4xMDY5MzkzMjU5OTUzMTg0MywuMDQ3MTc1MzM2Mzg2NTExODNdLHBbMTRdPVsuMTA4MDU0OTQ4NzA3MzQzNjcsLjMxOTExMjM2ODkyNzg4OTc0LC41MTUyNDg2MzYzNTgxNTQxLC42ODcyOTI5MDQ4MTE2ODU1LC44MjcyMDEzMTUwNjk3NjUsLjkyODQzNDg4MzY2MzU3MzUsLjk4NjI4MzgwODY5NjgxMjNdLGZbMTRdPVsuMjE1MjYzODUzNDYzMTU3OCwuMjA1MTk4NDYzNzIxMjk1NiwuMTg1NTM4Mzk3NDc3OTM3ODIsLjE1NzIwMzE2NzE1ODE5MzU1LC4xMjE1MTg1NzA2ODc5MDMxOSwuMDgwMTU4MDg3MTU5NzYwMjEsLjAzNTExOTQ2MDMzMTc1MTg2XSxwWzE2XT1bLjA5NTAxMjUwOTgzNzYzNzQ0LC4yODE2MDM1NTA3NzkyNTg5LC40NTgwMTY3Nzc2NTcyMjczNywuNjE3ODc2MjQ0NDAyNjQzOCwuNzU1NDA0NDA4MzU1MDAzLC44NjU2MzEyMDIzODc4MzE4LC45NDQ1NzUwMjMwNzMyMzI2LC45ODk0MDA5MzQ5OTE2NDk5XSxmWzE2XT1bLjE4OTQ1MDYxMDQ1NTA2ODUsLjE4MjYwMzQxNTA0NDkyMzU4LC4xNjkxNTY1MTkzOTUwMDI1NCwuMTQ5NTk1OTg4ODE2NTc2NzQsLjEyNDYyODk3MTI1NTUzMzg4LC4wOTUxNTg1MTE2ODI0OTI3OSwuMDYyMjUzNTIzOTM4NjQ3ODk0LC4wMjcxNTI0NTk0MTE3NTQwOTZdLHBbMThdPVsuMDg0Nzc1MDEzMDQxNzM1MywuMjUxODg2MjI1NjkxNTA1NSwuNDExNzUxMTYxNDYyODQyNjMsLjU1OTc3MDgzMTA3Mzk0NzUsLjY5MTY4NzA0MzA2MDM1MzIsLjgwMzcwNDk1ODk3MjUyMzEsLjg5MjYwMjQ2NjQ5NzU1NTcsLjk1NTgyMzk0OTU3MTM5NzcsLjk5MTU2NTE2ODQyMDkzMDldLGZbMThdPVsuMTY5MTQyMzgyOTYzMTQzNiwuMTY0Mjc2NDgzNzQ1ODMyNzMsLjE1NDY4NDY3NTEyNjI2NTI0LC4xNDA2NDI5MTQ2NzA2NTA2NSwuMTIyNTU1MjA2NzExNDc4NDYsLjEwMDk0MjA0NDEwNjI4NzE3LC4wNzY0MjU3MzAyNTQ4ODkwNSwuMDQ5NzE0NTQ4ODk0OTY5OCwuMDIxNjE2MDEzNTI2NDgzMzFdLHBbM109WzAsLjc3NDU5NjY2OTI0MTQ4MzRdLGZbM109Wy44ODg4ODg4ODg4ODg4ODg4LC41NTU1NTU1NTU1NTU1NTU2XSxwWzVdPVswLC41Mzg0NjkzMTAxMDU2ODMxLC45MDYxNzk4NDU5Mzg2NjRdLGZbNV09Wy41Njg4ODg4ODg4ODg4ODg5LC40Nzg2Mjg2NzA0OTkzNjY0NywuMjM2OTI2ODg1MDU2MTg5MDhdLHBbN109WzAsLjQwNTg0NTE1MTM3NzM5NzIsLjc0MTUzMTE4NTU5OTM5NDUsLjk0OTEwNzkxMjM0Mjc1ODVdLGZbN109Wy40MTc5NTkxODM2NzM0Njk0LC4zODE4MzAwNTA1MDUxMTg5LC4yNzk3MDUzOTE0ODkyNzY2NCwuMTI5NDg0OTY2MTY4ODY5N10scFs5XT1bMCwuMzI0MjUzNDIzNDAzODA4OSwuNjEzMzcxNDMyNzAwNTkwNCwuODM2MDMxMTA3MzI2NjM1OCwuOTY4MTYwMjM5NTA3NjI2MV0sZls5XT1bLjMzMDIzOTM1NTAwMTI1OTgsLjMxMjM0NzA3NzA0MDAwMjg2LC4yNjA2MTA2OTY0MDI5MzU0NCwuMTgwNjQ4MTYwNjk0ODU3NCwuMDgxMjc0Mzg4MzYxNTc0NDFdLHBbMTFdPVswLC4yNjk1NDMxNTU5NTIzNDQ5NiwuNTE5MDk2MTI5MjA2ODExOCwuNzMwMTUyMDA1NTc0MDQ5NCwuODg3MDYyNTk5NzY4MDk1MywuOTc4MjI4NjU4MTQ2MDU3XSxmWzExXT1bLjI3MjkyNTA4Njc3NzkwMDYsLjI2MjgwNDU0NDUxMDI0NjY1LC4yMzMxOTM3NjQ1OTE5OTA0OCwuMTg2MjkwMjEwOTI3NzM0MjYsLjEyNTU4MDM2OTQ2NDkwNDYsLjA1NTY2ODU2NzExNjE3MzY2XSxwWzEzXT1bMCwuMjMwNDU4MzE1OTU1MTM0OCwuNDQ4NDkyNzUxMDM2NDQ2ODcsLjY0MjM0OTMzOTQ0MDM0MDIsLjgwMTU3ODA5MDczMzMwOTksLjkxNzU5ODM5OTIyMjk3NzksLjk4NDE4MzA1NDcxODU4ODFdLGZbMTNdPVsuMjMyNTUxNTUzMjMwODczOSwuMjI2MjgzMTgwMjYyODk3MjMsLjIwNzgxNjA0NzUzNjg4ODUsLjE3ODE0NTk4MDc2MTk0NTc0LC4xMzg4NzM1MTAyMTk3ODcyNSwuMDkyMTIxNDk5ODM3NzI4NDUsLjA0MDQ4NDAwNDc2NTMxNTg4XSxwWzE1XT1bMCwuMjAxMTk0MDkzOTk3NDM0NTEsLjM5NDE1MTM0NzA3NzU2MzQsLjU3MDk3MjE3MjYwODUzODgsLjcyNDQxNzczMTM2MDE3MDEsLjg0ODIwNjU4MzQxMDQyNzIsLjkzNzI3MzM5MjQwMDcwNiwuOTg3OTkyNTE4MDIwNDg1NF0sZlsxNV09Wy4yMDI1NzgyNDE5MjU1NjEzLC4xOTg0MzE0ODUzMjcxMTE1OCwuMTg2MTYxMDAwMDE1NTYyMiwuMTY2MjY5MjA1ODE2OTkzOTIsLjEzOTU3MDY3NzkyNjE1NDMyLC4xMDcxNTkyMjA0NjcxNzE5NCwuMDcwMzY2MDQ3NDg4MTA4MTIsLjAzMDc1MzI0MTk5NjExNzI3XSxwWzE3XT1bMCwuMTc4NDg0MTgxNDk1ODQ3ODUsLjM1MTIzMTc2MzQ1Mzg3NjMsLjUxMjY5MDUzNzA4NjQ3NjksLjY1NzY3MTE1OTIxNjY5MDcsLjc4MTUxNDAwMzg5NjgwMTQsLjg4MDIzOTE1MzcyNjk4NTksLjk1MDY3NTUyMTc2ODc2NzgsLjk5MDU3NTQ3NTMxNDQxNzRdLGZbMTddPVsuMTc5NDQ2NDcwMzU2MjA2NTMsLjE3NjU2MjcwNTM2Njk5MjY0LC4xNjgwMDQxMDIxNTY0NTAwNCwuMTU0MDQ1NzYxMDc2ODEwMjgsLjEzNTEzNjM2ODQ2ODUyNTQ4LC4xMTE4ODM4NDcxOTM0MDM5NywuMDg1MDM2MTQ4MzE3MTc5MTgsLjA1NTQ1OTUyOTM3Mzk4NzIsLjAyNDE0ODMwMjg2ODU0NzkzXSxzPXRbMF0sbz10WzFdLGE9bSsxPj4xLGM9cFttXSxkPWZbbV0sbD0uNSooby1zKSxoPS41KihvK3MpLCEwJm0pZm9yKHU9ZFswXSppKGgpLG49MTtuPGE7KytuKXUrPWRbbl0qKGkoaCtsKmNbbl0pK2koaC1sKmNbbl0pKTtlbHNlIGZvcih1PTAsbj0wO248YTsrK24pdSs9ZFtuXSooaShoK2wqY1tuXSkraShoLWwqY1tuXSkpO3JldHVybiBsKnV9LF9yZXNjYWxlX2Vycm9yOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG89MjIyMDQ0NjA0OTI1MDMxM2UtMzE7cmV0dXJuIHQ9TWF0aC5hYnModCksMCE9PWkmJjAhPT10JiYodD0ocj1NYXRoLnBvdygyMDAqdC9pLDEuNSkpPDE/aSpyOmkpLGU+MjAwNDE2ODM2MDAwODk3MjhlLTMxMCYmKHM9NTAqbyplKT50JiYodD1zKSx0fSxfZ2F1c3NLcm9ucm9kOmZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe3ZhciBhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdj10WzBdLHk9dFsxXSxDPS41Kih2K3kpLF89LjUqKHktdiksUD1NYXRoLmFicyhfKSxFPWUoQykseD0wLFM9RSpvW2ktMV0sTz1NYXRoLmFicyhTKSx3PTAsVD1bXSxOPVtdO2ZvcihpJTI9PTAmJih4PUUqc1tpLzItMV0pLGE9TWF0aC5mbG9vcigoaS0xKS8yKSxkPTA7ZDxhO2QrKylnPShmPWUoQy0ocD1fKnJbdT0yKmQrMV0pKSkrKG09ZShDK3ApKSxUW3VdPWYsTlt1XT1tLHgrPXNbZF0qZyxTKz1vW3VdKmcsTys9b1t1XSooTWF0aC5hYnMoZikrTWF0aC5hYnMobSkpO2ZvcihhPU1hdGguZmxvb3IoaS8yKSxkPTA7ZDxhO2QrKylmPWUoQy0ocD1fKnJbYj0yKmRdKSksbT1lKEMrcCksVFtiXT1mLE5bYl09bSxTKz1vW2JdKihmK20pLE8rPW9bYl0qKE1hdGguYWJzKGYpK01hdGguYWJzKG0pKTtmb3IobD0uNSpTLHc9b1tpLTFdKk1hdGguYWJzKEUtbCksZD0wO2Q8aS0xO2QrKyl3Kz1vW2RdKihNYXRoLmFicyhUW2RdLWwpK01hdGguYWJzKE5bZF0tbCkpO3JldHVybiBjPShTLXgpKl8sTyo9UCx3Kj1QLGg9Uyo9XyxuLmFic2Vycj10aGlzLl9yZXNjYWxlX2Vycm9yKGMsTyx3KSxuLnJlc2Ficz1PLG4ucmVzYXNjPXcsaH0sR2F1c3NLcm9ucm9kMTU6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9nYXVzc0tyb25yb2QodCxlLDgsWy45OTE0NTUzNzExMjA4MTI2LC45NDkxMDc5MTIzNDI3NTg1LC44NjQ4NjQ0MjMzNTk3NjkxLC43NDE1MzExODU1OTkzOTQ1LC41ODYwODcyMzU0Njc2OTExLC40MDU4NDUxNTEzNzczOTcyLC4yMDc3ODQ5NTUwMDc4OTg0OCwwXSxbLjEyOTQ4NDk2NjE2ODg2OTcsLjI3OTcwNTM5MTQ4OTI3NjY0LC4zODE4MzAwNTA1MDUxMTg5LC40MTc5NTkxODM2NzM0Njk0XSxbLjAyMjkzNTMyMjAxMDUyOTIyNCwuMDYzMDkyMDkyNjI5OTc4NTYsLjEwNDc5MDAxMDMyMjI1MDE5LC4xNDA2NTMyNTk3MTU1MjU5MiwuMTY5MDA0NzI2NjM5MjY3OSwuMTkwMzUwNTc4MDY0Nzg1NDIsLjIwNDQzMjk0MDA3NTI5ODg5LC4yMDk0ODIxNDEwODQ3Mjc4Ml0saSl9LEdhdXNzS3JvbnJvZDIxOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fZ2F1c3NLcm9ucm9kKHQsZSwxMSxbLjk5NTY1NzE2MzAyNTgwODEsLjk3MzkwNjUyODUxNzE3MTcsLjkzMDE1NzQ5MTM1NTcwODIsLjg2NTA2MzM2NjY4ODk4NDUsLjc4MDgxNzcyNjU4NjQxNjksLjY3OTQwOTU2ODI5OTAyNDQsLjU2Mjc1NzEzNDY2ODYwNDcsLjQzMzM5NTM5NDEyOTI0NzIsLjI5NDM5Mjg2MjcwMTQ2MDIsLjE0ODg3NDMzODk4MTYzMTIyLDBdLFsuMDY2NjcxMzQ0MzA4Njg4MTQsLjE0OTQ1MTM0OTE1MDU4MDYsLjIxOTA4NjM2MjUxNTk4MjA0LC4yNjkyNjY3MTkzMDk5OTYzNSwuMjk1NTI0MjI0NzE0NzUyODddLFsuMDExNjk0NjM4ODY3MzcxODc0LC4wMzI1NTgxNjIzMDc5NjQ3MjUsLjA1NDc1NTg5NjU3NDM1MTk5NSwuMDc1MDM5Njc0ODEwOTE5OTYsLjA5MzEyNTQ1NDU4MzY5NzYsLjEwOTM4NzE1ODgwMjI5NzY0LC4xMjM0OTE5NzYyNjIwNjU4NCwuMTM0NzA5MjE3MzExNDczMzQsLjE0Mjc3NTkzODU3NzA2MDA5LC4xNDc3MzkxMDQ5MDEzMzg0OSwuMTQ5NDQ1NTU0MDAyOTE2OV0saSl9LEdhdXNzS3JvbnJvZDMxOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fZ2F1c3NLcm9ucm9kKHQsZSwxNixbLjk5ODAwMjI5ODY5MzM5NzEsLjk4Nzk5MjUxODAyMDQ4NTQsLjk2NzczOTA3NTY3OTEzOTEsLjkzNzI3MzM5MjQwMDcwNiwuODk3MjY0NTMyMzQ0MDgxOSwuODQ4MjA2NTgzNDEwNDI3MiwuNzkwNDE4NTAxNDQyNDY2LC43MjQ0MTc3MzEzNjAxNzAxLC42NTA5OTY3NDEyOTc0MTcsLjU3MDk3MjE3MjYwODUzODgsLjQ4NTA4MTg2MzY0MDIzOTcsLjM5NDE1MTM0NzA3NzU2MzQsLjI5OTE4MDAwNzE1MzE2ODg0LC4yMDExOTQwOTM5OTc0MzQ1MSwuMTAxMTQyMDY2OTE4NzE3NSwwXSxbLjAzMDc1MzI0MTk5NjExNzI3LC4wNzAzNjYwNDc0ODgxMDgxMiwuMTA3MTU5MjIwNDY3MTcxOTQsLjEzOTU3MDY3NzkyNjE1NDMyLC4xNjYyNjkyMDU4MTY5OTM5MiwuMTg2MTYxMDAwMDE1NTYyMiwuMTk4NDMxNDg1MzI3MTExNTgsLjIwMjU3ODI0MTkyNTU2MTNdLFsuMDA1Mzc3NDc5ODcyOTIzMzQ5LC4wMTUwMDc5NDczMjkzMTYxMjIsLjAyNTQ2MDg0NzMyNjcxNTMyLC4wMzUzNDYzNjA3OTEzNzU4NSwuMDQ0NTg5NzUxMzI0NzY0ODgsLjA1MzQ4MTUyNDY5MDkyODA5LC4wNjIwMDk1Njc4MDA2NzA2NCwuMDY5ODU0MTIxMzE4NzI4MjYsLjA3Njg0OTY4MDc1NzcyMDM4LC4wODMwODA1MDI4MjMxMzMwMiwuMDg4NTY0NDQzMDU2MjExNzYsLjA5MzEyNjU5ODE3MDgyNTMyLC4wOTY2NDI3MjY5ODM2MjM2OCwuMDk5MTczNTk4NzIxNzkxOTYsLjEwMDc2OTg0NTUyMzg3NTU5LC4xMDEzMzAwMDcwMTQ3OTE1NF0saSl9LF93b3Jrc3BhY2U6ZnVuY3Rpb24odCxlKXtyZXR1cm57bGltaXQ6ZSxzaXplOjAsbnJtYXg6MCxpOjAsYWxpc3Q6W3RbMF1dLGJsaXN0Olt0WzFdXSxybGlzdDpbMF0sZWxpc3Q6WzBdLG9yZGVyOlswXSxsZXZlbDpbMF0scXBzcnQ6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG89dGhpcy5zaXplLTEsbj10aGlzLmxpbWl0LGE9dGhpcy5ucm1heCxoPXRoaXMub3JkZXJbYV07aWYobzwyKXJldHVybiB0aGlzLm9yZGVyWzBdPTAsdGhpcy5vcmRlclsxXT0xLHZvaWQodGhpcy5pPWgpO2Zvcih0PXRoaXMuZWxpc3RbaF07YT4wJiZ0PnRoaXMuZWxpc3RbdGhpcy5vcmRlclthLTFdXTspdGhpcy5vcmRlclthXT10aGlzLm9yZGVyW2EtMV0sYS0tO2ZvcihzPW88bi8yKzI/bzpuLW8rMSxpPWErMTtpPHMmJnQ8dGhpcy5lbGlzdFt0aGlzLm9yZGVyW2ldXTspdGhpcy5vcmRlcltpLTFdPXRoaXMub3JkZXJbaV0saSsrO2Zvcih0aGlzLm9yZGVyW2ktMV09aCxlPXRoaXMuZWxpc3Rbb10scj1zLTE7cj5pLTImJmU+PXRoaXMuZWxpc3RbdGhpcy5vcmRlcltyXV07KXRoaXMub3JkZXJbcisxXT10aGlzLm9yZGVyW3JdLHItLTt0aGlzLm9yZGVyW3IrMV09byxoPXRoaXMub3JkZXJbYV0sdGhpcy5pPWgsdGhpcy5ucm1heD1hfSxzZXRfaW5pdGlhbF9yZXN1bHQ6ZnVuY3Rpb24odCxlKXt0aGlzLnNpemU9MSx0aGlzLnJsaXN0WzBdPXQsdGhpcy5lbGlzdFswXT1lfSx1cGRhdGU6ZnVuY3Rpb24odCxlLGkscixzLG8sbixhKXt2YXIgaD10aGlzLmksbD10aGlzLnNpemUsYz10aGlzLmxldmVsW3RoaXMuaV0rMTthPnI/KHRoaXMuYWxpc3RbaF09cyx0aGlzLnJsaXN0W2hdPW4sdGhpcy5lbGlzdFtoXT1hLHRoaXMubGV2ZWxbaF09Yyx0aGlzLmFsaXN0W2xdPXQsdGhpcy5ibGlzdFtsXT1lLHRoaXMucmxpc3RbbF09aSx0aGlzLmVsaXN0W2xdPXIsdGhpcy5sZXZlbFtsXT1jKToodGhpcy5ibGlzdFtoXT1lLHRoaXMucmxpc3RbaF09aSx0aGlzLmVsaXN0W2hdPXIsdGhpcy5sZXZlbFtoXT1jLHRoaXMuYWxpc3RbbF09cyx0aGlzLmJsaXN0W2xdPW8sdGhpcy5ybGlzdFtsXT1uLHRoaXMuZWxpc3RbbF09YSx0aGlzLmxldmVsW2xdPWMpLHRoaXMuc2l6ZSsrLGM+dGhpcy5tYXhpbXVtX2xldmVsJiYodGhpcy5tYXhpbXVtX2xldmVsPWMpLHRoaXMucXBzcnQoKX0scmV0cmlldmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmk7cmV0dXJue2E6dGhpcy5hbGlzdFt0XSxiOnRoaXMuYmxpc3RbdF0scjp0aGlzLnJsaXN0W3RdLGU6dGhpcy5lbGlzdFt0XX19LHN1bV9yZXN1bHRzOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLnNpemUsaT0wO2Zvcih0PTA7dDxlO3QrKylpKz10aGlzLnJsaXN0W3RdO3JldHVybiBpfSxzdWJpbnRlcnZhbF90b29fc21hbGw6ZnVuY3Rpb24odCxlLGkpe3ZhciByPTEuMDAwMDAwMDAwMDAwMDIyMiooTWF0aC5hYnMoZSkrMjIyNTA3Mzg1ODUwNzIwMTRlLTMyMSk7cmV0dXJuIE1hdGguYWJzKHQpPD1yJiZNYXRoLmFicyhpKTw9cn19fSxRYWc6ZnVuY3Rpb24oaSxzLG8pe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4PXRoaXMuX3dvcmtzcGFjZShpLDFlMyksUz1vJiZlLmlzTnVtYmVyKG8ubGltaXQpP28ubGltaXQ6MTUsTz1vJiZlLmlzTnVtYmVyKG8uZXBzcmVsKT9vLmVwc3JlbDoxZS03LHc9byYmZS5pc051bWJlcihvLmVwc2Ficyk/by5lcHNhYnM6MWUtNyxUPW8mJmUuaXNGdW5jdGlvbihvLnEpP28ucTp0aGlzLkdhdXNzS3JvbnJvZDE1LE49e30sTT0wLEE9MCxSPTAsTD0wLGs9MCxEPTAsQj0wLEk9MCxZPTAsaj0wO2lmKFM+eC5saW1pdCYmdC53YXJuKFwiaXRlcmF0aW9uIGxpbWl0IGV4Y2VlZHMgYXZhaWxhYmxlIHdvcmtzcGFjZVwiKSx3PD0wJiYoTzw1MCpyLmVwc3x8Tzw1ZS0yOSkmJnQud2FybihcInRvbGVyYW5jZSBjYW5ub3QgYmUgYWNoZWl2ZWQgd2l0aCBnaXZlbiBlcHNhYnMgYW5kIGVwc3JlbFwiKSxoPVQuYXBwbHkodGhpcyxbaSxzLE5dKSxsPU4uYWJzZXJyLGM9Ti5yZXNhYnMsZD1OLnJlc2FzYyx4LnNldF9pbml0aWFsX3Jlc3VsdChoLGwpLHU9TWF0aC5tYXgodyxPKk1hdGguYWJzKGgpKSxsPD0xMTEwMjIzMDI0NjI1MTU2NWUtMzAqYyYmbD51KXJldHVybiBoLHQud2FybihcImNhbm5vdCByZWFjaCB0b2xlcmFuY2UgYmVjYXVzZSBvZiByb3VuZG9mZiBlcnJvciBvbiBmaXJzdCBhdHRlbXB0XCIpLC0xLzA7aWYobDw9dSYmbCE9PWR8fDA9PT1sKXJldHVybiBoO2lmKDE9PT1TKXJldHVybiBoLHQud2FybihcImEgbWF4aW11bSBvZiBvbmUgaXRlcmF0aW9uIHdhcyBpbnN1ZmZpY2llbnRcIiksLTEvMDtuPWgsYT1sLE09MTtkb3trPTAsRD0wLEI9MCxJPTAsWT0wLGo9MCxiPShQPXgucmV0cmlldmUoKSkuYSx2PVAuYix5PVAucixDPVAuZSxwPWIsbT1mPS41KihiK3YpLGc9dixrPVQuYXBwbHkodGhpcyxbW3AsZl0scyxOXSksST1OLmFic2VycixfPU4ucmVzYXNjLEQ9VC5hcHBseSh0aGlzLFtbbSxnXSxzLE5dKSxhKz0oaj1JKyhZPU4uYWJzZXJyKSktQyxuKz0oQj1rK0QpLXksXyE9PUkmJk4ucmVzYXNjIT09WSYmKEU9eS1CLE1hdGguYWJzKEUpPD0xZS01Kk1hdGguYWJzKEIpJiZqPj0uOTkqQyYmQSsrLE0+PTEwJiZqPkMmJlIrKyksYT4odT1NYXRoLm1heCh3LE8qTWF0aC5hYnMobikpKSYmKChBPj02fHxSPj0yMCkmJihMPTIpLHguc3ViaW50ZXJ2YWxfdG9vX3NtYWxsKHAsbSxnKSYmKEw9MykpLHgudXBkYXRlKHAsZixrLEksbSxnLEQsWSksYj0oUD14LnJldHJpZXZlKCkpLmFfaSx2PVAuYl9pLHk9UC5yX2ksQz1QLmVfaSxNKyt9d2hpbGUoTTxTJiYhTCYmYT51KTtyZXR1cm4geC5zdW1fcmVzdWx0cygpfSxJOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuUWFnKHQsZSx7cTp0aGlzLkdhdXNzS3JvbnJvZDE1LGxpbWl0OjE1LGVwc3JlbDoxZS03LGVwc2FiczoxZS03fSl9LE5ld3RvbjpmdW5jdGlvbih0LGkscyl7dmFyIG8sbj0wLGE9ci5lcHMsaD10LmFwcGx5KHMsW2ldKTtmb3IoZS5pc0FycmF5KGkpJiYoaT1pWzBdKTtuPDUwJiZNYXRoLmFicyhoKT5hOylvPXRoaXMuRCh0LHMpKGkpLE1hdGguYWJzKG8pPmE/aS09aC9vOmkrPS4yKk1hdGgucmFuZG9tKCktMSxoPXQuYXBwbHkocyxbaV0pLG4rPTE7cmV0dXJuIGl9LHJvb3Q6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmNoYW5kcnVwYXRsYSh0LGUsaSl9LGdlbmVyYWxpemVkTmV3dG9uOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBvLG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseT0wO2Zvcih0aGlzLmdlbmVyYWxpemVkTmV3dG9uLnQxbWVtbz8obz10aGlzLmdlbmVyYWxpemVkTmV3dG9uLnQxbWVtbyxuPXRoaXMuZ2VuZXJhbGl6ZWROZXd0b24udDJtZW1vKToobz1pLG49cyksZj0odT10LlgobyktZS5YKG4pKSp1KyhwPXQuWShvKS1lLlkobikpKnAsbT10aGlzLkQodC5YLHQpLGc9dGhpcy5EKGUuWCxlKSxiPXRoaXMuRCh0LlksdCksdj10aGlzLkQoZS5ZLGUpO2Y+ci5lcHMmJnk8MTA7KWE9bShvKSxoPS1nKG4pLGw9YihvKSxvLT0oKGM9LXYobikpKnUtaCpwKS8oZD1hKmMtaCpsKSxuLT0oYSpwLWwqdSkvZCxmPSh1PXQuWChvKS1lLlgobikpKnUrKHA9dC5ZKG8pLWUuWShuKSkqcCx5Kz0xO3JldHVybiB0aGlzLmdlbmVyYWxpemVkTmV3dG9uLnQxbWVtbz1vLHRoaXMuZ2VuZXJhbGl6ZWROZXd0b24udDJtZW1vPW4sTWF0aC5hYnMobyk8TWF0aC5hYnMobik/W3QuWChvKSx0LlkobyldOltlLlgobiksZS5ZKG4pXX0sTmV2aWxsZTpmdW5jdGlvbih0KXt2YXIgZT1bXSxpPWZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihzLG8pe3ZhciBuLGEsaCxsPXIuYmlub21pYWwsYz10Lmxlbmd0aCxkPWMtMSx1PTAscD0wO2lmKCFvKWZvcihoPTEsbj0wO248YztuKyspZVtuXT1sKGQsbikqaCxoKj0tMTtmb3IoYT1zLG49MDtuPGM7bisrKXtpZigwPT09YSlyZXR1cm4gdFtuXVtpXSgpO2g9ZVtuXS9hLGEtPTEsdSs9dFtuXVtpXSgpKmgscCs9aH1yZXR1cm4gdS9wfX07cmV0dXJuW2koXCJYXCIpLGkoXCJZXCIpLDAsZnVuY3Rpb24oKXtyZXR1cm4gdC5sZW5ndGgtMX1dfSxzcGxpbmVEZWY6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbz1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCksbj1bXSxhPVtdLGg9W10sbD1bXSxjPVtdLGQ9W107aWYoMj09PW8pcmV0dXJuWzAsMF07Zm9yKHI9MDtyPG87cisrKWk9e1g6dFtyXSxZOmVbcl19LGgucHVzaChpKTtmb3IoaC5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LlgtZS5YfSkpLHI9MDtyPG87cisrKXRbcl09aFtyXS5YLGVbcl09aFtyXS5ZO2ZvcihyPTA7cjxvLTE7cisrKWwucHVzaCh0W3IrMV0tdFtyXSk7Zm9yKHI9MDtyPG8tMjtyKyspYy5wdXNoKDYqKGVbcisyXS1lW3IrMV0pL2xbcisxXS02KihlW3IrMV0tZVtyXSkvbFtyXSk7Zm9yKG4ucHVzaCgyKihsWzBdK2xbMV0pKSxhLnB1c2goY1swXSkscj0wO3I8by0zO3IrKylzPWxbcisxXS9uW3JdLG4ucHVzaCgyKihsW3IrMV0rbFtyKzJdKS1zKmxbcisxXSksYS5wdXNoKGNbcisxXS1zKmFbcl0pO2ZvcihkW28tM109YVtvLTNdL25bby0zXSxyPW8tNDtyPj0wO3ItLSlkW3JdPShhW3JdLWxbcisxXSpkW3IrMV0pL25bcl07Zm9yKHI9by0zO3I+PTA7ci0tKWRbcisxXT1kW3JdO3JldHVybiBkWzBdPTAsZFtvLTFdPTAsZH0sc3BsaW5lRXZhbDpmdW5jdGlvbih0LGkscixzKXt2YXIgbyxuLGEsaCxsLGMsZCx1PU1hdGgubWluKGkubGVuZ3RoLHIubGVuZ3RoKSxwPTEsZj0hMSxtPVtdO2ZvcihlLmlzQXJyYXkodCk/KHA9dC5sZW5ndGgsZj0hMCk6dD1bdF0sbz0wO288cDtvKyspe2lmKHRbb108aVswXXx8aVtvXT5pW3UtMV0pcmV0dXJuIE5hTjtmb3Iobj0xO248dSYmISh0W29dPD1pW25dKTtuKyspO2E9cltuLT0xXSxoPShyW24rMV0tcltuXSkvKGlbbisxXS1pW25dKS0oaVtuKzFdLWlbbl0pLzYqKHNbbisxXSsyKnNbbl0pLGw9c1tuXS8yLGM9KHNbbisxXS1zW25dKS8oNiooaVtuKzFdLWlbbl0pKSxkPXRbb10taVtuXSxtLnB1c2goYSsoaCsobCtjKmQpKmQpKmQpfXJldHVybiBmP206bVswXX0sZ2VuZXJhdGVQb2x5bm9taWFsVGVybTpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvPVtdO2ZvcihzPWU7cz49MDtzLS0pbz1vLmNvbmNhdChbXCIoXCIsdFtzXS50b1ByZWNpc2lvbihyKSxcIilcIl0pLHM+MT9vPW8uY29uY2F0KFtcIipcIixpLFwiPHN1cD5cIixzLFwiPFwiLFwiL3N1cD4gKyBcIl0pOjE9PT1zJiYobz1vLmNvbmNhdChbXCIqXCIsaSxcIiArIFwiXSkpO3JldHVybiBvLmpvaW4oXCJcIil9LGxhZ3JhbmdlUG9seW5vbWlhbDpmdW5jdGlvbih0KXt2YXIgZT1bXSxpPXRoaXMscj1mdW5jdGlvbihpLHIpe3ZhciBzLG8sbixhLGg9dC5sZW5ndGgsbD0wLGM9MDtpZighcilmb3Iocz0wO3M8aDtzKyspe2ZvcihlW3NdPTEsbj10W3NdLlgoKSxvPTA7bzxoO28rKylvIT09cyYmKGVbc10qPW4tdFtvXS5YKCkpO2Vbc109MS9lW3NdfWZvcihzPTA7czxoO3MrKyl7aWYoaT09PShuPXRbc10uWCgpKSlyZXR1cm4gdFtzXS5ZKCk7Yys9YT1lW3NdLyhpLW4pLGwrPWEqdFtzXS5ZKCl9cmV0dXJuIGwvY307cmV0dXJuIHIuZ2V0VGVybT1mdW5jdGlvbihlLHIscyl7cmV0dXJuIGkubGFncmFuZ2VQb2x5bm9taWFsVGVybSh0LGUscixzKSgpfSxyfSxsYWdyYW5nZVBvbHlub21pYWxUZXJtOmZ1bmN0aW9uKGUscyxvLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBhLGgsbCxjLGQsdSxwPWUubGVuZ3RoLGY9W10sbT1bXSxnPVtdLGI9ITA7Zm9yKG89b3x8XCJ4XCIsdm9pZCAwPT09biYmKG49XCIgKiBcIiksYT1wLTEsYz0wO2M8cDtjKyspZ1tjXT0wO2ZvcihsPTA7bDxwO2wrKyl7Zm9yKGQ9ZVtsXS5ZKCksdT1lW2xdLlgoKSxmPVtdLGM9MDtjPHA7YysrKWMhPT1sJiYoZC89dS1lW2NdLlgoKSxmLnB1c2goZVtjXS5YKCkpKTtmb3IobT1bMV0uY29uY2F0KHIuVmlldGEoZikpLGM9MDtjPG0ubGVuZ3RoO2MrKylnW2NdKz0oYyUyPT0xPy0xOjEpKm1bY10qZH1mb3IoaD1cIlwiLGM9MDtjPGcubGVuZ3RoO2MrKylkPWdbY10sTWF0aC5hYnMoZCk8ci5lcHN8fCh0LmV4aXN0cyhzKSYmKGQ9aS5fcm91bmQxMChkLC1zKSksYj8oaCs9ZD4wP2Q6XCItXCIrLWQsYj0hMSk6aCs9ZD4wP1wiICsgXCIrZDpcIiAtIFwiKy1kLGEtYz4xP2grPW4rbytcIl5cIisoYS1jKTphLWM9PTEmJihoKz1uK28pKTtyZXR1cm4gaH19LF9pbml0Q3ViaWNQb2x5OmZ1bmN0aW9uKHQsZSxpLHIpe3JldHVyblt0LGksLTMqdCszKmUtMippLXIsMip0LTIqZStpK3JdfSxDYXJkaW5hbFNwbGluZTpmdW5jdGlvbih0LGkscyl7dmFyIG8sbixhLGgsbD1bXSxjPXRoaXM7cmV0dXJuIGg9ZS5pc0Z1bmN0aW9uKGkpP2k6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdm9pZCAwPT09cyYmKHM9XCJ1bmlmb3JtXCIpLG49ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGksbil7dmFyIGQsdSxwLGYsbSxnLGIsdix5LEM7aWYodC5sZW5ndGg8MilyZXR1cm4gTmFOO2lmKCFuKWZvcihhPWgoKSxwPXtYOmZ1bmN0aW9uKCl7cmV0dXJuIDIqdFswXS5YKCktdFsxXS5YKCl9LFk6ZnVuY3Rpb24oKXtyZXR1cm4gMip0WzBdLlkoKS10WzFdLlkoKX0sRGlzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLlgoKS10LlgoKSxpPXRoaXMuWSgpLXQuWSgpO3JldHVybiBNYXRoLnNxcnQoZSplK2kqaSl9fSxmPXtYOmZ1bmN0aW9uKCl7cmV0dXJuIDIqdFt0Lmxlbmd0aC0xXS5YKCktdFt0Lmxlbmd0aC0yXS5YKCl9LFk6ZnVuY3Rpb24oKXtyZXR1cm4gMip0W3QubGVuZ3RoLTFdLlkoKS10W3QubGVuZ3RoLTJdLlkoKX0sRGlzdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLlgoKS10LlgoKSxpPXRoaXMuWSgpLXQuWSgpO3JldHVybiBNYXRoLnNxcnQoZSplK2kqaSl9fSxDPShvPVtwXS5jb25jYXQodCxbZl0pKS5sZW5ndGgsbFtlXT1bXSxkPTA7ZDxDLTM7ZCsrKVwiY2VudHJpcGV0YWxcIj09PXM/KGI9b1tkXS5EaXN0KG9bZCsxXSksdj1vW2QrMl0uRGlzdChvW2QrMV0pLHk9b1tkKzNdLkRpc3Qob1tkKzJdKSxiPU1hdGguc3FydChiKSx2PU1hdGguc3FydCh2KSx5PU1hdGguc3FydCh5KSx2PHIuZXBzJiYodj0xKSxiPHIuZXBzJiYoYj12KSx5PHIuZXBzJiYoeT12KSxtPShvW2QrMV1bZV0oKS1vW2RdW2VdKCkpL2ItKG9bZCsyXVtlXSgpLW9bZF1bZV0oKSkvKHYrYikrKG9bZCsyXVtlXSgpLW9bZCsxXVtlXSgpKS92LGc9KG9bZCsyXVtlXSgpLW9bZCsxXVtlXSgpKS92LShvW2QrM11bZV0oKS1vW2QrMV1bZV0oKSkvKHkrdikrKG9bZCszXVtlXSgpLW9bZCsyXVtlXSgpKS95LG0qPXYsZyo9dixsW2VdW2RdPWMuX2luaXRDdWJpY1BvbHkob1tkKzFdW2VdKCksb1tkKzJdW2VdKCksYSptLGEqZykpOmxbZV1bZF09Yy5faW5pdEN1YmljUG9seShvW2QrMV1bZV0oKSxvW2QrMl1bZV0oKSxhKihvW2QrMl1bZV0oKS1vW2RdW2VdKCkpLGEqKG9bZCszXVtlXSgpLW9bZCsxXVtlXSgpKSk7cmV0dXJuIGlzTmFOKGkpP05hTjooQz10Lmxlbmd0aCxpPD0wP3RbMF1bZV0oKTppPj1DP3RbQy0xXVtlXSgpOihkPU1hdGguZmxvb3IoaSkpPT09aT90W2RdW2VdKCk6KGktPWQsdm9pZCAwPT09KHU9bFtlXVtkXSk/TmFOOigodVszXSppK3VbMl0pKmkrdVsxXSkqaSt1WzBdKSl9fSxbbihcIlhcIiksbihcIllcIiksMCxmdW5jdGlvbigpe3JldHVybiB0Lmxlbmd0aC0xfV19LENhdG11bGxSb21TcGxpbmU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5DYXJkaW5hbFNwbGluZSh0LC41LGUpfSxyZWdyZXNzaW9uUG9seW5vbWlhbDpmdW5jdGlvbih0LGkscyl7dmFyIG8sbixhLGgsbCxjLGQ9XCJcIjtpZihlLmlzUG9pbnQodCkmJmUuaXNGdW5jdGlvbih0LlZhbHVlKSluPWZ1bmN0aW9uKCl7cmV0dXJuIHQuVmFsdWUoKX07ZWxzZSBpZihlLmlzRnVuY3Rpb24odCkpbj10O2Vsc2V7aWYoIWUuaXNOdW1iZXIodCkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSByZWdyZXNzaW9uUG9seW5vbWlhbCBmcm9tIGRlZ3JlZSBvZiB0eXBlJ1wiK3R5cGVvZiB0K1wiJy5cIik7bj1mdW5jdGlvbigpe3JldHVybiB0fX1pZigzPT09YXJndW1lbnRzLmxlbmd0aCYmZS5pc0FycmF5KGkpJiZlLmlzQXJyYXkocykpbD0wO2Vsc2UgaWYoMj09PWFyZ3VtZW50cy5sZW5ndGgmJmUuaXNBcnJheShpKSYmaS5sZW5ndGg+MCYmZS5pc1BvaW50KGlbMF0pKWw9MTtlbHNle2lmKCEoMj09PWFyZ3VtZW50cy5sZW5ndGgmJmUuaXNBcnJheShpKSYmaS5sZW5ndGg+MCYmaVswXS51c3JDb29yZHMmJmlbMF0uc2NyQ29vcmRzKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHJlZ3Jlc3Npb25Qb2x5bm9taWFsLiBXcm9uZyBwYXJhbWV0ZXJzLlwiKTtsPTJ9cmV0dXJuKGM9ZnVuY3Rpb24odCxjKXt2YXIgdSxwLGYsbSxnLGIsdix5LEMsXz1pLmxlbmd0aDtpZihDPU1hdGguZmxvb3IobigpKSwhYyl7aWYoMT09PWwpZm9yKGE9W10saD1bXSx1PTA7dTxfO3UrKylhW3VdPWlbdV0uWCgpLGhbdV09aVt1XS5ZKCk7aWYoMj09PWwpZm9yKGE9W10saD1bXSx1PTA7dTxfO3UrKylhW3VdPWlbdV0udXNyQ29vcmRzWzFdLGhbdV09aVt1XS51c3JDb29yZHNbMl07aWYoMD09PWwpZm9yKGE9W10saD1bXSx1PTA7dTxfO3UrKyllLmlzRnVuY3Rpb24oaVt1XSk/YS5wdXNoKGlbdV0oKSk6YS5wdXNoKGlbdV0pLGUuaXNGdW5jdGlvbihzW3VdKT9oLnB1c2goc1t1XSgpKTpoLnB1c2goc1t1XSk7Zm9yKGY9W10scD0wO3A8XztwKyspZi5wdXNoKFsxXSk7Zm9yKHU9MTt1PD1DO3UrKylmb3IocD0wO3A8XztwKyspZltwXVt1XT1mW3BdW3UtMV0qYVtwXTtnPWgsbT1yLnRyYW5zcG9zZShmKSxiPXIubWF0TWF0TXVsdChtLGYpLHY9ci5tYXRWZWNNdWx0KG0sZyksbz1yLk51bWVyaWNzLkdhdXNzKGIsdiksZD1yLk51bWVyaWNzLmdlbmVyYXRlUG9seW5vbWlhbFRlcm0obyxDLFwieFwiLDMpfWZvcih5PW9bQ10sdT1DLTE7dT49MDt1LS0peT15KnQrb1t1XTtyZXR1cm4geX0pLmdldFRlcm09ZnVuY3Rpb24oKXtyZXR1cm4gZH0sY30sYmV6aWVyOmZ1bmN0aW9uKHQpe3ZhciBlLGkscj1mdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24ocyxvKXt2YXIgbj0zKk1hdGguZmxvb3IocyksYT1zJTEsaD0xLWE7cmV0dXJuIG98fChpPTMqTWF0aC5mbG9vcigodC5sZW5ndGgtMSkvMyksZT1NYXRoLmZsb29yKGkvMykpLHM8MD90WzBdW3JdKCk6cz49ZT90W2ldW3JdKCk6aXNOYU4ocyk/TmFOOmgqaCooaCp0W25dW3JdKCkrMyphKnRbbisxXVtyXSgpKSsoMypoKnRbbisyXVtyXSgpK2EqdFtuKzNdW3JdKCkpKmEqYX19O3JldHVybltyKFwiWFwiKSxyKFwiWVwiKSwwLGZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IodC5sZW5ndGgvMyl9XX0sYnNwbGluZTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9ZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKHMsbyl7dmFyIG4sYSxoLGwsYz10Lmxlbmd0aCxkPWMtMSx1PWU7aWYoZDw9MClyZXR1cm4gTmFOO2lmKGQrMjw9dSYmKHU9ZCsxKSxzPD0wKXJldHVybiB0WzBdW3JdKCk7aWYocz49ZC11KzIpcmV0dXJuIHRbZF1bcl0oKTtmb3IoaD1NYXRoLmZsb29yKHMpK3UtMSxpPWZ1bmN0aW9uKHQsZSl7dmFyIGkscj1bXTtmb3IoaT0wO2k8dCtlKzE7aSsrKXJbaV09aTxlPzA6aTw9dD9pLWUrMTp0LWUrMjtyZXR1cm4gcn0oZCx1KSxsPWZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG8sbixhLGgsbD1bXTtmb3IoZVtyXTw9dCYmdDxlW3IrMV0/bFtyXT0xOmxbcl09MCxzPTI7czw9aTtzKyspZm9yKG89ci1zKzE7bzw9cjtvKyspbj1vPD1yLXMrMXx8bzwwPzA6bFtvXSxhPW8+PXI/MDpsW28rMV0saD1lW28rcy0xXS1lW29dLGxbb109MD09PWg/MDoodC1lW29dKS9oKm4sMCE9KGg9ZVtvK3NdLWVbbysxXSkmJihsW29dKz0oZVtvK3NdLXQpL2gqYSk7cmV0dXJuIGx9KHMsaSx1LGgpLG49MCxhPWgtdSsxO2E8PWg7YSsrKWE8YyYmYT49MCYmKG4rPXRbYV1bcl0oKSpsW2FdKTtyZXR1cm4gbn19O3JldHVybltyKFwiWFwiKSxyKFwiWVwiKSwwLGZ1bmN0aW9uKCl7cmV0dXJuIHQubGVuZ3RoLTF9XX0sRDpmdW5jdGlvbih0LGkpe3JldHVybiBlLmV4aXN0cyhpKT9mdW5jdGlvbihlLHIpe3ZhciBzPTFlLTU7cmV0dXJuKHQuYXBwbHkoaSxbZStzLHJdKS10LmFwcGx5KGksW2UtcyxyXSkpLzJlLTV9OmZ1bmN0aW9uKGUsaSl7dmFyIHI9MWUtNTtyZXR1cm4odChlK3IsaSktdChlLXIsaSkpLzJlLTV9fSxfcmllbWFublZhbHVlOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG8sbixhO2lmKHI8MCYmKFwidHJhcGV6b2lkYWxcIiE9PWkmJih0Kz1yKSxyKj0tMSxcImxvd2VyXCI9PT1pP2k9XCJ1cHBlclwiOlwidXBwZXJcIj09PWkmJihpPVwibG93ZXJcIikpLGE9LjAxKnIsXCJyaWdodFwiPT09aSlzPWUodCtyKTtlbHNlIGlmKFwibWlkZGxlXCI9PT1pKXM9ZSh0Ky41KnIpO2Vsc2UgaWYoXCJsZWZ0XCI9PT1pfHxcInRyYXBlem9pZGFsXCI9PT1pKXM9ZSh0KTtlbHNlIGlmKFwibG93ZXJcIj09PWkpe2ZvcihzPWUodCksbj10K2E7bjw9dCtyO24rPWEpKG89ZShuKSk8cyYmKHM9byk7KG89ZSh0K3IpKTxzJiYocz1vKX1lbHNlIGlmKFwidXBwZXJcIj09PWkpe2ZvcihzPWUodCksbj10K2E7bjw9dCtyO24rPWEpKG89ZShuKSk+cyYmKHM9byk7KG89ZSh0K3IpKT5zJiYocz1vKX1lbHNlIHM9XCJyYW5kb21cIj09PWk/ZSh0K3IqTWF0aC5yYW5kb20oKSk6XCJzaW1wc29uXCI9PT1pPyhlKHQpKzQqZSh0Ky41KnIpK2UodCtyKSkvNjplKHQpO3JldHVybiBzfSxyaWVtYW5uOmZ1bmN0aW9uKHQsaSxyLHMsbyl7dmFyIG4sYSxoLGwsYyxkLHUscD1bXSxmPVtdLG09MCxnPXMsYj0wO2lmKGUuaXNBcnJheSh0KT8oYz10WzBdLGw9dFsxXSk6bD10LChpPU1hdGguZmxvb3IoaSkpPD0wKXJldHVybltwLGYsYl07Zm9yKGE9KG8tcykvaSxuPTA7bjxpO24rKyloPXRoaXMuX3JpZW1hbm5WYWx1ZShnLGwscixhKSxwW21dPWcsZlttXT1oLG0rPTEsZys9YSxcInRyYXBlem9pZGFsXCI9PT1yJiYoaD1sKGcpKSxwW21dPWcsZlttXT1oLG0rPTE7Zm9yKG49MDtuPGk7bisrKWg9Yz90aGlzLl9yaWVtYW5uVmFsdWUoZyxjLHIsLWEpOjAscFttXT1nLGZbbV09aCxtKz0xLGctPWEsXCJ0cmFwZXpvaWRhbFwiPT09ciYmYyYmKGg9YyhnKSkscFttXT1nLGZbbV09aCxcInRyYXBlem9pZGFsXCIhPT1yPyhkPWgsdT1mWzIqKGktMSktMipuXSk6KHU9LjUqKGwoZythKStsKGcpKSxkPWM/LjUqKGMoZythKStjKGcpKTowKSxiKz0odS1kKSphLHBbbSs9MV09ZyxmW21dPWZbMiooaS0xKS0yKm5dLG0rPTE7cmV0dXJuW3AsZixiXX0scmllbWFubnN1bTpmdW5jdGlvbihlLGkscixzLG8pe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJOdW1lcmljcy5yaWVtYW5uc3VtKClcIixcIk51bWVyaWNzLnJpZW1hbm4oKVwiKSx0aGlzLnJpZW1hbm4oZSxpLHIscyxvKVsyXX0scnVuZ2VLdXR0YTpmdW5jdGlvbih0LGkscixvLG4pe3ZhciBhLGgsbCxjLGQsdSxwPVtdLGY9W10sbT0oclsxXS1yWzBdKS9vLGc9clswXSxiPWkubGVuZ3RoLHY9W10seT0wO2ZvcihlLmlzU3RyaW5nKHQpJiYodD1zW3RdfHxzLmV1bGVyKSx1PXQucyxhPTA7YTxiO2ErKylwW2FdPWlbYV07Zm9yKGg9MDtoPG87aCsrKXtmb3Iodlt5XT1bXSxhPTA7YTxiO2ErKyl2W3ldW2FdPXBbYV07Zm9yKHkrPTEsYz1bXSxsPTA7bDx1O2wrKyl7Zm9yKGE9MDthPGI7YSsrKWZbYV09MDtmb3IoZD0wO2Q8bDtkKyspZm9yKGE9MDthPGI7YSsrKWZbYV0rPXQuQVtsXVtkXSptKmNbZF1bYV07Zm9yKGE9MDthPGI7YSsrKWZbYV0rPXBbYV07Yy5wdXNoKG4oZyt0LmNbbF0qbSxmKSl9Zm9yKGE9MDthPGI7YSsrKWZbYV09MDtmb3IoZD0wO2Q8dTtkKyspZm9yKGE9MDthPGI7YSsrKWZbYV0rPXQuYltkXSpjW2RdW2FdO2ZvcihhPTA7YTxiO2ErKylwW2FdPXBbYV0rbSpmW2FdO2crPW19cmV0dXJuIHZ9LG1heEl0ZXJhdGlvbnNSb290OjgwLG1heEl0ZXJhdGlvbnNNaW5pbWl6ZTo1MDAsZmluZEJyYWNrZXQ6ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbixhLGgsbCxjLGQsdSxwO2lmKGUuaXNBcnJheShpKSlyZXR1cm4gaTtmb3Iocz1pLG49dC5jYWxsKHIscykscD0oYT1bcy0uMSoobz0wPT09cz8xOnMpLHMrLjEqbyxzLTEscysxLHMtLjUqbyxzKy41Km8scy0uNipvLHMrLjYqbyxzLTEqbyxzKzEqbyxzLTIqbyxzKzIqbyxzLTUqbyxzKzUqbyxzLTEwKm8scysxMCpvLHMtNTAqbyxzKzUwKm8scy0xMDAqbyxzKzEwMCpvXSkubGVuZ3RoLHU9MDt1PHAmJihoPWFbdV0sIShuKihsPXQuY2FsbChyLGgpKTw9MCkpO3UrKyk7cmV0dXJuIGg8cyYmKGM9cyxzPWgsaD1jLGQ9bixuPWwsbD1kKSxbcyxuLGgsbF19LGZ6ZXJvOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxuLGEsaCxsLGMsZCx1LHAsZixtLGcsYix2LHksQz1yLmVwcyxfPXRoaXMubWF4SXRlcmF0aW9uc1Jvb3QsUD0wO2lmKGUuaXNBcnJheShpKSl7aWYoaS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJKWEcuTWF0aC5OdW1lcmljcy5memVybzogbGVuZ3RoIG9mIGFycmF5IHgwIGhhcyB0byBiZSBhdCBsZWFzdCB0d28uXCIpO289aVswXSxoPXQuY2FsbChzLG8pLG49aVsxXSxsPXQuY2FsbChzLG4pfWVsc2Ugbz0oZD10aGlzLmZpbmRCcmFja2V0KHQsaSxzKSlbMF0saD1kWzFdLG49ZFsyXSxsPWRbM107aWYoTWF0aC5hYnMoaCk8PUMpcmV0dXJuIG87aWYoTWF0aC5hYnMobCk8PUMpcmV0dXJuIG47aWYoaCpsPjApcmV0dXJuIGUuaXNBcnJheShpKT90aGlzLmZtaW5icih0LFtvLG5dLHMpOnRoaXMuTmV3dG9uKHQsbyxzKTtmb3IoYT1vLGM9aDtQPF87KXtpZih1PW4tbyxNYXRoLmFicyhjKTxNYXRoLmFicyhsKSYmKG89bixuPWEsYT1vLGg9bCxsPWMsYz1oKSxnPTIqQypNYXRoLmFicyhuKSsuNSpDLHk9LjUqKGEtbiksTWF0aC5hYnMoeSk8PWd8fE1hdGguYWJzKGwpPD1DKXJldHVybiBuO01hdGguYWJzKHUpPj1nJiZNYXRoLmFicyhoKT5NYXRoLmFicyhsKSYmKGY9YS1uLG89PT1hPyhiPWYqKHA9bC9oKSx2PTEtcCk6KGI9KG09bC9oKSooZioodj1oL2MpKih2LShwPWwvYykpLShuLW8pKihwLTEpKSx2PSh2LTEpKihwLTEpKihtLTEpKSxiPjA/dj0tdjpiPS1iLGI8Ljc1KmYqdi0uNSpNYXRoLmFicyhnKnYpJiZiPE1hdGguYWJzKHUqdiouNSkmJih5PWIvdikpLE1hdGguYWJzKHkpPGcmJih5PXk+MD9nOi1nKSxvPW4saD1sLG4rPXksKChsPXQuY2FsbChzLG4pKT4wJiZjPjB8fGw8MCYmYzwwKSYmKGE9byxjPWgpLFArK31yZXR1cm4gbn0sY2hhbmRydXBhdGxhOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxuLGEsaCxsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4LFM9MCxPPXRoaXMubWF4SXRlcmF0aW9uc1Jvb3Qsdz0xKy4wMDEqTWF0aC5yYW5kb20oKSxUPS41KncsTj1yLmVwcztpZihlLmlzQXJyYXkoaSkpe2lmKGkubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiSlhHLk1hdGguTnVtZXJpY3MuZnplcm86IGxlbmd0aCBvZiBhcnJheSB4MCBoYXMgdG8gYmUgYXQgbGVhc3QgdHdvLlwiKTtvPWlbMF0sbj10LmNhbGwocyxvKSxhPWlbMV0saD10LmNhbGwocyxhKX1lbHNlIG89KGw9dGhpcy5maW5kQnJhY2tldCh0LGkscykpWzBdLG49bFsxXSxhPWxbMl0saD1sWzNdO2lmKG4qaD4wKXJldHVybiBlLmlzQXJyYXkoaSk/dGhpcy5mbWluYnIodCxbbyxhXSxzKTp0aGlzLk5ld3Rvbih0LG8scyk7Yz1vLGQ9YSxmPW4sbT1oO2Rve2lmKHA9YytUKihkLWMpLGI9dC5jYWxsKHMscCksTWF0aC5zaWduKGIpPT09TWF0aC5zaWduKGYpPyh1PWMsYz1wLGc9ZixmPWIpOih1PWQsZD1jLGc9bSxtPWYpLHY9Yz1wLHk9Zj1iLE1hdGguYWJzKG0pPE1hdGguYWJzKGYpJiYodj1kLHk9bSksKEM9KDIqTipNYXRoLmFicyh2KSs1ZS02KS9NYXRoLmFicyhkLWMpKT4uNXx8MD09PXkpYnJlYWs7Xz0oYy1kKS8odS1kKSxQPShmLW0pLyhnLW0pLEU9MS1NYXRoLnNxcnQoMS1fKSx4PU1hdGguc3FydChfKSwoVD1FPFAmJlA8eD9mLyhtLWYpKihnLyhtLWcpKStmLyhnLWYpKihtLyhnLW0pKSooKHUtYykvKGQtYykpOi41KncpPEMmJihUPUMpLFQ+MS1DJiYoVD0xLUMpLFMrK313aGlsZShTPD1PKTtyZXR1cm4gdn0sZm1pbmJyOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxuLGEsaCxsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfPS41KigzLU1hdGguc3FydCg1KSksUD1yLmVwcyxFPXIuZXBzLHg9dGhpcy5tYXhJdGVyYXRpb25zTWluaW1pemUsUz0wO2lmKCFlLmlzQXJyYXkoaSl8fGkubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKFwiSlhHLk1hdGguTnVtZXJpY3MuZm1pbmJyOiBsZW5ndGggb2YgYXJyYXkgeDAgaGFzIHRvIGJlIGF0IGxlYXN0IHR3by5cIik7Zm9yKGE9aD0obz1pWzBdKStfKigobj1pWzFdKS1vKSxsPWgsYz1kPXQuY2FsbChzLGgpLHU9ZDtTPHg7KXtpZihwPW4tbyxmPS41KihvK24pLG09RSpNYXRoLmFicyhhKStQLzMsTWF0aC5hYnMoYS1mKSsuNSpwPD0yKm0pcmV0dXJuIGE7Zz1fKihhPGY/bi1hOm8tYSksTWF0aC5hYnMoYS1sKT49bSYmKGI9KGEtaCkqKHY9KGEtaCkqKGMtdSkpLShhLWwpKih5PShhLWwpKihjLWQpKSwodj0yKih2LXkpKT4wP2I9LWI6dj0tdixNYXRoLmFicyhiKTxNYXRoLmFicyhnKnYpJiZiPnYqKG8tYSsyKm0pJiZiPHYqKG4tYS0yKm0pJiYoZz1iL3YpKSxNYXRoLmFicyhnKTxtJiYoZz1nPjA/bTotbSkseT1hK2csKEM9dC5jYWxsKHMseSkpPD1jPyh5PGE/bj1hOm89YSxoPWwsbD1hLGE9eSxkPXUsdT1jLGM9Qyk6KHk8YT9vPXk6bj15LEM8PXV8fGw9PT1hPyhoPWwsbD15LGQ9dSx1PUMpOihDPD1kfHxoPT09YXx8aD09PWwpJiYoaD15LGQ9QykpLFMrPTF9cmV0dXJuIGF9LFJhbWVyRG91Z2xhc1BldWNrZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG8sbj1bXSxhPVtdLGg9ZnVuY3Rpb24odCxlLGkscyxvKXt2YXIgbj1mdW5jdGlvbih0LGUsaSl7dmFyIHMsbyxuLGEsaCxsLGMsZCx1LHAsZixtPTFlNCxnPTAsYj1lO2lmKGktZTwyKXJldHVyblstMSwwXTtpZihuPXRbZV0uc2NyQ29vcmRzLGE9dFtpXS5zY3JDb29yZHMsaXNOYU4oblsxXSl8fGlzTmFOKG5bMl0pKXJldHVybltOYU4sZV07aWYoaXNOYU4oYVsxXSl8fGlzTmFOKGFbMl0pKXJldHVybltOYU4saV07Zm9yKG89ZSsxO288aTtvKyspe2lmKGg9dFtvXS5zY3JDb29yZHMsaXNOYU4oaFsxXSl8fGlzTmFOKGhbMl0pKXJldHVybltOYU4sb107bD0obD0obD1oWzFdLW5bMV0pPT0xLzA/bTpsKT09PS0xLzA/LW06bCxjPShjPShjPWhbMl0tblsyXSk9PTEvMD9tOmMpPT09LTEvMD8tbTpjLChwPShkPShkPShkPWFbMV0tblsxXSk9PTEvMD9tOmQpPT09LTEvMD8tbTpkKSpkKyh1PSh1PSh1PWFbMl0tblsyXSk9PTEvMD9tOnUpPT09LTEvMD8tbTp1KSp1KT49ci5lcHM/KChmPShsKmQrYyp1KS9wKTwwP2Y9MDpmPjEmJihmPTEpLHM9KGwtPWYqZCkqbCsoYy09Zip1KSpjKTooZj0wLHM9bCpsK2MqYykscz5nJiYoZz1zLGI9byl9cmV0dXJuW01hdGguc3FydChnKSxiXX0odCxlLGkpLGE9blsxXTtpZihpc05hTihuWzBdKSl7aCh0LGUsYS0xLHMsbyksby5wdXNoKHRbYV0pO2RveysrYX13aGlsZShhPD1pJiZpc05hTih0W2FdLnNjckNvb3Jkc1sxXSt0W2FdLnNjckNvb3Jkc1syXSkpO2E8PWkmJm8ucHVzaCh0W2FdKSxoKHQsYSsxLGkscyxvKX1lbHNlIG5bMF0+cz8oaCh0LGUsYSxzLG8pLGgodCxhLGkscyxvKSk6by5wdXNoKHRbaV0pfTtmb3Iobz10Lmxlbmd0aCxpPTA7Oyl7Zm9yKDtpPG8mJmlzTmFOKHRbaV0uc2NyQ29vcmRzWzFdK3RbaV0uc2NyQ29vcmRzWzJdKTspaSs9MTtmb3Iocz1pKzE7czxvJiYhaXNOYU4odFtzXS5zY3JDb29yZHNbMV0rdFtzXS5zY3JDb29yZHNbMl0pOylzKz0xO2lmKHMtLSxpPG8mJnM+aSYmKChhPVtdKVswXT10W2ldLGgodCxpLHMsZSxhKSxuPW4uY29uY2F0KGEpKSxpPj1vKWJyZWFrO3M8by0xJiZuLnB1c2godFtzKzFdKSxpPXMrMX1yZXR1cm4gbn0sUmFtZXJEb3VnbGFzUGV1a2VyOmZ1bmN0aW9uKGUsaSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcIk51bWVyaWNzLlJhbWVyRG91Z2xhc1BldWtlcigpXCIsXCJOdW1lcmljcy5SYW1lckRvdWdsYXNQZXVja2VyKClcIiksdGhpcy5SYW1lckRvdWdsYXNQZXVja2VyKGUsaSl9LFZpc3ZhbGluZ2FtOmZ1bmN0aW9uKGUsaSl7dmFyIHIscyxvLG4sYSxoLGwsYyxkLHU9W10scD1bXSxmPVtdO2lmKChzPWUubGVuZ3RoKTw9MilyZXR1cm4gZTtmb3IodVswXT17dXNlZDohMCxsZnQ6bnVsbCxub2RlOm51bGx9LGE9MCxyPTE7cjxzLTE7cisrKW89TWF0aC5hYnModC5NYXRoLk51bWVyaWNzLmRldChbZVtyLTFdLnVzckNvb3JkcyxlW3JdLnVzckNvb3JkcyxlW3IrMV0udXNyQ29vcmRzXSkpLGlzTmFOKG8pfHwoZD17djpvLGlkeDpyfSxwLnB1c2goZCksdVtyXT17dXNlZDohMCxsZnQ6YSxub2RlOmR9LHVbYV0ucnQ9cixhPXIpO2Zvcih1W3MtMV09e3VzZWQ6ITAscnQ6bnVsbCxsZnQ6YSxub2RlOm51bGx9LHVbYV0ucnQ9cy0xLG49LTEvMDtwLmxlbmd0aD5pOylwLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudi10LnZ9KSksdVtyPXAucG9wKCkuaWR4XS51c2VkPSExLG49dVtyXS5ub2RlLnYsYT11W3JdLmxmdCxoPXVbcl0ucnQsdVthXS5ydD1oLHVbaF0ubGZ0PWEsbnVsbCE9PShsPXVbYV0ubGZ0KSYmKG89TWF0aC5hYnModC5NYXRoLk51bWVyaWNzLmRldChbZVtsXS51c3JDb29yZHMsZVthXS51c3JDb29yZHMsZVtoXS51c3JDb29yZHNdKSksdVthXS5ub2RlLnY9bz49bj9vOm4pLG51bGwhPT0oYz11W2hdLnJ0KSYmKG89TWF0aC5hYnModC5NYXRoLk51bWVyaWNzLmRldChbZVthXS51c3JDb29yZHMsZVtoXS51c3JDb29yZHMsZVtjXS51c3JDb29yZHNdKSksdVtoXS5ub2RlLnY9bz49bj9vOm4pO2Y9W2Vbcj0wXV07ZG97cj11W3JdLnJ0LGYucHVzaChlW3JdKX13aGlsZShudWxsIT09dVtyXS5ydCk7cmV0dXJuIGZ9fSxyLk51bWVyaWNzfSkpLGRlZmluZShcIm1hdGgvbmxwXCIsW1wianhnXCJdLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5NYXRoLk5scD17YXJyOmZ1bmN0aW9uKHQpe3ZhciBlLGk9bmV3IEFycmF5KHQpO2ZvcihlPTA7ZTx0O2UrKylpW2VdPTA7cmV0dXJuIGl9LGFycjI6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MCxyPW5ldyBBcnJheSh0KTtpPHQ7KXJbaV09dGhpcy5hcnIoZSksaSsrO3JldHVybiByfSxhcnJheWNvcHk6ZnVuY3Rpb24odCxlLGkscixzKXtmb3IodmFyIG89MDtvPHM7KWlbbytyXT10W28rZV0sbysrfSxOb3JtYWw6MCxNYXhJdGVyYXRpb25zUmVhY2hlZDoxLERpdmVyZ2luZ1JvdW5kaW5nRXJyb3JzOjIsRmluZE1pbmltdW06ZnVuY3Rpb24odCxlLGkscixzLG8sbixhKXt2YXIgaCxsLGM9aSsyLGQ9dGhpcy5hcnIoZSsxKSx1PXRoaXM7cmV0dXJuIGRbMF09MCx0aGlzLmFycmF5Y29weShyLDAsZCwxLGUpLGw9ZnVuY3Rpb24oZSxpLHIscyl7dmFyIG8sbixhPXUuYXJyKGUpO3JldHVybiB1LmFycmF5Y29weShyLDEsYSwwLGUpLG89dS5hcnIoaSksbj10KGUsaSxhLG8pLHUuYXJyYXljb3B5KG8sMCxzLDEsaSksbn0saD10aGlzLmNvYnlsYihsLGUsaSxjLGQscyxvLG4sYSksdGhpcy5hcnJheWNvcHkoZCwxLHIsMCxlKSxofSxjb2J5bGI6ZnVuY3Rpb24odCxlLGkscixzLG8sbixhLGgpe3ZhciBsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4LFMsTyx3LFQsTixNLEEsUixMLGssRCxCLEksWT0tMSxqPTAsWD0wLEY9ZSsxLFU9aSsxLEo9byxHPTAsej0hMSxIPSExLFY9MCwkPTAscT0wLFc9dGhpcy5hcnIoMStyKSxaPXRoaXMuYXJyMigxK2UsMStGKSxRPXRoaXMuYXJyMigxK2UsMStlKSxLPXRoaXMuYXJyMigxK3IsMStGKSx0dD10aGlzLmFycjIoMStlLDErVSksZXQ9dGhpcy5hcnIoMStlKSxpdD10aGlzLmFycigxK2UpLHJ0PXRoaXMuYXJyKDErZSksc3Q9dGhpcy5hcnIoMStlKSxvdD10aGlzLmFycigxK2UpO2ZvcihhPj0yJiZjb25zb2xlLmxvZyhcIlRoZSBpbml0aWFsIHZhbHVlIG9mIFJITyBpcyBcIitKK1wiIGFuZCBQQVJNVSBpcyBzZXQgdG8gemVyby5cIiksZz0wLGY9MS9KLGM9MTtjPD1lOysrYylaW2NdW0ZdPXNbY10sWltjXVtjXT1KLFFbY11bY109ZjtiPUYsdj0hMTt0OmZvcig7Oyl7aWYoZz49aCYmZz4wKXtZPXRoaXMuTWF4SXRlcmF0aW9uc1JlYWNoZWQ7YnJlYWsgdH1mb3IoKytnLGo9dChlLGkscyxXKSxYPTAsdT0xO3U8PWk7Kyt1KVg9TWF0aC5tYXgoWCwtV1t1XSk7aWYoZyE9PWEtMSYmMyE9PWF8fHRoaXMuUHJpbnRJdGVyYXRpb25SZXN1bHQoZyxqLFgscyxlLGEpLFdbVV09aixXW3JdPVgseT0hMCwhdil7Zm9yKHk9ITEsYz0xO2M8PXI7KytjKUtbY11bYl09V1tjXTtpZihnPD1GKXtpZihiPD1lKWlmKEtbVV1bRl08PWopc1tiXT1aW2JdW0ZdO2Vsc2V7Zm9yKFpbYl1bRl09c1tiXSx1PTE7dTw9cjsrK3UpS1t1XVtiXT1LW3VdW0ZdLEtbdV1bRl09V1t1XTtmb3IodT0xO3U8PWI7Kyt1KXtmb3IoWltiXVt1XT0tSixmPTAsYz11O2M8PWI7KytjKWYtPVFbY11bdV07UVtiXVt1XT1mfX1pZihnPD1lKXtzW2I9Z10rPUo7Y29udGludWUgdH19dj0hMH1lOmZvcig7Oyl7aTpkb3tpZigheSl7Zm9yKEM9S1tVXVtGXStHKktbcl1bRl0sXz1GLGQ9MTtkPD1lOysrZCkoZj1LW1VdW2RdK0cqS1tyXVtkXSk8Qz8oXz1kLEM9Zik6Zj09PUMmJjA9PT1HJiZLW3JdW2RdPEtbcl1bX10mJihfPWQpO2lmKF88PWUpe2ZvcihjPTE7Yzw9cjsrK2MpZj1LW2NdW0ZdLEtbY11bRl09S1tjXVtfXSxLW2NdW19dPWY7Zm9yKGM9MTtjPD1lOysrYyl7Zm9yKGY9WltjXVtfXSxaW2NdW19dPTAsWltjXVtGXSs9ZixtPTAsdT0xO3U8PWU7Kyt1KVpbY11bdV0tPWYsbS09UVt1XVtjXTtRW19dW2NdPW19fWZvcihQPTAsYz0xO2M8PWU7KytjKWZvcihkPTE7ZDw9ZTsrK2QpZj10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLlJPVyhRLGMpLDEsZSksdGhpcy5QQVJUKHRoaXMuQ09MKFosZCksMSxlKSktKGM9PT1kPzE6MCksUD1NYXRoLm1heChQLE1hdGguYWJzKGYpKTtpZihQPi4xKXtZPXRoaXMuRGl2ZXJnaW5nUm91bmRpbmdFcnJvcnM7YnJlYWsgdH1mb3IodT0xO3U8PVU7Kyt1KXtmb3IoV1t1XT0tS1t1XVtGXSxkPTE7ZDw9ZTsrK2Qpb3RbZF09S1t1XVtkXStXW3VdO2ZvcihjPTE7Yzw9ZTsrK2MpdHRbY11bdV09KHU9PT1VPy0xOjEpKnRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKG90LDEsZSksdGhpcy5QQVJUKHRoaXMuQ09MKFEsYyksMSxlKSl9Zm9yKHo9ITAsVj0uMjUqSixFPTIuMSpKLGQ9MTtkPD1lOysrZCl7Zm9yKHg9MCx1PTE7dTw9ZTsrK3UpeCs9UVtkXVt1XSpRW2RdW3VdO2ZvcihTPTAsdT0xO3U8PWU7Kyt1KVMrPVpbdV1bZF0qWlt1XVtkXTtldFtkXT0xL01hdGguc3FydCh4KSxpdFtkXT1NYXRoLnNxcnQoUyksKGV0W2RdPFZ8fGl0W2RdPkUpJiYoej0hMSl9aWYoIXYmJiF6KXtmb3IoYj0wLGY9RSxkPTE7ZDw9ZTsrK2QpaXRbZF0+ZiYmKGI9ZCxmPWl0W2RdKTtpZigwPT09Yilmb3IoZD0xO2Q8PWU7KytkKWV0W2RdPGYmJihiPWQsZj1ldFtkXSk7Zm9yKGY9LjUqSipldFtiXSx1PTE7dTw9ZTsrK3Upc3RbdV09ZipRW2JdW3VdO2ZvcihPPTAsdz0wLGw9MCx1PTE7dTw9VTsrK3UpbD10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLkNPTCh0dCx1KSwxLGUpLHRoaXMuUEFSVChzdCwxLGUpKSx1PFUmJihmPUtbdV1bRl0sTz1NYXRoLm1heChPLC1sLWYpLHc9TWF0aC5tYXgodyxsLWYpKTtmb3IoVD1HKihPLXcpPjIqbD8tMToxLGY9MCxjPTE7Yzw9ZTsrK2Mpc3RbY109VCpzdFtjXSxaW2NdW2JdPXN0W2NdLGYrPVFbYl1bY10qc3RbY107Zm9yKHU9MTt1PD1lOysrdSlRW2JdW3VdLz1mO2ZvcihkPTE7ZDw9ZTsrK2Qpe2lmKGQhPT1iKWZvcihmPXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuUk9XKFEsZCksMSxlKSx0aGlzLlBBUlQoc3QsMSxlKSksdT0xO3U8PWU7Kyt1KVFbZF1bdV0tPWYqUVtiXVt1XTtzW2RdPVpbZF1bRl0rc3RbZF19Y29udGludWUgdH1pZighKEg9dGhpcy50cnN0bHAoZSxpLHR0LFcsSixzdCkpKXtmb3IoZj0wLHU9MTt1PD1lOysrdSlmKz1zdFt1XSpzdFt1XTtpZihmPC4yNSpKKkope3Y9ITA7YnJlYWsgaX19Zm9yKGw9MCxOPTAsV1tVXT0wLHU9MTt1PD1VOysrdSlsPVdbdV0tdGhpcy5ET1RfUFJPRFVDVCh0aGlzLlBBUlQodGhpcy5DT0wodHQsdSksMSxlKSx0aGlzLlBBUlQoc3QsMSxlKSksdTxVJiYoTj1NYXRoLm1heChOLGwpKTtpZihHPDEuNSooTT0oJD1LW3JdW0ZdLU4pPjA/bC8kOjApKWZvcihHPTIqTSxhPj0yJiZjb25zb2xlLmxvZyhcIkluY3JlYXNlIGluIFBBUk1VIHRvIFwiK0cpLEE9S1tVXVtGXStHKktbcl1bRl0sZD0xO2Q8PWU7KytkKWlmKChmPUtbVV1bZF0rRypLW3JdW2RdKTxBfHxmPT09QSYmMD09PUcmJktbcl1bZF08S1tyXVtGXSljb250aW51ZSBlO2ZvcihxPUcqJC1sLHU9MTt1PD1lOysrdSlzW3VdPVpbdV1bRl0rc3RbdV07dj0hMDtjb250aW51ZSB0fWZvcih5PSExLFI9S1tVXVtGXStHKktbcl1bRl0tKGorRypYKSwwPT09RyYmaj09PUtbVV1bRl0mJihxPSQsUj1LW3JdW0ZdLVgpLEw9Ujw9MD8xOjAsYj0wLGQ9MTtkPD1lOysrZCkoZj1NYXRoLmFicyh0aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLlJPVyhRLGQpLDEsZSksdGhpcy5QQVJUKHN0LDEsZSkpKSk+TCYmKGI9ZCxMPWYpLHJ0W2RdPWYqZXRbZF07Zm9yKGs9MS4xKkoscD0wLGQ9MTtkPD1lOysrZClpZihydFtkXT49Vnx8cnRbZF0+PWV0W2RdKXtpZihmPWl0W2RdLFI+MCl7Zm9yKGY9MCx1PTE7dTw9ZTsrK3UpZis9TWF0aC5wb3coc3RbdV0tWlt1XVtkXSwyKTtmPU1hdGguc3FydChmKX1mPmsmJihwPWQsaz1mKX1pZihwPjAmJihiPXApLDAhPT1iKXtmb3IoZj0wLGM9MTtjPD1lOysrYylaW2NdW2JdPXN0W2NdLGYrPVFbYl1bY10qc3RbY107Zm9yKHU9MTt1PD1lOysrdSlRW2JdW3VdLz1mO2ZvcihkPTE7ZDw9ZTsrK2QpaWYoZCE9PWIpZm9yKGY9dGhpcy5ET1RfUFJPRFVDVCh0aGlzLlBBUlQodGhpcy5ST1coUSxkKSwxLGUpLHRoaXMuUEFSVChzdCwxLGUpKSx1PTE7dTw9ZTsrK3UpUVtkXVt1XS09ZipRW2JdW3VdO2Zvcih1PTE7dTw9cjsrK3UpS1t1XVtiXT1XW3VdO2lmKFI+MCYmUj49LjEqcSljb250aW51ZSBlfX13aGlsZSgwKTtpZih6KXtpZihKPD1uKXtZPXRoaXMuTm9ybWFsO2JyZWFrIHR9aWYoRD0wLEI9MCwoSio9LjUpPD0xLjUqbiYmKEo9biksRz4wKXtmb3IoST0wLHU9MTt1PD1VOysrdSl7Zm9yKEI9RD1LW3VdW0ZdLGM9MTtjPD1lOysrYylEPU1hdGgubWluKEQsS1t1XVtjXSksQj1NYXRoLm1heChCLEtbdV1bY10pO3U8PWkmJkQ8LjUqQiYmKGY9TWF0aC5tYXgoQiwwKS1ELEk9STw9MD9mOk1hdGgubWluKEksZikpfTA9PT1JP0c9MDpCLUQ8RypJJiYoRz0oQi1EKS9JKX1hPj0yJiZjb25zb2xlLmxvZyhcIlJlZHVjdGlvbiBpbiBSSE8gdG8gXCIrSitcIiAgYW5kIFBBUk1VID0gXCIrRyksMj09PWEmJnRoaXMuUHJpbnRJdGVyYXRpb25SZXN1bHQoZyxLW1VdW0ZdLEtbcl1bRl0sdGhpcy5DT0woWixGKSxlLGEpfWVsc2Ugdj0hMX19c3dpdGNoKFkpe2Nhc2UgdGhpcy5Ob3JtYWw6aWYoYT49MSYmY29uc29sZS5sb2coXCIlbk5vcm1hbCByZXR1cm4gZnJvbSBzdWJyb3V0aW5lIENPQllMQSVuXCIpLEgpcmV0dXJuIGE+PTEmJnRoaXMuUHJpbnRJdGVyYXRpb25SZXN1bHQoZyxqLFgscyxlLGEpLFk7YnJlYWs7Y2FzZSB0aGlzLk1heEl0ZXJhdGlvbnNSZWFjaGVkOmE+PTEmJmNvbnNvbGUubG9nKFwiJW5SZXR1cm4gZnJvbSBzdWJyb3V0aW5lIENPQllMQSBiZWNhdXNlIHRoZSBNQVhGVU4gbGltaXQgaGFzIGJlZW4gcmVhY2hlZC4lblwiKTticmVhaztjYXNlIHRoaXMuRGl2ZXJnaW5nUm91bmRpbmdFcnJvcnM6YT49MSYmY29uc29sZS5sb2coXCIlblJldHVybiBmcm9tIHN1YnJvdXRpbmUgQ09CWUxBIGJlY2F1c2Ugcm91bmRpbmcgZXJyb3JzIGFyZSBiZWNvbWluZyBkYW1hZ2luZy4lblwiKX1mb3IodT0xO3U8PWU7Kyt1KXNbdV09Wlt1XVtGXTtyZXR1cm4gaj1LW1VdW0ZdLFg9S1tyXVtGXSxhPj0xJiZ0aGlzLlByaW50SXRlcmF0aW9uUmVzdWx0KGcsaixYLHMsZSxhKSxZfSx0cnN0bHA6ZnVuY3Rpb24odCxlLGkscixzLG8pe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4LFMsTyx3LFQsTixNLEEsUixMLGssRCxCLEksWSxqPTAsWD0wLEY9MCxVPXRoaXMuYXJyMigxK3QsMSt0KSxKPXRoaXMuYXJyKDIrZSksRz10aGlzLmFycigyK2UpLHo9dGhpcy5hcnIoMSt0KSxIPXRoaXMuYXJyKDErdCksVj10aGlzLmFycigyK2UpLCQ9dGhpcy5hcnIoMitlKSxxPWUsVz0wO2ZvcihoPTE7aDw9dDsrK2gpVVtoXVtoXT0xLG9baF09MDtpZihuPTAsYT0wLGU+PTEpe2ZvcihsPTE7bDw9ZTsrK2wpcltsXT5hJiYoYT1yW2xdLG49bCk7Zm9yKGw9MTtsPD1lOysrbCkkW2xdPWwsR1tsXT1hLXJbbF19Yz0hMDtkb3t0OmZvcig7Oyl7KCFjfHxjJiYwPT09YSkmJihuPXE9ZSsxLCRbcV09cSxHW3FdPTApLGM9ITEsZD0wLHU9MCxwPTAsZj0wO2U6ZG97aWYobT1xPT09ZT9hOi10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVChvLDEsdCksdGhpcy5QQVJUKHRoaXMuQ09MKGkscSksMSx0KSksMD09PXV8fG08ZD8oZD1tLFg9Vyx1PTMpOlc+WD8oWD1XLHU9Myk6LS11LDA9PT11KWJyZWFrIHQ7aWYoZz0wLG48PVcpe2lmKG48Vyl7Yj0kW25dLHY9R1tuXSxsPW47ZG97Zm9yKF89JFtDPWwrMV0sUD10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLkNPTChVLGwpLDEsdCksdGhpcy5QQVJUKHRoaXMuQ09MKGksXyksMSx0KSksaj1NYXRoLnNxcnQoUCpQK0pbQ10qSltDXSksRT1KW0NdL2oseD1QL2osSltDXT1FKkpbbF0sSltsXT1qLGg9MTtoPD10OysraClqPUUqVVtoXVtDXSt4KlVbaF1bbF0sVVtoXVtDXT1FKlVbaF1bbF0teCpVW2hdW0NdLFVbaF1bbF09ajskW2xdPV8sR1tsXT1HW0NdLGw9Q313aGlsZShsPFcpOyRbbF09YixHW2xdPXZ9aWYoLS1XLHE+ZSlmb3Ioaj0xL0pbV10sbD0xO2w8PXQ7KytsKXpbbF09aipVW2xdW1ddO2Vsc2UgZm9yKGo9dGhpcy5ET1RfUFJPRFVDVCh0aGlzLlBBUlQoeiwxLHQpLHRoaXMuUEFSVCh0aGlzLkNPTChVLFcrMSksMSx0KSksbD0xO2w8PXQ7KytsKXpbbF0tPWoqVVtsXVtXKzFdfWVsc2V7Zm9yKF89JFtuXSxsPTE7bDw9dDsrK2wpSFtsXT1pW2xdW19dO2ZvcihTPTAsbD10O2w+Vzspe2ZvcihQPTAsTz0wLGg9MTtoPD10OysraClQKz1qPVVbaF1bbF0qSFtoXSxPKz1NYXRoLmFicyhqKTtpZih3PU8rLjEqTWF0aC5hYnMoUCksVD1PKy4yKk1hdGguYWJzKFApLChPPj13fHx3Pj1UKSYmKFA9MCksMD09PVMpUz1QO2Vsc2UgZm9yKEM9bCsxLEU9UC8oaj1NYXRoLnNxcnQoUCpQK1MqUykpLHg9Uy9qLFM9aixoPTE7aDw9dDsrK2gpaj1FKlVbaF1bbF0reCpVW2hdW0NdLFVbaF1bQ109RSpVW2hdW0NdLXgqVVtoXVtsXSxVW2hdW2xdPWo7LS1sfWlmKDA9PT1TKXtnPS0xLGw9Vztkb3tmb3IoTj0wLE09MCxoPTE7aDw9dDsrK2gpTis9aj1VW2hdW2xdKkhbaF0sTSs9TWF0aC5hYnMoaik7aWYodz1NKy4xKk1hdGguYWJzKE4pLFQ9TSsuMipNYXRoLmFicyhOKSxNPHcmJnc8VCl7aWYoKGo9Ti9KW2xdKT4wJiYkW2xdPD1lJiYoWT1HW2xdL2osKGc8MHx8WTxnKSYmKGc9WSkpLGw+PTIpZm9yKEE9JFtsXSxoPTE7aDw9dDsrK2gpSFtoXS09aippW2hdW0FdO1ZbbF09an1lbHNlIFZbbF09MH13aGlsZSgtLWw+MCk7aWYoZzwwKWJyZWFrIHQ7Zm9yKGw9MTtsPD1XOysrbClHW2xdPU1hdGgubWF4KDAsR1tsXS1nKlZbbF0pO2lmKG48Vyl7Yj0kW25dLHY9R1tuXSxsPW47ZG97Zm9yKEE9JFtDPWwrMV0sUD10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLkNPTChVLGwpLDEsdCksdGhpcy5QQVJUKHRoaXMuQ09MKGksQSksMSx0KSksaj1NYXRoLnNxcnQoUCpQK0pbQ10qSltDXSksRT1KW0NdL2oseD1QL2osSltDXT1FKkpbbF0sSltsXT1qLGg9MTtoPD10OysraClqPUUqVVtoXVtDXSt4KlVbaF1bbF0sVVtoXVtDXT1FKlVbaF1bbF0teCpVW2hdW0NdLFVbaF1bbF09ajskW2xdPUEsR1tsXT1HW0NdLGw9Q313aGlsZShsPFcpOyRbbF09YixHW2xdPXZ9aWYoMD09PShqPXRoaXMuRE9UX1BST0RVQ1QodGhpcy5QQVJUKHRoaXMuQ09MKFUsVyksMSx0KSx0aGlzLlBBUlQodGhpcy5DT0woaSxfKSwxLHQpKSkpYnJlYWsgdDtKW1ddPWosR1tuXT0wLEdbV109Z31lbHNlIEpbKytXXT1TLEdbbl09R1tXXSxHW1ddPTA7aWYoJFtuXT0kW1ddLCRbV109XyxxPmUmJl8hPT1xKXtmb3IobD1XLTEsUD10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLkNPTChVLGwpLDEsdCksdGhpcy5QQVJUKHRoaXMuQ09MKGksXyksMSx0KSksaj1NYXRoLnNxcnQoUCpQK0pbV10qSltXXSksRT1KW1ddL2oseD1QL2osSltXXT1FKkpbbF0sSltsXT1qLGg9MTtoPD10OysraClqPUUqVVtoXVtXXSt4KlVbaF1bbF0sVVtoXVtXXT1FKlVbaF1bbF0teCpVW2hdW1ddLFVbaF1bbF09ajskW1ddPSRbbF0sJFtsXT1fLGo9R1tsXSxHW2xdPUdbV10sR1tXXT1qfWlmKHE+ZSlmb3Ioaj0xL0pbV10sbD0xO2w8PXQ7KytsKXpbbF09aipVW2xdW1ddO2Vsc2UgZm9yKF89JFtXXSxqPSh0aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh6LDEsdCksdGhpcy5QQVJUKHRoaXMuQ09MKGksXyksMSx0KSktMSkvSltXXSxsPTE7bDw9dDsrK2wpeltsXS09aipVW2xdW1ddfWZvcihSPXMqcyxrPTAsTD0wLGg9MTtoPD10OysraClNYXRoLmFicyhvW2hdKT49MWUtNipzJiYoUi09b1toXSpvW2hdKSxrKz1vW2hdKnpbaF0sTCs9eltoXSp6W2hdO2lmKFI8PTApYnJlYWsgdDtpZihqPU1hdGguc3FydChMKlIpLE1hdGguYWJzKGspPj0xZS02KmomJihqPU1hdGguc3FydChMKlIrayprKSkscD1mPVIvKGoraykscT09PWUpe2lmKFQ9cCsuMiphLHA+PSh3PXArLjEqYSl8fHc+PVQpYnJlYWsgZTtwPU1hdGgubWluKHAsYSl9Zm9yKGw9MTtsPD10OysrbClIW2xdPW9bbF0rcCp6W2xdO2lmKHE9PT1lKWZvcihGPWEsYT0wLGw9MTtsPD1XOysrbClqPXJbXz0kW2xdXS10aGlzLkRPVF9QUk9EVUNUKHRoaXMuUEFSVCh0aGlzLkNPTChpLF8pLDEsdCksdGhpcy5QQVJUKEgsMSx0KSksYT1NYXRoLm1heChhLGopO2w9Vztkb3tmb3IoRD0wLEI9MCxoPTE7aDw9dDsrK2gpRCs9aj1VW2hdW2xdKkhbaF0sQis9TWF0aC5hYnMoaik7aWYodz1CKy4xKk1hdGguYWJzKEQpLFQ9QisuMipNYXRoLmFicyhEKSwoQj49d3x8dz49VCkmJihEPTApLFZbbF09RC9KW2xdLGw+PTIpZm9yKF89JFtsXSxoPTE7aDw9dDsrK2gpSFtoXS09VltsXSppW2hdW19dfXdoaWxlKGwtLSA+PTIpO2ZvcihxPmUmJihWW1ddPU1hdGgubWF4KDAsVltXXSkpLGw9MTtsPD10OysrbClIW2xdPW9bbF0rcCp6W2xdO2lmKHE+Vylmb3IobD1XKzE7bDw9cTsrK2wpe2Zvcih5PWEtcltfPSRbbF1dLEk9YStNYXRoLmFicyhyW19dKSxoPTE7aDw9dDsrK2gpeSs9aj1pW2hdW19dKkhbaF0sSSs9TWF0aC5hYnMoaik7dz1JKy4xKk1hdGguYWJzKHkpLFQ9SSsuMipNYXRoLmFicyh5KSwoST49d3x8dz49VCkmJih5PTApLFZbbF09eX1mb3IoZz0xLG49MCxsPTE7bDw9cTsrK2wpVltsXTwwJiYoaj1HW2xdLyhHW2xdLVZbbF0pKTxnJiYoZz1qLG49bCk7Zm9yKGo9MS1nLGw9MTtsPD10OysrbClvW2xdPWoqb1tsXStnKkhbbF07Zm9yKGw9MTtsPD1xOysrbClHW2xdPU1hdGgubWF4KDAsaipHW2xdK2cqVltsXSk7cT09PWUmJihhPUYrZyooYS1GKSl9d2hpbGUobj4wKTtpZihwPT09ZilyZXR1cm4hMH19d2hpbGUocT09PWUpO3JldHVybiExfSxQcmludEl0ZXJhdGlvblJlc3VsdDpmdW5jdGlvbih0LGUsaSxyLHMsbyl7bz4xJiZjb25zb2xlLmxvZyhcIk5GVkFMUyA9IFwiK3QrXCIgIEYgPSBcIitlK1wiICBNQVhDViA9IFwiK2kpLG8+MSYmY29uc29sZS5sb2coXCJYID0gXCIrdGhpcy5QQVJUKHIsMSxzKSl9LFJPVzpmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdLnNsaWNlKCl9LENPTDpmdW5jdGlvbih0LGUpe3ZhciBpLHI9dC5sZW5ndGgscz10aGlzLmFycihyKTtmb3IoaT0wO2k8cjsrK2kpc1tpXT10W2ldW2VdO3JldHVybiBzfSxQQVJUOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdC5zbGljZShlLGkrMSl9LEZPUk1BVDpmdW5jdGlvbih0KXtyZXR1cm4gdC5qb2luKFwiLFwiKX0sRE9UX1BST0RVQ1Q6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPTAscz10Lmxlbmd0aDtmb3IoaT0wO2k8czsrK2kpcis9dFtpXSplW2ldO3JldHVybiByfX0sdC5NYXRoLk5scH0pKSxkZWZpbmUoXCJtYXRoL3N0YXRpc3RpY3NcIixbXCJqeGdcIixcIm1hdGgvbWF0aFwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3JldHVybiBlLlN0YXRpc3RpY3M9e3N1bTpmdW5jdGlvbih0KXt2YXIgZSxpPXQubGVuZ3RoLHI9MDtmb3IoZT0wO2U8aTtlKyspcis9dFtlXTtyZXR1cm4gcn0scHJvZDpmdW5jdGlvbih0KXt2YXIgZSxpPXQubGVuZ3RoLHI9MTtmb3IoZT0wO2U8aTtlKyspcio9dFtlXTtyZXR1cm4gcn0sbWVhbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGg+MD90aGlzLnN1bSh0KS90Lmxlbmd0aDowfSxtZWRpYW46ZnVuY3Rpb24odCl7dmFyIGUsaTtyZXR1cm4gdC5sZW5ndGg+MD8oQXJyYXlCdWZmZXIuaXNWaWV3KHQpPyhlPW5ldyBGbG9hdDY0QXJyYXkodCkpLnNvcnQoKTooZT10LnNsaWNlKDApKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSksMSYoaT1lLmxlbmd0aCk/ZVtwYXJzZUludCguNSppLDEwKV06LjUqKGVbLjUqaS0xXStlWy41KmldKSk6MH0scGVyY2VudGlsZTpmdW5jdGlvbih0LGUpe3ZhciByLHMsbyxuLGEsaD1bXTtpZih0Lmxlbmd0aD4wKXtmb3IoQXJyYXlCdWZmZXIuaXNWaWV3KHQpPyhyPW5ldyBGbG9hdDY0QXJyYXkodCkpLnNvcnQoKToocj10LnNsaWNlKDApKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiB0LWV9KSkscz1yLmxlbmd0aCxuPWkuaXNBcnJheShlKT9lOltlXSxvPTA7bzxuLmxlbmd0aDtvKyspYT1zKm5bb10qLjAxLHBhcnNlSW50KGEsMTApPT09YT9oLnB1c2goLjUqKHJbYS0xXStyW2FdKSk6aC5wdXNoKHJbcGFyc2VJbnQoYSwxMCldKTtyZXR1cm4gaS5pc0FycmF5KGUpP2g6aFswXX1yZXR1cm4gMH0sdmFyaWFuY2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHM9dC5sZW5ndGg7aWYocz4xKXtmb3IoZT10aGlzLm1lYW4odCksaT0wLHI9MDtyPHM7cisrKWkrPSh0W3JdLWUpKih0W3JdLWUpO3JldHVybiBpLyh0Lmxlbmd0aC0xKX1yZXR1cm4gMH0sc2Q6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLnZhcmlhbmNlKHQpKX0sd2VpZ2h0ZWRNZWFuOmZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaCBlcnJvciAoTWF0aC5TdGF0aXN0aWNzLndlaWdodGVkTWVhbik6IEFycmF5IGRpbWVuc2lvbiBtaXNtYXRjaC5cIik7cmV0dXJuIHQubGVuZ3RoPjA/dGhpcy5tZWFuKHRoaXMubXVsdGlwbHkodCxlKSk6MH0sbWF4OmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLm1heC5hcHBseSh0aGlzLHQpfSxtaW46ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGgubWluLmFwcGx5KHRoaXMsdCl9LHJhbmdlOmZ1bmN0aW9uKHQpe3JldHVyblt0aGlzLm1pbih0KSx0aGlzLm1heCh0KV19LGFiczpmdW5jdGlvbih0KXt2YXIgZSxyLHM7aWYoaS5pc0FycmF5KHQpKWlmKHQubWFwKXM9dC5tYXAoTWF0aC5hYnMpO2Vsc2UgZm9yKHI9dC5sZW5ndGgscz1bXSxlPTA7ZTxyO2UrKylzW2VdPU1hdGguYWJzKHRbZV0pO2Vsc2Ugcz1BcnJheUJ1ZmZlci5pc1ZpZXcodCk/dC5tYXAoTWF0aC5hYnMpOk1hdGguYWJzKHQpO3JldHVybiBzfSxhZGQ6ZnVuY3Rpb24odCxlKXt2YXIgcixzLG89W107aWYodD1pLmV2YWxTbGlkZXIodCksZT1pLmV2YWxTbGlkZXIoZSksaS5pc0FycmF5KHQpJiZpLmlzTnVtYmVyKGUpKWZvcihzPXQubGVuZ3RoLHI9MDtyPHM7cisrKW9bcl09dFtyXStlO2Vsc2UgaWYoaS5pc051bWJlcih0KSYmaS5pc0FycmF5KGUpKWZvcihzPWUubGVuZ3RoLHI9MDtyPHM7cisrKW9bcl09dCtlW3JdO2Vsc2UgaWYoaS5pc0FycmF5KHQpJiZpLmlzQXJyYXkoZSkpZm9yKHM9TWF0aC5taW4odC5sZW5ndGgsZS5sZW5ndGgpLHI9MDtyPHM7cisrKW9bcl09dFtyXStlW3JdO2Vsc2Ugbz10K2U7cmV0dXJuIG99LGRpdjpmdW5jdGlvbih0LGUpe3ZhciByLHMsbz1bXTtpZih0PWkuZXZhbFNsaWRlcih0KSxlPWkuZXZhbFNsaWRlcihlKSxpLmlzQXJyYXkodCkmJmkuaXNOdW1iZXIoZSkpZm9yKHM9dC5sZW5ndGgscj0wO3I8cztyKyspb1tyXT10W3JdL2U7ZWxzZSBpZihpLmlzTnVtYmVyKHQpJiZpLmlzQXJyYXkoZSkpZm9yKHM9ZS5sZW5ndGgscj0wO3I8cztyKyspb1tyXT10L2Vbcl07ZWxzZSBpZihpLmlzQXJyYXkodCkmJmkuaXNBcnJheShlKSlmb3Iocz1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCkscj0wO3I8cztyKyspb1tyXT10W3JdL2Vbcl07ZWxzZSBvPXQvZTtyZXR1cm4gb30sZGl2aWRlOmZ1bmN0aW9uKCl7dC5kZXByZWNhdGVkKFwiU3RhdGlzdGljcy5kaXZpZGUoKVwiLFwiU3RhdGlzdGljcy5kaXYoKVwiKSxlLlN0YXRpc3RpY3MuZGl2LmFwcGx5KGUuU3RhdGlzdGljcyxhcmd1bWVudHMpfSxtb2Q6ZnVuY3Rpb24odCxyLHMpe3ZhciBvLG4sYT1bXSxoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQlZX07aWYoKHM9aS5kZWYocywhMSkpJiYoaD1lLm1vZCksdD1pLmV2YWxTbGlkZXIodCkscj1pLmV2YWxTbGlkZXIociksaS5pc0FycmF5KHQpJiZpLmlzTnVtYmVyKHIpKWZvcihuPXQubGVuZ3RoLG89MDtvPG47bysrKWFbb109aCh0W29dLHIpO2Vsc2UgaWYoaS5pc051bWJlcih0KSYmaS5pc0FycmF5KHIpKWZvcihuPXIubGVuZ3RoLG89MDtvPG47bysrKWFbb109aCh0LHJbb10pO2Vsc2UgaWYoaS5pc0FycmF5KHQpJiZpLmlzQXJyYXkocikpZm9yKG49TWF0aC5taW4odC5sZW5ndGgsci5sZW5ndGgpLG89MDtvPG47bysrKWFbb109aCh0W29dLHJbb10pO2Vsc2UgYT1oKHQscik7cmV0dXJuIGF9LG11bHRpcGx5OmZ1bmN0aW9uKHQsZSl7dmFyIHIscyxvPVtdO2lmKHQ9aS5ldmFsU2xpZGVyKHQpLGU9aS5ldmFsU2xpZGVyKGUpLGkuaXNBcnJheSh0KSYmaS5pc051bWJlcihlKSlmb3Iocz10Lmxlbmd0aCxyPTA7cjxzO3IrKylvW3JdPXRbcl0qZTtlbHNlIGlmKGkuaXNOdW1iZXIodCkmJmkuaXNBcnJheShlKSlmb3Iocz1lLmxlbmd0aCxyPTA7cjxzO3IrKylvW3JdPXQqZVtyXTtlbHNlIGlmKGkuaXNBcnJheSh0KSYmaS5pc0FycmF5KGUpKWZvcihzPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxyPTA7cjxzO3IrKylvW3JdPXRbcl0qZVtyXTtlbHNlIG89dCplO3JldHVybiBvfSxzdWJ0cmFjdDpmdW5jdGlvbih0LGUpe3ZhciByLHMsbz1bXTtpZih0PWkuZXZhbFNsaWRlcih0KSxlPWkuZXZhbFNsaWRlcihlKSxpLmlzQXJyYXkodCkmJmkuaXNOdW1iZXIoZSkpZm9yKHM9dC5sZW5ndGgscj0wO3I8cztyKyspb1tyXT10W3JdLWU7ZWxzZSBpZihpLmlzTnVtYmVyKHQpJiZpLmlzQXJyYXkoZSkpZm9yKHM9ZS5sZW5ndGgscj0wO3I8cztyKyspb1tyXT10LWVbcl07ZWxzZSBpZihpLmlzQXJyYXkodCkmJmkuaXNBcnJheShlKSlmb3Iocz1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCkscj0wO3I8cztyKyspb1tyXT10W3JdLWVbcl07ZWxzZSBvPXQtZTtyZXR1cm4gb30sVGhlaWxTZW5SZWdyZXNzaW9uOmZ1bmN0aW9uKHQpe3ZhciBpLHIscz1bXSxvPVtdLG49W107Zm9yKGk9MDtpPHQubGVuZ3RoO2krKyl7Zm9yKG8ubGVuZ3RoPTAscj0wO3I8dC5sZW5ndGg7cisrKU1hdGguYWJzKHRbcl0udXNyQ29vcmRzWzFdLXRbaV0udXNyQ29vcmRzWzFdKT5lLmVwcyYmKG9bcl09KHRbcl0udXNyQ29vcmRzWzJdLXRbaV0udXNyQ29vcmRzWzJdKS8odFtyXS51c3JDb29yZHNbMV0tdFtpXS51c3JDb29yZHNbMV0pKTtzW2ldPXRoaXMubWVkaWFuKG8pLG4ucHVzaCh0W2ldLnVzckNvb3Jkc1syXS1zW2ldKnRbaV0udXNyQ29vcmRzWzFdKX1yZXR1cm5bdGhpcy5tZWRpYW4obiksdGhpcy5tZWRpYW4ocyksLTFdfSxnZW5lcmF0ZUdhdXNzaWFuOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzO2lmKHRoaXMuaGFzU3BhcmUpcmV0dXJuIHRoaXMuaGFzU3BhcmU9ITEsdGhpcy5zcGFyZSplK3Q7ZG97cz0oaT0yKk1hdGgucmFuZG9tKCktMSkqaSsocj0yKk1hdGgucmFuZG9tKCktMSkqcn13aGlsZShzPj0xfHwwPT09cyk7cmV0dXJuIHM9TWF0aC5zcXJ0KC0yKk1hdGgubG9nKHMpL3MpLHRoaXMuc3BhcmU9cipzLHRoaXMuaGFzU3BhcmU9ITAsdCtlKmkqc319LGUuU3RhdGlzdGljc30pKSxkZWZpbmUoXCJtYXRoL2dlb21ldHJ5XCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9udW1lcmljc1wiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMvZXhwZWN0XCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gci5HZW9tZXRyeT17fSx0LmV4dGVuZChyLkdlb21ldHJ5LHthbmdsZTpmdW5jdGlvbihlLGkscil7dmFyIHMsbyxuLGEsaD1bXSxsPVtdLGM9W107cmV0dXJuIHQuZGVwcmVjYXRlZChcIkdlb21ldHJ5LmFuZ2xlKClcIixcIkdlb21ldHJ5LnJhZCgpXCIpLGUuY29vcmRzPyhoWzBdPWUuY29vcmRzLnVzckNvb3Jkc1sxXSxoWzFdPWUuY29vcmRzLnVzckNvb3Jkc1syXSk6KGhbMF09ZVswXSxoWzFdPWVbMV0pLGkuY29vcmRzPyhsWzBdPWkuY29vcmRzLnVzckNvb3Jkc1sxXSxsWzFdPWkuY29vcmRzLnVzckNvb3Jkc1syXSk6KGxbMF09aVswXSxsWzFdPWlbMV0pLHIuY29vcmRzPyhjWzBdPXIuY29vcmRzLnVzckNvb3Jkc1sxXSxjWzFdPXIuY29vcmRzLnVzckNvb3Jkc1syXSk6KGNbMF09clswXSxjWzFdPXJbMV0pLHM9aFswXS1sWzBdLG89aFsxXS1sWzFdLG49Y1swXS1sWzBdLGE9Y1sxXS1sWzFdLE1hdGguYXRhbjIocyphLW8qbixzKm4rbyphKX0sdHJ1ZUFuZ2xlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gNTcuMjk1Nzc5NTEzMDgyMzIqdGhpcy5yYWQodCxlLGkpfSxyYWQ6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGEsaCxsO3JldHVybiB0LmNvb3Jkcz8ocj10LmNvb3Jkcy51c3JDb29yZHNbMV0scz10LmNvb3Jkcy51c3JDb29yZHNbMl0pOihyPXRbMF0scz10WzFdKSxlLmNvb3Jkcz8obz1lLmNvb3Jkcy51c3JDb29yZHNbMV0sbj1lLmNvb3Jkcy51c3JDb29yZHNbMl0pOihvPWVbMF0sbj1lWzFdKSxpLmNvb3Jkcz8oYT1pLmNvb3Jkcy51c3JDb29yZHNbMV0saD1pLmNvb3Jkcy51c3JDb29yZHNbMl0pOihhPWlbMF0saD1pWzFdKSwobD1NYXRoLmF0YW4yKGgtbixhLW8pLU1hdGguYXRhbjIocy1uLHItbykpPDAmJihsKz02LjI4MzE4NTMwNzE3OTU4NiksbH0sYW5nbGVCaXNlY3RvcjpmdW5jdGlvbih0LHIscyxuKXt2YXIgYSxoLGwsYyxkLHU9dC5jb29yZHMudXNyQ29vcmRzLHA9ci5jb29yZHMudXNyQ29vcmRzLGY9cy5jb29yZHMudXNyQ29vcmRzO3JldHVybiBvLmV4aXN0cyhuKXx8KG49dC5ib2FyZCksMD09PXBbMF0/bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMSwuNSoodVsxXStmWzFdKSwuNSoodVsyXStmWzJdKV0sbik6KGM9dVsxXS1wWzFdLGQ9dVsyXS1wWzJdLGE9TWF0aC5hdGFuMihkLGMpLGM9ZlsxXS1wWzFdLGQ9ZlsyXS1wWzJdLGw9LjUqKGErKGg9TWF0aC5hdGFuMihkLGMpKSksYT5oJiYobCs9TWF0aC5QSSksYz1NYXRoLmNvcyhsKStwWzFdLGQ9TWF0aC5zaW4obCkrcFsyXSxuZXcgaShlLkNPT1JEU19CWV9VU0VSLFsxLGMsZF0sbikpfSxyZWZsZWN0aW9uOmZ1bmN0aW9uKHQscixzKXt2YXIgbixhLGgsbCxjLGQsdT1yLmNvb3Jkcy51c3JDb29yZHMscD10LnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGY9dC5wb2ludDIuY29vcmRzLnVzckNvb3JkcztyZXR1cm4gby5leGlzdHMocyl8fChzPXIuYm9hcmQpLGw9ZlsxXS1wWzFdLGM9ZlsyXS1wWzJdLG49dVsxXS1wWzFdLGQ9KGwqKHVbMl0tcFsyXSktYypuKS8obCpsK2MqYyksYT11WzFdKzIqZCpjLGg9dVsyXS0yKmQqbCxuZXcgaShlLkNPT1JEU19CWV9VU0VSLFthLGhdLHMpfSxyb3RhdGlvbjpmdW5jdGlvbih0LHIscyxuKXt2YXIgYSxoLGwsYyxkLHUscD1yLmNvb3Jkcy51c3JDb29yZHMsZj10LmNvb3Jkcy51c3JDb29yZHM7cmV0dXJuIG8uZXhpc3RzKG4pfHwobj1yLmJvYXJkKSxhPXBbMV0tZlsxXSxoPXBbMl0tZlsyXSxkPWEqKGw9TWF0aC5jb3MocykpLWgqKGM9TWF0aC5zaW4ocykpK2ZbMV0sdT1hKmMraCpsK2ZbMl0sbmV3IGkoZS5DT09SRFNfQllfVVNFUixbZCx1XSxuKX0scGVycGVuZGljdWxhcjpmdW5jdGlvbih0LHMsbil7dmFyIGEsaCxsLGMsZCx1PXQucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMscD10LnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLGY9cy5jb29yZHMudXNyQ29vcmRzO3JldHVybiBvLmV4aXN0cyhuKXx8KG49cy5ib2FyZCkscz09PXQucG9pbnQxPyhhPXVbMV0rcFsyXS11WzJdLGg9dVsyXS1wWzFdK3VbMV0sZD11WzBdKnBbMF0sTWF0aC5hYnMoZCk8ci5lcHMmJihhPXBbMl0saD0tcFsxXSksYz1bZCxhLGhdLGw9ITApOnM9PT10LnBvaW50Mj8oYT1wWzFdK3VbMl0tcFsyXSxoPXBbMl0tdVsxXStwWzFdLGQ9dVswXSpwWzBdLE1hdGguYWJzKGQpPHIuZXBzJiYoYT11WzJdLGg9LXVbMV0pLGM9W2QsYSxoXSxsPSExKTpNYXRoLmFicyhyLmlubmVyUHJvZHVjdChmLHQuc3RkZm9ybSwzKSk8ci5lcHM/KGE9ZlsxXStwWzJdLWZbMl0saD1mWzJdLXBbMV0rZlsxXSxkPXBbMF0sTWF0aC5hYnMoZCk8ci5lcHMmJihhPXBbMl0saD0tcFsxXSksbD0hMCxNYXRoLmFicyhkKT5yLmVwcyYmTWF0aC5hYnMoYS1mWzFdKTxyLmVwcyYmTWF0aC5hYnMoaC1mWzJdKTxyLmVwcyYmKGE9ZlsxXSt1WzJdLWZbMl0saD1mWzJdLXVbMV0rZlsxXSxsPSExKSxjPVtkLGEsaF0pOihjPVswLHQuc3RkZm9ybVsxXSx0LnN0ZGZvcm1bMl1dLGM9ci5jcm9zc1Byb2R1Y3QoYyxmKSxjPXIuY3Jvc3NQcm9kdWN0KGMsdC5zdGRmb3JtKSxsPSEwKSxbbmV3IGkoZS5DT09SRFNfQllfVVNFUixjLG4pLGxdfSxjaXJjdW1jZW50ZXJNaWRwb2ludDpmdW5jdGlvbigpe3QuZGVwcmVjYXRlZChcIkdlb21ldHJ5LmNpcmN1bWNlbnRlck1pZHBvaW50KClcIixcIkdlb21ldHJ5LmNpcmN1bWNlbnRlcigpXCIpLHRoaXMuY2lyY3VtY2VudGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY2lyY3VtY2VudGVyOmZ1bmN0aW9uKHQscyxuLGEpe3ZhciBoLGwsYyxkLHU9dC5jb29yZHMudXNyQ29vcmRzLHA9cy5jb29yZHMudXNyQ29vcmRzLGY9bi5jb29yZHMudXNyQ29vcmRzO3JldHVybiBvLmV4aXN0cyhhKXx8KGE9dC5ib2FyZCksaD1bcFswXS11WzBdLC1wWzJdK3VbMl0scFsxXS11WzFdXSxsPVsuNSoodVswXStwWzBdKSwuNSoodVsxXStwWzFdKSwuNSoodVsyXStwWzJdKV0sYz1yLmNyb3NzUHJvZHVjdChoLGwpLGg9W2ZbMF0tcFswXSwtZlsyXStwWzJdLGZbMV0tcFsxXV0sbD1bLjUqKHBbMF0rZlswXSksLjUqKHBbMV0rZlsxXSksLjUqKHBbMl0rZlsyXSldLGQ9ci5jcm9zc1Byb2R1Y3QoaCxsKSxuZXcgaShlLkNPT1JEU19CWV9VU0VSLHIuY3Jvc3NQcm9kdWN0KGMsZCksYSl9LGRpc3RhbmNlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzPTA7Zm9yKGl8fChpPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSkscj0wO3I8aTtyKyspcys9KHRbcl0tZVtyXSkqKHRbcl0tZVtyXSk7cmV0dXJuIE1hdGguc3FydChzKX0sYWZmaW5lRGlzdGFuY2U6ZnVuY3Rpb24odCxlLGkpe3ZhciBzO3JldHVybihzPXRoaXMuZGlzdGFuY2UodCxlLGkpKT5yLmVwcyYmKE1hdGguYWJzKHRbMF0pPHIuZXBzfHxNYXRoLmFicyhlWzBdKTxyLmVwcyk/MS8wOnN9LGFmZmluZVJhdGlvOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcztyZXR1cm4gby5leGlzdHModC51c3JDb29yZHMpJiYodD10LnVzckNvb3Jkcyksby5leGlzdHMoZS51c3JDb29yZHMpJiYoZT1lLnVzckNvb3Jkcyksby5leGlzdHMoaS51c3JDb29yZHMpJiYoaT1pLnVzckNvb3Jkcykscz1lWzFdLXRbMV0sTWF0aC5hYnMocyk+ci5lcHM/KGlbMV0tdFsxXSkvczooaVsyXS10WzJdKS8oZVsyXS10WzJdKX0sc29ydFZlcnRpY2VzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPW4uZWFjaCh0LG4uY29vcmRzQXJyYXkpLHI9aS5sZW5ndGgscz1udWxsO2lbMF1bMF09PT1pW3ItMV1bMF0mJmlbMF1bMV09PT1pW3ItMV1bMV0mJmlbMF1bMl09PT1pW3ItMV1bMl07KXM9aS5wb3AoKSxyLS07cmV0dXJuIGU9aVswXSxpLnNvcnQoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuKHRbMl09PT1lWzJdJiZ0WzFdPT09ZVsxXT8tMS8wOk1hdGguYXRhbjIodFsyXS1lWzJdLHRbMV0tZVsxXSkpLShpWzJdPT09ZVsyXSYmaVsxXT09PWVbMV0/LTEvMDpNYXRoLmF0YW4yKGlbMl0tZVsyXSxpWzFdLWVbMV0pKX0pKSxudWxsIT09cyYmaS5wdXNoKHMpLGl9LHNpZ25lZFRyaWFuZ2xlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1uLmNvb3Jkc0FycmF5KHQpLHM9bi5jb29yZHNBcnJheShlKSxvPW4uY29vcmRzQXJyYXkoaSk7cmV0dXJuLjUqKChzWzFdLXJbMV0pKihvWzJdLXJbMl0pLShzWzJdLXJbMl0pKihvWzFdLXJbMV0pKX0sc2lnbmVkUG9seWdvbjpmdW5jdGlvbih0LGUpe3ZhciBpLHIscz0wLG89bi5lYWNoKHQsbi5jb29yZHNBcnJheSk7Zm9yKHZvaWQgMD09PWUmJihlPSEwKSxlP28udW5zaGlmdChvW28ubGVuZ3RoLTFdKTpvPXRoaXMuc29ydFZlcnRpY2VzKG8pLHI9by5sZW5ndGgsaT0xO2k8cjtpKyspcys9b1tpLTFdWzFdKm9baV1bMl0tb1tpXVsxXSpvW2ktMV1bMl07cmV0dXJuLjUqc30sR3JhaGFtU2NhbjpmdW5jdGlvbih0KXt2YXIgZSxpPTEscj1uLmVhY2godCxuLmNvb3Jkc0FycmF5KSxzPXIubGVuZ3RoO2ZvcihzPShyPXRoaXMuc29ydFZlcnRpY2VzKHIpKS5sZW5ndGgsZT0yO2U8cztlKyspe2Zvcig7dGhpcy5zaWduZWRUcmlhbmdsZShyW2ktMV0scltpXSxyW2VdKTw9MDspe2lmKGk+MSlpLT0xO2Vsc2UgaWYoZT09PXMtMSlicmVhaztlKz0xfWkrPTEscj1vLnN3YXAocixpLGUpfXJldHVybiByLnNsaWNlKDAsaSl9LGNhbGNTdHJhaWdodDpmdW5jdGlvbih0LGkscyxuKXt2YXIgYSxoLGwsYyxkLHUscCxmLG0sZztpZihvLmV4aXN0cyhuKXx8KG49MTApLHU9by5ldmFsdWF0ZSh0LnZpc1Byb3Auc3RyYWlnaHRmaXJzdCkscD1vLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJhaWdodGxhc3QpLE1hdGguYWJzKGkuc2NyQ29vcmRzWzBdKTxyLmVwcyYmKHU9ITApLE1hdGguYWJzKHMuc2NyQ29vcmRzWzBdKTxyLmVwcyYmKHA9ITApLCh1fHxwKSYmKChmPVtdKVswXT10LnN0ZGZvcm1bMF0tdC5zdGRmb3JtWzFdKnQuYm9hcmQub3JpZ2luLnNjckNvb3Jkc1sxXS90LmJvYXJkLnVuaXRYK3Quc3RkZm9ybVsyXSp0LmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMl0vdC5ib2FyZC51bml0WSxmWzFdPXQuc3RkZm9ybVsxXS90LmJvYXJkLnVuaXRYLGZbMl09LXQuc3RkZm9ybVsyXS90LmJvYXJkLnVuaXRZLCFpc05hTihmWzBdK2ZbMV0rZlsyXSkpKXtpZighMSwhMSxhPSF1JiZNYXRoLmFicyhpLnVzckNvb3Jkc1swXSk+PXIuZXBzJiZpLnNjckNvb3Jkc1sxXT49MCYmaS5zY3JDb29yZHNbMV08PXQuYm9hcmQuY2FudmFzV2lkdGgmJmkuc2NyQ29vcmRzWzJdPj0wJiZpLnNjckNvb3Jkc1syXTw9dC5ib2FyZC5jYW52YXNIZWlnaHQsaD0hcCYmTWF0aC5hYnMocy51c3JDb29yZHNbMF0pPj1yLmVwcyYmcy5zY3JDb29yZHNbMV0+PTAmJnMuc2NyQ29vcmRzWzFdPD10LmJvYXJkLmNhbnZhc1dpZHRoJiZzLnNjckNvb3Jkc1syXT49MCYmcy5zY3JDb29yZHNbMl08PXQuYm9hcmQuY2FudmFzSGVpZ2h0LGM9KGw9dGhpcy5tZWV0TGluZUJvYXJkKGYsdC5ib2FyZCxuKSlbMF0sZD1sWzFdLCFhJiYhaCl7aWYoIXUmJnAmJiF0aGlzLmlzU2FtZURpcmVjdGlvbihpLHMsYykmJiF0aGlzLmlzU2FtZURpcmVjdGlvbihpLHMsZCkpcmV0dXJuO2lmKHUmJiFwJiYhdGhpcy5pc1NhbWVEaXJlY3Rpb24ocyxpLGMpJiYhdGhpcy5pc1NhbWVEaXJlY3Rpb24ocyxpLGQpKXJldHVybn1hP2h8fChnPXRoaXMuaXNTYW1lRGlyKGkscyxjLGQpP2Q6Yyk6aD9tPXRoaXMuaXNTYW1lRGlyKGkscyxjLGQpP2M6ZDp0aGlzLmlzU2FtZURpcihpLHMsYyxkKT8obT1jLGc9ZCk6KGc9YyxtPWQpLG0mJmkuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixtLnVzckNvb3JkcyksZyYmcy5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLGcudXNyQ29vcmRzKX19LGNhbGNMaW5lRGVsaW1pdGluZ1BvaW50czpmdW5jdGlvbih0LGkscyl7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG0sZztpZihjPW8uZXZhbHVhdGUodC52aXNQcm9wLnN0cmFpZ2h0Zmlyc3QpLGQ9by5ldmFsdWF0ZSh0LnZpc1Byb3Auc3RyYWlnaHRsYXN0KSxNYXRoLmFicyhpLnNjckNvb3Jkc1swXSk8ci5lcHMmJihjPSEwKSxNYXRoLmFicyhzLnNjckNvb3Jkc1swXSk8ci5lcHMmJihkPSEwKSwodT1bXSlbMF09dC5zdGRmb3JtWzBdLXQuc3RkZm9ybVsxXSp0LmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMV0vdC5ib2FyZC51bml0WCt0LnN0ZGZvcm1bMl0qdC5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzJdL3QuYm9hcmQudW5pdFksdVsxXT10LnN0ZGZvcm1bMV0vdC5ib2FyZC51bml0WCx1WzJdPS10LnN0ZGZvcm1bMl0vdC5ib2FyZC51bml0WSwhaXNOYU4odVswXSt1WzFdK3VbMl0pKXtpZihtPSFjLGc9IWQsYT10LmJvYXJkLmdldEJvdW5kaW5nQm94KCksdC5nZXRTbG9wZSgpPj0wPyhoPXRoaXMucHJvamVjdFBvaW50VG9MaW5lKHtjb29yZHM6e3VzckNvb3JkczpbMSxhWzJdLGFbMV1dfX0sdCx0LmJvYXJkKSxsPXRoaXMucHJvamVjdFBvaW50VG9MaW5lKHtjb29yZHM6e3VzckNvb3JkczpbMSxhWzBdLGFbM11dfX0sdCx0LmJvYXJkKSk6KGg9dGhpcy5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3Jkczp7dXNyQ29vcmRzOlsxLGFbMF0sYVsxXV19fSx0LHQuYm9hcmQpLGw9dGhpcy5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3Jkczp7dXNyQ29vcmRzOlsxLGFbMl0sYVszXV19fSx0LHQuYm9hcmQpKSwhbSYmIWcpe2lmKCFjJiYhZCl7aWYobj1pLmRpc3RhbmNlKGUuQ09PUkRTX0JZX1VTRVIscyksTWF0aC5hYnMoaS5kaXN0YW5jZShlLkNPT1JEU19CWV9VU0VSLGgpK2guZGlzdGFuY2UoZS5DT09SRFNfQllfVVNFUixzKS1uKT5yLmVwcylyZXR1cm47aWYoTWF0aC5hYnMoaS5kaXN0YW5jZShlLkNPT1JEU19CWV9VU0VSLGwpK2wuZGlzdGFuY2UoZS5DT09SRFNfQllfVVNFUixzKS1uKT5yLmVwcylyZXR1cm59aWYoIWMmJmQmJiF0aGlzLmlzU2FtZURpcmVjdGlvbihpLHMsaCkmJiF0aGlzLmlzU2FtZURpcmVjdGlvbihpLHMsbCkpcmV0dXJuO2lmKGMmJiFkJiYhdGhpcy5pc1NhbWVEaXJlY3Rpb24ocyxpLGgpJiYhdGhpcy5pc1NhbWVEaXJlY3Rpb24ocyxpLGwpKXJldHVybn1tP2d8fChmPXRoaXMuaXNTYW1lRGlyKGkscyxoLGwpP2w6aCk6Zz9wPXRoaXMuaXNTYW1lRGlyKGkscyxoLGwpP2g6bDp0aGlzLmlzU2FtZURpcihpLHMsaCxsKT8ocD1oLGY9bCk6KGY9aCxwPWwpLHAmJmkuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixwLnVzckNvb3JkcyksZiYmcy5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLGYudXNyQ29vcmRzKX19LGNhbGNMYWJlbFF1YWRyYW50OmZ1bmN0aW9uKHQpe3JldHVybiB0PDAmJih0Kz0yKk1hdGguUEkpLFtcInJ0XCIsXCJ1cnRcIixcInRvcFwiLFwidWxmdFwiLFwibGZ0XCIsXCJsbGZ0XCIsXCJscnRcIl1bTWF0aC5mbG9vcigodCtNYXRoLlBJLzgpLyhNYXRoLlBJLzQpKSU4XX0saXNTYW1lRGlyOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBvPWUudXNyQ29vcmRzWzFdLXQudXNyQ29vcmRzWzFdLG49ZS51c3JDb29yZHNbMl0tdC51c3JDb29yZHNbMl0sYT1zLnVzckNvb3Jkc1sxXS1pLnVzckNvb3Jkc1sxXSxoPXMudXNyQ29vcmRzWzJdLWkudXNyQ29vcmRzWzJdO3JldHVybiBNYXRoLmFicyhlLnVzckNvb3Jkc1swXSk8ci5lcHMmJihvPWUudXNyQ29vcmRzWzFdLG49ZS51c3JDb29yZHNbMl0pLE1hdGguYWJzKHQudXNyQ29vcmRzWzBdKTxyLmVwcyYmKG89LXQudXNyQ29vcmRzWzFdLG49LXQudXNyQ29vcmRzWzJdKSxvKmErbipoPj0wfSxpc1NhbWVEaXJlY3Rpb246ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG8sbixhLGg9ITE7cmV0dXJuIHM9ZS51c3JDb29yZHNbMV0tdC51c3JDb29yZHNbMV0sbz1lLnVzckNvb3Jkc1syXS10LnVzckNvb3Jkc1syXSxuPWkudXNyQ29vcmRzWzFdLXQudXNyQ29vcmRzWzFdLGE9aS51c3JDb29yZHNbMl0tdC51c3JDb29yZHNbMl0sTWF0aC5hYnMocyk8ci5lcHMmJihzPTApLE1hdGguYWJzKG8pPHIuZXBzJiYobz0wKSxNYXRoLmFicyhuKTxyLmVwcyYmKG49MCksTWF0aC5hYnMoYSk8ci5lcHMmJihhPTApLChzPj0wJiZuPj0wfHxzPD0wJiZuPD0wKSYmKGg9bz49MCYmYT49MHx8bzw9MCYmYTw9MCksaH0saW50ZXJzZWN0aW9uRnVuY3Rpb246ZnVuY3Rpb24ocyxuLGEsaCxsLGMpe3ZhciBkLHUscD10aGlzO3JldHVybiBkPW4uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJihuLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0FSQ3x8bi50eXBlPT09ZS5PQkpFQ1RfVFlQRV9TRUNUT1IpLHU9YS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmKGEudHlwZT09PWUuT0JKRUNUX1RZUEVfQVJDfHxhLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1NFQ1RPUiksbi5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmYS5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19DVVJWRXx8bi5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmbi5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19DSVJDTEV8fGEuZWxlbWVudENsYXNzIT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJmEuZWxlbWVudENsYXNzIT09ZS5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFP24uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJiFkJiZhLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0xJTkV8fGEuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJiF1JiZuLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0xJTkU/ZnVuY3Rpb24oKXtyZXR1cm4gcC5tZWV0Q3VydmVMaW5lKG4sYSxoLG4uYm9hcmQsYyl9Om4udHlwZT09PWUuT0JKRUNUX1RZUEVfUE9MWUdPTnx8YS50eXBlPT09ZS5PQkpFQ1RfVFlQRV9QT0xZR09OP24uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORT9mdW5jdGlvbigpe3JldHVybiBwLm1lZXRQb2x5Z29uTGluZShhLG4saCxuLmJvYXJkLGMpfTphLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0xJTkU/ZnVuY3Rpb24oKXtyZXR1cm4gcC5tZWV0UG9seWdvbkxpbmUobixhLGgsbi5ib2FyZCxjKX06ZnVuY3Rpb24oKXtyZXR1cm4gcC5tZWV0UGF0aFBhdGgobixhLGgsbi5ib2FyZCl9Om4uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORSYmYS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FP2Z1bmN0aW9uKCl7dmFyIHQscixzPW8uZXZhbHVhdGUobi52aXNQcm9wLnN0cmFpZ2h0Zmlyc3QpLGw9by5ldmFsdWF0ZShuLnZpc1Byb3Auc3RyYWlnaHRsYXN0KSxkPW8uZXZhbHVhdGUoYS52aXNQcm9wLnN0cmFpZ2h0Zmlyc3QpLHU9by5ldmFsdWF0ZShhLnZpc1Byb3Auc3RyYWlnaHRsYXN0KTtyZXR1cm4gby5ldmFsdWF0ZShjKXx8cyYmbCYmZCYmdT9wLm1lZXQobi5zdGRmb3JtLGEuc3RkZm9ybSxoLG4uYm9hcmQpOih0PXAubWVldFNlZ21lbnRTZWdtZW50KG4ucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsbi5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxhLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGEucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMpLHI9IXMmJnRbMV08MHx8IWwmJnRbMV0+MXx8IWQmJnRbMl08MHx8IXUmJnRbMl0+MT9bMCxOYU4sTmFOXTp0WzBdLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIscixuLmJvYXJkKSl9OmZ1bmN0aW9uKCl7dmFyIHMsbCxmLG09cC5tZWV0KG4uc3RkZm9ybSxhLnN0ZGZvcm0saCxuLmJvYXJkKSxnPSEwO3JldHVybiBjP206KG4uZWxlbWVudENsYXNzIT09ZS5PQkpFQ1RfQ0xBU1NfTElORXx8KHM9by5ldmFsdWF0ZShuLnZpc1Byb3Auc3RyYWlnaHRmaXJzdCksbD1vLmV2YWx1YXRlKG4udmlzUHJvcC5zdHJhaWdodGxhc3QpLHMmJmx8fChmPXAuYWZmaW5lUmF0aW8obi5wb2ludDEuY29vcmRzLG4ucG9pbnQyLmNvb3JkcyxtKSwhKCFsJiZmPjErci5lcHN8fCFzJiZmPDAtci5lcHMpKSkpJiYoYS5lbGVtZW50Q2xhc3MhPT1lLk9CSkVDVF9DTEFTU19MSU5FfHwocz1vLmV2YWx1YXRlKGEudmlzUHJvcC5zdHJhaWdodGZpcnN0KSxsPW8uZXZhbHVhdGUoYS52aXNQcm9wLnN0cmFpZ2h0bGFzdCkscyYmbHx8KGY9cC5hZmZpbmVSYXRpbyhhLnBvaW50MS5jb29yZHMsYS5wb2ludDIuY29vcmRzLG0pLCEoIWwmJmY+MStyLmVwc3x8IXMmJmY8MC1yLmVwcykpKSk/ZCYmKChnPXAuY29vcmRzT25BcmMobixtKSkmJnUmJihnPXAuY29vcmRzT25BcmMoYSxtKSksIWcpP25ldyBpKHQuQ09PUkRTX0JZX1VTRVIsWzAsTmFOLE5hTl0sbi5ib2FyZCk6bTpuZXcgaSh0LkNPT1JEU19CWV9VU0VSLFswLE5hTixOYU5dLG4uYm9hcmQpfTpmdW5jdGlvbigpe3JldHVybiBwLm1lZXRDdXJ2ZUN1cnZlKG4sYSxoLGwsbi5ib2FyZCl9fSxjb29yZHNPbkFyYzpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMucmFkKHQucmFkaXVzcG9pbnQsdC5jZW50ZXIsZS51c3JDb29yZHMuc2xpY2UoMSkpLHI9MCxzPXRoaXMucmFkKHQucmFkaXVzcG9pbnQsdC5jZW50ZXIsdC5hbmdsZXBvaW50KSxuPW8uZXZhbHVhdGUodC52aXNQcm9wLnNlbGVjdGlvbik7cmV0dXJuKFwibWlub3JcIj09PW4mJnM+TWF0aC5QSXx8XCJtYWpvclwiPT09biYmczxNYXRoLlBJKSYmKHI9cyxzPTIqTWF0aC5QSSksIShpPHJ8fGk+cyl9LG1lZXQ6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG89ci5lcHM7cmV0dXJuIE1hdGguYWJzKHRbM10pPG8mJk1hdGguYWJzKGVbM10pPG8/dGhpcy5tZWV0TGluZUxpbmUodCxlLGkscyk6TWF0aC5hYnModFszXSk+PW8mJk1hdGguYWJzKGVbM10pPG8/dGhpcy5tZWV0TGluZUNpcmNsZShlLHQsaSxzKTpNYXRoLmFicyh0WzNdKTxvJiZNYXRoLmFicyhlWzNdKT49bz90aGlzLm1lZXRMaW5lQ2lyY2xlKHQsZSxpLHMpOnRoaXMubWVldENpcmNsZUNpcmNsZSh0LGUsaSxzKX0sbWVldExpbmVCb2FyZDpmdW5jdGlvbih0LHMsbil7dmFyIGEsaCxsLGMsZD1bXTtmb3Ioby5leGlzdHMobil8fChuPTApLGRbMF09ci5jcm9zc1Byb2R1Y3QodCxbbiwwLDFdKSxkWzFdPXIuY3Jvc3NQcm9kdWN0KHQsW24sMSwwXSksZFsyXT1yLmNyb3NzUHJvZHVjdCh0LFstbi1zLmNhbnZhc0hlaWdodCwwLDFdKSxkWzNdPXIuY3Jvc3NQcm9kdWN0KHQsWy1uLXMuY2FudmFzV2lkdGgsMSwwXSksbD0wO2w8NDtsKyspaWYoTWF0aC5hYnMoZFtsXVswXSk+ci5lcHMpe2ZvcihjPTI7Yz4wO2MtLSlkW2xdW2NdLz1kW2xdWzBdO2RbbF1bMF09MX1yZXR1cm4gTWF0aC5hYnMoZFsxXVswXSk8ci5lcHM/KGE9ZFswXSxoPWRbMl0pOk1hdGguYWJzKGRbMF1bMF0pPHIuZXBzPyhhPWRbMV0saD1kWzNdKTpkWzFdWzJdPDA/KGE9ZFswXSxoPWRbM11bMl0+cy5jYW52YXNIZWlnaHQ/ZFsyXTpkWzNdKTpkWzFdWzJdPnMuY2FudmFzSGVpZ2h0PyhhPWRbMl0saD1kWzNdWzJdPDA/ZFswXTpkWzNdKTooYT1kWzFdLGg9ZFszXVsyXTwwP2RbMF06ZFszXVsyXT5zLmNhbnZhc0hlaWdodD9kWzJdOmRbM10pLFthPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixhLnNsaWNlKDEpLHMpLGg9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLGguc2xpY2UoMSkscyldfSxtZWV0TGluZUxpbmU6ZnVuY3Rpb24odCxzLG8sbil7dmFyIGE9aXNOYU4odFs1XStzWzVdKT9bMCwwLDBdOnIuY3Jvc3NQcm9kdWN0KHQscyk7cmV0dXJuIG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsYSxuKX0sbWVldExpbmVDaXJjbGU6ZnVuY3Rpb24odCxzLG8sbil7dmFyIGEsaCxsLGMsZCx1LHAsZixtO3JldHVybiBzWzRdPHIuZXBzP01hdGguYWJzKHIuaW5uZXJQcm9kdWN0KFsxLHNbNl0sc1s3XV0sdCwzKSk8ci5lcHM/bmV3IGkoZS5DT09SRFNfQllfVVNFUixzLnNsaWNlKDYsOCksbik6bmV3IGkoZS5DT09SRFNfQllfVVNFUixbTmFOLE5hTl0sbik6KGw9c1swXSxoPXMuc2xpY2UoMSwzKSxhPXNbM10sYz10WzBdLGQ9dC5zbGljZSgxLDMpLHU9YSwoZj0ocD1oWzBdKmRbMV0taFsxXSpkWzBdKSpwLTQqdSooYSpjKmMtKGhbMF0qZFswXStoWzFdKmRbMV0pKmMrbCkpPi1yLmVwcypyLmVwcz8obT1bKC1wKyhmPU1hdGguc3FydChNYXRoLmFicyhmKSkpKS8oMip1KSwoLXAtZikvKDIqdSldLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsMD09PW8/Wy1tWzBdKi1kWzFdLWMqZFswXSwtbVswXSpkWzBdLWMqZFsxXV06Wy1tWzFdKi1kWzFdLWMqZFswXSwtbVsxXSpkWzBdLWMqZFsxXV0sbikpOm5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMCwwXSxuKSl9LG1lZXRDaXJjbGVDaXJjbGU6ZnVuY3Rpb24odCxzLG8sbil7dmFyIGE7cmV0dXJuIHRbNF08ci5lcHM/TWF0aC5hYnModGhpcy5kaXN0YW5jZSh0LnNsaWNlKDYsMikscy5zbGljZSg2LDgpKS1zWzRdKTxyLmVwcz9uZXcgaShlLkNPT1JEU19CWV9VU0VSLHQuc2xpY2UoNiw4KSxuKTpuZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDAsMF0sbik6c1s0XTxyLmVwcz9NYXRoLmFicyh0aGlzLmRpc3RhbmNlKHMuc2xpY2UoNiwyKSx0LnNsaWNlKDYsOCkpLXRbNF0pPHIuZXBzP25ldyBpKGUuQ09PUkRTX0JZX1VTRVIscy5zbGljZSg2LDgpLG4pOm5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMCwwXSxuKTooYT1bc1szXSp0WzBdLXRbM10qc1swXSxzWzNdKnRbMV0tdFszXSpzWzFdLHNbM10qdFsyXS10WzNdKnNbMl0sMCwxLDEvMCwxLzAsMS8wXSxhPXIubm9ybWFsaXplKGEpLHRoaXMubWVldExpbmVDaXJjbGUoYSx0LG8sbikpfSxtZWV0Q3VydmVDdXJ2ZTpmdW5jdGlvbih0LHIsbixhLGgsbCl7dmFyIGM7cmV0dXJuIGM9by5leGlzdHMobCkmJlwibmV3dG9uXCI9PT1sP3MuZ2VuZXJhbGl6ZWROZXd0b24odCxyLG4sYSk6Mz09PXQuYmV6aWVyRGVncmVlfHwzPT09ci5iZXppZXJEZWdyZWU/dGhpcy5tZWV0QmV6aWVyQ3VydmVSZWRCbHVlU2VnbWVudHModCxyLG4pOnRoaXMubWVldEN1cnZlUmVkQmx1ZVNlZ21lbnRzKHQscixuKSxuZXcgaShlLkNPT1JEU19CWV9VU0VSLGMsaCl9LG1lZXRDdXJ2ZUxpbmU6ZnVuY3Rpb24odCxpLHIscyxuKXt2YXIgYSxoO3JldHVybiBvLmV4aXN0cyhzKXx8KHM9dC5ib2FyZCksdC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRT8oYT10LGg9aSk6KGE9aSxoPXQpLHRoaXMubWVldEN1cnZlTGluZURpc2NyZXRlKGEsaCxyLHMsIW4pfSxtZWV0Q3VydmVMaW5lQ29udGludW91czpmdW5jdGlvbih0LG8sbixhLGgpe3ZhciBsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFA9ci5lcHMsRT1yLmVwcztmb3IodT10aGlzLm1lZXRDdXJ2ZUxpbmVEaXNjcmV0ZSh0LG8sbixhLGgpLHA9dS51c3JDb29yZHNbMV0sZj11LnVzckNvb3Jkc1syXSxjPWZ1bmN0aW9uKGUpe3ZhciBpLHI7cmV0dXJuIGU+dC5tYXhYKCl8fGU8dC5taW5YKCk/MS8wOihpPXAtdC5YKGUpKSppKyhyPWYtdC5ZKGUpKSpyfSxkPWZ1bmN0aW9uKGUpe3ZhciBpPW8uc3RkZm9ybVswXStvLnN0ZGZvcm1bMV0qdC5YKGUpK28uc3RkZm9ybVsyXSp0LlkoZSk7cmV0dXJuIGkqaX0sNTAsZz0odC5tYXhYKCktdC5taW5YKCkpLzUwLGI9dC5taW5YKCksQz0xZS00LHk9TmFOLHY9MDt2PDUwJiYobD1zLnJvb3QoYyxbTWF0aC5tYXgoYix0Lm1pblgoKSksTWF0aC5taW4oYitnLHQubWF4WCgpKV0pLCEoKF89TWF0aC5hYnMoYyhsKSkpPD1DJiYoeT1sLChDPV8pPFApKSk7disrKWIrPWc7cmV0dXJuIGw9eSxfPWQobD1zLnJvb3QoZCxbTWF0aC5tYXgobC1nLHQubWluWCgpKSxNYXRoLm1pbihsK2csdC5tYXhYKCkpXSkpLG09aXNOYU4oXyl8fE1hdGguYWJzKF8pPkU/MDoxLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW20sdC5YKGwpLHQuWShsKV0sYSl9LG1lZXRDdXJ2ZUxpbmVEaXNjcmV0ZTpmdW5jdGlvbih0LHMsbixhLGgpe3ZhciBsLGMsZCx1LHAsZixtLGc9cy5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxiPXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMsdj0wLHk9dC5udW1iZXJQb2ludHMsQz1vLmV2YWx1YXRlKHMudmlzUHJvcC5zdHJhaWdodGZpcnN0KSxfPW8uZXZhbHVhdGUocy52aXNQcm9wLnN0cmFpZ2h0bGFzdCk7Zm9yKGY9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCxOYU4sTmFOXSxhKSwwPT09Z1swXT9nPVsxLGJbMV0rcy5zdGRmb3JtWzJdLGJbMl0tcy5zdGRmb3JtWzFdXTowPT09YlswXSYmKGI9WzEsZ1sxXStzLnN0ZGZvcm1bMl0sZ1syXS1zLnN0ZGZvcm1bMV1dKSx1PXQucG9pbnRzWzBdLnVzckNvb3JkcyxsPTE7bDx5O2wrPXQuYmV6aWVyRGVncmVlKWlmKGQ9dS5zbGljZSgwKSx1PXQucG9pbnRzW2xdLnVzckNvb3Jkcyx0aGlzLmRpc3RhbmNlKGQsdSk+ci5lcHMpZm9yKG09Mz09PXQuYmV6aWVyRGVncmVlP3RoaXMubWVldEJlemllcnNlZ21lbnRCZXppZXJzZWdtZW50KFt0LnBvaW50c1tsLTFdLnVzckNvb3Jkcy5zbGljZSgxKSx0LnBvaW50c1tsXS51c3JDb29yZHMuc2xpY2UoMSksdC5wb2ludHNbbCsxXS51c3JDb29yZHMuc2xpY2UoMSksdC5wb2ludHNbbCsyXS51c3JDb29yZHMuc2xpY2UoMSldLFtnLnNsaWNlKDEpLGIuc2xpY2UoMSldLGgpOlt0aGlzLm1lZXRTZWdtZW50U2VnbWVudChkLHUsZyxiKV0sYz0wO2M8bS5sZW5ndGg7YysrKWlmKDA8PShwPW1bY10pWzFdJiZwWzFdPD0xKXtpZih2PT09bilyZXR1cm4gaCYmKCFDJiZwWzJdPDB8fCFfJiZwWzJdPjEpP2Y6Zj1uZXcgaShlLkNPT1JEU19CWV9VU0VSLHBbMF0sYSk7dis9MX1yZXR1cm4gZn0sbWVldEN1cnZlUmVkQmx1ZVNlZ21lbnRzOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhLGgsbCxjLGQsdT0wLHA9ZS5udW1iZXJQb2ludHMsZj10Lm51bWJlclBvaW50cztpZihwPD0xfHxmPD0xKXJldHVyblswLE5hTixOYU5dO2ZvcihyPTE7cjxmO3IrKylmb3Iobz10LnBvaW50c1tyLTFdLnVzckNvb3JkcyxuPXQucG9pbnRzW3JdLnVzckNvb3JkcyxjPU1hdGgubWluKG9bMV0sblsxXSksZD1NYXRoLm1heChvWzFdLG5bMV0pLGg9ZS5wb2ludHNbMF0udXNyQ29vcmRzLHM9MTtzPHA7cysrKWlmKGE9aCxoPWUucG9pbnRzW3NdLnVzckNvb3JkcyxNYXRoLm1pbihhWzFdLGhbMV0pPGQmJk1hdGgubWF4KGFbMV0saFsxXSk+YyYmKGw9dGhpcy5tZWV0U2VnbWVudFNlZ21lbnQobyxuLGEsaCkpWzFdPj0wJiZsWzJdPj0wJiYobFsxXTwxJiZsWzJdPDF8fHI9PT1mLTEmJjE9PT1sWzFdfHxzPT09cC0xJiYxPT09bFsyXSkpe2lmKHU9PT1pKXJldHVybiBsWzBdO3UrK31yZXR1cm5bMCxOYU4sTmFOXX0sbWVldFNlZ21lbnRTZWdtZW50OmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBvLG4sYSxoPXIuY3Jvc3NQcm9kdWN0KHQsZSksbD1yLmNyb3NzUHJvZHVjdChpLHMpLGM9ci5jcm9zc1Byb2R1Y3QoaCxsKTtyZXR1cm4gTWF0aC5hYnMoY1swXSk8ci5lcHM/W2MsMS8wLDEvMF06KGNbMV0vPWNbMF0sY1syXS89Y1swXSxjWzBdLz1jWzBdLGE9dFtuPU1hdGguYWJzKGVbMV0tZVswXSp0WzFdKTxyLmVwcz8yOjFdL3RbMF0sbz0oY1tuXS1hKS8oMCE9PWVbMF0/ZVtuXS9lWzBdLWE6ZVtuXSksYT1pW249TWF0aC5hYnMoc1sxXS1zWzBdKmlbMV0pPHIuZXBzPzI6MV0vaVswXSxbYyxvLChjW25dLWEpLygwIT09c1swXT9zW25dL3NbMF0tYTpzW25dKV0pfSxtZWV0UGF0aFBhdGg6ZnVuY3Rpb24ocyxvLG4sYSl7dmFyIGgsbCxjLGQ7cmV0dXJuKGM9KGg9dC5NYXRoLkNsaXAuX2dldFBhdGgocyxhKSkubGVuZ3RoKT4wJiZ0aGlzLmRpc3RhbmNlKGhbMF0uY29vcmRzLnVzckNvb3JkcyxoW2MtMV0uY29vcmRzLnVzckNvb3JkcywzKTxyLmVwcyYmaC5wb3AoKSwoYz0obD10Lk1hdGguQ2xpcC5fZ2V0UGF0aChvLGEpKS5sZW5ndGgpPjAmJnRoaXMuZGlzdGFuY2UobFswXS5jb29yZHMudXNyQ29vcmRzLGxbYy0xXS5jb29yZHMudXNyQ29vcmRzLDMpPHIuZXBzKnIuZXBzJiZsLnBvcCgpLG48MHx8dC5NYXRoLkNsaXAuaXNFbXB0eUNhc2UoaCxsLFwiaW50ZXJzZWN0aW9uXCIpP25ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMCwwXSxhKToodC5NYXRoLkNsaXAubWFrZURvdWJseUxpbmtlZExpc3QoaCksdC5NYXRoLkNsaXAubWFrZURvdWJseUxpbmtlZExpc3QobCksbjwoZD10Lk1hdGguQ2xpcC5maW5kSW50ZXJzZWN0aW9ucyhoLGwsYSlbMF0pLmxlbmd0aD9kW25dLmNvb3JkczpuZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDAsMF0sYSkpfSxtZWV0UG9seWdvbkxpbmU6ZnVuY3Rpb24odCxyLHMsbyxuKXt2YXIgYSxoLGwsYz1bMCwwLDBdLGQ9dC5ib3JkZXJzLmxlbmd0aCx1PVtdO2ZvcihhPTA7YTxkO2ErKylsPXQuYm9yZGVyc1thXSxoPXRoaXMubWVldFNlZ21lbnRTZWdtZW50KGwucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsbC5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxyLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLHIucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMpLCghbnx8aFsyXT49MCYmaFsyXTwxKSYmaFsxXT49MCYmaFsxXTwxJiZ1LnB1c2goaFswXSk7cmV0dXJuIHM+PTAmJnM8dS5sZW5ndGgmJihjPXVbc10pLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsYyxvKX0sX2JlemllclNwbGl0OmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sbjtyZXR1cm4gZT1bLjUqKHRbMF1bMF0rdFsxXVswXSksLjUqKHRbMF1bMV0rdFsxXVsxXSldLGk9Wy41Kih0WzFdWzBdK3RbMl1bMF0pLC41Kih0WzFdWzFdK3RbMl1bMV0pXSxyPVsuNSoodFsyXVswXSt0WzNdWzBdKSwuNSoodFsyXVsxXSt0WzNdWzFdKV0sbj1bLjUqKChzPVsuNSooZVswXStpWzBdKSwuNSooZVsxXStpWzFdKV0pWzBdKyhvPVsuNSooaVswXStyWzBdKSwuNSooaVsxXStyWzFdKV0pWzBdKSwuNSooc1sxXStvWzFdKV0sW1t0WzBdLGUscyxuXSxbbixvLHIsdFszXV1dfSxfYmV6aWVyQmJveDpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gND09PXQubGVuZ3RoPyhlWzBdPU1hdGgubWluKHRbMF1bMF0sdFsxXVswXSx0WzJdWzBdLHRbM11bMF0pLGVbMV09TWF0aC5tYXgodFswXVsxXSx0WzFdWzFdLHRbMl1bMV0sdFszXVsxXSksZVsyXT1NYXRoLm1heCh0WzBdWzBdLHRbMV1bMF0sdFsyXVswXSx0WzNdWzBdKSxlWzNdPU1hdGgubWluKHRbMF1bMV0sdFsxXVsxXSx0WzJdWzFdLHRbM11bMV0pKTooZVswXT1NYXRoLm1pbih0WzBdWzBdLHRbMV1bMF0pLGVbMV09TWF0aC5tYXgodFswXVsxXSx0WzFdWzFdKSxlWzJdPU1hdGgubWF4KHRbMF1bMF0sdFsxXVswXSksZVszXT1NYXRoLm1pbih0WzBdWzFdLHRbMV1bMV0pKSxlfSxfYmV6aWVyT3ZlcmxhcDpmdW5jdGlvbih0LGUpe3JldHVybiB0WzJdPj1lWzBdJiZ0WzBdPD1lWzJdJiZ0WzFdPj1lWzNdJiZ0WzNdPD1lWzFdfSxfYmV6aWVyTGlzdENvbmNhdDpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxuPW8uZXhpc3RzKHIpLGE9MCxoPWUubGVuZ3RoLGw9dC5sZW5ndGg7Zm9yKGw+MCYmaD4wJiYoMT09PXRbbC0xXVsxXSYmMD09PWVbMF1bMV18fG4mJjE9PT10W2wtMV1bMl0mJjA9PT1lWzBdWzJdKSYmKGE9MSkscz1hO3M8aDtzKyspbiYmKGVbc11bMl0qPS41LGVbc11bMl0rPXIpLGVbc11bMV0qPS41LGVbc11bMV0rPWksdC5wdXNoKGVbc10pfSxfYmV6aWVyTWVldFN1YmRpdmlzaW9uOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhLGgsbCxjLGQsdSxwLGYsbT1bXTtyZXR1cm4gcz10aGlzLl9iZXppZXJCYm94KGUpLHI9dGhpcy5fYmV6aWVyQmJveCh0KSx0aGlzLl9iZXppZXJPdmVybGFwKHMscik/aTw1PyhoPShvPXRoaXMuX2JlemllclNwbGl0KHQpKVswXSxsPW9bMV0sbj0obz10aGlzLl9iZXppZXJTcGxpdChlKSlbMF0sYT1vWzFdLHRoaXMuX2Jlemllckxpc3RDb25jYXQobSx0aGlzLl9iZXppZXJNZWV0U3ViZGl2aXNpb24oaCxuLGkrMSksMCwwKSx0aGlzLl9iZXppZXJMaXN0Q29uY2F0KG0sdGhpcy5fYmV6aWVyTWVldFN1YmRpdmlzaW9uKGgsYSxpKzEpLDAsLjUpLHRoaXMuX2Jlemllckxpc3RDb25jYXQobSx0aGlzLl9iZXppZXJNZWV0U3ViZGl2aXNpb24obCxuLGkrMSksLjUsMCksdGhpcy5fYmV6aWVyTGlzdENvbmNhdChtLHRoaXMuX2Jlemllck1lZXRTdWJkaXZpc2lvbihsLGEsaSsxKSwuNSwuNSksbSk6KHA9WzFdLmNvbmNhdCh0WzBdKSxmPVsxXS5jb25jYXQodFszXSksZD1bMV0uY29uY2F0KGVbMF0pLHU9WzFdLmNvbmNhdChlWzNdKSwoYz10aGlzLm1lZXRTZWdtZW50U2VnbWVudChwLGYsZCx1KSlbMV0+PTAmJmNbMl0+PTAmJmNbMV08PTEmJmNbMl08PTE/W2NdOltdKTpbXX0sX2JlemllckxpbmVNZWV0U3ViZGl2aXNpb246ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbyxuLGEsaCxsLGMsZCx1LHAsZj1bXTtyZXR1cm4gcz10aGlzLl9iZXppZXJCYm94KGUpLG89dGhpcy5fYmV6aWVyQmJveCh0KSxyJiYhdGhpcy5fYmV6aWVyT3ZlcmxhcChvLHMpP1tdOmk8NT8oYT0obj10aGlzLl9iZXppZXJTcGxpdCh0KSlbMF0saD1uWzFdLHRoaXMuX2Jlemllckxpc3RDb25jYXQoZix0aGlzLl9iZXppZXJMaW5lTWVldFN1YmRpdmlzaW9uKGEsZSxpKzEpLDApLHRoaXMuX2Jlemllckxpc3RDb25jYXQoZix0aGlzLl9iZXppZXJMaW5lTWVldFN1YmRpdmlzaW9uKGgsZSxpKzEpLC41KSxmKToodT1bMV0uY29uY2F0KHRbMF0pLHA9WzFdLmNvbmNhdCh0WzNdKSxjPVsxXS5jb25jYXQoZVswXSksZD1bMV0uY29uY2F0KGVbMV0pLChsPXRoaXMubWVldFNlZ21lbnRTZWdtZW50KHUscCxjLGQpKVsxXT49MCYmbFsxXTw9MSYmKCFyfHxsWzJdPj0wJiZsWzJdPD0xKT9bbF06W10pfSxtZWV0QmV6aWVyc2VnbWVudEJlemllcnNlZ21lbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbztmb3IoKHI9ND09PXQubGVuZ3RoJiY0PT09ZS5sZW5ndGg/dGhpcy5fYmV6aWVyTWVldFN1YmRpdmlzaW9uKHQsZSwwKTp0aGlzLl9iZXppZXJMaW5lTWVldFN1YmRpdmlzaW9uKHQsZSwwLGkpKS5zb3J0KChmdW5jdGlvbih0LGUpe3JldHVybiAxZTcqKHRbMV0tZVsxXSkrKHRbMl0tZVsyXSl9KSkscz1bXSxvPTA7bzxyLmxlbmd0aDtvKyspMCE9PW8mJnJbb11bMV09PT1yW28tMV1bMV0mJnJbb11bMl09PT1yW28tMV1bMl18fHMucHVzaChyW29dKTtyZXR1cm4gc30sbWVldEJlemllckN1cnZlUmVkQmx1ZVNlZ21lbnRzOmZ1bmN0aW9uKHQsaSxzKXt2YXIgbyxuLGEsaCxsLGMsZCx1LHAsZixtPTAsZz0wLGI9aS5udW1iZXJQb2ludHMsdj10Lm51bWJlclBvaW50cyx5PVtdO2lmKGI8aS5iZXppZXJEZWdyZWUrMXx8djx0LmJlemllckRlZ3JlZSsxKXJldHVyblswLE5hTixOYU5dO2ZvcihiLT1pLmJlemllckRlZ3JlZSx2LT10LmJlemllckRlZ3JlZSx0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX1NFQ1RPUiYmKG09Myx2LT0zKSxpLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1NFQ1RPUiYmKGc9MyxiLT0zKSxuPW07bjx2O24rPXQuYmV6aWVyRGVncmVlKWZvcihjPVsobz10LnBvaW50cylbbl0udXNyQ29vcmRzLnNsaWNlKDEpLG9bbisxXS51c3JDb29yZHMuc2xpY2UoMSldLDM9PT10LmJlemllckRlZ3JlZSYmKGNbMl09b1tuKzJdLnVzckNvb3Jkcy5zbGljZSgxKSxjWzNdPW9bbiszXS51c3JDb29yZHMuc2xpY2UoMSkpLHU9dGhpcy5fYmV6aWVyQmJveChjKSxhPWc7YTxiO2ErPWkuYmV6aWVyRGVncmVlKWlmKGQ9WyhvPWkucG9pbnRzKVthXS51c3JDb29yZHMuc2xpY2UoMSksb1thKzFdLnVzckNvb3Jkcy5zbGljZSgxKV0sMz09PWkuYmV6aWVyRGVncmVlJiYoZFsyXT1vW2ErMl0udXNyQ29vcmRzLnNsaWNlKDEpLGRbM109b1thKzNdLnVzckNvb3Jkcy5zbGljZSgxKSkscD10aGlzLl9iZXppZXJCYm94KGQpLHRoaXMuX2Jlemllck92ZXJsYXAodSxwKSl7aWYoMD09PShmPXRoaXMubWVldEJlemllcnNlZ21lbnRCZXppZXJzZWdtZW50KGMsZCkpLmxlbmd0aCljb250aW51ZTtmb3IoaD0wO2g8Zi5sZW5ndGg7aCsrKShsPWZbaF0pWzFdPC1yLmVwc3x8bFsxXT4xK3IuZXBzfHxsWzJdPC1yLmVwc3x8bFsyXT4xK3IuZXBzfHx5LnB1c2gobCk7aWYoeS5sZW5ndGg+cylyZXR1cm4geVtzXVswXX1yZXR1cm4geS5sZW5ndGg+cz95W3NdWzBdOlswLE5hTixOYU5dfSxiZXppZXJTZWdtZW50RXZhbDpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvPTEtdDtyZXR1cm4gcj0wLHM9MCxyKz0oaT1vKm8qbykqZVswXVswXSxzKz1pKmVbMF1bMV0scis9KGk9Myp0Km8qbykqZVsxXVswXSxzKz1pKmVbMV1bMV0scis9KGk9Myp0KnQqbykqZVsyXVswXSxzKz1pKmVbMl1bMV0sWzEscis9KGk9dCp0KnQpKmVbM11bMF0scys9aSplWzNdWzFdXX0sYmV6aWVyQXJjOmZ1bmN0aW9uKHQsZSxpLHMsbyl7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFPS41Kk1hdGguUEkseD1lWzFdLFM9ZVsyXSxPPWVbMF0sdz1bXSxUPVtdO2ZvcihjPXRoaXMuZGlzdGFuY2UoZSx0KSx4Lz1PLFMvPU8sZD10aGlzLnJhZCh0LnNsaWNlKDEpLGUuc2xpY2UoMSksaS5zbGljZSgxKSksLTE9PT1vJiYoZD0yKk1hdGguUEktZCksKG49dClbMV0vPW5bMF0sblsyXS89blswXSxuWzBdLz1uWzBdLGw9bi5zbGljZSgwKSxzPyh3PVt4LHgrLjMzMyooblsxXS14KSx4Ky42NjYqKG5bMV0teCksblsxXV0sVD1bUyxTKy4zMzMqKG5bMl0tUyksUysuNjY2KihuWzJdLVMpLG5bMl1dKToodz1bblsxXV0sVD1bblsyXV0pO2Q+ci5lcHM7KWQ+RT8odT1FLGQtPUUpOih1PWQsZD0wKSxQPVtbMSwwLDBdLFt4KigxLShwPU1hdGguY29zKG8qdSkpKStTKihmPU1hdGguc2luKG8qdSkpLHAsLWZdLFtTKigxLXApLXgqZixmLHBdXSxsPVsoQz1yLm1hdFZlY011bHQoUCxuKSlbMF0vQ1swXSxDWzFdL0NbMF0sQ1syXS9DWzBdXSxtPW5bMV0teCxnPW5bMl0tUyxiPWxbMV0teCx2PWxbMl0tUyxfPU1hdGguc3FydCgobStiKSoobStiKSsoZyt2KSooZyt2KSkseT1NYXRoLmFicyh2LWcpPnIuZXBzPyhtK2IpKihjL18tLjUpLyh2LWcpKjgvMzooZyt2KSooYy9fLS41KS8obS1iKSo4LzMsYT1bMSxuWzFdLXkqZyxuWzJdK3kqbV0saD1bMSxsWzFdK3kqdixsWzJdLXkqYl0sdz13LmNvbmNhdChbYVsxXSxoWzFdLGxbMV1dKSxUPVQuY29uY2F0KFthWzJdLGhbMl0sbFsyXV0pLG49bC5zbGljZSgwKTtyZXR1cm4gcyYmKHc9dy5jb25jYXQoW2xbMV0rLjMzMyooeC1sWzFdKSxsWzFdKy42NjYqKHgtbFsxXSkseF0pLFQ9VC5jb25jYXQoW2xbMl0rLjMzMyooUy1sWzJdKSxsWzJdKy42NjYqKFMtbFsyXSksU10pKSxbdyxUXX0scHJvamVjdFBvaW50VG9DaXJjbGU6ZnVuY3Rpb24odCxzLG4pe3ZhciBhLGgsbCxjLGQsdT1zLmNlbnRlci5jb29yZHMudXNyQ29vcmRzO3JldHVybiBvLmV4aXN0cyhuKXx8KG49dC5ib2FyZCksby5pc1BvaW50KHQpPyhhPXQuY29vcmRzLmRpc3RhbmNlKGUuQ09PUkRTX0JZX1VTRVIscy5jZW50ZXIuY29vcmRzKSxoPXQuY29vcmRzLnVzckNvb3Jkcyk6KGE9dC5kaXN0YW5jZShlLkNPT1JEU19CWV9VU0VSLHMuY2VudGVyLmNvb3JkcyksaD10LnVzckNvb3JkcyksTWF0aC5hYnMoYSk8ci5lcHMmJihhPXIuZXBzKSxkPXMuUmFkaXVzKCkvYSxsPXVbMV0rZCooaFsxXS11WzFdKSxjPXVbMl0rZCooaFsyXS11WzJdKSxuZXcgaShlLkNPT1JEU19CWV9VU0VSLFtsLGNdLG4pfSxwcm9qZWN0UG9pbnRUb0xpbmU6ZnVuY3Rpb24odCxzLG4pe3ZhciBhLGg9WzAscy5zdGRmb3JtWzFdLHMuc3RkZm9ybVsyXV07cmV0dXJuIG8uZXhpc3RzKG4pfHwobj1vLmV4aXN0cyh0LmNvb3Jkcyk/dC5ib2FyZDpzLmJvYXJkKSxhPW8uZXhpc3RzKHQuY29vcmRzKT90LmNvb3Jkcy51c3JDb29yZHM6dC51c3JDb29yZHMsaD1yLmNyb3NzUHJvZHVjdChoLGEpLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsci5jcm9zc1Byb2R1Y3QoaCxzLnN0ZGZvcm0pLG4pfSxwcm9qZWN0Q29vcmRzVG9TZWdtZW50OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxvPVtpWzFdLWVbMV0saVsyXS1lWzJdXSxuPVt0WzFdLWVbMV0sdFsyXS1lWzJdXTtyZXR1cm4gTWF0aC5hYnMob1swXSk8ci5lcHMmJk1hdGguYWJzKG9bMV0pPHIuZXBzP1tlLDBdOihzPXIuaW5uZXJQcm9kdWN0KG4sbyksW1sxLChzLz1yLmlubmVyUHJvZHVjdChvLG8pKSpvWzBdK2VbMV0scypvWzFdK2VbMl1dLHNdKX0scHJvamVjdENvb3Jkc1RvQmV6aWVyc2VnbWVudDpmdW5jdGlvbihlLGkscil7dmFyIHM7cmV0dXJuIHM9dC5NYXRoLk51bWVyaWNzLmZtaW5icigoZnVuY3Rpb24odCl7dmFyIHM9WzEsaS5YKHIrdCksaS5ZKHIrdCldO3JldHVybiBzWzFdLT1lWzFdLHNbMl0tPWVbMl0sc1sxXSpzWzFdK3NbMl0qc1syXX0pLFswLDFdKSxbWzEsaS5YKHMrciksaS5ZKHMrcildLHNdfSxwcm9qZWN0UG9pbnRUb0N1cnZlOmZ1bmN0aW9uKHQsZSxpKXtvLmV4aXN0cyhpKXx8KGk9dC5ib2FyZCk7dmFyIHI9dC5YKCkscz10LlkoKSxuPXQucG9zaXRpb258fDA7cmV0dXJuIHRoaXMucHJvamVjdENvb3Jkc1RvQ3VydmUocixzLG4sZSxpKX0scHJvamVjdENvb3Jkc1RvQ3VydmU6ZnVuY3Rpb24odCxyLG4sYSxoKXt2YXIgbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXyxQLEUseCxTLE8sdyxULE49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2lmKG8uZXhpc3RzKGgpfHwoaD1hLmJvYXJkKSxcInBsb3RcIj09PW8uZXZhbHVhdGUoYS52aXNQcm9wLmN1cnZldHlwZSkpe2lmKG49MCxwPU4sbD0wPT09YS5udW1iZXJQb2ludHM/WzAsMSwxXTpbYS5aKDApLGEuWCgwKSxhLlkoMCldLGEubnVtYmVyUG9pbnRzPjEpZm9yKGc9WzEsdCxyXSwzPT09YS5iZXppZXJEZWdyZWU/dT0wOnk9W2EuWigwKSxhLlgoMCksYS5ZKDApXSxkPTA7ZDxhLm51bWJlclBvaW50cy0xO2QrKykzPT09YS5iZXppZXJEZWdyZWU/Xz10aGlzLnByb2plY3RDb29yZHNUb0JlemllcnNlZ21lbnQoZyxhLHUpOihDPVthLlooZCsxKSxhLlgoZCsxKSxhLlkoZCsxKV0sXz10aGlzLnByb2plY3RDb29yZHNUb1NlZ21lbnQoZyx5LEMpKSxtPV9bMV0sYj1fWzBdLDA8PW0mJm08PTE/KGY9dGhpcy5kaXN0YW5jZShiLGcpLHY9ZCttKTptPDA/KGI9eSxmPXRoaXMuZGlzdGFuY2UoeSxnKSx2PWQpOm0+MSYmZD09PWEubnVtYmVyUG9pbnRzLTImJihiPUMsZj10aGlzLmRpc3RhbmNlKGIsZyksdj1hLm51bWJlclBvaW50cy0xKSxmPHAmJihwPWYsbj12LGw9YiksMz09PWEuYmV6aWVyRGVncmVlPyh1KyssZCs9Mik6eT1DO2M9bmV3IGkoZS5DT09SRFNfQllfVVNFUixsLGgpfWVsc2V7Zm9yKFA9ZnVuY3Rpb24oZSl7dmFyIGkscztyZXR1cm4gZTxhLm1pblgoKXx8ZT5hLm1heFgoKT8xLzA6KGk9dC1hLlgoZSkpKmkrKHM9ci1hLlkoZSkpKnN9LFM9UChuKSw1MCx3PWEubWluWCgpLE89KChUPWEubWF4WCgpKS13KS81MCxFPXcsZD0wO2Q8NTA7ZCsrKSgoeD1QKEUpKTxTfHxTPT09MS8wKSYmKG49RSxTPXgpLEUrPU87bj0obj0obj1zLmZtaW5icihQLFtNYXRoLm1heChuLU8sdyksTWF0aC5taW4obitPLFQpXSkpPHc/dzpuKT5UP1Q6bixjPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW2EuWChuKSxhLlkobildLGgpfXJldHVyblthLnVwZGF0ZVRyYW5zZm9ybShjKSxuXX0scHJvamVjdENvb3Jkc1RvUG9seWdvbjpmdW5jdGlvbihlLGkpe3ZhciByLHMsbyxuLGEsaD1pLnZlcnRpY2VzLmxlbmd0aCxsPTEvMDtmb3Iocj0wO3I8aC0xO3IrKykwPD0obz10Lk1hdGguR2VvbWV0cnkucHJvamVjdENvb3Jkc1RvU2VnbWVudChlLGkudmVydGljZXNbcl0uY29vcmRzLnVzckNvb3JkcyxpLnZlcnRpY2VzW3IrMV0uY29vcmRzLnVzckNvb3JkcykpWzFdJiZvWzFdPD0xPyhzPXQuTWF0aC5HZW9tZXRyeS5kaXN0YW5jZShvWzBdLGUsMyksbj1vWzBdKTpvWzFdPDA/KHM9dC5NYXRoLkdlb21ldHJ5LmRpc3RhbmNlKGkudmVydGljZXNbcl0uY29vcmRzLnVzckNvb3JkcyxlLDMpLG49aS52ZXJ0aWNlc1tyXS5jb29yZHMudXNyQ29vcmRzKToocz10Lk1hdGguR2VvbWV0cnkuZGlzdGFuY2UoaS52ZXJ0aWNlc1tyKzFdLmNvb3Jkcy51c3JDb29yZHMsZSwzKSxuPWkudmVydGljZXNbcisxXS5jb29yZHMudXNyQ29vcmRzKSxzPGwmJihhPW4uc2xpY2UoMCksbD1zKTtyZXR1cm4gYX0scHJvamVjdFBvaW50VG9UdXJ0bGU6ZnVuY3Rpb24odCxyLHMpe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtLGc9MCxiPTAsdj1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkseT1yLm9iamVjdHMubGVuZ3RoO2ZvcihvLmV4aXN0cyhzKXx8KHM9dC5ib2FyZCksYz0wO2M8eTtjKyspKHU9ci5vYmplY3RzW2NdKS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmKG49KGY9dGhpcy5wcm9qZWN0UG9pbnRUb0N1cnZlKHQsdSkpWzBdLG09ZlsxXSwoZD10aGlzLmRpc3RhbmNlKG4udXNyQ29vcmRzLHQuY29vcmRzLnVzckNvb3JkcykpPHYmJihoPW4udXNyQ29vcmRzWzFdLGw9bi51c3JDb29yZHNbMl0sYT1tLHY9ZCxwPXUsYj1nKSxnKz11Lm51bWJlclBvaW50cyk7cmV0dXJuIG49bmV3IGkoZS5DT09SRFNfQllfVVNFUixbaCxsXSxzKSxbcC51cGRhdGVUcmFuc2Zvcm0obiksYStiXX0scHJvamVjdFBvaW50VG9Qb2ludDpmdW5jdGlvbih0LGUpe3JldHVybiBlLmNvb3Jkc30scHJvamVjdFBvaW50VG9Cb2FyZDpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbyxuPWV8fHQuYm9hcmQsYT1bWzEsMSwwLDAsMywwLDFdLFstMSwyLDEsMCwxLDIsMV0sWy0xLDEsMiwyLDEsMiwzXSxbMSwyLDMsMCwzLDIsM11dLGg9dC5jb29yZHN8fHQsbD1uLmdldEJvdW5kaW5nQm94KCk7Zm9yKGk9MDtpPDQ7aSsrKShvPWFbaV0pWzBdKmgudXNyQ29vcmRzW29bMV1dPG9bMF0qbFtvWzJdXSYmKChzPXIuY3Jvc3NQcm9kdWN0KFsxLGxbb1szXV0sbFtvWzRdXV0sWzEsbFtvWzVdXSxsW29bNl1dXSkpWzNdPTAscz1yLm5vcm1hbGl6ZShzKSxoPXRoaXMucHJvamVjdFBvaW50VG9MaW5lKHtjb29yZHM6aH0se3N0ZGZvcm06c30sbikpO3JldHVybiBofSxkaXN0UG9pbnRMaW5lOmZ1bmN0aW9uKHQsZSl7dmFyIGkscz1lWzFdLG89ZVsyXSxuPWVbMF07cmV0dXJuIE1hdGguYWJzKHMpK01hdGguYWJzKG8pPHIuZXBzP051bWJlci5QT1NJVElWRV9JTkZJTklUWTooaT1zKnRbMV0rbyp0WzJdK24scyo9cyxvKj1vLE1hdGguYWJzKGkpL01hdGguc3FydChzK28pKX0scmV1bGVhdXhQb2x5Z29uOmZ1bmN0aW9uKHQsZSl7dmFyIGkscz0yKk1hdGguUEksbz1zL2Usbj0oZS0xKS8yLGE9MCxoPWZ1bmN0aW9uKGgsbCl7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIHU9KGMlcytzKSVzLHA9TWF0aC5mbG9vcih1L28pJWU7cmV0dXJuIGR8fChhPXRbMF0uRGlzdCh0W25dKSxpPXIuR2VvbWV0cnkucmFkKFt0WzBdLlgoKSsxLHRbMF0uWSgpXSx0WzBdLHRbbiVlXSkpLGlzTmFOKHApP3A6KHU9LjUqdStwKm8qLjUraSx0W3BdW2hdKCkrYSpNYXRoW2xdKHUpKX19O3JldHVybltoKFwiWFwiLFwiY29zXCIpLGgoXCJZXCIsXCJzaW5cIiksMCxzXX0sbWVldDNQbGFuZXM6ZnVuY3Rpb24odCxlLGkscyxvLG4pe3ZhciBhLGgsbCxjLGQsdT1bMCwwLDBdO2ZvcihhPXIuY3Jvc3NQcm9kdWN0KG8sdCksaD1yLmNyb3NzUHJvZHVjdCh0LGkpLGw9ci5jcm9zc1Byb2R1Y3QoaSxvKSxjPXIuaW5uZXJQcm9kdWN0KHQsbCwzKSxkPTA7ZDwzO2QrKyl1W2RdPShlKmxbZF0rcyphW2RdK24qaFtkXSkvYztyZXR1cm4gdX0sbWVldFBsYW5lUGxhbmU6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG4sYSxoLGw9WzAsMCwwXSxjPVswLDAsMF07Zm9yKG49MDtuPDM7bisrKWxbbl09by5ldmFsdWF0ZSh0W25dKSxjW25dPW8uZXZhbHVhdGUoZVtuXSk7Zm9yKGE9ci5jcm9zc1Byb2R1Y3QobCxjKSxuPTA7bjwzO24rKylsW25dPW8uZXZhbHVhdGUoaVtuXSksY1tuXT1vLmV2YWx1YXRlKHNbbl0pO3JldHVybiBoPXIuY3Jvc3NQcm9kdWN0KGwsYyksci5jcm9zc1Byb2R1Y3QoYSxoKX0scHJvamVjdDNEVG8zRFBsYW5lOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxvO3JldHVybiBpPWl8fFswLDAsMF0scz1yLm5vcm0oZSksbz0oci5pbm5lclByb2R1Y3QodCxlLDMpLXIuaW5uZXJQcm9kdWN0KGksZSwzKSkvcyxyLmF4cHkoLW8sZSx0KX0sZ2V0UGxhbmVCb3VuZHM6ZnVuY3Rpb24odCxlLGkscixvKXt2YXIgbixhLGgsbCxjO3JldHVybiB0WzJdK2VbMF0hPT0wPyhoPVtbdFswXSxlWzBdXSxbdFsxXSxlWzFdXV0sbD1bci1pWzBdLHItaVsxXV0sbj0oYz1zLkdhdXNzKGgsbCkpWzBdLGE9Y1sxXSxsPVtvLWlbMF0sby1pWzFdXSxbbiwoYz1zLkdhdXNzKGgsbCkpWzBdLGEsY1sxXV0pOm51bGx9fSksci5HZW9tZXRyeX0pKSxkZWZpbmUoXCJtYXRoL3Bsb3RcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2V4dHJhcG9sYXRlXCIsXCJtYXRoL251bWVyaWNzXCIsXCJtYXRoL3N0YXRpc3RpY3NcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvaWFcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoLGwpe1widXNlIHN0cmljdFwiO3JldHVybiByLlBsb3Q9e2NoZWNrUmVhbDpmdW5jdGlvbih0KXt2YXIgZSxpLHM9ITEsbz10Lmxlbmd0aDtmb3IoZT0wO2U8bztlKyspaWYoaT10W2VdLnVzckNvb3JkcywhaXNOYU4oaVsxXSkmJiFpc05hTihpWzJdKSYmTWF0aC5hYnMoaVswXSk+ci5lcHMpe3M9ITA7YnJlYWt9cmV0dXJuIHN9LHVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZU5haXZlOmZ1bmN0aW9uKHQsaSxyLHMpe3ZhciBvLG4sYT0hMSxoPShyLWkpL3M7Zm9yKG89MDtvPHM7bysrKW49aStvKmgsdC5wb2ludHNbb10uc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKG4sYSksdC5ZKG4sYSldLCExKSx0LnBvaW50c1tvXS5fdD1uLGE9ITA7cmV0dXJuIHR9LGlzU2VnbWVudE91dHNpZGU6ZnVuY3Rpb24odCxlLGkscixzKXtyZXR1cm4gZTwwJiZyPDB8fGU+cy5jYW52YXNIZWlnaHQmJnI+cy5jYW52YXNIZWlnaHR8fHQ8MCYmaTwwfHx0PnMuY2FudmFzV2lkdGgmJmk+cy5jYW52YXNXaWR0aH0saXNEaXN0T0s6ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIE1hdGguYWJzKHQpPGkmJk1hdGguYWJzKGUpPHImJiFpc05hTih0K2UpfSxpc1NlZ21lbnREZWZpbmVkOmZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiEoaXNOYU4odCtlKSYmaXNOYU4oaStyKSl9LHVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZU9sZDpmdW5jdGlvbihzLG8sbil7dmFyIGEsaCxsLGMsZCx1LHAsZixtLGcsYix2PSExLHk9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSxzLmJvYXJkLCExKSxDPVtdLF89W10sUD1bXSxFPVtdLHg9ITEsUz0wLE89ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG8sbj1pWzFdLXRbMV0sYT1pWzJdLXRbMl0saD1lWzBdLXRbMV0sbD1lWzFdLXRbMl0sYz1oKmgrbCpsO3JldHVybiBjPj1yLmVwcyYmKHM9KG4qaCthKmwpL2MpPjAmJihzPD0xPyhuLT1zKmgsYS09cypsKToobi09aCxhLT1sKSksbz1uKm4rYSphLE1hdGguc3FydChvKX07Zm9yKHQuZGVwcmVjYXRlZChcIkN1cnZlLnVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZU9sZCgpXCIpLHMuYm9hcmQudXBkYXRlUXVhbGl0eT09PXMuYm9hcmQuQk9BUkRfUVVBTElUWV9MT1c/KG09MTUsZz0xMCxiPTEwKToobT0yMSxnPS43LGI9LjcpLEVbMF09bi1vLGE9MTthPG07YSsrKUVbYV09LjUqRVthLTFdO2E9MSxDWzBdPTEsX1swXT0wLGg9byx5LnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3MuWChoLHYpLHMuWShoLHYpXSwhMSksdj0hMCxkPXkuc2NyQ29vcmRzWzFdLHU9eS5zY3JDb29yZHNbMl0saD1uLHkuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbcy5YKGgsdikscy5ZKGgsdildLCExKSxsPXkuc2NyQ29vcmRzWzFdLGM9eS5zY3JDb29yZHNbMl0sUFswXT1bbCxjXSxwPTEsZj0wLHMucG9pbnRzPVtdLHMucG9pbnRzW1MrK109bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFtkLHVdLHMuYm9hcmQsITEpO2Rve2Zvcih4PXRoaXMuaXNEaXN0T0sobC1kLGMtdSxnLGIpfHx0aGlzLmlzU2VnbWVudE91dHNpZGUoZCx1LGwsYyxzLmJvYXJkKTtmPG0mJigheHx8Zjw2KSYmKGY8PTd8fHRoaXMuaXNTZWdtZW50RGVmaW5lZChkLHUsbCxjKSk7KUNbcF09YSxfW3BdPWYsUFtwXT1bbCxjXSxwKz0xLGg9bysoYT0yKmEtMSkqRVsrK2ZdLHkuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbcy5YKGgsdikscy5ZKGgsdildLCExLCEwKSxsPXkuc2NyQ29vcmRzWzFdLGM9eS5zY3JDb29yZHNbMl0seD10aGlzLmlzRGlzdE9LKGwtZCxjLXUsZyxiKXx8dGhpcy5pc1NlZ21lbnRPdXRzaWRlKGQsdSxsLGMscy5ib2FyZCk7Uz4xJiZPKHMucG9pbnRzW1MtMl0uc2NyQ29vcmRzLFtsLGNdLHMucG9pbnRzW1MtMV0uc2NyQ29vcmRzKTwuMDE1JiYoUy09MSkscy5wb2ludHNbU109bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFtsLGNdLHMuYm9hcmQsITEpLHMucG9pbnRzW1NdLl90PWgsUys9MSxkPWwsdT1jLGgsbD1QW3AtPTFdWzBdLGM9UFtwXVsxXSxmPV9bcF0rMSxhPTIqQ1twXX13aGlsZShwPjAmJlM8NWU1KTtyZXR1cm4gcy5udW1iZXJQb2ludHM9cy5wb2ludHMubGVuZ3RoLHN9LF9pbnNlcnRQb2ludF92MjpmdW5jdGlvbih0LGUsaSl7dmFyIHI9IWlzTmFOKHRoaXMuX2xhc3RDcmRzWzFdK3RoaXMuX2xhc3RDcmRzWzJdKSxzPSFpc05hTihlLnNjckNvb3Jkc1sxXStlLnNjckNvb3Jkc1syXSksbz10LmJvYXJkLmNhbnZhc1dpZHRoLG49dC5ib2FyZC5jYW52YXNIZWlnaHQsYT01MDA7KCEocz1zJiZlLnNjckNvb3Jkc1sxXT4tNTAwJiZlLnNjckNvb3Jkc1syXT4tNTAwJiZlLnNjckNvb3Jkc1sxXTxvK2EmJmUuc2NyQ29vcmRzWzJdPG4rYSkmJnJ8fHMmJighcnx8TWF0aC5hYnMoZS5zY3JDb29yZHNbMV0tdGhpcy5fbGFzdENyZHNbMV0pPi43fHxNYXRoLmFicyhlLnNjckNvb3Jkc1syXS10aGlzLl9sYXN0Q3Jkc1syXSk+LjcpKSYmKGUuX3Q9aSx0LnBvaW50cy5wdXNoKGUpLHRoaXMuX2xhc3RDcmRzPWUuY29weShcInNjckNvb3Jkc1wiKSl9LG5laWdoYm9yaG9vZF9pc05hTl92MjpmdW5jdGlvbih0LHMpe3ZhciBvLG4sYT1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHQuYm9hcmQsITEpO3JldHVybiBvPXMrci5lcHMsYS5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0LlgobywhMCksdC5ZKG8sITApXSwhMSksbj1hLnVzckNvb3JkcywhIShpc05hTihuWzFdK25bMl0pfHwobz1zLXIuZXBzLGEuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKG8sITApLHQuWShvLCEwKV0sITEpLG49YS51c3JDb29yZHMsaXNOYU4oblsxXStuWzJdKSkpfSxfYm9yZGVyQ2FzZTpmdW5jdGlvbih0LHIscyxvLG4sYSxoLGwpe3ZhciBjLGQsdSxwLGYsbSxnLGI9bnVsbCx2PSExO2lmKGw8PTEpe2lmKGQ9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSx0LmJvYXJkLCExKSxpc05hTihyWzFdK3JbMl0pJiYhaXNOYU4ob1sxXStvWzJdKSYmIXRoaXMubmVpZ2hib3Job29kX2lzTmFOX3YyKHQsbikpcmV0dXJuITE7aWYoaXNOYU4oc1sxXStzWzJdKSYmIWlzTmFOKG9bMV0rb1syXSkmJiF0aGlzLm5laWdoYm9yaG9vZF9pc05hTl92Mih0LGEpKXJldHVybiExO2lmKGlzTmFOKG9bMV0rb1syXSkmJighaXNOYU4oclsxXStyWzJdKXx8IWlzTmFOKHNbMV0rc1syXSkpJiYhdGhpcy5uZWlnaGJvcmhvb2RfaXNOYU5fdjIodCxoKSlyZXR1cm4hMTtwPTA7ZG97aWYoaXNOYU4oclsxXStyWzJdKSYmIWlzTmFOKG9bMV0rb1syXSkpZj1uLG09aCxnPWE7ZWxzZSBpZihpc05hTihzWzFdK3NbMl0pJiYhaXNOYU4ob1sxXStvWzJdKSlmPWEsbT1oLGc9bjtlbHNlIGlmKGlzTmFOKG9bMV0rb1syXSkmJiFpc05hTihzWzFdK3NbMl0pKWY9aCxtPWEsZz1hKyhhLWgpO2Vsc2V7aWYoIWlzTmFOKG9bMV0rb1syXSl8fGlzTmFOKHJbMV0rclsyXSkpcmV0dXJuITE7Zj1oLG09bixnPW4tKGgtbil9Yz0uNSooZittKSxkLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3QuWChjLCEwKSx0LlkoYywhMCldLCExKSx1PWQudXNyQ29vcmRzLCh2PWlzTmFOKHVbMV0rdVsyXSkpP2Y9YzooZz1tLG09YyksKytwfXdoaWxlKHYmJnA8MzApO2lmKHA8MzAmJihiPXUuc2xpY2UoKSxvPXUuc2xpY2UoKSxtPWMpLCh0LlgobSwhMCktdC5YKGcsITApKS8obS1nKSwodC5ZKG0sITApLXQuWShnLCEwKSkvKG0tZyksbnVsbCE9PWIpcmV0dXJuIHRoaXMuX2luc2VydFBvaW50X3YyKHQsbmV3IGkoZS5DT09SRFNfQllfVVNFUixiLHQuYm9hcmQsITEpKSwhMH1yZXR1cm4hMX0sX3Bsb3RSZWN1cnNpdmVfdjI6ZnVuY3Rpb24odCxyLHMsbyxuLGEsaCl7dmFyIGwsYyxkLHUscCxmPTAsbT1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHQuYm9hcmQsITEpO2lmKCEodC5udW1iZXJQb2ludHM+NjU1MzYpKXJldHVybiBhPHRoaXMubmFuTGV2ZWwmJnRoaXMuX2lzVW5kZWZpbmVkKHQscixzLG8sbil8fGE8dGhpcy5uYW5MZXZlbCYmdGhpcy5faXNPdXRzaWRlKHIscyxvLG4sdC5ib2FyZCk/dGhpczoobD0uNSoocytuKSxtLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3QuWChsLCEwKSx0LlkobCwhMCldLCExKSxjPW0uc2NyQ29vcmRzLHRoaXMuX2JvcmRlckNhc2UodCxyLG8sYyxzLG4sbCxhKXx8KGQ9dGhpcy5fdHJpYW5nbGVEaXN0cyhyLG8sYyksdT1hPHRoaXMuc21vb3RoTGV2ZWwmJmRbM108aCxwPWE8dGhpcy5qdW1wTGV2ZWwmJihkWzJdPi45OSpkWzBdfHxkWzFdPi45OSpkWzBdfHxkWzBdPT09MS8wfHxkWzFdPT09MS8wfHxkWzJdPT09MS8wKSxhPHRoaXMuc21vb3RoTGV2ZWwrMiYmZFswXTwuNSooZFsxXStkWzJdKSYmKGY9MCx1PSExKSwtLWEscD90aGlzLl9pbnNlcnRQb2ludF92Mih0LG5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbTmFOLE5hTl0sdC5ib2FyZCwhMSksbCk6YTw9Znx8dT90aGlzLl9pbnNlcnRQb2ludF92Mih0LG0sbCk6KHRoaXMuX3Bsb3RSZWN1cnNpdmVfdjIodCxyLHMsYyxsLGEsaCksaXNOYU4obS5zY3JDb29yZHNbMV0rbS5zY3JDb29yZHNbMl0pfHx0aGlzLl9pbnNlcnRQb2ludF92Mih0LG0sbCksdGhpcy5fcGxvdFJlY3Vyc2l2ZV92Mih0LGMsbCxvLG4sYSxoKSkpLHRoaXMpfSx1cGRhdGVQYXJhbWV0cmljQ3VydmVfdjI6ZnVuY3Rpb24odCxyLHMpe3ZhciBvLG4sYSxoLGMsZCx1LHAsZixtPSExLGc9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSx0LmJvYXJkLCExKSxiPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdC5ib2FyZCwhMSk7cmV0dXJuIHQuYm9hcmQudXBkYXRlUXVhbGl0eT09PXQuYm9hcmQuQk9BUkRfUVVBTElUWV9MT1c/KGM9bC5ldmFsdWF0ZSh0LnZpc1Byb3AucmVjdXJzaW9uZGVwdGhsb3cpfHwxMyxkPTIsdGhpcy5zbW9vdGhMZXZlbD1jLTYsdGhpcy5qdW1wTGV2ZWw9Myk6KGM9bC5ldmFsdWF0ZSh0LnZpc1Byb3AucmVjdXJzaW9uZGVwdGhoaWdoKXx8MTcsZD0yLHRoaXMuc21vb3RoTGV2ZWw9Yy05LHRoaXMuanVtcExldmVsPTIpLHRoaXMubmFuTGV2ZWw9Yy00LHQucG9pbnRzPVtdLFwieFwiPT09dGhpcy54dGVybT8odT0uMyooKHA9dC5ib2FyZC5nZXRCb3VuZGluZ0JveCgpKVsyXS1wWzBdKSwuMyoocFsxXS1wWzNdKSxvPU1hdGgubWF4KHIscFswXS11KSxuPU1hdGgubWluKHMscFsyXSt1KSk6KG89cixuPXMpLGcuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKG8sbSksdC5ZKG8sbSldLCExKSxtPSEwLGIuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKG4sbSksdC5ZKG4sbSldLCExKSxmPXRoaXMuX2ZpbmRTdGFydFBvaW50KHQsZy5zY3JDb29yZHMsbyxiLnNjckNvb3JkcyxuKSxnLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1NDUkVFTixmWzBdLCExKSxvPWZbMV0sZj10aGlzLl9maW5kU3RhcnRQb2ludCh0LGIuc2NyQ29vcmRzLG4sZy5zY3JDb29yZHMsbyksYi5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9TQ1JFRU4sZlswXSwhMSksbj1mWzFdLHRoaXMuX3Zpc2libGVBcmVhPVtvLG5dLGE9Zy5jb3B5KFwic2NyQ29vcmRzXCIpLGg9Yi5jb3B5KFwic2NyQ29vcmRzXCIpLGcuX3Q9byx0LnBvaW50cy5wdXNoKGcpLHRoaXMuX2xhc3RDcmRzPWcuY29weShcInNjckNvb3Jkc1wiKSx0aGlzLl9wbG90UmVjdXJzaXZlX3YyKHQsYSxvLGgsbixjLGQpLGIuX3Q9bix0LnBvaW50cy5wdXNoKGIpLHQubnVtYmVyUG9pbnRzPXQucG9pbnRzLmxlbmd0aCx0fSxfaW5zZXJ0TGltZXNQb2ludDpmdW5jdGlvbih0LHMsbyxuLGEpe3ZhciBoLGwsYztNYXRoLmFicyh0aGlzLl9sYXN0VXNyQ3Jkc1sxXSk9PT0xLzAmJk1hdGguYWJzKGEubGVmdF94KT09PTEvMHx8TWF0aC5hYnModGhpcy5fbGFzdFVzckNyZHNbMl0pPT09MS8wJiZNYXRoLmFicyhhLmxlZnRfeSk9PT0xLzB8fCgoaD1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFthLmxlZnRfeCxhLmxlZnRfeV0sdC5ib2FyZCkpLl90PW8sdC5wb2ludHMucHVzaChoKSxpc05hTihhLmxlZnRfeCl8fGlzTmFOKGEubGVmdF95KXx8aXNOYU4oYS5yaWdodF94KXx8aXNOYU4oYS5yaWdodF95KXx8IShNYXRoLmFicyhhLmxlZnRfeC1hLnJpZ2h0X3gpPnIuZXBzfHxNYXRoLmFicyhhLmxlZnRfeS1hLnJpZ2h0X3kpPnIuZXBzKXx8KChsPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixzLHQuYm9hcmQpKS5fdD1vLHQucG9pbnRzLnB1c2gobCkpLChjPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW2EucmlnaHRfeCxhLnJpZ2h0X3ldLHQuYm9hcmQpKS5fdD1vLHQucG9pbnRzLnB1c2goYyksdGhpcy5fbGFzdFNjckNyZHM9Yy5jb3B5KFwic2NyQ29vcmRzXCIpLHRoaXMuX2xhc3RVc3JDcmRzPWMuY29weShcInVzckNvb3Jkc1wiKSl9LF9pbnNlcnRQb2ludDpmdW5jdGlvbih0LHIscyxvLG4pe3ZhciBhLGg9IWlzTmFOKHRoaXMuX2xhc3RTY3JDcmRzWzFdK3RoaXMuX2xhc3RTY3JDcmRzWzJdKSxjPSFpc05hTihyWzFdK3JbMl0pLGQ9dC5ib2FyZC5jYW52YXNXaWR0aCx1PXQuYm9hcmQuY2FudmFzSGVpZ2h0LHA9NTAwO2wuZXhpc3RzKG4pP3RoaXMuX2luc2VydExpbWVzUG9pbnQodCxyLHMsbyxuKTooYz1jJiZyWzFdPi01MDAmJnJbMl0+LTUwMCYmclsxXTxkK3AmJnJbMl08dStwLChofHxjKSYmKGMmJmgmJk1hdGguYWJzKHJbMV0tdGhpcy5fbGFzdFNjckNyZHNbMV0pPC44JiZNYXRoLmFicyhyWzJdLXRoaXMuX2xhc3RTY3JDcmRzWzJdKTwuOHx8TWF0aC5hYnMoclsxXSk9PT0xLzAmJk1hdGguYWJzKHRoaXMuX2xhc3RVc3JDcmRzWzFdKT09PTEvMHx8TWF0aC5hYnMoclsyXSk9PT0xLzAmJk1hdGguYWJzKHRoaXMuX2xhc3RVc3JDcmRzWzJdKT09PTEvMHx8KChhPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixyLHQuYm9hcmQpKS5fdD1zLHQucG9pbnRzLnB1c2goYSksdGhpcy5fbGFzdFNjckNyZHM9YS5jb3B5KFwic2NyQ29vcmRzXCIpLHRoaXMuX2xhc3RVc3JDcmRzPWEuY29weShcInVzckNvb3Jkc1wiKSkpKX0sX3RyaWFuZ2xlRGlzdHM6ZnVuY3Rpb24odCxlLGkpe3ZhciByO3JldHVybiByPVt0WzBdKmVbMF0sLjUqKHRbMV0rZVsxXSksLjUqKHRbMl0rZVsyXSldLFthLmRpc3RhbmNlKHQsZSwzKSxhLmRpc3RhbmNlKHQsaSwzKSxhLmRpc3RhbmNlKGksZSwzKSxhLmRpc3RhbmNlKGksciwzKV19LF9pc1VuZGVmaW5lZDpmdW5jdGlvbih0LHIscyxvLG4pe3ZhciBhLGgsbDtpZighaXNOYU4oclsxXStyWzJdKXx8IWlzTmFOKG9bMV0rb1syXSkpcmV0dXJuITE7Zm9yKGw9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbMCwwXSx0LmJvYXJkLCExKSxoPTA7aDwyMDsrK2gpaWYoYT1zK01hdGgucmFuZG9tKCkqKG4tcyksbC5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFt0LlgoYSwhMCksdC5ZKGEsITApXSwhMSksIWlzTmFOKGwuc2NyQ29vcmRzWzBdK2wuc2NyQ29vcmRzWzFdK2wuc2NyQ29vcmRzWzJdKSlyZXR1cm4hMTtyZXR1cm4hMH0sX2lzT3V0c2lkZTpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciBvPTUwMCxuPXMuY2FudmFzV2lkdGgsYT1zLmNhbnZhc0hlaWdodDtyZXR1cm4hISh0WzFdPC01MDAmJmlbMV08LTUwMHx8dFsyXTwtNTAwJiZpWzJdPC01MDB8fHRbMV0+bitvJiZpWzFdPm4rb3x8dFsyXT5hK28mJmlbMl0+YStvKX0sX2lzT3V0c2lkZVBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9NTAwLHI9ZS5jYW52YXNXaWR0aCxzPWUuY2FudmFzSGVpZ2h0O3JldHVybiEhKHRbMV08LTUwMHx8dFsyXTwtNTAwfHx0WzFdPnIraXx8dFsyXT5zK2kpfSxfZmluZFN0YXJ0UG9pbnQ6ZnVuY3Rpb24odCxyLHMsbyxuKXtuZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHQuYm9hcmQsITEpLHQuYm9hcmQuZ2V0Qm91bmRpbmdCb3goKTtyZXR1cm5bcixzXX0sX2dldEJvcmRlclBvczpmdW5jdGlvbih0LHMsbyxuLGEsaCxsKXt2YXIgYyxkLHUscCxmLG07aWYoZD1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHQuYm9hcmQsITEpLHA9MCxpc05hTihvWzFdK29bMl0pJiYhaXNOYU4oYVsxXSthWzJdKSltPXMsZj1uLGg7ZWxzZSBpZihpc05hTihsWzFdK2xbMl0pJiYhaXNOYU4oYVsxXSthWzJdKSltPWgsZj1uLHM7ZWxzZSBpZihpc05hTihhWzFdK2FbMl0pJiYhaXNOYU4obFsxXStsWzJdKSltPW4sZj1oLGgrKGgtbik7ZWxzZXtpZighaXNOYU4oYVsxXSthWzJdKXx8aXNOYU4ob1sxXStvWzJdKSlyZXR1cm4hMTttPW4sZj1zLHMtKG4tcyl9ZG97Yz0uNSooZittKSxkLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3QuWChjLCEwKSx0LlkoYywhMCldLCExKSx1PWQudXNyQ29vcmRzLGlzTmFOKHVbMV0rdVsyXSk/bT1jOihmLGY9YyksKytwfXdoaWxlKHA8MzAmJk1hdGguYWJzKGYtbSk+ci5lcHMpO3JldHVybiBjfSxfZ2V0Q3VzcFBvczpmdW5jdGlvbih0LGUsaSl7dmFyIHI9W3QuWChlLCEwKSx0LlkoZSwhMCldLHM9W3QuWChpLCEwKSx0LlkoaSwhMCldO3JldHVybiBvLmZtaW5icigoZnVuY3Rpb24oZSl7dmFyIGk9W3QuWChlLCEwKSx0LlkoZSwhMCldO3JldHVybi0oTWF0aC5zcXJ0KChyWzBdLWlbMF0pKihyWzBdLWlbMF0pKyhyWzFdLWlbMV0pKihyWzFdLWlbMV0pKStNYXRoLnNxcnQoKHNbMF0taVswXSkqKHNbMF0taVswXSkrKHNbMV0taVsxXSkqKHNbMV0taVsxXSkpKX0pLFtlLGldLHQpfSxfZ2V0SnVtcFBvczpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIG8uZm1pbmJyKChmdW5jdGlvbihlKXt2YXIgaT1yLmVwcypyLmVwcyxzPVt0LlgoZSwhMCksdC5ZKGUsITApXSxvPVt0LlgoZStpLCEwKSx0LlkoZStpLCEwKV07cmV0dXJuLU1hdGguYWJzKChvWzFdLXNbMV0pLyhvWzBdLXNbMF0pKX0pLFtlLGldLHQpfSxfZ2V0TGltaXRzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixvLG4sYSxoPTIvKHQubWF4WCgpLXQubWluWCgpKTtyZXR1cm4gcj0oaT1zLmxpbWl0KGUsLWgsdC5YKSlbMF0sXCJpbmZpbml0ZVwiPT09aVsxXSYmKHI9TWF0aC5zaWduKHIpKigxLzApKSxuPShpPXMubGltaXQoZSwtaCx0LlkpKVswXSxcImluZmluaXRlXCI9PT1pWzFdJiYobj1NYXRoLnNpZ24obikqKDEvMCkpLG89KGk9cy5saW1pdChlLGgsdC5YKSlbMF0sXCJpbmZpbml0ZVwiPT09aVsxXSYmKG89TWF0aC5zaWduKG8pKigxLzApKSxhPShpPXMubGltaXQoZSxoLHQuWSkpWzBdLFwiaW5maW5pdGVcIj09PWlbMV0mJihhPU1hdGguc2lnbihhKSooMS8wKSkse2xlZnRfeDpyLGxlZnRfeTpuLHJpZ2h0X3g6byxyaWdodF95OmEsdDplfX0sX2dldExpbWVzOmZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoKXt2YXIgbDtyZXR1cm5cImJvcmRlclwiPT09YT9sPXRoaXMuX2dldEJvcmRlclBvcyh0LGUsaSxyLHMsbyxuKTpcImN1c3BcIj09PWE/bD10aGlzLl9nZXRDdXNwUG9zKHQsZSxvKTpcImp1bXBcIj09PWEmJihsPXRoaXMuX2dldEp1bXBQb3ModCxlLG8pKSx0aGlzLl9nZXRMaW1pdHModCxsKX0sX3Bsb3ROb25SZWN1cnNpdmU6ZnVuY3Rpb24odCxlLGkscixzLG8pe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtLGcsYj1udWxsLHY9ITEseT1cIlwiLEM9W10sXz0wO2ZvcihwPXQuYm9hcmQub3JpZ2luLnNjckNvb3JkcyxDW18rK109W2UsaSxyLHMsbywxLzBdO18+MDspe2lmKGU9KGc9Q1stLV9dKVswXSxpPWdbMV0scj1nWzJdLHM9Z1szXSxmPWdbNF0sbT1nWzVdLHY9ITEseT1cIlwiLGI9bnVsbCx0LnBvaW50cy5sZW5ndGg+NjU1MzYpcmV0dXJuO2lmKGY8dGhpcy5uYW5MZXZlbCl7aWYodGhpcy5faXNVbmRlZmluZWQodCxlLGkscixzKSljb250aW51ZTtpZih0aGlzLl9pc091dHNpZGUoZSxpLHIscyx0LmJvYXJkKSljb250aW51ZX1uPS41KihpK3MpLGQ9dC5YKG4sITApLHU9dC5ZKG4sITApLGE9WzEscFsxXStkKnQuYm9hcmQudW5pdFgscFsyXS11KnQuYm9hcmQudW5pdFldLGg9dGhpcy5fdHJpYW5nbGVEaXN0cyhlLHIsYSksbD1pc05hTihlWzFdK2VbMl0pLGM9aXNOYU4oclsxXStyWzJdKSxsJiYhY3x8IWwmJmM/eT1cImJvcmRlclwiOmhbMF0+LjY2Km18fGhbMF08dGhpcy5jdXNwX3RocmVzaG9sZCooaFsxXStoWzJdKXx8aFsxXT41KmhbMl18fGhbMl0+NSpoWzFdP3k9XCJjdXNwXCI6KGhbMl0+dGhpcy5qdW1wX3RocmVzaG9sZCpoWzBdfHxoWzFdPnRoaXMuanVtcF90aHJlc2hvbGQqaFswXXx8aFswXT09PTEvMHx8aFsxXT09PTEvMHx8aFsyXT09PTEvMCkmJih5PVwianVtcFwiKSx2PVwiXCI9PT15JiZmPHRoaXMuc21vb3RoTGV2ZWwmJmhbM108dGhpcy5zbW9vdGhfdGhyZXNob2xkLGY8dGhpcy50ZXN0TGV2ZWwmJiF2JiYoXCJcIj09PXk/dj0hMDpiPXRoaXMuX2dldExpbWVzKHQsaSxlLG4sYSxzLHIseSxmKSksbnVsbCE9PWI/KGE9WzEsTmFOLE5hTl0sdGhpcy5faW5zZXJ0UG9pbnQodCxhLG4sZixiKSk6Zjw9MHx8dj90aGlzLl9pbnNlcnRQb2ludCh0LGEsbixmLG51bGwpOihDW18rK109W2EsbixyLHMsZi0xLGhbMF1dLENbXysrXT1bZSxpLGEsbixmLTEsaFswXV0pfXJldHVybiB0aGlzfSx1cGRhdGVQYXJhbWV0cmljQ3VydmVfdjM6ZnVuY3Rpb24odCxyLHMpe3ZhciBvLG4sYSxoLGMsZCx1LHAsZj0hMSxtPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdC5ib2FyZCwhMSksZz1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHQuYm9hcmQsITEpO3JldHVybiBjPXQuYm9hcmQudXBkYXRlUXVhbGl0eT09PXQuYm9hcmQuQk9BUkRfUVVBTElUWV9MT1c/bC5ldmFsdWF0ZSh0LnZpc1Byb3AucmVjdXJzaW9uZGVwdGhsb3cpfHwxNDpsLmV2YWx1YXRlKHQudmlzUHJvcC5yZWN1cnNpb25kZXB0aGhpZ2gpfHwxNyx0aGlzLnNtb290aExldmVsPTcsdGhpcy5uYW5MZXZlbD1jLTQsdGhpcy50ZXN0TGV2ZWw9NCx0aGlzLmN1c3BfdGhyZXNob2xkPS41LHRoaXMuanVtcF90aHJlc2hvbGQ9Ljk5LHRoaXMuc21vb3RoX3RocmVzaG9sZD0yLHQucG9pbnRzPVtdLFwieFwiPT09dC54dGVybT8oZD0uMyooKHU9dC5ib2FyZC5nZXRCb3VuZGluZ0JveCgpKVsyXS11WzBdKSxvPU1hdGgubWF4KHIsdVswXS1kKSxuPU1hdGgubWluKHMsdVsyXStkKSk6KG89cixuPXMpLG0uc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKG8sZiksdC5ZKG8sZildLCExKSxmPSEwLGcuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdC5YKG4sZiksdC5ZKG4sZildLCExKSxwPXRoaXMuX2ZpbmRTdGFydFBvaW50KHQsbS5zY3JDb29yZHMsbyxnLnNjckNvb3JkcyxuKSxtLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1NDUkVFTixwWzBdLCExKSxvPXBbMV0scD10aGlzLl9maW5kU3RhcnRQb2ludCh0LGcuc2NyQ29vcmRzLG4sbS5zY3JDb29yZHMsbyksZy5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9TQ1JFRU4scFswXSwhMSksbj1wWzFdLHRoaXMuX3Zpc2libGVBcmVhPVtvLG5dLGE9bS5jb3B5KFwic2NyQ29vcmRzXCIpLGg9Zy5jb3B5KFwic2NyQ29vcmRzXCIpLG0uX3Q9byx0LnBvaW50cy5wdXNoKG0pLHRoaXMuX2xhc3RTY3JDcmRzPW0uY29weShcInNjckNvb3Jkc1wiKSx0aGlzLl9sYXN0VXNyQ3Jkcz1tLmNvcHkoXCJ1c3JDb29yZHNcIiksdGhpcy5fcGxvdE5vblJlY3Vyc2l2ZSh0LGEsbyxoLG4sYyksZy5fdD1uLHQucG9pbnRzLnB1c2goZyksdC5udW1iZXJQb2ludHM9dC5wb2ludHMubGVuZ3RoLHR9LF9jcml0aWNhbEludGVydmFsOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sYSxoLGwsYyxkPSExLHU9LTEvMCxwPSExLGY9ITEsbT0wLGc9W10sYj1bXSx2PVtdO2ZvcihjPW4uYWJzKHQpLChhPW4ubWVkaWFuKGMpKTwxZS03PyhhPTFlLTcscD0hMCk6YSo9dGhpcy5jcml0aWNhbFRocmVzaG9sZCxyPTA7cjxlO3IrKyljW3JdPmE/KHYucHVzaCh7aTpyLHY6dFtyXSxncm91cDptfSksdT1yLGR8fChkPSEwKSk6ZCYmcj51KzQmJih2Lmxlbmd0aD4wJiZnLnB1c2godi5zbGljZSgwKSksdj1bXSxkPSExLG0rKyk7Zm9yKGQmJnYubGVuZ3RoPjEmJmcucHVzaCh2LnNsaWNlKDApKSxwJiYwPT09Zy5sZW5ndGgmJihmPSEwKSxzPTA7czxnLmxlbmd0aDtzKyspaWYoYltzXT1cInBvaW50XCIsISgobz1nW3NdLmxlbmd0aCk8NjQpKXtmb3IobD0wLGg9TWF0aC5zaWduKGdbc11bMF0udikscj0xO3I8bztyKyspTWF0aC5zaWduKGdbc11bcl0udikhPT1oJiYobCsrLGg9TWF0aC5zaWduKGdbc11bcl0udikpOzYqbD5vJiYoYltzXT1cImludGVydmFsXCIpfXJldHVybntzbW9vdGg6Zixncm91cHM6Zyx0eXBlczpifX0sQ29tcG9uZW50OmZ1bmN0aW9uKCl7dGhpcy5sZWZ0X2lzTmFOPSExLHRoaXMucmlnaHRfaXNOYU49ITEsdGhpcy5sZWZ0X3Q9bnVsbCx0aGlzLnJpZ2h0X3Q9bnVsbCx0aGlzLnRfdmFsdWVzPVtdLHRoaXMueF92YWx1ZXM9W10sdGhpcy55X3ZhbHVlcz1bXSx0aGlzLmxlbj0wfSxmaW5kQ29tcG9uZW50czpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvLG4sYSxoLGwsYz1bXSxkPTAsdT0wLHA9MCxmPSExLG09ITE7Zm9yKG49KGktZSkvcixjW2RdPW5ldyB0aGlzLkNvbXBvbmVudCxsPWNbZF0scz0wLG89ZTtzPD1yO3MrKyxvKz1uKWE9dC5YKG8sbSksaD10LlkobyxtKSxpc05hTihhKXx8aXNOYU4oaCk/KytwPjEmJmYmJihsLnJpZ2h0X2lzTmFOPSEwLGwucmlnaHRfdD1vLW4sbC5sZW49dSxmPSExLGNbKytkXT1uZXcgdGhpcy5Db21wb25lbnQsbD1jW2RdLHA9MCk6KGZ8fChmPSEwLHU9MCxwPjAmJihsLmxlZnRfdD1vLW4sbC5sZWZ0X2lzTmFOPSEwKSkscD0wLGwudF92YWx1ZXNbdV09byxsLnhfdmFsdWVzW3VdPWEsbC55X3ZhbHVlc1t1XT1oLHUrKyksMD09PXMmJihtPSEwKTtyZXR1cm4gZj9sLmxlbj11OmMucG9wKCksY30sZ2V0UG9pbnRUeXBlOmZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe3ZhciBhPXNbMF0saD1vWzBdLGw9ci5sZW5ndGgsYz17aWR4OmUsdDppLHg6YVtlXSx5OmhbZV0sdHlwZTpcIm90aGVyXCJ9O3JldHVybiBlPDU/KGMudHlwZT1cImJvcmRlcmxlZnRcIixjLmlkeD0wLGMudD1yWzBdLGMueD1hWzBdLGMueT1oWzBdLGMpOmU+bi02PyhjLnR5cGU9XCJib3JkZXJyaWdodFwiLGMuaWR4PWwtMSxjLnQ9cltsLTFdLGMueD1hW2wtMV0sYy55PWhbbC0xXSxjKTpjfSxuZXd0b25BcHByb3g6ZnVuY3Rpb24odCxlLGkscixzKXt2YXIgbyxuPTA7Zm9yKG89cjtvPjA7by0tKW49KG4rc1tvXVt0XSkqKGUtKG8tMSkqaSkvbztyZXR1cm4gbitzWzBdW3RdfSx0aGllbGU6ZnVuY3Rpb24odCxlLGkscixzKXt2YXIgbyxuPTA7Zm9yKG89cztvPjE7by0tKW49KHQtaVtyK29dKS8oZVtvXVtyKzFdLWVbby0yXVtyKzFdK24pO3JldHVybiBlWzBdW3IrMV0rKHQtaVtyKzFdKS8oZVsxXVtyKzFdK24pfSxkaWZmZXJlbmNlTWV0aG9kRXhwZXJpbWVudHM6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuLGEsaCxsLGMsZCx1LHA9dC50X3ZhbHVlcyxmPXQueF92YWx1ZXMsbT10LnlfdmFsdWVzLGc9W10sYj1bXSx2PVtdLHk9W10sQz1bXSxfPVtdLFA9W10sRT1bXSx4PTAsUz1bXTtmb3Iobj1wWzFdLXBbMF0sQy5wdXNoKFtdKSxfLnB1c2goW10pLFAucHVzaChbXSksRS5wdXNoKFtdKSxzPW0ubGVuZ3RoLGk9MDtpPHM7aSsrKUNbMF1baV09ZltpXSxfWzBdW2ldPW1baV0sUFswXVtpXT1mW2ldLEVbMF1baV09bVtpXTtmb3IoQy5wdXNoKFtdKSxfLnB1c2goW10pLFAucHVzaChbXSksRS5wdXNoKFtdKSxhPW4scz1tLmxlbmd0aC0xLGk9MDtpPHM7aSsrKWdbaV09ZltpKzFdLWZbaV0sYltpXT1tW2krMV0tbVtpXSx2W2ldPWdbaV0seVtpXT1iW2ldLENbMV1baV09Z1tpXSxfWzFdW2ldPWJbaV0sUFsxXVtpXT1hL2dbaV0sRVsxXVtpXT1hL2JbaV07Zm9yKHMtLSxvPU1hdGgubWluKDgsbS5sZW5ndGgtMSkscj0xO3I8bztyKyspe2ZvcihDLnB1c2goW10pLF8ucHVzaChbXSksUC5wdXNoKFtdKSxFLnB1c2goW10pLGEqPW4saT0wO2k8cztpKyspZ1tpXT1nW2krMV0tZ1tpXSxiW2ldPWJbaSsxXS1iW2ldLENbcisxXVtpXT1nW2ldLF9bcisxXVtpXT1iW2ldLFBbcisxXVtpXT1hLyhQW3JdW2krMV0tUFtyXVtpXSkrUFtyLTFdW2krMV0sRVtyKzFdW2ldPWEvKEVbcl1baSsxXS1FW3JdW2ldKStFW3ItMV1baSsxXTtpZighMT09PSh1PXRoaXMuX2NyaXRpY2FsUG9pbnRzKGIscyxyKSkpe2NvbnNvbGUubG9nKFwiUG9seW5vbWlhbCBvZiBkZWdyZWVcIixyKSx1PVtdO2JyZWFrfWlmKHUubGVuZ3RoPjAmJisreD4xJiZyJTI9PTApYnJlYWs7cy0tfWZvcihpPTA7aTx1Lmxlbmd0aDtpKyspe2ZvcihsPS0xLzAsYz0wO2M8dVtpXS5sZW5ndGg7YysrKShkPU1hdGguYWJzKHVbaV1bY10udikpPmwmJihsPWQsaD1jKTtoPU1hdGguZmxvb3IodVtpXVtoXS5pK3IvMiksUy5wdXNoKHRoaXMuZ2V0UG9pbnRUeXBlKGUsaCxwLGYsbSx2LHkscysxKSl9cmV0dXJuW1MsQyxfLFAsRV19LGdldENlbnRlck9mQ3JpdGljYWxJbnRlcnZhbDpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG4sYSxoPTAsbD0wLGM9aVsxXS1pWzBdLGQ9W107Zm9yKHI9LTEvMCxkPVtdLHM9MDtzPHQubGVuZ3RoO3MrKykobj1NYXRoLmFicyh0W3NdLnYpKT5yPyhkPVtzXSxyPW4sbz1zKTpyPT09biYmZC5wdXNoKHMpO2lmKGQubGVuZ3RoPjAmJihhPWQucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSwwKS9kLmxlbmd0aCxvPU1hdGguZmxvb3IoYSksYSs9dFswXS5pKSxyPDEvMCl7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrKyloKz1NYXRoLmFicyh0W3NdLnYpKnRbc10uaSxsKz1NYXRoLmFicyh0W3NdLnYpO2E9aC9sfXJldHVybiBhKz1lLzIsW3Rbb10uaStlLzIsYSxpW01hdGguZmxvb3IoYSldK2MqKGEtTWF0aC5mbG9vcihhKSldfSxkaWZmZXJlbmNlTWV0aG9kOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG8sbixhLGgsbCxjLGQsdT10LnRfdmFsdWVzLHA9dC54X3ZhbHVlcyxmPXQueV92YWx1ZXMsbT1bXSxnPVtdLGI9MCx2PS0xLHk9LTEsQz1bXSxfPVtdO2ZvcihzPWYubGVuZ3RoLG0ucHVzaChuZXcgRmxvYXQ2NEFycmF5KHApKSxnLnB1c2gobmV3IEZsb2F0NjRBcnJheShmKSkscy0tLG89TWF0aC5taW4oMTIscykscj0wO3I8byYmKG0ucHVzaChuZXcgRmxvYXQ2NEFycmF5KHMpKSxnLnB1c2gobmV3IEZsb2F0NjRBcnJheShzKSksbVtyKzFdPW1bcl0ubWFwKChmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGlbZSsxXS10fSkpLGdbcisxXT1nW3JdLm1hcCgoZnVuY3Rpb24odCxlLGkpe3JldHVybiBpW2UrMV0tdH0pKSwhMD09PShsPXRoaXMuX2NyaXRpY2FsSW50ZXJ2YWwoZ1tyKzFdLHMscikpLnNtb290aCYmKHk9cixDPVtdKSxoPXRoaXMuX2NyaXRpY2FsSW50ZXJ2YWwobVtyKzFdLHMsciksLTE9PT12JiYhMD09PWguc21vb3RoJiYodj1yKSwhKHk+PTApKTtyKyspe2lmKGwuZ3JvdXBzLmxlbmd0aD4wJiYrK2I+MiYmKHIrMSklMj09MCl7Qz1sLmdyb3VwcyxkPWwudHlwZXM7YnJlYWt9cy0tfWZvcihpPTA7aTxDLmxlbmd0aDtpKyspXCJpbnRlcnZhbFwiIT09ZFtpXSYmKGE9dGhpcy5nZXRDZW50ZXJPZkNyaXRpY2FsSW50ZXJ2YWwoQ1tpXSxyKzEsdSksbFswXSxuPU1hdGguZmxvb3IoYVsxXSksYz1hWzJdLF8ucHVzaCh0aGlzLmdldFBvaW50VHlwZShlLG4sYyx1LG0sZyxzKzEpKSk7cmV0dXJuW18sbSxnLHYseV19LF9pbnNlcnRQb2ludF92NDpmdW5jdGlvbih0LHIscyxvKXt2YXIgbixhLGgsbD1udWxsO3QucG9pbnRzLmxlbmd0aD4wJiYobD10LnBvaW50c1t0LnBvaW50cy5sZW5ndGgtMV0uc2NyQ29vcmRzKSxuPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIscix0LmJvYXJkKSxudWxsIT09bCYmKGE9bi5zY3JDb29yZHNbMV0tbFsxXSkqYSsoaD1uLnNjckNvb3Jkc1syXS1sWzJdKSpoPC44Ki44fHwobi5fdD1zLHQucG9pbnRzLnB1c2gobikpfSxnZXRJbnRlcnZhbDpmdW5jdGlvbihlLGkscil7dmFyIHMsbztyZXR1cm4gaC5kaXNhYmxlKCkscz1oLkludGVydmFsKGksciksZS5ib2FyZC5tYXRoTGliPWgsZS5ib2FyZC5tYXRoTGliSlhHPWgsZS5YKHMsITApLG89ZS5ZKHMsITApLGUuYm9hcmQubWF0aExpYj1NYXRoLGUuYm9hcmQubWF0aExpYkpYRz10Lk1hdGgsb30sc2lnbjpmdW5jdGlvbih0KXtyZXR1cm4gdDwwPy0xOnQ+MD8xOjB9LGhhbmRsZUJvcmRlcjpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciBvLG4sYSxoLGMsZCx1LHAsZixtLGcsYix2PWkuaWR4O2lmKGI9ZS50X3ZhbHVlc1sxXS1lLnRfdmFsdWVzWzBdLFwiYm9yZGVybGVmdFwiPT09aS50eXBlP2E9KG49bz1lLmxlZnRfaXNOYU4/ZS5sZWZ0X3Q6aS50LWIpK2I6XCJib3JkZXJyaWdodFwiPT09aS50eXBlP249KGE9bz1lLnJpZ2h0X2lzTmFOP2UucmlnaHRfdDppLnQrYiktYjpjb25zb2xlLmxvZyhcIk5vIGJvcmRlcmNhc2UhISFcIiksMCE9PShtPXRoaXMuZmluZENvbXBvbmVudHModCxuLGEsMzIpKS5sZW5ndGgpe2ZvcihcImJvcmRlcmxlZnRcIj09PWkudHlwZSYmKG49bVswXS5sZWZ0X3QsYT1tWzBdLnRfdmFsdWVzWzBdLGI9bVswXS50X3ZhbHVlc1sxXS1tWzBdLnRfdmFsdWVzWzBdLG89bj1udWxsPT09bj9hLWI6bixoPXRoaXMuZ2V0SW50ZXJ2YWwodCxuLGEpLGwuaXNPYmplY3QoaCkmJih1PWgubG8scD1oLmhpLGM9dC5YKG8sITApLGQ9c1sxXVt2XTwwP3A6dSx0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLGMsZF0sbykpKSxnPW1bMF0udF92YWx1ZXMubGVuZ3RoLGY9MDtmPGc7ZisrKW89bVswXS50X3ZhbHVlc1tmXSxjPW1bMF0ueF92YWx1ZXNbZl0sZD1tWzBdLnlfdmFsdWVzW2ZdLHRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsYyxkXSxvKTtcImJvcmRlcnJpZ2h0XCI9PT1pLnR5cGUmJihuPW1bMF0udF92YWx1ZXNbZy0xXSxhPW1bMF0ucmlnaHRfdCxiPW1bMF0udF92YWx1ZXNbMV0tbVswXS50X3ZhbHVlc1swXSxvPWE9bnVsbD09PWE/bitiOmEsaD10aGlzLmdldEludGVydmFsKHQsbixhKSxsLmlzT2JqZWN0KGgpJiYodT1oLmxvLHA9aC5oaSxjPXQuWChvLCEwKSxkPXNbMV1bdl0+MD9wOnUsdGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSxjLGRdLG8pKSl9fSxfc2Vjb25kaXRlcmF0aW9uX3Y0OmZ1bmN0aW9uKHQsZSxpLHIscyl7dmFyIG8sbixhLGgsbCxjLGQsdSxwLGYsbSxnLGI7Zm9yKG49ZS50X3ZhbHVlc1tpLmlkeC0yXSxhPWUudF92YWx1ZXNbaS5pZHgrMl0sbD10aGlzLmZpbmRDb21wb25lbnRzKHQsbixhLDY0KSxkPTA7ZDxsLmxlbmd0aDtkKyspe2ZvcihjPWxbZF0sdT0oaD10aGlzLmRpZmZlcmVuY2VNZXRob2QoYyx0KSlbMF0sZj1oWzFdLG09aFsyXSxnPTAscD0wO3A8PXUubGVuZ3RoO3ArKyl7Zm9yKGI9cD09PXUubGVuZ3RoP2MubGVuOnVbcF0uaWR4LG89ZztvPGI7bysrKWlzTmFOKGMueF92YWx1ZXNbb10pfHxpc05hTihjLnlfdmFsdWVzW29dKXx8dGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSxjLnhfdmFsdWVzW29dLGMueV92YWx1ZXNbb11dLGMudF92YWx1ZXNbb10pO3A8dS5sZW5ndGgmJih0aGlzLmhhbmRsZVNpbmd1bGFyaXR5KHQsYyx1W3BdLGYsbSksZz11W3BdLmlkeCsxKX1iPWMubGVuLGQ8bC5sZW5ndGgtMSYmdGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSxOYU4sTmFOXSxjLnJpZ2h0X3QpfXJldHVybiB0aGlzfSxfcmVjdXJzZV92NDpmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEpe3ZhciBoLGwsYz0uNSooZStpKSxkPXQuWChjLCEwKSx1PXQuWShjLCEwKTswIT09YT8oaD0oZC1yKSp0LmJvYXJkLnVuaXRYLGw9KHUtcykqdC5ib2FyZC51bml0WSxNYXRoLnNxcnQoaCpoK2wqbCk+Mj90aGlzLl9yZWN1cnNlX3Y0KHQsZSxjLHIscyxkLHUsYS0xKTp0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLGQsdV0sYyksaD0oZC1vKSp0LmJvYXJkLnVuaXRYLGw9KHUtbikqdC5ib2FyZC51bml0WSxNYXRoLnNxcnQoaCpoK2wqbCk+Mj90aGlzLl9yZWN1cnNlX3Y0KHQsYyxpLGQsdSxvLG4sYS0xKTp0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLGQsdV0sYykpOnRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsTmFOLE5hTl0sYyl9LGhhbmRsZVNpbmd1bGFyaXR5OmZ1bmN0aW9uKHQsZSxpLHIscyl7dmFyIG8sbixhLGgsYyxkLHUscCxmLG0sZyxiPWkuaWR4LHY9MTAwO289aS50LGNvbnNvbGUubG9nKFwiSGFuZGxlU2luZ3VsYXJpdHkgYXQgdCA9XCIsbyksbj1lLnRfdmFsdWVzW2ItNV0sYT1lLnRfdmFsdWVzW2IrNV0saD10aGlzLmdldEludGVydmFsKHQsbixhKSxsLmlzT2JqZWN0KGgpPyhwPWgubG8sZj1oLmhpKTpzWzBdW2ItMV08c1swXVtiKzFdPyhwPXNbMF1bYi0xXSxmPXNbMF1bYisxXSk6KHA9c1swXVtiKzFdLGY9c1swXVtiLTFdKSx1PXQuWChvLCEwKSxtPShzWzBdW2ItM10tc1swXVtiLTVdKS8oZS50X3ZhbHVlc1tiLTNdLWUudF92YWx1ZXNbYi01XSksZz0oc1swXVtiKzNdLXNbMF1bYis1XSkvKGUudF92YWx1ZXNbYiszXS1lLnRfdmFsdWVzW2IrNV0pLGNvbnNvbGUubG9nKFwiOjo6XCIsbSxnKSxtPC0xMDA/KHRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsdSxwXSxvLCEwKSxnPD12JiZ0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLE5hTixOYU5dLG8pKTptPnY/KHRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsdSxmXSxvKSxnPj0tMTAwJiZ0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLE5hTixOYU5dLG8pKToocD09PS0xLzAmJih0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLHUscF0sbywhMCksdGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSxOYU4sTmFOXSxvKSksZj09PTEvMCYmKHRoaXMuX2luc2VydFBvaW50X3Y0KHQsWzEsTmFOLE5hTl0sbyksdGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSx1LGZdLG8sITApKSxpLnQ8ZS50X3ZhbHVlc1tiXT8oYz1iLTEsZD1iKTooYz1iLGQ9YisxKSxuPWUudF92YWx1ZXNbY10sYT1lLnRfdmFsdWVzW2RdLHRoaXMuX3JlY3Vyc2VfdjQodCxuLGEsclswXVtjXSxzWzBdW2NdLHJbMF1bZF0sc1swXVtkXSwxMCkpLGc8LTEwMD90aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLHUsZl0sbyk6Zz52JiZ0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLHUscF0sbyl9LHN0ZXBzOjEwMjEsY3JpdGljYWxUaHJlc2hvbGQ6MWUzLHBsb3RfdjQ6ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbixhLGgsYyxkLHUscCxmLG0sZyxiLHYseSxDLF89KGktZSkvcixQPWZ1bmN0aW9uKGUpe3JldHVybiB0LlkoZSwhMCl9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuLXQuWShlLCEwKX0seD0uNSpfO2ZvcihhPXRoaXMuZmluZENvbXBvbmVudHModCxlLGksciksaD0wO2g8YS5sZW5ndGg7aCsrKXtmb3IoYz1hW2hdLGQ9KGY9dGhpcy5kaWZmZXJlbmNlTWV0aG9kKGMsdCkpWzBdLG09ZlsxXSxnPWZbMl0sZlszXSxmWzRdLDAhPT1kLmxlbmd0aCYmXCJib3JkZXJsZWZ0XCI9PT1kWzBdLnR5cGV8fGQudW5zaGlmdCh7aWR4OjAsdDpjLnRfdmFsdWVzWzBdLHg6Yy54X3ZhbHVlc1swXSx5OmMueV92YWx1ZXNbMF0sdHlwZTpcImJvcmRlcmxlZnRcIn0pLFwiYm9yZGVycmlnaHRcIiE9PWRbZC5sZW5ndGgtMV0udHlwZSYmKG49Yy50X3ZhbHVlcy5sZW5ndGgsZC5wdXNoKHtpZHg6bi0xLHQ6Yy50X3ZhbHVlc1tuLTFdLHg6Yy54X3ZhbHVlc1tuLTFdLHk6Yy55X3ZhbHVlc1tuLTFdLHR5cGU6XCJib3JkZXJyaWdodFwifSkpLHA9MCx1PTA7dTw9ZC5sZW5ndGg7dSsrKXtmb3Iobj11PT09ZC5sZW5ndGg/Yy5sZW46ZFt1XS5pZHgtMSwwLDAscz1wO3M8bi0yO3MrKyl0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLGMueF92YWx1ZXNbc10sYy55X3ZhbHVlc1tzXV0sYy50X3ZhbHVlc1tzXSksTWF0aC5tYXgoMCxzLTIpLHM+PXArMyYmczxuLTMmJmcubGVuZ3RoPjMmJk1hdGguYWJzKGdbMl1bc10pPi4yKk1hdGguYWJzKGdbMF1bc10pPyhiPWMudF92YWx1ZXNbc10seD0uMjUqXyxDPXRoaXMuZ2V0SW50ZXJ2YWwodCxiLGIrXyksbC5pc09iamVjdChDKT9nWzJdW3NdPjA/dGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSxiK3gsQy5sb10sYit4KTp0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLGIrXy14LEMuaGldLGIrXy14KToodj1vLmZtaW5icihQLFtiLGIrX10pKTwoeT1vLmZtaW5icihFLFtiLGIrX10pKT8odGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSx0LlgodiwhMCksdC5ZKHYsITApXSx2KSx0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLHQuWCh5LCEwKSx0LlkoeSwhMCldLHkpKToodGhpcy5faW5zZXJ0UG9pbnRfdjQodCxbMSx0LlgoeSwhMCksdC5ZKHksITApXSx5KSx0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLHQuWCh2LCEwKSx0LlkodiwhMCldLHYpKSk6MDt1PGQubGVuZ3RoJiYocz1kW3VdLmlkeCxcImJvcmRlcmxlZnRcIj09PWRbdV0udHlwZXx8XCJib3JkZXJyaWdodFwiPT09ZFt1XS50eXBlP3RoaXMuaGFuZGxlQm9yZGVyKHQsYyxkW3VdLG0sZyk6dGhpcy5fc2Vjb25kaXRlcmF0aW9uX3Y0KHQsYyxkW3VdLG0sZykscD1kW3VdLmlkeCsxKzEpfW49Yy5sZW4saDxhLmxlbmd0aC0xJiZ0aGlzLl9pbnNlcnRQb2ludF92NCh0LFsxLE5hTixOYU5dLGMucmlnaHRfdCl9fSx1cGRhdGVQYXJhbWV0cmljQ3VydmVfdjQ6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuO1wieFwiPT09dC54dGVybT8obz0uMyooKG49dC5ib2FyZC5nZXRCb3VuZGluZ0JveCgpKVsyXS1uWzBdKSxyPU1hdGgubWF4KGUsblswXS1vKSxzPU1hdGgubWluKGksblsyXStvKSk6KHI9ZSxzPWkpLHQucG9pbnRzPVtdLHRoaXMucGxvdF92NCh0LHIscyx0aGlzLnN0ZXBzKSx0Lm51bWJlclBvaW50cz10LnBvaW50cy5sZW5ndGh9LHVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMudXBkYXRlUGFyYW1ldHJpY0N1cnZlX3YyKHQsZSxpKX19LHIuUGxvdH0pKSxkZWZpbmUoXCJtYXRoL21ldGFwb3N0XCIsW1widXRpbHMvdHlwZVwiLFwibWF0aC9tYXRoXCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiBlLk1ldGFwb3N0PXtNUF9FTkRQT0lOVDowLE1QX0VYUExJQ0lUOjEsTVBfR0lWRU46MixNUF9DVVJMOjMsTVBfT1BFTjo0LE1QX0VORF9DWUNMRTo1LFVOSVRZOjEsRlJBQ1RJT05fT05FOjEsRlJBQ1RJT05fVEhSRUU6MyxPTkVfRUlHSFRZX0RFRzpNYXRoLlBJLFRIUkVFX1NJWFRZX0RFRzoyKk1hdGguUEksRVBTX1NROjFlLTUqMWUtNSxtYWtlX2Nob2ljZXM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuLGEsaCxsLGMsZCx1LHAsZixtO2E9dFswXTtkb3tpZighYSlicmVhaztuPWEubmV4dCxhLnJ0eXBlPnRoaXMuTVBfRVhQTElDSVQmJihhLngtbi54KSooYS54LW4ueCkrKGEueS1uLnkpKihhLnktbi55KTx0aGlzLkVQU19TUSYmKGEucnR5cGU9dGhpcy5NUF9FWFBMSUNJVCxhLmx0eXBlPT09dGhpcy5NUF9PUEVOJiYoYS5sdHlwZT10aGlzLk1QX0NVUkwsYS5zZXRfbGVmdF9jdXJsKHRoaXMuVU5JVFkpKSxuLmx0eXBlPXRoaXMuTVBfRVhQTElDSVQsbi5ydHlwZT09PXRoaXMuTVBfT1BFTiYmKG4ucnR5cGU9dGhpcy5NUF9DVVJMLG4uc2V0X3JpZ2h0X2N1cmwodGhpcy5VTklUWSkpLGEucng9YS54LG4ubHg9YS54LGEucnk9YS55LG4ubHk9YS55KSxhPW59d2hpbGUoYSE9PXRbMF0pO2ZvcihpPXRbMF07aS5sdHlwZT09PXRoaXMuTVBfT1BFTiYmaS5ydHlwZT09PXRoaXMuTVBfT1BFTjspaWYoKGk9aS5uZXh0KT09PXRbMF0pe2kubHR5cGU9dGhpcy5NUF9FTkRfQ1lDTEU7YnJlYWt9Zm9yKGE9aTthOyl7aWYobj1hLm5leHQsYS5ydHlwZT49dGhpcy5NUF9HSVZFTil7Zm9yKDtuLmx0eXBlPT09dGhpcy5NUF9PUEVOJiZuLnJ0eXBlPT09dGhpcy5NUF9PUEVOOyluPW4ubmV4dDtmb3Iocj0wLGg9YSxvPXQubGVuZ3RoLHU9W10scD1bXSxmPVtdLG09W251bGxdO2M9aC5uZXh0LHUucHVzaChjLngtaC54KSxwLnB1c2goYy55LWgueSksZi5wdXNoKHRoaXMubXBfcHl0aF9hZGQodVtyXSxwW3JdKSkscj4wJiYoZD1wW3ItMV0vZltyLTFdLGw9dVtyLTFdL2Zbci0xXSxtLnB1c2goTWF0aC5hdGFuMihwW3JdKmwtdVtyXSpkLHVbcl0qbCtwW3JdKmQpKSkscisrLChoPWMpPT09biYmKG89ciksIShyPj1vJiZoLmx0eXBlIT09dGhpcy5NUF9FTkRfQ1lDTEUpOyk7cj09PW8/bS5wdXNoKDApOm0ucHVzaChtWzFdKSxuLmx0eXBlPT09dGhpcy5NUF9PUEVOJiYoKHM9bi5yeC1uLngpKnMrKGU9bi5yeS1uLnkpKmU8dGhpcy5FUFNfU1E/KG4ubHR5cGU9dGhpcy5NUF9DVVJMLG4uc2V0X2xlZnRfY3VybCh0aGlzLlVOSVRZKSk6KG4ubHR5cGU9dGhpcy5NUF9HSVZFTixuLnNldF9sZWZ0X2dpdmVuKE1hdGguYXRhbjIoZSxzKSkpKSxhLnJ0eXBlPT09dGhpcy5NUF9PUEVOJiZhLmx0eXBlPT09dGhpcy5NUF9FWFBMSUNJVCYmKChzPWEueC1hLmx4KSpzKyhlPWEueS1hLmx5KSplPHRoaXMuRVBTX1NRPyhhLnJ0eXBlPXRoaXMuTVBfQ1VSTCxhLnNldF9yaWdodF9jdXJsKHRoaXMuVU5JVFkpKTooYS5ydHlwZT10aGlzLk1QX0dJVkVOLGEuc2V0X3JpZ2h0X2dpdmVuKE1hdGguYXRhbjIoZSxzKSkpKSx0aGlzLm1wX3NvbHZlX2Nob2ljZXMoYSxuLG8sdSxwLGYsbSl9ZWxzZSBhLnJ0eXBlPT09dGhpcy5NUF9FTkRQT0lOVCYmKGEucng9YS54LGEucnk9YS55LG4ubHg9bi54LG4ubHk9bi55KTtpZigoYT1uKT09PWkpYnJlYWt9fSxtcF9zb2x2ZV9jaG9pY2VzOmZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe3ZhciBhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXyxQLEUseCxTLE8sdyxULE4sTSxBLFI7Zm9yKGQ9by5sZW5ndGgrMSxnPW5ldyBBcnJheShkKSxtPW5ldyBBcnJheShkKSxsPW5ldyBBcnJheShkKSxfPW5ldyBBcnJheShkKSxBPTA7QTxkO0ErKylfW0FdPWxbQV09bVtBXT1nW0FdPTA7Zm9yKHA9MCxmPXQsdj0wOzspe2lmKHk9Zi5uZXh0LDA9PT1wKWlmKGYucnR5cGU9PT10aGlzLk1QX0dJVkVOKXtpZih5Lmx0eXBlPT09dGhpcy5NUF9HSVZFTilyZXR1cm4gYT1NYXRoLmF0YW4yKHNbMF0sclswXSksTz0oUz10aGlzLm1wX25fc2luX2Nvcyh0LnJpZ2h0X2dpdmVuKCktYSkpWzBdLHc9U1sxXSxOPShUPXRoaXMubXBfbl9zaW5fY29zKGUubGVmdF9naXZlbigpLWEpKVswXSxNPVRbMV0sdm9pZCB0aGlzLm1wX3NldF9jb250cm9scyh0LGUsclswXSxzWzBdLHcsTywtTSxOKTtsWzBdPWYucmlnaHRfZ2l2ZW4oKS1NYXRoLmF0YW4yKHNbMF0sclswXSksbFswXT10aGlzLnJlZHVjZV9hbmdsZShsWzBdKSxnWzBdPTAsbVswXT0wfWVsc2UgaWYoZi5ydHlwZT09PXRoaXMuTVBfQ1VSTCl7aWYoeS5sdHlwZT09PXRoaXMuTVBfQ1VSTClyZXR1cm4gdC5ydHlwZT10aGlzLk1QX0VYUExJQ0lULGUubHR5cGU9dGhpcy5NUF9FWFBMSUNJVCxiPU1hdGguYWJzKGUubGVmdF90ZW5zaW9uKCkpLFA9TWF0aC5hYnModC5yaWdodF90ZW5zaW9uKCkpLEM9dGhpcy5VTklUWS8oMypQKSx0LnJ4PXQueCtyWzBdKkMsdC5yeT10Lnkrc1swXSpDLEM9dGhpcy5VTklUWS8oMypiKSxlLmx4PWUueC1yWzBdKkMsdm9pZChlLmx5PWUueS1zWzBdKkMpO3g9Zi5yaWdodF9jdXJsKCksYj1NYXRoLmFicyh5LmxlZnRfdGVuc2lvbigpKSxQPU1hdGguYWJzKGYucmlnaHRfdGVuc2lvbigpKSxnWzBdPXRoaXMubXBfY3VybF9yYXRpbyh4LFAsYiksbFswXT0tblsxXSpnWzBdLG1bMF09MH1lbHNlIGYucnR5cGU9PT10aGlzLk1QX09QRU4mJihnWzBdPTAsbFswXT0wLG1bMF09dGhpcy5GUkFDVElPTl9PTkUpO2Vsc2UgaWYoZi5sdHlwZT09PXRoaXMuTVBfRU5EX0NZQ0xFfHxmLmx0eXBlPT09dGhpcy5NUF9PUEVOKXtpZihhPXRoaXMuVU5JVFkvKDMqTWF0aC5hYnModi5yaWdodF90ZW5zaW9uKCkpLXRoaXMuVU5JVFkpLEU9b1twXSoodGhpcy5GUkFDVElPTl9USFJFRS10aGlzLlVOSVRZL01hdGguYWJzKHYucmlnaHRfdGVuc2lvbigpKSksYz10aGlzLlVOSVRZLygzKk1hdGguYWJzKHkubGVmdF90ZW5zaW9uKCkpLXRoaXMuVU5JVFkpLHU9b1twLTFdKih0aGlzLkZSQUNUSU9OX1RIUkVFLXRoaXMuVU5JVFkvTWF0aC5hYnMoeS5sZWZ0X3RlbnNpb24oKSkpLEUqPXg9dGhpcy5GUkFDVElPTl9PTkUtZ1twLTFdKmEsKGI9TWF0aC5hYnMoZi5sZWZ0X3RlbnNpb24oKSkpPChQPU1hdGguYWJzKGYucmlnaHRfdGVuc2lvbigpKSk/RSo9TWF0aC5wb3coYi9QLDIpOmI+UCYmKHUqPU1hdGgucG93KFAvYiwyKSksQz11Lyh1K0UpLGdbcF09QypjLGg9LW5bcCsxXSpnW3BdLHYucnR5cGU9PT10aGlzLk1QX0NVUkw/KG1bcF09MCxsW3BdPWgtblsxXSoodGhpcy5GUkFDVElPTl9PTkUtQykpOihDPSh0aGlzLkZSQUNUSU9OX09ORS1DKS94LGgtPW5bcF0qQyxDKj1hLGxbcF09aC1sW3AtMV0qQyxtW3BdPS1tW3AtMV0qQyksZi5sdHlwZT09PXRoaXMuTVBfRU5EX0NZQ0xFKXtmb3IoYT0wLGM9dGhpcy5GUkFDVElPTl9PTkU7MD09PShwLT0xKSYmKHA9aSksYT1sW3BdLWEqZ1twXSxjPW1bcF0tYypnW3BdLHAhPT1pOyk7Zm9yKGEvPXRoaXMuRlJBQ1RJT05fT05FLWMsX1tpXT1hLGxbMF09YSxSPTE7UjxpO1IrKylsW1JdPWxbUl0rYSptW1JdO2JyZWFrfX1lbHNle2lmKGYubHR5cGU9PT10aGlzLk1QX0NVUkwpe3g9Zi5sZWZ0X2N1cmwoKSxiPU1hdGguYWJzKGYubGVmdF90ZW5zaW9uKCkpLFA9TWF0aC5hYnModi5yaWdodF90ZW5zaW9uKCkpLEM9dGhpcy5tcF9jdXJsX3JhdGlvKHgsYixQKSxfW2ldPS1sW2ktMV0qQy8odGhpcy5GUkFDVElPTl9PTkUtQypnW2ktMV0pO2JyZWFrfWlmKGYubHR5cGU9PT10aGlzLk1QX0dJVkVOKXtfW2ldPWYubGVmdF9naXZlbigpLU1hdGguYXRhbjIoc1tpLTFdLHJbaS0xXSksX1tpXT10aGlzLnJlZHVjZV9hbmdsZShfW2ldKTticmVha319dj1mLGY9eSxwKz0xfWZvcihwPWktMTtwPi0xO3AtLSlfW3BdPWxbcF0tX1twKzFdKmdbcF07Zm9yKGY9dCxwPTA7eT1mLm5leHQsTz0oUz10aGlzLm1wX25fc2luX2NvcyhfW3BdKSlbMF0sdz1TWzFdLE49KFQ9dGhpcy5tcF9uX3Npbl9jb3MoLW5bcCsxXS1fW3ArMV0pKVswXSxNPVRbMV0sdGhpcy5tcF9zZXRfY29udHJvbHMoZix5LHJbcF0sc1twXSx3LE8sTSxOKSxmPXksKytwIT09aTspO30sbXBfbl9zaW5fY29zOmZ1bmN0aW9uKHQpe3JldHVybltNYXRoLmNvcyh0KSxNYXRoLnNpbih0KV19LG1wX3NldF9jb250cm9sczpmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEpe3ZhciBoLGwsYyxkLHU7Yz1NYXRoLmFicyhlLmxlZnRfdGVuc2lvbigpKSxoPU1hdGguYWJzKHQucmlnaHRfdGVuc2lvbigpKSx1PXRoaXMubXBfdmVsb2NpdHkocyxvLG4sYSxoKSxsPXRoaXMubXBfdmVsb2NpdHkobixhLHMsbyxjKSwodC5yaWdodF90ZW5zaW9uKCk8MHx8ZS5sZWZ0X3RlbnNpb24oKTwwKSYmKHM+PTAmJm4+PTB8fHM8PTAmJm48PTApJiYoZD1NYXRoLmFicyhzKSphK01hdGguYWJzKG4pKm8pPjAmJihkKj0xLjAwMDI0NDE0MDYyLHQucmlnaHRfdGVuc2lvbigpPDAmJnRoaXMubXBfYWJfdnNfY2QoTWF0aC5hYnMobiksdGhpcy5GUkFDVElPTl9PTkUsdSxkKTwwJiYodT1NYXRoLmFicyhuKS9kKSxlLmxlZnRfdGVuc2lvbigpPDAmJnRoaXMubXBfYWJfdnNfY2QoTWF0aC5hYnMocyksdGhpcy5GUkFDVElPTl9PTkUsbCxkKTwwJiYobD1NYXRoLmFicyhzKS9kKSksdC5yeD10LngrKGkqby1yKnMpKnUsdC5yeT10LnkrKHIqbytpKnMpKnUsZS5seD1lLngtKGkqYStyKm4pKmwsZS5seT1lLnktKHIqYS1pKm4pKmwsdC5ydHlwZT10aGlzLk1QX0VYUExJQ0lULGUubHR5cGU9dGhpcy5NUF9FWFBMSUNJVH0sbXBfcHl0aF9hZGQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5zcXJ0KHQqdCtlKmUpfSxtcF9jdXJsX3JhdGlvOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcj0xL2Uscz0xL2k7cmV0dXJuIE1hdGgubWluKDQsKCgzLXIpKnIqcip0K3MqcypzKS8ocipyKnIqdCsoMy1zKSpzKnMpKX0sbXBfYWJfdnNfY2Q6ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHQqZT09aSpyPzA6dCplPmkqcj8xOi0xfSxtcF92ZWxvY2l0eTpmdW5jdGlvbih0LGUsaSxyLHMpe3JldHVybiBNYXRoLm1pbig0LCgyK01hdGguc3FydCgyKSoodC1pLzE2KSooaS10LzE2KSooZS1yKSkvKDEuNSpzKigyKyhNYXRoLnNxcnQoNSktMSkqZSsoMy1NYXRoLnNxcnQoNSkpKnIpKSl9LHJlZHVjZV9hbmdsZTpmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5hYnModCk+dGhpcy5PTkVfRUlHSFRZX0RFRyYmKHQ+MD90LT10aGlzLlRIUkVFX1NJWFRZX0RFRzp0Kz10aGlzLlRIUkVFX1NJWFRZX0RFRyksdH0sbWFrZWtub3RzOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG89W107Zm9yKGU9ZXx8MSxzPXQubGVuZ3RoLHI9MDtyPHM7cisrKW8ucHVzaCh7eDp0W3JdWzBdLHk6dFtyXVsxXSxsdHlwZTp0aGlzLk1QX09QRU4scnR5cGU6dGhpcy5NUF9PUEVOLGx5OmUscnk6ZSxseDplLHJ4OmUsbGVmdF9jdXJsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubHh8fDB9LHJpZ2h0X2N1cmw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yeHx8MH0sbGVmdF90ZW5zaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubHl8fCh0aGlzLmx5PTEpLHRoaXMubHl9LHJpZ2h0X3RlbnNpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yeXx8KHRoaXMucnk9MSksdGhpcy5yeX0sc2V0X3JpZ2h0X2N1cmw6ZnVuY3Rpb24odCl7dGhpcy5yeD10fHwwfSxzZXRfbGVmdF9jdXJsOmZ1bmN0aW9uKHQpe3RoaXMubHg9dHx8MH19KTtmb3Iocz1vLmxlbmd0aCxyPTA7cjxzO3IrKylvW3JdLm5leHQ9b1tyKzFdfHxvW3JdLG9bcl0uc2V0X3JpZ2h0X2dpdmVuPW9bcl0uc2V0X3JpZ2h0X2N1cmwsb1tyXS5zZXRfbGVmdF9naXZlbj1vW3JdLnNldF9sZWZ0X2N1cmwsb1tyXS5yaWdodF9naXZlbj1vW3JdLnJpZ2h0X2N1cmwsb1tyXS5sZWZ0X2dpdmVuPW9bcl0ubGVmdF9jdXJsO3JldHVybiBvW3MtMV0ubmV4dD1vWzBdLGl8fChvW3MtMV0ucnR5cGU9dGhpcy5NUF9FTkRQT0lOVCxvW3MtMV0ubHR5cGU9dGhpcy5NUF9DVVJMLG9bMF0ucnR5cGU9dGhpcy5NUF9DVVJMKSxvfSxjdXJ2ZTpmdW5jdGlvbihlLGkpe3ZhciByLHMsbyxuLGE9W10saD1bXTtmb3IobyBpbiBpPWl8fHt0ZW5zaW9uOjEsZGlyZWN0aW9uOnt9LGN1cmw6e30saXNDbG9zZWQ6ITF9LHM9KHI9dGhpcy5tYWtla25vdHMoZSx0LmV2YWx1YXRlKGkudGVuc2lvbiksaS5pc0Nsb3NlZCkpLmxlbmd0aCxpLmRpcmVjdGlvbilpLmRpcmVjdGlvbi5oYXNPd25Qcm9wZXJ0eShvKSYmKG49dC5ldmFsdWF0ZShpLmRpcmVjdGlvbltvXSksdC5pc0FycmF5KG4pPyghMSE9PW5bMF0mJihyW29dLmx4PW5bMF0qTWF0aC5QSS8xODAscltvXS5sdHlwZT10aGlzLk1QX0dJVkVOKSwhMSE9PW5bMV0mJihyW29dLnJ4PW5bMV0qTWF0aC5QSS8xODAscltvXS5ydHlwZT10aGlzLk1QX0dJVkVOKSk6KHJbb10ubHg9bipNYXRoLlBJLzE4MCxyW29dLnJ4PW4qTWF0aC5QSS8xODAscltvXS5sdHlwZT1yW29dLnJ0eXBlPXRoaXMuTVBfR0lWRU4pKTtmb3IobyBpbiBpLmN1cmwpaS5jdXJsLmhhc093blByb3BlcnR5KG8pJiYobj10LmV2YWx1YXRlKGkuY3VybFtvXSksMD09PXBhcnNlSW50KG8sMTApPyhyW29dLnJ0eXBlPXRoaXMuTVBfQ1VSTCxyW29dLnNldF9yaWdodF9jdXJsKG4pKTpwYXJzZUludChvLDEwKT09PXMtMSYmKHJbb10ubHR5cGU9dGhpcy5NUF9DVVJMLHJbb10uc2V0X2xlZnRfY3VybChuKSkpO2Zvcih0aGlzLm1ha2VfY2hvaWNlcyhyKSxvPTA7bzxzLTE7bysrKWEucHVzaChyW29dLngpLGEucHVzaChyW29dLnJ4KSxhLnB1c2gocltvKzFdLmx4KSxoLnB1c2gocltvXS55KSxoLnB1c2gocltvXS5yeSksaC5wdXNoKHJbbysxXS5seSk7cmV0dXJuIGEucHVzaChyW3MtMV0ueCksaC5wdXNoKHJbcy0xXS55KSxpLmlzQ2xvc2VkJiYoYS5wdXNoKHJbcy0xXS5yeCksaC5wdXNoKHJbcy0xXS5yeSksYS5wdXNoKHJbMF0ubHgpLGgucHVzaChyWzBdLmx5KSxhLnB1c2goclswXS54KSxoLnB1c2goclswXS55KSksW2EsaF19fSxlLk1ldGFwb3N0fSkpLGRlZmluZShcInV0aWxzL3ppcFwiLFtcImp4Z1wiXSwoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9WzAsMTI4LDY0LDE5MiwzMiwxNjAsOTYsMjI0LDE2LDE0NCw4MCwyMDgsNDgsMTc2LDExMiwyNDAsOCwxMzYsNzIsMjAwLDQwLDE2OCwxMDQsMjMyLDI0LDE1Miw4OCwyMTYsNTYsMTg0LDEyMCwyNDgsNCwxMzIsNjgsMTk2LDM2LDE2NCwxMDAsMjI4LDIwLDE0OCw4NCwyMTIsNTIsMTgwLDExNiwyNDQsMTIsMTQwLDc2LDIwNCw0NCwxNzIsMTA4LDIzNiwyOCwxNTYsOTIsMjIwLDYwLDE4OCwxMjQsMjUyLDIsMTMwLDY2LDE5NCwzNCwxNjIsOTgsMjI2LDE4LDE0Niw4MiwyMTAsNTAsMTc4LDExNCwyNDIsMTAsMTM4LDc0LDIwMiw0MiwxNzAsMTA2LDIzNCwyNiwxNTQsOTAsMjE4LDU4LDE4NiwxMjIsMjUwLDYsMTM0LDcwLDE5OCwzOCwxNjYsMTAyLDIzMCwyMiwxNTAsODYsMjE0LDU0LDE4MiwxMTgsMjQ2LDE0LDE0Miw3OCwyMDYsNDYsMTc0LDExMCwyMzgsMzAsMTU4LDk0LDIyMiw2MiwxOTAsMTI2LDI1NCwxLDEyOSw2NSwxOTMsMzMsMTYxLDk3LDIyNSwxNywxNDUsODEsMjA5LDQ5LDE3NywxMTMsMjQxLDksMTM3LDczLDIwMSw0MSwxNjksMTA1LDIzMywyNSwxNTMsODksMjE3LDU3LDE4NSwxMjEsMjQ5LDUsMTMzLDY5LDE5NywzNywxNjUsMTAxLDIyOSwyMSwxNDksODUsMjEzLDUzLDE4MSwxMTcsMjQ1LDEzLDE0MSw3NywyMDUsNDUsMTczLDEwOSwyMzcsMjksMTU3LDkzLDIyMSw2MSwxODksMTI1LDI1MywzLDEzMSw2NywxOTUsMzUsMTYzLDk5LDIyNywxOSwxNDcsODMsMjExLDUxLDE3OSwxMTUsMjQzLDExLDEzOSw3NSwyMDMsNDMsMTcxLDEwNywyMzUsMjcsMTU1LDkxLDIxOSw1OSwxODcsMTIzLDI1MSw3LDEzNSw3MSwxOTksMzksMTY3LDEwMywyMzEsMjMsMTUxLDg3LDIxNSw1NSwxODMsMTE5LDI0NywxNSwxNDMsNzksMjA3LDQ3LDE3NSwxMTEsMjM5LDMxLDE1OSw5NSwyMjMsNjMsMTkxLDEyNywyNTVdLGk9WzMsNCw1LDYsNyw4LDksMTAsMTEsMTMsMTUsMTcsMTksMjMsMjcsMzEsMzUsNDMsNTEsNTksNjcsODMsOTksMTE1LDEzMSwxNjMsMTk1LDIyNywyNTgsMCwwXSxyPVswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsOTksOTldLHM9WzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3N10sbz1bMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10sbj1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV07cmV0dXJuIHQuVXRpbD10LlV0aWx8fHt9LHQuVXRpbC5VbnppcD1mdW5jdGlvbihhKXt2YXIgaCxsLGMsZCx1PVtdLHA9MCxmPVtdLG09bmV3IEFycmF5KDMyNzY4KSxnPTAsYj0hMSx2PWEubGVuZ3RoLHk9MCxDPTEsXz1uZXcgQXJyYXkoMjg4KSxQPW5ldyBBcnJheSgzMiksRT0wLHg9bnVsbCxTPShuZXcgQXJyYXkoNjQpLG5ldyBBcnJheSg2NCksMCksTz1uZXcgQXJyYXkoMTcpLHc9W107ZnVuY3Rpb24gVCgpe3JldHVybiA4LHk8dj9hW3krK106LTF9ZnVuY3Rpb24gTigpe0M9MX1mdW5jdGlvbiBNKCl7dmFyIHQ7dHJ5e3JldHVybiB0PTEmQywwPT09KEM+Pj0xKSYmKHQ9MSYoQz1UKCkpLEM9Qz4+MXwxMjgpLHR9Y2F0Y2godCl7dGhyb3cgdH19ZnVuY3Rpb24gQSh0KXt2YXIgaT0wLHI9dDt0cnl7Zm9yKDtyLS07KWk9aTw8MXxNKCk7dCYmKGk9ZVtpXT4+OC10KX1jYXRjaCh0KXt0aHJvdyB0fXJldHVybiBpfWZ1bmN0aW9uIFIoKXtnPTB9ZnVuY3Rpb24gTCh0KXttW2crK109dCx1LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh0KSksMzI3Njg9PT1nJiYoZz0wKX1mdW5jdGlvbiBrKCl7dGhpcy5iMD0wLHRoaXMuYjE9MCx0aGlzLmp1bXA9bnVsbCx0aGlzLmp1bXBwb3M9LTF9ZnVuY3Rpb24gRCgpe2Zvcig7Oyl7aWYoT1tTXT49ZClyZXR1cm4tMTtpZihjW09bU11dPT09UylyZXR1cm4gT1tTXSsrO09bU10rK319ZnVuY3Rpb24gQigpe3ZhciB0LGU9eFtFXTtpZigxNz09PVMpcmV0dXJuLTE7aWYoRSsrLFMrKywodD1EKCkpPj0wKWUuYjA9dDtlbHNlIGlmKGUuYjA9MzI3NjgsQigpKXJldHVybi0xO2lmKCh0PUQoKSk+PTApZS5iMT10LGUuanVtcD1udWxsO2Vsc2UgaWYoZS5iMT0zMjc2OCxlLmp1bXA9eFtFXSxlLmp1bXBwb3M9RSxCKCkpcmV0dXJuLTE7cmV0dXJuIFMtLSwwfWZ1bmN0aW9uIEkodCxlLGkscil7dmFyIHM7Zm9yKHg9dCxFPTAsYz1pLGQ9ZSxzPTA7czwxNztzKyspT1tzXT0wO3JldHVybiBTPTAsQigpPy0xOjB9ZnVuY3Rpb24gWSh0KXtmb3IodmFyIGUsaSxyPTAscz10W3JdOzspaWYoTSgpKXtpZighKDMyNzY4JnMuYjEpKXJldHVybiBzLmIxO2ZvcihzPXMuanVtcCxlPXQubGVuZ3RoLGk9MDtpPGU7aSsrKWlmKHRbaV09PT1zKXtyPWk7YnJlYWt9fWVsc2V7aWYoISgzMjc2OCZzLmIwKSlyZXR1cm4gcy5iMDtzPXRbKytyXX19ZnVuY3Rpb24gaigpe3ZhciBhLGgsbCxjLGQsdSxwLGYsYix2LHksQyxFLHgsUztkb3tpZihhPU0oKSwwPT09KGg9QSgyKSkpZm9yKE4oKSxiPVQoKSxifD1UKCk8PDgseT1UKCksNjU1MzUmKGJefih5fD1UKCk8PDgpKSYmdC5kZWJ1ZyhcIkJsb2NrTGVuIGNoZWNrc3VtIG1pc21hdGNoXFxuXCIpO2ItLTspTChUKCkpO2Vsc2UgaWYoMT09PWgpZm9yKDs7KWlmKChjPWVbQSg3KV0+PjEpPjIzPyhjPWM8PDF8TSgpKT4xOTk/Yz0oYy09MTI4KTw8MXxNKCk6KGMtPTQ4KT4xNDMmJihjKz0xMzYpOmMrPTI1NixjPDI1NilMKGMpO2Vsc2V7aWYoMjU2PT09YylicmVhaztmb3IoZj1BKHJbYy09MjU3XSkraVtjXSxjPWVbQSg1KV0+PjMsb1tjXT44Pyh2PUEoOCksdnw9QShvW2NdLTgpPDw4KTp2PUEob1tjXSksdis9c1tjXSxjPTA7YzxmO2MrKylMKG1bZy12JjMyNzY3XSl9ZWxzZSBpZigyPT09aCl7Zm9yKHU9bmV3IEFycmF5KDMyMCksRT0yNTcrQSg1KSx4PTErQSg1KSxTPTQrQSg0KSxjPTA7YzwxOTtjKyspdVtjXT0wO2ZvcihjPTA7YzxTO2MrKyl1W25bY11dPUEoMyk7Zm9yKGY9UC5sZW5ndGgsbD0wO2w8ZjtsKyspUFtsXT1uZXcgaztpZihJKFAsMTksdSkpcmV0dXJuIFIoKSwxO2ZvcihDPUUreCxsPTAsLTE7bDxDOylpZigoYz1ZKFApKTwxNil1W2wrK109YztlbHNlIGlmKDE2PT09Yyl7aWYobCsoYz0zK0EoMikpPkMpcmV0dXJuIFIoKSwxO2ZvcihkPWw/dVtsLTFdOjA7Yy0tOyl1W2wrK109ZH1lbHNle2lmKGwrKGM9MTc9PT1jPzMrQSgzKToxMStBKDcpKT5DKXJldHVybiBSKCksMTtmb3IoO2MtLTspdVtsKytdPTB9Zm9yKGY9Xy5sZW5ndGgsbD0wO2w8ZjtsKyspX1tsXT1uZXcgaztpZihJKF8sRSx1KSlyZXR1cm4gUigpLDE7Zm9yKGY9Xy5sZW5ndGgsbD0wO2w8ZjtsKyspUFtsXT1uZXcgaztmb3IocD1bXSxsPUU7bDx1Lmxlbmd0aDtsKyspcFtsLUVdPXVbbF07aWYoSShQLHgscCkpcmV0dXJuIFIoKSwxO2Zvcig7OylpZigoYz1ZKF8pKT49MjU2KXtpZigwPT09KGMtPTI1NikpYnJlYWs7Zm9yKGY9QShyW2MtPTFdKStpW2NdLGM9WShQKSxvW2NdPjg/KHY9QSg4KSx2fD1BKG9bY10tOCk8PDgpOnY9QShvW2NdKSx2Kz1zW2NdO2YtLTspTChtW2ctdiYzMjc2N10pfWVsc2UgTChjKX19d2hpbGUoIWEpO3JldHVybiBSKCksTigpLDB9ZnVuY3Rpb24gWCgpe3ZhciB0LGUsaSxyLHMsbz1bXTt0cnl7aWYodT1bXSxiPSExLG9bMF09VCgpLG9bMV09VCgpLDEyMD09PW9bMF0mJjIxOD09PW9bMV0mJihqKCksZltwXT1bdS5qb2luKFwiXCIpLFwiZ2VvbmV4dC5neHRcIl0scCsrKSwzMT09PW9bMF0mJjEzOT09PW9bMV0mJihGKCksZltwXT1bdS5qb2luKFwiXCIpLFwiZmlsZVwiXSxwKyspLDgwPT09b1swXSYmNzU9PT1vWzFdKXtpZihiPSEwLG9bMl09VCgpLG9bM109VCgpLDM9PT1vWzJdJiY0PT09b1szXSl7Zm9yKG9bMF09VCgpLG9bMV09VCgpLGg9VCgpLGh8PVQoKTw8OCxzPVQoKSxzfD1UKCk8PDgsVCgpLFQoKSxUKCksVCgpLFQoKSxUKCk8PDgsVCgpPDwxNixUKCk8PDI0LFQoKSxUKCk8PDgsVCgpPDwxNixUKCk8PDI0LFQoKSxUKCk8PDgsVCgpPDwxNixUKCk8PDI0LHI9VCgpLHJ8PVQoKTw8OCxpPVQoKSxpfD1UKCk8PDgsdD0wLHc9W107ci0tOylcIi9cIj09PShlPVQoKSl8XCI6XCI9PT1lP3Q9MDp0PDI1NSYmKHdbdCsrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpKTtmb3IobHx8KGw9dyksdD0wO3Q8aTspZT1UKCksdCsrO2lmKDAsOD09PXMmJihqKCksZltwXT1uZXcgQXJyYXkoMiksZltwXVswXT11LmpvaW4oXCJcIiksZltwXVsxXT13LmpvaW4oXCJcIikscCsrKSxGKCkpcmV0dXJuITF9cmV0dXJuITB9fWNhdGNoKHQpe3Rocm93IHR9cmV0dXJuITF9ZnVuY3Rpb24gRigpe3ZhciB0LGUsaT1bXTtpZig4JmgmJihpWzBdPVQoKSxpWzFdPVQoKSxpWzJdPVQoKSxpWzNdPVQoKSw4MD09PWlbMF0mJjc1PT09aVsxXSYmNz09PWlbMl0mJjg9PT1pWzNdPyhUKCksVCgpPDw4LFQoKTw8MTYsVCgpPDwyNCk6aVswXXxpWzFdPDw4fGlbMl08PDE2fGlbM108PDI0LFQoKSxUKCk8PDgsVCgpPDwxNixUKCk8PDI0LFQoKSxUKCk8PDgsVCgpPDwxNixUKCk8PDI0KSxiJiZYKCkpcmV0dXJuITE7aWYoaVswXT1UKCksOCE9PWlbMF0pcmV0dXJuITA7aWYoaD1UKCksVCgpLFQoKSxUKCksVCgpLFQoKSxUKCksNCZoKWZvcihpWzBdPVQoKSxpWzJdPVQoKSxTPWlbMF0rMjU2KmlbMV0sdD0wO3Q8Uzt0KyspVCgpO2lmKDgmaClmb3IodD0wLHc9W10sZT1UKCk7ZTspXCI3XCIhPT1lJiZcIjpcIiE9PWV8fCh0PTApLHQ8MjU1JiYod1t0KytdPWUpLGU9VCgpO2lmKDE2JmgpZm9yKGU9VCgpO2U7KWU9VCgpO3JldHVybiAyJmgmJihUKCksVCgpKSxqKCksVCgpLFQoKTw8OCxUKCk8PDE2LFQoKTw8MjQsVCgpLFQoKTw8OCxUKCk8PDE2LFQoKTw8MjQsYiYmWCgpLCExfU9bMF09MCx0LlV0aWwuVW56aXAucHJvdG90eXBlLnVuemlwRmlsZT1mdW5jdGlvbih0KXt2YXIgZTtmb3IodGhpcy51bnppcCgpLGU9MDtlPGYubGVuZ3RoO2UrKylpZihmW2VdWzFdPT09dClyZXR1cm4gZltlXVswXTtyZXR1cm5cIlwifSx0LlV0aWwuVW56aXAucHJvdG90eXBlLnVuemlwPWZ1bmN0aW9uKCl7cmV0dXJuIFgoKSxmfX0sdC5VdGlsfSkpLGRlZmluZShcInV0aWxzL2VuY29kaW5nXCIsW1wianhnXCJdLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjt2YXIgZT1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsMSwxLDEsOSw5LDksOSw5LDksOSw5LDksOSw5LDksOSw5LDksOSw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsOCw4LDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDIsMiwyLDEwLDMsMywzLDMsMywzLDMsMywzLDMsMywzLDQsMywzLDExLDYsNiw2LDUsOCw4LDgsOCw4LDgsOCw4LDgsOCw4LDAsMTIsMjQsMzYsNjAsOTYsODQsMTIsMTIsMTIsNDgsNzIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMCwxMiwxMiwxMiwxMiwxMiwwLDEyLDAsMTIsMTIsMTIsMjQsMTIsMTIsMTIsMTIsMTIsMjQsMTIsMjQsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMjQsMTIsMTIsMTIsMTIsMTIsMjQsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMjQsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMzYsMTIsMzYsMTIsMTIsMTIsMzYsMTIsMTIsMTIsMTIsMTIsMzYsMTIsMzYsMTIsMTIsMTIsMzYsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTIsMTJdO3JldHVybiB0LlV0aWw9dC5VdGlsfHx7fSx0LlV0aWwuVVRGOD17ZW5jb2RlOmZ1bmN0aW9uKHQpe3ZhciBlLGkscj1cIlwiLHM9dC5sZW5ndGg7aWYodD10LnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHVuZXNjYXBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbmNvZGVVUklDb21wb25lbnQpcmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSk7Zm9yKGU9MDtlPHM7ZSsrKShpPXQuY2hhckNvZGVBdChlKSk8MTI4P3IrPVN0cmluZy5mcm9tQ2hhckNvZGUoaSk6aT4xMjcmJmk8MjA0OD8ocis9U3RyaW5nLmZyb21DaGFyQ29kZShpPj42fDE5Mikscis9U3RyaW5nLmZyb21DaGFyQ29kZSg2MyZpfDEyOCkpOihyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGk+PjEyfDIyNCkscis9U3RyaW5nLmZyb21DaGFyQ29kZShpPj42JjYzfDEyOCkscis9U3RyaW5nLmZyb21DaGFyQ29kZSg2MyZpfDEyOCkpO3JldHVybiByfSxkZWNvZGU6ZnVuY3Rpb24odCl7dmFyIGkscixzLG89MCxuPTAsYT0wLGg9W10sbD10Lmxlbmd0aCxjPVtdO2ZvcihpPTA7aTxsO2krKylyPXQuY2hhckNvZGVBdChpKSxzPWVbcl0sbj0wIT09YT82MyZyfG48PDY6MjU1Pj5zJnIsMD09PShhPWVbMjU2K2Erc10pJiYobj42NTUzNT9oLnB1c2goNTUyMzIrKG4+PjEwKSw1NjMyMCsoMTAyMyZuKSk6aC5wdXNoKG4pLCsrbyUxZTQ9PTAmJihjLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGgpKSxoPVtdKSk7cmV0dXJuIGMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsaCkpLGMuam9pbihcIlwiKX0sYXNjaWlDaGFyQ29kZUF0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5jaGFyQ29kZUF0KGUpO2lmKGk+MjU1KXN3aXRjaChpKXtjYXNlIDgzNjQ6aT0xMjg7YnJlYWs7Y2FzZSA4MjE4Omk9MTMwO2JyZWFrO2Nhc2UgNDAyOmk9MTMxO2JyZWFrO2Nhc2UgODIyMjppPTEzMjticmVhaztjYXNlIDgyMzA6aT0xMzM7YnJlYWs7Y2FzZSA4MjI0Omk9MTM0O2JyZWFrO2Nhc2UgODIyNTppPTEzNTticmVhaztjYXNlIDcxMDppPTEzNjticmVhaztjYXNlIDgyNDA6aT0xMzc7YnJlYWs7Y2FzZSAzNTI6aT0xMzg7YnJlYWs7Y2FzZSA4MjQ5Omk9MTM5O2JyZWFrO2Nhc2UgMzM4Omk9MTQwO2JyZWFrO2Nhc2UgMzgxOmk9MTQyO2JyZWFrO2Nhc2UgODIxNjppPTE0NTticmVhaztjYXNlIDgyMTc6aT0xNDY7YnJlYWs7Y2FzZSA4MjIwOmk9MTQ3O2JyZWFrO2Nhc2UgODIyMTppPTE0ODticmVhaztjYXNlIDgyMjY6aT0xNDk7YnJlYWs7Y2FzZSA4MjExOmk9MTUwO2JyZWFrO2Nhc2UgODIxMjppPTE1MTticmVhaztjYXNlIDczMjppPTE1MjticmVhaztjYXNlIDg0ODI6aT0xNTM7YnJlYWs7Y2FzZSAzNTM6aT0xNTQ7YnJlYWs7Y2FzZSA4MjUwOmk9MTU1O2JyZWFrO2Nhc2UgMzM5Omk9MTU2O2JyZWFrO2Nhc2UgMzgyOmk9MTU4O2JyZWFrO2Nhc2UgMzc2Omk9MTU5fXJldHVybiBpfX0sdC5VdGlsLlVURjh9KSksZGVmaW5lKFwidXRpbHMvYmFzZTY0XCIsW1wianhnXCIsXCJ1dGlscy9lbmNvZGluZ1wiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixyPVwiPVwiO2Z1bmN0aW9uIHModCxlKXtyZXR1cm4gMjU1JnQuY2hhckNvZGVBdChlKX1mdW5jdGlvbiBvKHQsZSl7cmV0dXJuIGkuaW5kZXhPZih0LmNoYXJBdChlKSl9cmV0dXJuIHQuVXRpbD10LlV0aWx8fHt9LHQuVXRpbC5CYXNlNjQ9e2VuY29kZTpmdW5jdGlvbih0KXt2YXIgbyxuLGEsaCxsLGM9W107Zm9yKGg9KGE9KGw9ZS5lbmNvZGUodCkpLmxlbmd0aCklMyxvPTA7bzxhLWg7bys9MyluPXMobCxvKTw8MTZ8cyhsLG8rMSk8PDh8cyhsLG8rMiksYy5wdXNoKGkuY2hhckF0KG4+PjE4KSxpLmNoYXJBdChuPj4xMiY2MyksaS5jaGFyQXQobj4+NiY2MyksaS5jaGFyQXQoNjMmbikpO3N3aXRjaChoKXtjYXNlIDE6bj1zKGwsYS0xKSxjLnB1c2goaS5jaGFyQXQobj4+MiksaS5jaGFyQXQobjw8NCY2MykscixyKTticmVhaztjYXNlIDI6bj1zKGwsYS0yKTw8OHxzKGwsYS0xKSxjLnB1c2goaS5jaGFyQXQobj4+MTApLGkuY2hhckF0KG4+PjQmNjMpLGkuY2hhckF0KG48PDImNjMpLHIpfXJldHVybiBjLmpvaW4oXCJcIil9LGRlY29kZTpmdW5jdGlvbih0LGkpe3ZhciBzLG4sYSxoLGwsYyxkPVtdLHU9W107aWYoKGE9KHM9dC5yZXBsYWNlKC9bXkEtWmEtejAtOSsvPV0vZyxcIlwiKSkubGVuZ3RoKSU0IT0wKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoL3V0aWxzL2Jhc2U2NDogQ2FuJ3QgZGVjb2RlIHN0cmluZyAoaW52YWxpZCBpbnB1dCBsZW5ndGgpLlwiKTtmb3Iocy5jaGFyQXQoYS0xKT09PXImJihoPTEscy5jaGFyQXQoYS0yKT09PXImJihoPTIpLGEtPTQpLG49MDtuPGE7bis9NClsPW8ocyxuKTw8MTh8byhzLG4rMSk8PDEyfG8ocyxuKzIpPDw2fG8ocyxuKzMpLHUucHVzaChsPj4xNixsPj44JjI1NSwyNTUmbCksbiUxZTQ9PTAmJihkLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHUpKSx1PVtdKTtzd2l0Y2goaCl7Y2FzZSAxOmw9byhzLGEpPDwxMnxvKHMsYSsxKTw8NnxvKHMsYSsyKSx1LnB1c2gobD4+MTAsbD4+MiYyNTUpO2JyZWFrO2Nhc2UgMjpsPW8ocyxuKTw8NnxvKHMsbisxKSx1LnB1c2gobD4+NCl9cmV0dXJuIGQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdSkpLGM9ZC5qb2luKFwiXCIpLGkmJihjPWUuZGVjb2RlKGMpKSxjfSxkZWNvZGVBc0FycmF5OmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5kZWNvZGUodCkscj1bXSxzPWkubGVuZ3RoO2ZvcihlPTA7ZTxzO2UrKylyW2VdPWkuY2hhckNvZGVBdChlKTtyZXR1cm4gcn19LHQuVXRpbC5CYXNlNjR9KSksZGVmaW5lKFwic2VydmVyL3NlcnZlclwiLFtcImp4Z1wiLFwidXRpbHMvemlwXCIsXCJ1dGlscy9iYXNlNjRcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlNlcnZlcj17bW9kdWxlczp7fSxydW5uaW5nQ2FsbHM6e30saGFuZGxlRXJyb3I6ZnVuY3Rpb24oZSl7dC5kZWJ1ZyhcImVycm9yIG9jY3VyZWQsIHNlcnZlciBzYXlzOiBcIitlLm1lc3NhZ2UpfSxjYWxsU2VydmVyOmZ1bmN0aW9uKHMsbyxuLGEpe3ZhciBoLGwsYyxkLHUscCxmO2ZvcihwIGluIGE9YXx8ITEsXCJcIixuKW4uaGFzT3duUHJvcGVydHkocCkmJlwiJlwiK2VzY2FwZShwKStcIj1cIitlc2NhcGUobltwXSk7dT1yLnRvSlNPTihuKTtkb3tkPXMrTWF0aC5mbG9vcig0MDk2Kk1hdGgucmFuZG9tKCkpfXdoaWxlKHIuZXhpc3RzKHRoaXMucnVubmluZ0NhbGxzW2RdKSk7cmV0dXJuIHRoaXMucnVubmluZ0NhbGxzW2RdPXthY3Rpb246c30sci5leGlzdHMobi5tb2R1bGUpJiYodGhpcy5ydW5uaW5nQ2FsbHNbZF0ubW9kdWxlPW4ubW9kdWxlKSxoPXQuc2VydmVyQmFzZStcIkpYR1NlcnZlci5weVwiLGw9XCJhY3Rpb249XCIrZXNjYXBlKHMpK1wiJmlkPVwiK2QrXCImZGF0YUpTT049XCIrZXNjYXBlKGkuZW5jb2RlKHUpKSx0aGlzLmNicD1mdW5jdGlvbih0KXt2YXIgcyxuLGEsaCxsLGMsZCx1O2lmKHM9bmV3IGUuVW56aXAoaS5kZWNvZGVBc0FycmF5KHQpKS51bnppcCgpLHIuaXNBcnJheShzKSYmcy5sZW5ndGg+MCYmKHM9c1swXVswXSksci5leGlzdHMocykpaWYoXCJlcnJvclwiPT09KG49d2luZG93LkpTT04mJndpbmRvdy5KU09OLnBhcnNlP3dpbmRvdy5KU09OLnBhcnNlKHMpOm5ldyBGdW5jdGlvbihcInJldHVybiBcIitzKSgpKS50eXBlKXRoaXMuaGFuZGxlRXJyb3Iobik7ZWxzZSBpZihcInJlc3BvbnNlXCI9PT1uLnR5cGUpe2ZvcihjPW4uaWQsZD0wO2Q8bi5maWVsZHMubGVuZ3RoO2QrKyloPShhPW4uZmllbGRzW2RdKS5uYW1lc3BhY2UrKFwib2JqZWN0XCI9PXR5cGVvZiBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gXCIrYS5uYW1lc3BhY2UpKCk/XCIuXCI6XCIucHJvdG90eXBlLlwiKSthLm5hbWUrXCIgPSBcIithLnZhbHVlLG5ldyBGdW5jdGlvbihoKSgpO2ZvcihkPTA7ZDxuLmhhbmRsZXIubGVuZ3RoO2QrKyl7Zm9yKGE9bi5oYW5kbGVyW2RdLGw9W10sdT0wO3U8YS5wYXJhbWV0ZXJzLmxlbmd0aDt1KyspbFt1XT0nXCInK2EucGFyYW1ldGVyc1t1XSsnXCI6ICcrYS5wYXJhbWV0ZXJzW3VdO2g9XCJpZih0eXBlb2YgSlhHLlNlcnZlci5tb2R1bGVzLlwiK3RoaXMucnVubmluZ0NhbGxzW2NdLm1vZHVsZSsnID09IFwidW5kZWZpbmVkXCIpSlhHLlNlcnZlci5tb2R1bGVzLicrdGhpcy5ydW5uaW5nQ2FsbHNbY10ubW9kdWxlK1wiID0ge307XCIsaCs9XCJKWEcuU2VydmVyLm1vZHVsZXMuXCIrdGhpcy5ydW5uaW5nQ2FsbHNbY10ubW9kdWxlK1wiLlwiK2EubmFtZStcIl9jYiA9IFwiK2EuY2FsbGJhY2srXCI7XCIsaCs9XCJKWEcuU2VydmVyLm1vZHVsZXMuXCIrdGhpcy5ydW5uaW5nQ2FsbHNbY10ubW9kdWxlK1wiLlwiK2EubmFtZStcIiA9IGZ1bmN0aW9uIChcIithLnBhcmFtZXRlcnMuam9pbihcIixcIikrJywgX19KWEdTRVJWRVJfQ0JfXywgX19KWEdTRVJWRVJfU1lOQykge2lmKHR5cGVvZiBfX0pYR1NFUlZFUl9DQl9fID09IFwidW5kZWZpbmVkXCIpIF9fSlhHU0VSVkVSX0NCX18gPSBKWEcuU2VydmVyLm1vZHVsZXMuJyt0aGlzLnJ1bm5pbmdDYWxsc1tjXS5tb2R1bGUrXCIuXCIrYS5uYW1lK1wiX2NiO3ZhciBfX0pYR1NFUlZFUl9QQVJfXyA9IHtcIitsLmpvaW4oXCIsXCIpKycsIFwibW9kdWxlXCI6IFwiJyt0aGlzLnJ1bm5pbmdDYWxsc1tjXS5tb2R1bGUrJ1wiLCBcImhhbmRsZXJcIjogXCInK2EubmFtZSsnXCIgfTtKWEcuU2VydmVyLmNhbGxTZXJ2ZXIoXCJleGVjXCIsIF9fSlhHU0VSVkVSX0NCX18sIF9fSlhHU0VSVkVSX1BBUl9fLCBfX0pYR1NFUlZFUl9TWU5DKTt9OycsbmV3IEZ1bmN0aW9uKGgpKCl9ZGVsZXRlIHRoaXMucnVubmluZ0NhbGxzW2NdLG8obi5kYXRhKX19LHRoaXMuY2I9dC5iaW5kKHRoaXMuY2JwLHRoaXMpLHdpbmRvdy5YTUxIdHRwUmVxdWVzdD8oYz1uZXcgWE1MSHR0cFJlcXVlc3QpLm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PWlzby04ODU5LTFcIik6Yz1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpLCEoIWN8fChjLm9wZW4oXCJQT1NUXCIsaCwhYSksYy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiksYXx8KGMub25yZWFkeXN0YXRlY2hhbmdlPShmPXRoaXMuY2IsZnVuY3Rpb24oKXtyZXR1cm4gND09PWMucmVhZHlTdGF0ZSYmMjAwPT09Yy5zdGF0dXMmJihmKGMucmVzcG9uc2VUZXh0KSwhMCl9KSksYy5zZW5kKGwpLCFhKSkmJih0aGlzLmNiKGMucmVzcG9uc2VUZXh0KSwhMCl9LGxvYWRNb2R1bGVfY2I6ZnVuY3Rpb24oZSl7dmFyIGk7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyl0LmRlYnVnKGVbaV0ubmFtZStcIjogXCIrZVtpXS52YWx1ZSl9LGxvYWRNb2R1bGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuU2VydmVyLmNhbGxTZXJ2ZXIoXCJsb2FkXCIsdC5TZXJ2ZXIubG9hZE1vZHVsZV9jYix7bW9kdWxlOmV9LCEwKX19LHQuU2VydmVyLmxvYWQ9dC5TZXJ2ZXIubG9hZE1vZHVsZSx0LlNlcnZlcn0pKSxkZWZpbmUoXCJtYXRoL3N5bWJvbGljXCIsW1wiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcInNlcnZlci9zZXJ2ZXJcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvKXtcInVzZSBzdHJpY3RcIjt2YXIgbjtyZXR1cm4gaS5TeW1ib2xpYz17Z2VuZXJhdGVTeW1ib2xpY0Nvb3JkaW5hdGVzUGFydGlhbDpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxuLGEsaD1lLmFuY2VzdG9ycyxsPTAsYz1mdW5jdGlvbih0KXtyZXR1cm5cInVuZGVyc2NvcmVcIj09PXI/aStcIl97XCIrdCtcIn1cIjpcImJyYWNlXCI9PT1yP2krXCJbXCIrdCtcIl1cIjppK3R9O2ZvcihuIGluIHQubGlzdE9mRnJlZVBvaW50cz1bXSx0Lmxpc3RPZkRlcGVuZGFudFBvaW50cz1bXSxoKWlmKGguaGFzT3duUHJvcGVydHkobikmJihzPTAsby5pc1BvaW50KGhbbl0pKSl7Zm9yKGEgaW4gaFtuXS5hbmNlc3RvcnMpaFtuXS5hbmNlc3RvcnMuaGFzT3duUHJvcGVydHkoYSkmJnMrKzswPT09cz8oaFtuXS5zeW1ib2xpYy54PWhbbl0uY29vcmRzLnVzckNvb3Jkc1sxXSxoW25dLnN5bWJvbGljLnk9aFtuXS5jb29yZHMudXNyQ29vcmRzWzJdLHQubGlzdE9mRnJlZVBvaW50cy5wdXNoKGhbbl0pKToobCs9MSxoW25dLnN5bWJvbGljLng9YyhsKSxsKz0xLGhbbl0uc3ltYm9saWMueT1jKGwpLHQubGlzdE9mRGVwZW5kYW50UG9pbnRzLnB1c2goaFtuXSkpfXJldHVybiBvLmlzUG9pbnQoZSkmJihlLnN5bWJvbGljLng9XCJ4XCIsZS5zeW1ib2xpYy55PVwieVwiKSxsfSxjbGVhclN5bWJvbGljQ29vcmRpbmF0ZXM6ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGUsaT10JiZ0Lmxlbmd0aHx8MDtmb3IoZT0wO2U8aTtlKyspby5pc1BvaW50KHRbZV0pJiYodFtlXS5zeW1ib2xpYy54PVwiXCIsdFtlXS5zeW1ib2xpYy55PVwiXCIpfTtlKHQubGlzdE9mRnJlZVBvaW50cyksZSh0Lmxpc3RPZkRlcGVuZGFudFBvaW50cyksZGVsZXRlIHQubGlzdE9mRnJlZVBvaW50cyxkZWxldGUgdC5saXN0T2ZEZXBlbmRhbnRQb2ludHN9LGdlbmVyYXRlUG9seW5vbWlhbHM6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbixhLGg9ZS5hbmNlc3RvcnMsbD1bXSxjPVtdO2ZvcihyIGluIGkmJnRoaXMuZ2VuZXJhdGVTeW1ib2xpY0Nvb3JkaW5hdGVzUGFydGlhbCh0LGUsXCJ1XCIsXCJicmFjZVwiKSxoW2UuaWRdPWUsaClpZihoLmhhc093blByb3BlcnR5KHIpJiYoYT0wLGw9W10sby5pc1BvaW50KGhbcl0pKSl7Zm9yKHMgaW4gaFtyXS5hbmNlc3RvcnMpaFtyXS5hbmNlc3RvcnMuaGFzT3duUHJvcGVydHkocykmJmErKztpZihhPjApZm9yKGw9aFtyXS5nZW5lcmF0ZVBvbHlub21pYWwoKSxuPTA7bjxsLmxlbmd0aDtuKyspYy5wdXNoKGxbbl0pfXJldHVybiBpJiZ0aGlzLmNsZWFyU3ltYm9saWNDb29yZGluYXRlcyh0KSxjfSxnZW9tZXRyaWNMb2N1c0J5R3JvZWJuZXJCYXNlOmZ1bmN0aW9uKGEsaCl7dmFyIGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF89YS5vcHRpb25zLmxvY3VzLFA9e30sRT10aGlzLmdlbmVyYXRlU3ltYm9saWNDb29yZGluYXRlc1BhcnRpYWwoYSxoLFwidVwiLFwiYnJhY2VcIikseD1uZXcgZSh0LkNPT1JEU19CWV9VU1IsWzAsMF0sYSksUz1uZXcgZSh0LkNPT1JEU19CWV9VU1IsW2EuY2FudmFzV2lkdGgsYS5jYW52YXNIZWlnaHRdLGEpLE89MSx3PTAsVD0wLE49MDtpZihzLm1vZHVsZXMuZ2VvbG9jaT09PW4mJnMubG9hZE1vZHVsZShcImdlb2xvY2lcIikscy5tb2R1bGVzLmdlb2xvY2k9PT1uKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBVbmFibGUgdG8gbG9hZCBKWEcuU2VydmVyIG1vZHVsZSAnZ2VvbG9jaS5weScuXCIpO2lmKGY9eC51c3JDb29yZHNbMV0sbT1TLnVzckNvb3Jkc1sxXSxnPVMudXNyQ29vcmRzWzJdLGI9eC51c3JDb29yZHNbMl0sXy50cmFuc2xhdGVUb09yaWdpbiYmYS5saXN0T2ZGcmVlUG9pbnRzLmxlbmd0aD4wKXtmb3Iodz0oZD1fLnRvT3JpZ2luIT09biYmbnVsbCE9PV8udG9PcmlnaW4mJm8uaXNJbkFycmF5KGEubGlzdE9mRnJlZVBvaW50cyxfLnRvT3JpZ2luLmlkKT9fLnRvT3JpZ2luOmEubGlzdE9mRnJlZVBvaW50c1swXSkuc3ltYm9saWMueCxUPWQuc3ltYm9saWMueSxwPTA7cDxhLmxpc3RPZkZyZWVQb2ludHMubGVuZ3RoO3ArKylhLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueC09dyxhLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueS09VDtpZihmLT13LG0tPXcsZy09VCxiLT1ULF8udHJhbnNsYXRlVG8xMCYmYS5saXN0T2ZGcmVlUG9pbnRzLmxlbmd0aD4xKXtmb3IodT1fLnRvMTAhPT1uJiZudWxsIT09Xy50bzEwJiZfLnRvMTAuaWQhPT1fLnRvT3JpZ2luLmlkJiZvLmlzSW5BcnJheShhLmxpc3RPZkZyZWVQb2ludHMsXy50bzEwLmlkKT9fLnRvMTA6YS5saXN0T2ZGcmVlUG9pbnRzWzBdLmlkPT09ZC5pZD9hLmxpc3RPZkZyZWVQb2ludHNbMV06YS5saXN0T2ZGcmVlUG9pbnRzWzBdLE49ci5yYWQoWzEsMF0sWzAsMF0sW3Uuc3ltYm9saWMueCx1LnN5bWJvbGljLnldKSx2PU1hdGguY29zKC1OKSx5PU1hdGguc2luKC1OKSxwPTA7cDxhLmxpc3RPZkZyZWVQb2ludHMubGVuZ3RoO3ArKylDPWEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy54LGEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy54PXYqYS5saXN0T2ZGcmVlUG9pbnRzW3BdLnN5bWJvbGljLngteSphLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueSxhLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueT15KkMrdiphLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueTtpZih1LnN5bWJvbGljLnk9MCxDPWYsZj12KmYteSpnLGc9eSpDK3YqZyxDPW0sbT12Km0teSpiLGI9eSpDK3YqYixfLnN0cmV0Y2gmJk1hdGguYWJzKHUuc3ltYm9saWMueCk+aS5lcHMpe2ZvcihPPXUuc3ltYm9saWMueCxwPTA7cDxhLmxpc3RPZkZyZWVQb2ludHMubGVuZ3RoO3ArKylhLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueC89TyxhLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueS89Tztmb3IocD0wO3A8YS5vYmplY3RzTGlzdC5sZW5ndGg7cCsrKWEub2JqZWN0c0xpc3RbcF0uZWxlbWVudENsYXNzPT09dC5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFJiZcInBvaW50UmFkaXVzXCI9PT1hLm9iamVjdHNMaXN0W3BdLm1ldGhvZCYmKFBbcF09YS5vYmplY3RzTGlzdFtwXS5yYWRpdXMsYS5vYmplY3RzTGlzdFtwXS5yYWRpdXMvPU8pO2YvPU8sbS89TyxnLz1PLGIvPU8sdS5zeW1ib2xpYy54PTF9fWZvcihwPTA7cDxhLmxpc3RPZkZyZWVQb2ludHMubGVuZ3RoO3ArKylDPWEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy54LE1hdGguYWJzKEMpPGkuZXBzJiYoYS5saXN0T2ZGcmVlUG9pbnRzW3BdLnN5bWJvbGljLng9MCksTWF0aC5hYnMoQy1NYXRoLnJvdW5kKEMpKTxpLmVwcyYmKGEubGlzdE9mRnJlZVBvaW50c1twXS5zeW1ib2xpYy54PU1hdGgucm91bmQoQykpLEM9YS5saXN0T2ZGcmVlUG9pbnRzW3BdLnN5bWJvbGljLnksTWF0aC5hYnMoQyk8aS5lcHMmJihhLmxpc3RPZkZyZWVQb2ludHNbcF0uc3ltYm9saWMueT0wKSxNYXRoLmFicyhDLU1hdGgucm91bmQoQykpPGkuZXBzJiYoYS5saXN0T2ZGcmVlUG9pbnRzW3BdLnN5bWJvbGljLnk9TWF0aC5yb3VuZChDKSl9Zm9yKHAgaW4gbD10aGlzLmdlbmVyYXRlUG9seW5vbWlhbHMoYSxoKS5qb2luKFwiLFwiKSx0aGlzLmNicD1mdW5jdGlvbih0KXtjPXR9LHRoaXMuY2I9by5iaW5kKHRoaXMuY2JwLHRoaXMpLHMubW9kdWxlcy5nZW9sb2NpLmxvY2lDb0NvQShmLG0sZyxiLEUsbCxPLE4sdyxULHRoaXMuY2IsITApLHRoaXMuY2xlYXJTeW1ib2xpY0Nvb3JkaW5hdGVzKGEpLFApUC5oYXNPd25Qcm9wZXJ0eShwKSYmKGEub2JqZWN0c1twXS5yYWRpdXM9UFtwXSk7cmV0dXJuIGN9fSxpLlN5bWJvbGljfSkpLGRlZmluZShcIm1hdGgvY2xpcFwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gci5DbGlwPXtfaXNTZXBhcmF0b3I6ZnVuY3Rpb24odCl7cmV0dXJuIGlzTmFOKHQuY29vcmRzLnVzckNvb3Jkc1sxXSkmJmlzTmFOKHQuY29vcmRzLnVzckNvb3Jkc1syXSl9LG1ha2VEb3VibHlMaW5rZWRMaXN0OmZ1bmN0aW9uKHQpe3ZhciBlLGk9bnVsbCxyPVtdLHM9dC5sZW5ndGg7aWYocz4wKWZvcihlPTA7ZTxzO2UrKyl0aGlzLl9pc1NlcGFyYXRvcih0W2VdKT8odFtlXS5fbmV4dD10WyhlKzEpJXNdLHRbZV0uX3ByZXY9dFsocytlLTEpJXNdKToobnVsbD09PWkmJihpPWUsci5wdXNoKGkpKSx0aGlzLl9pc1NlcGFyYXRvcih0WyhlKzEpJXNdKXx8ZT09PXMtMT8odFtlXS5fbmV4dD10W2ldLHRbaV0uX3ByZXY9dFtlXSx0W2VdLl9lbmQ9ITAsaT1udWxsKToodFtlXS5fbmV4dD10WyhlKzEpJXNdLHRbaV0uX3ByZXY9dFtlXSksdGhpcy5faXNTZXBhcmF0b3IodFsocytlLTEpJXNdKXx8KHRbZV0uX3ByZXY9dFsocytlLTEpJXNdKSk7cmV0dXJuIHJ9LGRldDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuKHRbMV0taVsxXSkqKGVbMl0taVsyXSktKGVbMV0taVsxXSkqKHRbMl0taVsyXSl9LHdpbmRpbmdOdW1iZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxzLG8sbixhLGg9MCxsPWUubGVuZ3RoLGM9dFsxXSxkPXRbMl07aWYoMD09PWwpcmV0dXJuIDA7aWYoaXNOYU4oYyl8fGlzTmFOKGQpKXJldHVybiAxO2lmKGVbMF0uY29vcmRzLnVzckNvb3Jkc1sxXT09PWMmJmVbMF0uY29vcmRzLnVzckNvb3Jkc1syXT09PWQpcmV0dXJuIDE7Zm9yKGE9MDthPGw7YSsrKWlmKGk9ZVthXS5jb29yZHMudXNyQ29vcmRzLHM9ZVsoYSsxKSVsXS5jb29yZHMudXNyQ29vcmRzLCEoMD09PWlbMF18fDA9PT1zWzBdfHxpc05hTihpWzFdKXx8aXNOYU4oc1sxXSl8fGlzTmFOKGlbMl0pfHxpc05hTihzWzJdKSkpe2lmKHNbMl09PT1kKXtpZihzWzFdPT09YylyZXR1cm4gMTtpZihpWzJdPT09ZCYmc1sxXT5jPT1pWzFdPGMpcmV0dXJuIDB9aWYoaVsyXTxkIT1zWzJdPGQpaWYobj0yKihzWzJdPmlbMl0/MTowKS0xLGlbMV0+PWMpaWYoc1sxXT5jKWgrPW47ZWxzZXtpZigwPT09KG89dGhpcy5kZXQoaSxzLHQpKSlyZXR1cm4gMDtvPjA9PXNbMl0+aVsyXSYmKGgrPW4pfWVsc2Ugc1sxXT5jJiYobz10aGlzLmRldChpLHMsdCkpPjArci5lcHM9PXNbMl0+aVsyXSYmKGgrPW4pfXJldHVybiBofSxWZXJ0ZXg6ZnVuY3Rpb24odCxpLHIscyxvLG4pe3RoaXMucG9zPWksdGhpcy5pbnRlcnNlY3Rpb249ITAsdGhpcy5jb29yZHM9dCx0aGlzLmVsZW1lbnRDbGFzcz1lLk9CSkVDVF9DTEFTU19QT0lOVCx0aGlzLmRhdGE9e2FscGhhOnIscGF0aDpzLHBhdGhuYW1lOm8sZG9uZTohMSx0eXBlOm4saWR4OjB9LHRoaXMubmVpZ2hib3VyPW51bGwsdGhpcy5lbnRyeV9leGl0PSExfSxfYWRkVG9MaXN0OmZ1bmN0aW9uKHQsaSxzKXt2YXIgbz10Lmxlbmd0aCxuPXIuZXBzKnIuZXBzO28+MCYmTWF0aC5hYnModFtvLTFdLmNvb3Jkcy51c3JDb29yZHNbMF0taS51c3JDb29yZHNbMF0pPG4mJk1hdGguYWJzKHRbby0xXS5jb29yZHMudXNyQ29vcmRzWzFdLWkudXNyQ29vcmRzWzFdKTxuJiZNYXRoLmFicyh0W28tMV0uY29vcmRzLnVzckNvb3Jkc1syXS1pLnVzckNvb3Jkc1syXSk8bnx8dC5wdXNoKHtwb3M6cyxpbnRlcnNlY3Rpb246ITEsY29vcmRzOmksZWxlbWVudENsYXNzOmUuT0JKRUNUX0NMQVNTX1BPSU5UfSl9LHNvcnRJbnRlcnNlY3Rpb25zOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sbixhPVtdLGg9dC5sZW5ndGg7Zm9yKGU9MDtlPGg7ZSsrKWlmKHRbZV0uc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5kYXRhLmFscGhhPmUuZGF0YS5hbHBoYT8xOi0xfSkpLHRbZV0ubGVuZ3RoPjApe2ZvcihvPXRbZV0ubGVuZ3RoLTEsbj0ocz0ocj10W2VdWzBdKS5kYXRhLnBhdGhbci5wb3NdKS5fbmV4dCxlPT09aC0xJiYocy5fZW5kPSExKSwwPT09ci5kYXRhLmFscGhhJiZcIlRcIj09PXIuZGF0YS50eXBlPyhzLmludGVyc2VjdGlvbj0hMCxzLmRhdGE9ci5kYXRhLHMubmVpZ2hib3VyPXIubmVpZ2hib3VyLHMubmVpZ2hib3VyLm5laWdoYm91cj1zLHMuZW50cnlfZXhpdD0hMSx0W2VdWzBdPXMpOihyLl9wcmV2PXMsci5fcHJldi5fbmV4dD1yKSxpPTE7aTw9bztpKyspKHI9dFtlXVtpXSkuX3ByZXY9dFtlXVtpLTFdLHIuX3ByZXYuX25leHQ9cjsocj10W2VdW29dKS5fbmV4dD1uLHIuX25leHQuX3ByZXY9cixlPT09aC0xJiYoci5fZW5kPSEwKSxhPWEuY29uY2F0KHRbZV0pfXJldHVybiBhfSxfaW5iZXR3ZWVuOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxvPXIuZXBzKnIuZXBzLG49aVsxXS1lWzFdLGE9aVsyXS1lWzJdLGg9dFsxXS1lWzFdLGw9dFsyXS1lWzJdO3JldHVybiAwPT09biYmMD09PWEmJjA9PT1oJiYwPT09bHx8KHM9TWF0aC5hYnMoaCk8byYmTWF0aC5hYnMobik8bz9sL2E6aC9uLE1hdGguYWJzKHMpPG8mJihzPTApLHMpfSxfcHJpbnRfYXJyYXk6ZnVuY3Rpb24odCl7dmFyIGUsaTtmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKXRyeXtpPVwiXCIsdFtlXS5fZW5kJiYoaT1cIiBlbmRcIiksY29uc29sZS5sb2coZSx0W2VdLmNvb3Jkcy51c3JDb29yZHMsdFtlXS5kYXRhLnR5cGUsXCJcXHRcIixcInByZXZcIix0W2VdLl9wcmV2LmNvb3Jkcy51c3JDb29yZHMsXCJuZXh0XCIsdFtlXS5fbmV4dC5jb29yZHMudXNyQ29vcmRzK2kpfWNhdGNoKGkpe2NvbnNvbGUubG9nKGUsdFtlXS5jb29yZHMudXNyQ29vcmRzKX19LF9wcmludF9saXN0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPTA7aTwxMDAmJihlPXQuZGF0YT90LmRhdGEuYWxwaGE6XCItXCIsY29uc29sZS5sb2coXCJcXHRcIix0LmNvb3Jkcy51c3JDb29yZHMsXCJcXG5cXHRcXHRpczpcIix0LmludGVyc2VjdGlvbixcImVuZDpcIix0Ll9lbmQsZSxcIlxcblxcdFxcdC06XCIsdC5fcHJldi5jb29yZHMudXNyQ29vcmRzLFwiXFxuXFx0XFx0KzpcIix0Ll9uZXh0LmNvb3Jkcy51c3JDb29yZHMsXCJcXG5cXHRcXHRuOlwiLHQuaW50ZXJzZWN0aW9uP3QubmVpZ2hib3VyLmNvb3Jkcy51c3JDb29yZHM6XCItXCIpLCF0Ll9lbmQpOyl0PXQuX25leHQsaSsrfSxfbm9PdmVybGFwOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBvLG4sYSxoLGwsYz1NYXRoLnNxcnQoci5lcHMpLGQ9ITE7Zm9yKG89MDtvPDM7bysrKWlmKG49TWF0aC5taW4odFtvXSxlW29dKSxhPU1hdGgubWF4KHRbb10sZVtvXSksaD1NYXRoLm1pbihpW29dLHNbb10pLGw9TWF0aC5tYXgoaVtvXSxzW29dKSxhPGgtY3x8bj5sK2Mpe2Q9ITA7YnJlYWt9cmV0dXJuIGR9LGZpbmRJbnRlcnNlY3Rpb25zOmZ1bmN0aW9uKHQsbyxuKXt2YXIgYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDPVtdLF89ci5lcHMsUD10Lmxlbmd0aCxFPW8ubGVuZ3RoLHg9W10sUz1bXSxPPVtdLHc9ITEsVD0hMSxOPSExO2ZvcihoPTA7aDxFO2grKylPLnB1c2goW10pO2ZvcihhPTA7YTxQO2ErKylpZihTLnB1c2goW10pLHRoaXMuX2lzU2VwYXJhdG9yKHRbYV0pfHx0aGlzLl9pc1NlcGFyYXRvcih0WyhhKzEpJVBdKSl3PSEwO2Vsc2V7aWYodyYmYT09PVAtMSlicmVhaztmb3IoYz10W2FdLmNvb3Jkcy51c3JDb29yZHMsZD10WyhhKzEpJVBdLmNvb3Jkcy51c3JDb29yZHMsaD0wO2g8RTtoKyspaWYodGhpcy5faXNTZXBhcmF0b3Iob1toXSl8fHRoaXMuX2lzU2VwYXJhdG9yKG9bKGgrMSklRV0pKVQ9ITA7ZWxzZXtpZihUJiZoPT09RS0xKWJyZWFrO2lmKHU9b1toXS5jb29yZHMudXNyQ29vcmRzLHA9b1soaCsxKSVFXS5jb29yZHMudXNyQ29vcmRzLCF0aGlzLl9ub092ZXJsYXAoYyxkLHUscCkmJihDPXMubWVldFNlZ21lbnRTZWdtZW50KGMsZCx1LHApLGY9cy5kaXN0YW5jZShjLGQsMyksbT1zLmRpc3RhbmNlKHUscCwzKSxDWzFdKmY+LV8mJkNbMV08MS1fL2YmJkNbMl0qbT4tXyYmQ1syXTwxLV8vbXx8Q1sxXT09PTEvMCYmQ1syXT09PTEvMCYmci5ub3JtKENbMF0sMyk8Xykpe2lmKGw9bmV3IGkoZS5DT09SRFNfQllfVVNFUixDWzBdLG4pLGI9XCJYXCIsTWF0aC5hYnMoQ1sxXSkqZjxffHxNYXRoLmFicyhDWzJdKSptPF8pYj1cIlRcIixNYXRoLmFicyhDWzFdKSpmPF8mJihDWzFdPTApLE1hdGguYWJzKENbMl0pKm08XyYmKENbMl09MCksbD0wPT09Q1sxXT9uZXcgaShlLkNPT1JEU19CWV9VU0VSLGMsbik6bmV3IGkoZS5DT09SRFNfQllfVVNFUix1LG4pO2Vsc2UgaWYoQ1sxXT09PTEvMCYmQ1syXT09PTEvMCYmci5ub3JtKENbMF0sMyk8Xyl7KGc9dGhpcy5faW5iZXR3ZWVuKGMsdSxwKSk+PTAmJmc8MSYmKGI9XCJUXCIsbD1uZXcgaShlLkNPT1JEU19CWV9VU0VSLGMsbiksQ1sxXT0wLENbMl09Zyx2PW5ldyB0aGlzLlZlcnRleChsLGEsQ1sxXSx0LFwiU1wiLGIpLHk9bmV3IHRoaXMuVmVydGV4KGwsaCxDWzJdLG8sXCJDXCIsYiksdi5uZWlnaGJvdXI9eSx5Lm5laWdoYm91cj12LFNbYV0ucHVzaCh2KSxPW2hdLnB1c2goeSkpLGc9dGhpcy5faW5iZXR3ZWVuKHUsYyxkKSxzLmRpc3RhbmNlKGMsdSwzKT5fJiZnPj0wJiZnPDEmJihiPVwiVFwiLGw9bmV3IGkoZS5DT09SRFNfQllfVVNFUix1LG4pLENbMV09ZyxDWzJdPTAsdj1uZXcgdGhpcy5WZXJ0ZXgobCxhLENbMV0sdCxcIlNcIixiKSx5PW5ldyB0aGlzLlZlcnRleChsLGgsQ1syXSxvLFwiQ1wiLGIpLHYubmVpZ2hib3VyPXkseS5uZWlnaGJvdXI9dixTW2FdLnB1c2godiksT1toXS5wdXNoKHkpKTtjb250aW51ZX1OLHY9bmV3IHRoaXMuVmVydGV4KGwsYSxDWzFdLHQsXCJTXCIsYikseT1uZXcgdGhpcy5WZXJ0ZXgobCxoLENbMl0sbyxcIkNcIixiKSx2Lm5laWdoYm91cj15LHkubmVpZ2hib3VyPXYsU1thXS5wdXNoKHYpLE9baF0ucHVzaCh5KX19fWZvcih4PXRoaXMuc29ydEludGVyc2VjdGlvbnMoUyksYT0wO2E8eC5sZW5ndGg7YSsrKXhbYV0uZGF0YS5pZHg9YSx4W2FdLm5laWdoYm91ci5kYXRhLmlkeD1hO3JldHVyblt4LHRoaXMuc29ydEludGVyc2VjdGlvbnMoTyldfSxfZ2V0UG9zaXRpb246ZnVuY3Rpb24odCxlLGkscil7dmFyIHM9dGhpcy5kZXQodCxlLGkpLG89dGhpcy5kZXQodCxpLHIpO3JldHVybiB0aGlzLmRldChlLGkscik+PTA/cz49MCYmbz49MD9cImxlZnRcIjpcInJpZ2h0XCI6cz49MHx8bz49MD9cImxlZnRcIjpcInJpZ2h0XCJ9LF9jbGFzc2lmeURlZ2VuZXJhdGVJbnRlcnNlY3Rpb25zOmZ1bmN0aW9uKHQpe3ZhciBlLGksbixhLGgsbCxjLGQsdSxwLGYsbSxnLGI9ITE7Zm9yKGIsYz0wLHQuX3RvdXJzPTA7Oyl7aWYodC5pbnRlcnNlY3Rpb24mJlwiVFwiPT09dC5kYXRhLnR5cGUmJihlPXQuX25leHQuY29vcmRzLnVzckNvb3JkcyxpPXQuX3ByZXYuY29vcmRzLnVzckNvb3JkcyxzLmRpc3RhbmNlKHQuY29vcmRzLnVzckNvb3JkcyxlLDMpPHIuZXBzJiYoZT10Ll9uZXh0Ll9uZXh0LmNvb3Jkcy51c3JDb29yZHMpLHMuZGlzdGFuY2UodC5jb29yZHMudXNyQ29vcmRzLGksMyk8ci5lcHMmJihpPXQuX3ByZXYuX3ByZXYuY29vcmRzLnVzckNvb3JkcyksYT0oaD10Lm5laWdoYm91cikuX3ByZXYuY29vcmRzLnVzckNvb3JkcyxuPWguX25leHQuY29vcmRzLnVzckNvb3JkcyxzLmRpc3RhbmNlKGguY29vcmRzLnVzckNvb3JkcyxuLDMpPHIuZXBzJiYobj1oLl9uZXh0Ll9uZXh0LmNvb3Jkcy51c3JDb29yZHMpLHMuZGlzdGFuY2UoaC5jb29yZHMudXNyQ29vcmRzLGEsMyk8ci5lcHMmJihhPWguX3ByZXYuX3ByZXYuY29vcmRzLnVzckNvb3JkcykscD10aGlzLmRldCh0LmNvb3Jkcy51c3JDb29yZHMsaSxhKSxmPXRoaXMuZGV0KHQuY29vcmRzLnVzckNvb3JkcyxlLG4pLG09dGhpcy5kZXQodC5jb29yZHMudXNyQ29vcmRzLGksbiksZz10aGlzLmRldCh0LmNvb3Jkcy51c3JDb29yZHMsZSxhKSwwPT09cCYmMD09PWYmJjA9PT1tJiYwPT09ZyYmKHQuY29vcmRzLnVzckNvb3Jkc1sxXSo9MStNYXRoLnJhbmRvbSgpKnIuZXBzLHQuY29vcmRzLnVzckNvb3Jkc1syXSo9MStNYXRoLnJhbmRvbSgpKnIuZXBzLGguY29vcmRzLnVzckNvb3Jkc1sxXT10LmNvb3Jkcy51c3JDb29yZHNbMV0saC5jb29yZHMudXNyQ29vcmRzWzJdPXQuY29vcmRzLnVzckNvb3Jkc1syXSxwPXRoaXMuZGV0KHQuY29vcmRzLnVzckNvb3JkcyxpLGEpLGY9dGhpcy5kZXQodC5jb29yZHMudXNyQ29vcmRzLGUsbiksbT10aGlzLmRldCh0LmNvb3Jkcy51c3JDb29yZHMsaSxuKSxnPXRoaXMuZGV0KHQuY29vcmRzLnVzckNvb3JkcyxlLGEpKSx1PSExLDA9PT1wP3MuYWZmaW5lUmF0aW8odC5jb29yZHMudXNyQ29vcmRzLGksYSk8MCYmKHU9ITApOjA9PT1mP3MuYWZmaW5lUmF0aW8odC5jb29yZHMudXNyQ29vcmRzLGUsbik8MCYmKHU9ITApOjA9PT1tP3MuYWZmaW5lUmF0aW8odC5jb29yZHMudXNyQ29vcmRzLGksbik+MCYmKHU9ITApOjA9PT1nJiZzLmFmZmluZVJhdGlvKHQuY29vcmRzLnVzckNvb3JkcyxlLGEpPjAmJih1PSEwKSx1JiYoZD1hLGE9bixuPWQsZD1wLHA9bSxtPWQsZD1mLGY9ZyxnPWQpLG8uZXhpc3RzKHQuZGVsYXllZFN0YXR1cyl8fCh0LmRlbGF5ZWRTdGF0dXM9W10pLDA9PT1wJiYwPT09Zj90LmRlbGF5ZWRTdGF0dXM9W1wib25cIixcIm9uXCJdOjA9PT1wPyhsPXRoaXMuX2dldFBvc2l0aW9uKGUsYSxoLmNvb3Jkcy51c3JDb29yZHMsbiksdC5kZWxheWVkU3RhdHVzPVtcIm9uXCIsbF0pOjA9PT1mPyhsPXRoaXMuX2dldFBvc2l0aW9uKGksYSxoLmNvb3Jkcy51c3JDb29yZHMsbiksdC5kZWxheWVkU3RhdHVzPVtsLFwib25cIl0pOjA9PT10LmRlbGF5ZWRTdGF0dXMubGVuZ3RoJiYodGhpcy5fZ2V0UG9zaXRpb24oaSxhLGguY29vcmRzLnVzckNvb3JkcyxuKSE9PXRoaXMuX2dldFBvc2l0aW9uKGUsYSxoLmNvb3Jkcy51c3JDb29yZHMsbik/dC5kYXRhLnR5cGU9XCJYXCI6dC5kYXRhLnR5cGU9XCJCXCIpKSxvLmV4aXN0cyh0Ll90b3VycykmJnQuX3RvdXJzKyssdC5fdG91cnM+M3x8dC5fZW5kfHxjPjFlMyl7Yz4xZTMmJmNvbnNvbGUubG9nKFwiQ2xpcHBpbmc6IF9jbGFzc2lmeURlZ2VuZXJhdGVJbnRlcnNlY3Rpb25zIGV4aXRcIiksby5leGlzdHModC5fdG91cnMpJiZkZWxldGUgdC5fdG91cnM7YnJlYWt9dC5pbnRlcnNlY3Rpb24mJmMrKyx0PXQuX25leHR9fSxfaGFuZGxlSW50ZXJzZWN0aW9uQ2hhaW5zOmZ1bmN0aW9uKHQpe3ZhciBlLGk9MCxyPVwiTnVsbFwiLHM9ITEsbz0hMSxuPSExO2ZvcihuOyEwPT09dC5pbnRlcnNlY3Rpb24mJihcIlRcIj09PXQuZGF0YS50eXBlJiYoXCJvblwiIT09dC5kZWxheWVkU3RhdHVzWzBdJiZcIm9uXCI9PT10LmRlbGF5ZWRTdGF0dXNbMV0/KHM9ITAsZT10LHI9dC5kZWxheWVkU3RhdHVzWzBdKTpzJiZcIm9uXCI9PT10LmRlbGF5ZWRTdGF0dXNbMF0mJlwib25cIj09PXQuZGVsYXllZFN0YXR1c1sxXT90LmRhdGEudHlwZT1cIkJcIjpzJiZcIm9uXCI9PT10LmRlbGF5ZWRTdGF0dXNbMF0mJlwib25cIiE9PXQuZGVsYXllZFN0YXR1c1sxXSYmKHM9ITEscj09PXQuZGVsYXllZFN0YXR1c1sxXT8oZS5kYXRhLnR5cGU9XCJEQlwiLHQuZGF0YS50eXBlPVwiREJcIik6KGUuZGF0YS50eXBlPVwiRFhcIix0LmRhdGEudHlwZT1cIkRYXCIpKSksaSsrKSx0Ll9lbmQmJihvPSEwKSwhb3x8czspe2lmKGk+MWUzKXtjb25zb2xlLmxvZyhcIldhcm5pbmc6IF9oYW5kbGVJbnRlcnNlY3Rpb25DaGFpbnM6IGludGVyc2VjdGlvbiBjaGFpbiByZWFjaGVkIG1heGltdW0gbnVtYmVycyBvZiBpdGVyYXRpb25zXCIpO2JyZWFrfXQ9dC5fbmV4dH19LF9oYW5kbGVGdWxseURlZ2VuZXJhdGVDYXNlOmZ1bmN0aW9uKHQscyxvKXt2YXIgbixhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5PVt0LHNdO2ZvcihoPTA7aDwyO2grKyl7Zm9yKG09KG49eVtoXSkubGVuZ3RoLHA9MCx2PSEwO3A8bTtwKyspaWYoIW5bcF0uaW50ZXJzZWN0aW9uKXt2PSExO2JyZWFrfWlmKHYpZm9yKGc9KGE9eVsoaCsxKSUyXSkubGVuZ3RoLHA9MDtwPG07cCsrKXtmb3IoYz1uW3BdLmNvb3Jkcy51c3JDb29yZHMsZD1uWyhwKzEpJW1dLmNvb3Jkcy51c3JDb29yZHMsbD1bLjUqKGNbMF0rZFswXSksLjUqKGNbMV0rZFsxXSksLjUqKGNbMl0rZFsyXSldLGY9MCxiPSExO2Y8ZztmKyspaWYoTWF0aC5hYnModGhpcy5kZXQoYVtmXS5jb29yZHMudXNyQ29vcmRzLGFbKGYrMSklZ10uY29vcmRzLnVzckNvb3JkcyxsKSk8ci5lcHMpe2I9ITA7YnJlYWt9aWYoIWIpe3U9e3BvczpwLGludGVyc2VjdGlvbjohMSxjb29yZHM6bmV3IGkoZS5DT09SRFNfQllfVVNFUixsLG8pLGVsZW1lbnRDbGFzczplLk9CSkVDVF9DTEFTU19QT0lOVH0sbltwXS5fbmV4dD11LHUuX3ByZXY9bltwXSxuWyhwKzEpJW1dLl9wcmV2PXUsdS5fbmV4dD1uWyhwKzEpJW1dLG5bcF0uX2VuZCYmKG5bcF0uX2VuZD0hMSx1Ll9lbmQ9ITApO2JyZWFrfX19fSxfZ2V0U3RhdHVzOmZ1bmN0aW9uKHQsZSl7Zm9yKDt0LmludGVyc2VjdGlvbiYmIXQuX2VuZDspdD10Ll9uZXh0O3JldHVyblt0LHRoaXMud2luZGluZ051bWJlcih0LmNvb3Jkcy51c3JDb29yZHMsZSklMj09MD9cImVudHJ5XCI6XCJleGl0XCJdfSxtYXJrRW50cnlFeGl0OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG4sYSxoLGwsYyxkPW51bGwsdT0wO2ZvcihsPWkubGVuZ3RoLGg9MDtoPGw7aCsrKWZvcihjPWlbaF0sdGhpcy5fY2xhc3NpZnlEZWdlbmVyYXRlSW50ZXJzZWN0aW9ucyh0W2NdKSx0aGlzLl9oYW5kbGVJbnRlcnNlY3Rpb25DaGFpbnModFtjXSkscz0oYT10aGlzLl9nZXRTdGF0dXModFtjXSxlKSlbMF0scj1hWzFdLHMuX3N0YXJ0ZXI9ITAsbj0wLGQ9bnVsbCx1PTA7ITA9PT1zLmludGVyc2VjdGlvbiYmKFwiWFwiPT09cy5kYXRhLnR5cGUmJjE9PT11JiYoZC5lbnRyeV9leGl0PXIsXCJleGl0XCI9PT1yJiYoZC5kYXRhLnR5cGU9XCJYXCIpLHU9MiksXCJYXCIhPT1zLmRhdGEudHlwZSYmXCJEQlwiIT09cy5kYXRhLnR5cGV8fChzLmVudHJ5X2V4aXQ9cixyPVwiZW50cnlcIj09PXI/XCJleGl0XCI6XCJlbnRyeVwiKSxcIkRYXCI9PT1zLmRhdGEudHlwZSYmKDA9PT11PyhkPXMsdT0xKToxPT09dT8ocy5lbnRyeV9leGl0PXIsZC5lbnRyeV9leGl0PXIsXCJleGl0XCI9PT1yP2QuZGF0YS50eXBlPVwiWFwiOnMuZGF0YS50eXBlPVwiWFwiLHI9XCJlbnRyeVwiPT09cj9cImV4aXRcIjpcImVudHJ5XCIsZD1udWxsLHU9MCk6Mj09PXUmJihzLmVudHJ5X2V4aXQ9cixzLmRhdGEudHlwZT1cIlhcIixyPVwiZW50cnlcIj09PXI/XCJleGl0XCI6XCJlbnRyeVwiLGQ9bnVsbCx1PTApKSkscz1zLl9uZXh0LCEoby5leGlzdHMocy5fc3RhcnRlcil8fG4+MWU0KTspbisrfSxfc3RheU9uUGF0aDpmdW5jdGlvbih0LGUpe3ZhciBpPSEwO3JldHVybiB0LmludGVyc2VjdGlvbiYmXCJCXCIhPT10LmRhdGEudHlwZSYmKGk9ZT09PXQuZW50cnlfZXhpdCksaX0sX2FkZFZlcnRleDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGlzTmFOKGUuY29vcmRzLnVzckNvb3Jkc1sxXSl8fGlzTmFOKGUuY29vcmRzLnVzckNvb3Jkc1syXSl8fHQucHVzaChlKSxlLmludGVyc2VjdGlvbiYmZS5kYXRhLmRvbmU/KGkmJmNvbnNvbGUubG9nKFwiQWRkIGxhc3QgaW50ZXJzZWN0aW9uIHBvaW50XCIsZS5jb29yZHMudXNyQ29vcmRzLFwib25cIixlLmRhdGEucGF0aG5hbWUsZS5lbnRyeV9leGl0LGUuZGF0YS50eXBlKSwhMCk6KGUuaW50ZXJzZWN0aW9uJiYoZS5kYXRhLmRvbmU9ITAsaSYmY29uc29sZS5sb2coXCJBZGQgaW50ZXJzZWN0aW9uIHBvaW50XCIsZS5jb29yZHMudXNyQ29vcmRzLFwib25cIixlLmRhdGEucGF0aG5hbWUsZS5lbnRyeV9leGl0LGUuZGF0YS50eXBlKSksITEpfSx0cmFjaW5nOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhPTAsaD0xZTQsbD0wLGM9W10sZD0hMSx1PSExO2Zvcih1O2w8ZS5sZW5ndGgmJmE8aDspaWYoKHM9ZVtsXSkuZGF0YS5kb25lfHxcIlhcIiE9PXMuZGF0YS50eXBlKWwrKztlbHNle3UsYy5sZW5ndGg+MCYmYy5wdXNoKFtOYU4sTmFOXSksbz1zLmRhdGEuaWR4LHI9dCxkPXRoaXMuX2FkZFZlcnRleChjLHMsdSksbj1zLmVudHJ5X2V4aXQ7ZG97aWYoZClicmVhaztpZihcImludGVyc2VjdGlvblwiPT09aSYmXCJlbnRyeVwiPT09cy5lbnRyeV9leGl0fHxcInVuaW9uXCI9PT1pJiZcImV4aXRcIj09PXMuZW50cnlfZXhpdHx8XCJkaWZmZXJlbmNlXCI9PT1pJiZyPT09dD09KFwiZXhpdFwiPT09cy5lbnRyeV9leGl0KSl7dTtkb3tpZihzPXMuX25leHQsZD10aGlzLl9hZGRWZXJ0ZXgoYyxzLHUpKWJyZWFrfXdoaWxlKHRoaXMuX3N0YXlPblBhdGgocyxuKSk7YSsrfWVsc2V7dTtkb3tpZihzPXMuX3ByZXYsZD10aGlzLl9hZGRWZXJ0ZXgoYyxzLHUpKWJyZWFrfXdoaWxlKHRoaXMuX3N0YXlPblBhdGgocyxuKSk7YSsrfWlmKGQpYnJlYWs7aWYoIXMubmVpZ2hib3VyKXJldHVybiBjb25zb2xlLmxvZyhcIlRyYWNpbmc6IGVtZXJnZW5jeSBicmVhayAtIG5vIG5laWdoYm91ciEhISEhISEhISEhISEhISEhXCIsYSksW1swXSxbMF1dO2lmKChzPXMubmVpZ2hib3VyKS5kYXRhLmRvbmUpYnJlYWs7cy5kYXRhLmRvbmU9ITAsbj1zLmVudHJ5X2V4aXQscj1zLmRhdGEucGF0aH13aGlsZShzLmRhdGEuaWR4IT09byYmYTxoKTthPj1oJiZjb25zb2xlLmxvZyhcIlRyYWNpbmc6IHN0b3BwaW5nIGFuIGluZmluaXRlIGxvb3AhXCIsYSksbCsrfXJldHVybiB0aGlzLl9nZXRDb29yZHNBcnJheXMoYywhMSl9LGlzRW1wdHlDYXNlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm5cImludGVyc2VjdGlvblwiPT09aSYmKDA9PT10Lmxlbmd0aHx8MD09PWUubGVuZ3RoKXx8KFwidW5pb25cIj09PWkmJjA9PT10Lmxlbmd0aCYmMD09PWUubGVuZ3RofHxcImRpZmZlcmVuY2VcIj09PWkmJjA9PT10Lmxlbmd0aCl9LF9nZXRDb29yZHNBcnJheXM6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPVtdLHM9W10sbz10Lmxlbmd0aDtmb3IoaT0wO2k8bztpKyspdFtpXS5jb29yZHM/KHIucHVzaCh0W2ldLmNvb3Jkcy51c3JDb29yZHNbMV0pLHMucHVzaCh0W2ldLmNvb3Jkcy51c3JDb29yZHNbMl0pKTooci5wdXNoKHRbaV1bMF0pLHMucHVzaCh0W2ldWzFdKSk7cmV0dXJuIGUmJm8+MCYmKHRbMF0uY29vcmRzPyhyLnB1c2godFswXS5jb29yZHMudXNyQ29vcmRzWzFdKSxzLnB1c2godFswXS5jb29yZHMudXNyQ29vcmRzWzJdKSk6KHIucHVzaCh0WzBdWzBdKSxzLnB1c2godFswXVsxXSkpKSxbcixzXX0saGFuZGxlRW1wdHlJbnRlcnNlY3Rpb246ZnVuY3Rpb24odCxlLGkpe3ZhciByLG8sbj0hMSxhPVtdO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gYT1cInVuaW9uXCI9PT1pP2U6W10sdGhpcy5fZ2V0Q29vcmRzQXJyYXlzKGEsITApO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gYT1cImludGVyc2VjdGlvblwiPT09aT9bXTp0LHRoaXMuX2dldENvb3Jkc0FycmF5cyhhLCEwKTtpZih0Lmxlbmd0aD4wKWZvcihyPXRbMF07ci5pbnRlcnNlY3Rpb24mJiEocj1yLl9uZXh0KS5fZW5kOyk7aWYoZS5sZW5ndGg+MClmb3Iobz1lWzBdO28uaW50ZXJzZWN0aW9uJiYhKG89by5fbmV4dCkuX2VuZDspO3JldHVybiAwPT09dGhpcy53aW5kaW5nTnVtYmVyKHIuY29vcmRzLnVzckNvb3JkcyxlKT8wIT09dGhpcy53aW5kaW5nTnVtYmVyKG8uY29vcmRzLnVzckNvb3Jkcyx0KT8oXCJ1bmlvblwiPT09aT8oYT1hLmNvbmNhdCh0KSkucHVzaCh0WzBdKTpcImRpZmZlcmVuY2VcIj09PWkmJigoYT1hLmNvbmNhdCh0KSkucHVzaCh0WzBdKSxzLnNpZ25lZFBvbHlnb24odCkqcy5zaWduZWRQb2x5Z29uKGUpPjAmJmEucmV2ZXJzZSgpLGEucHVzaChbTmFOLE5hTl0pKSxcImRpZmZlcmVuY2VcIiE9PWkmJlwiaW50ZXJzZWN0aW9uXCIhPT1pfHwoKGE9YS5jb25jYXQoZSkpLnB1c2goZVswXSksbj0hMSkpOlwiZGlmZmVyZW5jZVwiPT09aT8oYT1hLmNvbmNhdCh0KSxuPSEwKTpcInVuaW9uXCI9PT1pJiYoKGE9YS5jb25jYXQodCkpLnB1c2godFswXSksYS5wdXNoKFtOYU4sTmFOXSksKGE9YS5jb25jYXQoZSkpLnB1c2goZVswXSkpOlwiaW50ZXJzZWN0aW9uXCI9PT1pPyhhPWEuY29uY2F0KHQpLG49ITApOlwidW5pb25cIj09PWkmJihhPWEuY29uY2F0KGUpKS5wdXNoKGVbMF0pLHRoaXMuX2dldENvb3Jkc0FycmF5cyhhLG4pfSxfY291bnRDcm9zc2luZ0ludGVyc2VjdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGUsaT10Lmxlbmd0aCxyPTA7Zm9yKGU9MDtlPGk7ZSsrKVwiWFwiPT09dFtlXS5kYXRhLnR5cGUmJnIrKztyZXR1cm4gcn0sX2dldFBhdGg6ZnVuY3Rpb24odCxyKXt2YXIgbixhLGgsbCxjLGQsdSxwPVtdO2lmKHQuZWxlbWVudENsYXNzIT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkV8fHQudHlwZSE9PWUuT0JKRUNUX1RZUEVfQVJDJiZ0LnR5cGUhPT1lLk9CSkVDVF9UWVBFX1NFQ1RPUil7aWYodC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmby5leGlzdHModC5wb2ludHMpKWZvcihhPXQubnVtYmVyUG9pbnRzLG49MDtuPGE7bisrKXRoaXMuX2FkZFRvTGlzdChwLHQucG9pbnRzW25dLG4pO2Vsc2UgaWYodC50eXBlPT09ZS5PQkpFQ1RfVFlQRV9QT0xZR09OKWZvcihuPTA7bjx0LnZlcnRpY2VzLmxlbmd0aDtuKyspdGhpcy5fYWRkVG9MaXN0KHAsdC52ZXJ0aWNlc1tuXS5jb29yZHMsbik7ZWxzZSBpZih0LmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NJUkNMRSlmb3IodT0zNTksaD10LlJhZGl1cygpLGw9MipNYXRoLlBJL3Usbj0wO248PXU7bisrKXRoaXMuX2FkZFRvTGlzdChwLG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW3QuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMF0sdC5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1sxXStNYXRoLmNvcyhuKmwpKmgsdC5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1syXStNYXRoLnNpbihuKmwpKmhdLHIpLG4pO2Vsc2UgaWYoby5pc0FycmF5KHQpKWZvcihhPXQubGVuZ3RoLG49MDtuPGE7bisrKW8uZXhpc3RzKHRbbl0uY29vcmRzKT90aGlzLl9hZGRUb0xpc3QocCx0W25dLmNvb3JkcyxuKTpvLmlzQXJyYXkodFtuXSk/dGhpcy5fYWRkVG9MaXN0KHAsbmV3IGkoZS5DT09SRFNfQllfVVNFUix0W25dLHIpLG4pOm8uZXhpc3RzKHRbbl0udXNyQ29vcmRzKSYmdGhpcy5fYWRkVG9MaXN0KHAsdFtuXSxuKX1lbHNle2ZvcihjPXMucmFkKHQucmFkaXVzcG9pbnQsdC5jZW50ZXIsdC5hbmdsZXBvaW50KSx1PU1hdGguZmxvb3IoMTgwKmMvTWF0aC5QSSksaD10LlJhZGl1cygpLGw9Yy91LGQ9TWF0aC5hdGFuMih0LnJhZGl1c3BvaW50LmNvb3Jkcy51c3JDb29yZHNbMl0tdC5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1syXSx0LnJhZGl1c3BvaW50LmNvb3Jkcy51c3JDb29yZHNbMV0tdC5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1sxXSksdC50eXBlPT09ZS5PQkpFQ1RfVFlQRV9TRUNUT1ImJnRoaXMuX2FkZFRvTGlzdChwLHQuY2VudGVyLmNvb3JkcywwKSxuPTA7bjw9dTtuKyspdGhpcy5fYWRkVG9MaXN0KHAsbmV3IGkoZS5DT09SRFNfQllfVVNFUixbdC5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1swXSx0LmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzFdK01hdGguY29zKG4qbCtkKSpoLHQuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMl0rTWF0aC5zaW4obipsK2QpKmhdLHIpLG4rMSk7dC50eXBlPT09ZS5PQkpFQ1RfVFlQRV9TRUNUT1ImJnRoaXMuX2FkZFRvTGlzdChwLHQuY2VudGVyLmNvb3Jkcyx1KzIpfXJldHVybiBwfSxncmVpbmVySG9ybWFubjpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbixhLGgsbCxjPVtdLGQ9W107cmV0dXJuKG49KGM9dGhpcy5fZ2V0UGF0aCh0LG8pKS5sZW5ndGgpPjAmJnMuZGlzdGFuY2UoY1swXS5jb29yZHMudXNyQ29vcmRzLGNbbi0xXS5jb29yZHMudXNyQ29vcmRzLDMpPHIuZXBzJiZjLnBvcCgpLChuPShkPXRoaXMuX2dldFBhdGgoZSxvKSkubGVuZ3RoKT4wJiZzLmRpc3RhbmNlKGRbMF0uY29vcmRzLnVzckNvb3JkcyxkW24tMV0uY29vcmRzLnVzckNvb3JkcywzKTxyLmVwcypyLmVwcyYmZC5wb3AoKSx0aGlzLmlzRW1wdHlDYXNlKGMsZCxpKT9bW10sW11dOihoPXRoaXMubWFrZURvdWJseUxpbmtlZExpc3QoYyksbD10aGlzLm1ha2VEb3VibHlMaW5rZWRMaXN0KGQpLGE9dGhpcy5maW5kSW50ZXJzZWN0aW9ucyhjLGQsbylbMF0sdGhpcy5faGFuZGxlRnVsbHlEZWdlbmVyYXRlQ2FzZShjLGQsbyksdGhpcy5tYXJrRW50cnlFeGl0KGMsZCxoKSx0aGlzLm1hcmtFbnRyeUV4aXQoZCxjLGwpLDA9PT10aGlzLl9jb3VudENyb3NzaW5nSW50ZXJzZWN0aW9ucyhhKT90aGlzLmhhbmRsZUVtcHR5SW50ZXJzZWN0aW9uKGMsZCxpKTp0aGlzLnRyYWNpbmcoYyxhLGkpKX0sdW5pb246ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmdyZWluZXJIb3JtYW5uKHQsZSxcInVuaW9uXCIsaSl9LGludGVyc2VjdGlvbjpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuZ3JlaW5lckhvcm1hbm4odCxlLFwiaW50ZXJzZWN0aW9uXCIsaSl9LGRpZmZlcmVuY2U6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmdyZWluZXJIb3JtYW5uKHQsZSxcImRpZmZlcmVuY2VcIixpKX19LHQuZXh0ZW5kKHIuQ2xpcCx7fSksci5DbGlwfSkpLGRlZmluZShcIm1hdGgvcG9seVwiLFtcImp4Z1wiLFwibWF0aC9tYXRoXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIGUuUG9seT17fSxlLlBvbHkuUmluZz1mdW5jdGlvbih0KXt0aGlzLnZhcnM9dH0sdC5leHRlbmQoZS5Qb2x5LlJpbmcucHJvdG90eXBlLHt9KSxlLlBvbHkuTW9ub21pYWw9ZnVuY3Rpb24odCxlLHIpe3ZhciBzO2lmKCFpLmV4aXN0cyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaCBlcnJvcjogSW4gSlhHLk1hdGguUG9seS5tb25vbWlhbCBtaXNzaW5nIHBhcmFtZXRlciAncmluZycuXCIpO2ZvcihpLmlzQXJyYXkocil8fChyPVtdKSxzPShyPXIuc2xpY2UoMCx0LnZhcnMubGVuZ3RoKSkubGVuZ3RoO3M8dC52YXJzLmxlbmd0aDtzKyspci5wdXNoKDApO3RoaXMucmluZz10LHRoaXMuY29lZmZpY2llbnQ9ZXx8MCx0aGlzLmV4cG9uZW50cz1pLmRlZXBDb3B5KHIpfSx0LmV4dGVuZChlLlBvbHkuTW9ub21pYWwucHJvdG90eXBlLHtjb3B5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlLlBvbHkuTW9ub21pYWwodGhpcy5yaW5nLHRoaXMuY29lZmZpY2llbnQsdGhpcy5leHBvbmVudHMpfSxwcmludDpmdW5jdGlvbigpe3ZhciB0LGU9W107Zm9yKHQ9MDt0PHRoaXMucmluZy52YXJzLmxlbmd0aDt0KyspZS5wdXNoKHRoaXMucmluZy52YXJzW3RdK1wiXlwiK3RoaXMuZXhwb25lbnRzW3RdKTtyZXR1cm4gdGhpcy5jb2VmZmljaWVudCtcIipcIitlLmpvaW4oXCIqXCIpfX0pLGUuUG9seS5Qb2x5bm9taWFsPWZ1bmN0aW9uKHQsZSl7dmFyIHI7aWYoIWkuZXhpc3RzKHQpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIGVycm9yOiBJbiBKWEcuTWF0aC5Qb2x5LnBvbHlub21pYWwgbWlzc2luZyBwYXJhbWV0ZXIgJ3JpbmcnLlwiKTtyPWkuZXhpc3RzKGUpJiZpLmlzU3RyaW5nKGUpP3ZvaWQgMDpbXSx0aGlzLnJpbmc9dCx0aGlzLm1vbm9taWFscz1yfSx0LmV4dGVuZChlLlBvbHkuUG9seW5vbWlhbC5wcm90b3R5cGUse2ZpbmRTaWduYXR1cmU6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9MDtlPHRoaXMubW9ub21pYWxzLmxlbmd0aDtlKyspaWYoaS5jbXBBcnJheXModGhpcy5tb25vbWlhbHNbZV0uZXhwb25lbnRzLHQpKXJldHVybiBlO3JldHVybi0xfSxhZGRTdWJNb25vbWlhbDpmdW5jdGlvbih0LGUpe3ZhciBpOyhpPXRoaXMuZmluZFNpZ25hdHVyZSh0LmV4cG9uZW50cykpPi0xP3RoaXMubW9ub21pYWxzW2ldLmNvZWZmaWNpZW50Kz1lKnQuY29lZmZpY2llbnQ6KHQuY29lZmZpY2llbnQqPWUsdGhpcy5tb25vbWlhbHMucHVzaCh0KSl9LGFkZDpmdW5jdGlvbih0KXt2YXIgZTtpZighaS5leGlzdHModCl8fHQucmluZyE9PXRoaXMucmluZyl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaCBlcnJvcjogSW4gSlhHLk1hdGguUG9seS5wb2x5bm9taWFsLmFkZCBlaXRoZXIgc3VtbWFuZCBpcyB1bmRlZmluZWQgb3IgcmluZ3MgZG9uJ3QgbWF0Y2guXCIpO2lmKGkuaXNBcnJheSh0LmV4cG9uZW50cykpdGhpcy5hZGRTdWJNb25vbWlhbCh0LDEpO2Vsc2UgZm9yKGU9MDtlPHQubW9ub21pYWxzLmxlbmd0aDtlKyspdGhpcy5hZGRTdWJNb25vbWlhbCh0Lm1vbm9taWFsc1tlXSwxKX0sc3ViOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCFpLmV4aXN0cyh0KXx8dC5yaW5nIT09dGhpcy5yaW5nKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIGVycm9yOiBJbiBKWEcuTWF0aC5Qb2x5LnBvbHlub21pYWwuc3ViIGVpdGhlciBzdW1tYW5kIGlzIHVuZGVmaW5lZCBvciByaW5ncyBkb24ndCBtYXRjaC5cIik7aWYoaS5pc0FycmF5KHQuZXhwb25lbnRzKSl0aGlzLmFkZFN1Yk1vbm9taWFsKHQsLTEpO2Vsc2UgZm9yKGU9MDtlPHQubW9ub21pYWxzLmxlbmd0aDtlKyspdGhpcy5hZGRTdWJNb25vbWlhbCh0Lm1vbm9taWFsc1tlXSwtMSl9LGNvcHk6ZnVuY3Rpb24oKXt2YXIgdCxpO2ZvcihpPW5ldyBlLlBvbHkuUG9seW5vbWlhbCh0aGlzLnJpbmcpLHQ9MDt0PHRoaXMubW9ub21pYWxzLmxlbmd0aDt0KyspaS5tb25vbWlhbHMucHVzaCh0aGlzLm1vbm9taWFsc1t0XS5jb3B5KCkpO3JldHVybiBpfSxwcmludDpmdW5jdGlvbigpe3ZhciB0LGU9W107Zm9yKHQ9MDt0PHRoaXMubW9ub21pYWxzLmxlbmd0aDt0KyspZS5wdXNoKFwiKFwiK3RoaXMubW9ub21pYWxzW3RdLnByaW50KCkrXCIpXCIpO3JldHVybiBlLmpvaW4oXCIrXCIpfX0pLGUuUG9seX0pKSxkZWZpbmUoXCJtYXRoL2NvbXBsZXhcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ29tcGxleD1mdW5jdGlvbih0LGUpe3RoaXMuaXNDb21wbGV4PSEwLHQmJnQuaXNDb21wbGV4JiYoZT10LmltYWdpbmFyeSx0PXQucmVhbCksdGhpcy5yZWFsPXR8fDAsdGhpcy5pbWFnaW5hcnk9ZXx8MCx0aGlzLmFic3ZhbD0wLHRoaXMuYW5nbGU9MH0sdC5leHRlbmQodC5Db21wbGV4LnByb3RvdHlwZSx7dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFsK1wiICsgXCIrdGhpcy5pbWFnaW5hcnkrXCJpXCJ9LGFkZDpmdW5jdGlvbih0KXtyZXR1cm4gZS5pc051bWJlcih0KT90aGlzLnJlYWwrPXQ6KHRoaXMucmVhbCs9dC5yZWFsLHRoaXMuaW1hZ2luYXJ5Kz10LmltYWdpbmFyeSksdGhpc30sc3ViOmZ1bmN0aW9uKHQpe3JldHVybiBlLmlzTnVtYmVyKHQpP3RoaXMucmVhbC09dDoodGhpcy5yZWFsLT10LnJlYWwsdGhpcy5pbWFnaW5hcnktPXQuaW1hZ2luYXJ5KSx0aGlzfSxtdWx0OmZ1bmN0aW9uKHQpe3ZhciBpLHI7cmV0dXJuIGUuaXNOdW1iZXIodCk/KHRoaXMucmVhbCo9dCx0aGlzLmltYWdpbmFyeSo9dCk6KGk9dGhpcy5yZWFsLHI9dGhpcy5pbWFnaW5hcnksdGhpcy5yZWFsPWkqdC5yZWFsLXIqdC5pbWFnaW5hcnksdGhpcy5pbWFnaW5hcnk9aSp0LmltYWdpbmFyeStyKnQucmVhbCksdGhpc30sZGl2OmZ1bmN0aW9uKHQpe3ZhciBpLHIscztpZihlLmlzTnVtYmVyKHQpKXtpZihNYXRoLmFicyh0KTxNYXRoLmVwcylyZXR1cm4gdGhpcy5yZWFsPTEvMCx0aGlzLmltYWdpbmFyeT0xLzAsdGhpczt0aGlzLnJlYWwvPXQsdGhpcy5pbWFnaW5hcnkvPXR9ZWxzZXtpZihNYXRoLmFicyh0LnJlYWwpPE1hdGguZXBzJiZNYXRoLmFicyh0LmltYWdpbmFyeSk8TWF0aC5lcHMpcmV0dXJuIHRoaXMucmVhbD0xLzAsdGhpcy5pbWFnaW5hcnk9MS8wLHRoaXM7aT10LnJlYWwqdC5yZWFsK3QuaW1hZ2luYXJ5KnQuaW1hZ2luYXJ5LHM9dGhpcy5yZWFsLHI9dGhpcy5pbWFnaW5hcnksdGhpcy5yZWFsPShzKnQucmVhbCtyKnQuaW1hZ2luYXJ5KS9pLHRoaXMuaW1hZ2luYXJ5PShyKnQucmVhbC1zKnQuaW1hZ2luYXJ5KS9pfXJldHVybiB0aGlzfSxjb25qOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW1hZ2luYXJ5Kj0tMSx0aGlzfX0pLHQuQz17fSx0LkMuYWRkPWZ1bmN0aW9uKGUsaSl7dmFyIHI9bmV3IHQuQ29tcGxleChlKTtyZXR1cm4gci5hZGQoaSkscn0sdC5DLnN1Yj1mdW5jdGlvbihlLGkpe3ZhciByPW5ldyB0LkNvbXBsZXgoZSk7cmV0dXJuIHIuc3ViKGkpLHJ9LHQuQy5tdWx0PWZ1bmN0aW9uKGUsaSl7dmFyIHI9bmV3IHQuQ29tcGxleChlKTtyZXR1cm4gci5tdWx0KGkpLHJ9LHQuQy5kaXY9ZnVuY3Rpb24oZSxpKXt2YXIgcj1uZXcgdC5Db21wbGV4KGUpO3JldHVybiByLmRpdihpKSxyfSx0LkMuY29uaj1mdW5jdGlvbihlKXt2YXIgaT1uZXcgdC5Db21wbGV4KGUpO3JldHVybiBpLmNvbmooKSxpfSx0LkMuYWJzPWZ1bmN0aW9uKGUpe3ZhciBpPW5ldyB0LkNvbXBsZXgoZSk7cmV0dXJuIGkuY29uaigpLGkubXVsdChlKSxNYXRoLnNxcnQoaS5yZWFsKX0sdC5Db21wbGV4LkM9dC5DLHQuQ29tcGxleH0pKSxkZWZpbmUoXCJ1dGlscy9jb2xvclwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiLFwibWF0aC9tYXRoXCJdLChmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9e2FsaWNlYmx1ZTpcImYwZjhmZlwiLGFudGlxdWV3aGl0ZTpcImZhZWJkN1wiLGFxdWE6XCIwMGZmZmZcIixhcXVhbWFyaW5lOlwiN2ZmZmQ0XCIsYXp1cmU6XCJmMGZmZmZcIixiZWlnZTpcImY1ZjVkY1wiLGJpc3F1ZTpcImZmZTRjNFwiLGJsYWNrOlwiMDAwMDAwXCIsYmxhbmNoZWRhbG1vbmQ6XCJmZmViY2RcIixibHVlOlwiMDAwMGZmXCIsYmx1ZXZpb2xldDpcIjhhMmJlMlwiLGJyb3duOlwiYTUyYTJhXCIsYnVybHl3b29kOlwiZGViODg3XCIsY2FkZXRibHVlOlwiNWY5ZWEwXCIsY2hhcnRyZXVzZTpcIjdmZmYwMFwiLGNob2NvbGF0ZTpcImQyNjkxZVwiLGNvcmFsOlwiZmY3ZjUwXCIsY29ybmZsb3dlcmJsdWU6XCI2NDk1ZWRcIixjb3Juc2lsazpcImZmZjhkY1wiLGNyaW1zb246XCJkYzE0M2NcIixjeWFuOlwiMDBmZmZmXCIsZGFya2JsdWU6XCIwMDAwOGJcIixkYXJrY3lhbjpcIjAwOGI4YlwiLGRhcmtnb2xkZW5yb2Q6XCJiODg2MGJcIixkYXJrZ3JheTpcImE5YTlhOVwiLGRhcmtncmVlbjpcIjAwNjQwMFwiLGRhcmtraGFraTpcImJkYjc2YlwiLGRhcmttYWdlbnRhOlwiOGIwMDhiXCIsZGFya29saXZlZ3JlZW46XCI1NTZiMmZcIixkYXJrb3JhbmdlOlwiZmY4YzAwXCIsZGFya29yY2hpZDpcIjk5MzJjY1wiLGRhcmtyZWQ6XCI4YjAwMDBcIixkYXJrc2FsbW9uOlwiZTk5NjdhXCIsZGFya3NlYWdyZWVuOlwiOGZiYzhmXCIsZGFya3NsYXRlYmx1ZTpcIjQ4M2Q4YlwiLGRhcmtzbGF0ZWdyYXk6XCIyZjRmNGZcIixkYXJrdHVycXVvaXNlOlwiMDBjZWQxXCIsZGFya3Zpb2xldDpcIjk0MDBkM1wiLGRlZXBwaW5rOlwiZmYxNDkzXCIsZGVlcHNreWJsdWU6XCIwMGJmZmZcIixkaW1ncmF5OlwiNjk2OTY5XCIsZG9kZ2VyYmx1ZTpcIjFlOTBmZlwiLGZlbGRzcGFyOlwiZDE5Mjc1XCIsZmlyZWJyaWNrOlwiYjIyMjIyXCIsZmxvcmFsd2hpdGU6XCJmZmZhZjBcIixmb3Jlc3RncmVlbjpcIjIyOGIyMlwiLGZ1Y2hzaWE6XCJmZjAwZmZcIixnYWluc2Jvcm86XCJkY2RjZGNcIixnaG9zdHdoaXRlOlwiZjhmOGZmXCIsZ29sZDpcImZmZDcwMFwiLGdvbGRlbnJvZDpcImRhYTUyMFwiLGdyYXk6XCI4MDgwODBcIixncmVlbjpcIjAwODAwMFwiLGdyZWVueWVsbG93OlwiYWRmZjJmXCIsaG9uZXlkZXc6XCJmMGZmZjBcIixob3RwaW5rOlwiZmY2OWI0XCIsaW5kaWFucmVkOlwiY2Q1YzVjXCIsaW5kaWdvOlwiNGIwMDgyXCIsaXZvcnk6XCJmZmZmZjBcIixraGFraTpcImYwZTY4Y1wiLGxhdmVuZGVyOlwiZTZlNmZhXCIsbGF2ZW5kZXJibHVzaDpcImZmZjBmNVwiLGxhd25ncmVlbjpcIjdjZmMwMFwiLGxlbW9uY2hpZmZvbjpcImZmZmFjZFwiLGxpZ2h0Ymx1ZTpcImFkZDhlNlwiLGxpZ2h0Y29yYWw6XCJmMDgwODBcIixsaWdodGN5YW46XCJlMGZmZmZcIixsaWdodGdvbGRlbnJvZHllbGxvdzpcImZhZmFkMlwiLGxpZ2h0Z3JleTpcImQzZDNkM1wiLGxpZ2h0Z3JlZW46XCI5MGVlOTBcIixsaWdodHBpbms6XCJmZmI2YzFcIixsaWdodHNhbG1vbjpcImZmYTA3YVwiLGxpZ2h0c2VhZ3JlZW46XCIyMGIyYWFcIixsaWdodHNreWJsdWU6XCI4N2NlZmFcIixsaWdodHNsYXRlYmx1ZTpcIjg0NzBmZlwiLGxpZ2h0c2xhdGVncmF5OlwiNzc4ODk5XCIsbGlnaHRzdGVlbGJsdWU6XCJiMGM0ZGVcIixsaWdodHllbGxvdzpcImZmZmZlMFwiLGxpbWU6XCIwMGZmMDBcIixsaW1lZ3JlZW46XCIzMmNkMzJcIixsaW5lbjpcImZhZjBlNlwiLG1hZ2VudGE6XCJmZjAwZmZcIixtYXJvb246XCI4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiNjZjZGFhXCIsbWVkaXVtYmx1ZTpcIjAwMDBjZFwiLG1lZGl1bW9yY2hpZDpcImJhNTVkM1wiLG1lZGl1bXB1cnBsZTpcIjkzNzBkOFwiLG1lZGl1bXNlYWdyZWVuOlwiM2NiMzcxXCIsbWVkaXVtc2xhdGVibHVlOlwiN2I2OGVlXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIwMGZhOWFcIixtZWRpdW10dXJxdW9pc2U6XCI0OGQxY2NcIixtZWRpdW12aW9sZXRyZWQ6XCJjNzE1ODVcIixtaWRuaWdodGJsdWU6XCIxOTE5NzBcIixtaW50Y3JlYW06XCJmNWZmZmFcIixtaXN0eXJvc2U6XCJmZmU0ZTFcIixtb2NjYXNpbjpcImZmZTRiNVwiLG5hdmFqb3doaXRlOlwiZmZkZWFkXCIsbmF2eTpcIjAwMDA4MFwiLG9sZGxhY2U6XCJmZGY1ZTZcIixvbGl2ZTpcIjgwODAwMFwiLG9saXZlZHJhYjpcIjZiOGUyM1wiLG9yYW5nZTpcImZmYTUwMFwiLG9yYW5nZXJlZDpcImZmNDUwMFwiLG9yY2hpZDpcImRhNzBkNlwiLHBhbGVnb2xkZW5yb2Q6XCJlZWU4YWFcIixwYWxlZ3JlZW46XCI5OGZiOThcIixwYWxldHVycXVvaXNlOlwiYWZlZWVlXCIscGFsZXZpb2xldHJlZDpcImQ4NzA5M1wiLHBhcGF5YXdoaXA6XCJmZmVmZDVcIixwZWFjaHB1ZmY6XCJmZmRhYjlcIixwZXJ1OlwiY2Q4NTNmXCIscGluazpcImZmYzBjYlwiLHBsdW06XCJkZGEwZGRcIixwb3dkZXJibHVlOlwiYjBlMGU2XCIscHVycGxlOlwiODAwMDgwXCIscmVkOlwiZmYwMDAwXCIscm9zeWJyb3duOlwiYmM4ZjhmXCIscm95YWxibHVlOlwiNDE2OWUxXCIsc2FkZGxlYnJvd246XCI4YjQ1MTNcIixzYWxtb246XCJmYTgwNzJcIixzYW5keWJyb3duOlwiZjRhNDYwXCIsc2VhZ3JlZW46XCIyZThiNTdcIixzZWFzaGVsbDpcImZmZjVlZVwiLHNpZW5uYTpcImEwNTIyZFwiLHNpbHZlcjpcImMwYzBjMFwiLHNreWJsdWU6XCI4N2NlZWJcIixzbGF0ZWJsdWU6XCI2YTVhY2RcIixzbGF0ZWdyYXk6XCI3MDgwOTBcIixzbm93OlwiZmZmYWZhXCIsc3ByaW5nZ3JlZW46XCIwMGZmN2ZcIixzdGVlbGJsdWU6XCI0NjgyYjRcIix0YW46XCJkMmI0OGNcIix0ZWFsOlwiMDA4MDgwXCIsdGhpc3RsZTpcImQ4YmZkOFwiLHRvbWF0bzpcImZmNjM0N1wiLHR1cnF1b2lzZTpcIjQwZTBkMFwiLHZpb2xldDpcImVlODJlZVwiLHZpb2xldHJlZDpcImQwMjA5MFwiLHdoZWF0OlwiZjVkZWIzXCIsd2hpdGU6XCJmZmZmZmZcIix3aGl0ZXNtb2tlOlwiZjVmNWY1XCIseWVsbG93OlwiZmZmZjAwXCIseWVsbG93Z3JlZW46XCI5YWNkMzJcIn0scz1be3JlOi9eXFxzKnJnYmFcXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKixcXHMqKFtcXGQuXXsxLDN9KVxccypcXClcXHMqJC8sZXhhbXBsZTpbXCJyZ2JhKDEyMywgMjM0LCA0NSwgMC41KVwiLFwicmdiYSgyNTUsMjM0LDI0NSwxLjApXCJdLHByb2Nlc3M6ZnVuY3Rpb24odCl7cmV0dXJuW3BhcnNlSW50KHRbMV0sMTApLHBhcnNlSW50KHRbMl0sMTApLHBhcnNlSW50KHRbM10sMTApXX19LHtyZTovXlxccypyZ2JcXChcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqLFxccyooXFxkezEsM30pXFxzKlxcKVxccyokLyxleGFtcGxlOltcInJnYigxMjMsIDIzNCwgNDUpXCIsXCJyZ2IoMjU1LDIzNCwyNDUpXCJdLHByb2Nlc3M6ZnVuY3Rpb24odCl7cmV0dXJuW3BhcnNlSW50KHRbMV0sMTApLHBhcnNlSW50KHRbMl0sMTApLHBhcnNlSW50KHRbM10sMTApXX19LHtyZTovXihcXHd7Mn0pKFxcd3syfSkoXFx3ezJ9KSQvLGV4YW1wbGU6W1wiIzAwZmYwMFwiLFwiMzM2Njk5XCJdLHByb2Nlc3M6ZnVuY3Rpb24odCl7cmV0dXJuW3BhcnNlSW50KHRbMV0sMTYpLHBhcnNlSW50KHRbMl0sMTYpLHBhcnNlSW50KHRbM10sMTYpXX19LHtyZTovXihcXHd7MX0pKFxcd3sxfSkoXFx3ezF9KSQvLGV4YW1wbGU6W1wiI2ZiMFwiLFwiZjBmXCJdLHByb2Nlc3M6ZnVuY3Rpb24odCl7cmV0dXJuW3BhcnNlSW50KHRbMV0rdFsxXSwxNikscGFyc2VJbnQodFsyXSt0WzJdLDE2KSxwYXJzZUludCh0WzNdK3RbM10sMTYpXX19XTtyZXR1cm4gdC5yZ2JQYXJzZXI9ZnVuY3Rpb24odCxpLG8pe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtLGc9dDtpZighZS5leGlzdHModCkpcmV0dXJuW107aWYoZS5leGlzdHMoaSkmJmUuZXhpc3RzKG8pJiYoZz1bdCxpLG9dKSxuPWcsbT0hMSxlLmlzQXJyYXkobikpe2ZvcihkPTA7ZDwzO2QrKyltPW18fC9cXC4vLnRlc3QoZ1tkXS50b1N0cmluZygpKTtmb3IoZD0wO2Q8MztkKyspbT1tJiZnW2RdPj0wJiZnW2RdPD0xO3JldHVybiBtP1tNYXRoLmNlaWwoMjU1KmdbMF0pLE1hdGguY2VpbCgyNTUqZ1sxXSksTWF0aC5jZWlsKDI1NSpnWzJdKV06Z31mb3IoXCJzdHJpbmdcIj09dHlwZW9mIGcmJihuPWcpLFwiI1wiPT09bi5jaGFyQXQoMCkmJihuPW4uc3Vic3RyKDEsNikpLG49bi5yZXBsYWNlKC8gL2csXCJcIikudG9Mb3dlckNhc2UoKSxuPXJbbl18fG4sZD0wO2Q8cy5sZW5ndGg7ZCsrKWg9c1tkXS5yZSxsPXNbZF0ucHJvY2VzcywoYz1oLmV4ZWMobikpJiYodT0oYT1sKGMpKVswXSxwPWFbMV0sZj1hWzJdKTtyZXR1cm4gaXNOYU4odSl8fGlzTmFOKHApfHxpc05hTihmKT9bXTpbdT11PDB8fGlzTmFOKHUpPzA6dT4yNTU/MjU1OnUscD1wPDB8fGlzTmFOKHApPzA6cD4yNTU/MjU1OnAsZj1mPDB8fGlzTmFOKGYpPzA6Zj4yNTU/MjU1OmZdfSx0LnJnYjJjc3M9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzO3JldHVyblwicmdiKFwiKyhzPXQucmdiUGFyc2VyKGUsaSxyKSlbMF0rXCIsIFwiK3NbMV0rXCIsIFwiK3NbMl0rXCIpXCJ9LHQucmdiMmhleD1mdW5jdGlvbihlLGkscil7dmFyIHMsbyxuO3JldHVybiBvPShzPXQucmdiUGFyc2VyKGUsaSxyKSlbMV0sbj1zWzJdLHM9KHM9c1swXSkudG9TdHJpbmcoMTYpLG89by50b1N0cmluZygxNiksbj1uLnRvU3RyaW5nKDE2KSwxPT09cy5sZW5ndGgmJihzPVwiMFwiK3MpLDE9PT1vLmxlbmd0aCYmKG89XCIwXCIrbyksMT09PW4ubGVuZ3RoJiYobj1cIjBcIituKSxcIiNcIitzK28rbn0sdC5oZXgycmdiPWZ1bmN0aW9uKGUpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJKWEcuaGV4MnJnYigpXCIsXCJKWEcucmdiMmNzcygpXCIpLHQucmdiMmNzcyhlKX0sdC5oc3YycmdiPWZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxvLG4sYSxoLGwsYyxkLHU7aWYodD0odCUzNjArMzYwKSUzNjAsMD09PWUpe2lmKCEoaXNOYU4odCl8fHQ8aS5lcHMpKXJldHVyblwiI2ZmZmZmZlwiO3M9cixvPXIsbj1yfWVsc2Ugc3dpdGNoKGw9dD49MzYwPzA6dCxjPXIqKDEtZSksZD1yKigxLWUqKGE9KGwvPTYwKS0oaD1NYXRoLmZsb29yKGwpKSkpLHU9ciooMS1lKigxLWEpKSxoKXtjYXNlIDA6cz1yLG89dSxuPWM7YnJlYWs7Y2FzZSAxOnM9ZCxvPXIsbj1jO2JyZWFrO2Nhc2UgMjpzPWMsbz1yLG49dTticmVhaztjYXNlIDM6cz1jLG89ZCxuPXI7YnJlYWs7Y2FzZSA0OnM9dSxvPWMsbj1yO2JyZWFrO2Nhc2UgNTpzPXIsbz1jLG49ZH1yZXR1cm5bXCIjXCIscz0yPT09KHM9TWF0aC5yb3VuZCgyNTUqcykudG9TdHJpbmcoMTYpKS5sZW5ndGg/czoxPT09cy5sZW5ndGg/XCIwXCIrczpcIjAwXCIsbz0yPT09KG89TWF0aC5yb3VuZCgyNTUqbykudG9TdHJpbmcoMTYpKS5sZW5ndGg/bzoxPT09by5sZW5ndGg/XCIwXCIrbzpcIjAwXCIsbj0yPT09KG49TWF0aC5yb3VuZCgyNTUqbikudG9TdHJpbmcoMTYpKS5sZW5ndGg/bjoxPT09bi5sZW5ndGg/XCIwXCIrbjpcIjAwXCJdLmpvaW4oXCJcIil9LHQucmdiMmhzdj1mdW5jdGlvbihlLGkscil7dmFyIHMsbyxuLGEsaCxsLGMsZCx1LHAsZixtLGc7cmV0dXJuIG89KHM9dC5yZ2JQYXJzZXIoZSxpLHIpKVsxXSxuPXNbMl0sYT0ocz1zWzBdKS8yNTUsaD1vLzI1NSxsPW4vMjU1LG09TWF0aC5tYXgocyxvLG4pLGQ9KGc9TWF0aC5taW4ocyxvLG4pKS8yNTUscD0wLChmPWM9bS8yNTUpPjAmJihwPShmLWQpL2YpLHU9MS8oYy1kKSxwPjAmJihtPT09cz91Kj1oLWw6dT1tPT09bz8yKyhsLWEpKnU6NCsoYS1oKSp1KSwodSo9NjApPDAmJih1Kz0zNjApLG09PT1nJiYodT0wKSxbdSxwLGZdfSx0LnJnYjJMTVM9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLG8sbixhLGgsbCxjLGQ9W1suMDUwNTk5ODMsLjA4NTg1MzY5LC4wMDk1MjQyXSxbLjAxODkzMDMzLC4wODkyNTMwOCwuMDEzNzAwNTRdLFsuMDAyOTIyMDIsLjAwOTc1NzMyLC4wNzE0NTk3OV1dO3JldHVybiBvPShzPXQucmdiUGFyc2VyKGUsaSxyKSlbMV0sbj1zWzJdLHM9c1swXSxzPU1hdGgucG93KHMsLjQ3NjE5MDQ3Niksbz1NYXRoLnBvdyhvLC40NzYxOTA0NzYpLG49TWF0aC5wb3cobiwuNDc2MTkwNDc2KSwoYz1bYT1zKmRbMF1bMF0rbypkWzBdWzFdK24qZFswXVsyXSxoPXMqZFsxXVswXStvKmRbMV1bMV0rbipkWzFdWzJdLGw9cypkWzJdWzBdK28qZFsyXVsxXStuKmRbMl1bMl1dKS5sPWEsYy5tPWgsYy5zPWwsY30sdC5MTVMycmdiPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhPVtbMzAuODMwODU0LC0yOS44MzI2NTksMS42MTA0NzRdLFstNi40ODE0NjgsMTcuNzE1NTc4LC0yLjUzMjY0Ml0sWy0uMzc1NjksLTEuMTk5MDYyLDE0LjI3Mzg0Nl1dLGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTEyNyxpPTY0O2k+MDspe2lmKE1hdGgucG93KGUsLjQ3NjE5MDQ3Nik+dCllLT1pO2Vsc2V7aWYoTWF0aC5wb3coZSsxLC40NzYxOTA0NzYpPnQpcmV0dXJuIGU7ZSs9aX1pLz0yfXJldHVybiAyNTQ9PT1lJiYxMy45OTQ5NTUyNDc8dD8yNTU6ZX07cmV0dXJuIHI9dCphWzBdWzBdK2UqYVswXVsxXStpKmFbMF1bMl0scz10KmFbMV1bMF0rZSphWzFdWzFdK2kqYVsxXVsyXSxvPXQqYVsyXVswXStlKmFbMl1bMV0raSphWzJdWzJdLChuPVtyPWgocikscz1oKHMpLG89aChvKV0pLnI9cixuLmc9cyxuLmI9byxufSx0LnJnYmEycmdibz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gOT09PXQubGVuZ3RoJiZcIiNcIj09PXQuY2hhckF0KDApPyhlPXBhcnNlSW50KHQuc3Vic3RyKDcsMikudG9VcHBlckNhc2UoKSwxNikvMjU1LHQ9dC5zdWJzdHIoMCw3KSk6ZT0xLFt0LGVdfSx0LnJnYm8ycmdiYT1mdW5jdGlvbih0LGUpe3ZhciBpO3JldHVyblwibm9uZVwiPT09dD90OigxPT09KGk9TWF0aC5yb3VuZCgyNTUqZSkudG9TdHJpbmcoMTYpKS5sZW5ndGgmJihpPVwiMFwiK2kpLHQraSl9LHQucmdiMmJ3PWZ1bmN0aW9uKGUpe3ZhciBpLHIscyxvPVwiMDEyMzQ1Njc4OUFCQ0RFRlwiO3JldHVyblwibm9uZVwiPT09ZT9lOihzPXQucmdiUGFyc2VyKGUpLGk9TWF0aC5mbG9vciguMypzWzBdKy41OSpzWzFdKy4xMSpzWzJdKSxlPVwiI1wiKyhyPW8uY2hhckF0KGk+PjQmMTUpK28uY2hhckF0KDE1JmkpKStyK3IpfSx0LnJnYjJjYj1mdW5jdGlvbihlLGkpe3ZhciByLHMsbyxuLGEsaCxsLGMsZCx1LHAsZj1cIjAxMjM0NTY3ODlBQkNERUZcIjtpZihcIm5vbmVcIj09PWUpcmV0dXJuIGU7c3dpdGNoKHM9KGE9dC5yZ2IyTE1TKGUpKVswXSxvPWFbMV0sbj1hWzJdLGk9aS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJwcm90YW5vcGlhXCI6aD0tLjA2MTUwMDM5OTk0Mjk1MDAxLGw9LjA4Mjc3MDAxNjU2ODEyMDAxLGM9LS4wMTMyMDAxNDEyMjAwMDAwMDMsZD0uMDU4NTg5Mzk2Njg3OTk5OTksdT0tLjA3OTM0NTE5OTk1MzYwMDAxLHA9LjAxMzI4OTQxNTI3MjAwMDAwMyxzPW4vbzwuNjkwMzIxNjU0MzI3NzQzNz8tKGwqbytjKm4pL2g6LSh1Km8rcCpuKS9kO2JyZWFrO2Nhc2VcInRyaXRhbm9waWFcIjpoPS0uMDAwNTg5NzMxMTYyMTcsbD0uMDA3NjkwMzE2NDgyLGM9LS4wMTAxMTcwMzUxOTA1MixkPS4wMjU0OTUwODA4Mzg5OTk5OTQsdT0tLjA0MjI3NDAzNDcscD0uMDE3MDA1MzE2Nzg0LG49by9zPC44MzQ5NDg5OTA4NDYwMDA0Py0oaCpzK2wqbykvYzotKGQqcyt1Km8pL3A7YnJlYWs7ZGVmYXVsdDpoPS0uMDYxNTAwMzk5OTQyOTUwMDEsbD0uMDgyNzcwMDE2NTY4MTIwMDEsYz0tLjAxMzIwMDE0MTIyMDAwMDAwMyxkPS4wNTg1ODkzOTY2ODc5OTk5OSx1PS0uMDc5MzQ1MTk5OTUzNjAwMDEscD0uMDEzMjg5NDE1MjcyMDAwMDAzLG89bi9zPC41NzYzODMzNjg2NDAwOTExPy0oaCpzK2MqbikvbDotKGQqcytwKm4pL3V9cmV0dXJuIHI9dC5MTVMycmdiKHMsbyxuKSxlPVwiI1wiKyhmLmNoYXJBdChyWzBdPj40JjE1KStmLmNoYXJBdCgxNSZyWzBdKSksZSs9Zi5jaGFyQXQoclsxXT4+NCYxNSkrZi5jaGFyQXQoMTUmclsxXSksZSs9Zi5jaGFyQXQoclsyXT4+NCYxNSkrZi5jaGFyQXQoMTUmclsyXSl9LHQuYXV0b0hpZ2hsaWdodD1mdW5jdGlvbihlKXt2YXIgaT10LnJnYmEycmdibyhlKSxyPWlbMF0scz1pWzFdO3JldHVyblwiI1wiPT09ZS5jaGFyQXQoMCk/KHMqPXM8LjM/MS44Oi40LHQucmdibzJyZ2JhKHIscykpOmV9LHQuY29udHJhc3Q9ZnVuY3Rpb24oZSxpLHIscyl7dmFyIG8sbixhLGgsbDtyZXR1cm4gaT1pfHxcIiMwMDAwMDBcIixyPXJ8fFwiI2ZmZmZmZlwiLHM9c3x8NyxvPXQucmdiUGFyc2VyKGUpLG49dC5yZ2JQYXJzZXIoXCIjMDAwMDAwXCIpLGw9KGE9LjIxMjYqTWF0aC5wb3cob1swXS8yNTUsMi4yKSsuNzE1MipNYXRoLnBvdyhvWzFdLzI1NSwyLjIpKy4wNzIyKk1hdGgucG93KG9bMl0vMjU1LDIuMikpPihoPS4yMTI2Kk1hdGgucG93KG5bMF0vMjU1LDIuMikrLjcxNTIqTWF0aC5wb3coblsxXS8yNTUsMi4yKSsuMDcyMipNYXRoLnBvdyhuWzJdLzI1NSwyLjIpKT9NYXRoLmZsb29yKChhKy4wNSkvKGgrLjA1KSk6TWF0aC5mbG9vcigoaCsuMDUpLyhhKy4wNSkpLChsLT0xKT5zP2k6cn0sdC5zZXRDbGFzc2ljQ29sb3JzPWZ1bmN0aW9uKCl7dC5PcHRpb25zLmVsZW1lbnRzLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5lbGVtZW50cy5maWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMuaGF0Y2guc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLmFuZ2xlLmZpbGxDb2xvcj1cIiNmZjdmMDBcIix0Lk9wdGlvbnMuYW5nbGUuaGlnaGxpZ2h0RmlsbENvbG9yPVwiI2ZmN2YwMFwiLHQuT3B0aW9ucy5hbmdsZS5zdHJva2VDb2xvcj1cIiNmZjdmMDBcIix0Lk9wdGlvbnMuYW5nbGUubGFiZWwuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLmFyYy5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuY2lyY2xlLmNlbnRlci5maWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMuY2lyY2xlLmNlbnRlci5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuY2lyY3VtY2lyY2xlLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5jaXJjdW1jaXJjbGUuY2VudGVyLmZpbGxDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5jaXJjdW1jaXJjbGUuY2VudGVyLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5jaXJjdW1jaXJjbGVhcmMuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLmNpcmN1bWNpcmNsZXNlY3Rvci5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuY2lyY3VtY2lyY2xlc2VjdG9yLmZpbGxDb2xvcj1cImdyZWVuXCIsdC5PcHRpb25zLmNpcmN1bWNpcmNsZXNlY3Rvci5oaWdobGlnaHRGaWxsQ29sb3I9XCJncmVlblwiLHQuT3B0aW9ucy5jb25pYy5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuY3VydmUuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLmluY2lyY2xlLnN0cm9rZUNvbG9yPVwiYmx1ZVwiLHQuT3B0aW9ucy5pbmNpcmNsZS5jZW50ZXIuZmlsbENvbG9yPVwicmVkXCIsdC5PcHRpb25zLmluY2lyY2xlLmNlbnRlci5zdHJva2VDb2xvcj1cImJsdWVcIix0Lk9wdGlvbnMuaW5lcXVhbGl0eS5maWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMuaW50ZWdyYWwuZmlsbENvbG9yPVwicmVkXCIsdC5PcHRpb25zLmludGVncmFsLmN1cnZlTGVmdC5jb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5pbnRlZ3JhbC5jdXJ2ZVJpZ2h0LmNvbG9yPVwicmVkXCIsdC5PcHRpb25zLmxpbmUuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLnBvaW50LmZpbGxDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5wb2ludC5zdHJva2VDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5wb2x5Z29uLmZpbGxDb2xvcj1cImdyZWVuXCIsdC5PcHRpb25zLnBvbHlnb24uaGlnaGxpZ2h0RmlsbENvbG9yPVwiZ3JlZW5cIix0Lk9wdGlvbnMucG9seWdvbi52ZXJ0aWNlcy5zdHJva2VDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5wb2x5Z29uLnZlcnRpY2VzLmZpbGxDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5yZWd1bGFycG9seWdvbi5maWxsQ29sb3I9XCJncmVlblwiLHQuT3B0aW9ucy5yZWd1bGFycG9seWdvbi5oaWdobGlnaHRGaWxsQ29sb3I9XCJncmVlblwiLHQuT3B0aW9ucy5yZWd1bGFycG9seWdvbi52ZXJ0aWNlcy5zdHJva2VDb2xvcj1cInJlZFwiLHQuT3B0aW9ucy5yZWd1bGFycG9seWdvbi52ZXJ0aWNlcy5maWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMucmllbWFubnN1bS5maWxsQ29sb3I9XCJ5ZWxsb3dcIix0Lk9wdGlvbnMuc2VjdG9yLmZpbGxDb2xvcj1cImdyZWVuXCIsdC5PcHRpb25zLnNlY3Rvci5oaWdobGlnaHRGaWxsQ29sb3I9XCJncmVlblwiLHQuT3B0aW9ucy5zZW1pY2lyY2xlLmNlbnRlci5maWxsQ29sb3I9XCJyZWRcIix0Lk9wdGlvbnMuc2VtaWNpcmNsZS5jZW50ZXIuc3Ryb2tlQ29sb3I9XCJibHVlXCIsdC5PcHRpb25zLnNsb3BldHJpYW5nbGUuZmlsbENvbG9yPVwicmVkXCIsdC5PcHRpb25zLnNsb3BldHJpYW5nbGUuaGlnaGxpZ2h0RmlsbENvbG9yPVwicmVkXCIsdC5PcHRpb25zLnR1cnRsZS5hcnJvdy5zdHJva2VDb2xvcj1cImJsdWVcIn0sdC5leHRlbmQodCx7cGFsZXR0ZVdvbmc6e2JsYWNrOlwiIzAwMDAwMFwiLG9yYW5nZTpcIiNFNjlGMDBcIixza3libHVlOlwiIzU2QjRFOVwiLGJsdWlzaGdyZWVuOlwiIzAwOUU3M1wiLHllbGxvdzpcIiNGMEU0NDJcIixkYXJrYmx1ZTpcIiMwMDcyQjJcIix2ZXJtaWxsaW9uOlwiI0Q1NUUwMFwiLHJlZGRpc2hwdXJwbGU6XCIjQ0M3OUE3XCIsYmx1ZTpcIiMwMDcyQjJcIixyZWQ6XCIjRDU1RTAwXCIsZ3JlZW46XCIjMDA5RTczXCIscHVycGxlOlwiI0NDNzlBN1wiLHdoaXRlOlwiI2ZmZmZmZlwifX0pLHQucGFsZXR0ZT10LnBhbGV0dGVXb25nLHR9KSksZGVmaW5lKFwib3B0aW9uc1wiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcIm1hdGgvbWF0aFwiLFwidXRpbHMvY29sb3JcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuT3B0aW9ucz17amM6e2VuYWJsZWQ6ITAsY29tcGlsZTohMH0sYm9hcmQ6e2JvdW5kaW5nQm94OlstNSw1LDUsLTVdLG1heEJvdW5kaW5nQm94OlstMS8wLDEvMCwxLzAsLTEvMF0sem9vbUZhY3RvcjoxLHpvb21YOjEsem9vbVk6MSx0aXRsZTpcIlwiLGRlc2NyaXB0aW9uOlwiXCIsc2hvd0NvcHlyaWdodDohMCxheGlzOiExLGRlZmF1bHRBeGVzOnt4OntuYW1lOlwieFwiLHRpY2tzOntsYWJlbDp7dmlzaWJsZTpcImluaGVyaXRcIixhbmNob3JYOlwibWlkZGxlXCIsYW5jaG9yWTpcInRvcFwiLGZvbnRTaXplOjEyLG9mZnNldDpbMCwtM119LGRyYXdaZXJvOiExLHZpc2libGU6XCJpbmhlcml0XCJ9fSx5OntuYW1lOlwieVwiLHRpY2tzOntsYWJlbDp7dmlzaWJsZTpcImluaGVyaXRcIixhbmNob3JYOlwicmlnaHRcIixhbmNob3JZOlwibWlkZGxlXCIsZm9udFNpemU6MTIsb2Zmc2V0OlstNiwwXX0sdGlja0VuZGluZ3M6WzEsMF0sZHJhd1plcm86ITEsdmlzaWJsZTpcImluaGVyaXRcIn19fSxzaG93TmF2aWdhdGlvbjohMCxzaG93Wm9vbTohMCxzaG93UmVsb2FkOiExLHNob3dTY3JlZW5zaG90OiExLHNjcmVlbnNob3Q6e3NjYWxlOjEsdHlwZTpcInBuZ1wiLHN5bWJvbDpcIuKMmFwiLGNzczpcImJhY2tncm91bmQtY29sb3I6I2VlZWVlZTsgb3BhY2l0eToxLjA7IGJvcmRlcjoycHggc29saWQgYmxhY2s7IGJvcmRlci1yYWRpdXM6MTBweDsgdGV4dC1hbGlnbjpjZW50ZXJcIixjc3NCdXR0b246XCJwYWRkaW5nOiA0cHggMTBweDsgYm9yZGVyOiBzb2xpZCAjMzU2QUEwIDFweDsgYm9yZGVyLXJhZGl1czogNXB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiAyZXg7IHRvcDogMmV4OyBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7XCJ9LHNob3dGdWxsc2NyZWVuOiExLGZ1bGxzY3JlZW46e3N5bWJvbDpcIuKWoVwiLGlkOm51bGx9LHNob3dDbGVhclRyYWNlczohMSxrZWVwQXNwZWN0UmF0aW86ITEsaWdub3JlTGFiZWxzOiEwLG1heE5hbWVMZW5ndGg6MSxkb2N1bWVudDohMSx0YWtlRmlyc3Q6ITEsdGFrZVNpemVGcm9tRmlsZTohMSxyZW5kZXJlcjpcImF1dG9cIixhbmltYXRpb25EZWxheTozNSxtYXhGcmFtZVJhdGU6NDAscmVnaXN0ZXJFdmVudHM6ITAsbWluaW1pemVSZWZsb3c6XCJub25lXCIsb2Zmc2V0WDowLG9mZnNldFk6MCx6b29tOntlbmFibGVkOiEwLGZhY3Rvclg6MS4yNSxmYWN0b3JZOjEuMjUsd2hlZWw6ITAsbmVlZFNoaWZ0OiEwLG1pbjoxZS00LG1heDoxZTQscGluY2hIb3Jpem9udGFsOiEwLHBpbmNoVmVydGljYWw6ITAscGluY2hTZW5zaXRpdml0eTo3fSxwYW46e25lZWRTaGlmdDohMCxuZWVkVHdvRmluZ2VyczohMSxlbmFibGVkOiEwfSxkcmFnOntlbmFibGVkOiEwfSxrZXlib2FyZDp7ZW5hYmxlZDohMCxkeDoxMCxkeToxMCxwYW5TaGlmdDohMCxwYW5DdHJsOiExfSxyZXNpemU6e2VuYWJsZWQ6ITAsdGhyb3R0bGU6MTB9LG1vdmVUYXJnZXQ6bnVsbCxzZWxlY3Rpb246e2VuYWJsZWQ6ITEsbmFtZTpcInNlbGVjdGlvblBvbHlnb25cIixuZWVkU2hpZnQ6ITEsbmVlZEN0cmw6ITAsd2l0aExpbmVzOiExLHZlcnRpY2VzOnt2aXNpYmxlOiExfSxmaWxsQ29sb3I6XCIjZmZmZjAwXCIsdmlzaWJsZTohMX0sc2hvd0luZm9ib3g6ITB9LG5hdmJhcjp7c3Ryb2tlQ29sb3I6XCIjMzMzMzMzXCIsZmlsbENvbG9yOlwidHJhbnNwYXJlbnRcIixoaWdobGlnaHRGaWxsQ29sb3I6XCIjYWFhYWFhXCIscGFkZGluZzpcIjJweFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixmb250U2l6ZTpcIjE0cHhcIixjdXJzb3I6XCJwb2ludGVyXCIsekluZGV4OlwiMTAwXCIscmlnaHQ6XCI1cHhcIixib3R0b206XCI1cHhcIn0sZWxlbWVudHM6e3N0cm9rZUNvbG9yOnIucGFsZXR0ZS5ibHVlLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLGZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLGhpZ2hsaWdodEZpbGxDb2xvcjpcIm5vbmVcIixzdHJva2VPcGFjaXR5OjEsaGlnaGxpZ2h0U3Ryb2tlT3BhY2l0eToxLGZpbGxPcGFjaXR5OjEsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6MSxncmFkaWVudDpudWxsLGdyYWRpZW50U2Vjb25kQ29sb3I6XCIjZmZmZmZmXCIsZ3JhZGllbnRTZWNvbmRPcGFjaXR5OjEsZ3JhZGllbnRTdGFydE9mZnNldDowLGdyYWRpZW50RW5kT2Zmc2V0OjEsZ3JhZGllbnRBbmdsZTowLGdyYWRpZW50Q1g6LjUsZ3JhZGllbnRDWTouNSxncmFkaWVudFI6LjUsZ3JhZGllbnRGWDouNSxncmFkaWVudEZZOi41LGdyYWRpZW50RlI6MCx0cmFuc2l0aW9uRHVyYXRpb246MTAwLHN0cm9rZVdpZHRoOjIsaGlnaGxpZ2h0U3Ryb2tlV2lkdGg6MixmaXhlZDohMSxmcm96ZW46ITEsd2l0aExhYmVsOiExLHZpc2libGU6ITAscHJpdjohMSxsYXllcjowLGRhc2g6MCxzaGFkb3c6ITEsdHJhY2U6ITEsdHJhY2VBdHRyaWJ1dGVzOnt9LGhpZ2hsaWdodDohMCxuZWVkc1JlZ3VsYXJVcGRhdGU6ITAsc25hcFRvR3JpZDohMSxzY2FsYWJsZTohMCxkcmFnVG9Ub3BPZkxheWVyOiExLHByZWNpc2lvbjpcImluaGVyaXRcIixkcmFmdDp7ZHJhZnQ6ITEsc3Ryb2tlQ29sb3I6XCIjNTY1NjU2XCIsZmlsbENvbG9yOlwiIzU2NTY1NlwiLHN0cm9rZU9wYWNpdHk6LjgsZmlsbE9wYWNpdHk6Ljgsc3Ryb2tlV2lkdGg6MX0saXNMYWJlbDohMSx0YWJpbmRleDowfSx0aWNrczp7Z2VuZXJhdGVMYWJlbFRleHQ6bnVsbCxnZW5lcmF0ZUxhYmVsVmFsdWU6bnVsbCxkcmF3TGFiZWxzOiExLGxhYmVsOnt9LGJlYXV0aWZ1bFNjaWVudGlmaWNUaWNrTGFiZWxzOiExLHVzZVVuaWNvZGVNaW51czohMCxhbmNob3I6XCJsZWZ0XCIsZHJhd1plcm86ITEsaW5zZXJ0VGlja3M6ITEsbWluVGlja3NEaXN0YW5jZToxMCxtaW5vckhlaWdodDo0LG1ham9ySGVpZ2h0OjEwLHRpY2tFbmRpbmdzOlsxLDFdLG1pbm9yVGlja3M6NCxzY2FsZToxLHNjYWxlU3ltYm9sOlwiXCIsbGFiZWxzOltdLG1heExhYmVsTGVuZ3RoOjUscHJlY2lzaW9uOjMsZGlnaXRzOjMsdGlja3NEaXN0YW5jZToxLGZhY2U6XCJ8XCIsc3Ryb2tlT3BhY2l0eToxLHN0cm9rZVdpZHRoOjEsc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsZmlsbENvbG9yOlwibm9uZVwiLGhpZ2hsaWdodEZpbGxDb2xvcjpcIm5vbmVcIix2aXNpYmxlOlwiaW5oZXJpdFwiLGluY2x1ZGVCb3VuZGFyaWVzOiExLHR5cGU6XCJsaW5lYXJcIn0saGF0Y2g6e2RyYXdMYWJlbHM6ITEsZHJhd1plcm86ITAsbWFqb3JIZWlnaHQ6MjAsYW5jaG9yOlwibWlkZGxlXCIsZmFjZTpcInxcIixzdHJva2VXaWR0aDoyLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5ibHVlLHRpY2tzRGlzdGFuY2U6LjJ9LHByZWNpc2lvbjp7dG91Y2g6MzAsdG91Y2hNYXg6MTAwLG1vdXNlOjQscGVuOjQsZXBzaWxvbjoxZS00LGhhc1BvaW50OjR9LGxheWVyOntudW1sYXllcnM6MjAsdW51c2VkOToxOSx1bnVzZWQ4OjE4LHVudXNlZDc6MTcsdW51c2VkNjoxNix1bnVzZWQ1OjE1LHVudXNlZDQ6MTQsdW51c2VkMzoxMyx1bnVzZWQyOjEyLHVudXNlZDE6MTEsdW51c2VkMDoxMCx0ZXh0OjkscG9pbnQ6OSxnbGlkZXI6OSxhcmM6OCxsaW5lOjcsY2lyY2xlOjYsY3VydmU6NSx0dXJ0bGU6NSxwb2x5Z29uOjMsc2VjdG9yOjMsYW5nbGU6MyxpbnRlZ3JhbDozLGF4aXM6Mix0aWNrczoyLGdyaWQ6MSxpbWFnZTowLHRyYWNlOjB9LGFuZ2xlOnt3aXRoTGFiZWw6ITAscmFkaXVzOlwiYXV0b1wiLHR5cGU6XCJzZWN0b3JcIixvcnRob1R5cGU6XCJzcXVhcmVcIixvcnRob1NlbnNpdGl2aXR5OjEsZmlsbENvbG9yOnIucGFsZXR0ZS5vcmFuZ2UsaGlnaGxpZ2h0RmlsbENvbG9yOnIucGFsZXR0ZS5vcmFuZ2Usc3Ryb2tlQ29sb3I6ci5wYWxldHRlLm9yYW5nZSxmaWxsT3BhY2l0eTouMyxoaWdobGlnaHRGaWxsT3BhY2l0eTouMyxyYWRpdXNwb2ludDp7d2l0aExhYmVsOiExLHZpc2libGU6ITEsbmFtZTpcIlwifSxwb2ludHNxdWFyZTp7d2l0aExhYmVsOiExLHZpc2libGU6ITEsbmFtZTpcIlwifSxkb3Q6e3Zpc2libGU6ITEsc3Ryb2tlQ29sb3I6XCJub25lXCIsZmlsbENvbG9yOlwiIzAwMDAwMFwiLHNpemU6MixmYWNlOlwib1wiLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LGxhYmVsOntwb3NpdGlvbjpcInRvcFwiLG9mZnNldDpbMCwwXSxzdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZX0sYXJjOnt2aXNpYmxlOiExLGZpbGxDb2xvcjpcIm5vbmVcIn19LGFyYzp7c2VsZWN0aW9uOlwiYXV0b1wiLGhhc0lubmVyUG9pbnRzOiExLGxhYmVsOnthbmNob3JYOlwiYXV0b1wiLGFuY2hvclk6XCJhdXRvXCJ9LGZpcnN0QXJyb3c6ITEsbGFzdEFycm93OiExLGZpbGxDb2xvcjpcIm5vbmVcIixoaWdobGlnaHRGaWxsQ29sb3I6XCJub25lXCIsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsdXNlRGlyZWN0aW9uOiExLGNlbnRlcjp7fSxyYWRpdXNQb2ludDp7fSxhbmdsZVBvaW50Ont9fSxhcnJvdzp7Zmlyc3RBcnJvdzohMSxsYXN0QXJyb3c6e3R5cGU6MSxoaWdobGlnaHRTaXplOjYsc2l6ZTo2fX0sYXhpczp7bmFtZTpcIlwiLG5lZWRzUmVndWxhclVwZGF0ZTohMSxzdHJva2VXaWR0aDoxLGxhc3RBcnJvdzp7dHlwZToxLGhpZ2hsaWdodFNpemU6OCxzaXplOjh9LHN0cm9rZUNvbG9yOlwiIzY2NjY2NlwiLGhpZ2hsaWdodFN0cm9rZVdpZHRoOjEsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsd2l0aFRpY2tzOiEwLHN0cmFpZ2h0Rmlyc3Q6ITAsc3RyYWlnaHRMYXN0OiEwLG1hcmdpbjotNCx3aXRoTGFiZWw6ITEsc2NhbGFibGU6ITEsdGlja3M6e2xhYmVsOntvZmZzZXQ6WzQsLTldLHBhcnNlOiExLG5lZWRzUmVndWxhclVwZGF0ZTohMSxkaXNwbGF5OlwiaW50ZXJuYWxcIix2aXNpYmxlOlwiaW5oZXJpdFwiLGxheWVyOjl9LHZpc2libGU6XCJpbmhlcml0XCIsbmVlZHNSZWd1bGFyVXBkYXRlOiExLHN0cm9rZVdpZHRoOjEsc3Ryb2tlQ29sb3I6XCIjNjY2NjY2XCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsZHJhd0xhYmVsczohMCxkcmF3WmVybzohMSxpbnNlcnRUaWNrczohMCxtaW5UaWNrc0Rpc3RhbmNlOjUsbWlub3JIZWlnaHQ6MTAsbWFqb3JIZWlnaHQ6LTEsdGlja0VuZGluZ3M6WzAsMV0sbWlub3JUaWNrczo0LHRpY2tzRGlzdGFuY2U6MSxzdHJva2VPcGFjaXR5Oi4yNX0scG9pbnQxOntuZWVkc1JlZ3VsYXJVcGRhdGU6ITEsdmlzaWJsZTohMX0scG9pbnQyOntuZWVkc1JlZ3VsYXJVcGRhdGU6ITEsdmlzaWJsZTohMX0sdGFiaW5kZXg6LTEsbGFiZWw6e3Bvc2l0aW9uOlwibGZ0XCIsb2Zmc2V0OlsxMCwxMF19fSxiaXNlY3Rvcjp7c3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIscG9pbnQ6e3Zpc2libGU6ITEsZml4ZWQ6ITEsd2l0aExhYmVsOiExLG5hbWU6XCJcIn19LGJpc2VjdG9ybGluZXM6e2xpbmUxOntzdHJva2VDb2xvcjpcIiMwMDAwMDBcIn0sbGluZTI6e3N0cm9rZUNvbG9yOlwiIzAwMDAwMFwifX0sYm94cGxvdDp7ZGlyOlwidmVydGljYWxcIixzbWFsbFdpZHRoOi41LHN0cm9rZVdpZHRoOjIsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsZmlsbENvbG9yOnIucGFsZXR0ZS5ibHVlLGZpbGxPcGFjaXR5Oi4yLGhpZ2hsaWdodFN0cm9rZVdpZHRoOjIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0RmlsbENvbG9yOnIucGFsZXR0ZS5ibHVlLGhpZ2hsaWdodEZpbGxPcGFjaXR5Oi4xfSxidXR0b246e2Rpc2FibGVkOiExLGRpc3BsYXk6XCJodG1sXCJ9LGNhcmRpbmFsc3BsaW5lOntjcmVhdGVQb2ludHM6ITAsaXNBcnJheU9mQ29vcmRpbmF0ZXM6ITEscG9pbnRzOntzdHJva2VPcGFjaXR5Oi4wNSxmaWxsT3BhY2l0eTouMDUsaGlnaGxpZ2h0U3Ryb2tlT3BhY2l0eToxLGhpZ2hsaWdodEZpbGxPcGFjaXR5OjEsd2l0aExhYmVsOiExLG5hbWU6XCJcIixmaXhlZDohMX19LGNoYXJ0OntjaGFydFN0eWxlOlwibGluZVwiLGNvbG9yczpbXCIjQjAyQjJDXCIsXCIjM0Y0QzZCXCIsXCIjQzc5ODEwXCIsXCIjRDE1NjAwXCIsXCIjRkZGRjg4XCIsXCIjYzNkOWZmXCIsXCIjNDA5NkVFXCIsXCIjMDA4QzAwXCJdLGhpZ2hsaWdodGNvbG9yczpudWxsLGZpbGxjb2xvcjpudWxsLGhpZ2hsaWdodG9uc2VjdG9yOiExLGhpZ2hsaWdodGJ5c2l6ZTohMSxmaWxsT3BhY2l0eTouNix3aXRoTGluZXM6ITEsbGFiZWw6e319LGNoZWNrYm94OntkaXNhYmxlZDohMSxjaGVja2VkOiExLGRpc3BsYXk6XCJodG1sXCJ9LGNpcmNsZTp7aGFzSW5uZXJQb2ludHM6ITEsZmlsbENvbG9yOlwibm9uZVwiLGhpZ2hsaWdodEZpbGxDb2xvcjpcIm5vbmVcIixzdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZSxoaWdobGlnaHRTdHJva2VDb2xvcjpcIiNjM2Q5ZmZcIixjZW50ZXI6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExLGZpeGVkOiExLGZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5yZWQsaGlnaGxpZ2h0RmlsbENvbG9yOlwiI2MzZDlmZlwiLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLG5hbWU6XCJcIn0scG9pbnQyOnt2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxmaXhlZDohMSxuYW1lOlwiXCJ9LGxhYmVsOntwb3NpdGlvbjpcInVydFwifX0sY2lyY3VtY2lyY2xlOntmaWxsQ29sb3I6XCJub25lXCIsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwiLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5ibHVlLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLGNlbnRlcjp7dmlzaWJsZTohMSxmaXhlZDohMSx3aXRoTGFiZWw6ITEsZmlsbENvbG9yOnIucGFsZXR0ZS5yZWQsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLnJlZCxoaWdobGlnaHRGaWxsQ29sb3I6XCIjYzNkOWZmXCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsbmFtZTpcIlwifX0sY2lyY3VtY2lyY2xlYXJjOntmaWxsQ29sb3I6XCJub25lXCIsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwiLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5ibHVlLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLGNlbnRlcjp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsZml4ZWQ6ITEsbmFtZTpcIlwifX0sY2lyY3VtY2lyY2xlc2VjdG9yOnt1c2VEaXJlY3Rpb246ITAsZmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3csaGlnaGxpZ2h0RmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3csZmlsbE9wYWNpdHk6LjMsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6LjMsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIscG9pbnQ6e3Zpc2libGU6ITEsZml4ZWQ6ITEsd2l0aExhYmVsOiExLG5hbWU6XCJcIn19LGNvbmljOntmaWxsQ29sb3I6XCJub25lXCIsaGlnaGxpZ2h0RmlsbENvbG9yOlwibm9uZVwiLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5ibHVlLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLGZvY2k6e2ZpeGVkOiExLHZpc2libGU6ITEsd2l0aExhYmVsOiExLG5hbWU6XCJcIn0sY2VudGVyOnt2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9LHBvaW50Ont3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSxsaW5lOnt2aXNpYmxlOiExfX0sY3VydmU6e3N0cm9rZVdpZHRoOjEsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsZmlsbENvbG9yOlwibm9uZVwiLGZpeGVkOiEwLHVzZVFEVDohMSxoYW5kRHJhd2luZzohMSxjdXJ2ZVR5cGU6bnVsbCxSRFBzbW9vdGhpbmc6ITEsbnVtYmVyUG9pbnRzSGlnaDoxNjAwLG51bWJlclBvaW50c0xvdzo0MDAsZG9BZHZhbmNlZFBsb3Q6ITAscmVjdXJzaW9uRGVwdGhIaWdoOjE3LHJlY3Vyc2lvbkRlcHRoTG93OjE1LGRvQWR2YW5jZWRQbG90T2xkOiExLHBsb3RWZXJzaW9uOjIsbGFiZWw6e3Bvc2l0aW9uOlwibGZ0XCJ9LGZpcnN0QXJyb3c6ITEsbGFzdEFycm93OiExfSxmb3JlaWdub2JqZWN0OnthdHRyYWN0b3JzOltdLGZpeGVkOiEwLHZpc2libGU6ITB9LGdsaWRlcjp7bGFiZWw6e319LGdyaWQ6e25lZWRzUmVndWxhclVwZGF0ZTohMSxoYXNHcmlkOiExLGdyaWRYOjEsZ3JpZFk6MSxzdHJva2VDb2xvcjpcIiNjMGMwYzBcIixzdHJva2VPcGFjaXR5Oi41LHN0cm9rZVdpZHRoOjEsZGFzaDowLHNuYXBUb0dyaWQ6ITEsc25hcFNpemVYOjEwLHNuYXBTaXplWToxMH0sZ3JvdXA6e25lZWRzUmVndWxhclVwZGF0ZTohMH0saHRtbHNsaWRlcjp7d2lkdGhSYW5nZToxMDAsd2lkdGhPdXQ6MzQsc3RlcDouMDEsZnJvemVuOiEwLGlzTGFiZWw6ITEsc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsZGlzcGxheTpcImh0bWxcIixhbmNob3JYOlwibGVmdFwiLGFuY2hvclk6XCJtaWRkbGVcIix3aXRoTGFiZWw6ITF9LGltYWdlOntpbWFnZVN0cmluZzpudWxsLGZpbGxPcGFjaXR5OjEsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6LjYsY3NzQ2xhc3M6XCJKWEdpbWFnZVwiLGhpZ2hsaWdodENzc0NsYXNzOlwiSlhHaW1hZ2VIaWdobGlnaHRcIixyb3RhdGU6MCxzbmFwU2l6ZVg6MSxzbmFwU2l6ZVk6MSxhdHRyYWN0b3JzOltdfSxpbmNpcmNsZTp7ZmlsbENvbG9yOlwibm9uZVwiLGhpZ2hsaWdodEZpbGxDb2xvcjpcIm5vbmVcIixzdHJva2VDb2xvcjpyLnBhbGV0dGUuYmx1ZSxoaWdobGlnaHRTdHJva2VDb2xvcjpcIiNjM2Q5ZmZcIixjZW50ZXI6e3Zpc2libGU6ITEsZml4ZWQ6ITEsd2l0aExhYmVsOiExLGZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5yZWQsaGlnaGxpZ2h0RmlsbENvbG9yOlwiI2MzZDlmZlwiLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLG5hbWU6XCJcIn19LGluZXF1YWxpdHk6e2ZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLGZpbGxPcGFjaXR5Oi4yLHN0cm9rZUNvbG9yOlwibm9uZVwiLGludmVyc2U6ITF9LGluZm9ib3g6e2ZvbnRTaXplOjEyLGlzTGFiZWw6ITEsc3Ryb2tlQ29sb3I6XCIjYmJiYmJiXCIsZGlzcGxheTpcImh0bWxcIixhbmNob3JYOlwibGVmdFwiLGFuY2hvclk6XCJtaWRkbGVcIixjc3NDbGFzczpcIkpYR2luZm9ib3hcIixyb3RhdGU6MCx2aXNpYmxlOiEwLHBhcnNlOiExLHRyYW5zaXRpb25EdXJhdGlvbjowLG5lZWRzUmVndWxhclVwZGF0ZTohMX0saW50ZWdyYWw6e2F4aXM6XCJ4XCIsd2l0aExhYmVsOiEwLGZpeGVkOiEwLHN0cm9rZVdpZHRoOjAsc3Ryb2tlT3BhY2l0eTowLGZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLGZpbGxPcGFjaXR5Oi4zLGhpZ2hsaWdodEZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLGhpZ2hsaWdodEZpbGxPcGFjaXR5Oi4yLGN1cnZlTGVmdDp7dmlzaWJsZTohMCx3aXRoTGFiZWw6ITEsY29sb3I6ci5wYWxldHRlLnJlZCxmaWxsT3BhY2l0eTouOCxsYXllcjo5fSxiYXNlTGVmdDp7dmlzaWJsZTohMSxmaXhlZDohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSxjdXJ2ZVJpZ2h0Ont2aXNpYmxlOiEwLHdpdGhMYWJlbDohMSxjb2xvcjpyLnBhbGV0dGUucmVkLGZpbGxPcGFjaXR5Oi44LGxheWVyOjl9LGJhc2VSaWdodDp7dmlzaWJsZTohMSxmaXhlZDohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSxsYWJlbDp7Zm9udFNpemU6MjB9fSxpbnB1dDp7ZGlzYWJsZWQ6ITEsbWF4bGVuZ3RoOjUyNDI4OCxkaXNwbGF5OlwiaHRtbFwifSxpbnRlcnNlY3Rpb246e2Fsd2F5c0ludGVyc2VjdDohMH0sbGFiZWw6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsc3Ryb2tlT3BhY2l0eToxLGhpZ2hsaWdodFN0cm9rZU9wYWNpdHk6LjY2NjY2NixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiMwMDAwMDBcIixmaXhlZDohMCxwb3NpdGlvbjpcInVydFwiLG9mZnNldDpbMTAsMTBdLGF1dG9Qb3NpdGlvbjohMX0sbGVnZW5kOntzdHlsZTpcInZlcnRpY2FsXCIsbGFiZWxzOltcIjFcIixcIjJcIixcIjNcIixcIjRcIixcIjVcIixcIjZcIixcIjdcIixcIjhcIl0sY29sb3JzOltcIiNCMDJCMkNcIixcIiMzRjRDNkJcIixcIiNDNzk4MTBcIixcIiNEMTU2MDBcIixcIiNGRkZGODhcIixcIiNjM2Q5ZmZcIixcIiM0MDk2RUVcIixcIiMwMDhDMDBcIl0scm93SGVpZ2h0OjIwLHN0cm9rZVdpZHRoOjV9LGxpbmU6e2ZpcnN0QXJyb3c6ITEsbGFzdEFycm93OiExLG1hcmdpbjowLHN0cmFpZ2h0Rmlyc3Q6ITAsc3RyYWlnaHRMYXN0OiEwLGZpbGxDb2xvcjpcIm5vbmVcIixoaWdobGlnaHRGaWxsQ29sb3I6XCJub25lXCIsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLmJsdWUsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjYzNkOWZmXCIsd2l0aFRpY2tzOiExLHBvaW50MTp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsZml4ZWQ6ITEsbmFtZTpcIlwifSxwb2ludDI6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExLGZpeGVkOiExLG5hbWU6XCJcIn0sdGlja3M6e2RyYXdMYWJlbHM6ITAsbGFiZWw6e29mZnNldDpbNCwtOV19LGRyYXdaZXJvOiExLGluc2VydFRpY2tzOiExLG1pblRpY2tzRGlzdGFuY2U6NTAsbWlub3JIZWlnaHQ6NCxtYWpvckhlaWdodDotMSxtaW5vclRpY2tzOjQsZGVmYXVsdERpc3RhbmNlOjEsc3Ryb2tlT3BhY2l0eTouMyx2aXNpYmxlOlwiaW5oZXJpdFwifSxsYWJlbDp7cG9zaXRpb246XCJsbGZ0XCJ9LHNuYXBUb0dyaWQ6ITEsc25hcFNpemVYOjEsc25hcFNpemVZOjEsdG91Y2hGaXJzdFBvaW50OiExLHRvdWNoTGFzdFBvaW50OiExLGxpbmVDYXA6XCJidXR0XCJ9LGxvY3VzOnt0cmFuc2xhdGVUb09yaWdpbjohMSx0cmFuc2xhdGVUbzEwOiExLHN0cmV0Y2g6ITEsdG9PcmlnaW46bnVsbCx0bzEwOm51bGx9LG1ldGFwb3N0c3BsaW5lOntjcmVhdGVQb2ludHM6ITAsaXNBcnJheU9mQ29vcmRpbmF0ZXM6ITEscG9pbnRzOntzdHJva2VPcGFjaXR5Oi4wNSxmaWxsT3BhY2l0eTouMDUsaGlnaGxpZ2h0U3Ryb2tlT3BhY2l0eToxLGhpZ2hsaWdodEZpbGxPcGFjaXR5OjEsd2l0aExhYmVsOiExLG5hbWU6XCJcIixmaXhlZDohMX19LG1pcnJvcmVsZW1lbnQ6e2ZpeGVkOiEwLHBvaW50Ont9LGNlbnRlcjp7fSx0eXBlOlwiRXVjbGlkZWFuXCJ9LG5vcm1hbDp7c3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIscG9pbnQ6e3Zpc2libGU6ITEsZml4ZWQ6ITEsd2l0aExhYmVsOiExLG5hbWU6XCJcIn19LG9ydGhvZ29uYWxwcm9qZWN0aW9uOnt9LHBhcmFsbGVsOntzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixwb2ludDp7dmlzaWJsZTohMSxmaXhlZDohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSxsYWJlbDp7cG9zaXRpb246XCJsbGZ0XCJ9fSxwZXJwZW5kaWN1bGFyOntzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixzdHJhaWdodEZpcnN0OiEwLHN0cmFpZ2h0TGFzdDohMH0scGVycGVuZGljdWxhcnNlZ21lbnQ6e3N0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLHN0cmFpZ2h0Rmlyc3Q6ITEsc3RyYWlnaHRMYXN0OiExLHBvaW50Ont2aXNpYmxlOiExLGZpeGVkOiEwLHdpdGhMYWJlbDohMSxuYW1lOlwiXCJ9fSxwb2ludDp7d2l0aExhYmVsOiEwLGxhYmVsOnt9LHN0eWxlOjUsZmFjZTpcIm9cIixzaXplOjMsc2l6ZVVuaXQ6XCJzY3JlZW5cIixzdHJva2VXaWR0aDoyLGZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5yZWQsaGlnaGxpZ2h0RmlsbENvbG9yOlwiI2MzZDlmZlwiLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiI2MzZDlmZlwiLHpvb206ITEsc2hvd0luZm9ib3g6XCJpbmhlcml0XCIsaW5mb2JveERpZ2l0czpcImF1dG9cIixkcmFmdDohMSxhdHRyYWN0b3JzOltdLGF0dHJhY3RvclVuaXQ6XCJ1c2VyXCIsYXR0cmFjdG9yRGlzdGFuY2U6MCxzbmF0Y2hEaXN0YW5jZTowLHNuYXBUb0dyaWQ6ITEsYXR0cmFjdFRvR3JpZDohMSxzbmFwU2l6ZVg6MSxzbmFwU2l6ZVk6MSxzbmFwVG9Qb2ludHM6ITEsaWdub3JlZFNuYXBUb1BvaW50czpbXX0scG9seWdvbjp7aGFzSW5uZXJQb2ludHM6ITEsZmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3csaGlnaGxpZ2h0RmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3csZmlsbE9wYWNpdHk6LjMsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6LjIsd2l0aExpbmVzOiEwLGJvcmRlcnM6e3dpdGhMYWJlbDohMSxzdHJva2VXaWR0aDoxLGhpZ2hsaWdodFN0cm9rZVdpZHRoOjEsbGF5ZXI6NSxsYWJlbDp7cG9zaXRpb246XCJ0b3BcIn0sdmlzaWJsZTpcImluaGVyaXRcIn0sdmVydGljZXM6e2xheWVyOjksd2l0aExhYmVsOiExLG5hbWU6XCJcIixzdHJva2VDb2xvcjpyLnBhbGV0dGUucmVkLGZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLGZpeGVkOiExLHZpc2libGU6XCJpbmhlcml0XCJ9LGxhYmVsOntvZmZzZXQ6WzAsMF19fSxwb2x5Z29uYWxjaGFpbjp7ZmlsbENvbG9yOlwibm9uZVwiLGhpZ2hsaWdodEZpbGxDb2xvcjpcIm5vbmVcIn0scHJlc2NyaWJlZGFuZ2xlOnthbmdsZVBvaW50OntzaXplOjIsdmlzaWJsZTohMSx3aXRoTGFiZWw6ITF9fSxyZWZsZWN0aW9uOntmaXhlZDohMCxjZW50ZXI6e30sdHlwZTpcIkV1Y2xpZGVhblwifSxyZWd1bGFycG9seWdvbjp7aGFzSW5uZXJQb2ludHM6ITEsZmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3csaGlnaGxpZ2h0RmlsbENvbG9yOnIucGFsZXR0ZS55ZWxsb3csZmlsbE9wYWNpdHk6LjMsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6LjIsd2l0aExpbmVzOiEwLGJvcmRlcnM6e3dpdGhMYWJlbDohMSxzdHJva2VXaWR0aDoxLGhpZ2hsaWdodFN0cm9rZVdpZHRoOjEsbGF5ZXI6NSxsYWJlbDp7cG9zaXRpb246XCJ0b3BcIn19LHZlcnRpY2VzOntsYXllcjo5LHdpdGhMYWJlbDohMCxzdHJva2VDb2xvcjpyLnBhbGV0dGUucmVkLGZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLGZpeGVkOiExfSxsYWJlbDp7b2Zmc2V0OlswLDBdfX0scmllbWFubnN1bTp7d2l0aExhYmVsOiExLGZpbGxPcGFjaXR5Oi4zLGZpbGxDb2xvcjpyLnBhbGV0dGUueWVsbG93fSxzZWN0b3I6e2ZpbGxDb2xvcjpyLnBhbGV0dGUueWVsbG93LGhpZ2hsaWdodEZpbGxDb2xvcjpyLnBhbGV0dGUueWVsbG93LGZpbGxPcGFjaXR5Oi4zLGhpZ2hsaWdodEZpbGxPcGFjaXR5Oi4zLGhpZ2hsaWdodE9uU2VjdG9yOiExLGhpZ2hsaWdodFN0cm9rZVdpZHRoOjAsc2VsZWN0aW9uOlwiYXV0b1wiLGFyYzp7dmlzaWJsZTohMSxmaWxsQ29sb3I6XCJub25lXCJ9LHJhZGl1c1BvaW50Ont2aXNpYmxlOiExLHdpdGhMYWJlbDohMX0sY2VudGVyOnt2aXNpYmxlOiExLHdpdGhMYWJlbDohMX0sYW5nbGVQb2ludDp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITF9LGxhYmVsOntvZmZzZXQ6WzAsMF0sYW5jaG9yWDpcImF1dG9cIixhbmNob3JZOlwiYXV0b1wifX0sc2VnbWVudDp7bGFiZWw6e3Bvc2l0aW9uOlwidG9wXCJ9fSxzZW1pY2lyY2xlOntjZW50ZXI6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExLGZpeGVkOiExLGZpbGxDb2xvcjpyLnBhbGV0dGUucmVkLHN0cm9rZUNvbG9yOnIucGFsZXR0ZS5yZWQsaGlnaGxpZ2h0RmlsbENvbG9yOlwiI2VlZWVlZVwiLGhpZ2hsaWdodFN0cm9rZUNvbG9yOnIucGFsZXR0ZS5yZWQsbmFtZTpcIlwifX0sc2xpZGVyOntzbmFwV2lkdGg6LTEscHJlY2lzaW9uOjIsZGlnaXRzOjIsZmlyc3RBcnJvdzohMSxsYXN0QXJyb3c6ITEsd2l0aFRpY2tzOiEwLHdpdGhMYWJlbDohMCxzdWZmaXhMYWJlbDpudWxsLHVuaXRMYWJlbDpudWxsLHBvc3RMYWJlbDpudWxsLGxheWVyOjksc2hvd0luZm9ib3g6ITEsbmFtZTpcIlwiLHZpc2libGU6ITAsc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsZmlsbENvbG9yOlwiI2ZmZmZmZlwiLGhpZ2hsaWdodEZpbGxDb2xvcjpcIm5vbmVcIixzaXplOjYscG9pbnQxOntuZWVkc1JlZ3VsYXJVcGRhdGU6ITEsc2hvd0luZm9ib3g6ITEsd2l0aExhYmVsOiExLHZpc2libGU6ITEsZml4ZWQ6ITAsbmFtZTpcIlwifSxwb2ludDI6e25lZWRzUmVndWxhclVwZGF0ZTohMSxzaG93SW5mb2JveDohMSx3aXRoTGFiZWw6ITEsdmlzaWJsZTohMSxmaXhlZDohMCxuYW1lOlwiXCJ9LGJhc2VsaW5lOntuZWVkc1JlZ3VsYXJVcGRhdGU6ITEsdmlzaWJsZTpcImluaGVyaXRcIixmaXhlZDohMCxzY2FsYWJsZTohMSx0YWJpbmRleDpudWxsLG5hbWU6XCJcIixzdHJva2VXaWR0aDoxLHN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLGhpZ2hsaWdodFN0cm9rZUNvbG9yOlwiIzg4ODg4OFwifSx0aWNrczp7bmVlZHNSZWd1bGFyVXBkYXRlOiExLGZpeGVkOiEwLGRyYXdMYWJlbHM6ITEsZGlnaXRzOjIsaW5jbHVkZUJvdW5kYXJpZXM6MSxkcmF3WmVybzohMCxsYWJlbDp7b2Zmc2V0OlstNCwtMTRdLGRpc3BsYXk6XCJpbnRlcm5hbFwifSxtaW5UaWNrc0Rpc3RhbmNlOjMwLGluc2VydFRpY2tzOiEwLG1pbm9ySGVpZ2h0OjQsbWFqb3JIZWlnaHQ6NSxtaW5vclRpY2tzOjAsZGVmYXVsdERpc3RhbmNlOjEsc3Ryb2tlT3BhY2l0eToxLHN0cm9rZVdpZHRoOjEsdGlja0VuZGluZ3M6WzAsMV0sc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsdmlzaWJsZTpcImluaGVyaXRcIn0saGlnaGxpbmU6e3N0cm9rZVdpZHRoOjMsdmlzaWJsZTpcImluaGVyaXRcIixmaXhlZDohMCx0YWJpbmRleDpudWxsLG5hbWU6XCJcIixzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiM4ODg4ODhcIn0sbGFiZWw6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCJ9LG1vdmVPblVwOiEwfSxjb21iOntmcmVxdWVuY3k6LjIsd2lkdGg6LjQsYW5nbGU6TWF0aC5QSS8zLHJldmVyc2U6ITEscG9pbnQxOnt2aXNpYmxlOiExLHdpdGhMYWJlbDohMSxmaXhlZDohMSxuYW1lOlwiXCJ9LHBvaW50Mjp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsZml4ZWQ6ITEsbmFtZTpcIlwifSxjdXJ2ZTp7c3Ryb2tlV2lkdGg6MSxzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixmaWxsQ29sb3I6XCJub25lXCJ9fSxzbG9wZXRyaWFuZ2xlOntmaWxsQ29sb3I6ci5wYWxldHRlLnJlZCxmaWxsT3BhY2l0eTouNCxoaWdobGlnaHRGaWxsQ29sb3I6ci5wYWxldHRlLnJlZCxoaWdobGlnaHRGaWxsT3BhY2l0eTouMyxib3JkZXJzOntsYXN0QXJyb3c6e3R5cGU6MSxzaXplOjZ9fSxnbGlkZXI6e2ZpeGVkOiEwLHZpc2libGU6ITEsd2l0aExhYmVsOiExfSxiYXNlbGluZTp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSxiYXNlcG9pbnQ6e3Zpc2libGU6ITEsd2l0aExhYmVsOiExLG5hbWU6XCJcIn0sdGFuZ2VudDp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSx0b3Bwb2ludDp7dmlzaWJsZTohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSxsYWJlbDp7dmlzaWJsZTohMH19LHN0ZXBmdW5jdGlvbjp7fSx0YXBlbWVhc3VyZTp7c3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsc3Ryb2tlV2lkdGg6MixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiMwMDAwMDBcIix3aXRoVGlja3M6ITAsd2l0aExhYmVsOiEwLHByZWNpc2lvbjoyLGRpZ2l0czoyLHBvaW50MTp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixmaWxsQ29sb3I6XCIjZmZmZmZmXCIsZmlsbE9wYWNpdHk6MCxoaWdobGlnaHRGaWxsT3BhY2l0eTouMSxzaXplOjYsc25hcFRvUG9pbnRzOiEwLGF0dHJhY3RvclVuaXQ6XCJzY3JlZW5cIixhdHRyYWN0b3JEaXN0YW5jZToyMCxzaG93SW5mb2JveDohMSx3aXRoTGFiZWw6ITEsbmFtZTpcIlwifSxwb2ludDI6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjMDAwMDAwXCIsZmlsbENvbG9yOlwiI2ZmZmZmZlwiLGZpbGxPcGFjaXR5OjAsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6LjEsc2l6ZTo2LHNuYXBUb1BvaW50czohMCxhdHRyYWN0b3JVbml0Olwic2NyZWVuXCIsYXR0cmFjdG9yRGlzdGFuY2U6MjAsc2hvd0luZm9ib3g6ITEsd2l0aExhYmVsOiExLG5hbWU6XCJcIn0sdGlja3M6e2RyYXdMYWJlbHM6ITEsZHJhd1plcm86ITAsaW5zZXJ0VGlja3M6ITAsbWlub3JIZWlnaHQ6OCxtYWpvckhlaWdodDoxNixtaW5vclRpY2tzOjQsdGlja0VuZGluZ3M6WzAsMV0sZGVmYXVsdERpc3RhbmNlOi4xLHN0cm9rZU9wYWNpdHk6MSxzdHJva2VXaWR0aDoxLHN0cm9rZUNvbG9yOlwiIzAwMDAwMFwiLHZpc2libGU6XCJpbmhlcml0XCJ9LGxhYmVsOntwb3NpdGlvbjpcInRvcFwifX0sdGV4dDp7Zm9udFNpemU6MTIsZm9udFVuaXQ6XCJweFwiLGRpZ2l0czoyLHBhcnNlOiEwLHVzZUNhamE6ITEsaXNMYWJlbDohMSxzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixoaWdobGlnaHRTdHJva2VDb2xvcjpcIiMwMDAwMDBcIixoaWdobGlnaHRTdHJva2VPcGFjaXR5Oi42NjY2NjYsY3NzRGVmYXVsdFN0eWxlOlwiZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIEdlbmV2YSwgc2Fucy1zZXJpZjtcIixoaWdobGlnaHRDc3NEZWZhdWx0U3R5bGU6XCJmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgR2VuZXZhLCBzYW5zLXNlcmlmO1wiLGNzc1N0eWxlOlwiXCIsaGlnaGxpZ2h0Q3NzU3R5bGU6XCJcIix1c2VBU0NJSU1hdGhNTDohMSx1c2VNYXRoSmF4OiExLHVzZUthdGV4OiExLGRpc3BsYXk6XCJodG1sXCIsYW5jaG9yOm51bGwsYW5jaG9yWDpcImxlZnRcIixhbmNob3JZOlwibWlkZGxlXCIsY3NzQ2xhc3M6XCJKWEd0ZXh0XCIsaGlnaGxpZ2h0Q3NzQ2xhc3M6XCJKWEd0ZXh0XCIsZHJhZ0FyZWE6XCJhbGxcIix3aXRoTGFiZWw6ITEscm90YXRlOjAsdmlzaWJsZTohMCxzbmFwU2l6ZVg6MSxzbmFwU2l6ZVk6MSxhdHRyYWN0b3JzOltdfSx0cmFjZWN1cnZlOntzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixmaWxsQ29sb3I6XCJub25lXCIsbnVtYmVyUG9pbnRzOjEwMH0sdHVydGxlOntzdHJva2VXaWR0aDoxLGZpbGxDb2xvcjpcIm5vbmVcIixzdHJva2VDb2xvcjpcIiMwMDAwMDBcIixhcnJvdzp7c3Ryb2tlV2lkdGg6Mix3aXRoTGFiZWw6ITEsc3Ryb2tlQ29sb3I6ci5wYWxldHRlLnJlZCxsYXN0QXJyb3c6ITB9fSxzaG9ydGN1dHM6e2NvbG9yOltcInN0cm9rZUNvbG9yXCIsXCJmaWxsQ29sb3JcIl0sb3BhY2l0eTpbXCJzdHJva2VPcGFjaXR5XCIsXCJmaWxsT3BhY2l0eVwiXSxoaWdobGlnaHRDb2xvcjpbXCJoaWdobGlnaHRTdHJva2VDb2xvclwiLFwiaGlnaGxpZ2h0RmlsbENvbG9yXCJdLGhpZ2hsaWdodE9wYWNpdHk6W1wiaGlnaGxpZ2h0U3Ryb2tlT3BhY2l0eVwiLFwiaGlnaGxpZ2h0RmlsbE9wYWNpdHlcIl0sc3Ryb2tlV2lkdGg6W1wic3Ryb2tlV2lkdGhcIixcImhpZ2hsaWdodFN0cm9rZVdpZHRoXCJdfX0sdC5WYWxpZGF0b3I9ZnVuY3Rpb24oKXt2YXIgZSxyPWZ1bmN0aW9uKHQpe3JldHVybiBzLmlzU3RyaW5nKHQpfSxvPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmFicyh0LU1hdGgucm91bmQodCkpPGkuZXBzfSxuPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQpJiZ0PjB9LGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQ+MH0saD1mdW5jdGlvbih0KXtyZXR1cm4gdD49MH0sbD17fSxjPXthdHRyYWN0b3JEaXN0YW5jZTpoLGNvbG9yOnIsZGVmYXVsdERpc3RhbmNlOnMuaXNOdW1iZXIsZGlzcGxheTpmdW5jdGlvbih0KXtyZXR1cm5cImh0bWxcIj09PXR8fFwiaW50ZXJuYWxcIj09PXR9LGRvQWR2YW5jZWRQbG90OiExLGRyYWZ0OiExLGRyYXdMYWJlbHM6ITEsZHJhd1plcm86ITEsZmFjZTpmdW5jdGlvbihlKXtyZXR1cm4gcy5leGlzdHModC5ub3JtYWxpemVQb2ludEZhY2UoZSkpfSxmYWN0b3I6cy5pc051bWJlcixmaWxsQ29sb3I6cixmaWxsT3BhY2l0eTpzLmlzTnVtYmVyLGZpcnN0QXJyb3c6ITEsZm9udFNpemU6byxkYXNoOm8sZ3JpZFg6cy5pc051bWJlcixncmlkWTpzLmlzTnVtYmVyLGhhc0dyaWQ6ITEsaGlnaGxpZ2h0RmlsbENvbG9yOnIsaGlnaGxpZ2h0RmlsbE9wYWNpdHk6cy5pc051bWJlcixoaWdobGlnaHRTdHJva2VDb2xvcjpyLGhpZ2hsaWdodFN0cm9rZU9wYWNpdHk6cy5pc051bWJlcixpbnNlcnRUaWNrczohMSxsYXN0QXJyb3c6ITEsbGF5ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIG8odCkmJnQ+PTB9LG1ham9ySGVpZ2h0Om8sbWlub3JIZWlnaHQ6byxtaW5vclRpY2tzOmgsbWluVGlja3NEaXN0YW5jZTpuLG51bWJlclBvaW50c0hpZ2g6bixudW1iZXJQb2ludHNMb3c6bixvcGFjaXR5OnMuaXNOdW1iZXIscmFkaXVzOnMuaXNOdW1iZXIsUkRQc21vb3RoaW5nOiExLHJlbmRlcmVyOmZ1bmN0aW9uKHQpe3JldHVyblwidm1sXCI9PT10fHxcInN2Z1wiPT09dHx8XCJjYW52YXNcIj09PXR8fFwibm9cIj09PXR9LHJpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybi9eWzAtOV0rcHgkLy50ZXN0KHQpfSxzaG93Q29weXJpZ2h0OiExLHNob3dJbmZvYm94OiExLHNob3dOYXZpZ2F0aW9uOiExLHNpemU6aCxzbmFwU2l6ZVg6YSxzbmFwU2l6ZVk6YSxzbmFwV2lkdGg6cy5pc051bWJlcixzbmFwVG9HcmlkOiExLHNuYXRjaERpc3RhbmNlOmgsc3RyYWlnaHRGaXJzdDohMSxzdHJhaWdodExhc3Q6ITEsc3RyZXRjaDohMSxzdHJva2VDb2xvcjpyLHN0cm9rZU9wYWNpdHk6cy5pc051bWJlcixzdHJva2VXaWR0aDpoLHRha2VGaXJzdDohMSx0YWtlU2l6ZUZyb21GaWxlOiExLHRvMTA6ITEsdG9PcmlnaW46ITEsdHJhbnNsYXRlVG8xMDohMSx0cmFuc2xhdGVUb09yaWdpbjohMSx1c2VBU0NJSU1hdGhNTDohMSx1c2VEaXJlY3Rpb246ITEsdXNlTWF0aEpheDohMSx3aXRoTGFiZWw6ITEsd2l0aFRpY2tzOiExLHpvb206ITF9O2ZvcihlIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShlKSYmKGxbZS50b0xvd2VyQ2FzZSgpXT1jW2VdKTtyZXR1cm4gbH0oKSx0Lm5vcm1hbGl6ZVBvaW50RmFjZT1mdW5jdGlvbih0KXtyZXR1cm57Y3Jvc3M6XCJ4XCIseDpcInhcIixjaXJjbGU6XCJvXCIsbzpcIm9cIixzcXVhcmU6XCJbXVwiLFwiW11cIjpcIltdXCIscGx1czpcIitcIixcIitcIjpcIitcIixkaWFtb25kOlwiPD5cIixcIjw+XCI6XCI8PlwiLHRyaWFuZ2xldXA6XCJeXCIsYTpcIl5cIixcIl5cIjpcIl5cIix0cmlhbmdsZWRvd246XCJ2XCIsdjpcInZcIix0cmlhbmdsZWxlZnQ6XCI8XCIsXCI8XCI6XCI8XCIsdHJpYW5nbGVyaWdodDpcIj5cIixcIj5cIjpcIj5cIn1bdF19LHQudXNlU3RhbmRhcmRPcHRpb25zPWZ1bmN0aW9uKGkpe3ZhciByLHMsbyxuLGE9dC5PcHRpb25zLGg9aS5oYXNHcmlkO2ZvcihyIGluIGkub3B0aW9ucy5ncmlkLmhhc0dyaWQ9YS5ncmlkLmhhc0dyaWQsaS5vcHRpb25zLmdyaWQuZ3JpZFg9YS5ncmlkLmdyaWRYLGkub3B0aW9ucy5ncmlkLmdyaWRZPWEuZ3JpZC5ncmlkWSxpLm9wdGlvbnMuZ3JpZC5ncmlkQ29sb3I9YS5ncmlkLmdyaWRDb2xvcixpLm9wdGlvbnMuZ3JpZC5ncmlkT3BhY2l0eT1hLmdyaWQuZ3JpZE9wYWNpdHksaS5vcHRpb25zLmdyaWQuZ3JpZERhc2g9YS5ncmlkLmdyaWREYXNoLGkub3B0aW9ucy5ncmlkLnNuYXBUb0dyaWQ9YS5ncmlkLnNuYXBUb0dyaWQsaS5vcHRpb25zLmdyaWQuc25hcFNpemVYPWEuZ3JpZC5TbmFwU2l6ZVgsaS5vcHRpb25zLmdyaWQuc25hcFNpemVZPWEuZ3JpZC5TbmFwU2l6ZVksaS50YWtlU2l6ZUZyb21GaWxlPWEudGFrZVNpemVGcm9tRmlsZSxuPWZ1bmN0aW9uKHQsZSl7dC52aXNQcm9wLmZpbGxjb2xvcj1lLmZpbGxDb2xvcix0LnZpc1Byb3AuaGlnaGxpZ2h0ZmlsbGNvbG9yPWUuaGlnaGxpZ2h0RmlsbENvbG9yLHQudmlzUHJvcC5zdHJva2Vjb2xvcj1lLnN0cm9rZUNvbG9yLHQudmlzUHJvcC5oaWdobGlnaHRzdHJva2Vjb2xvcj1lLmhpZ2hsaWdodFN0cm9rZUNvbG9yfSxpLm9iamVjdHMpaWYoaS5vYmplY3RzLmhhc093blByb3BlcnR5KHIpKWlmKChvPWkub2JqZWN0c1tyXSkuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfUE9JTlQpbihvLGEucG9pbnQpO2Vsc2UgaWYoby5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FKWZvcihuKG8sYS5saW5lKSxzPTA7czxvLnRpY2tzLmxlbmd0aDtzKyspby50aWNrc1tzXS5tYWpvclRpY2tzPWEubGluZS50aWNrcy5tYWpvclRpY2tzLG8udGlja3Nbc10ubWluVGlja3NEaXN0YW5jZT1hLmxpbmUudGlja3MubWluVGlja3NEaXN0YW5jZSxvLnRpY2tzW3NdLnZpc1Byb3AubWlub3JoZWlnaHQ9YS5saW5lLnRpY2tzLm1pbm9ySGVpZ2h0LG8udGlja3Nbc10udmlzUHJvcC5tYWpvcmhlaWdodD1hLmxpbmUudGlja3MubWFqb3JIZWlnaHQ7ZWxzZSBvLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NJUkNMRT9uKG8sYS5jaXJjbGUpOm8udHlwZT09PWUuT0JKRUNUX1RZUEVfQU5HTEU/bihvLGEuYW5nbGUpOm8udHlwZT09PWUuT0JKRUNUX1RZUEVfQVJDP24obyxhLmFyYyk6by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9QT0xZR09OP24obyxhLnBvbHlnb24pOm8udHlwZT09PWUuT0JKRUNUX1RZUEVfQ09OSUM/bihvLGEuY29uaWMpOm8udHlwZT09PWUuT0JKRUNUX1RZUEVfQ1VSVkU/bihvLGEuY3VydmUpOm8udHlwZT09PWUuT0JKRUNUX1RZUEVfU0VDVE9SJiYoby5hcmMudmlzUHJvcC5maWxsY29sb3I9YS5zZWN0b3IuZmlsbENvbG9yLG8uYXJjLnZpc1Byb3AuaGlnaGxpZ2h0ZmlsbGNvbG9yPWEuc2VjdG9yLmhpZ2hsaWdodEZpbGxDb2xvcixvLmFyYy52aXNQcm9wLmZpbGxvcGFjaXR5PWEuc2VjdG9yLmZpbGxPcGFjaXR5LG8uYXJjLnZpc1Byb3AuaGlnaGxpZ2h0ZmlsbG9wYWNpdHk9YS5zZWN0b3IuaGlnaGxpZ2h0RmlsbE9wYWNpdHkpO2kuZnVsbFVwZGF0ZSgpLGgmJiFpLmhhc0dyaWQ/aS5yZW1vdmVHcmlkcyhpKTohaCYmaS5oYXNHcmlkJiZpLmNyZWF0ZShcImdyaWRcIixbXSl9LHQudXNlQmxhY2tXaGl0ZU9wdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIGk9dC5PcHRpb25zO2kucG9pbnQuZmlsbENvbG9yPXIucmdiMmJ3KGkucG9pbnQuZmlsbENvbG9yKSxpLnBvaW50LmhpZ2hsaWdodEZpbGxDb2xvcj1yLnJnYjJidyhpLnBvaW50LmhpZ2hsaWdodEZpbGxDb2xvciksaS5wb2ludC5zdHJva2VDb2xvcj1yLnJnYjJidyhpLnBvaW50LnN0cm9rZUNvbG9yKSxpLnBvaW50LmhpZ2hsaWdodFN0cm9rZUNvbG9yPXIucmdiMmJ3KGkucG9pbnQuaGlnaGxpZ2h0U3Ryb2tlQ29sb3IpLGkubGluZS5maWxsQ29sb3I9ci5yZ2IyYncoaS5saW5lLmZpbGxDb2xvciksaS5saW5lLmhpZ2hsaWdodEZpbGxDb2xvcj1yLnJnYjJidyhpLmxpbmUuaGlnaGxpZ2h0RmlsbENvbG9yKSxpLmxpbmUuc3Ryb2tlQ29sb3I9ci5yZ2IyYncoaS5saW5lLnN0cm9rZUNvbG9yKSxpLmxpbmUuaGlnaGxpZ2h0U3Ryb2tlQ29sb3I9ci5yZ2IyYncoaS5saW5lLmhpZ2hsaWdodFN0cm9rZUNvbG9yKSxpLmNpcmNsZS5maWxsQ29sb3I9ci5yZ2IyYncoaS5jaXJjbGUuZmlsbENvbG9yKSxpLmNpcmNsZS5oaWdobGlnaHRGaWxsQ29sb3I9ci5yZ2IyYncoaS5jaXJjbGUuaGlnaGxpZ2h0RmlsbENvbG9yKSxpLmNpcmNsZS5zdHJva2VDb2xvcj1yLnJnYjJidyhpLmNpcmNsZS5zdHJva2VDb2xvciksaS5jaXJjbGUuaGlnaGxpZ2h0U3Ryb2tlQ29sb3I9ci5yZ2IyYncoaS5jaXJjbGUuaGlnaGxpZ2h0U3Ryb2tlQ29sb3IpLGkuYXJjLmZpbGxDb2xvcj1yLnJnYjJidyhpLmFyYy5maWxsQ29sb3IpLGkuYXJjLmhpZ2hsaWdodEZpbGxDb2xvcj1yLnJnYjJidyhpLmFyYy5oaWdobGlnaHRGaWxsQ29sb3IpLGkuYXJjLnN0cm9rZUNvbG9yPXIucmdiMmJ3KGkuYXJjLnN0cm9rZUNvbG9yKSxpLmFyYy5oaWdobGlnaHRTdHJva2VDb2xvcj1yLnJnYjJidyhpLmFyYy5oaWdobGlnaHRTdHJva2VDb2xvciksaS5wb2x5Z29uLmZpbGxDb2xvcj1yLnJnYjJidyhpLnBvbHlnb24uZmlsbENvbG9yKSxpLnBvbHlnb24uaGlnaGxpZ2h0RmlsbENvbG9yPXIucmdiMmJ3KGkucG9seWdvbi5oaWdobGlnaHRGaWxsQ29sb3IpLGkuc2VjdG9yLmZpbGxDb2xvcj1yLnJnYjJidyhpLnNlY3Rvci5maWxsQ29sb3IpLGkuc2VjdG9yLmhpZ2hsaWdodEZpbGxDb2xvcj1yLnJnYjJidyhpLnNlY3Rvci5oaWdobGlnaHRGaWxsQ29sb3IpLGkuY3VydmUuc3Ryb2tlQ29sb3I9ci5yZ2IyYncoaS5jdXJ2ZS5zdHJva2VDb2xvciksaS5ncmlkLmdyaWRDb2xvcj1yLnJnYjJidyhpLmdyaWQuZ3JpZENvbG9yKSx0LnVzZVN0YW5kYXJkT3B0aW9ucyhlKX0sdC5PcHRpb25zLm5vcm1hbGl6ZVBvaW50RmFjZT10Lm5vcm1hbGl6ZVBvaW50RmFjZSx0Lk9wdGlvbnN9KSksZGVmaW5lKFwicmVuZGVyZXIvYWJzdHJhY3RcIixbXCJqeGdcIixcIm9wdGlvbnNcIixcImJhc2UvY29vcmRzXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy9lbnZcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQWJzdHJhY3RSZW5kZXJlcj1mdW5jdGlvbigpe3RoaXMudk9mZnNldFRleHQ9MCx0aGlzLmVuaGFuY2VkUmVuZGVyaW5nPSEwLHRoaXMuY29udGFpbmVyPW51bGwsdGhpcy50eXBlPVwiXCIsdGhpcy5zdXBwb3J0c0ZvcmVpZ25PYmplY3Q9ITF9LHQuZXh0ZW5kKHQuQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUse191cGRhdGVWaXN1YWw6ZnVuY3Rpb24odCxlLGkpeyhpfHx0aGlzLmVuaGFuY2VkUmVuZGVyaW5nKSYmKGU9ZXx8e30sdGhpcy5zZXRPYmplY3RUcmFuc2l0aW9uKHQpLG4uZXZhbHVhdGUodC52aXNQcm9wLmRyYWZ0KT90aGlzLnNldERyYWZ0KHQpOihlLnN0cm9rZXx8KHQuaGlnaGxpZ2h0ZWQ/KHRoaXMuc2V0T2JqZWN0U3Ryb2tlQ29sb3IodCx0LnZpc1Byb3AuaGlnaGxpZ2h0c3Ryb2tlY29sb3IsdC52aXNQcm9wLmhpZ2hsaWdodHN0cm9rZW9wYWNpdHkpLHRoaXMuc2V0T2JqZWN0U3Ryb2tlV2lkdGgodCx0LnZpc1Byb3AuaGlnaGxpZ2h0c3Ryb2tld2lkdGgpKToodGhpcy5zZXRPYmplY3RTdHJva2VDb2xvcih0LHQudmlzUHJvcC5zdHJva2Vjb2xvcix0LnZpc1Byb3Auc3Ryb2tlb3BhY2l0eSksdGhpcy5zZXRPYmplY3RTdHJva2VXaWR0aCh0LHQudmlzUHJvcC5zdHJva2V3aWR0aCkpKSxlLmZpbGx8fCh0LmhpZ2hsaWdodGVkP3RoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQsdC52aXNQcm9wLmhpZ2hsaWdodGZpbGxjb2xvcix0LnZpc1Byb3AuaGlnaGxpZ2h0ZmlsbG9wYWNpdHkpOnRoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQsdC52aXNQcm9wLmZpbGxjb2xvcix0LnZpc1Byb3AuZmlsbG9wYWNpdHkpKSxlLmRhc2h8fHRoaXMuc2V0RGFzaFN0eWxlKHQsdC52aXNQcm9wKSxlLnNoYWRvd3x8dGhpcy5zZXRTaGFkb3codCksZS5ncmFkaWVudHx8dGhpcy5zZXRTaGFkb3codCksZS50YWJpbmRleHx8dGhpcy5zZXRUYWJpbmRleCh0KSkpfSxfZ2V0SGlnaGxpZ2h0ZWQ6ZnVuY3Rpb24odCl7dmFyIGU9ITE7cmV0dXJuIG4uZXhpc3RzKHQuYm9hcmQpJiZuLmV4aXN0cyh0LmJvYXJkLmhpZ2hsaWdodGVkT2JqZWN0cyl8fChlPSEwKSwhZSYmbi5leGlzdHModC5ib2FyZC5oaWdobGlnaHRlZE9iamVjdHNbdC5pZF0pP1wiaGlnaGxpZ2h0XCI6XCJcIn0sZHJhd1BvaW50OmZ1bmN0aW9uKHQpe3ZhciBpLHI9ZS5ub3JtYWxpemVQb2ludEZhY2Uobi5ldmFsdWF0ZSh0LnZpc1Byb3AuZmFjZSkpO2k9XCJvXCI9PT1yP1wiZWxsaXBzZVwiOlwiW11cIj09PXI/XCJyZWN0XCI6XCJwYXRoXCIsdC5yZW5kTm9kZT10aGlzLmFwcGVuZENoaWxkUHJpbSh0aGlzLmNyZWF0ZVByaW0oaSx0LmlkKSxuLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLHRoaXMuYXBwZW5kTm9kZXNUb0VsZW1lbnQodCxpKSx0aGlzLl91cGRhdGVWaXN1YWwodCx7ZGFzaDohMCxzaGFkb3c6ITB9LCEwKSx0aGlzLnVwZGF0ZVBvaW50KHQpfSx1cGRhdGVQb2ludDpmdW5jdGlvbih0KXt2YXIgaSxyPW4uZXZhbHVhdGUodC52aXNQcm9wLnNpemUpLHM9ZS5ub3JtYWxpemVQb2ludEZhY2Uobi5ldmFsdWF0ZSh0LnZpc1Byb3AuZmFjZSkpLG89bi5ldmFsdWF0ZSh0LnZpc1Byb3Auc2l6ZXVuaXQpLGE9bi5ldmFsdWF0ZSh0LnZpc1Byb3Auem9vbSk7aXNOYU4odC5jb29yZHMuc2NyQ29vcmRzWzJdK3QuY29vcmRzLnNjckNvb3Jkc1sxXSl8fChcInVzZXJcIj09PW8mJihyKj1NYXRoLnNxcnQodC5ib2FyZC51bml0WCp0LmJvYXJkLnVuaXRZKSksaT0wPT09KHIqPXQuYm9hcmQmJmE/TWF0aC5zcXJ0KHQuYm9hcmQuem9vbVgqdC5ib2FyZC56b29tWSk6MSk/MDpyKzEsXCJvXCI9PT1zP3RoaXMudXBkYXRlRWxsaXBzZVByaW0odC5yZW5kTm9kZSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0sdC5jb29yZHMuc2NyQ29vcmRzWzJdLGksaSk6XCJbXVwiPT09cz90aGlzLnVwZGF0ZVJlY3RQcmltKHQucmVuZE5vZGUsdC5jb29yZHMuc2NyQ29vcmRzWzFdLXIsdC5jb29yZHMuc2NyQ29vcmRzWzJdLXIsMipyLDIqcik6dGhpcy51cGRhdGVQYXRoUHJpbSh0LnJlbmROb2RlLHRoaXMudXBkYXRlUGF0aFN0cmluZ1BvaW50KHQscixzKSx0LmJvYXJkKSx0aGlzLl91cGRhdGVWaXN1YWwodCx7ZGFzaDohMSxzaGFkb3c6ITF9KSx0aGlzLnNldFNoYWRvdyh0KSl9LGNoYW5nZVBvaW50U3R5bGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRFbGVtZW50QnlJZCh0LmlkKTtuLmV4aXN0cyhlKSYmdGhpcy5yZW1vdmUoZSksdGhpcy5kcmF3UG9pbnQodCksbi5jbGVhclZpc1Byb3BPbGQodCksdC52aXNQcm9wQ2FsYy52aXNpYmxlfHx0aGlzLmRpc3BsYXkodCwhMSksbi5ldmFsdWF0ZSh0LnZpc1Byb3AuZHJhZnQpJiZ0aGlzLnNldERyYWZ0KHQpfSxkcmF3TGluZTpmdW5jdGlvbih0KXt0LnJlbmROb2RlPXRoaXMuYXBwZW5kQ2hpbGRQcmltKHRoaXMuY3JlYXRlUHJpbShcImxpbmVcIix0LmlkKSxuLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLHRoaXMuYXBwZW5kTm9kZXNUb0VsZW1lbnQodCxcImxpbmVzXCIpLHRoaXMudXBkYXRlTGluZSh0KX0sdXBkYXRlTGluZTpmdW5jdGlvbih0KXt0aGlzLl91cGRhdGVWaXN1YWwodCksdGhpcy51cGRhdGVQYXRoV2l0aEFycm93SGVhZHModCksdGhpcy5zZXRMaW5lQ2FwKHQpfSxkcmF3Q3VydmU6ZnVuY3Rpb24odCl7dC5yZW5kTm9kZT10aGlzLmFwcGVuZENoaWxkUHJpbSh0aGlzLmNyZWF0ZVByaW0oXCJwYXRoXCIsdC5pZCksbi5ldmFsdWF0ZSh0LnZpc1Byb3AubGF5ZXIpKSx0aGlzLmFwcGVuZE5vZGVzVG9FbGVtZW50KHQsXCJwYXRoXCIpLHRoaXMudXBkYXRlQ3VydmUodCl9LHVwZGF0ZUN1cnZlOmZ1bmN0aW9uKHQpe3RoaXMuX3VwZGF0ZVZpc3VhbCh0KSx0aGlzLnVwZGF0ZVBhdGhXaXRoQXJyb3dIZWFkcyh0KSx0aGlzLnNldExpbmVDYXAodCl9LHVwZGF0ZVBhdGhXaXRoQXJyb3dIZWFkczpmdW5jdGlvbih0LGUpe3ZhciBpLHMsbz10LnZpc1Byb3AsYT1lP1wiaGlnaGxpZ2h0XCI6XCJcIjtpPWUmJm8uaGlnaGxpZ2h0c3Ryb2tld2lkdGg/TWF0aC5tYXgobi5ldmFsdWF0ZShvLmhpZ2hsaWdodHN0cm9rZXdpZHRoKSxuLmV2YWx1YXRlKG8uc3Ryb2tld2lkdGgpKTpuLmV2YWx1YXRlKG8uc3Ryb2tld2lkdGgpLHM9dGhpcy5nZXRBcnJvd0hlYWREYXRhKHQsaSxhKSx0aGlzLm1ha2VBcnJvd3ModCxzKSx0LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX0xJTkU/dGhpcy51cGRhdGVMaW5lV2l0aEVuZGluZ3ModCxzKTp0LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX0NVUlZFJiZ0aGlzLnVwZGF0ZVBhdGgodCksdGhpcy5zZXRBcnJvd1NpemUodCxzKX0sZ2V0QXJyb3dIZWFkRGF0YTpmdW5jdGlvbih0LGUsaSl7dmFyIG8sYSxoLGwsYz1zLmVwcyxkPTAsdT0wLHA9MCxmPTAsbT1uLmV2YWx1YXRlKHQudmlzUHJvcC5maXJzdGFycm93KSxnPW4uZXZhbHVhdGUodC52aXNQcm9wLmxhc3RhcnJvdyk7cmV0dXJuKG18fGcpJiYobz1uLmV4aXN0cyhtLnR5cGUpP24uZXZhbHVhdGUobS50eXBlKTp0LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX0xJTkU/MTo3LGE9bi5leGlzdHMoZy50eXBlKT9uLmV2YWx1YXRlKGcudHlwZSk6dC5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19MSU5FPzE6NyxtJiYobD02LG4uZXhpc3RzKG0uc2l6ZSkmJihsPW4uZXZhbHVhdGUobS5zaXplKSksXCJcIiE9PWkmJm4uZXhpc3RzKG1baStcInNpemVcIl0pJiYobD1uLmV2YWx1YXRlKG1baStcInNpemVcIl0pKSxoPWUqbCwyPT09bz8oaCo9LjUsYys9ZSpsKTozPT09bz8oaD1lKmwvMyxjKz1lKTo0PT09b3x8NT09PW98fDY9PT1vPyhoPWUqbC8xLjUsYys9ZSpsKTo3PT09bz8oaD0wLGw9MTAsYys9ZSk6Yys9ZSpsLGQrPWgscD1sKSxnJiYobD02LG4uZXhpc3RzKGcuc2l6ZSkmJihsPW4uZXZhbHVhdGUoZy5zaXplKSksXCJcIiE9PWkmJm4uZXhpc3RzKGdbaStcInNpemVcIl0pJiYobD1uLmV2YWx1YXRlKGdbaStcInNpemVcIl0pKSxoPWUqbCwyPT09YT8oaCo9LjUsYys9ZSpsKTozPT09YT8oaD1lKmwvMyxjKz1lKTo0PT09YXx8NT09PWF8fDY9PT1hPyhoPWUqbC8xLjUsYys9ZSpsKTo3PT09YT8oaD0wLGw9MTAsYys9ZSk6Yys9ZSpsLHUrPWgsZj1sKSksdC52aXNQcm9wQ2FsYy50eXBlRmlyc3Q9byx0LnZpc1Byb3BDYWxjLnR5cGVMYXN0PWEse2V2Rmlyc3Q6bSxldkxhc3Q6Zyx0eXBlRmlyc3Q6byx0eXBlTGFzdDphLG9mZkZpcnN0OmQsb2ZmTGFzdDp1LHNpemVGaXJzdDpwLHNpemVMYXN0OmYsc2hvd0ZpcnN0OjEsc2hvd0xhc3Q6MSxtaW5MZW46YyxzdHJva2VXaWR0aDplfX0sdXBkYXRlTGluZVdpdGhFbmRpbmdzOmZ1bmN0aW9uKHQsZSl7dmFyIHMsYSxoO3JldHVybiBzPW5ldyBpKHIuQ09PUkRTX0JZX1VTRVIsdC5wb2ludDEuY29vcmRzLnVzckNvb3Jkcyx0LmJvYXJkKSxhPW5ldyBpKHIuQ09PUkRTX0JZX1VTRVIsdC5wb2ludDIuY29vcmRzLnVzckNvb3Jkcyx0LmJvYXJkKSxoPW4uZXZhbHVhdGUodC52aXNQcm9wLm1hcmdpbiksby5jYWxjU3RyYWlnaHQodCxzLGEsaCksdGhpcy5oYW5kbGVUb3VjaHBvaW50cyh0LHMsYSxlKSx0aGlzLmdldFBvc2l0aW9uQXJyb3dIZWFkKHQscyxhLGUpLHRoaXMudXBkYXRlTGluZVByaW0odC5yZW5kTm9kZSxzLnNjckNvb3Jkc1sxXSxzLnNjckNvb3Jkc1syXSxhLnNjckNvb3Jkc1sxXSxhLnNjckNvb3Jkc1syXSx0LmJvYXJkKSx0aGlzfSx1cGRhdGVQYXRoOmZ1bmN0aW9uKHQpe3JldHVybiBuLmV2YWx1YXRlKHQudmlzUHJvcC5oYW5kZHJhd2luZyk/dGhpcy51cGRhdGVQYXRoUHJpbSh0LnJlbmROb2RlLHRoaXMudXBkYXRlUGF0aFN0cmluZ0JlemllclByaW0odCksdC5ib2FyZCk6dGhpcy51cGRhdGVQYXRoUHJpbSh0LnJlbmROb2RlLHRoaXMudXBkYXRlUGF0aFN0cmluZ1ByaW0odCksdC5ib2FyZCksdGhpc30sZ2V0UG9zaXRpb25BcnJvd0hlYWQ6ZnVuY3Rpb24odCxlLGkscyl7dmFyIG8sbixhLGgsbDtyZXR1cm4ocy5ldkZpcnN0fHxzLmV2TGFzdCkmJihuPWE9aD1sPTAsbz1lLmRpc3RhbmNlKHIuQ09PUkRTX0JZX1NDUkVFTixpKSxzLmV2Rmlyc3QmJlwidm1sXCIhPT10LmJvYXJkLnJlbmRlcmVyLnR5cGUmJihvPj1zLm1pbkxlbj8obj0oaS5zY3JDb29yZHNbMV0tZS5zY3JDb29yZHNbMV0pKnMub2ZmRmlyc3QvbyxhPShpLnNjckNvb3Jkc1syXS1lLnNjckNvb3Jkc1syXSkqcy5vZmZGaXJzdC9vKTpzLnNob3dGaXJzdD0wKSxzLmV2TGFzdCYmXCJ2bWxcIiE9PXQuYm9hcmQucmVuZGVyZXIudHlwZSYmKG8+PXMubWluTGVuPyhoPShpLnNjckNvb3Jkc1sxXS1lLnNjckNvb3Jkc1sxXSkqcy5vZmZMYXN0L28sbD0oaS5zY3JDb29yZHNbMl0tZS5zY3JDb29yZHNbMl0pKnMub2ZmTGFzdC9vKTpzLnNob3dMYXN0PTApLGUuc2V0Q29vcmRpbmF0ZXMoci5DT09SRFNfQllfU0NSRUVOLFtlLnNjckNvb3Jkc1sxXStuLGUuc2NyQ29vcmRzWzJdK2FdLCExLCEwKSxpLnNldENvb3JkaW5hdGVzKHIuQ09PUkRTX0JZX1NDUkVFTixbaS5zY3JDb29yZHNbMV0taCxpLnNjckNvb3Jkc1syXS1sXSwhMSwhMCkpLHRoaXN9LGhhbmRsZVRvdWNocG9pbnRzOmZ1bmN0aW9uKHQsZSxpLHMpe3ZhciBvLGEsaCxsLGMsZCx1O3JldHVybihzLmV2Rmlyc3R8fHMuZXZMYXN0KSYmKGg9bD1jPWQ9dT0wLG89bi5ldmFsdWF0ZSh0LnBvaW50MS52aXNQcm9wLnNpemUpK24uZXZhbHVhdGUodC5wb2ludDEudmlzUHJvcC5zdHJva2V3aWR0aCksYT1uLmV2YWx1YXRlKHQucG9pbnQyLnZpc1Byb3Auc2l6ZSkrbi5ldmFsdWF0ZSh0LnBvaW50Mi52aXNQcm9wLnN0cm9rZXdpZHRoKSxzLmV2Rmlyc3QmJm4uZXZhbHVhdGUodC52aXNQcm9wLnRvdWNoZmlyc3Rwb2ludCkmJihoPWUuZGlzdGFuY2Uoci5DT09SRFNfQllfU0NSRUVOLGkpLGw9KGkuc2NyQ29vcmRzWzFdLWUuc2NyQ29vcmRzWzFdKSpvL2gsYz0oaS5zY3JDb29yZHNbMl0tZS5zY3JDb29yZHNbMl0pKm8vaCkscy5ldkxhc3QmJm4uZXZhbHVhdGUodC52aXNQcm9wLnRvdWNobGFzdHBvaW50KSYmKGg9ZS5kaXN0YW5jZShyLkNPT1JEU19CWV9TQ1JFRU4saSksZD0oaS5zY3JDb29yZHNbMV0tZS5zY3JDb29yZHNbMV0pKmEvaCx1PShpLnNjckNvb3Jkc1syXS1lLnNjckNvb3Jkc1syXSkqYS9oKSxlLnNldENvb3JkaW5hdGVzKHIuQ09PUkRTX0JZX1NDUkVFTixbZS5zY3JDb29yZHNbMV0rbCxlLnNjckNvb3Jkc1syXStjXSwhMSwhMCksaS5zZXRDb29yZGluYXRlcyhyLkNPT1JEU19CWV9TQ1JFRU4sW2kuc2NyQ29vcmRzWzFdLWQsaS5zY3JDb29yZHNbMl0tdV0sITEsITApKSx0aGlzfSxzZXRBcnJvd1NpemU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5ldkZpcnN0JiZ0aGlzLl9zZXRBcnJvd1dpZHRoKHQucmVuZE5vZGVUcmlhbmdsZVN0YXJ0LGUuc2hvd0ZpcnN0KmUuc3Ryb2tlV2lkdGgsdC5yZW5kTm9kZSxlLnNpemVGaXJzdCksZS5ldkxhc3QmJnRoaXMuX3NldEFycm93V2lkdGgodC5yZW5kTm9kZVRyaWFuZ2xlRW5kLGUuc2hvd0xhc3QqZS5zdHJva2VXaWR0aCx0LnJlbmROb2RlLGUuc2l6ZUxhc3QpLHRoaXN9LHNldExpbmVDYXA6ZnVuY3Rpb24odCl7fSxkcmF3VGlja3M6ZnVuY3Rpb24odCl7dC5yZW5kTm9kZT10aGlzLmFwcGVuZENoaWxkUHJpbSh0aGlzLmNyZWF0ZVByaW0oXCJwYXRoXCIsdC5pZCksbi5ldmFsdWF0ZSh0LnZpc1Byb3AubGF5ZXIpKSx0aGlzLmFwcGVuZE5vZGVzVG9FbGVtZW50KHQsXCJwYXRoXCIpfSx1cGRhdGVUaWNrczpmdW5jdGlvbih0KXt9LGRyYXdFbGxpcHNlOmZ1bmN0aW9uKHQpe3QucmVuZE5vZGU9dGhpcy5hcHBlbmRDaGlsZFByaW0odGhpcy5jcmVhdGVQcmltKFwiZWxsaXBzZVwiLHQuaWQpLG4uZXZhbHVhdGUodC52aXNQcm9wLmxheWVyKSksdGhpcy5hcHBlbmROb2Rlc1RvRWxlbWVudCh0LFwiZWxsaXBzZVwiKSx0aGlzLnVwZGF0ZUVsbGlwc2UodCl9LHVwZGF0ZUVsbGlwc2U6ZnVuY3Rpb24odCl7dGhpcy5fdXBkYXRlVmlzdWFsKHQpO3ZhciBlPXQuUmFkaXVzKCk7ZT4wJiZNYXRoLmFicyh0LmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzBdKT5zLmVwcyYmIWlzTmFOKGUrdC5jZW50ZXIuY29vcmRzLnNjckNvb3Jkc1sxXSt0LmNlbnRlci5jb29yZHMuc2NyQ29vcmRzWzJdKSYmZSp0LmJvYXJkLnVuaXRYPDJlNiYmdGhpcy51cGRhdGVFbGxpcHNlUHJpbSh0LnJlbmROb2RlLHQuY2VudGVyLmNvb3Jkcy5zY3JDb29yZHNbMV0sdC5jZW50ZXIuY29vcmRzLnNjckNvb3Jkc1syXSxlKnQuYm9hcmQudW5pdFgsZSp0LmJvYXJkLnVuaXRZKX0sZHJhd1BvbHlnb246ZnVuY3Rpb24odCl7dC5yZW5kTm9kZT10aGlzLmFwcGVuZENoaWxkUHJpbSh0aGlzLmNyZWF0ZVByaW0oXCJwb2x5Z29uXCIsdC5pZCksbi5ldmFsdWF0ZSh0LnZpc1Byb3AubGF5ZXIpKSx0aGlzLmFwcGVuZE5vZGVzVG9FbGVtZW50KHQsXCJwb2x5Z29uXCIpLHRoaXMudXBkYXRlUG9seWdvbih0KX0sdXBkYXRlUG9seWdvbjpmdW5jdGlvbih0KXt0aGlzLl91cGRhdGVWaXN1YWwodCx7c3Ryb2tlOiEwLGRhc2g6ITB9KSx0aGlzLnVwZGF0ZVBvbHlnb25QcmltKHQucmVuZE5vZGUsdCl9LGRpc3BsYXlDb3B5cmlnaHQ6ZnVuY3Rpb24odCxlKXt9LGRyYXdJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7fSx1cGRhdGVJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7fSxkcmF3VGV4dDpmdW5jdGlvbih0KXt2YXIgZSxpLHIscztcImh0bWxcIj09PW4uZXZhbHVhdGUodC52aXNQcm9wLmRpc3BsYXkpJiZhLmlzQnJvd3NlciYmXCJub1wiIT09dGhpcy50eXBlPygoZT10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixlLmNsYXNzTmFtZT1uLmV2YWx1YXRlKHQudmlzUHJvcC5jc3NjbGFzcykscj1uLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllciksbi5leGlzdHMocil8fChyPTApLGk9XCJcIj09PXRoaXMuY29udGFpbmVyLnN0eWxlLnpJbmRleD8wOnBhcnNlSW50KHRoaXMuY29udGFpbmVyLnN0eWxlLnpJbmRleCwxMCksZS5zdHlsZS56SW5kZXg9aStyLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGUpLGUuc2V0QXR0cmlidXRlKFwiaWRcIix0aGlzLmNvbnRhaW5lci5pZCtcIl9cIit0LmlkKSk6ZT10aGlzLmRyYXdJbnRlcm5hbFRleHQodCksdC5yZW5kTm9kZT1lLHQuaHRtbFN0cj1cIlwiLHQudmlzUHJvcC5pc2xhYmVsJiZuLmV4aXN0cyh0LnZpc1Byb3AuYW5jaG9yKT8ocz1uLmV2YWx1YXRlKHQudmlzUHJvcC5hbmNob3IudmlzUHJvcC52aXNpYmxlKSx0LnByZXBhcmVVcGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KHMpKTp0LnByZXBhcmVVcGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KCksdGhpcy51cGRhdGVUZXh0KHQpfSx1cGRhdGVUZXh0OmZ1bmN0aW9uKGUpe3ZhciBpLHIscyxvLGgsbCxjLGQsdSxwPWUucGxhaW50ZXh0O2lmKGUudmlzUHJvcENhbGMudmlzaWJsZSlpZih0aGlzLnVwZGF0ZVRleHRTdHlsZShlLCExKSxcImh0bWxcIj09PW4uZXZhbHVhdGUoZS52aXNQcm9wLmRpc3BsYXkpJiZcIm5vXCIhPT10aGlzLnR5cGUpe2lmKGlzTmFOKGUuY29vcmRzLnNjckNvb3Jkc1sxXStlLmNvb3Jkcy5zY3JDb29yZHNbMl0pfHwocj1lLmNvb3Jkcy5zY3JDb29yZHNbMV0scj1NYXRoLmFicyhyKTwxZTY/cjoxZTYsaT1cInJpZ2h0XCI9PT0oZD1lLmdldEFuY2hvclgoKSk/ZS5ib2FyZC5jYW52YXNXaWR0aC1yOlwibWlkZGxlXCI9PT1kP3ItLjUqZS5zaXplWzBdOnIsZS52aXNQcm9wT2xkLmxlZnQhPT1kK2kmJihcInJpZ2h0XCI9PT1kPyhlLnJlbmROb2RlLnN0eWxlLnJpZ2h0PWkrXCJweFwiLGUucmVuZE5vZGUuc3R5bGUubGVmdD1cImF1dG9cIik6KGUucmVuZE5vZGUuc3R5bGUubGVmdD1pK1wicHhcIixlLnJlbmROb2RlLnN0eWxlLnJpZ2h0PVwiYXV0b1wiKSxlLnZpc1Byb3BPbGQubGVmdD1kK2kpLHI9ZS5jb29yZHMuc2NyQ29vcmRzWzJdK3RoaXMudk9mZnNldFRleHQscj1NYXRoLmFicyhyKTwxZTY/cjoxZTYsaT1cImJvdHRvbVwiPT09KHU9ZS5nZXRBbmNob3JZKCkpP2UuYm9hcmQuY2FudmFzSGVpZ2h0LXI6XCJtaWRkbGVcIj09PXU/ci0uNSplLnNpemVbMV06cixlLnZpc1Byb3BPbGQudG9wIT09dStpJiYoXCJib3R0b21cIj09PXU/KGUucmVuZE5vZGUuc3R5bGUudG9wPVwiYXV0b1wiLGUucmVuZE5vZGUuc3R5bGUuYm90dG9tPWkrXCJweFwiKTooZS5yZW5kTm9kZS5zdHlsZS5ib3R0b209XCJhdXRvXCIsZS5yZW5kTm9kZS5zdHlsZS50b3A9aStcInB4XCIpLGUudmlzUHJvcE9sZC50b3A9dStpKSksZS5odG1sU3RyIT09cCl7dHJ5e2UudHlwZT09PW4uT0JKRUNUX1RZUEVfQlVUVE9OP2UucmVuZE5vZGVCdXR0b24uaW5uZXJIVE1MPXA6ZS50eXBlPT09bi5PQkpFQ1RfVFlQRV9DSEVDS0JPWHx8ZS50eXBlPT09bi5PQkpFQ1RfVFlQRV9JTlBVVD9lLnJlbmROb2RlTGFiZWwuaW5uZXJIVE1MPXA6ZS5yZW5kTm9kZS5pbm5lckhUTUw9cH1jYXRjaCh0KXtzPWUucmVuZE5vZGUucGFyZW50Tm9kZSxlLnJlbmROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZS5yZW5kTm9kZSksZS5yZW5kTm9kZS5pbm5lckhUTUw9cCxzLmFwcGVuZENoaWxkKGUucmVuZE5vZGUpfWlmKGUuaHRtbFN0cj1wLG4uZXZhbHVhdGUoZS52aXNQcm9wLnVzZW1hdGhqYXgpKXRyeXtNYXRoSmF4LnR5cGVzZXQ/TWF0aEpheC50eXBlc2V0KFtlLnJlbmROb2RlXSk6TWF0aEpheC5IdWIuUXVldWUoW1wiVHlwZXNldFwiLE1hdGhKYXguSHViLGUucmVuZE5vZGVdKSxjPVwiZnVsbHNjcmVlbndyYXBfXCIrKGw9ZS5ib2FyZC5jb250YWluZXIpLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGMpJiYobz1lLmJvYXJkLmNvbnRhaW5lck9iai5fY3NzRnVsbHNjcmVlblN0b3JlLnNjYWxlLGg9ZS5ib2FyZC5jb250YWluZXJPYmouX2Nzc0Z1bGxzY3JlZW5TdG9yZS52c2hpZnQsYS5zY2FsZUpTWEdyYXBoRGl2KFwiI1wiK2MsXCIjXCIrbCxvLGgpKX1jYXRjaChlKXt0LmRlYnVnKFwiTWF0aEpheCAobm90IHlldCkgbG9hZGVkXCIpfWVsc2UgaWYobi5ldmFsdWF0ZShlLnZpc1Byb3AudXNla2F0ZXgpKXRyeXtrYXRleC5yZW5kZXIocCxlLnJlbmROb2RlLHt0aHJvd09uRXJyb3I6ITF9KX1jYXRjaChlKXt0LmRlYnVnKFwiS2FUZVggKG5vdCB5ZXQpIGxvYWRlZFwiKX1lbHNlIGlmKG4uZXZhbHVhdGUoZS52aXNQcm9wLnVzZWFzY2lpbWF0aG1sKSl0cnl7QU1wcm9jZXNzTm9kZShlLnJlbmROb2RlLCExKX1jYXRjaChlKXt0LmRlYnVnKFwiQXNjaWlNYXRoTUwgKG5vdCB5ZXQpIGxvYWRlZFwiKX19dGhpcy50cmFuc2Zvcm1JbWFnZShlLGUudHJhbnNmb3JtYXRpb25zKX1lbHNlIHRoaXMudXBkYXRlSW50ZXJuYWxUZXh0KGUpfSxfY3NzMmpzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sYT1bXSxoPW4udHJpbSh0KS5yZXBsYWNlKC87JC8sXCJcIikuc3BsaXQoXCI7XCIpO2ZvcihpPWgubGVuZ3RoLGU9MDtlPGk7KytlKVwiXCIhPT1uLnRyaW0oaFtlXSkmJihvPWhbZV0uc3BsaXQoXCI6XCIpLHI9bi50cmltKG9bMF0ucmVwbGFjZSgvLShbYS16XSkvZ2ksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudG9VcHBlckNhc2UoKX0pKSkscz1uLnRyaW0ob1sxXSksYS5wdXNoKHtrZXk6cix2YWw6c30pKTtyZXR1cm4gYX0sdXBkYXRlVGV4dFN0eWxlOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG8saCxsLGMsZCx1LHA9dC52aXNQcm9wLGY9YS5pc0Jyb3dzZXI/cC5kaXNwbGF5OlwiaW50ZXJuYWxcIixtPVtcInJlbmROb2RlXCIsXCJyZW5kTm9kZVRhZ1wiLFwicmVuZE5vZGVMYWJlbFwiXSxnPW0ubGVuZ3RoLGI9bi5ldmFsdWF0ZShwLmZvbnR1bml0KSx2PVtcImNzc2RlZmF1bHRzdHlsZVwiLFwiY3Nzc3R5bGVcIl0seT12Lmxlbmd0aDtpZihlPyhzPXAuaGlnaGxpZ2h0c3Ryb2tlY29sb3Iscj1wLmhpZ2hsaWdodHN0cm9rZW9wYWNpdHksbz1wLmhpZ2hsaWdodGNzc2NsYXNzKToocz1wLnN0cm9rZWNvbG9yLHI9cC5zdHJva2VvcGFjaXR5LG89cC5jc3NjbGFzcyksXCJub1wiIT09dGhpcy50eXBlJiYoXCJodG1sXCI9PT1mfHxcImNhbnZhc1wiIT09dGhpcy50eXBlKSl7Zm9yKGQ9MDtkPHk7ZCsrKWlmKFwiXCIhPT0odT1uLmV2YWx1YXRlKHBbKGU/XCJoaWdobGlnaHRcIjpcIlwiKSt2W2RdXSkpJiZ0LnZpc1Byb3BPbGRbdltkXV0hPT11KXtmb3IobD10aGlzLl9jc3MyanModSksaD0wO2g8ZztoKyspaWYobi5leGlzdHModFttW2hdXSkpZm9yKGMgaW4gbClsLmhhc093blByb3BlcnR5KGMpJiYodFttW2hdXS5zdHlsZVtsW2NdLmtleV09bFtjXS52YWwpO3QudmlzUHJvcE9sZFt2W2RdXT11fWlmKGk9bi5ldmFsdWF0ZShwLmZvbnRzaXplKSx0LnZpc1Byb3BPbGQuZm9udHNpemUhPT1pKXt0Lm5lZWRzU2l6ZVVwZGF0ZT0hMDt0cnl7Zm9yKGg9MDtoPGc7aCsrKW4uZXhpc3RzKHRbbVtoXV0pJiYodFttW2hdXS5zdHlsZS5mb250U2l6ZT1pK2IpfWNhdGNoKGUpe2ZvcihoPTA7aDxnO2grKyluLmV4aXN0cyh0W21baF1dKSYmKHRbbVtoXV0uc3R5bGUuZm9udFNpemU9aSl9dC52aXNQcm9wT2xkLmZvbnRzaXplPWl9fXJldHVybiB0aGlzLnNldE9iamVjdFRyYW5zaXRpb24odCksXCJodG1sXCI9PT1mJiZcIm5vXCIhPT10aGlzLnR5cGU/KHQudmlzUHJvcE9sZC5jc3NjbGFzcyE9PW8mJih0LnJlbmROb2RlLmNsYXNzTmFtZT1vLHQudmlzUHJvcE9sZC5jc3NjbGFzcz1vLHQubmVlZHNTaXplVXBkYXRlPSEwKSx0aGlzLnNldE9iamVjdFN0cm9rZUNvbG9yKHQscyxyKSk6dGhpcy51cGRhdGVJbnRlcm5hbFRleHRTdHlsZSh0LHMsciksdGhpc30sdXBkYXRlSW50ZXJuYWxUZXh0U3R5bGU6ZnVuY3Rpb24odCxlLGkpe3RoaXMuc2V0T2JqZWN0U3Ryb2tlQ29sb3IodCxlLGkpfSxkcmF3SW1hZ2U6ZnVuY3Rpb24odCl7fSx1cGRhdGVJbWFnZTpmdW5jdGlvbih0KXt0aGlzLnVwZGF0ZVJlY3RQcmltKHQucmVuZE5vZGUsdC5jb29yZHMuc2NyQ29vcmRzWzFdLHQuY29vcmRzLnNjckNvb3Jkc1syXS10LnNpemVbMV0sdC5zaXplWzBdLHQuc2l6ZVsxXSksdGhpcy51cGRhdGVJbWFnZVVSTCh0KSx0aGlzLnRyYW5zZm9ybUltYWdlKHQsdC50cmFuc2Zvcm1hdGlvbnMpLHRoaXMuX3VwZGF0ZVZpc3VhbCh0LHtzdHJva2U6ITAsZGFzaDohMH0sITApfSxqb2luVHJhbnNmb3JtczpmdW5jdGlvbih0LGUpe3ZhciBpLHI9dC5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzFdLG89dC5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzJdLG49dC5ib2FyZC51bml0WCxhPXQuYm9hcmQudW5pdFksaD1lLmxlbmd0aCxsPVtbMSwwLDBdLFstci9uLDEvbiwwXSxbby9hLDAsLTEvYV1dO2ZvcihpPTA7aTxoO2krKylsPXMubWF0TWF0TXVsdChlW2ldLm1hdHJpeCxsKTtyZXR1cm4gbD1zLm1hdE1hdE11bHQoW1sxLDAsMF0sW3IsbiwwXSxbbywwLC1hXV0sbCl9LHRyYW5zZm9ybUltYWdlOmZ1bmN0aW9uKHQsZSl7fSx1cGRhdGVJbWFnZVVSTDpmdW5jdGlvbih0KXt9LHVwZGF0ZUltYWdlU3R5bGU6ZnVuY3Rpb24odCxlKXt0LnJlbmROb2RlLmNsYXNzTmFtZT1uLmV2YWx1YXRlKGU/dC52aXNQcm9wLmhpZ2hsaWdodGNzc2NsYXNzOnQudmlzUHJvcC5jc3NjbGFzcyl9LGRyYXdGb3JlaWduT2JqZWN0OmZ1bmN0aW9uKHQpe30sdXBkYXRlRm9yZWlnbk9iamVjdDpmdW5jdGlvbih0KXt9LGFwcGVuZENoaWxkUHJpbTpmdW5jdGlvbih0LGUpe30sYXBwZW5kTm9kZXNUb0VsZW1lbnQ6ZnVuY3Rpb24odCxlKXt9LGNyZWF0ZVByaW06ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKHQpe30sbWFrZUFycm93czpmdW5jdGlvbih0LGUpe30sX3NldEFycm93V2lkdGg6ZnVuY3Rpb24odCxlLGkpe30sdXBkYXRlRWxsaXBzZVByaW06ZnVuY3Rpb24odCxlLGkscixzKXt9LHVwZGF0ZUxpbmVQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyxvKXt9LHVwZGF0ZVBhdGhQcmltOmZ1bmN0aW9uKHQsZSxpKXt9LHVwZGF0ZVBhdGhTdHJpbmdQb2ludDpmdW5jdGlvbih0LGUsaSl7fSx1cGRhdGVQYXRoU3RyaW5nUHJpbTpmdW5jdGlvbih0KXt9LHVwZGF0ZVBhdGhTdHJpbmdCZXppZXJQcmltOmZ1bmN0aW9uKHQpe30sdXBkYXRlUG9seWdvblByaW06ZnVuY3Rpb24odCxlKXt9LHVwZGF0ZVJlY3RQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyl7fSxzZXRQcm9wZXJ0eVByaW06ZnVuY3Rpb24odCxlLGkpe30sc2V0VGFiaW5kZXg6ZnVuY3Rpb24odCl7dmFyIGU7dC5ib2FyZC5hdHRyLmtleWJvYXJkLmVuYWJsZWQmJm4uZXhpc3RzKHQucmVuZE5vZGUpJiYoZT1uLmV2YWx1YXRlKHQudmlzUHJvcC50YWJpbmRleCksdC52aXNQcm9wQ2FsYy52aXNpYmxlJiYhbi5ldmFsdWF0ZSh0LnZpc1Byb3AuZml4ZWQpfHwoZT1udWxsKSxlIT09dC52aXNQcm9wT2xkLnRhYmluZGV4JiYodC5yZW5kTm9kZS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLGUpLHQudmlzUHJvcE9sZC50YWJpbmRleD1lKSl9LGRpc3BsYXk6ZnVuY3Rpb24odCxlKXt0JiYodC52aXNQcm9wT2xkLnZpc2libGU9ZSl9LHNob3c6ZnVuY3Rpb24odCl7fSxoaWRlOmZ1bmN0aW9uKHQpe30sc2V0QnVmZmVyaW5nOmZ1bmN0aW9uKHQsZSl7fSxzZXREYXNoU3R5bGU6ZnVuY3Rpb24odCl7fSxzZXREcmFmdDpmdW5jdGlvbih0KXtpZihuLmV2YWx1YXRlKHQudmlzUHJvcC5kcmFmdCkpe3ZhciBlPXQuYm9hcmQub3B0aW9ucy5lbGVtZW50cy5kcmFmdC5jb2xvcixpPXQuYm9hcmQub3B0aW9ucy5lbGVtZW50cy5kcmFmdC5vcGFjaXR5O3RoaXMuc2V0T2JqZWN0VHJhbnNpdGlvbih0KSx0LnR5cGU9PT1yLk9CSkVDVF9UWVBFX1BPTFlHT04/dGhpcy5zZXRPYmplY3RGaWxsQ29sb3IodCxlLGkpOih0LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX1BPSU5UP3RoaXMuc2V0T2JqZWN0RmlsbENvbG9yKHQsZSxpKTp0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LFwibm9uZVwiLDApLHRoaXMuc2V0T2JqZWN0U3Ryb2tlQ29sb3IodCxlLGkpLHRoaXMuc2V0T2JqZWN0U3Ryb2tlV2lkdGgodCx0LmJvYXJkLm9wdGlvbnMuZWxlbWVudHMuZHJhZnQuc3Ryb2tlV2lkdGgpKX19LHJlbW92ZURyYWZ0OmZ1bmN0aW9uKHQpe3RoaXMuc2V0T2JqZWN0VHJhbnNpdGlvbih0KSx0LnR5cGU9PT1yLk9CSkVDVF9UWVBFX1BPTFlHT04/dGhpcy5zZXRPYmplY3RGaWxsQ29sb3IodCx0LnZpc1Byb3AuZmlsbGNvbG9yLHQudmlzUHJvcC5maWxsb3BhY2l0eSk6KHQudHlwZT09PXIuT0JKRUNUX0NMQVNTX1BPSU5UJiZ0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LHQudmlzUHJvcC5maWxsY29sb3IsdC52aXNQcm9wLmZpbGxvcGFjaXR5KSx0aGlzLnNldE9iamVjdFN0cm9rZUNvbG9yKHQsdC52aXNQcm9wLnN0cm9rZWNvbG9yLHQudmlzUHJvcC5zdHJva2VvcGFjaXR5KSx0aGlzLnNldE9iamVjdFN0cm9rZVdpZHRoKHQsdC52aXNQcm9wLnN0cm9rZXdpZHRoKSl9LHNldEdyYWRpZW50OmZ1bmN0aW9uKHQpe30sdXBkYXRlR3JhZGllbnQ6ZnVuY3Rpb24odCl7fSxzZXRPYmplY3RUcmFuc2l0aW9uOmZ1bmN0aW9uKHQsZSl7fSxzZXRPYmplY3RGaWxsQ29sb3I6ZnVuY3Rpb24odCxlLGkpe30sc2V0T2JqZWN0U3Ryb2tlQ29sb3I6ZnVuY3Rpb24odCxlLGkpe30sc2V0T2JqZWN0U3Ryb2tlV2lkdGg6ZnVuY3Rpb24odCxlKXt9LHNldFNoYWRvdzpmdW5jdGlvbih0KXt9LGhpZ2hsaWdodDpmdW5jdGlvbih0KXt2YXIgZSxpLHM9dC52aXNQcm9wO2lmKHRoaXMuc2V0T2JqZWN0VHJhbnNpdGlvbih0KSwhcy5kcmFmdCl7aWYodC50eXBlPT09ci5PQkpFQ1RfVFlQRV9QT0xZR09OKWZvcih0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LHMuaGlnaGxpZ2h0ZmlsbGNvbG9yLHMuaGlnaGxpZ2h0ZmlsbG9wYWNpdHkpLGU9MDtlPHQuYm9yZGVycy5sZW5ndGg7ZSsrKXRoaXMuc2V0T2JqZWN0U3Ryb2tlQ29sb3IodC5ib3JkZXJzW2VdLHQuYm9yZGVyc1tlXS52aXNQcm9wLmhpZ2hsaWdodHN0cm9rZWNvbG9yLHQuYm9yZGVyc1tlXS52aXNQcm9wLmhpZ2hsaWdodHN0cm9rZW9wYWNpdHkpO2Vsc2UgdC5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19URVhUP3RoaXMudXBkYXRlVGV4dFN0eWxlKHQsITApOnQudHlwZT09PXIuT0JKRUNUX1RZUEVfSU1BR0U/KHRoaXMudXBkYXRlSW1hZ2VTdHlsZSh0LCEwKSx0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LHMuaGlnaGxpZ2h0ZmlsbGNvbG9yLHMuaGlnaGxpZ2h0ZmlsbG9wYWNpdHkpKToodGhpcy5zZXRPYmplY3RTdHJva2VDb2xvcih0LHMuaGlnaGxpZ2h0c3Ryb2tlY29sb3Iscy5oaWdobGlnaHRzdHJva2VvcGFjaXR5KSx0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LHMuaGlnaGxpZ2h0ZmlsbGNvbG9yLHMuaGlnaGxpZ2h0ZmlsbG9wYWNpdHkpKTtzLmhpZ2hsaWdodHN0cm9rZXdpZHRoJiYoaT1NYXRoLm1heChuLmV2YWx1YXRlKHMuaGlnaGxpZ2h0c3Ryb2tld2lkdGgpLG4uZXZhbHVhdGUocy5zdHJva2V3aWR0aCkpLHRoaXMuc2V0T2JqZWN0U3Ryb2tlV2lkdGgodCxpKSx0LmVsZW1lbnRDbGFzcyE9PXIuT0JKRUNUX0NMQVNTX0xJTkUmJnQuZWxlbWVudENsYXNzIT09ci5PQkpFQ1RfQ0xBU1NfQ1VSVkV8fHRoaXMudXBkYXRlUGF0aFdpdGhBcnJvd0hlYWRzKHQsITApKX1yZXR1cm4gdGhpc30sbm9IaWdobGlnaHQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXQudmlzUHJvcDtpZih0aGlzLnNldE9iamVjdFRyYW5zaXRpb24odCksIW4uZXZhbHVhdGUodC52aXNQcm9wLmRyYWZ0KSl7aWYodC50eXBlPT09ci5PQkpFQ1RfVFlQRV9QT0xZR09OKWZvcih0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LHMuZmlsbGNvbG9yLHMuZmlsbG9wYWNpdHkpLGU9MDtlPHQuYm9yZGVycy5sZW5ndGg7ZSsrKXRoaXMuc2V0T2JqZWN0U3Ryb2tlQ29sb3IodC5ib3JkZXJzW2VdLHQuYm9yZGVyc1tlXS52aXNQcm9wLnN0cm9rZWNvbG9yLHQuYm9yZGVyc1tlXS52aXNQcm9wLnN0cm9rZW9wYWNpdHkpO2Vsc2UgdC5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19URVhUP3RoaXMudXBkYXRlVGV4dFN0eWxlKHQsITEpOnQudHlwZT09PXIuT0JKRUNUX1RZUEVfSU1BR0U/KHRoaXMudXBkYXRlSW1hZ2VTdHlsZSh0LCExKSx0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LHMuZmlsbGNvbG9yLHMuZmlsbG9wYWNpdHkpKToodGhpcy5zZXRPYmplY3RTdHJva2VDb2xvcih0LHMuc3Ryb2tlY29sb3Iscy5zdHJva2VvcGFjaXR5KSx0aGlzLnNldE9iamVjdEZpbGxDb2xvcih0LHMuZmlsbGNvbG9yLHMuZmlsbG9wYWNpdHkpKTtpPW4uZXZhbHVhdGUocy5zdHJva2V3aWR0aCksdGhpcy5zZXRPYmplY3RTdHJva2VXaWR0aCh0LGkpLHQuZWxlbWVudENsYXNzIT09ci5PQkpFQ1RfQ0xBU1NfTElORSYmdC5lbGVtZW50Q2xhc3MhPT1yLk9CSkVDVF9DTEFTU19DVVJWRXx8dGhpcy51cGRhdGVQYXRoV2l0aEFycm93SGVhZHModCwhMSl9cmV0dXJuIHRoaXN9LHN1c3BlbmRSZWRyYXc6ZnVuY3Rpb24oKXt9LHVuc3VzcGVuZFJlZHJhdzpmdW5jdGlvbigpe30sZHJhd1pvb21CYXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM9ZnVuY3Rpb24odCl7dHx8KHQ9d2luZG93LmV2ZW50KSx0LnN0b3BQcm9wYWdhdGlvbj90LnN0b3BQcm9wYWdhdGlvbigpOnQuY2FuY2VsQnViYmxlPSEwfSxvPWZ1bmN0aW9uKGUsbyl7dmFyIGg7aD1pLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHIuYXBwZW5kQ2hpbGQoaCksaC5hcHBlbmRDaGlsZChpLmNyZWF0ZVRleHROb2RlKGUpKSxoLnN0eWxlLnBhZGRpbmdMZWZ0PVwiN3B4XCIsaC5zdHlsZS5wYWRkaW5nUmlnaHQ9XCI3cHhcIix2b2lkIDAhPT1oLmNsYXNzTGlzdCYmaC5jbGFzc0xpc3QuYWRkKFwiSlhHX25hdmlnYXRpb25fYnV0dG9uXCIpLGEuYWRkRXZlbnQoaCxcImNsaWNrXCIsKGZ1bmN0aW9uKGUpe3JldHVybiBuLmJpbmQobyx0KSgpLCExfSksdCksYS5hZGRFdmVudChoLFwibW91c2V1cFwiLHMsdCksYS5hZGRFdmVudChoLFwibW91c2Vkb3duXCIscyx0KSxhLmFkZEV2ZW50KGgsXCJ0b3VjaGVuZFwiLHMsdCksYS5hZGRFdmVudChoLFwidG91Y2hzdGFydFwiLHMsdCl9O2EuaXNCcm93c2VyJiZcIm5vXCIhPT10aGlzLnR5cGUmJihpPXQuY29udGFpbmVyT2JqLm93bmVyRG9jdW1lbnQsKHI9aS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zZXRBdHRyaWJ1dGUoXCJpZFwiLHQuY29udGFpbmVyT2JqLmlkK1wiX25hdmlnYXRpb25iYXJcIiksci5zdHlsZS5jb2xvcj1lLnN0cm9rZWNvbG9yLHIuc3R5bGUuYmFja2dyb3VuZENvbG9yPWUuZmlsbGNvbG9yLHIuc3R5bGUucGFkZGluZz1lLnBhZGRpbmcsci5zdHlsZS5wb3NpdGlvbj1lLnBvc2l0aW9uLHIuc3R5bGUuZm9udFNpemU9ZS5mb250c2l6ZSxyLnN0eWxlLmN1cnNvcj1lLmN1cnNvcixyLnN0eWxlLnpJbmRleD1lLnppbmRleCx0LmNvbnRhaW5lck9iai5hcHBlbmRDaGlsZChyKSxyLnN0eWxlLnJpZ2h0PWUucmlnaHQsci5zdHlsZS5ib3R0b209ZS5ib3R0b20sdm9pZCAwIT09ci5jbGFzc0xpc3QmJnIuY2xhc3NMaXN0LmFkZChcIkpYR19uYXZpZ2F0aW9uXCIpLHQuYXR0ci5zaG93ZnVsbHNjcmVlbiYmbyh0LmF0dHIuZnVsbHNjcmVlbi5zeW1ib2wsKGZ1bmN0aW9uKCl7dC50b0Z1bGxzY3JlZW4odC5hdHRyLmZ1bGxzY3JlZW4uaWQpfSkpLHQuYXR0ci5zaG93c2NyZWVuc2hvdCYmbyh0LmF0dHIuc2NyZWVuc2hvdC5zeW1ib2wsKGZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5yZW5kZXJlci5zY3JlZW5zaG90KHQsXCJcIiwhMSl9KSwzMzApfSkpLHQuYXR0ci5zaG93cmVsb2FkJiZvKFwi4oa7XCIsKGZ1bmN0aW9uKCl7dC5yZWxvYWQoKX0pKSx0LmF0dHIuc2hvd2NsZWFydHJhY2VzJiZvKFwi4oqXXCIsKGZ1bmN0aW9uKCl7dC5jbGVhclRyYWNlcygpfSkpLHQuYXR0ci5zaG93bmF2aWdhdGlvbiYmKHQuYXR0ci5zaG93em9vbSYmKG8oXCLigJNcIix0Lnpvb21PdXQpLG8oXCJvXCIsdC56b29tMTAwKSxvKFwiK1wiLHQuem9vbUluKSksbyhcIuKGkFwiLHQuY2xpY2tMZWZ0QXJyb3cpLG8oXCLihpNcIix0LmNsaWNrVXBBcnJvdyksbyhcIuKGkVwiLHQuY2xpY2tEb3duQXJyb3cpLG8oXCLihpJcIix0LmNsaWNrUmlnaHRBcnJvdykpKX0sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZXhpc3RzKHRoaXMuY29udGFpbmVyKT90aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29udGFpbmVyLmlkK1wiX1wiK3QpOlwiXCJ9LHJlbW92ZVRvSW5zZXJ0TGF0ZXI6ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJlbnROb2RlLGk9dC5uZXh0U2libGluZztpZihudWxsIT09ZSlyZXR1cm4gZS5yZW1vdmVDaGlsZCh0KSxmdW5jdGlvbigpe2k/ZS5pbnNlcnRCZWZvcmUodCxpKTplLmFwcGVuZENoaWxkKHQpfX0scmVzaXplOmZ1bmN0aW9uKHQsZSl7fSxjcmVhdGVUb3VjaHBvaW50czpmdW5jdGlvbih0KXt9LHNob3dUb3VjaHBvaW50OmZ1bmN0aW9uKHQpe30saGlkZVRvdWNocG9pbnQ6ZnVuY3Rpb24odCl7fSx1cGRhdGVUb3VjaHBvaW50OmZ1bmN0aW9uKHQsZSl7fSxkdW1wVG9EYXRhVVJJOmZ1bmN0aW9uKHQpe30sZHVtcFRvQ2FudmFzOmZ1bmN0aW9uKHQsZSxpLHIpe30sc2NyZWVuc2hvdDpmdW5jdGlvbih0KXt9LHNldExheWVyOmZ1bmN0aW9uKHQsZSl7fX0pLHQuQWJzdHJhY3RSZW5kZXJlcn0pKSxkZWZpbmUoXCJyZWFkZXIvZmlsZVwiLFtcImp4Z1wiLFwidXRpbHMvZW52XCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy9lbmNvZGluZ1wiLFwidXRpbHMvYmFzZTY0XCJdLChmdW5jdGlvbih0LGUsaSxyLHMpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkZpbGVSZWFkZXI9e2hhbmRsZVJlbW90ZUZpbGU6ZnVuY3Rpb24oZSxvLG4sYSxoLGwpe3ZhciBjPSExO3RyeXtjPW5ldyBYTUxIdHRwUmVxdWVzdCxcInJhd1wiPT09bi50b0xvd2VyQ2FzZSgpP2Mub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9XCIraCk6Yy5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC94bWw7IGNoYXJzZXQ9XCIraCl9Y2F0Y2godCl7dHJ5e2M9bmV3IEFjdGl2ZVhPYmplY3QoXCJNc3htbDIuWE1MSFRUUFwiKX1jYXRjaCh0KXt0cnl7Yz1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfWNhdGNoKHQpe2M9ITF9fX1pZihjKXtjLm9wZW4oXCJHRVRcIixlLGEpLFwicmF3XCI9PT1uLnRvTG93ZXJDYXNlKCk/dGhpcy5jYnA9ZnVuY3Rpb24oKXt2YXIgdD1jOzQ9PT10LnJlYWR5U3RhdGUmJm8odC5yZXNwb25zZVRleHQpfTp0aGlzLmNicD1mdW5jdGlvbigpe3ZhciB0PWMsZT1cIlwiOzQ9PT10LnJlYWR5U3RhdGUmJihlPSFpLmV4aXN0cyh0LnJlc3BvbnNlU3RyZWFtKXx8XCJQS1wiIT09dC5yZXNwb25zZVRleHQuc2xpY2UoMCwyKSYmMzEhPT1yLmFzY2lpQ2hhckNvZGVBdCh0LnJlc3BvbnNlVGV4dC5zbGljZSgwLDEpLDApP3QucmVzcG9uc2VUZXh0OnMuZGVjb2RlKGp4Z0JpbkZpbGVSZWFkZXIodCkpLHRoaXMucGFyc2VTdHJpbmcoZSxvLG4sbCkpfSx0aGlzLmNiPWkuYmluZCh0aGlzLmNicCx0aGlzKSxjLm9ucmVhZHlzdGF0ZWNoYW5nZT10aGlzLmNiO3RyeXtjLnNlbmQobnVsbCl9Y2F0Y2godCl7dGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IEEgcHJvYmxlbSBvY2N1cnJlZCB3aGlsZSB0cnlpbmcgdG8gcmVhZCByZW1vdGUgZmlsZSAnXCIrZStcIicuXCIpfX1lbHNlIHQuZGVidWcoXCJBSkFYIG5vdCBhY3RpdmF0ZWQhXCIpfSxoYW5kbGVMb2NhbEZpbGU6ZnVuY3Rpb24odCxlLHIscyxvLG4pe2kuZXhpc3RzKHMpfHwocz0hMCksXCJyYXdcIj09PXIudG9Mb3dlckNhc2UoKT90aGlzLmNicD1mdW5jdGlvbih0KXtlKHQudGFyZ2V0LnJlc3VsdCl9OnRoaXMuY2JwPWZ1bmN0aW9uKHQpe3ZhciBpPXQudGFyZ2V0LnJlc3VsdDt0aGlzLnBhcnNlU3RyaW5nKGksZSxyLG4pfSx0aGlzLmNiPWkuYmluZCh0aGlzLmNicCx0aGlzKTt2YXIgYT1uZXcgRmlsZVJlYWRlcjthLm9ubG9hZD10aGlzLmNiLFwicmF3XCI9PT1yLnRvTG93ZXJDYXNlKCk/YS5yZWFkQXNUZXh0KHQpOmEucmVhZEFzVGV4dCh0LG8pfSxwYXJzZUZpbGVDb250ZW50OmZ1bmN0aW9uKHQsZSxyLHMsbyxuKXtpLmlzU3RyaW5nKHQpfHx2b2lkIDA9PT1GaWxlUmVhZGVyP3RoaXMuaGFuZGxlUmVtb3RlRmlsZSh0LGUscixzLG8sbik6dGhpcy5oYW5kbGVMb2NhbEZpbGUodCxlLHIscyxvLG4pfSxwYXJzZVN0cmluZzpmdW5jdGlvbihlLHIscyxvKXt2YXIgbjtpZihzPXMudG9Mb3dlckNhc2UoKSxuPXQucmVhZGVyc1tzXSxpLmV4aXN0cyhuKSluZXcgbihyLGUpLnJlYWQoKTtlbHNlIGlmKFwiamVzc2llY29kZVwiIT09cyl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogVGhlcmUgaXMgbm8gcmVhZGVyIGF2YWlsYWJsZSBmb3IgJ1wiK3MrXCInLlwiKTtpLmlzRnVuY3Rpb24obykmJm8ocil9fSwhZS5pc01ldHJvQXBwKCkmJmUuaXNCcm93c2VyJiZcIm9iamVjdFwiPT10eXBlb2YgbmF2aWdhdG9yJiYvbXNpZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJiEvb3BlcmEvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiZkb2N1bWVudCYmZG9jdW1lbnQud3JpdGUmJmRvY3VtZW50LndyaXRlKCc8c2NyaXB0IHR5cGU9XCJ0ZXh0L3Zic2NyaXB0XCI+XFxuRnVuY3Rpb24gQmFzZTY0RW5jb2RlKGluRGF0YSlcXG4gIENvbnN0IEJhc2U2NCA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiXFxuICBEaW0gY091dCwgc091dCwgSVxcbiAgRm9yIEkgPSAxIFRvIExlbkIoaW5EYXRhKSBTdGVwIDNcXG4gICAgRGltIG5Hcm91cCwgcE91dCwgc0dyb3VwXFxuICAgIG5Hcm91cCA9ICZIMTAwMDAgKiBBc2NCKE1pZEIoaW5EYXRhLCBJLCAxKSkgKyBfXFxuICAgICAgJkgxMDAgKiBNeUFTQyhNaWRCKGluRGF0YSwgSSArIDEsIDEpKSArIE15QVNDKE1pZEIoaW5EYXRhLCBJICsgMiwgMSkpXFxuICAgIG5Hcm91cCA9IE9jdChuR3JvdXApXFxuICAgIG5Hcm91cCA9IFN0cmluZyg4IC0gTGVuKG5Hcm91cCksIFwiMFwiKSAmIG5Hcm91cFxcbiAgICBwT3V0ID0gTWlkKEJhc2U2NCwgQ0xuZyhcIiZvXCIgJiBNaWQobkdyb3VwLCAxLCAyKSkgKyAxLCAxKSArIF9cXG4gICAgICBNaWQoQmFzZTY0LCBDTG5nKFwiJm9cIiAmIE1pZChuR3JvdXAsIDMsIDIpKSArIDEsIDEpICsgX1xcbiAgICAgIE1pZChCYXNlNjQsIENMbmcoXCImb1wiICYgTWlkKG5Hcm91cCwgNSwgMikpICsgMSwgMSkgKyBfXFxuICAgICAgTWlkKEJhc2U2NCwgQ0xuZyhcIiZvXCIgJiBNaWQobkdyb3VwLCA3LCAyKSkgKyAxLCAxKVxcbiAgICBzT3V0ID0gc091dCArIHBPdXRcXG4gIE5leHRcXG4gIFNlbGVjdCBDYXNlIExlbkIoaW5EYXRhKSBNb2QgM1xcbiAgICBDYXNlIDE6IFxcJzggYml0IGZpbmFsXFxuICAgICAgc091dCA9IExlZnQoc091dCwgTGVuKHNPdXQpIC0gMikgKyBcIj09XCJcXG4gICAgQ2FzZSAyOiBcXCcxNiBiaXQgZmluYWxcXG4gICAgICBzT3V0ID0gTGVmdChzT3V0LCBMZW4oc091dCkgLSAxKSArIFwiPVwiXFxuICBFbmQgU2VsZWN0XFxuICBCYXNlNjRFbmNvZGUgPSBzT3V0XFxuRW5kIEZ1bmN0aW9uXFxuXFxuRnVuY3Rpb24gTXlBU0MoT25lQ2hhcilcXG4gIElmIE9uZUNoYXIgPSBcIlwiIFRoZW4gTXlBU0MgPSAwIEVsc2UgTXlBU0MgPSBBc2NCKE9uZUNoYXIpXFxuRW5kIEZ1bmN0aW9uXFxuXFxuRnVuY3Rpb24ganhnQmluRmlsZVJlYWRlcih4aHIpXFxuICAgIERpbSBieXRlU3RyaW5nXFxuICAgIERpbSBiNjRTdHJpbmdcXG4gICAgRGltIGlcXG4gICAgYnl0ZVN0cmluZyA9IHhoci5yZXNwb25zZUJvZHlcXG4gICAgUmVEaW0gYnl0ZUFycmF5KExlbkIoYnl0ZVN0cmluZykpXFxuICAgIEZvciBpID0gMSBUbyBMZW5CKGJ5dGVTdHJpbmcpXFxuICAgICAgICBieXRlQXJyYXkoaS0xKSA9IEFzY0IoTWlkQihieXRlU3RyaW5nLCBpLCAxKSlcXG4gICAgTmV4dFxcbiAgICBiNjRTdHJpbmcgPSBCYXNlNjRFbmNvZGUoYnl0ZVN0cmluZylcXG4gICAganhnQmluRmlsZVJlYWRlciA9IGI2NFN0cmluZ1xcbkVuZCBGdW5jdGlvblxcbjxcXC9zY3JpcHQ+XFxuJyksdC5GaWxlUmVhZGVyfSkpLGRlZmluZShcInBhcnNlci9nZW9uZXh0XCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lkdlb25leHRQYXJzZXI9e3JlcGxhY2VQb3c6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuLGEsaCxsLGMsZCx1O2ZvcihjPSh0PXQucmVwbGFjZSgvKFxccyopXFxeKFxccyopL2csXCJeXCIpKS5pbmRleE9mKFwiXlwiKSxzPS0xO2M+PTAmJmM8dC5sZW5ndGgtMTspe2lmKHM9PT1jKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBFcnJvciB3aGlsZSBwYXJzaW5nIGV4cHJlc3Npb24gJ1wiK3QrXCInXCIpO2lmKHM9YyxsPXQuc2xpY2UoMCxjKSxkPXQuc2xpY2UoYysxKSxcIilcIj09PWwuY2hhckF0KGwubGVuZ3RoLTEpKXtmb3IoZT0xLGk9bC5sZW5ndGgtMjtpPj0wJiZlPjA7KVwiKVwiPT09KHI9bC5jaGFyQXQoaSkpP2UrKzpcIihcIj09PXImJihlLT0xKSxpLT0xO2lmKDAhPT1lKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBNaXNzaW5nICcoJyBpbiBleHByZXNzaW9uXCIpO2ZvcihvPVwiXCIsYT1sLnN1YnN0cmluZygwLGkrMSksaD1pO2g+PTAmJmEuc3Vic3RyKGgsMSkubWF0Y2goLyhbXFx3Ll0rKS8pOylvPVJlZ0V4cC4kMStvLGgtPTE7bz0obys9bC5zdWJzdHJpbmcoaSsxLGwubGVuZ3RoKSkucmVwbGFjZSgvKFsoKSsqJV5cXC0vXFxdW10pL2csXCJcXFxcJDFcIil9ZWxzZSBvPVwiW1xcXFx3XFxcXC5dK1wiO2lmKGQubWF0Y2goL14oW1xcdy5dKlxcKCkvKSl7Zm9yKGU9MSxpPVJlZ0V4cC4kMS5sZW5ndGg7aTxkLmxlbmd0aCYmZT4wOylcIilcIj09PShyPWQuY2hhckF0KGkpKT9lLT0xOlwiKFwiPT09ciYmKGUrPTEpLGkrPTE7aWYoMCE9PWUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IE1pc3NpbmcgJyknIGluIGV4cHJlc3Npb25cIik7bj0obj1kLnN1YnN0cmluZygwLGkpKS5yZXBsYWNlKC8oWygpKyolXlxcLS9bXFxdXSkvZyxcIlxcXFwkMVwiKX1lbHNlIG49XCJbXFxcXHdcXFxcLl0rXCI7dT1uZXcgUmVnRXhwKFwiKFwiK28rXCIpXFxcXF4oXCIrbitcIilcIiksYz0odD10LnJlcGxhY2UodSxcInBvdygkMSwkMilcIikpLmluZGV4T2YoXCJeXCIpfXJldHVybiB0fSxyZXBsYWNlSWY6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuLGEsaCxsLGM9XCJcIixkPW51bGwsdT1udWxsLHA9bnVsbDtpZigocj10LmluZGV4T2YoXCJJZihcIikpPDApcmV0dXJuIHQ7Zm9yKHQ9dC5yZXBsYWNlKC9cIlwiL2csXCIwXCIpO3I+PTA7KXtmb3IoZT10LnNsaWNlKDAsciksaT10LnNsaWNlKHIrMyksbz0xLHM9MCxuPS0xLGE9LTE7czxpLmxlbmd0aCYmbz4wOylcIilcIj09PShoPWkuY2hhckF0KHMpKT9vLT0xOlwiKFwiPT09aD9vKz0xOlwiLFwiPT09aCYmMT09PW8mJihuPDA/bj1zOmE9cykscys9MTtpZihsPWkuc2xpY2UoMCxzLTEpLGk9aS5zbGljZShzKSxuPDApcmV0dXJuXCJcIjtpZihhPDApcmV0dXJuXCJcIjtkPWwuc2xpY2UoMCxuKSx1PWwuc2xpY2UobisxLGEpLHA9bC5zbGljZShhKzEpLGMrPWUrXCIoKFwiKyhkPXRoaXMucmVwbGFjZUlmKGQpKStcIik/KFwiKyh1PXRoaXMucmVwbGFjZUlmKHUpKStcIik6KFwiKyhwPXRoaXMucmVwbGFjZUlmKHApKStcIikpXCIsZD1udWxsLHU9bnVsbCxyPSh0PWkpLmluZGV4T2YoXCJJZihcIil9cmV0dXJuIGMrPWl9LHJlcGxhY2VOYW1lQnlJZDpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG4sYT0wLGg9W1wiWFwiLFwiWVwiLFwiTFwiLFwiVlwiXSxsPWZ1bmN0aW9uKHQpe3JldHVybiBpP1wiJCgnXCIrdCtcIicpXCI6dH07Zm9yKG49MDtuPGgubGVuZ3RoO24rKylmb3IoYT10LmluZGV4T2YoaFtuXStcIihcIik7YT49MDspYT49MCYmKHI9dC5pbmRleE9mKFwiKVwiLGErMikpPj0wJiYocz0ocz10LnNsaWNlKGErMixyKSkucmVwbGFjZSgvXFxcXChbJ1wiXSk/L2csXCIkMVwiKSwobz1lLmVsZW1lbnRzQnlOYW1lW3NdKSYmKHQ9dC5zbGljZSgwLGErMikrKGk/XCIkKCdcIjpcIlwiKStsKG8uaWQpK3Quc2xpY2UocikpKSxyPXQuaW5kZXhPZihcIilcIixhKzIpLGE9dC5pbmRleE9mKGhbbl0rXCIoXCIscik7Zm9yKGE9dC5pbmRleE9mKFwiRGlzdChcIik7YT49MDspYT49MCYmKHI9dC5pbmRleE9mKFwiLFwiLGErNSkpPj0wJiYocz0ocz10LnNsaWNlKGErNSxyKSkucmVwbGFjZSgvXFxcXChbJ1wiXSk/L2csXCIkMVwiKSwobz1lLmVsZW1lbnRzQnlOYW1lW3NdKSYmKHQ9dC5zbGljZSgwLGErNSkrbChvLmlkKSt0LnNsaWNlKHIpKSkscj10LmluZGV4T2YoXCIsXCIsYSs1KSxhPXQuaW5kZXhPZihcIixcIixyKSwocj10LmluZGV4T2YoXCIpXCIsYSsxKSk+PTAmJihzPShzPXQuc2xpY2UoYSsxLHIpKS5yZXBsYWNlKC9cXFxcKFsnXCJdKT8vZyxcIiQxXCIpLChvPWUuZWxlbWVudHNCeU5hbWVbc10pJiYodD10LnNsaWNlKDAsYSsxKStsKG8uaWQpK3Quc2xpY2UocikpKSxyPXQuaW5kZXhPZihcIilcIixhKzEpLGE9dC5pbmRleE9mKFwiRGlzdChcIixyKTtmb3IoaD1bXCJEZWdcIixcIlJhZFwiXSxuPTA7bjxoLmxlbmd0aDtuKyspZm9yKGE9dC5pbmRleE9mKGhbbl0rXCIoXCIpO2E+PTA7KWE+PTAmJihyPXQuaW5kZXhPZihcIixcIixhKzQpKT49MCYmKHM9KHM9dC5zbGljZShhKzQscikpLnJlcGxhY2UoL1xcXFwoWydcIl0pPy9nLFwiJDFcIiksKG89ZS5lbGVtZW50c0J5TmFtZVtzXSkmJih0PXQuc2xpY2UoMCxhKzQpK2woby5pZCkrdC5zbGljZShyKSkpLHI9dC5pbmRleE9mKFwiLFwiLGErNCksYT10LmluZGV4T2YoXCIsXCIsciksKHI9dC5pbmRleE9mKFwiLFwiLGErMSkpPj0wJiYocz0ocz10LnNsaWNlKGErMSxyKSkucmVwbGFjZSgvXFxcXChbJ1wiXSk/L2csXCIkMVwiKSwobz1lLmVsZW1lbnRzQnlOYW1lW3NdKSYmKHQ9dC5zbGljZSgwLGErMSkrbChvLmlkKSt0LnNsaWNlKHIpKSkscj10LmluZGV4T2YoXCIsXCIsYSsxKSxhPXQuaW5kZXhPZihcIixcIixyKSwocj10LmluZGV4T2YoXCIpXCIsYSsxKSk+PTAmJihzPShzPXQuc2xpY2UoYSsxLHIpKS5yZXBsYWNlKC9cXFxcKFsnXCJdKT8vZyxcIiQxXCIpLChvPWUuZWxlbWVudHNCeU5hbWVbc10pJiYodD10LnNsaWNlKDAsYSsxKStsKG8uaWQpK3Quc2xpY2UocikpKSxyPXQuaW5kZXhPZihcIilcIixhKzEpLGE9dC5pbmRleE9mKGhbbl0rXCIoXCIscik7cmV0dXJuIHR9LHJlcGxhY2VJZEJ5T2JqOmZ1bmN0aW9uKHQpe3ZhciBlPS8oWHxZfEwpXFwoKFtcXHdfXSspXFwpL2c7cmV0dXJuIHQ9dC5yZXBsYWNlKGUsXCIkKCckMicpLiQxKClcIiksZT0vKFYpXFwoKFtcXHdfXSspXFwpL2csdD10LnJlcGxhY2UoZSxcIiQoJyQyJykuVmFsdWUoKVwiKSxlPS8oRGlzdClcXCgoW1xcd19dKyksKFtcXHdfXSspXFwpL2csdD10LnJlcGxhY2UoZSxcImRpc3QoJCgnJDInKSwgJCgnJDMnKSlcIiksZT0vKERlZylcXCgoW1xcd19dKyksKFsgXFx3W1xcd19dKyksKFtcXHdfXSspXFwpL2csdD10LnJlcGxhY2UoZSxcImRlZygkKCckMicpLCQoJyQzJyksJCgnJDQnKSlcIiksZT0vUmFkXFwoKFtcXHdfXSspLChbXFx3X10rKSwoW1xcd19dKylcXCkvZyx0PXQucmVwbGFjZShlLFwicmFkKCQoJyQxJyksJCgnJDInKSwkKCckMycpKVwiKSxlPS9OXFwoKC4rKVxcKS9nLHQ9dC5yZXBsYWNlKGUsXCIoJDEpXCIpfSxnZW9uZXh0MkpTOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG89W1wiQWJzXCIsXCJBQ29zXCIsXCJBU2luXCIsXCJBVGFuXCIsXCJDZWlsXCIsXCJDb3NcIixcIkV4cFwiLFwiRmFjdG9yaWFsXCIsXCJGbG9vclwiLFwiTG9nXCIsXCJNYXhcIixcIk1pblwiLFwiUmFuZG9tXCIsXCJSb3VuZFwiLFwiU2luXCIsXCJTcXJ0XCIsXCJUYW5cIixcIlRydW5jXCJdLG49W1wiYWJzXCIsXCJhY29zXCIsXCJhc2luXCIsXCJhdGFuXCIsXCJjZWlsXCIsXCJjb3NcIixcImV4cFwiLFwiZmFjdG9yaWFsXCIsXCJmbG9vclwiLFwibG9nXCIsXCJtYXhcIixcIm1pblwiLFwicmFuZG9tXCIsXCJyb3VuZFwiLFwic2luXCIsXCJzcXJ0XCIsXCJ0YW5cIixcImNlaWxcIl07Zm9yKHI9dD0odD0odD10LnJlcGxhY2UoLyZsdDsvZyxcIjxcIikpLnJlcGxhY2UoLyZndDsvZyxcIj5cIikpLnJlcGxhY2UoLyZhbXA7L2csXCImXCIpLHI9dGhpcy5yZXBsYWNlTmFtZUJ5SWQocixlKSxyPXRoaXMucmVwbGFjZUlmKHIpLHI9dGhpcy5yZXBsYWNlUG93KHIpLHI9dGhpcy5yZXBsYWNlSWRCeU9iaihyKSxzPTA7czxvLmxlbmd0aDtzKyspaT1uZXcgUmVnRXhwKFtcIihcXFxcV3xeKShcIixvW3NdLFwiKVwiXS5qb2luKFwiXCIpLFwiaWdcIikscj1yLnJlcGxhY2UoaSxbXCIkMVwiLG5bc11dLmpvaW4oXCJcIikpO3JldHVybiByPShyPShyPShyPShyPXIucmVwbGFjZSgvVHJ1ZS9nLFwidHJ1ZVwiKSkucmVwbGFjZSgvRmFsc2UvZyxcImZhbHNlXCIpKS5yZXBsYWNlKC9mYXNsZS9nLFwiZmFsc2VcIikpLnJlcGxhY2UoL1BpL2csXCJQSVwiKSkucmVwbGFjZSgvXCIvZyxcIidcIil9LGZpbmREZXBlbmRlbmNpZXM6ZnVuY3Rpb24odCxyLHMpe3ZhciBvLG4sYSxoO2ZvcihuIGluIGkuZXhpc3RzKHMpfHwocz10LmJvYXJkKSxvPXMuZWxlbWVudHNCeU5hbWUpby5oYXNPd25Qcm9wZXJ0eShuKSYmbiE9PXQubmFtZSYmKG9bbl0uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfVEVYVCYmaS5ldmFsdWF0ZShvW25dLnZpc1Byb3AuaXNsYWJlbCl8fChoPShoPW4ucmVwbGFjZSgvXFxbL2csXCJcXFxcW1wiKSkucmVwbGFjZSgvXFxdL2csXCJcXFxcXVwiKSxhPW5ldyBSZWdFeHAoXCJcXFxcKChbXFxcXHdcXFxcW1xcXFxdJ18gXSssKSooXCIraCtcIikoLFtcXFxcd1xcXFxbXFxcXF0nXyBdKykqXFxcXClcIixcImdcIiksci5zZWFyY2goYSk+PTAmJm9bbl0uYWRkQ2hpbGQodCkpKX0sZ3h0MmpjOmZ1bmN0aW9uKHQsZSl7dmFyIGk7cmV0dXJuIGk9dD0odD0odD10LnJlcGxhY2UoLyZsdDsvZyxcIjxcIikpLnJlcGxhY2UoLyZndDsvZyxcIj5cIikpLnJlcGxhY2UoLyZhbXA7L2csXCImXCIpLGk9KGk9KGk9KGk9dGhpcy5yZXBsYWNlTmFtZUJ5SWQoaSxlLCEwKSkucmVwbGFjZSgvVHJ1ZS9nLFwidHJ1ZVwiKSkucmVwbGFjZSgvRmFsc2UvZyxcImZhbHNlXCIpKS5yZXBsYWNlKC9mYXNsZS9nLFwiZmFsc2VcIil9fSx0Lkdlb25leHRQYXJzZXJ9KSksZGVmaW5lKFwiYmFzZS9lbGVtZW50XCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9zdGF0aXN0aWNzXCIsXCJvcHRpb25zXCIsXCJ1dGlscy9ldmVudFwiLFwidXRpbHMvY29sb3JcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5HZW9tZXRyeUVsZW1lbnQ9ZnVuY3Rpb24odCxpLHIscyl7dmFyIG8sYSxsO2lmKHRoaXMubmVlZHNVcGRhdGU9ITAsdGhpcy5pc0RyYWdnYWJsZT0hMSx0aGlzLmlzUmVhbD0hMCx0aGlzLmNoaWxkRWxlbWVudHM9e30sdGhpcy5oYXNMYWJlbD0hMSx0aGlzLmhpZ2hsaWdodGVkPSExLHRoaXMubm90RXhpc3RpbmdQYXJlbnRzPXt9LHRoaXMudHJhY2VzPXt9LHRoaXMubnVtVHJhY2VzPTAsdGhpcy50cmFuc2Zvcm1hdGlvbnM9W10sdGhpcy5iYXNlRWxlbWVudD1udWxsLHRoaXMuZGVzY2VuZGFudHM9e30sdGhpcy5hbmNlc3RvcnM9e30sdGhpcy5wYXJlbnRzPVtdLHRoaXMuc3ltYm9saWM9e30sdGhpcy5yZW5kTm9kZT1udWxsLHRoaXMuZWxUeXBlPVwiXCIsdGhpcy5kdW1wPSEwLHRoaXMuc3Vicz17fSx0aGlzLmluaGVyaXRzPVtdLHRoaXMuX3Bvcz0tMSx0aGlzLnN0ZGZvcm09WzEsMCwwLDAsMSwxLDAsMF0sdGhpcy5tZXRob2RNYXA9e3NldExhYmVsOlwic2V0TGFiZWxcIixsYWJlbDpcImxhYmVsXCIsc2V0TmFtZTpcInNldE5hbWVcIixnZXROYW1lOlwiZ2V0TmFtZVwiLGFkZFRyYW5zZm9ybTpcImFkZFRyYW5zZm9ybVwiLHNldFByb3BlcnR5Olwic2V0QXR0cmlidXRlXCIsc2V0QXR0cmlidXRlOlwic2V0QXR0cmlidXRlXCIsYWRkQ2hpbGQ6XCJhZGRDaGlsZFwiLGFuaW1hdGU6XCJhbmltYXRlXCIsb246XCJvblwiLG9mZjpcIm9mZlwiLHRyaWdnZXI6XCJ0cmlnZ2VyXCIsYWRkVGlja3M6XCJhZGRUaWNrc1wiLHJlbW92ZVRpY2tzOlwicmVtb3ZlVGlja3NcIixyZW1vdmVBbGxUaWNrczpcInJlbW92ZUFsbFRpY2tzXCJ9LHRoaXMucXVhZHJhdGljZm9ybT1bWzEsMCwwXSxbMCwxLDBdLFswLDAsMV1dLHRoaXMudmlzUHJvcD17fSx0aGlzLnZpc1Byb3BDYWxjPXt2aXNpYmxlOiExfSxuLmV2ZW50aWZ5KHRoaXMpLHRoaXMubW91c2VvdmVyPSExLHRoaXMubGFzdERyYWdUaW1lPW5ldyBEYXRlLGFyZ3VtZW50cy5sZW5ndGg+MCl7Zm9yKGEgaW4gdGhpcy5ib2FyZD10LHRoaXMudHlwZT1yLHRoaXMuX29yZ190eXBlPXIsdGhpcy5lbGVtZW50Q2xhc3M9c3x8ZS5PQkpFQ1RfQ0xBU1NfT1RIRVIsdGhpcy5pZD1pLmlkLG89aS5uYW1lLGguZXhpc3RzKG8pfHwobz10aGlzLmJvYXJkLmdlbmVyYXRlTmFtZSh0aGlzKSksXCJcIiE9PW8mJih0aGlzLmJvYXJkLmVsZW1lbnRzQnlOYW1lW29dPXRoaXMpLHRoaXMubmFtZT1vLHRoaXMubmVlZHNSZWd1bGFyVXBkYXRlPWkubmVlZHNyZWd1bGFydXBkYXRlLGguY2xlYXJWaXNQcm9wT2xkKHRoaXMpLGw9dGhpcy5yZXNvbHZlU2hvcnRjdXRzKGkpKWwuaGFzT3duUHJvcGVydHkoYSkmJnRoaXMuX3NldChhLGxbYV0pO3RoaXMudmlzUHJvcC5kcmFmdD1sLmRyYWZ0JiZsLmRyYWZ0LmRyYWZ0fX0sdC5leHRlbmQodC5HZW9tZXRyeUVsZW1lbnQucHJvdG90eXBlLHthZGRDaGlsZDpmdW5jdGlvbih0KXt2YXIgZSxpO2ZvcihlIGluIHRoaXMuY2hpbGRFbGVtZW50c1t0LmlkXT10LHRoaXMuYWRkRGVzY2VuZGFudHModCksdC5hbmNlc3RvcnNbdGhpcy5pZF09dGhpcyx0aGlzLmRlc2NlbmRhbnRzKWlmKHRoaXMuZGVzY2VuZGFudHMuaGFzT3duUHJvcGVydHkoZSkpZm9yKGkgaW4gdGhpcy5kZXNjZW5kYW50c1tlXS5hbmNlc3RvcnNbdGhpcy5pZF09dGhpcyx0aGlzLmFuY2VzdG9ycyl0aGlzLmFuY2VzdG9ycy5oYXNPd25Qcm9wZXJ0eShpKSYmKHRoaXMuZGVzY2VuZGFudHNbZV0uYW5jZXN0b3JzW3RoaXMuYW5jZXN0b3JzW2ldLmlkXT10aGlzLmFuY2VzdG9yc1tpXSk7Zm9yKGUgaW4gdGhpcy5hbmNlc3RvcnMpaWYodGhpcy5hbmNlc3RvcnMuaGFzT3duUHJvcGVydHkoZSkpZm9yKGkgaW4gdGhpcy5kZXNjZW5kYW50cyl0aGlzLmRlc2NlbmRhbnRzLmhhc093blByb3BlcnR5KGkpJiYodGhpcy5hbmNlc3RvcnNbZV0uZGVzY2VuZGFudHNbdGhpcy5kZXNjZW5kYW50c1tpXS5pZF09dGhpcy5kZXNjZW5kYW50c1tpXSk7cmV0dXJuIHRoaXN9LGFkZERlc2NlbmRhbnRzOmZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlIGluIHRoaXMuZGVzY2VuZGFudHNbdC5pZF09dCx0LmNoaWxkRWxlbWVudHMpdC5jaGlsZEVsZW1lbnRzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLmFkZERlc2NlbmRhbnRzKHQuY2hpbGRFbGVtZW50c1tlXSk7cmV0dXJuIHRoaXN9LGFkZFBhcmVudHM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyO2ZvcihpPShyPWguaXNBcnJheSh0KT90OmFyZ3VtZW50cykubGVuZ3RoLGU9MDtlPGk7KytlKWguZXhpc3RzKHJbZV0pJiYoaC5pc0lkKHRoaXMuYm9hcmQscltlXSk/dGhpcy5wYXJlbnRzLnB1c2gocltlXSk6aC5leGlzdHMocltlXS5pZCkmJnRoaXMucGFyZW50cy5wdXNoKHJbZV0uaWQpKTt0aGlzLnBhcmVudHM9aC51bmlxdWVBcnJheSh0aGlzLnBhcmVudHMpfSxzZXRQYXJlbnRzOmZ1bmN0aW9uKHQpe3RoaXMucGFyZW50cz1bXSx0aGlzLmFkZFBhcmVudHModCl9LHJlbW92ZUNoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUgdGhpcy5jaGlsZEVsZW1lbnRzW3QuaWRdLHRoaXMucmVtb3ZlRGVzY2VuZGFudHModCksZGVsZXRlIHQuYW5jZXN0b3JzW3RoaXMuaWRdLHRoaXN9LHJlbW92ZURlc2NlbmRhbnRzOmZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlIGluIGRlbGV0ZSB0aGlzLmRlc2NlbmRhbnRzW3QuaWRdLHQuY2hpbGRFbGVtZW50cyl0LmNoaWxkRWxlbWVudHMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMucmVtb3ZlRGVzY2VuZGFudHModC5jaGlsZEVsZW1lbnRzW2VdKTtyZXR1cm4gdGhpc30sY291bnRDaGlsZHJlbjpmdW5jdGlvbigpe3ZhciB0LGUsaT0wO2Zvcih0IGluIGU9dGhpcy5jaGlsZEVsZW1lbnRzKWUuaGFzT3duUHJvcGVydHkodCkmJnQuaW5kZXhPZihcIkxhYmVsXCIpPDAmJmkrKztyZXR1cm4gaX0sZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9LGFkZFRyYW5zZm9ybTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpc30sZHJhZ2dhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEcmFnZ2FibGUmJiFoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5maXhlZCkmJlxuLyohdGhpcy52aXNQcm9wLmZyb3plbiAmJiovdGhpcy50eXBlIT09ZS5PQkpFQ1RfVFlQRV9HTElERVJ9LHNldFBvc2l0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIHIscyxvLG4sYT1bXTtpZighaC5leGlzdHModGhpcy5wYXJlbnRzKSlyZXR1cm4gdGhpcztmb3Iobz10aGlzLnBhcmVudHMubGVuZ3RoLHM9MDtzPG87KytzKWlmKHI9dGhpcy5ib2FyZC5zZWxlY3QodGhpcy5wYXJlbnRzW3NdKSxoLmlzUG9pbnQocikpe2lmKCFyLmRyYWdnYWJsZSgpKXJldHVybiB0aGlzO2EucHVzaChyKX1mb3IoMz09PWkubGVuZ3RoJiYoaT1pLnNsaWNlKDEpKSxuPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsaSx7dHlwZTpcInRyYW5zbGF0ZVwifSksKG89YS5sZW5ndGgpPjA/bi5hcHBseU9uY2UoYSk6dGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoPjAmJnRoaXMudHJhbnNmb3JtYXRpb25zW3RoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aC0xXS5pc051bWVyaWNNYXRyaXg/dGhpcy50cmFuc2Zvcm1hdGlvbnNbdGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoLTFdLm1lbHQobik6dGhpcy5hZGRUcmFuc2Zvcm0obikscz0wO3M8bzsrK3MpYVtzXS50eXBlPT09ZS5PQkpFQ1RfVFlQRV9HTElERVImJmFbc10udXBkYXRlR2xpZGVyKCk7cmV0dXJuIHRoaXN9LHNldFBvc2l0aW9uRGlyZWN0bHk6ZnVuY3Rpb24odCxyLG8pe3ZhciBuPW5ldyBpKHQscix0aGlzLmJvYXJkLCExKSxhPW5ldyBpKHQsbyx0aGlzLmJvYXJkLCExKSxoPXMuc3VidHJhY3Qobi51c3JDb29yZHMsYS51c3JDb29yZHMpO3JldHVybiB0aGlzLnNldFBvc2l0aW9uKGUuQ09PUkRTX0JZX1VTRVIsaCksdGhpc30sZ2VuZXJhdGVQb2x5bm9taWFsOmZ1bmN0aW9uKCl7cmV0dXJuW119LGFuaW1hdGU6ZnVuY3Rpb24odCxlLGkpe2k9aXx8e307dmFyIHIscyxvLG49dGhpcy5ib2FyZC5hdHRyLmFuaW1hdGlvbmRlbGF5LGw9TWF0aC5jZWlsKGUvbiksYz10aGlzLGQ9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbixoLGQ7Zm9yKHI9YS5yZ2IyaHN2KHQpLG49KChzPWEucmdiMmhzdihlKSlbMF0tclswXSkvbCxoPShzWzFdLXJbMV0pL2wsZD0oc1syXS1yWzJdKS9sLGMuYW5pbWF0aW9uRGF0YVtpXT1bXSxvPTA7bzxsO28rKyljLmFuaW1hdGlvbkRhdGFbaV1bbC1vLTFdPWEuaHN2MnJnYihyWzBdKyhvKzEpKm4sclsxXSsobysxKSpoLHJbMl0rKG8rMSkqZCl9LHU9ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbjtpZih0PXBhcnNlRmxvYXQodCksZT1wYXJzZUZsb2F0KGUpLCFpc05hTih0KSYmIWlzTmFOKGUpKWZvcihuPShlLXQpL2wsYy5hbmltYXRpb25EYXRhW2ldPVtdLG89MDtvPGw7bysrKXM9dCsobysxKSpuLGMuYW5pbWF0aW9uRGF0YVtpXVtsLW8tMV09cj9NYXRoLmZsb29yKHMpOnN9O2ZvcihyIGluIHRoaXMuYW5pbWF0aW9uRGF0YT17fSx0KWlmKHQuaGFzT3duUHJvcGVydHkocikpc3dpdGNoKHM9ci50b0xvd2VyQ2FzZSgpKXtjYXNlXCJzdHJva2Vjb2xvclwiOmNhc2VcImZpbGxjb2xvclwiOmQodGhpcy52aXNQcm9wW3NdLHRbcl0scyk7YnJlYWs7Y2FzZVwic2l6ZVwiOmlmKCFoLmlzUG9pbnQodGhpcykpYnJlYWs7dSh0aGlzLnZpc1Byb3Bbc10sdFtyXSxzLCEwKTticmVhaztjYXNlXCJzdHJva2VvcGFjaXR5XCI6Y2FzZVwic3Ryb2tld2lkdGhcIjpjYXNlXCJmaWxsb3BhY2l0eVwiOnUodGhpcy52aXNQcm9wW3NdLHRbcl0scywhMSl9cmV0dXJuIHRoaXMuYW5pbWF0aW9uQ2FsbGJhY2s9aS5jYWxsYmFjayx0aGlzLmJvYXJkLmFkZEFuaW1hdGlvbih0aGlzKSx0aGlzfSx1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudHJhY2UpJiZ0aGlzLmNsb25lVG9CYWNrZ3JvdW5kKCksdGhpc30sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZnVsbFVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eSh0KS51cGRhdGVSZW5kZXJlcigpfSxzZXREaXNwbGF5UmVuZE5vZGU6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbztpZih2b2lkIDA9PT10JiYodD10aGlzLnZpc1Byb3BDYWxjLnZpc2libGUpLHQ9PT10aGlzLnZpc1Byb3BPbGQudmlzaWJsZSlyZXR1cm4gdGhpcztmb3IodGhpcy5ib2FyZC5yZW5kZXJlci5kaXNwbGF5KHRoaXMsdCksaT10aGlzLmluaGVyaXRzLmxlbmd0aCxyPTA7cjxpO3IrKylpZihvPXRoaXMuaW5oZXJpdHNbcl0saC5pc0FycmF5KG8pKWZvcihzPW8ubGVuZ3RoLGU9MDtlPHM7ZSsrKWguZXhpc3RzKG9bZV0pJiZoLmV4aXN0cyhvW2VdLnJlbmROb2RlKSYmXCJpbmhlcml0XCI9PT1oLmV2YWx1YXRlKG9bZV0udmlzUHJvcC52aXNpYmxlKSYmb1tlXS5zZXREaXNwbGF5UmVuZE5vZGUodCk7ZWxzZSBoLmV4aXN0cyhvKSYmaC5leGlzdHMoby5yZW5kTm9kZSkmJlwiaW5oZXJpdFwiPT09aC5ldmFsdWF0ZShvLnZpc1Byb3AudmlzaWJsZSkmJm8uc2V0RGlzcGxheVJlbmROb2RlKHQpO3JldHVybiB0aGlzLmhhc0xhYmVsJiZoLmV4aXN0cyh0aGlzLmxhYmVsKSYmaC5leGlzdHModGhpcy5sYWJlbC5yZW5kTm9kZSkmJlwiaW5oZXJpdFwiPT09aC5ldmFsdWF0ZSh0aGlzLmxhYmVsLnZpc1Byb3AudmlzaWJsZSkmJnRoaXMubGFiZWwuc2V0RGlzcGxheVJlbmROb2RlKHQpLHRoaXN9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITF9KSx0aGlzfSxoaWRlRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZGUoKSx0aGlzfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0QXR0cmlidXRlKHt2aXNpYmxlOiEwfSksdGhpc30sc2hvd0VsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaG93KCksdGhpc30sdXBkYXRlVmlzaWJpbGl0eTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG47aWYodGhpcy5uZWVkc1VwZGF0ZSl7Zm9yKHZvaWQgMCE9PXQ/dGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlPXQ6KG49aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudmlzaWJsZSksaC5leGlzdHModGhpcy5oaWRkZW5CeVBhcmVudCkmJnRoaXMuaGlkZGVuQnlQYXJlbnQmJihuPSExKSxcImluaGVyaXRcIiE9PW4mJih0aGlzLnZpc1Byb3BDYWxjLnZpc2libGU9bikpLGk9dGhpcy5pbmhlcml0cy5sZW5ndGgscj0wO3I8aTtyKyspaWYobz10aGlzLmluaGVyaXRzW3JdLGguaXNBcnJheShvKSlmb3Iocz1vLmxlbmd0aCxlPTA7ZTxzO2UrKyloLmV4aXN0cyhvW2VdKSYmXCJpbmhlcml0XCI9PT1oLmV2YWx1YXRlKG9bZV0udmlzUHJvcC52aXNpYmxlKSYmb1tlXS5wcmVwYXJlVXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eSh0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUpO2Vsc2UgaC5leGlzdHMobykmJlwiaW5oZXJpdFwiPT09aC5ldmFsdWF0ZShvLnZpc1Byb3AudmlzaWJsZSkmJm8ucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkodGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlKTtoLmV4aXN0cyh0aGlzLmxhYmVsKSYmaC5leGlzdHModGhpcy5sYWJlbC52aXNQcm9wKSYmaC5ldmFsdWF0ZSh0aGlzLmxhYmVsLnZpc1Byb3AudmlzaWJsZSkmJnRoaXMubGFiZWwucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkodGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlKX1yZXR1cm4gdGhpc30sX3NldDpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKHQ9dC50b0xvY2FsZUxvd2VyQ2FzZSgpLHRoaXMudmlzUHJvcC5oYXNPd25Qcm9wZXJ0eSh0KSYmdC5pbmRleE9mKFwiY29sb3JcIik+PTAmJmguaXNTdHJpbmcoZSkmJjk9PT1lLmxlbmd0aCYmXCIjXCI9PT1lLmNoYXJBdCgwKSllPWEucmdiYTJyZ2JvKGUpLHRoaXMudmlzUHJvcFt0XT1lWzBdLHRoaXMudmlzUHJvcFt0LnJlcGxhY2UoXCJjb2xvclwiLFwib3BhY2l0eVwiKV09ZVsxXTtlbHNlIGlmKG51bGw9PT1lfHwhaC5pc09iamVjdChlKXx8aC5leGlzdHMoZS5pZCl8fGguZXhpc3RzKGUubmFtZSkpdGhpcy52aXNQcm9wW3RdPWU7ZWxzZSBmb3IoaSBpbiB0aGlzLnZpc1Byb3BbdF09e30sZSllLmhhc093blByb3BlcnR5KGkpJiYodGhpcy52aXNQcm9wW3RdW2kudG9Mb2NhbGVMb3dlckNhc2UoKV09ZVtpXSl9LHJlc29sdmVTaG9ydGN1dHM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHM9W1widHJhY2VhdHRyaWJ1dGVzXCIsXCJ0cmFjZUF0dHJpYnV0ZXNcIl07Zm9yKGUgaW4gby5zaG9ydGN1dHMpaWYoby5zaG9ydGN1dHMuaGFzT3duUHJvcGVydHkoZSkpe2lmKGguZXhpc3RzKHRbZV0pKWZvcihpPTA7aTxvLnNob3J0Y3V0c1tlXS5sZW5ndGg7aSsrKWguZXhpc3RzKHRbby5zaG9ydGN1dHNbZV1baV1dKXx8KHRbby5zaG9ydGN1dHNbZV1baV1dPXRbZV0pO2ZvcihyPTA7cjxzLmxlbmd0aDtyKyspaC5pc09iamVjdCh0W3Nbcl1dKSYmKHRbc1tyXV09dGhpcy5yZXNvbHZlU2hvcnRjdXRzKHRbc1tyXV0pKX1yZXR1cm4gdH0sc2V0TGFiZWw6ZnVuY3Rpb24odCl7dGhpcy5oYXNMYWJlbHx8dGhpcy5zZXRBdHRyaWJ1dGUoe3dpdGhsYWJlbDohMH0pLHRoaXMuc2V0TGFiZWxUZXh0KHQpfSxzZXRMYWJlbFRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIGguZXhpc3RzKHRoaXMubGFiZWwpJiYodD10LnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKSx0aGlzLmxhYmVsLnNldFRleHQodCkpLHRoaXN9LHNldE5hbWU6ZnVuY3Rpb24odCl7dD10LnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKSxcInNsaWRlclwiIT09dGhpcy5lbFR5cGUmJnRoaXMuc2V0TGFiZWxUZXh0KHQpLHRoaXMuc2V0QXR0cmlidXRlKHtuYW1lOnR9KX0sc2V0UHJvcGVydHk6ZnVuY3Rpb24oKXt0LmRlcHJlY2F0ZWQoXCJzZXRQcm9wZXJ0eSgpXCIsXCJzZXRBdHRyaWJ1dGUoKVwiKSx0aGlzLnNldEF0dHJpYnV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihpKXt2YXIgcixzLG8sbixsLGMsZCx1LHAsZj17fTtmb3Iocj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspYz1hcmd1bWVudHNbcl0saC5pc1N0cmluZyhjKT8odT1jLnNwbGl0KFwiOlwiKSxmW2gudHJpbSh1WzBdKV09aC50cmltKHVbMV0pKTpoLmlzQXJyYXkoYyk/ZltjWzBdXT1jWzFdOnQuZXh0ZW5kKGYsYyk7Zm9yKHIgaW4gZj10aGlzLnJlc29sdmVTaG9ydGN1dHMoZikpaWYoZi5oYXNPd25Qcm9wZXJ0eShyKSl7aWYobj1yLnJlcGxhY2UoL1xccysvZyxcIlwiKS50b0xvd2VyQ2FzZSgpLGw9ZltyXSxoLmlzT2JqZWN0KGwpJiZoLmV4aXN0cyh0aGlzLnZpc1Byb3Bbbl0pKXtpZih0aGlzLnZpc1Byb3Bbbl09aC5tZXJnZSh0aGlzLnZpc1Byb3Bbbl0sbCksdGhpcy50eXBlPT09ZS5PQkpFQ1RfVFlQRV9USUNLUyYmaC5leGlzdHModGhpcy5sYWJlbHMpKWZvcihvPXRoaXMubGFiZWxzLmxlbmd0aCxzPTA7czxvO3MrKyl0aGlzLmxhYmVsc1tzXS5zZXRBdHRyaWJ1dGUobCk7ZWxzZSBpZihoLmV4aXN0cyh0aGlzW25dKSlpZihoLmlzQXJyYXkodGhpc1tuXSkpZm9yKHM9MDtzPHRoaXNbbl0ubGVuZ3RoO3MrKyl0aGlzW25dW3NdLnNldEF0dHJpYnV0ZShsKTtlbHNlIHRoaXNbbl0uc2V0QXR0cmlidXRlKGwpO2NvbnRpbnVlfXN3aXRjaChwPXRoaXMudmlzUHJvcFtuXSxuKXtjYXNlXCJuYW1lXCI6cD10aGlzLm5hbWUsZGVsZXRlIHRoaXMuYm9hcmQuZWxlbWVudHNCeU5hbWVbdGhpcy5uYW1lXSx0aGlzLm5hbWU9bCx0aGlzLmJvYXJkLmVsZW1lbnRzQnlOYW1lW3RoaXMubmFtZV09dGhpczticmVhaztjYXNlXCJuZWVkc3JlZ3VsYXJ1cGRhdGVcIjp0aGlzLm5lZWRzUmVndWxhclVwZGF0ZT0hKFwiZmFsc2VcIj09PWx8fCExPT09bCksdGhpcy5ib2FyZC5yZW5kZXJlci5zZXRCdWZmZXJpbmcodGhpcyx0aGlzLm5lZWRzUmVndWxhclVwZGF0ZT9cImF1dG9cIjpcInN0YXRpY1wiKTticmVhaztjYXNlXCJsYWJlbGNvbG9yXCI6ZD0obD1hLnJnYmEycmdibyhsKSlbMV0sbD1sWzBdLDA9PT1kJiZoLmV4aXN0cyh0aGlzLmxhYmVsKSYmdGhpcy5oYXNMYWJlbCYmdGhpcy5sYWJlbC5oaWRlRWxlbWVudCgpLGguZXhpc3RzKHRoaXMubGFiZWwpJiZ0aGlzLmhhc0xhYmVsJiYodGhpcy5sYWJlbC52aXNQcm9wLnN0cm9rZWNvbG9yPWwsdGhpcy5ib2FyZC5yZW5kZXJlci5zZXRPYmplY3RTdHJva2VDb2xvcih0aGlzLmxhYmVsLGwsZCkpLHRoaXMuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfVEVYVCYmKHRoaXMudmlzUHJvcC5zdHJva2Vjb2xvcj1sLHRoaXMudmlzUHJvcC5zdHJva2VvcGFjaXR5PWQsdGhpcy5ib2FyZC5yZW5kZXJlci5zZXRPYmplY3RTdHJva2VDb2xvcih0aGlzLGwsZCkpO2JyZWFrO2Nhc2VcImluZm9ib3h0ZXh0XCI6aC5pc1N0cmluZyhsKT90aGlzLmluZm9ib3hUZXh0PWw6dGhpcy5pbmZvYm94VGV4dD0hMTticmVhaztjYXNlXCJ2aXNpYmxlXCI6dGhpcy52aXNQcm9wLnZpc2libGU9XCJmYWxzZVwiIT09bCYmKFwidHJ1ZVwiPT09bHx8bCksdGhpcy5zZXREaXNwbGF5UmVuZE5vZGUoaC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudmlzaWJsZSkpLGguZXZhbHVhdGUodGhpcy52aXNQcm9wLnZpc2libGUpJiZoLmV4aXN0cyh0aGlzLnVwZGF0ZVNpemUpJiZ0aGlzLnVwZGF0ZVNpemUoKTticmVhaztjYXNlXCJmYWNlXCI6aC5pc1BvaW50KHRoaXMpJiYodGhpcy52aXNQcm9wLmZhY2U9bCx0aGlzLmJvYXJkLnJlbmRlcmVyLmNoYW5nZVBvaW50U3R5bGUodGhpcykpO2JyZWFrO2Nhc2VcInRyYWNlXCI6XCJmYWxzZVwiPT09bHx8ITE9PT1sPyh0aGlzLmNsZWFyVHJhY2UoKSx0aGlzLnZpc1Byb3AudHJhY2U9ITEpOnRoaXMudmlzUHJvcC50cmFjZT1cInBhdXNlXCIhPT1sO2JyZWFrO2Nhc2VcImdyYWRpZW50XCI6dGhpcy52aXNQcm9wLmdyYWRpZW50PWwsdGhpcy5ib2FyZC5yZW5kZXJlci5zZXRHcmFkaWVudCh0aGlzKTticmVhaztjYXNlXCJncmFkaWVudHNlY29uZGNvbG9yXCI6bD1hLnJnYmEycmdibyhsKSx0aGlzLnZpc1Byb3AuZ3JhZGllbnRzZWNvbmRjb2xvcj1sWzBdLHRoaXMudmlzUHJvcC5ncmFkaWVudHNlY29uZG9wYWNpdHk9bFsxXSx0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZUdyYWRpZW50KHRoaXMpO2JyZWFrO2Nhc2VcImdyYWRpZW50c2Vjb25kb3BhY2l0eVwiOnRoaXMudmlzUHJvcC5ncmFkaWVudHNlY29uZG9wYWNpdHk9bCx0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZUdyYWRpZW50KHRoaXMpO2JyZWFrO2Nhc2VcIndpdGhsYWJlbFwiOnRoaXMudmlzUHJvcC53aXRobGFiZWw9bCxoLmV2YWx1YXRlKGwpPyh0aGlzLmxhYmVsfHx0aGlzLmNyZWF0ZUxhYmVsKCksdGhpcy5sYWJlbC5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6XCJpbmhlcml0XCJ9KSk6dGhpcy5sYWJlbCYmdGhpcy5oYXNMYWJlbCYmdGhpcy5sYWJlbC5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITF9KSx0aGlzLmhhc0xhYmVsPWw7YnJlYWs7Y2FzZVwicmFkaXVzXCI6dGhpcy50eXBlIT09ZS5PQkpFQ1RfVFlQRV9BTkdMRSYmdGhpcy50eXBlIT09ZS5PQkpFQ1RfVFlQRV9TRUNUT1J8fHRoaXMuc2V0UmFkaXVzKGwpO2JyZWFrO2Nhc2VcInJvdGF0ZVwiOih0aGlzLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX1RFWFQmJlwiaW50ZXJuYWxcIj09PWguZXZhbHVhdGUodGhpcy52aXNQcm9wLmRpc3BsYXkpfHx0aGlzLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0lNQUdFKSYmdGhpcy5hZGRSb3RhdGlvbihsKTticmVhaztjYXNlXCJ0aWNrc2Rpc3RhbmNlXCI6dGhpcy50eXBlPT09ZS5PQkpFQ1RfVFlQRV9USUNLUyYmaC5pc051bWJlcihsKSYmKHRoaXMudGlja3NGdW5jdGlvbj10aGlzLm1ha2VUaWNrc0Z1bmN0aW9uKGwpKTticmVhaztjYXNlXCJnZW5lcmF0ZWxhYmVsdmFsdWVcIjp0aGlzLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1RJQ0tTJiZoLmlzRnVuY3Rpb24obCkmJih0aGlzLmdlbmVyYXRlTGFiZWxWYWx1ZT1sKTticmVhaztjYXNlXCJvbnBvbHlnb25cIjp0aGlzLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0dMSURFUiYmKHRoaXMub25Qb2x5Z29uPSEhbCk7YnJlYWs7Y2FzZVwiZGlzYWJsZWRcIjpoLmV4aXN0cyh0aGlzLnJlbmROb2RlVGFnKSYmKHRoaXMucmVuZE5vZGVUYWcuZGlzYWJsZWQ9ISFsKTticmVhaztjYXNlXCJjaGVja2VkXCI6aC5leGlzdHModGhpcy5yZW5kTm9kZVRhZykmJih0aGlzLnJlbmROb2RlQ2hlY2tib3guY2hlY2tlZD0hIWwpO2JyZWFrO2Nhc2VcIm1heGxlbmd0aFwiOmguZXhpc3RzKHRoaXMucmVuZE5vZGVUYWcpJiYodGhpcy5yZW5kTm9kZVRhZy5tYXhsZW5ndGg9ISFsKTticmVhaztjYXNlXCJsYXllclwiOnRoaXMuYm9hcmQucmVuZGVyZXIuc2V0TGF5ZXIodGhpcyxoLmV2YWx1YXRlKGwpKSx0aGlzLl9zZXQobixsKTticmVhaztjYXNlXCJ0YWJpbmRleFwiOmguZXhpc3RzKHRoaXMucmVuZE5vZGUpJiYodGhpcy5yZW5kTm9kZS5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLGwpLHRoaXMuX3NldChuLGwpKTticmVhaztkZWZhdWx0OmguZXhpc3RzKHRoaXMudmlzUHJvcFtuXSkmJighdC5WYWxpZGF0b3Jbbl18fHQuVmFsaWRhdG9yW25dJiZ0LlZhbGlkYXRvcltuXShsKXx8dC5WYWxpZGF0b3Jbbl0mJmguaXNGdW5jdGlvbihsKSYmdC5WYWxpZGF0b3Jbbl0obCgpKSkmJihsPSghbC50b0xvd2VyQ2FzZXx8XCJmYWxzZVwiIT09bC50b0xvd2VyQ2FzZSgpKSYmbCx0aGlzLl9zZXQobixsKSl9dGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJhdHRyaWJ1dGU6XCIrbl0sW3AsbCx0aGlzXSl9cmV0dXJuIHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wiYXR0cmlidXRlXCJdLFtmLHRoaXNdKSxoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5uZWVkc3JlZ3VsYXJ1cGRhdGUpP3RoaXMuYm9hcmQudXBkYXRlKHRoaXMpOnRoaXMuYm9hcmQuZnVsbFVwZGF0ZSgpLHRoaXN9LGdldFByb3BlcnR5OmZ1bmN0aW9uKCl7dC5kZXByZWNhdGVkKFwiZ2V0UHJvcGVydHkoKVwiLFwiZ2V0QXR0cmlidXRlKClcIiksdGhpcy5nZXRQcm9wZXJ0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldEF0dHJpYnV0ZTpmdW5jdGlvbih0KXt2YXIgZTtzd2l0Y2godD10LnRvTG93ZXJDYXNlKCkpe2Nhc2VcIm5lZWRzcmVndWxhcnVwZGF0ZVwiOmU9dGhpcy5uZWVkc1JlZ3VsYXJVcGRhdGU7YnJlYWs7Y2FzZVwibGFiZWxjb2xvclwiOmU9dGhpcy5sYWJlbC52aXNQcm9wLnN0cm9rZWNvbG9yO2JyZWFrO2Nhc2VcImluZm9ib3h0ZXh0XCI6ZT10aGlzLmluZm9ib3hUZXh0O2JyZWFrO2Nhc2VcIndpdGhsYWJlbFwiOmU9dGhpcy5oYXNMYWJlbDticmVhaztkZWZhdWx0OmU9dGhpcy52aXNQcm9wW3RdfXJldHVybiBlfSxzZXREYXNoOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNldEF0dHJpYnV0ZSh7ZGFzaDp0fSksdGhpc30scHJlcGFyZVVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPSEwLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvYXJkLnJlbmRlcmVyLnJlbW92ZSh0aGlzLmJvYXJkLnJlbmRlcmVyLmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpKSx0aGlzLmhhc0xhYmVsJiZ0aGlzLmJvYXJkLnJlbmRlcmVyLnJlbW92ZSh0aGlzLmJvYXJkLnJlbmRlcmVyLmdldEVsZW1lbnRCeUlkKHRoaXMubGFiZWwuaWQpKSx0aGlzfSxnZXRUZXh0QW5jaG9yOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdGhpcy5ib2FyZCl9LGdldExhYmVsQW5jaG9yOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdGhpcy5ib2FyZCl9LHNldEFycm93OmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRoaXMudmlzUHJvcC5maXJzdGFycm93PXQsdGhpcy52aXNQcm9wLmxhc3RhcnJvdz1pLGkmJih0aGlzLnR5cGU9ZS5PQkpFQ1RfVFlQRV9WRUNUT1IsdGhpcy5lbFR5cGU9XCJhcnJvd1wiKSx0aGlzLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSx0aGlzfSxjcmVhdGVHcmFkaWVudDpmdW5jdGlvbigpe3ZhciB0PWguZXZhbHVhdGUodGhpcy52aXNQcm9wLmdyYWRpZW50KTtcImxpbmVhclwiIT09dCYmXCJyYWRpYWxcIiE9PXR8fHRoaXMuYm9hcmQucmVuZGVyZXIuc2V0R3JhZGllbnQodGhpcyl9LGNyZWF0ZUxhYmVsOmZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzO3JldHVybiB0LmVsZW1lbnRzLnRleHQ/KChlPWguZGVlcENvcHkodGhpcy52aXNQcm9wLmxhYmVsLG51bGwpKS5pZD10aGlzLmlkK1wiTGFiZWxcIixlLmlzTGFiZWw9ITAsZS5hbmNob3I9dGhpcyxlLnByaXY9dGhpcy52aXNQcm9wLnByaXYsdGhpcy52aXNQcm9wLndpdGhsYWJlbCYmKHRoaXMubGFiZWw9dC5lbGVtZW50cy50ZXh0KHRoaXMuYm9hcmQsWzAsMCxmdW5jdGlvbigpe3JldHVybiBoLmlzRnVuY3Rpb24oaS5uYW1lKT9pLm5hbWUoKTppLm5hbWV9XSxlKSx0aGlzLmxhYmVsLm5lZWRzVXBkYXRlPSEwLHRoaXMubGFiZWwuZHVtcD0hMSx0aGlzLmxhYmVsLmZ1bGxVcGRhdGUoKSx0aGlzLmhhc0xhYmVsPSEwKSk6dC5kZWJ1ZyhcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgbGFiZWw6IHRleHQgZWxlbWVudCBpcyBub3QgYXZhaWxhYmxlLiBNYWtlIHN1cmUgeW91IGluY2x1ZGUgYmFzZS90ZXh0XCIpLHRoaXN9LGhpZ2hsaWdodDpmdW5jdGlvbih0KXtyZXR1cm4gdD1oLmRlZih0LCExKSwhaC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaGlnaGxpZ2h0KXx8dGhpcy5oaWdobGlnaHRlZCYmIXR8fCh0aGlzLmhpZ2hsaWdodGVkPSEwLHRoaXMuYm9hcmQuaGlnaGxpZ2h0ZWRPYmplY3RzW3RoaXMuaWRdPXRoaXMsdGhpcy5ib2FyZC5yZW5kZXJlci5oaWdobGlnaHQodGhpcykpLHRoaXN9LG5vSGlnaGxpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaGxpZ2h0ZWQmJih0aGlzLmhpZ2hsaWdodGVkPSExLGRlbGV0ZSB0aGlzLmJvYXJkLmhpZ2hsaWdodGVkT2JqZWN0c1t0aGlzLmlkXSx0aGlzLmJvYXJkLnJlbmRlcmVyLm5vSGlnaGxpZ2h0KHRoaXMpKSx0aGlzfSxjbGVhclRyYWNlOmZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQgaW4gdGhpcy50cmFjZXMpdGhpcy50cmFjZXMuaGFzT3duUHJvcGVydHkodCkmJnRoaXMuYm9hcmQucmVuZGVyZXIucmVtb3ZlKHRoaXMudHJhY2VzW3RdKTtyZXR1cm4gdGhpcy5udW1UcmFjZXM9MCx0aGlzfSxjbG9uZVRvQmFja2dyb3VuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxib3VuZHM6ZnVuY3Rpb24oKXtyZXR1cm5bMCwwLDAsMF19LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0ZGZvcm09ci5ub3JtYWxpemUodGhpcy5zdGRmb3JtKSx0aGlzfSx0b0pTT046ZnVuY3Rpb24oKXt2YXIgdCxlLGk9Wyd7XCJuYW1lXCI6Jyx0aGlzLm5hbWVdO2ZvcihlIGluIGkucHVzaCgnLCBcImlkXCI6Jyt0aGlzLmlkKSx0PVtdLHRoaXMudmlzUHJvcCl0aGlzLnZpc1Byb3AuaGFzT3duUHJvcGVydHkoZSkmJmguZXhpc3RzKHRoaXMudmlzUHJvcFtlXSkmJnQucHVzaCgnXCInK2UrJ1wiOicrdGhpcy52aXNQcm9wW2VdKTtyZXR1cm4gaS5wdXNoKCcsIFwidmlzUHJvcFwiOnsnK3QudG9TdHJpbmcoKStcIn1cIiksaS5wdXNoKFwifVwiKSxpLmpvaW4oXCJcIil9LGFkZFJvdGF0aW9uOmZ1bmN0aW9uKHQpe3ZhciBpLHIscyxvLG4sYT10aGlzO3JldHVybih0aGlzLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX1RFWFQmJlwiaW50ZXJuYWxcIj09PWguZXZhbHVhdGUodGhpcy52aXNQcm9wLmRpc3BsYXkpfHx0aGlzLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0lNQUdFKSYmMCE9PXQmJihpPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2Z1bmN0aW9uKCl7cmV0dXJuLWEuWCgpfSxmdW5jdGlvbigpe3JldHVybi1hLlkoKX1dLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSxyPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGEuWCgpfSxmdW5jdGlvbigpe3JldHVybiBhLlkoKX1dLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSxzPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGEuYm9hcmQudW5pdFgvYS5ib2FyZC51bml0WX0sZnVuY3Rpb24oKXtyZXR1cm4gMX1dLHt0eXBlOlwic2NhbGVcIn0pLG89dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbZnVuY3Rpb24oKXtyZXR1cm4gYS5ib2FyZC51bml0WS9hLmJvYXJkLnVuaXRYfSxmdW5jdGlvbigpe3JldHVybiAxfV0se3R5cGU6XCJzY2FsZVwifSksbj10aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtmdW5jdGlvbigpe3JldHVybiBoLmV2YWx1YXRlKHQpKk1hdGguUEkvMTgwfV0se3R5cGU6XCJyb3RhdGVcIn0pLGkuYmluZFRvKHRoaXMpLHMuYmluZFRvKHRoaXMpLG4uYmluZFRvKHRoaXMpLG8uYmluZFRvKHRoaXMpLHIuYmluZFRvKHRoaXMpKSx0aGlzfSxoaWdobGlnaHRTdHJva2VDb2xvcjpmdW5jdGlvbihlKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiaGlnaGxpZ2h0U3Ryb2tlQ29sb3IoKVwiLFwic2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUoe2hpZ2hsaWdodFN0cm9rZUNvbG9yOmV9KSx0aGlzfSxzdHJva2VDb2xvcjpmdW5jdGlvbihlKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwic3Ryb2tlQ29sb3IoKVwiLFwic2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUoe3N0cm9rZUNvbG9yOmV9KSx0aGlzfSxzdHJva2VXaWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwic3Ryb2tlV2lkdGgoKVwiLFwic2V0QXR0cmlidXRlKClcIiksdGhpcy5zZXRBdHRyaWJ1dGUoe3N0cm9rZVdpZHRoOmV9KSx0aGlzfSxmaWxsQ29sb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcImZpbGxDb2xvcigpXCIsXCJzZXRBdHRyaWJ1dGUoKVwiKSx0aGlzLnNldEF0dHJpYnV0ZSh7ZmlsbENvbG9yOmV9KSx0aGlzfSxoaWdobGlnaHRGaWxsQ29sb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcImhpZ2hsaWdodEZpbGxDb2xvcigpXCIsXCJzZXRBdHRyaWJ1dGUoKVwiKSx0aGlzLnNldEF0dHJpYnV0ZSh7aGlnaGxpZ2h0RmlsbENvbG9yOmV9KSx0aGlzfSxsYWJlbENvbG9yOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJsYWJlbENvbG9yKClcIixcInNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlKHtsYWJlbENvbG9yOmV9KSx0aGlzfSxkYXNoOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJkYXNoKClcIixcInNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlKHtkYXNoOmV9KSx0aGlzfSx2aXNpYmxlOmZ1bmN0aW9uKGUpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJ2aXNpYmxlKClcIixcInNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlKHt2aXNpYmxlOmV9KSx0aGlzfSxzaGFkb3c6ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZGVwcmVjYXRlZChcInNoYWRvdygpXCIsXCJzZXRBdHRyaWJ1dGUoKVwiKSx0aGlzLnNldEF0dHJpYnV0ZSh7c2hhZG93OmV9KSx0aGlzfSxnZXRUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxUeXBlfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGguaXNBcnJheSh0aGlzLnBhcmVudHMpP3RoaXMucGFyZW50czpbXX0sc25hcFRvR3JpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxzbmFwVG9Qb2ludHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZ2V0QXR0cmlidXRlczpmdW5jdGlvbigpe3ZhciB0LGU9aC5kZWVwQ29weSh0aGlzLnZpc1Byb3ApLGk9W10scj1pLmxlbmd0aDtmb3IoZS5pZD10aGlzLmlkLGUubmFtZT10aGlzLm5hbWUsdD0wO3Q8cjt0KyspZGVsZXRlIGVbaVt0XV07cmV0dXJuIGV9LGhhc1BvaW50OmZ1bmN0aW9uKHQsZSl7cmV0dXJuITF9LGFkZFRpY2tzOmZ1bmN0aW9uKHQpe3JldHVyblwiXCIhPT10LmlkJiZoLmV4aXN0cyh0LmlkKXx8KHQuaWQ9dGhpcy5pZCtcIl90aWNrc19cIisodGhpcy50aWNrcy5sZW5ndGgrMSkpLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd1RpY2tzKHQpLHRoaXMudGlja3MucHVzaCh0KSx0LmlkfSxyZW1vdmVBbGxUaWNrczpmdW5jdGlvbigpe3ZhciB0O2lmKGguZXhpc3RzKHRoaXMudGlja3MpKXtmb3IodD10aGlzLnRpY2tzLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMucmVtb3ZlVGlja3ModGhpcy50aWNrc1t0XSk7dGhpcy50aWNrcz1bXSx0aGlzLmJvYXJkLnVwZGF0ZSgpfX0scmVtb3ZlVGlja3M6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZihoLmV4aXN0cyh0aGlzLmRlZmF1bHRUaWNrcykmJnRoaXMuZGVmYXVsdFRpY2tzPT09dCYmKHRoaXMuZGVmYXVsdFRpY2tzPW51bGwpLGguZXhpc3RzKHRoaXMudGlja3MpKWZvcihlPXRoaXMudGlja3MubGVuZ3RoLTE7ZT49MDtlLS0paWYodGhpcy50aWNrc1tlXT09PXQpe2lmKHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMudGlja3NbZV0pLHRoaXMudGlja3NbZV0udGlja3MpZm9yKGk9MDtpPHRoaXMudGlja3NbZV0udGlja3MubGVuZ3RoO2krKyloLmV4aXN0cyh0aGlzLnRpY2tzW2VdLmxhYmVsc1tpXSkmJnRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMudGlja3NbZV0ubGFiZWxzW2ldKTtkZWxldGUgdGhpcy50aWNrc1tlXTticmVha319LGdldFNuYXBTaXplczpmdW5jdGlvbigpe3ZhciB0LGUsaTtyZXR1cm4gdD1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwc2l6ZXgpLGU9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc25hcHNpemV5KSx0PD0wJiZ0aGlzLmJvYXJkLmRlZmF1bHRBeGVzJiZ0aGlzLmJvYXJkLmRlZmF1bHRBeGVzLnguZGVmYXVsdFRpY2tzJiYodD0oaT10aGlzLmJvYXJkLmRlZmF1bHRBeGVzLnguZGVmYXVsdFRpY2tzKS50aWNrc0RlbHRhKihoLmV2YWx1YXRlKGkudmlzUHJvcC5taW5vcnRpY2tzKSsxKSksZTw9MCYmdGhpcy5ib2FyZC5kZWZhdWx0QXhlcyYmdGhpcy5ib2FyZC5kZWZhdWx0QXhlcy55LmRlZmF1bHRUaWNrcyYmKGU9KGk9dGhpcy5ib2FyZC5kZWZhdWx0QXhlcy55LmRlZmF1bHRUaWNrcykudGlja3NEZWx0YSooaC5ldmFsdWF0ZShpLnZpc1Byb3AubWlub3J0aWNrcykrMSkpLFt0LGVdfSxoYW5kbGVTbmFwVG9HcmlkOmZ1bmN0aW9uKGkscil7dmFyIHMsbyxuLGEsbCxjLGQsdSxwLGY9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYXR0cmFjdHRvZ3JpZCksbT1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hdHRyYWN0b3J1bml0KSxnPWguZXZhbHVhdGUodGhpcy52aXNQcm9wLmF0dHJhY3RvcmRpc3RhbmNlKTtyZXR1cm4haC5leGlzdHModGhpcy5jb29yZHMpfHxoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5maXhlZCl8fChoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwdG9ncmlkKXx8Znx8ITA9PT1pKSYmKHM9dGhpcy5jb29yZHMudXNyQ29vcmRzWzFdLG89dGhpcy5jb29yZHMudXNyQ29vcmRzWzJdLHU9KGQ9dGhpcy5nZXRTbmFwU2l6ZXMoKSlbMF0scD1kWzFdLHU+MCYmcD4wJiYoYz10aGlzLmJvYXJkLmdldEJvdW5kaW5nQm94KCksbj1NYXRoLnJvdW5kKHMvdSkqdSxhPU1hdGgucm91bmQoby9wKSpwLGw9bmV3IHQuQ29vcmRzKGUuQ09PUkRTX0JZX1VTRVIsW24sYV0sdGhpcy5ib2FyZCksKCFmfHxsLmRpc3RhbmNlKFwic2NyZWVuXCI9PT1tP2UuQ09PUkRTX0JZX1NDUkVFTjplLkNPT1JEU19CWV9VU0VSLHRoaXMuY29vcmRzKTxnKSYmKHM9bixvPWEscnx8KHM8Y1swXT9zKz11OnM+Y1syXSYmKHMtPXUpLG88Y1szXT9vKz1wOm8+Y1sxXSYmKG8tPXApKSx0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLFtzLG9dKSkpKSx0aGlzfSxnZXRCb3VuZGluZ0JveDpmdW5jdGlvbigpe3ZhciB0LGkscixzLG8sbj1bMS8wLDEvMCwtMS8wLC0xLzBdO2lmKHRoaXMudHlwZT09PWUuT0JKRUNUX1RZUEVfUE9MWUdPTil7aWYoKGk9dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSk8PTApcmV0dXJuIG47Zm9yKHQ9MDt0PGk7dCsrKXI9dGhpcy52ZXJ0aWNlc1t0XS5YKCksblswXT1yPG5bMF0/cjpuWzBdLG5bMl09cj5uWzJdP3I6blsyXSxyPXRoaXMudmVydGljZXNbdF0uWSgpLG5bMV09cjxuWzFdP3I6blsxXSxuWzNdPXI+blszXT9yOm5bM119ZWxzZSBpZih0aGlzLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NJUkNMRSlzPXRoaXMuY2VudGVyLlgoKSxvPXRoaXMuY2VudGVyLlkoKSxuPVtzLXRoaXMucmFkaXVzLG8rdGhpcy5yYWRpdXMscyt0aGlzLnJhZGl1cyxvLXRoaXMucmFkaXVzXTtlbHNlIGlmKHRoaXMuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUpe2lmKDA9PT0oaT10aGlzLnZlcnRpY2VzLmxlbmd0aCkpcmV0dXJuIG47Zm9yKHQ9MDt0PGk7dCsrKXI9dGhpcy5wb2ludHNbdF0uY29vcmRzLnVzckNvb3Jkc1sxXSxuWzBdPXI8blswXT9yOm5bMF0sblsyXT1yPm5bMl0/cjpuWzJdLHI9dGhpcy5wb2ludHNbdF0uY29vcmRzLnVzckNvb3Jkc1sxXSxuWzFdPXI8blsxXT9yOm5bMV0sblszXT1yPm5bM10/cjpuWzNdfXJldHVybiBufSxhZGRFdmVudDp0LnNob3J0Y3V0KHQuR2VvbWV0cnlFbGVtZW50LnByb3RvdHlwZSxcIm9uXCIpLHJlbW92ZUV2ZW50OnQuc2hvcnRjdXQodC5HZW9tZXRyeUVsZW1lbnQucHJvdG90eXBlLFwib2ZmXCIpLF9fZXZ0X19vdmVyOmZ1bmN0aW9uKHQpe30sX19ldnRfX21vdXNlb3ZlcjpmdW5jdGlvbih0KXt9LF9fZXZ0X19vdXQ6ZnVuY3Rpb24odCl7fSxfX2V2dF9fbW91c2VvdXQ6ZnVuY3Rpb24odCl7fSxfX2V2dF9fbW92ZTpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3VzZW1vdmU6ZnVuY3Rpb24odCl7fSxfX2V2dF9fZHJhZzpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3VzZWRyYWc6ZnVuY3Rpb24odCl7fSxfX2V2dF9fcGVuZHJhZzpmdW5jdGlvbih0KXt9LF9fZXZ0X190b3VjaGRyYWc6ZnVuY3Rpb24odCl7fSxfX2V2dF9fZG93bjpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3VzZWRvd246ZnVuY3Rpb24odCl7fSxfX2V2dF9fcGVuZG93bjpmdW5jdGlvbih0KXt9LF9fZXZ0X190b3VjaGRvd246ZnVuY3Rpb24odCl7fSxfX2V2dF9fdXA6ZnVuY3Rpb24odCl7fSxfX2V2dF9fbW91c2V1cDpmdW5jdGlvbih0KXt9LF9fZXZ0X19wZW51cDpmdW5jdGlvbih0KXt9LF9fZXZ0X190b3VjaHVwOmZ1bmN0aW9uKHQpe30sX19ldnRfX2F0dHJpYnV0ZTpmdW5jdGlvbih0LGUpe30sX19ldnRfX2F0dHJpYnV0ZV86ZnVuY3Rpb24odCxlLGkpe30sX19ldnQ6ZnVuY3Rpb24oKXt9fSksdC5HZW9tZXRyeUVsZW1lbnR9KSksZGVmaW5lKFwiYmFzZS9jb29yZHNlbGVtZW50XCIsW1wianhnXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvbnVtZXJpY3NcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwiYmFzZS9jb29yZHNcIixcImJhc2UvY29uc3RhbnRzXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkNvb3Jkc0VsZW1lbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaTtmb3IoYS5leGlzdHModCl8fCh0PVsxLDAsMF0pLGk9MDtpPHQubGVuZ3RoOysraSl0W2ldPXBhcnNlRmxvYXQodFtpXSk7dGhpcy5jb29yZHM9bmV3IG8obi5DT09SRFNfQllfVVNFUix0LHRoaXMuYm9hcmQpLHRoaXMuaW5pdGlhbENvb3Jkcz1uZXcgbyhuLkNPT1JEU19CWV9VU0VSLHQsdGhpcy5ib2FyZCksdGhpcy5wb3NpdGlvbj1udWxsLHRoaXMuaXNDb25zdHJhaW5lZD0hMSx0aGlzLm9uUG9seWdvbj0hMSx0aGlzLnNsaWRlT2JqZWN0PW51bGwsdGhpcy5zbGlkZU9iamVjdHM9W10sdGhpcy5uZWVkc1VwZGF0ZUZyb21QYXJlbnQ9ITAsdGhpcy5ncm91cHM9W10sdGhpcy5YamM9bnVsbCx0aGlzLllqYz1udWxsLHRoaXMubWV0aG9kTWFwPWEuZGVlcENvcHkodGhpcy5tZXRob2RNYXAse21vdmU6XCJtb3ZlVG9cIixtb3ZlVG86XCJtb3ZlVG9cIixtb3ZlQWxvbmc6XCJtb3ZlQWxvbmdcIix2aXNpdDpcInZpc2l0XCIsZ2xpZGU6XCJtYWtlR2xpZGVyXCIsbWFrZUdsaWRlcjpcIm1ha2VHbGlkZXJcIixpbnRlcnNlY3Q6XCJtYWtlSW50ZXJzZWN0aW9uXCIsbWFrZUludGVyc2VjdGlvbjpcIm1ha2VJbnRlcnNlY3Rpb25cIixYOlwiWFwiLFk6XCJZXCIsZnJlZTpcImZyZWVcIixzZXRQb3NpdGlvbjpcInNldEdsaWRlclBvc2l0aW9uXCIsc2V0R2xpZGVyUG9zaXRpb246XCJzZXRHbGlkZXJQb3NpdGlvblwiLGFkZENvbnN0cmFpbnQ6XCJhZGRDb25zdHJhaW50XCIsZGlzdDpcIkRpc3RcIixvblBvbHlnb246XCJvblBvbHlnb25cIn0pLGEuZXhpc3RzKHRoaXMuZWxlbWVudCkmJnRoaXMuYWRkQW5jaG9yKHQsZSksdGhpcy5pc0RyYWdnYWJsZT0hMH0sdC5leHRlbmQodC5Db29yZHNFbGVtZW50LnByb3RvdHlwZSx7dXBkYXRlQ29uc3RyYWludDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSx1cGRhdGVDb29yZHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGU/KGEuZXhpc3RzKHQpfHwodD0hMSksYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZnJvemVuKXx8dGhpcy51cGRhdGVDb25zdHJhaW50KCksdGhpcy50eXBlPT09bi5PQkpFQ1RfVFlQRV9HTElERVImJih0aGlzLmlzQ29uc3RyYWluZWQmJih0PSExKSx0P3RoaXMudXBkYXRlR2xpZGVyRnJvbVBhcmVudCgpOnRoaXMudXBkYXRlR2xpZGVyKCkpLHRoaXMudXBkYXRlVHJhbnNmb3JtKHQpLHRoaXMpOnRoaXN9LHVwZGF0ZUdsaWRlcjpmdW5jdGlvbigpe3ZhciB0LHIscyxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHg9MipNYXRoLlBJLFM9ITEsTz10aGlzLnNsaWRlT2JqZWN0LHc9W107aWYodGhpcy5uZWVkc1VwZGF0ZUZyb21QYXJlbnQ9ITEsTy5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DSVJDTEUpYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaXNnZW9uZXh0KSYmKHg9MSksdj1pLnByb2plY3RQb2ludFRvQ2lyY2xlKHRoaXMsTyx0aGlzLmJvYXJkKSx5PWkucmFkKFtPLmNlbnRlci5YKCkrMSxPLmNlbnRlci5ZKCldLE8uY2VudGVyLHRoaXMpL3g7ZWxzZSBpZihPLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkUpe2lmKHRoaXMub25Qb2x5Z29uKXtpZihyPU8ucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsaD0ocz1PLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzKVt0PTFdLXJbdF0sTWF0aC5hYnMoaCk8ZS5lcHMmJihoPXNbdD0yXS1yW3RdKSxkPShpLnByb2plY3RQb2ludFRvTGluZSh0aGlzLE8sdGhpcy5ib2FyZCkudXNyQ29vcmRzW3RdLXJbdF0pL2gsYz1PLnBhcmVudFBvbHlnb24sZDwwKXtmb3IodD0wO3Q8Yy5ib3JkZXJzLmxlbmd0aDt0KyspaWYoTz09PWMuYm9yZGVyc1t0XSl7Tz1jLmJvcmRlcnNbKHQtMStjLmJvcmRlcnMubGVuZ3RoKSVjLmJvcmRlcnMubGVuZ3RoXTticmVha319ZWxzZSBpZihkPjEpZm9yKHQ9MDt0PGMuYm9yZGVycy5sZW5ndGg7dCsrKWlmKE89PT1jLmJvcmRlcnNbdF0pe089Yy5ib3JkZXJzWyh0KzErYy5ib3JkZXJzLmxlbmd0aCklYy5ib3JkZXJzLmxlbmd0aF07YnJlYWt9Ty5pZCE9PXRoaXMuc2xpZGVPYmplY3QuaWQmJih0aGlzLnNsaWRlT2JqZWN0PU8pfXI9Ty5wb2ludDEuY29vcmRzLHM9Ty5wb2ludDIuY29vcmRzLChoPXIuZGlzdGFuY2Uobi5DT09SRFNfQllfVVNFUixzKSk8ZS5lcHM/KHY9cixTPSEwLHk9MCk6KHY9aS5wcm9qZWN0UG9pbnRUb0xpbmUodGhpcyxPLHRoaXMuYm9hcmQpLHI9ci51c3JDb29yZHMuc2xpY2UoMCkscz1zLnVzckNvb3Jkcy5zbGljZSgwKSxNYXRoLmFicyhzWzBdKTxlLmVwcz8oaD1zW3Q9MV0sTWF0aC5hYnMoaCk8ZS5lcHMmJihoPXNbdD0yXSkseT0oKGg9KHYudXNyQ29vcmRzW3RdLXJbdF0pL2gpPj0wPzE6LTEpKihoPU1hdGguYWJzKGgpKS8oaCsxKSk6TWF0aC5hYnMoclswXSk8ZS5lcHM/KGg9clt0PTFdLE1hdGguYWJzKGgpPGUuZXBzJiYoaD1yW3Q9Ml0pLHk9KGg9KHYudXNyQ29vcmRzW3RdLXNbdF0pL2gpPDA/KDEtMipoKS8oMS1oKToxLyhoKzEpKTooaD1zW3Q9MV0tclt0XSxNYXRoLmFicyhoKTxlLmVwcyYmKGg9c1t0PTJdLXJbdF0pLHk9KHYudXNyQ29vcmRzW3RdLXJbdF0pL2gpKSxDPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXB3aWR0aCksYS5ldmFsdWF0ZShDKT4wJiZNYXRoLmFicyh0aGlzLl9zbWF4LXRoaXMuX3NtaW4pPj1lLmVwcyYmKGw9KHk9TWF0aC5tYXgoTWF0aC5taW4oeSwxKSwwKSkqKHRoaXMuX3NtYXgtdGhpcy5fc21pbikrdGhpcy5fc21pbix5PSgobD1NYXRoLnJvdW5kKGwvQykqQyktdGhpcy5fc21pbikvKHRoaXMuX3NtYXgtdGhpcy5fc21pbiksdGhpcy51cGRhdGUoITApKSxyPU8ucG9pbnQxLmNvb3JkcywhYS5ldmFsdWF0ZShPLnZpc1Byb3Auc3RyYWlnaHRmaXJzdCkmJk1hdGguYWJzKHIudXNyQ29vcmRzWzBdKT5lLmVwcyYmeTwwJiYodj1yLFM9ITAseT0wKSxzPU8ucG9pbnQyLmNvb3JkcywhYS5ldmFsdWF0ZShPLnZpc1Byb3Auc3RyYWlnaHRsYXN0KSYmTWF0aC5hYnMocy51c3JDb29yZHNbMF0pPmUuZXBzJiZ5PjEmJih2PXMsUz0hMCx5PTEpfWVsc2UgaWYoTy50eXBlPT09bi5PQkpFQ1RfVFlQRV9UVVJUTEUpdGhpcy51cGRhdGVDb25zdHJhaW50KCksdj0oXz1pLnByb2plY3RQb2ludFRvVHVydGxlKHRoaXMsTyx0aGlzLmJvYXJkKSlbMF0seT1fWzFdO2Vsc2UgaWYoTy5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DVVJWRSlpZihPLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0FSQ3x8Ty50eXBlPT09bi5PQkpFQ1RfVFlQRV9TRUNUT1Ipdj1pLnByb2plY3RQb2ludFRvQ2lyY2xlKHRoaXMsTyx0aGlzLmJvYXJkKSxmPWkucmFkKE8ucmFkaXVzcG9pbnQsTy5jZW50ZXIsdGhpcyksdT0wLHA9aS5yYWQoTy5yYWRpdXNwb2ludCxPLmNlbnRlcixPLmFuZ2xlcG9pbnQpLHk9ZiwoXCJtaW5vclwiPT09KEM9YS5ldmFsdWF0ZShPLnZpc1Byb3Auc2VsZWN0aW9uKSkmJnA+TWF0aC5QSXx8XCJtYWpvclwiPT09QyYmcDxNYXRoLlBJKSYmKHU9cCxwPTIqTWF0aC5QSSksKGY8dXx8Zj5wKSYmKHk9cCwoZjx1JiZmPi41KnV8fGY+cCYmZj4uNSpwK01hdGguUEkpJiYoeT11KSx0aGlzLm5lZWRzVXBkYXRlRnJvbVBhcmVudD0hMCx0aGlzLnVwZGF0ZUdsaWRlckZyb21QYXJlbnQoKSkseD1wLXUsdGhpcy52aXNQcm9wLmlzZ2VvbmV4dCYmKHg9MSksTWF0aC5hYnMoeCk+ZS5lcHMmJih5Lz14KTtlbHNlIGlmKHRoaXMudXBkYXRlQ29uc3RyYWludCgpLE8udHJhbnNmb3JtYXRpb25zLmxlbmd0aD4wKXtmb3IoRT0hMSwoXz1PLmdldFRyYW5zZm9ybWF0aW9uU291cmNlKCkpWzBdJiYoRT1fWzBdLHcucHVzaChPKSx3LnB1c2goX1sxXSkpO19bMF0mJmEuZXhpc3RzKF9bMV0uX3RyYW5zZm9ybWF0aW9uU291cmNlKTspXz1fWzFdLmdldFRyYW5zZm9ybWF0aW9uU291cmNlKCksdy5wdXNoKF9bMV0pO2lmKFA9dGhpcy5jb29yZHMudXNyQ29vcmRzLEUpe2Zvcih0PTA7dDx3Lmxlbmd0aDt0Kyspd1t0XS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxiPWUuaW52ZXJzZSh3W3RdLnRyYW5zZm9ybU1hdCksUD1lLm1hdFZlY011bHQoYixQKTtmb3IobT1uZXcgbyhuLkNPT1JEU19CWV9VU0VSLFAsdGhpcy5ib2FyZCkudXNyQ29vcmRzLFA9KGc9aS5wcm9qZWN0Q29vcmRzVG9DdXJ2ZShtWzFdLG1bMl0sdGhpcy5wb3NpdGlvbnx8MCx3W3cubGVuZ3RoLTFdLHRoaXMuYm9hcmQpKVswXS51c3JDb29yZHMsdD13Lmxlbmd0aC0yO3Q+PTA7dC0tKVA9ZS5tYXRWZWNNdWx0KHdbdF0udHJhbnNmb3JtTWF0LFApO2dbMF09bmV3IG8obi5DT09SRFNfQllfVVNFUixQLHRoaXMuYm9hcmQpfWVsc2UgTy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxiPWUuaW52ZXJzZShPLnRyYW5zZm9ybU1hdCksUD1lLm1hdFZlY011bHQoYixQKSxtPW5ldyBvKG4uQ09PUkRTX0JZX1VTRVIsUCx0aGlzLmJvYXJkKS51c3JDb29yZHMsZz1pLnByb2plY3RDb29yZHNUb0N1cnZlKG1bMV0sbVsyXSx0aGlzLnBvc2l0aW9ufHwwLE8sdGhpcy5ib2FyZCk7dj1nWzBdLHk9Z1sxXX1lbHNlIHY9KF89aS5wcm9qZWN0UG9pbnRUb0N1cnZlKHRoaXMsTyx0aGlzLmJvYXJkKSlbMF0seT1fWzFdO2Vsc2UgYS5pc1BvaW50KE8pJiYodj1pLnByb2plY3RQb2ludFRvUG9pbnQodGhpcyxPLHRoaXMuYm9hcmQpLHk9dGhpcy5wb3NpdGlvbik7dGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfVVNFUix2LnVzckNvb3JkcyxTKSx0aGlzLnBvc2l0aW9uPXl9LHVwZGF0ZUdsaWRlckZyb21QYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgdCxyLHMsaCxsLGMsZCx1LHAsZixtLGcsYj10aGlzLnNsaWRlT2JqZWN0LHY9W10seT0yKk1hdGguUEk7aWYodGhpcy5uZWVkc1VwZGF0ZUZyb21QYXJlbnQpe2lmKGIuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFKXM9Yi5SYWRpdXMoKSxhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pc2dlb25leHQpJiYoeT0xKSxsPVtiLmNlbnRlci5YKCkrcypNYXRoLmNvcyh0aGlzLnBvc2l0aW9uKnkpLGIuY2VudGVyLlkoKStzKk1hdGguc2luKHRoaXMucG9zaXRpb24qeSldO2Vsc2UgaWYoYi5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19MSU5FKXQ9Yi5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxyPWIucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMsMD09PXRbMF0mJjA9PT10WzFdJiYwPT09dFsyXXx8MD09PXJbMF0mJjA9PT1yWzFdJiYwPT09clsyXT9sPVswLDAsMF06TWF0aC5hYnMoclswXSk8ZS5lcHM/KGg9TWF0aC5taW4oTWF0aC5hYnModGhpcy5wb3NpdGlvbiksMS1lLmVwcyksaC89MS1oLHRoaXMucG9zaXRpb248MCYmKGg9LWgpLGw9W3RbMF0raCpyWzBdLHRbMV0raCpyWzFdLHRbMl0raCpyWzJdXSk6TWF0aC5hYnModFswXSk8ZS5lcHM/KGg9TWF0aC5tYXgodGhpcy5wb3NpdGlvbixlLmVwcyksaD0oaD1NYXRoLm1pbihoLDItZS5lcHMpKT4xPyhoLTEpLyhoLTIpOigxLWgpL2gsbD1bclswXStoKnRbMF0sclsxXStoKnRbMV0sclsyXStoKnRbMl1dKTooaD10aGlzLnBvc2l0aW9uLGw9W3RbMF0raCooclswXS10WzBdKSx0WzFdK2gqKHJbMV0tdFsxXSksdFsyXStoKihyWzJdLXRbMl0pXSk7ZWxzZSBpZihiLnR5cGU9PT1uLk9CSkVDVF9UWVBFX1RVUlRMRSl0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9VU0VSLFtiLloodGhpcy5wb3NpdGlvbiksYi5YKHRoaXMucG9zaXRpb24pLGIuWSh0aGlzLnBvc2l0aW9uKV0pLHRoaXMudXBkYXRlQ29uc3RyYWludCgpLGw9aS5wcm9qZWN0UG9pbnRUb1R1cnRsZSh0aGlzLGIsdGhpcy5ib2FyZClbMF0udXNyQ29vcmRzO2Vsc2UgaWYoYi5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DVVJWRSl7Zm9yKHU9ITEsKGM9Yi5nZXRUcmFuc2Zvcm1hdGlvblNvdXJjZSgpKVswXSYmKHU9Y1swXSx2LnB1c2goYiksdi5wdXNoKGNbMV0pKTtjWzBdJiZhLmV4aXN0cyhjWzFdLl90cmFuc2Zvcm1hdGlvblNvdXJjZSk7KWM9Y1sxXS5nZXRUcmFuc2Zvcm1hdGlvblNvdXJjZSgpLHYucHVzaChjWzFdKTtpZih1P3RoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsW3Zbdi5sZW5ndGgtMV0uWih0aGlzLnBvc2l0aW9uKSx2W3YubGVuZ3RoLTFdLlgodGhpcy5wb3NpdGlvbiksdlt2Lmxlbmd0aC0xXS5ZKHRoaXMucG9zaXRpb24pXSk6dGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfVVNFUixbYi5aKHRoaXMucG9zaXRpb24pLGIuWCh0aGlzLnBvc2l0aW9uKSxiLlkodGhpcy5wb3NpdGlvbildKSxiLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0FSQ3x8Yi50eXBlPT09bi5PQkpFQ1RfVFlQRV9TRUNUT1IpcD1pLnJhZChbYi5jZW50ZXIuWCgpKzEsYi5jZW50ZXIuWSgpXSxiLmNlbnRlcixiLnJhZGl1c3BvaW50KSxmPTAsZz1pLnJhZChiLnJhZGl1c3BvaW50LGIuY2VudGVyLGIuYW5nbGVwb2ludCksKFwibWlub3JcIj09PWIudmlzUHJvcC5zZWxlY3Rpb24mJmc+TWF0aC5QSXx8XCJtYWpvclwiPT09Yi52aXNQcm9wLnNlbGVjdGlvbiYmZzxNYXRoLlBJKSYmKGY9ZyxnPTIqTWF0aC5QSSkseT1nLWYsYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaXNnZW9uZXh0KSYmKHk9MSksKChtPXRoaXMucG9zaXRpb24qeSk8Znx8bT5nKSYmKCgobT1nKTxmJiZtPi41KmZ8fG0+ZyYmbT4uNSpnK01hdGguUEkpJiYobT1mKSx0aGlzLnBvc2l0aW9uPW0sTWF0aC5hYnMoeSk+ZS5lcHMmJih0aGlzLnBvc2l0aW9uLz15KSkscz1iLlJhZGl1cygpLGw9W2IuY2VudGVyLlgoKStzKk1hdGguY29zKHRoaXMucG9zaXRpb24qeStwKSxiLmNlbnRlci5ZKCkrcypNYXRoLnNpbih0aGlzLnBvc2l0aW9uKnkrcCldO2Vsc2UgaWYodGhpcy51cGRhdGVDb25zdHJhaW50KCksdSlmb3IobD1pLnByb2plY3RQb2ludFRvQ3VydmUodGhpcyx2W3YubGVuZ3RoLTFdLHRoaXMuYm9hcmQpWzBdLnVzckNvb3JkcyxkPXYubGVuZ3RoLTI7ZD49MDtkLS0pbD1uZXcgbyhuLkNPT1JEU19CWV9VU0VSLGUubWF0VmVjTXVsdCh2W2RdLnRyYW5zZm9ybU1hdCxsKSx0aGlzLmJvYXJkKS51c3JDb29yZHM7ZWxzZSBsPWkucHJvamVjdFBvaW50VG9DdXJ2ZSh0aGlzLGIsdGhpcy5ib2FyZClbMF0udXNyQ29vcmRzfWVsc2UgYS5pc1BvaW50KGIpJiYobD1pLnByb2plY3RQb2ludFRvUG9pbnQodGhpcyxiLHRoaXMuYm9hcmQpLnVzckNvb3Jkcyk7dGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfVVNFUixsLCExKX1lbHNlIHRoaXMubmVlZHNVcGRhdGVGcm9tUGFyZW50PSEwfSx1cGRhdGVSZW5kZXJlckdlbmVyaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGU/KHRoaXMudmlzUHJvcENhbGMudmlzaWJsZSYmKHRoaXMuaXNSZWFsPSFpc05hTih0aGlzLmNvb3Jkcy51c3JDb29yZHNbMV0rdGhpcy5jb29yZHMudXNyQ29vcmRzWzJdKSx0aGlzLmlzUmVhbD1NYXRoLmFicyh0aGlzLmNvb3Jkcy51c3JDb29yZHNbMF0pPmUuZXBzJiZ0aGlzLmlzUmVhbCx0aGlzLmlzUmVhbHx8dGhpcy51cGRhdGVWaXNpYmlsaXR5KCExKSksdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmJvYXJkLnJlbmRlcmVyW3RdKHRoaXMpLHRoaXMuaGFzTGFiZWwmJnRoaXMudmlzUHJvcENhbGMudmlzaWJsZSYmdGhpcy5sYWJlbCYmdGhpcy5sYWJlbC52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmlzUmVhbCYmKHRoaXMubGFiZWwudXBkYXRlKCksdGhpcy5ib2FyZC5yZW5kZXJlci51cGRhdGVUZXh0KHRoaXMubGFiZWwpKSx0aGlzLnNldERpc3BsYXlSZW5kTm9kZSgpLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcyk6dGhpc30sWDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkcy51c3JDb29yZHNbMV19LFk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHMudXNyQ29vcmRzWzJdfSxaOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnVzckNvb3Jkc1swXX0sWEV2YWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHMudXNyQ29vcmRzWzFdfSxZRXZhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkcy51c3JDb29yZHNbMl19LFpFdmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnVzckNvb3Jkc1swXX0sRGlzdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pc1JlYWwmJnQuaXNSZWFsP3RoaXMuY29vcmRzLmRpc3RhbmNlKG4uQ09PUkRTX0JZX1VTRVIsdC5jb29yZHMpOk5hTn0sc25hcFRvR3JpZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5oYW5kbGVTbmFwVG9HcmlkKHQpfSxoYW5kbGVTbmFwVG9Qb2ludHM6ZnVuY3Rpb24odCl7dmFyIGUscixzLG8saCxsLGMsZCx1PTAscD0xLzAsZj1udWxsLG09YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaWdub3JlZHNuYXB0b3BvaW50cyksZz0hMTtpZihvPXRoaXMuYm9hcmQub2JqZWN0c0xpc3QubGVuZ3RoLG0mJihjPW0ubGVuZ3RoKSxhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwdG9wb2ludHMpfHx0KXtmb3IoaD1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hdHRyYWN0b3J1bml0KSxsPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmF0dHJhY3RvcmRpc3RhbmNlKSxlPTA7ZTxvO2UrKyl7aWYocj10aGlzLmJvYXJkLm9iamVjdHNMaXN0W2VdLG0pe2ZvcihnPSExLGQ9MDtkPGM7ZCsrKWlmKHI9PT10aGlzLmJvYXJkLnNlbGVjdChtW2RdKSl7Zz0hMDticmVha31pZihnKWNvbnRpbnVlfWEuaXNQb2ludChyKSYmciE9PXRoaXMmJnIudmlzUHJvcENhbGMudmlzaWJsZSYmKHM9aS5wcm9qZWN0UG9pbnRUb1BvaW50KHRoaXMscix0aGlzLmJvYXJkKSwodT1cInNjcmVlblwiPT09aD9zLmRpc3RhbmNlKG4uQ09PUkRTX0JZX1NDUkVFTix0aGlzLmNvb3Jkcyk6cy5kaXN0YW5jZShuLkNPT1JEU19CWV9VU0VSLHRoaXMuY29vcmRzKSk8bCYmdTxwJiYocD11LGY9cykpfW51bGwhPT1mJiZ0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9VU0VSLGYudXNyQ29vcmRzKX1yZXR1cm4gdGhpc30sc25hcFRvUG9pbnRzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhhbmRsZVNuYXBUb1BvaW50cyh0KX0saGFuZGxlQXR0cmFjdG9yczpmdW5jdGlvbigpe3ZhciB0LGUscixzLGg9MCxsPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmF0dHJhY3RvcnVuaXQpLGM9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYXR0cmFjdG9yZGlzdGFuY2UpLGQ9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc25hdGNoZGlzdGFuY2UpLHU9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYXR0cmFjdG9ycykscD11Lmxlbmd0aDtpZigwIT09Yyl7Zm9yKHQ9MDt0PHA7dCsrKWlmKGU9dGhpcy5ib2FyZC5zZWxlY3QodVt0XSksYS5leGlzdHMoZSkmJmUhPT10aGlzKXtpZihhLmlzUG9pbnQoZSk/cj1pLnByb2plY3RQb2ludFRvUG9pbnQodGhpcyxlLHRoaXMuYm9hcmQpOmUuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORT8ocz1pLnByb2plY3RDb29yZHNUb1NlZ21lbnQodGhpcy5jb29yZHMudXNyQ29vcmRzLGUucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsZS5wb2ludDIuY29vcmRzLnVzckNvb3Jkcykscj0hYS5ldmFsdWF0ZShlLnZpc1Byb3Auc3RyYWlnaHRmaXJzdCkmJnNbMV08MD9lLnBvaW50MS5jb29yZHM6IWEuZXZhbHVhdGUoZS52aXNQcm9wLnN0cmFpZ2h0bGFzdCkmJnNbMV0+MT9lLnBvaW50Mi5jb29yZHM6bmV3IG8obi5DT09SRFNfQllfVVNFUixzWzBdLHRoaXMuYm9hcmQpKTplLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NJUkNMRT9yPWkucHJvamVjdFBvaW50VG9DaXJjbGUodGhpcyxlLHRoaXMuYm9hcmQpOmUuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ1VSVkU/cj1pLnByb2plY3RQb2ludFRvQ3VydmUodGhpcyxlLHRoaXMuYm9hcmQpWzBdOmUudHlwZT09PW4uT0JKRUNUX1RZUEVfVFVSVExFP3I9aS5wcm9qZWN0UG9pbnRUb1R1cnRsZSh0aGlzLGUsdGhpcy5ib2FyZClbMF06ZS50eXBlPT09bi5PQkpFQ1RfVFlQRV9QT0xZR09OJiYocj1uZXcgbyhuLkNPT1JEU19CWV9VU0VSLGkucHJvamVjdENvb3Jkc1RvUG9seWdvbih0aGlzLmNvb3Jkcy51c3JDb29yZHMsZSksdGhpcy5ib2FyZCkpLChoPVwic2NyZWVuXCI9PT1sP3IuZGlzdGFuY2Uobi5DT09SRFNfQllfU0NSRUVOLHRoaXMuY29vcmRzKTpyLmRpc3RhbmNlKG4uQ09PUkRTX0JZX1VTRVIsdGhpcy5jb29yZHMpKTxjKXt0aGlzLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0dMSURFUiYmKGU9PT10aGlzLnNsaWRlT2JqZWN0fHx0aGlzLnNsaWRlT2JqZWN0JiZ0aGlzLm9uUG9seWdvbiYmdGhpcy5zbGlkZU9iamVjdC5wYXJlbnRQb2x5Z29uPT09ZSl8fHRoaXMubWFrZUdsaWRlcihlKTticmVha31oPj1kJiYoZT09PXRoaXMuc2xpZGVPYmplY3R8fHRoaXMuc2xpZGVPYmplY3QmJnRoaXMub25Qb2x5Z29uJiZ0aGlzLnNsaWRlT2JqZWN0LnBhcmVudFBvbHlnb249PT1lKSYmdGhpcy5wb3BTbGlkZU9iamVjdCgpfXJldHVybiB0aGlzfX0sc2V0UG9zaXRpb25EaXJlY3RseTpmdW5jdGlvbih0LGkpe3ZhciByLGgsbCxjLGQ9dGhpcy5jb29yZHM7aWYodGhpcy5yZWxhdGl2ZUNvb3JkcylyZXR1cm4gaD1uZXcgbyh0LGksdGhpcy5ib2FyZCksYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaXNsYWJlbCk/KGw9cy5zdWJ0cmFjdChoLnNjckNvb3JkcyxkLnNjckNvb3JkcyksdGhpcy5yZWxhdGl2ZUNvb3Jkcy5zY3JDb29yZHNbMV0rPWxbMV0sdGhpcy5yZWxhdGl2ZUNvb3Jkcy5zY3JDb29yZHNbMl0rPWxbMl0pOihsPXMuc3VidHJhY3QoaC51c3JDb29yZHMsZC51c3JDb29yZHMpLHRoaXMucmVsYXRpdmVDb29yZHMudXNyQ29vcmRzWzFdKz1sWzFdLHRoaXMucmVsYXRpdmVDb29yZHMudXNyQ29vcmRzWzJdKz1sWzJdKSx0aGlzO2Zvcih0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyh0LGkpLHRoaXMuaGFuZGxlU25hcFRvR3JpZCgpLHRoaXMuaGFuZGxlU25hcFRvUG9pbnRzKCksdGhpcy5oYW5kbGVBdHRyYWN0b3JzKCkscj10aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGgtMTtyPj0wO3ItLSl0PT09bi5DT09SRFNfQllfU0NSRUVOP2M9bmV3IG8odCxpLHRoaXMuYm9hcmQpLnVzckNvb3JkczooMj09PWkubGVuZ3RoJiYoaT1bMV0uY29uY2F0KGkpKSxjPWkpLHRoaXMuaW5pdGlhbENvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9VU0VSLGUubWF0VmVjTXVsdChlLmludmVyc2UodGhpcy50cmFuc2Zvcm1hdGlvbnNbcl0ubWF0cml4KSxjKSk7cmV0dXJuIHRoaXMucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLHRoaXMuYm9hcmQuaXNTdXNwZW5kZWRVcGRhdGUmJnRoaXMudHlwZT09PW4uT0JKRUNUX1RZUEVfR0xJREVSJiZ0aGlzLnVwZGF0ZUdsaWRlcigpLHRoaXN9LHNldFBvc2l0aW9uQnlUcmFuc2Zvcm06ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gZT1uZXcgbyh0LGUsdGhpcy5ib2FyZCksaT10aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLGUudXNyQ29vcmRzLnNsaWNlKDEpLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSx0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg+MCYmdGhpcy50cmFuc2Zvcm1hdGlvbnNbdGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoLTFdLmlzTnVtZXJpY01hdHJpeD90aGlzLnRyYW5zZm9ybWF0aW9uc1t0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGgtMV0ubWVsdChpKTp0aGlzLmFkZFRyYW5zZm9ybSh0aGlzLGkpLHRoaXMucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLHRoaXN9LHNldFBvc2l0aW9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0UG9zaXRpb25EaXJlY3RseSh0LGUpfSxzZXRHbGlkZXJQb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50eXBlPT09bi5PQkpFQ1RfVFlQRV9HTElERVImJih0aGlzLnBvc2l0aW9uPXQsdGhpcy5ib2FyZC51cGRhdGUoKSksdGhpc30sbWFrZUdsaWRlcjpmdW5jdGlvbihlKXt2YXIgaSxyLHMsbz10aGlzLmJvYXJkLnNlbGVjdChlKSxoPSExO2lmKG8udHlwZT09PW4uT0JKRUNUX1RZUEVfUE9MWUdPTil7Zm9yKGk9TnVtYmVyLk1BWF9WQUxVRSxyPTA7cjxvLmJvcmRlcnMubGVuZ3RoO3IrKykocz10Lk1hdGguR2VvbWV0cnkuZGlzdFBvaW50TGluZSh0aGlzLmNvb3Jkcy51c3JDb29yZHMsby5ib3JkZXJzW3JdLnN0ZGZvcm0pKTxpJiYoaT1zLGU9by5ib3JkZXJzW3JdKTtvPXRoaXMuYm9hcmQuc2VsZWN0KGUpLGg9ITB9aWYoIWEuZXhpc3RzKG8pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBzbGlkZSBvYmplY3QgdW5kZWZpbmVkLlwiKTtpZihvLnR5cGU9PT1uLk9CSkVDVF9UWVBFX1RJQ0tTKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBnbGlkZXJzIG9uIHRpY2tzIGFyZSBub3QgcG9zc2libGUuXCIpO3JldHVybiB0aGlzLnNsaWRlT2JqZWN0PXRoaXMuYm9hcmQuc2VsZWN0KGUpLHRoaXMuc2xpZGVPYmplY3RzLnB1c2godGhpcy5zbGlkZU9iamVjdCksdGhpcy5hZGRQYXJlbnRzKGUpLHRoaXMudHlwZT1uLk9CSkVDVF9UWVBFX0dMSURFUix0aGlzLmVsVHlwZT1cImdsaWRlclwiLHRoaXMudmlzUHJvcC5zbmFwd2lkdGg9LTEsdGhpcy5zbGlkZU9iamVjdC5hZGRDaGlsZCh0aGlzKSx0aGlzLmlzRHJhZ2dhYmxlPSEwLHRoaXMub25Qb2x5Z29uPWgsdGhpcy5nZW5lcmF0ZVBvbHlub21pYWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGlkZU9iamVjdC5nZW5lcmF0ZVBvbHlub21pYWwodGhpcyl9LHRoaXMudXBkYXRlR2xpZGVyKCksdGhpcy5uZWVkc1VwZGF0ZUZyb21QYXJlbnQ9ITAsdGhpcy51cGRhdGVHbGlkZXJGcm9tUGFyZW50KCksdGhpc30scG9wU2xpZGVPYmplY3Q6ZnVuY3Rpb24oKXt0aGlzLnNsaWRlT2JqZWN0cy5sZW5ndGg+MCYmKHRoaXMuc2xpZGVPYmplY3RzLnBvcCgpLHRoaXMuc2xpZGVPYmplY3QucmVtb3ZlQ2hpbGQodGhpcyksMD09PXRoaXMuc2xpZGVPYmplY3RzLmxlbmd0aD8odGhpcy50eXBlPXRoaXMuX29yZ190eXBlLHRoaXMudHlwZT09PW4uT0JKRUNUX1RZUEVfUE9JTlQ/dGhpcy5lbFR5cGU9XCJwb2ludFwiOnRoaXMuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfVEVYVD90aGlzLmVsVHlwZT1cInRleHRcIjp0aGlzLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0lNQUdFP3RoaXMuZWxUeXBlPVwiaW1hZ2VcIjp0aGlzLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0ZPUkVJR05PQkpFQ1QmJih0aGlzLmVsVHlwZT1cImZvcmVpZ25vYmplY3RcIiksdGhpcy5zbGlkZU9iamVjdD1udWxsKTp0aGlzLnNsaWRlT2JqZWN0PXRoaXMuc2xpZGVPYmplY3RzW3RoaXMuc2xpZGVPYmplY3RzLmxlbmd0aC0xXSl9LGZyZWU6ZnVuY3Rpb24oKXt2YXIgdCxlO2lmKHRoaXMudHlwZSE9PW4uT0JKRUNUX1RZUEVfR0xJREVSKXtpZih0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg9MCxkZWxldGUgdGhpcy51cGRhdGVDb25zdHJhaW50LHRoaXMuaXNDb25zdHJhaW5lZD0hMSx0aGlzLmlzRHJhZ2dhYmxlKXJldHVybjt0aGlzLmlzRHJhZ2dhYmxlPSEwLHRoaXMuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfUE9JTlQmJih0aGlzLnR5cGU9bi5PQkpFQ1RfVFlQRV9QT0lOVCx0aGlzLmVsVHlwZT1cInBvaW50XCIpLHRoaXMuWEV2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHMudXNyQ29vcmRzWzFdfSx0aGlzLllFdmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnVzckNvb3Jkc1syXX0sdGhpcy5aRXZhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkcy51c3JDb29yZHNbMF19LHRoaXMuWGpjPW51bGwsdGhpcy5ZamM9bnVsbH1mb3IodCBpbiB0aGlzLmJvYXJkLm9iamVjdHMpdGhpcy5ib2FyZC5vYmplY3RzLmhhc093blByb3BlcnR5KHQpJiYoZT10aGlzLmJvYXJkLm9iamVjdHNbdF0pLmRlc2NlbmRhbnRzJiYoZGVsZXRlIGUuZGVzY2VuZGFudHNbdGhpcy5pZF0sZGVsZXRlIGUuY2hpbGRFbGVtZW50c1t0aGlzLmlkXSx0aGlzLmhhc0xhYmVsJiYoZGVsZXRlIGUuZGVzY2VuZGFudHNbdGhpcy5sYWJlbC5pZF0sZGVsZXRlIGUuY2hpbGRFbGVtZW50c1t0aGlzLmxhYmVsLmlkXSkpO3RoaXMuYW5jZXN0b3JzPXt9LHRoaXMuc2xpZGVPYmplY3Q9bnVsbCx0aGlzLnNsaWRlT2JqZWN0cz1bXSx0aGlzLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX1BPSU5UPyh0aGlzLnR5cGU9bi5PQkpFQ1RfVFlQRV9QT0lOVCx0aGlzLmVsVHlwZT1cInBvaW50XCIpOnRoaXMuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfVEVYVD8odGhpcy50eXBlPXRoaXMuX29yZ190eXBlLHRoaXMuZWxUeXBlPVwidGV4dFwiKTp0aGlzLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX09USEVSJiYodGhpcy50eXBlPXRoaXMuX29yZ190eXBlLHRoaXMuZWxUeXBlPVwiaW1hZ2VcIil9LGFkZENvbnN0cmFpbnQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxyPVtdLHM9W1wiWFwiLFwiWVwiXSxvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0saD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5WYWx1ZSgpfX07Zm9yKHRoaXMuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfUE9JTlQmJih0aGlzLnR5cGU9bi5PQkpFQ1RfVFlQRV9DQVMpLHRoaXMuaXNEcmFnZ2FibGU9ITEsZT0wO2U8dC5sZW5ndGg7ZSsrKWk9dFtlXSxhLmlzU3RyaW5nKGkpPyhyW2VdPXRoaXMuYm9hcmQuamMuc25pcHBldChpLCEwLG51bGwsITApLDI9PT10Lmxlbmd0aCYmKHRoaXNbc1tlXStcImpjXCJdPXRbZV0pKTphLmlzRnVuY3Rpb24oaSk/cltlXT1pOmEuaXNOdW1iZXIoaSk/cltlXT1vKGkpOmEuaXNPYmplY3QoaSkmJmEuaXNGdW5jdGlvbihpLlZhbHVlKSYmKHJbZV09aChpKSkscltlXS5vcmlnaW49aTtyZXR1cm4gMT09PXQubGVuZ3RoP3RoaXMudXBkYXRlQ29uc3RyYWludD1mdW5jdGlvbigpe3ZhciB0PXJbMF0oKTtyZXR1cm4gYS5pc0FycmF5KHQpP3RoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsdCk6dGhpcy5jb29yZHM9dCx0aGlzfToyPT09dC5sZW5ndGg/KHRoaXMuWEV2YWw9clswXSx0aGlzLllFdmFsPXJbMV0sdGhpcy5zZXRQYXJlbnRzKFtyWzBdLm9yaWdpbixyWzFdLm9yaWdpbl0pLHRoaXMudXBkYXRlQ29uc3RyYWludD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9VU0VSLFt0aGlzLlhFdmFsKCksdGhpcy5ZRXZhbCgpXSksdGhpc30pOih0aGlzLlpFdmFsPXJbMF0sdGhpcy5YRXZhbD1yWzFdLHRoaXMuWUV2YWw9clsyXSx0aGlzLnNldFBhcmVudHMoW3JbMF0ub3JpZ2luLHJbMV0ub3JpZ2luLHJbMl0ub3JpZ2luXSksdGhpcy51cGRhdGVDb25zdHJhaW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsW3RoaXMuWkV2YWwoKSx0aGlzLlhFdmFsKCksdGhpcy5ZRXZhbCgpXSksdGhpc30pLHRoaXMuaXNDb25zdHJhaW5lZD0hMCx0aGlzLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKSx0aGlzLmJvYXJkLmlzU3VzcGVuZGVkVXBkYXRlfHwodGhpcy51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSx0aGlzLmhhc0xhYmVsJiZ0aGlzLmxhYmVsLmZ1bGxVcGRhdGUoKSksdGhpc30sYWRkQW5jaG9yOmZ1bmN0aW9uKHQsZSl7dGhpcy5yZWxhdGl2ZUNvb3Jkcz1lP25ldyBvKG4uQ09PUkRTX0JZX1NDUkVFTix0LnNsaWNlKDAsMiksdGhpcy5ib2FyZCk6bmV3IG8obi5DT09SRFNfQllfVVNFUix0LHRoaXMuYm9hcmQpLHRoaXMuZWxlbWVudC5hZGRDaGlsZCh0aGlzKSxlJiZ0aGlzLmFkZFBhcmVudHModGhpcy5lbGVtZW50KSx0aGlzLlhFdmFsPWZ1bmN0aW9uKCl7dmFyIHQsZSxpO3JldHVybiBhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pc2xhYmVsKT8oaT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5vZmZzZXQpLHQ9cGFyc2VGbG9hdChpWzBdKSxlPXRoaXMuZWxlbWVudC5nZXRMYWJlbEFuY2hvcigpLG5ldyBvKG4uQ09PUkRTX0JZX1NDUkVFTixbdCt0aGlzLnJlbGF0aXZlQ29vcmRzLnNjckNvb3Jkc1sxXStlLnNjckNvb3Jkc1sxXSwwXSx0aGlzLmJvYXJkKS51c3JDb29yZHNbMV0pOihlPXRoaXMuZWxlbWVudC5nZXRUZXh0QW5jaG9yKCksdGhpcy5yZWxhdGl2ZUNvb3Jkcy51c3JDb29yZHNbMV0rZS51c3JDb29yZHNbMV0pfSx0aGlzLllFdmFsPWZ1bmN0aW9uKCl7dmFyIHQsZSxpO3JldHVybiBhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pc2xhYmVsKT8oaT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5vZmZzZXQpLHQ9LXBhcnNlRmxvYXQoaVsxXSksZT10aGlzLmVsZW1lbnQuZ2V0TGFiZWxBbmNob3IoKSxuZXcgbyhuLkNPT1JEU19CWV9TQ1JFRU4sWzAsdCt0aGlzLnJlbGF0aXZlQ29vcmRzLnNjckNvb3Jkc1syXStlLnNjckNvb3Jkc1syXV0sdGhpcy5ib2FyZCkudXNyQ29vcmRzWzJdKTooZT10aGlzLmVsZW1lbnQuZ2V0VGV4dEFuY2hvcigpLHRoaXMucmVsYXRpdmVDb29yZHMudXNyQ29vcmRzWzJdK2UudXNyQ29vcmRzWzJdKX0sdGhpcy5aRXZhbD1hLmNyZWF0ZUZ1bmN0aW9uKDEsdGhpcy5ib2FyZCxcIlwiKSx0aGlzLnVwZGF0ZUNvbnN0cmFpbnQ9ZnVuY3Rpb24oKXt0aGlzLmNvb3Jkcy5zZXRDb29yZGluYXRlcyhuLkNPT1JEU19CWV9VU0VSLFt0aGlzLlpFdmFsKCksdGhpcy5YRXZhbCgpLHRoaXMuWUV2YWwoKV0pfSx0aGlzLmlzQ29uc3RyYWluZWQ9ITAsdGhpcy51cGRhdGVDb25zdHJhaW50KCl9LHVwZGF0ZVRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZTtpZigwPT09dGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoKXJldHVybiB0aGlzO2ZvcihlPTA7ZTx0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg7ZSsrKXRoaXMudHJhbnNmb3JtYXRpb25zW2VdLnVwZGF0ZSgpO3JldHVybiB0aGlzfSxhZGRUcmFuc2Zvcm06ZnVuY3Rpb24odCxlKXt2YXIgaSxyPWEuaXNBcnJheShlKT9lOltlXSxzPXIubGVuZ3RoO2ZvcigwPT09dGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoJiYodGhpcy5iYXNlRWxlbWVudD10KSxpPTA7aTxzO2krKyl0aGlzLnRyYW5zZm9ybWF0aW9ucy5wdXNoKHJbaV0pO3JldHVybiB0aGlzfSxzdGFydEFuaW1hdGlvbjpmdW5jdGlvbih0LGUsaSl7dmFyIHI9dGhpcztyZXR1cm4gaT1pfHwyNTAsdGhpcy50eXBlIT09bi5PQkpFQ1RfVFlQRV9HTElERVJ8fGEuZXhpc3RzKHRoaXMuaW50ZXJ2YWxDb2RlKXx8KHRoaXMuaW50ZXJ2YWxDb2RlPXdpbmRvdy5zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtyLl9hbmltKHQsZSl9KSxpKSxhLmV4aXN0cyh0aGlzLmludGVydmFsQ291bnQpfHwodGhpcy5pbnRlcnZhbENvdW50PTApKSx0aGlzfSxzdG9wQW5pbWF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEuZXhpc3RzKHRoaXMuaW50ZXJ2YWxDb2RlKSYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb2RlKSxkZWxldGUgdGhpcy5pbnRlcnZhbENvZGUpLHRoaXN9LG1vdmVBbG9uZzpmdW5jdGlvbih0LGUsaSl7aT1pfHx7fTt2YXIgcyxvLGgsbCxjLGQ9W10sdT1bXSxwPWUvdGhpcy5ib2FyZC5hdHRyLmFuaW1hdGlvbmRlbGF5LGY9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdFtlXVtpXX19O2lmKGEuaXNBcnJheSh0KSl7Zm9yKGg9dC5sZW5ndGgscz0wO3M8aDtzKyspYS5pc1BvaW50KHRbc10pP3Vbc109dFtzXTp1W3NdPXtlbGVtZW50Q2xhc3M6bi5PQkpFQ1RfQ0xBU1NfUE9JTlQsWDpmKHMsMCksWTpmKHMsMSl9O2lmKDA9PT0oZT1lfHwwKSlyZXR1cm4gdGhpcy5zZXRQb3NpdGlvbihuLkNPT1JEU19CWV9VU0VSLFt1W3UubGVuZ3RoLTFdLlgoKSx1W3UubGVuZ3RoLTFdLlkoKV0pLHRoaXMuYm9hcmQudXBkYXRlKHRoaXMpO2lmKCFhLmV4aXN0cyhpLmludGVycG9sYXRlKXx8aS5pbnRlcnBvbGF0ZSlmb3Iobz1yLk5ldmlsbGUodSkscz0wO3M8cDtzKyspZFtzXT1bXSxkW3NdWzBdPW9bMF0oKHAtcykvcCpvWzNdKCkpLGRbc11bMV09b1sxXSgocC1zKS9wKm9bM10oKSk7ZWxzZXtmb3IoaD10Lmxlbmd0aC0xLHM9MDtzPHA7KytzKWM9cy9wKmgtKGw9TWF0aC5mbG9vcihzL3AqaCkpLGRbc109W10sZFtzXVswXT0oMS1jKSp1W2xdLlgoKStjKnVbbCsxXS5YKCksZFtzXVsxXT0oMS1jKSp1W2xdLlkoKStjKnVbbCsxXS5ZKCk7ZC5wdXNoKFt1W2hdLlgoKSx1W2hdLlkoKV0pLGQucmV2ZXJzZSgpfXRoaXMuYW5pbWF0aW9uUGF0aD1kfWVsc2UgYS5pc0Z1bmN0aW9uKHQpJiYodGhpcy5hbmltYXRpb25QYXRoPXQsdGhpcy5hbmltYXRpb25TdGFydD0obmV3IERhdGUpLmdldFRpbWUoKSk7cmV0dXJuIHRoaXMuYW5pbWF0aW9uQ2FsbGJhY2s9aS5jYWxsYmFjayx0aGlzLmJvYXJkLmFkZEFuaW1hdGlvbih0aGlzKSx0aGlzfSxtb3ZlVG86ZnVuY3Rpb24odCxpLHIpe3I9cnx8e30sdD1uZXcgbyhuLkNPT1JEU19CWV9VU0VSLHQsdGhpcy5ib2FyZCk7dmFyIHMsaD10aGlzLmJvYXJkLmF0dHIuYW5pbWF0aW9uZGVsYXksbD1NYXRoLmNlaWwoaS9oKSxjPVtdLGQ9dGhpcy5jb29yZHMudXNyQ29vcmRzWzFdLHU9dGhpcy5jb29yZHMudXNyQ29vcmRzWzJdLHA9dC51c3JDb29yZHNbMV0tZCxmPXQudXNyQ29vcmRzWzJdLXUsbT1mdW5jdGlvbih0KXtyZXR1cm4gci5lZmZlY3QmJlwiPD5cIj09PXIuZWZmZWN0P01hdGgucG93KE1hdGguc2luKHQvbCpNYXRoLlBJLzIpLDIpOnQvbH07aWYoIWEuZXhpc3RzKGkpfHwwPT09aXx8TWF0aC5hYnModC51c3JDb29yZHNbMF0tdGhpcy5jb29yZHMudXNyQ29vcmRzWzBdKT5lLmVwcylyZXR1cm4gdGhpcy5zZXRQb3NpdGlvbihuLkNPT1JEU19CWV9VU0VSLHQudXNyQ29vcmRzKSx0aGlzLmJvYXJkLnVwZGF0ZSh0aGlzKTtpZighYS5leGlzdHMoci5jYWxsYmFjaykmJk1hdGguYWJzKHApPGUuZXBzJiZNYXRoLmFicyhmKTxlLmVwcylyZXR1cm4gdGhpcztmb3Iocz1sO3M+PTA7cy0tKWNbbC1zXT1bdC51c3JDb29yZHNbMF0sZCtwKm0ocyksdStmKm0ocyldO3JldHVybiB0aGlzLmFuaW1hdGlvblBhdGg9Yyx0aGlzLmFuaW1hdGlvbkNhbGxiYWNrPXIuY2FsbGJhY2ssdGhpcy5ib2FyZC5hZGRBbmltYXRpb24odGhpcyksdGhpc30sdmlzaXQ6ZnVuY3Rpb24odCxlLGkpe3Q9bmV3IG8obi5DT09SRFNfQllfVVNFUix0LHRoaXMuYm9hcmQpO3ZhciByLHMsaCxsPXRoaXMuYm9hcmQuYXR0ci5hbmltYXRpb25kZWxheSxjPVtdLGQ9dGhpcy5jb29yZHMudXNyQ29vcmRzWzFdLHU9dGhpcy5jb29yZHMudXNyQ29vcmRzWzJdLHA9dC51c3JDb29yZHNbMV0tZCxmPXQudXNyQ29vcmRzWzJdLXUsbT1mdW5jdGlvbih0KXt2YXIgZT10PGgvMj8yKnQvaDoyKihoLXQpL2g7cmV0dXJuIGkuZWZmZWN0JiZcIjw+XCI9PT1pLmVmZmVjdD9NYXRoLnBvdyhNYXRoLnNpbihlKk1hdGguUEkvMiksMik6ZX07Zm9yKGEuaXNOdW1iZXIoaSk/aT17cmVwZWF0Oml9OihpPWl8fHt9LGEuZXhpc3RzKGkucmVwZWF0KXx8KGkucmVwZWF0PTEpKSxoPU1hdGguY2VpbChlLyhsKmkucmVwZWF0KSkscz0wO3M8aS5yZXBlYXQ7cysrKWZvcihyPWg7cj49MDtyLS0pY1tzKihoKzEpK2gtcl09W3QudXNyQ29vcmRzWzBdLGQrcCptKHIpLHUrZiptKHIpXTtyZXR1cm4gdGhpcy5hbmltYXRpb25QYXRoPWMsdGhpcy5hbmltYXRpb25DYWxsYmFjaz1pLmNhbGxiYWNrLHRoaXMuYm9hcmQuYWRkQW5pbWF0aW9uKHRoaXMpLHRoaXN9LF9hbmltOmZ1bmN0aW9uKHQsZSl7dmFyIHIscyxvLGEsaCxsLGMsZCx1O3JldHVybiB0aGlzLmludGVydmFsQ291bnQrPTEsdGhpcy5pbnRlcnZhbENvdW50PmUmJih0aGlzLmludGVydmFsQ291bnQ9MCksdGhpcy5zbGlkZU9iamVjdC5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19MSU5FPyhjPXRoaXMuc2xpZGVPYmplY3QucG9pbnQxLmNvb3Jkcy5zY3JDb29yZHMsZD10aGlzLnNsaWRlT2JqZWN0LnBvaW50Mi5jb29yZHMuc2NyQ29vcmRzLHI9TWF0aC5yb3VuZCgoZFsxXS1jWzFdKSp0aGlzLmludGVydmFsQ291bnQvZSkscz1NYXRoLnJvdW5kKChkWzJdLWNbMl0pKnRoaXMuaW50ZXJ2YWxDb3VudC9lKSx0PjA/YT10aGlzLnNsaWRlT2JqZWN0LnBvaW50MTooYT10aGlzLnNsaWRlT2JqZWN0LnBvaW50MixyKj0tMSxzKj0tMSksdGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMobi5DT09SRFNfQllfU0NSRUVOLFthLmNvb3Jkcy5zY3JDb29yZHNbMV0rcixhLmNvb3Jkcy5zY3JDb29yZHNbMl0rc10pKTp0aGlzLnNsaWRlT2JqZWN0LmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NVUlZFPyhoPXQ+MD9NYXRoLnJvdW5kKHRoaXMuaW50ZXJ2YWxDb3VudC9lKnRoaXMuYm9hcmQuY2FudmFzV2lkdGgpOk1hdGgucm91bmQoKGUtdGhpcy5pbnRlcnZhbENvdW50KS9lKnRoaXMuYm9hcmQuY2FudmFzV2lkdGgpLHRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1NDUkVFTixbaCwwXSksdT1pLnByb2plY3RQb2ludFRvQ3VydmUodGhpcyx0aGlzLnNsaWRlT2JqZWN0LHRoaXMuYm9hcmQpLHRoaXMuY29vcmRzPXVbMF0sdGhpcy5wb3NpdGlvbj11WzFdKTp0aGlzLnNsaWRlT2JqZWN0LmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NJUkNMRSYmKG89MipNYXRoLlBJLG8qPXQ8MD90aGlzLmludGVydmFsQ291bnQvZTooZS10aGlzLmludGVydmFsQ291bnQpL2UsbD10aGlzLnNsaWRlT2JqZWN0LlJhZGl1cygpLHRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKG4uQ09PUkRTX0JZX1VTRVIsW3RoaXMuc2xpZGVPYmplY3QuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMV0rbCpNYXRoLmNvcyhvKSx0aGlzLnNsaWRlT2JqZWN0LmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzJdK2wqTWF0aC5zaW4obyldKSksdGhpcy5ib2FyZC51cGRhdGUodGhpcyksdGhpc30sZ2V0VGV4dEFuY2hvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkc30sZ2V0TGFiZWxBbmNob3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb29yZHN9LGdldFBhcmVudHM6ZnVuY3Rpb24oKXt2YXIgdD1bdGhpcy5aKCksdGhpcy5YKCksdGhpcy5ZKCldO3JldHVybiAwIT09dGhpcy5wYXJlbnRzLmxlbmd0aCYmKHQ9dGhpcy5wYXJlbnRzKSx0aGlzLnR5cGU9PT1uLk9CSkVDVF9UWVBFX0dMSURFUiYmKHQ9W3RoaXMuWCgpLHRoaXMuWSgpLHRoaXMuc2xpZGVPYmplY3QuaWRdKSx0fX0pLHQuQ29vcmRzRWxlbWVudC5jcmVhdGU9ZnVuY3Rpb24odCxlLGkscixzLG8pe3ZhciBuLGgsbD0hMTtmb3IoaD0wO2g8aS5sZW5ndGg7aCsrKShhLmlzRnVuY3Rpb24oaVtoXSl8fGEuaXNTdHJpbmcoaVtoXSkpJiYobD0hMCk7aWYobCkobj1uZXcgdChlLFswLDBdLHIscyxvKSkuYWRkQ29uc3RyYWludChpKTtlbHNlIGlmKGEuaXNOdW1iZXIoaVswXSkmJmEuaXNOdW1iZXIoaVsxXSkpbj1uZXcgdChlLGkscixzLG8pLGEuZXhpc3RzKHIuc2xpZGVvYmplY3QpP24ubWFrZUdsaWRlcihyLnNsaWRlb2JqZWN0KTpuLmJhc2VFbGVtZW50PW4sbi5pc0RyYWdnYWJsZT0hMDtlbHNle2lmKCFhLmlzT2JqZWN0KGlbMF0pfHwhYS5pc1RyYW5zZm9ybWF0aW9uT3JBcnJheShpWzFdKSlyZXR1cm4hMTsobj1uZXcgdChlLFswLDBdLHIscyxvKSkuYWRkVHJhbnNmb3JtKGlbMF0saVsxXSksbi5pc0RyYWdnYWJsZT0hMX1yZXR1cm4gbi5oYW5kbGVTbmFwVG9HcmlkKCksbi5oYW5kbGVTbmFwVG9Qb2ludHMoKSxuLmhhbmRsZUF0dHJhY3RvcnMoKSxuLmFkZFBhcmVudHMoaSksbn0sdC5Db29yZHNFbGVtZW50fSkpLGRlZmluZShcImJhc2UvdGV4dFwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvZWxlbWVudFwiLFwicGFyc2VyL2dlb25leHRcIixcInV0aWxzL2VudlwiLFwidXRpbHMvdHlwZVwiLFwibWF0aC9tYXRoXCIsXCJiYXNlL2Nvb3Jkc2VsZW1lbnRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGg9ZnVuY3Rpb24oKXt0aGlzLl92YWw9cGFyc2VGbG9hdCh0aGlzLnJlbmROb2RlUmFuZ2UudmFsdWUpLHRoaXMucmVuZE5vZGVPdXQudmFsdWU9dGhpcy5yZW5kTm9kZVJhbmdlLnZhbHVlLHRoaXMuYm9hcmQudXBkYXRlKCl9O3JldHVybiB0LlRleHQ9ZnVuY3Rpb24odCxpLHIscyl7dGhpcy5jb25zdHJ1Y3Rvcih0LHIsZS5PQkpFQ1RfVFlQRV9URVhULGUuT0JKRUNUX0NMQVNTX1RFWFQpLHRoaXMuZWxlbWVudD10aGlzLmJvYXJkLnNlbGVjdChyLmFuY2hvciksdGhpcy5jb29yZHNDb25zdHJ1Y3RvcihpLG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmlzbGFiZWwpKSx0aGlzLmNvbnRlbnQ9XCJcIix0aGlzLnBsYWludGV4dD1cIlwiLHRoaXMucGxhaW50ZXh0T2xkPW51bGwsdGhpcy5vcmdUZXh0PVwiXCIsdGhpcy5uZWVkc1NpemVVcGRhdGU9ITEsdGhpcy5oaWRkZW5CeVBhcmVudD0hMSx0aGlzLnNpemU9WzEsMV0sdGhpcy5pZD10aGlzLmJvYXJkLnNldElkKHRoaXMsXCJUXCIpLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd1RleHQodGhpcyksdGhpcy5ib2FyZC5maW5hbGl6ZUFkZGluZyh0aGlzKSx0aGlzLnNldFRleHQocyksby5pc1N0cmluZyh0aGlzLmNvbnRlbnQpJiZ0aGlzLm5vdGlmeVBhcmVudHModGhpcy5jb250ZW50KSx0aGlzLmVsVHlwZT1cInRleHRcIix0aGlzLm1ldGhvZE1hcD1vLmRlZXBDb3B5KHRoaXMubWV0aG9kTWFwLHtzZXRUZXh0Olwic2V0VGV4dEplc3NpZUNvZGVcIixtb3ZlOlwic2V0Q29vcmRzXCJ9KX0sdC5UZXh0LnByb3RvdHlwZT1uZXcgaSxvLmNvcHlQcm90b3R5cGVNZXRob2RzKHQuVGV4dCxhLFwiY29vcmRzQ29uc3RydWN0b3JcIiksdC5leHRlbmQodC5UZXh0LnByb3RvdHlwZSx7aGFzUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsYSxoLGwsYyxkO3JldHVybiBvLmlzT2JqZWN0KG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbikpPyhjPXRoaXMuYm9hcmQuX2lucHV0RGV2aWNlLGQ9by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uW2NdKSk6ZD10aGlzLmJvYXJkLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50LHRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aD4wJiYodD0oaT1uLm1hdFZlY011bHQobi5pbnZlcnNlKHRoaXMuYm9hcmQucmVuZGVyZXIuam9pblRyYW5zZm9ybXModGhpcyx0aGlzLnRyYW5zZm9ybWF0aW9ucykpLFsxLHQsZV0pKVsxXSxlPWlbMl0pLHI9KGk9XCJyaWdodFwiPT09KGg9dGhpcy5nZXRBbmNob3JYKCkpP3RoaXMuY29vcmRzLnNjckNvb3Jkc1sxXS10aGlzLnNpemVbMF06XCJtaWRkbGVcIj09PWg/dGhpcy5jb29yZHMuc2NyQ29vcmRzWzFdLS41KnRoaXMuc2l6ZVswXTp0aGlzLmNvb3Jkcy5zY3JDb29yZHNbMV0pK3RoaXMuc2l6ZVswXSxzPShhPVwidG9wXCI9PT0obD10aGlzLmdldEFuY2hvclkoKSk/dGhpcy5jb29yZHMuc2NyQ29vcmRzWzJdK3RoaXMuc2l6ZVsxXTpcIm1pZGRsZVwiPT09bD90aGlzLmNvb3Jkcy5zY3JDb29yZHNbMl0rLjUqdGhpcy5zaXplWzFdOnRoaXMuY29vcmRzLnNjckNvb3Jkc1syXSktdGhpcy5zaXplWzFdLFwiYWxsXCI9PT1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kcmFnYXJlYSk/dD49aS1kJiZ0PHIrZCYmZT49cy1kJiZlPD1hK2Q6ZT49cy1kJiZlPD1hK2QmJih0Pj1pLWQmJnQ8PWkrMipkfHx0Pj1yLTIqZCYmdDw9citkKX0sX2NyZWF0ZUZjdFVwZGF0ZVRleHQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxyPW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnBhcnNlKSxzPW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnVzZW1hdGhqYXgpLG49by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudXNla2F0ZXgpO3RoaXMub3JnVGV4dD10LG8uaXNGdW5jdGlvbih0KT90aGlzLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oKXtpPXQoKS50b1N0cmluZygpLHRoaXMucGxhaW50ZXh0PSFyfHxzfHxuP2k6dGhpcy5yZXBsYWNlU3ViKHRoaXMucmVwbGFjZVN1cCh0aGlzLmNvbnZlcnRHZW9uZXh0QW5kU2tldGNob21ldHJ5MkNTUyhpKSkpfTpvLmlzU3RyaW5nKHQpJiYhcj90aGlzLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oKXt0aGlzLnBsYWludGV4dD10fTooby5pc051bWJlcih0KT90aGlzLmNvbnRlbnQ9by50b0ZpeGVkKHQsby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZGlnaXRzKSk6by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudXNlYXNjaWltYXRobWwpP3RoaXMuY29udGVudD1cIidgXCIrdCtcImAnXCI6dGhpcy5jb250ZW50PXN8fG4/XCInXCIrdCtcIidcIjp0aGlzLmdlbmVyYXRlVGVybSh0LCEwLCEwKSxlPXRoaXMuYm9hcmQuamMuc25pcHBldCh0aGlzLmNvbnRlbnQsITAsXCJcIiwhMSksdGhpcy51cGRhdGVUZXh0PWZ1bmN0aW9uKCl7dGhpcy5wbGFpbnRleHQ9ZSgpfSl9LF9zZXRUZXh0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jcmVhdGVGY3RVcGRhdGVUZXh0KHQpLHRoaXMudXBkYXRlVGV4dCgpLHRoaXMuZnVsbFVwZGF0ZSgpLHRoaXMuYm9hcmQuaW5mb2JveCYmdGhpcy5pZD09PXRoaXMuYm9hcmQuaW5mb2JveC5pZHx8dGhpcy51cGRhdGVTaXplKCksdGhpc30sc2V0VGV4dEplc3NpZUNvZGU6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHRoaXMudmlzUHJvcC5jYXN0ZXh0PXQsZT1vLmlzRnVuY3Rpb24odCk/ZnVuY3Rpb24oKXtyZXR1cm4gby5zYW5pdGl6ZUhUTUwodCgpKX06by5pc051bWJlcih0KT90Om8uc2FuaXRpemVIVE1MKHQpLHRoaXMuX3NldFRleHQoZSl9LHNldFRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NldFRleHQodCl9LHVwZGF0ZVNpemU6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscj1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kaXNwbGF5KTtyZXR1cm4gcy5pc0Jyb3dzZXImJlwibm9cIiE9PXRoaXMuYm9hcmQucmVuZGVyZXIudHlwZT8oaT10aGlzLnJlbmROb2RlLFwiaHRtbFwiPT09cnx8XCJ2bWxcIj09PXRoaXMuYm9hcmQucmVuZGVyZXIudHlwZT9vLmV4aXN0cyhpLm9mZnNldFdpZHRoKT8oZT10aGlzLHdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uuc2l6ZT1baS5vZmZzZXRXaWR0aCxpLm9mZnNldEhlaWdodF0sZS5uZWVkc1VwZGF0ZT0hMCxlLnVwZGF0ZVJlbmRlcmVyKCl9KSwwKSk6dGhpcy5zaXplPXRoaXMuY3J1ZGVTaXplRXN0aW1hdGUoKTpcImludGVybmFsXCI9PT1yJiYoXCJzdmdcIj09PXRoaXMuYm9hcmQucmVuZGVyZXIudHlwZT8oZT10aGlzLHdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3RyeXt0PWkuZ2V0QkJveCgpLGUuc2l6ZT1bdC53aWR0aCx0LmhlaWdodF0sZS5uZWVkc1VwZGF0ZT0hMCxlLnVwZGF0ZVJlbmRlcmVyKCl9Y2F0Y2godCl7fX0pLDApKTpcImNhbnZhc1wiPT09dGhpcy5ib2FyZC5yZW5kZXJlci50eXBlJiYodGhpcy5zaXplPXRoaXMuY3J1ZGVTaXplRXN0aW1hdGUoKSkpLHRoaXMpOnRoaXN9LGNydWRlU2l6ZUVzdGltYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9cGFyc2VGbG9hdChvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5mb250c2l6ZSkpO3JldHVyblt0KnRoaXMucGxhaW50ZXh0Lmxlbmd0aCouNDUsLjkqdF19LHV0ZjhfZGVjb2RlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLyYjeChcXHcrKTsvZywoZnVuY3Rpb24odCxlKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlLDE2KSl9KSl9LHJlcGxhY2VTdWI6ZnVuY3Rpb24odCl7aWYoIXQuaW5kZXhPZilyZXR1cm4gdDtmb3IodmFyIGUsaT10LmluZGV4T2YoXCJfe1wiKTtpPj0wOykoZT0odD10LnN1YnN0cigwLGkpK3Quc3Vic3RyKGkpLnJlcGxhY2UoL19cXHsvLFwiPHN1Yj5cIikpLnN1YnN0cihpKS5pbmRleE9mKFwifVwiKSk+PTAmJih0PXQuc3Vic3RyKDAsZSkrdC5zdWJzdHIoZSkucmVwbGFjZSgvXFx9LyxcIjwvc3ViPlwiKSksaT10LmluZGV4T2YoXCJfe1wiKTtmb3IoaT10LmluZGV4T2YoXCJfXCIpO2k+PTA7KWk9KHQ9dC5zdWJzdHIoMCxpKSt0LnN1YnN0cihpKS5yZXBsYWNlKC9fKC4/KS8sXCI8c3ViPiQxPC9zdWI+XCIpKS5pbmRleE9mKFwiX1wiKTtyZXR1cm4gdH0scmVwbGFjZVN1cDpmdW5jdGlvbih0KXtpZighdC5pbmRleE9mKXJldHVybiB0O2Zvcih2YXIgZSxpPXQuaW5kZXhPZihcIl57XCIpO2k+PTA7KShlPSh0PXQuc3Vic3RyKDAsaSkrdC5zdWJzdHIoaSkucmVwbGFjZSgvXFxeXFx7LyxcIjxzdXA+XCIpKS5zdWJzdHIoaSkuaW5kZXhPZihcIn1cIikpPj0wJiYodD10LnN1YnN0cigwLGUpK3Quc3Vic3RyKGUpLnJlcGxhY2UoL1xcfS8sXCI8L3N1cD5cIikpLGk9dC5pbmRleE9mKFwiXntcIik7Zm9yKGk9dC5pbmRleE9mKFwiXlwiKTtpPj0wOylpPSh0PXQuc3Vic3RyKDAsaSkrdC5zdWJzdHIoaSkucmVwbGFjZSgvXFxeKC4/KS8sXCI8c3VwPiQxPC9zdXA+XCIpKS5pbmRleE9mKFwiXlwiKTtyZXR1cm4gdH0sZ2V0U2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNpemV9LHNldENvb3JkczpmdW5jdGlvbih0LGkpe3ZhciByLHMsbjtyZXR1cm4gby5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4xJiYoaT10WzFdLHQ9dFswXSksby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuaXNsYWJlbCkmJm8uZXhpc3RzKHRoaXMuZWxlbWVudCk/KHM9KHQtKHI9dGhpcy5lbGVtZW50LmdldExhYmVsQW5jaG9yKCkpLnVzckNvb3Jkc1sxXSkqdGhpcy5ib2FyZC51bml0WCxuPS0oaS1yLnVzckNvb3Jkc1syXSkqdGhpcy5ib2FyZC51bml0WSx0aGlzLnJlbGF0aXZlQ29vcmRzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1NDUkVFTixbcyxuXSkpOnRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3QsaV0pLHRoaXMuZnVsbFVwZGF0ZSgpLHRoaXN9LHVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy51cGRhdGVDb29yZHModCksdGhpcy51cGRhdGVUZXh0KCksXCJpbnRlcm5hbFwiPT09by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZGlzcGxheSkmJm8uaXNTdHJpbmcodGhpcy5wbGFpbnRleHQpJiYodGhpcy5wbGFpbnRleHQ9dGhpcy51dGY4X2RlY29kZSh0aGlzLnBsYWludGV4dCkpLHRoaXMuY2hlY2tGb3JTaXplVXBkYXRlKCksdGhpcy5uZWVkc1NpemVVcGRhdGUmJnRoaXMudXBkYXRlU2l6ZSgpLHRoaXMpOnRoaXN9LGNoZWNrRm9yU2l6ZVVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuYm9hcmQuaW5mb2JveCYmdGhpcy5pZD09PXRoaXMuYm9hcmQuaW5mb2JveC5pZD90aGlzLm5lZWRzU2l6ZVVwZGF0ZT0hMToodGhpcy5uZWVkc1NpemVVcGRhdGU9dGhpcy5wbGFpbnRleHRPbGQhPT10aGlzLnBsYWludGV4dCx0aGlzLm5lZWRzU2l6ZVVwZGF0ZSYmKHRoaXMucGxhaW50ZXh0T2xkPXRoaXMucGxhaW50ZXh0KSl9LHVwZGF0ZVJlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmF1dG9wb3NpdGlvbikmJnRoaXMuc2V0QXV0b1Bvc2l0aW9uKCkudXBkYXRlQ29uc3RyYWludCgpLHRoaXMudXBkYXRlUmVuZGVyZXJHZW5lcmljKFwidXBkYXRlVGV4dFwiKX0sZXhwYW5kU2hvcnRNYXRoOmZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLyhbKTAtOS5dKVxccyooWyhhLXpBLVpfXSkvZyxcIiQxKiQyXCIpfSxnZW5lcmF0ZVRlcm06ZnVuY3Rpb24odCxlLGkpe3ZhciBzLG4sYSxoLGw9J1wiXCInO2lmKGE9KHQ9KHQ9KHQ9KHQ9KHQ9KHQ9KHQ9KHQ9KHQ9KHQ9KHQ9dHx8XCJcIikucmVwbGFjZSgvXFxyL2csXCJcIikpLnJlcGxhY2UoL1xcbi9nLFwiXCIpKS5yZXBsYWNlKC9cIi9nLFwiJ1wiKSkucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikpLnJlcGxhY2UoLyZhbXA7YXJjOy9nLFwiJmFuZztcIikpLnJlcGxhY2UoLzxhcmNcXHMqXFwvPi9nLFwiJmFuZztcIikpLnJlcGxhY2UoLyZsdDthcmNcXHMqXFwvJmd0Oy9nLFwiJmFuZztcIikpLnJlcGxhY2UoLyZsdDtzcXJ0XFxzKlxcLyZndDsvZyxcIiZyYWRpYztcIikpLnJlcGxhY2UoLyZsdDt2YWx1ZSZndDsvZyxcIjx2YWx1ZT5cIikpLnJlcGxhY2UoLyZsdDtcXC92YWx1ZSZndDsvZyxcIjwvdmFsdWU+XCIpKS5pbmRleE9mKFwiPHZhbHVlPlwiKSxoPXQuaW5kZXhPZihcIjwvdmFsdWU+XCIpLGE+PTApZm9yKDthPj0wOylsKz0nICsgXCInK3RoaXMucmVwbGFjZVN1Yih0aGlzLnJlcGxhY2VTdXAodC5zbGljZSgwLGEpKSkrJ1wiJyxuPShuPXQuc2xpY2UoYSs3LGgpKS5yZXBsYWNlKC9cXHMrL2csXCJcIiksITA9PT1lJiYobj10aGlzLmV4cGFuZFNob3J0TWF0aChuKSksKHM9KHM9KHM9aT9uOnIuZ2VvbmV4dDJKUyhuLHRoaXMuYm9hcmQpKS5yZXBsYWNlKC9cXFxcXCIvZyxcIidcIikpLnJlcGxhY2UoL1xcXFwnL2csXCInXCIpKS5pbmRleE9mKFwidG9GaXhlZFwiKTwwJiZvLmlzTnVtYmVyKG8uYmluZCh0aGlzLmJvYXJkLmpjLnNuaXBwZXQocywhMCxcIlwiLCExKSx0aGlzKSgpKT9sKz1cIisoXCIrcytcIikudG9GaXhlZChcIitvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kaWdpdHMpK1wiKVwiOmwrPVwiKyhcIitzK1wiKVwiLGE9KHQ9dC5zbGljZShoKzgpKS5pbmRleE9mKFwiPHZhbHVlPlwiKSxoPXQuaW5kZXhPZihcIjwvdmFsdWU+XCIpO3JldHVybiBsKz0nICsgXCInK3RoaXMucmVwbGFjZVN1Yih0aGlzLnJlcGxhY2VTdXAodCkpKydcIicsbD0obD0obD10aGlzLmNvbnZlcnRHZW9uZXh0QW5kU2tldGNob21ldHJ5MkNTUyhsKSkucmVwbGFjZSgvJmFtcDsvZyxcIiZcIikpLnJlcGxhY2UoL1wiL2csXCInXCIpfSxjb252ZXJ0R2VvbmV4dDJDU1M6ZnVuY3Rpb24odCl7cmV0dXJuIG8uaXNTdHJpbmcodCkmJih0PSh0PSh0PSh0PXQucmVwbGFjZSgvKDx8Jmx0OylvdmVybGluZSg+fCZndDspL2csXCI8c3BhbiBzdHlsZT10ZXh0LWRlY29yYXRpb246b3ZlcmxpbmU7PlwiKSkucmVwbGFjZSgvKDx8Jmx0OylcXC9vdmVybGluZSg+fCZndDspL2csXCI8L3NwYW4+XCIpKS5yZXBsYWNlKC8oPHwmbHQ7KWFycm93KD58Jmd0OykvZyxcIjxzcGFuIHN0eWxlPXRleHQtZGVjb3JhdGlvbjpvdmVybGluZTs+XCIpKS5yZXBsYWNlKC8oPHwmbHQ7KVxcL2Fycm93KD58Jmd0OykvZyxcIjwvc3Bhbj5cIikpLHR9LGNvbnZlcnRTa2V0Y2hvbWV0cnkyQ1NTOmZ1bmN0aW9uKHQpe3JldHVybiBvLmlzU3RyaW5nKHQpJiYodD0odD0odD0odD10LnJlcGxhY2UoLyg8fCZsdDspc2tldGNob2ZvbnQoPnwmZ3Q7KS9nLFwiPHNwYW4gc3R5bGU9Zm9udC1mYW1pbHk6c2tldGNob21ldHJ5LWxpZ2h0O2ZvbnQtd2VpZ2h0OjUwMDs+XCIpKS5yZXBsYWNlKC8oPHwmbHQ7KVxcL3NrZXRjaG9mb250KD58Jmd0OykvZyxcIjwvc3Bhbj5cIikpLnJlcGxhY2UoLyg8fCZsdDspc2tldGNob21ldHJ5LWxpZ2h0KD58Jmd0OykvZyxcIjxzcGFuIHN0eWxlPWZvbnQtZmFtaWx5OnNrZXRjaG9tZXRyeS1saWdodDtmb250LXdlaWdodDo1MDA7PlwiKSkucmVwbGFjZSgvKDx8Jmx0OylcXC9za2V0Y2hvbWV0cnktbGlnaHQoPnwmZ3Q7KS9nLFwiPC9zcGFuPlwiKSksdH0sY29udmVydEdlb25leHRBbmRTa2V0Y2hvbWV0cnkyQ1NTOmZ1bmN0aW9uKHQpe3JldHVybiB0PXRoaXMuY29udmVydEdlb25leHQyQ1NTKHQpLHQ9dGhpcy5jb252ZXJ0U2tldGNob21ldHJ5MkNTUyh0KX0sbm90aWZ5UGFyZW50czpmdW5jdGlvbih0KXt2YXIgZSxpPW51bGw7dD0odD10LnJlcGxhY2UoLyZsdDt2YWx1ZSZndDsvZyxcIjx2YWx1ZT5cIikpLnJlcGxhY2UoLyZsdDtcXC92YWx1ZSZndDsvZyxcIjwvdmFsdWU+XCIpO2Rve251bGwhPT0oaT0oZT0vPHZhbHVlPihbXFx3XFxzKi9eXFwtKygpW1xcXSw8Pj0hXSspPFxcL3ZhbHVlPi8pLmV4ZWModCkpJiYoci5maW5kRGVwZW5kZW5jaWVzKHRoaXMsaVsxXSx0aGlzLmJvYXJkKSx0PSh0PXQuc3Vic3RyKGkuaW5kZXgpKS5yZXBsYWNlKGUsXCJcIikpfXdoaWxlKG51bGwhPT1pKTtyZXR1cm4gdGhpc30sZ2V0UGFyZW50czpmdW5jdGlvbigpe3ZhciB0O3JldHVybiB0PXZvaWQgMCE9PXRoaXMucmVsYXRpdmVDb29yZHM/W3RoaXMucmVsYXRpdmVDb29yZHMudXNyQ29vcmRzWzFdLHRoaXMucmVsYXRpdmVDb29yZHMudXNyQ29vcmRzWzJdLHRoaXMub3JnVGV4dF06W3RoaXMuWigpLHRoaXMuWCgpLHRoaXMuWSgpLHRoaXMub3JnVGV4dF0sMCE9PXRoaXMucGFyZW50cy5sZW5ndGgmJih0PXRoaXMucGFyZW50cyksdH0sYm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb29yZHMudXNyQ29vcmRzO3JldHVybiBvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pc2xhYmVsKXx8MD09PXRoaXMuYm9hcmQudW5pdFl8fDA9PT10aGlzLmJvYXJkLnVuaXRYP1swLDAsMCwwXTpbdFsxXSx0WzJdK3RoaXMuc2l6ZVsxXS90aGlzLmJvYXJkLnVuaXRZLHRbMV0rdGhpcy5zaXplWzBdL3RoaXMuYm9hcmQudW5pdFgsdFsyXV19LGdldEFuY2hvclg6ZnVuY3Rpb24oKXt2YXIgdD1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5hbmNob3J4KTtpZihcImF1dG9cIj09PXQpc3dpdGNoKHRoaXMudmlzUHJvcC5wb3NpdGlvbil7Y2FzZVwidG9wXCI6Y2FzZVwiYm90XCI6cmV0dXJuXCJtaWRkbGVcIjtjYXNlXCJydFwiOmNhc2VcImxydFwiOmNhc2VcInVydFwiOnJldHVyblwibGVmdFwiO2RlZmF1bHQ6cmV0dXJuXCJyaWdodFwifXJldHVybiB0fSxnZXRBbmNob3JZOmZ1bmN0aW9uKCl7dmFyIHQ9by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYW5jaG9yeSk7aWYoXCJhdXRvXCI9PT10KXN3aXRjaCh0aGlzLnZpc1Byb3AucG9zaXRpb24pe2Nhc2VcInRvcFwiOmNhc2VcInVsZnRcIjpjYXNlXCJ1cnRcIjpyZXR1cm5cImJvdHRvbVwiO2Nhc2VcImJvdFwiOmNhc2VcImxydFwiOmNhc2VcImxsZnRcIjpyZXR1cm5cInRvcFwiO2RlZmF1bHQ6cmV0dXJuXCJtaWRkbGVcIn1yZXR1cm4gdH0sZ2V0TnVtYmVyb2ZDb25mbGljdHM6ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbyxuLGEsaD0wO2ZvcihhPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsdGhpcy5ib2FyZC5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludD0uMjUqKGkrcikscz0wLG49dGhpcy5ib2FyZC5vYmplY3RzTGlzdC5sZW5ndGg7czxuO3MrKykobz10aGlzLmJvYXJkLm9iamVjdHNMaXN0W3NdKS52aXNQcm9wQ2FsYy52aXNpYmxlJiZcImF4aXNcIiE9PW8uZWxUeXBlJiZcInRpY2tzXCIhPT1vLmVsVHlwZSYmbyE9PXRoaXMuYm9hcmQuaW5mb2JveCYmbyE9PXRoaXMmJm8uaGFzUG9pbnQodCxlKSYmaCsrO3JldHVybiB0aGlzLmJvYXJkLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50PWEsaH0sc2V0QXV0b1Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxuLGEsaCxsLGMsZCx1LHAsZixtLGcsYj10aGlzLnNpemVbMF0sdj10aGlzLnNpemVbMV0seT17Y29uZmxpY3RzOjEvMCxhbmdsZTowLHI6MH0sQz0yKk1hdGguUEkvMTI7aWYodGhpcz09PXRoaXMuYm9hcmQuaW5mb2JveHx8IXRoaXMudmlzUHJvcENhbGMudmlzaWJsZXx8IW8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmlzbGFiZWwpfHwhdGhpcy5lbGVtZW50KXJldHVybiB0aGlzO2lmKGM9by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Aub2Zmc2V0KSxpPShzPXRoaXMuZWxlbWVudC5nZXRMYWJlbEFuY2hvcigpKS5zY3JDb29yZHNbMV0scj1zLnNjckNvb3Jkc1syXSxwPWNbMF0sZj1jWzFdLDA9PT0obD10aGlzLmdldE51bWJlcm9mQ29uZmxpY3RzKGkrcCxyLWYsYix2KSkpcmV0dXJuIHRoaXM7Zm9yKDI4LGg9LjIqKGQ9MTIpLG49TWF0aC5hdGFuMihmLHApLHkuY29uZmxpY3RzPWwseS5hbmdsZT1uLHkucj1kO3kuY29uZmxpY3RzPjAmJmQ8Mjg7KXtmb3IodT0xLGE9bitDO3U8MTImJnkuY29uZmxpY3RzPjAmJih0PWkrZCoobT1NYXRoLmNvcyhhKSksZT1yLWQqKGc9TWF0aC5zaW4oYSkpLChsPXRoaXMuZ2V0TnVtYmVyb2ZDb25mbGljdHModCxlLGIsdikpPHkuY29uZmxpY3RzJiYoeS5jb25mbGljdHM9bCx5LmFuZ2xlPWEseS5yPWQpLDAhPT15LmNvbmZsaWN0cyk7dSsrKWErPUM7ZCs9aH1yZXR1cm4gZD15LnIsbT1NYXRoLmNvcyh5LmFuZ2xlKSxnPU1hdGguc2luKHkuYW5nbGUpLHRoaXMudmlzUHJvcC5vZmZzZXQ9W2QqbSxkKmddLHRoaXMudmlzUHJvcC5hbmNob3J4PW08LS4yP1wicmlnaHRcIjptPi4yP1wibGVmdFwiOlwibWlkZGxlXCIsdGhpc319KSx0LmNyZWF0ZVRleHQ9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLG49by5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcInRleHRcIiksaD1pLnNsaWNlKDAsLTEpLGw9aVtpLmxlbmd0aC0xXTtpZihuLmFuY2hvcj1uLnBhcmVudHx8bi5hbmNob3IsIShzPWEuY3JlYXRlKHQuVGV4dCxlLGgsbixsKSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSB0ZXh0IHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbeCx5XSwgW3oseCx5XSwgW2VsZW1lbnQsdHJhbnNmb3JtYXRpb25dXCIpO3JldHVybiAwIT09bi5yb3RhdGUmJlwiaW50ZXJuYWxcIj09PW4uZGlzcGxheSYmcy5hZGRSb3RhdGlvbihuLnJvdGF0ZSksc30sdC5yZWdpc3RlckVsZW1lbnQoXCJ0ZXh0XCIsdC5jcmVhdGVUZXh0KSx0LmNyZWF0ZUhUTUxTbGlkZXI9ZnVuY3Rpb24oZSxpLHIpe3ZhciBuLGEsbD1vLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiaHRtbHNsaWRlclwiKTtpZigyIT09aS5sZW5ndGh8fDIhPT1pWzBdLmxlbmd0aHx8MyE9PWlbMV0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgaHRtbHNsaWRlciB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudHMgYXJlOiBbW3gseV0sIFttaW4sIHN0YXJ0LCBtYXhdXVwiKTtsLmFuY2hvcj1sLnBhcmVudHx8bC5hbmNob3IsbC5maXhlZD1sLmZpeGVkfHwhMCxhPVtpWzBdWzBdLGlbMF1bMV0sJzxmb3JtIHN0eWxlPVwiZGlzcGxheTppbmxpbmVcIj48aW5wdXQgdHlwZT1cInJhbmdlXCIgLz48c3Bhbj48L3NwYW4+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgLz48L2Zvcm0+J10sKG49dC5jcmVhdGVUZXh0KGUsYSxsKSkudHlwZT1vLk9CSkVDVF9UWVBFX0hUTUxTTElERVIsbi5yZW5kTm9kZUZvcm09bi5yZW5kTm9kZS5jaGlsZE5vZGVzWzBdLG4ucmVuZE5vZGVSYW5nZT1uLnJlbmROb2RlRm9ybS5jaGlsZE5vZGVzWzBdLG4ucmVuZE5vZGVSYW5nZS5taW49aVsxXVswXSxuLnJlbmROb2RlUmFuZ2UubWF4PWlbMV1bMl0sbi5yZW5kTm9kZVJhbmdlLnN0ZXA9bC5zdGVwLG4ucmVuZE5vZGVSYW5nZS52YWx1ZT1pWzFdWzFdLG4ucmVuZE5vZGVMYWJlbD1uLnJlbmROb2RlRm9ybS5jaGlsZE5vZGVzWzFdLG4ucmVuZE5vZGVMYWJlbC5pZD1uLnJlbmROb2RlLmlkK1wiX2xhYmVsXCIsbC53aXRobGFiZWwmJihuLnJlbmROb2RlTGFiZWwuaW5uZXJIVE1MPW4ubmFtZStcIj1cIiksbi5yZW5kTm9kZU91dD1uLnJlbmROb2RlRm9ybS5jaGlsZE5vZGVzWzJdLG4ucmVuZE5vZGVPdXQudmFsdWU9aVsxXVsxXTt0cnl7bi5yZW5kTm9kZUZvcm0uaWQ9bi5yZW5kTm9kZS5pZCtcIl9mb3JtXCIsbi5yZW5kTm9kZVJhbmdlLmlkPW4ucmVuZE5vZGUuaWQrXCJfcmFuZ2VcIixuLnJlbmROb2RlT3V0LmlkPW4ucmVuZE5vZGUuaWQrXCJfb3V0XCJ9Y2F0Y2goZSl7dC5kZWJ1ZyhlKX1yZXR1cm4gbi5yZW5kTm9kZVJhbmdlLnN0eWxlLndpZHRoPWwud2lkdGhyYW5nZStcInB4XCIsbi5yZW5kTm9kZVJhbmdlLnN0eWxlLnZlcnRpY2FsQWxpZ249XCJtaWRkbGVcIixuLnJlbmROb2RlT3V0LnN0eWxlLndpZHRoPWwud2lkdGhvdXQrXCJweFwiLG4uX3ZhbD1pWzFdWzFdLHQuc3VwcG9ydHNWTUwoKT9zLmFkZEV2ZW50KG4ucmVuZE5vZGVGb3JtLFwiY2hhbmdlXCIsaCxuKTpzLmFkZEV2ZW50KG4ucmVuZE5vZGVGb3JtLFwiaW5wdXRcIixoLG4pLG4uVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsfSxufSx0LnJlZ2lzdGVyRWxlbWVudChcImh0bWxzbGlkZXJcIix0LmNyZWF0ZUhUTUxTbGlkZXIpLHtUZXh0OnQuVGV4dCxjcmVhdGVUZXh0OnQuY3JlYXRlVGV4dCxjcmVhdGVIVE1MU2xpZGVyOnQuY3JlYXRlSFRNTFNsaWRlcn19KSksZGVmaW5lKFwidXRpbHMvdXVpZFwiLFtcImp4Z1wiXSwoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9XCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLnNwbGl0KFwiXCIpO3JldHVybiB0LlV0aWw9dC5VdGlsfHx7fSx0LlV0aWwuZ2VuVVVJRD1mdW5jdGlvbih0KXt2YXIgaSxyLHM9W10sbz0wO2ZvcihcIlwiIT09KHQ9dHx8XCJcIikmJlwiLVwiIT09dC5zdWJzdHIodC5sZW5ndGgtMSkmJih0Kz1cIi1cIikscj0wO3I8MzY7cisrKTg9PT1yfHwxMz09PXJ8fDE4PT09cnx8MjM9PT1yP3Nbcl09XCItXCI6MTQ9PT1yP3Nbcl09XCI0XCI6KG88PTImJihvPTMzNTU0NDMyKzE2Nzc3MjE2Kk1hdGgucmFuZG9tKCl8MCksaT0xNSZvLG8+Pj00LHNbcl09ZVsxOT09PXI/MyZpfDg6aV0pO3JldHVybiB0K3Muam9pbihcIlwiKX0sdC5VdGlsfSkpLGRlZmluZShcInBhcnNlci9qZXNzaWVjb2RlXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS90ZXh0XCIsXCJtYXRoL21hdGhcIixcIm1hdGgvaWFcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMvdXVpZFwiLFwidXRpbHMvZW52XCJdLChmdW5jdGlvbihKWEcsQ29uc3QsVGV4dCxNYXQsSW50ZXJ2YWwsR2VvbWV0cnksU3RhdGlzdGljcyxUeXBlLFVVSUQsRW52KXtPYmplY3QuY3JlYXRlfHwoT2JqZWN0LmNyZWF0ZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgcHJvdG90eXBlIG1heSBvbmx5IGJlIGFuIE9iamVjdDogXCIrdCk7aWYobnVsbD09PXQpdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBicm93c2VyJ3MgaW1wbGVtZW50YXRpb24gb2YgT2JqZWN0LmNyZWF0ZSBpcyBhIHNoaW0gYW5kIGRvZXNuJ3Qgc3VwcG9ydCAnbnVsbCcgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LlwiKTtpZih2b2lkIDAhPT1lKXRocm93IG5ldyBFcnJvcihcIlRoaXMgYnJvd3NlcidzIGltcGxlbWVudGF0aW9uIG9mIE9iamVjdC5jcmVhdGUgaXMgYSBzaGltIGFuZCBkb2Vzbid0IHN1cHBvcnQgYSBzZWNvbmQgYXJndW1lbnQuXCIpO2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkucHJvdG90eXBlPXQsbmV3IGl9KTt2YXIgcHJpdj17bW9kdWxlczp7bWF0aDpNYXQsXCJtYXRoL2dlb21ldHJ5XCI6R2VvbWV0cnksXCJtYXRoL3N0YXRpc3RpY3NcIjpTdGF0aXN0aWNzLFwibWF0aC9udW1lcmljc1wiOk1hdC5OdW1lcmljc319LHIsX2NjYWNoZTtKWEcuSmVzc2llQ29kZT1mdW5jdGlvbih0LGUpe3RoaXMuc2NvcGU9e2lkOjAsaGFzQ2hpbGQ6ITAsYXJnczpbXSxsb2NhbHM6e30sY29udGV4dDpudWxsLHByZXZpb3VzOm51bGx9LHRoaXMuc2NvcGVzPVtdLHRoaXMuc2NvcGVzLnB1c2godGhpcy5zY29wZSksdGhpcy5kcHN0YWNrPVtbXV0sdGhpcy5wc2NvcGU9MCx0aGlzLnByb3BzdGFjaz1be31dLHRoaXMucHJvcHNjb3BlPTAsdGhpcy5saHM9W10sdGhpcy5pc0xIUz0hMSx0aGlzLndhcm5Mb2c9XCJqY3dhcm5cIix0aGlzLiRsb2c9W10sdGhpcy5idWlsdEluPXRoaXMuZGVmaW5lQnVpbHRJbigpLHRoaXMub3BlcmFuZHM9dGhpcy5nZXRQb3NzaWJsZU9wZXJhbmRzKCksdGhpcy5ib2FyZD1udWxsLHRoaXMubGluZVRvRWxlbWVudD17fSx0aGlzLnBhckN1ckxpbmU9MSx0aGlzLnBhckN1ckNvbHVtbj0wLHRoaXMubGluZT0xLHRoaXMuY29sPTEsSlhHLkNBJiYodGhpcy5DQT1uZXcgSlhHLkNBKHRoaXMubm9kZSx0aGlzLmNyZWF0ZU5vZGUsdGhpcykpLHRoaXMuY29kZT1cIlwiLFwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0aGlzLnBhcnNlKHQsZSl9LEpYRy5leHRlbmQoSlhHLkplc3NpZUNvZGUucHJvdG90eXBlLHtub2RlOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm57dHlwZTp0LHZhbHVlOmUsY2hpbGRyZW46aX19LGNyZWF0ZU5vZGU6ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM9dGhpcy5ub2RlKHQsZSxbXSk7Zm9yKHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXMuY2hpbGRyZW4ucHVzaChhcmd1bWVudHNbcl0pO3JldHVyblwibm9kZV9jb25zdFwiPT1zLnR5cGUmJlR5cGUuaXNOdW1iZXIocy52YWx1ZSkmJihzLmlzTWF0aD0hMCkscy5saW5lPXRoaXMucGFyQ3VyTGluZSxzLmNvbD10aGlzLnBhckN1ckNvbHVtbixzfSxwdXNoU2NvcGU6ZnVuY3Rpb24odCl7dmFyIGU9e2FyZ3M6dCxsb2NhbHM6e30sY29udGV4dDpudWxsLHByZXZpb3VzOnRoaXMuc2NvcGV9O3JldHVybiB0aGlzLnNjb3BlLmhhc0NoaWxkPSEwLHRoaXMuc2NvcGU9ZSxlLmlkPXRoaXMuc2NvcGVzLnB1c2goZSktMSxlfSxwb3BTY29wZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2NvcGUucHJldmlvdXM7cmV0dXJuIHRoaXMuc2NvcGU9bnVsbCE9PXQ/dDp0aGlzLnNjb3BlLHRoaXMuc2NvcGV9LGdldEVsZW1lbnRCeUlkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmJvYXJkLm9iamVjdHNbdF19LGxvZzpmdW5jdGlvbigpe3RoaXMuJGxvZy5wdXNoKGFyZ3VtZW50cyksXCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nJiZjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9LGNyZWF0b3I6KF9jY2FjaGU9e30sKHI9ZnVuY3Rpb24odCl7dmFyIGUsaTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBfY2NhY2hlW3RoaXMuYm9hcmQuaWQrdF0/ZT1fY2NhY2hlW3RoaXMuYm9hcmQuaWQrdF06KGk9dGhpcywoZT1mdW5jdGlvbihlLHIpe3ZhciBzO3JldHVybiB2b2lkIDA9PT0ocz1UeXBlLmV4aXN0cyhyKT9yOnt9KS5uYW1lJiZ2b2lkIDA9PT1zLmlkJiYocy5uYW1lPTAhPT1pLmxoc1tpLnNjb3BlLmlkXT9pLmxoc1tpLnNjb3BlLmlkXTpcIlwiKSxpLmJvYXJkLmNyZWF0ZSh0LGUscyl9KS5jcmVhdG9yPSEwLF9jY2FjaGVbdGhpcy5ib2FyZC5pZCt0XT1lKSxlfSkuY2xlYXJDYWNoZT1mdW5jdGlvbigpe19jY2FjaGU9e319LHIpLGxldHZhcjpmdW5jdGlvbih0LGUpe3RoaXMuYnVpbHRJblt0XSYmdGhpcy5fd2FybignXCInK3QrJ1wiIGlzIGEgcHJlZGVmaW5lZCB2YWx1ZS4nKSx0aGlzLnNjb3BlLmxvY2Fsc1t0XT1lfSxpc0xvY2FsVmFyaWFibGU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuc2NvcGU7bnVsbCE9PWU7KXtpZihUeXBlLmV4aXN0cyhlLmxvY2Fsc1t0XSkpcmV0dXJuIGU7ZT1lLnByZXZpb3VzfXJldHVybiBudWxsfSxpc1BhcmFtZXRlcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5zY29wZTtudWxsIT09ZTspe2lmKFR5cGUuaW5kZXhPZihlLmFyZ3MsdCk+LTEpcmV0dXJuIGU7ZT1lLnByZXZpb3VzfXJldHVybiBudWxsfSxpc0NyZWF0b3I6ZnVuY3Rpb24odCl7cmV0dXJuISFKWEcuZWxlbWVudHNbdF19LGlzTWF0aE1ldGhvZDpmdW5jdGlvbih0KXtyZXR1cm5cIkVcIiE9PXQmJiEhTWF0aFt0XX0saXNCdWlsdEluOmZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5idWlsdEluW3RdfSxnZXR2YXI6ZnVuY3Rpb24odCxlLGkpe3ZhciByO2lmKGU9VHlwZS5kZWYoZSwhMSksbnVsbCE9PShyPXRoaXMuaXNMb2NhbFZhcmlhYmxlKHQpKSlyZXR1cm4gci5sb2NhbHNbdF07aWYoXCIkYm9hcmRcIj09PXR8fFwiRVVMRVJcIj09PXR8fFwiUElcIj09PXQpcmV0dXJuIHRoaXMuYnVpbHRJblt0XTtpZihpKXtpZih0aGlzLmlzQnVpbHRJbih0KSlyZXR1cm4gdGhpcy5idWlsdEluW3RdO2lmKHRoaXMuaXNNYXRoTWV0aG9kKHQpKXJldHVybiBNYXRoW3RdO2lmKHRoaXMuaXNDcmVhdG9yKHQpKXJldHVybiB0aGlzLmNyZWF0b3IodCl9cmV0dXJuIGV8fChyPXRoaXMuYm9hcmQuc2VsZWN0KHQpKT09PXQ/dm9pZCAwOnJ9LHJlc29sdmU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuc2NvcGU7bnVsbCE9PWU7KXtpZihUeXBlLmV4aXN0cyhlLmxvY2Fsc1t0XSkpcmV0dXJuIGUubG9jYWxzW3RdO2U9ZS5wcmV2aW91c319LGdldHZhckpTOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzPVwiXCI7cmV0dXJuIGU9VHlwZS5kZWYoZSwhMSksaT1UeXBlLmRlZihpLCExKSxudWxsIT09dGhpcy5pc1BhcmFtZXRlcih0KT90Om51bGw9PT10aGlzLmlzTG9jYWxWYXJpYWJsZSh0KXx8aT90aGlzLmlzQ3JlYXRvcih0KT9cIihmdW5jdGlvbiAoKSB7IHZhciBhID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSwgcHJvcHMgPSBcIisoaT9cImEucG9wKClcIjpcInt9XCIpK1wiOyByZXR1cm4gJGpjJC5ib2FyZC5jcmVhdGUuYXBwbHkoJGpjJC5ib2FyZCwgWydcIit0K1wiJ10uY29uY2F0KFthLCBwcm9wc10pKTsgfSlcIjooaSYmdGhpcy5fZXJyb3IoXCJTeW50YXggZXJyb3IgKGF0dHJpYnV0ZSB2YWx1ZXMgYXJlIGFsbG93ZWQgd2l0aCBlbGVtZW50IGNyZWF0b3JzIG9ubHkpXCIpLHRoaXMuaXNCdWlsdEluKHQpPyhzPXRoaXMuYnVpbHRJblt0XS5zcmN8fHRoaXMuYnVpbHRJblt0XSxUeXBlLmlzTnVtYmVyKHMpfHxzLm1hdGNoKC9ib2FyZFxcLnNlbGVjdC8pP3M6KHQ9cy5zcGxpdChcIi5cIikucG9wKCksVHlwZS5leGlzdHModGhpcy5ib2FyZC5tYXRoTGliKSYmbnVsbCE9PShyPW5ldyBSZWdFeHAoXCJeTWF0aC5cIit0KSkuZXhlYyhzKT9zLnJlcGxhY2UocixcIiRqYyQuYm9hcmQubWF0aExpYi5cIit0KTpUeXBlLmV4aXN0cyh0aGlzLmJvYXJkLm1hdGhMaWJKWEcpJiZudWxsIT09KHI9bmV3IFJlZ0V4cChcIl5KWEcuTWF0aC5cIikpLmV4ZWMocyk/cy5yZXBsYWNlKHIsXCIkamMkLmJvYXJkLm1hdGhMaWJKWEcuXCIpOnMpKTp0aGlzLmlzTWF0aE1ldGhvZCh0KT9cIiRqYyQuYm9hcmQubWF0aExpYi5cIit0OmU/XCJcIjooVHlwZS5pc0lkKHRoaXMuYm9hcmQsdCk/KHM9XCIkamMkLmJvYXJkLm9iamVjdHNbJ1wiK3QrXCInXVwiLFwic2xpZGVyXCI9PT10aGlzLmJvYXJkLm9iamVjdHNbdF0uZWxUeXBlJiYocys9XCIuVmFsdWUoKVwiKSk6VHlwZS5pc05hbWUodGhpcy5ib2FyZCx0KT8ocz1cIiRqYyQuYm9hcmQuZWxlbWVudHNCeU5hbWVbJ1wiK3QrXCInXVwiLFwic2xpZGVyXCI9PT10aGlzLmJvYXJkLmVsZW1lbnRzQnlOYW1lW3RdLmVsVHlwZSYmKHMrPVwiLlZhbHVlKClcIikpOlR5cGUuaXNHcm91cCh0aGlzLmJvYXJkLHQpJiYocz1cIiRqYyQuYm9hcmQuZ3JvdXBzWydcIit0K1wiJ11cIikscykpOlwiJGpjJC5yZXNvbHZlKCdcIit0K1wiJylcIn0sbWFrZU1hcDpmdW5jdGlvbih0KXtyZXR1cm4gdC5pc01hcD0hMCx0fSxmdW5jdGlvbkNvZGVKUzpmdW5jdGlvbih0KXt2YXIgZT10LmNoaWxkcmVuWzBdLmpvaW4oXCIsIFwiKSxpPVwiXCIscj1cIlwiO3JldHVyblwib3BfbWFwXCI9PT10LnZhbHVlJiYoaT1cInsgcmV0dXJuICBcIixyPVwiIH1cIiksXCJmdW5jdGlvbiAoXCIrZStcIikge1xcbnZhciAkb2xkc2NvcGUkID0gJGpjJC5zY29wZTtcXG4kamMkLnNjb3BlID0gJGpjJC5zY29wZXNbXCIrdGhpcy5zY29wZS5pZCtcIl07XFxudmFyIHIgPSAoZnVuY3Rpb24gKCkgXCIraSt0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSwhMCkrcitcIikoKTtcXG4kamMkLnNjb3BlID0gJG9sZHNjb3BlJDtcXG5yZXR1cm4gcjtcXG59XCJ9LGRlZmluZUZ1bmN0aW9uOmZ1bmN0aW9uKG5vZGUpe3ZhciBmdW4saSx0aGF0PXRoaXMsbGlzdD1ub2RlLmNoaWxkcmVuWzBdLHNjb3BlPXRoaXMucHVzaFNjb3BlKGxpc3QpLF90aGF0O2lmKHRoaXMuYm9hcmQub3B0aW9ucy5qYy5jb21waWxlKXtmb3IodGhpcy5pc0xIUz0hMSxpPTA7aTxsaXN0Lmxlbmd0aDtpKyspc2NvcGUubG9jYWxzW2xpc3RbaV1dPWxpc3RbaV07dGhpcy5yZXBsYWNlTmFtZXMobm9kZS5jaGlsZHJlblsxXSksZnVuPWZ1bmN0aW9uKCRqYyQpe3ZhciBmdW4sc3RyPVwidmFyIGYgPSBcIiskamMkLmZ1bmN0aW9uQ29kZUpTKG5vZGUpK1wiOyBmO1wiO3RyeXtmb3IoZnVuPWV2YWwoc3RyKSxzY29wZS5hcmd0eXBlcz1bXSxpPTA7aTxsaXN0Lmxlbmd0aDtpKyspc2NvcGUuYXJndHlwZXMucHVzaCh0aGF0LnJlc29sdmVUeXBlKGxpc3RbaV0sbm9kZSkpO3JldHVybiBmdW59Y2F0Y2godCl7cmV0dXJuICRqYyQuX3dhcm4oXCJlcnJvciBjb21waWxpbmcgZnVuY3Rpb25cXG5cXG5cIitzdHIrXCJcXG5cXG5cIit0LnRvU3RyaW5nKCkpLGZ1bmN0aW9uKCl7fX19KHRoaXMpLHRoaXMucG9wU2NvcGUoKX1lbHNlIGZ1bj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHIscztmb3Iocz1lLnNjb3BlLGUuc2NvcGU9ZS5zY29wZXNbaV0scj0wO3I8dC5sZW5ndGg7cisrKWUuc2NvcGUubG9jYWxzW3Rbcl1dPWFyZ3VtZW50c1tyXTtyZXR1cm4gcj1lLmV4ZWN1dGUobm9kZS5jaGlsZHJlblsxXSksZS5zY29wZT1zLHJ9fShsaXN0LHRoaXMsc2NvcGUuaWQpO3JldHVybiBmdW4ubm9kZT1ub2RlLGZ1bi5zY29wZT1zY29wZSxmdW4udG9KUz1mdW4udG9TdHJpbmcsZnVuLnRvU3RyaW5nPShfdGhhdD10aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIF90aGF0LmNvbXBpbGUoX3RoYXQucmVwbGFjZUlEcyhUeXBlLmRlZXBDb3B5KG5vZGUpKSl9KSxmdW4uZGVwcz17fSx0aGlzLmNvbGxlY3REZXBlbmRlbmNpZXMobm9kZS5jaGlsZHJlblsxXSxmdW4uZGVwcyksZnVufSxtZXJnZUF0dHJpYnV0ZXM6ZnVuY3Rpb24odCl7dmFyIGUsaT17fTtmb3IoZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspaT1UeXBlLmRlZXBDb3B5KGksYXJndW1lbnRzW2VdLCEwKTtyZXR1cm4gaX0sc2V0UHJvcDpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvPXt9O3QuZWxlbWVudENsYXNzIT09Q29uc3QuT0JKRUNUX0NMQVNTX1BPSU5UfHxcIlhcIiE9PWUmJlwiWVwiIT09ZT90LmVsZW1lbnRDbGFzcyE9PUNvbnN0Lk9CSkVDVF9DTEFTU19URVhUfHxcIlhcIiE9PWUmJlwiWVwiIT09ZT90LnR5cGUmJnQuZWxlbWVudENsYXNzJiZ0LnZpc1Byb3A/VHlwZS5leGlzdHModFt0Lm1ldGhvZE1hcFtlXV0pJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0W3QubWV0aG9kTWFwW2VdXT90W3QubWV0aG9kTWFwW2VdXT1pOihvW2VdPWksdC5zZXRBdHRyaWJ1dGUobykpOnRbZV09aTooXCJudW1iZXJcIj09dHlwZW9mIGk/dFtlXT1mdW5jdGlvbigpe3JldHVybiBpfTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBpPyh0LmlzRHJhZ2dhYmxlPSExLHRbZV09aSk6XCJzdHJpbmdcIj09dHlwZW9mIGkmJih0LmlzRHJhZ2dhYmxlPSExLHRbZV09VHlwZS5jcmVhdGVGdW5jdGlvbihpLHRoaXMuYm9hcmQsbnVsbCwhMCksdFtlK1wiamNcIl09aSksdFtlXS5vcmlnaW49aSx0aGlzLmJvYXJkLnVwZGF0ZSgpKTooZT1lLnRvTG93ZXJDYXNlKCksdC5pc0RyYWdnYWJsZSYmXCJudW1iZXJcIj09dHlwZW9mIGk/KHI9XCJ4XCI9PT1lP2k6dC5YKCkscz1cInlcIj09PWU/aTp0LlkoKSx0LnNldFBvc2l0aW9uKENvbnN0LkNPT1JEU19CWV9VU0VSLFtyLHNdKSk6IXQuaXNEcmFnZ2FibGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJlwic3RyaW5nXCIhPXR5cGVvZiBpP3QuaXNEcmFnZ2FibGV8fChyPVwieFwiPT09ZT9pOnQuWEV2YWwub3JpZ2luLHM9XCJ5XCI9PT1lP2k6dC5ZRXZhbC5vcmlnaW4sdC5hZGRDb25zdHJhaW50KFtyLHNdKSk6KHI9XCJ4XCI9PT1lP2k6dC5jb29yZHMudXNyQ29vcmRzWzFdLHM9XCJ5XCI9PT1lP2k6dC5jb29yZHMudXNyQ29vcmRzWzJdLHQuYWRkQ29uc3RyYWludChbcixzXSkpLHRoaXMuYm9hcmQudXBkYXRlKCkpfSxfZ2VuZXJpY1BhcnNlOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG8sbixhLGg9dC5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKS5zcGxpdChcIlxcblwiKSxsPVtdO3J8fCh0aGlzLmNvZGUrPXQrXCJcXG5cIiksVGV4dCYmKG89VGV4dC5UZXh0LnByb3RvdHlwZS5zZXRUZXh0LFRleHQuVGV4dC5wcm90b3R5cGUuc2V0VGV4dD1UZXh0LlRleHQucHJvdG90eXBlLnNldFRleHRKZXNzaWVDb2RlKTt0cnl7Zm9yKFR5cGUuZXhpc3RzKGkpfHwoaT0hMSkscz0wO3M8aC5sZW5ndGg7cysrKWkmJihoW3NdPUpYRy5HZW9uZXh0UGFyc2VyLmdlb25leHQySlMoaFtzXSx0aGlzLmJvYXJkKSksbC5wdXNoKGhbc10pO3N3aXRjaCh0PWwuam9pbihcIlxcblwiKSxuPXBhcnNlci5wYXJzZSh0KSx0aGlzLkNBJiYobj10aGlzLkNBLmV4cGFuZERlcml2YXRpdmVzKG4sbnVsbCxuKSxuPXRoaXMuQ0EucmVtb3ZlVHJpdmlhbE5vZGVzKG4pKSxlKXtjYXNlXCJwYXJzZVwiOmE9dGhpcy5leGVjdXRlKG4pO2JyZWFrO2Nhc2VcIm1hbmlwdWxhdGVcIjphPXRoaXMuY29tcGlsZShuKTticmVhaztjYXNlXCJnZXRBc3RcIjphPW47YnJlYWs7ZGVmYXVsdDphPSExfX1jYXRjaCh0KXt0aHJvdyB0fWZpbmFsbHl7VGV4dCYmKFRleHQuVGV4dC5wcm90b3R5cGUuc2V0VGV4dD1vKX1yZXR1cm4gYX0scGFyc2U6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLl9nZW5lcmljUGFyc2UodCxcInBhcnNlXCIsZSxpKX0sbWFuaXB1bGF0ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2dlbmVyaWNQYXJzZSh0LFwibWFuaXB1bGF0ZVwiLGUsaSl9LGdldEFTVDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuX2dlbmVyaWNQYXJzZSh0LFwiZ2V0QXN0XCIsZSxpKX0sc25pcHBldDpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcztyZXR1cm4gZT1UeXBlLmRlZihlLCEwKSxpPVR5cGUuZGVmKGksXCJcIikscj1UeXBlLmRlZihyLCExKSxzPShlP1wiIGZ1bmN0aW9uIChcIitpK1wiKSB7IHJldHVybiBcIjpcIlwiKSt0KyhlP1wiOyB9XCI6XCJcIikrXCI7XCIsdGhpcy5wYXJzZShzLHIsITApfSxyZXBsYWNlSURzOmZ1bmN0aW9uKHQpe3ZhciBlLGk7aWYodC5yZXBsYWNlZCYmKGk9dGhpcy5ib2FyZC5vYmplY3RzW3QuY2hpbGRyZW5bMV1bMF0udmFsdWVdLFR5cGUuZXhpc3RzKGkpJiZcIlwiIT09aS5uYW1lJiYodC50eXBlPVwibm9kZV92YXJcIix0LnZhbHVlPWkubmFtZSx0LmNoaWxkcmVuLmxlbmd0aD0wLGRlbGV0ZSB0LnJlcGxhY2VkKSksVHlwZS5pc0FycmF5KHQpKWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXT10aGlzLnJlcGxhY2VJRHModFtlXSk7aWYodC5jaGlsZHJlbilmb3IoZT10LmNoaWxkcmVuLmxlbmd0aDtlPjA7ZS0tKVR5cGUuZXhpc3RzKHQuY2hpbGRyZW5bZS0xXSkmJih0LmNoaWxkcmVuW2UtMV09dGhpcy5yZXBsYWNlSURzKHQuY2hpbGRyZW5bZS0xXSkpO3JldHVybiB0fSxyZXBsYWNlTmFtZXM6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZihpPXQudmFsdWUsXCJub2RlX29wXCI9PT10LnR5cGUmJlwib3BfbGhzXCI9PT1pJiYxPT09dC5jaGlsZHJlbi5sZW5ndGg/dGhpcy5pc0xIUz0hMDpcIm5vZGVfdmFyXCI9PT10LnR5cGUmJih0aGlzLmlzTEhTP3RoaXMubGV0dmFyKGksITApOiFUeXBlLmV4aXN0cyh0aGlzLmdldHZhcihpLCEwKSkmJlR5cGUuZXhpc3RzKHRoaXMuYm9hcmQuZWxlbWVudHNCeU5hbWVbaV0pJiYodD10aGlzLmNyZWF0ZVJlcGxhY2VtZW50Tm9kZSh0KSkpLFR5cGUuaXNBcnJheSh0KSlmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09dGhpcy5yZXBsYWNlTmFtZXModFtlXSk7aWYodC5jaGlsZHJlbilmb3IoZT10LmNoaWxkcmVuLmxlbmd0aDtlPjA7ZS0tKVR5cGUuZXhpc3RzKHQuY2hpbGRyZW5bZS0xXSkmJih0LmNoaWxkcmVuW2UtMV09dGhpcy5yZXBsYWNlTmFtZXModC5jaGlsZHJlbltlLTFdKSk7cmV0dXJuXCJub2RlX29wXCI9PT10LnR5cGUmJlwib3BfbGhzXCI9PT10LnZhbHVlJiYxPT09dC5jaGlsZHJlbi5sZW5ndGgmJih0aGlzLmlzTEhTPSExKSx0fSxjcmVhdGVSZXBsYWNlbWVudE5vZGU6ZnVuY3Rpb24odCl7dmFyIGU9dC52YWx1ZSxpPXRoaXMuYm9hcmQuZWxlbWVudHNCeU5hbWVbZV07cmV0dXJuKHQ9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCIkXCIpLFt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX3N0clwiLGkuaWQpXSkpLnJlcGxhY2VkPSEwLHR9LGNvbGxlY3REZXBlbmRlbmNpZXM6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbztpZihUeXBlLmlzQXJyYXkodCkpZm9yKG89dC5sZW5ndGgsaT0wO2k8bztpKyspdGhpcy5jb2xsZWN0RGVwZW5kZW5jaWVzKHRbaV0sZSk7ZWxzZSBpZihyPXQudmFsdWUsXCJub2RlX3ZhclwiPT09dC50eXBlJiYocz10aGlzLmdldHZhcihyKSkmJnMudmlzUHJvcCYmcy50eXBlJiZzLmVsZW1lbnRDbGFzcyYmcy5pZCYmKGVbcy5pZF09cyksXCJub2RlX29wXCI9PT10LnR5cGUmJlwib3BfZXhlY2Z1blwiPT09dC52YWx1ZSYmdC5jaGlsZHJlbi5sZW5ndGg+MSYmXCIkXCI9PT10LmNoaWxkcmVuWzBdLnZhbHVlJiZ0LmNoaWxkcmVuWzFdLmxlbmd0aD4wJiYoZVtzPXQuY2hpbGRyZW5bMV1bMF0udmFsdWVdPXRoaXMuYm9hcmQub2JqZWN0c1tzXSksdC5jaGlsZHJlbilmb3IoaT10LmNoaWxkcmVuLmxlbmd0aDtpPjA7aS0tKVR5cGUuZXhpc3RzKHQuY2hpbGRyZW5baS0xXSkmJnRoaXMuY29sbGVjdERlcGVuZGVuY2llcyh0LmNoaWxkcmVuW2ktMV0sZSl9LHJlc29sdmVQcm9wZXJ0eTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGk9VHlwZS5kZWYoaSwhMSksdCYmdC5tZXRob2RNYXAmJihUeXBlLmV4aXN0cyh0LnN1YnMpJiZUeXBlLmV4aXN0cyh0LnN1YnNbZV0pP3Q9dC5zdWJzOlR5cGUuZXhpc3RzKHQubWV0aG9kTWFwW2VdKT9lPXQubWV0aG9kTWFwW2VdOih0PXQudmlzUHJvcCxlPWUudG9Mb3dlckNhc2UoKSkpLFR5cGUuaXNGdW5jdGlvbih0KSYmdGhpcy5fZXJyb3IoXCJBY2Nlc3NpbmcgZnVuY3Rpb24gcHJvcGVydGllcyBpcyBub3QgYWxsb3dlZC5cIiksVHlwZS5leGlzdHModCl8fHRoaXMuX2Vycm9yKHQrXCIgaXMgbm90IGFuIG9iamVjdFwiKSxUeXBlLmV4aXN0cyh0W2VdKXx8dGhpcy5fZXJyb3IoXCJ1bmtub3duIHByb3BlcnR5IFwiK2UpLGkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbZV0/ZnVuY3Rpb24oKXtyZXR1cm4gdFtlXS5hcHBseSh0LGFyZ3VtZW50cyl9OnRbZV19LHJlc29sdmVUeXBlOmZ1bmN0aW9uKHQsZSl7dmFyIGkscjtpZihUeXBlLmlzQXJyYXkoZSkpZm9yKGk9MDtpPGUubGVuZ3RoO2krKylpZihcImFueVwiIT09KHI9dGhpcy5yZXNvbHZlVHlwZSh0LGVbaV0pKSlyZXR1cm4gcjtpZihcIm5vZGVfb3BcIj09PWUudHlwZSYmXCJvcF9leGVjZnVuXCI9PT1lLnZhbHVlJiZcIm5vZGVfdmFyXCI9PT1lLmNoaWxkcmVuWzBdLnR5cGUmJmUuY2hpbGRyZW5bMF0udmFsdWU9PT10KXJldHVyblwiZnVuY3Rpb25cIjtpZihcIm5vZGVfb3BcIj09PWUudHlwZSl7Zm9yKGk9MDtpPGUuY2hpbGRyZW4ubGVuZ3RoO2krKylpZihcIm5vZGVfdmFyXCI9PT1lLmNoaWxkcmVuWzBdLnR5cGUmJmUuY2hpbGRyZW5bMF0udmFsdWU9PT10JiYoXCJvcF9hZGRcIj09PWUudmFsdWV8fFwib3Bfc3ViXCI9PT1lLnZhbHVlfHxcIm9wX211bFwiPT09ZS52YWx1ZXx8XCJvcF9kaXZcIj09PWUudmFsdWV8fFwib3BfbW9kXCI9PT1lLnZhbHVlfHxcIm9wX2V4cFwiPT09ZS52YWx1ZXx8XCJvcF9uZWdcIj09PWUudmFsdWUpKXJldHVyblwiYW55XCI7Zm9yKGk9MDtpPGUuY2hpbGRyZW4ubGVuZ3RoO2krKylpZihcImFueVwiIT09KHI9dGhpcy5yZXNvbHZlVHlwZSh0LGUuY2hpbGRyZW5baV0pKSlyZXR1cm4gcn1yZXR1cm5cImFueVwifSxnZXRMSFM6ZnVuY3Rpb24odCl7dmFyIGU7aWYoXCJub2RlX3ZhclwiPT09dC50eXBlKWU9e286dGhpcy5zY29wZS5sb2NhbHMsd2hhdDp0LnZhbHVlfTtlbHNlIGlmKFwibm9kZV9vcFwiPT09dC50eXBlJiZcIm9wX3Byb3BlcnR5XCI9PT10LnZhbHVlKWU9e286dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLHdoYXQ6dC5jaGlsZHJlblsxXX07ZWxzZXtpZihcIm5vZGVfb3BcIiE9PXQudHlwZXx8XCJvcF9leHR2YWx1ZVwiIT09dC52YWx1ZSl0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3I6IEludmFsaWQgbGVmdC1oYW5kIHNpZGUgb2YgYXNzaWdubWVudC5cIik7ZT17bzp0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSksd2hhdDp0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSl9fXJldHVybiBlfSxnZXRMSFNDb21waWxlcjpmdW5jdGlvbih0LGUpe3ZhciBpO2lmKFwibm9kZV92YXJcIj09PXQudHlwZSlpPXQudmFsdWU7ZWxzZSBpZihcIm5vZGVfb3BcIj09PXQudHlwZSYmXCJvcF9wcm9wZXJ0eVwiPT09dC52YWx1ZSlpPVt0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKSxcIidcIit0LmNoaWxkcmVuWzFdK1wiJ1wiXTtlbHNle2lmKFwibm9kZV9vcFwiIT09dC50eXBlfHxcIm9wX2V4dHZhbHVlXCIhPT10LnZhbHVlKXRocm93IG5ldyBFcnJvcihcIlN5bnRheCBlcnJvcjogSW52YWxpZCBsZWZ0LWhhbmQgc2lkZSBvZiBhc3NpZ25tZW50LlwiKTtpPVt0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKSxcIm5vZGVfY29uc3RcIj09PXQuY2hpbGRyZW5bMV0udHlwZT90LmNoaWxkcmVuWzFdLnZhbHVlOnRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpXX1yZXR1cm4gaX0sZXhlY3V0ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG4sYSxoLGwsYyxkPVtdO2lmKGU9MCwhdClyZXR1cm4gZTtzd2l0Y2godGhpcy5saW5lPXQubGluZSx0aGlzLmNvbD10LmNvbCx0LnR5cGUpe2Nhc2VcIm5vZGVfb3BcIjpzd2l0Y2godC52YWx1ZSl7Y2FzZVwib3Bfbm9uZVwiOnQuY2hpbGRyZW5bMF0mJnRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSx0LmNoaWxkcmVuWzFdJiYoZT10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSkpO2JyZWFrO2Nhc2VcIm9wX2Fzc2lnblwiOmk9dGhpcy5nZXRMSFModC5jaGlsZHJlblswXSksdGhpcy5saHNbdGhpcy5zY29wZS5pZF09aS53aGF0LGkuby50eXBlJiZpLm8uZWxlbWVudENsYXNzJiZpLm8ubWV0aG9kTWFwJiZcImxhYmVsXCI9PT1pLndoYXQmJnRoaXMuX2Vycm9yKFwiTGVmdC1oYW5kIHNpZGUgb2YgYXNzaWdubWVudCBpcyByZWFkLW9ubHkuXCIpLGU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pLGkubyE9PXRoaXMuc2NvcGUubG9jYWxzfHxUeXBlLmlzQXJyYXkoaS5vKSYmXCJudW1iZXJcIj09dHlwZW9mIGkud2hhdD90aGlzLnNldFByb3AoaS5vLGkud2hhdCxlKTp0aGlzLmxldHZhcihpLndoYXQsZSksdGhpcy5saHNbdGhpcy5zY29wZS5pZF09MDticmVhaztjYXNlXCJvcF9pZlwiOnRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSYmKGU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pKTticmVhaztjYXNlXCJvcF9jb25kaXRpb25hbFwiOmNhc2VcIm9wX2lmX2Vsc2VcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKT90aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSk6dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMl0pO2JyZWFrO2Nhc2VcIm9wX3doaWxlXCI6Zm9yKDt0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSk7KXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9kb1wiOmRve3RoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKX13aGlsZSh0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSkpO2JyZWFrO2Nhc2VcIm9wX2ZvclwiOmZvcih0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSk7dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pO3RoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzJdKSl0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblszXSk7YnJlYWs7Y2FzZVwib3BfcHJvcGxzdFwiOnQuY2hpbGRyZW5bMF0mJnRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSx0LmNoaWxkcmVuWzFdJiZ0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSk7YnJlYWs7Y2FzZVwib3BfZW1wdHlvYmplY3RcIjplPXt9O2JyZWFrO2Nhc2VcIm9wX3Byb3Bsc3RfdmFsXCI6dGhpcy5wcm9wc3RhY2sucHVzaCh7fSksdGhpcy5wcm9wc2NvcGUrKyx0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSksZT10aGlzLnByb3BzdGFja1t0aGlzLnByb3BzY29wZV0sdGhpcy5wcm9wc3RhY2sucG9wKCksdGhpcy5wcm9wc2NvcGUtLTticmVhaztjYXNlXCJvcF9wcm9wXCI6dGhpcy5wcm9wc3RhY2tbdGhpcy5wcm9wc2NvcGVdW3QuY2hpbGRyZW5bMF1dPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9hcnJheVwiOmZvcihlPVtdLG89dC5jaGlsZHJlblswXS5sZW5ndGgscj0wO3I8bztyKyspZS5wdXNoKHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdW3JdKSk7YnJlYWs7Y2FzZVwib3BfZXh0dmFsdWVcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSxlPVwibnVtYmVyXCI9PXR5cGVvZihyPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKSkmJk1hdGguYWJzKE1hdGgucm91bmQociktcik8TWF0LmVwcz9lW3JdOnVuZGVmaW5lZDticmVhaztjYXNlXCJvcF9yZXR1cm5cIjppZigwIT09dGhpcy5zY29wZSlyZXR1cm4gdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pO3RoaXMuX2Vycm9yKFwiVW5leHBlY3RlZCByZXR1cm4uXCIpO2JyZWFrO2Nhc2VcIm9wX21hcFwiOnQuY2hpbGRyZW5bMV0uaXNNYXRofHxcIm5vZGVfdmFyXCI9PT10LmNoaWxkcmVuWzFdLnR5cGV8fHRoaXMuX2Vycm9yKFwiZXhlY3V0ZTogSW4gYSBtYXAgb25seSBmdW5jdGlvbiBjYWxscyBhbmQgbWF0aGVtYXRpY2FsIGV4cHJlc3Npb25zIGFyZSBhbGxvd2VkLlwiKSwoaD10aGlzLmRlZmluZUZ1bmN0aW9uKHQpKS5pc01hcD0hMCxlPWg7YnJlYWs7Y2FzZVwib3BfZnVuY3Rpb25cIjooaD10aGlzLmRlZmluZUZ1bmN0aW9uKHQpKS5pc01hcD0hMSxlPWg7YnJlYWs7Y2FzZVwib3BfZXhlY2Z1blwiOmlmKHRoaXMuZHBzdGFjay5wdXNoKFtdKSx0aGlzLnBzY29wZSsrLG49dC5jaGlsZHJlblsxXSxUeXBlLmV4aXN0cyh0LmNoaWxkcmVuWzJdKSlpZih0LmNoaWxkcmVuWzNdKWZvcihhPXQuY2hpbGRyZW5bMl0sbD17fSxyPTA7cjxhLmxlbmd0aDtyKyspbD1UeXBlLmRlZXBDb3B5KGwsdGhpcy5leGVjdXRlKGFbcl0pLCEwKTtlbHNlIGw9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMl0pO2Zvcih0LmNoaWxkcmVuWzBdLl9pc0Z1bmN0aW9uTmFtZT0hMCxoPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSxkZWxldGUgdC5jaGlsZHJlblswXS5faXNGdW5jdGlvbk5hbWUsYz1oJiZoLnNjP2guc2M6dGhpcywhaC5jcmVhdG9yJiZUeXBlLmV4aXN0cyh0LmNoaWxkcmVuWzJdKSYmdGhpcy5fZXJyb3IoXCJVbmV4cGVjdGVkIHZhbHVlLiBPbmx5IGVsZW1lbnQgY3JlYXRvcnMgYXJlIGFsbG93ZWQgdG8gaGF2ZSBhIHZhbHVlIGFmdGVyIHRoZSBmdW5jdGlvbiBjYWxsLlwiKSxyPTA7cjxuLmxlbmd0aDtyKyspVHlwZS5leGlzdHMoaC5zY29wZSkmJlR5cGUuZXhpc3RzKGguc2NvcGUuYXJndHlwZXMpJiZcImZ1bmN0aW9uXCI9PT1oLnNjb3BlLmFyZ3R5cGVzW3JdPyhuW3JdLl9pc0Z1bmN0aW9uTmFtZT0hMCxkW3JdPXRoaXMuZXhlY3V0ZShuW3JdKSxkZWxldGUgbltyXS5faXNGdW5jdGlvbk5hbWUpOmRbcl09dGhpcy5leGVjdXRlKG5bcl0pLHRoaXMuZHBzdGFja1t0aGlzLnBzY29wZV0ucHVzaCh7bGluZTp0LmNoaWxkcmVuWzFdW3JdLmxpbmUsY29sOnQuY2hpbGRyZW5bMV1bcl0uZWNvbH0pO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGh8fGguY3JlYXRvcilpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBoJiZoLmNyZWF0b3Ipe3M9dGhpcy5saW5lO3RyeXtmb3IoKGU9aChkLGwpKS5qY0xpbmVTdGFydD1zLGUuamNMaW5lRW5kPXQuZWxpbmUscj1zO3I8PXQubGluZTtyKyspdGhpcy5saW5lVG9FbGVtZW50W3JdPWU7ZS5kZWJ1Z1BhcmVudHM9dGhpcy5kcHN0YWNrW3RoaXMucHNjb3BlXX1jYXRjaCh0KXt0aGlzLl9lcnJvcih0LnRvU3RyaW5nKCkpfX1lbHNlIHRoaXMuX2Vycm9yKFwiRnVuY3Rpb24gJ1wiK2grXCInIGlzIHVuZGVmaW5lZC5cIik7ZWxzZSBlPWguYXBwbHkoYyxkKTt0aGlzLmRwc3RhY2sucG9wKCksdGhpcy5wc2NvcGUtLTticmVhaztjYXNlXCJvcF9wcm9wZXJ0eVwiOnM9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLGk9dC5jaGlsZHJlblsxXSxlPXRoaXMucmVzb2x2ZVByb3BlcnR5KHMsaSwhMSksVHlwZS5leGlzdHMoZSkmJihlLnNjPXMpO2JyZWFrO2Nhc2VcIm9wX3VzZVwiOnRoaXMuX3dhcm4oXCJVc2Ugb2YgdGhlICd1c2UnIG9wZXJhdG9yIGlzIGRlcHJlY2F0ZWQuXCIpLHRoaXMudXNlKHQuY2hpbGRyZW5bMF0udG9TdHJpbmcoKSk7YnJlYWs7Y2FzZVwib3BfZGVsZXRlXCI6dGhpcy5fd2FybihcIlVzZSBvZiB0aGUgJ2RlbGV0ZScgb3BlcmF0b3IgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgcmVtb3ZlKCkgZnVuY3Rpb24uXCIpLGk9dGhpcy5nZXR2YXIodC5jaGlsZHJlblswXSksZT10aGlzLmRlbChpKTticmVhaztjYXNlXCJvcF9lcVwiOmU9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pPT10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSk7YnJlYWs7Y2FzZVwib3BfbmVxXCI6ZT10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSkhPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9hcHByb3hcIjplPU1hdGguYWJzKHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKS10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSkpPE1hdC5lcHM7YnJlYWs7Y2FzZVwib3BfZ3RcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKT50aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSk7YnJlYWs7Y2FzZVwib3BfbHRcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKTx0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSk7YnJlYWs7Y2FzZVwib3BfZ2VxXCI6ZT10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSk+PXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9sZXFcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKTw9dGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pO2JyZWFrO2Nhc2VcIm9wX29yXCI6ZT10aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSl8fHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKTticmVhaztjYXNlXCJvcF9hbmRcIjplPXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSYmdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pO2JyZWFrO2Nhc2VcIm9wX25vdFwiOmU9IXRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKTticmVhaztjYXNlXCJvcF9hZGRcIjplPXRoaXMuYWRkKHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSx0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSkpO2JyZWFrO2Nhc2VcIm9wX3N1YlwiOmU9dGhpcy5zdWIodGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKSk7YnJlYWs7Y2FzZVwib3BfZGl2XCI6ZT10aGlzLmRpdih0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSksdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pKTticmVhaztjYXNlXCJvcF9tb2RcIjplPXRoaXMubW9kKHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSx0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblsxXSksITApO2JyZWFrO2Nhc2VcIm9wX211bFwiOmU9dGhpcy5tdWwodGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMF0pLHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzFdKSk7YnJlYWs7Y2FzZVwib3BfZXhwXCI6ZT10aGlzLnBvdyh0aGlzLmV4ZWN1dGUodC5jaGlsZHJlblswXSksdGhpcy5leGVjdXRlKHQuY2hpbGRyZW5bMV0pKTticmVhaztjYXNlXCJvcF9uZWdcIjplPXRoaXMubmVnKHRoaXMuZXhlY3V0ZSh0LmNoaWxkcmVuWzBdKSl9YnJlYWs7Y2FzZVwibm9kZV92YXJcIjplPXRoaXMuZ2V0dmFyKHQudmFsdWUsITEsdC5faXNGdW5jdGlvbk5hbWUpO2JyZWFrO2Nhc2VcIm5vZGVfY29uc3RcIjplPW51bGw9PT10LnZhbHVlP251bGw6TnVtYmVyKHQudmFsdWUpO2JyZWFrO2Nhc2VcIm5vZGVfY29uc3RfYm9vbFwiOmU9dC52YWx1ZTticmVhaztjYXNlXCJub2RlX3N0clwiOmU9dC52YWx1ZS5yZXBsYWNlKC9cXFxcKC4pLyxcIiQxXCIpfXJldHVybiBlfSxjb21waWxlOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG89XCJcIjtpZihUeXBlLmV4aXN0cyhlKXx8KGU9ITEpLCF0KXJldHVybiBvO3N3aXRjaCh0LnR5cGUpe2Nhc2VcIm5vZGVfb3BcIjpzd2l0Y2godC52YWx1ZSl7Y2FzZVwib3Bfbm9uZVwiOnQuY2hpbGRyZW5bMF0mJihvPXRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpKSx0LmNoaWxkcmVuWzFdJiYobys9dGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkpO2JyZWFrO2Nhc2VcIm9wX2Fzc2lnblwiOmU/KGk9dGhpcy5nZXRMSFNDb21waWxlcih0LmNoaWxkcmVuWzBdLGUpLFR5cGUuaXNBcnJheShpKT9vPVwiJGpjJC5zZXRQcm9wKFwiK2lbMF0rXCIsIFwiK2lbMV0rXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKTtcXG5cIjoodGhpcy5pc0xvY2FsVmFyaWFibGUoaSkhPT10aGlzLnNjb3BlJiYodGhpcy5zY29wZS5sb2NhbHNbaV09ITApLG89XCIkamMkLnNjb3Blc1tcIit0aGlzLnNjb3BlLmlkK1wiXS5sb2NhbHNbJ1wiK2krXCInXSA9IFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiO1xcblwiKSk6bz0oaT10aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSkpK1wiID0gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCI7XFxuXCI7YnJlYWs7Y2FzZVwib3BfaWZcIjpvPVwiIGlmIChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIikgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSk7YnJlYWs7Y2FzZVwib3BfaWZfZWxzZVwiOm89XCIgaWYgKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiKVwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpLG8rPVwiIGVsc2UgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMl0sZSk7YnJlYWs7Y2FzZVwib3BfY29uZGl0aW9uYWxcIjpvPVwiKChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIik/KFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpLG8rPVwiKTooXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMl0sZSkrXCIpKVwiO2JyZWFrO2Nhc2VcIm9wX3doaWxlXCI6bz1cIiB3aGlsZSAoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIpIHtcXG5cIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIn1cXG5cIjticmVhaztjYXNlXCJvcF9kb1wiOm89XCIgZG8ge1xcblwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wifSB3aGlsZSAoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpO1xcblwiO2JyZWFrO2Nhc2VcIm9wX2ZvclwiOm89XCIgZm9yIChcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKSt0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIjsgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMl0sZSkuc2xpY2UoMCwtMikrXCIpIHtcXG5cIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblszXSxlKStcIlxcbn1cXG5cIjticmVhaztjYXNlXCJvcF9wcm9wbHN0XCI6dC5jaGlsZHJlblswXSYmKG89dGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiKSxvKz10aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKTticmVhaztjYXNlXCJvcF9wcm9wXCI6bz10LmNoaWxkcmVuWzBdK1wiOiBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKTticmVhaztjYXNlXCJvcF9lbXB0eW9iamVjdFwiOm89ZT9cInt9XCI6XCI8PCA+PlwiO2JyZWFrO2Nhc2VcIm9wX3Byb3Bsc3RfdmFsXCI6bz10aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKTticmVhaztjYXNlXCJvcF9hcnJheVwiOmZvcihzPVtdLHI9MDtyPHQuY2hpbGRyZW5bMF0ubGVuZ3RoO3IrKylzLnB1c2godGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF1bcl0sZSkpO289XCJbXCIrcy5qb2luKFwiLCBcIikrXCJdXCI7YnJlYWs7Y2FzZVwib3BfZXh0dmFsdWVcIjpvPXRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiW1wiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiXVwiO2JyZWFrO2Nhc2VcIm9wX3JldHVyblwiOm89XCIgcmV0dXJuIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiO1xcblwiO2JyZWFrO2Nhc2VcIm9wX21hcFwiOnQuY2hpbGRyZW5bMV0uaXNNYXRofHxcIm5vZGVfdmFyXCI9PT10LmNoaWxkcmVuWzFdLnR5cGV8fHRoaXMuX2Vycm9yKFwiY29tcGlsZTogSW4gYSBtYXAgb25seSBmdW5jdGlvbiBjYWxscyBhbmQgbWF0aGVtYXRpY2FsIGV4cHJlc3Npb25zIGFyZSBhbGxvd2VkLlwiKSxzPXQuY2hpbGRyZW5bMF0sbz1lP1wiICRqYyQubWFrZU1hcChmdW5jdGlvbiAoXCIrcy5qb2luKFwiLCBcIikrXCIpIHsgcmV0dXJuIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiOyB9KVwiOlwibWFwIChcIitzLmpvaW4oXCIsIFwiKStcIikgLT4gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSk7YnJlYWs7Y2FzZVwib3BfZnVuY3Rpb25cIjpzPXQuY2hpbGRyZW5bMF0sdGhpcy5wdXNoU2NvcGUocyksbz1lP3RoaXMuZnVuY3Rpb25Db2RlSlModCk6XCIgZnVuY3Rpb24gKFwiK3Muam9pbihcIiwgXCIpK1wiKSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKSx0aGlzLnBvcFNjb3BlKCk7YnJlYWs7Y2FzZVwib3BfZXhlY2Z1bm1hdGhcIjpjb25zb2xlLmxvZyhcIm9wX2V4ZWNmdW5tYXRoOiBUT0RPXCIpLG89XCItMVwiO2JyZWFrO2Nhc2VcIm9wX2V4ZWNmdW5cIjppZih0LmNoaWxkcmVuWzJdKXtmb3Iocz1bXSxyPTA7cjx0LmNoaWxkcmVuWzJdLmxlbmd0aDtyKyspcy5wdXNoKHRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzJdW3JdLGUpKTtlJiYoaT1cIiRqYyQubWVyZ2VBdHRyaWJ1dGVzKFwiK3Muam9pbihcIiwgXCIpK1wiKVwiKX1mb3IodC5jaGlsZHJlblswXS53aXRoUHJvcHM9ISF0LmNoaWxkcmVuWzJdLHM9W10scj0wO3I8dC5jaGlsZHJlblsxXS5sZW5ndGg7cisrKXMucHVzaCh0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXVtyXSxlKSk7bz10aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIihcIitzLmpvaW4oXCIsIFwiKSsodC5jaGlsZHJlblsyXSYmZT9cIiwgXCIraTpcIlwiKStcIilcIisodC5jaGlsZHJlblsyXSYmIWU/aTpcIlwiKSxlJiYobys9XCJcXG5cIiksZSYmXCIkXCI9PT10LmNoaWxkcmVuWzBdLnZhbHVlJiYobz1cIiRqYyQuYm9hcmQub2JqZWN0c1tcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXVswXSxlKStcIl1cIik7YnJlYWs7Y2FzZVwib3BfcHJvcGVydHlcIjpvPWUmJlwiWFwiIT09dC5jaGlsZHJlblsxXSYmXCJZXCIhPT10LmNoaWxkcmVuWzFdP1wiJGpjJC5yZXNvbHZlUHJvcGVydHkoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsICdcIit0LmNoaWxkcmVuWzFdK1wiJywgdHJ1ZSlcIjp0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIi5cIit0LmNoaWxkcmVuWzFdO2JyZWFrO2Nhc2VcIm9wX3VzZVwiOnRoaXMuX3dhcm4oXCJVc2Ugb2YgdGhlICd1c2UnIG9wZXJhdG9yIGlzIGRlcHJlY2F0ZWQuXCIpLG89ZT9cIiRqYyQudXNlKCdcIjpcInVzZSgnXCIsbys9dC5jaGlsZHJlblswXS50b1N0cmluZygpK1wiJyk7XCI7YnJlYWs7Y2FzZVwib3BfZGVsZXRlXCI6dGhpcy5fd2FybihcIlVzZSBvZiB0aGUgJ2RlbGV0ZScgb3BlcmF0b3IgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgcmVtb3ZlKCkgZnVuY3Rpb24uXCIpLG89ZT9cIiRqYyQuZGVsKFwiOlwicmVtb3ZlKFwiLG8rPXRoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiKVwiO2JyZWFrO2Nhc2VcIm9wX2VxXCI6bz1cIihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiA9PT0gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfbmVxXCI6bz1cIihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiAhPT0gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfYXBwcm94XCI6bz1cIihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiB+PSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9ndFwiOm89ZT9cIiRqYyQuZ3QoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiID4gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfbHRcIjpvPWU/XCIkamMkLmx0KFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiLCBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjpcIihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiA8IFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiO2JyZWFrO2Nhc2VcIm9wX2dlcVwiOm89ZT9cIiRqYyQuZ2VxKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiLCBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjpcIihcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiA+PSBcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblsxXSxlKStcIilcIjticmVhaztjYXNlXCJvcF9sZXFcIjpvPWU/XCIkamMkLmxlcShcIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIiwgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI6XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgPD0gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3Bfb3JcIjpvPVwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiIHx8IFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiO2JyZWFrO2Nhc2VcIm9wX2FuZFwiOm89XCIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIgJiYgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3Bfbm90XCI6bz1cIiEoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfYWRkXCI6bz1lP1wiJGpjJC5hZGQoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiICsgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3Bfc3ViXCI6bz1lP1wiJGpjJC5zdWIoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiIC0gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfZGl2XCI6bz1lP1wiJGpjJC5kaXYoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiIC8gXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfbW9kXCI6bz1lP1wiJGpjJC5tb2QoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiLCB0cnVlKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiICUgXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfbXVsXCI6bz1lP1wiJGpjJC5tdWwoXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiICogXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMV0sZSkrXCIpXCI7YnJlYWs7Y2FzZVwib3BfZXhwXCI6bz1lP1wiJGpjJC5wb3coXCIrdGhpcy5jb21waWxlKHQuY2hpbGRyZW5bMF0sZSkrXCIsIFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiOlwiKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiXlwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzFdLGUpK1wiKVwiO2JyZWFrO2Nhc2VcIm9wX25lZ1wiOm89ZT9cIiRqYyQubmVnKFwiK3RoaXMuY29tcGlsZSh0LmNoaWxkcmVuWzBdLGUpK1wiKVwiOlwiKC1cIit0aGlzLmNvbXBpbGUodC5jaGlsZHJlblswXSxlKStcIilcIn1icmVhaztjYXNlXCJub2RlX3ZhclwiOm89ZT90aGlzLmdldHZhckpTKHQudmFsdWUsITEsdC53aXRoUHJvcHMpOnQudmFsdWU7YnJlYWs7Y2FzZVwibm9kZV9jb25zdFwiOmNhc2VcIm5vZGVfY29uc3RfYm9vbFwiOm89dC52YWx1ZTticmVhaztjYXNlXCJub2RlX3N0clwiOm89XCInXCIrdC52YWx1ZStcIidcIn1yZXR1cm4gdC5uZWVkc0JyYWNrZXRzJiYobz1cIntcXG5cIitvK1wiXFxufVxcblwiKSxvfSxnZXROYW1lOmZ1bmN0aW9uKHQsZSl7dmFyIGk9XCJcIjtyZXR1cm4gVHlwZS5leGlzdHModCkmJlR5cGUuZXhpc3RzKHQuZ2V0TmFtZSk/KGk9dC5nZXROYW1lKCksVHlwZS5leGlzdHMoaSkmJlwiXCIhPT1pfHwhZXx8KGk9dC5pZCkpOmUmJihpPXQuaWQpLGl9LFg6ZnVuY3Rpb24odCl7cmV0dXJuIHQuWCgpfSxZOmZ1bmN0aW9uKHQpe3JldHVybiB0LlkoKX0sVjpmdW5jdGlvbih0KXtyZXR1cm4gdC5WYWx1ZSgpfSxMOmZ1bmN0aW9uKHQpe3JldHVybiB0LkwoKX0sYXJlYTpmdW5jdGlvbih0KXtyZXR1cm4gVHlwZS5leGlzdHModCkmJlR5cGUuZXhpc3RzKHQuQXJlYSl8fHRoaXMuX2Vycm9yKFwiRXJyb3I6IENhbid0IGNhbGN1bGF0ZSBhcmVhLlwiKSx0LkFyZWEoKX0sZGlzdDpmdW5jdGlvbih0LGUpe3JldHVybiBUeXBlLmV4aXN0cyh0KSYmVHlwZS5leGlzdHModC5EaXN0KXx8dGhpcy5fZXJyb3IoXCJFcnJvcjogQ2FuJ3QgY2FsY3VsYXRlIGRpc3RhbmNlLlwiKSx0LkRpc3QoZSl9LHJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gVHlwZS5leGlzdHModCkmJlR5cGUuZXhpc3RzKHQuUmFkaXVzKXx8dGhpcy5fZXJyb3IoXCJFcnJvcjogQ2FuJ3QgY2FsY3VsYXRlIHJhZGl1cy5cIiksdC5SYWRpdXMoKX0sYWRkOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzO2lmKHQ9VHlwZS5ldmFsU2xpZGVyKHQpLGU9VHlwZS5ldmFsU2xpZGVyKGUpLEludGVydmFsLmlzSW50ZXJ2YWwodCl8fEludGVydmFsLmlzSW50ZXJ2YWwoZSkpcz1JbnRlcnZhbC5hZGQodCxlKTtlbHNlIGlmKFR5cGUuaXNBcnJheSh0KSYmVHlwZS5pc0FycmF5KGUpKWZvcihyPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxzPVtdLGk9MDtpPHI7aSsrKXNbaV09dFtpXStlW2ldO2Vsc2UgVHlwZS5pc051bWJlcih0KSYmVHlwZS5pc051bWJlcihlKT9zPXQrZTpUeXBlLmlzU3RyaW5nKHQpfHxUeXBlLmlzU3RyaW5nKGUpP3M9dC50b1N0cmluZygpK2UudG9TdHJpbmcoKTp0aGlzLl9lcnJvcihcIk9wZXJhdGlvbiArIG5vdCBkZWZpbmVkIG9uIG9wZXJhbmRzIFwiK3R5cGVvZiB0K1wiIGFuZCBcIit0eXBlb2YgZSk7cmV0dXJuIHN9LHN1YjpmdW5jdGlvbih0LGUpe3ZhciBpLHIscztpZih0PVR5cGUuZXZhbFNsaWRlcih0KSxlPVR5cGUuZXZhbFNsaWRlcihlKSxJbnRlcnZhbC5pc0ludGVydmFsKHQpfHxJbnRlcnZhbC5pc0ludGVydmFsKGUpKXM9SW50ZXJ2YWwuc3ViKHQsZSk7ZWxzZSBpZihUeXBlLmlzQXJyYXkodCkmJlR5cGUuaXNBcnJheShlKSlmb3Iocj1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCkscz1bXSxpPTA7aTxyO2krKylzW2ldPXRbaV0tZVtpXTtlbHNlIFR5cGUuaXNOdW1iZXIodCkmJlR5cGUuaXNOdW1iZXIoZSk/cz10LWU6dGhpcy5fZXJyb3IoXCJPcGVyYXRpb24gLSBub3QgZGVmaW5lZCBvbiBvcGVyYW5kcyBcIit0eXBlb2YgdCtcIiBhbmQgXCIrdHlwZW9mIGUpO3JldHVybiBzfSxuZWc6ZnVuY3Rpb24odCl7dmFyIGUsaSxyO2lmKHQ9VHlwZS5ldmFsU2xpZGVyKHQpLEludGVydmFsLmlzSW50ZXJ2YWwodCkpcj1JbnRlcnZhbC5uZWdhdGl2ZSh0KTtlbHNlIGlmKFR5cGUuaXNBcnJheSh0KSlmb3IoaT10Lmxlbmd0aCxyPVtdLGU9MDtlPGk7ZSsrKXJbZV09LXRbZV07ZWxzZSBUeXBlLmlzTnVtYmVyKHQpP3I9LXQ6dGhpcy5fZXJyb3IoXCJVbmFyeSBvcGVyYXRpb24gLSBub3QgZGVmaW5lZCBvbiBvcGVyYW5kIFwiK3R5cGVvZiB0KTtyZXR1cm4gcn0sbXVsOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzO2lmKHQ9VHlwZS5ldmFsU2xpZGVyKHQpLGU9VHlwZS5ldmFsU2xpZGVyKGUpLFR5cGUuaXNBcnJheSh0KSYmVHlwZS5pc051bWJlcihlKSYmKGk9dCxlPXQ9ZSksSW50ZXJ2YWwuaXNJbnRlcnZhbCh0KXx8SW50ZXJ2YWwuaXNJbnRlcnZhbChlKSlzPUludGVydmFsLm11bCh0LGUpO2Vsc2UgaWYoVHlwZS5pc0FycmF5KHQpJiZUeXBlLmlzQXJyYXkoZSkpcj1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCkscz1NYXQuaW5uZXJQcm9kdWN0KHQsZSxyKTtlbHNlIGlmKFR5cGUuaXNOdW1iZXIodCkmJlR5cGUuaXNBcnJheShlKSlmb3Iocj1lLmxlbmd0aCxzPVtdLGk9MDtpPHI7aSsrKXNbaV09dCplW2ldO2Vsc2UgVHlwZS5pc051bWJlcih0KSYmVHlwZS5pc051bWJlcihlKT9zPXQqZTp0aGlzLl9lcnJvcihcIk9wZXJhdGlvbiAqIG5vdCBkZWZpbmVkIG9uIG9wZXJhbmRzIFwiK3R5cGVvZiB0K1wiIGFuZCBcIit0eXBlb2YgZSk7cmV0dXJuIHN9LGRpdjpmdW5jdGlvbih0LGUpe3ZhciBpLHIscztpZih0PVR5cGUuZXZhbFNsaWRlcih0KSxlPVR5cGUuZXZhbFNsaWRlcihlKSxJbnRlcnZhbC5pc0ludGVydmFsKHQpfHxJbnRlcnZhbC5pc0ludGVydmFsKGUpKXM9SW50ZXJ2YWwuZGl2KHQsZSk7ZWxzZSBpZihUeXBlLmlzQXJyYXkodCkmJlR5cGUuaXNOdW1iZXIoZSkpZm9yKHI9dC5sZW5ndGgscz1bXSxpPTA7aTxyO2krKylzW2ldPXRbaV0vZTtlbHNlIFR5cGUuaXNOdW1iZXIodCkmJlR5cGUuaXNOdW1iZXIoZSk/cz10L2U6dGhpcy5fZXJyb3IoXCJPcGVyYXRpb24gKiBub3QgZGVmaW5lZCBvbiBvcGVyYW5kcyBcIit0eXBlb2YgdCtcIiBhbmQgXCIrdHlwZW9mIGUpO3JldHVybiBzfSxtb2Q6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM7aWYodD1UeXBlLmV2YWxTbGlkZXIodCksZT1UeXBlLmV2YWxTbGlkZXIoZSksSW50ZXJ2YWwuaXNJbnRlcnZhbCh0KXx8SW50ZXJ2YWwuaXNJbnRlcnZhbChlKSlyZXR1cm4gSW50ZXJ2YWwuZm1vZCh0LGUpO2lmKFR5cGUuaXNBcnJheSh0KSYmVHlwZS5pc051bWJlcihlKSlmb3Iocj10Lmxlbmd0aCxzPVtdLGk9MDtpPHI7aSsrKXNbaV09TWF0Lm1vZCh0W2ldLGUsITApO2Vsc2UgVHlwZS5pc051bWJlcih0KSYmVHlwZS5pc051bWJlcihlKT9zPU1hdC5tb2QodCxlLCEwKTp0aGlzLl9lcnJvcihcIk9wZXJhdGlvbiAqIG5vdCBkZWZpbmVkIG9uIG9wZXJhbmRzIFwiK3R5cGVvZiB0K1wiIGFuZCBcIit0eXBlb2YgZSk7cmV0dXJuIHN9LHBvdzpmdW5jdGlvbih0LGUpe3JldHVybiB0PVR5cGUuZXZhbFNsaWRlcih0KSxlPVR5cGUuZXZhbFNsaWRlcihlKSxJbnRlcnZhbC5pc0ludGVydmFsKHQpfHxJbnRlcnZhbC5pc0ludGVydmFsKGUpP0ludGVydmFsLnBvdyh0LGUpOk1hdC5wb3codCxlKX0sbHQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gSW50ZXJ2YWwuaXNJbnRlcnZhbCh0KXx8SW50ZXJ2YWwuaXNJbnRlcnZhbChlKT9JbnRlcnZhbC5sdCh0LGUpOnQ8ZX0sbGVxOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEludGVydmFsLmlzSW50ZXJ2YWwodCl8fEludGVydmFsLmlzSW50ZXJ2YWwoZSk/SW50ZXJ2YWwubGVxKHQsZSk6dDw9ZX0sZ3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gSW50ZXJ2YWwuaXNJbnRlcnZhbCh0KXx8SW50ZXJ2YWwuaXNJbnRlcnZhbChlKT9JbnRlcnZhbC5ndCh0LGUpOnQ+ZX0sZ2VxOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIEludGVydmFsLmlzSW50ZXJ2YWwodCl8fEludGVydmFsLmlzSW50ZXJ2YWwoZSk/SW50ZXJ2YWx0LmdlcSh0LGUpOnQ+PWV9LHJhbmRpbnQ6ZnVuY3Rpb24odCxlLGkpe3JldHVybiBUeXBlLmV4aXN0cyhpKXx8KGk9MSksTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKihlLXQpL2kpKmkrdH0sREREOmZ1bmN0aW9uKHQpe2NvbnNvbGUubG9nKFwiRHVtbXkgZGVyaXZhdGl2ZSBmdW5jdGlvbi4gVGhpcyBzaG91bGQgbmV2ZXIgYXBwZWFyIVwiKX0saWZ0aGVuOmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdD9lOml9LGRlbDpmdW5jdGlvbih0KXtcIm9iamVjdFwiPT10eXBlb2YgdCYmSlhHLmV4aXN0cyh0LnR5cGUpJiZKWEcuZXhpc3RzKHQuZWxlbWVudENsYXNzKSYmdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodCl9LHVzZTpmdW5jdGlvbih0KXt2YXIgZSxpLHI9ITE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2ZvcihlIGluIEpYRy5ib2FyZHMpaWYoSlhHLmJvYXJkcy5oYXNPd25Qcm9wZXJ0eShlKSYmSlhHLmJvYXJkc1tlXS5jb250YWluZXI9PT10KXtpPUpYRy5ib2FyZHNbZV0scj0hMDticmVha319ZWxzZSBpPXQscj0hMDtyPyh0aGlzLmJvYXJkPWksdGhpcy5idWlsdEluLiRib2FyZD1pLHRoaXMuYnVpbHRJbi4kYm9hcmQuc3JjPVwiJGpjJC5ib2FyZFwiKTp0aGlzLl9lcnJvcihcIkJvYXJkICdcIit0K1wiJyBub3QgZm91bmQhXCIpfSxmaW5kU3ltYm9sOmZ1bmN0aW9uKHQsZSl7dmFyIGkscjtmb3Iocj0tMT09PShlPVR5cGUuZGVmKGUsLTEpKT90aGlzLnNjb3BlOnRoaXMuc2NvcGVzW2VdO251bGwhPT1yOyl7Zm9yKGkgaW4gci5sb2NhbHMpaWYoci5sb2NhbHMuaGFzT3duUHJvcGVydHkoaSkmJnIubG9jYWxzW2ldPT09dClyZXR1cm5baSxyXTtyPXIucHJldmlvdXN9cmV0dXJuW119LGltcG9ydE1vZHVsZTpmdW5jdGlvbih0KXtyZXR1cm4gcHJpdi5tb2R1bGVzW3QudG9Mb3dlckNhc2UoKV19LGRlZmluZUJ1aWx0SW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9e1BJOk1hdGguUEksRVVMRVI6TWF0aC5FLEQ6dC5EREQsWDp0LlgsWTp0LlksVjp0LlYsTDp0LkwsYWNvc2g6TWF0LmFjb3NoLGFjb3Q6TWF0LmFjb3QsYXNpbmg6TWF0LmFzaW5oLGJpbm9taWFsOk1hdC5iaW5vbWlhbCxjYnJ0Ok1hdC5jYnJ0LGNvc2g6TWF0LmNvc2gsY290Ok1hdC5jb3QsZGVnOkdlb21ldHJ5LnRydWVBbmdsZSxBOnQuYXJlYSxhcmVhOnQuYXJlYSxkaXN0OnQuZGlzdCxSOnQucmFkaXVzLHJhZGl1czp0LnJhZGl1cyxlcmY6TWF0LmVyZixlcmZjOk1hdC5lcmZjLGVyZmk6TWF0LmVyZmksZmFjdG9yaWFsOk1hdC5mYWN0b3JpYWwsZ2NkOk1hdC5nY2QsbGI6TWF0LmxvZzIsbGNtOk1hdC5sY20sbGQ6TWF0LmxvZzIsbGc6TWF0LmxvZzEwLGxuOk1hdGgubG9nLGxvZzpNYXQubG9nLGxvZzEwOk1hdC5sb2cxMCxsb2cyOk1hdC5sb2cyLG5kdHI6TWF0Lm5kdHIsbmR0cmk6TWF0Lm5kdHJpLG50aHJvb3Q6TWF0Lm50aHJvb3QscG93Ok1hdC5wb3cscmFkOkdlb21ldHJ5LnJhZCxyYXRwb3c6TWF0LnJhdHBvdyx0cnVuYzpUeXBlLnRydW5jLHNpbmg6TWF0LnNpbmgscmFuZGludDp0LnJhbmRpbnQsSWZUaGVuOnQuaWZ0aGVuLGltcG9ydDp0LmltcG9ydE1vZHVsZSx1c2U6dC51c2UscmVtb3ZlOnQuZGVsLCQ6dC5nZXRFbGVtZW50QnlJZCxnZXROYW1lOnQuZ2V0TmFtZSxuYW1lOnQuZ2V0TmFtZSwkYm9hcmQ6dC5ib2FyZCwkbG9nOnQubG9nfTtyZXR1cm4gZS5yYWQuc2M9R2VvbWV0cnksZS5kZWcuc2M9R2VvbWV0cnksZS5mYWN0b3JpYWwuc2M9TWF0LGUuWC5zcmM9XCIkamMkLlhcIixlLlkuc3JjPVwiJGpjJC5ZXCIsZS5WLnNyYz1cIiRqYyQuVlwiLGUuTC5zcmM9XCIkamMkLkxcIixlLmFjb3NoLnNyYz1cIkpYRy5NYXRoLmFjb3NoXCIsZS5hY290LnNyYz1cIkpYRy5NYXRoLmFjb3RcIixlLmFzaW5oLnNyYz1cIkpYRy5NYXRoLmFzaW5oXCIsZS5iaW5vbWlhbC5zcmM9XCJKWEcuTWF0aC5iaW5vbWlhbFwiLGUuY2JydC5zcmM9XCJKWEcuTWF0aC5jYnJ0XCIsZS5jb3Quc3JjPVwiSlhHLk1hdGguY290XCIsZS5jb3NoLnNyYz1cIkpYRy5NYXRoLmNvc2hcIixlLmRlZy5zcmM9XCJKWEcuTWF0aC5HZW9tZXRyeS50cnVlQW5nbGVcIixlLmVyZi5zcmM9XCJKWEcuTWF0aC5lcmZcIixlLmVyZmMuc3JjPVwiSlhHLk1hdGguZXJmY1wiLGUuZXJmaS5zcmM9XCJKWEcuTWF0aC5lcmZpXCIsZS5BLnNyYz1cIiRqYyQuYXJlYVwiLGUuYXJlYS5zcmM9XCIkamMkLmFyZWFcIixlLmRpc3Quc3JjPVwiJGpjJC5kaXN0XCIsZS5SLnNyYz1cIiRqYyQucmFkaXVzXCIsZS5yYWRpdXMuc3JjPVwiJGpjJC5yYWRpdXNcIixlLmZhY3RvcmlhbC5zcmM9XCJKWEcuTWF0aC5mYWN0b3JpYWxcIixlLmdjZC5zcmM9XCJKWEcuTWF0aC5nY2RcIixlLmxiLnNyYz1cIkpYRy5NYXRoLmxvZzJcIixlLmxjbS5zcmM9XCJKWEcuTWF0aC5sY21cIixlLmxkLnNyYz1cIkpYRy5NYXRoLmxvZzJcIixlLmxnLnNyYz1cIkpYRy5NYXRoLmxvZzEwXCIsZS5sbi5zcmM9XCJNYXRoLmxvZ1wiLGUubG9nLnNyYz1cIkpYRy5NYXRoLmxvZ1wiLGUubG9nMTAuc3JjPVwiSlhHLk1hdGgubG9nMTBcIixlLmxvZzIuc3JjPVwiSlhHLk1hdGgubG9nMlwiLGUubmR0ci5zcmM9XCJKWEcuTWF0aC5uZHRyXCIsZS5uZHRyaS5zcmM9XCJKWEcuTWF0aC5uZHRyaVwiLGUubnRocm9vdC5zcmM9XCJKWEcuTWF0aC5udGhyb290XCIsZS5wb3cuc3JjPVwiSlhHLk1hdGgucG93XCIsZS5yYWQuc3JjPVwiSlhHLk1hdGguR2VvbWV0cnkucmFkXCIsZS5yYXRwb3cuc3JjPVwiSlhHLk1hdGgucmF0cG93XCIsZS50cnVuYy5zcmM9XCJKWEcudHJ1bmNcIixlLnNpbmguc3JjPVwiSlhHLk1hdGguc2luaFwiLGUucmFuZGludC5zcmM9XCIkamMkLnJhbmRpbnRcIixlLmltcG9ydC5zcmM9XCIkamMkLmltcG9ydE1vZHVsZVwiLGUudXNlLnNyYz1cIiRqYyQudXNlXCIsZS5yZW1vdmUuc3JjPVwiJGpjJC5kZWxcIixlLklmVGhlbi5zcmM9XCIkamMkLmlmdGhlblwiLGUuJC5zcmM9XCIoZnVuY3Rpb24gKG4pIHsgcmV0dXJuICRqYyQuYm9hcmQuc2VsZWN0KG4pOyB9KVwiLGUuZ2V0TmFtZS5zcmM9XCIkamMkLmdldE5hbWVcIixlLm5hbWUuc3JjPVwiJGpjJC5nZXROYW1lXCIsZS4kYm9hcmQmJihlLiRib2FyZC5zcmM9XCIkamMkLmJvYXJkXCIpLGUuJGxvZy5zcmM9XCIkamMkLmxvZ1wiLGV9LGdldFBvc3NpYmxlT3BlcmFuZHM6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG8sbixhLGgsbCxjLGQsdSxwLGY9W1wiRVwiXSxtPXRoaXMuZGVmaW5lQnVpbHRJbigpLGc9TWF0aDtmb3IodT1mdW5jdGlvbih0LGUpe3JldHVybiB0LnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShlLnRvTG93ZXJDYXNlKCkpfSxwPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bnVsbDtpZihcImpjXCI9PT1lKWk9bVt0XTtlbHNle2lmKFwiTWF0aFwiIT09ZSlyZXR1cm47aT1nW3RdfWlmKCFmLmluY2x1ZGVzKHQpKXJldHVybiBKWEcuaXNGdW5jdGlvbihpKT97bmFtZTp0LHR5cGU6XCJmdW5jdGlvblwiLG51bVBhcmFtczppLmxlbmd0aCxvcmlnaW46ZX06SlhHLmlzTnVtYmVyKGkpP3tuYW1lOnQsdHlwZTpcImNvbnN0YW50XCIsdmFsdWU6aSxvcmlnaW46ZX06dm9pZCh2b2lkIDAhPT1pJiZjb25zb2xlLmVycm9yKFwidW5kZWZpbmVkIHR5cGVcIixpKSl9LHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobSkuc29ydCh1KSxlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGcpLnNvcnQodSksaT1bXSxyPTAscz0wO3I8dC5sZW5ndGh8fHM8ZS5sZW5ndGg7KXRbcl09PT1lW3NdPyhvPXAoZVtzXSxcIk1hdGhcIiksSlhHLmV4aXN0cyhvKSYmaS5wdXNoKG8pLHIrKyxzKyspOiFKWEcuZXhpc3RzKGVbc10pfHx0W3JdLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShlW3NdLnRvTG93ZXJDYXNlKCkpPDA/KG89cCh0W3JdLFwiamNcIiksSlhHLmV4aXN0cyhvKSYmaS5wdXNoKG8pLHIrKyk6KG89cChlW3NdLFwiTWF0aFwiKSxKWEcuZXhpc3RzKG8pJiZpLnB1c2gobykscysrKTtmb3IoaD1bXSxsPVtdLGM9W10sZD17fSxuPWkubGVuZ3RoLHI9MDtyPG47cisrKXtzd2l0Y2goKGE9aVtyXSkudHlwZSl7Y2FzZVwiZnVuY3Rpb25cIjpoLnB1c2goYS5uYW1lKSxcImpjXCI9PT1hLm9yaWdpbiYmbC5wdXNoKGEubmFtZSk7YnJlYWs7Y2FzZVwiY29uc3RhbnRcIjpjLnB1c2goYS5uYW1lKX1kW2EubmFtZV09YX1yZXR1cm57YWxsOmQsbGlzdDppLGZ1bmN0aW9uczpoLGZ1bmN0aW9uc19qZXNzaWVjb2RlOmwsY29uc3RhbnRzOmN9fSxfZGVidWc6ZnVuY3Rpb24odCl7XCJvYmplY3RcIj09dHlwZW9mIGNvbnNvbGU/Y29uc29sZS5sb2codCk6RW52LmlzQnJvd3NlciYmZG9jdW1lbnQmJm51bGwhPT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlYnVnXCIpJiYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWJ1Z1wiKS5pbm5lckhUTUwrPXQrXCI8YnIgLz5cIil9LF9lcnJvcjpmdW5jdGlvbih0KXt2YXIgZT1uZXcgRXJyb3IoXCJFcnJvcihcIit0aGlzLmxpbmUrXCIpOiBcIit0KTt0aHJvdyBlLmxpbmU9dGhpcy5saW5lLGV9LF93YXJuOmZ1bmN0aW9uKHQpe1wib2JqZWN0XCI9PXR5cGVvZiBjb25zb2xlP2NvbnNvbGUubG9nKFwiV2FybmluZyhcIit0aGlzLmxpbmUrXCIpOiBcIit0KTpFbnYuaXNCcm93c2VyJiZkb2N1bWVudCYmbnVsbCE9PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMud2FybkxvZykmJihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLndhcm5Mb2cpLmlubmVySFRNTCs9XCJXYXJuaW5nKFwiK3RoaXMubGluZStcIik6IFwiK3QrXCI8YnIgLz5cIil9LF9sb2c6ZnVuY3Rpb24odCl7XCJvYmplY3RcIiE9dHlwZW9mIHdpbmRvdyYmXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYucG9zdE1lc3NhZ2U/c2VsZi5wb3N0TWVzc2FnZSh7dHlwZTpcImxvZ1wiLG1zZzpcIkxvZzogXCIrdC50b1N0cmluZygpfSk6Y29uc29sZS5sb2coXCJMb2c6IFwiLGFyZ3VtZW50cyl9fSk7dmFyIHBhcnNlcj1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsZSxpLHIpe2ZvcihpPWl8fHt9LHI9dC5sZW5ndGg7ci0tO2lbdFtyXV09ZSk7cmV0dXJuIGl9LGU9WzIsMTRdLGk9WzEsMTNdLHI9WzEsMzddLHM9WzEsMTRdLG89WzEsMTVdLG49WzEsMjFdLGE9WzEsMTZdLGg9WzEsMTddLGw9WzEsMzNdLGM9WzEsMThdLGQ9WzEsMTldLHU9WzEsMTJdLHA9WzEsNTldLGY9WzEsNjBdLG09WzEsNThdLGc9WzEsNDZdLGI9WzEsNDhdLHY9WzEsNDldLHk9WzEsNTBdLEM9WzEsNTFdLF89WzEsNTJdLFA9WzEsNTNdLEU9WzEsNTRdLHg9WzEsNDVdLFM9WzEsMzhdLE89WzEsMzldLHc9WzUsNyw4LDE0LDE1LDE2LDE3LDE5LDIwLDIxLDIzLDI2LDI3LDUwLDUxLDU4LDY1LDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgyLDkxLDkzXSxUPVs1LDcsOCwxMiwxNCwxNSwxNiwxNywxOSwyMCwyMSwyMywyNiwyNyw1MCw1MSw1OCw2NSw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4Miw5MSw5M10sTj1bOCwxMCwxNiwzMiwzNCwzNSwzNywzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw1Nyw2NCw2NSw2Niw4Myw4Nl0sTT1bMiw0OF0sQT1bMSw3Ml0sUj1bMTAsMTYsMzIsMzQsMzUsMzcsMzksNDEsNDIsNDMsNDUsNDYsNDcsNDgsNTAsNTEsNTMsNTQsNTUsNTcsNjYsODMsODZdLEw9WzEsNzhdLGs9WzgsMTAsMTYsMzIsMzQsMzUsMzcsNDEsNDIsNDMsNDUsNDYsNDcsNDgsNTAsNTEsNTMsNTQsNTUsNTcsNjQsNjUsNjYsODMsODZdLEQ9WzEsODJdLEI9WzgsMTAsMTYsMzIsMzQsMzUsMzcsMzksNDUsNDYsNDcsNDgsNTAsNTEsNTMsNTQsNTUsNTcsNjQsNjUsNjYsODMsODZdLEk9WzEsODNdLFk9WzEsODRdLGo9WzEsODVdLFg9WzgsMTAsMTYsMzIsMzQsMzUsMzcsMzksNDEsNDIsNDMsNTAsNTEsNTMsNTQsNTUsNTcsNjQsNjUsNjYsODMsODZdLEY9WzEsODldLFU9WzEsOTBdLEo9WzEsOTFdLEc9WzEsOTJdLHo9WzEsOTddLEg9WzgsMTAsMTYsMzIsMzQsMzUsMzcsMzksNDEsNDIsNDMsNDUsNDYsNDcsNDgsNTMsNTQsNTUsNTcsNjQsNjUsNjYsODMsODZdLFY9WzEsMTAzXSwkPVsxLDEwNF0scT1bOCwxMCwxNiwzMiwzNCwzNSwzNywzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Nyw2NCw2NSw2Niw4Myw4Nl0sVz1bMSwxMDVdLFo9WzEsMTA2XSxRPVsxLDEwN10sSz1bMSwxMjZdLHR0PVsxLDEzOV0sZXQ9WzgzLDg2XSxpdD1bMSwxNTBdLHJ0PVsxMCw2Niw4Nl0sc3Q9WzgsMTAsMTYsMjAsMzIsMzQsMzUsMzcsMzksNDEsNDIsNDMsNDUsNDYsNDcsNDgsNTAsNTEsNTMsNTQsNTUsNTcsNjQsNjUsNjYsODIsODMsODZdLG90PVsxLDE2N10sbnQ9WzEwLDg2XSxhdD17dHJhY2U6ZnVuY3Rpb24oKXt9LHl5Ont9LHN5bWJvbHNfOntlcnJvcjoyLFByb2dyYW06MyxTdGF0ZW1lbnRMaXN0OjQsRU9GOjUsSWZTdGF0ZW1lbnQ6NixJRjo3LFwiKFwiOjgsRXhwcmVzc2lvbjo5LFwiKVwiOjEwLFN0YXRlbWVudDoxMSxFTFNFOjEyLExvb3BTdGF0ZW1lbnQ6MTMsV0hJTEU6MTQsRk9SOjE1LFwiO1wiOjE2LERPOjE3LFVuYXJ5U3RhdGVtZW50OjE4LFVTRToxOSxJREVOVElGSUVSOjIwLERFTEVURToyMSxSZXR1cm5TdGF0ZW1lbnQ6MjIsUkVUVVJOOjIzLEVtcHR5U3RhdGVtZW50OjI0LFN0YXRlbWVudEJsb2NrOjI1LFwie1wiOjI2LFwifVwiOjI3LEV4cHJlc3Npb25TdGF0ZW1lbnQ6MjgsQXNzaWdubWVudEV4cHJlc3Npb246MjksQ29uZGl0aW9uYWxFeHByZXNzaW9uOjMwLExlZnRIYW5kU2lkZUV4cHJlc3Npb246MzEsXCI9XCI6MzIsTG9naWNhbE9SRXhwcmVzc2lvbjozMyxcIj9cIjozNCxcIjpcIjozNSxMb2dpY2FsQU5ERXhwcmVzc2lvbjozNixcInx8XCI6MzcsRXF1YWxpdHlFeHByZXNzaW9uOjM4LFwiJiZcIjozOSxSZWxhdGlvbmFsRXhwcmVzc2lvbjo0MCxcIj09XCI6NDEsXCIhPVwiOjQyLFwifj1cIjo0MyxBZGRpdGl2ZUV4cHJlc3Npb246NDQsXCI8XCI6NDUsXCI+XCI6NDYsXCI8PVwiOjQ3LFwiPj1cIjo0OCxNdWx0aXBsaWNhdGl2ZUV4cHJlc3Npb246NDksXCIrXCI6NTAsXCItXCI6NTEsVW5hcnlFeHByZXNzaW9uOjUyLFwiKlwiOjUzLFwiL1wiOjU0LFwiJVwiOjU1LEV4cG9uZW50RXhwcmVzc2lvbjo1NixcIl5cIjo1NyxcIiFcIjo1OCxNZW1iZXJFeHByZXNzaW9uOjU5LENhbGxFeHByZXNzaW9uOjYwLFByaW1hcnlFeHByZXNzaW9uOjYxLEZ1bmN0aW9uRXhwcmVzc2lvbjo2MixNYXBFeHByZXNzaW9uOjYzLFwiLlwiOjY0LFwiW1wiOjY1LFwiXVwiOjY2LEJhc2ljTGl0ZXJhbDo2NyxPYmplY3RMaXRlcmFsOjY4LEFycmF5TGl0ZXJhbDo2OSxOdWxsTGl0ZXJhbDo3MCxCb29sZWFuTGl0ZXJhbDo3MSxTdHJpbmdMaXRlcmFsOjcyLE51bWJlckxpdGVyYWw6NzMsTlVMTDo3NCxUUlVFOjc1LEZBTFNFOjc2LFNUUklORzo3NyxOVU1CRVI6NzgsTkFOOjc5LElORklOSVRZOjgwLEVsZW1lbnRMaXN0OjgxLFwiPDxcIjo4MixcIj4+XCI6ODMsUHJvcGVydHlMaXN0Ojg0LFByb3BlcnR5Ojg1LFwiLFwiOjg2LFByb3BlcnR5TmFtZTo4NyxBcmd1bWVudHM6ODgsQXR0cmlidXRlTGlzdDo4OSxBdHRyaWJ1dGU6OTAsRlVOQ1RJT046OTEsUGFyYW1ldGVyRGVmaW5pdGlvbkxpc3Q6OTIsTUFQOjkzLFwiLT5cIjo5NCwkYWNjZXB0OjAsJGVuZDoxfSx0ZXJtaW5hbHNfOnsyOlwiZXJyb3JcIiw1OlwiRU9GXCIsNzpcIklGXCIsODpcIihcIiwxMDpcIilcIiwxMjpcIkVMU0VcIiwxNDpcIldISUxFXCIsMTU6XCJGT1JcIiwxNjpcIjtcIiwxNzpcIkRPXCIsMTk6XCJVU0VcIiwyMDpcIklERU5USUZJRVJcIiwyMTpcIkRFTEVURVwiLDIzOlwiUkVUVVJOXCIsMjY6XCJ7XCIsMjc6XCJ9XCIsMzI6XCI9XCIsMzQ6XCI/XCIsMzU6XCI6XCIsMzc6XCJ8fFwiLDM5OlwiJiZcIiw0MTpcIj09XCIsNDI6XCIhPVwiLDQzOlwifj1cIiw0NTpcIjxcIiw0NjpcIj5cIiw0NzpcIjw9XCIsNDg6XCI+PVwiLDUwOlwiK1wiLDUxOlwiLVwiLDUzOlwiKlwiLDU0OlwiL1wiLDU1OlwiJVwiLDU3OlwiXlwiLDU4OlwiIVwiLDY0OlwiLlwiLDY1OlwiW1wiLDY2OlwiXVwiLDc0OlwiTlVMTFwiLDc1OlwiVFJVRVwiLDc2OlwiRkFMU0VcIiw3NzpcIlNUUklOR1wiLDc4OlwiTlVNQkVSXCIsNzk6XCJOQU5cIiw4MDpcIklORklOSVRZXCIsODI6XCI8PFwiLDgzOlwiPj5cIiw4NjpcIixcIiw5MTpcIkZVTkNUSU9OXCIsOTM6XCJNQVBcIiw5NDpcIi0+XCJ9LHByb2R1Y3Rpb25zXzpbMCxbMywyXSxbNiw1XSxbNiw3XSxbMTMsNV0sWzEzLDldLFsxMyw3XSxbMTgsMl0sWzE4LDJdLFsyMiwyXSxbMjIsM10sWzI0LDFdLFsyNSwzXSxbNCwyXSxbNCwwXSxbMTEsMV0sWzExLDFdLFsxMSwxXSxbMTEsMV0sWzExLDFdLFsxMSwxXSxbMTEsMV0sWzI4LDJdLFs5LDFdLFsyOSwxXSxbMjksM10sWzMwLDFdLFszMCw1XSxbMzMsMV0sWzMzLDNdLFszNiwxXSxbMzYsM10sWzM4LDFdLFszOCwzXSxbMzgsM10sWzM4LDNdLFs0MCwxXSxbNDAsM10sWzQwLDNdLFs0MCwzXSxbNDAsM10sWzQ0LDFdLFs0NCwzXSxbNDQsM10sWzQ5LDFdLFs0OSwzXSxbNDksM10sWzQ5LDNdLFs1NiwxXSxbNTYsM10sWzUyLDFdLFs1MiwyXSxbNTIsMl0sWzUyLDJdLFszMSwxXSxbMzEsMV0sWzU5LDFdLFs1OSwxXSxbNTksMV0sWzU5LDNdLFs1OSw0XSxbNjEsMV0sWzYxLDFdLFs2MSwxXSxbNjEsMV0sWzYxLDNdLFs2NywxXSxbNjcsMV0sWzY3LDFdLFs2NywxXSxbNzAsMV0sWzcxLDFdLFs3MSwxXSxbNzIsMV0sWzczLDFdLFs3MywxXSxbNzMsMV0sWzY5LDJdLFs2OSwzXSxbNjgsMl0sWzY4LDNdLFs4NCwxXSxbODQsM10sWzg1LDNdLFs4NywxXSxbODcsMV0sWzg3LDFdLFs2MCwyXSxbNjAsM10sWzYwLDJdLFs2MCw0XSxbNjAsM10sWzg4LDJdLFs4OCwzXSxbODksMV0sWzg5LDNdLFs5MCwxXSxbOTAsMV0sWzgxLDFdLFs4MSwzXSxbNjIsNF0sWzYyLDVdLFs2Myw1XSxbNjMsNl0sWzkyLDFdLFs5MiwzXV0scGVyZm9ybUFjdGlvbjpmdW5jdGlvbih0LGUsaSxyLHMsbyxuKXt2YXIgYT1vLmxlbmd0aC0xO3N3aXRjaChzKXtjYXNlIDE6cmV0dXJuIG9bYS0xXTtjYXNlIDI6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTRdKSxcIm5vZGVfb3BcIixcIm9wX2lmXCIsb1thLTJdLG9bYV0pO2JyZWFrO2Nhc2UgMzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtNl0pLFwibm9kZV9vcFwiLFwib3BfaWZfZWxzZVwiLG9bYS00XSxvW2EtMl0sb1thXSk7YnJlYWs7Y2FzZSA0OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS00XSksXCJub2RlX29wXCIsXCJvcF93aGlsZVwiLG9bYS0yXSxvW2FdKTticmVhaztjYXNlIDU6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLThdKSxcIm5vZGVfb3BcIixcIm9wX2ZvclwiLG9bYS02XSxvW2EtNF0sb1thLTJdLG9bYV0pO2JyZWFrO2Nhc2UgNjp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtNl0pLFwibm9kZV9vcFwiLFwib3BfZG9cIixvW2EtNV0sb1thLTJdKTticmVhaztjYXNlIDc6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTFdKSxcIm5vZGVfb3BcIixcIm9wX3VzZVwiLG9bYV0pO2JyZWFrO2Nhc2UgODp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMV0pLFwibm9kZV9vcFwiLFwib3BfZGVsZXRlXCIsb1thXSk7YnJlYWs7Y2FzZSA5OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0xXSksXCJub2RlX29wXCIsXCJvcF9yZXR1cm5cIix2b2lkIDApO2JyZWFrO2Nhc2UgMTA6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX3JldHVyblwiLG9bYS0xXSk7YnJlYWs7Y2FzZSAxMTpjYXNlIDE0OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYV0pLFwibm9kZV9vcFwiLFwib3Bfbm9uZVwiKTticmVhaztjYXNlIDEyOnRoaXMuJD1vW2EtMV0sdGhpcy4kLm5lZWRzQnJhY2tldHM9ITA7YnJlYWs7Y2FzZSAxMzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMV0pLFwibm9kZV9vcFwiLFwib3Bfbm9uZVwiLG9bYS0xXSxvW2FdKTticmVhaztjYXNlIDE1OmNhc2UgMTY6Y2FzZSAxNzpjYXNlIDE4OmNhc2UgMTk6Y2FzZSAyMDpjYXNlIDIxOmNhc2UgMjM6Y2FzZSAyNDpjYXNlIDI2OmNhc2UgMjg6Y2FzZSAzMDpjYXNlIDMyOmNhc2UgMzY6Y2FzZSA0MTpjYXNlIDQ0OmNhc2UgNDg6Y2FzZSA1MDpjYXNlIDUyOmNhc2UgNTQ6Y2FzZSA1NTpjYXNlIDU2OmNhc2UgNTg6Y2FzZSA2MjpjYXNlIDgxOmNhc2UgODQ6Y2FzZSA4NTpjYXNlIDg2OnRoaXMuJD1vW2FdO2JyZWFrO2Nhc2UgMjI6Y2FzZSA2NTpjYXNlIDkzOnRoaXMuJD1vW2EtMV07YnJlYWs7Y2FzZSAyNTp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfYXNzaWduXCIsb1thLTJdLG9bYV0pLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSAyNzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtNF0pLFwibm9kZV9vcFwiLFwib3BfY29uZGl0aW9uYWxcIixvW2EtNF0sb1thLTJdLG9bYV0pLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSAyOTp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3Bfb3JcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDMxOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9hbmRcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDMzOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9lcVwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgMzQ6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX25lcVwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgMzU6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2FwcHJveFwiLG9bYS0yXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgMzc6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2x0XCIsb1thLTJdLG9bYV0pLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSAzODp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfZ3RcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDM5OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9sZXFcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDQwOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9nZXFcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDQyOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9hZGRcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDQzOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9zdWJcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDQ1OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9tdWxcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDQ2OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9kaXZcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDQ3OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9tb2RcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDQ5OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9leHBcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDUxOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0xXSksXCJub2RlX29wXCIsXCJvcF9ub3RcIixvW2FdKSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgNTM6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTFdKSxcIm5vZGVfb3BcIixcIm9wX25lZ1wiLG9bYV0pLHRoaXMuJC5pc01hdGg9ITA7YnJlYWs7Y2FzZSA1NzpjYXNlIDYzOmNhc2UgNjQ6Y2FzZSA2NjpjYXNlIDY3OmNhc2UgNjg6Y2FzZSA5Nzp0aGlzLiQ9b1thXSx0aGlzLiQuaXNNYXRoPSExO2JyZWFrO2Nhc2UgNTk6Y2FzZSA5MTp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfcHJvcGVydHlcIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDYwOmNhc2UgOTA6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTNdKSxcIm5vZGVfb3BcIixcIm9wX2V4dHZhbHVlXCIsb1thLTNdLG9bYS0xXSksdGhpcy4kLmlzTWF0aD0hMDticmVhaztjYXNlIDYxOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYV0pLFwibm9kZV92YXJcIixvW2FdKTticmVhaztjYXNlIDY5OnRoaXMuJD1vW2FdLHRoaXMuJC5pc01hdGg9ITA7YnJlYWs7Y2FzZSA3MDp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2FdKSxcIm5vZGVfY29uc3RcIixudWxsKTticmVhaztjYXNlIDcxOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYV0pLFwibm9kZV9jb25zdF9ib29sXCIsITApO2JyZWFrO2Nhc2UgNzI6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthXSksXCJub2RlX2NvbnN0X2Jvb2xcIiwhMSk7YnJlYWs7Y2FzZSA3Mzp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2FdKSxcIm5vZGVfc3RyXCIsb1thXS5zdWJzdHJpbmcoMSxvW2FdLmxlbmd0aC0xKSk7YnJlYWs7Y2FzZSA3NDp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2FdKSxcIm5vZGVfY29uc3RcIixwYXJzZUZsb2F0KG9bYV0pKTticmVhaztjYXNlIDc1OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYV0pLFwibm9kZV9jb25zdFwiLE5hTik7YnJlYWs7Y2FzZSA3Njp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2FdKSxcIm5vZGVfY29uc3RcIiwxLzApO2JyZWFrO2Nhc2UgNzc6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTFdKSxcIm5vZGVfb3BcIixcIm9wX2FycmF5XCIsW10pO2JyZWFrO2Nhc2UgNzg6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2FycmF5XCIsb1thLTFdKTticmVhaztjYXNlIDc5OnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0xXSksXCJub2RlX29wXCIsXCJvcF9lbXB0eW9iamVjdFwiLHt9KSx0aGlzLiQubmVlZHNCcmFja2V0cz0hMDticmVhaztjYXNlIDgwOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9wcm9wbHN0X3ZhbFwiLG9bYS0xXSksdGhpcy4kLm5lZWRzQnJhY2tldHM9ITA7YnJlYWs7Y2FzZSA4Mjp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMl0pLFwibm9kZV9vcFwiLFwib3BfcHJvcGxzdFwiLG9bYS0yXSxvW2FdKTticmVhaztjYXNlIDgzOnRoaXMuJD1odC5jcmVhdGVOb2RlKGx0KG5bYS0yXSksXCJub2RlX29wXCIsXCJvcF9wcm9wXCIsb1thLTJdLG9bYV0pO2JyZWFrO2Nhc2UgODc6Y2FzZSA4OTp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtMV0pLFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLG9bYS0xXSxvW2FdKSx0aGlzLiQuaXNNYXRoPSEwO2JyZWFrO2Nhc2UgODg6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTJdKSxcIm5vZGVfb3BcIixcIm9wX2V4ZWNmdW5cIixvW2EtMl0sb1thLTFdLG9bYV0sITApLHRoaXMuJC5pc01hdGg9ITE7YnJlYWs7Y2FzZSA5Mjp0aGlzLiQ9W107YnJlYWs7Y2FzZSA5NDpjYXNlIDk4OmNhc2UgMTA0OnRoaXMuJD1bb1thXV07YnJlYWs7Y2FzZSA5NTpjYXNlIDk5OmNhc2UgMTA1OnRoaXMuJD1vW2EtMl0uY29uY2F0KG9bYV0pO2JyZWFrO2Nhc2UgOTY6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthXSksXCJub2RlX3ZhclwiLG9bYV0pLHRoaXMuJC5pc01hdGg9ITA7YnJlYWs7Y2FzZSAxMDA6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTNdKSxcIm5vZGVfb3BcIixcIm9wX2Z1bmN0aW9uXCIsW10sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDEwMTp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtNF0pLFwibm9kZV9vcFwiLFwib3BfZnVuY3Rpb25cIixvW2EtMl0sb1thXSksdGhpcy4kLmlzTWF0aD0hMTticmVhaztjYXNlIDEwMjp0aGlzLiQ9aHQuY3JlYXRlTm9kZShsdChuW2EtNF0pLFwibm9kZV9vcFwiLFwib3BfbWFwXCIsW10sb1thXSk7YnJlYWs7Y2FzZSAxMDM6dGhpcy4kPWh0LmNyZWF0ZU5vZGUobHQoblthLTVdKSxcIm5vZGVfb3BcIixcIm9wX21hcFwiLG9bYS0zXSxvW2FdKX19LHRhYmxlOlt0KFs1LDcsOCwxNCwxNSwxNiwxNywxOSwyMCwyMSwyMywyNiw1MCw1MSw1OCw2NSw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4Miw5MSw5M10sZSx7MzoxLDQ6Mn0pLHsxOlszXX0sezU6WzEsM10sNjo2LDc6aSw4OnIsOToyMCwxMTo0LDEzOjcsMTQ6cywxNTpvLDE2Om4sMTc6YSwxODo4LDE5OmgsMjA6bCwyMTpjLDIyOjksMjM6ZCwyNDoxMSwyNTo1LDI2OnUsMjg6MTAsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7MTpbMiwxXX0sdCh3LFsyLDEzXSksdChULFsyLDE1XSksdChULFsyLDE2XSksdChULFsyLDE3XSksdChULFsyLDE4XSksdChULFsyLDE5XSksdChULFsyLDIwXSksdChULFsyLDIxXSksdChbNyw4LDE0LDE1LDE2LDE3LDE5LDIwLDIxLDIzLDI2LDI3LDUwLDUxLDU4LDY1LDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgyLDkxLDkzXSxlLHs0OjYxfSksezg6WzEsNjJdfSx7ODpbMSw2M119LHs4OlsxLDY0XX0sezY6Niw3OmksODpyLDk6MjAsMTE6NjUsMTM6NywxNDpzLDE1Om8sMTY6biwxNzphLDE4OjgsMTk6aCwyMDpsLDIxOmMsMjI6OSwyMzpkLDI0OjExLDI1OjUsMjY6dSwyODoxMCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHsyMDpbMSw2Nl19LHsyMDpbMSw2N119LHs4OnIsOTo2OSwxNjpbMSw2OF0sMjA6bCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHsxNjpbMSw3MF19LHQoVCxbMiwxMV0pLHQoTixbMiwyM10pLHQoTixbMiwyNF0pLHQoWzgsMTAsMTYsMzQsMzUsMzcsMzksNDEsNDIsNDMsNDUsNDYsNDcsNDgsNTAsNTEsNTMsNTQsNTUsNjQsNjUsNjYsODMsODZdLE0sezMyOlsxLDcxXSw1NzpBfSksdChbOCwxMCwxNiwzMiwzNSwzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw1Nyw2NCw2NSw2Niw4Myw4Nl0sWzIsMjZdLHszNDpbMSw3M10sMzc6WzEsNzRdfSksdChSLFsyLDU0XSx7ODg6NzcsODpMLDY0OlsxLDc1XSw2NTpbMSw3Nl19KSx0KFIsWzIsNTVdLHs4ODo3OSw4OkwsNjQ6WzEsODFdLDY1OlsxLDgwXX0pLHQoayxbMiwyOF0sezM5OkR9KSx0KE4sWzIsNTZdKSx0KE4sWzIsNTddKSx0KE4sWzIsNThdKSx0KEIsWzIsMzBdLHs0MTpJLDQyOlksNDM6an0pLHQoTixbMiw2MV0pLHQoTixbMiw2Ml0pLHQoTixbMiw2M10pLHQoTixbMiw2NF0pLHs4OnIsOTo4NiwyMDpsLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6WzEsODddfSx7ODpbMSw4OF19LHQoWCxbMiwzMl0sezQ1OkYsNDY6VSw0NzpKLDQ4Okd9KSx0KE4sWzIsNjZdKSx0KE4sWzIsNjddKSx0KE4sWzIsNjhdKSx0KE4sWzIsNjldKSx7MjA6eiw3Mjo5OCw3Mzo5OSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgzOlsxLDkzXSw4NDo5NCw4NTo5NSw4Nzo5Nn0sezg6ciwyMDpsLDI5OjEwMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY2OlsxLDEwMF0sNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4MToxMDEsODI6eCw5MTpTLDkzOk99LHQoSCxbMiwzNl0sezUwOlYsNTE6JH0pLHQoTixbMiw3MF0pLHQoTixbMiw3MV0pLHQoTixbMiw3Ml0pLHQoTixbMiw3M10pLHQoTixbMiw3NF0pLHQoTixbMiw3NV0pLHQoTixbMiw3Nl0pLHQocSxbMiw0MV0sezUzOlcsNTQ6Wiw1NTpRfSksdChOLFsyLDQ0XSksdChOLFsyLDUwXSksezg6ciwyMDpsLDMxOjEwOSw1MDpwLDUxOmYsNTI6MTA4LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDUwOnAsNTE6Ziw1MjoxMTAsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNTA6cCw1MTpmLDUyOjExMSw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezY6Niw3OmksODpyLDk6MjAsMTE6NCwxMzo3LDE0OnMsMTU6bywxNjpuLDE3OmEsMTg6OCwxOTpoLDIwOmwsMjE6YywyMjo5LDIzOmQsMjQ6MTEsMjU6NSwyNjp1LDI3OlsxLDExMl0sMjg6MTAsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDk6MTEzLDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDk6MTE0LDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDk6MTE1LDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7MTQ6WzEsMTE2XX0sdChULFsyLDddKSx0KFQsWzIsOF0pLHQoVCxbMiw5XSksezE2OlsxLDExN119LHQoVCxbMiwyMl0pLHs4OnIsMjA6bCwyOToxMTgsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDUwOnAsNTE6Ziw1MjoxMTksNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwyOToxMjAsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDM2OjEyMSwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHsyMDpbMSwxMjJdfSx7ODpyLDk6MTIzLDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx0KE4sWzIsODddLHs4OToxMjQsOTA6MTI1LDY4OjEyNywyMDpLLDgyOnh9KSx7ODpyLDEwOlsxLDEyOF0sMjA6bCwyOToxMDIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgxOjEyOSw4Mjp4LDkxOlMsOTM6T30sdChOLFsyLDg5XSksezg6ciw5OjEzMCwyMDpsLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezIwOlsxLDEzMV19LHs4OnIsMjA6bCwzMToxMDksMzg6MTMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDMxOjEwOSw0MDoxMzMsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDQwOjEzNCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNDA6MTM1LDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezEwOlsxLDEzNl19LHsxMDpbMSwxMzddLDIwOnR0LDkyOjEzOH0sezEwOlsxLDE0MF0sMjA6dHQsOTI6MTQxfSx7ODpyLDIwOmwsMzE6MTA5LDQ0OjE0Miw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNDQ6MTQzLDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDMxOjEwOSw0NDoxNDQsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDQ0OjE0NSw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHQoTixbMiw3OV0pLHs4MzpbMSwxNDZdLDg2OlsxLDE0N119LHQoZXQsWzIsODFdKSx7MzU6WzEsMTQ4XX0sezM1OlsyLDg0XX0sezM1OlsyLDg1XX0sezM1OlsyLDg2XX0sdChOLFsyLDc3XSksezY2OlsxLDE0OV0sODY6aXR9LHQocnQsWzIsOThdKSx7ODpyLDIwOmwsMzE6MTA5LDQ5OjE1MSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNDk6MTUyLDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDMxOjEwOSw1MDpwLDUxOmYsNTI6MTUzLDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7ODpyLDIwOmwsMzE6MTA5LDUwOnAsNTE6Ziw1MjoxNTQsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsMjA6bCwzMToxMDksNTA6cCw1MTpmLDUyOjE1NSw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sdChOLFsyLDUxXSksdChbOCwxMCwxNiwzMiwzNCwzNSwzNywzOSw0MSw0Miw0Myw0NSw0Niw0Nyw0OCw1MCw1MSw1Myw1NCw1NSw2NCw2NSw2Niw4Myw4Nl0sTSx7NTc6QX0pLHQoTixbMiw1Ml0pLHQoTixbMiw1M10pLHQoWzUsNyw4LDEwLDEyLDE0LDE1LDE2LDE3LDE5LDIwLDIxLDIzLDI2LDI3LDMyLDM0LDM1LDM3LDM5LDQxLDQyLDQzLDQ1LDQ2LDQ3LDQ4LDUwLDUxLDUzLDU0LDU1LDU3LDU4LDY0LDY1LDY2LDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgyLDgzLDg2LDkxLDkzXSxbMiwxMl0pLHsxMDpbMSwxNTZdfSx7MTA6WzEsMTU3XX0sezE2OlsxLDE1OF19LHs4OlsxLDE1OV19LHQoVCxbMiwxMF0pLHQoTixbMiwyNV0pLHQoTixbMiw0OV0pLHszNTpbMSwxNjBdfSx0KGssWzIsMjldLHszOTpEfSksdChOLFsyLDU5XSksezY2OlsxLDE2MV19LHQoWzgsMTAsMTYsMzIsMzQsMzUsMzcsMzksNDEsNDIsNDMsNDUsNDYsNDcsNDgsNTAsNTEsNTMsNTQsNTUsNTcsNjQsNjUsNjYsODNdLFsyLDg4XSx7ODY6WzEsMTYyXX0pLHQoTixbMiw5NF0pLHQoTixbMiw5Nl0pLHQoTixbMiw5N10pLHQoc3QsWzIsOTJdKSx7MTA6WzEsMTYzXSw4NjppdH0sezY2OlsxLDE2NF19LHQoTixbMiw5MV0pLHQoQixbMiwzMV0sezQxOkksNDI6WSw0MzpqfSksdChYLFsyLDMzXSx7NDU6Riw0NjpVLDQ3OkosNDg6R30pLHQoWCxbMiwzNF0sezQ1OkYsNDY6VSw0NzpKLDQ4Okd9KSx0KFgsWzIsMzVdLHs0NTpGLDQ2OlUsNDc6Siw0ODpHfSksdChOLFsyLDY1XSksezI1OjE2NSwyNjp1fSx7MTA6WzEsMTY2XSw4NjpvdH0sdChudCxbMiwxMDRdKSx7OTQ6WzEsMTY4XX0sezEwOlsxLDE2OV0sODY6b3R9LHQoSCxbMiwzN10sezUwOlYsNTE6JH0pLHQoSCxbMiwzOF0sezUwOlYsNTE6JH0pLHQoSCxbMiwzOV0sezUwOlYsNTE6JH0pLHQoSCxbMiw0MF0sezUwOlYsNTE6JH0pLHQoTixbMiw4MF0pLHsyMDp6LDcyOjk4LDczOjk5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODU6MTcwLDg3Ojk2fSx7ODpyLDIwOmwsMjk6MTcxLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sdChOLFsyLDc4XSksezg6ciwyMDpsLDI5OjE3MiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHQocSxbMiw0Ml0sezUzOlcsNTQ6Wiw1NTpRfSksdChxLFsyLDQzXSx7NTM6Vyw1NDpaLDU1OlF9KSx0KE4sWzIsNDVdKSx0KE4sWzIsNDZdKSx0KE4sWzIsNDddKSx7Njo2LDc6aSw4OnIsOToyMCwxMToxNzMsMTM6NywxNDpzLDE1Om8sMTY6biwxNzphLDE4OjgsMTk6aCwyMDpsLDIxOmMsMjI6OSwyMzpkLDI0OjExLDI1OjUsMjY6dSwyODoxMCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs2OjYsNzppLDg6ciw5OjIwLDExOjE3NCwxMzo3LDE0OnMsMTU6bywxNjpuLDE3OmEsMTg6OCwxOTpoLDIwOmwsMjE6YywyMjo5LDIzOmQsMjQ6MTEsMjU6NSwyNjp1LDI4OjEwLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciw5OjE3NSwyMDpsLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciw5OjE3NiwyMDpsLDI5OjIyLDMwOjIzLDMxOjI0LDMzOjI1LDM2OjI4LDM4OjMyLDQwOjQwLDQ0OjQ3LDQ5OjU1LDUwOnAsNTE6Ziw1Mjo1Niw1Njo1Nyw1ODptLDU5OjI2LDYwOjI3LDYxOjI5LDYyOjMwLDYzOjMxLDY1OmcsNjc6MzQsNjg6MzUsNjk6MzYsNzA6NDEsNzE6NDIsNzI6NDMsNzM6NDQsNzQ6Yiw3NTp2LDc2OnksNzc6Qyw3ODpfLDc5OlAsODA6RSw4Mjp4LDkxOlMsOTM6T30sezg6ciwyMDpsLDI5OjE3NywzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHQoTixbMiw2MF0pLHsyMDpLLDY4OjEyNyw4Mjp4LDkwOjE3OH0sdChzdCxbMiw5M10pLHQoTixbMiw5MF0pLHQoTixbMiwxMDBdKSx7MjU6MTc5LDI2OnV9LHsyMDpbMSwxODBdfSx7ODpyLDk6MTgxLDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7OTQ6WzEsMTgyXX0sdChldCxbMiw4Ml0pLHQoZXQsWzIsODNdKSx0KHJ0LFsyLDk5XSksdCh3LFsyLDJdLHsxMjpbMSwxODNdfSksdChULFsyLDRdKSx7MTY6WzEsMTg0XX0sezEwOlsxLDE4NV19LHQoTixbMiwyN10pLHQoTixbMiw5NV0pLHQoTixbMiwxMDFdKSx0KG50LFsyLDEwNV0pLHQoTixbMiwxMDJdKSx7ODpyLDk6MTg2LDIwOmwsMjk6MjIsMzA6MjMsMzE6MjQsMzM6MjUsMzY6MjgsMzg6MzIsNDA6NDAsNDQ6NDcsNDk6NTUsNTA6cCw1MTpmLDUyOjU2LDU2OjU3LDU4Om0sNTk6MjYsNjA6MjcsNjE6MjksNjI6MzAsNjM6MzEsNjU6Zyw2NzozNCw2ODozNSw2OTozNiw3MDo0MSw3MTo0Miw3Mjo0Myw3Mzo0NCw3NDpiLDc1OnYsNzY6eSw3NzpDLDc4Ol8sNzk6UCw4MDpFLDgyOngsOTE6Uyw5MzpPfSx7Njo2LDc6aSw4OnIsOToyMCwxMToxODcsMTM6NywxNDpzLDE1Om8sMTY6biwxNzphLDE4OjgsMTk6aCwyMDpsLDIxOmMsMjI6OSwyMzpkLDI0OjExLDI1OjUsMjY6dSwyODoxMCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHs4OnIsOToxODgsMjA6bCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHsxNjpbMSwxODldfSx0KE4sWzIsMTAzXSksdChULFsyLDNdKSx7MTA6WzEsMTkwXX0sdChULFsyLDZdKSx7Njo2LDc6aSw4OnIsOToyMCwxMToxOTEsMTM6NywxNDpzLDE1Om8sMTY6biwxNzphLDE4OjgsMTk6aCwyMDpsLDIxOmMsMjI6OSwyMzpkLDI0OjExLDI1OjUsMjY6dSwyODoxMCwyOToyMiwzMDoyMywzMToyNCwzMzoyNSwzNjoyOCwzODozMiw0MDo0MCw0NDo0Nyw0OTo1NSw1MDpwLDUxOmYsNTI6NTYsNTY6NTcsNTg6bSw1OToyNiw2MDoyNyw2MToyOSw2MjozMCw2MzozMSw2NTpnLDY3OjM0LDY4OjM1LDY5OjM2LDcwOjQxLDcxOjQyLDcyOjQzLDczOjQ0LDc0OmIsNzU6diw3Njp5LDc3OkMsNzg6Xyw3OTpQLDgwOkUsODI6eCw5MTpTLDkzOk99LHQoVCxbMiw1XSldLGRlZmF1bHRBY3Rpb25zOnszOlsyLDFdLDk3OlsyLDg0XSw5ODpbMiw4NV0sOTk6WzIsODZdfSxwYXJzZUVycm9yOmZ1bmN0aW9uKHQsZSl7aWYoIWUucmVjb3ZlcmFibGUpe3ZhciBpPW5ldyBFcnJvcih0KTt0aHJvdyBpLmhhc2g9ZSxpfXRoaXMudHJhY2UodCl9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1bMF0scj1bbnVsbF0scz1bXSxvPXRoaXMudGFibGUsbj1cIlwiLGE9MCxoPTAsbD0wLGM9MixkPTEsdT1zLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHA9T2JqZWN0LmNyZWF0ZSh0aGlzLmxleGVyKSxmPXt5eTp7fX07Zm9yKHZhciBtIGluIHRoaXMueXkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMueXksbSkmJihmLnl5W21dPXRoaXMueXlbbV0pO3Auc2V0SW5wdXQodCxmLnl5KSxmLnl5LmxleGVyPXAsZi55eS5wYXJzZXI9dGhpcyx2b2lkIDA9PT1wLnl5bGxvYyYmKHAueXlsbG9jPXt9KTt2YXIgZz1wLnl5bGxvYztzLnB1c2goZyk7dmFyIGI9cC5vcHRpb25zJiZwLm9wdGlvbnMucmFuZ2VzO1wiZnVuY3Rpb25cIj09dHlwZW9mIGYueXkucGFyc2VFcnJvcj90aGlzLnBhcnNlRXJyb3I9Zi55eS5wYXJzZUVycm9yOnRoaXMucGFyc2VFcnJvcj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykucGFyc2VFcnJvcjtmb3IodmFyIHYseSxDLF8sUCxFLHgsUyxPLHc9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YodD1wLmxleCgpfHxkKSYmKHQ9ZS5zeW1ib2xzX1t0XXx8dCksdH0sVD17fTs7KXtpZihDPWlbaS5sZW5ndGgtMV0sdGhpcy5kZWZhdWx0QWN0aW9uc1tDXT9fPXRoaXMuZGVmYXVsdEFjdGlvbnNbQ106KG51bGw9PXYmJih2PXcoKSksXz1vW0NdJiZvW0NdW3ZdKSx2b2lkIDA9PT1ffHwhXy5sZW5ndGh8fCFfWzBdKXt2YXIgTj1cIlwiO2ZvcihFIGluIE89W10sb1tDXSl0aGlzLnRlcm1pbmFsc19bRV0mJkU+YyYmTy5wdXNoKFwiJ1wiK3RoaXMudGVybWluYWxzX1tFXStcIidcIik7Tj1wLnNob3dQb3NpdGlvbj9cIlBhcnNlIGVycm9yIG9uIGxpbmUgXCIrKGErMSkrXCI6XFxuXCIrcC5zaG93UG9zaXRpb24oKStcIlxcbkV4cGVjdGluZyBcIitPLmpvaW4oXCIsIFwiKStcIiwgZ290ICdcIisodGhpcy50ZXJtaW5hbHNfW3ZdfHx2KStcIidcIjpcIlBhcnNlIGVycm9yIG9uIGxpbmUgXCIrKGErMSkrXCI6IFVuZXhwZWN0ZWQgXCIrKHY9PWQ/XCJlbmQgb2YgaW5wdXRcIjpcIidcIisodGhpcy50ZXJtaW5hbHNfW3ZdfHx2KStcIidcIiksdGhpcy5wYXJzZUVycm9yKE4se3RleHQ6cC5tYXRjaCx0b2tlbjp0aGlzLnRlcm1pbmFsc19bdl18fHYsbGluZTpwLnl5bGluZW5vLGxvYzpnLGV4cGVjdGVkOk99KX1pZihfWzBdaW5zdGFuY2VvZiBBcnJheSYmXy5sZW5ndGg+MSl0aHJvdyBuZXcgRXJyb3IoXCJQYXJzZSBFcnJvcjogbXVsdGlwbGUgYWN0aW9ucyBwb3NzaWJsZSBhdCBzdGF0ZTogXCIrQytcIiwgdG9rZW46IFwiK3YpO3N3aXRjaChfWzBdKXtjYXNlIDE6aS5wdXNoKHYpLHIucHVzaChwLnl5dGV4dCkscy5wdXNoKHAueXlsbG9jKSxpLnB1c2goX1sxXSksdj1udWxsLHk/KHY9eSx5PW51bGwpOihoPXAueXlsZW5nLG49cC55eXRleHQsYT1wLnl5bGluZW5vLGc9cC55eWxsb2MsbD4wJiZsLS0pO2JyZWFrO2Nhc2UgMjppZih4PXRoaXMucHJvZHVjdGlvbnNfW19bMV1dWzFdLFQuJD1yW3IubGVuZ3RoLXhdLFQuXyQ9e2ZpcnN0X2xpbmU6c1tzLmxlbmd0aC0oeHx8MSldLmZpcnN0X2xpbmUsbGFzdF9saW5lOnNbcy5sZW5ndGgtMV0ubGFzdF9saW5lLGZpcnN0X2NvbHVtbjpzW3MubGVuZ3RoLSh4fHwxKV0uZmlyc3RfY29sdW1uLGxhc3RfY29sdW1uOnNbcy5sZW5ndGgtMV0ubGFzdF9jb2x1bW59LGImJihULl8kLnJhbmdlPVtzW3MubGVuZ3RoLSh4fHwxKV0ucmFuZ2VbMF0sc1tzLmxlbmd0aC0xXS5yYW5nZVsxXV0pLHZvaWQgMCE9PShQPXRoaXMucGVyZm9ybUFjdGlvbi5hcHBseShULFtuLGgsYSxmLnl5LF9bMV0scixzXS5jb25jYXQodSkpKSlyZXR1cm4gUDt4JiYoaT1pLnNsaWNlKDAsLTEqeCoyKSxyPXIuc2xpY2UoMCwtMSp4KSxzPXMuc2xpY2UoMCwtMSp4KSksaS5wdXNoKHRoaXMucHJvZHVjdGlvbnNfW19bMV1dWzBdKSxyLnB1c2goVC4kKSxzLnB1c2goVC5fJCksUz1vW2lbaS5sZW5ndGgtMl1dW2lbaS5sZW5ndGgtMV1dLGkucHVzaChTKTticmVhaztjYXNlIDM6cmV0dXJuITB9fXJldHVybiEwfX0saHQ9e25vZGU6ZnVuY3Rpb24odCxlLGkpe3JldHVybnt0eXBlOnQsdmFsdWU6ZSxjaGlsZHJlbjppfX0sY3JlYXRlTm9kZTpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvPXRoaXMubm9kZShlLGksW10pO2ZvcihzPTM7czxhcmd1bWVudHMubGVuZ3RoO3MrKylvLmNoaWxkcmVuLnB1c2goYXJndW1lbnRzW3NdKTtyZXR1cm4gby5saW5lPXRbMF0sby5jb2w9dFsxXSxvLmVsaW5lPXRbMl0sby5lY29sPXRbM10sb319LGx0PWZ1bmN0aW9uKHQpe3JldHVyblt0LmZpcnN0X2xpbmUsdC5maXJzdF9jb2x1bW4sdC5sYXN0X2xpbmUsdC5sYXN0X2NvbHVtbl19LGN0PWZ1bmN0aW9uKCl7dmFyIHQ9e0VPRjoxLHBhcnNlRXJyb3I6ZnVuY3Rpb24odCxlKXtpZighdGhpcy55eS5wYXJzZXIpdGhyb3cgbmV3IEVycm9yKHQpO3RoaXMueXkucGFyc2VyLnBhcnNlRXJyb3IodCxlKX0sc2V0SW5wdXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy55eT1lfHx0aGlzLnl5fHx7fSx0aGlzLl9pbnB1dD10LHRoaXMuX21vcmU9dGhpcy5fYmFja3RyYWNrPXRoaXMuZG9uZT0hMSx0aGlzLnl5bGluZW5vPXRoaXMueXlsZW5nPTAsdGhpcy55eXRleHQ9dGhpcy5tYXRjaGVkPXRoaXMubWF0Y2g9XCJcIix0aGlzLmNvbmRpdGlvblN0YWNrPVtcIklOSVRJQUxcIl0sdGhpcy55eWxsb2M9e2ZpcnN0X2xpbmU6MSxmaXJzdF9jb2x1bW46MCxsYXN0X2xpbmU6MSxsYXN0X2NvbHVtbjowfSx0aGlzLm9wdGlvbnMucmFuZ2VzJiYodGhpcy55eWxsb2MucmFuZ2U9WzAsMF0pLHRoaXMub2Zmc2V0PTAsdGhpc30saW5wdXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnB1dFswXTtyZXR1cm4gdGhpcy55eXRleHQrPXQsdGhpcy55eWxlbmcrKyx0aGlzLm9mZnNldCsrLHRoaXMubWF0Y2grPXQsdGhpcy5tYXRjaGVkKz10LHQubWF0Y2goLyg/Olxcclxcbj98XFxuKS4qL2cpPyh0aGlzLnl5bGluZW5vKyssdGhpcy55eWxsb2MubGFzdF9saW5lKyspOnRoaXMueXlsbG9jLmxhc3RfY29sdW1uKyssdGhpcy5vcHRpb25zLnJhbmdlcyYmdGhpcy55eWxsb2MucmFuZ2VbMV0rKyx0aGlzLl9pbnB1dD10aGlzLl9pbnB1dC5zbGljZSgxKSx0fSx1bnB1dDpmdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxpPXQuc3BsaXQoLyg/Olxcclxcbj98XFxuKS9nKTt0aGlzLl9pbnB1dD10K3RoaXMuX2lucHV0LHRoaXMueXl0ZXh0PXRoaXMueXl0ZXh0LnN1YnN0cigwLHRoaXMueXl0ZXh0Lmxlbmd0aC1lKSx0aGlzLm9mZnNldC09ZTt2YXIgcj10aGlzLm1hdGNoLnNwbGl0KC8oPzpcXHJcXG4/fFxcbikvZyk7dGhpcy5tYXRjaD10aGlzLm1hdGNoLnN1YnN0cigwLHRoaXMubWF0Y2gubGVuZ3RoLTEpLHRoaXMubWF0Y2hlZD10aGlzLm1hdGNoZWQuc3Vic3RyKDAsdGhpcy5tYXRjaGVkLmxlbmd0aC0xKSxpLmxlbmd0aC0xJiYodGhpcy55eWxpbmVuby09aS5sZW5ndGgtMSk7dmFyIHM9dGhpcy55eWxsb2MucmFuZ2U7cmV0dXJuIHRoaXMueXlsbG9jPXtmaXJzdF9saW5lOnRoaXMueXlsbG9jLmZpcnN0X2xpbmUsbGFzdF9saW5lOnRoaXMueXlsaW5lbm8rMSxmaXJzdF9jb2x1bW46dGhpcy55eWxsb2MuZmlyc3RfY29sdW1uLGxhc3RfY29sdW1uOmk/KGkubGVuZ3RoPT09ci5sZW5ndGg/dGhpcy55eWxsb2MuZmlyc3RfY29sdW1uOjApK3Jbci5sZW5ndGgtaS5sZW5ndGhdLmxlbmd0aC1pWzBdLmxlbmd0aDp0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4tZX0sdGhpcy5vcHRpb25zLnJhbmdlcyYmKHRoaXMueXlsbG9jLnJhbmdlPVtzWzBdLHNbMF0rdGhpcy55eWxlbmctZV0pLHRoaXMueXlsZW5nPXRoaXMueXl0ZXh0Lmxlbmd0aCx0aGlzfSxtb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vcmU9ITAsdGhpc30scmVqZWN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5iYWNrdHJhY2tfbGV4ZXI/KHRoaXMuX2JhY2t0cmFjaz0hMCx0aGlzKTp0aGlzLnBhcnNlRXJyb3IoXCJMZXhpY2FsIGVycm9yIG9uIGxpbmUgXCIrKHRoaXMueXlsaW5lbm8rMSkrXCIuIFlvdSBjYW4gb25seSBpbnZva2UgcmVqZWN0KCkgaW4gdGhlIGxleGVyIHdoZW4gdGhlIGxleGVyIGlzIG9mIHRoZSBiYWNrdHJhY2tpbmcgcGVyc3Vhc2lvbiAob3B0aW9ucy5iYWNrdHJhY2tfbGV4ZXIgPSB0cnVlKS5cXG5cIit0aGlzLnNob3dQb3NpdGlvbigpLHt0ZXh0OlwiXCIsdG9rZW46bnVsbCxsaW5lOnRoaXMueXlsaW5lbm99KX0sbGVzczpmdW5jdGlvbih0KXt0aGlzLnVucHV0KHRoaXMubWF0Y2guc2xpY2UodCkpfSxwYXN0SW5wdXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1hdGNoZWQuc3Vic3RyKDAsdGhpcy5tYXRjaGVkLmxlbmd0aC10aGlzLm1hdGNoLmxlbmd0aCk7cmV0dXJuKHQubGVuZ3RoPjIwP1wiLi4uXCI6XCJcIikrdC5zdWJzdHIoLTIwKS5yZXBsYWNlKC9cXG4vZyxcIlwiKX0sdXBjb21pbmdJbnB1dDpmdW5jdGlvbigpe3ZhciB0PXRoaXMubWF0Y2g7cmV0dXJuIHQubGVuZ3RoPDIwJiYodCs9dGhpcy5faW5wdXQuc3Vic3RyKDAsMjAtdC5sZW5ndGgpKSwodC5zdWJzdHIoMCwyMCkrKHQubGVuZ3RoPjIwP1wiLi4uXCI6XCJcIikpLnJlcGxhY2UoL1xcbi9nLFwiXCIpfSxzaG93UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhc3RJbnB1dCgpLGU9bmV3IEFycmF5KHQubGVuZ3RoKzEpLmpvaW4oXCItXCIpO3JldHVybiB0K3RoaXMudXBjb21pbmdJbnB1dCgpK1wiXFxuXCIrZStcIl5cIn0sdGVzdF9tYXRjaDpmdW5jdGlvbih0LGUpe3ZhciBpLHIscztpZih0aGlzLm9wdGlvbnMuYmFja3RyYWNrX2xleGVyJiYocz17eXlsaW5lbm86dGhpcy55eWxpbmVubyx5eWxsb2M6e2ZpcnN0X2xpbmU6dGhpcy55eWxsb2MuZmlyc3RfbGluZSxsYXN0X2xpbmU6dGhpcy5sYXN0X2xpbmUsZmlyc3RfY29sdW1uOnRoaXMueXlsbG9jLmZpcnN0X2NvbHVtbixsYXN0X2NvbHVtbjp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbn0seXl0ZXh0OnRoaXMueXl0ZXh0LG1hdGNoOnRoaXMubWF0Y2gsbWF0Y2hlczp0aGlzLm1hdGNoZXMsbWF0Y2hlZDp0aGlzLm1hdGNoZWQseXlsZW5nOnRoaXMueXlsZW5nLG9mZnNldDp0aGlzLm9mZnNldCxfbW9yZTp0aGlzLl9tb3JlLF9pbnB1dDp0aGlzLl9pbnB1dCx5eTp0aGlzLnl5LGNvbmRpdGlvblN0YWNrOnRoaXMuY29uZGl0aW9uU3RhY2suc2xpY2UoMCksZG9uZTp0aGlzLmRvbmV9LHRoaXMub3B0aW9ucy5yYW5nZXMmJihzLnl5bGxvYy5yYW5nZT10aGlzLnl5bGxvYy5yYW5nZS5zbGljZSgwKSkpLChyPXRbMF0ubWF0Y2goLyg/Olxcclxcbj98XFxuKS4qL2cpKSYmKHRoaXMueXlsaW5lbm8rPXIubGVuZ3RoKSx0aGlzLnl5bGxvYz17Zmlyc3RfbGluZTp0aGlzLnl5bGxvYy5sYXN0X2xpbmUsbGFzdF9saW5lOnRoaXMueXlsaW5lbm8rMSxmaXJzdF9jb2x1bW46dGhpcy55eWxsb2MubGFzdF9jb2x1bW4sbGFzdF9jb2x1bW46cj9yW3IubGVuZ3RoLTFdLmxlbmd0aC1yW3IubGVuZ3RoLTFdLm1hdGNoKC9cXHI/XFxuPy8pWzBdLmxlbmd0aDp0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbit0WzBdLmxlbmd0aH0sdGhpcy55eXRleHQrPXRbMF0sdGhpcy5tYXRjaCs9dFswXSx0aGlzLm1hdGNoZXM9dCx0aGlzLnl5bGVuZz10aGlzLnl5dGV4dC5sZW5ndGgsdGhpcy5vcHRpb25zLnJhbmdlcyYmKHRoaXMueXlsbG9jLnJhbmdlPVt0aGlzLm9mZnNldCx0aGlzLm9mZnNldCs9dGhpcy55eWxlbmddKSx0aGlzLl9tb3JlPSExLHRoaXMuX2JhY2t0cmFjaz0hMSx0aGlzLl9pbnB1dD10aGlzLl9pbnB1dC5zbGljZSh0WzBdLmxlbmd0aCksdGhpcy5tYXRjaGVkKz10WzBdLGk9dGhpcy5wZXJmb3JtQWN0aW9uLmNhbGwodGhpcyx0aGlzLnl5LHRoaXMsZSx0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTFdKSx0aGlzLmRvbmUmJnRoaXMuX2lucHV0JiYodGhpcy5kb25lPSExKSxpKXJldHVybiBpO2lmKHRoaXMuX2JhY2t0cmFjayl7Zm9yKHZhciBvIGluIHMpdGhpc1tvXT1zW29dO3JldHVybiExfXJldHVybiExfSxuZXh0OmZ1bmN0aW9uKCl7aWYodGhpcy5kb25lKXJldHVybiB0aGlzLkVPRjt2YXIgdCxlLGkscjt0aGlzLl9pbnB1dHx8KHRoaXMuZG9uZT0hMCksdGhpcy5fbW9yZXx8KHRoaXMueXl0ZXh0PVwiXCIsdGhpcy5tYXRjaD1cIlwiKTtmb3IodmFyIHM9dGhpcy5fY3VycmVudFJ1bGVzKCksbz0wO288cy5sZW5ndGg7bysrKWlmKChpPXRoaXMuX2lucHV0Lm1hdGNoKHRoaXMucnVsZXNbc1tvXV0pKSYmKCFlfHxpWzBdLmxlbmd0aD5lWzBdLmxlbmd0aCkpe2lmKGU9aSxyPW8sdGhpcy5vcHRpb25zLmJhY2t0cmFja19sZXhlcil7aWYoITEhPT0odD10aGlzLnRlc3RfbWF0Y2goaSxzW29dKSkpcmV0dXJuIHQ7aWYodGhpcy5fYmFja3RyYWNrKXtlPSExO2NvbnRpbnVlfXJldHVybiExfWlmKCF0aGlzLm9wdGlvbnMuZmxleClicmVha31yZXR1cm4gZT8hMSE9PSh0PXRoaXMudGVzdF9tYXRjaChlLHNbcl0pKSYmdDpcIlwiPT09dGhpcy5faW5wdXQ/dGhpcy5FT0Y6dGhpcy5wYXJzZUVycm9yKFwiTGV4aWNhbCBlcnJvciBvbiBsaW5lIFwiKyh0aGlzLnl5bGluZW5vKzEpK1wiLiBVbnJlY29nbml6ZWQgdGV4dC5cXG5cIit0aGlzLnNob3dQb3NpdGlvbigpLHt0ZXh0OlwiXCIsdG9rZW46bnVsbCxsaW5lOnRoaXMueXlsaW5lbm99KX0sbGV4OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZXh0KCk7cmV0dXJuIHR8fHRoaXMubGV4KCl9LGJlZ2luOmZ1bmN0aW9uKHQpe3RoaXMuY29uZGl0aW9uU3RhY2sucHVzaCh0KX0scG9wU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMT4wP3RoaXMuY29uZGl0aW9uU3RhY2sucG9wKCk6dGhpcy5jb25kaXRpb25TdGFja1swXX0sX2N1cnJlbnRSdWxlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aCYmdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXT90aGlzLmNvbmRpdGlvbnNbdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXV0ucnVsZXM6dGhpcy5jb25kaXRpb25zLklOSVRJQUwucnVsZXN9LHRvcFN0YXRlOmZ1bmN0aW9uKHQpe3JldHVybih0PXRoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoLTEtTWF0aC5hYnModHx8MCkpPj0wP3RoaXMuY29uZGl0aW9uU3RhY2tbdF06XCJJTklUSUFMXCJ9LHB1c2hTdGF0ZTpmdW5jdGlvbih0KXt0aGlzLmJlZ2luKHQpfSxzdGF0ZVN0YWNrU2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aH0sb3B0aW9uczp7fSxwZXJmb3JtQWN0aW9uOmZ1bmN0aW9uKHQsZSxpLHIpe3N3aXRjaChpKXtjYXNlIDA6Y2FzZSA1OmNhc2UgNjpicmVhaztjYXNlIDE6Y2FzZSAyOnJldHVybiA3ODtjYXNlIDM6Y2FzZSA0OnJldHVybiA3NztjYXNlIDc6cmV0dXJuIDc7Y2FzZSA4OnJldHVybiAxMjtjYXNlIDk6cmV0dXJuIDE0O2Nhc2UgMTA6cmV0dXJuIDE3O2Nhc2UgMTE6cmV0dXJuIDE1O2Nhc2UgMTI6cmV0dXJuIDkxO2Nhc2UgMTM6cmV0dXJuIDkzO2Nhc2UgMTQ6cmV0dXJuIDE5O2Nhc2UgMTU6cmV0dXJuIDIzO2Nhc2UgMTY6cmV0dXJuIDIxO2Nhc2UgMTc6cmV0dXJuIDc1O2Nhc2UgMTg6cmV0dXJuIDc2O2Nhc2UgMTk6cmV0dXJuIDc0O2Nhc2UgMjA6cmV0dXJuIDgwO2Nhc2UgMjE6Y2FzZSAyMjpyZXR1cm4gOTQ7Y2FzZSAyMzpyZXR1cm4gODI7Y2FzZSAyNDpyZXR1cm4gODM7Y2FzZSAyNTpyZXR1cm4gMjY7Y2FzZSAyNjpyZXR1cm4gMjc7Y2FzZSAyNzpyZXR1cm4gMTY7Y2FzZSAyODpyZXR1cm5cIiNcIjtjYXNlIDI5OnJldHVybiAzNDtjYXNlIDMwOnJldHVybiAzNTtjYXNlIDMxOnJldHVybiA3OTtjYXNlIDMyOnJldHVybiA2NDtjYXNlIDMzOnJldHVybiA2NTtjYXNlIDM0OnJldHVybiA2NjtjYXNlIDM1OnJldHVybiA4O2Nhc2UgMzY6cmV0dXJuIDEwO2Nhc2UgMzc6cmV0dXJuIDU4O2Nhc2UgMzg6cmV0dXJuIDU3O2Nhc2UgMzk6cmV0dXJuIDUzO2Nhc2UgNDA6cmV0dXJuIDU0O2Nhc2UgNDE6cmV0dXJuIDU1O2Nhc2UgNDI6cmV0dXJuIDUwO2Nhc2UgNDM6cmV0dXJuIDUxO2Nhc2UgNDQ6cmV0dXJuIDQ3O2Nhc2UgNDU6cmV0dXJuIDQ1O2Nhc2UgNDY6cmV0dXJuIDQ4O2Nhc2UgNDc6cmV0dXJuIDQ2O2Nhc2UgNDg6cmV0dXJuIDQxO2Nhc2UgNDk6cmV0dXJuIDQzO2Nhc2UgNTA6cmV0dXJuIDQyO2Nhc2UgNTE6cmV0dXJuIDM5O2Nhc2UgNTI6cmV0dXJuIDM3O2Nhc2UgNTM6cmV0dXJuIDMyO2Nhc2UgNTQ6cmV0dXJuIDg2O2Nhc2UgNTU6cmV0dXJuIDU7Y2FzZSA1NjpyZXR1cm4gMjA7Y2FzZSA1NzpyZXR1cm5cIklOVkFMSURcIn19LHJ1bGVzOlsvXig/OlxccyspLywvXig/OlswLTldK1xcLlswLTldKnxbMC05XSpcXC5bMC05XStcXGIpLywvXig/OlswLTldKykvLC9eKD86XCIoXFxcXFtcIl18W15cIl0pKlwiKS8sL14oPzonKFxcXFxbJ118W14nXSkqJykvLC9eKD86XFwvXFwvLiopLywvXig/OlxcL1xcKigufFxcbnxcXHIpKj9cXCpcXC8pLywvXig/OmlmXFxiKS8sL14oPzplbHNlXFxiKS8sL14oPzp3aGlsZVxcYikvLC9eKD86ZG9cXGIpLywvXig/OmZvclxcYikvLC9eKD86ZnVuY3Rpb25cXGIpLywvXig/Om1hcFxcYikvLC9eKD86dXNlXFxiKS8sL14oPzpyZXR1cm5cXGIpLywvXig/OmRlbGV0ZVxcYikvLC9eKD86dHJ1ZVxcYikvLC9eKD86ZmFsc2VcXGIpLywvXig/Om51bGxcXGIpLywvXig/OkluZmluaXR5XFxiKS8sL14oPzotPikvLC9eKD86PT4pLywvXig/Ojw8KS8sL14oPzo+PikvLC9eKD86XFx7KS8sL14oPzpcXH0pLywvXig/OjspLywvXig/OiMpLywvXig/OlxcPykvLC9eKD86OikvLC9eKD86TmFOXFxiKS8sL14oPzpcXC4pLywvXig/OlxcWykvLC9eKD86XFxdKS8sL14oPzpcXCgpLywvXig/OlxcKSkvLC9eKD86ISkvLC9eKD86XFxeKS8sL14oPzpcXCopLywvXig/OlxcLykvLC9eKD86JSkvLC9eKD86XFwrKS8sL14oPzotKS8sL14oPzo8PSkvLC9eKD86PCkvLC9eKD86Pj0pLywvXig/Oj4pLywvXig/Oj09KS8sL14oPzp+PSkvLC9eKD86IT0pLywvXig/OiYmKS8sL14oPzpcXHxcXHwpLywvXig/Oj0pLywvXig/OiwpLywvXig/OiQpLywvXig/OltBLVphLXpfXFwkXVtBLVphLXowLTlfXSopLywvXig/Oi4pL10sY29uZGl0aW9uczp7SU5JVElBTDp7cnVsZXM6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTddLGluY2x1c2l2ZTohMH19fTtyZXR1cm4gdH0oKTtmdW5jdGlvbiBkdCgpe3RoaXMueXk9e319cmV0dXJuIGF0LmxleGVyPWN0LGR0LnByb3RvdHlwZT1hdCxhdC5QYXJzZXI9ZHQsbmV3IGR0fSgpO3JldHVybiB2b2lkIDAhPT1yZXF1aXJlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyYmKGV4cG9ydHMucGFyc2VyPXBhcnNlcixleHBvcnRzLlBhcnNlcj1wYXJzZXIuUGFyc2VyLGV4cG9ydHMucGFyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VyLnBhcnNlLmFwcGx5KHBhcnNlcixhcmd1bWVudHMpfSxleHBvcnRzLm1haW49ZnVuY3Rpb24odCl7dFsxXXx8KGNvbnNvbGUubG9nKFwiVXNhZ2U6IFwiK3RbMF0rXCIgRklMRVwiKSxwcm9jZXNzLmV4aXQoMSkpO3ZhciBlPXJlcXVpcmUoXCJmc1wiKS5yZWFkRmlsZVN5bmMocmVxdWlyZShcInBhdGhcIikubm9ybWFsaXplKHRbMV0pLFwidXRmOFwiKTtyZXR1cm4gZXhwb3J0cy5wYXJzZXIucGFyc2UoZSl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJnJlcXVpcmUubWFpbj09PW1vZHVsZSYmZXhwb3J0cy5tYWluKHByb2Nlc3MuYXJndi5zbGljZSgxKSkpLHBhcnNlci55eS5wYXJzZUVycm9yPXBhcnNlci5wYXJzZUVycm9yLEpYRy5KZXNzaWVDb2RlfSkpLGRlZmluZShcImJhc2UvY29tcG9zaXRpb25cIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ29tcG9zaXRpb249ZnVuY3Rpb24odCl7dmFyIGkscj10aGlzLHM9W1wic2V0QXR0cmlidXRlXCIsXCJzZXRQYXJlbnRzXCIsXCJwcmVwYXJlVXBkYXRlXCIsXCJ1cGRhdGVSZW5kZXJlclwiLFwidXBkYXRlXCIsXCJmdWxsVXBkYXRlXCIsXCJoaWdobGlnaHRcIixcIm5vSGlnaGxpZ2h0XCJdLG89ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk7Zm9yKGkgaW4gci5lbGVtZW50cylyLmVsZW1lbnRzLmhhc093blByb3BlcnR5KGkpJiZlLmV4aXN0cyhyLmVsZW1lbnRzW2ldW3RdKSYmci5lbGVtZW50c1tpXVt0XS5hcHBseShyLmVsZW1lbnRzW2ldLGFyZ3VtZW50cyk7cmV0dXJuIHJ9fTtmb3IoaT0wO2k8cy5sZW5ndGg7aSsrKXRoaXNbc1tpXV09byhzW2ldKTtmb3IoaSBpbiB0aGlzLmVsZW1lbnRzPXt9LHRoaXMub2JqZWN0cz10aGlzLmVsZW1lbnRzLHRoaXMuZWxlbWVudHNCeU5hbWU9e30sdGhpcy5vYmplY3RzTGlzdD1bXSx0aGlzLmdyb3Vwcz17fSx0aGlzLm1ldGhvZE1hcD17c2V0QXR0cmlidXRlOlwic2V0QXR0cmlidXRlXCIsc2V0UHJvcGVydHk6XCJzZXRBdHRyaWJ1dGVcIixzZXRQYXJlbnRzOlwic2V0UGFyZW50c1wiLGFkZDpcImFkZFwiLHJlbW92ZTpcInJlbW92ZVwiLHNlbGVjdDpcInNlbGVjdFwifSx0KXQuaGFzT3duUHJvcGVydHkoaSkmJnRoaXMuYWRkKGksdFtpXSk7dGhpcy5kdW1wPSEwLHRoaXMuc3Vicz17fX0sdC5leHRlbmQodC5Db21wb3NpdGlvbi5wcm90b3R5cGUse2FkZDpmdW5jdGlvbih0LGkpe3JldHVybiEoZS5leGlzdHModGhpc1t0XSl8fCFlLmV4aXN0cyhpKSkmJihlLmV4aXN0cyhpLmlkKT90aGlzLmVsZW1lbnRzW2kuaWRdPWk6dGhpcy5lbGVtZW50c1t0XT1pLGUuZXhpc3RzKGkubmFtZSkmJih0aGlzLmVsZW1lbnRzQnlOYW1lW2kubmFtZV09aSksaS5vbihcImF0dHJpYnV0ZTpuYW1lXCIsdGhpcy5uYW1lTGlzdGVuZXIsdGhpcyksdGhpcy5vYmplY3RzTGlzdC5wdXNoKGkpLHRoaXNbdF09aSx0aGlzLm1ldGhvZE1hcFt0XT1pLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9ITE7Zm9yKGUgaW4gdGhpcy5lbGVtZW50cylpZih0aGlzLmVsZW1lbnRzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLmVsZW1lbnRzW2VdLmlkPT09dGhpc1t0XS5pZCl7aT0hMDticmVha31yZXR1cm4gaSYmKGRlbGV0ZSB0aGlzLmVsZW1lbnRzW3RoaXNbdF0uaWRdLGRlbGV0ZSB0aGlzW3RdKSxpfSxuYW1lTGlzdGVuZXI6ZnVuY3Rpb24odCxlLGkpe2RlbGV0ZSB0aGlzLmVsZW1lbnRzQnlOYW1lW3RdLHRoaXMuZWxlbWVudHNCeU5hbWVbZV09aX0sc2VsZWN0OmZ1bmN0aW9uKGkpe3JldHVybiBlLmV4aXN0cyh0LkJvYXJkKT90LkJvYXJkLnByb3RvdHlwZS5zZWxlY3QuY2FsbCh0aGlzLGkpOm5ldyB0LkNvbXBvc2l0aW9ufSxnZXRQYXJlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50c30sZ2V0VHlwZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsVHlwZX0sZ2V0QXR0cmlidXRlczpmdW5jdGlvbigpe3ZhciB0LGU9e307Zm9yKHQgaW4gdGhpcy5zdWJzKXRoaXMuc3Vicy5oYXNPd25Qcm9wZXJ0eSh0KSYmKGVbdF09dGhpcy5zdWJzW3RdLnZpc1Byb3ApO3JldHVybiB0aGlzLmF0dHJ9fSksdC5Db21wb3NpdGlvbn0pKSxkZWZpbmUoXCJiYXNlL2JvYXJkXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcIm9wdGlvbnNcIixcIm1hdGgvbnVtZXJpY3NcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwibWF0aC9jb21wbGV4XCIsXCJtYXRoL3N0YXRpc3RpY3NcIixcInBhcnNlci9qZXNzaWVjb2RlXCIsXCJ1dGlscy9jb2xvclwiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMvZXZlbnRcIixcInV0aWxzL2VudlwiLFwiYmFzZS9jb21wb3NpdGlvblwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhLGgsbCxjLGQsdSxwLGYpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkJvYXJkPWZ1bmN0aW9uKGkscyxvLG4sYSxoLGMsZixtLGcsYil7aWYodGhpcy5CT0FSRF9NT0RFX05PTkU9MCx0aGlzLkJPQVJEX01PREVfRFJBRz0xLHRoaXMuQk9BUkRfTU9ERV9NT1ZFX09SSUdJTj0yLHRoaXMuQk9BUkRfTU9ERV9aT09NPTE3LHRoaXMuQk9BUkRfUVVBTElUWV9MT1c9MSx0aGlzLkJPQVJEX1FVQUxJVFlfSElHSD0yLGQuZXhpc3RzKGIuZG9jdW1lbnQpJiYhMSE9PWIuZG9jdW1lbnQ/dGhpcy5kb2N1bWVudD1iLmRvY3VtZW50OnZvaWQgMCE9PWRvY3VtZW50JiZkLmlzT2JqZWN0KGRvY3VtZW50KSYmKHRoaXMuZG9jdW1lbnQ9ZG9jdW1lbnQpLHRoaXMuY29udGFpbmVyPWksdGhpcy5jb250YWluZXJPYmo9cC5pc0Jyb3dzZXI/dGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbnRhaW5lcik6bnVsbCxwLmlzQnJvd3NlciYmXCJub1wiIT09cy50eXBlJiZudWxsPT09dGhpcy5jb250YWluZXJPYmopdGhyb3cgbmV3IEVycm9yKFwiXFxuSlNYR3JhcGg6IEhUTUwgY29udGFpbmVyIGVsZW1lbnQgJ1wiK2krXCInIG5vdCBmb3VuZC5cIik7dGhpcy5yZW5kZXJlcj1zLHRoaXMuZ3JpZHM9W10sdGhpcy5vcHRpb25zPWQuZGVlcENvcHkociksdGhpcy5hdHRyPWIsdGhpcy5kaW1lbnNpb249Mix0aGlzLmpjPW5ldyBsLHRoaXMuamMudXNlKHRoaXMpLHRoaXMub3JpZ2luPXt9LHRoaXMub3JpZ2luLnVzckNvb3Jkcz1bMSwwLDBdLHRoaXMub3JpZ2luLnNjckNvb3Jkcz1bMSxuWzBdLG5bMV1dLHRoaXMuem9vbVg9YSx0aGlzLnpvb21ZPWgsdGhpcy51bml0WD1jKnRoaXMuem9vbVgsdGhpcy51bml0WT1mKnRoaXMuem9vbVksdGhpcy5rZWVwYXNwZWN0cmF0aW89ITEsdGhpcy5jYW52YXNXaWR0aD1tLHRoaXMuY2FudmFzSGVpZ2h0PWcsZC5leGlzdHMobykmJlwiXCIhPT1vJiZwLmlzQnJvd3NlciYmIWQuZXhpc3RzKHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobykpP3RoaXMuaWQ9bzp0aGlzLmlkPXRoaXMuZ2VuZXJhdGVJZCgpLHUuZXZlbnRpZnkodGhpcyksdGhpcy5ob29rcz1bXSx0aGlzLmRlcGVuZGVudEJvYXJkcz1bXSx0aGlzLmluVXBkYXRlPSExLHRoaXMub2JqZWN0cz17fSx0aGlzLm9iamVjdHNMaXN0PVtdLHRoaXMuZ3JvdXBzPXt9LHRoaXMuYW5pbWF0aW9uT2JqZWN0cz17fSx0aGlzLmhpZ2hsaWdodGVkT2JqZWN0cz17fSx0aGlzLm51bU9iamVjdHM9MCx0aGlzLmVsZW1lbnRzQnlOYW1lPXt9LHRoaXMubW9kZT10aGlzLkJPQVJEX01PREVfTk9ORSx0aGlzLnVwZGF0ZVF1YWxpdHk9dGhpcy5CT0FSRF9RVUFMSVRZX0hJR0gsdGhpcy5pc1N1c3BlbmRlZFJlZHJhdz0hMSx0aGlzLmNhbGN1bGF0ZVNuYXBTaXplcygpLHRoaXMuZHJhZ19keD0wLHRoaXMuZHJhZ19keT0wLHRoaXMuZHJhZ19wb3NpdGlvbj1bMCwwXSx0aGlzLm1vdXNlPXt9LHRoaXMudG91Y2hlcz1bXSx0aGlzLnhtbFN0cmluZz1cIlwiLHRoaXMuY1Bvcz1bXSx0aGlzLnRvdWNoTW92ZUxhc3Q9MCx0aGlzLnRvdWNoTW92ZUxhc3RJZD0xLzAsdGhpcy5wb3NpdGlvbkFjY2Vzc0xhc3Q9MCx0aGlzLmRvd25PYmplY3RzPVtdLHRoaXMuYXR0ci5zaG93Y29weXJpZ2h0JiZ0aGlzLnJlbmRlcmVyLmRpc3BsYXlDb3B5cmlnaHQoZS5saWNlbnNlVGV4dCxwYXJzZUludCh0aGlzLm9wdGlvbnMudGV4dC5mb250U2l6ZSwxMCkpLHRoaXMubmVlZHNGdWxsVXBkYXRlPSExLHRoaXMucmVkdWNlZFVwZGF0ZT0hMSx0aGlzLmN1cnJlbnRDQkRlZj1cIm5vbmVcIix0aGlzLmdlb25leHRDb21wYXRpYmlsaXR5TW9kZT0hMSx0aGlzLm9wdGlvbnMudGV4dC51c2VBU0NJSU1hdGhNTCYmdHJhbnNsYXRlQVNDSUlNYXRoP2luaXQoKTp0aGlzLm9wdGlvbnMudGV4dC51c2VBU0NJSU1hdGhNTD0hMSx0aGlzLmhhc01vdXNlSGFuZGxlcnM9ITEsdGhpcy5oYXNUb3VjaEhhbmRsZXJzPSExLHRoaXMuaGFzUG9pbnRlckhhbmRsZXJzPSExLHRoaXMuaGFzTW91c2VVcD0hMSx0aGlzLmhhc1RvdWNoRW5kPSExLHRoaXMuaGFzUG9pbnRlclVwPSExLHRoaXMuX2RyYWdfb2Zmc2V0PVswLDBdLHRoaXMuX2lucHV0RGV2aWNlPVwibW91c2VcIix0aGlzLl9ib2FyZF90b3VjaGVzPVtdLHRoaXMuc2VsZWN0aW5nTW9kZT0hMSx0aGlzLmlzU2VsZWN0aW5nPSExLHRoaXMuX2lzU2Nyb2xsaW5nPSExLHRoaXMuX2lzUmVzaXppbmc9ITEsdGhpcy5zZWxlY3RpbmdCb3g9W1swLDBdLFswLDBdXSx0aGlzLm1hdGhMaWI9TWF0aCx0aGlzLm1hdGhMaWJKWEc9dC5NYXRoLHRoaXMuYXR0ci5yZWdpc3RlcmV2ZW50cyYmdGhpcy5hZGRFdmVudEhhbmRsZXJzKCksdGhpcy5tZXRob2RNYXA9e3VwZGF0ZTpcInVwZGF0ZVwiLGZ1bGxVcGRhdGU6XCJmdWxsVXBkYXRlXCIsb246XCJvblwiLG9mZjpcIm9mZlwiLHRyaWdnZXI6XCJ0cmlnZ2VyXCIsc2V0VmlldzpcInNldEJvdW5kaW5nQm94XCIsc2V0Qm91bmRpbmdCb3g6XCJzZXRCb3VuZGluZ0JveFwiLG1pZ3JhdGVQb2ludDpcIm1pZ3JhdGVQb2ludFwiLGNvbG9yYmxpbmQ6XCJlbXVsYXRlQ29sb3JibGluZG5lc3NcIixzdXNwZW5kVXBkYXRlOlwic3VzcGVuZFVwZGF0ZVwiLHVuc3VzcGVuZFVwZGF0ZTpcInVuc3VzcGVuZFVwZGF0ZVwiLGNsZWFyVHJhY2VzOlwiY2xlYXJUcmFjZXNcIixsZWZ0OlwiY2xpY2tMZWZ0QXJyb3dcIixyaWdodDpcImNsaWNrUmlnaHRBcnJvd1wiLHVwOlwiY2xpY2tVcEFycm93XCIsZG93bjpcImNsaWNrRG93bkFycm93XCIsem9vbUluOlwiem9vbUluXCIsem9vbU91dDpcInpvb21PdXRcIix6b29tMTAwOlwiem9vbTEwMFwiLHpvb21FbGVtZW50czpcInpvb21FbGVtZW50c1wiLHJlbW92ZTpcInJlbW92ZU9iamVjdFwiLHJlbW92ZU9iamVjdDpcInJlbW92ZU9iamVjdFwifX0sdC5leHRlbmQodC5Cb2FyZC5wcm90b3R5cGUse2dlbmVyYXRlTmFtZTpmdW5jdGlvbih0KXt2YXIgaSxyLHM9dGhpcy5hdHRyLm1heG5hbWVsZW5ndGgsbz1cIlwiLG49XCJcIixhPVtdLGg9XCJcIjtpZih0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX1RJQ0tTKXJldHVyblwiXCI7Zm9yKGk9ZC5pc1BvaW50KHQpP1tcIlwiLFwiQVwiLFwiQlwiLFwiQ1wiLFwiRFwiLFwiRVwiLFwiRlwiLFwiR1wiLFwiSFwiLFwiSVwiLFwiSlwiLFwiS1wiLFwiTFwiLFwiTVwiLFwiTlwiLFwiT1wiLFwiUFwiLFwiUVwiLFwiUlwiLFwiU1wiLFwiVFwiLFwiVVwiLFwiVlwiLFwiV1wiLFwiWFwiLFwiWVwiLFwiWlwiXTp0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX0FOR0xFP1tcIlwiLFwiJmFscGhhO1wiLFwiJmJldGE7XCIsXCImZ2FtbWE7XCIsXCImZGVsdGE7XCIsXCImZXBzaWxvbjtcIixcIiZ6ZXRhO1wiLFwiJmV0YTtcIixcIiZ0aGV0YTtcIixcIiZpb3RhO1wiLFwiJmthcHBhO1wiLFwiJmxhbWJkYTtcIixcIiZtdTtcIixcIiZudTtcIixcIiZ4aTtcIixcIiZvbWljcm9uO1wiLFwiJnBpO1wiLFwiJnJobztcIixcIiZzaWdtYTtcIixcIiZ0YXU7XCIsXCImdXBzaWxvbjtcIixcIiZwaGk7XCIsXCImY2hpO1wiLFwiJnBzaTtcIixcIiZvbWVnYTtcIl06W1wiXCIsXCJhXCIsXCJiXCIsXCJjXCIsXCJkXCIsXCJlXCIsXCJmXCIsXCJnXCIsXCJoXCIsXCJpXCIsXCJqXCIsXCJrXCIsXCJsXCIsXCJtXCIsXCJuXCIsXCJvXCIsXCJwXCIsXCJxXCIsXCJyXCIsXCJzXCIsXCJ0XCIsXCJ1XCIsXCJ2XCIsXCJ3XCIsXCJ4XCIsXCJ5XCIsXCJ6XCJdLGQuaXNQb2ludCh0KXx8dC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FfHx0LnR5cGU9PT1lLk9CSkVDVF9UWVBFX0FOR0xFfHwobz10LnR5cGU9PT1lLk9CSkVDVF9UWVBFX1BPTFlHT04/XCJQX3tcIjp0LmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NJUkNMRT9cImtfe1wiOnQuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfVEVYVD9cInRfe1wiOlwic197XCIsbj1cIn1cIikscj0wO3I8cztyKyspYVtyXT0wO2Zvcig7YVtzLTFdPGkubGVuZ3RoOyl7Zm9yKGFbMF09MTthWzBdPGkubGVuZ3RoO2FbMF0rKyl7Zm9yKGg9byxyPXM7cj4wO3ItLSloKz1pW2Fbci0xXV07aWYoIWQuZXhpc3RzKHRoaXMuZWxlbWVudHNCeU5hbWVbaCtuXSkpcmV0dXJuIGgrbn1mb3IoYVswXT1pLmxlbmd0aCxyPTE7cjxzO3IrKylhW3ItMV09PT1pLmxlbmd0aCYmKGFbci0xXT0xLGFbcl0rPTEpfXJldHVyblwiXCJ9LGdlbmVyYXRlSWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MTtkLmV4aXN0cyh0LmJvYXJkc1tcImp4Z0JvYXJkXCIrZV0pOyllPU1hdGgucm91bmQoNjU1MzUqTWF0aC5yYW5kb20oKSk7cmV0dXJuXCJqeGdCb2FyZFwiK2V9LHNldElkOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj10aGlzLm51bU9iamVjdHMscz10LmlkO2lmKHRoaXMubnVtT2JqZWN0cys9MSxcIlwiPT09c3x8IWQuZXhpc3RzKHMpKWZvcihzPXRoaXMuaWQrZStyO2QuZXhpc3RzKHRoaXMub2JqZWN0c1tzXSk7KWk9TWF0aC5yb3VuZCg2NTUzNSpNYXRoLnJhbmRvbSgpKSxzPXRoaXMuaWQrZStyK1wiLVwiK2k7cmV0dXJuIHQuaWQ9cyx0aGlzLm9iamVjdHNbc109dCx0Ll9wb3M9dGhpcy5vYmplY3RzTGlzdC5sZW5ndGgsdGhpcy5vYmplY3RzTGlzdFt0aGlzLm9iamVjdHNMaXN0Lmxlbmd0aF09dCxzfSxmaW5hbGl6ZUFkZGluZzpmdW5jdGlvbih0KXshMT09PWQuZXZhbHVhdGUodC52aXNQcm9wLnZpc2libGUpJiZ0aGlzLnJlbmRlcmVyLmRpc3BsYXkodCwhMSl9LGZpbmFsaXplTGFiZWw6ZnVuY3Rpb24odCl7dC5oYXNMYWJlbCYmIWQuZXZhbHVhdGUodC5sYWJlbC52aXNQcm9wLmlzbGFiZWwpJiYhMT09PWQuZXZhbHVhdGUodC5sYWJlbC52aXNQcm9wLnZpc2libGUpJiZ0aGlzLnJlbmRlcmVyLmRpc3BsYXkodC5sYWJlbCwhMSl9LGNoZWNrRnJhbWVSYXRlOmZ1bmN0aW9uKHQpe3ZhciBlPSExLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIGQuZXhpc3RzKHQucG9pbnRlcklkKSYmdGhpcy50b3VjaE1vdmVMYXN0SWQhPT10LnBvaW50ZXJJZCYmKGU9ITAsdGhpcy50b3VjaE1vdmVMYXN0SWQ9dC5wb2ludGVySWQpLCFlJiYoaS10aGlzLnRvdWNoTW92ZUxhc3QpKnRoaXMuYXR0ci5tYXhmcmFtZXJhdGU+PTFlMyYmKGU9ITApLGUmJih0aGlzLnRvdWNoTW92ZUxhc3Q9aSksZX0sZ2V0Q29vcmRzVG9wTGVmdENvcm5lcjpmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbz10aGlzLmRvY3VtZW50Lm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnQsbj1vLmRvY3VtZW50RWxlbWVudHx8dGhpcy5kb2N1bWVudC5ib2R5LnBhcmVudE5vZGUsYT1vLmJvZHksaD10aGlzLmNvbnRhaW5lck9iajtpZih0aGlzLmNQb3MubGVuZ3RoPjAmJih0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfRFJBR3x8dGhpcy5tb2RlPT09dGhpcy5CT0FSRF9NT0RFX01PVkVfT1JJR0lOfHwobmV3IERhdGUpLmdldFRpbWUoKS10aGlzLnBvc2l0aW9uQWNjZXNzTGFzdDwxZTMpKXJldHVybiB0aGlzLmNQb3M7aWYodGhpcy5wb3NpdGlvbkFjY2Vzc0xhc3Q9KG5ldyBEYXRlKS5nZXRUaW1lKCksaC5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe2ZvcihpPWguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj0xLHM9aDtzJiZkLmV4aXN0cyhzLnBhcmVudE5vZGUpOylkLmV4aXN0cyhzLnN0eWxlKSYmZC5leGlzdHMocy5zdHlsZS56b29tKSYmXCJcIiE9PXMuc3R5bGUuem9vbSYmKHIqPXBhcnNlRmxvYXQocy5zdHlsZS56b29tKSkscz1zLnBhcmVudE5vZGU7cmV0dXJuKHQ9W2kubGVmdCpyLGkudG9wKnJdKVswXSs9cC5nZXRQcm9wKGgsXCJib3JkZXItbGVmdC13aWR0aFwiKSx0WzFdKz1wLmdldFByb3AoaCxcImJvcmRlci10b3Atd2lkdGhcIiksXCJ2bWxcIiE9PXRoaXMucmVuZGVyZXIudHlwZSYmKHRbMF0rPXAuZ2V0UHJvcChoLFwicGFkZGluZy1sZWZ0XCIpLHRbMV0rPXAuZ2V0UHJvcChoLFwicGFkZGluZy10b3BcIikpLHRoaXMuY1Bvcz10LnNsaWNlKCksdGhpcy5jUG9zfXJldHVybiB0PXAuZ2V0T2Zmc2V0KGgpLGU9dGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub3duZXJEb2N1bWVudCwhdGhpcy5jb250YWluZXJPYmouY3VycmVudFN0eWxlJiZlLmRlZmF1bHRWaWV3JiYodFswXSs9cC5nZXRQcm9wKG4sXCJtYXJnaW4tbGVmdFwiKSx0WzFdKz1wLmdldFByb3AobixcIm1hcmdpbi10b3BcIiksdFswXSs9cC5nZXRQcm9wKG4sXCJib3JkZXItbGVmdC13aWR0aFwiKSx0WzFdKz1wLmdldFByb3AobixcImJvcmRlci10b3Atd2lkdGhcIiksdFswXSs9cC5nZXRQcm9wKG4sXCJwYWRkaW5nLWxlZnRcIiksdFsxXSs9cC5nZXRQcm9wKG4sXCJwYWRkaW5nLXRvcFwiKSksYSYmKHRbMF0rPXAuZ2V0UHJvcChhLFwibGVmdFwiKSx0WzFdKz1wLmdldFByb3AoYSxcInRvcFwiKSksXCJvYmplY3RcIj09dHlwZW9mIGdvb2dsZSYmZ29vZ2xlLnRyYW5zbGF0ZSYmKHRbMF0rPTEwLHRbMV0rPTI1KSx0WzBdKz1wLmdldFByb3AoaCxcImJvcmRlci1sZWZ0LXdpZHRoXCIpLHRbMV0rPXAuZ2V0UHJvcChoLFwiYm9yZGVyLXRvcC13aWR0aFwiKSxcInZtbFwiIT09dGhpcy5yZW5kZXJlci50eXBlJiYodFswXSs9cC5nZXRQcm9wKGgsXCJwYWRkaW5nLWxlZnRcIiksdFsxXSs9cC5nZXRQcm9wKGgsXCJwYWRkaW5nLXRvcFwiKSksdFswXSs9dGhpcy5hdHRyLm9mZnNldHgsdFsxXSs9dGhpcy5hdHRyLm9mZnNldHksdGhpcy5jUG9zPXQuc2xpY2UoKSx0aGlzLmNQb3N9LGdldE1vdXNlUG9zaXRpb246ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM9dGhpcy5nZXRDb29yZHNUb3BMZWZ0Q29ybmVyKCk7cmV0dXJuIGk9cC5nZXRQb3NpdGlvbih0LGUsdGhpcy5kb2N1bWVudCksZC5leGlzdHModGhpcy5jc3NUcmFuc01hdCl8fHRoaXMudXBkYXRlQ1NTVHJhbnNmb3JtcygpLHI9WzEsaVswXS1zWzBdLGlbMV0tc1sxXV0sKHI9by5tYXRWZWNNdWx0KHRoaXMuY3NzVHJhbnNNYXQscikpWzFdLz1yWzBdLHJbMl0vPXJbMF0sW3JbMV0sclsyXV19LGluaXRNb3ZlT3JpZ2luOmZ1bmN0aW9uKHQsZSl7dGhpcy5kcmFnX2R4PXQtdGhpcy5vcmlnaW4uc2NyQ29vcmRzWzFdLHRoaXMuZHJhZ19keT1lLXRoaXMub3JpZ2luLnNjckNvb3Jkc1syXSx0aGlzLm1vZGU9dGhpcy5CT0FSRF9NT0RFX01PVkVfT1JJR0lOLHRoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfTE9XfSxpbml0TW92ZU9iamVjdDpmdW5jdGlvbih0LGkscixzKXt2YXIgbyxuLGEsbD1bXSxjPVtdLHU9dGhpcy5vYmplY3RzTGlzdC5sZW5ndGgscD17dmlzUHJvcDp7bGF5ZXI6LTFlNH19O2ZvcihuPTA7bjx1O24rKylhPShvPXRoaXMub2JqZWN0c0xpc3Rbbl0pLmhhc1BvaW50JiZvLmhhc1BvaW50KHQsaSksby52aXNQcm9wQ2FsYy52aXNpYmxlJiZhJiYoby50cmlnZ2VyRXZlbnRIYW5kbGVycyhbcytcImRvd25cIixcImRvd25cIl0sW3JdKSx0aGlzLmRvd25PYmplY3RzLnB1c2gobykpLGEmJm8uaXNEcmFnZ2FibGUmJm8udmlzUHJvcENhbGMudmlzaWJsZSYmKHRoaXMuZ2VvbmV4dENvbXBhdGliaWxpdHlNb2RlJiYoZC5pc1BvaW50KG8pfHxvLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX1RFWFQpfHwhdGhpcy5nZW9uZXh0Q29tcGF0aWJpbGl0eU1vZGUpJiYhZC5ldmFsdWF0ZShvLnZpc1Byb3AuZml4ZWQpJiYoby52aXNQcm9wLmxheWVyPnAudmlzUHJvcC5sYXllcnx8by52aXNQcm9wLmxheWVyPT09cC52aXNQcm9wLmxheWVyJiZvLmxhc3REcmFnVGltZS5nZXRUaW1lKCk+PXAubGFzdERyYWdUaW1lLmdldFRpbWUoKSkmJih0aGlzLmF0dHIuaWdub3JlbGFiZWxzJiZkLmV4aXN0cyhwLmxhYmVsKSYmbz09PXAubGFiZWx8fChwPW8sbC5wdXNoKHApLGQuZXhpc3RzKHAuY29vcmRzKT9jLnB1c2goaC5zdWJ0cmFjdChwLmNvb3Jkcy5zY3JDb29yZHMuc2xpY2UoMSksW3QsaV0pKTpjLnB1c2goWzAsMF0pKSk7cmV0dXJuIHRoaXMuYXR0ci5kcmFnLmVuYWJsZWQmJmwubGVuZ3RoPjAmJih0aGlzLm1vZGU9dGhpcy5CT0FSRF9NT0RFX0RSQUcpLHRoaXMuYXR0ci50YWtlZmlyc3Q/KGwubGVuZ3RoPTEsdGhpcy5fZHJhZ19vZmZzZXQ9Y1swXSk6KGw9bC5zbGljZSgtMSksdGhpcy5fZHJhZ19vZmZzZXQ9Y1tjLmxlbmd0aC0xXSksdGhpcy5fZHJhZ19vZmZzZXR8fCh0aGlzLl9kcmFnX29mZnNldD1bMCwwXSksXCJzdmdcIj09PXRoaXMucmVuZGVyZXIudHlwZSYmZC5leGlzdHMobFswXSkmJmQuZXZhbHVhdGUobFswXS52aXNQcm9wLmRyYWd0b3RvcG9mbGF5ZXIpJiYxPT09bC5sZW5ndGgmJmQuZXhpc3RzKGxbMF0ucmVuZE5vZGUpJiZsWzBdLnJlbmROb2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobFswXS5yZW5kTm9kZSksdGhpcy5wcmV2aW91c1JvdGF0aW9uPTAsdGhpcy5wcmV2aW91c1NjYWxlPTEsbC5sZW5ndGg+PTEmJihsWzBdLmhpZ2hsaWdodCghMCksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZWhpdFwiLFwiaGl0XCJdLFtyLGxbMF1dKSksbH0sbW92ZU9iamVjdDpmdW5jdGlvbih0LHIscyxvLG4pe3ZhciBhLGwsYyx1PW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTix0aGlzLmdldFNjckNvb3Jkc09mTW91c2UodCxyKSx0aGlzKTtzJiZzLm9iaiYmKChhPXMub2JqKS5jb29yZHMmJihsPWEuY29vcmRzLnNjckNvb3Jkcy5zbGljZSgpKSx0aGlzLmRyYWdfcG9zaXRpb249W3Uuc2NyQ29vcmRzWzFdLHUuc2NyQ29vcmRzWzJdXSx0aGlzLmRyYWdfcG9zaXRpb249aC5hZGQodGhpcy5kcmFnX3Bvc2l0aW9uLHRoaXMuX2RyYWdfb2Zmc2V0KSxkLmV4aXN0cyhhLmNvb3Jkcyk/YS5zZXRQb3NpdGlvbkRpcmVjdGx5KGUuQ09PUkRTX0JZX1NDUkVFTix0aGlzLmRyYWdfcG9zaXRpb24pOih0aGlzLmRpc3BsYXlJbmZvYm94KCExKSxpc05hTihzLnRhcmdldHNbMF0uWHByZXYrcy50YXJnZXRzWzBdLllwcmV2KXx8YS5zZXRQb3NpdGlvbkRpcmVjdGx5KGUuQ09PUkRTX0JZX1NDUkVFTixbdS5zY3JDb29yZHNbMV0sdS5zY3JDb29yZHNbMl1dLFtzLnRhcmdldHNbMF0uWHByZXYscy50YXJnZXRzWzBdLllwcmV2XSkscy50YXJnZXRzWzBdLlhwcmV2PXUuc2NyQ29vcmRzWzFdLHMudGFyZ2V0c1swXS5ZcHJldj11LnNjckNvb3Jkc1syXSksZC5leGlzdHMoYS5jb29yZHMpJiYoYS5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCExKS51cGRhdGVSZW5kZXJlcigpLHRoaXMudXBkYXRlSW5mb2JveChhKSxhLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoITApLnVwZGF0ZVJlbmRlcmVyKCkpLGEuY29vcmRzJiYoYz1hLmNvb3Jkcy5zY3JDb29yZHMpLGEuY29vcmRzJiZsWzFdPT09Y1sxXSYmbFsyXT09PWNbMl18fChhLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtuK1wiZHJhZ1wiLFwiZHJhZ1wiXSxbb10pLHRoaXMudXBkYXRlKCkpLGEuaGlnaGxpZ2h0KCEwKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNlaGl0XCIsXCJoaXRcIl0sW28sYV0pLGEubGFzdERyYWdUaW1lPW5ldyBEYXRlKX0sdHdvRmluZ2VyTW92ZTpmdW5jdGlvbih0LGkscil7dmFyIHM7ZC5leGlzdHModCkmJmQuZXhpc3RzKHQub2JqKSYmKChzPXQub2JqKS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19MSU5FfHxzLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1BPTFlHT04/dGhpcy50d29GaW5nZXJUb3VjaE9iamVjdCh0LnRhcmdldHMscyxpKTpzLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NJUkNMRSYmdGhpcy50d29GaW5nZXJUb3VjaENpcmNsZSh0LnRhcmdldHMscyxpKSxyJiZzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNoZHJhZ1wiLFwiZHJhZ1wiXSxbcl0pKX0sdHdvRmluZ2VyVG91Y2hPYmplY3Q6ZnVuY3Rpb24odCxyLHMpe3ZhciBhLGgsbCxjLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHg7aWYoZC5leGlzdHModFswXSkmJmQuZXhpc3RzKHRbMV0pJiYhaXNOYU4odFswXS5YcHJldit0WzBdLllwcmV2K3RbMV0uWHByZXYrdFsxXS5ZcHJldikpe2lmKHM9PT10WzBdLm51bT8oUD10WzFdLEU9dFswXSk6KFA9dFswXSxFPXRbMV0pLHg9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFtQLlhwcmV2LFAuWXByZXZdLHRoaXMpLnVzckNvb3JkcyxoPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbRS5YcHJldixFLllwcmV2XSx0aGlzKS51c3JDb29yZHMsYT1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW0UuWCxFLlldLHRoaXMpLnVzckNvb3JkcyxjPW8uY3Jvc3NQcm9kdWN0KHgsaCksbD1vLmNyb3NzUHJvZHVjdCh4LGEpLGY9by5jcm9zc1Byb2R1Y3QoYyxsKSxNYXRoLmFicyhmWzBdKTxvLmVwcylyZXR1cm47aWYocD1uLnJhZChoLnNsaWNlKDEpLHguc2xpY2UoMSksYS5zbGljZSgxKSksKG09dGhpcy5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbcCxbeFsxXSx4WzJdXV0se3R5cGU6XCJyb3RhdGVcIn0pKS51cGRhdGUoKSxkLmV2YWx1YXRlKHIudmlzUHJvcC5zY2FsYWJsZSkmJih1PW4uZGlzdGFuY2UoYSx4KS9uLmRpc3RhbmNlKGgseCksZz10aGlzLmNyZWF0ZShcInRyYW5zZm9ybVwiLFsteFsxXSwteFsyXV0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pLGI9dGhpcy5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbdSx1XSx7dHlwZTpcInNjYWxlXCJ9KSx2PXRoaXMuY3JlYXRlKFwidHJhbnNmb3JtXCIsW3hbMV0seFsyXV0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pLG0ubWVsdChnKS5tZWx0KGIpLm1lbHQodikpLHIuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORSl5PVtdLHIucG9pbnQxLmRyYWdnYWJsZSgpJiZ5LnB1c2goci5wb2ludDEpLHIucG9pbnQyLmRyYWdnYWJsZSgpJiZ5LnB1c2goci5wb2ludDIpLG0uYXBwbHlPbmNlKHkpO2Vsc2UgaWYoci50eXBlPT09ZS5PQkpFQ1RfVFlQRV9QT0xZR09OKXtmb3IoeT1bXSxfPXIudmVydGljZXMubGVuZ3RoLTEsQz0wO0M8XzsrK0Mpci52ZXJ0aWNlc1tDXS5kcmFnZ2FibGUoKSYmeS5wdXNoKHIudmVydGljZXNbQ10pO20uYXBwbHlPbmNlKHkpfXRoaXMudXBkYXRlKCksci5oaWdobGlnaHQoITApfX0sdHdvRmluZ2VyVG91Y2hDaXJjbGU6ZnVuY3Rpb24odCxyLHMpe3ZhciBvLGEsaCxsLGMsdSxwLGYsbSxnLGI7XCJwb2ludENpcmNsZVwiIT09ci5tZXRob2QmJlwicG9pbnRMaW5lXCIhPT1yLm1ldGhvZCYmZC5leGlzdHModFswXSkmJmQuZXhpc3RzKHRbMV0pJiYhaXNOYU4odFswXS5YcHJldit0WzBdLllwcmV2K3RbMV0uWHByZXYrdFsxXS5ZcHJldikmJihzPT09dFswXS5udW0/KG89dFsxXSxhPXRbMF0pOihvPXRbMF0sYT10WzFdKSxjPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbby5YcHJldixvLllwcmV2XSx0aGlzKS51c3JDb29yZHMsbD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW2EuWHByZXYsYS5ZcHJldl0sdGhpcykudXNyQ29vcmRzLGg9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFthLlgsYS5ZXSx0aGlzKS51c3JDb29yZHMscD1uLnJhZChsLnNsaWNlKDEpLGMuc2xpY2UoMSksaC5zbGljZSgxKSksZj10aGlzLmNyZWF0ZShcInRyYW5zZm9ybVwiLFstY1sxXSwtY1syXV0se3R5cGU6XCJ0cmFuc2xhdGVcIn0pLG09dGhpcy5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbcF0se3R5cGU6XCJyb3RhdGVcIn0pLGYubWVsdChtKSxkLmV2YWx1YXRlKHIudmlzUHJvcC5zY2FsYWJsZSkmJih1PW4uZGlzdGFuY2UoYyxoKS9uLmRpc3RhbmNlKGMsbCksZz10aGlzLmNyZWF0ZShcInRyYW5zZm9ybVwiLFt1LHVdLHt0eXBlOlwic2NhbGVcIn0pLGYubWVsdChnKSksYj10aGlzLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtjWzFdLGNbMl1dLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSxmLm1lbHQoYiksci5jZW50ZXIuZHJhZ2dhYmxlKCkmJmYuYXBwbHlPbmNlKFtyLmNlbnRlcl0pLFwidHdvUG9pbnRzXCI9PT1yLm1ldGhvZD9yLnBvaW50Mi5kcmFnZ2FibGUoKSYmZi5hcHBseU9uY2UoW3IucG9pbnQyXSk6XCJwb2ludFJhZGl1c1wiPT09ci5tZXRob2QmJmQuaXNOdW1iZXIoci51cGRhdGVSYWRpdXMub3JpZ2luKSYmci5zZXRSYWRpdXMoci5yYWRpdXMqdSksdGhpcy51cGRhdGUoci5jZW50ZXIpLHIuaGlnaGxpZ2h0KCEwKSl9LGhpZ2hsaWdodEVsZW1lbnRzOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG8sbixhPXt9LGg9dGhpcy5vYmplY3RzTGlzdC5sZW5ndGg7Zm9yKHM9MDtzPGg7cysrKW49KG89dGhpcy5vYmplY3RzTGlzdFtzXSkuaWQsZC5leGlzdHMoby5oYXNQb2ludCkmJm8udmlzUHJvcENhbGMudmlzaWJsZSYmby5oYXNQb2ludCh0LGUpJiYodGhpcy51cGRhdGVJbmZvYm94KG8pLGQuZXhpc3RzKHRoaXMuaGlnaGxpZ2h0ZWRPYmplY3RzW25dKXx8KGFbbl09byxvLmhpZ2hsaWdodCgpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wibW91c2VoaXRcIixcImhpdFwiXSxbaSxvLHJdKSksby5tb3VzZW92ZXI/by50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZW1vdmVcIixcIm1vdmVcIl0sW2ldKTooby50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZW92ZXJcIixcIm92ZXJcIl0sW2ldKSxvLm1vdXNlb3Zlcj0hMCkpO2ZvcihzPTA7czxoO3MrKyluPShvPXRoaXMub2JqZWN0c0xpc3Rbc10pLmlkLG8ubW91c2VvdmVyJiYoYVtuXXx8KG8udHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wibW91c2VvdXRcIixcIm91dFwiXSxbaV0pLG8ubW91c2VvdmVyPSExKSl9LHNhdmVTdGFydFBvczpmdW5jdGlvbihpLHIpe3ZhciBzLG8sbj1bXTtpZihpLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1RJQ0tTKW4ucHVzaChbMSxOYU4sTmFOXSk7ZWxzZSBpZihpLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0xJTkUpbi5wdXNoKGkucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMpLG4ucHVzaChpLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzKTtlbHNlIGlmKGkuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFKW4ucHVzaChpLmNlbnRlci5jb29yZHMudXNyQ29vcmRzKSxcInR3b1BvaW50c1wiPT09aS5tZXRob2QmJm4ucHVzaChpLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzKTtlbHNlIGlmKGkudHlwZT09PWUuT0JKRUNUX1RZUEVfUE9MWUdPTilmb3Iobz1pLnZlcnRpY2VzLmxlbmd0aC0xLHM9MDtzPG87cysrKW4ucHVzaChpLnZlcnRpY2VzW3NdLmNvb3Jkcy51c3JDb29yZHMpO2Vsc2UgaWYoaS50eXBlPT09ZS5PQkpFQ1RfVFlQRV9TRUNUT1Ipbi5wdXNoKGkucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMpLG4ucHVzaChpLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzKSxuLnB1c2goaS5wb2ludDMuY29vcmRzLnVzckNvb3Jkcyk7ZWxzZSBpZihkLmlzUG9pbnQoaSl8fGkudHlwZT09PWUuT0JKRUNUX1RZUEVfR0xJREVSKW4ucHVzaChpLmNvb3Jkcy51c3JDb29yZHMpO2Vsc2UgaWYoaS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSlpLnBvaW50cy5sZW5ndGg+MCYmbi5wdXNoKGkucG9pbnRzWzBdLnVzckNvb3Jkcyk7ZWxzZSB0cnl7bi5wdXNoKGkuY29vcmRzLnVzckNvb3Jkcyl9Y2F0Y2goZSl7dC5kZWJ1ZyhcIkpTWEdyYXBoKyBzYXZlU3RhcnRQb3M6IG9iai5jb29yZHMudXNyQ29vcmRzIG5vdCBhdmFpbGFibGU6IFwiK2UpfWZvcihvPW4ubGVuZ3RoLHM9MDtzPG87cysrKXIuWnN0YXJ0LnB1c2gobltzXVswXSksci5Yc3RhcnQucHVzaChuW3NdWzFdKSxyLllzdGFydC5wdXNoKG5bc11bMl0pfSxtb3VzZU9yaWdpbk1vdmVTdGFydDpmdW5jdGlvbih0KXt2YXIgZSxpO3JldHVybihlPXRoaXMuX2lzUmVxdWlyZWRLZXlQcmVzc2VkKHQsXCJwYW5cIikpJiYoaT10aGlzLmdldE1vdXNlUG9zaXRpb24odCksdGhpcy5pbml0TW92ZU9yaWdpbihpWzBdLGlbMV0pKSxlfSxtb3VzZU9yaWdpbk1vdmU6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTU9WRV9PUklHSU47cmV0dXJuIGkmJihlPXRoaXMuZ2V0TW91c2VQb3NpdGlvbih0KSx0aGlzLm1vdmVPcmlnaW4oZVswXSxlWzFdLCEwKSksaX0sdG91Y2hTdGFydE1vdmVPcmlnaW5PbmVGaW5nZXI6ZnVuY3Rpb24oZSl7dmFyIGkscixzPWVbdC50b3VjaFByb3BlcnR5XTtyZXR1cm4oaT10aGlzLmF0dHIucGFuLmVuYWJsZWQmJiF0aGlzLmF0dHIucGFuLm5lZWR0d29maW5nZXJzJiYxPT09cy5sZW5ndGgpJiYocj10aGlzLmdldE1vdXNlUG9zaXRpb24oZSwwKSx0aGlzLmluaXRNb3ZlT3JpZ2luKHJbMF0sclsxXSkpLGl9LHRvdWNoT3JpZ2luTW92ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMubW9kZT09PXRoaXMuQk9BUkRfTU9ERV9NT1ZFX09SSUdJTjtyZXR1cm4gaSYmKGU9dGhpcy5nZXRNb3VzZVBvc2l0aW9uKHQsMCksdGhpcy5tb3ZlT3JpZ2luKGVbMF0sZVsxXSwhMCkpLGl9LG9yaWdpbk1vdmVFbmQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVF1YWxpdHk9dGhpcy5CT0FSRF9RVUFMSVRZX0hJR0gsdGhpcy5tb2RlPXRoaXMuQk9BUkRfTU9ERV9OT05FfSxhZGRFdmVudEhhbmRsZXJzOmZ1bmN0aW9uKCl7aWYocC5zdXBwb3J0c1BvaW50ZXJFdmVudHMoKT90aGlzLmFkZFBvaW50ZXJFdmVudEhhbmRsZXJzKCk6KHRoaXMuYWRkTW91c2VFdmVudEhhbmRsZXJzKCksdGhpcy5hZGRUb3VjaEV2ZW50SGFuZGxlcnMoKSksbnVsbCE9PXRoaXMuY29udGFpbmVyT2JqJiYodGhpcy5jb250YWluZXJPYmoub25jb250ZXh0bWVudT1mdW5jdGlvbih0KXtyZXR1cm4gZC5leGlzdHModCkmJnQucHJldmVudERlZmF1bHQoKSwhMX0pLHRoaXMuYWRkRnVsbHNjcmVlbkV2ZW50SGFuZGxlcnMoKSx0aGlzLmFkZEtleWJvYXJkRXZlbnRIYW5kbGVycygpLHAuaXNCcm93c2VyKXt0cnl7dGhpcy5zdGFydFJlc2l6ZU9ic2VydmVyKCl9Y2F0Y2godCl7cC5hZGRFdmVudCh3aW5kb3csXCJyZXNpemVcIix0aGlzLnJlc2l6ZUxpc3RlbmVyLHRoaXMpLHRoaXMuc3RhcnRJbnRlcnNlY3Rpb25PYnNlcnZlcigpfXAuYWRkRXZlbnQod2luZG93LFwic2Nyb2xsXCIsdGhpcy5zY3JvbGxMaXN0ZW5lcix0aGlzKX19LHJlbW92ZUV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZU1vdXNlRXZlbnRIYW5kbGVycygpLHRoaXMucmVtb3ZlVG91Y2hFdmVudEhhbmRsZXJzKCksdGhpcy5yZW1vdmVQb2ludGVyRXZlbnRIYW5kbGVycygpLHRoaXMucmVtb3ZlRnVsbHNjcmVlbkV2ZW50SGFuZGxlcnMoKSx0aGlzLnJlbW92ZUtleWJvYXJkRXZlbnRIYW5kbGVycygpLHAuaXNCcm93c2VyJiYoZC5leGlzdHModGhpcy5yZXNpemVPYnNlcnZlcik/dGhpcy5zdG9wUmVzaXplT2JzZXJ2ZXIoKToocC5yZW1vdmVFdmVudCh3aW5kb3csXCJyZXNpemVcIix0aGlzLnJlc2l6ZUxpc3RlbmVyLHRoaXMpLHRoaXMuc3RvcEludGVyc2VjdGlvbk9ic2VydmVyKCkpLHAucmVtb3ZlRXZlbnQod2luZG93LFwic2Nyb2xsXCIsdGhpcy5zY3JvbGxMaXN0ZW5lcix0aGlzKSl9LGFkZFBvaW50ZXJFdmVudEhhbmRsZXJzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaGFzUG9pbnRlckhhbmRsZXJzJiZwLmlzQnJvd3Nlcil7dmFyIHQ9dGhpcy5hdHRyLm1vdmV0YXJnZXR8fHRoaXMuY29udGFpbmVyT2JqO3dpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD8ocC5hZGRFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcIk1TUG9pbnRlckRvd25cIix0aGlzLnBvaW50ZXJEb3duTGlzdGVuZXIsdGhpcykscC5hZGRFdmVudCh0LFwiTVNQb2ludGVyTW92ZVwiLHRoaXMucG9pbnRlck1vdmVMaXN0ZW5lcix0aGlzKSk6KHAuYWRkRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJwb2ludGVyZG93blwiLHRoaXMucG9pbnRlckRvd25MaXN0ZW5lcix0aGlzKSxwLmFkZEV2ZW50KHQsXCJwb2ludGVybW92ZVwiLHRoaXMucG9pbnRlck1vdmVMaXN0ZW5lcix0aGlzKSkscC5hZGRFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcIm1vdXNld2hlZWxcIix0aGlzLm1vdXNlV2hlZWxMaXN0ZW5lcix0aGlzKSxwLmFkZEV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLm1vdXNlV2hlZWxMaXN0ZW5lcix0aGlzKSxudWxsIT09dGhpcy5jb250YWluZXJPYmomJih0aGlzLmNvbnRhaW5lck9iai5zdHlsZS50b3VjaEFjdGlvbj1cIm5vbmVcIiksdGhpcy5oYXNQb2ludGVySGFuZGxlcnM9ITB9fSxhZGRNb3VzZUV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXtpZighdGhpcy5oYXNNb3VzZUhhbmRsZXJzJiZwLmlzQnJvd3Nlcil7dmFyIHQ9dGhpcy5hdHRyLm1vdmV0YXJnZXR8fHRoaXMuY29udGFpbmVyT2JqO3AuYWRkRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlRG93bkxpc3RlbmVyLHRoaXMpLHAuYWRkRXZlbnQodCxcIm1vdXNlbW92ZVwiLHRoaXMubW91c2VNb3ZlTGlzdGVuZXIsdGhpcykscC5hZGRFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcIm1vdXNld2hlZWxcIix0aGlzLm1vdXNlV2hlZWxMaXN0ZW5lcix0aGlzKSxwLmFkZEV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLm1vdXNlV2hlZWxMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc01vdXNlSGFuZGxlcnM9ITB9fSxhZGRUb3VjaEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24odCl7aWYoIXRoaXMuaGFzVG91Y2hIYW5kbGVycyYmcC5pc0Jyb3dzZXIpe3ZhciBlPXRoaXMuYXR0ci5tb3ZldGFyZ2V0fHx0aGlzLmNvbnRhaW5lck9iajtwLmFkZEV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hTdGFydExpc3RlbmVyLHRoaXMpLHAuYWRkRXZlbnQoZSxcInRvdWNobW92ZVwiLHRoaXMudG91Y2hNb3ZlTGlzdGVuZXIsdGhpcyksdGhpcy5oYXNUb3VjaEhhbmRsZXJzPSEwfX0sYWRkRnVsbHNjcmVlbkV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgdCxlPVtcImZ1bGxzY3JlZW5jaGFuZ2VcIixcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIixcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIixcIm1zZnVsbHNjcmVlbmNoYW5nZVwiXSxpPWUubGVuZ3RoO2lmKCF0aGlzLmhhc0Z1bGxzY2VlbkV2ZW50SGFuZGxlcnMmJnAuaXNCcm93c2VyKXtmb3IodD0wO3Q8aTt0KyspcC5hZGRFdmVudCh0aGlzLmRvY3VtZW50LGVbdF0sdGhpcy5mdWxsc2NyZWVuTGlzdGVuZXIsdGhpcyk7dGhpcy5oYXNGdWxsc2NlZW5FdmVudEhhbmRsZXJzPSEwfX0sYWRkS2V5Ym9hcmRFdmVudEhhbmRsZXJzOmZ1bmN0aW9uKCl7dGhpcy5hdHRyLmtleWJvYXJkLmVuYWJsZWQmJiF0aGlzLmhhc0tleWJvYXJkSGFuZGxlcnMmJnAuaXNCcm93c2VyJiYocC5hZGRFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcImtleWRvd25cIix0aGlzLmtleURvd25MaXN0ZW5lcix0aGlzKSxwLmFkZEV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwiZm9jdXNpblwiLHRoaXMua2V5Rm9jdXNJbkxpc3RlbmVyLHRoaXMpLHAuYWRkRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJmb2N1c291dFwiLHRoaXMua2V5Rm9jdXNPdXRMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc0tleWJvYXJkSGFuZGxlcnM9ITApfSxyZW1vdmVLZXlib2FyZEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXt0aGlzLmhhc0tleWJvYXJkSGFuZGxlcnMmJnAuaXNCcm93c2VyJiYocC5yZW1vdmVFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcImtleWRvd25cIix0aGlzLmtleURvd25MaXN0ZW5lcix0aGlzKSxwLnJlbW92ZUV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwiZm9jdXNpblwiLHRoaXMua2V5Rm9jdXNJbkxpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJmb2N1c291dFwiLHRoaXMua2V5Rm9jdXNPdXRMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc0tleWJvYXJkSGFuZGxlcnM9ITEpfSxyZW1vdmVGdWxsc2NyZWVuRXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe3ZhciB0LGU9W1wiZnVsbHNjcmVlbmNoYW5nZVwiLFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFwibXNmdWxsc2NyZWVuY2hhbmdlXCJdLGk9ZS5sZW5ndGg7aWYodGhpcy5oYXNGdWxsc2NlZW5FdmVudEhhbmRsZXJzJiZwLmlzQnJvd3Nlcil7Zm9yKHQ9MDt0PGk7dCsrKXAucmVtb3ZlRXZlbnQodGhpcy5kb2N1bWVudCxlW3RdLHRoaXMuZnVsbHNjcmVlbkxpc3RlbmVyLHRoaXMpO3RoaXMuaGFzRnVsbHNjZWVuRXZlbnRIYW5kbGVycz0hMX19LHJlbW92ZVBvaW50ZXJFdmVudEhhbmRsZXJzOmZ1bmN0aW9uKCl7aWYodGhpcy5oYXNQb2ludGVySGFuZGxlcnMmJnAuaXNCcm93c2VyKXt2YXIgdD10aGlzLmF0dHIubW92ZXRhcmdldHx8dGhpcy5jb250YWluZXJPYmo7d2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkPyhwLnJlbW92ZUV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwiTVNQb2ludGVyRG93blwiLHRoaXMucG9pbnRlckRvd25MaXN0ZW5lcix0aGlzKSxwLnJlbW92ZUV2ZW50KHQsXCJNU1BvaW50ZXJNb3ZlXCIsdGhpcy5wb2ludGVyTW92ZUxpc3RlbmVyLHRoaXMpKToocC5yZW1vdmVFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcInBvaW50ZXJkb3duXCIsdGhpcy5wb2ludGVyRG93bkxpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodCxcInBvaW50ZXJtb3ZlXCIsdGhpcy5wb2ludGVyTW92ZUxpc3RlbmVyLHRoaXMpKSxwLnJlbW92ZUV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwibW91c2V3aGVlbFwiLHRoaXMubW91c2VXaGVlbExpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJET01Nb3VzZVNjcm9sbFwiLHRoaXMubW91c2VXaGVlbExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzUG9pbnRlclVwJiYod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkP3AucmVtb3ZlRXZlbnQodGhpcy5kb2N1bWVudCxcIk1TUG9pbnRlclVwXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKToocC5yZW1vdmVFdmVudCh0aGlzLmRvY3VtZW50LFwicG9pbnRlcnVwXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKSxwLnJlbW92ZUV2ZW50KHRoaXMuZG9jdW1lbnQsXCJwb2ludGVyY2FuY2VsXCIsdGhpcy5wb2ludGVyVXBMaXN0ZW5lcix0aGlzKSksdGhpcy5oYXNQb2ludGVyVXA9ITEpLHRoaXMuaGFzUG9pbnRlckhhbmRsZXJzPSExfX0scmVtb3ZlTW91c2VFdmVudEhhbmRsZXJzOmZ1bmN0aW9uKCl7aWYodGhpcy5oYXNNb3VzZUhhbmRsZXJzJiZwLmlzQnJvd3Nlcil7dmFyIHQ9dGhpcy5hdHRyLm1vdmV0YXJnZXR8fHRoaXMuY29udGFpbmVyT2JqO3AucmVtb3ZlRXZlbnQodGhpcy5jb250YWluZXJPYmosXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlRG93bkxpc3RlbmVyLHRoaXMpLHAucmVtb3ZlRXZlbnQodCxcIm1vdXNlbW92ZVwiLHRoaXMubW91c2VNb3ZlTGlzdGVuZXIsdGhpcyksdGhpcy5oYXNNb3VzZVVwJiYocC5yZW1vdmVFdmVudCh0aGlzLmRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMubW91c2VVcExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzTW91c2VVcD0hMSkscC5yZW1vdmVFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcIm1vdXNld2hlZWxcIix0aGlzLm1vdXNlV2hlZWxMaXN0ZW5lcix0aGlzKSxwLnJlbW92ZUV2ZW50KHRoaXMuY29udGFpbmVyT2JqLFwiRE9NTW91c2VTY3JvbGxcIix0aGlzLm1vdXNlV2hlZWxMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc01vdXNlSGFuZGxlcnM9ITF9fSxyZW1vdmVUb3VjaEV2ZW50SGFuZGxlcnM6ZnVuY3Rpb24oKXtpZih0aGlzLmhhc1RvdWNoSGFuZGxlcnMmJnAuaXNCcm93c2VyKXt2YXIgdD10aGlzLmF0dHIubW92ZXRhcmdldHx8dGhpcy5jb250YWluZXJPYmo7cC5yZW1vdmVFdmVudCh0aGlzLmNvbnRhaW5lck9iaixcInRvdWNoc3RhcnRcIix0aGlzLnRvdWNoU3RhcnRMaXN0ZW5lcix0aGlzKSxwLnJlbW92ZUV2ZW50KHQsXCJ0b3VjaG1vdmVcIix0aGlzLnRvdWNoTW92ZUxpc3RlbmVyLHRoaXMpLHRoaXMuaGFzVG91Y2hFbmQmJihwLnJlbW92ZUV2ZW50KHRoaXMuZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hFbmRMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc1RvdWNoRW5kPSExKSx0aGlzLmhhc1RvdWNoSGFuZGxlcnM9ITF9fSxjbGlja0xlZnRBcnJvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vdmVPcmlnaW4odGhpcy5vcmlnaW4uc2NyQ29vcmRzWzFdKy4xKnRoaXMuY2FudmFzV2lkdGgsdGhpcy5vcmlnaW4uc2NyQ29vcmRzWzJdKSx0aGlzfSxjbGlja1JpZ2h0QXJyb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3ZlT3JpZ2luKHRoaXMub3JpZ2luLnNjckNvb3Jkc1sxXS0uMSp0aGlzLmNhbnZhc1dpZHRoLHRoaXMub3JpZ2luLnNjckNvb3Jkc1syXSksdGhpc30sY2xpY2tVcEFycm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW92ZU9yaWdpbih0aGlzLm9yaWdpbi5zY3JDb29yZHNbMV0sdGhpcy5vcmlnaW4uc2NyQ29vcmRzWzJdLS4xKnRoaXMuY2FudmFzSGVpZ2h0KSx0aGlzfSxjbGlja0Rvd25BcnJvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vdmVPcmlnaW4odGhpcy5vcmlnaW4uc2NyQ29vcmRzWzFdLHRoaXMub3JpZ2luLnNjckNvb3Jkc1syXSsuMSp0aGlzLmNhbnZhc0hlaWdodCksdGhpc30sZ2VzdHVyZUNoYW5nZUxpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciByLHMsbyxhLGgsbCxjLHUscCxmLG0sZyxiPSExLHY9dGhpcy5hdHRyLnpvb20uZmFjdG9yeCx5PXRoaXMuYXR0ci56b29tLmZhY3Rvcnk7cmV0dXJuIHRoaXMubW9kZSE9PXRoaXMuQk9BUkRfTU9ERV9aT09NfHwodC5wcmV2ZW50RGVmYXVsdCgpLGw9bi5kaXN0YW5jZShbdC50b3VjaGVzWzBdLmNsaWVudFgsdC50b3VjaGVzWzBdLmNsaWVudFldLFt0LnRvdWNoZXNbMV0uY2xpZW50WCx0LnRvdWNoZXNbMV0uY2xpZW50WV0sMiksdm9pZCAwPT09dC5zY2FsZSYmKHQuc2NhbGU9bC90aGlzLnByZXZEaXN0KSwhIWQuZXhpc3RzKHRoaXMucHJldkNvb3JkcykmJihzPVt0LnRvdWNoZXNbMF0uY2xpZW50WC10aGlzLnByZXZDb29yZHNbMF1bMF0sdC50b3VjaGVzWzBdLmNsaWVudFktdGhpcy5wcmV2Q29vcmRzWzBdWzFdXSxvPVt0LnRvdWNoZXNbMV0uY2xpZW50WC10aGlzLnByZXZDb29yZHNbMV1bMF0sdC50b3VjaGVzWzFdLmNsaWVudFktdGhpcy5wcmV2Q29vcmRzWzFdWzFdXSxzWzBdKnNbMF0rc1sxXSpzWzFdPDEwMCYmb1swXSpvWzBdK29bMV0qb1sxXTwxMDB8fChhPW4ucmFkKHMsWzAsMF0sbyksXCJwYW5cIiE9PXRoaXMuaXNQcmV2aW91c0dlc3R1cmUmJk1hdGguYWJzKGEpPi4yKk1hdGguUEkmJk1hdGguYWJzKGEpPDEuOCpNYXRoLlBJJiYoYj0hMCksXCJwYW5cIj09PXRoaXMuaXNQcmV2aW91c0dlc3R1cmV8fGJ8fChNYXRoLmFicyh0LnNjYWxlKTwuNzd8fE1hdGguYWJzKHQuc2NhbGUpPjEuMykmJihiPSEwKSxoPXQuc2NhbGUvdGhpcy5wcmV2U2NhbGUsdGhpcy5wcmV2U2NhbGU9dC5zY2FsZSx0aGlzLnByZXZDb29yZHM9W1t0LnRvdWNoZXNbMF0uY2xpZW50WCx0LnRvdWNoZXNbMF0uY2xpZW50WV0sW3QudG91Y2hlc1sxXS5jbGllbnRYLHQudG91Y2hlc1sxXS5jbGllbnRZXV0scj1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sdGhpcy5nZXRNb3VzZVBvc2l0aW9uKHQsMCksdGhpcyksdGhpcy5hdHRyLnBhbi5lbmFibGVkJiZ0aGlzLmF0dHIucGFuLm5lZWR0d29maW5nZXJzJiYhYj8odGhpcy5pc1ByZXZpb3VzR2VzdHVyZT1cInBhblwiLHRoaXMubW92ZU9yaWdpbihyLnNjckNvb3Jkc1sxXSxyLnNjckNvb3Jkc1syXSwhMCkpOnRoaXMuYXR0ci56b29tLmVuYWJsZWQmJk1hdGguYWJzKGgtMSk8LjUmJigodGhpcy5hdHRyLnpvb20ucGluY2hob3Jpem9udGFsfHx0aGlzLmF0dHIuem9vbS5waW5jaHZlcnRpY2FsKSYmKGM9TWF0aC5hYnModC50b3VjaGVzWzBdLmNsaWVudFgtdC50b3VjaGVzWzFdLmNsaWVudFgpLHU9TWF0aC5hYnModC50b3VjaGVzWzBdLmNsaWVudFktdC50b3VjaGVzWzFdLmNsaWVudFkpLHA9TWF0aC5hYnMoTWF0aC5hdGFuMih1LGMpKSxnPU1hdGguUEkqdGhpcy5hdHRyLnpvb20ucGluY2hzZW5zaXRpdml0eS85MCksdGhpcy5hdHRyLnpvb20ucGluY2hob3Jpem9udGFsJiZwPGc/KHRoaXMuYXR0ci56b29tLmZhY3Rvcng9aCx0aGlzLmF0dHIuem9vbS5mYWN0b3J5PTEsZj0wLG09MCk6dGhpcy5hdHRyLnpvb20ucGluY2h2ZXJ0aWNhbCYmTWF0aC5hYnMocC0uNSpNYXRoLlBJKTxnPyh0aGlzLmF0dHIuem9vbS5mYWN0b3J4PTEsdGhpcy5hdHRyLnpvb20uZmFjdG9yeT1oLGY9MCxtPTApOih0aGlzLmF0dHIuem9vbS5mYWN0b3J4PWgsdGhpcy5hdHRyLnpvb20uZmFjdG9yeT1oLGY9ci51c3JDb29yZHNbMV0sbT1yLnVzckNvb3Jkc1syXSksdGhpcy56b29tSW4oZixtKSx0aGlzLmF0dHIuem9vbS5mYWN0b3J4PXYsdGhpcy5hdHRyLnpvb20uZmFjdG9yeT15KSksITEpKX0sZ2VzdHVyZVN0YXJ0TGlzdGVuZXI6ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0aGlzLnByZXZTY2FsZT0xLHRoaXMucHJldkRpc3Q9bi5kaXN0YW5jZShbdC50b3VjaGVzWzBdLmNsaWVudFgsdC50b3VjaGVzWzBdLmNsaWVudFldLFt0LnRvdWNoZXNbMV0uY2xpZW50WCx0LnRvdWNoZXNbMV0uY2xpZW50WV0sMiksdGhpcy5wcmV2Q29vcmRzPVtbdC50b3VjaGVzWzBdLmNsaWVudFgsdC50b3VjaGVzWzBdLmNsaWVudFldLFt0LnRvdWNoZXNbMV0uY2xpZW50WCx0LnRvdWNoZXNbMV0uY2xpZW50WV1dLHRoaXMuaXNQcmV2aW91c0dlc3R1cmU9XCJub25lXCIsZT10aGlzLmdldE1vdXNlUG9zaXRpb24odCwwKSx0aGlzLmluaXRNb3ZlT3JpZ2luKGVbMF0sZVsxXSksdGhpcy5tb2RlPXRoaXMuQk9BUkRfTU9ERV9aT09NLCExfSxfaXNSZXF1aXJlZEtleVByZXNzZWQ6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmF0dHJbZV07cmV0dXJuISFpLmVuYWJsZWQmJiEoIShpLm5lZWRzaGlmdCYmdC5zaGlmdEtleXx8IWkubmVlZHNoaWZ0JiYhdC5zaGlmdEtleSl8fCEoaS5uZWVkY3RybCYmdC5jdHJsS2V5fHwhaS5uZWVkY3RybCYmIXQuY3RybEtleSkpfSxfaXNQb2ludGVyUmVnaXN0ZXJlZDpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuX2JvYXJkX3RvdWNoZXMubGVuZ3RoO2ZvcihlPTA7ZTxpO2UrKylpZih0aGlzLl9ib2FyZF90b3VjaGVzW2VdLnBvaW50ZXJJZD09PXQucG9pbnRlcklkKXJldHVybiEwO3JldHVybiExfSxfcG9pbnRlclN0b3JlUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGUsaTtmb3IoZT0wLGk9ITE7ZTx0aGlzLl9ib2FyZF90b3VjaGVzLmxlbmd0aDtlKyspaWYodGhpcy5fYm9hcmRfdG91Y2hlc1tlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7dGhpcy5fYm9hcmRfdG91Y2hlc1tlXS5jbGllbnRYPXQuY2xpZW50WCx0aGlzLl9ib2FyZF90b3VjaGVzW2VdLmNsaWVudFk9dC5jbGllbnRZLGk9ITA7YnJlYWt9cmV0dXJuIWkmJnRoaXMuX2JvYXJkX3RvdWNoZXMubGVuZ3RoPDImJnRoaXMuX2JvYXJkX3RvdWNoZXMucHVzaCh7cG9pbnRlcklkOnQucG9pbnRlcklkLGNsaWVudFg6dC5jbGllbnRYLGNsaWVudFk6dC5jbGllbnRZfSksdGhpc30sX3BvaW50ZXJSZW1vdmVUb3VjaGVzOmZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlPTA7ZTx0aGlzLl9ib2FyZF90b3VjaGVzLmxlbmd0aDtlKyspaWYodGhpcy5fYm9hcmRfdG91Y2hlc1tlXS5wb2ludGVySWQ9PT10LnBvaW50ZXJJZCl7dGhpcy5fYm9hcmRfdG91Y2hlcy5zcGxpY2UoZSwxKTticmVha31yZXR1cm4gdGhpc30sX3BvaW50ZXJDbGVhclRvdWNoZXM6ZnVuY3Rpb24oKXt0aGlzLl9ib2FyZF90b3VjaGVzLmxlbmd0aD4wJiZ0aGlzLmRlaGlnaGxpZ2h0QWxsKCksdGhpcy51cGRhdGVRdWFsaXR5PXRoaXMuQk9BUkRfUVVBTElUWV9ISUdILHRoaXMubW9kZT10aGlzLkJPQVJEX01PREVfTk9ORSx0aGlzLl9ib2FyZF90b3VjaGVzPVtdLHRoaXMudG91Y2hlcz1bXX0sX2dldFBvaW50ZXJJbnB1dERldmljZTpmdW5jdGlvbih0KXtpZihwLmlzQnJvd3Nlcil7aWYoXCJ0b3VjaFwiPT09dC5wb2ludGVyVHlwZXx8d2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzJiZ3aW5kb3cubmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHM+MSlyZXR1cm5cInRvdWNoXCI7aWYoXCJtb3VzZVwiPT09dC5wb2ludGVyVHlwZSlyZXR1cm5cIm1vdXNlXCI7aWYoXCJwZW5cIj09PXQucG9pbnRlclR5cGUpcmV0dXJuXCJwZW5cIn1yZXR1cm5cIm1vdXNlXCJ9LHBvaW50ZXJEb3duTGlzdGVuZXI6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuLGEsaCxsLGMsdTtpZighZSYmdGhpcy5faXNQb2ludGVyUmVnaXN0ZXJlZCh0KSlyZXR1cm4hMTtpZighZSYmdC5pc1ByaW1hcnkmJnRoaXMuX3BvaW50ZXJDbGVhclRvdWNoZXMoKSx0aGlzLmhhc1BvaW50ZXJVcHx8KHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD9wLmFkZEV2ZW50KHRoaXMuZG9jdW1lbnQsXCJNU1BvaW50ZXJVcFwiLHRoaXMucG9pbnRlclVwTGlzdGVuZXIsdGhpcyk6KHAuYWRkRXZlbnQodGhpcy5kb2N1bWVudCxcInBvaW50ZXJ1cFwiLHRoaXMucG9pbnRlclVwTGlzdGVuZXIsdGhpcykscC5hZGRFdmVudCh0aGlzLmRvY3VtZW50LFwicG9pbnRlcmNhbmNlbFwiLHRoaXMucG9pbnRlclVwTGlzdGVuZXIsdGhpcykpLHRoaXMuaGFzUG9pbnRlclVwPSEwKSx0aGlzLmhhc01vdXNlSGFuZGxlcnMmJnRoaXMucmVtb3ZlTW91c2VFdmVudEhhbmRsZXJzKCksdGhpcy5oYXNUb3VjaEhhbmRsZXJzJiZ0aGlzLnJlbW92ZVRvdWNoRXZlbnRIYW5kbGVycygpLHRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uJiZkLmlzRnVuY3Rpb24odGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkpKXRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCk7ZWxzZSBpZih3aW5kb3cuZ2V0U2VsZWN0aW9uJiYoYT13aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLnJlbW92ZUFsbFJhbmdlcyl0cnl7YS5yZW1vdmVBbGxSYW5nZXMoKX1jYXRjaCh0KXt9aWYodGhpcy5faW5wdXREZXZpY2U9dGhpcy5fZ2V0UG9pbnRlcklucHV0RGV2aWNlKHQpLGw9dGhpcy5faW5wdXREZXZpY2UsdGhpcy5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludD10aGlzLm9wdGlvbnMucHJlY2lzaW9uW2xdLG89dGhpcy5nZXRNb3VzZVBvc2l0aW9uKHQpLHRoaXMuX3Rlc3RGb3JTZWxlY3Rpb24odCksdGhpcy5zZWxlY3RpbmdNb2RlKXJldHVybiB0aGlzLl9zdGFydFNlbGVjdGluZyhvKSx2b2lkIHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2hzdGFydHNlbGVjdGluZ1wiLFwicG9pbnRlcnN0YXJ0c2VsZWN0aW5nXCIsXCJzdGFydHNlbGVjdGluZ1wiXSxbdF0pO2lmKHRoaXMuYXR0ci5kcmFnLmVuYWJsZWQmJmU/KG49W2VdLHRoaXMubW9kZT10aGlzLkJPQVJEX01PREVfRFJBRyk6bj10aGlzLmluaXRNb3ZlT2JqZWN0KG9bMF0sb1sxXSx0LGwpLGg9e251bTp0LnBvaW50ZXJJZCxYOm9bMF0sWTpvWzFdLFhwcmV2Ok5hTixZcHJldjpOYU4sWHN0YXJ0OltdLFlzdGFydDpbXSxac3RhcnQ6W119LG4ubGVuZ3RoPjApe2Zvcih1PW5bbi5sZW5ndGgtMV0sYz0hMSxpPTA7aTx0aGlzLnRvdWNoZXMubGVuZ3RoO2krKylpZih0aGlzLnRvdWNoZXNbaV0ub2JqPT09dSl7cj1pLHM9dGhpcy50b3VjaGVzW2ldLnRhcmdldHMucHVzaChoKS0xLGM9ITA7YnJlYWt9Y3x8KHM9MCxyPXRoaXMudG91Y2hlcy5wdXNoKHtvYmo6dSx0YXJnZXRzOltoXX0pLTEpLHRoaXMuZGVoaWdobGlnaHRBbGwoKSx1LmhpZ2hsaWdodCghMCksdGhpcy5zYXZlU3RhcnRQb3ModSx0aGlzLnRvdWNoZXNbcl0udGFyZ2V0c1tzXSksdCYmdC5wcmV2ZW50RGVmYXVsdD90LnByZXZlbnREZWZhdWx0KCk6d2luZG93LmV2ZW50JiYod2luZG93LmV2ZW50LnJldHVyblZhbHVlPSExKX1yZXR1cm4gdGhpcy50b3VjaGVzLmxlbmd0aD4wJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpLCEhcC5pc0Jyb3dzZXImJihcInRvdWNoXCIhPT10aGlzLl9nZXRQb2ludGVySW5wdXREZXZpY2UodCk/dGhpcy5tb2RlPT09dGhpcy5CT0FSRF9NT0RFX05PTkUmJnRoaXMubW91c2VPcmlnaW5Nb3ZlU3RhcnQodCk6KHRoaXMuX3BvaW50ZXJTdG9yZVBvc2l0aW9uKHQpLHQudG91Y2hlcz10aGlzLl9ib2FyZF90b3VjaGVzLDE9PT10LnRvdWNoZXMubGVuZ3RoJiZ0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTk9ORSYmdGhpcy50b3VjaFN0YXJ0TW92ZU9yaWdpbk9uZUZpbmdlcih0KXx8MiE9PXQudG91Y2hlcy5sZW5ndGh8fHRoaXMubW9kZSE9PXRoaXMuQk9BUkRfTU9ERV9OT05FJiZ0aGlzLm1vZGUhPT10aGlzLkJPQVJEX01PREVfTU9WRV9PUklHSU58fCh0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTU9WRV9PUklHSU4mJnRoaXMub3JpZ2luTW92ZUVuZCgpLHRoaXMuZ2VzdHVyZVN0YXJ0TGlzdGVuZXIodCkpKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNoc3RhcnRcIixcImRvd25cIixcInBvaW50ZXJkb3duXCIsXCJNU1BvaW50ZXJEb3duXCJdLFt0XSksITEpfSxwb2ludGVyTW92ZUxpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG87aWYoXCJ0b3VjaFwiPT09dGhpcy5fZ2V0UG9pbnRlcklucHV0RGV2aWNlKHQpJiYhdGhpcy5faXNQb2ludGVyUmVnaXN0ZXJlZCh0KSlyZXR1cm4gdGhpcy5CT0FSRF9NT0RFX05PTkU7aWYoIXRoaXMuY2hlY2tGcmFtZVJhdGUodCkpcmV0dXJuITE7aWYodGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX0RSQUcmJih0aGlzLmRlaGlnaGxpZ2h0QWxsKCksdGhpcy5kaXNwbGF5SW5mb2JveCghMSkpLHRoaXMubW9kZSE9PXRoaXMuQk9BUkRfTU9ERV9OT05FJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpLHRoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfTE9XLHRoaXMuX2lucHV0RGV2aWNlPXRoaXMuX2dldFBvaW50ZXJJbnB1dERldmljZSh0KSxvPXRoaXMuX2lucHV0RGV2aWNlLHRoaXMub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQ9dGhpcy5vcHRpb25zLnByZWNpc2lvbltvXSx0aGlzLnNlbGVjdGluZ01vZGUpcj10aGlzLmdldE1vdXNlUG9zaXRpb24odCksdGhpcy5fbW92ZVNlbGVjdGluZyhyKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNobW92ZXNlbGVjdGluZ1wiLFwibW92ZXNlbGVjdGluZ1wiLFwicG9pbnRlcm1vdmVzZWxlY3RpbmdcIl0sW3QsdGhpcy5tb2RlXSk7ZWxzZSBpZighdGhpcy5tb3VzZU9yaWdpbk1vdmUodCkpaWYodGhpcy5tb2RlPT09dGhpcy5CT0FSRF9NT0RFX0RSQUcpe2ZvcihlPTA7ZTx0aGlzLnRvdWNoZXMubGVuZ3RoO2UrKylmb3Iocz10aGlzLnRvdWNoZXNbZV0udGFyZ2V0cyxpPTA7aTxzLmxlbmd0aDtpKyspaWYoc1tpXS5udW09PT10LnBvaW50ZXJJZCl7cj10aGlzLmdldE1vdXNlUG9zaXRpb24odCksc1tpXS5YPXJbMF0sc1tpXS5ZPXJbMV0sMT09PXMubGVuZ3RoP3RoaXMubW92ZU9iamVjdChyWzBdLHJbMV0sdGhpcy50b3VjaGVzW2VdLHQsbyk6Mj09PXMubGVuZ3RoJiYodGhpcy50d29GaW5nZXJNb3ZlKHRoaXMudG91Y2hlc1tlXSx0LnBvaW50ZXJJZCx0KSxzW2ldLlhwcmV2PXJbMF0sc1tpXS5ZcHJldj1yWzFdKTticmVha319ZWxzZVwidG91Y2hcIj09PXRoaXMuX2dldFBvaW50ZXJJbnB1dERldmljZSh0KSYmKHRoaXMuX3BvaW50ZXJTdG9yZVBvc2l0aW9uKHQpLDI9PT10aGlzLl9ib2FyZF90b3VjaGVzLmxlbmd0aCYmKHQudG91Y2hlcz10aGlzLl9ib2FyZF90b3VjaGVzLHRoaXMuZ2VzdHVyZUNoYW5nZUxpc3RlbmVyKHQpKSkscj10aGlzLmdldE1vdXNlUG9zaXRpb24odCksdGhpcy5oaWdobGlnaHRFbGVtZW50cyhyWzBdLHJbMV0sdCwtMSk7cmV0dXJuIHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2htb3ZlXCIsXCJtb3ZlXCIsXCJwb2ludGVybW92ZVwiLFwiTVNQb2ludGVyTW92ZVwiXSxbdCx0aGlzLm1vZGVdKSx0aGlzLnVwZGF0ZVF1YWxpdHk9dGhpcy5CT0FSRF9RVUFMSVRZX0hJR0gsdGhpcy5tb2RlPT09dGhpcy5CT0FSRF9NT0RFX05PTkV9LHBvaW50ZXJVcExpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzO2lmKHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2hlbmRcIixcInVwXCIsXCJwb2ludGVydXBcIixcIk1TUG9pbnRlclVwXCJdLFt0XSksdGhpcy5kaXNwbGF5SW5mb2JveCghMSksdClmb3IoZT0wO2U8dGhpcy50b3VjaGVzLmxlbmd0aDtlKyspZm9yKHM9dGhpcy50b3VjaGVzW2VdLnRhcmdldHMsaT0wO2k8cy5sZW5ndGg7aSsrKWlmKHNbaV0ubnVtPT09dC5wb2ludGVySWQpe3Muc3BsaWNlKGksMSksMD09PXMubGVuZ3RoJiZ0aGlzLnRvdWNoZXMuc3BsaWNlKGUsMSk7YnJlYWt9aWYodGhpcy5vcmlnaW5Nb3ZlRW5kKCksdGhpcy51cGRhdGUoKSx0aGlzLnNlbGVjdGluZ01vZGUpdGhpcy5fc3RvcFNlbGVjdGluZyh0KSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNoc3RvcHNlbGVjdGluZ1wiLFwicG9pbnRlcnN0b3BzZWxlY3RpbmdcIixcInN0b3BzZWxlY3RpbmdcIl0sW3RdKSx0aGlzLnN0b3BTZWxlY3Rpb25Nb2RlKCk7ZWxzZSBmb3IoZT10aGlzLmRvd25PYmplY3RzLmxlbmd0aC0xO2U+LTE7ZS0tKXtmb3Iocj0hMSxpPTA7aTx0aGlzLnRvdWNoZXMubGVuZ3RoO2krKyl0aGlzLnRvdWNoZXNbaV0ub2JqLmlkPT09dGhpcy5kb3duT2JqZWN0c1tlXS5pZCYmKHI9ITApO3J8fCh0aGlzLmRvd25PYmplY3RzW2VdLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNoZW5kXCIsXCJ1cFwiLFwicG9pbnRlcnVwXCIsXCJNU1BvaW50ZXJVcFwiXSxbdF0pLHRoaXMuZG93bk9iamVjdHMuc3BsaWNlKGUsMSkpfXJldHVybiB0aGlzLmhhc1BvaW50ZXJVcCYmKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD9wLnJlbW92ZUV2ZW50KHRoaXMuZG9jdW1lbnQsXCJNU1BvaW50ZXJVcFwiLHRoaXMucG9pbnRlclVwTGlzdGVuZXIsdGhpcyk6KHAucmVtb3ZlRXZlbnQodGhpcy5kb2N1bWVudCxcInBvaW50ZXJ1cFwiLHRoaXMucG9pbnRlclVwTGlzdGVuZXIsdGhpcykscC5yZW1vdmVFdmVudCh0aGlzLmRvY3VtZW50LFwicG9pbnRlcmNhbmNlbFwiLHRoaXMucG9pbnRlclVwTGlzdGVuZXIsdGhpcykpLHRoaXMuaGFzUG9pbnRlclVwPSExKSx0aGlzLl9wb2ludGVyQ2xlYXJUb3VjaGVzKCksITB9LHRvdWNoU3RhcnRMaXN0ZW5lcjpmdW5jdGlvbihpKXt2YXIgcyxvLG4sYSxoLGwsYyx1LGYsbSxnPXRoaXMub3B0aW9ucy5wcmVjaXNpb24udG91Y2gsYj1pW3QudG91Y2hQcm9wZXJ0eV07Zm9yKHRoaXMuaGFzVG91Y2hFbmR8fChwLmFkZEV2ZW50KHRoaXMuZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hFbmRMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc1RvdWNoRW5kPSEwKSx0aGlzLmRvY3VtZW50LnNlbGVjdGlvbiYmZC5pc0Z1bmN0aW9uKHRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KT90aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpOndpbmRvdy5nZXRTZWxlY3Rpb24mJndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKSx0aGlzLl9pbnB1dERldmljZT1cInRvdWNoXCIsdGhpcy5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludD10aGlzLm9wdGlvbnMucHJlY2lzaW9uLnRvdWNoLHM9MDtzPGIubGVuZ3RoO3MrKyliW3NdLmp4Z19pc3VzZWQ9ITE7Zm9yKHM9MDtzPHRoaXMudG91Y2hlcy5sZW5ndGg7cysrKWZvcihtPXRoaXMudG91Y2hlc1tzXS50YXJnZXRzLGE9MDthPG0ubGVuZ3RoO2ErKyl7bVthXS5udW09LTEsZz10aGlzLm9wdGlvbnMucHJlY2lzaW9uLnRvdWNoO2Rve2ZvcihoPTA7aDxiLmxlbmd0aDtoKyspaWYoTWF0aC5hYnMoTWF0aC5wb3coYltoXS5zY3JlZW5YLW1bYV0uWCwyKStNYXRoLnBvdyhiW2hdLnNjcmVlblktbVthXS5ZLDIpKTxnKmcpe21bYV0ubnVtPWgsbVthXS5YPWJbaF0uc2NyZWVuWCxtW2FdLlk9YltoXS5zY3JlZW5ZLGJbaF0uanhnX2lzdXNlZD0hMDticmVha31nKj0yfXdoaWxlKC0xPT09bVthXS5udW0mJmc8dGhpcy5vcHRpb25zLnByZWNpc2lvbi50b3VjaE1heCk7LTE9PT1tW2FdLm51bSYmKHQuZGVidWcoXCJpIGNvdWxkbid0IGZpbmQgYSB0YXJnZXR0b3VjaGVzIGZvciB0YXJnZXQgbm8gXCIrYStcIiBvbiBcIit0aGlzLnRvdWNoZXNbc10ub2JqLm5hbWUrXCIgKFwiK3RoaXMudG91Y2hlc1tzXS5vYmouaWQrXCIpLiBSZW1vdmVkIHRoZSB0YXJnZXQuXCIpLHQuZGVidWcoXCJlcHMgPSBcIitnK1wiLCB0b3VjaE1heCA9IFwiK3IucHJlY2lzaW9uLnRvdWNoTWF4KSxtLnNwbGljZShzLDEpKX1mb3Iocz0wO3M8Yi5sZW5ndGg7cysrKWlmKCFiW3NdLmp4Z19pc3VzZWQpe2lmKG89dGhpcy5nZXRNb3VzZVBvc2l0aW9uKGkscyksdGhpcy5zZWxlY3RpbmdNb2RlKXJldHVybiB0aGlzLl9zdGFydFNlbGVjdGluZyhvKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNoc3RhcnRzZWxlY3RpbmdcIixcInN0YXJ0c2VsZWN0aW5nXCJdLFtpXSksaS5wcmV2ZW50RGVmYXVsdCgpLGkuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludD10aGlzLm9wdGlvbnMucHJlY2lzaW9uLm1vdXNlLHRoaXMudG91Y2hlcy5sZW5ndGg+MDtpZigwIT09KG49dGhpcy5pbml0TW92ZU9iamVjdChvWzBdLG9bMV0saSxcInRvdWNoXCIpKS5sZW5ndGgpaWYobD1uW24ubGVuZ3RoLTFdLGY9e251bTpzLFg6YltzXS5zY3JlZW5YLFk6YltzXS5zY3JlZW5ZLFhwcmV2Ok5hTixZcHJldjpOYU4sWHN0YXJ0OltdLFlzdGFydDpbXSxac3RhcnQ6W119LGQuaXNQb2ludChsKXx8bC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19URVhUfHxsLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1RJQ0tTfHxsLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0lNQUdFKXU9W2ZdLHRoaXMuc2F2ZVN0YXJ0UG9zKGwsdVswXSksdGhpcy50b3VjaGVzLnB1c2goe29iajpsLHRhcmdldHM6dX0pLGwuaGlnaGxpZ2h0KCEwKTtlbHNlIGlmKGwuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORXx8bC5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DSVJDTEV8fGwuZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkV8fGwudHlwZT09PWUuT0JKRUNUX1RZUEVfUE9MWUdPTil7Zm9yKGM9ITEsYT0wO2E8dGhpcy50b3VjaGVzLmxlbmd0aDthKyspbC5pZD09PXRoaXMudG91Y2hlc1thXS5vYmouaWQmJihjPSEwLDE9PT10aGlzLnRvdWNoZXNbYV0udGFyZ2V0cy5sZW5ndGgmJih0aGlzLnNhdmVTdGFydFBvcyhsLGYpLHRoaXMudG91Y2hlc1thXS50YXJnZXRzLnB1c2goZikpLGJbc10uanhnX2lzdXNlZD0hMCk7Y3x8KHU9W2ZdLHRoaXMuc2F2ZVN0YXJ0UG9zKGwsdVswXSksdGhpcy50b3VjaGVzLnB1c2goe29iajpsLHRhcmdldHM6dX0pLGwuaGlnaGxpZ2h0KCEwKSl9YltzXS5qeGdfaXN1c2VkPSEwfXJldHVybiB0aGlzLnRvdWNoZXMubGVuZ3RoPjAmJihpLnByZXZlbnREZWZhdWx0KCksaS5zdG9wUHJvcGFnYXRpb24oKSksMT09PWIubGVuZ3RoJiZ0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTk9ORSYmdGhpcy50b3VjaFN0YXJ0TW92ZU9yaWdpbk9uZUZpbmdlcihpKXx8MiE9PWIubGVuZ3RofHx0aGlzLm1vZGUhPT10aGlzLkJPQVJEX01PREVfTk9ORSYmdGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX01PVkVfT1JJR0lOfHwodGhpcy5tb2RlPT09dGhpcy5CT0FSRF9NT0RFX01PVkVfT1JJR0lOJiZ0aGlzLm9yaWdpbk1vdmVFbmQoKSx0aGlzLmdlc3R1cmVTdGFydExpc3RlbmVyKGkpKSx0aGlzLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50PXRoaXMub3B0aW9ucy5wcmVjaXNpb24ubW91c2UsdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ0b3VjaHN0YXJ0XCIsXCJkb3duXCJdLFtpXSksITF9LHRvdWNoTW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGUpe3ZhciBpLHIscyxvLG49ZVt0LnRvdWNoUHJvcGVydHldO2lmKCF0aGlzLmNoZWNrRnJhbWVSYXRlKGUpKXJldHVybiExO2lmKHRoaXMubW9kZSE9PXRoaXMuQk9BUkRfTU9ERV9OT05FJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCkpLHRoaXMubW9kZSE9PXRoaXMuQk9BUkRfTU9ERV9EUkFHJiYodGhpcy5kZWhpZ2hsaWdodEFsbCgpLHRoaXMuZGlzcGxheUluZm9ib3goITEpKSx0aGlzLl9pbnB1dERldmljZT1cInRvdWNoXCIsdGhpcy5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludD10aGlzLm9wdGlvbnMucHJlY2lzaW9uLnRvdWNoLHRoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfTE9XLHRoaXMuc2VsZWN0aW5nTW9kZSl7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKylpZighbltpXS5qeGdfaXN1c2VkKXtyPXRoaXMuZ2V0TW91c2VQb3NpdGlvbihlLGkpLHRoaXMuX21vdmVTZWxlY3RpbmcociksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ0b3VjaG1vdmVzXCIsXCJtb3Zlc2VsZWN0aW5nXCJdLFtlLHRoaXMubW9kZV0pO2JyZWFrfX1lbHNlIGlmKCF0aGlzLnRvdWNoT3JpZ2luTW92ZShlKSlpZih0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfRFJBRyl7Zm9yKGk9MDtpPHRoaXMudG91Y2hlcy5sZW5ndGg7aSsrKWlmKDE9PT0obz10aGlzLnRvdWNoZXNbaV0udGFyZ2V0cykubGVuZ3RoKXtpZihuW29bMF0ubnVtXSl7aWYoKHI9dGhpcy5nZXRNb3VzZVBvc2l0aW9uKGUsb1swXS5udW0pKVswXTwwfHxyWzBdPnRoaXMuY2FudmFzV2lkdGh8fHJbMV08MHx8clsxXT50aGlzLmNhbnZhc0hlaWdodClyZXR1cm47b1swXS5YPXJbMF0sb1swXS5ZPXJbMV0sdGhpcy5tb3ZlT2JqZWN0KHJbMF0sclsxXSx0aGlzLnRvdWNoZXNbaV0sZSxcInRvdWNoXCIpfX1lbHNlIGlmKDI9PT1vLmxlbmd0aCYmb1swXS5udW0+LTEmJm9bMV0ubnVtPi0xJiZuW29bMF0ubnVtXSYmbltvWzFdLm51bV0pe2lmKHI9dGhpcy5nZXRNb3VzZVBvc2l0aW9uKGUsb1swXS5udW0pLHM9dGhpcy5nZXRNb3VzZVBvc2l0aW9uKGUsb1sxXS5udW0pLHJbMF08MHx8clswXT50aGlzLmNhbnZhc1dpZHRofHxyWzFdPDB8fHJbMV0+dGhpcy5jYW52YXNIZWlnaHR8fHNbMF08MHx8c1swXT50aGlzLmNhbnZhc1dpZHRofHxzWzFdPDB8fHNbMV0+dGhpcy5jYW52YXNIZWlnaHQpcmV0dXJuO29bMF0uWD1yWzBdLG9bMF0uWT1yWzFdLG9bMV0uWD1zWzBdLG9bMV0uWT1zWzFdLHRoaXMudHdvRmluZ2VyTW92ZSh0aGlzLnRvdWNoZXNbaV0sb1swXS5udW0sZSksdGhpcy50d29GaW5nZXJNb3ZlKHRoaXMudG91Y2hlc1tpXSxvWzFdLm51bSksb1swXS5YcHJldj1yWzBdLG9bMF0uWXByZXY9clsxXSxvWzFdLlhwcmV2PXNbMF0sb1sxXS5ZcHJldj1zWzFdfX1lbHNlIDI9PT1uLmxlbmd0aCYmdGhpcy5nZXN0dXJlQ2hhbmdlTGlzdGVuZXIoZSkscj10aGlzLmdldE1vdXNlUG9zaXRpb24oZSwwKSx0aGlzLmhpZ2hsaWdodEVsZW1lbnRzKHJbMF0sclsxXSxlLC0xKTtyZXR1cm4gdGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX0RSQUcmJnRoaXMuZGlzcGxheUluZm9ib3goITEpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2htb3ZlXCIsXCJtb3ZlXCJdLFtlLHRoaXMubW9kZV0pLHRoaXMub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQ9dGhpcy5vcHRpb25zLnByZWNpc2lvbi5tb3VzZSx0aGlzLnVwZGF0ZVF1YWxpdHk9dGhpcy5CT0FSRF9RVUFMSVRZX0hJR0gsdGhpcy5tb2RlPT09dGhpcy5CT0FSRF9NT0RFX05PTkV9LHRvdWNoRW5kTGlzdGVuZXI6ZnVuY3Rpb24oaSl7dmFyIHIscyxvLG4sYSxoLGw9dGhpcy5vcHRpb25zLnByZWNpc2lvbi50b3VjaCxjPVtdLHU9aSYmaVt0LnRvdWNoUHJvcGVydHldO2lmKHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1widG91Y2hlbmRcIixcInVwXCJdLFtpXSksdGhpcy5kaXNwbGF5SW5mb2JveCghMSksdGhpcy5zZWxlY3RpbmdNb2RlKXRoaXMuX3N0b3BTZWxlY3RpbmcoaSksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJ0b3VjaHN0b3BzZWxlY3RpbmdcIixcInN0b3BzZWxlY3RpbmdcIl0sW2ldKSx0aGlzLnN0b3BTZWxlY3Rpb25Nb2RlKCk7ZWxzZSBpZih1JiZ1Lmxlbmd0aD4wKXtmb3Iocj0wO3I8dGhpcy50b3VjaGVzLmxlbmd0aDtyKyspY1tyXT10aGlzLnRvdWNoZXNbcl07Zm9yKHRoaXMudG91Y2hlcy5sZW5ndGg9MCxyPTA7cjx1Lmxlbmd0aDtyKyspdVtyXS5qeGdfaXN1c2VkPSExO2ZvcihyPTA7cjxjLmxlbmd0aDtyKyspe2ZvcihuPSExLGE9MCxoPWNbcl0udGFyZ2V0cyxzPTA7czxoLmxlbmd0aDtzKyspZm9yKGhbc10uZm91bmQ9ITEsbz0wO288dS5sZW5ndGg7bysrKWlmKE1hdGguYWJzKE1hdGgucG93KHVbb10uc2NyZWVuWC1oW3NdLlgsMikrTWF0aC5wb3codVtvXS5zY3JlZW5ZLWhbc10uWSwyKSk8bCpsKXtoW3NdLmZvdW5kPSEwLGhbc10ubnVtPW8saFtzXS5YPXVbb10uc2NyZWVuWCxoW3NdLlk9dVtvXS5zY3JlZW5ZLGErPTE7YnJlYWt9aWYoZC5pc1BvaW50KGNbcl0ub2JqKT9uPWhbMF0mJmhbMF0uZm91bmQ6Y1tyXS5vYmouZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfTElORT9uPWhbMF0mJmhbMF0uZm91bmR8fGhbMV0mJmhbMV0uZm91bmQ6Y1tyXS5vYmouZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFJiYobj0xPT09YXx8Mz09PWEpLG4pZm9yKHRoaXMudG91Y2hlcy5wdXNoKHtvYmo6Y1tyXS5vYmosdGFyZ2V0czpbXX0pLHM9MDtzPGgubGVuZ3RoO3MrKyloW3NdLmZvdW5kJiZ0aGlzLnRvdWNoZXNbdGhpcy50b3VjaGVzLmxlbmd0aC0xXS50YXJnZXRzLnB1c2goe251bTpoW3NdLm51bSxYOmhbc10uc2NyZWVuWCxZOmhbc10uc2NyZWVuWSxYcHJldjpOYU4sWXByZXY6TmFOLFhzdGFydDpoW3NdLlhzdGFydCxZc3RhcnQ6aFtzXS5Zc3RhcnQsWnN0YXJ0Omhbc10uWnN0YXJ0fSk7ZWxzZSBjW3JdLm9iai5ub0hpZ2hsaWdodCgpfX1lbHNlIHRoaXMudG91Y2hlcy5sZW5ndGg9MDtmb3Iocj10aGlzLmRvd25PYmplY3RzLmxlbmd0aC0xO3I+LTE7ci0tKXtmb3Iobj0hMSxzPTA7czx0aGlzLnRvdWNoZXMubGVuZ3RoO3MrKyl0aGlzLnRvdWNoZXNbc10ub2JqLmlkPT09dGhpcy5kb3duT2JqZWN0c1tyXS5pZCYmKG49ITApO258fCh0aGlzLmRvd25PYmplY3RzW3JdLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInRvdWNodXBcIixcInVwXCJdLFtpXSksdGhpcy5kb3duT2JqZWN0cy5zcGxpY2UociwxKSl9cmV0dXJuIHUmJjAhPT11Lmxlbmd0aHx8KHRoaXMuaGFzVG91Y2hFbmQmJihwLnJlbW92ZUV2ZW50KHRoaXMuZG9jdW1lbnQsXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hFbmRMaXN0ZW5lcix0aGlzKSx0aGlzLmhhc1RvdWNoRW5kPSExKSx0aGlzLmRlaGlnaGxpZ2h0QWxsKCksdGhpcy51cGRhdGVRdWFsaXR5PXRoaXMuQk9BUkRfUVVBTElUWV9ISUdILHRoaXMub3JpZ2luTW92ZUVuZCgpLHRoaXMudXBkYXRlKCkpLCEwfSxtb3VzZURvd25MaXN0ZW5lcjpmdW5jdGlvbih0KXt2YXIgZSxpLHI7aWYodGhpcy5kb2N1bWVudC5zZWxlY3Rpb24mJmQuaXNGdW5jdGlvbih0aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSk/dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTp3aW5kb3cuZ2V0U2VsZWN0aW9uJiZ3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCksIXRoaXMuaGFzTW91c2VVcClyZXR1cm4gcC5hZGRFdmVudCh0aGlzLmRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMubW91c2VVcExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzTW91c2VVcD0hMCx0aGlzLl9pbnB1dERldmljZT1cIm1vdXNlXCIsdGhpcy5vcHRpb25zLnByZWNpc2lvbi5oYXNQb2ludD10aGlzLm9wdGlvbnMucHJlY2lzaW9uLm1vdXNlLGU9dGhpcy5nZXRNb3VzZVBvc2l0aW9uKHQpLHRoaXMuX3Rlc3RGb3JTZWxlY3Rpb24odCksdGhpcy5zZWxlY3RpbmdNb2RlPyh0aGlzLl9zdGFydFNlbGVjdGluZyhlKSx2b2lkIHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wibW91c2VzdGFydHNlbGVjdGluZ1wiLFwic3RhcnRzZWxlY3RpbmdcIl0sW3RdKSk6KDA9PT0oaT10aGlzLmluaXRNb3ZlT2JqZWN0KGVbMF0sZVsxXSx0LFwibW91c2VcIikpLmxlbmd0aD8odGhpcy5tb2RlPXRoaXMuQk9BUkRfTU9ERV9OT05FLHI9ITApOih0aGlzLm1vdXNlPXtvYmo6bnVsbCx0YXJnZXRzOlt7WDplWzBdLFk6ZVsxXSxYcHJldjpOYU4sWXByZXY6TmFOfV19LHRoaXMubW91c2Uub2JqPWlbaS5sZW5ndGgtMV0sdGhpcy5kZWhpZ2hsaWdodEFsbCgpLHRoaXMubW91c2Uub2JqLmhpZ2hsaWdodCghMCksdGhpcy5tb3VzZS50YXJnZXRzWzBdLlhzdGFydD1bXSx0aGlzLm1vdXNlLnRhcmdldHNbMF0uWXN0YXJ0PVtdLHRoaXMubW91c2UudGFyZ2V0c1swXS5ac3RhcnQ9W10sdGhpcy5zYXZlU3RhcnRQb3ModGhpcy5tb3VzZS5vYmosdGhpcy5tb3VzZS50YXJnZXRzWzBdKSx0JiZ0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp3aW5kb3cuZXZlbnQmJih3aW5kb3cuZXZlbnQucmV0dXJuVmFsdWU9ITEpKSx0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfTk9ORSYmKHI9dGhpcy5tb3VzZU9yaWdpbk1vdmVTdGFydCh0KSksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZWRvd25cIixcImRvd25cIl0sW3RdKSxyKX0sbW91c2VNb3ZlTGlzdGVuZXI6ZnVuY3Rpb24odCl7dmFyIGU7aWYoIXRoaXMuY2hlY2tGcmFtZVJhdGUodCkpcmV0dXJuITE7ZT10aGlzLmdldE1vdXNlUG9zaXRpb24odCksdGhpcy51cGRhdGVRdWFsaXR5PXRoaXMuQk9BUkRfUVVBTElUWV9MT1csdGhpcy5tb2RlIT09dGhpcy5CT0FSRF9NT0RFX0RSQUcmJih0aGlzLmRlaGlnaGxpZ2h0QWxsKCksdGhpcy5kaXNwbGF5SW5mb2JveCghMSkpLHRoaXMuc2VsZWN0aW5nTW9kZT8odGhpcy5fbW92ZVNlbGVjdGluZyhlKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNlbW92ZXNlbGVjdGluZ1wiLFwibW92ZXNlbGVjdGluZ1wiXSxbdCx0aGlzLm1vZGVdKSk6dGhpcy5tb3VzZU9yaWdpbk1vdmUodCl8fCh0aGlzLm1vZGU9PT10aGlzLkJPQVJEX01PREVfRFJBRz90aGlzLm1vdmVPYmplY3QoZVswXSxlWzFdLHRoaXMubW91c2UsdCxcIm1vdXNlXCIpOnRoaXMuaGlnaGxpZ2h0RWxlbWVudHMoZVswXSxlWzFdLHQsLTEpLHRoaXMudHJpZ2dlckV2ZW50SGFuZGxlcnMoW1wibW91c2Vtb3ZlXCIsXCJtb3ZlXCJdLFt0LHRoaXMubW9kZV0pKSx0aGlzLnVwZGF0ZVF1YWxpdHk9dGhpcy5CT0FSRF9RVUFMSVRZX0hJR0h9LG1vdXNlVXBMaXN0ZW5lcjpmdW5jdGlvbih0KXt2YXIgZTtpZighMT09PXRoaXMuc2VsZWN0aW5nTW9kZSYmdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZXVwXCIsXCJ1cFwiXSxbdF0pLHRoaXMudXBkYXRlUXVhbGl0eT10aGlzLkJPQVJEX1FVQUxJVFlfSElHSCx0aGlzLm9yaWdpbk1vdmVFbmQoKSx0aGlzLmRlaGlnaGxpZ2h0QWxsKCksdGhpcy51cGRhdGUoKSx0aGlzLnNlbGVjdGluZ01vZGUpdGhpcy5fc3RvcFNlbGVjdGluZyh0KSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNlc3RvcHNlbGVjdGluZ1wiLFwic3RvcHNlbGVjdGluZ1wiXSxbdF0pLHRoaXMuc3RvcFNlbGVjdGlvbk1vZGUoKTtlbHNlIGZvcihlPTA7ZTx0aGlzLmRvd25PYmplY3RzLmxlbmd0aDtlKyspdGhpcy5kb3duT2JqZWN0c1tlXS50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJtb3VzZXVwXCIsXCJ1cFwiXSxbdF0pO3RoaXMuZG93bk9iamVjdHMubGVuZ3RoPTAsdGhpcy5oYXNNb3VzZVVwJiYocC5yZW1vdmVFdmVudCh0aGlzLmRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMubW91c2VVcExpc3RlbmVyLHRoaXMpLHRoaXMuaGFzTW91c2VVcD0hMSksdGhpcy5tb3VzZT1udWxsfSxtb3VzZVdoZWVsTGlzdGVuZXI6ZnVuY3Rpb24odCl7aWYoIXRoaXMuYXR0ci56b29tLndoZWVsfHwhdGhpcy5faXNSZXF1aXJlZEtleVByZXNzZWQodCxcInpvb21cIikpcmV0dXJuITA7dmFyIHI9KHQ9dHx8d2luZG93LmV2ZW50KS5kZXRhaWw/LXQuZGV0YWlsOnQud2hlZWxEZWx0YS80MCxzPW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTix0aGlzLmdldE1vdXNlUG9zaXRpb24odCksdGhpcyk7cmV0dXJuIHI+MD90aGlzLnpvb21JbihzLnVzckNvb3Jkc1sxXSxzLnVzckNvb3Jkc1syXSk6dGhpcy56b29tT3V0KHMudXNyQ29vcmRzWzFdLHMudXNyQ29vcmRzWzJdKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcIm1vdXNld2hlZWxcIl0sW3RdKSx0LnByZXZlbnREZWZhdWx0KCksITF9LGtleURvd25MaXN0ZW5lcjpmdW5jdGlvbihpKXt2YXIgcixzLG8sbixhLGg9aS50YXJnZXQuaWQsbD0wLGM9MCx1PWQuZXZhbHVhdGUodGhpcy5hdHRyLmtleWJvYXJkLmR4KS90aGlzLnVuaXRYLHA9ZC5ldmFsdWF0ZSh0aGlzLmF0dHIua2V5Ym9hcmQuZHkpL3RoaXMudW5pdFksZj0hMSxtPSEwO3JldHVybiEoIXRoaXMuYXR0ci5rZXlib2FyZC5lbmFibGVkfHxcIlwiPT09aCkmJihyPWgucmVwbGFjZSh0aGlzLmNvbnRhaW5lck9iai5pZCtcIl9cIixcIlwiKSxzPXRoaXMuc2VsZWN0KHIpLGQuZXhpc3RzKHMuY29vcmRzKSYmKGE9cy5jb29yZHMudXNyQ29vcmRzLnNsaWNlKDEpKSwoZC5ldmFsdWF0ZSh0aGlzLmF0dHIua2V5Ym9hcmQucGFuc2hpZnQpfHxkLmV2YWx1YXRlKHRoaXMuYXR0ci5rZXlib2FyZC5wYW5jdHJsKSkmJihmPSEwKSxkLmV2YWx1YXRlKHRoaXMuYXR0ci5rZXlib2FyZC5wYW5zaGlmdCkmJmkuc2hpZnRLZXl8fGQuZXZhbHVhdGUodGhpcy5hdHRyLmtleWJvYXJkLnBhbmN0cmwpJiZpLmN0cmxLZXk/Mzg9PT1pLmtleUNvZGU/dGhpcy5jbGlja1VwQXJyb3coKTo0MD09PWkua2V5Q29kZT90aGlzLmNsaWNrRG93bkFycm93KCk6Mzc9PT1pLmtleUNvZGU/dGhpcy5jbGlja0xlZnRBcnJvdygpOjM5PT09aS5rZXlDb2RlP3RoaXMuY2xpY2tSaWdodEFycm93KCk6bT0hMTooZC5leGlzdHMocy52aXNQcm9wKSYmKGQuZXhpc3RzKHMudmlzUHJvcC5zbmFwdG9ncmlkKSYmcy52aXNQcm9wLnNuYXB0b2dyaWQmJmQuZXZhbHVhdGUocy52aXNQcm9wLnNuYXBzaXpleCkmJmQuZXZhbHVhdGUocy52aXNQcm9wLnNuYXBzaXpleSk/KGw9KG89cy5nZXRTbmFwU2l6ZXMoKSlbMF0sYz1vWzFdLHU9TWF0aC5tYXgobCx1KSxwPU1hdGgubWF4KGMscCkpOmQuZXhpc3RzKHMudmlzUHJvcC5hdHRyYWN0dG9ncmlkKSYmcy52aXNQcm9wLmF0dHJhY3R0b2dyaWQmJmQuZXZhbHVhdGUocy52aXNQcm9wLmF0dHJhY3RvcmRpc3RhbmNlKSYmZC5ldmFsdWF0ZShzLnZpc1Byb3AuYXR0cmFjdG9ydW5pdCkmJihjPWw9MS4xKmQuZXZhbHVhdGUocy52aXNQcm9wLmF0dHJhY3RvcmRpc3RhbmNlKSxcInNjcmVlblwiPT09ZC5ldmFsdWF0ZShzLnZpc1Byb3AuYXR0cmFjdG9ydW5pdCkmJihsLz10aGlzLnVuaXRYLGMvPXRoaXMudW5pdFgpLHU9TWF0aC5tYXgobCx1KSxwPU1hdGgubWF4KGMscCkpKSwzOD09PWkua2V5Q29kZT9uPVswLHBdOjQwPT09aS5rZXlDb2RlP249WzAsLXBdOjM3PT09aS5rZXlDb2RlP249Wy11LDBdOjM5PT09aS5rZXlDb2RlP249W3UsMF06ZiYmXCIrXCI9PT1pLmtleT90aGlzLnpvb21JbigpOmYmJlwiLVwiPT09aS5rZXk/dGhpcy56b29tT3V0KCk6ZiYmXCJvXCI9PT1pLmtleT90aGlzLnpvb20xMDAoKTptPSExLG4mJnMuaXNEcmFnZ2FibGUmJnMudmlzUHJvcENhbGMudmlzaWJsZSYmKHRoaXMuZ2VvbmV4dENvbXBhdGliaWxpdHlNb2RlJiYoZC5pc1BvaW50KHMpfHxzLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX1RFWFQpfHwhdGhpcy5nZW9uZXh0Q29tcGF0aWJpbGl0eU1vZGUpJiYhZC5ldmFsdWF0ZShzLnZpc1Byb3AuZml4ZWQpJiYoZC5leGlzdHMocy5jb29yZHMpJiYoblswXSs9YVswXSxuWzFdKz1hWzFdKSxzLnNldFBvc2l0aW9uKHQuQ09PUkRTX0JZX1VTRVIsbiksZC5leGlzdHMocy5jb29yZHMpJiZ0aGlzLnVwZGF0ZUluZm9ib3gocyksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJoaXRcIl0sW2ksc10pKSksdGhpcy51cGRhdGUoKSxtJiZkLmV4aXN0cyhpLnByZXZlbnREZWZhdWx0KSYmaS5wcmV2ZW50RGVmYXVsdCgpLCEwKX0sa2V5Rm9jdXNJbkxpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciBlLGkscj10LnRhcmdldC5pZDtpZighdGhpcy5hdHRyLmtleWJvYXJkLmVuYWJsZWR8fFwiXCI9PT1yKXJldHVybiExO2U9ci5yZXBsYWNlKHRoaXMuY29udGFpbmVyT2JqLmlkK1wiX1wiLFwiXCIpLGk9dGhpcy5zZWxlY3QoZSksZC5leGlzdHMoaS5oaWdobGlnaHQpJiZpLmhpZ2hsaWdodCghMCksZC5leGlzdHMoaS5jb29yZHMpJiZ0aGlzLnVwZGF0ZUluZm9ib3goaSksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJoaXRcIl0sW3QsaV0pfSxrZXlGb2N1c091dExpc3RlbmVyOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmF0dHIua2V5Ym9hcmQuZW5hYmxlZClyZXR1cm4hMTt0aGlzLmRlaGlnaGxpZ2h0QWxsKCksdGhpcy5kaXNwbGF5SW5mb2JveCghMSl9LHVwZGF0ZUNvbnRhaW5lckRpbXM6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscjt0PShpPXRoaXMuY29udGFpbmVyT2JqLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKS53aWR0aCxlPWkuaGVpZ2h0LHdpbmRvdyYmd2luZG93LmdldENvbXB1dGVkU3R5bGUmJihyPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuY29udGFpbmVyT2JqLG51bGwpLHQtPXBhcnNlRmxvYXQoci5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLWxlZnQtd2lkdGhcIikpK3BhcnNlRmxvYXQoci5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIpKSxlLT1wYXJzZUZsb2F0KHIuZ2V0UHJvcGVydHlWYWx1ZShcImJvcmRlci10b3Atd2lkdGhcIikpK3BhcnNlRmxvYXQoci5nZXRQcm9wZXJ0eVZhbHVlKFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiKSkpLHQ8PTB8fGU8PTB8fGQuaXNOYU4odCl8fGQuaXNOYU4oZSl8fChpc05hTih0aGlzLmdldEJvdW5kaW5nQm94KClbMF0pJiZ0aGlzLnNldEJvdW5kaW5nQm94KHRoaXMuYXR0ci5ib3VuZGluZ2JveCx0aGlzLmtlZXBhc3BlY3RyYXRpbyxcImtlZXBcIiksZC5leGlzdHModGhpcy5fcHJldkRpbSkmJnRoaXMuX3ByZXZEaW0udz09PXQmJnRoaXMuX3ByZXZEaW0uaD09PWV8fCh0aGlzLnJlc2l6ZUNvbnRhaW5lcih0LGUsITApLHRoaXMuX3ByZXZEaW09e3c6dCxoOmV9KSl9LHN0YXJ0UmVzaXplT2JzZXJ2ZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3AuaXNCcm93c2VyJiZ0aGlzLmF0dHIucmVzaXplJiZ0aGlzLmF0dHIucmVzaXplLmVuYWJsZWQmJih0aGlzLnJlc2l6ZU9ic2VydmVyPW5ldyBSZXNpemVPYnNlcnZlcigoZnVuY3Rpb24oZSl7dC5faXNSZXNpemluZ3x8KHQuX2lzUmVzaXppbmc9ITAsd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dHJ5e3QudXBkYXRlQ29udGFpbmVyRGltcygpfWNhdGNoKGUpe3Quc3RvcFJlc2l6ZU9ic2VydmVyKCl9ZmluYWxseXt0Ll9pc1Jlc2l6aW5nPSExfX0pLHQuYXR0ci5yZXNpemUudGhyb3R0bGUpKX0pKSx0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUodGhpcy5jb250YWluZXJPYmopKX0sc3RvcFJlc2l6ZU9ic2VydmVyOmZ1bmN0aW9uKCl7cC5pc0Jyb3dzZXImJnRoaXMuYXR0ci5yZXNpemUmJnRoaXMuYXR0ci5yZXNpemUuZW5hYmxlZCYmZC5leGlzdHModGhpcy5yZXNpemVPYnNlcnZlcikmJnRoaXMucmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMuY29udGFpbmVyT2JqKX0scmVzaXplTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3AuaXNCcm93c2VyJiZ0aGlzLmF0dHIucmVzaXplJiZ0aGlzLmF0dHIucmVzaXplLmVuYWJsZWQmJih0aGlzLl9pc1Njcm9sbGluZ3x8dGhpcy5faXNSZXNpemluZ3x8KHRoaXMuX2lzUmVzaXppbmc9ITAsd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC51cGRhdGVDb250YWluZXJEaW1zKCksdC5faXNSZXNpemluZz0hMX0pLHRoaXMuYXR0ci5yZXNpemUudGhyb3R0bGUpKSl9LHNjcm9sbExpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cC5pc0Jyb3dzZXImJih0aGlzLl9pc1Njcm9sbGluZ3x8KHRoaXMuX2lzU2Nyb2xsaW5nPSEwLHdpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe2UuX2lzU2Nyb2xsaW5nPSExfSksNjYpKSl9LHN0YXJ0SW50ZXJzZWN0aW9uT2JzZXJ2ZXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RyeXt0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyPW5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZnVuY3Rpb24oZSl7aXNOYU4odC5nZXRCb3VuZGluZ0JveCgpWzBdKSYmdC51cGRhdGVDb250YWluZXJEaW1zKCl9KSx7cm9vdDpudWxsLHJvb3RNYXJnaW46XCIwcHhcIix0aHJlc2hvbGQ6Ljh9KSx0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodC5jb250YWluZXJPYmopfWNhdGNoKHQpe2NvbnNvbGUubG9nKFwiSlNYR3JhcGg6IEludGVyc2VjdGlvbk9ic2VydmVyIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBicm93c2VyLlwiKX19LHN0b3BJbnRlcnNlY3Rpb25PYnNlcnZlcjpmdW5jdGlvbigpe2QuZXhpc3RzKHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIpJiZ0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLnVub2JzZXJ2ZSh0aGlzLmNvbnRhaW5lck9iail9LGluaXRJbmZvYm94OmZ1bmN0aW9uKCl7dmFyIHQ9ZC5jb3B5QXR0cmlidXRlcyh7fSx0aGlzLm9wdGlvbnMsXCJpbmZvYm94XCIpO3JldHVybiB0LmlkPXRoaXMuaWQrXCJfaW5mb2JveFwiLHRoaXMuaW5mb2JveD10aGlzLmNyZWF0ZShcInRleHRcIixbMCwwLFwiMCwwXCJdLHQpLHRoaXMuaW5mb2JveC5kaXN0YW5jZVg9LTIwLHRoaXMuaW5mb2JveC5kaXN0YW5jZVk9MjUsdGhpcy5pbmZvYm94LmR1bXA9ITEsdGhpcy5kaXNwbGF5SW5mb2JveCghMSksdGhpc30sdXBkYXRlSW5mb2JveDpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG49ZC5ldmFsdWF0ZSh0LnZpc1Byb3Auc2hvd2luZm9ib3gpO3JldHVybiFkLmV2YWx1YXRlKHRoaXMuYXR0ci5zaG93aW5mb2JveCkmJlwiaW5oZXJpdFwiPT09bnx8IW58fGQuaXNQb2ludCh0KSYmKHI9dC5jb29yZHMudXNyQ29vcmRzWzFdLHM9dC5jb29yZHMudXNyQ29vcmRzWzJdLG89ZC5ldmFsdWF0ZSh0LnZpc1Byb3AuaW5mb2JveGRpZ2l0cyksdGhpcy5pbmZvYm94LnNldENvb3JkcyhyK3RoaXMuaW5mb2JveC5kaXN0YW5jZVgvdGhpcy51bml0WCxzK3RoaXMuaW5mb2JveC5kaXN0YW5jZVkvdGhpcy51bml0WSksXCJzdHJpbmdcIiE9dHlwZW9mIHQuaW5mb2JveFRleHQ/KFwiYXV0b1wiPT09bz8oZT1kLmF1dG9EaWdpdHMociksaT1kLmF1dG9EaWdpdHMocykpOmQuaXNOdW1iZXIobyk/KGU9ZC50b0ZpeGVkKHIsbyksaT1kLnRvRml4ZWQocyxvKSk6KGU9cixpPXMpLHRoaXMuaGlnaGxpZ2h0SW5mb2JveChlLGksdCkpOnRoaXMuaGlnaGxpZ2h0Q3VzdG9tSW5mb2JveCh0LmluZm9ib3hUZXh0LHQpLHRoaXMuZGlzcGxheUluZm9ib3goITApKSx0aGlzfSxkaXNwbGF5SW5mb2JveDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbmZvYm94LmhpZGRlbkJ5UGFyZW50PT09dCYmKHRoaXMuaW5mb2JveC5oaWRkZW5CeVBhcmVudD0hdCx0aGlzLmluZm9ib3gucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkodCkudXBkYXRlUmVuZGVyZXIoKSksdGhpc30sc2hvd0luZm9ib3g6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGlzcGxheUluZm9ib3godCl9LGhpZ2hsaWdodEluZm9ib3g6ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0aGlzLmhpZ2hsaWdodEN1c3RvbUluZm9ib3goXCIoXCIrdCtcIiwgXCIrZStcIilcIixpKSx0aGlzfSxoaWdobGlnaHRDdXN0b21JbmZvYm94OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaW5mb2JveC5zZXRUZXh0KHQpLHRoaXN9LGRlaGlnaGxpZ2h0QWxsOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPSExO2Zvcih0IGluIHRoaXMuaGlnaGxpZ2h0ZWRPYmplY3RzKXRoaXMuaGlnaGxpZ2h0ZWRPYmplY3RzLmhhc093blByb3BlcnR5KHQpJiYoZT10aGlzLmhpZ2hsaWdodGVkT2JqZWN0c1t0XSwodGhpcy5oYXNNb3VzZUhhbmRsZXJzfHx0aGlzLmhhc1BvaW50ZXJIYW5kbGVycykmJmUubm9IaWdobGlnaHQoKSxpPSEwKTtyZXR1cm4gdGhpcy5oaWdobGlnaHRlZE9iamVjdHM9e30sXCJjYW52YXNcIj09PXRoaXMucmVuZGVyZXIudHlwZSYmaSYmKHRoaXMucHJlcGFyZVVwZGF0ZSgpLHRoaXMucmVuZGVyZXIuc3VzcGVuZFJlZHJhdyh0aGlzKSx0aGlzLnVwZGF0ZVJlbmRlcmVyKCksdGhpcy5yZW5kZXJlci51bnN1c3BlbmRSZWRyYXcoKSksdGhpc30sZ2V0U2NyQ29vcmRzT2ZNb3VzZTpmdW5jdGlvbih0LGUpe3JldHVyblt0LGVdfSxnZXRVc3JDb29yZHNPZk1vdXNlOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0Q29vcmRzVG9wTGVmdENvcm5lcigpLHM9cC5nZXRQb3NpdGlvbih0LG51bGwsdGhpcy5kb2N1bWVudCksbz1zWzBdLXJbMF0sbj1zWzFdLXJbMV07cmV0dXJuIG5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbbyxuXSx0aGlzKS51c3JDb29yZHMuc2xpY2UoMSl9LGdldEFsbFVuZGVyTW91c2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRBbGxPYmplY3RzVW5kZXJNb3VzZSh0KTtyZXR1cm4gZS5wdXNoKHRoaXMuZ2V0VXNyQ29vcmRzT2ZNb3VzZSh0KSksZX0sZ2V0QWxsT2JqZWN0c1VuZGVyTW91c2U6ZnVuY3Rpb24odCl7dmFyIGUsaSxyPXRoaXMuZ2V0Q29vcmRzVG9wTGVmdENvcm5lcigpLHM9cC5nZXRQb3NpdGlvbih0LG51bGwsdGhpcy5kb2N1bWVudCksbz1zWzBdLXJbMF0sbj1zWzFdLXJbMV0sYT1bXSxoPXRoaXMub2JqZWN0c0xpc3QubGVuZ3RoO2ZvcihlPTA7ZTxoO2UrKykoaT10aGlzLm9iamVjdHNMaXN0W2VdKS52aXNQcm9wQ2FsYy52aXNpYmxlJiZpLmhhc1BvaW50JiZpLmhhc1BvaW50KG8sbikmJihhW2EubGVuZ3RoXT1pKTtyZXR1cm4gYX0sdXBkYXRlQ29vcmRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMub2JqZWN0c0xpc3QubGVuZ3RoO2ZvcihlPTA7ZTxpO2UrKyl0PXRoaXMub2JqZWN0c0xpc3RbZV0sZC5leGlzdHModC5jb29yZHMpJiYoZC5ldmFsdWF0ZSh0LnZpc1Byb3AuZnJvemVuKT90LmNvb3Jkcy5zY3JlZW4ydXNyKCk6dC5jb29yZHMudXNyMnNjcmVlbigpKTtyZXR1cm4gdGhpc30sbW92ZU9yaWdpbjpmdW5jdGlvbih0LHIscyl7dmFyIG8sbixhLGg7cmV0dXJuIGQuZXhpc3RzKHQpJiZkLmV4aXN0cyhyKSYmKG89dGhpcy5vcmlnaW4uc2NyQ29vcmRzWzFdLG49dGhpcy5vcmlnaW4uc2NyQ29vcmRzWzJdLHRoaXMub3JpZ2luLnNjckNvb3Jkc1sxXT10LHRoaXMub3JpZ2luLnNjckNvb3Jkc1syXT1yLHMmJih0aGlzLm9yaWdpbi5zY3JDb29yZHNbMV0tPXRoaXMuZHJhZ19keCx0aGlzLm9yaWdpbi5zY3JDb29yZHNbMl0tPXRoaXMuZHJhZ19keSksYT1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sWzAsMF0sdGhpcykudXNyQ29vcmRzLGg9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFt0aGlzLmNhbnZhc1dpZHRoLHRoaXMuY2FudmFzSGVpZ2h0XSx0aGlzKS51c3JDb29yZHMsKGFbMV08dGhpcy5tYXhib3VuZGluZ2JveFswXXx8YVsyXT50aGlzLm1heGJvdW5kaW5nYm94WzFdfHxoWzFdPnRoaXMubWF4Ym91bmRpbmdib3hbMl18fGhbMl08dGhpcy5tYXhib3VuZGluZ2JveFszXSkmJih0aGlzLm9yaWdpbi5zY3JDb29yZHNbMV09byx0aGlzLm9yaWdpbi5zY3JDb29yZHNbMl09bikpLHRoaXMudXBkYXRlQ29vcmRzKCkuY2xlYXJUcmFjZXMoKS5mdWxsVXBkYXRlKCksdGhpcy50cmlnZ2VyRXZlbnRIYW5kbGVycyhbXCJib3VuZGluZ2JveFwiXSksdGhpc30sYWRkQ29uZGl0aW9uczpmdW5jdGlvbihpKXt2YXIgcixzLG8sbixhLGgsbCx1PVtdLHA9aS5pbmRleE9mKFwiPGRhdGE+XCIpLGY9aS5pbmRleE9mKFwiPC9kYXRhPlwiKSxtPWZ1bmN0aW9uKHQsaSxyLHMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBvLG47bj0obz10LnNlbGVjdChpLmlkKSkuY29vcmRzLnVzckNvb3Jkc1tzXSwyPT09cz9vLnNldFBvc2l0aW9uRGlyZWN0bHkoZS5DT09SRFNfQllfVVNFUixbcigpLG5dKTpvLnNldFBvc2l0aW9uRGlyZWN0bHkoZS5DT09SRFNfQllfVVNFUixbbixyKCldKSxvLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKX19LGc9ZnVuY3Rpb24odCxlLGkpe3JldHVybiBmdW5jdGlvbigpe3ZhciByLHM7cj10LnNlbGVjdChlLmlkKSxzPWkoKSxyLnNldEF0dHJpYnV0ZSh7dmlzaWJsZTpzfSl9fSxiPWZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBzLG87cz10LnNlbGVjdChlLmlkKSxvPWkoKSxcInN0cm9rZXdpZHRoXCI9PT1yP3MudmlzUHJvcC5zdHJva2V3aWR0aD1vOihvPWMucmdiYTJyZ2JvKG8pLHMudmlzUHJvcFtyK1wiY29sb3JcIl09b1swXSxzLnZpc1Byb3BbcitcIm9wYWNpdHlcIl09b1sxXSl9fSx2PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZnVuY3Rpb24oKXt0LnNlbGVjdChlLmlkKS5wb3NpdGlvbj1pKCl9fSx5PWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZnVuY3Rpb24oKXt0LnNlbGVjdChlLmlkKS5zZXRTdHlsZShpKCkpfX07aWYoIShwPDApKXtmb3IoO3A+PTA7KXtpZihzPShyPWkuc2xpY2UocCs2LGYpKS5pbmRleE9mKFwiPVwiKSxvPXIuc2xpY2UoMCxzKSxuPXIuc2xpY2UocysxKSxzPW8uaW5kZXhPZihcIi5cIiksYT1vLnNsaWNlKDAscyksaD10aGlzLmVsZW1lbnRzQnlOYW1lW2QudW5lc2NhcGVIVE1MKGEpXSxsPW8uc2xpY2UocysxKS5yZXBsYWNlKC9cXHMrL2csXCJcIikudG9Mb3dlckNhc2UoKSxuPWQuY3JlYXRlRnVuY3Rpb24obix0aGlzLFwiXCIsITApLGQuZXhpc3RzKHRoaXMuZWxlbWVudHNCeU5hbWVbYV0pKXN3aXRjaChsKXtjYXNlXCJ4XCI6dS5wdXNoKG0odGhpcyxoLG4sMikpO2JyZWFrO2Nhc2VcInlcIjp1LnB1c2gobSh0aGlzLGgsbiwxKSk7YnJlYWs7Y2FzZVwidmlzaWJsZVwiOnUucHVzaChnKHRoaXMsaCxuKSk7YnJlYWs7Y2FzZVwicG9zaXRpb25cIjp1LnB1c2godih0aGlzLGgsbikpO2JyZWFrO2Nhc2VcInN0cm9rZVwiOnUucHVzaChiKHRoaXMsaCxuLFwic3Ryb2tlXCIpKTticmVhaztjYXNlXCJzdHlsZVwiOnUucHVzaCh5KHRoaXMsaCxuKSk7YnJlYWs7Y2FzZVwic3Ryb2tld2lkdGhcIjp1LnB1c2goYih0aGlzLGgsbixcInN0cm9rZXdpZHRoXCIpKTticmVhaztjYXNlXCJmaWxsXCI6dS5wdXNoKGIodGhpcyxoLG4sXCJmaWxsXCIpKTticmVhaztjYXNlXCJsYWJlbFwiOmJyZWFrO2RlZmF1bHQ6dC5kZWJ1ZyhcInByb3BlcnR5ICdcIitsK1wiJyBpbiBjb25kaXRpb25zIG5vdCB5ZXQgaW1wbGVtZW50ZWQ6XCIrbil9ZWxzZSB0LmRlYnVnKFwiZGVidWcgY29uZGl0aW9uczogfFwiK2ErXCJ8IHVuZGVmaW5lZFwiKTtwPShpPWkuc2xpY2UoZis3KSkuaW5kZXhPZihcIjxkYXRhPlwiKSxmPWkuaW5kZXhPZihcIjwvZGF0YT5cIil9dGhpcy51cGRhdGVDb25kaXRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQ9MDt0PHUubGVuZ3RoO3QrKyl1W3RdKCk7cmV0dXJuIHRoaXMucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZUVsZW1lbnRzKCksITB9LHRoaXMudXBkYXRlQ29uZGl0aW9ucygpfX0sdXBkYXRlQ29uZGl0aW9uczpmdW5jdGlvbigpe3JldHVybiExfSxjYWxjdWxhdGVTbmFwU2l6ZXM6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFswLDBdLHRoaXMpLHI9bmV3IGkoZS5DT09SRFNfQllfVVNFUixbdGhpcy5vcHRpb25zLmdyaWQuZ3JpZFgsdGhpcy5vcHRpb25zLmdyaWQuZ3JpZFldLHRoaXMpLHM9dC5zY3JDb29yZHNbMV0tci5zY3JDb29yZHNbMV0sbz10LnNjckNvb3Jkc1syXS1yLnNjckNvb3Jkc1syXTtmb3IodGhpcy5vcHRpb25zLmdyaWQuc25hcFNpemVYPXRoaXMub3B0aW9ucy5ncmlkLmdyaWRYO01hdGguYWJzKHMpPjI1Oyl0aGlzLm9wdGlvbnMuZ3JpZC5zbmFwU2l6ZVgqPTIscy89Mjtmb3IodGhpcy5vcHRpb25zLmdyaWQuc25hcFNpemVZPXRoaXMub3B0aW9ucy5ncmlkLmdyaWRZO01hdGguYWJzKG8pPjI1Oyl0aGlzLm9wdGlvbnMuZ3JpZC5zbmFwU2l6ZVkqPTIsby89MjtyZXR1cm4gdGhpc30sYXBwbHlab29tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXBkYXRlQ29vcmRzKCkuY2FsY3VsYXRlU25hcFNpemVzKCkuY2xlYXJUcmFjZXMoKS5mdWxsVXBkYXRlKCksdGhpc30sem9vbUluOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRCb3VuZGluZ0JveCgpLHI9dGhpcy5hdHRyLnpvb20uZmFjdG9yeCxzPXRoaXMuYXR0ci56b29tLmZhY3Rvcnksbz0oaVsyXS1pWzBdKSooMS0xL3IpLG49KGlbMV0taVszXSkqKDEtMS9zKSxhPS41LGg9LjUsbD10aGlzLmF0dHIuem9vbS5lcHN8fHRoaXMuYXR0ci56b29tLm1pbnx8LjAwMTtyZXR1cm4gdGhpcy56b29tWD50aGlzLmF0dHIuem9vbS5tYXgmJnI+MXx8dGhpcy56b29tWT50aGlzLmF0dHIuem9vbS5tYXgmJnM+MXx8dGhpcy56b29tWDxsJiZyPDF8fHRoaXMuem9vbVk8bCYmczwxP3RoaXM6KGQuaXNOdW1iZXIodCkmJmQuaXNOdW1iZXIoZSkmJihhPSh0LWlbMF0pLyhpWzJdLWlbMF0pLGg9KGlbMV0tZSkvKGlbMV0taVszXSkpLHRoaXMuc2V0Qm91bmRpbmdCb3goW2lbMF0rbyphLGlbMV0tbipoLGlbMl0tbyooMS1hKSxpWzNdK24qKDEtaCldLHRoaXMua2VlcGFzcGVjdHJhdGlvLFwidXBkYXRlXCIpLHRoaXMuYXBwbHlab29tKCkpfSx6b29tT3V0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRCb3VuZGluZ0JveCgpLHI9dGhpcy5hdHRyLnpvb20uZmFjdG9yeCxzPXRoaXMuYXR0ci56b29tLmZhY3Rvcnksbz0oaVsyXS1pWzBdKSooMS1yKSxuPShpWzFdLWlbM10pKigxLXMpLGE9LjUsaD0uNSxsPXRoaXMuYXR0ci56b29tLmVwc3x8dGhpcy5hdHRyLnpvb20ubWlufHwuMDAxO3JldHVybiB0aGlzLnpvb21YPGx8fHRoaXMuem9vbVk8bD90aGlzOihkLmlzTnVtYmVyKHQpJiZkLmlzTnVtYmVyKGUpJiYoYT0odC1pWzBdKS8oaVsyXS1pWzBdKSxoPShpWzFdLWUpLyhpWzFdLWlbM10pKSx0aGlzLnNldEJvdW5kaW5nQm94KFtpWzBdK28qYSxpWzFdLW4qaCxpWzJdLW8qKDEtYSksaVszXStuKigxLWgpXSx0aGlzLmtlZXBhc3BlY3RyYXRpbyxcInVwZGF0ZVwiKSx0aGlzLmFwcGx5Wm9vbSgpKX0sem9vbTEwMDpmdW5jdGlvbigpe3ZhciB0LGUsaTtyZXR1cm4gZC5leGlzdHModGhpcy5hdHRyLmJvdW5kaW5nYm94KT90aGlzLnNldEJvdW5kaW5nQm94KHRoaXMuYXR0ci5ib3VuZGluZ2JveCx0aGlzLmtlZXBhc3BlY3RyYXRpbyxcInJlc2V0XCIpOihlPSgodD10aGlzLmdldEJvdW5kaW5nQm94KCkpWzJdLXRbMF0pKigxLXRoaXMuem9vbVgpKi41LGk9KHRbMV0tdFszXSkqKDEtdGhpcy56b29tWSkqLjUsdGhpcy5zZXRCb3VuZGluZ0JveChbdFswXStlLHRbMV0taSx0WzJdLWUsdFszXStpXSx0aGlzLmtlZXBhc3BlY3RyYXRpbyxcInJlc2V0XCIpKSx0aGlzLmFwcGx5Wm9vbSgpfSx6b29tQWxsUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscz0wLG89MCxuPTAsYT0wLGg9dGhpcy5vYmplY3RzTGlzdC5sZW5ndGg7Zm9yKHQ9MDt0PGg7dCsrKXI9dGhpcy5vYmplY3RzTGlzdFt0XSxkLmlzUG9pbnQocikmJnIudmlzUHJvcENhbGMudmlzaWJsZSYmKHIuY29vcmRzLnVzckNvb3Jkc1sxXTxzP3M9ci5jb29yZHMudXNyQ29vcmRzWzFdOnIuY29vcmRzLnVzckNvb3Jkc1sxXT5vJiYobz1yLmNvb3Jkcy51c3JDb29yZHNbMV0pLHIuY29vcmRzLnVzckNvb3Jkc1syXT5hP2E9ci5jb29yZHMudXNyQ29vcmRzWzJdOnIuY29vcmRzLnVzckNvb3Jkc1syXTxuJiYobj1yLmNvb3Jkcy51c3JDb29yZHNbMl0pKTtyZXR1cm4gNTAsZT01MC90aGlzLnVuaXRYLGk9NTAvdGhpcy51bml0WSx0aGlzLnNldEJvdW5kaW5nQm94KFtzLWUsYStpLG8rZSxuLWldLHRoaXMua2VlcGFzcGVjdHJhdGlvLFwidXBkYXRlXCIpLHRoaXMuYXBwbHlab29tKCl9LHpvb21FbGVtZW50czpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG4sYSxoPVsxLzAsLTEvMCwtMS8wLDEvMF07aWYoIWQuaXNBcnJheSh0KXx8MD09PXQubGVuZ3RoKXJldHVybiB0aGlzO2ZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspaT10aGlzLnNlbGVjdCh0W2VdKS5ib3VuZHMoKSxkLmlzQXJyYXkoaSkmJihpWzBdPGhbMF0mJihoWzBdPWlbMF0pLGlbMV0+aFsxXSYmKGhbMV09aVsxXSksaVsyXT5oWzJdJiYoaFsyXT1pWzJdKSxpWzNdPGhbM10mJihoWzNdPWlbM10pKTtyZXR1cm4gZC5pc0FycmF5KGgpJiYocj0uNSooaFswXStoWzJdKSxzPS41KihoWzFdK2hbM10pLG89MS41KihoWzJdLWhbMF0pKi41LG49MS41KihoWzFdLWhbM10pKi41LGE9TWF0aC5tYXgobyxuKSx0aGlzLnNldEJvdW5kaW5nQm94KFtyLWEscythLHIrYSxzLWFdLHRoaXMua2VlcGFzcGVjdHJhdGlvLFwidXBkYXRlXCIpKSx0aGlzfSxzZXRab29tOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5hdHRyLnpvb20uZmFjdG9yeCxyPXRoaXMuYXR0ci56b29tLmZhY3Rvcnk7cmV0dXJuIHRoaXMuYXR0ci56b29tLmZhY3Rvcng9dC90aGlzLnpvb21YLHRoaXMuYXR0ci56b29tLmZhY3Rvcnk9ZS90aGlzLnpvb21ZLHRoaXMuem9vbUluKCksdGhpcy5hdHRyLnpvb20uZmFjdG9yeD1pLHRoaXMuYXR0ci56b29tLmZhY3Rvcnk9cix0aGlzfSxyZW1vdmVPYmplY3Q6ZnVuY3Rpb24oaSxyKXt2YXIgcyxvO2lmKGQuaXNBcnJheShpKSl7Zm9yKG89MDtvPGkubGVuZ3RoO28rKyl0aGlzLnJlbW92ZU9iamVjdChpW29dKTtyZXR1cm4gdGhpc31pZihpPXRoaXMuc2VsZWN0KGkpLCFkLmV4aXN0cyhpKXx8ZC5pc1N0cmluZyhpKSlyZXR1cm4gdGhpczt0cnl7Zm9yKHMgaW4gaS5jaGlsZEVsZW1lbnRzKWkuY2hpbGRFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShzKSYmaS5jaGlsZEVsZW1lbnRzW3NdLmJvYXJkLnJlbW92ZU9iamVjdChpLmNoaWxkRWxlbWVudHNbc10pO2ZvcihzIGluIGkub2JqZWN0cylpLm9iamVjdHMuaGFzT3duUHJvcGVydHkocykmJmkub2JqZWN0c1tzXS5ib2FyZC5yZW1vdmVPYmplY3QoaS5vYmplY3RzW3NdKTtpZihyKWZvcihzIGluIHRoaXMub2JqZWN0cyl0aGlzLm9iamVjdHMuaGFzT3duUHJvcGVydHkocykmJmQuZXhpc3RzKHRoaXMub2JqZWN0c1tzXS5jaGlsZEVsZW1lbnRzKSYmZC5leGlzdHModGhpcy5vYmplY3RzW3NdLmNoaWxkRWxlbWVudHMuaGFzT3duUHJvcGVydHkoaS5pZCkpJiYoZGVsZXRlIHRoaXMub2JqZWN0c1tzXS5jaGlsZEVsZW1lbnRzW2kuaWRdLGRlbGV0ZSB0aGlzLm9iamVjdHNbc10uZGVzY2VuZGFudHNbaS5pZF0pO2Vsc2UgaWYoZC5leGlzdHMoaS5hbmNlc3RvcnMpKWZvcihzIGluIGkuYW5jZXN0b3JzKWkuYW5jZXN0b3JzLmhhc093blByb3BlcnR5KHMpJiZkLmV4aXN0cyhpLmFuY2VzdG9yc1tzXS5jaGlsZEVsZW1lbnRzKSYmZC5leGlzdHMoaS5hbmNlc3RvcnNbc10uY2hpbGRFbGVtZW50cy5oYXNPd25Qcm9wZXJ0eShpLmlkKSkmJihkZWxldGUgaS5hbmNlc3RvcnNbc10uY2hpbGRFbGVtZW50c1tpLmlkXSxkZWxldGUgaS5hbmNlc3RvcnNbc10uZGVzY2VuZGFudHNbaS5pZF0pO2lmKGkuX3Bvcz4tMSlmb3IodGhpcy5vYmplY3RzTGlzdC5zcGxpY2UoaS5fcG9zLDEpLHM9aS5fcG9zO3M8dGhpcy5vYmplY3RzTGlzdC5sZW5ndGg7cysrKXRoaXMub2JqZWN0c0xpc3Rbc10uX3Bvcy0tO2Vsc2UgaS50eXBlIT09ZS5PQkpFQ1RfVFlQRV9UVVJUTEUmJnQuZGVidWcoXCJCb2FyZC5yZW1vdmVPYmplY3Q6IG9iamVjdCBcIitpLmlkK1wiIG5vdCBmb3VuZCBpbiBsaXN0LlwiKTtkZWxldGUgdGhpcy5vYmplY3RzW2kuaWRdLGRlbGV0ZSB0aGlzLmVsZW1lbnRzQnlOYW1lW2kubmFtZV0saS52aXNQcm9wJiZkLmV2YWx1YXRlKGkudmlzUHJvcC50cmFjZSkmJmkuY2xlYXJUcmFjZSgpLGQuZXhpc3RzKGkucmVtb3ZlKSYmaS5yZW1vdmUoKX1jYXRjaChlKXt0LmRlYnVnKGkuaWQrXCI6IENvdWxkIG5vdCBiZSByZW1vdmVkOiBcIitlKX1yZXR1cm4gdGhpcy51cGRhdGUoKSx0aGlzfSxyZW1vdmVBbmNlc3RvcnM6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdC5hbmNlc3RvcnMpdC5hbmNlc3RvcnMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMucmVtb3ZlQW5jZXN0b3JzKHQuYW5jZXN0b3JzW2VdKTtyZXR1cm4gdGhpcy5yZW1vdmVPYmplY3QodCksdGhpc30saW5pdEdlb25leHRCb2FyZDpmdW5jdGlvbigpe3ZhciB0LGUsaTtyZXR1cm4gdD10aGlzLmNyZWF0ZShcInBvaW50XCIsWzAsMF0se2lkOnRoaXMuaWQrXCJnMDBlMFwiLG5hbWU6XCJVcnNwcnVuZ1wiLHdpdGhMYWJlbDohMSx2aXNpYmxlOiExLGZpeGVkOiEwfSksZT10aGlzLmNyZWF0ZShcInBvaW50XCIsWzEsMF0se2lkOnRoaXMuaWQrXCJnWDBlMFwiLG5hbWU6XCJQdW5rdF8xXzBcIix3aXRoTGFiZWw6ITEsdmlzaWJsZTohMSxmaXhlZDohMH0pLGk9dGhpcy5jcmVhdGUoXCJwb2ludFwiLFswLDFdLHtpZDp0aGlzLmlkK1wiZ1kwZTBcIixuYW1lOlwiUHVua3RfMF8xXCIsd2l0aExhYmVsOiExLHZpc2libGU6ITEsZml4ZWQ6ITB9KSx0aGlzLmNyZWF0ZShcImxpbmVcIixbdCxlXSx7aWQ6dGhpcy5pZCtcImdYTGUwXCIsbmFtZTpcIlgtQWNoc2VcIix3aXRoTGFiZWw6ITEsdmlzaWJsZTohMX0pLHRoaXMuY3JlYXRlKFwibGluZVwiLFt0LGldLHtpZDp0aGlzLmlkK1wiZ1lMZTBcIixuYW1lOlwiWS1BY2hzZVwiLHdpdGhMYWJlbDohMSx2aXNpYmxlOiExfSksdGhpc30scmVzaXplQ29udGFpbmVyOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzO3JldHVybiByfHwocz10aGlzLmdldEJvdW5kaW5nQm94KCkpLHRoaXMuY2FudmFzV2lkdGg9cGFyc2VGbG9hdCh0KSx0aGlzLmNhbnZhc0hlaWdodD1wYXJzZUZsb2F0KGUpLGl8fCh0aGlzLmNvbnRhaW5lck9iai5zdHlsZS53aWR0aD10aGlzLmNhbnZhc1dpZHRoK1wicHhcIix0aGlzLmNvbnRhaW5lck9iai5zdHlsZS5oZWlnaHQ9dGhpcy5jYW52YXNIZWlnaHQrXCJweFwiKSx0aGlzLnJlbmRlcmVyLnJlc2l6ZSh0aGlzLmNhbnZhc1dpZHRoLHRoaXMuY2FudmFzSGVpZ2h0KSxyfHx0aGlzLnNldEJvdW5kaW5nQm94KHMsdGhpcy5rZWVwYXNwZWN0cmF0aW8sXCJrZWVwXCIpLHRoaXN9LHNob3dEZXBlbmRlbmNpZXM6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzO2Zvcih0IGluIGU9XCI8cD5cXG5cIix0aGlzLm9iamVjdHMpaWYodGhpcy5vYmplY3RzLmhhc093blByb3BlcnR5KHQpKXtmb3IoaSBpbiBzPTAsdGhpcy5vYmplY3RzW3RdLmNoaWxkRWxlbWVudHMpdGhpcy5vYmplY3RzW3RdLmNoaWxkRWxlbWVudHMuaGFzT3duUHJvcGVydHkoaSkmJihzKz0xKTtmb3IoaSBpbiBzPj0wJiYoZSs9XCI8c3Ryb25nPlwiK3RoaXMub2JqZWN0c1t0XS5pZCtcIjo8L3N0cm9uZz4gXCIpLHRoaXMub2JqZWN0c1t0XS5jaGlsZEVsZW1lbnRzKXRoaXMub2JqZWN0c1t0XS5jaGlsZEVsZW1lbnRzLmhhc093blByb3BlcnR5KGkpJiYoZSs9dGhpcy5vYmplY3RzW3RdLmNoaWxkRWxlbWVudHNbaV0uaWQrXCIoXCIrdGhpcy5vYmplY3RzW3RdLmNoaWxkRWxlbWVudHNbaV0ubmFtZStcIiksIFwiKTtlKz1cIjxwPlxcblwifXJldHVybiBlKz1cIjwvcD5cXG5cIiwocj13aW5kb3cub3BlbigpKS5kb2N1bWVudC5vcGVuKCksci5kb2N1bWVudC53cml0ZShlKSxyLmRvY3VtZW50LmNsb3NlKCksdGhpc30sc2hvd1hNTDpmdW5jdGlvbigpe3ZhciB0PXdpbmRvdy5vcGVuKFwiXCIpO3JldHVybiB0LmRvY3VtZW50Lm9wZW4oKSx0LmRvY3VtZW50LndyaXRlKFwiPHByZT5cIitkLmVzY2FwZUhUTUwodGhpcy54bWxTdHJpbmcpK1wiPC9wcmU+XCIpLHQuZG9jdW1lbnQuY2xvc2UoKSx0aGlzfSxwcmVwYXJlVXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMub2JqZWN0c0xpc3QubGVuZ3RoO2Zvcih0PTA7dDxpO3QrKykoZT10aGlzLm9iamVjdHNMaXN0W3RdKS5uZWVkc1VwZGF0ZT1lLm5lZWRzUmVndWxhclVwZGF0ZXx8dGhpcy5uZWVkc0Z1bGxVcGRhdGU7Zm9yKHQgaW4gdGhpcy5ncm91cHMpdGhpcy5ncm91cHMuaGFzT3duUHJvcGVydHkodCkmJigoZT10aGlzLmdyb3Vwc1t0XSkubmVlZHNVcGRhdGU9ZS5uZWVkc1JlZ3VsYXJVcGRhdGV8fHRoaXMubmVlZHNGdWxsVXBkYXRlKTtyZXR1cm4gdGhpc30sdXBkYXRlRWxlbWVudHM6ZnVuY3Rpb24odCl7dmFyIGkscjtmb3IodD10aGlzLnNlbGVjdCh0KSxpPTA7aTx0aGlzLm9iamVjdHNMaXN0Lmxlbmd0aDtpKyspcj10aGlzLm9iamVjdHNMaXN0W2ldLHRoaXMubmVlZHNGdWxsVXBkYXRlJiZyLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX1RFWFQmJnIudXBkYXRlU2l6ZSgpLHIudXBkYXRlKCFkLmV4aXN0cyh0KXx8ci5pZCE9PXQuaWQpLnVwZGF0ZVZpc2liaWxpdHkoKTtmb3IoaSBpbiB0aGlzLmdyb3Vwcyl0aGlzLmdyb3Vwcy5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpcy5ncm91cHNbaV0udXBkYXRlKHQpO3JldHVybiB0aGlzfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5vYmplY3RzTGlzdC5sZW5ndGg7aWYoXCJjYW52YXNcIj09PXRoaXMucmVuZGVyZXIudHlwZSl0aGlzLnVwZGF0ZVJlbmRlcmVyQ2FudmFzKCk7ZWxzZSBmb3IodD0wO3Q8ZTt0KyspdGhpcy5vYmplY3RzTGlzdFt0XS51cGRhdGVSZW5kZXJlcigpO3JldHVybiB0aGlzfSx1cGRhdGVSZW5kZXJlckNhbnZhczpmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbz10aGlzLm9iamVjdHNMaXN0Lmxlbmd0aCxuPXRoaXMub3B0aW9ucy5sYXllcixhPXRoaXMub3B0aW9ucy5sYXllci5udW1sYXllcnMsaD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7Zm9yKGk9MDtpPGE7aSsrKXtmb3IocyBpbiByPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxuKW4uaGFzT3duUHJvcGVydHkocykmJm5bc10+aCYmbltzXTxyJiYocj1uW3NdKTtmb3IoaD1yLHQ9MDt0PG87dCsrKShlPXRoaXMub2JqZWN0c0xpc3RbdF0pLnZpc1Byb3AubGF5ZXI9PT1yJiZlLnByZXBhcmVVcGRhdGUoKS51cGRhdGVSZW5kZXJlcigpfXJldHVybiB0aGlzfSxhZGRIb29rOmZ1bmN0aW9uKGUsaSxyKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiQm9hcmQuYWRkSG9vaygpXCIsXCJCb2FyZC5vbigpXCIpLGk9ZC5kZWYoaSxcInVwZGF0ZVwiKSxyPWQuZGVmKHIsdGhpcyksdGhpcy5ob29rcy5wdXNoKFtpLGVdKSx0aGlzLm9uKGksZSxyKSx0aGlzLmhvb2tzLmxlbmd0aC0xfSxhZGRFdmVudDp0LnNob3J0Y3V0KHQuQm9hcmQucHJvdG90eXBlLFwib25cIikscmVtb3ZlSG9vazpmdW5jdGlvbihlKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiQm9hcmQucmVtb3ZlSG9vaygpXCIsXCJCb2FyZC5vZmYoKVwiKSx0aGlzLmhvb2tzW2VdJiYodGhpcy5vZmYodGhpcy5ob29rc1tlXVswXSx0aGlzLmhvb2tzW2VdWzFdKSx0aGlzLmhvb2tzW2VdPW51bGwpLHRoaXN9LHJlbW92ZUV2ZW50OnQuc2hvcnRjdXQodC5Cb2FyZC5wcm90b3R5cGUsXCJvZmZcIiksdXBkYXRlSG9va3M6ZnVuY3Rpb24oZSl7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB0LmRlcHJlY2F0ZWQoXCJCb2FyZC51cGRhdGVIb29rcygpXCIsXCJCb2FyZC50cmlnZ2VyRXZlbnRIYW5kbGVycygpXCIpLGlbMF09ZC5kZWYoaVswXSxcInVwZGF0ZVwiKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtpWzBdXSxhcmd1bWVudHMpLHRoaXN9LGFkZENoaWxkOmZ1bmN0aW9uKHQpe3JldHVybiBkLmV4aXN0cyh0KSYmZC5leGlzdHModC5jb250YWluZXJPYmopJiYodGhpcy5kZXBlbmRlbnRCb2FyZHMucHVzaCh0KSx0aGlzLnVwZGF0ZSgpKSx0aGlzfSxyZW1vdmVDaGlsZDpmdW5jdGlvbih0KXt2YXIgZTtmb3IoZT10aGlzLmRlcGVuZGVudEJvYXJkcy5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLmRlcGVuZGVudEJvYXJkc1tlXT09PXQmJnRoaXMuZGVwZW5kZW50Qm9hcmRzLnNwbGljZShlLDEpO3JldHVybiB0aGlzfSx1cGRhdGU6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbztpZih0aGlzLmluVXBkYXRlfHx0aGlzLmlzU3VzcGVuZGVkVXBkYXRlKXJldHVybiB0aGlzO2Zvcih0aGlzLmluVXBkYXRlPSEwLFwiYWxsXCI9PT10aGlzLmF0dHIubWluaW1pemVyZWZsb3cmJnRoaXMuY29udGFpbmVyT2JqJiZcInZtbFwiIT09dGhpcy5yZW5kZXJlci50eXBlJiYobz10aGlzLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQscz10aGlzLnJlbmRlcmVyLnJlbW92ZVRvSW5zZXJ0TGF0ZXIodGhpcy5jb250YWluZXJPYmopKSxcInN2Z1wiPT09dGhpcy5hdHRyLm1pbmltaXplcmVmbG93JiZcInN2Z1wiPT09dGhpcy5yZW5kZXJlci50eXBlJiYobz10aGlzLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQscz10aGlzLnJlbmRlcmVyLnJlbW92ZVRvSW5zZXJ0TGF0ZXIodGhpcy5yZW5kZXJlci5zdmdSb290KSksdGhpcy5wcmVwYXJlVXBkYXRlKCkudXBkYXRlRWxlbWVudHModCkudXBkYXRlQ29uZGl0aW9ucygpLHRoaXMucmVuZGVyZXIuc3VzcGVuZFJlZHJhdyh0aGlzKSx0aGlzLnVwZGF0ZVJlbmRlcmVyKCksdGhpcy5yZW5kZXJlci51bnN1c3BlbmRSZWRyYXcoKSx0aGlzLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInVwZGF0ZVwiXSxbXSkscyYmKHMoKSxvLmZvY3VzKCkpLGk9dGhpcy5kZXBlbmRlbnRCb2FyZHMubGVuZ3RoLGU9MDtlPGk7ZSsrKXI9dGhpcy5kZXBlbmRlbnRCb2FyZHNbZV0sZC5leGlzdHMocikmJnIhPT10aGlzJiYoci51cGRhdGVRdWFsaXR5PXRoaXMudXBkYXRlUXVhbGl0eSxyLnByZXBhcmVVcGRhdGUoKS51cGRhdGVFbGVtZW50cygpLnVwZGF0ZUNvbmRpdGlvbnMoKSxyLnJlbmRlcmVyLnN1c3BlbmRSZWRyYXcoKSxyLnVwZGF0ZVJlbmRlcmVyKCksci5yZW5kZXJlci51bnN1c3BlbmRSZWRyYXcoKSxyLnRyaWdnZXJFdmVudEhhbmRsZXJzKFtcInVwZGF0ZVwiXSxbXSkpO3JldHVybiB0aGlzLmluVXBkYXRlPSExLHRoaXN9LGZ1bGxVcGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc0Z1bGxVcGRhdGU9ITAsdGhpcy51cGRhdGUoKSx0aGlzLm5lZWRzRnVsbFVwZGF0ZT0hMSx0aGlzfSxhZGRHcmlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3JlYXRlKFwiZ3JpZFwiLFtdKSx0aGlzfSxyZW1vdmVHcmlkczpmdW5jdGlvbigpe3ZhciB0O2Zvcih0PTA7dDx0aGlzLmdyaWRzLmxlbmd0aDt0KyspdGhpcy5yZW1vdmVPYmplY3QodGhpcy5ncmlkc1t0XSk7cmV0dXJuIHRoaXMuZ3JpZHMubGVuZ3RoPTAsdGhpcy51cGRhdGUoKSx0aGlzfSxjcmVhdGU6ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLG87Zm9yKGU9ZS50b0xvd2VyQ2FzZSgpLGQuZXhpc3RzKGkpfHwoaT1bXSksZC5leGlzdHMocil8fChyPXt9KSxvPTA7bzxpLmxlbmd0aDtvKyspIWQuaXNTdHJpbmcoaVtvXSl8fFwidGV4dFwiPT09ZSYmMj09PW98fFwic29saWRvZnJldm9sdXRpb24zZFwiPT09ZSYmMj09PW98fCEoXCJpbnB1dFwiIT09ZSYmXCJjaGVja2JveFwiIT09ZSYmXCJidXR0b25cIiE9PWV8fDIhPT1vJiYzIT09byl8fFwiY3VydmVcIj09PWUmJm8+MHx8KGlbb109dGhpcy5zZWxlY3QoaVtvXSkpO2lmKCFkLmlzRnVuY3Rpb24odC5lbGVtZW50c1tlXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IGNyZWF0ZTogVW5rbm93biBlbGVtZW50IHR5cGUgZ2l2ZW46IFwiK2UpO3JldHVybiBzPXQuZWxlbWVudHNbZV0odGhpcyxpLHIpLGQuZXhpc3RzKHMpPyhzLnByZXBhcmVVcGRhdGUmJnMudXBkYXRlJiZzLnVwZGF0ZVJlbmRlcmVyJiZzLmZ1bGxVcGRhdGUoKSxzKToodC5kZWJ1ZyhcIkpTWEdyYXBoOiBjcmVhdGU6IGZhaWx1cmUgY3JlYXRpbmcgXCIrZSkscyl9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZXByZWNhdGVkKFwiQm9hcmQuY3JlYXRlRWxlbWVudCgpXCIsXCJCb2FyZC5jcmVhdGUoKVwiKSx0aGlzLmNyZWF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGNsZWFyVHJhY2VzOmZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQ9MDt0PHRoaXMub2JqZWN0c0xpc3QubGVuZ3RoO3QrKyl0aGlzLm9iamVjdHNMaXN0W3RdLmNsZWFyVHJhY2UoKTtyZXR1cm4gdGhpcy5udW1UcmFjZXM9MCx0aGlzfSxzdXNwZW5kVXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5VcGRhdGV8fCh0aGlzLmlzU3VzcGVuZGVkVXBkYXRlPSEwKSx0aGlzfSx1bnN1c3BlbmRVcGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1N1c3BlbmRlZFVwZGF0ZSYmKHRoaXMuaXNTdXNwZW5kZWRVcGRhdGU9ITEsdGhpcy5mdWxsVXBkYXRlKCkpLHRoaXN9LHNldEJvdW5kaW5nQm94OmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbixhPTAsaD0wLGw9cC5nZXREaW1lbnNpb25zKHRoaXMuY29udGFpbmVyLHRoaXMuZG9jdW1lbnQpO3JldHVybiBkLmlzQXJyYXkodCk/KHRbMF08dGhpcy5tYXhib3VuZGluZ2JveFswXXx8dFsxXT50aGlzLm1heGJvdW5kaW5nYm94WzFdfHx0WzJdPnRoaXMubWF4Ym91bmRpbmdib3hbMl18fHRbM108dGhpcy5tYXhib3VuZGluZ2JveFszXXx8KGQuZXhpc3RzKGkpfHwoaT1cInJlc2V0XCIpLG89dGhpcy51bml0WCxuPXRoaXMudW5pdFksdGhpcy5jYW52YXNXaWR0aD1wYXJzZUludChsLndpZHRoLDEwKSx0aGlzLmNhbnZhc0hlaWdodD1wYXJzZUludChsLmhlaWdodCwxMCkscz10aGlzLmNhbnZhc1dpZHRoLHI9dGhpcy5jYW52YXNIZWlnaHQsZT8odGhpcy51bml0WD1zLyh0WzJdLXRbMF0pLHRoaXMudW5pdFk9ci8odFsxXS10WzNdKSxNYXRoLmFicyh0aGlzLnVuaXRYKTxNYXRoLmFicyh0aGlzLnVuaXRZKT8odGhpcy51bml0WT1NYXRoLmFicyh0aGlzLnVuaXRYKSp0aGlzLnVuaXRZL01hdGguYWJzKHRoaXMudW5pdFkpLGg9LjUqKHIvdGhpcy51bml0WS0odFsxXS10WzNdKSkpOih0aGlzLnVuaXRYPU1hdGguYWJzKHRoaXMudW5pdFkpKnRoaXMudW5pdFgvTWF0aC5hYnModGhpcy51bml0WCksYT0uNSoocy90aGlzLnVuaXRYLSh0WzJdLXRbMF0pKSksdGhpcy5rZWVwYXNwZWN0cmF0aW89ITApOih0aGlzLnVuaXRYPXMvKHRbMl0tdFswXSksdGhpcy51bml0WT1yLyh0WzFdLXRbM10pLHRoaXMua2VlcGFzcGVjdHJhdGlvPSExKSx0aGlzLm1vdmVPcmlnaW4oLXRoaXMudW5pdFgqKHRbMF0tYSksdGhpcy51bml0WSoodFsxXStoKSksXCJ1cGRhdGVcIj09PWk/KHRoaXMuem9vbVgqPXRoaXMudW5pdFgvbyx0aGlzLnpvb21ZKj10aGlzLnVuaXRZL24pOlwicmVzZXRcIj09PWkmJih0aGlzLnpvb21YPWQuZXhpc3RzKHRoaXMuYXR0ci56b29teCk/dGhpcy5hdHRyLnpvb214OjEsdGhpcy56b29tWT1kLmV4aXN0cyh0aGlzLmF0dHIuem9vbXkpP3RoaXMuYXR0ci56b29teToxKSksdGhpcyk6dGhpc30sZ2V0Qm91bmRpbmdCb3g6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sWzAsMF0sdGhpcykudXNyQ29vcmRzLHI9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFt0aGlzLmNhbnZhc1dpZHRoLHRoaXMuY2FudmFzSGVpZ2h0XSx0aGlzKS51c3JDb29yZHM7cmV0dXJuW3RbMV0sdFsyXSxyWzFdLHJbMl1dfSxhZGRBbmltYXRpb246ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5hbmltYXRpb25PYmplY3RzW3QuaWRdPXQsdGhpcy5hbmltYXRpb25JbnRlcnZhbENvZGV8fCh0aGlzLmFuaW1hdGlvbkludGVydmFsQ29kZT13aW5kb3cuc2V0SW50ZXJ2YWwoKGZ1bmN0aW9uKCl7ZS5hbmltYXRlKCl9KSx0LmJvYXJkLmF0dHIuYW5pbWF0aW9uZGVsYXkpKSx0aGlzfSxzdG9wQWxsQW5pbWF0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQgaW4gdGhpcy5hbmltYXRpb25PYmplY3RzKXRoaXMuYW5pbWF0aW9uT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eSh0KSYmZC5leGlzdHModGhpcy5hbmltYXRpb25PYmplY3RzW3RdKSYmKHRoaXMuYW5pbWF0aW9uT2JqZWN0c1t0XT1udWxsLGRlbGV0ZSB0aGlzLmFuaW1hdGlvbk9iamVjdHNbdF0pO3JldHVybiB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmFuaW1hdGlvbkludGVydmFsQ29kZSksZGVsZXRlIHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWxDb2RlLHRoaXN9LGFuaW1hdGU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIscyxvLG4sYSxoLGw9MCxjPW51bGw7Zm9yKGkgaW4gdGhpcy5hbmltYXRpb25PYmplY3RzKWlmKHRoaXMuYW5pbWF0aW9uT2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShpKSYmZC5leGlzdHModGhpcy5hbmltYXRpb25PYmplY3RzW2ldKSl7aWYobCs9MSwocj10aGlzLmFuaW1hdGlvbk9iamVjdHNbaV0pLmFuaW1hdGlvblBhdGgmJihzPWQuaXNGdW5jdGlvbihyLmFuaW1hdGlvblBhdGgpP3IuYW5pbWF0aW9uUGF0aCgobmV3IERhdGUpLmdldFRpbWUoKS1yLmFuaW1hdGlvblN0YXJ0KTpyLmFuaW1hdGlvblBhdGgucG9wKCksIWQuZXhpc3RzKHMpfHwhZC5pc0FycmF5KHMpJiZpc05hTihzKT9kZWxldGUgci5hbmltYXRpb25QYXRoOihyLnNldFBvc2l0aW9uRGlyZWN0bHkoZS5DT09SRFNfQllfVVNFUixzKSxyLmZ1bGxVcGRhdGUoKSxjPXIpKSxyLmFuaW1hdGlvbkRhdGEpe2ZvcihvIGluIGE9MCxyLmFuaW1hdGlvbkRhdGEpci5hbmltYXRpb25EYXRhLmhhc093blByb3BlcnR5KG8pJiYobj1yLmFuaW1hdGlvbkRhdGFbb10ucG9wKCksZC5leGlzdHMobik/KGErPTEsKHQ9e30pW29dPW4sci5zZXRBdHRyaWJ1dGUodCkpOmRlbGV0ZSByLmFuaW1hdGlvbkRhdGFbbl0pOzA9PT1hJiZkZWxldGUgci5hbmltYXRpb25EYXRhfWQuZXhpc3RzKHIuYW5pbWF0aW9uRGF0YSl8fGQuZXhpc3RzKHIuYW5pbWF0aW9uUGF0aCl8fCh0aGlzLmFuaW1hdGlvbk9iamVjdHNbaV09bnVsbCxkZWxldGUgdGhpcy5hbmltYXRpb25PYmplY3RzW2ldLGQuZXhpc3RzKHIuYW5pbWF0aW9uQ2FsbGJhY2spJiYoaD1yLmFuaW1hdGlvbkNhbGxiYWNrLHIuYW5pbWF0aW9uQ2FsbGJhY2s9bnVsbCxoKCkpKX1yZXR1cm4gMD09PWw/KHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWxDb2RlKSxkZWxldGUgdGhpcy5hbmltYXRpb25JbnRlcnZhbENvZGUpOnRoaXMudXBkYXRlKGMpLHRoaXN9LG1pZ3JhdGVQb2ludDpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG4sYSxoLGw9ITE7Zm9yKHMgaW4gdD10aGlzLnNlbGVjdCh0KSxlPXRoaXMuc2VsZWN0KGUpLGQuZXhpc3RzKHQubGFiZWwpJiYoaD10LmxhYmVsLmlkLGw9ITAsdGhpcy5yZW1vdmVPYmplY3QodC5sYWJlbCkpLHQuY2hpbGRFbGVtZW50cylpZih0LmNoaWxkRWxlbWVudHMuaGFzT3duUHJvcGVydHkocykpe2ZvcihvIGluIG49ITEscj10LmNoaWxkRWxlbWVudHNbc10pci5oYXNPd25Qcm9wZXJ0eShvKSYmcltvXT09PXQmJihyW29dPWUsbj0hMCk7Zm9yKG4mJmRlbGV0ZSB0LmNoaWxkRWxlbWVudHNbc10sYT0wO2E8ci5wYXJlbnRzLmxlbmd0aDthKyspci5wYXJlbnRzW2FdPT09dC5pZCYmKHIucGFyZW50c1thXT1lLmlkKTtlLmFkZENoaWxkKHIpfXJldHVybiBpJiYobCYmKGRlbGV0ZSBlLmNoaWxkRWxlbWVudHNbaF0sZGVsZXRlIGUuZGVzY2VuZGFudHNbaF0pLGUubGFiZWwmJnRoaXMucmVtb3ZlT2JqZWN0KGUubGFiZWwpLGRlbGV0ZSB0aGlzLmVsZW1lbnRzQnlOYW1lW2UubmFtZV0sZS5uYW1lPXQubmFtZSxsJiZlLmNyZWF0ZUxhYmVsKCkpLHRoaXMucmVtb3ZlT2JqZWN0KHQpLGQuZXhpc3RzKGUubmFtZSkmJlwiXCIhPT1lLm5hbWUmJih0aGlzLmVsZW1lbnRzQnlOYW1lW2UubmFtZV09ZSksdGhpcy5mdWxsVXBkYXRlKCksdGhpc30sZW11bGF0ZUNvbG9yYmxpbmRuZXNzOmZ1bmN0aW9uKGUpe3ZhciBpLHI7aWYoZC5leGlzdHMoZSl8fChlPVwibm9uZVwiKSx0aGlzLmN1cnJlbnRDQkRlZj09PWUpcmV0dXJuIHRoaXM7Zm9yKGkgaW4gdGhpcy5vYmplY3RzKXRoaXMub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShpKSYmKHI9dGhpcy5vYmplY3RzW2ldLFwibm9uZVwiIT09ZT8oXCJub25lXCI9PT10aGlzLmN1cnJlbnRDQkRlZiYmKHIudmlzUHJvcE9yaWdpbmFsPXtzdHJva2Vjb2xvcjpyLnZpc1Byb3Auc3Ryb2tlY29sb3IsZmlsbGNvbG9yOnIudmlzUHJvcC5maWxsY29sb3IsaGlnaGxpZ2h0c3Ryb2tlY29sb3I6ci52aXNQcm9wLmhpZ2hsaWdodHN0cm9rZWNvbG9yLGhpZ2hsaWdodGZpbGxjb2xvcjpyLnZpc1Byb3AuaGlnaGxpZ2h0ZmlsbGNvbG9yfSksci5zZXRBdHRyaWJ1dGUoe3N0cm9rZWNvbG9yOmMucmdiMmNiKGQuZXZhbHVhdGUoci52aXNQcm9wT3JpZ2luYWwuc3Ryb2tlY29sb3IpLGUpLGZpbGxjb2xvcjpjLnJnYjJjYihkLmV2YWx1YXRlKHIudmlzUHJvcE9yaWdpbmFsLmZpbGxjb2xvciksZSksaGlnaGxpZ2h0c3Ryb2tlY29sb3I6Yy5yZ2IyY2IoZC5ldmFsdWF0ZShyLnZpc1Byb3BPcmlnaW5hbC5oaWdobGlnaHRzdHJva2Vjb2xvciksZSksaGlnaGxpZ2h0ZmlsbGNvbG9yOmMucmdiMmNiKGQuZXZhbHVhdGUoci52aXNQcm9wT3JpZ2luYWwuaGlnaGxpZ2h0ZmlsbGNvbG9yKSxlKX0pKTpkLmV4aXN0cyhyLnZpc1Byb3BPcmlnaW5hbCkmJnQuZXh0ZW5kKHIudmlzUHJvcCxyLnZpc1Byb3BPcmlnaW5hbCkpO3JldHVybiB0aGlzLmN1cnJlbnRDQkRlZj1lLHRoaXMudXBkYXRlKCksdGhpc30sc2VsZWN0OmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG8sbj10O2lmKG51bGw9PT1uKXJldHVybiBuO2lmKGQuaXNTdHJpbmcobikmJlwiXCIhPT1uKWQuZXhpc3RzKHRoaXMub2JqZWN0c1tuXSk/bj10aGlzLm9iamVjdHNbbl06ZC5leGlzdHModGhpcy5lbGVtZW50c0J5TmFtZVtuXSk/bj10aGlzLmVsZW1lbnRzQnlOYW1lW25dOmQuZXhpc3RzKHRoaXMuZ3JvdXBzW25dKSYmKG49dGhpcy5ncm91cHNbbl0pO2Vsc2UgaWYoIWUmJihkLmlzRnVuY3Rpb24obil8fGQuaXNPYmplY3QobikmJiFkLmlzRnVuY3Rpb24obi5zZXRBdHRyaWJ1dGUpKSl7Zm9yKHI9e30sbz0oaT1kLmZpbHRlckVsZW1lbnRzKHRoaXMub2JqZWN0c0xpc3QsbikpLmxlbmd0aCxzPTA7czxvO3MrKylyW2lbc10uaWRdPWlbc107bj1uZXcgZihyKX1lbHNlIGQuaXNPYmplY3QobikmJmQuZXhpc3RzKG4uaWQpJiYhZC5leGlzdHModGhpcy5vYmplY3RzW24uaWRdKSYmKG49bnVsbCk7cmV0dXJuIG59LGhhc1BvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGk9dCxyPWUscz10aGlzLmdldEJvdW5kaW5nQm94KCk7cmV0dXJuIGQuZXhpc3RzKHQpJiZkLmlzQXJyYXkodC51c3JDb29yZHMpJiYoaT10LnVzckNvb3Jkc1sxXSxyPXQudXNyQ29vcmRzWzJdKSwhIShkLmlzTnVtYmVyKGkpJiZkLmlzTnVtYmVyKHIpJiZzWzBdPGkmJmk8c1syXSYmc1sxXT5yJiZyPnNbM10pfSx1cGRhdGVDU1NUcmFuc2Zvcm1zOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250YWluZXJPYmosZT10LGk9dDtmb3IodGhpcy5jc3NUcmFuc01hdD1wLmdldENTU1RyYW5zZm9ybU1hdHJpeChlKSxlPWUub2Zmc2V0UGFyZW50O2U7KXtmb3IodGhpcy5jc3NUcmFuc01hdD1vLm1hdE1hdE11bHQocC5nZXRDU1NUcmFuc2Zvcm1NYXRyaXgoZSksdGhpcy5jc3NUcmFuc01hdCksaT1pLnBhcmVudE5vZGU7aSE9PWU7KXRoaXMuY3NzVHJhbnNNYXQ9by5tYXRNYXRNdWx0KHAuZ2V0Q1NTVHJhbnNmb3JtTWF0cml4KGUpLHRoaXMuY3NzVHJhbnNNYXQpLGk9aS5wYXJlbnROb2RlfHxpLmhvc3Q7ZT1lLm9mZnNldFBhcmVudH1yZXR1cm4gdGhpcy5jc3NUcmFuc01hdD1vLmludmVyc2UodGhpcy5jc3NUcmFuc01hdCksdGhpc30sc3RhcnRTZWxlY3Rpb25Nb2RlOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RpbmdNb2RlPSEwLHRoaXMuc2VsZWN0aW9uUG9seWdvbi5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITB9KSx0aGlzLnNlbGVjdGluZ0JveD1bWzAsMF0sWzAsMF1dLHRoaXMuX3NldFNlbGVjdGlvblBvbHlnb25Gcm9tQm94KCksdGhpcy5zZWxlY3Rpb25Qb2x5Z29uLmZ1bGxVcGRhdGUoKX0sc3RvcFNlbGVjdGlvbk1vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RpbmdNb2RlPSExLHRoaXMuc2VsZWN0aW9uUG9seWdvbi5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITF9KSxbdGhpcy5zZWxlY3Rpb25Qb2x5Z29uLnZlcnRpY2VzWzBdLmNvb3Jkcyx0aGlzLnNlbGVjdGlvblBvbHlnb24udmVydGljZXNbMl0uY29vcmRzXX0sX3N0YXJ0U2VsZWN0aW5nOmZ1bmN0aW9uKHQpe3RoaXMuaXNTZWxlY3Rpbmc9ITAsdGhpcy5zZWxlY3RpbmdCb3g9W1t0WzBdLHRbMV1dLFt0WzBdLHRbMV1dXSx0aGlzLl9zZXRTZWxlY3Rpb25Qb2x5Z29uRnJvbUJveCgpfSxfbW92ZVNlbGVjdGluZzpmdW5jdGlvbih0KXt0aGlzLmlzU2VsZWN0aW5nJiYodGhpcy5zZWxlY3RpbmdCb3hbMV09W3RbMF0sdFsxXV0sdGhpcy5fc2V0U2VsZWN0aW9uUG9seWdvbkZyb21Cb3goKSx0aGlzLnNlbGVjdGlvblBvbHlnb24uZnVsbFVwZGF0ZSgpKX0sX3N0b3BTZWxlY3Rpbmc6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRNb3VzZVBvc2l0aW9uKHQpO3RoaXMuaXNTZWxlY3Rpbmc9ITEsdGhpcy5zZWxlY3RpbmdCb3hbMV09W2VbMF0sZVsxXV0sdGhpcy5fc2V0U2VsZWN0aW9uUG9seWdvbkZyb21Cb3goKX0sX3NldFNlbGVjdGlvblBvbHlnb25Gcm9tQm94OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZWxlY3RpbmdCb3hbMF0saT10aGlzLnNlbGVjdGluZ0JveFsxXTt0aGlzLnNlbGVjdGlvblBvbHlnb24udmVydGljZXNbMF0uc2V0UG9zaXRpb25EaXJlY3RseSh0LkNPT1JEU19CWV9TQ1JFRU4sW2VbMF0sZVsxXV0pLHRoaXMuc2VsZWN0aW9uUG9seWdvbi52ZXJ0aWNlc1sxXS5zZXRQb3NpdGlvbkRpcmVjdGx5KHQuQ09PUkRTX0JZX1NDUkVFTixbZVswXSxpWzFdXSksdGhpcy5zZWxlY3Rpb25Qb2x5Z29uLnZlcnRpY2VzWzJdLnNldFBvc2l0aW9uRGlyZWN0bHkodC5DT09SRFNfQllfU0NSRUVOLFtpWzBdLGlbMV1dKSx0aGlzLnNlbGVjdGlvblBvbHlnb24udmVydGljZXNbM10uc2V0UG9zaXRpb25EaXJlY3RseSh0LkNPT1JEU19CWV9TQ1JFRU4sW2lbMF0sZVsxXV0pfSxfdGVzdEZvclNlbGVjdGlvbjpmdW5jdGlvbih0KXt0aGlzLl9pc1JlcXVpcmVkS2V5UHJlc3NlZCh0LFwic2VsZWN0aW9uXCIpJiYoZC5leGlzdHModGhpcy5zZWxlY3Rpb25Qb2x5Z29uKXx8dGhpcy5fY3JlYXRlU2VsZWN0aW9uUG9seWdvbih0aGlzLmF0dHIpLHRoaXMuc3RhcnRTZWxlY3Rpb25Nb2RlKCkpfSxfY3JlYXRlU2VsZWN0aW9uUG9seWdvbjpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gZC5leGlzdHModGhpcy5zZWxlY3Rpb25Qb2x5Z29uKXx8ITA9PT0oZT1kLmNvcHlBdHRyaWJ1dGVzKHQscixcImJvYXJkXCIsXCJzZWxlY3Rpb25cIikpLmVuYWJsZWQmJih0aGlzLnNlbGVjdGlvblBvbHlnb249dGhpcy5jcmVhdGUoXCJwb2x5Z29uXCIsW1swLDBdLFswLDBdLFswLDBdLFswLDBdXSxlKSksdGhpc30sX19ldnRfX2Rvd246ZnVuY3Rpb24odCl7fSxfX2V2dF9fbW91c2Vkb3duOmZ1bmN0aW9uKHQpe30sX19ldnRfX3BlbmRvd246ZnVuY3Rpb24odCl7fSxfX2V2dF9fcG9pbnRlcmRvd246ZnVuY3Rpb24odCl7fSxfX2V2dF9fdG91Y2hzdGFydDpmdW5jdGlvbih0KXt9LF9fZXZ0X191cDpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3VzZXVwOmZ1bmN0aW9uKHQpe30sX19ldnRfX3BvaW50ZXJ1cDpmdW5jdGlvbih0KXt9LF9fZXZ0X190b3VjaGVuZDpmdW5jdGlvbih0KXt9LF9fZXZ0X19tb3ZlOmZ1bmN0aW9uKHQsZSl7fSxfX2V2dF9fbW91c2Vtb3ZlOmZ1bmN0aW9uKHQsZSl7fSxfX2V2dF9fcGVubW92ZTpmdW5jdGlvbih0LGUpe30sX19ldnRfX3BvaW50ZXJtb3ZlOmZ1bmN0aW9uKHQsZSl7fSxfX2V2dF9fdG91Y2htb3ZlOmZ1bmN0aW9uKHQsZSl7fSxfX2V2dF9faGl0OmZ1bmN0aW9uKHQsZSxpKXt9LF9fZXZ0X19tb3VzZWhpdDpmdW5jdGlvbih0LGUsaSl7fSxfX2V2dF9fdXBkYXRlOmZ1bmN0aW9uKCl7fSxfX2V2dF9fYm91bmRpbmdib3g6ZnVuY3Rpb24oKXt9LF9fZXZ0X19zdGFydHNlbGVjdGluZzpmdW5jdGlvbigpe30sX19ldnRfX21vdXNlc3RhcnRzZWxlY3Rpbmc6ZnVuY3Rpb24oKXt9LF9fZXZ0X19wb2ludGVyc3RhcnRzZWxlY3Rpbmc6ZnVuY3Rpb24oKXt9LF9fZXZ0X190b3VjaHN0YXJ0c2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fc3RvcHNlbGVjdGluZzpmdW5jdGlvbigpe30sX19ldnRfX21vdXNlc3RvcHNlbGVjdGluZzpmdW5jdGlvbigpe30sX19ldnRfX3BvaW50ZXJzdG9wc2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fdG91Y2hzdG9wc2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fbW92ZXNlbGVjdGluZzpmdW5jdGlvbigpe30sX19ldnRfX21vdXNlbW92ZXNlbGVjdGluZzpmdW5jdGlvbigpe30sX19ldnRfX3BvaW50ZXJtb3Zlc2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dF9fdG91Y2htb3Zlc2VsZWN0aW5nOmZ1bmN0aW9uKCl7fSxfX2V2dDpmdW5jdGlvbigpe30sdG9GdWxsc2NyZWVuOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtyZXR1cm4gdD10fHx0aGlzLmNvbnRhaW5lcix0aGlzLl9mdWxsc2NyZWVuX2lubmVyX2lkPXQscj10aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpLGU9XCJmdWxsc2NyZWVud3JhcF9cIit0LHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk/aT10aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpOigoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5jbGFzc0xpc3QuYWRkKFwiSlhHX3dyYXBfcHJpdmF0ZVwiKSxpLnNldEF0dHJpYnV0ZShcImlkXCIsZSksci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpLHIpLGkuYXBwZW5kQ2hpbGQocikpLHRoaXMuX2Z1bGxzY3JlZW5fcmVzPXAuX2dldFNjYWxlRmFjdG9ycyhyKSxpLnJlcXVlc3RGdWxsc2NyZWVuPWkucmVxdWVzdEZ1bGxzY3JlZW58fGkud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW58fGkubW96UmVxdWVzdEZ1bGxTY3JlZW58fGkubXNSZXF1ZXN0RnVsbHNjcmVlbixpLnJlcXVlc3RGdWxsc2NyZWVuJiZpLnJlcXVlc3RGdWxsc2NyZWVuKCksdGhpc30sZnVsbHNjcmVlbkxpc3RlbmVyOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtpZihpPXRoaXMuX2Z1bGxzY3JlZW5faW5uZXJfaWQsZC5leGlzdHMoaSkpe2lmKHRoaXMuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ9dGhpcy5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8dGhpcy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudHx8dGhpcy5kb2N1bWVudC5tb3pGdWxsc2NyZWVuRWxlbWVudHx8dGhpcy5kb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50LHI9dGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpKSx0aGlzLmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KWU9dGhpcy5fZnVsbHNjcmVlbl9yZXMsci5fY3NzRnVsbHNjcmVlblN0b3JlPXtpZDp0aGlzLmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50LmlkLGlzRnVsbHNjcmVlbjohMCxtYXJnaW46ci5zdHlsZS5tYXJnaW4sd2lkdGg6ci5zdHlsZS53aWR0aCxzY2FsZTplLnNjYWxlLHZzaGlmdDplLnZzaGlmdH0sci5zdHlsZS5tYXJnaW49XCJcIixyLnN0eWxlLndpZHRoPWUud2lkdGgrXCJweFwiLHAuc2NhbGVKU1hHcmFwaERpdihkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudC5pZCxpLGUuc2NhbGUsZS52c2hpZnQpLHRoaXMuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ9bnVsbDtlbHNlIGlmKGQuZXhpc3RzKHIuX2Nzc0Z1bGxzY3JlZW5TdG9yZSkpe3RyeXt0aGlzLmRvY3VtZW50LnN0eWxlU2hlZXRzW3RoaXMuZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoLTFdLmRlbGV0ZVJ1bGUoMCl9Y2F0Y2godCl7Y29uc29sZS5sb2coXCJKU1hHcmFwaDogQ291bGQgbm90IHJlbW92ZSBDU1MgcnVsZXMgZm9yIGZ1bGwgc2NyZWVuIG1vZGVcIil9ci5fY3NzRnVsbHNjcmVlblN0b3JlLmlzRnVsbHNjcmVlbj0hMSxyLnN0eWxlLm1hcmdpbj1yLl9jc3NGdWxsc2NyZWVuU3RvcmUubWFyZ2luLHIuc3R5bGUud2lkdGg9ci5fY3NzRnVsbHNjcmVlblN0b3JlLndpZHRofXRoaXMudXBkYXRlQ1NTVHJhbnNmb3JtcygpfX0sY3JlYXRlUm91bGV0dGU6ZnVuY3Rpb24odCxlLGkscixvLG4saCl7dmFyIGw9dGhpcztyZXR1cm4gbmV3IGZ1bmN0aW9uKCl7dmFyIGMsZD0wLHU9MCxwPTAsZj1pLG09cy5yb290KChmdW5jdGlvbihpKXt2YXIgcj10LlgoZikscz10LlkoZiksbz1lLlgoaSksbj1lLlkoaSk7cmV0dXJuKHItbykqKHItbykrKHMtbikqKHMtbil9KSxbMCwyKk1hdGguUEldKSxnPTAsYj0wLHY9bC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbZnVuY3Rpb24oKXtyZXR1cm4gZH1dLHt0eXBlOlwicm90YXRlXCJ9KSx5PWwuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGR9LGZ1bmN0aW9uKCl7cmV0dXJuIHQuWChmKX0sZnVuY3Rpb24oKXtyZXR1cm4gdC5ZKGYpfV0se3R5cGU6XCJyb3RhdGVcIn0pLEM9bC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbZnVuY3Rpb24oKXtyZXR1cm4gdX0sZnVuY3Rpb24oKXtyZXR1cm4gcH1dLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSxfPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj1zLkQodC5YKShlKSxvPXMuRCh0LlkpKGUpLG49cy5EKHQuWCkoaSksYT1zLkQodC5ZKShpKSxoPXMuRCh0LlgpKC41KihlK2kpKSxsPXMuRCh0LlkpKC41KihlK2kpKSxjPU1hdGguc3FydChyKnIrbypvKSxkPU1hdGguc3FydChuKm4rYSphKTtyZXR1cm4oYys0Kk1hdGguc3FydChoKmgrbCpsKStkKSooaS1lKS82fSxQPWZ1bmN0aW9uKHQpe3JldHVybiBjLV8oZSxtLHQpfSxFPU1hdGguUEkvMTgseD05KkUsUz1udWxsO3JldHVybiB0aGlzLnJvbGxpbmc9ZnVuY3Rpb24oKXt2YXIgaSxuLFMsTyx3O2M9Xyh0LGYsZz1mK28qciksYj1zLnJvb3QoUCxtKSxpPW5ldyBhKHQuWChnKSx0LlkoZykpLG49bmV3IGEoZS5YKGIpLGUuWShiKSksUz1uZXcgYShzLkQodC5YKShnKSxzLkQodC5ZKShnKSksTz1uZXcgYShzLkQoZS5YKShiKSxzLkQoZS5ZKShiKSksdz1hLkMuZGl2KFMsTyksZD1NYXRoLmF0YW4yKHcuaW1hZ2luYXJ5LHcucmVhbCksdy5kaXYoYS5DLmFicyh3KSksdy5tdWx0KG4pLHU9aS5yZWFsLXcucmVhbCxwPWkuaW1hZ2luYXJ5LXcuaW1hZ2luYXJ5LGQ8LUUmJmQ+LXg/KGQ9LUUseS5hcHBseU9uY2UoaCkpOmQ+RSYmZDx4PyhkPUUseS5hcHBseU9uY2UoaCkpOih2LmFwcGx5T25jZShoKSxDLmFwcGx5T25jZShoKSxmPWcsbT1iKSxsLnVwZGF0ZSgpfSx0aGlzLnN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG4+MCYmKFM9d2luZG93LnNldEludGVydmFsKHRoaXMucm9sbGluZyxuKSksdGhpc30sdGhpcy5zdG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5jbGVhckludGVydmFsKFMpLHRoaXN9LHRoaXN9fX0pLHQuQm9hcmR9KSksZGVmaW5lKFwicmVuZGVyZXIvc3ZnXCIsW1wianhnXCIsXCJvcHRpb25zXCIsXCJyZW5kZXJlci9hYnN0cmFjdFwiLFwiYmFzZS9jb25zdGFudHNcIixcInV0aWxzL3R5cGVcIixcInV0aWxzL2NvbG9yXCIsXCJ1dGlscy9iYXNlNjRcIixcIm1hdGgvbnVtZXJpY3NcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuU1ZHUmVuZGVyZXI9ZnVuY3Rpb24odCxpKXt2YXIgcjtmb3IodGhpcy50eXBlPVwic3ZnXCIsdGhpcy5pc0lFPS0xIT09bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUVcIil8fG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnRcXC8vKSx0aGlzLnN2Z1Jvb3Q9bnVsbCx0aGlzLnN2Z05hbWVzcGFjZT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsdGhpcy54bGlua05hbWVzcGFjZT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIix0aGlzLmNvbnRhaW5lcj10LHRoaXMuY29udGFpbmVyLnN0eWxlLk1velVzZXJTZWxlY3Q9XCJub25lXCIsdGhpcy5jb250YWluZXIuc3R5bGUudXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLFwiXCI9PT10aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiYmKHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksdGhpcy5zdmdSb290PXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc3ZnTmFtZXNwYWNlLFwic3ZnXCIpLHRoaXMuc3ZnUm9vdC5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXMuc3ZnUm9vdC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLnJlc2l6ZShpLndpZHRoLGkuaGVpZ2h0KSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnN2Z1Jvb3QpLHRoaXMuZGVmcz10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLnN2Z05hbWVzcGFjZSxcImRlZnNcIiksdGhpcy5zdmdSb290LmFwcGVuZENoaWxkKHRoaXMuZGVmcyksdGhpcy5maWx0ZXI9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zdmdOYW1lc3BhY2UsXCJmaWx0ZXJcIiksdGhpcy5maWx0ZXIuc2V0QXR0cmlidXRlTlMobnVsbCxcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfZjFcIiksdGhpcy5maWx0ZXIuc2V0QXR0cmlidXRlTlMobnVsbCxcIndpZHRoXCIsXCIzMDAlXCIpLHRoaXMuZmlsdGVyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJoZWlnaHRcIixcIjMwMCVcIiksdGhpcy5maWx0ZXIuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbHRlclVuaXRzXCIsXCJ1c2VyU3BhY2VPblVzZVwiKSx0aGlzLmZlT2Zmc2V0PXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc3ZnTmFtZXNwYWNlLFwiZmVPZmZzZXRcIiksdGhpcy5mZU9mZnNldC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwicmVzdWx0XCIsXCJvZmZPdXRcIiksdGhpcy5mZU9mZnNldC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaW5cIixcIlNvdXJjZUFscGhhXCIpLHRoaXMuZmVPZmZzZXQuc2V0QXR0cmlidXRlTlMobnVsbCxcImR4XCIsXCI1XCIpLHRoaXMuZmVPZmZzZXQuc2V0QXR0cmlidXRlTlMobnVsbCxcImR5XCIsXCI1XCIpLHRoaXMuZmlsdGVyLmFwcGVuZENoaWxkKHRoaXMuZmVPZmZzZXQpLHRoaXMuZmVHYXVzc2lhbkJsdXI9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5zdmdOYW1lc3BhY2UsXCJmZUdhdXNzaWFuQmx1clwiKSx0aGlzLmZlR2F1c3NpYW5CbHVyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJyZXN1bHRcIixcImJsdXJPdXRcIiksdGhpcy5mZUdhdXNzaWFuQmx1ci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaW5cIixcIm9mZk91dFwiKSx0aGlzLmZlR2F1c3NpYW5CbHVyLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdGREZXZpYXRpb25cIixcIjNcIiksdGhpcy5maWx0ZXIuYXBwZW5kQ2hpbGQodGhpcy5mZUdhdXNzaWFuQmx1ciksdGhpcy5mZUJsZW5kPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc3ZnTmFtZXNwYWNlLFwiZmVCbGVuZFwiKSx0aGlzLmZlQmxlbmQuc2V0QXR0cmlidXRlTlMobnVsbCxcImluXCIsXCJTb3VyY2VHcmFwaGljXCIpLHRoaXMuZmVCbGVuZC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiaW4yXCIsXCJibHVyT3V0XCIpLHRoaXMuZmVCbGVuZC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwibW9kZVwiLFwibm9ybWFsXCIpLHRoaXMuZmlsdGVyLmFwcGVuZENoaWxkKHRoaXMuZmVCbGVuZCksdGhpcy5kZWZzLmFwcGVuZENoaWxkKHRoaXMuZmlsdGVyKSx0aGlzLmxheWVyPVtdLHI9MDtyPGUubGF5ZXIubnVtbGF5ZXJzO3IrKyl0aGlzLmxheWVyW3JdPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc3ZnTmFtZXNwYWNlLFwiZ1wiKSx0aGlzLnN2Z1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy5sYXllcltyXSk7dGhpcy5zdXBwb3J0c0ZvcmVpZ25PYmplY3Q9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZShcImh0dHA6Ly93My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNFeHRlbnNpYmlsaXR5XCIsXCIxLjFcIiksdGhpcy5zdXBwb3J0c0ZvcmVpZ25PYmplY3QmJih0aGlzLmZvcmVpZ25PYmpMYXllcj10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLnN2Z05hbWVzcGFjZSxcImZvcmVpZ25PYmplY3RcIiksdGhpcy5mb3JlaWduT2JqTGF5ZXIuc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwibm9uZVwiKSx0aGlzLmZvcmVpZ25PYmpMYXllci5zZXRBdHRyaWJ1dGUoXCJ4XCIsMCksdGhpcy5mb3JlaWduT2JqTGF5ZXIuc2V0QXR0cmlidXRlKFwieVwiLDApLHRoaXMuZm9yZWlnbk9iakxheWVyLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsXCIxMDAlXCIpLHRoaXMuZm9yZWlnbk9iakxheWVyLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLFwiMTAwJVwiKSx0aGlzLmZvcmVpZ25PYmpMYXllci5zZXRBdHRyaWJ1dGUoXCJpZFwiLHRoaXMuY29udGFpbmVyLmlkK1wiX2ZvcmVpZ25PYmpcIiksdGhpcy5zdmdSb290LmFwcGVuZENoaWxkKHRoaXMuZm9yZWlnbk9iakxheWVyKSksdGhpcy5kYXNoQXJyYXk9W1wiMiwgMlwiLFwiNSwgNVwiLFwiMTAsIDEwXCIsXCIyMCwgMjBcIixcIjIwLCAxMCwgMTAsIDEwXCIsXCIyMCwgNSwgMTAsIDVcIl19LHQuU1ZHUmVuZGVyZXIucHJvdG90eXBlPW5ldyBpLHQuZXh0ZW5kKHQuU1ZHUmVuZGVyZXIucHJvdG90eXBlLHtfY3JlYXRlQXJyb3dIZWFkOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbyxuLGEsaCxsPXQuaWQrXCJUcmlhbmdsZVwiO3JldHVybiBzLmV4aXN0cyhlKSYmKGwrPWUpLChvPXRoaXMuY3JlYXRlUHJpbShcIm1hcmtlclwiLGwpKS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIscy5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tlY29sb3IpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2Utb3BhY2l0eVwiLHMuZXZhbHVhdGUodC52aXNQcm9wLnN0cm9rZW9wYWNpdHkpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIscy5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tlY29sb3IpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsLW9wYWNpdHlcIixzLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2VvcGFjaXR5KSksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLXdpZHRoXCIsMCksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwib3JpZW50XCIsXCJhdXRvXCIpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcIm1hcmtlclVuaXRzXCIsXCJzdHJva2VXaWR0aFwiKSxuPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc3ZnTmFtZXNwYWNlLFwicGF0aFwiKSxoPTUsXCJFbmRcIj09PWU/KGE9MCwyPT09aT9uLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDEwLDAgTCAwLDUgTCAxMCwxMCBMIDUsNSB6XCIpOjM9PT1pP24uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMCwwIEwgMy4zMywwIEwgMy4zMywxMCBMIDAsMTAgelwiKTo0PT09aT8oaD0zLjMxLG4uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMC4wMCwzLjMxIEMgMy41MywzLjg0IDcuMTMsNC41MCAxMC4wMCw2LjYzIEMgOS4zMyw1LjUyIDguNjcsNC40MiA4LjAwLDMuMzEgQyA4LjY3LDIuMjEgOS4zMywxLjEwIDEwLjAwLDAuMDAgQyA3LjEzLDIuMTMgMy41MywyLjc5IDAuMDAsMy4zMVwiKSk6NT09PWk/KGg9My4yOCxuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDAuMDAsMy4yOCBDIDMuMzksNC4xOSA2LjgxLDUuMDcgMTAuMDAsNi41NSBDIDkuMzgsNS41NiA5LjAwLDQuNDQgOS4wMCwzLjI4IEMgOS4wMCwyLjExIDkuMzgsMC45OSAxMC4wMCwwLjAwIEMgNi44MSwxLjQ5IDMuMzksMi4zNyAwLjAwLDMuMjhcIikpOjY9PT1pPyhoPTIuODQsbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAwLjAwLDIuODQgQyAzLjM5LDMuNTkgNi43OSw0LjM1IDEwLjAwLDUuNjggQyA5LjY3LDQuNzMgOS4zMywzLjc4IDkuMDAsMi44NCBDIDkuMzMsMS44OSA5LjY3LDAuOTUgMTAuMDAsMC4wMCBDIDYuNzksMS4zMyAzLjM5LDIuMDkgMC4wMCwyLjg0XCIpKTo3PT09aT8oaD01LjIsbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAwLjAwLDUuMjAgQyA0LjA0LDUuMjAgNy45OSw2LjkyIDEwLjAwLDEwLjM5IE0gMTAuMDAsMC4wMCBDIDcuOTksMy40NyA0LjA0LDUuMjAgMC4wMCw1LjIwXCIpKTpuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDEwLDAgTCAwLDUgTCAxMCwxMCB6XCIpLC8qIVR5cGUuZXhpc3RzKGVsLnJlbmROb2RlLmdldFRvdGFsTGVuZ3RoKSAmJiAqL3QuZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfTElORSYmKGE9Mj09PWk/NC45OjM9PT1pPzMuMzo0PT09aXx8NT09PWl8fDY9PT1pPzYuNjY6Nz09PWk/MDoxMCkpOihhPTEwLDI9PT1pP24uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMCwwIEwgMTAsNSBMIDAsMTAgTCA1LDUgelwiKTozPT09aT8oYT0zLjMsbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAwLDAgTCAzLjMzLDAgTCAzLjMzLDEwIEwgMCwxMCB6XCIpKTo0PT09aT8oaD0zLjMxLG4uc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMTAuMDAsMy4zMSBDIDYuNDcsMy44NCAyLjg3LDQuNTAgMC4wMCw2LjYzIEMgMC42Nyw1LjUyIDEuMzMsNC40MiAyLjAwLDMuMzEgQyAxLjMzLDIuMjEgMC42NywxLjEwIDAuMDAsMC4wMCBDIDIuODcsMi4xMyA2LjQ3LDIuNzkgMTAuMDAsMy4zMVwiKSk6NT09PWk/KGg9My4yOCxuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDEwLjAwLDMuMjggQyA2LjYxLDQuMTkgMy4xOSw1LjA3IDAuMDAsNi41NSBDIDAuNjIsNS41NiAxLjAwLDQuNDQgMS4wMCwzLjI4IEMgMS4wMCwyLjExIDAuNjIsMC45OSAwLjAwLDAuMDAgQyAzLjE5LDEuNDkgNi42MSwyLjM3IDEwLjAwLDMuMjhcIikpOjY9PT1pPyhoPTIuODQsbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAxMC4wMCwyLjg0IEMgNi42MSwzLjU5IDMuMjEsNC4zNSAwLjAwLDUuNjggQyAwLjMzLDQuNzMgMC42NywzLjc4IDEuMDAsMi44NCBDIDAuNjcsMS44OSAwLjMzLDAuOTUgMC4wMCwwLjAwIEMgMy4yMSwxLjMzIDYuNjEsMi4wOSAxMC4wMCwyLjg0XCIpKTo3PT09aT8oaD01LjIsbi5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSAxMC4wMCw1LjIwIEMgNS45Niw1LjIwIDIuMDEsNi45MiAwLjAwLDEwLjM5IE0gMC4wMCwwLjAwIEMgMi4wMSwzLjQ3IDUuOTYsNS4yMCAxMC4wMCw1LjIwXCIpKTpuLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkXCIsXCJNIDAsMCBMIDEwLDUgTCAwLDEwIHpcIiksLyohVHlwZS5leGlzdHMoZWwucmVuZE5vZGUuZ2V0VG90YWxMZW5ndGgpICYmKi90LmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX0xJTkUmJihhPTI9PT1pPzUuMTozPT09aT8uMDI6ND09PWl8fDU9PT1pfHw2PT09aT8zLjMzOjc9PT1pPzEwOi4wNSkpLDc9PT1pJiYoby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLFwibm9uZVwiKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2Utd2lkdGhcIiwxKSksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwicmVmWVwiLGgpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcInJlZlhcIixhKSxvLmFwcGVuZENoaWxkKG4pLG99LF9zZXRBcnJvd0NvbG9yOmZ1bmN0aW9uKHQsZSxpLHIsbyl7dCYmKHMuaXNTdHJpbmcoZSkmJig3IT09bz90aGlzLl9zZXRBdHRyaWJ1dGUoKGZ1bmN0aW9uKCl7dC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsZSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLGUpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1vcGFjaXR5XCIsaSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbC1vcGFjaXR5XCIsaSl9KSxyLnZpc1Byb3BPbGQuZmlsbGNvbG9yKTp0aGlzLl9zZXRBdHRyaWJ1dGUoKGZ1bmN0aW9uKCl7dC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZmlsbFwiLFwibm9uZVwiKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixlKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2Utb3BhY2l0eVwiLGkpfSksci52aXNQcm9wT2xkLmZpbGxjb2xvcikpLHRoaXMuaXNJRSYmci5yZW5kTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyLnJlbmROb2RlLHIucmVuZE5vZGUpKX0sX3NldEFycm93V2lkdGg6ZnVuY3Rpb24odCxlLGkscil7dmFyIHMsbzt0JiYobz0ocz1lKSpyLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInZpZXdCb3hcIixcIjAgMCBcIisxMCpzK1wiIFwiKzEwKnMpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcIm1hcmtlckhlaWdodFwiLG8pLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcIm1hcmtlcldpZHRoXCIsbyksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGlzcGxheVwiLFwiaW5oZXJpdFwiKSx0aGlzLmlzSUUmJmkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaSxpKSl9LHVwZGF0ZVRpY2tzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixvLG4sYSxoLGwsYz1cIlwiLGQ9dC50aWNrcy5sZW5ndGgsdT0hMDtmb3IoZT0wO2U8ZDtlKyspe2ZvcihuPShyPXQudGlja3NbZV0pWzBdLGE9clsxXSxoPW4ubGVuZ3RoLGw9XCIgTSBcIituWzBdK1wiIFwiK2FbMF0scy5pc051bWJlcihuWzBdKXx8KHU9ITEpLGk9MTt1JiZpPGg7KytpKXMuaXNOdW1iZXIobltpXSk/bCs9XCIgTCBcIituW2ldK1wiIFwiK2FbaV06dT0hMTt1JiYoYys9bCl9bz10LnJlbmROb2RlLHMuZXhpc3RzKG8pfHwobz10aGlzLmNyZWF0ZVByaW0oXCJwYXRoXCIsdC5pZCksdGhpcy5hcHBlbmRDaGlsZFByaW0obyxzLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLHQucmVuZE5vZGU9byksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIscy5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tlY29sb3IpKSxvLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCJub25lXCIpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1vcGFjaXR5XCIscy5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tlb3BhY2l0eSkpLG8uc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS13aWR0aFwiLHMuZXZhbHVhdGUodC52aXNQcm9wLnN0cm9rZXdpZHRoKSksdGhpcy51cGRhdGVQYXRoUHJpbShvLGMsdC5ib2FyZCl9LGRpc3BsYXlDb3B5cmlnaHQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPXRoaXMuY3JlYXRlUHJpbShcInRleHRcIixcImxpY2Vuc2VUZXh0XCIpO3Iuc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIixcIjIwcHhcIiksci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieVwiLDIrZStcInB4XCIpLHIuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0eWxlXCIsXCJmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjsgZm9udC1zaXplOlwiK2UrXCJweDsgZmlsbDojMzU2QUEwOyAgb3BhY2l0eTowLjM7XCIpLGk9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0KSxyLmFwcGVuZENoaWxkKGkpLHRoaXMuYXBwZW5kQ2hpbGRQcmltKHIsMCl9LGRyYXdJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jcmVhdGVQcmltKFwidGV4dFwiLHQuaWQpO3JldHVybiBlLnN0eWxlLndoaXRlU3BhY2U9XCJub3dyYXBcIix0LnJlbmROb2RlVGV4dD10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLGUuYXBwZW5kQ2hpbGQodC5yZW5kTm9kZVRleHQpLHRoaXMuYXBwZW5kQ2hpbGRQcmltKGUscy5ldmFsdWF0ZSh0LnZpc1Byb3AubGF5ZXIpKSxlfSx1cGRhdGVJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7dmFyIGUsaT10LnBsYWludGV4dCxyPXQuZ2V0QW5jaG9yWCgpLG89dC5nZXRBbmNob3JZKCk7dC5yZW5kTm9kZS5nZXRBdHRyaWJ1dGVOUyhudWxsLFwiY2xhc3NcIikhPT10LnZpc1Byb3AuY3NzY2xhc3MmJih0LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLHMuZXZhbHVhdGUodC52aXNQcm9wLmNzc2NsYXNzKSksdC5uZWVkc1NpemVVcGRhdGU9ITApLGlzTmFOKHQuY29vcmRzLnNjckNvb3Jkc1sxXSt0LmNvb3Jkcy5zY3JDb29yZHNbMl0pfHwoZT10LmNvb3Jkcy5zY3JDb29yZHNbMV0sdC52aXNQcm9wT2xkLmxlZnQhPT1yK2UmJih0LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4XCIsZStcInB4XCIpLFwibGVmdFwiPT09cj90LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ0ZXh0LWFuY2hvclwiLFwic3RhcnRcIik6XCJyaWdodFwiPT09cj90LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ0ZXh0LWFuY2hvclwiLFwiZW5kXCIpOlwibWlkZGxlXCI9PT1yJiZ0LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ0ZXh0LWFuY2hvclwiLFwibWlkZGxlXCIpLHQudmlzUHJvcE9sZC5sZWZ0PXIrZSksZT10LmNvb3Jkcy5zY3JDb29yZHNbMl0sdC52aXNQcm9wT2xkLnRvcCE9PW8rZSYmKHQucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcInlcIixlKy41KnRoaXMudk9mZnNldFRleHQrXCJweFwiKSxcImJvdHRvbVwiPT09bz90LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkb21pbmFudC1iYXNlbGluZVwiLFwidGV4dC1hZnRlci1lZGdlXCIpOlwidG9wXCI9PT1vP3QucmVuZE5vZGUuc2V0QXR0cmlidXRlTlMobnVsbCxcImR5XCIsXCIxLjZleFwiKTpcIm1pZGRsZVwiPT09byYmdC5yZW5kTm9kZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZHlcIixcIjAuNmV4XCIpLHQudmlzUHJvcE9sZC50b3A9bytlKSksdC5odG1sU3RyIT09aSYmKHQucmVuZE5vZGVUZXh0LmRhdGE9aSx0Lmh0bWxTdHI9aSksdGhpcy50cmFuc2Zvcm1JbWFnZSh0LHQudHJhbnNmb3JtYXRpb25zKX0sdXBkYXRlSW50ZXJuYWxUZXh0U3R5bGU6ZnVuY3Rpb24odCxlLGkscil7dGhpcy5zZXRPYmplY3RGaWxsQ29sb3IodCxlLGkpfSxkcmF3SW1hZ2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jcmVhdGVQcmltKFwiaW1hZ2VcIix0LmlkKTtlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsXCJub25lXCIpLHRoaXMuYXBwZW5kQ2hpbGRQcmltKGUscy5ldmFsdWF0ZSh0LnZpc1Byb3AubGF5ZXIpKSx0LnJlbmROb2RlPWUsdGhpcy51cGRhdGVJbWFnZSh0KX0sdHJhbnNmb3JtSW1hZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPXQucmVuZE5vZGUscz1cIlwiO2UubGVuZ3RoPjAmJihzKz1cIiBtYXRyaXgoXCIrWyhpPXRoaXMuam9pblRyYW5zZm9ybXModCxlKSlbMV1bMV0saVsyXVsxXSxpWzFdWzJdLGlbMl1bMl0saVsxXVswXSxpWzJdWzBdXS5qb2luKFwiLFwiKStcIikgXCIsci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwidHJhbnNmb3JtXCIscykpfSx1cGRhdGVJbWFnZVVSTDpmdW5jdGlvbih0KXt2YXIgZT1zLmV2YWx1YXRlKHQudXJsKTtyZXR1cm4gdC5fc3JjIT09ZSYmKHQuaW1nSXNMb2FkZWQ9ITEsdC5yZW5kTm9kZS5zZXRBdHRyaWJ1dGVOUyh0aGlzLnhsaW5rTmFtZXNwYWNlLFwieGxpbms6aHJlZlwiLGUpLHQuX3NyYz1lLCEwKX0sdXBkYXRlSW1hZ2VTdHlsZTpmdW5jdGlvbih0LGUpe3ZhciBpPXMuZXZhbHVhdGUoZT90LnZpc1Byb3AuaGlnaGxpZ2h0Y3NzY2xhc3M6dC52aXNQcm9wLmNzc2NsYXNzKTt0LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjbGFzc1wiLGkpfSxkcmF3Rm9yZWlnbk9iamVjdDpmdW5jdGlvbih0KXt0LnJlbmROb2RlPXRoaXMuYXBwZW5kQ2hpbGRQcmltKHRoaXMuY3JlYXRlUHJpbShcImZvcmVpZ25PYmplY3RcIix0LmlkKSxzLmV2YWx1YXRlKHQudmlzUHJvcC5sYXllcikpLHRoaXMuYXBwZW5kTm9kZXNUb0VsZW1lbnQodCxcImZvcmVpZ25PYmplY3RcIiksdGhpcy51cGRhdGVGb3JlaWduT2JqZWN0KHQpfSx1cGRhdGVGb3JlaWduT2JqZWN0OmZ1bmN0aW9uKHQpe3QuX3VzZVVzZXJTaXplP3QucmVuZE5vZGUuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIjp0LnJlbmROb2RlLnN0eWxlLm92ZXJmbG93PVwidmlzaWJsZVwiLHRoaXMudXBkYXRlUmVjdFByaW0odC5yZW5kTm9kZSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0sdC5jb29yZHMuc2NyQ29vcmRzWzJdLXQuc2l6ZVsxXSx0LnNpemVbMF0sdC5zaXplWzFdKSx0LnJlbmROb2RlLmlubmVySFRNTD10LmNvbnRlbnQsdGhpcy5fdXBkYXRlVmlzdWFsKHQse3N0cm9rZTohMCxkYXNoOiEwfSwhMCl9LGFwcGVuZENoaWxkUHJpbTpmdW5jdGlvbih0LGkpe3JldHVybiBzLmV4aXN0cyhpKT9pPj1lLmxheWVyLm51bWxheWVycyYmKGk9ZS5sYXllci5udW1sYXllcnMtMSk6aT0wLHRoaXMubGF5ZXJbaV0uYXBwZW5kQ2hpbGQodCksdH0sY3JlYXRlUHJpbTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMuc3ZnTmFtZXNwYWNlLHQpO3JldHVybiBpLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJpZFwiLHRoaXMuY29udGFpbmVyLmlkK1wiX1wiK2UpLGkuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLFwicGF0aFwiPT09dCYmKGkuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1saW5lY2FwXCIsXCJyb3VuZFwiKSxpLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2UtbGluZWpvaW5cIixcInJvdW5kXCIpLGkuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGwtcnVsZVwiLFwiZXZlbm9kZFwiKSksaX0scmVtb3ZlOmZ1bmN0aW9uKHQpe3MuZXhpc3RzKHQpJiZzLmV4aXN0cyh0LnBhcmVudE5vZGUpJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LHNldExheWVyOmZ1bmN0aW9uKHQsaSl7cy5leGlzdHMoaSk/aT49ZS5sYXllci5udW1sYXllcnMmJihpPWUubGF5ZXIubnVtbGF5ZXJzLTEpOmk9MCx0aGlzLmxheWVyW2ldLmFwcGVuZENoaWxkKHQucmVuZE5vZGUpfSxtYWtlQXJyb3dzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj1lLmV2Rmlyc3Qsbz1lLmV2TGFzdDt0LnZpc1Byb3BPbGQuZmlyc3RhcnJvdyE9PXJ8fHQudmlzUHJvcE9sZC5sYXN0YXJyb3chPT1vPyhyPyhpPXQucmVuZE5vZGVUcmlhbmdsZVN0YXJ0LHMuZXhpc3RzKGkpP3RoaXMuZGVmcy5hcHBlbmRDaGlsZChpKTooaT10aGlzLl9jcmVhdGVBcnJvd0hlYWQodCxcIkVuZFwiLGUudHlwZUZpcnN0KSx0aGlzLmRlZnMuYXBwZW5kQ2hpbGQoaSksdC5yZW5kTm9kZVRyaWFuZ2xlU3RhcnQ9aSx0LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJtYXJrZXItc3RhcnRcIixcInVybCgjXCIrdGhpcy5jb250YWluZXIuaWQrXCJfXCIrdC5pZCtcIlRyaWFuZ2xlRW5kKVwiKSkpOihpPXQucmVuZE5vZGVUcmlhbmdsZVN0YXJ0LHMuZXhpc3RzKGkpJiZ0aGlzLnJlbW92ZShpKSksbz8oaT10LnJlbmROb2RlVHJpYW5nbGVFbmQscy5leGlzdHMoaSk/dGhpcy5kZWZzLmFwcGVuZENoaWxkKGkpOihpPXRoaXMuX2NyZWF0ZUFycm93SGVhZCh0LFwiU3RhcnRcIixlLnR5cGVMYXN0KSx0aGlzLmRlZnMuYXBwZW5kQ2hpbGQoaSksdC5yZW5kTm9kZVRyaWFuZ2xlRW5kPWksdC5yZW5kTm9kZS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwibWFya2VyLWVuZFwiLFwidXJsKCNcIit0aGlzLmNvbnRhaW5lci5pZCtcIl9cIit0LmlkK1wiVHJpYW5nbGVTdGFydClcIikpKTooaT10LnJlbmROb2RlVHJpYW5nbGVFbmQscy5leGlzdHMoaSkmJnRoaXMucmVtb3ZlKGkpKSx0LnZpc1Byb3BPbGQuZmlyc3RhcnJvdz1yLHQudmlzUHJvcE9sZC5sYXN0YXJyb3c9byk6dGhpcy5pc0lFJiZ0LnZpc1Byb3BDYWxjLnZpc2libGUmJihyfHxvKSYmdC5yZW5kTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LnJlbmROb2RlLHQucmVuZE5vZGUpfSx1cGRhdGVFbGxpcHNlUHJpbTpmdW5jdGlvbih0LGUsaSxyLHMpe3ZhciBvO289MmU1LGU9TWF0aC5hYnMoZSk8bz9lOm8qZS9NYXRoLmFicyhlKSxpPU1hdGguYWJzKGkpPG8/aTpvKmkvTWF0aC5hYnMoaSkscj1NYXRoLmFicyhyKTxvP3I6bypyL01hdGguYWJzKHIpLHM9TWF0aC5hYnMocyk8bz9zOm8qcy9NYXRoLmFicyhzKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJjeFwiLGUpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcImN5XCIsaSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwicnhcIixNYXRoLmFicyhyKSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwicnlcIixNYXRoLmFicyhzKSl9LHVwZGF0ZUxpbmVQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyl7dmFyIG87bz0yZTUsaXNOYU4oZStpK3Ircyl8fChlPU1hdGguYWJzKGUpPG8/ZTpvKmUvTWF0aC5hYnMoZSksaT1NYXRoLmFicyhpKTxvP2k6byppL01hdGguYWJzKGkpLHI9TWF0aC5hYnMocik8bz9yOm8qci9NYXRoLmFicyhyKSxzPU1hdGguYWJzKHMpPG8/czpvKnMvTWF0aC5hYnMocyksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIixlKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MVwiLGkpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcIngyXCIsciksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIixzKSl9LHVwZGF0ZVBhdGhQcmltOmZ1bmN0aW9uKHQsZSl7XCJcIj09PWUmJihlPVwiTSAwIDBcIiksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLGUpfSx1cGRhdGVQYXRoU3RyaW5nUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciByPVwiXCIscz10LmNvb3Jkcy5zY3JDb29yZHMsbz1lKk1hdGguc3FydCgzKSouNSxuPS41KmU7cmV0dXJuXCJ4XCI9PT1pP3I9XCIgTSBcIisoc1sxXS1lKStcIiBcIisoc1syXS1lKStcIiBMIFwiKyhzWzFdK2UpK1wiIFwiKyhzWzJdK2UpK1wiIE0gXCIrKHNbMV0rZSkrXCIgXCIrKHNbMl0tZSkrXCIgTCBcIisoc1sxXS1lKStcIiBcIisoc1syXStlKTpcIitcIj09PWk/cj1cIiBNIFwiKyhzWzFdLWUpK1wiIFwiK3NbMl0rXCIgTCBcIisoc1sxXStlKStcIiBcIitzWzJdK1wiIE0gXCIrc1sxXStcIiBcIisoc1syXS1lKStcIiBMIFwiK3NbMV0rXCIgXCIrKHNbMl0rZSk6XCI8PlwiPT09aT9yPVwiIE0gXCIrKHNbMV0tZSkrXCIgXCIrc1syXStcIiBMIFwiK3NbMV0rXCIgXCIrKHNbMl0rZSkrXCIgTCBcIisoc1sxXStlKStcIiBcIitzWzJdK1wiIEwgXCIrc1sxXStcIiBcIisoc1syXS1lKStcIiBaIFwiOlwiXlwiPT09aT9yPVwiIE0gXCIrc1sxXStcIiBcIisoc1syXS1lKStcIiBMIFwiKyhzWzFdLW8pK1wiIFwiKyhzWzJdK24pK1wiIEwgXCIrKHNbMV0rbykrXCIgXCIrKHNbMl0rbikrXCIgWiBcIjpcInZcIj09PWk/cj1cIiBNIFwiK3NbMV0rXCIgXCIrKHNbMl0rZSkrXCIgTCBcIisoc1sxXS1vKStcIiBcIisoc1syXS1uKStcIiBMIFwiKyhzWzFdK28pK1wiIFwiKyhzWzJdLW4pK1wiIFogXCI6XCI+XCI9PT1pP3I9XCIgTSBcIisoc1sxXStlKStcIiBcIitzWzJdK1wiIEwgXCIrKHNbMV0tbikrXCIgXCIrKHNbMl0tbykrXCIgTCBcIisoc1sxXS1uKStcIiBcIisoc1syXStvKStcIiBaIFwiOlwiPFwiPT09aSYmKHI9XCIgTSBcIisoc1sxXS1lKStcIiBcIitzWzJdK1wiIEwgXCIrKHNbMV0rbikrXCIgXCIrKHNbMl0tbykrXCIgTCBcIisoc1sxXStuKStcIiBcIisoc1syXStvKStcIiBaIFwiKSxyfSx1cGRhdGVQYXRoU3RyaW5nUHJpbTpmdW5jdGlvbih0KXt2YXIgZSxpLHIscz1cIiBNIFwiLG89cyxuPTVlMyxhPVwiXCI7aWYodC5udW1iZXJQb2ludHM8PTApcmV0dXJuXCJcIjtpZihyPU1hdGgubWluKHQucG9pbnRzLmxlbmd0aCx0Lm51bWJlclBvaW50cyksMT09PXQuYmV6aWVyRGVncmVlKWZvcihlPTA7ZTxyO2UrKylpPXQucG9pbnRzW2VdLnNjckNvb3Jkcyxpc05hTihpWzFdKXx8aXNOYU4oaVsyXSk/bz1zOihpWzFdPU1hdGgubWF4KE1hdGgubWluKGlbMV0sbiksLTVlMyksaVsyXT1NYXRoLm1heChNYXRoLm1pbihpWzJdLG4pLC01ZTMpLGErPW8raVsxXStcIiBcIitpWzJdLG89XCIgTCBcIik7ZWxzZSBpZigzPT09dC5iZXppZXJEZWdyZWUpZm9yKGU9MDtlPHI7KWk9dC5wb2ludHNbZV0uc2NyQ29vcmRzLGlzTmFOKGlbMV0pfHxpc05hTihpWzJdKT9vPXM6KGErPW8raVsxXStcIiBcIitpWzJdLFwiIEMgXCI9PT1vJiYoZSs9MSxhKz1cIiBcIisoaT10LnBvaW50c1tlXS5zY3JDb29yZHMpWzFdK1wiIFwiK2lbMl0sZSs9MSxhKz1cIiBcIisoaT10LnBvaW50c1tlXS5zY3JDb29yZHMpWzFdK1wiIFwiK2lbMl0pLG89XCIgQyBcIiksZSs9MTtyZXR1cm4gYX0sdXBkYXRlUGF0aFN0cmluZ0JlemllclByaW06ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG8sbixoLGwsYz1cIiBNIFwiLGQ9Yyx1PTVlMyxwPVwiXCIsZj1zLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2V3aWR0aCksbT1cInBsb3RcIiE9PXMuZXZhbHVhdGUodC52aXNQcm9wLmN1cnZldHlwZSk7aWYodC5udW1iZXJQb2ludHM8PTApcmV0dXJuXCJcIjtmb3IobSYmdC5ib2FyZC5vcHRpb25zLmN1cnZlLlJEUHNtb290aGluZyYmKHQucG9pbnRzPWEuUmFtZXJEb3VnbGFzUGV1Y2tlcih0LnBvaW50cywuNSkpLGw9TWF0aC5taW4odC5wb2ludHMubGVuZ3RoLHQubnVtYmVyUG9pbnRzKSxpPTE7aTwzO2krKylmb3IoZD1jLGU9MDtlPGw7ZSsrKW89dC5wb2ludHNbZV0uc2NyQ29vcmRzLGlzTmFOKG9bMV0pfHxpc05hTihvWzJdKT9kPWM6KG9bMV09TWF0aC5tYXgoTWF0aC5taW4ob1sxXSx1KSwtNWUzKSxvWzJdPU1hdGgubWF4KE1hdGgubWluKG9bMl0sdSksLTVlMyksZD09PWM/cCs9ZCtvWzFdK1wiIFwiK29bMl06KHI9MippLHArPVtkLG4rLjMzMyoob1sxXS1uKStmKihyKk1hdGgucmFuZG9tKCktaSksXCIgXCIsaCsuMzMzKihvWzJdLWgpK2YqKHIqTWF0aC5yYW5kb20oKS1pKSxcIiBcIixuKy42NjYqKG9bMV0tbikrZioocipNYXRoLnJhbmRvbSgpLWkpLFwiIFwiLGgrLjY2Nioob1syXS1oKStmKihyKk1hdGgucmFuZG9tKCktaSksXCIgXCIsb1sxXSxcIiBcIixvWzJdXS5qb2luKFwiXCIpKSxkPVwiIEMgXCIsbj1vWzFdLGg9b1syXSk7cmV0dXJuIHB9LHVwZGF0ZVBvbHlnb25QcmltOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzPVwiXCIsbz1lLnZlcnRpY2VzLmxlbmd0aDtmb3IodC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsXCJub25lXCIpLFwicG9seWdvbmFsY2hhaW5cIj09PWUuZWxUeXBlJiZvKyssaT0wO2k8by0xO2krKyl7aWYoIWUudmVydGljZXNbaV0uaXNSZWFsKXJldHVybiB2b2lkIHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInBvaW50c1wiLFwiXCIpO3M9cysocj1lLnZlcnRpY2VzW2ldLmNvb3Jkcy5zY3JDb29yZHMpWzFdK1wiLFwiK3JbMl0saTxvLTImJihzKz1cIiBcIil9LTE9PT1zLmluZGV4T2YoXCJOYU5cIikmJnQuc2V0QXR0cmlidXRlTlMobnVsbCxcInBvaW50c1wiLHMpfSx1cGRhdGVSZWN0UHJpbTpmdW5jdGlvbih0LGUsaSxyLHMpe3Quc2V0QXR0cmlidXRlTlMobnVsbCxcInhcIixlKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5XCIsaSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwid2lkdGhcIixyKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJoZWlnaHRcIixzKX0sc2V0UHJvcGVydHlQcmltOmZ1bmN0aW9uKHQsZSxpKXtcInN0cm9rZWRcIiE9PWUmJnQuc2V0QXR0cmlidXRlTlMobnVsbCxlLGkpfSxkaXNwbGF5OmZ1bmN0aW9uKHQsZSl7dmFyIGk7dCYmdC5yZW5kTm9kZSYmKHQudmlzUHJvcE9sZC52aXNpYmxlPWUsaT10LnJlbmROb2RlLGU/KGkuc2V0QXR0cmlidXRlTlMobnVsbCxcImRpc3BsYXlcIixcImlubGluZVwiKSxpLnN0eWxlLnZpc2liaWxpdHk9XCJpbmhlcml0XCIpOihpLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkaXNwbGF5XCIsXCJub25lXCIpLGkuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiKSl9LHNob3c6ZnVuY3Rpb24oZSl7dC5kZXByZWNhdGVkKFwiQm9hcmQucmVuZGVyZXIuc2hvdygpXCIsXCJCb2FyZC5yZW5kZXJlci5kaXNwbGF5KClcIiksdGhpcy5kaXNwbGF5KGUsITApfSxoaWRlOmZ1bmN0aW9uKGUpe3QuZGVwcmVjYXRlZChcIkJvYXJkLnJlbmRlcmVyLmhpZGUoKVwiLFwiQm9hcmQucmVuZGVyZXIuZGlzcGxheSgpXCIpLHRoaXMuZGlzcGxheShlLCExKX0sc2V0QnVmZmVyaW5nOmZ1bmN0aW9uKHQsZSl7dC5yZW5kTm9kZS5zZXRBdHRyaWJ1dGUoXCJidWZmZXJlZC1yZW5kZXJpbmdcIixlKX0sc2V0RGFzaFN0eWxlOmZ1bmN0aW9uKHQpe3ZhciBlPXMuZXZhbHVhdGUodC52aXNQcm9wLmRhc2gpLGk9dC5yZW5kTm9kZTtlPjA/aS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLWRhc2hhcnJheVwiLHRoaXMuZGFzaEFycmF5W2UtMV0pOmkuaGFzQXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1kYXNoYXJyYXlcIikmJmkucmVtb3ZlQXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1kYXNoYXJyYXlcIil9LHNldEdyYWRpZW50OmZ1bmN0aW9uKHQpe3ZhciBlLGkscixvPXQucmVuZE5vZGUsbj1zLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudCk7XCJsaW5lYXJcIj09PW58fFwicmFkaWFsXCI9PT1uPyhlPXRoaXMuY3JlYXRlUHJpbShuK1wiR3JhZGllbnRcIix0LmlkK1wiX2dyYWRpZW50XCIpLGk9dGhpcy5jcmVhdGVQcmltKFwic3RvcFwiLHQuaWQrXCJfZ3JhZGllbnQxXCIpLHI9dGhpcy5jcmVhdGVQcmltKFwic3RvcFwiLHQuaWQrXCJfZ3JhZGllbnQyXCIpLGUuYXBwZW5kQ2hpbGQoaSksZS5hcHBlbmRDaGlsZChyKSx0aGlzLmRlZnMuYXBwZW5kQ2hpbGQoZSksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3R5bGVcIixcImZpbGw6dXJsKCNcIit0aGlzLmNvbnRhaW5lci5pZCtcIl9cIit0LmlkK1wiX2dyYWRpZW50KVwiKSx0LmdyYWROb2RlMT1pLHQuZ3JhZE5vZGUyPXIsdC5ncmFkTm9kZT1lKTpvLnJlbW92ZUF0dHJpYnV0ZU5TKG51bGwsXCJzdHlsZVwiKX0sdXBkYXRlR3JhZGllbnRBbmdsZTpmdW5jdGlvbih0LGUpe3ZhciBpPTEscj1NYXRoLmNvcyhlKSxzPU1hdGguc2luKGUpO01hdGguYWJzKHIpPk1hdGguYWJzKHMpP2kvPU1hdGguYWJzKHIpOmkvPU1hdGguYWJzKHMpLHI+PTA/KHQuc2V0QXR0cmlidXRlTlMobnVsbCxcIngxXCIsMCksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDJcIixyKmkpKToodC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieDFcIiwtcippKSx0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ4MlwiLDApKSxzPj0wPyh0LnNldEF0dHJpYnV0ZU5TKG51bGwsXCJ5MVwiLDApLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInkyXCIscyppKSk6KHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInkxXCIsLXMqaSksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwieTJcIiwwKSl9LHVwZGF0ZUdyYWRpZW50Q2lyY2xlOmZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe3Quc2V0QXR0cmlidXRlTlMobnVsbCxcImN4XCIsMTAwKmUrXCIlXCIpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcImN5XCIsMTAwKmkrXCIlXCIpLHQuc2V0QXR0cmlidXRlTlMobnVsbCxcInJcIiwxMDAqcitcIiVcIiksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZnhcIiwxMDAqcytcIiVcIiksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZnlcIiwxMDAqbytcIiVcIiksdC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZnJcIiwxMDAqbitcIiVcIil9LHVwZGF0ZUdyYWRpZW50OmZ1bmN0aW9uKHQpe3ZhciBlLGkscj10LmdyYWROb2RlMSxvPXQuZ3JhZE5vZGUyLG49cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnQpO3MuZXhpc3RzKHIpJiZzLmV4aXN0cyhvKSYmKGk9KGk9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZmlsbG9wYWNpdHkpKT4wP2k6MCxlPXMuZXZhbHVhdGUodC52aXNQcm9wLmZpbGxjb2xvciksci5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3R5bGVcIixcInN0b3AtY29sb3I6XCIrZStcIjtzdG9wLW9wYWNpdHk6XCIraSksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3R5bGVcIixcInN0b3AtY29sb3I6XCIrcy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRzZWNvbmRjb2xvcikrXCI7c3RvcC1vcGFjaXR5OlwiK3MuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50c2Vjb25kb3BhY2l0eSkpLHIuc2V0QXR0cmlidXRlTlMobnVsbCxcIm9mZnNldFwiLDEwMCpzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHN0YXJ0b2Zmc2V0KStcIiVcIiksby5zZXRBdHRyaWJ1dGVOUyhudWxsLFwib2Zmc2V0XCIsMTAwKnMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50ZW5kb2Zmc2V0KStcIiVcIiksXCJsaW5lYXJcIj09PW4/dGhpcy51cGRhdGVHcmFkaWVudEFuZ2xlKHQuZ3JhZE5vZGUscy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRhbmdsZSkpOlwicmFkaWFsXCI9PT1uJiZ0aGlzLnVwZGF0ZUdyYWRpZW50Q2lyY2xlKHQuZ3JhZE5vZGUscy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRjeCkscy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRjeSkscy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRyKSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGZ4KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGZ5KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGZyKSkpfSxzZXRPYmplY3RUcmFuc2l0aW9uOmZ1bmN0aW9uKHQsZSl7dmFyIGksbyxuLGE9W1wicmVuZE5vZGVcIixcInJlbmROb2RlVHJpYW5nbGVTdGFydFwiLFwicmVuZE5vZGVUcmlhbmdsZUVuZFwiXTtpZih2b2lkIDA9PT1lJiYoZT1zLmV2YWx1YXRlKHQudmlzUHJvcC50cmFuc2l0aW9uZHVyYXRpb24pKSxlIT09dC52aXNQcm9wT2xkLnRyYW5zaXRpb25kdXJhdGlvbil7Zm9yKGk9dC5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19URVhUJiZcImh0bWxcIj09PXMuZXZhbHVhdGUodC52aXNQcm9wLmRpc3BsYXkpP1wiIGNvbG9yIFwiK2UrXCJtcywgb3BhY2l0eSBcIitlK1wibXNcIjpcIiBmaWxsIFwiK2UrXCJtcywgZmlsbC1vcGFjaXR5IFwiK2UrXCJtcywgc3Ryb2tlIFwiK2UrXCJtcywgc3Ryb2tlLW9wYWNpdHkgXCIrZStcIm1zXCIsbj1hLmxlbmd0aCxvPTA7bzxuOysrbyl0W2Fbb11dJiYodFthW29dXS5zdHlsZS50cmFuc2l0aW9uPWkpO3QudmlzUHJvcE9sZC50cmFuc2l0aW9uZHVyYXRpb249ZX19LF9zZXRBdHRyaWJ1dGU6ZnVuY3Rpb24odCxlKXtcIlwiPT09ZT90KCk6d2luZG93LnNldFRpbWVvdXQodCwxKX0sc2V0T2JqZWN0RmlsbENvbG9yOmZ1bmN0aW9uKGUsaSxyLG4pe3ZhciBhLGgsbCxjLGQ9cy5ldmFsdWF0ZShpKSx1PXMuZXZhbHVhdGUocikscD1zLmV2YWx1YXRlKGUudmlzUHJvcC5ncmFkaWVudCk7dT11PjA/dTowLGUudmlzUHJvcE9sZC5maWxsY29sb3I9PT1kJiZlLnZpc1Byb3BPbGQuZmlsbG9wYWNpdHk9PT11JiZudWxsPT09cHx8KHMuZXhpc3RzKGQpJiYhMSE9PWQmJig5IT09ZC5sZW5ndGg/KGg9ZCxjPXUpOihsPW8ucmdiYTJyZ2JvKGQpLGg9bFswXSxjPXUqbFsxXSksYT12b2lkIDA9PT1uP2UucmVuZE5vZGU6bixcIm5vbmVcIiE9PWgmJnRoaXMuX3NldEF0dHJpYnV0ZSgoZnVuY3Rpb24oKXthLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsaCl9KSxlLnZpc1Byb3BPbGQuZmlsbGNvbG9yKSxlLnR5cGU9PT10Lk9CSkVDVF9UWVBFX0lNQUdFP3RoaXMuX3NldEF0dHJpYnV0ZSgoZnVuY3Rpb24oKXthLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJvcGFjaXR5XCIsYyl9KSxlLnZpc1Byb3BPbGQuZmlsbG9wYWNpdHkpOihcIm5vbmVcIj09PWg/KGM9MCxhLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJwb2ludGVyLWV2ZW50c1wiLFwidmlzaWJsZVN0cm9rZVwiKSk6YS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwicG9pbnRlci1ldmVudHNcIixcInZpc2libGVQYWludGVkXCIpLHRoaXMuX3NldEF0dHJpYnV0ZSgoZnVuY3Rpb24oKXthLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsLW9wYWNpdHlcIixjKX0pLGUudmlzUHJvcE9sZC5maWxsb3BhY2l0eSkpLFwibGluZWFyXCIhPT1wJiZcInJhZGlhbFwiIT09cHx8dGhpcy51cGRhdGVHcmFkaWVudChlKSksZS52aXNQcm9wT2xkLmZpbGxjb2xvcj1kLGUudmlzUHJvcE9sZC5maWxsb3BhY2l0eT11KX0sc2V0T2JqZWN0U3Ryb2tlQ29sb3I6ZnVuY3Rpb24odCxlLGkpe3ZhciBuLGEsaCxsLGM9cy5ldmFsdWF0ZShlKSxkPXMuZXZhbHVhdGUoaSk7ZD1kPjA/ZDowLHQudmlzUHJvcE9sZC5zdHJva2Vjb2xvcj09PWMmJnQudmlzUHJvcE9sZC5zdHJva2VvcGFjaXR5PT09ZHx8KHMuZXhpc3RzKGMpJiYhMSE9PWMmJig5IT09Yy5sZW5ndGg/KG49YyxoPWQpOihhPW8ucmdiYTJyZ2JvKGMpLG49YVswXSxoPWQqYVsxXSksbD10LnJlbmROb2RlLHQuZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfVEVYVD9cImh0bWxcIj09PXMuZXZhbHVhdGUodC52aXNQcm9wLmRpc3BsYXkpP3RoaXMuX3NldEF0dHJpYnV0ZSgoZnVuY3Rpb24oKXtsLnN0eWxlLmNvbG9yPW4sbC5zdHlsZS5vcGFjaXR5PWh9KSx0LnZpc1Byb3BPbGQuc3Ryb2tlY29sb3IpOnRoaXMuX3NldEF0dHJpYnV0ZSgoZnVuY3Rpb24oKXtsLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHlsZVwiLFwiZmlsbDpcIituKSxsLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHlsZVwiLFwiZmlsbC1vcGFjaXR5OlwiK2gpfSksdC52aXNQcm9wT2xkLnN0cm9rZWNvbG9yKTp0aGlzLl9zZXRBdHRyaWJ1dGUoKGZ1bmN0aW9uKCl7bC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsbiksbC5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLW9wYWNpdHlcIixoKX0pLHQudmlzUHJvcE9sZC5zdHJva2Vjb2xvciksdC5lbGVtZW50Q2xhc3MhPT1yLk9CSkVDVF9DTEFTU19DVVJWRSYmdC5lbGVtZW50Q2xhc3MhPT1yLk9CSkVDVF9DTEFTU19MSU5FfHwocy5ldmFsdWF0ZSh0LnZpc1Byb3AuZmlyc3RhcnJvdykmJnRoaXMuX3NldEFycm93Q29sb3IodC5yZW5kTm9kZVRyaWFuZ2xlU3RhcnQsbixoLHQsdC52aXNQcm9wQ2FsYy50eXBlRmlyc3QpLHMuZXZhbHVhdGUodC52aXNQcm9wLmxhc3RhcnJvdykmJnRoaXMuX3NldEFycm93Q29sb3IodC5yZW5kTm9kZVRyaWFuZ2xlRW5kLG4saCx0LHQudmlzUHJvcENhbGMudHlwZUxhc3QpKSksdC52aXNQcm9wT2xkLnN0cm9rZWNvbG9yPWMsdC52aXNQcm9wT2xkLnN0cm9rZW9wYWNpdHk9ZCl9LHNldE9iamVjdFN0cm9rZVdpZHRoOmZ1bmN0aW9uKHQsZSl7dmFyIGkscj1zLmV2YWx1YXRlKGUpO2lzTmFOKHIpfHx0LnZpc1Byb3BPbGQuc3Ryb2tld2lkdGg9PT1yfHwoaT10LnJlbmROb2RlLHRoaXMuc2V0UHJvcGVydHlQcmltKGksXCJzdHJva2VkXCIsXCJ0cnVlXCIpLHMuZXhpc3RzKHIpJiZ0aGlzLnNldFByb3BlcnR5UHJpbShpLFwic3Ryb2tlLXdpZHRoXCIscitcInB4XCIpLHQudmlzUHJvcE9sZC5zdHJva2V3aWR0aD1yKX0sc2V0TGluZUNhcDpmdW5jdGlvbih0KXt2YXIgZT1zLmV2YWx1YXRlKHQudmlzUHJvcC5saW5lY2FwKTt2b2lkIDAhPT1lJiZcIlwiIT09ZSYmdC52aXNQcm9wT2xkLmxpbmVjYXAhPT1lJiZzLmV4aXN0cyh0LnJlbmROb2RlKSYmKHRoaXMuc2V0UHJvcGVydHlQcmltKHQucmVuZE5vZGUsXCJzdHJva2UtbGluZWNhcFwiLGUpLHQudmlzUHJvcE9sZC5saW5lY2FwPWUpfSxzZXRTaGFkb3c6ZnVuY3Rpb24odCl7dmFyIGU9cy5ldmFsdWF0ZSh0LnZpc1Byb3Auc2hhZG93KTt0LnZpc1Byb3BPbGQuc2hhZG93IT09ZSYmKHMuZXhpc3RzKHQucmVuZE5vZGUpJiYoZT90LnJlbmROb2RlLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWx0ZXJcIixcInVybCgjXCIrdGhpcy5jb250YWluZXIuaWQrXCJfZjEpXCIpOnQucmVuZE5vZGUucmVtb3ZlQXR0cmlidXRlTlMobnVsbCxcImZpbHRlclwiKSksdC52aXNQcm9wT2xkLnNoYWRvdz1lKX0sc3VzcGVuZFJlZHJhdzpmdW5jdGlvbigpe30sdW5zdXNwZW5kUmVkcmF3OmZ1bmN0aW9uKCl7fSxyZXNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLnN2Z1Jvb3Quc2V0QXR0cmlidXRlKFwid2lkdGhcIixwYXJzZUZsb2F0KHQpKSx0aGlzLnN2Z1Jvb3Quc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIscGFyc2VGbG9hdChlKSl9LGNyZWF0ZVRvdWNocG9pbnRzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzO2Zvcih0aGlzLnRvdWNocG9pbnRzPVtdLGU9MDtlPHQ7ZSsrKWk9XCJ0b3VjaHBvaW50MV9cIitlLHM9dGhpcy5jcmVhdGVQcmltKFwicGF0aFwiLGkpLHRoaXMuYXBwZW5kQ2hpbGRQcmltKHMsMTkpLHMuc2V0QXR0cmlidXRlTlMobnVsbCxcImRcIixcIk0gMCAwXCIpLHRoaXMudG91Y2hwb2ludHMucHVzaChzKSx0aGlzLnNldFByb3BlcnR5UHJpbShzLFwic3Ryb2tlZFwiLFwidHJ1ZVwiKSx0aGlzLnNldFByb3BlcnR5UHJpbShzLFwic3Ryb2tlLXdpZHRoXCIsXCIxcHhcIikscy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlXCIsXCIjMDAwMDAwXCIpLHMuc2V0QXR0cmlidXRlTlMobnVsbCxcInN0cm9rZS1vcGFjaXR5XCIsMSkscy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGlzcGxheVwiLFwibm9uZVwiKSxyPVwidG91Y2hwb2ludDJfXCIrZSxzPXRoaXMuY3JlYXRlUHJpbShcImVsbGlwc2VcIixyKSx0aGlzLmFwcGVuZENoaWxkUHJpbShzLDE5KSx0aGlzLnVwZGF0ZUVsbGlwc2VQcmltKHMsMCwwLDAsMCksdGhpcy50b3VjaHBvaW50cy5wdXNoKHMpLHRoaXMuc2V0UHJvcGVydHlQcmltKHMsXCJzdHJva2VkXCIsXCJ0cnVlXCIpLHRoaXMuc2V0UHJvcGVydHlQcmltKHMsXCJzdHJva2Utd2lkdGhcIixcIjFweFwiKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJzdHJva2VcIixcIiMwMDAwMDBcIikscy5zZXRBdHRyaWJ1dGVOUyhudWxsLFwic3Ryb2tlLW9wYWNpdHlcIiwxKSxzLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJmaWxsXCIsXCIjZmZmZmZmXCIpLHMuc2V0QXR0cmlidXRlTlMobnVsbCxcImZpbGwtb3BhY2l0eVwiLDApLHMuc2V0QXR0cmlidXRlTlMobnVsbCxcImRpc3BsYXlcIixcIm5vbmVcIil9LHNob3dUb3VjaHBvaW50OmZ1bmN0aW9uKHQpe3RoaXMudG91Y2hwb2ludHMmJnQ+PTAmJjIqdDx0aGlzLnRvdWNocG9pbnRzLmxlbmd0aCYmKHRoaXMudG91Y2hwb2ludHNbMip0XS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZGlzcGxheVwiLFwiaW5saW5lXCIpLHRoaXMudG91Y2hwb2ludHNbMip0KzFdLnNldEF0dHJpYnV0ZU5TKG51bGwsXCJkaXNwbGF5XCIsXCJpbmxpbmVcIikpfSxoaWRlVG91Y2hwb2ludDpmdW5jdGlvbih0KXt0aGlzLnRvdWNocG9pbnRzJiZ0Pj0wJiYyKnQ8dGhpcy50b3VjaHBvaW50cy5sZW5ndGgmJih0aGlzLnRvdWNocG9pbnRzWzIqdF0uc2V0QXR0cmlidXRlTlMobnVsbCxcImRpc3BsYXlcIixcIm5vbmVcIiksdGhpcy50b3VjaHBvaW50c1syKnQrMV0uc2V0QXR0cmlidXRlTlMobnVsbCxcImRpc3BsYXlcIixcIm5vbmVcIikpfSx1cGRhdGVUb3VjaHBvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGkscjt0aGlzLnRvdWNocG9pbnRzJiZ0Pj0wJiYyKnQ8dGhpcy50b3VjaHBvaW50cy5sZW5ndGgmJihpPWVbMF0scj1lWzFdLHRoaXMudG91Y2hwb2ludHNbMip0XS5zZXRBdHRyaWJ1dGVOUyhudWxsLFwiZFwiLFwiTSBcIisoaS0zNykrXCIgXCIrcitcIiBMIFwiKyhpKzM3KStcIiBcIityK1wiIE0gXCIraStcIiBcIisoci0zNykrXCIgTCBcIitpK1wiIFwiKyhyKzM3KSksdGhpcy51cGRhdGVFbGxpcHNlUHJpbSh0aGlzLnRvdWNocG9pbnRzWzIqdCsxXSxlWzBdLGVbMV0sMjUsMjUpKX0sX2dldFZhbHVlc09mRE9NRWxlbWVudHM6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYoMT09PXQubm9kZVR5cGUpZm9yKHQ9dC5maXJzdENoaWxkO3Q7KXZvaWQgMCE9PXQuaWQmJnZvaWQgMCE9PXQudmFsdWUmJmUucHVzaChbdC5pZCx0LnZhbHVlXSksZT1lLmNvbmNhdCh0aGlzLl9nZXRWYWx1ZXNPZkRPTUVsZW1lbnRzKHQpKSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGV9LF9nZXREYXRhVXJpOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IEltYWdlO2kub25sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt0LndpZHRoPXRoaXMubmF0dXJhbFdpZHRoLHQuaGVpZ2h0PXRoaXMubmF0dXJhbEhlaWdodCx0LmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UodGhpcywwLDApLGUodC50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIikpLHQucmVtb3ZlKCl9LGkuc3JjPXR9LF9nZXRJbWdEYXRhVVJMOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG8sbjtpZigoaT0oZT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1hZ2VcIikpLmxlbmd0aCk+MClmb3Iocj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLG49MDtuPGk7bisrKXtlW25dLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsXCJhbm9ueW1vdXNcIikscz1yLmdldENvbnRleHQoXCIyZFwiKSxyLndpZHRoPWVbbl0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIiksci5oZWlnaHQ9ZVtuXS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7dHJ5e3MuZHJhd0ltYWdlKGVbbl0sMCwwLHIud2lkdGgsci5oZWlnaHQpLG89ci50b0RhdGFVUkwoKSxlW25dLnNldEF0dHJpYnV0ZShcInhsaW5rOmhyZWZcIixvKX1jYXRjaCh0KXtjb25zb2xlLmxvZyhcIkNPUlMgcHJvYmxlbSEgSW1hZ2UgY2FuIG5vdCBiZSB1c2VkXCIsdCl9fXJldHVybiEwfSxkdW1wVG9EYXRhVVJJOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixvPXRoaXMuc3ZnUm9vdCxhPXdpbmRvdy5idG9hfHxuLmVuY29kZSxoPVtdO2lmKHRoaXMuY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSYmcy5leGlzdHModGhpcy5mb3JlaWduT2JqTGF5ZXIpKWZvcih0fHx0aGlzLmZvcmVpZ25PYmpMYXllci5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsXCJpbmxpbmVcIik7by5uZXh0U2libGluZzspaD1oLmNvbmNhdCh0aGlzLl9nZXRWYWx1ZXNPZkRPTUVsZW1lbnRzKG8ubmV4dFNpYmxpbmcpKSx0aGlzLmZvcmVpZ25PYmpMYXllci5hcHBlbmRDaGlsZChvLm5leHRTaWJsaW5nKTtpZih0aGlzLl9nZXRJbWdEYXRhVVJMKG8pLG8uc2V0QXR0cmlidXRlKFwieG1sbnNcIixcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIpLGU9KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhvKSwhMCE9PXQpZm9yKHI9aC5sZW5ndGgsaT0wO2k8cjtpKyspZT1lLnJlcGxhY2UoJ2lkPVwiJytoW2ldWzBdKydcIicsJ2lkPVwiJytoW2ldWzBdKydcIiB2YWx1ZT1cIicraFtpXVsxXSsnXCInKTtpZigoZS5tYXRjaCgveG1sbnM9XCJodHRwOlxcL1xcL3d3dy53My5vcmdcXC8yMDAwXFwvc3ZnXCIvZyl8fFtdKS5sZW5ndGg+MSYmKGU9ZS5yZXBsYWNlKC94bWxucz1cImh0dHA6XFwvXFwvd3d3LnczLm9yZ1xcLzIwMDBcXC9zdmdcIi9nLFwiXCIpKSxlPWUucmVwbGFjZSgvJm5ic3A7L2csXCIgXCIpLHMuZXhpc3RzKHRoaXMuZm9yZWlnbk9iakxheWVyKSYmdGhpcy5mb3JlaWduT2JqTGF5ZXIuaGFzQ2hpbGROb2RlcygpKXtmb3IoO3RoaXMuZm9yZWlnbk9iakxheWVyLmZpcnN0Q2hpbGQ7KXRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZm9yZWlnbk9iakxheWVyLmZpcnN0Q2hpbGQpO3RoaXMuZm9yZWlnbk9iakxheWVyLnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIixcIm5vbmVcIil9cmV0dXJuXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFwiK2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSl9LGR1bXBUb0NhbnZhczpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvLG4sYTtyZXR1cm4obj10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpKS53aWR0aD1uLndpZHRoLGE9bi5nZXRDb250ZXh0KFwiMmRcIiksdm9pZCAwIT09ZSYmdm9pZCAwIT09aSYmKG4uc3R5bGUud2lkdGg9cGFyc2VGbG9hdChlKStcInB4XCIsbi5zdHlsZS5oZWlnaHQ9cGFyc2VGbG9hdChpKStcInB4XCIsbi5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHBhcnNlRmxvYXQoZSkpLG4uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIscGFyc2VGbG9hdChpKSkpLG89bmV3IEltYWdlLHM9dGhpcy5kdW1wVG9EYXRhVVJJKHIpLG8uc3JjPXMsXCJQcm9taXNlXCJpbiB3aW5kb3c/bmV3IFByb21pc2UoKGZ1bmN0aW9uKHQscil7dHJ5e28ub25sb2FkPWZ1bmN0aW9uKCl7YS5kcmF3SW1hZ2UobywwLDAsZSxpKSx0KCl9fWNhdGNoKHQpe3IodCl9fSkpOihvLm9ubG9hZD1mdW5jdGlvbigpe3dpbmRvdy5zZXRUaW1lb3V0KChmdW5jdGlvbigpe3RyeXthLmRyYXdJbWFnZShvLDAsMCxlLGkpfWNhdGNoKHQpe2NvbnNvbGUubG9nKFwic2NyZWVuc2hvdHMgbm90IGxvbmdlciBzdXBwb3J0ZWQgb24gSUVcIil9fSksMjAwKX0sdGhpcyl9LHNjcmVlbnNob3Q6ZnVuY3Rpb24odCxlLGkpe3ZhciByLG8sbixhLGgsbCxjLGQsdSxwLGYsbT10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LGc9dGhpcy5jb250YWluZXIucGFyZW50Tm9kZSxiPXQuYXR0ci5zY3JlZW5zaG90LHY9ITE7cmV0dXJuXCJub1wiPT09dGhpcy50eXBlfHwoYz1iLnNjYWxlKnRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLGQ9Yi5zY2FsZSp0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQsdm9pZCAwPT09ZXx8XCJcIj09PWU/KHY9ITAsKGE9bmV3IEltYWdlKS5zdHlsZS53aWR0aD1jK1wicHhcIixhLnN0eWxlLmhlaWdodD1kK1wicHhcIik6KHY9ITEsYT1tLmdldEVsZW1lbnRCeUlkKGUpKSx2JiYoKHI9bS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zdHlsZS5jc3NUZXh0PWIuY3NzLHIuc3R5bGUud2lkdGg9YytcInB4XCIsci5zdHlsZS5oZWlnaHQ9ZCtcInB4XCIsci5zdHlsZS56SW5kZXg9dGhpcy5jb250YWluZXIuc3R5bGUuekluZGV4KzEyMCxyLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixyLnN0eWxlLnRvcD10aGlzLmNvbnRhaW5lci5vZmZzZXRUb3ArXCJweFwiLHIuc3R5bGUubGVmdD10aGlzLmNvbnRhaW5lci5vZmZzZXRMZWZ0K1wicHhcIiksbz1tLmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksbj1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiw1KSxvLnNldEF0dHJpYnV0ZShcImlkXCIsbiksby5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGMpLG8uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsZCksby5zdHlsZS53aWR0aD1jK1wicHhcIixvLnN0eWxlLmhlaWdodD1jK1wicHhcIixvLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZy5hcHBlbmRDaGlsZChvKSx2JiYoaD1tLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLGw9bS5jcmVhdGVUZXh0Tm9kZShcIuKcllwiKSxoLnN0eWxlLmNzc1RleHQ9Yi5jc3NCdXR0b24saC5hcHBlbmRDaGlsZChsKSxoLm9uY2xpY2s9ZnVuY3Rpb24oKXtyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocil9LHIuYXBwZW5kQ2hpbGQoYSksci5hcHBlbmRDaGlsZChoKSxnLmluc2VydEJlZm9yZShyLHRoaXMuY29udGFpbmVyLm5leHRTaWJsaW5nKSksdT1tLmdldEVsZW1lbnRCeUlkKHRoaXMuY29udGFpbmVyLmlkK1wiX25hdmlnYXRpb25iYXJcIikscy5leGlzdHModSkmJihwPXUuc3R5bGUuZGlzcGxheSx1LnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLGY9ZnVuY3Rpb24oKXthLnNyYz1vLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSxnLnJlbW92ZUNoaWxkKG8pfSxcIlByb21pc2VcImluIHdpbmRvdz90aGlzLmR1bXBUb0NhbnZhcyhuLGMsZCxpKS50aGVuKGYpOih0aGlzLmR1bXBUb0NhbnZhcyhuLGMsZCxpKSx3aW5kb3cuc2V0VGltZW91dChmLDIwMCkpLHMuZXhpc3RzKHUpJiYodS5zdHlsZS5kaXNwbGF5PXApKSx0aGlzfX0pLHQuU1ZHUmVuZGVyZXJ9KSksZGVmaW5lKFwicmVuZGVyZXIvdm1sXCIsW1wianhnXCIsXCJyZW5kZXJlci9hYnN0cmFjdFwiLFwiYmFzZS9jb25zdGFudHNcIixcInV0aWxzL3R5cGVcIixcInV0aWxzL2NvbG9yXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvbnVtZXJpY3NcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe1widXNlIHN0cmljdFwiO3JldHVybiB0LlZNTFJlbmRlcmVyPWZ1bmN0aW9uKGUpe3RoaXMudHlwZT1cInZtbFwiLHRoaXMuY29udGFpbmVyPWUsdGhpcy5jb250YWluZXIuc3R5bGUub3ZlcmZsb3c9XCJoaWRkZW5cIixcIlwiPT09dGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24mJih0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLHRoaXMuY29udGFpbmVyLm9uc2VsZWN0c3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdGhpcy5yZXNvbHV0aW9uPTEwLHIuZXhpc3RzKHQudm1sU3R5bGVzaGVldCl8fChlLm93bmVyRG9jdW1lbnQubmFtZXNwYWNlcy5hZGQoXCJqeGd2bWxcIixcInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sXCIpLHQudm1sU3R5bGVzaGVldD10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoKSx0LnZtbFN0eWxlc2hlZXQuYWRkUnVsZShcIi5qeGd2bWxcIixcImJlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpXCIpKTt0cnl7ZS5vd25lckRvY3VtZW50Lm5hbWVzcGFjZXMuanhndm1sfHxlLm93bmVyRG9jdW1lbnQubmFtZXNwYWNlcy5hZGQoXCJqeGd2bWxcIixcInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sXCIpLHRoaXMuY3JlYXRlTm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCI8anhndm1sOlwiK3QrJyBjbGFzcz1cImp4Z3ZtbFwiPicpfX1jYXRjaCh0KXt0aGlzLmNyZWF0ZU5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiPFwiK3QrJyB4bWxucz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sXCIgY2xhc3M9XCJqeGd2bWxcIj4nKX19dGhpcy5kYXNoQXJyYXk9W1wiU29saWRcIixcIjEgMVwiLFwiU2hvcnREYXNoXCIsXCJEYXNoXCIsXCJMb25nRGFzaFwiLFwiU2hvcnREYXNoRG90XCIsXCJMb25nRGFzaERvdFwiXX0sdC5WTUxSZW5kZXJlci5wcm90b3R5cGU9bmV3IGUsdC5leHRlbmQodC5WTUxSZW5kZXJlci5wcm90b3R5cGUse19zZXRBdHRyOmZ1bmN0aW9uKGUsaSxyLHMpe3RyeXs4PT09dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5kb2N1bWVudE1vZGU/ZVtpXT1yOmUuc2V0QXR0cmlidXRlKGkscixzKX1jYXRjaChlKXt0LmRlYnVnKFwiX3NldEF0dHI6IFwiK2krXCIgXCIrcitcIjxicj5cXG5cIil9fSx1cGRhdGVUaWNrczpmdW5jdGlvbih0KXt2YXIgZSxpLHMsbyxuLGE9dGhpcy5yZXNvbHV0aW9uLGg9W107Zm9yKGk9dC50aWNrcy5sZW5ndGgsZT0wO2U8aTtlKyspbz0ocz10LnRpY2tzW2VdKVswXSxuPXNbMV0sci5pc051bWJlcihvWzBdKSYmci5pc051bWJlcihvWzFdKSYmaC5wdXNoKFwiIG0gXCIrTWF0aC5yb3VuZChhKm9bMF0pK1wiLCBcIitNYXRoLnJvdW5kKGEqblswXSkrXCIgbCBcIitNYXRoLnJvdW5kKGEqb1sxXSkrXCIsIFwiK01hdGgucm91bmQoYSpuWzFdKStcIiBcIik7ci5leGlzdHModC5yZW5kTm9kZSl8fCh0LnJlbmROb2RlPXRoaXMuY3JlYXRlUHJpbShcInBhdGhcIix0LmlkKSx0aGlzLmFwcGVuZENoaWxkUHJpbSh0LnJlbmROb2RlLHIuZXZhbHVhdGUodC52aXNQcm9wLmxheWVyKSkpLHRoaXMuX3NldEF0dHIodC5yZW5kTm9kZSxcInN0cm9rZWRcIixcInRydWVcIiksdGhpcy5fc2V0QXR0cih0LnJlbmROb2RlLFwic3Ryb2tlY29sb3JcIixyLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2Vjb2xvciksMSksdGhpcy5fc2V0QXR0cih0LnJlbmROb2RlLFwic3Ryb2tld2VpZ2h0XCIsci5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tld2lkdGgpKSx0aGlzLl9zZXRBdHRyKHQucmVuZE5vZGVTdHJva2UsXCJvcGFjaXR5XCIsMTAwKnIuZXZhbHVhdGUodC52aXNQcm9wLnN0cm9rZW9wYWNpdHkpK1wiJVwiKSx0aGlzLnVwZGF0ZVBhdGhQcmltKHQucmVuZE5vZGUsaCx0LmJvYXJkKX0sZGlzcGxheUNvcHlyaWdodDpmdW5jdGlvbih0LGUpe3ZhciBpLHI7KGk9dGhpcy5jcmVhdGVOb2RlKFwidGV4dGJveFwiKSkuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuX3NldEF0dHIoaSxcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfbGljZW5zZVRleHRcIiksaS5zdHlsZS5sZWZ0PTIwLGkuc3R5bGUudG9wPTIsaS5zdHlsZS5mb250U2l6ZT1lLGkuc3R5bGUuY29sb3I9XCIjMzU2QUEwXCIsaS5zdHlsZS5mb250RmFtaWx5PVwiQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWZcIix0aGlzLl9zZXRBdHRyKGksXCJvcGFjaXR5XCIsXCIzMCVcIiksaS5zdHlsZS5maWx0ZXI9XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0nMS4wJywgc2l6aW5nTWV0aG9kPSdhdXRvIGV4cGFuZCcsIGVuYWJsZWQgPSBmYWxzZSkgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKG9wYWNpdHkgPSAzMCwgZW5hYmxlZCA9IHRydWUpXCIscj10aGlzLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpLGkuYXBwZW5kQ2hpbGQociksdGhpcy5hcHBlbmRDaGlsZFByaW0oaSwwKX0sZHJhd0ludGVybmFsVGV4dDpmdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLmNyZWF0ZU5vZGUoXCJ0ZXh0Ym94XCIpKS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdC5yZW5kTm9kZVRleHQ9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxlLmFwcGVuZENoaWxkKHQucmVuZE5vZGVUZXh0KSx0aGlzLmFwcGVuZENoaWxkUHJpbShlLDkpLGUuc3R5bGUuZmlsdGVyPVwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9JzEuMCcsIHNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnLCBlbmFibGVkID0gZmFsc2UpIHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5ID0gMTAwLCBlbmFibGVkID0gZmFsc2UpXCIsZX0sdXBkYXRlSW50ZXJuYWxUZXh0OmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG4sYSxoPXQucGxhaW50ZXh0LGw9dGhpcy5qb2luVHJhbnNmb3Jtcyh0LHQudHJhbnNmb3JtYXRpb25zKSxjPVswLDBdLGQ9dC5yZW5kTm9kZSx1PVtdLHA9dC5nZXRBbmNob3JYKCksZj10LmdldEFuY2hvclkoKTtpZighaXNOYU4odC5jb29yZHMuc2NyQ29vcmRzWzFdK3QuY29vcmRzLnNjckNvb3Jkc1syXSkpe2ZvcihcInJpZ2h0XCI9PT1wP2NbMF09MTpcIm1pZGRsZVwiPT09cCYmKGNbMF09LjUpLFwiYm90dG9tXCI9PT1mP2NbMV09MTpcIm1pZGRsZVwiPT09ZiYmKGNbMV09LjUpLHVbMF09by5tYXRWZWNNdWx0KGwsWzEsdC5jb29yZHMuc2NyQ29vcmRzWzFdLWNbMF0qdC5zaXplWzBdLHQuY29vcmRzLnNjckNvb3Jkc1syXSsoMS1jWzFdKSp0LnNpemVbMV0rdGhpcy52T2Zmc2V0VGV4dF0pLHVbMF1bMV0vPXVbMF1bMF0sdVswXVsyXS89dVswXVswXSx1WzFdPW8ubWF0VmVjTXVsdChsLFsxLHQuY29vcmRzLnNjckNvb3Jkc1sxXSsoMS1jWzBdKSp0LnNpemVbMF0sdC5jb29yZHMuc2NyQ29vcmRzWzJdKygxLWNbMV0pKnQuc2l6ZVsxXSt0aGlzLnZPZmZzZXRUZXh0XSksdVsxXVsxXS89dVsxXVswXSx1WzFdWzJdLz11WzFdWzBdLHVbMl09by5tYXRWZWNNdWx0KGwsWzEsdC5jb29yZHMuc2NyQ29vcmRzWzFdKygxLWNbMF0pKnQuc2l6ZVswXSx0LmNvb3Jkcy5zY3JDb29yZHNbMl0tY1sxXSp0LnNpemVbMV0rdGhpcy52T2Zmc2V0VGV4dF0pLHVbMl1bMV0vPXVbMl1bMF0sdVsyXVsyXS89dVsyXVswXSx1WzNdPW8ubWF0VmVjTXVsdChsLFsxLHQuY29vcmRzLnNjckNvb3Jkc1sxXS1jWzBdKnQuc2l6ZVswXSx0LmNvb3Jkcy5zY3JDb29yZHNbMl0tY1sxXSp0LnNpemVbMV0rdGhpcy52T2Zmc2V0VGV4dF0pLHVbM11bMV0vPXVbM11bMF0sdVszXVsyXS89dVszXVswXSxpPXVbMF1bMV0scz11WzBdWzFdLHI9dVswXVsyXSxuPXVbMF1bMl0sYT0xO2E8NDthKyspaT1NYXRoLm1heChpLHVbYV1bMV0pLHM9TWF0aC5taW4ocyx1W2FdWzFdKSxyPU1hdGgubWF4KHIsdVthXVsyXSksbj1NYXRoLm1pbihuLHVbYV1bMl0pO2U9MT09PWNbMF0/TWF0aC5mbG9vcih0LmJvYXJkLmNhbnZhc1dpZHRoLWkpOk1hdGguZmxvb3IocyksdC52aXNQcm9wT2xkLmxlZnQhPT1wK2UmJigxPT09Y1swXT8odC5yZW5kTm9kZS5zdHlsZS5yaWdodD1lK1wicHhcIix0LnJlbmROb2RlLnN0eWxlLmxlZnQ9XCJhdXRvXCIpOih0LnJlbmROb2RlLnN0eWxlLmxlZnQ9ZStcInB4XCIsdC5yZW5kTm9kZS5zdHlsZS5yaWdodD1cImF1dG9cIiksdC52aXNQcm9wT2xkLmxlZnQ9cCtlKSxlPTE9PT1jWzFdP01hdGguZmxvb3IodC5ib2FyZC5jYW52YXNIZWlnaHQtcik6TWF0aC5mbG9vcihuKSx0LnZpc1Byb3BPbGQudG9wIT09ZitlJiYoMT09PWNbMV0/KHQucmVuZE5vZGUuc3R5bGUuYm90dG9tPWUrXCJweFwiLHQucmVuZE5vZGUuc3R5bGUudG9wPVwiYXV0b1wiKToodC5yZW5kTm9kZS5zdHlsZS50b3A9ZStcInB4XCIsdC5yZW5kTm9kZS5zdHlsZS5ib3R0b209XCJhdXRvXCIpLHQudmlzUHJvcE9sZC50b3A9ZitlKX10Lmh0bWxTdHIhPT1oJiYodC5yZW5kTm9kZVRleHQuZGF0YT1oLHQuaHRtbFN0cj1oKSxkLmZpbHRlcnMuaXRlbSgwKS5NMTE9bFsxXVsxXSxkLmZpbHRlcnMuaXRlbSgwKS5NMTI9bFsxXVsyXSxkLmZpbHRlcnMuaXRlbSgwKS5NMjE9bFsyXVsxXSxkLmZpbHRlcnMuaXRlbSgwKS5NMjI9bFsyXVsyXSxkLmZpbHRlcnMuaXRlbSgwKS5lbmFibGVkPSEwfSxkcmF3SW1hZ2U6ZnVuY3Rpb24odCl7dmFyIGU7KGU9dGhpcy5jb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpKS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5fc2V0QXR0cihlLFwiaWRcIix0aGlzLmNvbnRhaW5lci5pZCtcIl9cIit0LmlkKSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChlKSx0aGlzLmFwcGVuZENoaWxkUHJpbShlLHIuZXZhbHVhdGUodC52aXNQcm9wLmxheWVyKSksZS5zdHlsZS5maWx0ZXI9XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0nMS4wJywgc2l6aW5nTWV0aG9kPSdhdXRvIGV4cGFuZCcpIHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5ID0gMTAwLCBlbmFibGVkID0gZmFsc2UpXCIsdC5yZW5kTm9kZT1lLHRoaXMudXBkYXRlSW1hZ2UodCl9LHRyYW5zZm9ybUltYWdlOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG4sYSxoLGw9dC5yZW5kTm9kZSxjPVtdO2lmKGUubGVuZ3RoPjApe2ZvcihpPXRoaXMuam9pblRyYW5zZm9ybXModCxlKSxjWzBdPW8ubWF0VmVjTXVsdChpLHQuY29vcmRzLnNjckNvb3JkcyksY1swXVsxXS89Y1swXVswXSxjWzBdWzJdLz1jWzBdWzBdLGNbMV09by5tYXRWZWNNdWx0KGksWzEsdC5jb29yZHMuc2NyQ29vcmRzWzFdK3Quc2l6ZVswXSx0LmNvb3Jkcy5zY3JDb29yZHNbMl1dKSxjWzFdWzFdLz1jWzFdWzBdLGNbMV1bMl0vPWNbMV1bMF0sY1syXT1vLm1hdFZlY011bHQoaSxbMSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0rdC5zaXplWzBdLHQuY29vcmRzLnNjckNvb3Jkc1syXS10LnNpemVbMV1dKSxjWzJdWzFdLz1jWzJdWzBdLGNbMl1bMl0vPWNbMl1bMF0sY1szXT1vLm1hdFZlY011bHQoaSxbMSx0LmNvb3Jkcy5zY3JDb29yZHNbMV0sdC5jb29yZHMuc2NyQ29vcmRzWzJdLXQuc2l6ZVsxXV0pLGNbM11bMV0vPWNbM11bMF0sY1szXVsyXS89Y1szXVswXSxyPWNbMF1bMV0sbj1jWzBdWzFdLHM9Y1swXVsyXSxhPWNbMF1bMl0saD0xO2g8NDtoKyspcj1NYXRoLm1heChyLGNbaF1bMV0pLG49TWF0aC5taW4obixjW2hdWzFdKSxzPU1hdGgubWF4KHMsY1toXVsyXSksYT1NYXRoLm1pbihhLGNbaF1bMl0pO2wuc3R5bGUubGVmdD1NYXRoLmZsb29yKG4pK1wicHhcIixsLnN0eWxlLnRvcD1NYXRoLmZsb29yKGEpK1wicHhcIixsLmZpbHRlcnMuaXRlbSgwKS5NMTE9aVsxXVsxXSxsLmZpbHRlcnMuaXRlbSgwKS5NMTI9aVsxXVsyXSxsLmZpbHRlcnMuaXRlbSgwKS5NMjE9aVsyXVsxXSxsLmZpbHRlcnMuaXRlbSgwKS5NMjI9aVsyXVsyXSxsLmZpbHRlcnMuaXRlbSgwKS5lbmFibGVkPSEwfX0sdXBkYXRlSW1hZ2VVUkw6ZnVuY3Rpb24odCl7dmFyIGU9ci5ldmFsdWF0ZSh0LnVybCk7dGhpcy5fc2V0QXR0cih0LnJlbmROb2RlLFwic3JjXCIsZSl9LGFwcGVuZENoaWxkUHJpbTpmdW5jdGlvbih0LGUpe3JldHVybiByLmV4aXN0cyhlKXx8KGU9MCksdC5zdHlsZS56SW5kZXg9ZSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0KSx0fSxhcHBlbmROb2Rlc1RvRWxlbWVudDpmdW5jdGlvbih0LGUpe1wic2hhcGVcIiE9PWUmJlwicGF0aFwiIT09ZSYmXCJwb2x5Z29uXCIhPT1lfHwodC5yZW5kTm9kZVBhdGg9dGhpcy5nZXRFbGVtZW50QnlJZCh0LmlkK1wiX3BhdGhcIikpLHQucmVuZE5vZGVGaWxsPXRoaXMuZ2V0RWxlbWVudEJ5SWQodC5pZCtcIl9maWxsXCIpLHQucmVuZE5vZGVTdHJva2U9dGhpcy5nZXRFbGVtZW50QnlJZCh0LmlkK1wiX3N0cm9rZVwiKSx0LnJlbmROb2RlU2hhZG93PXRoaXMuZ2V0RWxlbWVudEJ5SWQodC5pZCtcIl9zaGFkb3dcIiksdC5yZW5kTm9kZT10aGlzLmdldEVsZW1lbnRCeUlkKHQuaWQpfSxjcmVhdGVQcmltOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzPXRoaXMuY3JlYXRlTm9kZShcImZpbGxcIiksbz10aGlzLmNyZWF0ZU5vZGUoXCJzdHJva2VcIiksbj10aGlzLmNyZWF0ZU5vZGUoXCJzaGFkb3dcIik7cmV0dXJuIHRoaXMuX3NldEF0dHIocyxcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfXCIrZStcIl9maWxsXCIpLHRoaXMuX3NldEF0dHIobyxcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfXCIrZStcIl9zdHJva2VcIiksdGhpcy5fc2V0QXR0cihuLFwiaWRcIix0aGlzLmNvbnRhaW5lci5pZCtcIl9cIitlK1wiX3NoYWRvd1wiKSxcImNpcmNsZVwiPT09dHx8XCJlbGxpcHNlXCI9PT10PygoaT10aGlzLmNyZWF0ZU5vZGUoXCJvdmFsXCIpKS5hcHBlbmRDaGlsZChzKSxpLmFwcGVuZENoaWxkKG8pLGkuYXBwZW5kQ2hpbGQobikpOlwicG9seWdvblwiPT09dHx8XCJwYXRoXCI9PT10fHxcInNoYXBlXCI9PT10fHxcImxpbmVcIj09PXQ/KChpPXRoaXMuY3JlYXRlTm9kZShcInNoYXBlXCIpKS5hcHBlbmRDaGlsZChzKSxpLmFwcGVuZENoaWxkKG8pLGkuYXBwZW5kQ2hpbGQobikscj10aGlzLmNyZWF0ZU5vZGUoXCJwYXRoXCIpLHRoaXMuX3NldEF0dHIocixcImlkXCIsdGhpcy5jb250YWluZXIuaWQrXCJfXCIrZStcIl9wYXRoXCIpLGkuYXBwZW5kQ2hpbGQocikpOigoaT10aGlzLmNyZWF0ZU5vZGUodCkpLmFwcGVuZENoaWxkKHMpLGkuYXBwZW5kQ2hpbGQobyksaS5hcHBlbmRDaGlsZChuKSksaS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsaS5zdHlsZS5sZWZ0PVwiMHB4XCIsaS5zdHlsZS50b3A9XCIwcHhcIix0aGlzLl9zZXRBdHRyKGksXCJpZFwiLHRoaXMuY29udGFpbmVyLmlkK1wiX1wiK2UpLGl9LHJlbW92ZTpmdW5jdGlvbih0KXtyLmV4aXN0cyh0KSYmdC5yZW1vdmVOb2RlKCEwKX0sbWFrZUFycm93czpmdW5jdGlvbih0KXt2YXIgZSxpPXIuZXZhbHVhdGUodC52aXNQcm9wLmZpcnN0YXJyb3cpLHM9ci5ldmFsdWF0ZSh0LnZpc1Byb3AubGFzdGFycm93KTt0LnZpc1Byb3BPbGQuZmlyc3RhcnJvdz09PWkmJnQudmlzUHJvcE9sZC5sYXN0YXJyb3c9PT1zfHwoaT8oZT10LnJlbmROb2RlU3Ryb2tlLHRoaXMuX3NldEF0dHIoZSxcInN0YXJ0YXJyb3dcIixcImJsb2NrXCIpLHRoaXMuX3NldEF0dHIoZSxcInN0YXJ0YXJyb3dsZW5ndGhcIixcImxvbmdcIikpOihlPXQucmVuZE5vZGVTdHJva2Usci5leGlzdHMoZSkmJnRoaXMuX3NldEF0dHIoZSxcInN0YXJ0YXJyb3dcIixcIm5vbmVcIikpLHM/KGU9dC5yZW5kTm9kZVN0cm9rZSx0aGlzLl9zZXRBdHRyKGUsXCJpZFwiLHRoaXMuY29udGFpbmVyLmlkK1wiX1wiK3QuaWQrXCJzdHJva2VcIiksdGhpcy5fc2V0QXR0cihlLFwiZW5kYXJyb3dcIixcImJsb2NrXCIpLHRoaXMuX3NldEF0dHIoZSxcImVuZGFycm93bGVuZ3RoXCIsXCJsb25nXCIpKTooZT10LnJlbmROb2RlU3Ryb2tlLHIuZXhpc3RzKGUpJiZ0aGlzLl9zZXRBdHRyKGUsXCJlbmRhcnJvd1wiLFwibm9uZVwiKSksdC52aXNQcm9wT2xkLmZpcnN0YXJyb3c9aSx0LnZpc1Byb3BPbGQubGFzdGFycm93PXMpfSx1cGRhdGVFbGxpcHNlUHJpbTpmdW5jdGlvbih0LGUsaSxyLHMpe3Quc3R5bGUubGVmdD1NYXRoLmZsb29yKGUtcikrXCJweFwiLHQuc3R5bGUudG9wPU1hdGguZmxvb3IoaS1zKStcInB4XCIsdC5zdHlsZS53aWR0aD1NYXRoLmZsb29yKDIqTWF0aC5hYnMocikpK1wicHhcIix0LnN0eWxlLmhlaWdodD1NYXRoLmZsb29yKDIqTWF0aC5hYnMocykpK1wicHhcIn0sdXBkYXRlTGluZVByaW06ZnVuY3Rpb24odCxlLGkscixzLG8pe3ZhciBuLGE9dGhpcy5yZXNvbHV0aW9uO2lzTmFOKGUraStyK3MpfHwobj1bXCJtIFwiLE1hdGguZmxvb3IoYSplKSxcIiwgXCIsTWF0aC5mbG9vcihhKmkpLFwiIGwgXCIsTWF0aC5mbG9vcihhKnIpLFwiLCBcIixNYXRoLmZsb29yKGEqcyldLHRoaXMudXBkYXRlUGF0aFByaW0odCxuLG8pKX0sdXBkYXRlUGF0aFByaW06ZnVuY3Rpb24odCxlLGkpe3ZhciByPWkuY2FudmFzV2lkdGgscz1pLmNhbnZhc0hlaWdodDtlLmxlbmd0aDw9MCYmKGU9W1wibSAwLDBcIl0pLHQuc3R5bGUud2lkdGg9cix0LnN0eWxlLmhlaWdodD1zLHRoaXMuX3NldEF0dHIodCxcImNvb3Jkc2l6ZVwiLFtNYXRoLmZsb29yKHRoaXMucmVzb2x1dGlvbipyKSxNYXRoLmZsb29yKHRoaXMucmVzb2x1dGlvbipzKV0uam9pbihcIixcIikpLHRoaXMuX3NldEF0dHIodCxcInBhdGhcIixlLmpvaW4oXCJcIikpfSx1cGRhdGVQYXRoU3RyaW5nUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe3ZhciByPVtdLHM9TWF0aC5yb3VuZCxvPXQuY29vcmRzLnNjckNvb3JkcyxuPWUqTWF0aC5zcXJ0KDMpKi41LGE9LjUqZSxoPXRoaXMucmVzb2x1dGlvbjtyZXR1cm5cInhcIj09PWk/ci5wdXNoKFtcIiBtIFwiLHMoaCoob1sxXS1lKSksXCIsIFwiLHMoaCoob1syXS1lKSksXCIgbCBcIixzKGgqKG9bMV0rZSkpLFwiLCBcIixzKGgqKG9bMl0rZSkpLFwiIG0gXCIscyhoKihvWzFdK2UpKSxcIiwgXCIscyhoKihvWzJdLWUpKSxcIiBsIFwiLHMoaCoob1sxXS1lKSksXCIsIFwiLHMoaCoob1syXStlKSldLmpvaW4oXCJcIikpOlwiK1wiPT09aT9yLnB1c2goW1wiIG0gXCIscyhoKihvWzFdLWUpKSxcIiwgXCIscyhoKm9bMl0pLFwiIGwgXCIscyhoKihvWzFdK2UpKSxcIiwgXCIscyhoKm9bMl0pLFwiIG0gXCIscyhoKm9bMV0pLFwiLCBcIixzKGgqKG9bMl0tZSkpLFwiIGwgXCIscyhoKm9bMV0pLFwiLCBcIixzKGgqKG9bMl0rZSkpXS5qb2luKFwiXCIpKTpcIjw+XCI9PT1pP3IucHVzaChbXCIgbSBcIixzKGgqKG9bMV0tZSkpLFwiLCBcIixzKGgqb1syXSksXCIgbCBcIixzKGgqb1sxXSksXCIsIFwiLHMoaCoob1syXStlKSksXCIgbCBcIixzKGgqKG9bMV0rZSkpLFwiLCBcIixzKGgqb1syXSksXCIgbCBcIixzKGgqb1sxXSksXCIsIFwiLHMoaCoob1syXS1lKSksXCIgeCBlIFwiXS5qb2luKFwiXCIpKTpcIl5cIj09PWk/ci5wdXNoKFtcIiBtIFwiLHMoaCpvWzFdKSxcIiwgXCIscyhoKihvWzJdLWUpKSxcIiBsIFwiLHMoaCoob1sxXS1uKSksXCIsIFwiLHMoaCoob1syXSthKSksXCIgbCBcIixzKGgqKG9bMV0rbikpLFwiLCBcIixzKGgqKG9bMl0rYSkpLFwiIHggZSBcIl0uam9pbihcIlwiKSk6XCJ2XCI9PT1pP3IucHVzaChbXCIgbSBcIixzKGgqb1sxXSksXCIsIFwiLHMoaCoob1syXStlKSksXCIgbCBcIixzKGgqKG9bMV0tbikpLFwiLCBcIixzKGgqKG9bMl0tYSkpLFwiIGwgXCIscyhoKihvWzFdK24pKSxcIiwgXCIscyhoKihvWzJdLWEpKSxcIiB4IGUgXCJdLmpvaW4oXCJcIikpOlwiPlwiPT09aT9yLnB1c2goW1wiIG0gXCIscyhoKihvWzFdK2UpKSxcIiwgXCIscyhoKm9bMl0pLFwiIGwgXCIscyhoKihvWzFdLWEpKSxcIiwgXCIscyhoKihvWzJdLW4pKSxcIiBsIFwiLHMoaCoob1sxXS1hKSksXCIsIFwiLHMoaCoob1syXStuKSksXCIgbCBcIixzKGgqKG9bMV0rZSkpLFwiLCBcIixzKGgqb1syXSldLmpvaW4oXCJcIikpOlwiPFwiPT09aSYmci5wdXNoKFtcIiBtIFwiLHMoaCoob1sxXS1lKSksXCIsIFwiLHMoaCpvWzJdKSxcIiBsIFwiLHMoaCoob1sxXSthKSksXCIsIFwiLHMoaCoob1syXS1uKSksXCIgbCBcIixzKGgqKG9bMV0rYSkpLFwiLCBcIixzKGgqKG9bMl0rbikpLFwiIHggZSBcIl0uam9pbihcIlwiKSkscn0sdXBkYXRlUGF0aFN0cmluZ1ByaW06ZnVuY3Rpb24odCl7dmFyIGUsaSxyPVtdLHM9dGhpcy5yZXNvbHV0aW9uLG89TWF0aC5yb3VuZCxuPVwiIG0gXCIsYT1uLGg9TWF0aC5taW4odC5udW1iZXJQb2ludHMsODE5Mik7aWYodC5udW1iZXJQb2ludHM8PTApcmV0dXJuXCJcIjtpZihoPU1hdGgubWluKGgsdC5wb2ludHMubGVuZ3RoKSwxPT09dC5iZXppZXJEZWdyZWUpZm9yKGU9MDtlPGg7ZSsrKWk9dC5wb2ludHNbZV0uc2NyQ29vcmRzLGlzTmFOKGlbMV0pfHxpc05hTihpWzJdKT9hPW46KGlbMV0+MmU0P2lbMV09MmU0OmlbMV08LTJlNCYmKGlbMV09LTJlNCksaVsyXT4yZTQ/aVsyXT0yZTQ6aVsyXTwtMmU0JiYoaVsyXT0tMmU0KSxyLnB1c2goW2EsbyhzKmlbMV0pLFwiLCBcIixvKHMqaVsyXSldLmpvaW4oXCJcIikpLGE9XCIgbCBcIik7ZWxzZSBpZigzPT09dC5iZXppZXJEZWdyZWUpZm9yKGU9MDtlPGg7KWk9dC5wb2ludHNbZV0uc2NyQ29vcmRzLGlzTmFOKGlbMV0pfHxpc05hTihpWzJdKT9hPW46KHIucHVzaChbYSxvKHMqaVsxXSksXCIsIFwiLG8ocyppWzJdKV0uam9pbihcIlwiKSksXCIgYyBcIj09PWEmJihlKz0xLGk9dC5wb2ludHNbZV0uc2NyQ29vcmRzLHIucHVzaChbXCIgXCIsbyhzKmlbMV0pLFwiLCBcIixvKHMqaVsyXSldLmpvaW4oXCJcIikpLGUrPTEsaT10LnBvaW50c1tlXS5zY3JDb29yZHMsci5wdXNoKFtcIiBcIixvKHMqaVsxXSksXCIsIFwiLG8ocyppWzJdKV0uam9pbihcIlwiKSkpLGE9XCIgYyBcIiksZSs9MTtyZXR1cm4gci5wdXNoKFwiIGVcIikscn0sdXBkYXRlUGF0aFN0cmluZ0JlemllclByaW06ZnVuY3Rpb24odCl7dmFyIGUsaSxzLG8sYSxoLGw9W10sYz1yLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2V3aWR0aCksZD10aGlzLnJlc29sdXRpb24sdT1NYXRoLnJvdW5kLHA9XCIgbSBcIixmPXAsbT1cInBsb3RcIiE9PXIuZXZhbHVhdGUodC52aXNQcm9wLmN1cnZldHlwZSksZz1NYXRoLm1pbih0Lm51bWJlclBvaW50cyw4MTkyKTtpZih0Lm51bWJlclBvaW50czw9MClyZXR1cm5cIlwiO2ZvcihtJiZ0LmJvYXJkLm9wdGlvbnMuY3VydmUuUkRQc21vb3RoaW5nJiYodC5wb2ludHM9bi5SYW1lckRvdWdsYXNQZXVja2VyKHQucG9pbnRzLDEpKSxnPU1hdGgubWluKGcsdC5wb2ludHMubGVuZ3RoKSxpPTE7aTwzO2krKylmb3IoZj1wLGU9MDtlPGc7ZSsrKW89dC5wb2ludHNbZV0uc2NyQ29vcmRzLGlzTmFOKG9bMV0pfHxpc05hTihvWzJdKT9mPXA6KG9bMV0+MmU0P29bMV09MmU0Om9bMV08LTJlNCYmKG9bMV09LTJlNCksb1syXT4yZTQ/b1syXT0yZTQ6b1syXTwtMmU0JiYob1syXT0tMmU0KSxmPT09cD9sLnB1c2goW2YsdShkKm9bMV0pLFwiIFwiLHUoZCpvWzJdKV0uam9pbihcIlwiKSk6KHM9MippLGwucHVzaChbZix1KGQqKGErLjMzMyoob1sxXS1hKStjKihzKk1hdGgucmFuZG9tKCktaSkpKSxcIiBcIix1KGQqKGgrLjMzMyoob1syXS1oKStjKihzKk1hdGgucmFuZG9tKCktaSkpKSxcIiBcIix1KGQqKGErLjY2Nioob1sxXS1hKStjKihzKk1hdGgucmFuZG9tKCktaSkpKSxcIiBcIix1KGQqKGgrLjY2Nioob1syXS1oKStjKihzKk1hdGgucmFuZG9tKCktaSkpKSxcIiBcIix1KGQqb1sxXSksXCIgXCIsdShkKm9bMl0pXS5qb2luKFwiXCIpKSksZj1cIiBjIFwiLGE9b1sxXSxoPW9bMl0pO3JldHVybiBsLnB1c2goXCIgZVwiKSxsfSx1cGRhdGVQb2x5Z29uUHJpbTpmdW5jdGlvbih0LGUpe3ZhciBpLHIscz1lLnZlcnRpY2VzLmxlbmd0aCxvPXRoaXMucmVzb2x1dGlvbixuPVtdO2lmKHRoaXMuX3NldEF0dHIodCxcInN0cm9rZWRcIixcImZhbHNlXCIpLHI9ZS52ZXJ0aWNlc1swXS5jb29yZHMuc2NyQ29vcmRzLCFpc05hTihyWzFdK3JbMl0pKXtmb3Iobi5wdXNoKFtcIm0gXCIsTWF0aC5mbG9vcihvKnJbMV0pLFwiLFwiLE1hdGguZmxvb3IobypyWzJdKSxcIiBsIFwiXS5qb2luKFwiXCIpKSxpPTE7aTxzLTE7aSsrKXtpZighZS52ZXJ0aWNlc1tpXS5pc1JlYWwpcmV0dXJuIHZvaWQgdGhpcy51cGRhdGVQYXRoUHJpbSh0LFwiXCIsZS5ib2FyZCk7aWYocj1lLnZlcnRpY2VzW2ldLmNvb3Jkcy5zY3JDb29yZHMsaXNOYU4oclsxXStyWzJdKSlyZXR1cm47bi5wdXNoKE1hdGguZmxvb3IobypyWzFdKStcIixcIitNYXRoLmZsb29yKG8qclsyXSkpLGk8cy0yJiZuLnB1c2goXCIsIFwiKX1uLnB1c2goXCIgeCBlXCIpLHRoaXMudXBkYXRlUGF0aFByaW0odCxuLGUuYm9hcmQpfX0sdXBkYXRlUmVjdFByaW06ZnVuY3Rpb24odCxlLGkscixzKXt0LnN0eWxlLmxlZnQ9TWF0aC5mbG9vcihlKStcInB4XCIsdC5zdHlsZS50b3A9TWF0aC5mbG9vcihpKStcInB4XCIscj49MCYmKHQuc3R5bGUud2lkdGg9citcInB4XCIpLHM+PTAmJih0LnN0eWxlLmhlaWdodD1zK1wicHhcIil9LHNldFByb3BlcnR5UHJpbTpmdW5jdGlvbih0LGUsaSl7dmFyIHMsbz1cIlwiO3N3aXRjaChlKXtjYXNlXCJzdHJva2VcIjpvPVwic3Ryb2tlY29sb3JcIjticmVhaztjYXNlXCJzdHJva2Utd2lkdGhcIjpvPVwic3Ryb2tld2VpZ2h0XCI7YnJlYWs7Y2FzZVwic3Ryb2tlLWRhc2hhcnJheVwiOm89XCJkYXNoc3R5bGVcIn1cIlwiIT09byYmKHM9ci5ldmFsdWF0ZShpKSx0aGlzLl9zZXRBdHRyKHQsbyxzKSl9LGRpc3BsYXk6ZnVuY3Rpb24odCxlKXt0JiZ0LnJlbmROb2RlJiYodC52aXNQcm9wT2xkLnZpc2libGU9ZSx0LnJlbmROb2RlLnN0eWxlLnZpc2liaWxpdHk9ZT9cImluaGVyaXRcIjpcImhpZGRlblwiKX0sc2hvdzpmdW5jdGlvbihlKXt0LmRlcHJlY2F0ZWQoXCJCb2FyZC5yZW5kZXJlci5zaG93KClcIixcIkJvYXJkLnJlbmRlcmVyLmRpc3BsYXkoKVwiKSxlJiZlLnJlbmROb2RlJiYoZS5yZW5kTm9kZS5zdHlsZS52aXNpYmlsaXR5PVwiaW5oZXJpdFwiKX0saGlkZTpmdW5jdGlvbihlKXt0LmRlcHJlY2F0ZWQoXCJCb2FyZC5yZW5kZXJlci5oaWRlKClcIixcIkJvYXJkLnJlbmRlcmVyLmRpc3BsYXkoKVwiKSxlJiZlLnJlbmROb2RlJiYoZS5yZW5kTm9kZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIpfSxzZXREYXNoU3R5bGU6ZnVuY3Rpb24odCxlKXt2YXIgaTtlLmRhc2g+PTAmJihpPXQucmVuZE5vZGVTdHJva2UsdGhpcy5fc2V0QXR0cihpLFwiZGFzaHN0eWxlXCIsdGhpcy5kYXNoQXJyYXlbZS5kYXNoXSkpfSxzZXRHcmFkaWVudDpmdW5jdGlvbih0KXt2YXIgZT10LnJlbmROb2RlRmlsbCxpPXIuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50KTtcImxpbmVhclwiPT09aT8odGhpcy5fc2V0QXR0cihlLFwidHlwZVwiLFwiZ3JhZGllbnRcIiksdGhpcy5fc2V0QXR0cihlLFwiY29sb3IyXCIsci5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRzZWNvbmRjb2xvcikpLHRoaXMuX3NldEF0dHIoZSxcIm9wYWNpdHkyXCIsci5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRzZWNvbmRvcGFjaXR5KSksdGhpcy5fc2V0QXR0cihlLFwiYW5nbGVcIixyLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGFuZ2xlKSkpOlwicmFkaWFsXCI9PT1pPyh0aGlzLl9zZXRBdHRyKGUsXCJ0eXBlXCIsXCJncmFkaWVudHJhZGlhbFwiKSx0aGlzLl9zZXRBdHRyKGUsXCJjb2xvcjJcIixyLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHNlY29uZGNvbG9yKSksdGhpcy5fc2V0QXR0cihlLFwib3BhY2l0eTJcIixyLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHNlY29uZG9wYWNpdHkpKSx0aGlzLl9zZXRBdHRyKGUsXCJmb2N1c3Bvc2l0aW9uXCIsMTAwKnIuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50cG9zaXRpb254KStcIiUsXCIrMTAwKnIuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50cG9zaXRpb255KStcIiVcIiksdGhpcy5fc2V0QXR0cihlLFwiZm9jdXNzaXplXCIsXCIwLDBcIikpOnRoaXMuX3NldEF0dHIoZSxcInR5cGVcIixcInNvbGlkXCIpfSxzZXRPYmplY3RGaWxsQ29sb3I6ZnVuY3Rpb24odCxlLG8pe3ZhciBuLGEsaCxsPXIuZXZhbHVhdGUoZSksYz1yLmV2YWx1YXRlKG8pLGQ9dC5yZW5kTm9kZTtjPWM+MD9jOjAsdC52aXNQcm9wT2xkLmZpbGxjb2xvcj09PWwmJnQudmlzUHJvcE9sZC5maWxsb3BhY2l0eT09PWN8fChyLmV4aXN0cyhsKSYmITEhPT1sJiYoOSE9PWwubGVuZ3RoPyhuPWwsaD1jKToobj0oYT1zLnJnYmEycmdibyhsKSlbMF0saD1jKmFbMV0pLFwibm9uZVwiPT09bnx8ITE9PT1uP3RoaXMuX3NldEF0dHIodC5yZW5kTm9kZSxcImZpbGxlZFwiLFwiZmFsc2VcIik6KHRoaXMuX3NldEF0dHIodC5yZW5kTm9kZSxcImZpbGxlZFwiLFwidHJ1ZVwiKSx0aGlzLl9zZXRBdHRyKHQucmVuZE5vZGUsXCJmaWxsY29sb3JcIixuKSxyLmV4aXN0cyhoKSYmdC5yZW5kTm9kZUZpbGwmJnRoaXMuX3NldEF0dHIodC5yZW5kTm9kZUZpbGwsXCJvcGFjaXR5XCIsMTAwKmgrXCIlXCIpKSx0LnR5cGU9PT1pLk9CSkVDVF9UWVBFX0lNQUdFJiZkLmZpbHRlcnMubGVuZ3RoPjEmJihkLmZpbHRlcnMuaXRlbSgxKS5vcGFjaXR5PU1hdGgucm91bmQoMTAwKmgpLGQuZmlsdGVycy5pdGVtKDEpLmVuYWJsZWQ9ITApKSx0LnZpc1Byb3BPbGQuZmlsbGNvbG9yPWwsdC52aXNQcm9wT2xkLmZpbGxvcGFjaXR5PWMpfSxzZXRPYmplY3RTdHJva2VDb2xvcjpmdW5jdGlvbih0LGUscyl7dmFyIG8sbixhLGgsbD1yLmV2YWx1YXRlKGUpLGM9ci5ldmFsdWF0ZShzKSxkPXQucmVuZE5vZGU7Yz1jPjA/YzowLHQudmlzUHJvcE9sZC5zdHJva2Vjb2xvcj09PWwmJnQudmlzUHJvcE9sZC5zdHJva2VvcGFjaXR5PT09Y3x8KHIuZXhpc3RzKGwpJiYhMSE9PWwmJig5IT09bC5sZW5ndGg/KG89bCxhPWMpOihvPShuPWUucmdiYTJyZ2JvKGwpKVswXSxhPWMqblsxXSksdC5lbGVtZW50Q2xhc3M9PT1pLk9CSkVDVF9DTEFTU19URVhUPyhkLmZpbHRlcnMubGVuZ3RoPjEmJihkLmZpbHRlcnMuaXRlbSgxKS5vcGFjaXR5PU1hdGgucm91bmQoMTAwKmEpLGQuZmlsdGVycy5pdGVtKDEpLmVuYWJsZWQ9ITApLGQuc3R5bGUuY29sb3I9byk6KCExIT09byYmKHRoaXMuX3NldEF0dHIoZCxcInN0cm9rZWRcIixcInRydWVcIiksdGhpcy5fc2V0QXR0cihkLFwic3Ryb2tlY29sb3JcIixvKSksaD10LnJlbmROb2RlU3Ryb2tlLHIuZXhpc3RzKGEpJiZ0LnR5cGUhPT1pLk9CSkVDVF9UWVBFX0lNQUdFJiZ0aGlzLl9zZXRBdHRyKGgsXCJvcGFjaXR5XCIsMTAwKmErXCIlXCIpKSksdC52aXNQcm9wT2xkLnN0cm9rZWNvbG9yPWwsdC52aXNQcm9wT2xkLnN0cm9rZW9wYWNpdHk9Yyl9LHNldE9iamVjdFN0cm9rZVdpZHRoOmZ1bmN0aW9uKHQsZSl7dmFyIGkscz1yLmV2YWx1YXRlKGUpO2lzTmFOKHMpfHx0LnZpc1Byb3BPbGQuc3Ryb2tld2lkdGg9PT1zfHwoaT10LnJlbmROb2RlLHRoaXMuc2V0UHJvcGVydHlQcmltKGksXCJzdHJva2VkXCIsXCJ0cnVlXCIpLHIuZXhpc3RzKHMpJiYodGhpcy5zZXRQcm9wZXJ0eVByaW0oaSxcInN0cm9rZS13aWR0aFwiLHMpLDA9PT1zJiZyLmV4aXN0cyh0LnJlbmROb2RlU3Ryb2tlKSYmdGhpcy5fc2V0QXR0cihpLFwic3Ryb2tlZFwiLFwiZmFsc2VcIikpLHQudmlzUHJvcE9sZC5zdHJva2V3aWR0aD1zKX0sc2V0U2hhZG93OmZ1bmN0aW9uKHQpe3ZhciBlPXQucmVuZE5vZGVTaGFkb3csaT1yLmV2YWx1YXRlKHQudmlzUHJvcC5zaGFkb3cpO2UmJnQudmlzUHJvcE9sZC5zaGFkb3chPT1pJiYoaT8odGhpcy5fc2V0QXR0cihlLFwiT25cIixcIlRydWVcIiksdGhpcy5fc2V0QXR0cihlLFwiT2Zmc2V0XCIsXCIzcHQsM3B0XCIpLHRoaXMuX3NldEF0dHIoZSxcIk9wYWNpdHlcIixcIjYwJVwiKSx0aGlzLl9zZXRBdHRyKGUsXCJDb2xvclwiLFwiI2FhYWFhYVwiKSk6dGhpcy5fc2V0QXR0cihlLFwiT25cIixcIkZhbHNlXCIpLHQudmlzUHJvcE9sZC5zaGFkb3c9aSl9LHN1c3BlbmRSZWRyYXc6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSx1bnN1c3BlbmRSZWRyYXc6ZnVuY3Rpb24oKXt0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwiXCJ9fSksdC5WTUxSZW5kZXJlcn0pKSxkZWZpbmUoXCJyZW5kZXJlci9jYW52YXNcIixbXCJqeGdcIixcInJlbmRlcmVyL2Fic3RyYWN0XCIsXCJiYXNlL2NvbnN0YW50c1wiLFwidXRpbHMvZW52XCIsXCJ1dGlscy90eXBlXCIsXCJ1dGlscy91dWlkXCIsXCJ1dGlscy9jb2xvclwiLFwiYmFzZS9jb29yZHNcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwibWF0aC9udW1lcmljc1wiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbixhLGgsbCxjKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5DYW52YXNSZW5kZXJlcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMudHlwZT1cImNhbnZhc1wiLHRoaXMuY2FudmFzUm9vdD1udWxsLHRoaXMuc3VzcGVuZEhhbmRsZT1udWxsLHRoaXMuY2FudmFzSWQ9by5nZW5VVUlEKCksdGhpcy5jYW52YXNOYW1lc3BhY2U9bnVsbCxyLmlzQnJvd3Nlcil0aGlzLmNvbnRhaW5lcj10LHRoaXMuY29udGFpbmVyLnN0eWxlLk1velVzZXJTZWxlY3Q9XCJub25lXCIsdGhpcy5jb250YWluZXIuc3R5bGUudXNlclNlbGVjdD1cIm5vbmVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLFwiXCI9PT10aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiYmKHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksdGhpcy5jb250YWluZXIuaW5uZXJIVE1MPVsnPGNhbnZhcyBpZD1cIicsdGhpcy5jYW52YXNJZCwnXCIgd2lkdGg9XCInLGUud2lkdGgsJ3B4XCIgaGVpZ2h0PVwiJyxlLmhlaWdodCwncHhcIj48JyxcIi9jYW52YXM+XCJdLmpvaW4oXCJcIiksdGhpcy5jYW52YXNSb290PXRoaXMuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jYW52YXNJZCksdGhpcy5jYW52YXNSb290LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuY29udGV4dD10aGlzLmNhbnZhc1Jvb3QuZ2V0Q29udGV4dChcIjJkXCIpO2Vsc2UgaWYoci5pc05vZGUoKSl0cnl7dGhpcy5jYW52YXNJZD1cIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5yZXF1aXJlKFwiY2FudmFzXCIpOnJlcXVpcmUoXCJjYW52YXNcIiksdGhpcy5jYW52YXNSb290PW5ldyB0aGlzLmNhbnZhc0lkKDUwMCw1MDApLHRoaXMuY29udGV4dD10aGlzLmNhbnZhc1Jvb3QuZ2V0Q29udGV4dChcIjJkXCIpfWNhdGNoKHQpe2NvbnNvbGUubG9nKFwiV2FybmluZzogJ2NhbnZhcycgbm90IGZvdW5kLiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsICducG0gaW5zdGFsbCBjYW52YXMnXCIpfXRoaXMuZGFzaEFycmF5PVtbMiwyXSxbNSw1XSxbMTAsMTBdLFsyMCwyMF0sWzIwLDEwLDEwLDEwXSxbMjAsNSwxMCw1XV19LHQuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlPW5ldyBlLHQuZXh0ZW5kKHQuQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLHtfZHJhd1BvbHlnb246ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM9dC5sZW5ndGgsbz10aGlzLmNvbnRleHQ7aWYocz4wKXtpZihpJiYoby5saW5lV2lkdGg9MCksby5iZWdpblBhdGgoKSxvLm1vdmVUbyh0WzBdWzBdLHRbMF1bMV0pLDE9PT1lKWZvcihyPTE7cjxzO3IrKylvLmxpbmVUbyh0W3JdWzBdLHRbcl1bMV0pO2Vsc2UgZm9yKHI9MTtyPHM7cis9MylvLmJlemllckN1cnZlVG8odFtyXVswXSx0W3JdWzFdLHRbcisxXVswXSx0W3IrMV1bMV0sdFtyKzJdWzBdLHRbcisyXVsxXSk7aT8oby5saW5lVG8odFswXVswXSx0WzBdWzFdKSxvLmNsb3NlUGF0aCgpLG8uZmlsbCgpKTpvLnN0cm9rZSgpfX0sX2ZpbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0O2Uuc2F2ZSgpLHRoaXMuX3NldENvbG9yKHQsXCJmaWxsXCIpJiZlLmZpbGwoKSxlLnJlc3RvcmUoKX0sX3JvdGF0ZVBvaW50OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm5bZSpNYXRoLmNvcyh0KS1pKk1hdGguc2luKHQpLGUqTWF0aC5zaW4odCkraSpNYXRoLmNvcyh0KV19LF9yb3RhdGVTaGFwZTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9W10scz10Lmxlbmd0aDtpZihzPD0wKXJldHVybiB0O2ZvcihpPTA7aTxzO2krKylyLnB1c2godGhpcy5fcm90YXRlUG9pbnQoZSx0W2ldWzBdLHRbaV1bMV0pKTtyZXR1cm4gcn0sdXBkYXRlR3JhZGllbnRBbmdsZTpmdW5jdGlvbih0LGUpe3ZhciByLHMsbyxuLGgsbCxjLGQsdSxwLGYsbSxnPTEsYj1NYXRoLmNvcygtZSksdj1NYXRoLnNpbigtZSkseT10LmdldEJvdW5kaW5nQm94KCk7cmV0dXJuIE1hdGguYWJzKGIpPk1hdGguYWJzKHYpP2cvPU1hdGguYWJzKGIpOmcvPU1hdGguYWJzKHYpLGI+PTA/KG89MCxuPWIqZyk6KG89LWIqZyxuPTApLHY+PTA/KGg9MCxsPXYqZyk6KGg9LXYqZyxsPTApLHI9bmV3IGEoaS5DT09SRFNfQllfVVNFUixbeVswXSx5WzFdXSx0LmJvYXJkKSxmPShzPW5ldyBhKGkuQ09PUkRTX0JZX1VTRVIsW3lbMl0seVszXV0sdC5ib2FyZCkpLnNjckNvb3Jkc1sxXS1yLnNjckNvb3Jkc1sxXSxtPXMuc2NyQ29vcmRzWzJdLXIuc2NyQ29vcmRzWzJdLGM9ci5zY3JDb29yZHNbMV0rZipvLHU9ci5zY3JDb29yZHNbMl0rbSpoLGQ9ci5zY3JDb29yZHNbMV0rZipuLHA9ci5zY3JDb29yZHNbMl0rbSpsLHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudChjLHUsZCxwKX0sdXBkYXRlR3JhZGllbnRDaXJjbGU6ZnVuY3Rpb24odCxlLHIscyxvLG4saCl7dmFyIGwsYyxkLHUscCxmLG0sZyxiLHYseT10LmdldEJvdW5kaW5nQm94KCk7cmV0dXJuIGw9bmV3IGEoaS5DT09SRFNfQllfVVNFUixbeVswXSx5WzFdXSx0LmJvYXJkKSxiPShjPW5ldyBhKGkuQ09PUkRTX0JZX1VTRVIsW3lbMl0seVszXV0sdC5ib2FyZCkpLnNjckNvb3Jkc1sxXS1sLnNjckNvb3Jkc1sxXSx2PWwuc2NyQ29vcmRzWzJdLWMuc2NyQ29vcmRzWzJdLGQ9bC5zY3JDb29yZHNbMV0rYiplLHU9Yy5zY3JDb29yZHNbMl0rdipyLGY9bC5zY3JDb29yZHNbMV0rYipvLG09Yy5zY3JDb29yZHNbMl0rdipuLHA9cyooYit2KSouNSxnPWgqKGIrdikqLjUsdGhpcy5jb250ZXh0LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGYsbSxnLGQsdSxwKX0sdXBkYXRlR3JhZGllbnQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLG89cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnQpO3JldHVybiBpPShpPXMuZXZhbHVhdGUodC52aXNQcm9wLmZpbGxvcGFjaXR5KSk+MD9pOjAsZT1zLmV2YWx1YXRlKHQudmlzUHJvcC5maWxsY29sb3IpLFwibGluZWFyXCI9PT1vP3I9dGhpcy51cGRhdGVHcmFkaWVudEFuZ2xlKHQscy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRhbmdsZSkpOlwicmFkaWFsXCI9PT1vJiYocj10aGlzLnVwZGF0ZUdyYWRpZW50Q2lyY2xlKHQscy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRjeCkscy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRjeSkscy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnRyKSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGZ4KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGZ5KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudGZyKSkpLHIuYWRkQ29sb3JTdG9wKHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50c3RhcnRvZmZzZXQpLGUpLHIuYWRkQ29sb3JTdG9wKHMuZXZhbHVhdGUodC52aXNQcm9wLmdyYWRpZW50ZW5kb2Zmc2V0KSxzLmV2YWx1YXRlKHQudmlzUHJvcC5ncmFkaWVudHNlY29uZGNvbG9yKSkscn0sX3NldENvbG9yOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixvLGEsaCxsLGMsZCx1LHA9ITAsZj10LnZpc1Byb3A7cmV0dXJuIGU9ZXx8XCJzdHJva2VcIixpPWl8fGUscj10aGlzLl9nZXRIaWdobGlnaHRlZCh0KSxcImxpbmVhclwiPT09KHU9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZ3JhZGllbnQpKXx8XCJyYWRpYWxcIj09PXU/KHRoaXMuY29udGV4dFtpK1wiU3R5bGVcIl09dGhpcy51cGRhdGVHcmFkaWVudCh0KSxwKTooXCJub25lXCIhPT0oYT1zLmV2YWx1YXRlKGZbcitlK1wiY29sb3JcIl0pKSYmITEhPT1hPyhjPShjPXMuZXZhbHVhdGUoZltyK2UrXCJvcGFjaXR5XCJdKSk+MD9jOjAsOSE9PWEubGVuZ3RoPyhsPWEsZD1jKToobD0oaD1uLnJnYmEycmdibyhhKSlbMF0sZD1jKmhbMV0pLHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYT1kLHRoaXMuY29udGV4dFtpK1wiU3R5bGVcIl09bCk6cD0hMSxvPXBhcnNlRmxvYXQocy5ldmFsdWF0ZShmW3IrXCJzdHJva2V3aWR0aFwiXSkpLFwic3Ryb2tlXCIhPT1lfHxpc05hTihvKXx8KDA9PT1vP3RoaXMuY29udGV4dC5nbG9iYWxBbHBoYT0wOnRoaXMuY29udGV4dC5saW5lV2lkdGg9byksXCJzdHJva2VcIj09PWUmJnZvaWQgMCE9PWYubGluZWNhcCYmXCJcIiE9PWYubGluZWNhcCYmKHRoaXMuY29udGV4dC5saW5lQ2FwPWYubGluZWNhcCkscCl9LF9zdHJva2U6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LGk9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZGFzaCk7ZS5zYXZlKCksaT4wP2Uuc2V0TGluZURhc2gmJmUuc2V0TGluZURhc2godGhpcy5kYXNoQXJyYXlbaV0pOnRoaXMuY29udGV4dC5saW5lRGFzaEFycmF5PVtdLHRoaXMuX3NldENvbG9yKHQsXCJzdHJva2VcIikmJmUuc3Ryb2tlKCksZS5yZXN0b3JlKCl9LF90cmFuc2xhdGVTaGFwZTpmdW5jdGlvbih0LGUsaSl7dmFyIHIscz1bXSxvPXQubGVuZ3RoO2lmKG88PTApcmV0dXJuIHQ7Zm9yKHI9MDtyPG87cisrKXMucHVzaChbdFtyXVswXStlLHRbcl1bMV0raV0pO3JldHVybiBzfSxkcmF3UG9pbnQ6ZnVuY3Rpb24odCl7dmFyIGU9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZmFjZSksaT1zLmV2YWx1YXRlKHQudmlzUHJvcC5zaXplKSxyPXQuY29vcmRzLnNjckNvb3JkcyxvPWkqTWF0aC5zcXJ0KDMpKi41LG49LjUqaSxhPXBhcnNlRmxvYXQocy5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tld2lkdGgpKS8yLGg9dGhpcy5jb250ZXh0O2lmKHQudmlzUHJvcENhbGMudmlzaWJsZSlzd2l0Y2goZSl7Y2FzZVwiY3Jvc3NcIjpjYXNlXCJ4XCI6aC5iZWdpblBhdGgoKSxoLm1vdmVUbyhyWzFdLWksclsyXS1pKSxoLmxpbmVUbyhyWzFdK2ksclsyXStpKSxoLm1vdmVUbyhyWzFdK2ksclsyXS1pKSxoLmxpbmVUbyhyWzFdLWksclsyXStpKSxoLmxpbmVDYXA9XCJyb3VuZFwiLGgubGluZUpvaW49XCJyb3VuZFwiLGguY2xvc2VQYXRoKCksdGhpcy5fc3Ryb2tlKHQpO2JyZWFrO2Nhc2VcImNpcmNsZVwiOmNhc2VcIm9cIjpoLmJlZ2luUGF0aCgpLGguYXJjKHJbMV0sclsyXSxpKzErYSwwLDIqTWF0aC5QSSwhMSksaC5jbG9zZVBhdGgoKSx0aGlzLl9maWxsKHQpLHRoaXMuX3N0cm9rZSh0KTticmVhaztjYXNlXCJzcXVhcmVcIjpjYXNlXCJbXVwiOmlmKGk8PTApYnJlYWs7aC5zYXZlKCksdGhpcy5fc2V0Q29sb3IodCxcInN0cm9rZVwiLFwiZmlsbFwiKSYmaC5maWxsUmVjdChyWzFdLWktYSxyWzJdLWktYSwyKmkrMyphLDIqaSszKmEpLGgucmVzdG9yZSgpLGguc2F2ZSgpLHRoaXMuX3NldENvbG9yKHQsXCJmaWxsXCIpLGguZmlsbFJlY3QoclsxXS1pK2EsclsyXS1pK2EsMippLWEsMippLWEpLGgucmVzdG9yZSgpO2JyZWFrO2Nhc2VcInBsdXNcIjpjYXNlXCIrXCI6aC5iZWdpblBhdGgoKSxoLm1vdmVUbyhyWzFdLWksclsyXSksaC5saW5lVG8oclsxXStpLHJbMl0pLGgubW92ZVRvKHJbMV0sclsyXS1pKSxoLmxpbmVUbyhyWzFdLHJbMl0raSksaC5saW5lQ2FwPVwicm91bmRcIixoLmxpbmVKb2luPVwicm91bmRcIixoLmNsb3NlUGF0aCgpLHRoaXMuX3N0cm9rZSh0KTticmVhaztjYXNlXCJkaWFtb25kXCI6Y2FzZVwiPD5cIjpoLmJlZ2luUGF0aCgpLGgubW92ZVRvKHJbMV0taSxyWzJdKSxoLmxpbmVUbyhyWzFdLHJbMl0raSksaC5saW5lVG8oclsxXStpLHJbMl0pLGgubGluZVRvKHJbMV0sclsyXS1pKSxoLmNsb3NlUGF0aCgpLHRoaXMuX2ZpbGwodCksdGhpcy5fc3Ryb2tlKHQpO2JyZWFrO2Nhc2VcInRyaWFuZ2xldXBcIjpjYXNlXCJhXCI6Y2FzZVwiXlwiOmguYmVnaW5QYXRoKCksaC5tb3ZlVG8oclsxXSxyWzJdLWkpLGgubGluZVRvKHJbMV0tbyxyWzJdK24pLGgubGluZVRvKHJbMV0rbyxyWzJdK24pLGguY2xvc2VQYXRoKCksdGhpcy5fZmlsbCh0KSx0aGlzLl9zdHJva2UodCk7YnJlYWs7Y2FzZVwidHJpYW5nbGVkb3duXCI6Y2FzZVwidlwiOmguYmVnaW5QYXRoKCksaC5tb3ZlVG8oclsxXSxyWzJdK2kpLGgubGluZVRvKHJbMV0tbyxyWzJdLW4pLGgubGluZVRvKHJbMV0rbyxyWzJdLW4pLGguY2xvc2VQYXRoKCksdGhpcy5fZmlsbCh0KSx0aGlzLl9zdHJva2UodCk7YnJlYWs7Y2FzZVwidHJpYW5nbGVsZWZ0XCI6Y2FzZVwiPFwiOmguYmVnaW5QYXRoKCksaC5tb3ZlVG8oclsxXS1pLHJbMl0pLGgubGluZVRvKHJbMV0rbixyWzJdLW8pLGgubGluZVRvKHJbMV0rbixyWzJdK28pLGguY2xvc2VQYXRoKCksdGhpcy5fZmlsbCh0KSx0aGlzLl9zdHJva2UodCk7YnJlYWs7Y2FzZVwidHJpYW5nbGVyaWdodFwiOmNhc2VcIj5cIjpoLmJlZ2luUGF0aCgpLGgubW92ZVRvKHJbMV0raSxyWzJdKSxoLmxpbmVUbyhyWzFdLW4sclsyXS1vKSxoLmxpbmVUbyhyWzFdLW4sclsyXStvKSxoLmNsb3NlUGF0aCgpLHRoaXMuX2ZpbGwodCksdGhpcy5fc3Ryb2tlKHQpfX0sdXBkYXRlUG9pbnQ6ZnVuY3Rpb24odCl7dGhpcy5kcmF3UG9pbnQodCl9LGRyYXdBcnJvd3M6ZnVuY3Rpb24odCxlLHIsbyxuKXt2YXIgYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHgsUyxPLHc9dGhpcy5jb250ZXh0LFQ9MSxOPTEsTT0xLEE9bi5ldkZpcnN0LFI9bi5ldkxhc3Q7aWYoXCJub25lXCIhPT1zLmV2YWx1YXRlKHQudmlzUHJvcC5zdHJva2Vjb2xvcikmJihBfHxSKSl7aWYodC5lbGVtZW50Q2xhc3M9PT1pLk9CSkVDVF9DTEFTU19MSU5FKWE9ZS5zY3JDb29yZHNbMV0saD1lLnNjckNvb3Jkc1syXSxsPXIuc2NyQ29vcmRzWzFdLGM9ci5zY3JDb29yZHNbMl0sUz1PPU1hdGguYXRhbjIoYy1oLGwtYSk7ZWxzZXtpZihhPXQucG9pbnRzWzBdLnNjckNvb3Jkc1sxXSxoPXQucG9pbnRzWzBdLnNjckNvb3Jkc1syXSwoeD10LnBvaW50cy5sZW5ndGgtMSk8MSlyZXR1cm47bD10LnBvaW50c1t0LnBvaW50cy5sZW5ndGgtMV0uc2NyQ29vcmRzWzFdLGM9dC5wb2ludHNbdC5wb2ludHMubGVuZ3RoLTFdLnNjckNvb3Jkc1syXSxDPXQucG9pbnRzWzFdLnNjckNvb3Jkc1sxXS10LnBvaW50c1swXS5zY3JDb29yZHNbMV0sXz10LnBvaW50c1sxXS5zY3JDb29yZHNbMl0tdC5wb2ludHNbMF0uc2NyQ29vcmRzWzJdLFA9dC5wb2ludHNbeF0uc2NyQ29vcmRzWzFdLXQucG9pbnRzW3gtMV0uc2NyQ29vcmRzWzFdLEU9dC5wb2ludHNbeF0uc2NyQ29vcmRzWzJdLXQucG9pbnRzW3gtMV0uc2NyQ29vcmRzWzJdLEEmJihTPU1hdGguYXRhbjIoXyxDKSksUiYmKE89TWF0aC5hdGFuMihFLFApKX1pZihkPXMuZXZhbHVhdGUodC52aXNQcm9wW28rXCJzdHJva2V3aWR0aFwiXSksQSlpZih1PWQqbi5zaXplRmlyc3QsbT1UPW4udHlwZUZpcnN0LDI9PT1UKWY9W1t1LC41Ki11XSxbMCwwXSxbdSwuNSp1XSxbLjUqdSwwXV07ZWxzZSBpZigzPT09VClmPVtbdS8zLC41Ki11XSxbMCwuNSotdV0sWzAsLjUqdV0sW3UvMywuNSp1XV07ZWxzZSBpZig0PT09VClmb3IodS89MTAsTj0zLHk9KGY9W1sxMCwzLjMxXSxbNi40NywzLjg0XSxbMi44Nyw0LjVdLFswLDYuNjNdLFsuNjcsNS41Ml0sWzEuMzMsNC40Ml0sWzIsMy4zMV0sWzEuMzMsMi4yMV0sWy42NywxLjFdLFswLDBdLFsyLjg3LDIuMTNdLFs2LjQ3LDIuNzldLFsxMCwzLjMxXV0pLmxlbmd0aCx2PTA7djx5O3YrKylmW3ZdWzBdKj0tdSxmW3ZdWzFdKj11LGZbdl1bMF0rPTEwKnUsZlt2XVsxXS09My4zMSp1O2Vsc2UgaWYoNT09PVQpZm9yKHUvPTEwLE49Myx5PShmPVtbMTAsMy4yOF0sWzYuNjEsNC4xOV0sWzMuMTksNS4wN10sWzAsNi41NV0sWy42Miw1LjU2XSxbMSw0LjQ0XSxbMSwzLjI4XSxbMSwyLjExXSxbLjYyLC45OV0sWzAsMF0sWzMuMTksMS40OV0sWzYuNjEsMi4zN10sWzEwLDMuMjhdXSkubGVuZ3RoLHY9MDt2PHk7disrKWZbdl1bMF0qPS11LGZbdl1bMV0qPXUsZlt2XVswXSs9MTAqdSxmW3ZdWzFdLT0zLjI4KnU7ZWxzZSBpZig2PT09VClmb3IodS89MTAsTj0zLHk9KGY9W1sxMCwyLjg0XSxbNi42MSwzLjU5XSxbMy4yMSw0LjM1XSxbMCw1LjY4XSxbLjMzLDQuNzNdLFsuNjcsMy43OF0sWzEsMi44NF0sWy42NywxLjg5XSxbLjMzLC45NV0sWzAsMF0sWzMuMjEsMS4zM10sWzYuNjEsMi4wOV0sWzEwLDIuODRdXSkubGVuZ3RoLHY9MDt2PHk7disrKWZbdl1bMF0qPS11LGZbdl1bMV0qPXUsZlt2XVswXSs9MTAqdSxmW3ZdWzFdLT0yLjg0KnU7ZWxzZSBpZig3PT09VClmb3IodT1kLE49Myx5PShmPVtbMCwxMC4zOV0sWzIuMDEsNi45Ml0sWzUuOTYsNS4yXSxbMTAsNS4yXSxbNS45Niw1LjJdLFsyLjAxLDMuNDddLFswLDBdXSkubGVuZ3RoLHY9MDt2PHk7disrKWZbdl1bMF0qPS11LGZbdl1bMV0qPXUsZlt2XVswXSs9MTAqdSxmW3ZdWzFdLT01LjIqdTtlbHNlIGY9W1t1LC41Ki11XSxbMCwwXSxbdSwuNSp1XV07aWYoUilpZih1PWQqbi5zaXplTGFzdCxnPVQ9bi50eXBlTGFzdCwyPT09VClwPVtbLXUsLjUqLXVdLFswLDBdLFstdSwuNSp1XSxbLjUqLXUsMF1dO2Vsc2UgaWYoMz09PVQpcD1bWy11LzMsLjUqLXVdLFswLC41Ki11XSxbMCwuNSp1XSxbLXUvMywuNSp1XV07ZWxzZSBpZig0PT09VClmb3IodS89MTAsTT0zLHk9KHA9W1sxMCwzLjMxXSxbNi40NywzLjg0XSxbMi44Nyw0LjVdLFswLDYuNjNdLFsuNjcsNS41Ml0sWzEuMzMsNC40Ml0sWzIsMy4zMV0sWzEuMzMsMi4yMV0sWy42NywxLjFdLFswLDBdLFsyLjg3LDIuMTNdLFs2LjQ3LDIuNzldLFsxMCwzLjMxXV0pLmxlbmd0aCx2PTA7djx5O3YrKylwW3ZdWzBdKj11LHBbdl1bMV0qPXUscFt2XVswXS09MTAqdSxwW3ZdWzFdLT0zLjMxKnU7ZWxzZSBpZig1PT09VClmb3IodS89MTAsTT0zLHk9KHA9W1sxMCwzLjI4XSxbNi42MSw0LjE5XSxbMy4xOSw1LjA3XSxbMCw2LjU1XSxbLjYyLDUuNTZdLFsxLDQuNDRdLFsxLDMuMjhdLFsxLDIuMTFdLFsuNjIsLjk5XSxbMCwwXSxbMy4xOSwxLjQ5XSxbNi42MSwyLjM3XSxbMTAsMy4yOF1dKS5sZW5ndGgsdj0wO3Y8eTt2KyspcFt2XVswXSo9dSxwW3ZdWzFdKj11LHBbdl1bMF0tPTEwKnUscFt2XVsxXS09My4yOCp1O2Vsc2UgaWYoNj09PVQpZm9yKHUvPTEwLE09Myx5PShwPVtbMTAsMi44NF0sWzYuNjEsMy41OV0sWzMuMjEsNC4zNV0sWzAsNS42OF0sWy4zMyw0LjczXSxbLjY3LDMuNzhdLFsxLDIuODRdLFsuNjcsMS44OV0sWy4zMywuOTVdLFswLDBdLFszLjIxLDEuMzNdLFs2LjYxLDIuMDldLFsxMCwyLjg0XV0pLmxlbmd0aCx2PTA7djx5O3YrKylwW3ZdWzBdKj11LHBbdl1bMV0qPXUscFt2XVswXS09MTAqdSxwW3ZdWzFdLT0yLjg0KnU7ZWxzZSBpZig3PT09VClmb3IodT1kLE09Myx5PShwPVtbMCwxMC4zOV0sWzIuMDEsNi45Ml0sWzUuOTYsNS4yXSxbMTAsNS4yXSxbNS45Niw1LjJdLFsyLjAxLDMuNDddLFswLDBdXSkubGVuZ3RoLHY9MDt2PHk7disrKXBbdl1bMF0qPXUscFt2XVsxXSo9dSxwW3ZdWzBdLT0xMCp1LHBbdl1bMV0tPTUuMip1O2Vsc2UgcD1bWy11LC41Ki11XSxbMCwwXSxbLXUsLjUqdV1dO3cuc2F2ZSgpLHRoaXMuX3NldENvbG9yKHQsXCJzdHJva2VcIixcImZpbGxcIikmJih0aGlzLl9zZXRDb2xvcih0LFwic3Ryb2tlXCIpLEEmJihiPTchPT1tLHRoaXMuX2RyYXdQb2x5Z29uKHRoaXMuX3RyYW5zbGF0ZVNoYXBlKHRoaXMuX3JvdGF0ZVNoYXBlKGYsUyksYSxoKSxOLGIpKSxSJiYoYj03IT09Zyx0aGlzLl9kcmF3UG9seWdvbih0aGlzLl90cmFuc2xhdGVTaGFwZSh0aGlzLl9yb3RhdGVTaGFwZShwLE8pLGwsYyksTSxiKSkpLHcucmVzdG9yZSgpfX0sZHJhd0xpbmU6ZnVuY3Rpb24odCl7dmFyIGUscixvLG4saCxjPW5ldyBhKGkuQ09PUkRTX0JZX1VTRVIsdC5wb2ludDEuY29vcmRzLnVzckNvb3Jkcyx0LmJvYXJkKSxkPW5ldyBhKGkuQ09PUkRTX0JZX1VTRVIsdC5wb2ludDIuY29vcmRzLnVzckNvb3Jkcyx0LmJvYXJkKSx1PW51bGw7dC52aXNQcm9wQ2FsYy52aXNpYmxlJiYobz10aGlzLl9nZXRIaWdobGlnaHRlZCh0KSxuPXMuZXZhbHVhdGUodC52aXNQcm9wW28rXCJzdHJva2V3aWR0aFwiXSksKChoPXRoaXMuZ2V0QXJyb3dIZWFkRGF0YSh0LG4sbykpLmV2Rmlyc3R8fGguZXZMYXN0KSYmKHU9LTQpLGwuY2FsY1N0cmFpZ2h0KHQsYyxkLHUpLHRoaXMuaGFuZGxlVG91Y2hwb2ludHModCxjLGQsaCksZT1uZXcgYShpLkNPT1JEU19CWV9VU0VSLGMudXNyQ29vcmRzLHQuYm9hcmQpLHI9bmV3IGEoaS5DT09SRFNfQllfVVNFUixkLnVzckNvb3Jkcyx0LmJvYXJkKSx0aGlzLmdldFBvc2l0aW9uQXJyb3dIZWFkKHQsYyxkLGgpLHRoaXMuY29udGV4dC5iZWdpblBhdGgoKSx0aGlzLmNvbnRleHQubW92ZVRvKGMuc2NyQ29vcmRzWzFdLGMuc2NyQ29vcmRzWzJdKSx0aGlzLmNvbnRleHQubGluZVRvKGQuc2NyQ29vcmRzWzFdLGQuc2NyQ29vcmRzWzJdKSx0aGlzLl9zdHJva2UodCksKGguZXZGaXJzdHx8aC5ldkxhc3QpJiZ0aGlzLmRyYXdBcnJvd3ModCxlLHIsbyxoKSl9LHVwZGF0ZUxpbmU6ZnVuY3Rpb24odCl7dGhpcy5kcmF3TGluZSh0KX0sZHJhd1RpY2tzOmZ1bmN0aW9uKCl7fSx1cGRhdGVUaWNrczpmdW5jdGlvbih0KXt2YXIgZSxpLHIscyxvLG4sYT10LnRpY2tzLmxlbmd0aCxoPXRoaXMuY29udGV4dDtmb3IoaC5iZWdpblBhdGgoKSxlPTA7ZTxhO2UrKylmb3Iocj0oaT10LnRpY2tzW2VdKVswXSxzPWlbMV0sbz1yLmxlbmd0aCxoLm1vdmVUbyhyWzBdLHNbMF0pLG49MTtuPG87KytuKWgubGluZVRvKHJbbl0sc1tuXSk7aC5saW5lQ2FwPVwicm91bmRcIix0aGlzLl9zdHJva2UodCl9LGRyYXdDdXJ2ZTpmdW5jdGlvbih0KXt2YXIgZSxpLHI7cy5ldmFsdWF0ZSh0LnZpc1Byb3AuaGFuZGRyYXdpbmcpP3RoaXMudXBkYXRlUGF0aFN0cmluZ0JlemllclByaW0odCk6dGhpcy51cGRhdGVQYXRoU3RyaW5nUHJpbSh0KSx0Lm51bWJlclBvaW50cz4xJiYoZT10aGlzLl9nZXRIaWdobGlnaHRlZCh0KSxpPXMuZXZhbHVhdGUodC52aXNQcm9wW2UrXCJzdHJva2V3aWR0aFwiXSksKChyPXRoaXMuZ2V0QXJyb3dIZWFkRGF0YSh0LGksZSkpLmV2Rmlyc3R8fHIuZXZMYXN0KSYmdGhpcy5kcmF3QXJyb3dzKHQsbnVsbCxudWxsLGUscikpfSx1cGRhdGVDdXJ2ZTpmdW5jdGlvbih0KXt0aGlzLmRyYXdDdXJ2ZSh0KX0sZHJhd0VsbGlwc2U6ZnVuY3Rpb24odCl7dmFyIGU9dC5jZW50ZXIuY29vcmRzLnNjckNvb3Jkc1sxXSxpPXQuY2VudGVyLmNvb3Jkcy5zY3JDb29yZHNbMl0scj10LmJvYXJkLnVuaXRYLHM9dC5ib2FyZC51bml0WSxvPTIqdC5SYWRpdXMoKSxuPTIqdC5SYWRpdXMoKSxhPW8qcixoPW4qcyxsPWUtYS8yLGM9aS1oLzIsZD1hLzIqLjU1MjI4NDgsdT1oLzIqLjU1MjI4NDgscD1sK2EsZj1jK2gsbT1sK2EvMixnPWMraC8yLGI9dGhpcy5jb250ZXh0O28+MCYmbj4wJiYhaXNOYU4oZStpKSYmKGIuYmVnaW5QYXRoKCksYi5tb3ZlVG8obCxnKSxiLmJlemllckN1cnZlVG8obCxnLXUsbS1kLGMsbSxjKSxiLmJlemllckN1cnZlVG8obStkLGMscCxnLXUscCxnKSxiLmJlemllckN1cnZlVG8ocCxnK3UsbStkLGYsbSxmKSxiLmJlemllckN1cnZlVG8obS1kLGYsbCxnK3UsbCxnKSxiLmNsb3NlUGF0aCgpLHRoaXMuX2ZpbGwodCksdGhpcy5fc3Ryb2tlKHQpKX0sdXBkYXRlRWxsaXBzZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kcmF3RWxsaXBzZSh0KX0sZGlzcGxheUNvcHlyaWdodDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY29udGV4dDtpLnNhdmUoKSxpLmZvbnQ9ZStcInB4IEFyaWFsXCIsaS5maWxsU3R5bGU9XCIjYWFhXCIsaS5saW5lV2lkdGg9LjUsaS5maWxsVGV4dCh0LDEwLDIrZSksaS5yZXN0b3JlKCl9LGRyYXdJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7dmFyIGU9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZm9udHNpemUpLGk9cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZm9udHVuaXQpLHI9dC5nZXRBbmNob3JYKCksbz10LmdldEFuY2hvclkoKSxuPXRoaXMuY29udGV4dDtyZXR1cm4gbi5zYXZlKCksdGhpcy5fc2V0Q29sb3IodCxcInN0cm9rZVwiLFwiZmlsbFwiKSYmIWlzTmFOKHQuY29vcmRzLnNjckNvb3Jkc1sxXSt0LmNvb3Jkcy5zY3JDb29yZHNbMl0pJiYobi5mb250PShlPjA/ZTowKStpK1wiIEFyaWFsXCIsdGhpcy50cmFuc2Zvcm1JbWFnZSh0LHQudHJhbnNmb3JtYXRpb25zKSxcImxlZnRcIj09PXI/bi50ZXh0QWxpZ249XCJsZWZ0XCI6XCJyaWdodFwiPT09cj9uLnRleHRBbGlnbj1cInJpZ2h0XCI6XCJtaWRkbGVcIj09PXImJihuLnRleHRBbGlnbj1cImNlbnRlclwiKSxcImJvdHRvbVwiPT09bz9uLnRleHRCYXNlbGluZT1cImJvdHRvbVwiOlwidG9wXCI9PT1vP24udGV4dEJhc2VsaW5lPVwidG9wXCI6XCJtaWRkbGVcIj09PW8mJihuLnRleHRCYXNlbGluZT1cIm1pZGRsZVwiKSxuLmZpbGxUZXh0KHQucGxhaW50ZXh0LHQuY29vcmRzLnNjckNvb3Jkc1sxXSx0LmNvb3Jkcy5zY3JDb29yZHNbMl0pKSxuLnJlc3RvcmUoKSxudWxsfSx1cGRhdGVJbnRlcm5hbFRleHQ6ZnVuY3Rpb24odCl7dGhpcy5kcmF3SW50ZXJuYWxUZXh0KHQpfSxzZXRPYmplY3RTdHJva2VDb2xvcjpmdW5jdGlvbih0LGUscil7dmFyIG8sYSxoLGwsYz1zLmV2YWx1YXRlKGUpLGQ9cy5ldmFsdWF0ZShyKTtkPWQ+MD9kOjAsdC52aXNQcm9wT2xkLnN0cm9rZWNvbG9yPT09YyYmdC52aXNQcm9wT2xkLnN0cm9rZW9wYWNpdHk9PT1kfHwocy5leGlzdHMoYykmJiExIT09YyYmKDkhPT1jLmxlbmd0aD8obz1jLGg9ZCk6KG89KGE9bi5yZ2JhMnJnYm8oYykpWzBdLGg9ZCphWzFdKSxsPXQucmVuZE5vZGUsdC5lbGVtZW50Q2xhc3M9PT1pLk9CSkVDVF9DTEFTU19URVhUJiZcImh0bWxcIj09PXMuZXZhbHVhdGUodC52aXNQcm9wLmRpc3BsYXkpJiYobC5zdHlsZS5jb2xvcj1vLGwuc3R5bGUub3BhY2l0eT1oKSksdC52aXNQcm9wT2xkLnN0cm9rZWNvbG9yPWMsdC52aXNQcm9wT2xkLnN0cm9rZW9wYWNpdHk9ZCl9LGRyYXdJbWFnZTpmdW5jdGlvbih0KXt0LnJlbmROb2RlPW5ldyBJbWFnZSx0Ll9zcmM9XCJcIix0aGlzLnVwZGF0ZUltYWdlKHQpfSx1cGRhdGVJbWFnZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbnRleHQsaT1zLmV2YWx1YXRlKHQudmlzUHJvcC5maWxsb3BhY2l0eSkscj1zLmJpbmQoKGZ1bmN0aW9uKCl7dC5pbWdJc0xvYWRlZD0hMCx0LnNpemVbMF08PTB8fHQuc2l6ZVsxXTw9MHx8KGUuc2F2ZSgpLGUuZ2xvYmFsQWxwaGE9aSx0aGlzLnRyYW5zZm9ybUltYWdlKHQsdC50cmFuc2Zvcm1hdGlvbnMpLGUuZHJhd0ltYWdlKHQucmVuZE5vZGUsdC5jb29yZHMuc2NyQ29vcmRzWzFdLHQuY29vcmRzLnNjckNvb3Jkc1syXS10LnNpemVbMV0sdC5zaXplWzBdLHQuc2l6ZVsxXSksZS5yZXN0b3JlKCkpfSksdGhpcyk7dGhpcy51cGRhdGVJbWFnZVVSTCh0KT90LnJlbmROb2RlLm9ubG9hZD1yOnQuaW1nSXNMb2FkZWQmJnIoKX0sdHJhbnNmb3JtSW1hZ2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxyPWUubGVuZ3RoLHM9dGhpcy5jb250ZXh0O3I+MCYmKGk9dGhpcy5qb2luVHJhbnNmb3Jtcyh0LGUpLE1hdGguYWJzKGMuZGV0KGkpKT49aC5lcHMmJnMudHJhbnNmb3JtKGlbMV1bMV0saVsyXVsxXSxpWzFdWzJdLGlbMl1bMl0saVsxXVswXSxpWzJdWzBdKSl9LHVwZGF0ZUltYWdlVVJMOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBlPXMuZXZhbHVhdGUodC51cmwpLHQuX3NyYyE9PWUmJih0LmltZ0lzTG9hZGVkPSExLHQucmVuZE5vZGUuc3JjPWUsdC5fc3JjPWUsITApfSxyZW1vdmU6ZnVuY3Rpb24odCl7cy5leGlzdHModCkmJnMuZXhpc3RzKHQucGFyZW50Tm9kZSkmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KX0sdXBkYXRlUGF0aFN0cmluZ1ByaW06ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuPVwiTVwiLGE9bixoPTVlMyxsPXRoaXMuY29udGV4dDtpZighKHQubnVtYmVyUG9pbnRzPD0wKSl7aWYobz1NYXRoLm1pbih0LnBvaW50cy5sZW5ndGgsdC5udW1iZXJQb2ludHMpLGwuYmVnaW5QYXRoKCksMT09PXQuYmV6aWVyRGVncmVlKWZvcihlPTA7ZTxvO2UrKylpPXQucG9pbnRzW2VdLnNjckNvb3Jkcyxpc05hTihpWzFdKXx8aXNOYU4oaVsyXSk/YT1uOihpWzFdPmg/aVsxXT1oOmlbMV08LTVlMyYmKGlbMV09LTVlMyksaVsyXT5oP2lbMl09aDppWzJdPC01ZTMmJihpWzJdPS01ZTMpLGE9PT1uP2wubW92ZVRvKGlbMV0saVsyXSk6bC5saW5lVG8oaVsxXSxpWzJdKSxhPVwiTFwiKTtlbHNlIGlmKDM9PT10LmJlemllckRlZ3JlZSlmb3IoZT0wO2U8bzspaT10LnBvaW50c1tlXS5zY3JDb29yZHMsaXNOYU4oaVsxXSl8fGlzTmFOKGlbMl0pP2E9bjooYT09PW4/bC5tb3ZlVG8oaVsxXSxpWzJdKTooZSs9MSxyPXQucG9pbnRzW2VdLnNjckNvb3JkcyxlKz0xLHM9dC5wb2ludHNbZV0uc2NyQ29vcmRzLGwuYmV6aWVyQ3VydmVUbyhpWzFdLGlbMl0sclsxXSxyWzJdLHNbMV0sc1syXSkpLGE9XCJDXCIpLGUrPTE7bC5saW5lQ2FwPVwicm91bmRcIix0aGlzLl9maWxsKHQpLHRoaXMuX3N0cm9rZSh0KX19LHVwZGF0ZVBhdGhTdHJpbmdCZXppZXJQcmltOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixvLG4sYSxoLGw9XCJNXCIsZD1sLHU9NWUzLHA9cy5ldmFsdWF0ZSh0LnZpc1Byb3Auc3Ryb2tld2lkdGgpLGY9XCJwbG90XCIhPT1zLmV2YWx1YXRlKHQudmlzUHJvcC5jdXJ2ZXR5cGUpLG09dGhpcy5jb250ZXh0O2lmKCEodC5udW1iZXJQb2ludHM8PTApKXtmb3IoZiYmdC5ib2FyZC5vcHRpb25zLmN1cnZlLlJEUHNtb290aGluZyYmKHQucG9pbnRzPWMuUmFtZXJEb3VnbGFzUGV1Y2tlcih0LnBvaW50cywuNSkpLGg9TWF0aC5taW4odC5wb2ludHMubGVuZ3RoLHQubnVtYmVyUG9pbnRzKSxtLmJlZ2luUGF0aCgpLGk9MTtpPDM7aSsrKWZvcihkPWwsZT0wO2U8aDtlKyspbz10LnBvaW50c1tlXS5zY3JDb29yZHMsaXNOYU4ob1sxXSl8fGlzTmFOKG9bMl0pP2Q9bDoob1sxXT51P29bMV09dTpvWzFdPC01ZTMmJihvWzFdPS01ZTMpLG9bMl0+dT9vWzJdPXU6b1syXTwtNWUzJiYob1syXT0tNWUzKSxkPT09bD9tLm1vdmVUbyhvWzFdLG9bMl0pOihyPTIqaSxtLmJlemllckN1cnZlVG8obisuMzMzKihvWzFdLW4pK3AqKHIqTWF0aC5yYW5kb20oKS1pKSxhKy4zMzMqKG9bMl0tYSkrcCoocipNYXRoLnJhbmRvbSgpLWkpLG4rLjY2Nioob1sxXS1uKStwKihyKk1hdGgucmFuZG9tKCktaSksYSsuNjY2KihvWzJdLWEpK3AqKHIqTWF0aC5yYW5kb20oKS1pKSxvWzFdLG9bMl0pKSxkPVwiQ1wiLG49b1sxXSxhPW9bMl0pO20ubGluZUNhcD1cInJvdW5kXCIsdGhpcy5fZmlsbCh0KSx0aGlzLl9zdHJva2UodCl9fSx1cGRhdGVQb2x5Z29uUHJpbTpmdW5jdGlvbih0LGUpe3ZhciBpLHIscyxvPWUudmVydGljZXMubGVuZ3RoLG49dGhpcy5jb250ZXh0LGE9ITA7aWYoIShvPD0wKSYmZS52aXNQcm9wQ2FsYy52aXNpYmxlKXtmb3IoXCJwb2x5Z29uYWxjaGFpblwiPT09ZS5lbFR5cGUmJm8rKyxuLmJlZ2luUGF0aCgpLHI9MDshZS52ZXJ0aWNlc1tyXS5pc1JlYWwmJnI8by0xOylyKyssYT0hMTtmb3IoaT1lLnZlcnRpY2VzW3JdLmNvb3Jkcy5zY3JDb29yZHMsbi5tb3ZlVG8oaVsxXSxpWzJdKSxzPXI7czxvLTE7cysrKWUudmVydGljZXNbc10uaXNSZWFsfHwoYT0hMSksaT1lLnZlcnRpY2VzW3NdLmNvb3Jkcy5zY3JDb29yZHMsbi5saW5lVG8oaVsxXSxpWzJdKTtuLmNsb3NlUGF0aCgpLGEmJnRoaXMuX2ZpbGwoZSl9fSxkaXNwbGF5OmZ1bmN0aW9uKHQsZSl7dCYmdC5yZW5kTm9kZSYmKHQudmlzUHJvcE9sZC52aXNpYmxlPWUsdC5yZW5kTm9kZS5zdHlsZS52aXNpYmlsaXR5PWU/XCJpbmhlcml0XCI6XCJoaWRkZW5cIil9LHNob3c6ZnVuY3Rpb24oZSl7dC5kZXByZWNhdGVkKFwiQm9hcmQucmVuZGVyZXIuc2hvdygpXCIsXCJCb2FyZC5yZW5kZXJlci5kaXNwbGF5KClcIikscy5leGlzdHMoZS5yZW5kTm9kZSkmJihlLnJlbmROb2RlLnN0eWxlLnZpc2liaWxpdHk9XCJpbmhlcml0XCIpfSxoaWRlOmZ1bmN0aW9uKGUpe3QuZGVwcmVjYXRlZChcIkJvYXJkLnJlbmRlcmVyLmhpZGUoKVwiLFwiQm9hcmQucmVuZGVyZXIuZGlzcGxheSgpXCIpLHMuZXhpc3RzKGUucmVuZE5vZGUpJiYoZS5yZW5kTm9kZS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIpfSxzZXRHcmFkaWVudDpmdW5jdGlvbih0KXt2YXIgZTtlPShlPXMuZXZhbHVhdGUodC52aXNQcm9wLmZpbGxvcGFjaXR5KSk+MD9lOjB9LHNldFNoYWRvdzpmdW5jdGlvbih0KXt0LnZpc1Byb3BPbGQuc2hhZG93IT09dC52aXNQcm9wLnNoYWRvdyYmKHQudmlzUHJvcE9sZC5zaGFkb3c9dC52aXNQcm9wLnNoYWRvdyl9LGhpZ2hsaWdodDpmdW5jdGlvbih0KXtyZXR1cm4gdC5lbGVtZW50Q2xhc3M9PT1pLk9CSkVDVF9DTEFTU19URVhUJiZcImh0bWxcIj09PXMuZXZhbHVhdGUodC52aXNQcm9wLmRpc3BsYXkpP3RoaXMudXBkYXRlVGV4dFN0eWxlKHQsITApOih0LmJvYXJkLnByZXBhcmVVcGRhdGUoKSx0LmJvYXJkLnJlbmRlcmVyLnN1c3BlbmRSZWRyYXcodC5ib2FyZCksdC5ib2FyZC51cGRhdGVSZW5kZXJlcigpLHQuYm9hcmQucmVuZGVyZXIudW5zdXNwZW5kUmVkcmF3KCkpLHRoaXN9LG5vSGlnaGxpZ2h0OmZ1bmN0aW9uKHQpe3JldHVybiB0LmVsZW1lbnRDbGFzcz09PWkuT0JKRUNUX0NMQVNTX1RFWFQmJlwiaHRtbFwiPT09cy5ldmFsdWF0ZSh0LnZpc1Byb3AuZGlzcGxheSk/dGhpcy51cGRhdGVUZXh0U3R5bGUodCwhMSk6KHQuYm9hcmQucHJlcGFyZVVwZGF0ZSgpLHQuYm9hcmQucmVuZGVyZXIuc3VzcGVuZFJlZHJhdyh0LmJvYXJkKSx0LmJvYXJkLnVwZGF0ZVJlbmRlcmVyKCksdC5ib2FyZC5yZW5kZXJlci51bnN1c3BlbmRSZWRyYXcoKSksdGhpc30sc3VzcGVuZFJlZHJhdzpmdW5jdGlvbihlKXt0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMuY2FudmFzUm9vdC53aWR0aCx0aGlzLmNhbnZhc1Jvb3QuaGVpZ2h0KSxlJiZlLmF0dHIuc2hvd2NvcHlyaWdodCYmdGhpcy5kaXNwbGF5Q29weXJpZ2h0KHQubGljZW5zZVRleHQsMTIpfSx1bnN1c3BlbmRSZWRyYXc6ZnVuY3Rpb24oKXt0aGlzLmNvbnRleHQucmVzdG9yZSgpfSxyZXNpemU6ZnVuY3Rpb24odCxlKXt0aGlzLmNvbnRhaW5lcj8odGhpcy5jYW52YXNSb290LnN0eWxlLndpZHRoPXBhcnNlRmxvYXQodCkrXCJweFwiLHRoaXMuY2FudmFzUm9vdC5zdHlsZS5oZWlnaHQ9cGFyc2VGbG9hdChlKStcInB4XCIsdGhpcy5jYW52YXNSb290LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsMipwYXJzZUZsb2F0KHQpK1wicHhcIiksdGhpcy5jYW52YXNSb290LnNldEF0dHJpYnV0ZShcImhlaWdodFwiLDIqcGFyc2VGbG9hdChlKStcInB4XCIpKToodGhpcy5jYW52YXNSb290LndpZHRoPTIqcGFyc2VGbG9hdCh0KSx0aGlzLmNhbnZhc1Jvb3QuaGVpZ2h0PTIqcGFyc2VGbG9hdChlKSksdGhpcy5jb250ZXh0PXRoaXMuY2FudmFzUm9vdC5nZXRDb250ZXh0KFwiMmRcIiksdGhpcy5jb250ZXh0LnNjYWxlKDIsMil9LHJlbW92ZVRvSW5zZXJ0TGF0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fX0pLHQuQ2FudmFzUmVuZGVyZXJ9KSksZGVmaW5lKFwicmVuZGVyZXIvbm9cIixbXCJqeGdcIixcInJlbmRlcmVyL2Fic3RyYWN0XCJdLChmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3JldHVybiB0Lk5vUmVuZGVyZXI9ZnVuY3Rpb24oKXt0aGlzLmVuaGFuY2VkUmVuZGVyaW5nPSExLHRoaXMudHlwZT1cIm5vXCJ9LHQuZXh0ZW5kKHQuTm9SZW5kZXJlci5wcm90b3R5cGUse2RyYXdQb2ludDpmdW5jdGlvbih0KXt9LHVwZGF0ZVBvaW50OmZ1bmN0aW9uKHQpe30sY2hhbmdlUG9pbnRTdHlsZTpmdW5jdGlvbih0KXt9LGRyYXdMaW5lOmZ1bmN0aW9uKHQpe30sdXBkYXRlTGluZTpmdW5jdGlvbih0KXt9LGRyYXdUaWNrczpmdW5jdGlvbih0KXt9LHVwZGF0ZVRpY2tzOmZ1bmN0aW9uKHQpe30sZHJhd0N1cnZlOmZ1bmN0aW9uKHQpe30sdXBkYXRlQ3VydmU6ZnVuY3Rpb24odCl7fSxkcmF3RWxsaXBzZTpmdW5jdGlvbih0KXt9LHVwZGF0ZUVsbGlwc2U6ZnVuY3Rpb24odCl7fSxkcmF3UG9seWdvbjpmdW5jdGlvbih0KXt9LHVwZGF0ZVBvbHlnb246ZnVuY3Rpb24odCl7fSxkaXNwbGF5Q29weXJpZ2h0OmZ1bmN0aW9uKHQsZSl7fSxkcmF3SW50ZXJuYWxUZXh0OmZ1bmN0aW9uKHQpe30sdXBkYXRlSW50ZXJuYWxUZXh0OmZ1bmN0aW9uKHQpe30sZHJhd1RleHQ6ZnVuY3Rpb24odCl7fSx1cGRhdGVUZXh0OmZ1bmN0aW9uKHQpe30sdXBkYXRlVGV4dFN0eWxlOmZ1bmN0aW9uKHQsZSl7fSx1cGRhdGVJbnRlcm5hbFRleHRTdHlsZTpmdW5jdGlvbih0LGUsaSl7fSxkcmF3SW1hZ2U6ZnVuY3Rpb24odCl7fSx1cGRhdGVJbWFnZTpmdW5jdGlvbih0KXt9LHRyYW5zZm9ybUltYWdlOmZ1bmN0aW9uKHQsZSl7fSx1cGRhdGVJbWFnZVVSTDpmdW5jdGlvbih0KXt9LGFwcGVuZENoaWxkUHJpbTpmdW5jdGlvbih0LGUpe30sYXBwZW5kTm9kZXNUb0VsZW1lbnQ6ZnVuY3Rpb24odCxlKXt9LGNyZWF0ZVByaW06ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKHQpe30sbWFrZUFycm93czpmdW5jdGlvbih0KXt9LHVwZGF0ZUVsbGlwc2VQcmltOmZ1bmN0aW9uKHQsZSxpLHIscyl7fSx1cGRhdGVMaW5lUHJpbTpmdW5jdGlvbih0LGUsaSxyLHMsbyl7fSx1cGRhdGVQYXRoUHJpbTpmdW5jdGlvbih0LGUsaSl7fSx1cGRhdGVQYXRoU3RyaW5nUG9pbnQ6ZnVuY3Rpb24odCxlLGkpe30sdXBkYXRlUGF0aFN0cmluZ1ByaW06ZnVuY3Rpb24odCl7fSx1cGRhdGVQYXRoU3RyaW5nQmV6aWVyUHJpbTpmdW5jdGlvbih0KXt9LHVwZGF0ZVBvbHlnb25QcmltOmZ1bmN0aW9uKHQsZSl7fSx1cGRhdGVSZWN0UHJpbTpmdW5jdGlvbih0LGUsaSxyLHMpe30sc2V0UHJvcGVydHlQcmltOmZ1bmN0aW9uKHQsZSxpKXt9LGRpc3BsYXk6ZnVuY3Rpb24odCxlKXt0JiYodC52aXNQcm9wT2xkLnZpc2libGU9ZSl9LHNob3c6ZnVuY3Rpb24odCl7fSxoaWRlOmZ1bmN0aW9uKHQpe30sc2V0QnVmZmVyaW5nOmZ1bmN0aW9uKHQsZSl7fSxzZXREYXNoU3R5bGU6ZnVuY3Rpb24odCl7fSxzZXREcmFmdDpmdW5jdGlvbih0KXt9LHJlbW92ZURyYWZ0OmZ1bmN0aW9uKHQpe30sc2V0R3JhZGllbnQ6ZnVuY3Rpb24odCl7fSx1cGRhdGVHcmFkaWVudDpmdW5jdGlvbih0KXt9LHNldE9iamVjdFRyYW5zaXRpb246ZnVuY3Rpb24odCxlKXt9LHNldE9iamVjdEZpbGxDb2xvcjpmdW5jdGlvbih0LGUsaSl7fSxzZXRPYmplY3RTdHJva2VDb2xvcjpmdW5jdGlvbih0LGUsaSl7fSxzZXRPYmplY3RTdHJva2VXaWR0aDpmdW5jdGlvbih0LGUpe30sc2V0U2hhZG93OmZ1bmN0aW9uKHQpe30saGlnaGxpZ2h0OmZ1bmN0aW9uKHQpe30sbm9IaWdobGlnaHQ6ZnVuY3Rpb24odCl7fSxzdXNwZW5kUmVkcmF3OmZ1bmN0aW9uKCl7fSx1bnN1c3BlbmRSZWRyYXc6ZnVuY3Rpb24oKXt9LGRyYXdab29tQmFyOmZ1bmN0aW9uKHQpe30sZ2V0RWxlbWVudEJ5SWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGx9LHJlc2l6ZTpmdW5jdGlvbih0LGUpe30scmVtb3ZlVG9JbnNlcnRMYXRlcjpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fSksdC5Ob1JlbmRlcmVyLnByb3RvdHlwZT1uZXcgZSx0Lk5vUmVuZGVyZXJ9KSksZGVmaW5lKFwianN4Z3JhcGhcIixbXCJqeGdcIixcInV0aWxzL2VudlwiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS9ib2FyZFwiLFwicmVhZGVyL2ZpbGVcIixcIm9wdGlvbnNcIixcInJlbmRlcmVyL3N2Z1wiLFwicmVuZGVyZXIvdm1sXCIsXCJyZW5kZXJlci9jYW52YXNcIixcInJlbmRlcmVyL25vXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEsaCxsKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5KU1hHcmFwaD17cmVuZGVyZXJUeXBlOihvLmJvYXJkLnJlbmRlcmVyPVwibm9cIixlLnN1cHBvcnRzVk1MKCkmJihvLmJvYXJkLnJlbmRlcmVyPVwidm1sXCIsZG9jdW1lbnQub25tb3VzZW1vdmU9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZG9jdW1lbnQuYm9keSYmKHQ9ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LHQrPWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSx0fSksZS5zdXBwb3J0c0NhbnZhcygpJiYoby5ib2FyZC5yZW5kZXJlcj1cImNhbnZhc1wiKSxlLnN1cHBvcnRzU1ZHKCkmJihvLmJvYXJkLnJlbmRlcmVyPVwic3ZnXCIpLGUuaXNOb2RlKCkmJmUuc3VwcG9ydHNDYW52YXMoKSYmKG8uYm9hcmQucmVuZGVyZXI9XCJjYW52YXNcIiksKGUuaXNOb2RlKCl8fFwibm9cIj09PW8ucmVuZGVyZXIpJiYoby50ZXh0LmRpc3BsYXk9XCJpbnRlcm5hbFwiLG8uaW5mb2JveC5kaXNwbGF5PVwiaW50ZXJuYWxcIiksby5ib2FyZC5yZW5kZXJlciksaW5pdFJlbmRlcmVyOmZ1bmN0aW9uKHQsZSxyLHMpe3ZhciBvO2lmKGkuZXhpc3RzKHIpJiYhMSE9PXJ8fFwib2JqZWN0XCIhPXR5cGVvZiBkb2N1bWVudHx8KHI9ZG9jdW1lbnQpLFwib2JqZWN0XCI9PXR5cGVvZiByJiZudWxsIT09dClmb3Iobz1yLmdldEVsZW1lbnRCeUlkKHQpO28uZmlyc3RDaGlsZDspby5yZW1vdmVDaGlsZChvLmZpcnN0Q2hpbGQpO2Vsc2Ugbz10O3JldHVybiB2b2lkIDAhPT1zJiZcImF1dG9cIiE9PXN8fChzPXRoaXMucmVuZGVyZXJUeXBlKSxcInN2Z1wiPT09cz9uZXcgbihvLGUpOlwidm1sXCI9PT1zP25ldyBhKG8pOlwiY2FudmFzXCI9PT1zP25ldyBoKG8sZSk6bmV3IGx9LF9zZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKHQpe3ZhciBlPWkuY29weUF0dHJpYnV0ZXModCxvLFwiYm9hcmRcIik7cmV0dXJuIGUuem9vbT1pLmNvcHlBdHRyaWJ1dGVzKGUsbyxcImJvYXJkXCIsXCJ6b29tXCIpLGUucGFuPWkuY29weUF0dHJpYnV0ZXMoZSxvLFwiYm9hcmRcIixcInBhblwiKSxlLmRyYWc9aS5jb3B5QXR0cmlidXRlcyhlLG8sXCJib2FyZFwiLFwiZHJhZ1wiKSxlLmtleWJvYXJkPWkuY29weUF0dHJpYnV0ZXMoZSxvLFwiYm9hcmRcIixcImtleWJvYXJkXCIpLGUuc2VsZWN0aW9uPWkuY29weUF0dHJpYnV0ZXMoZSxvLFwiYm9hcmRcIixcInNlbGVjdGlvblwiKSxlLm5hdmJhcj1pLmNvcHlBdHRyaWJ1dGVzKGUubmF2YmFyLG8sXCJuYXZiYXJcIiksZS5zY3JlZW5zaG90PWkuY29weUF0dHJpYnV0ZXMoZSxvLFwiYm9hcmRcIixcInNjcmVlbnNob3RcIiksZS5yZXNpemU9aS5jb3B5QXR0cmlidXRlcyhlLG8sXCJib2FyZFwiLFwicmVzaXplXCIpLGUuZnVsbHNjcmVlbj1pLmNvcHlBdHRyaWJ1dGVzKGUsbyxcImJvYXJkXCIsXCJmdWxsc2NyZWVuXCIpLGUubW92ZXRhcmdldD10Lm1vdmVUYXJnZXR8fHQubW92ZXRhcmdldHx8by5ib2FyZC5tb3ZlVGFyZ2V0LGV9LF9maWxsQm9hcmQ6ZnVuY3Rpb24oZSxpLHIpe2UuaW5pdEluZm9ib3goKSxlLm1heGJvdW5kaW5nYm94PWkubWF4Ym91bmRpbmdib3gsZS5yZXNpemVDb250YWluZXIoci53aWR0aCxyLmhlaWdodCwhMCwhMCksZS5fY3JlYXRlU2VsZWN0aW9uUG9seWdvbihpKSxlLnJlbmRlcmVyLmRyYXdab29tQmFyKGUsaS5uYXZiYXIpLHQuYm9hcmRzW2UuaWRdPWV9LF9zZXRBUklBOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG8sbixhLGg9ZS5kb2N1bWVudHx8ZG9jdW1lbnQ7XCJvYmplY3RcIj09dHlwZW9mIGgmJihpPShyPWguZ2V0RWxlbWVudEJ5SWQodCkpLm93bmVyRG9jdW1lbnQsbz1yLnBhcmVudE5vZGUsbj10K1wiX0FSSUFsYWJlbFwiLGE9dCtcIl9BUklBZGVzY3JpcHRpb25cIiwocz1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlubmVySFRNTD1lLnRpdGxlLHMuc2V0QXR0cmlidXRlKFwiaWRcIixuKSxzLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsby5pbnNlcnRCZWZvcmUocyxyKSwocz1pLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlubmVySFRNTD1lLmRlc2NyaXB0aW9uLHMuc2V0QXR0cmlidXRlKFwiaWRcIixhKSxzLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsby5pbnNlcnRCZWZvcmUocyxyKSxyLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxsZWRieVwiLG4pLHIuc2V0QXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiLGEpKX0sX3JlbW92ZUFSSUFOb2RlczpmdW5jdGlvbih0KXt2YXIgZSxpLHI7XCJvYmplY3RcIj09dHlwZW9mKHI9dC5kb2N1bWVudHx8ZG9jdW1lbnQpJiYoaT10LmNvbnRhaW5lck9iai5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIiksKGU9ci5nZXRFbGVtZW50QnlJZChpKSkmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLGk9dC5jb250YWluZXJPYmouZ2V0QXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiKSwoZT1yLmdldEVsZW1lbnRCeUlkKGkpKSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSkpfSxpbml0Qm9hcmQ6ZnVuY3Rpb24odCxzKXt2YXIgbixhLGgsbCxjLGQsdSxwLGYsbSxnLGIsdix5LEM9MCxfPTA7cmV0dXJuIHM9c3x8e30sbT10aGlzLl9zZXRBdHRyaWJ1dGVzKHMpLHA9ZS5nZXREaW1lbnNpb25zKHQsbS5kb2N1bWVudCksbS51bml0eHx8bS51bml0eT8obj1pLmRlZihtLm9yaWdpbngsMTUwKSxhPWkuZGVmKG0ub3JpZ2lueSwxNTApLGg9aS5kZWYobS51bml0eCw1MCksbD1pLmRlZihtLnVuaXR5LDUwKSk6KChmPW0uYm91bmRpbmdib3gpWzBdPG0ubWF4Ym91bmRpbmdib3hbMF0mJihmWzBdPW0ubWF4Ym91bmRpbmdib3hbMF0pLGZbMV0+bS5tYXhib3VuZGluZ2JveFsxXSYmKGZbMV09bS5tYXhib3VuZGluZ2JveFsxXSksZlsyXT5tLm1heGJvdW5kaW5nYm94WzJdJiYoZlsyXT1tLm1heGJvdW5kaW5nYm94WzJdKSxmWzNdPG0ubWF4Ym91bmRpbmdib3hbM10mJihmWzNdPW0ubWF4Ym91bmRpbmdib3hbM10pLGQ9cGFyc2VJbnQocC53aWR0aCwxMCksdT1wYXJzZUludChwLmhlaWdodCwxMCksaS5leGlzdHMoZikmJm0ua2VlcGFzcGVjdHJhdGlvPyhoPWQvKGZbMl0tZlswXSksbD11LyhmWzFdLWZbM10pLE1hdGguYWJzKGgpPE1hdGguYWJzKGwpP189LjUqKHUvKGw9TWF0aC5hYnMoaCkqbC9NYXRoLmFicyhsKSktKGZbMV0tZlszXSkpOkM9LjUqKGQvKGg9TWF0aC5hYnMobCkqaC9NYXRoLmFicyhoKSktKGZbMl0tZlswXSkpKTooaD1kLyhmWzJdLWZbMF0pLGw9dS8oZlsxXS1mWzNdKSksbj0taCooZlswXS1DKSxhPWwqKGZbMV0rXykpLGM9dGhpcy5pbml0UmVuZGVyZXIodCxwLG0uZG9jdW1lbnQsbS5yZW5kZXJlciksdGhpcy5fc2V0QVJJQSh0LG0pLCh5PW5ldyByKHQsYyxtLmlkLFtuLGFdLG0uem9vbWZhY3RvciptLnpvb214LG0uem9vbWZhY3RvciptLnpvb215LGgsbCxwLndpZHRoLHAuaGVpZ2h0LG0pKS5rZWVwYXNwZWN0cmF0aW89bS5rZWVwYXNwZWN0cmF0aW8sdGhpcy5fZmlsbEJvYXJkKHksbSxwKSx5LnN1c3BlbmRVcGRhdGUoKSxtLmF4aXMmJihnPVwib2JqZWN0XCI9PXR5cGVvZiBtLmF4aXM/bS5heGlzOnt9LGI9aS5kZWVwQ29weShvLmJvYXJkLmRlZmF1bHRBeGVzLngsZyksdj1pLmRlZXBDb3B5KG8uYm9hcmQuZGVmYXVsdEF4ZXMueSxnKSxtLmRlZmF1bHRheGVzLngmJihiPWkuZGVlcENvcHkoYixtLmRlZmF1bHRheGVzLngpKSxtLmRlZmF1bHRheGVzLnkmJih2PWkuZGVlcENvcHkodixtLmRlZmF1bHRheGVzLnkpKSx5LmRlZmF1bHRBeGVzPXt9LHkuZGVmYXVsdEF4ZXMueD15LmNyZWF0ZShcImF4aXNcIixbWzAsMF0sWzEsMF1dLGIpLHkuZGVmYXVsdEF4ZXMueT15LmNyZWF0ZShcImF4aXNcIixbWzAsMF0sWzAsMV1dLHYpKSxtLmdyaWQmJnkuY3JlYXRlKFwiZ3JpZFwiLFtdLFwib2JqZWN0XCI9PXR5cGVvZiBtLmdyaWQ/bS5ncmlkOnt9KSx5LnVuc3VzcGVuZFVwZGF0ZSgpLHl9LGxvYWRCb2FyZEZyb21GaWxlOmZ1bmN0aW9uKHQsaSxvLG4sYSl7dmFyIGgsbCxjLGQsdTtyZXR1cm4gbj1ufHx7fSxoPXRoaXMuX3NldEF0dHJpYnV0ZXMobiksZD1lLmdldERpbWVuc2lvbnModCxoLmRvY3VtZW50KSxsPXRoaXMuaW5pdFJlbmRlcmVyKHQsZCxoLmRvY3VtZW50LGgucmVuZGVyZXIpLHRoaXMuX3NldEFSSUEodCxoKSxjPW5ldyByKHQsbCxcIlwiLFsxNTAsMTUwXSwxLDEsNTAsNTAsZC53aWR0aCxkLmhlaWdodCxoKSx0aGlzLl9maWxsQm9hcmQoYyxoLGQpLHU9aC5lbmNvZGluZ3x8XCJpc28tODg1OS0xXCIscy5wYXJzZUZpbGVDb250ZW50KGksYyxvLCEwLHUsYSksY30sbG9hZEJvYXJkRnJvbVN0cmluZzpmdW5jdGlvbih0LGksbyxuLGEpe3ZhciBoLGwsYyxkO3JldHVybiBuPW58fHt9LGg9dGhpcy5fc2V0QXR0cmlidXRlcyhuKSxkPWUuZ2V0RGltZW5zaW9ucyh0LGguZG9jdW1lbnQpLGw9dGhpcy5pbml0UmVuZGVyZXIodCxkLGguZG9jdW1lbnQpLHRoaXMuX3NldEFSSUEodCxoKSxjPW5ldyByKHQsbCxcIlwiLFsxNTAsMTUwXSwxLDEsNTAsNTAsZC53aWR0aCxkLmhlaWdodCxoKSx0aGlzLl9maWxsQm9hcmQoYyxoLGQpLHMucGFyc2VTdHJpbmcoaSxjLG8sITAsYSksY30sZnJlZUJvYXJkOmZ1bmN0aW9uKGUpe3ZhciBpO2ZvcihpIGluXCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPXQuYm9hcmRzW2VdKSx0aGlzLl9yZW1vdmVBUklBTm9kZXMoZSksZS5yZW1vdmVFdmVudEhhbmRsZXJzKCksZS5zdXNwZW5kVXBkYXRlKCksZS5vYmplY3RzKWUub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShpKSYmZS5vYmplY3RzW2ldLnJlbW92ZSgpO2Zvcig7ZS5jb250YWluZXJPYmouZmlyc3RDaGlsZDspZS5jb250YWluZXJPYmoucmVtb3ZlQ2hpbGQoZS5jb250YWluZXJPYmouZmlyc3RDaGlsZCk7Zm9yKGkgaW4gZS5vYmplY3RzKWUub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShpKSYmZGVsZXRlIGUub2JqZWN0c1tpXTtkZWxldGUgZS5yZW5kZXJlcixlLmpjLmNyZWF0b3IuY2xlYXJDYWNoZSgpLGRlbGV0ZSBlLmpjLGRlbGV0ZSB0LmJvYXJkc1tlLmlkXX0scmVnaXN0ZXJFbGVtZW50OmZ1bmN0aW9uKGUsaSl7dC5kZXByZWNhdGVkKFwiSlhHLkpTWEdyYXBoLnJlZ2lzdGVyRWxlbWVudCgpXCIsXCJKWEcucmVnaXN0ZXJFbGVtZW50KClcIiksdC5yZWdpc3RlckVsZW1lbnQoZSxpKX19LGUuaXNCcm93c2VyJiZcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZcIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJmUuYWRkRXZlbnQod2luZG93LFwibG9hZFwiLChmdW5jdGlvbigpe3ZhciBlLHIscyxvLG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDPSExLF89ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksUD1mdW5jdGlvbihlLGkscil7dmFyIHM9dC5KU1hHcmFwaC5pbml0Qm9hcmQobix7Ym91bmRpbmdib3g6cixrZWVwYXNwZWN0cmF0aW86ITAsZ3JpZDpnLGF4aXM6bSxzaG93UmVsb2FkOiEwfSk7aWYoaS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJzY3JpcHRcIik+LTEpcy5jb25zdHJ1Y3QoZSk7ZWxzZSB0cnl7cy5qYy5wYXJzZShlKX1jYXRjaChlKXt0LmRlYnVnKGUpfXJldHVybiBzfSxFPWZ1bmN0aW9uKGUsaSxyLHMpe3JldHVybiBmdW5jdGlvbigpe3ZhciBvO3QuSlNYR3JhcGguZnJlZUJvYXJkKGUpLChvPVAoaSxyLHMpKS5yZWxvYWQ9RShvLGkscixzKX19O2ZvcihyPTA7cjxfLmxlbmd0aDtyKyspaWYoZT1fW3JdLmdldEF0dHJpYnV0ZShcInR5cGVcIiwhMSksaS5leGlzdHMoZSkmJihcInRleHQvamVzc2llc2NyaXB0XCI9PT1lLnRvTG93ZXJDYXNlKCl8fFwiamVzc2llc2NyaXB0XCI9PT1lLnRvTG93ZXJDYXNlKCl8fFwidGV4dC9qZXNzaWVjb2RlXCI9PT1lLnRvTG93ZXJDYXNlKCl8fFwiamVzc2llY29kZVwiPT09ZS50b0xvd2VyQ2FzZSgpKSl7aWYocD1fW3JdLmdldEF0dHJpYnV0ZShcImNsYXNzXCIsITEpfHxcIlwiLGw9X1tyXS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCExKXx8XCJcIixjPV9bcl0uZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsITEpfHxcIlwiLGQ9X1tyXS5nZXRBdHRyaWJ1dGUoXCJtYXh3aWR0aFwiLCExKXx8XCIxMDAlXCIsdT1fW3JdLmdldEF0dHJpYnV0ZShcImFzcGVjdHJhdGlvXCIsITEpfHxcIjEvMVwiLGY9X1tyXS5nZXRBdHRyaWJ1dGUoXCJib3VuZGluZ2JveFwiLCExKXx8XCItNSwgNSwgNSwgLTVcIixuPV9bcl0uZ2V0QXR0cmlidXRlKFwiY29udGFpbmVyXCIsITEpLHY9X1tyXS5nZXRBdHRyaWJ1dGUoXCJzcmNcIiwhMSksNCE9PShmPWYuc3BsaXQoXCIsXCIpKS5sZW5ndGgpZj1bLTUsNSw1LC01XTtlbHNlIGZvcihzPTA7czxmLmxlbmd0aDtzKyspZltzXT1wYXJzZUZsb2F0KGZbc10pO2lmKG09aS5zdHIyQm9vbChfW3JdLmdldEF0dHJpYnV0ZShcImF4aXNcIiwhMSl8fFwiZmFsc2VcIiksZz1pLnN0cjJCb29sKF9bcl0uZ2V0QXR0cmlidXRlKFwiZ3JpZFwiLCExKXx8XCJmYWxzZVwiKSxpLmV4aXN0cyhuKSlvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pO2Vsc2V7bj1cImplc3NpZXNjcmlwdF9hdXRnZW5fanhnX1wiK3IsKG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuc2V0QXR0cmlidXRlKFwiaWRcIixuKSxoPVwiXCIhPT1sP1wid2lkdGg6XCIrbCtcIjtcIjpcIlwiLGgrPVwiXCIhPT1jP1wiaGVpZ2h0OlwiK2MrXCI7XCI6XCJcIixoKz1cIlwiIT09ZD9cIm1heC13aWR0aDpcIitkK1wiO1wiOlwiXCIsaCs9XCJcIiE9PXU/XCJhc3BlY3QtcmF0aW86XCIrdStcIjtcIjpcIlwiLG8uc2V0QXR0cmlidXRlKFwic3R5bGVcIixoKSxvLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXCJqeGdib3ggXCIrcCk7dHJ5e2RvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKG8sX1tyXSl9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIGpRdWVyeSYmalF1ZXJ5KG8pLmluc2VydEJlZm9yZShfW3JdKX19Yj1cIlwiLGkuZXhpc3RzKHYpPyhDPSEwLCh5PW5ldyBYTUxIdHRwUmVxdWVzdCkub3BlbihcIkdFVFwiLHYpLHkub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWRcIikseS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLChmdW5jdGlvbigpe2lmKCEodGhpcy5zdGF0dXM8NDAwKSl0aHJvdyBuZXcgRXJyb3IoXCJcXG5KU1hHcmFwaDogZmFpbGVkIHRvIGxvYWQgZmlsZVwiLHYsXCI6XCIsdGhpcy5yZXNwb25zZVRleHQpO2I9dGhpcy5yZXNwb25zZVRleHQrXCJcXG5cIitiLChhPVAoYixlLGYpKS5yZWxvYWQ9RShhLGIsZSxmKX0pKSx5LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLChmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoXCJcXG5KU1hHcmFwaDogZmFpbGVkIHRvIGxvYWQgZmlsZVwiLHYsXCI6XCIsdCl9KSkseS5zZW5kKCkpOkM9ITEsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobik/KGI9KGI9X1tyXS5pbm5lckhUTUwpLnJlcGxhY2UoLzwhXFxbQ0RBVEFcXFsvZyxcIlwiKS5yZXBsYWNlKC9cXF1cXF0+L2csXCJcIiksX1tyXS5pbm5lckhUTUw9YixDfHwoKGE9UChiLGUsZikpLnJlbG9hZD1FKGEsYixlLGYpKSk6dC5kZWJ1ZyhcIkpTWEdyYXBoOiBBcHBhcmVudGx5IHRoZSBkaXYgaW5qZWN0aW9uIGZhaWxlZC4gQ2FuJ3QgY3JlYXRlIGEgYm9hcmQsIHNvcnJ5LlwiKX19KSx3aW5kb3cpLHQuSlNYR3JhcGh9KSksZGVmaW5lKFwiYmFzZS9wb2ludFwiLFtcImp4Z1wiLFwib3B0aW9uc1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9lbGVtZW50XCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL2Nvb3Jkc2VsZW1lbnRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuUG9pbnQ9ZnVuY3Rpb24odCxlLGkpe3RoaXMuY29uc3RydWN0b3IodCxpLHMuT0JKRUNUX1RZUEVfUE9JTlQscy5PQkpFQ1RfQ0xBU1NfUE9JTlQpLHRoaXMuZWxlbWVudD10aGlzLmJvYXJkLnNlbGVjdChpLmFuY2hvciksdGhpcy5jb29yZHNDb25zdHJ1Y3RvcihlKSx0aGlzLmVsVHlwZT1cInBvaW50XCIsdGhpcy5pZD10aGlzLmJvYXJkLnNldElkKHRoaXMsXCJQXCIpLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd1BvaW50KHRoaXMpLHRoaXMuYm9hcmQuZmluYWxpemVBZGRpbmcodGhpcyksdGhpcy5jcmVhdGVHcmFkaWVudCgpLHRoaXMuY3JlYXRlTGFiZWwoKX0sdC5Qb2ludC5wcm90b3R5cGU9bmV3IG8sbi5jb3B5UHJvdG90eXBlTWV0aG9kcyh0LlBvaW50LGEsXCJjb29yZHNDb25zdHJ1Y3RvclwiKSx0LmV4dGVuZCh0LlBvaW50LnByb3RvdHlwZSx7aGFzUG9pbnQ6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbz10aGlzLmNvb3Jkcy5zY3JDb29yZHMsYT1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zaXpldW5pdCk7cmV0dXJuIG4uaXNPYmplY3Qobi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KHM9dGhpcy5ib2FyZC5faW5wdXREZXZpY2Uscj1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25bc10pKTpyPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsaT1wYXJzZUZsb2F0KG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNpemUpKSxcInVzZXJcIj09PWEmJihpKj1NYXRoLnNxcnQodGhpcy5ib2FyZC51bml0WCp0aGlzLmJvYXJkLnVuaXRZKSksKGkrPS41KnBhcnNlRmxvYXQobi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc3Ryb2tld2lkdGgpKSk8ciYmKGk9ciksTWF0aC5hYnMob1sxXS10KTxpKzImJk1hdGguYWJzKG9bMl0tZSk8aSsyfSx1cGRhdGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGU/KHRoaXMudXBkYXRlQ29vcmRzKHQpLG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnRyYWNlKSYmdGhpcy5jbG9uZVRvQmFja2dyb3VuZCghMCksdGhpcyk6dGhpc30sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlLGk7aWYoMD09PXRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aHx8bnVsbD09PXRoaXMuYmFzZUVsZW1lbnQpcmV0dXJuIHRoaXM7Zm9yKHRoaXM9PT10aGlzLmJhc2VFbGVtZW50PyhlPXRoaXMudHJhbnNmb3JtYXRpb25zWzBdLmFwcGx5KHRoaXMuYmFzZUVsZW1lbnQsXCJzZWxmXCIpLHRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKHMuQ09PUkRTX0JZX1VTRVIsZSkpOmU9dGhpcy50cmFuc2Zvcm1hdGlvbnNbMF0uYXBwbHkodGhpcy5iYXNlRWxlbWVudCksdGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMocy5DT09SRFNfQllfVVNFUixlKSxpPTE7aTx0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg7aSsrKXRoaXMuY29vcmRzLnNldENvb3JkaW5hdGVzKHMuQ09PUkRTX0JZX1VTRVIsdGhpcy50cmFuc2Zvcm1hdGlvbnNbaV0uYXBwbHkodGhpcykpO3JldHVybiB0aGlzfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVwZGF0ZVJlbmRlcmVyR2VuZXJpYyhcInVwZGF0ZVBvaW50XCIpLHRoaXN9LGJvdW5kczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMSkuY29uY2F0KHRoaXMuY29vcmRzLnVzckNvb3Jkcy5zbGljZSgxKSl9LG1ha2VJbnRlcnNlY3Rpb246ZnVuY3Rpb24odCxlLGksbyl7dmFyIGE7dD10aGlzLmJvYXJkLnNlbGVjdCh0KSxlPXRoaXMuYm9hcmQuc2VsZWN0KGUpLGE9ci5pbnRlcnNlY3Rpb25GdW5jdGlvbih0aGlzLmJvYXJkLHQsZSxpLG8sbi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYWx3YXlzaW50ZXJzZWN0KSksdGhpcy5hZGRDb25zdHJhaW50KFthXSk7dHJ5e3QuYWRkQ2hpbGQodGhpcyksZS5hZGRDaGlsZCh0aGlzKX1jYXRjaChpKXt0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlICdpbnRlcnNlY3Rpb24nIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgdCtcIicgYW5kICdcIit0eXBlb2YgZStcIicuXCIpfXRoaXMudHlwZT1zLk9CSkVDVF9UWVBFX0lOVEVSU0VDVElPTix0aGlzLmVsVHlwZT1cImludGVyc2VjdGlvblwiLHRoaXMucGFyZW50cz1bdC5pZCxlLmlkLGksb10sdGhpcy5nZW5lcmF0ZVBvbHlub21pYWw9ZnVuY3Rpb24oKXt2YXIgaT10LmdlbmVyYXRlUG9seW5vbWlhbCh0aGlzKSxyPWUuZ2VuZXJhdGVQb2x5bm9taWFsKHRoaXMpO3JldHVybiAwPT09aS5sZW5ndGh8fDA9PT1yLmxlbmd0aD9bXTpbaVswXSxyWzBdXX0sdGhpcy5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCl9LHNldFN0eWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnZpc1Byb3AuZmFjZT1bXCJjcm9zc1wiLFwiY3Jvc3NcIixcImNyb3NzXCIsXCJjaXJjbGVcIixcImNpcmNsZVwiLFwiY2lyY2xlXCIsXCJjaXJjbGVcIixcInNxdWFyZVwiLFwic3F1YXJlXCIsXCJzcXVhcmVcIixcInBsdXNcIixcInBsdXNcIixcInBsdXNcIl1bdF0sdGhpcy52aXNQcm9wLnNpemU9WzIsMyw0LDEsMiwzLDQsMiwzLDQsMiwzLDRdW3RdLHRoaXMuYm9hcmQucmVuZGVyZXIuY2hhbmdlUG9pbnRTdHlsZSh0aGlzKSx0aGlzfSxub3JtYWxpemVGYWNlOmZ1bmN0aW9uKGkpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJQb2ludC5ub3JtYWxpemVGYWNlKClcIixcIkpYRy5ub3JtYWxpemVQb2ludEZhY2UoKVwiKSxlLm5vcm1hbGl6ZVBvaW50RmFjZShpKX0sZmFjZTpmdW5jdGlvbihlKXt0LmRlcHJlY2F0ZWQoXCJQb2ludC5mYWNlKClcIixcIlBvaW50LnNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlKHtmYWNlOmV9KX0sc2l6ZTpmdW5jdGlvbihlKXt0LmRlcHJlY2F0ZWQoXCJQb2ludC5zaXplKClcIixcIlBvaW50LnNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlKHtzaXplOmV9KX0saXNPbjpmdW5jdGlvbihlLG8pe3ZhciBhLGg7cmV0dXJuIG89b3x8aS5lcHMsbi5pc1BvaW50KGUpP3RoaXMuRGlzdChlKTxvOmUuZWxlbWVudENsYXNzPT09cy5PQkpFQ1RfQ0xBU1NfTElORT8oXCJzZWdtZW50XCIhPT1lLmVsVHlwZXx8bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYWx3YXlzaW50ZXJzZWN0KXx8KGE9dC5NYXRoLkdlb21ldHJ5LnByb2plY3RDb29yZHNUb1NlZ21lbnQodGhpcy5jb29yZHMudXNyQ29vcmRzLGUucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsZS5wb2ludDIuY29vcmRzLnVzckNvb3JkcykpWzFdPj0wJiZhWzFdPD0xKSYmci5kaXN0UG9pbnRMaW5lKHRoaXMuY29vcmRzLnVzckNvb3JkcyxlLnN0ZGZvcm0pPG86ZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19DSVJDTEU/bi5ldmFsdWF0ZShlLnZpc1Byb3AuaGFzaW5uZXJwb2ludHMpP3RoaXMuRGlzdChlLmNlbnRlcik8ZS5SYWRpdXMoKStvOk1hdGguYWJzKHRoaXMuRGlzdChlLmNlbnRlciktZS5SYWRpdXMoKSk8bzplLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0NVUlZFPyhoPXIucHJvamVjdFBvaW50VG9DdXJ2ZSh0aGlzLGUsdGhpcy5ib2FyZClbMF0sci5kaXN0YW5jZSh0aGlzLmNvb3Jkcy51c3JDb29yZHMsaC51c3JDb29yZHMsMyk8byk6ZS50eXBlPT09cy5PQkpFQ1RfVFlQRV9QT0xZR09OPyEoIW4uZXZhbHVhdGUoZS52aXNQcm9wLmhhc2lubmVycG9pbnRzKXx8IWUucG5wb2x5KHRoaXMuY29vcmRzLnVzckNvb3Jkc1sxXSx0aGlzLmNvb3Jkcy51c3JDb29yZHNbMl0sdC5DT09SRFNfQllfVVNFUikpfHwoYT1yLnByb2plY3RDb29yZHNUb1BvbHlnb24odGhpcy5jb29yZHMudXNyQ29vcmRzLGUpLHIuZGlzdGFuY2UodGhpcy5jb29yZHMudXNyQ29vcmRzLGEsMyk8byk6ZS50eXBlPT09cy5PQkpFQ1RfVFlQRV9UVVJUTEUmJihoPXIucHJvamVjdFBvaW50VG9UdXJ0bGUodGhpcyxlLHRoaXMuYm9hcmQpLHIuZGlzdGFuY2UodGhpcy5jb29yZHMudXNyQ29vcmRzLGgudXNyQ29vcmRzLDMpPG8pfSxjbG9uZVRvQmFja2dyb3VuZDpmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiB0LmlkPXRoaXMuaWQrXCJUXCIrdGhpcy5udW1UcmFjZXMsdGhpcy5udW1UcmFjZXMrPTEsdC5jb29yZHM9dGhpcy5jb29yZHMsdC52aXNQcm9wPW4uZGVlcENvcHkodGhpcy52aXNQcm9wLHRoaXMudmlzUHJvcC50cmFjZWF0dHJpYnV0ZXMsITApLHQudmlzUHJvcC5sYXllcj10aGlzLmJvYXJkLm9wdGlvbnMubGF5ZXIudHJhY2UsdC5lbGVtZW50Q2xhc3M9cy5PQkpFQ1RfQ0xBU1NfUE9JTlQsdC5ib2FyZD10aGlzLmJvYXJkLG4uY2xlYXJWaXNQcm9wT2xkKHQpLHQudmlzUHJvcENhbGM9e3Zpc2libGU6bi5ldmFsdWF0ZSh0LnZpc1Byb3AudmlzaWJsZSl9LHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd1BvaW50KHQpLHRoaXMudHJhY2VzW3QuaWRdPXQucmVuZE5vZGUsdGhpc319KSx0LmNyZWF0ZVBvaW50PWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvO2lmKG89bi5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcInBvaW50XCIpLCEocz1hLmNyZWF0ZSh0LlBvaW50LGUsaSxvKSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBwb2ludCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3gseV0sIFt6LHgseV0sIFtlbGVtZW50LHRyYW5zZm9ybWF0aW9uXVwiKTtyZXR1cm4gc30sdC5jcmVhdGVHbGlkZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbz1uLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiZ2xpZGVyXCIpO3JldHVybiBzPTE9PT1lLmxlbmd0aD9bMCwwXTplLnNsaWNlKDAsMiksKHI9dC5jcmVhdGUoXCJwb2ludFwiLHMsbykpLm1ha2VHbGlkZXIoZVtlLmxlbmd0aC0xXSkscn0sdC5jcmVhdGVJbnRlcnNlY3Rpb25Qb2ludD1mdW5jdGlvbih0LGUsaSl7dmFyIG8sYSxoLGwsYyxkLHU9bi5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImludGVyc2VjdGlvblwiKTtlLnB1c2goMCwwKSxhPXQuc2VsZWN0KGVbMF0pLGg9dC5zZWxlY3QoZVsxXSksYz1lWzJdfHwwLGQ9ZVszXXx8MCxvPXQuY3JlYXRlKFwicG9pbnRcIixbMCwwLDBdLHUpLGw9ci5pbnRlcnNlY3Rpb25GdW5jdGlvbih0LGEsaCxjLGQsby52aXNQcm9wLmFsd2F5c2ludGVyc2VjdCksby5hZGRDb25zdHJhaW50KFtsXSk7dHJ5e2EuYWRkQ2hpbGQobyksaC5hZGRDaGlsZChvKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlICdpbnRlcnNlY3Rpb24nIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIicuXCIpfXJldHVybiBvLnR5cGU9cy5PQkpFQ1RfVFlQRV9JTlRFUlNFQ1RJT04sby5lbFR5cGU9XCJpbnRlcnNlY3Rpb25cIixvLnNldFBhcmVudHMoW2EuaWQsaC5pZF0pLG8uaW50ZXJzZWN0aW9uTnVtYmVycz1bYyxkXSxvLmdldFBhcmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnRzLmNvbmNhdCh0aGlzLmludGVyc2VjdGlvbk51bWJlcnMpfSxvLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3ZhciB0PWEuZ2VuZXJhdGVQb2x5bm9taWFsKG8pLGU9aC5nZW5lcmF0ZVBvbHlub21pYWwobyk7cmV0dXJuIDA9PT10Lmxlbmd0aHx8MD09PWUubGVuZ3RoP1tdOlt0WzBdLGVbMF1dfSxvfSx0LmNyZWF0ZU90aGVySW50ZXJzZWN0aW9uUG9pbnQ9ZnVuY3Rpb24odCxlLG8pe3ZhciBhLGgsbCxjO2lmKDMhPT1lLmxlbmd0aHx8IW4uaXNQb2ludChlWzJdKXx8ZVswXS5lbGVtZW50Q2xhc3MhPT1zLk9CSkVDVF9DTEFTU19MSU5FJiZlWzBdLmVsZW1lbnRDbGFzcyE9PXMuT0JKRUNUX0NMQVNTX0NJUkNMRXx8ZVsxXS5lbGVtZW50Q2xhc3MhPT1zLk9CSkVDVF9DTEFTU19MSU5FJiZlWzFdLmVsZW1lbnRDbGFzcyE9PXMuT0JKRUNUX0NMQVNTX0NJUkNMRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlICdvdGhlciBpbnRlcnNlY3Rpb24gcG9pbnQnIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicsICAnXCIrdHlwZW9mIGVbMV0rXCInYW5kICAnXCIrdHlwZW9mIGVbMl0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2NpcmNsZXxsaW5lLGNpcmNsZXxsaW5lLHBvaW50XVwiKTtyZXR1cm4gaD10LnNlbGVjdChlWzBdKSxsPXQuc2VsZWN0KGVbMV0pLGM9dC5zZWxlY3QoZVsyXSksKGE9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3ZhciB0PXIubWVldChoLnN0ZGZvcm0sbC5zdGRmb3JtLDAsaC5ib2FyZCk7cmV0dXJuIE1hdGguYWJzKGMuWCgpLXQudXNyQ29vcmRzWzFdKT5pLmVwc3x8TWF0aC5hYnMoYy5ZKCktdC51c3JDb29yZHNbMl0pPmkuZXBzfHxNYXRoLmFicyhjLlooKS10LnVzckNvb3Jkc1swXSk+aS5lcHM/dDpyLm1lZXQoaC5zdGRmb3JtLGwuc3RkZm9ybSwxLGguYm9hcmQpfV0sbykpLnR5cGU9cy5PQkpFQ1RfVFlQRV9JTlRFUlNFQ1RJT04sYS5lbFR5cGU9XCJvdGhlcmludGVyc2VjdGlvblwiLGEuc2V0UGFyZW50cyhbaC5pZCxsLmlkLGNdKSxoLmFkZENoaWxkKGEpLGwuYWRkQ2hpbGQoYSksYS5nZW5lcmF0ZVBvbHlub21pYWw9ZnVuY3Rpb24oKXt2YXIgdD1oLmdlbmVyYXRlUG9seW5vbWlhbChhKSxlPWwuZ2VuZXJhdGVQb2x5bm9taWFsKGEpO3JldHVybiAwPT09dC5sZW5ndGh8fDA9PT1lLmxlbmd0aD9bXTpbdFswXSxlWzBdXX0sYX0sdC5jcmVhdGVQb2xlUG9pbnQ9ZnVuY3Rpb24oZSxpLHIpe3ZhciBvLG4sYSxoLGwsYyxkO2lmKGkubGVuZ3RoPjEmJihoPWlbMF0udHlwZT09PXMuT0JKRUNUX1RZUEVfQ09OSUN8fGlbMF0uZWxlbWVudENsYXNzPT09cy5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFLGw9aVsxXS50eXBlPT09cy5PQkpFQ1RfVFlQRV9DT05JQ3x8aVsxXS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19DSVJDTEUsYz1pWzBdLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0xJTkUsZD1pWzFdLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0xJTkUpLDIhPT1pLmxlbmd0aHx8IShoJiZkfHxjJiZsKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlICdwb2xlIHBvaW50JyB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlOiBbY29uaWN8Y2lyY2xlLGxpbmVdLCBbbGluZSxjb25pY3xjaXJjbGVdXCIpO3JldHVybiBkPyhuPWUuc2VsZWN0KGlbMF0pLGE9ZS5zZWxlY3QoaVsxXSkpOihuPWUuc2VsZWN0KGlbMV0pLGE9ZS5zZWxlY3QoaVswXSkpLChvPWUuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXt2YXIgZT1uLnF1YWRyYXRpY2Zvcm0saT1hLnN0ZGZvcm0uc2xpY2UoMCwzKTtyZXR1cm5bdC5NYXRoLk51bWVyaWNzLmRldChbaSxlWzFdLGVbMl1dKSx0Lk1hdGguTnVtZXJpY3MuZGV0KFtlWzBdLGksZVsyXV0pLHQuTWF0aC5OdW1lcmljcy5kZXQoW2VbMF0sZVsxXSxpXSldfV0scikpLmVsVHlwZT1cInBvbGVwb2ludFwiLG8uc2V0UGFyZW50cyhbbi5pZCxhLmlkXSksbi5hZGRDaGlsZChvKSxhLmFkZENoaWxkKG8pLG99LHQucmVnaXN0ZXJFbGVtZW50KFwicG9pbnRcIix0LmNyZWF0ZVBvaW50KSx0LnJlZ2lzdGVyRWxlbWVudChcImdsaWRlclwiLHQuY3JlYXRlR2xpZGVyKSx0LnJlZ2lzdGVyRWxlbWVudChcImludGVyc2VjdGlvblwiLHQuY3JlYXRlSW50ZXJzZWN0aW9uUG9pbnQpLHQucmVnaXN0ZXJFbGVtZW50KFwib3RoZXJpbnRlcnNlY3Rpb25cIix0LmNyZWF0ZU90aGVySW50ZXJzZWN0aW9uUG9pbnQpLHQucmVnaXN0ZXJFbGVtZW50KFwicG9sZXBvaW50XCIsdC5jcmVhdGVQb2xlUG9pbnQpLHtQb2ludDp0LlBvaW50LGNyZWF0ZVBvaW50OnQuY3JlYXRlUG9pbnQsY3JlYXRlR2xpZGVyOnQuY3JlYXRlR2xpZGVyLGNyZWF0ZUludGVyc2VjdGlvbjp0LmNyZWF0ZUludGVyc2VjdGlvblBvaW50LGNyZWF0ZU90aGVySW50ZXJzZWN0aW9uOnQuY3JlYXRlT3RoZXJJbnRlcnNlY3Rpb25Qb2ludCxjcmVhdGVQb2xlUG9pbnQ6dC5jcmVhdGVQb2xlUG9pbnR9fSkpLGRlZmluZShcImJhc2UvbGluZVwiLFtcImp4Z1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJtYXRoL251bWVyaWNzXCIsXCJtYXRoL3N0YXRpc3RpY3NcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwiYmFzZS9lbGVtZW50XCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL3BvaW50XCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEsaCxsKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5MaW5lPWZ1bmN0aW9uKGUsaSxyLHMpe3RoaXMuY29uc3RydWN0b3IoZSxzLG8uT0JKRUNUX1RZUEVfTElORSxvLk9CSkVDVF9DTEFTU19MSU5FKSx0aGlzLnBvaW50MT10aGlzLmJvYXJkLnNlbGVjdChpKSx0aGlzLnBvaW50Mj10aGlzLmJvYXJkLnNlbGVjdChyKSx0aGlzLnRpY2tzPVtdLHRoaXMuZGVmYXVsdFRpY2tzPW51bGwsdGhpcy5wYXJlbnRQb2x5Z29uPW51bGwsdGhpcy5pZD10aGlzLmJvYXJkLnNldElkKHRoaXMsXCJMXCIpLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd0xpbmUodGhpcyksdGhpcy5ib2FyZC5maW5hbGl6ZUFkZGluZyh0aGlzKSx0aGlzLmVsVHlwZT1cImxpbmVcIix0aGlzLnBvaW50MS5faXNfbmV3Pyh0aGlzLmFkZENoaWxkKHRoaXMucG9pbnQxKSxkZWxldGUgdGhpcy5wb2ludDEuX2lzX25ldyk6dGhpcy5wb2ludDEuYWRkQ2hpbGQodGhpcyksdGhpcy5wb2ludDIuX2lzX25ldz8odGhpcy5hZGRDaGlsZCh0aGlzLnBvaW50MiksZGVsZXRlIHRoaXMucG9pbnQyLl9pc19uZXcpOnRoaXMucG9pbnQyLmFkZENoaWxkKHRoaXMpLHRoaXMuaW5oZXJpdHMucHVzaCh0aGlzLnBvaW50MSx0aGlzLnBvaW50MiksdGhpcy51cGRhdGVTdGRmb3JtKCksdGhpcy5jcmVhdGVMYWJlbCgpLHRoaXMubWV0aG9kTWFwPXQuZGVlcENvcHkodGhpcy5tZXRob2RNYXAse3BvaW50MTpcInBvaW50MVwiLHBvaW50MjpcInBvaW50MlwiLGdldFNsb3BlOlwiZ2V0U2xvcGVcIixnZXRSaXNlOlwiZ2V0UmlzZVwiLGdldFlJbnRlcnNlY3Q6XCJnZXRSaXNlXCIsZ2V0QW5nbGU6XCJnZXRBbmdsZVwiLEw6XCJMXCIsbGVuZ3RoOlwiTFwifSl9LHQuTGluZS5wcm90b3R5cGU9bmV3IGEsdC5leHRlbmQodC5MaW5lLnByb3RvdHlwZSx7aGFzUG9pbnQ6ZnVuY3Rpb24odCxyKXt2YXIgcyxhLGwsYyxkLHUscCxmLG0sZz1bXSxiPVsxLHQscl0sdj1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJva2V3aWR0aCk7cmV0dXJuIGguaXNPYmplY3QoaC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KG09dGhpcy5ib2FyZC5faW5wdXREZXZpY2UsZj1oLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25bbV0pKTpmPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsZis9LjUqdixnWzBdPXRoaXMuc3RkZm9ybVswXS10aGlzLnN0ZGZvcm1bMV0qdGhpcy5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzFdL3RoaXMuYm9hcmQudW5pdFgrdGhpcy5zdGRmb3JtWzJdKnRoaXMuYm9hcmQub3JpZ2luLnNjckNvb3Jkc1syXS90aGlzLmJvYXJkLnVuaXRZLGdbMV09dGhpcy5zdGRmb3JtWzFdL3RoaXMuYm9hcmQudW5pdFgsZ1syXT10aGlzLnN0ZGZvcm1bMl0vLXRoaXMuYm9hcmQudW5pdFkscz1pLmRpc3RQb2ludExpbmUoYixnKSwhKGlzTmFOKHMpfHxzPmYpJiYoISghaC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc3RyYWlnaHRmaXJzdCl8fCFoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJhaWdodGxhc3QpKXx8KGw9dGhpcy5wb2ludDEuY29vcmRzLGM9dGhpcy5wb2ludDIuY29vcmRzLGE9WzAsZ1sxXSxnWzJdXSxhPWUuY3Jvc3NQcm9kdWN0KGEsYiksKGE9ZS5jcm9zc1Byb2R1Y3QoYSxnKSlbMV0vPWFbMF0sYVsyXS89YVswXSxhWzBdPTEsYT1uZXcgbihvLkNPT1JEU19CWV9TQ1JFRU4sYS5zbGljZSgxKSx0aGlzLmJvYXJkKS51c3JDb29yZHMsZD1sLmRpc3RhbmNlKG8uQ09PUkRTX0JZX1VTRVIsYyksbD1sLnVzckNvb3Jkcy5zbGljZSgwKSxjPWMudXNyQ29vcmRzLnNsaWNlKDApLGQ8ZS5lcHM/dT0wOihkPT09TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZJiYoZD0xL2UuZXBzLE1hdGguYWJzKGNbMF0pPGUuZXBzPyhkLz1pLmRpc3RhbmNlKFswLDAsMF0sYyksYz1bMSxsWzFdK2NbMV0qZCxsWzJdK2NbMl0qZF0pOihkLz1pLmRpc3RhbmNlKFswLDAsMF0sbCksbD1bMSxjWzFdK2xbMV0qZCxjWzJdK2xbMl0qZF0pKSxkPWNbcD0xXS1sW3BdLE1hdGguYWJzKGQpPGUuZXBzJiYoZD1jW3A9Ml0tbFtwXSksdT0oYVtwXS1sW3BdKS9kKSwhKCFoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJhaWdodGZpcnN0KSYmdTwwKSYmISghaC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc3RyYWlnaHRsYXN0KSYmdT4xKSkpfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy5jb25zdHJhaW5lZCYmKGguaXNGdW5jdGlvbih0aGlzLmZ1bnBzKT8odD10aGlzLmZ1bnBzKCkpJiZ0Lmxlbmd0aCYmMj09PXQubGVuZ3RoJiYodGhpcy5wb2ludDE9dFswXSx0aGlzLnBvaW50Mj10WzFdKTooaC5pc0Z1bmN0aW9uKHRoaXMuZnVucDEpJiYodD10aGlzLmZ1bnAxKCksaC5pc1BvaW50KHQpP3RoaXMucG9pbnQxPXQ6dCYmdC5sZW5ndGgmJjI9PT10Lmxlbmd0aCYmdGhpcy5wb2ludDEuc2V0UG9zaXRpb25EaXJlY3RseShvLkNPT1JEU19CWV9VU0VSLHQpKSxoLmlzRnVuY3Rpb24odGhpcy5mdW5wMikmJih0PXRoaXMuZnVucDIoKSxoLmlzUG9pbnQodCk/dGhpcy5wb2ludDI9dDp0JiZ0Lmxlbmd0aCYmMj09PXQubGVuZ3RoJiZ0aGlzLnBvaW50Mi5zZXRQb3NpdGlvbkRpcmVjdGx5KG8uQ09PUkRTX0JZX1VTRVIsdCkpKSksdGhpcy51cGRhdGVTZWdtZW50Rml4ZWRMZW5ndGgoKSx0aGlzLnVwZGF0ZVN0ZGZvcm0oKSxoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50cmFjZSkmJnRoaXMuY2xvbmVUb0JhY2tncm91bmQoITApLHRoaXMpOnRoaXN9LHVwZGF0ZVNlZ21lbnRGaXhlZExlbmd0aDpmdW5jdGlvbigpe3ZhciB0LGkscixzLG4sYSxsLGM7cmV0dXJuIHRoaXMuaGFzRml4ZWRMZW5ndGg/KHQ9dGhpcy5wb2ludDEuRGlzdCh0aGlzLnBvaW50MiksaT10aGlzLmZpeGVkTGVuZ3RoKCkscj10aGlzLmZpeGVkTGVuZ3RoT2xkQ29vcmRzWzBdLmRpc3RhbmNlKG8uQ09PUkRTX0JZX1VTRVIsdGhpcy5wb2ludDEuY29vcmRzKSxzPXRoaXMuZml4ZWRMZW5ndGhPbGRDb29yZHNbMV0uZGlzdGFuY2Uoby5DT09SRFNfQllfVVNFUix0aGlzLnBvaW50Mi5jb29yZHMpLChyPmUuZXBzfHxzPmUuZXBzfHx0IT09aSkmJihuPXRoaXMucG9pbnQxLmlzRHJhZ2dhYmxlJiZ0aGlzLnBvaW50MS50eXBlIT09by5PQkpFQ1RfVFlQRV9HTElERVImJiFoLmV2YWx1YXRlKHRoaXMucG9pbnQxLnZpc1Byb3AuZml4ZWQpLGE9dGhpcy5wb2ludDIuaXNEcmFnZ2FibGUmJnRoaXMucG9pbnQyLnR5cGUhPT1vLk9CSkVDVF9UWVBFX0dMSURFUiYmIWguZXZhbHVhdGUodGhpcy5wb2ludDIudmlzUHJvcC5maXhlZCksdD5lLmVwcz9yPnMmJmF8fHI8PXMmJmEmJiFuPyh0aGlzLnBvaW50Mi5zZXRQb3NpdGlvbkRpcmVjdGx5KG8uQ09PUkRTX0JZX1VTRVIsW3RoaXMucG9pbnQxLlgoKSsodGhpcy5wb2ludDIuWCgpLXRoaXMucG9pbnQxLlgoKSkqaS90LHRoaXMucG9pbnQxLlkoKSsodGhpcy5wb2ludDIuWSgpLXRoaXMucG9pbnQxLlkoKSkqaS90XSksdGhpcy5wb2ludDIuZnVsbFVwZGF0ZSgpKToocjw9cyYmbnx8cj5zJiZuJiYhYSkmJih0aGlzLnBvaW50MS5zZXRQb3NpdGlvbkRpcmVjdGx5KG8uQ09PUkRTX0JZX1VTRVIsW3RoaXMucG9pbnQyLlgoKSsodGhpcy5wb2ludDEuWCgpLXRoaXMucG9pbnQyLlgoKSkqaS90LHRoaXMucG9pbnQyLlkoKSsodGhpcy5wb2ludDEuWSgpLXRoaXMucG9pbnQyLlkoKSkqaS90XSksdGhpcy5wb2ludDEuZnVsbFVwZGF0ZSgpKToobD1NYXRoLnJhbmRvbSgpLS41LGM9TWF0aC5yYW5kb20oKS0uNSx0PU1hdGguc3FydChsKmwrYypjKSxhPyh0aGlzLnBvaW50Mi5zZXRQb3NpdGlvbkRpcmVjdGx5KG8uQ09PUkRTX0JZX1VTRVIsW3RoaXMucG9pbnQxLlgoKStsKmkvdCx0aGlzLnBvaW50MS5ZKCkrYyppL3RdKSx0aGlzLnBvaW50Mi5mdWxsVXBkYXRlKCkpOm4mJih0aGlzLnBvaW50MS5zZXRQb3NpdGlvbkRpcmVjdGx5KG8uQ09PUkRTX0JZX1VTRVIsW3RoaXMucG9pbnQyLlgoKStsKmkvdCx0aGlzLnBvaW50Mi5ZKCkrYyppL3RdKSx0aGlzLnBvaW50MS5mdWxsVXBkYXRlKCkpKSx0aGlzLmZpeGVkTGVuZ3RoT2xkQ29vcmRzWzBdLnNldENvb3JkaW5hdGVzKG8uQ09PUkRTX0JZX1VTRVIsdGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3JkcyksdGhpcy5maXhlZExlbmd0aE9sZENvb3Jkc1sxXS5zZXRDb29yZGluYXRlcyhvLkNPT1JEU19CWV9VU0VSLHRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMpKSx0aGlzKTp0aGlzfSx1cGRhdGVTdGRmb3JtOmZ1bmN0aW9uKCl7dmFyIHQ9ZS5jcm9zc1Byb2R1Y3QodGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkcyx0aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzKTt0aGlzLnN0ZGZvcm1bMF09dFswXSx0aGlzLnN0ZGZvcm1bMV09dFsxXSx0aGlzLnN0ZGZvcm1bMl09dFsyXSx0aGlzLnN0ZGZvcm1bM109MCx0aGlzLm5vcm1hbGl6ZSgpfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPyh0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJih0aGlzLmlzUmVhbD0haXNOYU4odGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1sxXSt0aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzJdK3RoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHNbMV0rdGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1syXSkmJmUuaW5uZXJQcm9kdWN0KHRoaXMuc3RkZm9ybSx0aGlzLnN0ZGZvcm0sMyk+PWUuZXBzKmUuZXBzLHRoaXMuaXNSZWFsfHx0aGlzLnVwZGF0ZVZpc2liaWxpdHkoITEpKSx0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlTGluZSh0aGlzKSx0aGlzLmhhc0xhYmVsJiZ0aGlzLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMubGFiZWwmJnRoaXMubGFiZWwudmlzUHJvcENhbGMudmlzaWJsZSYmdGhpcy5pc1JlYWwmJih0aGlzLmxhYmVsLnVwZGF0ZSgpLHRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlVGV4dCh0aGlzLmxhYmVsKSksdGhpcy5zZXREaXNwbGF5UmVuZE5vZGUoKSx0aGlzLm5lZWRzVXBkYXRlPSExLHRoaXMpOnRoaXN9LGdlbmVyYXRlUG9seW5vbWlhbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnBvaW50MS5zeW1ib2xpYy54LGk9dGhpcy5wb2ludDEuc3ltYm9saWMueSxyPXRoaXMucG9pbnQyLnN5bWJvbGljLngscz10aGlzLnBvaW50Mi5zeW1ib2xpYy55LG89dC5zeW1ib2xpYy54LG49dC5zeW1ib2xpYy55O3JldHVybltbXCIoXCIsaSxcIikqKFwiLG8sXCIpLShcIixpLFwiKSooXCIscixcIikrKFwiLG4sXCIpKihcIixyLFwiKS0oXCIsZSxcIikqKFwiLG4sXCIpKyhcIixlLFwiKSooXCIscyxcIiktKFwiLG8sXCIpKihcIixzLFwiKVwiXS5qb2luKFwiXCIpXX0sZ2V0UmlzZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLnN0ZGZvcm1bMl0pPj1lLmVwcz8tdGhpcy5zdGRmb3JtWzBdL3RoaXMuc3RkZm9ybVsyXToxLzB9LGdldFNsb3BlOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuc3RkZm9ybVsyXSk+PWUuZXBzPy10aGlzLnN0ZGZvcm1bMV0vdGhpcy5zdGRmb3JtWzJdOjEvMH0sZ2V0QW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMigtdGhpcy5zdGRmb3JtWzFdLHRoaXMuc3RkZm9ybVsyXSl9LHNldFN0cmFpZ2h0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudmlzUHJvcC5zdHJhaWdodGZpcnN0PXQsdGhpcy52aXNQcm9wLnN0cmFpZ2h0bGFzdD1lLHRoaXMuYm9hcmQucmVuZGVyZXIudXBkYXRlTGluZSh0aGlzKSx0aGlzfSxnZXRUZXh0QW5jaG9yOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKG8uQ09PUkRTX0JZX1VTRVIsWy41Kih0aGlzLnBvaW50Mi5YKCkrdGhpcy5wb2ludDEuWCgpKSwuNSoodGhpcy5wb2ludDIuWSgpK3RoaXMucG9pbnQxLlkoKSldLHRoaXMuYm9hcmQpfSxzZXRMYWJlbFJlbGF0aXZlQ29vcmRzOmZ1bmN0aW9uKHQpe2guZXhpc3RzKHRoaXMubGFiZWwpJiYodGhpcy5sYWJlbC5yZWxhdGl2ZUNvb3Jkcz1uZXcgbihvLkNPT1JEU19CWV9TQ1JFRU4sW3RbMF0sLXRbMV1dLHRoaXMuYm9hcmQpKX0sZ2V0TGFiZWxBbmNob3I6ZnVuY3Rpb24oKXt2YXIgdCxyLHM9MCxhPW5ldyBuKG8uQ09PUkRTX0JZX1VTRVIsdGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkcyx0aGlzLmJvYXJkKSxsPW5ldyBuKG8uQ09PUkRTX0JZX1VTRVIsdGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkcyx0aGlzLmJvYXJkKSxjPWguZXZhbHVhdGUodGhpcy52aXNQcm9wLnN0cmFpZ2h0Zmlyc3QpLGQ9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc3RyYWlnaHRsYXN0KTtpZigoY3x8ZCkmJmkuY2FsY1N0cmFpZ2h0KHRoaXMsYSxsLDApLGE9YS5zY3JDb29yZHMsbD1sLnNjckNvb3JkcywhaC5leGlzdHModGhpcy5sYWJlbCkpcmV0dXJuIG5ldyBuKG8uQ09PUkRTX0JZX1NDUkVFTixbTmFOLE5hTl0sdGhpcy5ib2FyZCk7c3dpdGNoKGguZXZhbHVhdGUodGhpcy5sYWJlbC52aXNQcm9wLnBvc2l0aW9uKSl7Y2FzZVwibGZ0XCI6Y2FzZVwibGxmdFwiOmNhc2VcInVsZnRcIjphWzFdPD1sWzFdPyh0PWFbMV0scj1hWzJdKToodD1sWzFdLHI9bFsyXSk7YnJlYWs7Y2FzZVwicnRcIjpjYXNlXCJscnRcIjpjYXNlXCJ1cnRcIjphWzFdPmxbMV0/KHQ9YVsxXSxyPWFbMl0pOih0PWxbMV0scj1sWzJdKTticmVhaztkZWZhdWx0OnQ9LjUqKGFbMV0rbFsxXSkscj0uNSooYVsyXStsWzJdKX1yZXR1cm4oY3x8ZCkmJihoLmV4aXN0cyh0aGlzLmxhYmVsKSYmKHM9aC5ldmFsdWF0ZSh0aGlzLmxhYmVsLnZpc1Byb3AuZm9udHNpemUpKSxNYXRoLmFicyh0KTxlLmVwcz90PXM6dGhpcy5ib2FyZC5jYW52YXNXaWR0aCtlLmVwcz50JiZ0PnRoaXMuYm9hcmQuY2FudmFzV2lkdGgtcy1lLmVwcyYmKHQ9dGhpcy5ib2FyZC5jYW52YXNXaWR0aC1zKSxlLmVwcytzPnImJnI+LWUuZXBzP3I9czp0aGlzLmJvYXJkLmNhbnZhc0hlaWdodCtlLmVwcz5yJiZyPnRoaXMuYm9hcmQuY2FudmFzSGVpZ2h0LXMtZS5lcHMmJihyPXRoaXMuYm9hcmQuY2FudmFzSGVpZ2h0LXMpKSxuZXcgbihvLkNPT1JEU19CWV9TQ1JFRU4sW3Qscl0sdGhpcy5ib2FyZCl9LGNsb25lVG9CYWNrZ3JvdW5kOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHI9e307cmV0dXJuIHIuaWQ9dGhpcy5pZCtcIlRcIit0aGlzLm51bVRyYWNlcyxyLmVsZW1lbnRDbGFzcz1vLk9CSkVDVF9DTEFTU19MSU5FLHRoaXMubnVtVHJhY2VzKyssci5wb2ludDE9dGhpcy5wb2ludDEsci5wb2ludDI9dGhpcy5wb2ludDIsci5zdGRmb3JtPXRoaXMuc3RkZm9ybSxyLmJvYXJkPXRoaXMuYm9hcmQsci52aXNQcm9wPWguZGVlcENvcHkodGhpcy52aXNQcm9wLHRoaXMudmlzUHJvcC50cmFjZWF0dHJpYnV0ZXMsITApLHIudmlzUHJvcC5sYXllcj10aGlzLmJvYXJkLm9wdGlvbnMubGF5ZXIudHJhY2UsaC5jbGVhclZpc1Byb3BPbGQociksci52aXNQcm9wQ2FsYz17dmlzaWJsZTpoLmV2YWx1YXRlKHIudmlzUHJvcC52aXNpYmxlKX0sZT10aGlzLmdldFNsb3BlKCksdD10aGlzLmdldFJpc2UoKSxyLmdldFNsb3BlPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHIuZ2V0UmlzZT1mdW5jdGlvbigpe3JldHVybiB0fSxpPXRoaXMuYm9hcmQucmVuZGVyZXIuZW5oYW5jZWRSZW5kZXJpbmcsdGhpcy5ib2FyZC5yZW5kZXJlci5lbmhhbmNlZFJlbmRlcmluZz0hMCx0aGlzLmJvYXJkLnJlbmRlcmVyLmRyYXdMaW5lKHIpLHRoaXMuYm9hcmQucmVuZGVyZXIuZW5oYW5jZWRSZW5kZXJpbmc9aSx0aGlzLnRyYWNlc1tyLmlkXT1yLnJlbmROb2RlLHRoaXN9LGFkZFRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZSxpPWguaXNBcnJheSh0KT90Olt0XSxyPWkubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrKyl0aGlzLnBvaW50MS50cmFuc2Zvcm1hdGlvbnMucHVzaChpW2VdKSx0aGlzLnBvaW50Mi50cmFuc2Zvcm1hdGlvbnMucHVzaChpW2VdKTtyZXR1cm4gdGhpc30sc25hcFRvR3JpZDpmdW5jdGlvbih0KXt2YXIgZSxyLGEsbCxjLGQsdSxwO3JldHVybiBoLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwdG9ncmlkKT90aGlzLnBhcmVudHMubGVuZ3RoPDM/KHRoaXMucG9pbnQxLmhhbmRsZVNuYXBUb0dyaWQoITAsITApLHRoaXMucG9pbnQyLmhhbmRsZVNuYXBUb0dyaWQoITAsITApKTpoLmV4aXN0cyh0KSYmKHU9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc25hcHNpemV4KSxwPWguZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXBzaXpleSksYz0oZT1uZXcgbihvLkNPT1JEU19CWV9TQ1JFRU4sW3QuWHByZXYsdC5ZcHJldl0sdGhpcy5ib2FyZCkpLnVzckNvb3Jkc1sxXSxkPWUudXNyQ29vcmRzWzJdLHU8PTAmJnRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMmJnRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMueC5kZWZhdWx0VGlja3MmJih1PShsPXRoaXMuYm9hcmQuZGVmYXVsdEF4ZXMueC5kZWZhdWx0VGlja3MpLnRpY2tzRGVsdGEqKGguZXZhbHVhdGUobC52aXNQcm9wLm1pbm9ydGlja3MpKzEpKSxwPD0wJiZ0aGlzLmJvYXJkLmRlZmF1bHRBeGVzJiZ0aGlzLmJvYXJkLmRlZmF1bHRBeGVzLnkuZGVmYXVsdFRpY2tzJiYocD0obD10aGlzLmJvYXJkLmRlZmF1bHRBeGVzLnkuZGVmYXVsdFRpY2tzKS50aWNrc0RlbHRhKihoLmV2YWx1YXRlKGwudmlzUHJvcC5taW5vcnRpY2tzKSsxKSksdT4wJiZwPjAmJihyPWkucHJvamVjdFBvaW50VG9MaW5lKHtjb29yZHM6ZX0sdGhpcyx0aGlzLmJvYXJkKSxhPXMuc3VidHJhY3QoWzEsTWF0aC5yb3VuZChjL3UpKnUsTWF0aC5yb3VuZChkL3ApKnBdLHIudXNyQ29vcmRzKSx0aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLGEuc2xpY2UoMSkse3R5cGU6XCJ0cmFuc2xhdGVcIn0pLmFwcGx5T25jZShbdGhpcy5wb2ludDEsdGhpcy5wb2ludDJdKSkpOih0aGlzLnBvaW50MS5oYW5kbGVTbmFwVG9HcmlkKCExLCEwKSx0aGlzLnBvaW50Mi5oYW5kbGVTbmFwVG9HcmlkKCExLCEwKSksdGhpc30sc25hcFRvUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc25hcHRvcG9pbnRzKTtyZXR1cm4gdGhpcy5wYXJlbnRzLmxlbmd0aDwzJiYodGhpcy5wb2ludDEuaGFuZGxlU25hcFRvUG9pbnRzKHQpLHRoaXMucG9pbnQyLmhhbmRsZVNuYXBUb1BvaW50cyh0KSksdGhpc30sWDpmdW5jdGlvbih0KXt2YXIgaSxyPXRoaXMuc3RkZm9ybVsyXTtyZXR1cm4gaT1NYXRoLmFicyh0aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzBdKT5lLmVwcz90aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzFdOnRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHNbMV0sdD0yKih0LS41KSwoMS1NYXRoLmFicyh0KSkqaS10KnJ9LFk6ZnVuY3Rpb24odCl7dmFyIGkscj10aGlzLnN0ZGZvcm1bMV07cmV0dXJuIGk9TWF0aC5hYnModGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1swXSk+ZS5lcHM/dGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1syXTp0aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzWzJdLHQ9MioodC0uNSksKDEtTWF0aC5hYnModCkpKmkrdCpyfSxaOmZ1bmN0aW9uKHQpe3ZhciBpPU1hdGguYWJzKHRoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMF0pPmUuZXBzP3RoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMF06dGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1swXTtyZXR1cm4gdD0yKih0LS41KSwoMS1NYXRoLmFicyh0KSkqaX0sTDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvaW50MS5EaXN0KHRoaXMucG9pbnQyKX0sbWluWDpmdW5jdGlvbigpe3JldHVybiAwfSxtYXhYOmZ1bmN0aW9uKCl7cmV0dXJuIDF9LGJvdW5kczpmdW5jdGlvbigpe3ZhciB0PXRoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMsZT10aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzO3JldHVybltNYXRoLm1pbih0WzFdLGVbMV0pLE1hdGgubWF4KHRbMl0sZVsyXSksTWF0aC5tYXgodFsxXSxlWzFdKSxNYXRoLm1pbih0WzJdLGVbMl0pXX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbGxUaWNrcygpLGEucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMpfX0pLHQuY3JlYXRlTGluZT1mdW5jdGlvbihlLGkscil7dmFyIHMsbyxuLGEsYyxkLHUscD1bXSxmPSExLG09ITE7aWYoMj09PWkubGVuZ3RoKXtpZihoLmlzQXJyYXkoaVswXSkmJmlbMF0ubGVuZ3RoPjEpZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiLFwicG9pbnQxXCIpLG49ZS5jcmVhdGUoXCJwb2ludFwiLGlbMF0sZCk7ZWxzZSBpZihoLmlzU3RyaW5nKGlbMF0pfHxoLmlzUG9pbnQoaVswXSkpbj1lLnNlbGVjdChpWzBdKTtlbHNlIGlmKGguaXNGdW5jdGlvbihpWzBdKSYmaC5pc1BvaW50KGlbMF0oKSkpbj1pWzBdKCksbT0hMDtlbHNlIGlmKGguaXNGdW5jdGlvbihpWzBdKSYmaVswXSgpLmxlbmd0aCYmaVswXSgpLmxlbmd0aD49MilkPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIsXCJwb2ludDFcIiksbj1sLmNyZWF0ZVBvaW50KGUsaVswXSgpLGQpLG09ITA7ZWxzZXtpZighaC5pc09iamVjdChpWzBdKXx8IWguaXNUcmFuc2Zvcm1hdGlvbk9yQXJyYXkoaVsxXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBsaW5lIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnRdLCBbW3gxLHkxXSxbeDIseTJdXSwgW2EsYixjXVwiKTtmPSEwLGQ9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIixcInBvaW50MVwiKSxuPWUuY3JlYXRlKFwicG9pbnRcIixbaVswXS5wb2ludDEsaVsxXV0sZCl9aWYoZilkPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIsXCJwb2ludDJcIiksYT1lLmNyZWF0ZShcInBvaW50XCIsW2lbMF0ucG9pbnQyLGlbMV1dLGQpO2Vsc2UgaWYoaC5pc0FycmF5KGlbMV0pJiZpWzFdLmxlbmd0aD4xKWQ9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIixcInBvaW50MlwiKSxhPWUuY3JlYXRlKFwicG9pbnRcIixpWzFdLGQpO2Vsc2UgaWYoaC5pc1N0cmluZyhpWzFdKXx8aC5pc1BvaW50KGlbMV0pKWE9ZS5zZWxlY3QoaVsxXSk7ZWxzZSBpZihoLmlzRnVuY3Rpb24oaVsxXSkmJmguaXNQb2ludChpWzFdKCkpKWE9aVsxXSgpLG09ITA7ZWxzZXtpZighKGguaXNGdW5jdGlvbihpWzFdKSYmaVsxXSgpLmxlbmd0aCYmaVsxXSgpLmxlbmd0aD49MikpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBsaW5lIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnRdLCBbW3gxLHkxXSxbeDIseTJdXSwgW2EsYixjXVwiKTtkPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIsXCJwb2ludDJcIiksYT1sLmNyZWF0ZVBvaW50KGUsaVsxXSgpLGQpLG09ITB9ZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiKSxvPW5ldyB0LkxpbmUoZSxuLGEsZCksbT8oby5jb25zdHJhaW5lZD0hMCxvLmZ1bnAxPWlbMF0sby5mdW5wMj1pWzFdKTpmfHwoby5pc0RyYWdnYWJsZT0hMCksby5zZXRQYXJlbnRzKFtuLmlkLGEuaWRdKX1lbHNlIGlmKDM9PT1pLmxlbmd0aCl7Zm9yKHU9ITAsYz0wO2M8MztjKyspaWYoaC5pc051bWJlcihpW2NdKSlwW2NdPWguY3JlYXRlRnVuY3Rpb24oaVtjXSk7ZWxzZXtpZighaC5pc0Z1bmN0aW9uKGlbY10pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgbGluZSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMl0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50XSwgW1t4MSx5MV0sW3gyLHkyXV0sIFthLGIsY11cIik7cFtjXT1pW2NdLHU9ITF9ZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiLFwicG9pbnQxXCIpLG49dT9lLmNyZWF0ZShcInBvaW50XCIsW3BbMl0oKSpwWzJdKCkrcFsxXSgpKnBbMV0oKSxwWzJdKCktcFsxXSgpKnBbMF0oKStwWzJdKCksLXBbMV0oKS1wWzJdKCkqcFswXSgpLXBbMV0oKV0sZCk6ZS5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybi41KihwWzJdKCkqcFsyXSgpK3BbMV0oKSpwWzFdKCkpfSxmdW5jdGlvbigpe3JldHVybi41KihwWzJdKCktcFsxXSgpKnBbMF0oKStwWzJdKCkpfSxmdW5jdGlvbigpe3JldHVybi41KigtcFsxXSgpLXBbMl0oKSpwWzBdKCktcFsxXSgpKX1dLGQpLGQ9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIixcInBvaW50MlwiKSxhPXU/ZS5jcmVhdGUoXCJwb2ludFwiLFtwWzJdKCkqcFsyXSgpK3BbMV0oKSpwWzFdKCksLXBbMV0oKSpwWzBdKCkrcFsyXSgpLC1wWzJdKCkqcFswXSgpLXBbMV0oKV0sZCk6ZS5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybiBwWzJdKCkqcFsyXSgpK3BbMV0oKSpwWzFdKCl9LGZ1bmN0aW9uKCl7cmV0dXJuLXBbMV0oKSpwWzBdKCkrcFsyXSgpfSxmdW5jdGlvbigpe3JldHVybi1wWzJdKCkqcFswXSgpLXBbMV0oKX1dLGQpLG4ucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLGEucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLGQ9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIiksKG89bmV3IHQuTGluZShlLG4sYSxkKSkuaXNEcmFnZ2FibGU9dSxvLnNldFBhcmVudHMoW24sYV0pfWVsc2UgaWYoMT09PWkubGVuZ3RoJiZoLmlzRnVuY3Rpb24oaVswXSkmJjI9PT1pWzBdKCkubGVuZ3RoJiZoLmlzUG9pbnQoaVswXSgpWzBdKSYmaC5pc1BvaW50KGlbMF0oKVsxXSkpcz1pWzBdKCksZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiKSwobz1uZXcgdC5MaW5lKGUsc1swXSxzWzFdLGQpKS5jb25zdHJhaW5lZD0hMCxvLmZ1bnBzPWlbMF0sby5zZXRQYXJlbnRzKHMpO2Vsc2V7aWYoISgxPT09aS5sZW5ndGgmJmguaXNGdW5jdGlvbihpWzBdKSYmMz09PWlbMF0oKS5sZW5ndGgmJmguaXNOdW1iZXIoaVswXSgpWzBdKSYmaC5pc051bWJlcihpWzBdKClbMV0pJiZoLmlzTnVtYmVyKGlbMF0oKVsyXSkpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgbGluZSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50XSwgW1t4MSx5MV0sW3gyLHkyXV0sIFthLGIsY11cIik7cz1pWzBdLGQ9aC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImxpbmVcIixcInBvaW50MVwiKSxuPWUuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXt2YXIgdD1zKCk7cmV0dXJuWy41Kih0WzJdKnRbMl0rdFsxXSp0WzFdKSwuNSoodFsyXS10WzFdKnRbMF0rdFsyXSksLjUqKC10WzFdLXRbMl0qdFswXS10WzFdKV19XSxkKSxkPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJsaW5lXCIsXCJwb2ludDJcIiksYT1lLmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7dmFyIHQ9cygpO3JldHVyblt0WzJdKnRbMl0rdFsxXSp0WzFdLC10WzFdKnRbMF0rdFsyXSwtdFsyXSp0WzBdLXRbMV1dfV0sZCksZD1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwibGluZVwiKSwobz1uZXcgdC5MaW5lKGUsbixhLGQpKS5jb25zdHJhaW5lZD0hMCxvLmZ1bnBzPWlbMF0sby5zZXRQYXJlbnRzKFtuLGFdKX1yZXR1cm4gb30sdC5yZWdpc3RlckVsZW1lbnQoXCJsaW5lXCIsdC5jcmVhdGVMaW5lKSx0LmNyZWF0ZVNlZ21lbnQ9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM7aWYoaS5zdHJhaWdodEZpcnN0PSExLGkuc3RyYWlnaHRMYXN0PSExLHM9aC5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcInNlZ21lbnRcIikscj10LmNyZWF0ZShcImxpbmVcIixlLnNsaWNlKDAsMikscyksMz09PWUubGVuZ3RoKXtpZihyLmhhc0ZpeGVkTGVuZ3RoPSEwLGguaXNOdW1iZXIoZVsyXSkpci5maXhlZExlbmd0aD1mdW5jdGlvbigpe3JldHVybiBlWzJdfTtlbHNle2lmKCFoLmlzRnVuY3Rpb24oZVsyXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBzZWdtZW50IHdpdGggdGhpcmQgcGFyZW50IHR5cGUgJ1wiK3R5cGVvZiBlWzJdK1wiJy5cXG5Qb3NzaWJsZSB0aGlyZCBwYXJlbnQgdHlwZXM6IG51bWJlciBvciBmdW5jdGlvblwiKTtyLmZpeGVkTGVuZ3RoPWVbMl19ci5nZXRQYXJlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50cy5jb25jYXQodGhpcy5maXhlZExlbmd0aCgpKX0sci5maXhlZExlbmd0aE9sZENvb3Jkcz1bXSxyLmZpeGVkTGVuZ3RoT2xkQ29vcmRzWzBdPW5ldyBuKG8uQ09PUkRTX0JZX1VTRVIsci5wb2ludDEuY29vcmRzLnVzckNvb3Jkcy5zbGljZSgxLDMpLHQpLHIuZml4ZWRMZW5ndGhPbGRDb29yZHNbMV09bmV3IG4oby5DT09SRFNfQllfVVNFUixyLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLnNsaWNlKDEsMyksdCl9cmV0dXJuIHIuZWxUeXBlPVwic2VnbWVudFwiLHJ9LHQucmVnaXN0ZXJFbGVtZW50KFwic2VnbWVudFwiLHQuY3JlYXRlU2VnbWVudCksdC5jcmVhdGVBcnJvdz1mdW5jdGlvbih0LGUsaSl7dmFyIHIscztyZXR1cm4gaS5zdHJhaWdodEZpcnN0PSExLGkuc3RyYWlnaHRMYXN0PSExLHM9aC5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImFycm93XCIpLChyPXQuY3JlYXRlKFwibGluZVwiLGUscykpLnR5cGU9by5PQkpFQ1RfVFlQRV9WRUNUT1Isci5lbFR5cGU9XCJhcnJvd1wiLHJ9LHQucmVnaXN0ZXJFbGVtZW50KFwiYXJyb3dcIix0LmNyZWF0ZUFycm93KSx0LmNyZWF0ZUF4aXM9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbixhLGw7aWYoIWguaXNBcnJheShlWzBdKSYmIWguaXNQb2ludChlWzBdKXx8IWguaXNBcnJheShlWzFdKSYmIWguaXNQb2ludChlWzFdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGF4aXMgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludF0sIFtbeDEseTFdLFt4Mix5Ml1dXCIpO2ZvcihhIGluIHI9aC5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImF4aXNcIiksKG49dC5jcmVhdGUoXCJsaW5lXCIsZSxyKSkudHlwZT1vLk9CSkVDVF9UWVBFX0FYSVMsbi5pc0RyYWdnYWJsZT0hMSxuLnBvaW50MS5pc0RyYWdnYWJsZT0hMSxuLnBvaW50Mi5pc0RyYWdnYWJsZT0hMSxuLmFuY2VzdG9ycyluLmFuY2VzdG9ycy5oYXNPd25Qcm9wZXJ0eShhKSYmKG4uYW5jZXN0b3JzW2FdLnR5cGU9by5PQkpFQ1RfVFlQRV9BWElTUE9JTlQpO3JldHVybiBzPWguY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJheGlzXCIsXCJ0aWNrc1wiKSxsPWguZXhpc3RzKHMudGlja3NkaXN0YW5jZSk/cy50aWNrc2Rpc3RhbmNlOmguaXNBcnJheShzLnRpY2tzKT9zLnRpY2tzOjEsbi5kZWZhdWx0VGlja3M9dC5jcmVhdGUoXCJ0aWNrc1wiLFtuLGxdLHMpLG4uZGVmYXVsdFRpY2tzLmR1bXA9ITEsbi5lbFR5cGU9XCJheGlzXCIsbi5zdWJzPXt0aWNrczpuLmRlZmF1bHRUaWNrc30sbi5pbmhlcml0cy5wdXNoKG4uZGVmYXVsdFRpY2tzKSxufSx0LnJlZ2lzdGVyRWxlbWVudChcImF4aXNcIix0LmNyZWF0ZUF4aXMpLHQuY3JlYXRlVGFuZ2VudD1mdW5jdGlvbih0LGkscyl7dmFyIG4sYSxsLGMsZDtpZigxPT09aS5sZW5ndGgpbj1pWzBdLGE9bi5zbGlkZU9iamVjdDtlbHNle2lmKDIhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHRhbmdlbnQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtnbGlkZXJdLCBbcG9pbnQsbGluZXxjdXJ2ZXxjaXJjbGV8Y29uaWNdXCIpO2lmKGguaXNQb2ludChpWzBdKSluPWlbMF0sYT1pWzFdO2Vsc2V7aWYoIWguaXNQb2ludChpWzFdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHRhbmdlbnQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtnbGlkZXJdLCBbcG9pbnQsbGluZXxjdXJ2ZXxjaXJjbGV8Y29uaWNdXCIpO2E9aVswXSxuPWlbMV19fWlmKGEuZWxlbWVudENsYXNzPT09by5PQkpFQ1RfQ0xBU1NfTElORT8oZD10LmNyZWF0ZShcImxpbmVcIixbYS5wb2ludDEsYS5wb2ludDJdLHMpKS5nbGlkZXI9bjphLmVsZW1lbnRDbGFzcz09PW8uT0JKRUNUX0NMQVNTX0NVUlZFJiZhLnR5cGUhPT1vLk9CSkVDVF9UWVBFX0NPTklDP1wicGxvdFwiIT09aC5ldmFsdWF0ZShhLnZpc1Byb3AuY3VydmV0eXBlKT8oZD10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXt2YXIgdD1hLlgsZT1hLlk7cmV0dXJuLW4uWCgpKnIuRChlKShuLnBvc2l0aW9uKStuLlkoKSpyLkQodCkobi5wb3NpdGlvbil9LGZ1bmN0aW9uKCl7cmV0dXJuIHIuRChhLlkpKG4ucG9zaXRpb24pfSxmdW5jdGlvbigpe3JldHVybi1yLkQoYS5YKShuLnBvc2l0aW9uKX1dLHMpLG4uYWRkQ2hpbGQoZCksZC5nbGlkZXI9bik6KGQ9dC5jcmVhdGUoXCJsaW5lXCIsW2Z1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvLGgsbCxjLGQsdT1NYXRoLmZsb29yKG4ucG9zaXRpb24pO2lmKDE9PT1hLmJlemllckRlZ3JlZSl1PT09YS5udW1iZXJQb2ludHMtMSYmdS0tO2Vsc2V7aWYoMyE9PWEuYmV6aWVyRGVncmVlKXJldHVybiAwO3U9MypNYXRoLmZsb29yKG4ucG9zaXRpb24qKGEubnVtYmVyUG9pbnRzLTEpLzMpLGk9KG4ucG9zaXRpb24qKGEubnVtYmVyUG9pbnRzLTEpLXUpLzMsdT49YS5udW1iZXJQb2ludHMtMSYmKHU9YS5udW1iZXJQb2ludHMtNCxpPTEpfXJldHVybiB1PDA/MTooMT09PWEuYmV6aWVyRGVncmVlPyh0PWEucG9pbnRzW3VdLnVzckNvb3JkcyxlPWEucG9pbnRzW3UrMV0udXNyQ29vcmRzKToocj1hLnBvaW50c1t1XS51c3JDb29yZHMscz1hLnBvaW50c1t1KzFdLnVzckNvb3JkcyxvPWEucG9pbnRzW3UrMl0udXNyQ29vcmRzLGg9YS5wb2ludHNbdSszXS51c3JDb29yZHMsbD0oMS1pKSooMS1pKSooc1sxXS1yWzFdKSsyKigxLWkpKmkqKG9bMV0tc1sxXSkraSppKihoWzFdLW9bMV0pLGM9KDEtaSkqKDEtaSkqKHNbMl0tclsyXSkrMiooMS1pKSppKihvWzJdLXNbMl0pK2kqaSooaFsyXS1vWzJdKSxsLz1kPU1hdGguc3FydChsKmwrYypjKSxjLz1kLGU9WzEsKHQ9bi5jb29yZHMudXNyQ29vcmRzKVsxXStsLHRbMl0rY10pLHRbMl0qZVsxXS10WzFdKmVbMl0pfSxmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbyxoLGwsYyxkLHU9TWF0aC5mbG9vcihuLnBvc2l0aW9uKTtpZigxPT09YS5iZXppZXJEZWdyZWUpdT09PWEubnVtYmVyUG9pbnRzLTEmJnUtLTtlbHNle2lmKDMhPT1hLmJlemllckRlZ3JlZSlyZXR1cm4gMDt1PTMqTWF0aC5mbG9vcihuLnBvc2l0aW9uKihhLm51bWJlclBvaW50cy0xKS8zKSxpPShuLnBvc2l0aW9uKihhLm51bWJlclBvaW50cy0xKS11KS8zLHU+PWEubnVtYmVyUG9pbnRzLTEmJih1PWEubnVtYmVyUG9pbnRzLTQsaT0xKX1yZXR1cm4gdTwwPzA6KDE9PT1hLmJlemllckRlZ3JlZT8odD1hLnBvaW50c1t1XS51c3JDb29yZHMsZT1hLnBvaW50c1t1KzFdLnVzckNvb3Jkcyk6KHI9YS5wb2ludHNbdV0udXNyQ29vcmRzLHM9YS5wb2ludHNbdSsxXS51c3JDb29yZHMsbz1hLnBvaW50c1t1KzJdLnVzckNvb3JkcyxoPWEucG9pbnRzW3UrM10udXNyQ29vcmRzLGw9KDEtaSkqKDEtaSkqKHNbMV0tclsxXSkrMiooMS1pKSppKihvWzFdLXNbMV0pK2kqaSooaFsxXS1vWzFdKSxjPSgxLWkpKigxLWkpKihzWzJdLXJbMl0pKzIqKDEtaSkqaSoob1syXS1zWzJdKStpKmkqKGhbMl0tb1syXSksbC89ZD1NYXRoLnNxcnQobCpsK2MqYyksYy89ZCxlPVsxLCh0PW4uY29vcmRzLnVzckNvb3JkcylbMV0rbCx0WzJdK2NdKSxlWzJdLXRbMl0pfSxmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbyxoLGwsYyxkLHU9TWF0aC5mbG9vcihuLnBvc2l0aW9uKTtpZigxPT09YS5iZXppZXJEZWdyZWUpdT09PWEubnVtYmVyUG9pbnRzLTEmJnUtLTtlbHNle2lmKDMhPT1hLmJlemllckRlZ3JlZSlyZXR1cm4gMDt1PTMqTWF0aC5mbG9vcihuLnBvc2l0aW9uKihhLm51bWJlclBvaW50cy0xKS8zKSxpPShuLnBvc2l0aW9uKihhLm51bWJlclBvaW50cy0xKS11KS8zLHU+PWEubnVtYmVyUG9pbnRzLTEmJih1PWEubnVtYmVyUG9pbnRzLTQsaT0xKX1yZXR1cm4gdTwwPzA6KDE9PT1hLmJlemllckRlZ3JlZT8odD1hLnBvaW50c1t1XS51c3JDb29yZHMsZT1hLnBvaW50c1t1KzFdLnVzckNvb3Jkcyk6KHI9YS5wb2ludHNbdV0udXNyQ29vcmRzLHM9YS5wb2ludHNbdSsxXS51c3JDb29yZHMsbz1hLnBvaW50c1t1KzJdLnVzckNvb3JkcyxoPWEucG9pbnRzW3UrM10udXNyQ29vcmRzLGw9KDEtaSkqKDEtaSkqKHNbMV0tclsxXSkrMiooMS1pKSppKihvWzFdLXNbMV0pK2kqaSooaFsxXS1vWzFdKSxjPSgxLWkpKigxLWkpKihzWzJdLXJbMl0pKzIqKDEtaSkqaSoob1syXS1zWzJdKStpKmkqKGhbMl0tb1syXSksbC89ZD1NYXRoLnNxcnQobCpsK2MqYyksYy89ZCxlPVsxLCh0PW4uY29vcmRzLnVzckNvb3JkcylbMV0rbCx0WzJdK2NdKSx0WzFdLWVbMV0pfV0scyksbi5hZGRDaGlsZChkKSxkLmdsaWRlcj1uKTphLnR5cGU9PT1vLk9CSkVDVF9UWVBFX1RVUlRMRT8oZD10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXt2YXIgdD1NYXRoLmZsb29yKG4ucG9zaXRpb24pO2ZvcihsPTA7bDxhLm9iamVjdHMubGVuZ3RoO2wrKylpZigoYz1hLm9iamVjdHNbbF0pLnR5cGU9PT1vLk9CSkVDVF9UWVBFX0NVUlZFKXtpZih0PGMubnVtYmVyUG9pbnRzKWJyZWFrO3QtPWMubnVtYmVyUG9pbnRzfXJldHVybiB0PT09Yy5udW1iZXJQb2ludHMtMSYmdC0tLHQ8MD8xOmMuWSh0KSpjLlgodCsxKS1jLlgodCkqYy5ZKHQrMSl9LGZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5mbG9vcihuLnBvc2l0aW9uKTtmb3IobD0wO2w8YS5vYmplY3RzLmxlbmd0aDtsKyspaWYoKGM9YS5vYmplY3RzW2xdKS50eXBlPT09by5PQkpFQ1RfVFlQRV9DVVJWRSl7aWYodDxjLm51bWJlclBvaW50cylicmVhazt0LT1jLm51bWJlclBvaW50c31yZXR1cm4gdD09PWMubnVtYmVyUG9pbnRzLTEmJnQtLSx0PDA/MDpjLlkodCsxKS1jLlkodCl9LGZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5mbG9vcihuLnBvc2l0aW9uKTtmb3IobD0wO2w8YS5vYmplY3RzLmxlbmd0aDtsKyspaWYoKGM9YS5vYmplY3RzW2xdKS50eXBlPT09by5PQkpFQ1RfVFlQRV9DVVJWRSl7aWYodDxjLm51bWJlclBvaW50cylicmVhazt0LT1jLm51bWJlclBvaW50c31yZXR1cm4gdD09PWMubnVtYmVyUG9pbnRzLTEmJnQtLSx0PDA/MDpjLlgodCktYy5YKHQrMSl9XSxzKSxuLmFkZENoaWxkKGQpLGQuZ2xpZGVyPW4pOmEuZWxlbWVudENsYXNzIT09by5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFJiZhLnR5cGUhPT1vLk9CSkVDVF9UWVBFX0NPTklDfHwoZD10LmNyZWF0ZShcImxpbmVcIixbZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXRWZWNNdWx0KGEucXVhZHJhdGljZm9ybSxuLmNvb3Jkcy51c3JDb29yZHMpWzBdfSxmdW5jdGlvbigpe3JldHVybiBlLm1hdFZlY011bHQoYS5xdWFkcmF0aWNmb3JtLG4uY29vcmRzLnVzckNvb3JkcylbMV19LGZ1bmN0aW9uKCl7cmV0dXJuIGUubWF0VmVjTXVsdChhLnF1YWRyYXRpY2Zvcm0sbi5jb29yZHMudXNyQ29vcmRzKVsyXX1dLHMpLG4uYWRkQ2hpbGQoZCksZC5nbGlkZXI9biksIWguZXhpc3RzKGQpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDb3VsZG4ndCBjcmVhdGUgdGFuZ2VudCB3aXRoIHRoZSBnaXZlbiBwYXJlbnRzLlwiKTtyZXR1cm4gZC5lbFR5cGU9XCJ0YW5nZW50XCIsZC50eXBlPW8uT0JKRUNUX1RZUEVfVEFOR0VOVCxkLnNldFBhcmVudHMoaSksZH0sdC5jcmVhdGVSYWRpY2FsQXhpcz1mdW5jdGlvbih0LGkscil7dmFyIHMsbixhO2lmKDIhPT1pLmxlbmd0aHx8aVswXS5lbGVtZW50Q2xhc3MhPT1vLk9CSkVDVF9DTEFTU19DSVJDTEV8fGlbMV0uZWxlbWVudENsYXNzIT09by5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgJ3JhZGljYWwgYXhpcycgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZTogW2NpcmNsZSxjaXJjbGVdXCIpO3JldHVybiBuPXQuc2VsZWN0KGlbMF0pLGE9dC5zZWxlY3QoaVsxXSksKHM9dC5jcmVhdGUoXCJsaW5lXCIsW2Z1bmN0aW9uKCl7dmFyIHQ9bi5zdGRmb3JtLGk9YS5zdGRmb3JtO3JldHVybiBlLm1hdFZlY011bHQoZS50cmFuc3Bvc2UoW3Quc2xpY2UoMCwzKSxpLnNsaWNlKDAsMyldKSxbaVszXSwtdFszXV0pfV0scikpLmVsVHlwZT1cInJhZGljYWxheGlzXCIscy5zZXRQYXJlbnRzKFtuLmlkLGEuaWRdKSxuLmFkZENoaWxkKHMpLGEuYWRkQ2hpbGQocyksc30sdC5jcmVhdGVQb2xhckxpbmU9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbixhLGwsYyxkO2lmKGUubGVuZ3RoPjEmJihhPWVbMF0udHlwZT09PW8uT0JKRUNUX1RZUEVfQ09OSUN8fGVbMF0uZWxlbWVudENsYXNzPT09by5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFLGw9ZVsxXS50eXBlPT09by5PQkpFQ1RfVFlQRV9DT05JQ3x8ZVsxXS5lbGVtZW50Q2xhc3M9PT1vLk9CSkVDVF9DTEFTU19DSVJDTEUsYz1oLmlzUG9pbnQoZVswXSksZD1oLmlzUG9pbnQoZVsxXSkpLDIhPT1lLmxlbmd0aHx8IShhJiZkfHxjJiZsKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlICdwb2xhciBsaW5lJyB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlOiBbY29uaWN8Y2lyY2xlLHBvaW50XSwgW3BvaW50LGNvbmljfGNpcmNsZV1cIik7cmV0dXJuIGQ/KHM9dC5zZWxlY3QoZVswXSksbj10LnNlbGVjdChlWzFdKSk6KHM9dC5zZWxlY3QoZVsxXSksbj10LnNlbGVjdChlWzBdKSksKHI9dC5jcmVhdGUoXCJ0YW5nZW50XCIsW3Msbl0saSkpLmVsVHlwZT1cInBvbGFybGluZVwiLHJ9LHQucmVnaXN0ZXJFbGVtZW50KFwidGFuZ2VudFwiLHQuY3JlYXRlVGFuZ2VudCksdC5yZWdpc3RlckVsZW1lbnQoXCJwb2xhclwiLHQuY3JlYXRlVGFuZ2VudCksdC5yZWdpc3RlckVsZW1lbnQoXCJyYWRpY2FsYXhpc1wiLHQuY3JlYXRlUmFkaWNhbEF4aXMpLHQucmVnaXN0ZXJFbGVtZW50KFwicG9sYXJsaW5lXCIsdC5jcmVhdGVQb2xhckxpbmUpLHtMaW5lOnQuTGluZSxjcmVhdGVMaW5lOnQuY3JlYXRlTGluZSxjcmVhdGVUYW5nZW50OnQuY3JlYXRlVGFuZ2VudCxjcmVhdGVQb2xhcjp0LmNyZWF0ZVRhbmdlbnQsY3JlYXRlU2VnbWVudDp0LmNyZWF0ZVNlZ21lbnQsY3JlYXRlQXhpczp0LmNyZWF0ZUF4aXMsY3JlYXRlQXJyb3c6dC5jcmVhdGVBcnJvdyxjcmVhdGVSYWRpY2FsQXhpczp0LmNyZWF0ZVJhZGljYWxBeGlzLGNyZWF0ZVBvbGFyTGluZTp0LmNyZWF0ZVBvbGFyTGluZX19KSksZGVmaW5lKFwiYmFzZS9ncm91cFwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9nZW9tZXRyeVwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscixzKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5Hcm91cD1mdW5jdGlvbih0LGkscixvLG4pe3ZhciBhLGgsbCxjO2Zvcih0aGlzLmJvYXJkPXQsdGhpcy5vYmplY3RzPXt9LGE9dGhpcy5ib2FyZC5udW1PYmplY3RzLHRoaXMuYm9hcmQubnVtT2JqZWN0cys9MSxcIlwiIT09aSYmcy5leGlzdHMoaSk/dGhpcy5pZD1pOnRoaXMuaWQ9dGhpcy5ib2FyZC5pZCtcIkdyb3VwXCIrYSx0aGlzLmJvYXJkLmdyb3Vwc1t0aGlzLmlkXT10aGlzLHRoaXMudHlwZT1lLk9CSkVDVF9UWVBFX1BPSU5ULHRoaXMuZWxlbWVudENsYXNzPWUuT0JKRUNUX0NMQVNTX1BPSU5ULFwiXCIhPT1yJiZzLmV4aXN0cyhyKT90aGlzLm5hbWU9cjp0aGlzLm5hbWU9XCJncm91cF9cIit0aGlzLmJvYXJkLmdlbmVyYXRlTmFtZSh0aGlzKSxkZWxldGUgdGhpcy50eXBlLHRoaXMuY29vcmRzPXt9LHRoaXMubmVlZHNSZWd1bGFyVXBkYXRlPW4ubmVlZHNyZWd1bGFydXBkYXRlLHRoaXMucm90YXRpb25DZW50ZXI9XCJjZW50cm9pZFwiLHRoaXMuc2NhbGVDZW50ZXI9bnVsbCx0aGlzLnJvdGF0aW9uUG9pbnRzPVtdLHRoaXMudHJhbnNsYXRpb25Qb2ludHM9W10sdGhpcy5zY2FsZVBvaW50cz1bXSx0aGlzLnNjYWxlRGlyZWN0aW9ucz17fSx0aGlzLnBhcmVudHM9W10saD1zLmlzQXJyYXkobyk/bzpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMyksbD0wO2w8aC5sZW5ndGg7bCsrKWM9dGhpcy5ib2FyZC5zZWxlY3QoaFtsXSksIXMuZXZhbHVhdGUoYy52aXNQcm9wLmZpeGVkKSYmcy5leGlzdHMoYy5jb29yZHMpJiZ0aGlzLmFkZFBvaW50KGMpO3RoaXMubWV0aG9kTWFwPXt1bmdyb3VwOlwidW5ncm91cFwiLGFkZDpcImFkZFBvaW50XCIsYWRkUG9pbnQ6XCJhZGRQb2ludFwiLGFkZFBvaW50czpcImFkZFBvaW50c1wiLGFkZEdyb3VwOlwiYWRkR3JvdXBcIixyZW1vdmU6XCJyZW1vdmVQb2ludFwiLHJlbW92ZVBvaW50OlwicmVtb3ZlUG9pbnRcIixzZXRBdHRyaWJ1dGU6XCJzZXRBdHRyaWJ1dGVcIixzZXRQcm9wZXJ0eTpcInNldEF0dHJpYnV0ZVwifX0sdC5leHRlbmQodC5Hcm91cC5wcm90b3R5cGUse3VuZ3JvdXA6ZnVuY3Rpb24oKXt2YXIgdCxlLGk7Zm9yKHQgaW4gdGhpcy5vYmplY3RzKXRoaXMub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eSh0KSYmKGU9dGhpcy5vYmplY3RzW3RdLnBvaW50LHMuaXNBcnJheShlLmdyb3VwcykmJihpPXMuaW5kZXhPZihlLmdyb3Vwcyx0aGlzLmlkKSk+PTAmJmRlbGV0ZSBlLmdyb3Vwc1tpXSk7cmV0dXJuIHRoaXMub2JqZWN0cz17fSx0aGlzfSxhZGRQYXJlbnRzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscjtmb3IoaT0ocj1zLmlzQXJyYXkodCk/dDphcmd1bWVudHMpLmxlbmd0aCxlPTA7ZTxpOysrZSlzLmlzSWQodGhpcy5ib2FyZCxyW2VdKT90aGlzLnBhcmVudHMucHVzaChyW2VdKTpzLmV4aXN0cyhyW2VdLmlkKSYmdGhpcy5wYXJlbnRzLnB1c2gocltlXS5pZCk7dGhpcy5wYXJlbnRzPXMudW5pcXVlQXJyYXkodGhpcy5wYXJlbnRzKX0sc2V0UGFyZW50czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wYXJlbnRzPVtdLHRoaXMuYWRkUGFyZW50cyh0KSx0aGlzfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuaXNBcnJheSh0aGlzLnBhcmVudHMpP3RoaXMucGFyZW50czpbXX0sX3VwZGF0ZUNvb3Jkc0NhY2hlOmZ1bmN0aW9uKHQpe3ZhciBlO1wiXCIhPT10JiZzLmV4aXN0cyh0aGlzLm9iamVjdHNbdF0pJiYoZT10aGlzLm9iamVjdHNbdF0ucG9pbnQsdGhpcy5jb29yZHNbZS5pZF09e3VzckNvb3JkczplLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMCl9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZSxvLG4sYSxoLGwsYyxkLHUscD1udWxsO2lmKCF0aGlzLm5lZWRzVXBkYXRlKXJldHVybiB0aGlzO2lmKFwibm90aGluZ1wiPT09KHQ9dGhpcy5fdXBkYXRlX2ZpbmRfZHJhZ190eXBlKCkpLmFjdGlvbilyZXR1cm4gdGhpcy5fdXBkYXRlQ29vcmRzQ2FjaGUodC5pZCksdGhpcztpZihwPXRoaXMub2JqZWN0c1t0LmlkXS5wb2ludCxcInRyYW5zbGF0aW9uXCI9PT10LmFjdGlvbilkPVtwLmNvb3Jkcy51c3JDb29yZHNbMV0tdGhpcy5jb29yZHNbdC5pZF0udXNyQ29vcmRzWzFdLHAuY29vcmRzLnVzckNvb3Jkc1syXS10aGlzLmNvb3Jkc1t0LmlkXS51c3JDb29yZHNbMl1dO2Vsc2UgaWYoXCJyb3RhdGlvblwiPT09dC5hY3Rpb258fFwic2NhbGluZ1wiPT09dC5hY3Rpb24pe2lmKG89XCJyb3RhdGlvblwiPT09dC5hY3Rpb24/XCJyb3RhdGlvbkNlbnRlclwiOlwic2NhbGVDZW50ZXJcIixzLmlzUG9pbnQodGhpc1tvXSkpdT10aGlzW29dLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMSk7ZWxzZSBpZihcImNlbnRyb2lkXCI9PT10aGlzW29dKXU9dGhpcy5fdXBkYXRlX2NlbnRyb2lkX2NlbnRlcigpO2Vsc2UgaWYocy5pc0FycmF5KHRoaXNbb10pKXU9dGhpc1tvXTtlbHNle2lmKCFzLmlzRnVuY3Rpb24odGhpc1tvXSkpcmV0dXJuIHRoaXM7dT10aGlzW29dKCl9aWYoXCJyb3RhdGlvblwiPT09dC5hY3Rpb24pYz1yLnJhZCh0aGlzLmNvb3Jkc1t0LmlkXS51c3JDb29yZHMuc2xpY2UoMSksdSx0aGlzLm9iamVjdHNbdC5pZF0ucG9pbnQpLChkPXRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsW2MsdVswXSx1WzFdXSx7dHlwZTpcInJvdGF0ZVwifSkpLnVwZGF0ZSgpO2Vsc2V7aWYoXCJzY2FsaW5nXCIhPT10LmFjdGlvbilyZXR1cm4gdGhpcztpZihhPXIuZGlzdGFuY2UodGhpcy5jb29yZHNbdC5pZF0udXNyQ29vcmRzLnNsaWNlKDEpLHUpLE1hdGguYWJzKGEpPGkuZXBzKXJldHVybiB0aGlzO2E9ci5kaXN0YW5jZShwLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMSksdSkvYSxoPXRoaXMuc2NhbGVEaXJlY3Rpb25zW3QuaWRdLmluZGV4T2YoXCJ4XCIpPj0wP2E6MSxsPXRoaXMuc2NhbGVEaXJlY3Rpb25zW3QuaWRdLmluZGV4T2YoXCJ5XCIpPj0wP2E6MSwoZD10aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLFsxLDAsMCx1WzBdKigxLWgpLGgsMCx1WzFdKigxLWwpLDAsbF0se3R5cGU6XCJnZW5lcmljXCJ9KSkudXBkYXRlKCl9fWZvcihlIGluIHRoaXMuX3VwZGF0ZV9hcHBseV90cmFuc2Zvcm1hdGlvbih0LGQpLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcy5vYmplY3RzKWlmKHRoaXMub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShlKSlmb3IobiBpbiB0aGlzLm9iamVjdHNbZV0uZGVzY2VuZGFudHMpdGhpcy5vYmplY3RzW2VdLmRlc2NlbmRhbnRzLmhhc093blByb3BlcnR5KG4pJiYodGhpcy5vYmplY3RzW2VdLmRlc2NlbmRhbnRzLm5lZWRzVXBkYXRlPXRoaXMub2JqZWN0c1tlXS5kZXNjZW5kYW50cy5uZWVkc1JlZ3VsYXJVcGRhdGV8fHRoaXMuYm9hcmQubmVlZHNGdWxsVXBkYXRlKTtmb3IoZSBpbiB0aGlzLmJvYXJkLnVwZGF0ZUVsZW1lbnRzKHQpLHRoaXMub2JqZWN0cyl0aGlzLm9iamVjdHMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuX3VwZGF0ZUNvb3Jkc0NhY2hlKGUpO3JldHVybiB0aGlzfSxfdXBkYXRlX2ZpbmRfZHJhZ190eXBlOmZ1bmN0aW9uKCl7dmFyIHQscixvLG49XCJub3RoaW5nXCIsYT1bXTtmb3IodCBpbiB0aGlzLm9iamVjdHMpdGhpcy5vYmplY3RzLmhhc093blByb3BlcnR5KHQpJiYocj10aGlzLm9iamVjdHNbdF0ucG9pbnQpLmNvb3Jkcy5kaXN0YW5jZShlLkNPT1JEU19CWV9VU0VSLHRoaXMuY29vcmRzW3RdKT5pLmVwcyYmYS5wdXNoKHIuaWQpO3JldHVybiAwPT09YS5sZW5ndGg/e2FjdGlvbjpuLGlkOlwiXCIsY2hhbmdlZDphfToobz1hWzBdLHI9dGhpcy5vYmplY3RzW29dLnBvaW50LGEubGVuZ3RoPjE/bj1cInRyYW5zbGF0aW9uXCI6cy5pc0luQXJyYXkodGhpcy5yb3RhdGlvblBvaW50cyxyKSYmcy5leGlzdHModGhpcy5yb3RhdGlvbkNlbnRlcik/bj1cInJvdGF0aW9uXCI6cy5pc0luQXJyYXkodGhpcy5zY2FsZVBvaW50cyxyKSYmcy5leGlzdHModGhpcy5zY2FsZUNlbnRlcik/bj1cInNjYWxpbmdcIjpzLmlzSW5BcnJheSh0aGlzLnRyYW5zbGF0aW9uUG9pbnRzLHIpJiYobj1cInRyYW5zbGF0aW9uXCIpLHthY3Rpb246bixpZDpvLGNoYW5nZWQ6YX0pfSxfdXBkYXRlX2NlbnRyb2lkX2NlbnRlcjpmdW5jdGlvbigpe3ZhciB0LGUsaTtmb3IoaSBpbiB0PVswLDBdLGU9MCx0aGlzLmNvb3Jkcyl0aGlzLmNvb3Jkcy5oYXNPd25Qcm9wZXJ0eShpKSYmKHRbMF0rPXRoaXMuY29vcmRzW2ldLnVzckNvb3Jkc1sxXSx0WzFdKz10aGlzLmNvb3Jkc1tpXS51c3JDb29yZHNbMl0sKytlKTtyZXR1cm4gZT4wJiYodFswXS89ZSx0WzFdLz1lKSx0fSxfdXBkYXRlX2FwcGx5X3RyYW5zZm9ybWF0aW9uOmZ1bmN0aW9uKHQscil7dmFyIG8sbjtmb3IobyBpbiB0aGlzLm9iamVjdHMpdGhpcy5vYmplY3RzLmhhc093blByb3BlcnR5KG8pJiYocy5leGlzdHModGhpcy5ib2FyZC5vYmplY3RzW29dKT8obj10aGlzLm9iamVjdHNbb10ucG9pbnQpLmlkIT09dC5pZD9cInRyYW5zbGF0aW9uXCI9PT10LmFjdGlvbj9zLmlzSW5BcnJheSh0LmNoYW5nZWQsbi5pZCl8fG4uY29vcmRzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3RoaXMuY29vcmRzW29dLnVzckNvb3Jkc1sxXStyWzBdLHRoaXMuY29vcmRzW29dLnVzckNvb3Jkc1syXStyWzFdXSk6XCJyb3RhdGlvblwiIT09dC5hY3Rpb24mJlwic2NhbGluZ1wiIT09dC5hY3Rpb258fHIuYXBwbHlPbmNlKFtuXSk6XCJyb3RhdGlvblwiIT09dC5hY3Rpb24mJlwic2NhbGluZ1wiIT09dC5hY3Rpb258fG4uY29vcmRzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsaS5tYXRWZWNNdWx0KHIubWF0cml4LHRoaXMuY29vcmRzW24uaWRdLnVzckNvb3JkcykpOmRlbGV0ZSB0aGlzLm9iamVjdHNbb10pfSxhZGRQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vYmplY3RzW3QuaWRdPXtwb2ludDp0aGlzLmJvYXJkLnNlbGVjdCh0KX0sdGhpcy5fdXBkYXRlQ29vcmRzQ2FjaGUodC5pZCksdGhpcy50cmFuc2xhdGlvblBvaW50cy5wdXNoKHQpLHQuZ3JvdXBzLnB1c2godGhpcy5pZCksdC5ncm91cHM9cy51bmlxdWVBcnJheSh0Lmdyb3VwcyksdGhpc30sYWRkUG9pbnRzOmZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy5hZGRQb2ludCh0W2VdKTtyZXR1cm4gdGhpc30sYWRkR3JvdXA6ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGUgaW4gdC5vYmplY3RzKXQub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5hZGRQb2ludCh0Lm9iamVjdHNbZV0ucG9pbnQpO3JldHVybiB0aGlzfSxyZW1vdmVQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gZGVsZXRlIHRoaXMub2JqZWN0c1t0LmlkXSx0aGlzfSxzZXRSb3RhdGlvbkNlbnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yb3RhdGlvbkNlbnRlcj10LHRoaXN9LHNldFJvdGF0aW9uUG9pbnRzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9zZXRBY3Rpb25Qb2ludHMoXCJyb3RhdGlvblwiLHQpfSxhZGRSb3RhdGlvblBvaW50OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hZGRBY3Rpb25Qb2ludChcInJvdGF0aW9uXCIsdCl9LHJlbW92ZVJvdGF0aW9uUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3JlbW92ZUFjdGlvblBvaW50KFwicm90YXRpb25cIix0KX0sc2V0VHJhbnNsYXRpb25Qb2ludHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NldEFjdGlvblBvaW50cyhcInRyYW5zbGF0aW9uXCIsdCl9LGFkZFRyYW5zbGF0aW9uUG9pbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2FkZEFjdGlvblBvaW50KFwidHJhbnNsYXRpb25cIix0KX0scmVtb3ZlVHJhbnNsYXRpb25Qb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlQWN0aW9uUG9pbnQoXCJ0cmFuc2xhdGlvblwiLHQpfSxzZXRTY2FsZUNlbnRlcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zY2FsZUNlbnRlcj10LHRoaXN9LHNldFNjYWxlUG9pbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixvO2ZvcihvPShpPXMuaXNBcnJheSh0KT90OmFyZ3VtZW50cykubGVuZ3RoLHI9MDtyPG87KytyKXRoaXMuc2NhbGVEaXJlY3Rpb25zW3RoaXMuYm9hcmQuc2VsZWN0KGlbcl0pLmlkXT1lfHxcInh5XCI7cmV0dXJuIHRoaXMuX3NldEFjdGlvblBvaW50cyhcInNjYWxlXCIsdCl9LGFkZFNjYWxlUG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fYWRkQWN0aW9uUG9pbnQoXCJzY2FsZVwiLHQpLHRoaXMuc2NhbGVEaXJlY3Rpb25zW3RoaXMuYm9hcmQuc2VsZWN0KHQpLmlkXT1lfHxcInh5XCIsdGhpc30scmVtb3ZlU2NhbGVQb2ludDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVtb3ZlQWN0aW9uUG9pbnQoXCJzY2FsZVwiLHQpfSxfc2V0QWN0aW9uUG9pbnRzOmZ1bmN0aW9uKHQsZSl7dmFyIGkscixvO2ZvcihvPShpPXMuaXNBcnJheShlKT9lOmFyZ3VtZW50cykubGVuZ3RoLHRoaXNbdCtcIlBvaW50c1wiXT1bXSxyPTA7cjxvOysrcil0aGlzLl9hZGRBY3Rpb25Qb2ludCh0LGlbcl0pO3JldHVybiB0aGlzfSxfYWRkQWN0aW9uUG9pbnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpc1t0K1wiUG9pbnRzXCJdLnB1c2godGhpcy5ib2FyZC5zZWxlY3QoZSkpLHRoaXN9LF9yZW1vdmVBY3Rpb25Qb2ludDpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXNbdCtcIlBvaW50c1wiXS5pbmRleE9mKHRoaXMuYm9hcmQuc2VsZWN0KGUpKTtyZXR1cm4gaT4tMSYmdGhpc1t0K1wiUG9pbnRzXCJdLnNwbGljZShpLDEpLHRoaXN9LHNldFByb3BlcnR5OmZ1bmN0aW9uKCl7dC5kZXByZWNhdGVkKFwiR3JvdXAuc2V0UHJvcGVydHlcIixcIkdyb3VwLnNldEF0dHJpYnV0ZSgpXCIpLHRoaXMuc2V0QXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQgaW4gdGhpcy5vYmplY3RzKXRoaXMub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eSh0KSYmdGhpcy5vYmplY3RzW3RdLnBvaW50LnNldEF0dHJpYnV0ZS5hcHBseSh0aGlzLm9iamVjdHNbdF0ucG9pbnQsYXJndW1lbnRzKTtyZXR1cm4gdGhpc319KSx0LmNyZWF0ZUdyb3VwPWZ1bmN0aW9uKGUsaSxyKXt2YXIgbz1zLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiZ3JvdXBcIiksbj1uZXcgdC5Hcm91cChlLG8uaWQsby5uYW1lLGksbyk7cmV0dXJuIG4uZWxUeXBlPVwiZ3JvdXBcIixuLnNldFBhcmVudHMoaSksbn0sdC5yZWdpc3RlckVsZW1lbnQoXCJncm91cFwiLHQuY3JlYXRlR3JvdXApLHtHcm91cDp0Lkdyb3VwLGNyZWF0ZUdyb3VwOnQuY3JlYXRlR3JvdXB9fSkpLGRlZmluZShcImVsZW1lbnQvY29uaWNcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL251bWVyaWNzXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5jcmVhdGVFbGxpcHNlPWZ1bmN0aW9uKHQscixzKXt2YXIgbyxhLGgsbCxjLGQsdSxwPVtdLGY9bi5jb3B5QXR0cmlidXRlcyhzLHQub3B0aW9ucyxcImNvbmljXCIsXCJmb2NpXCIpLG09bi5jb3B5QXR0cmlidXRlcyhzLHQub3B0aW9ucyxcImNvbmljXCIsXCJjZW50ZXJcIiksZz1uLmNvcHlBdHRyaWJ1dGVzKHMsdC5vcHRpb25zLFwiY29uaWNcIik7Zm9yKGQ9MDtkPDI7ZCsrKWlmKHJbZF0ubGVuZ3RoPjEpcFtkXT10LmNyZWF0ZShcInBvaW50XCIscltkXSxmKTtlbHNlIGlmKG4uaXNQb2ludChyW2RdKSlwW2RdPXQuc2VsZWN0KHJbZF0pO2Vsc2UgaWYobi5pc0Z1bmN0aW9uKHJbZF0pJiZuLmlzUG9pbnQocltkXSgpKSlwW2RdPXJbZF0oKTtlbHNle2lmKCFuLmlzU3RyaW5nKHJbZF0pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgRWxsaXBzZSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIHJbMF0rXCInIGFuZCAnXCIrdHlwZW9mIHJbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50LHBvaW50XSwgW3BvaW50LHBvaW50LG51bWJlcnxmdW5jdGlvbl1cIik7cFtkXT10LnNlbGVjdChyW2RdKX1pZihuLmlzTnVtYmVyKHJbMl0pKWM9bi5jcmVhdGVGdW5jdGlvbihyWzJdLHQpO2Vsc2UgaWYobi5pc0Z1bmN0aW9uKHJbMl0pJiZuLmlzTnVtYmVyKHJbMl0oKSkpYz1yWzJdO2Vsc2V7aWYobi5pc1BvaW50KHJbMl0pKWw9dC5zZWxlY3QoclsyXSk7ZWxzZSBpZihyWzJdLmxlbmd0aD4xKWw9dC5jcmVhdGUoXCJwb2ludFwiLHJbMl0sZik7ZWxzZSBpZihuLmlzRnVuY3Rpb24oclsyXSkmJm4uaXNQb2ludChyWzJdKCkpKWw9clsyXSgpO2Vsc2V7aWYoIW4uaXNTdHJpbmcoclsyXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBFbGxpcHNlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgclswXStcIicgYW5kICdcIit0eXBlb2YgclsxXStcIicgYW5kICdcIit0eXBlb2YgclsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdLCBbcG9pbnQscG9pbnQsbnVtYmVyfGZ1bmN0aW9uXVwiKTtsPXQuc2VsZWN0KHJbMl0pfWM9ZnVuY3Rpb24oKXtyZXR1cm4gbC5EaXN0KHBbMF0pK2wuRGlzdChwWzFdKX19Zm9yKG4uZXhpc3RzKHJbNF0pfHwocls0XT0yKk1hdGguUEkpLG4uZXhpc3RzKHJbM10pfHwoclszXT0wKSxoPXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm4uNSoocFswXS5YKCkrcFsxXS5YKCkpfSxmdW5jdGlvbigpe3JldHVybi41KihwWzBdLlkoKStwWzFdLlkoKSl9XSxtKSwoYT10LmNyZWF0ZShcImN1cnZlXCIsW2Z1bmN0aW9uKHQpe3JldHVybiAwfSxmdW5jdGlvbih0KXtyZXR1cm4gMH0sclszXSxyWzRdXSxnKSkubWFqb3JBeGlzPWMsdT1hLmhhc1BvaW50LG89ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHMsbyxuLGgsbCxkLHU7ZXx8KHI9KGk9YygpKSppLHM9cFswXS5YKCksbz1wWzBdLlkoKSxsPXMtKG49cFsxXS5YKCkpLGQ9by0oaD1wWzFdLlkoKSksdT0oci1zKnMtbypvK24qbitoKmgpLygyKmkpLGEucXVhZHJhdGljZm9ybT1bW3UqdS1uKm4taCpoLHUqbC9pK24sdSpkL2kraF0sW3UqbC9pK24sbCpsL3ItMSxsKmQvcl0sW3UqZC9pK2gsbCpkL3IsZCpkL3ItMV1dKX0sYS5YPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YygpLHI9cFsxXS5EaXN0KHBbMF0pLHM9LjUqKHIqci1pKmkpLyhyKk1hdGguY29zKHQpLWkpLG49TWF0aC5hdGFuMihwWzFdLlkoKS1wWzBdLlkoKSxwWzFdLlgoKS1wWzBdLlgoKSk7cmV0dXJuIGV8fG8oMCxlKSxwWzBdLlgoKStNYXRoLmNvcyhuK3QpKnN9LGEuWT1mdW5jdGlvbih0LGUpe3ZhciBpPWMoKSxyPXBbMV0uRGlzdChwWzBdKSxzPS41KihyKnItaSppKS8ocipNYXRoLmNvcyh0KS1pKSxvPU1hdGguYXRhbjIocFsxXS5ZKCktcFswXS5ZKCkscFsxXS5YKCktcFswXS5YKCkpO3JldHVybiBwWzBdLlkoKStNYXRoLnNpbihvK3QpKnN9LGEubWlkcG9pbnQ9YS5jZW50ZXI9aCxhLnR5cGU9ZS5PQkpFQ1RfVFlQRV9DT05JQyxhLnN1YnM9e2NlbnRlcjphLmNlbnRlcn0sYS5pbmhlcml0cy5wdXNoKGEuY2VudGVyLHBbMF0scFsxXSksbi5pc1BvaW50KGwpJiZhLmluaGVyaXRzLnB1c2gobCksYS5oYXNQb2ludD1mdW5jdGlvbih0LHIpe3ZhciBzLG8sYSxoO3JldHVybiBuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5oYXNpbm5lcnBvaW50cyk/KHM9cFswXS5jb29yZHMsbz1wWzFdLmNvb3JkcyxhPXRoaXMubWFqb3JBeGlzKCksKGg9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFt0LHJdLHRoaXMuYm9hcmQpKS5kaXN0YW5jZShlLkNPT1JEU19CWV9VU0VSLHMpK2guZGlzdGFuY2UoZS5DT09SRFNfQllfVVNFUixvKTw9YSk6dS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGguYWRkQ2hpbGQoYSksZD0wO2Q8MjtkKyspbi5pc1BvaW50KHBbZF0pJiZwW2RdLmFkZENoaWxkKGEpO3JldHVybiBuLmlzUG9pbnQobCkmJmwuYWRkQ2hpbGQoYSksYS5zZXRQYXJlbnRzKHIpLGF9LHQuY3JlYXRlSHlwZXJib2xhPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLGEsaCxsLGMsZD1bXSx1PW4uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJjb25pY1wiLFwiZm9jaVwiKSxwPW4uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJjb25pY1wiLFwiY2VudGVyXCIpLGY9bi5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImNvbmljXCIpO2ZvcihjPTA7YzwyO2MrKylpZihpW2NdLmxlbmd0aD4xKWRbY109dC5jcmVhdGUoXCJwb2ludFwiLGlbY10sdSk7ZWxzZSBpZihuLmlzUG9pbnQoaVtjXSkpZFtjXT10LnNlbGVjdChpW2NdKTtlbHNlIGlmKG4uaXNGdW5jdGlvbihpW2NdKSYmbi5pc1BvaW50KGlbY10oKSkpZFtjXT1pW2NdKCk7ZWxzZXtpZighbi5pc1N0cmluZyhpW2NdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIEh5cGVyYm9sYSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50LHBvaW50XSwgW3BvaW50LHBvaW50LG51bWJlcnxmdW5jdGlvbl1cIik7ZFtjXT10LnNlbGVjdChpW2NdKX1pZihuLmlzTnVtYmVyKGlbMl0pKWw9bi5jcmVhdGVGdW5jdGlvbihpWzJdLHQpO2Vsc2UgaWYobi5pc0Z1bmN0aW9uKGlbMl0pJiZuLmlzTnVtYmVyKGlbMl0oKSkpbD1pWzJdO2Vsc2V7aWYobi5pc1BvaW50KGlbMl0pKWg9dC5zZWxlY3QoaVsyXSk7ZWxzZSBpZihpWzJdLmxlbmd0aD4xKWg9dC5jcmVhdGUoXCJwb2ludFwiLGlbMl0sdSk7ZWxzZSBpZihuLmlzRnVuY3Rpb24oaVsyXSkmJm4uaXNQb2ludChpWzJdKCkpKWg9aVsyXSgpO2Vsc2V7aWYoIW4uaXNTdHJpbmcoaVsyXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBIeXBlcmJvbGEgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzJdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludF0sIFtwb2ludCxwb2ludCxudW1iZXJ8ZnVuY3Rpb25dXCIpO2g9dC5zZWxlY3QoaVsyXSl9bD1mdW5jdGlvbigpe3JldHVybiBoLkRpc3QoZFswXSktaC5EaXN0KGRbMV0pfX1mb3Iobi5leGlzdHMoaVs0XSl8fChpWzRdPTEuMDAwMSpNYXRoLlBJKSxuLmV4aXN0cyhpWzNdKXx8KGlbM109LTEuMDAwMSpNYXRoLlBJKSxhPXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm4uNSooZFswXS5YKCkrZFsxXS5YKCkpfSxmdW5jdGlvbigpe3JldHVybi41KihkWzBdLlkoKStkWzFdLlkoKSl9XSxwKSwobz10LmNyZWF0ZShcImN1cnZlXCIsW2Z1bmN0aW9uKHQpe3JldHVybiAwfSxmdW5jdGlvbih0KXtyZXR1cm4gMH0saVszXSxpWzRdXSxmKSkubWFqb3JBeGlzPWwscz1mdW5jdGlvbih0LGUpe3ZhciBpLHIscyxuLGEsaCxjLHUscDtlfHwocj0oaT1sKCkpKmkscz1kWzBdLlgoKSxuPWRbMF0uWSgpLGM9cy0oYT1kWzFdLlgoKSksdT1uLShoPWRbMV0uWSgpKSxwPShyLXMqcy1uKm4rYSphK2gqaCkvKDIqaSksby5xdWFkcmF0aWNmb3JtPVtbcCpwLWEqYS1oKmgscCpjL2krYSxwKnUvaStoXSxbcCpjL2krYSxjKmMvci0xLGMqdS9yXSxbcCp1L2kraCxjKnUvcix1KnUvci0xXV0pfSxvLlg9ZnVuY3Rpb24odCxlKXt2YXIgaT1sKCkscj1kWzFdLkRpc3QoZFswXSksbz0uNSoocipyLWkqaSkvKHIqTWF0aC5jb3ModCkraSksbj1NYXRoLmF0YW4yKGRbMV0uWSgpLWRbMF0uWSgpLGRbMV0uWCgpLWRbMF0uWCgpKTtyZXR1cm4gZXx8cygwLGUpLGRbMF0uWCgpK01hdGguY29zKG4rdCkqb30sby5ZPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bCgpLHI9ZFsxXS5EaXN0KGRbMF0pLHM9LjUqKHIqci1pKmkpLyhyKk1hdGguY29zKHQpK2kpLG89TWF0aC5hdGFuMihkWzFdLlkoKS1kWzBdLlkoKSxkWzFdLlgoKS1kWzBdLlgoKSk7cmV0dXJuIGRbMF0uWSgpK01hdGguc2luKG8rdCkqc30sby5taWRwb2ludD1vLmNlbnRlcj1hLG8uc3Vicz17Y2VudGVyOm8uY2VudGVyfSxvLmluaGVyaXRzLnB1c2goby5jZW50ZXIsZFswXSxkWzFdKSxuLmlzUG9pbnQoaCkmJm8uaW5oZXJpdHMucHVzaChoKSxvLnR5cGU9ZS5PQkpFQ1RfVFlQRV9DT05JQyxhLmFkZENoaWxkKG8pLGM9MDtjPDI7YysrKW4uaXNQb2ludChkW2NdKSYmZFtjXS5hZGRDaGlsZChvKTtyZXR1cm4gbi5pc1BvaW50KGgpJiZoLmFkZENoaWxkKG8pLG8uc2V0UGFyZW50cyhpKSxvfSx0LmNyZWF0ZVBhcmFib2xhPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxhLGgsbCxjPWlbMF0sZD1pWzFdLHU9bi5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImNvbmljXCIsXCJmb2NpXCIpLHA9bi5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcImNvbmljXCIsXCJjZW50ZXJcIiksZj1uLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiY29uaWNcIik7aWYoaVswXS5sZW5ndGg+MSljPXQuY3JlYXRlKFwicG9pbnRcIixpWzBdLHUpO2Vsc2UgaWYobi5pc1BvaW50KGlbMF0pKWM9dC5zZWxlY3QoaVswXSk7ZWxzZSBpZihuLmlzRnVuY3Rpb24oaVswXSkmJm4uaXNQb2ludChpWzBdKCkpKWM9aVswXSgpO2Vsc2V7aWYoIW4uaXNTdHJpbmcoaVswXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBQYXJhYm9sYSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LGxpbmVdXCIpO2M9dC5zZWxlY3QoaVswXSl9cmV0dXJuIG4uaXNBcnJheShkKSYmMj09PWQubGVuZ3RoJiYobD1uLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiY29uaWNcIixcImxpbmVcIiksZD10LmNyZWF0ZShcImxpbmVcIixkLGwpKSxuLmV4aXN0cyhpWzNdKXx8KGlbM109MipNYXRoLlBJKSxuLmV4aXN0cyhpWzJdKXx8KGlbMl09MCksaD10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuIG8ucHJvamVjdFBvaW50VG9MaW5lKGMsZCx0KS51c3JDb29yZHN9XSxwKSwoYT10LmNyZWF0ZShcImN1cnZlXCIsW2Z1bmN0aW9uKHQpe3JldHVybiAwfSxmdW5jdGlvbih0KXtyZXR1cm4gMH0saVsyXSxpWzNdXSxmKSkubWlkcG9pbnQ9YS5jZW50ZXI9aCxhLnN1YnM9e2NlbnRlcjphLmNlbnRlcn0sYS5pbmhlcml0cy5wdXNoKGEuY2VudGVyKSxzPWZ1bmN0aW9uKHQsZSl7dmFyIGkscixzLG8sbixoO2V8fChpPWQuc3RkZm9ybVsxXSxyPWQuc3RkZm9ybVsyXSxzPWQuc3RkZm9ybVswXSxvPWkqaStyKnIsbj1jLlgoKSxoPWMuWSgpLGEucXVhZHJhdGljZm9ybT1bW3Mqcy1vKihuKm4raCpoKSxzKmkrbypuLHMqcitvKmhdLFtzKmkrbypuLC1yKnIsaSpyXSxbcypyK28qaCxpKnIsLWkqaV1dKX0sYS5YPWZ1bmN0aW9uKHQsZSl7dmFyIGkscj1kLmdldEFuZ2xlKCksbj1vLmRpc3RQb2ludExpbmUoYy5jb29yZHMudXNyQ29vcmRzLGQuc3RkZm9ybSksYT1kLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGg9ZC5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxsPWMuY29vcmRzLnVzckNvb3JkcztyZXR1cm4gMD09PWFbMF0/YT1bMSxoWzFdK2Quc3RkZm9ybVsyXSxoWzJdLWQuc3RkZm9ybVsxXV06MD09PWhbMF0mJihoPVsxLGFbMV0rZC5zdGRmb3JtWzJdLGFbMl0tZC5zdGRmb3JtWzFdXSksaT0oKGhbMV0tYVsxXSkqKGxbMl0tYVsyXSktKGhbMl0tYVsyXSkqKGxbMV0tYVsxXSk+PTA/MTotMSkqbi8oMS1NYXRoLnNpbih0KSksZXx8cygwLGUpLGMuWCgpK01hdGguY29zKHQrcikqaX0sYS5ZPWZ1bmN0aW9uKHQsZSl7dmFyIGkscj1kLmdldEFuZ2xlKCkscz1vLmRpc3RQb2ludExpbmUoYy5jb29yZHMudXNyQ29vcmRzLGQuc3RkZm9ybSksbj1kLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGE9ZC5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxoPWMuY29vcmRzLnVzckNvb3JkcztyZXR1cm4gMD09PW5bMF0/bj1bMSxhWzFdK2Quc3RkZm9ybVsyXSxhWzJdLWQuc3RkZm9ybVsxXV06MD09PWFbMF0mJihhPVsxLG5bMV0rZC5zdGRmb3JtWzJdLG5bMl0tZC5zdGRmb3JtWzFdXSksaT0oKGFbMV0tblsxXSkqKGhbMl0tblsyXSktKGFbMl0tblsyXSkqKGhbMV0tblsxXSk+PTA/MTotMSkqcy8oMS1NYXRoLnNpbih0KSksYy5ZKCkrTWF0aC5zaW4odCtyKSppfSxhLnR5cGU9ZS5PQkpFQ1RfVFlQRV9DT05JQyxoLmFkZENoaWxkKGEpLG4uaXNQb2ludChjKSYmKGMuYWRkQ2hpbGQoYSksYS5pbmhlcml0cy5wdXNoKGMpKSxkLmFkZENoaWxkKGEpLGEuc2V0UGFyZW50cyhpKSxhfSx0LmNyZWF0ZUNvbmljPWZ1bmN0aW9uKHQsaSxvKXt2YXIgYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF89W1sxLDAsMF0sWzAsMSwwXSxbMCwwLDFdXSxQPVtbMSwwLDBdLFswLDEsMF0sWzAsMCwxXV0sRT1bXSx4PVtdLFM9bi5jb3B5QXR0cmlidXRlcyhvLHQub3B0aW9ucyxcImNvbmljXCIsXCJwb2ludFwiKSxPPW4uY29weUF0dHJpYnV0ZXMobyx0Lm9wdGlvbnMsXCJjb25pY1wiLFwiY2VudGVyXCIpLHc9bi5jb3B5QXR0cmlidXRlcyhvLHQub3B0aW9ucyxcImNvbmljXCIpO2lmKDU9PT1pLmxlbmd0aClDPSEwO2Vsc2V7aWYoNiE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgZ2VuZXJpYyBDb25pYyB3aXRoIFwiK2kubGVuZ3RoK1wiIHBhcmFtZXRlcnMuXCIpO0M9ITF9aWYoQylmb3Iodj0wO3Y8NTt2KyspaWYoaVt2XS5sZW5ndGg+MSlFW3ZdPXQuY3JlYXRlKFwicG9pbnRcIixpW3ZdLFMpO2Vsc2UgaWYobi5pc1BvaW50KGlbdl0pKUVbdl09dC5zZWxlY3QoaVt2XSk7ZWxzZSBpZihuLmlzRnVuY3Rpb24oaVt2XSkmJm4uaXNQb2ludChpW3ZdKCkpKUVbdl09aVt2XSgpO2Vsc2V7aWYoIW4uaXNTdHJpbmcoaVt2XSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBDb25pYyBzZWN0aW9uIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVt2XStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnQscG9pbnQscG9pbnRdLCBbYTAwLGExMSxhMjIsYTAxLGEwMixhMTJdXCIpO0Vbdl09dC5zZWxlY3QoaVt2XSl9ZWxzZSh5PVtbMCwwLDBdLFswLDAsMF0sWzAsMCwwXV0pWzBdWzBdPW4uaXNGdW5jdGlvbihpWzJdKT9mdW5jdGlvbigpe3JldHVybiBpWzJdKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGlbMl19LHlbMF1bMV09bi5pc0Z1bmN0aW9uKGlbNF0pP2Z1bmN0aW9uKCl7cmV0dXJuIGlbNF0oKX06ZnVuY3Rpb24oKXtyZXR1cm4gaVs0XX0seVswXVsyXT1uLmlzRnVuY3Rpb24oaVs1XSk/ZnVuY3Rpb24oKXtyZXR1cm4gaVs1XSgpfTpmdW5jdGlvbigpe3JldHVybiBpWzVdfSx5WzFdWzFdPW4uaXNGdW5jdGlvbihpWzBdKT9mdW5jdGlvbigpe3JldHVybiBpWzBdKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGlbMF19LHlbMV1bMl09bi5pc0Z1bmN0aW9uKGlbM10pP2Z1bmN0aW9uKCl7cmV0dXJuIGlbM10oKX06ZnVuY3Rpb24oKXtyZXR1cm4gaVszXX0seVsyXVsyXT1uLmlzRnVuY3Rpb24oaVsxXSk/ZnVuY3Rpb24oKXtyZXR1cm4gaVsxXSgpfTpmdW5jdGlvbigpe3JldHVybiBpWzFdfTtpZihkPWZ1bmN0aW9uKHQpe3ZhciBlLGk7Zm9yKGU9MDtlPDM7ZSsrKWZvcihpPWU7aTwzO2krKyl0W2VdW2ldKz10W2ldW2VdO2ZvcihlPTA7ZTwzO2UrKylmb3IoaT0wO2k8ZTtpKyspdFtlXVtpXT10W2ldW2VdO3JldHVybiB0fSxjPWZ1bmN0aW9uKHQsZSl7dmFyIGkscixzPVtbMCwwLDBdLFswLDAsMF0sWzAsMCwwXV07Zm9yKGk9MDtpPDM7aSsrKWZvcihyPTA7cjwzO3IrKylzW2ldW3JdPXRbaV0qZVtyXTtyZXR1cm4gZChzKX0sbD1mdW5jdGlvbih0LGUsaSl7dmFyIHMsbyxuLGEsaCxsPVtbMCwwLDBdLFswLDAsMF0sWzAsMCwwXV07Zm9yKGg9ci5tYXRWZWNNdWx0KGUsaSksbj1yLmlubmVyUHJvZHVjdChpLGgpLGg9ci5tYXRWZWNNdWx0KHQsaSksYT1yLmlubmVyUHJvZHVjdChpLGgpLHM9MDtzPDM7cysrKWZvcihvPTA7bzwzO28rKylsW3NdW29dPW4qdFtzXVtvXS1hKmVbc11bb107cmV0dXJuIGx9LGg9dC5jcmVhdGUoXCJjdXJ2ZVwiLFtmdW5jdGlvbih0KXtyZXR1cm4gMH0sZnVuY3Rpb24odCl7cmV0dXJuIDB9LDAsMipNYXRoLlBJXSx3KSxhPWZ1bmN0aW9uKHQsZSl7dmFyIGksbyxhLGQ7aWYoIWUpe2lmKEMpe2ZvcihpPTA7aTw1O2krKyl4W2ldPUVbaV0uY29vcmRzLnVzckNvb3JkcztnPWMoci5jcm9zc1Byb2R1Y3QoeFswXSx4WzFdKSxyLmNyb3NzUHJvZHVjdCh4WzJdLHhbM10pKSxiPWMoci5jcm9zc1Byb2R1Y3QoeFswXSx4WzJdKSxyLmNyb3NzUHJvZHVjdCh4WzFdLHhbM10pKSxQPWwoZyxiLHhbNF0pfWVsc2UgZm9yKGk9MDtpPDM7aSsrKWZvcihvPWk7bzwzO28rKylQW2ldW29dPXlbaV1bb10oKSxvPmkmJihQW29dW2ldPVBbaV1bb10pO2ZvcihoLnF1YWRyYXRpY2Zvcm09UCwodT1zLkphY29iaShQKSlbMF1bMF1bMF08MCYmKHVbMF1bMF1bMF0qPS0xLHVbMF1bMV1bMV0qPS0xLHVbMF1bMl1bMl0qPS0xKSxpPTA7aTwzO2krKyl7Zm9yKGE9MCxvPTA7bzwzO28rKylhKz11WzFdW29dW2ldKnVbMV1bb11baV07YT1NYXRoLnNxcnQoYSl9Xz11WzFdLG09TWF0aC5zcXJ0KE1hdGguYWJzKHVbMF1bMF1bMF0pKSxwPU1hdGguc3FydChNYXRoLmFicyh1WzBdWzFdWzFdKSksZj1NYXRoLnNxcnQoTWF0aC5hYnModVswXVsyXVsyXSkpfXJldHVybiB1WzBdWzFdWzFdPD0wJiZ1WzBdWzJdWzJdPD0wP2Q9ci5tYXRWZWNNdWx0KF8sWzEvbSxNYXRoLmNvcyh0KS9wLE1hdGguc2luKHQpL2ZdKTp1WzBdWzFdWzFdPD0wJiZ1WzBdWzJdWzJdPjA/ZD1yLm1hdFZlY011bHQoXyxbTWF0aC5jb3ModCkvbSwxL3AsTWF0aC5zaW4odCkvZl0pOnVbMF1bMl1bMl08MCYmKGQ9ci5tYXRWZWNNdWx0KF8sW01hdGguc2luKHQpL20sTWF0aC5jb3ModCkvcCwxL2ZdKSksbi5leGlzdHMoZCk/KGRbMV0vPWRbMF0sZFsyXS89ZFswXSxkWzBdPTEpOmQ9WzEsTmFOLE5hTl0sZH0saC5YPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEodCxlKVsxXX0saC5ZPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEodCxlKVsyXX0saC5taWRwb2ludD10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7dmFyIHQ9aC5xdWFkcmF0aWNmb3JtO3JldHVyblt0WzFdWzFdKnRbMl1bMl0tdFsxXVsyXSp0WzFdWzJdLHRbMV1bMl0qdFswXVsyXS10WzJdWzJdKnRbMF1bMV0sdFswXVsxXSp0WzFdWzJdLXRbMV1bMV0qdFswXVsyXV19XSxPKSxoLnR5cGU9ZS5PQkpFQ1RfVFlQRV9DT05JQyxoLmNlbnRlcj1oLm1pZHBvaW50LGguc3Vicz17Y2VudGVyOmguY2VudGVyfSxoLmluaGVyaXRzLnB1c2goaC5jZW50ZXIpLGguaW5oZXJpdHM9aC5pbmhlcml0cy5jb25jYXQoRSksQyl7Zm9yKHY9MDt2PDU7disrKW4uaXNQb2ludChFW3ZdKSYmRVt2XS5hZGRDaGlsZChoKTtoLnNldFBhcmVudHMoaSl9cmV0dXJuIGguYWRkQ2hpbGQoaC5jZW50ZXIpLGh9LHQucmVnaXN0ZXJFbGVtZW50KFwiZWxsaXBzZVwiLHQuY3JlYXRlRWxsaXBzZSksdC5yZWdpc3RlckVsZW1lbnQoXCJoeXBlcmJvbGFcIix0LmNyZWF0ZUh5cGVyYm9sYSksdC5yZWdpc3RlckVsZW1lbnQoXCJwYXJhYm9sYVwiLHQuY3JlYXRlUGFyYWJvbGEpLHQucmVnaXN0ZXJFbGVtZW50KFwiY29uaWNcIix0LmNyZWF0ZUNvbmljKSx7Y3JlYXRlRWxsaXBzZTp0LmNyZWF0ZUVsbGlwc2UsY3JlYXRlSHlwZXJib2xhOnQuY3JlYXRlSHlwZXJib2xhLGNyZWF0ZVBhcmFib2xhOnQuY3JlYXRlUGFyYWJvbGEsY3JlYXRlQ29uaWM6dC5jcmVhdGVDb25pY319KSksZGVmaW5lKFwiYmFzZS9jaXJjbGVcIixbXCJqeGdcIixcImJhc2UvZWxlbWVudFwiLFwiYmFzZS9jb29yZHNcIixcImJhc2UvY29uc3RhbnRzXCIsXCJlbGVtZW50L2NvbmljXCIsXCJwYXJzZXIvZ2VvbmV4dFwiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ2lyY2xlPWZ1bmN0aW9uKHQsZSxpLHMsbyl7dGhpcy5jb25zdHJ1Y3Rvcih0LG8sci5PQkpFQ1RfVFlQRV9DSVJDTEUsci5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFKSx0aGlzLm1ldGhvZD1lLHRoaXMubWlkcG9pbnQ9dGhpcy5ib2FyZC5zZWxlY3QoaSksdGhpcy5jZW50ZXI9dGhpcy5ib2FyZC5zZWxlY3QoaSksdGhpcy5wb2ludDI9bnVsbCx0aGlzLnJhZGl1cz0wLHRoaXMubGluZT1udWxsLHRoaXMuY2lyY2xlPW51bGwsdGhpcy5wb2ludHM9W10sXCJ0d29Qb2ludHNcIj09PWU/KHRoaXMucG9pbnQyPXQuc2VsZWN0KHMpLHRoaXMucmFkaXVzPXRoaXMuUmFkaXVzKCkpOlwicG9pbnRSYWRpdXNcIj09PWU/KHRoaXMuZ3h0dGVybT1zLHRoaXMudXBkYXRlUmFkaXVzPW4uY3JlYXRlRnVuY3Rpb24ocyx0aGlzLmJvYXJkLG51bGwsITApLHRoaXMudXBkYXRlUmFkaXVzKCkpOlwicG9pbnRMaW5lXCI9PT1lPyh0aGlzLmxpbmU9dC5zZWxlY3QocyksdGhpcy5yYWRpdXM9dGhpcy5saW5lLnBvaW50MS5jb29yZHMuZGlzdGFuY2Uoci5DT09SRFNfQllfVVNFUix0aGlzLmxpbmUucG9pbnQyLmNvb3JkcykpOlwicG9pbnRDaXJjbGVcIj09PWUmJih0aGlzLmNpcmNsZT10LnNlbGVjdChzKSx0aGlzLnJhZGl1cz10aGlzLmNpcmNsZS5SYWRpdXMoKSksdGhpcy5pZD10aGlzLmJvYXJkLnNldElkKHRoaXMsXCJDXCIpLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd0VsbGlwc2UodGhpcyksdGhpcy5ib2FyZC5maW5hbGl6ZUFkZGluZyh0aGlzKSx0aGlzLmNyZWF0ZUdyYWRpZW50KCksdGhpcy5lbFR5cGU9XCJjaXJjbGVcIix0aGlzLmNyZWF0ZUxhYmVsKCksbi5leGlzdHModGhpcy5jZW50ZXIuX2lzX25ldyk/KHRoaXMuYWRkQ2hpbGQodGhpcy5jZW50ZXIpLGRlbGV0ZSB0aGlzLmNlbnRlci5faXNfbmV3KTp0aGlzLmNlbnRlci5hZGRDaGlsZCh0aGlzKSxcInBvaW50UmFkaXVzXCI9PT1lP3RoaXMubm90aWZ5UGFyZW50cyhzKTpcInBvaW50TGluZVwiPT09ZT90aGlzLmxpbmUuYWRkQ2hpbGQodGhpcyk6XCJwb2ludENpcmNsZVwiPT09ZT90aGlzLmNpcmNsZS5hZGRDaGlsZCh0aGlzKTpcInR3b1BvaW50c1wiPT09ZSYmKG4uZXhpc3RzKHRoaXMucG9pbnQyLl9pc19uZXcpPyh0aGlzLmFkZENoaWxkKHRoaXMucG9pbnQyKSxkZWxldGUgdGhpcy5wb2ludDIuX2lzX25ldyk6dGhpcy5wb2ludDIuYWRkQ2hpbGQodGhpcykpLHRoaXMubWV0aG9kTWFwPW4uZGVlcENvcHkodGhpcy5tZXRob2RNYXAse3NldFJhZGl1czpcInNldFJhZGl1c1wiLGdldFJhZGl1czpcImdldFJhZGl1c1wiLEFyZWE6XCJBcmVhXCIsYXJlYTpcIkFyZWFcIixyYWRpdXM6XCJSYWRpdXNcIixjZW50ZXI6XCJjZW50ZXJcIixsaW5lOlwibGluZVwiLHBvaW50MjpcInBvaW50MlwifSl9LHQuQ2lyY2xlLnByb3RvdHlwZT1uZXcgZSx0LmV4dGVuZCh0LkNpcmNsZS5wcm90b3R5cGUse2hhc1BvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIHMsbyxhLGgsbCxjPXRoaXMuY2VudGVyLmNvb3Jkcy51c3JDb29yZHMsZD1uZXcgaShyLkNPT1JEU19CWV9TQ1JFRU4sW3QsZV0sdGhpcy5ib2FyZCksdT10aGlzLlJhZGl1cygpO3JldHVybiBuLmlzT2JqZWN0KG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbikpPyhvPXRoaXMuYm9hcmQuX2lucHV0RGV2aWNlLHM9bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uW29dKSk6cz10aGlzLmJvYXJkLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50LGE9Y1sxXS1kLnVzckNvb3Jkc1sxXSxoPWNbMl0tZC51c3JDb29yZHNbMl0sbD1NYXRoLnNxcnQoYSphK2gqaCkscys9LjUqbi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc3Ryb2tld2lkdGgpLHMvPU1hdGguc3FydCh0aGlzLmJvYXJkLnVuaXRYKnRoaXMuYm9hcmQudW5pdFkpLG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLmhhc2lubmVycG9pbnRzKT9sPHUrczpNYXRoLmFicyhsLXUpPHN9LGdlbmVyYXRlUG9seW5vbWlhbDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNlbnRlci5zeW1ib2xpYy54LGk9dGhpcy5jZW50ZXIuc3ltYm9saWMueSxyPXQuc3ltYm9saWMueCxzPXQuc3ltYm9saWMueSxvPXRoaXMuZ2VuZXJhdGVSYWRpdXNTcXVhcmVkKCk7cmV0dXJuXCJcIj09PW8/W106W1wiKChcIityK1wiKS0oXCIrZStcIikpXjIgKyAoKFwiK3MrXCIpLShcIitpK1wiKSleMiAtIChcIitvK1wiKVwiXX0sZ2VuZXJhdGVSYWRpdXNTcXVhcmVkOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscz1cIlwiO3JldHVyblwidHdvUG9pbnRzXCI9PT10aGlzLm1ldGhvZD8odD10aGlzLmNlbnRlci5zeW1ib2xpYy54LGU9dGhpcy5jZW50ZXIuc3ltYm9saWMueSxzPVwiKChcIisoaT10aGlzLnBvaW50Mi5zeW1ib2xpYy54KStcIiktKFwiK3QrXCIpKV4yICsgKChcIisocj10aGlzLnBvaW50Mi5zeW1ib2xpYy55KStcIiktKFwiK2UrXCIpKV4yXCIpOlwicG9pbnRSYWRpdXNcIj09PXRoaXMubWV0aG9kP24uaXNOdW1iZXIodGhpcy5yYWRpdXMpJiYocz0odGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMpLnRvU3RyaW5nKCkpOlwicG9pbnRMaW5lXCI9PT10aGlzLm1ldGhvZD8oaT10aGlzLmxpbmUucG9pbnQxLnN5bWJvbGljLngscj10aGlzLmxpbmUucG9pbnQxLnN5bWJvbGljLnkscz1cIigoXCIraStcIiktKFwiK3RoaXMubGluZS5wb2ludDIuc3ltYm9saWMueCtcIikpXjIgKyAoKFwiK3IrXCIpLShcIit0aGlzLmxpbmUucG9pbnQyLnN5bWJvbGljLnkrXCIpKV4yXCIpOlwicG9pbnRDaXJjbGVcIj09PXRoaXMubWV0aG9kJiYocz10aGlzLmNpcmNsZS5SYWRpdXMoKSksc30sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIHQsZSxzLG8sYSxoO2lmKHRoaXMubmVlZHNVcGRhdGUpZm9yKG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnRyYWNlKSYmdGhpcy5jbG9uZVRvQmFja2dyb3VuZCghMCksXCJwb2ludExpbmVcIj09PXRoaXMubWV0aG9kP3RoaXMucmFkaXVzPXRoaXMubGluZS5wb2ludDEuY29vcmRzLmRpc3RhbmNlKHIuQ09PUkRTX0JZX1VTRVIsdGhpcy5saW5lLnBvaW50Mi5jb29yZHMpOlwicG9pbnRDaXJjbGVcIj09PXRoaXMubWV0aG9kP3RoaXMucmFkaXVzPXRoaXMuY2lyY2xlLlJhZGl1cygpOlwicG9pbnRSYWRpdXNcIj09PXRoaXMubWV0aG9kJiYodGhpcy5yYWRpdXM9dGhpcy51cGRhdGVSYWRpdXMoKSksdGhpcy51cGRhdGVTdGRmb3JtKCksdGhpcy51cGRhdGVRdWFkcmF0aWNmb3JtKCkscz10aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzBdLHQ9dGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1sxXS9zLGU9dGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1syXS9zLHMvPXMsbz10aGlzLlJhZGl1cygpLGE9LjU1MTkxNTAyNDQ5NCx0aGlzLm51bWJlclBvaW50cz0xMyx0aGlzLmRhdGFYPVt0K28sdCtvLHQrbyphLHQsdC1vKmEsdC1vLHQtbyx0LW8sdC1vKmEsdCx0K28qYSx0K28sdCtvXSx0aGlzLmRhdGFZPVtlLGUrbyphLGUrbyxlK28sZStvLGUrbyphLGUsZS1vKmEsZS1vLGUtbyxlLW8sZS1vKmEsZV0sdGhpcy5iZXppZXJEZWdyZWU9MyxoPTA7aDx0aGlzLm51bWJlclBvaW50cztoKyspdGhpcy5wb2ludHNbaF09bmV3IGkoci5DT09SRFNfQllfVVNFUixbdGhpcy5kYXRhWFtoXSx0aGlzLmRhdGFZW2hdXSx0aGlzLmJvYXJkKTtyZXR1cm4gdGhpc30sdXBkYXRlUXVhZHJhdGljZm9ybTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY2VudGVyLGU9dC5YKCksaT10LlkoKSxyPXRoaXMuUmFkaXVzKCk7dGhpcy5xdWFkcmF0aWNmb3JtPVtbZSplK2kqaS1yKnIsLWUsLWldLFstZSwxLDBdLFstaSwwLDFdXX0sdXBkYXRlU3RkZm9ybTpmdW5jdGlvbigpe3RoaXMuc3RkZm9ybVszXT0uNSx0aGlzLnN0ZGZvcm1bNF09dGhpcy5SYWRpdXMoKSx0aGlzLnN0ZGZvcm1bMV09LXRoaXMuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMV0sdGhpcy5zdGRmb3JtWzJdPS10aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzJdLGlzRmluaXRlKHRoaXMuc3RkZm9ybVs0XSl8fCh0aGlzLnN0ZGZvcm1bMF09bi5leGlzdHModGhpcy5wb2ludDIpPy0odGhpcy5zdGRmb3JtWzFdKnRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHNbMV0rdGhpcy5zdGRmb3JtWzJdKnRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHNbMl0pOjApLHRoaXMubm9ybWFsaXplKCl9LHVwZGF0ZVJlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGU/KHRoaXMudmlzUHJvcENhbGMudmlzaWJsZSYmKHRoaXMuaXNSZWFsPSFpc05hTih0aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzWzFdK3RoaXMuY2VudGVyLmNvb3Jkcy51c3JDb29yZHNbMl0rdGhpcy5SYWRpdXMoKSkmJnRoaXMuY2VudGVyLmlzUmVhbCx0aGlzLmlzUmVhbHx8dGhpcy51cGRhdGVWaXNpYmlsaXR5KCExKSksdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZUVsbGlwc2UodGhpcyksdGhpcy5oYXNMYWJlbCYmdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuaXNSZWFsJiYodGhpcy5sYWJlbC51cGRhdGUoKSx0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZVRleHQodGhpcy5sYWJlbCkpLHRoaXMuc2V0RGlzcGxheVJlbmROb2RlKCksdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzKTp0aGlzfSxub3RpZnlQYXJlbnRzOmZ1bmN0aW9uKHQpe24uaXNTdHJpbmcodCkmJm8uZmluZERlcGVuZGVuY2llcyh0aGlzLHQsdGhpcy5ib2FyZCl9LHNldFJhZGl1czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy51cGRhdGVSYWRpdXM9bi5jcmVhdGVGdW5jdGlvbih0LHRoaXMuYm9hcmQsbnVsbCwhMCksdGhpcy5ib2FyZC51cGRhdGUoKSx0aGlzfSxSYWRpdXM6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZXhpc3RzKHQpPyh0aGlzLnNldFJhZGl1cyh0KSx0aGlzLlJhZGl1cygpKTpcInR3b1BvaW50c1wiPT09dGhpcy5tZXRob2Q/bi5jbXBBcnJheXModGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxbMCwwLDBdKXx8bi5jbXBBcnJheXModGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3JkcyxbMCwwLDBdKT9OYU46dGhpcy5jZW50ZXIuRGlzdCh0aGlzLnBvaW50Mik6XCJwb2ludExpbmVcIj09PXRoaXMubWV0aG9kfHxcInBvaW50Q2lyY2xlXCI9PT10aGlzLm1ldGhvZD90aGlzLnJhZGl1czpcInBvaW50UmFkaXVzXCI9PT10aGlzLm1ldGhvZD90aGlzLnVwZGF0ZVJhZGl1cygpOk5hTn0sZ2V0UmFkaXVzOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZGVwcmVjYXRlZChcIkNpcmNsZS5nZXRSYWRpdXMoKVwiLFwiQ2lyY2xlLlJhZGl1cygpXCIpLHRoaXMuUmFkaXVzKCl9LGdldFRleHRBbmNob3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZW50ZXIuY29vcmRzfSxnZXRMYWJlbEFuY2hvcjpmdW5jdGlvbigpe3ZhciB0LGUscz10aGlzLlJhZGl1cygpLG89dGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3JkcyxhPS43MDcxMDY3ODExODY1NDc2O3N3aXRjaChuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5sYWJlbC5wb3NpdGlvbikpe2Nhc2VcImxmdFwiOnQ9b1sxXS1zLGU9b1syXTticmVhaztjYXNlXCJsbGZ0XCI6dD1vWzFdLWEqcyxlPW9bMl0tYSpzO2JyZWFrO2Nhc2VcInJ0XCI6dD1vWzFdK3MsZT1vWzJdO2JyZWFrO2Nhc2VcImxydFwiOnQ9b1sxXSthKnMsZT1vWzJdLWEqczticmVhaztjYXNlXCJ1cnRcIjp0PW9bMV0rYSpzLGU9b1syXSthKnM7YnJlYWs7Y2FzZVwidG9wXCI6dD1vWzFdLGU9b1syXStzO2JyZWFrO2Nhc2VcImJvdFwiOnQ9b1sxXSxlPW9bMl0tczticmVhaztkZWZhdWx0OnQ9b1sxXS1hKnMsZT1vWzJdK2Eqc31yZXR1cm4gbmV3IGkoci5DT09SRFNfQllfVVNFUixbdCxlXSx0aGlzLmJvYXJkKX0sY2xvbmVUb0JhY2tncm91bmQ6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuUmFkaXVzKCksaT17aWQ6dGhpcy5pZCtcIlRcIit0aGlzLm51bVRyYWNlcyxlbGVtZW50Q2xhc3M6ci5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFLGNlbnRlcjp7Y29vcmRzOnRoaXMuY2VudGVyLmNvb3Jkc30sUmFkaXVzOmZ1bmN0aW9uKCl7cmV0dXJuIGV9LGdldFJhZGl1czpmdW5jdGlvbigpe3JldHVybiBlfSxib2FyZDp0aGlzLmJvYXJkLHZpc1Byb3A6bi5kZWVwQ29weSh0aGlzLnZpc1Byb3AsdGhpcy52aXNQcm9wLnRyYWNlYXR0cmlidXRlcywhMCl9O3JldHVybiBpLnZpc1Byb3AubGF5ZXI9dGhpcy5ib2FyZC5vcHRpb25zLmxheWVyLnRyYWNlLHRoaXMubnVtVHJhY2VzKyssbi5jbGVhclZpc1Byb3BPbGQoaSksaS52aXNQcm9wQ2FsYz17dmlzaWJsZTpuLmV2YWx1YXRlKGkudmlzUHJvcC52aXNpYmxlKX0sdD10aGlzLmJvYXJkLnJlbmRlcmVyLmVuaGFuY2VkUmVuZGVyaW5nLHRoaXMuYm9hcmQucmVuZGVyZXIuZW5oYW5jZWRSZW5kZXJpbmc9ITAsdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3RWxsaXBzZShpKSx0aGlzLmJvYXJkLnJlbmRlcmVyLmVuaGFuY2VkUmVuZGVyaW5nPXQsdGhpcy50cmFjZXNbaS5pZF09aS5yZW5kTm9kZSx0aGlzfSxhZGRUcmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGUsaT1uLmlzQXJyYXkodCk/dDpbdF0scj1pLmxlbmd0aDtmb3IoZT0wO2U8cjtlKyspdGhpcy5jZW50ZXIudHJhbnNmb3JtYXRpb25zLnB1c2goaVtlXSksXCJ0d29Qb2ludHNcIj09PXRoaXMubWV0aG9kJiZ0aGlzLnBvaW50Mi50cmFuc2Zvcm1hdGlvbnMucHVzaChpW2VdKTtyZXR1cm4gdGhpc30sc25hcFRvR3JpZDpmdW5jdGlvbigpe3ZhciB0PW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNuYXB0b2dyaWQpO3JldHVybiB0aGlzLmNlbnRlci5oYW5kbGVTbmFwVG9HcmlkKHQsITApLFwidHdvUG9pbnRzXCI9PT10aGlzLm1ldGhvZCYmdGhpcy5wb2ludDIuaGFuZGxlU25hcFRvR3JpZCh0LCEwKSx0aGlzfSxzbmFwVG9Qb2ludHM6ZnVuY3Rpb24oKXt2YXIgdD1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwdG9wb2ludHMpO3JldHVybiB0aGlzLmNlbnRlci5oYW5kbGVTbmFwVG9Qb2ludHModCksXCJ0d29Qb2ludHNcIj09PXRoaXMubWV0aG9kJiZ0aGlzLnBvaW50Mi5oYW5kbGVTbmFwVG9Qb2ludHModCksdGhpc30sWDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5SYWRpdXMoKSpNYXRoLmNvcygyKnQqTWF0aC5QSSkrdGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1sxXX0sWTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5SYWRpdXMoKSpNYXRoLnNpbigyKnQqTWF0aC5QSSkrdGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3Jkc1syXX0sWjpmdW5jdGlvbih0KXtyZXR1cm4gMX0sbWluWDpmdW5jdGlvbigpe3JldHVybiAwfSxtYXhYOmZ1bmN0aW9uKCl7cmV0dXJuIDF9LEFyZWE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLlJhZGl1cygpO3JldHVybiB0KnQqTWF0aC5QSX0sYm91bmRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jZW50ZXIuY29vcmRzLnVzckNvb3JkcyxlPXRoaXMuUmFkaXVzKCk7cmV0dXJuW3RbMV0tZSx0WzJdK2UsdFsxXStlLHRbMl0tZV19LGdldFBhcmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMucGFyZW50cy5sZW5ndGg/dGhpcy5wYXJlbnRzLmNvbmNhdCh0aGlzLnJhZGl1cyk6dGhpcy5wYXJlbnRzfX0pLHQuY3JlYXRlQ2lyY2xlPWZ1bmN0aW9uKGUsaSxvKXt2YXIgYSxoLGwsYyxkLHU9W1wiY2VudGVyXCIsXCJwb2ludDJcIl07aWYoaD1bXSxkPWUuc2VsZWN0KGlbMF0pLG4uaXNPYmplY3QoZCkmJmQuZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFJiZuLmlzVHJhbnNmb3JtYXRpb25PckFycmF5KGlbMV0pKXJldHVybiBjPW4uY29weUF0dHJpYnV0ZXMobyxlLm9wdGlvbnMsXCJjaXJjbGVcIiksKGE9cy5jcmVhdGVFbGxpcHNlKGUsW2QuY2VudGVyLGQuY2VudGVyLGZ1bmN0aW9uKCl7cmV0dXJuIDIqZC5SYWRpdXMoKX1dLGMpKS5hZGRUcmFuc2Zvcm0oaVsxXSksYTtmb3IobD0wO2w8aS5sZW5ndGg7bCsrKWlmKG4uaXNQb2ludFR5cGUoZSxpW2xdKSl7aWYoITE9PT0oaD1oLmNvbmNhdChuLnByb3ZpZGVQb2ludHMoZSxbaVtsXV0sbyxcImNpcmNsZVwiLFt1W2xdXSkpKVtoLmxlbmd0aC0xXSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNpcmNsZSBmcm9tIHRoaXMgdHlwZS4gUGxlYXNlIHByb3ZpZGUgYSBwb2ludCB0eXBlLlwiKX1lbHNlIGgucHVzaChpW2xdKTtpZihjPW4uY29weUF0dHJpYnV0ZXMobyxlLm9wdGlvbnMsXCJjaXJjbGVcIiksMj09PWgubGVuZ3RoJiZuLmlzUG9pbnQoaFswXSkmJm4uaXNQb2ludChoWzFdKSlhPW5ldyB0LkNpcmNsZShlLFwidHdvUG9pbnRzXCIsaFswXSxoWzFdLGMpO2Vsc2UgaWYoKG4uaXNOdW1iZXIoaFswXSl8fG4uaXNGdW5jdGlvbihoWzBdKXx8bi5pc1N0cmluZyhoWzBdKSkmJm4uaXNQb2ludChoWzFdKSlhPW5ldyB0LkNpcmNsZShlLFwicG9pbnRSYWRpdXNcIixoWzFdLGhbMF0sYyk7ZWxzZSBpZigobi5pc051bWJlcihoWzFdKXx8bi5pc0Z1bmN0aW9uKGhbMV0pfHxuLmlzU3RyaW5nKGhbMV0pKSYmbi5pc1BvaW50KGhbMF0pKWE9bmV3IHQuQ2lyY2xlKGUsXCJwb2ludFJhZGl1c1wiLGhbMF0saFsxXSxjKTtlbHNlIGlmKGhbMF0uZWxlbWVudENsYXNzPT09ci5PQkpFQ1RfQ0xBU1NfQ0lSQ0xFJiZuLmlzUG9pbnQoaFsxXSkpYT1uZXcgdC5DaXJjbGUoZSxcInBvaW50Q2lyY2xlXCIsaFsxXSxoWzBdLGMpO2Vsc2UgaWYoaFsxXS5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19DSVJDTEUmJm4uaXNQb2ludChoWzBdKSlhPW5ldyB0LkNpcmNsZShlLFwicG9pbnRDaXJjbGVcIixoWzBdLGhbMV0sYyk7ZWxzZSBpZihoWzBdLmVsZW1lbnRDbGFzcz09PXIuT0JKRUNUX0NMQVNTX0xJTkUmJm4uaXNQb2ludChoWzFdKSlhPW5ldyB0LkNpcmNsZShlLFwicG9pbnRMaW5lXCIsaFsxXSxoWzBdLGMpO2Vsc2UgaWYoaFsxXS5lbGVtZW50Q2xhc3M9PT1yLk9CSkVDVF9DTEFTU19MSU5FJiZuLmlzUG9pbnQoaFswXSkpYT1uZXcgdC5DaXJjbGUoZSxcInBvaW50TGluZVwiLGhbMF0saFsxXSxjKTtlbHNle2lmKCEoMz09PWkubGVuZ3RoJiZuLmlzUG9pbnQoaFswXSkmJm4uaXNQb2ludChoWzFdKSYmbi5pc1BvaW50KGhbMl0pKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNpcmNsZSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50XSwgW3BvaW50LG51bWJlcl0sIFtwb2ludCxmdW5jdGlvbl0sIFtwb2ludCxjaXJjbGVdLCBbcG9pbnQscG9pbnQscG9pbnRdLCBbY2lyY2xlLHRyYW5zZm9ybWF0aW9uXVwiKTtpZighdC5lbGVtZW50cy5jaXJjdW1jaXJjbGUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBjaXJjbGUgd2l0aCB0aHJlZSBwb2ludHMuIFBsZWFzZSBpbmNsdWRlIHRoZSBjaXJjdW1jaXJjbGUgZWxlbWVudCAoZWxlbWVudC9jb21wb3NpdGlvbikuXCIpO2E9dC5lbGVtZW50cy5jaXJjdW1jaXJjbGUoZSxoLGMpfWZvcihhLmlzRHJhZ2dhYmxlPSEwLGEuc2V0UGFyZW50cyhoKSxhLmVsVHlwZT1cImNpcmNsZVwiLGw9MDtsPGgubGVuZ3RoO2wrKyluLmlzUG9pbnQoaFtsXSkmJmEuaW5oZXJpdHMucHVzaChoW2xdKTtyZXR1cm4gYX0sdC5yZWdpc3RlckVsZW1lbnQoXCJjaXJjbGVcIix0LmNyZWF0ZUNpcmNsZSkse0NpcmNsZTp0LkNpcmNsZSxjcmVhdGVDaXJjbGU6dC5jcmVhdGVDaXJjbGV9fSkpLGRlZmluZShcImJhc2UvcG9seWdvblwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJtYXRoL3N0YXRpc3RpY3NcIixcIm1hdGgvZ2VvbWV0cnlcIixcInV0aWxzL3R5cGVcIixcImJhc2UvZWxlbWVudFwiXSwoZnVuY3Rpb24odCxlLGkscixzLG8sbil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuUG9seWdvbj1mdW5jdGlvbihpLHIscyl7dGhpcy5jb25zdHJ1Y3RvcihpLHMsZS5PQkpFQ1RfVFlQRV9QT0xZR09OLGUuT0JKRUNUX0NMQVNTX0FSRUEpO3ZhciBuLGEsaCxsLGMsZD1vLmNvcHlBdHRyaWJ1dGVzKHMsaS5vcHRpb25zLFwicG9seWdvblwiLFwiYm9yZGVyc1wiKTtmb3IodGhpcy53aXRoTGluZXM9cy53aXRobGluZXMsdGhpcy5hdHRyX2xpbmU9ZCx0aGlzLnZlcnRpY2VzPVtdLG49MDtuPHIubGVuZ3RoO24rKyl0aGlzLnZlcnRpY2VzW25dPXRoaXMuYm9hcmQuc2VsZWN0KHJbbl0pO2lmKHRoaXMudmVydGljZXMubGVuZ3RoPjAmJnRoaXMudmVydGljZXNbdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMV0uaWQhPT10aGlzLnZlcnRpY2VzWzBdLmlkJiZ0aGlzLnZlcnRpY2VzLnB1c2godGhpcy52ZXJ0aWNlc1swXSksdGhpcy5ib3JkZXJzPVtdLHRoaXMud2l0aExpbmVzKWZvcihoPXRoaXMudmVydGljZXMubGVuZ3RoLTEsbD0wO2w8aDtsKyspbj0obCsxKSVoLGQuaWQ9ZC5pZHMmJmQuaWRzW25dLGQubmFtZT1kLm5hbWVzJiZkLm5hbWVzW25dLGQuc3Ryb2tlY29sb3I9by5pc0FycmF5KGQuY29sb3JzKSYmZC5jb2xvcnNbbiVkLmNvbG9ycy5sZW5ndGhdfHxkLnN0cm9rZWNvbG9yLGQudmlzaWJsZT1vLmV4aXN0cyhzLmJvcmRlcnMudmlzaWJsZSk/cy5ib3JkZXJzLnZpc2libGU6cy52aXNpYmxlLCExPT09ZC5zdHJva2Vjb2xvciYmKGQuc3Ryb2tlY29sb3I9XCJub25lXCIpLChhPWkuY3JlYXRlKFwic2VnbWVudFwiLFt0aGlzLnZlcnRpY2VzW25dLHRoaXMudmVydGljZXNbbisxXV0sZCkpLmR1bXA9ITEsdGhpcy5ib3JkZXJzW25dPWEsYS5wYXJlbnRQb2x5Z29uPXRoaXM7Zm9yKHRoaXMuaW5oZXJpdHMucHVzaCh0aGlzLnZlcnRpY2VzLHRoaXMuYm9yZGVycyksdGhpcy5pZD10aGlzLmJvYXJkLnNldElkKHRoaXMsXCJQeVwiKSxuPTA7bjx0aGlzLnZlcnRpY2VzLmxlbmd0aC0xO24rKyljPXRoaXMuYm9hcmQuc2VsZWN0KHRoaXMudmVydGljZXNbbl0pLG8uZXhpc3RzKGMuX2lzX25ldyk/KHRoaXMuYWRkQ2hpbGQoYyksZGVsZXRlIGMuX2lzX25ldyk6Yy5hZGRDaGlsZCh0aGlzKTt0aGlzLmJvYXJkLnJlbmRlcmVyLmRyYXdQb2x5Z29uKHRoaXMpLHRoaXMuYm9hcmQuZmluYWxpemVBZGRpbmcodGhpcyksdGhpcy5jcmVhdGVHcmFkaWVudCgpLHRoaXMuZWxUeXBlPVwicG9seWdvblwiLHRoaXMuY3JlYXRlTGFiZWwoKSx0aGlzLm1ldGhvZE1hcD10LmRlZXBDb3B5KHRoaXMubWV0aG9kTWFwLHtib3JkZXJzOlwiYm9yZGVyc1wiLHZlcnRpY2VzOlwidmVydGljZXNcIixBOlwiQXJlYVwiLEFyZWE6XCJBcmVhXCIsUGVyaW1ldGVyOlwiUGVyaW1ldGVyXCIsTDpcIlBlcmltZXRlclwiLExlbmd0aDpcIlBlcmltZXRlclwiLGJvdW5kaW5nQm94OlwiYm91bmRpbmdCb3hcIixib3VuZHM6XCJib3VuZHNcIixhZGRQb2ludHM6XCJhZGRQb2ludHNcIixpbnNlcnRQb2ludHM6XCJpbnNlcnRQb2ludHNcIixyZW1vdmVQb2ludHM6XCJyZW1vdmVQb2ludHNcIn0pfSx0LlBvbHlnb24ucHJvdG90eXBlPW5ldyBuLHQuZXh0ZW5kKHQuUG9seWdvbi5wcm90b3R5cGUse3BucG9seTpmdW5jdGlvbih0LHIscyl7dmFyIG8sbixhLGgsbCxjLGQ9dGhpcy52ZXJ0aWNlcyx1PSExO2ZvcihzPT09ZS5DT09SRFNfQllfVVNFUj8oaD0oYz1uZXcgaShlLkNPT1JEU19CWV9VU0VSLFt0LHJdLHRoaXMuYm9hcmQpKS5zY3JDb29yZHNbMV0sbD1jLnNjckNvb3Jkc1syXSk6KGg9dCxsPXIpLG89MCxuPShhPXRoaXMudmVydGljZXMubGVuZ3RoKS0yO288YS0xO249bysrKWRbb10uY29vcmRzLnNjckNvb3Jkc1syXT5sIT1kW25dLmNvb3Jkcy5zY3JDb29yZHNbMl0+bCYmaDwoZFtuXS5jb29yZHMuc2NyQ29vcmRzWzFdLWRbb10uY29vcmRzLnNjckNvb3Jkc1sxXSkqKGwtZFtvXS5jb29yZHMuc2NyQ29vcmRzWzJdKS8oZFtuXS5jb29yZHMuc2NyQ29vcmRzWzJdLWRbb10uY29vcmRzLnNjckNvb3Jkc1syXSkrZFtvXS5jb29yZHMuc2NyQ29vcmRzWzFdJiYodT0hdSk7cmV0dXJuIHV9LGhhc1BvaW50OmZ1bmN0aW9uKHQsZSl7dmFyIGkscjtpZihvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5oYXNpbm5lcnBvaW50cykmJnRoaXMucG5wb2x5KHQsZSkpcmV0dXJuITA7Zm9yKHI9dGhpcy5ib3JkZXJzLmxlbmd0aCxpPTA7aTxyO2krKylpZih0aGlzLmJvcmRlcnNbaV0uaGFzUG9pbnQodCxlKSlyZXR1cm4hMDtyZXR1cm4hMX0sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXt2YXIgdCxlO2lmKCF0aGlzLm5lZWRzVXBkYXRlKXJldHVybiB0aGlzO2lmKHRoaXMudmlzUHJvcENhbGMudmlzaWJsZSl7Zm9yKGU9dGhpcy52ZXJ0aWNlcy5sZW5ndGgsdGhpcy5pc1JlYWw9ITAsdD0wO3Q8ZTsrK3QpaWYoIXRoaXMudmVydGljZXNbdF0uaXNSZWFsKXt0aGlzLmlzUmVhbD0hMTticmVha310aGlzLmlzUmVhbHx8dGhpcy51cGRhdGVWaXNpYmlsaXR5KCExKX1yZXR1cm4gdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZVBvbHlnb24odGhpcyksdGhpcy5oYXNMYWJlbCYmdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmxhYmVsJiZ0aGlzLmxhYmVsLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMuaXNSZWFsJiYodGhpcy5sYWJlbC51cGRhdGUoKSx0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZVRleHQodGhpcy5sYWJlbCkpLHRoaXMuc2V0RGlzcGxheVJlbmROb2RlKCksdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzfSxnZXRUZXh0QW5jaG9yOmZ1bmN0aW9uKCl7dmFyIHQscixzLG8sbjtpZigwPT09dGhpcy52ZXJ0aWNlcy5sZW5ndGgpcmV0dXJuIG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzEsMCwwXSx0aGlzLmJvYXJkKTtmb3Iocz10PXRoaXMudmVydGljZXNbMF0uWCgpLG89cj10aGlzLnZlcnRpY2VzWzBdLlkoKSxuPTA7bjx0aGlzLnZlcnRpY2VzLmxlbmd0aDtuKyspdGhpcy52ZXJ0aWNlc1tuXS5YKCk8dCYmKHQ9dGhpcy52ZXJ0aWNlc1tuXS5YKCkpLHRoaXMudmVydGljZXNbbl0uWCgpPnMmJihzPXRoaXMudmVydGljZXNbbl0uWCgpKSx0aGlzLnZlcnRpY2VzW25dLlkoKT5yJiYocj10aGlzLnZlcnRpY2VzW25dLlkoKSksdGhpcy52ZXJ0aWNlc1tuXS5ZKCk8byYmKG89dGhpcy52ZXJ0aWNlc1tuXS5ZKCkpO3JldHVybiBuZXcgaShlLkNPT1JEU19CWV9VU0VSLFsuNSoodCtzKSwuNSoocitvKV0sdGhpcy5ib2FyZCl9LGdldExhYmVsQW5jaG9yOnQuc2hvcnRjdXQodC5Qb2x5Z29uLnByb3RvdHlwZSxcImdldFRleHRBbmNob3JcIiksY2xvbmVUb0JhY2tncm91bmQ6ZnVuY3Rpb24oKXt2YXIgdCxlPXt9O3JldHVybiBlLmlkPXRoaXMuaWQrXCJUXCIrdGhpcy5udW1UcmFjZXMsdGhpcy5udW1UcmFjZXMrKyxlLnZlcnRpY2VzPXRoaXMudmVydGljZXMsZS52aXNQcm9wPW8uZGVlcENvcHkodGhpcy52aXNQcm9wLHRoaXMudmlzUHJvcC50cmFjZWF0dHJpYnV0ZXMsITApLGUudmlzUHJvcC5sYXllcj10aGlzLmJvYXJkLm9wdGlvbnMubGF5ZXIudHJhY2UsZS5ib2FyZD10aGlzLmJvYXJkLG8uY2xlYXJWaXNQcm9wT2xkKGUpLGUudmlzUHJvcENhbGM9e3Zpc2libGU6by5ldmFsdWF0ZShlLnZpc1Byb3AudmlzaWJsZSl9LHQ9dGhpcy5ib2FyZC5yZW5kZXJlci5lbmhhbmNlZFJlbmRlcmluZyx0aGlzLmJvYXJkLnJlbmRlcmVyLmVuaGFuY2VkUmVuZGVyaW5nPSEwLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd1BvbHlnb24oZSksdGhpcy5ib2FyZC5yZW5kZXJlci5lbmhhbmNlZFJlbmRlcmluZz10LHRoaXMudHJhY2VzW2UuaWRdPWUucmVuZE5vZGUsdGhpc30saGlkZUVsZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIGk7aWYodC5kZXByZWNhdGVkKFwiRWxlbWVudC5oaWRlRWxlbWVudCgpXCIsXCJFbGVtZW50LnNldERpc3BsYXlSZW5kTm9kZSgpXCIpLHRoaXMudmlzUHJvcENhbGMudmlzaWJsZT0hMSx0aGlzLmJvYXJkLnJlbmRlcmVyLmRpc3BsYXkodGhpcywhMSksIWUpZm9yKGk9MDtpPHRoaXMuYm9yZGVycy5sZW5ndGg7aSsrKXRoaXMuYm9yZGVyc1tpXS5oaWRlRWxlbWVudCgpO3RoaXMuaGFzTGFiZWwmJm8uZXhpc3RzKHRoaXMubGFiZWwpJiYodGhpcy5sYWJlbC5oaWRkZW5CeVBhcmVudD0hMCx0aGlzLmxhYmVsLnZpc1Byb3BDYWxjLnZpc2libGUmJnRoaXMubGFiZWwuaGlkZUVsZW1lbnQoKSl9LHNob3dFbGVtZW50OmZ1bmN0aW9uKGUpe3ZhciBpO2lmKHQuZGVwcmVjYXRlZChcIkVsZW1lbnQuc2hvd0VsZW1lbnQoKVwiLFwiRWxlbWVudC5zZXREaXNwbGF5UmVuZE5vZGUoKVwiKSx0aGlzLnZpc1Byb3BDYWxjLnZpc2libGU9ITAsdGhpcy5ib2FyZC5yZW5kZXJlci5kaXNwbGF5KHRoaXMsITApLCFlKWZvcihpPTA7aTx0aGlzLmJvcmRlcnMubGVuZ3RoO2krKyl0aGlzLmJvcmRlcnNbaV0uc2hvd0VsZW1lbnQoKS51cGRhdGVSZW5kZXJlcigpO3JldHVybiBvLmV4aXN0cyh0aGlzLmxhYmVsKSYmdGhpcy5oYXNMYWJlbCYmdGhpcy5sYWJlbC5oaWRkZW5CeVBhcmVudCYmKHRoaXMubGFiZWwuaGlkZGVuQnlQYXJlbnQ9ITEsdGhpcy5sYWJlbC52aXNQcm9wQ2FsYy52aXNpYmxlfHx0aGlzLmxhYmVsLnNob3dFbGVtZW50KCkudXBkYXRlUmVuZGVyZXIoKSksdGhpc30sQXJlYTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyhzLnNpZ25lZFBvbHlnb24odGhpcy52ZXJ0aWNlcywhMCkpfSxQZXJpbWV0ZXI6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMudmVydGljZXMubGVuZ3RoLGk9MDtmb3IodD0xO3Q8ZTsrK3QpaSs9dGhpcy52ZXJ0aWNlc1t0XS5EaXN0KHRoaXMudmVydGljZXNbdC0xXSk7cmV0dXJuIGl9LGJvdW5kaW5nQm94OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPVswLDAsMCwwXSxyPXRoaXMudmVydGljZXMubGVuZ3RoLTE7aWYoMD09PXIpcmV0dXJuIGk7Zm9yKGlbMF09dGhpcy52ZXJ0aWNlc1swXS5YKCksaVsyXT1pWzBdLGlbMV09dGhpcy52ZXJ0aWNlc1swXS5ZKCksaVszXT1pWzFdLHQ9MTt0PHI7Kyt0KShlPXRoaXMudmVydGljZXNbdF0uWCgpKTxpWzBdP2lbMF09ZTplPmlbMl0mJihpWzJdPWUpLChlPXRoaXMudmVydGljZXNbdF0uWSgpKT5pWzFdP2lbMV09ZTplPGlbM10mJihpWzNdPWUpO3JldHVybiBpfSxib3VuZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveCgpfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgdDtmb3IodD0wO3Q8dGhpcy5ib3JkZXJzLmxlbmd0aDt0KyspdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy5ib3JkZXJzW3RdKTtuLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKX0sZmluZFBvaW50OmZ1bmN0aW9uKHQpe3ZhciBlO2lmKCFvLmlzUG9pbnQodCkpcmV0dXJuLTE7Zm9yKGU9MDtlPHRoaXMudmVydGljZXMubGVuZ3RoO2UrKylpZih0aGlzLnZlcnRpY2VzW2VdLmlkPT09dC5pZClyZXR1cm4gZTtyZXR1cm4tMX0sYWRkUG9pbnRzOmZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuaW5zZXJ0UG9pbnRzLmFwcGx5KHRoaXMsW3RoaXMudmVydGljZXMubGVuZ3RoLTJdLmNvbmNhdChlKSl9LGluc2VydFBvaW50czpmdW5jdGlvbih0LGUpe3ZhciBpLHI7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXM7aWYodDwtMXx8dD50aGlzLnZlcnRpY2VzLmxlbmd0aC0yKXJldHVybiB0aGlzO2ZvcihyPWFyZ3VtZW50cy5sZW5ndGgtMSxpPTE7aTxyKzE7aSsrKXRoaXMudmVydGljZXMuc3BsaWNlKHQraSwwLG8ucHJvdmlkZVBvaW50cyh0aGlzLmJvYXJkLFthcmd1bWVudHNbaV1dLHt9LFwicG9seWdvblwiLFtcInZlcnRpY2VzXCJdKVswXSk7aWYoLTE9PT10JiYodGhpcy52ZXJ0aWNlc1t0aGlzLnZlcnRpY2VzLmxlbmd0aC0xXT10aGlzLnZlcnRpY2VzWzBdKSx0aGlzLndpdGhMaW5lcylmb3IodDwwP3RoaXMuYm9yZGVyc1t0aGlzLmJvcmRlcnMubGVuZ3RoLTFdLnBvaW50Mj10aGlzLnZlcnRpY2VzW3RoaXMudmVydGljZXMubGVuZ3RoLTFdOnRoaXMuYm9yZGVyc1t0XS5wb2ludDI9dGhpcy52ZXJ0aWNlc1t0KzFdLGk9dCsxO2k8dCsxK3I7aSsrKXRoaXMuYm9yZGVycy5zcGxpY2UoaSwwLHRoaXMuYm9hcmQuY3JlYXRlKFwic2VnbWVudFwiLFt0aGlzLnZlcnRpY2VzW2ldLHRoaXMudmVydGljZXNbaSsxXV0sdGhpcy5hdHRyX2xpbmUpKTtyZXR1cm4gdGhpcy5ib2FyZC51cGRhdGUoKSx0aGlzfSxyZW1vdmVQb2ludHM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHM9W10sbj1bXSxhPVtdLGg9W107Zm9yKHRoaXMudmVydGljZXM9dGhpcy52ZXJ0aWNlcy5zbGljZSgwLHRoaXMudmVydGljZXMubGVuZ3RoLTEpLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXI9YXJndW1lbnRzW2VdLG8uaXNQb2ludChyKSYmKHI9dGhpcy5maW5kUG9pbnQocikpLG8uaXNOdW1iZXIocikmJnI+LTEmJnI8dGhpcy52ZXJ0aWNlcy5sZW5ndGgmJi0xPT09by5pbmRleE9mKGEscikmJmEucHVzaChyKTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKXRoaXMudmVydGljZXNbYVtlXV0ucmVtb3ZlQ2hpbGQodGhpcyk7Zm9yKGE9YS5zb3J0KCkscz10aGlzLnZlcnRpY2VzLnNsaWNlKCksbj10aGlzLmJvcmRlcnMuc2xpY2UoKSx0aGlzLndpdGhMaW5lcyYmaC5wdXNoKFthW2EubGVuZ3RoLTFdXSksZT1hLmxlbmd0aC0xO2U+LTE7ZS0tKXNbYVtlXV09LTEsdGhpcy53aXRoTGluZXMmJmFbZV0tMT5hW2UtMV0mJihoW2gubGVuZ3RoLTFdWzFdPWFbZV0saC5wdXNoKFthW2UtMV1dKSk7Zm9yKHRoaXMud2l0aExpbmVzJiYoaFtoLmxlbmd0aC0xXVsxXT1hWzBdKSx0aGlzLnZlcnRpY2VzPVtdLGU9MDtlPHMubGVuZ3RoO2UrKylvLmlzUG9pbnQoc1tlXSkmJnRoaXMudmVydGljZXMucHVzaChzW2VdKTtpZih0aGlzLnZlcnRpY2VzW3RoaXMudmVydGljZXMubGVuZ3RoLTFdLmlkIT09dGhpcy52ZXJ0aWNlc1swXS5pZCYmdGhpcy52ZXJ0aWNlcy5wdXNoKHRoaXMudmVydGljZXNbMF0pLHRoaXMud2l0aExpbmVzKXtmb3IoZT0wO2U8aC5sZW5ndGg7ZSsrKXtmb3IoaT1oW2VdWzFdLTE7aTxoW2VdWzBdKzE7aSsrKWk8MD8oaT0wLHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMuYm9yZGVyc1tuLmxlbmd0aC0xXSksbltuLmxlbmd0aC0xXT0tMSk6aT5uLmxlbmd0aC0xJiYoaT1uLmxlbmd0aC0xKSx0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0aGlzLmJvcmRlcnNbaV0pLG5baV09LTE7MCE9PWhbZV1bMV0mJmhbZV1bMF0hPT1zLmxlbmd0aC0xJiYobltoW2VdWzBdLTFdPXRoaXMuYm9hcmQuY3JlYXRlKFwic2VnbWVudFwiLFtzW01hdGgubWF4KGhbZV1bMV0tMSwwKV0sc1tNYXRoLm1pbihoW2VdWzBdKzEsdGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSldXSx0aGlzLmF0dHJfbGluZSkpfWZvcih0aGlzLmJvcmRlcnM9W10sZT0wO2U8bi5sZW5ndGg7ZSsrKS0xIT09bltlXSYmdGhpcy5ib3JkZXJzLnB1c2gobltlXSk7aFswXVsxXSE9PXRoaXMudmVydGljZXMubGVuZ3RoLTEmJjAhPT1oW2gubGVuZ3RoLTFdWzFdfHx0aGlzLmJvcmRlcnMucHVzaCh0aGlzLmJvYXJkLmNyZWF0ZShcInNlZ21lbnRcIixbdGhpcy52ZXJ0aWNlc1swXSx0aGlzLnZlcnRpY2VzW3RoaXMudmVydGljZXMubGVuZ3RoLTJdXSx0aGlzLmF0dHJfbGluZSkpfXJldHVybiB0aGlzLmJvYXJkLnVwZGF0ZSgpLHRoaXN9LGdldFBhcmVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRQYXJlbnRzKHRoaXMudmVydGljZXMpLHRoaXMucGFyZW50c30sZ2V0QXR0cmlidXRlczpmdW5jdGlvbigpe3ZhciB0LGU9bi5wcm90b3R5cGUuZ2V0QXR0cmlidXRlcy5jYWxsKHRoaXMpO2lmKHRoaXMud2l0aExpbmVzKWZvcihlLmxpbmVzPWUubGluZXN8fHt9LGUubGluZXMuaWRzPVtdLGUubGluZXMuY29sb3JzPVtdLHQ9MDt0PHRoaXMuYm9yZGVycy5sZW5ndGg7dCsrKWUubGluZXMuaWRzLnB1c2godGhpcy5ib3JkZXJzW3RdLmlkKSxlLmxpbmVzLmNvbG9ycy5wdXNoKHRoaXMuYm9yZGVyc1t0XS52aXNQcm9wLnN0cm9rZWNvbG9yKTtyZXR1cm4gZX0sc25hcFRvR3JpZDpmdW5jdGlvbigpe3ZhciB0LGU7Zm9yKGU9ISFvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwdG9ncmlkKSx0PTA7dDx0aGlzLnZlcnRpY2VzLmxlbmd0aDt0KyspdGhpcy52ZXJ0aWNlc1t0XS5oYW5kbGVTbmFwVG9HcmlkKGUsITApfSxzZXRQb3NpdGlvbkRpcmVjdGx5OmZ1bmN0aW9uKHQsZSxzKXt2YXIgbyxuLGEsaD1uZXcgaSh0LGUsdGhpcy5ib2FyZCksbD1uZXcgaSh0LHMsdGhpcy5ib2FyZCk7Zm9yKGE9dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSxuPTA7bjxhO24rKylpZighdGhpcy52ZXJ0aWNlc1tuXS5kcmFnZ2FibGUoKSlyZXR1cm4gdGhpcztyZXR1cm4gbz1yLnN1YnRyYWN0KGgudXNyQ29vcmRzLGwudXNyQ29vcmRzKSx0aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLG8uc2xpY2UoMSkse3R5cGU6XCJ0cmFuc2xhdGVcIn0pLmFwcGx5T25jZSh0aGlzLnZlcnRpY2VzLnNsaWNlKDAsLTEpKSx0aGlzfSxzdXRoZXJsYW5kSG9kZ21hbjpmdW5jdGlvbihlKXt2YXIgaSxyLHMsbyxuLGEsaCxsPXQuTWF0aC5HZW9tZXRyeS5zb3J0VmVydGljZXModGhpcy52ZXJ0aWNlcyksYz10Lk1hdGguR2VvbWV0cnkuc29ydFZlcnRpY2VzKGUudmVydGljZXMpLGQ9bC5sZW5ndGgtMSx1PWMubGVuZ3RoLTEscD1bXSxmPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4oZVsxXS10WzFdKSooaVsyXS10WzJdKS0oZVsyXS10WzJdKSooaVsxXS10WzFdKT49MH07Zm9yKHM9MDtzPHU7cysrKXAucHVzaChjW3NdKTtmb3Iocz0wO3M8ZDtzKyspZm9yKHI9cC5zbGljZSgwKSxwPVtdLG49clsoaT1yLmxlbmd0aCktMV0sbz0wO288aTtvKyspYT1yW29dLGYobFtzXSxsW3MrMV0sYSk/KGYobFtzXSxsW3MrMV0sbil8fCgoaD10Lk1hdGguR2VvbWV0cnkubWVldFNlZ21lbnRTZWdtZW50KG4sYSxsW3NdLGxbcysxXSkpWzBdWzFdLz1oWzBdWzBdLGhbMF1bMl0vPWhbMF1bMF0saFswXVswXT0xLHAucHVzaChoWzBdKSkscC5wdXNoKGEpKTpmKGxbc10sbFtzKzFdLG4pJiYoKGg9dC5NYXRoLkdlb21ldHJ5Lm1lZXRTZWdtZW50U2VnbWVudChuLGEsbFtzXSxsW3MrMV0pKVswXVsxXS89aFswXVswXSxoWzBdWzJdLz1oWzBdWzBdLGhbMF1bMF09MSxwLnB1c2goaFswXSkpLG49YTtyZXR1cm4gcH0saW50ZXJzZWN0OmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN1dGhlcmxhbmRIb2RnbWFuKHQpfX0pLHQuY3JlYXRlUG9seWdvbj1mdW5jdGlvbihpLHIscyl7dmFyIG4sYSxoLGwsYyxkLHU9W10scD0hMTtpZihvLmNvcHlBdHRyaWJ1dGVzKHMsaS5vcHRpb25zLFwicG9seWdvblwiKSxudWxsPT09KGw9aS5zZWxlY3QoclswXSkpJiYobD1yWzBdKSxvLmlzT2JqZWN0KGwpJiZsLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1BPTFlHT04mJm8uaXNUcmFuc2Zvcm1hdGlvbk9yQXJyYXkoclsxXSkpZm9yKHA9ITAsaD1sLnZlcnRpY2VzLmxlbmd0aC0xLGQ9by5jb3B5QXR0cmlidXRlcyhzLGkub3B0aW9ucyxcInBvbHlnb25cIixcInZlcnRpY2VzXCIpLGE9MDthPGg7YSsrKWQud2l0aGxhYmVsJiYoZC5uYW1lPVwiXCI9PT1sLnZlcnRpY2VzW2FdLm5hbWU/XCJcIjpsLnZlcnRpY2VzW2FdLm5hbWUrXCInXCIpLHUucHVzaChpLmNyZWF0ZShcInBvaW50XCIsW2wudmVydGljZXNbYV0sclsxXV0sZCkpO2Vsc2UgaWYoITE9PT0odT1vLnByb3ZpZGVQb2ludHMoaSxyLHMsXCJwb2x5Z29uXCIsW1widmVydGljZXNcIl0pKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHBvbHlnb24gLyBwb2x5Z29uYWxjaGFpbiB3aXRoIHBhcmVudCB0eXBlcyBvdGhlciB0aGFuICdwb2ludCcgYW5kICdjb29yZGluYXRlIGFycmF5cycgb3IgYSBmdW5jdGlvbiByZXR1cm5pbmcgYW4gYXJyYXkgb2YgY29vcmRpbmF0ZXMuIEFsdGVybmF0aXZlbHksIGEgcG9seWdvbiBhbmQgYSB0cmFuc2Zvcm1hdGlvbiBjYW4gYmUgc3VwcGxpZWRcIik7aWYoYz1vLmNvcHlBdHRyaWJ1dGVzKHMsaS5vcHRpb25zLFwicG9seWdvblwiKSwobj1uZXcgdC5Qb2x5Z29uKGksdSxjKSkuaXNEcmFnZ2FibGU9ITAscClmb3Iobi5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eSgpLnVwZGF0ZVJlbmRlcmVyKCksaD1sLnZlcnRpY2VzLmxlbmd0aC0xLGE9MDthPGg7YSsrKXVbYV0ucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkoKS51cGRhdGVSZW5kZXJlcigpO3JldHVybiBufSx0LmNyZWF0ZVJlZ3VsYXJQb2x5Z29uPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxuLGEsaCxsLGMsZCx1PVtdO2lmKGE9aVsobD1pLmxlbmd0aCktMV0sby5pc051bWJlcihhKSYmKDMhPT1pLmxlbmd0aHx8YTwzKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQSByZWd1bGFyIHBvbHlnb24gbmVlZHMgdHdvIHBvaW50IHR5cGVzIGFuZCBhIG51bWJlciA+IDIgYXMgaW5wdXQuXCIpO2lmKG8uaXNOdW1iZXIodC5zZWxlY3QoYSkpPyhsLS0sYz0hMSk6KGE9bCxjPSEwKSwhMT09PSh1PW8ucHJvdmlkZVBvaW50cyh0LGkuc2xpY2UoMCxsKSxyLFwicmVndWxhcnBvbHlnb25cIixbXCJ2ZXJ0aWNlc1wiXSkpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgcmVndWxhciBwb2x5Z29uIHdpdGggcGFyZW50IHR5cGVzIG90aGVyIHRoYW4gJ3BvaW50JyBhbmQgJ2Nvb3JkaW5hdGUgYXJyYXlzJyBvciBhIGZ1bmN0aW9uIHJldHVybmluZyBhbiBhcnJheSBvZiBjb29yZGluYXRlc1wiKTtmb3IoZD1vLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwicmVndWxhcnBvbHlnb25cIixcInZlcnRpY2VzXCIpLG49MjtuPGE7bisrKWg9dC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbTWF0aC5QSSooMi0oYS0yKS9hKSx1W24tMV1dLHt0eXBlOlwicm90YXRlXCJ9KSxjPyh1W25dLmFkZFRyYW5zZm9ybSh1W24tMl0saCksdVtuXS5mdWxsVXBkYXRlKCkpOihvLmlzQXJyYXkoZC5pZHMpJiZkLmlkcy5sZW5ndGg+PWEtMiYmKGQuaWQ9ZC5pZHNbbi0yXSksdVtuXT10LmNyZWF0ZShcInBvaW50XCIsW3Vbbi0yXSxoXSxkKSx1W25dLnR5cGU9ZS5PQkpFQ1RfVFlQRV9DQVMsdVtuXS5pc0RyYWdnYWJsZT0hMCx1W25dLnZpc1Byb3AuZml4ZWQ9ITEpO3JldHVybiBkPW8uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJyZWd1bGFycG9seWdvblwiKSwocz10LmNyZWF0ZShcInBvbHlnb25cIix1LGQpKS5lbFR5cGU9XCJyZWd1bGFycG9seWdvblwiLHN9LHQuY3JlYXRlUG9seWdvbmFsQ2hhaW49ZnVuY3Rpb24odCxlLGkpe3ZhciByLHM7cmV0dXJuIHI9by5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcInBvbHlnb25hbGNoYWluXCIpLChzPXQuY3JlYXRlKFwicG9seWdvblwiLGUscikpLmVsVHlwZT1cInBvbHlnb25hbGNoYWluXCIscy52ZXJ0aWNlcy5wb3AoKSx0LnJlbW92ZU9iamVjdChzLmJvcmRlcnNbcy5ib3JkZXJzLmxlbmd0aC0xXSkscy5ib3JkZXJzLnBvcCgpLHN9LHQucmVnaXN0ZXJFbGVtZW50KFwicG9seWdvblwiLHQuY3JlYXRlUG9seWdvbiksdC5yZWdpc3RlckVsZW1lbnQoXCJyZWd1bGFycG9seWdvblwiLHQuY3JlYXRlUmVndWxhclBvbHlnb24pLHQucmVnaXN0ZXJFbGVtZW50KFwicG9seWdvbmFsY2hhaW5cIix0LmNyZWF0ZVBvbHlnb25hbENoYWluKSx7UG9seWdvbjp0LlBvbHlnb24sY3JlYXRlUG9seWdvbjp0LmNyZWF0ZVBvbHlnb24sY3JlYXRlUmVndWxhclBvbHlnb246dC5jcmVhdGVSZWd1bGFyUG9seWdvbn19KSksZGVmaW5lKFwiYmFzZS9jdXJ2ZVwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJiYXNlL2VsZW1lbnRcIixcIm1hdGgvbWF0aFwiLFwibWF0aC9udW1lcmljc1wiLFwibWF0aC9wbG90XCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJwYXJzZXIvZ2VvbmV4dFwiLFwidXRpbHMvdHlwZVwiLFwibWF0aC9xZHRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4sYSxoLGwsYyl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ3VydmU9ZnVuY3Rpb24odCxpLHIpe3RoaXMuY29uc3RydWN0b3IodCxyLGUuT0JKRUNUX1RZUEVfQ1VSVkUsZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUpLHRoaXMucG9pbnRzPVtdLHRoaXMubnVtYmVyUG9pbnRzPWwuZXZhbHVhdGUodGhpcy52aXNQcm9wLm51bWJlcnBvaW50c2hpZ2gpLHRoaXMuYmV6aWVyRGVncmVlPTEsdGhpcy5kYXRhWD1udWxsLHRoaXMuZGF0YVk9bnVsbCx0aGlzLnRpY2tzPVtdLHRoaXMucWR0PW51bGwsbC5leGlzdHMoaVswXSk/dGhpcy52YXJuYW1lPWlbMF06dGhpcy52YXJuYW1lPVwieFwiLHRoaXMueHRlcm09aVsxXSx0aGlzLnl0ZXJtPWlbMl0sdGhpcy5nZW5lcmF0ZVRlcm0odGhpcy52YXJuYW1lLHRoaXMueHRlcm0sdGhpcy55dGVybSxpWzNdLGlbNF0pLHRoaXMudXBkYXRlQ3VydmUoKSx0aGlzLmlkPXRoaXMuYm9hcmQuc2V0SWQodGhpcyxcIkdcIiksdGhpcy5ib2FyZC5yZW5kZXJlci5kcmF3Q3VydmUodGhpcyksdGhpcy5ib2FyZC5maW5hbGl6ZUFkZGluZyh0aGlzKSx0aGlzLmNyZWF0ZUdyYWRpZW50KCksdGhpcy5lbFR5cGU9XCJjdXJ2ZVwiLHRoaXMuY3JlYXRlTGFiZWwoKSxsLmlzU3RyaW5nKHRoaXMueHRlcm0pJiZ0aGlzLm5vdGlmeVBhcmVudHModGhpcy54dGVybSksbC5pc1N0cmluZyh0aGlzLnl0ZXJtKSYmdGhpcy5ub3RpZnlQYXJlbnRzKHRoaXMueXRlcm0pLHRoaXMubWV0aG9kTWFwPWwuZGVlcENvcHkodGhpcy5tZXRob2RNYXAse2dlbmVyYXRlVGVybTpcImdlbmVyYXRlVGVybVwiLHNldFRlcm06XCJnZW5lcmF0ZVRlcm1cIixtb3ZlOlwibW92ZVRvXCIsbW92ZVRvOlwibW92ZVRvXCJ9KX0sdC5DdXJ2ZS5wcm90b3R5cGU9bmV3IHIsdC5leHRlbmQodC5DdXJ2ZS5wcm90b3R5cGUse21pblg6ZnVuY3Rpb24oKXtyZXR1cm5cInBvbGFyXCI9PT1sLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5jdXJ2ZXR5cGUpPzA6bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFsuMSotdGhpcy5ib2FyZC5jYW52YXNXaWR0aCwwXSx0aGlzLmJvYXJkLCExKS51c3JDb29yZHNbMV19LG1heFg6ZnVuY3Rpb24oKXtyZXR1cm5cInBvbGFyXCI9PT1sLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5jdXJ2ZXR5cGUpPzIqTWF0aC5QSTpuZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sWzEuMSp0aGlzLmJvYXJkLmNhbnZhc1dpZHRoLDBdLHRoaXMuYm9hcmQsITEpLnVzckNvb3Jkc1sxXX0sWDpmdW5jdGlvbih0KXtyZXR1cm4gTmFOfSxZOmZ1bmN0aW9uKHQpe3JldHVybiBOYU59LFo6ZnVuY3Rpb24odCl7cmV0dXJuIDF9LGhhc1BvaW50OmZ1bmN0aW9uKHQscixvKXt2YXIgbixoLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4PVtdLFM9bC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubnVtYmVycG9pbnRzbG93KSxPPSh0aGlzLm1heFgoKS10aGlzLm1pblgoKSkvUyx3PTEvMDtpZihsLmlzT2JqZWN0KGwuZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbikpPyh5PXRoaXMuYm9hcmQuX2lucHV0RGV2aWNlLHY9bC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uW3ldKSk6dj10aGlzLmJvYXJkLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50LHQ9KGg9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFt0LHJdLHRoaXMuYm9hcmQsITEpKS51c3JDb29yZHNbMV0scj1oLnVzckNvb3Jkc1syXSx2Kz0uNSpsLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdHJva2V3aWR0aCksdio9dixDPXRoaXMuYm9hcmQudW5pdFgqdGhpcy5ib2FyZC51bml0WCxfPXRoaXMuYm9hcmQudW5pdFkqdGhpcy5ib2FyZC51bml0WSxFPXRoaXMubWluWCgpLHRoaXMubWF4WCgpLGwuZXhpc3RzKHRoaXMuX3Zpc2libGVBcmVhKSYmKEU9dGhpcy5fdmlzaWJsZUFyZWFbMF0sTz0odGhpcy5fdmlzaWJsZUFyZWFbMV0tRSkvUyksXCJwYXJhbWV0ZXJcIj09PShQPWwuZXZhbHVhdGUodGhpcy52aXNQcm9wLmN1cnZldHlwZSkpfHxcInBvbGFyXCI9PT1QKWZvcih0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg+MCYmKHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksZD1zLmludmVyc2UodGhpcy50cmFuc2Zvcm1NYXQpLHQ9KHU9cy5tYXRWZWNNdWx0KGQsWzEsdCxyXSkpWzFdLHI9dVsyXSkscD0wLG49RTtwPFM7cCsrKXtpZigodz0odC0oZj10aGlzLlgobix0cnVlKSkpKih0LWYpKkMrKHItKG09dGhpcy5ZKG4sdHJ1ZSkpKSooci1tKSpfKTw9dilyZXR1cm4hMDtuKz1PfWVsc2UgaWYoXCJwbG90XCI9PT1QfHxcImZ1bmN0aW9uZ3JhcGhcIj09PVApe2ZvcigoIWwuZXhpc3RzKG8pfHxvPDApJiYobz0wKSxsLmV4aXN0cyh0aGlzLnFkdCkmJmwuZXZhbHVhdGUodGhpcy52aXNQcm9wLnVzZXFkdCkmJjMhPT10aGlzLmJlemllckRlZ3JlZT9jPShnPShiPXRoaXMucWR0LnF1ZXJ5KG5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsW3Qscl0sdGhpcy5ib2FyZCkpKS5wb2ludHMpLmxlbmd0aDooZz10aGlzLnBvaW50cyxjPXRoaXMubnVtYmVyUG9pbnRzLTEpLHA9bztwPGM7cCsrKWlmKDM9PT10aGlzLmJlemllckRlZ3JlZT94LnB1c2goYS5wcm9qZWN0Q29vcmRzVG9CZXppZXJzZWdtZW50KFsxLHQscl0sdGhpcyxwKSk6Yj8oZ1twXS5wcmV2JiYoeD1hLnByb2plY3RDb29yZHNUb1NlZ21lbnQoWzEsdCxyXSxnW3BdLnByZXYudXNyQ29vcmRzLGdbcF0udXNyQ29vcmRzKSksZ1twXS5uZXh0JiZnW3ArMV0hPT1nW3BdLm5leHQmJih4PWEucHJvamVjdENvb3Jkc1RvU2VnbWVudChbMSx0LHJdLGdbcF0udXNyQ29vcmRzLGdbcF0ubmV4dC51c3JDb29yZHMpKSk6eD1hLnByb2plY3RDb29yZHNUb1NlZ21lbnQoWzEsdCxyXSxnW3BdLnVzckNvb3JkcyxnW3ArMV0udXNyQ29vcmRzKSx4WzFdPj0wJiZ4WzFdPD0xJiYodC14WzBdWzFdKSoodC14WzBdWzFdKSpDKyhyLXhbMF1bMl0pKihyLXhbMF1bMl0pKl88PXYpcmV0dXJuITA7cmV0dXJuITF9cmV0dXJuIHc8dn0sYWxsb2NhdGVQb2ludHM6ZnVuY3Rpb24oKXt2YXIgdCxyO2lmKHI9dGhpcy5udW1iZXJQb2ludHMsdGhpcy5wb2ludHMubGVuZ3RoPHRoaXMubnVtYmVyUG9pbnRzKWZvcih0PXRoaXMucG9pbnRzLmxlbmd0aDt0PHI7dCsrKXRoaXMucG9pbnRzW3RdPW5ldyBpKGUuQ09PUkRTX0JZX1VTRVIsWzAsMF0sdGhpcy5ib2FyZCwhMSl9LHVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlJiYobC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudHJhY2UpJiZ0aGlzLmNsb25lVG9CYWNrZ3JvdW5kKCEwKSx0aGlzLnVwZGF0ZUN1cnZlKCkpLHRoaXN9LHVwZGF0ZVJlbmRlcmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGU/KHRoaXMudmlzUHJvcENhbGMudmlzaWJsZSYmKHRoaXMuaXNSZWFsPW4uY2hlY2tSZWFsKHRoaXMucG9pbnRzKSx0aGlzLmlzUmVhbHx8dGhpcy51cGRhdGVWaXNpYmlsaXR5KCExKSksdGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZUN1cnZlKHRoaXMpLHRoaXMuaGFzTGFiZWwmJnRoaXMudmlzUHJvcENhbGMudmlzaWJsZSYmdGhpcy5sYWJlbCYmdGhpcy5sYWJlbC52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmlzUmVhbCYmKHRoaXMubGFiZWwudXBkYXRlKCksdGhpcy5ib2FyZC5yZW5kZXJlci51cGRhdGVUZXh0KHRoaXMubGFiZWwpKSx0aGlzLnNldERpc3BsYXlSZW5kTm9kZSgpLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcyk6dGhpc30sdXBkYXRlRGF0YUFycmF5OmZ1bmN0aW9uKCl7fSx1cGRhdGVDdXJ2ZTpmdW5jdGlvbigpe3ZhciB0LGkscixzLGEsaCxkPXRoaXMudmlzUHJvcC5wbG90dmVyc2lvbix1PSExO2lmKHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy51cGRhdGVEYXRhQXJyYXkoKSxpPXRoaXMubWluWCgpLHI9dGhpcy5tYXhYKCksbC5leGlzdHModGhpcy5kYXRhWCkpZm9yKHRoaXMubnVtYmVyUG9pbnRzPXRoaXMuZGF0YVgubGVuZ3RoLHQ9dGhpcy5udW1iZXJQb2ludHMsdGhpcy5hbGxvY2F0ZVBvaW50cygpLGg9MDtoPHQ7aCsrKXM9aCxsLmV4aXN0cyh0aGlzLmRhdGFZKT8oYT1oLHRoaXMucG9pbnRzW2hdLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsW3RoaXMuZGF0YVhbaF0sdGhpcy5kYXRhWVtoXV0sITEpKTooYT10aGlzLlgocyksdGhpcy5wb2ludHNbaF0uc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixbdGhpcy5kYXRhWFtoXSx0aGlzLlkoYSx1KV0sITEpKSx0aGlzLnBvaW50c1toXS5fdD1oLHU9ITA7ZWxzZSBpZihsLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kb2FkdmFuY2VkcGxvdCk/MT09PWR8fGwuZXZhbHVhdGUodGhpcy52aXNQcm9wLmRvYWR2YW5jZWRwbG90b2xkKT9uLnVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZU9sZCh0aGlzLGkscik6Mj09PWQ/bi51cGRhdGVQYXJhbWV0cmljQ3VydmVfdjIodGhpcyxpLHIpOjM9PT1kP24udXBkYXRlUGFyYW1ldHJpY0N1cnZlX3YzKHRoaXMsaSxyKTo0PT09ZD9uLnVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZV92NCh0aGlzLGkscik6bi51cGRhdGVQYXJhbWV0cmljQ3VydmVfdjIodGhpcyxpLHIpOih0aGlzLmJvYXJkLnVwZGF0ZVF1YWxpdHk9PT10aGlzLmJvYXJkLkJPQVJEX1FVQUxJVFlfSElHSD90aGlzLm51bWJlclBvaW50cz1sLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5udW1iZXJwb2ludHNoaWdoKTp0aGlzLm51bWJlclBvaW50cz1sLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5udW1iZXJwb2ludHNsb3cpLHRoaXMuYWxsb2NhdGVQb2ludHMoKSxuLnVwZGF0ZVBhcmFtZXRyaWNDdXJ2ZU5haXZlKHRoaXMsaSxyLHRoaXMubnVtYmVyUG9pbnRzKSksdD10aGlzLm51bWJlclBvaW50cyxsLmV2YWx1YXRlKHRoaXMudmlzUHJvcC51c2VxZHQpJiZ0aGlzLmJvYXJkLnVwZGF0ZVF1YWxpdHk9PT10aGlzLmJvYXJkLkJPQVJEX1FVQUxJVFlfSElHSClmb3IodGhpcy5xZHQ9bmV3IGModGhpcy5ib2FyZC5nZXRCb3VuZGluZ0JveCgpKSxoPTA7aDx0aGlzLnBvaW50cy5sZW5ndGg7aCsrKXRoaXMucWR0Lmluc2VydCh0aGlzLnBvaW50c1toXSksaD4wJiYodGhpcy5wb2ludHNbaF0ucHJldj10aGlzLnBvaW50c1toLTFdKSxoPHQtMSYmKHRoaXMucG9pbnRzW2hdLm5leHQ9dGhpcy5wb2ludHNbaCsxXSk7Zm9yKFwicGxvdFwiIT09bC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuY3VydmV0eXBlKSYmbC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucmRwc21vb3RoaW5nKSYmKHRoaXMucG9pbnRzPW8uUmFtZXJEb3VnbGFzUGV1Y2tlcih0aGlzLnBvaW50cywuMiksdGhpcy5udW1iZXJQb2ludHM9dGhpcy5wb2ludHMubGVuZ3RoKSx0PXRoaXMubnVtYmVyUG9pbnRzLGg9MDtoPHQ7aCsrKXRoaXMudXBkYXRlVHJhbnNmb3JtKHRoaXMucG9pbnRzW2hdKTtyZXR1cm4gdGhpc30sdXBkYXRlVHJhbnNmb3JtTWF0cml4OmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMudHJhbnNmb3JtYXRpb25zLmxlbmd0aDtmb3IodGhpcy50cmFuc2Zvcm1NYXQ9W1sxLDAsMF0sWzAsMSwwXSxbMCwwLDFdXSxlPTA7ZTxpO2UrKykodD10aGlzLnRyYW5zZm9ybWF0aW9uc1tlXSkudXBkYXRlKCksdGhpcy50cmFuc2Zvcm1NYXQ9cy5tYXRNYXRNdWx0KHQubWF0cml4LHRoaXMudHJhbnNmb3JtTWF0KTtyZXR1cm4gdGhpc30sdXBkYXRlVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiB0aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg+MCYmKGk9cy5tYXRWZWNNdWx0KHRoaXMudHJhbnNmb3JtTWF0LHQudXNyQ29vcmRzKSx0LnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIsaSwhMSwhMCkpLHR9LGFkZFRyYW5zZm9ybTpmdW5jdGlvbih0KXt2YXIgZSxpPWwuaXNBcnJheSh0KT90Olt0XSxyPWkubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrKyl0aGlzLnRyYW5zZm9ybWF0aW9ucy5wdXNoKGlbZV0pO3JldHVybiB0aGlzfSxpbnRlcnBvbGF0aW9uRnVuY3Rpb25Gcm9tQXJyYXk6ZnVuY3Rpb24odCl7dmFyIGU9XCJkYXRhXCIrdCxpPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIHMsbyxuLGEsaD1pW2VdLGM9aC5sZW5ndGgsZD1bXTtpZihpc05hTih0KSlyZXR1cm4gTmFOO2lmKHQ8MClyZXR1cm4gbC5pc0Z1bmN0aW9uKGhbMF0pP2hbMF0oKTpoWzBdO2lmKDM9PT1pLmJlemllckRlZ3JlZSl7aWYodD49KGMtMSkvMylyZXR1cm4gbC5pc0Z1bmN0aW9uKGhbaC5sZW5ndGgtMV0pP2hbaC5sZW5ndGgtMV0oKTpoW2gubGVuZ3RoLTFdO2ZvcihzPTMqTWF0aC5mbG9vcih0KSxhPTEtKG49dCUxKSxvPTA7bzw0O28rKylsLmlzRnVuY3Rpb24oaFtzK29dKT9kW29dPWhbcytvXSgpOmRbb109aFtzK29dO3JldHVybiBhKmEqKGEqZFswXSszKm4qZFsxXSkrKDMqYSpkWzJdK24qZFszXSkqbipufWlmKChzPXQ+Yy0yP2MtMjpwYXJzZUludChNYXRoLmZsb29yKHQpLDEwKSk9PT10KXJldHVybiBsLmlzRnVuY3Rpb24oaFtzXSk/aFtzXSgpOmhbc107Zm9yKG89MDtvPDI7bysrKWwuaXNGdW5jdGlvbihoW3Mrb10pP2Rbb109aFtzK29dKCk6ZFtvXT1oW3Mrb107cmV0dXJuIGRbMF0rKGRbMV0tZFswXSkqKHQtcyl9fSxnZW5lcmF0ZVRlcm06ZnVuY3Rpb24odCxlLGkscixzKXt2YXIgbyxuO2wuaXNBcnJheShlKT8odGhpcy5kYXRhWD1lLHRoaXMubnVtYmVyUG9pbnRzPXRoaXMuZGF0YVgubGVuZ3RoLHRoaXMuWD10aGlzLmludGVycG9sYXRpb25GdW5jdGlvbkZyb21BcnJheS5hcHBseSh0aGlzLFtcIlhcIl0pLHRoaXMudmlzUHJvcC5jdXJ2ZXR5cGU9XCJwbG90XCIsdGhpcy5pc0RyYWdnYWJsZT0hMCk6KHRoaXMuWD1sLmNyZWF0ZUZ1bmN0aW9uKGUsdGhpcy5ib2FyZCx0KSxsLmlzU3RyaW5nKGUpP3RoaXMudmlzUHJvcC5jdXJ2ZXR5cGU9XCJmdW5jdGlvbmdyYXBoXCI6KGwuaXNGdW5jdGlvbihlKXx8bC5pc051bWJlcihlKSkmJih0aGlzLnZpc1Byb3AuY3VydmV0eXBlPVwicGFyYW1ldGVyXCIpLHRoaXMuaXNEcmFnZ2FibGU9ITApLGwuaXNBcnJheShpKT8odGhpcy5kYXRhWT1pLHRoaXMuWT10aGlzLmludGVycG9sYXRpb25GdW5jdGlvbkZyb21BcnJheS5hcHBseSh0aGlzLFtcIllcIl0pKTp0aGlzLlk9bC5jcmVhdGVGdW5jdGlvbihpLHRoaXMuYm9hcmQsdCksbC5pc0Z1bmN0aW9uKGUpJiZsLmlzQXJyYXkoaSkmJihvPWwuY3JlYXRlRnVuY3Rpb24oaVswXSx0aGlzLmJvYXJkLFwiXCIpLG49bC5jcmVhdGVGdW5jdGlvbihpWzFdLHRoaXMuYm9hcmQsXCJcIiksdGhpcy5YPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpKk1hdGguY29zKHQpK28oKX0sdGhpcy5ZPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpKk1hdGguc2luKHQpK24oKX0sdGhpcy52aXNQcm9wLmN1cnZldHlwZT1cInBvbGFyXCIpLGwuZXhpc3RzKHIpJiYodGhpcy5taW5YPWwuY3JlYXRlRnVuY3Rpb24ocix0aGlzLmJvYXJkLFwiXCIpKSxsLmV4aXN0cyhzKSYmKHRoaXMubWF4WD1sLmNyZWF0ZUZ1bmN0aW9uKHMsdGhpcy5ib2FyZCxcIlwiKSl9LG5vdGlmeVBhcmVudHM6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHM9ITE7Zm9yKGUgaW4gcj17eHRlcm06MSx5dGVybToxfSlpZihyLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzW2VdLm9yaWdpbilmb3IoaSBpbiBzPSEwLHRoaXNbZV0ub3JpZ2luLmRlcHMpdGhpc1tlXS5vcmlnaW4uZGVwcy5oYXNPd25Qcm9wZXJ0eShpKSYmdGhpc1tlXS5vcmlnaW4uZGVwc1tpXS5hZGRDaGlsZCh0aGlzKTtzfHxoLmZpbmREZXBlbmRlbmNpZXModGhpcyx0LHRoaXMuYm9hcmQpfSxnZXRMYWJlbEFuY2hvcjpmdW5jdGlvbigpe3ZhciB0LHIscyxvPS4wNSp0aGlzLmJvYXJkLmNhbnZhc1dpZHRoLG49LjA1KnRoaXMuYm9hcmQuY2FudmFzSGVpZ2h0LGg9Ljk1KnRoaXMuYm9hcmQuY2FudmFzV2lkdGgsYz0uOTUqdGhpcy5ib2FyZC5jYW52YXNIZWlnaHQ7c3dpdGNoKGwuZXZhbHVhdGUodGhpcy52aXNQcm9wLmxhYmVsLnBvc2l0aW9uKSl7Y2FzZVwidWxmdFwiOnI9byxzPW47YnJlYWs7Y2FzZVwibGxmdFwiOnI9byxzPWM7YnJlYWs7Y2FzZVwicnRcIjpyPWgscz0uNSpjO2JyZWFrO2Nhc2VcImxydFwiOnI9aCxzPWM7YnJlYWs7Y2FzZVwidXJ0XCI6cj1oLHM9bjticmVhaztjYXNlXCJ0b3BcIjpyPS41Kmgscz1uO2JyZWFrO2Nhc2VcImJvdFwiOnI9LjUqaCxzPWM7YnJlYWs7ZGVmYXVsdDpyPW8scz0uNSpjfXJldHVybiB0PW5ldyBpKGUuQ09PUkRTX0JZX1NDUkVFTixbcixzXSx0aGlzLmJvYXJkLCExKSxhLnByb2plY3RDb29yZHNUb0N1cnZlKHQudXNyQ29vcmRzWzFdLHQudXNyQ29vcmRzWzJdLDAsdGhpcyx0aGlzLmJvYXJkKVswXX0sY2xvbmVUb0JhY2tncm91bmQ6ZnVuY3Rpb24oKXt2YXIgdCxpPXtpZDp0aGlzLmlkK1wiVFwiK3RoaXMubnVtVHJhY2VzLGVsZW1lbnRDbGFzczplLk9CSkVDVF9DTEFTU19DVVJWRSxwb2ludHM6dGhpcy5wb2ludHMuc2xpY2UoMCksYmV6aWVyRGVncmVlOnRoaXMuYmV6aWVyRGVncmVlLG51bWJlclBvaW50czp0aGlzLm51bWJlclBvaW50cyxib2FyZDp0aGlzLmJvYXJkLHZpc1Byb3A6bC5kZWVwQ29weSh0aGlzLnZpc1Byb3AsdGhpcy52aXNQcm9wLnRyYWNlYXR0cmlidXRlcywhMCl9O3JldHVybiBpLnZpc1Byb3AubGF5ZXI9dGhpcy5ib2FyZC5vcHRpb25zLmxheWVyLnRyYWNlLGkudmlzUHJvcC5jdXJ2ZXR5cGU9dGhpcy52aXNQcm9wLmN1cnZldHlwZSx0aGlzLm51bVRyYWNlcysrLGwuY2xlYXJWaXNQcm9wT2xkKGkpLGkudmlzUHJvcENhbGM9e3Zpc2libGU6bC5ldmFsdWF0ZShpLnZpc1Byb3AudmlzaWJsZSl9LHQ9dGhpcy5ib2FyZC5yZW5kZXJlci5lbmhhbmNlZFJlbmRlcmluZyx0aGlzLmJvYXJkLnJlbmRlcmVyLmVuaGFuY2VkUmVuZGVyaW5nPSEwLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd0N1cnZlKGkpLHRoaXMuYm9hcmQucmVuZGVyZXIuZW5oYW5jZWRSZW5kZXJpbmc9dCx0aGlzLnRyYWNlc1tpLmlkXT1pLnJlbmROb2RlLHRoaXN9LGJvdW5kczpmdW5jdGlvbigpe3ZhciB0LGUsaSxyPTEvMCxzPS0xLzAsbj0xLzAsYT0tMS8wLGg9dGhpcy5wb2ludHMubGVuZ3RoO2lmKDM9PT10aGlzLmJlemllckRlZ3JlZSl7Zm9yKHQ9MDt0PGg7dCsrKXRoaXMucG9pbnRzW3RdLlg9bC5iaW5kKChmdW5jdGlvbigpe3JldHVybiB0aGlzLnVzckNvb3Jkc1sxXX0pLHRoaXMucG9pbnRzW3RdKSx0aGlzLnBvaW50c1t0XS5ZPWwuYmluZCgoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51c3JDb29yZHNbMl19KSx0aGlzLnBvaW50c1t0XSk7cmV0dXJuIGk9KGU9by5iZXppZXIodGhpcy5wb2ludHMpKVszXSgpLHI9by5mbWluYnIoKGZ1bmN0aW9uKHQpe3JldHVybiBlWzBdKHQpfSksWzAsaV0pLHM9by5mbWluYnIoKGZ1bmN0aW9uKHQpe3JldHVybi1lWzBdKHQpfSksWzAsaV0pLG49by5mbWluYnIoKGZ1bmN0aW9uKHQpe3JldHVybiBlWzFdKHQpfSksWzAsaV0pLGE9by5mbWluYnIoKGZ1bmN0aW9uKHQpe3JldHVybi1lWzFdKHQpfSksWzAsaV0pLHI9ZVswXShyKSxzPWVbMF0ocyksbj1lWzFdKG4pLFtyLGE9ZVsxXShhKSxzLG5dfWZvcih0PTA7dDxoO3QrKylyPnRoaXMucG9pbnRzW3RdLnVzckNvb3Jkc1sxXSYmKHI9dGhpcy5wb2ludHNbdF0udXNyQ29vcmRzWzFdKSxzPHRoaXMucG9pbnRzW3RdLnVzckNvb3Jkc1sxXSYmKHM9dGhpcy5wb2ludHNbdF0udXNyQ29vcmRzWzFdKSxuPnRoaXMucG9pbnRzW3RdLnVzckNvb3Jkc1syXSYmKG49dGhpcy5wb2ludHNbdF0udXNyQ29vcmRzWzJdKSxhPHRoaXMucG9pbnRzW3RdLnVzckNvb3Jkc1syXSYmKGE9dGhpcy5wb2ludHNbdF0udXNyQ29vcmRzWzJdKTtyZXR1cm5bcixhLHMsbl19LGdldFBhcmVudHM6ZnVuY3Rpb24oKXt2YXIgdD1bdGhpcy54dGVybSx0aGlzLnl0ZXJtLHRoaXMubWluWCgpLHRoaXMubWF4WCgpXTtyZXR1cm4gMCE9PXRoaXMucGFyZW50cy5sZW5ndGgmJih0PXRoaXMucGFyZW50cyksdH0sbW92ZVRvOmZ1bmN0aW9uKHQpe3ZhciBpLHI9W107cmV0dXJuIHRoaXMucG9pbnRzLmxlbmd0aD4wJiYhbC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZml4ZWQpJiYoaT10aGlzLnBvaW50c1swXSxyPTM9PT10Lmxlbmd0aD9bdFswXS1pLnVzckNvb3Jkc1swXSx0WzFdLWkudXNyQ29vcmRzWzFdLHRbMl0taS51c3JDb29yZHNbMl1dOlt0WzBdLWkudXNyQ29vcmRzWzFdLHRbMV0taS51c3JDb29yZHNbMl1dLHRoaXMuc2V0UG9zaXRpb24oZS5DT09SRFNfQllfVVNFUixyKSksdGhpc30sZ2V0VHJhbnNmb3JtYXRpb25Tb3VyY2U6ZnVuY3Rpb24oKXt2YXIgdCxpO3JldHVybiBsLmV4aXN0cyh0aGlzLl90cmFuc2Zvcm1hdGlvblNvdXJjZSkmJihpPXRoaXMuX3RyYW5zZm9ybWF0aW9uU291cmNlKS5lbGVtZW50Q2xhc3M9PT1lLk9CSkVDVF9DTEFTU19DVVJWRSYmKHQ9ITApLFt0LGldfX0pLHQuY3JlYXRlQ3VydmU9ZnVuY3Rpb24oaSxyLHMpe3ZhciBvLG4sYT1sLmNvcHlBdHRyaWJ1dGVzKHMsaS5vcHRpb25zLFwiY3VydmVcIik7cmV0dXJuIG89aS5zZWxlY3QoclswXSwhMCksbC5pc09iamVjdChvKSYmKG8udHlwZT09PWUuT0JKRUNUX1RZUEVfQ1VSVkV8fG8udHlwZT09PWUuT0JKRUNUX1RZUEVfQU5HTEV8fG8udHlwZT09PWUuT0JKRUNUX1RZUEVfQVJDfHxvLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0NPTklDfHxvLnR5cGU9PT1lLk9CSkVDVF9UWVBFX1NFQ1RPUikmJmwuaXNUcmFuc2Zvcm1hdGlvbk9yQXJyYXkoclsxXSk/KG8udHlwZT09PWUuT0JKRUNUX1RZUEVfU0VDVE9SP2E9bC5jb3B5QXR0cmlidXRlcyhzLGkub3B0aW9ucyxcInNlY3RvclwiKTpvLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0FSQz9hPWwuY29weUF0dHJpYnV0ZXMocyxpLm9wdGlvbnMsXCJhcmNcIik6by50eXBlPT09ZS5PQkpFQ1RfVFlQRV9BTkdMRT8obC5leGlzdHMocy53aXRoTGFiZWwpfHwocy53aXRoTGFiZWw9ITEpLGE9bC5jb3B5QXR0cmlidXRlcyhzLGkub3B0aW9ucyxcImFuZ2xlXCIpKTphPWwuY29weUF0dHJpYnV0ZXMocyxpLm9wdGlvbnMsXCJjdXJ2ZVwiKSxhPWwuY29weUF0dHJpYnV0ZXMoYSxpLm9wdGlvbnMsXCJjdXJ2ZVwiKSwobj1uZXcgdC5DdXJ2ZShpLFtcInhcIixbXSxbXV0sYSkpLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0LGU9by5udW1iZXJQb2ludHM7Zm9yKHRoaXMuYmV6aWVyRGVncmVlPW8uYmV6aWVyRGVncmVlLHRoaXMuZGF0YVg9W10sdGhpcy5kYXRhWT1bXSx0PTA7dDxlO3QrKyl0aGlzLmRhdGFYLnB1c2goby5wb2ludHNbdF0udXNyQ29vcmRzWzFdKSx0aGlzLmRhdGFZLnB1c2goby5wb2ludHNbdF0udXNyQ29vcmRzWzJdKTtyZXR1cm4gdGhpc30sbi5hZGRUcmFuc2Zvcm0oclsxXSksby5hZGRDaGlsZChuKSxuLnNldFBhcmVudHMoW29dKSxuLl90cmFuc2Zvcm1hdGlvblNvdXJjZT1vLG4pOihhPWwuY29weUF0dHJpYnV0ZXMocyxpLm9wdGlvbnMsXCJjdXJ2ZVwiKSxuZXcgdC5DdXJ2ZShpLFtcInhcIl0uY29uY2F0KHIpLGEpKX0sdC5yZWdpc3RlckVsZW1lbnQoXCJjdXJ2ZVwiLHQuY3JlYXRlQ3VydmUpLHQuY3JlYXRlRnVuY3Rpb25ncmFwaD1mdW5jdGlvbihlLGkscil7dmFyIHMsbz1bXCJ4XCIsXCJ4XCJdLmNvbmNhdChpKTtyZXR1cm4ocz1sLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiY3VydmVcIikpLmN1cnZldHlwZT1cImZ1bmN0aW9uZ3JhcGhcIixuZXcgdC5DdXJ2ZShlLG8scyl9LHQucmVnaXN0ZXJFbGVtZW50KFwiZnVuY3Rpb25ncmFwaFwiLHQuY3JlYXRlRnVuY3Rpb25ncmFwaCksdC5yZWdpc3RlckVsZW1lbnQoXCJwbG90XCIsdC5jcmVhdGVGdW5jdGlvbmdyYXBoKSx0LmNyZWF0ZVNwbGluZT1mdW5jdGlvbihlLGkscil7dmFyIHMsbixhO3JldHVybiBuPWZ1bmN0aW9uKCl7dmFyIHQsZT1bXSxyPVtdO3JldHVybltmdW5jdGlvbihzLG4pe3ZhciBhLGgsYztpZighbil7aWYoZT1bXSxyPVtdLDI9PT1pLmxlbmd0aCYmbC5pc0FycmF5KGlbMF0pJiZsLmlzQXJyYXkoaVsxXSkmJmlbMF0ubGVuZ3RoPT09aVsxXS5sZW5ndGgpZm9yKGE9MDthPGlbMF0ubGVuZ3RoO2ErKylsLmlzRnVuY3Rpb24oaVswXVthXSk/ZS5wdXNoKGlbMF1bYV0oKSk6ZS5wdXNoKGlbMF1bYV0pLGwuaXNGdW5jdGlvbihpWzFdW2FdKT9yLnB1c2goaVsxXVthXSgpKTpyLnB1c2goaVsxXVthXSk7ZWxzZSBmb3IoYT0wO2E8aS5sZW5ndGg7YSsrKWlmKGwuaXNQb2ludChpW2FdKSllLnB1c2goaVthXS5YKCkpLHIucHVzaChpW2FdLlkoKSk7ZWxzZSBpZihsLmlzQXJyYXkoaVthXSkmJjI9PT1pW2FdLmxlbmd0aClmb3IoaD0wO2g8aS5sZW5ndGg7aCsrKWwuaXNGdW5jdGlvbihpW2hdWzBdKT9lLnB1c2goaVtoXVswXSgpKTplLnB1c2goaVtoXVswXSksbC5pc0Z1bmN0aW9uKGlbaF1bMV0pP3IucHVzaChpW2hdWzFdKCkpOnIucHVzaChpW2hdWzFdKTtlbHNlIGwuaXNGdW5jdGlvbihpW2FdKSYmMj09PWlbYV0oKS5sZW5ndGgmJihjPWlbYV0oKSxlLnB1c2goY1swXSksci5wdXNoKGNbMV0pKTt0PW8uc3BsaW5lRGVmKGUscil9cmV0dXJuIG8uc3BsaW5lRXZhbChzLGUscix0KX0sZnVuY3Rpb24oKXtyZXR1cm4gZVswXX0sZnVuY3Rpb24oKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX1dfSwocj1sLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiY3VydmVcIikpLmN1cnZldHlwZT1cImZ1bmN0aW9uZ3JhcGhcIixhPW4oKSwocz1uZXcgdC5DdXJ2ZShlLFtcInhcIixcInhcIixhWzBdLGFbMV0sYVsyXV0scikpLnNldFBhcmVudHMoaSkscy5lbFR5cGU9XCJzcGxpbmVcIixzfSx0LnJlZ2lzdGVyRWxlbWVudChcInNwbGluZVwiLHQuY3JlYXRlU3BsaW5lKSx0LmNyZWF0ZUNhcmRpbmFsU3BsaW5lPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxuLGEsaCxjLGQsdSxwLGYsbSxnPVwiXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnRzOmFycmF5LCB0YXU6bnVtYmVyfGZ1bmN0aW9uLCB0eXBlOnN0cmluZ11cIjtpZighbC5leGlzdHMoaVswXSl8fCFsLmlzQXJyYXkoaVswXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IEpYRy5jcmVhdGVDYXJkaW5hbFNwbGluZTogYXJndW1lbnQgMSAncG9pbnRzJyBoYXMgdG8gYmUgYXJyYXkgb2YgcG9pbnRzIG9yIGNvb3JkaW5hdGUgcGFpcnNcIitnKTtpZighbC5leGlzdHMoaVsxXSl8fCFsLmlzTnVtYmVyKGlbMV0pJiYhbC5pc0Z1bmN0aW9uKGlbMV0pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBKWEcuY3JlYXRlQ2FyZGluYWxTcGxpbmU6IGFyZ3VtZW50IDIgJ3RhdScgaGFzIHRvIGJlIG51bWJlciBiZXR3ZWVuIFswLDFdIG9yIGZ1bmN0aW9uJ1wiK2cpO2lmKCFsLmV4aXN0cyhpWzJdKXx8IWwuaXNTdHJpbmcoaVsyXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IEpYRy5jcmVhdGVDYXJkaW5hbFNwbGluZTogYXJndW1lbnQgMyAndHlwZScgaGFzIHRvIGJlIHN0cmluZyAndW5pZm9ybScgb3IgJ2NlbnRyaXBldGFsJ1wiK2cpO2lmKHI9bC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImN1cnZlXCIpLChyPWwuY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJjYXJkaW5hbHNwbGluZVwiKSkuY3VydmV0eXBlPVwicGFyYW1ldGVyXCIsZD1pWzBdLHU9W10sIXIuaXNhcnJheW9mY29vcmRpbmF0ZXMmJjI9PT1kLmxlbmd0aCYmbC5pc0FycmF5KGRbMF0pJiZsLmlzQXJyYXkoZFsxXSkmJmRbMF0ubGVuZ3RoPT09ZFsxXS5sZW5ndGgpZm9yKHA9MDtwPGRbMF0ubGVuZ3RoO3ArKyl1W3BdPVtdLGwuaXNGdW5jdGlvbihkWzBdW3BdKT91W3BdLnB1c2goZFswXVtwXSgpKTp1W3BdLnB1c2goZFswXVtwXSksbC5pc0Z1bmN0aW9uKGRbMV1bcF0pP3VbcF0ucHVzaChkWzFdW3BdKCkpOnVbcF0ucHVzaChkWzFdW3BdKTtlbHNlIGZvcihwPTA7cDxkLmxlbmd0aDtwKyspbC5pc1N0cmluZyhkW3BdKT91LnB1c2goZS5zZWxlY3QoZFtwXSkpOmwuaXNQb2ludChkW3BdKT91LnB1c2goZFtwXSk6bC5pc0FycmF5KGRbcF0pJiYyPT09ZFtwXS5sZW5ndGg/KHVbcF09W10sbC5pc0Z1bmN0aW9uKGRbcF1bMF0pP3VbcF0ucHVzaChkW3BdWzBdKCkpOnVbcF0ucHVzaChkW3BdWzBdKSxsLmlzRnVuY3Rpb24oZFtwXVsxXSk/dVtwXS5wdXNoKGRbcF1bMV0oKSk6dVtwXS5wdXNoKGRbcF1bMV0pKTpsLmlzRnVuY3Rpb24oZFtwXSkmJjI9PT1kW3BdKCkubGVuZ3RoJiZ1LnB1c2goaVtwXSgpKTtpZighMD09PXIuY3JlYXRlcG9pbnRzKWE9bC5wcm92aWRlUG9pbnRzKGUsdSxyLFwiY2FyZGluYWxzcGxpbmVcIixbXCJwb2ludHNcIl0pO2Vsc2UgZm9yKGE9W10sbj1mdW5jdGlvbih0KXtyZXR1cm57WDpmdW5jdGlvbigpe3JldHVybiB1W3RdWzBdfSxZOmZ1bmN0aW9uKCl7cmV0dXJuIHVbdF1bMV19LERpc3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5YKCktdC5YKCksaT10aGlzLlkoKS10LlkoKTtyZXR1cm4gTWF0aC5zcXJ0KGUqZStpKmkpfX19LHA9MDtwPHUubGVuZ3RoO3ArKylsLmlzUG9pbnQodVtwXSk/YS5wdXNoKHVbcF0pOmEucHVzaChuKHApKTtmb3IoaD1pWzFdLGM9aVsyXSxtPVtcInhcIl0uY29uY2F0KG8uQ2FyZGluYWxTcGxpbmUoYSxoLGMpKSxzPW5ldyB0LkN1cnZlKGUsbSxyKSxmPWEubGVuZ3RoLHMuc2V0UGFyZW50cyhhKSxwPTA7cDxmO3ArKylkPWFbcF0sbC5pc1BvaW50KGQpJiYobC5leGlzdHMoZC5faXNfbmV3KT8ocy5hZGRDaGlsZChkKSxkZWxldGUgZC5faXNfbmV3KTpkLmFkZENoaWxkKHMpKTtyZXR1cm4gcy5lbFR5cGU9XCJjYXJkaW5hbHNwbGluZVwiLHN9LHQucmVnaXN0ZXJFbGVtZW50KFwiY2FyZGluYWxzcGxpbmVcIix0LmNyZWF0ZUNhcmRpbmFsU3BsaW5lKSx0LmNyZWF0ZU1ldGFwb3N0U3BsaW5lPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxvLG4sYSxoLGMsZCx1LHA9XCJcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludHM6YXJyYXksIGNvbnRyb2xzOm9iamVjdFwiO2lmKCFsLmV4aXN0cyhpWzBdKXx8IWwuaXNBcnJheShpWzBdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogSlhHLmNyZWF0ZU1ldGFwb3N0U3BsaW5lOiBhcmd1bWVudCAxICdwb2ludHMnIGhhcyB0byBiZSBhcnJheSBvZiBwb2ludHMgb3IgY29vcmRpbmF0ZSBwYWlyc1wiK3ApO2lmKCFsLmV4aXN0cyhpWzFdKXx8IWwuaXNPYmplY3QoaVsxXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IEpYRy5jcmVhdGVNZXRhcG9zdFNwbGluZTogYXJndW1lbnQgMiAnY29udHJvbHMnIGhhcyB0byBiZSBhIEphdmFTY3JpcHQgb2JqZWN0J1wiK3ApO2lmKHI9bC5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImN1cnZlXCIpLChyPWwuY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJtZXRhcG9zdHNwbGluZVwiKSkuY3VydmV0eXBlPVwicGFyYW1ldGVyXCIsaD1pWzBdLGM9W10sIXIuaXNhcnJheW9mY29vcmRpbmF0ZXMmJjI9PT1oLmxlbmd0aCYmbC5pc0FycmF5KGhbMF0pJiZsLmlzQXJyYXkoaFsxXSkmJmhbMF0ubGVuZ3RoPT09aFsxXS5sZW5ndGgpZm9yKGQ9MDtkPGhbMF0ubGVuZ3RoO2QrKyljW2RdPVtdLGwuaXNGdW5jdGlvbihoWzBdW2RdKT9jW2RdLnB1c2goaFswXVtkXSgpKTpjW2RdLnB1c2goaFswXVtkXSksbC5pc0Z1bmN0aW9uKGhbMV1bZF0pP2NbZF0ucHVzaChoWzFdW2RdKCkpOmNbZF0ucHVzaChoWzFdW2RdKTtlbHNlIGZvcihkPTA7ZDxoLmxlbmd0aDtkKyspbC5pc1N0cmluZyhoW2RdKT9jLnB1c2goZS5zZWxlY3QoaFtkXSkpOmwuaXNQb2ludChoW2RdKT9jLnB1c2goaFtkXSk6bC5pc0FycmF5KGhbZF0pJiYyPT09aFtkXS5sZW5ndGg/KGNbZF09W10sbC5pc0Z1bmN0aW9uKGhbZF1bMF0pP2NbZF0ucHVzaChoW2RdWzBdKCkpOmNbZF0ucHVzaChoW2RdWzBdKSxsLmlzRnVuY3Rpb24oaFtkXVsxXSk/Y1tkXS5wdXNoKGhbZF1bMV0oKSk6Y1tkXS5wdXNoKGhbZF1bMV0pKTpsLmlzRnVuY3Rpb24oaFtkXSkmJjI9PT1oW2RdKCkubGVuZ3RoJiZjLnB1c2goaVtkXSgpKTtpZighMD09PXIuY3JlYXRlcG9pbnRzKW49bC5wcm92aWRlUG9pbnRzKGUsYyxyLFwibWV0YXBvc3RzcGxpbmVcIixbXCJwb2ludHNcIl0pO2Vsc2UgZm9yKG49W10sbz1mdW5jdGlvbih0KXtyZXR1cm57WDpmdW5jdGlvbigpe3JldHVybiBjW3RdWzBdfSxZOmZ1bmN0aW9uKCl7cmV0dXJuIGNbdF1bMV19fX0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKWwuaXNQb2ludChjW2RdKT9uLnB1c2goY1tkXSk6bi5wdXNoKG8pO2ZvcihhPWlbMV0sKHM9bmV3IHQuQ3VydmUoZSxbXCJ0XCIsW10sW10sMCxoLmxlbmd0aC0xXSxyKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIGUsaSxyPW4ubGVuZ3RoLHM9W107Zm9yKGk9MDtpPHI7aSsrKXMucHVzaChbbltpXS5YKCksbltpXS5ZKCldKTtlPXQuTWF0aC5NZXRhcG9zdC5jdXJ2ZShzLGEpLHRoaXMuZGF0YVg9ZVswXSx0aGlzLmRhdGFZPWVbMV19LHMuYmV6aWVyRGVncmVlPTMsdT1uLmxlbmd0aCxzLnNldFBhcmVudHMobiksZD0wO2Q8dTtkKyspbC5pc1BvaW50KG5bZF0pJiZuW2RdLmFkZENoaWxkKHMpO3JldHVybiBzLmVsVHlwZT1cIm1ldGFwb3N0c3BsaW5lXCIsc30sdC5yZWdpc3RlckVsZW1lbnQoXCJtZXRhcG9zdHNwbGluZVwiLHQuY3JlYXRlTWV0YXBvc3RTcGxpbmUpLHQuY3JlYXRlUmllbWFubnN1bT1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxuLGEsaCxjO2lmKChjPWwuY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJyaWVtYW5uc3VtXCIpKS5jdXJ2ZXR5cGU9XCJwbG90XCIsbj1lWzBdLHI9bC5jcmVhdGVGdW5jdGlvbihlWzFdLHQsXCJcIiksIWwuZXhpc3RzKHIpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBKWEcuY3JlYXRlUmllbWFubnN1bTogYXJndW1lbnQgJzInIG4gaGFzIHRvIGJlIG51bWJlciBvciBmdW5jdGlvbi5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtmdW5jdGlvbixuOm51bWJlcnxmdW5jdGlvbix0eXBlLHN0YXJ0Om51bWJlcnxmdW5jdGlvbixlbmQ6bnVtYmVyfGZ1bmN0aW9uXVwiKTtpZihzPWwuY3JlYXRlRnVuY3Rpb24oZVsyXSx0LFwiXCIsITEpLCFsLmV4aXN0cyhzKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogSlhHLmNyZWF0ZVJpZW1hbm5zdW06IGFyZ3VtZW50IDMgJ3R5cGUnIGhhcyB0byBiZSBzdHJpbmcgb3IgZnVuY3Rpb24uXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbZnVuY3Rpb24sbjpudW1iZXJ8ZnVuY3Rpb24sdHlwZSxzdGFydDpudW1iZXJ8ZnVuY3Rpb24sZW5kOm51bWJlcnxmdW5jdGlvbl1cIik7cmV0dXJuIGE9W1swXSxbMF1dLmNvbmNhdChlLnNsaWNlKDMpKSwoaD10LmNyZWF0ZShcImN1cnZlXCIsYSxjKSkuc3VtPTAsaC5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN1bX0saC51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdD1vLnJpZW1hbm4obixyKCkscygpLHRoaXMubWluWCgpLHRoaXMubWF4WCgpKTt0aGlzLmRhdGFYPXRbMF0sdGhpcy5kYXRhWT10WzFdLHRoaXMuc3VtPXRbMl19LGh9LHQucmVnaXN0ZXJFbGVtZW50KFwicmllbWFubnN1bVwiLHQuY3JlYXRlUmllbWFubnN1bSksdC5jcmVhdGVUcmFjZWN1cnZlPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG4sYTtpZigyIT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSB0cmFjZSBjdXJ2ZSB3aXRoIGdpdmVuIHBhcmVudCdcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtnbGlkZXIsIHBvaW50XVwiKTtpZihvPXQuc2VsZWN0KGlbMF0pLG49dC5zZWxlY3QoaVsxXSksby50eXBlIT09ZS5PQkpFQ1RfVFlQRV9HTElERVJ8fCFsLmlzUG9pbnQobikpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSB0cmFjZSBjdXJ2ZSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2dsaWRlciwgcG9pbnRdXCIpO3JldHVybihhPWwuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJ0cmFjZWN1cnZlXCIpKS5jdXJ2ZXR5cGU9XCJwbG90XCIsKHM9dC5jcmVhdGUoXCJjdXJ2ZVwiLFtbMF0sWzBdXSxhKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQsaSxyLHMsaCxsLGMsZCx1LHA9YS5udW1iZXJwb2ludHMsZj1vLnBvc2l0aW9uLG09by5zbGlkZU9iamVjdCxnPW0ubWluWCgpO2ZvcihpPShtLm1heFgoKS1nKS9wLHRoaXMuZGF0YVg9W10sdGhpcy5kYXRhWT1bXSxtLmVsZW1lbnRDbGFzcyE9PWUuT0JKRUNUX0NMQVNTX0NVUlZFJiZwKyssdD0wO3Q8cDt0Kyspe2ZvcihzIGluIHI9Zyt0KmksbD1tLlgocikvbS5aKHIpLGM9bS5ZKHIpL20uWihyKSxvLnNldFBvc2l0aW9uRGlyZWN0bHkoZS5DT09SRFNfQllfVVNFUixbbCxjXSksZD0hMSx0aGlzLmJvYXJkLm9iamVjdHMpaWYodGhpcy5ib2FyZC5vYmplY3RzLmhhc093blByb3BlcnR5KHMpJiYoKGg9dGhpcy5ib2FyZC5vYmplY3RzW3NdKT09PW8mJihkPSEwKSxkJiZoLm5lZWRzUmVndWxhclVwZGF0ZSYmKHU9aC52aXNQcm9wLnRyYWNlLGgudmlzUHJvcC50cmFjZT0hMSxoLm5lZWRzVXBkYXRlPSEwLGgudXBkYXRlKCEwKSxoLnZpc1Byb3AudHJhY2U9dSxoPT09bikpKWJyZWFrO3RoaXMuZGF0YVhbdF09bi5YKCksdGhpcy5kYXRhWVt0XT1uLlkoKX1mb3IocyBpbiBvLnBvc2l0aW9uPWYsZD0hMSx0aGlzLmJvYXJkLm9iamVjdHMpaWYodGhpcy5ib2FyZC5vYmplY3RzLmhhc093blByb3BlcnR5KHMpJiYoKGg9dGhpcy5ib2FyZC5vYmplY3RzW3NdKT09PW8mJihkPSEwKSxkJiZoLm5lZWRzUmVndWxhclVwZGF0ZSYmKHU9aC52aXNQcm9wLnRyYWNlLGgudmlzUHJvcC50cmFjZT0hMSxoLm5lZWRzVXBkYXRlPSEwLGgudXBkYXRlKCEwKSxoLnZpc1Byb3AudHJhY2U9dSxoPT09bikpKWJyZWFrfSxzfSx0LnJlZ2lzdGVyRWxlbWVudChcInRyYWNlY3VydmVcIix0LmNyZWF0ZVRyYWNlY3VydmUpLHQuY3JlYXRlU3RlcGZ1bmN0aW9uPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzO2lmKDIhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHN0ZXAgZnVuY3Rpb24gd2l0aCBnaXZlbiBwYXJlbnQnXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbYXJyYXksIGFycmF5fGZ1bmN0aW9uXVwiKTtyZXR1cm4gcz1sLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwic3RlcGZ1bmN0aW9uXCIpLChyPXQuY3JlYXRlKFwiY3VydmVcIixlLHMpKS51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxlPTAsaT10aGlzLnh0ZXJtLmxlbmd0aDtpZih0aGlzLmRhdGFYPVtdLHRoaXMuZGF0YVk9W10sMCE9PWkpZm9yKHRoaXMuZGF0YVhbZV09dGhpcy54dGVybVswXSx0aGlzLmRhdGFZW2VdPXRoaXMueXRlcm1bMF0sKytlLHQ9MTt0PGk7Kyt0KXRoaXMuZGF0YVhbZV09dGhpcy54dGVybVt0XSx0aGlzLmRhdGFZW2VdPXRoaXMuZGF0YVlbZS0xXSwrK2UsdGhpcy5kYXRhWFtlXT10aGlzLnh0ZXJtW3RdLHRoaXMuZGF0YVlbZV09dGhpcy55dGVybVt0XSwrK2V9LHJ9LHQucmVnaXN0ZXJFbGVtZW50KFwic3RlcGZ1bmN0aW9uXCIsdC5jcmVhdGVTdGVwZnVuY3Rpb24pLHQuY3JlYXRlRGVyaXZhdGl2ZT1mdW5jdGlvbih0LGkscil7dmFyIHMsbixhLGgsYztpZigxIT09aS5sZW5ndGgmJmlbMF0uY2xhc3MhPT1lLk9CSkVDVF9DTEFTU19DVVJWRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGRlcml2YXRpdmUgY3VydmUgd2l0aCBnaXZlbiBwYXJlbnQnXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbY3VydmVdXCIpO3JldHVybiBjPWwuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJjdXJ2ZVwiKSxuPWlbMF0sYT1vLkQobi5YKSxoPW8uRChuLlkpLChzPXQuY3JlYXRlKFwiY3VydmVcIixbZnVuY3Rpb24odCl7cmV0dXJuIG4uWCh0KX0sZnVuY3Rpb24odCl7cmV0dXJuIGgodCkvYSh0KX0sbi5taW5YKCksbi5tYXhYKCldLGMpKS5zZXRQYXJlbnRzKG4pLHN9LHQucmVnaXN0ZXJFbGVtZW50KFwiZGVyaXZhdGl2ZVwiLHQuY3JlYXRlRGVyaXZhdGl2ZSksdC5jcmVhdGVDdXJ2ZUludGVyc2VjdGlvbj1mdW5jdGlvbihlLGkscil7dmFyIHM7aWYoMiE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY3VydmUgaW50ZXJzZWN0aW9uIHdpdGggZ2l2ZW4gcGFyZW50J1xcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2FycmF5LCBhcnJheXxmdW5jdGlvbl1cIik7cmV0dXJuKHM9ZS5jcmVhdGUoXCJjdXJ2ZVwiLFtbXSxbXV0scikpLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciBlPXQuTWF0aC5DbGlwLmludGVyc2VjdGlvbihpWzBdLGlbMV0sdGhpcy5ib2FyZCk7dGhpcy5kYXRhWD1lWzBdLHRoaXMuZGF0YVk9ZVsxXX0sc30sdC5jcmVhdGVDdXJ2ZVVuaW9uPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcztpZigyIT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBjdXJ2ZSB1bmlvbiB3aXRoIGdpdmVuIHBhcmVudCdcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFthcnJheSwgYXJyYXl8ZnVuY3Rpb25dXCIpO3JldHVybihzPWUuY3JlYXRlKFwiY3VydmVcIixbW10sW11dLHIpKS51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgZT10Lk1hdGguQ2xpcC51bmlvbihpWzBdLGlbMV0sdGhpcy5ib2FyZCk7dGhpcy5kYXRhWD1lWzBdLHRoaXMuZGF0YVk9ZVsxXX0sc30sdC5jcmVhdGVDdXJ2ZURpZmZlcmVuY2U9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzO2lmKDIhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGN1cnZlIGRpZmZlcmVuY2Ugd2l0aCBnaXZlbiBwYXJlbnQnXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbYXJyYXksIGFycmF5fGZ1bmN0aW9uXVwiKTtyZXR1cm4ocz1lLmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxyKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIGU9dC5NYXRoLkNsaXAuZGlmZmVyZW5jZShpWzBdLGlbMV0sdGhpcy5ib2FyZCk7dGhpcy5kYXRhWD1lWzBdLHRoaXMuZGF0YVk9ZVsxXX0sc30sdC5yZWdpc3RlckVsZW1lbnQoXCJjdXJ2ZWRpZmZlcmVuY2VcIix0LmNyZWF0ZUN1cnZlRGlmZmVyZW5jZSksdC5yZWdpc3RlckVsZW1lbnQoXCJjdXJ2ZWludGVyc2VjdGlvblwiLHQuY3JlYXRlQ3VydmVJbnRlcnNlY3Rpb24pLHQucmVnaXN0ZXJFbGVtZW50KFwiY3VydmV1bmlvblwiLHQuY3JlYXRlQ3VydmVVbmlvbiksdC5jcmVhdGVCb3hQbG90PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbj1sLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiYm94cGxvdFwiKTtpZigzIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBib3ggcGxvdCB3aXRoIGdpdmVuIHBhcmVudCdcXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFthcnJheSwgbnVtYmVyfGZ1bmN0aW9uLCBudW1iZXJ8ZnVuY3Rpb25dIGNvbnRhaW5pbmcgcXVhbnRpbGVzLCBheGlzLCB3aWR0aFwiKTtpZihlWzBdLmxlbmd0aDw1KXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgYm94IHBsb3Qgd2l0aCBnaXZlbiBwYXJlbnRbMF0nXFxucGFyZW50WzBdIGhhcyB0byBjb25hdGluIGF0IGxlYXN0IDUgcXVhbnRpbGVzLlwiKTtmb3Iocj10LmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxuKSxvPWVbMF0ubGVuZ3RoLHIuUT1bXSxzPTA7czxvO3MrKylyLlFbc109bC5jcmVhdGVGdW5jdGlvbihlWzBdW3NdLHQsbnVsbCwhMCk7cmV0dXJuIHIueD1sLmNyZWF0ZUZ1bmN0aW9uKGVbMV0sdCxudWxsLCEwKSxyLnc9bC5jcmVhdGVGdW5jdGlvbihlWzJdLHQsbnVsbCwhMCksci51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG8sbixhLGg7bj1sLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbWFsbHdpZHRoKSxhPWwuZXZhbHVhdGUodGhpcy52aXNQcm9wLmRpciksaT0oaD10aGlzLngoKSktLjUqdGhpcy53KCkscj1oLS41KnRoaXMudygpKm4scz1oKy41KnRoaXMudygpLHQ9W2gscixvPWgrLjUqdGhpcy53KCkqbixoLGgsaSxpLHMscyxoLE5hTixpLHMsTmFOLGgsaCxyLG8saF0sZT1bdGhpcy5RWzBdKCksdGhpcy5RWzBdKCksdGhpcy5RWzBdKCksdGhpcy5RWzBdKCksdGhpcy5RWzFdKCksdGhpcy5RWzFdKCksdGhpcy5RWzNdKCksdGhpcy5RWzNdKCksdGhpcy5RWzFdKCksdGhpcy5RWzFdKCksTmFOLHRoaXMuUVsyXSgpLHRoaXMuUVsyXSgpLE5hTix0aGlzLlFbM10oKSx0aGlzLlFbNF0oKSx0aGlzLlFbNF0oKSx0aGlzLlFbNF0oKSx0aGlzLlFbNF0oKV0sXCJ2ZXJ0aWNhbFwiPT09YT8odGhpcy5kYXRhWD10LHRoaXMuZGF0YVk9ZSk6KHRoaXMuZGF0YVg9ZSx0aGlzLmRhdGFZPXQpfSxyfSx0LnJlZ2lzdGVyRWxlbWVudChcImJveHBsb3RcIix0LmNyZWF0ZUJveFBsb3QpLHtDdXJ2ZTp0LkN1cnZlLGNyZWF0ZUNhcmRpbmFsU3BsaW5lOnQuY3JlYXRlQ2FyZGluYWxTcGxpbmUsY3JlYXRlQ3VydmU6dC5jcmVhdGVDdXJ2ZSxjcmVhdGVDdXJ2ZURpZmZlcmVuY2U6dC5jcmVhdGVDdXJ2ZURpZmZlcmVuY2UsY3JlYXRlQ3VydmVJbnRlcnNlY3Rpb246dC5jcmVhdGVDdXJ2ZUludGVyc2VjdGlvbixjcmVhdGVDdXJ2ZVVuaW9uOnQuY3JlYXRlQ3VydmVVbmlvbixjcmVhdGVEZXJpdmF0aXZlOnQuY3JlYXRlRGVyaXZhdGl2ZSxjcmVhdGVGdW5jdGlvbmdyYXBoOnQuY3JlYXRlRnVuY3Rpb25ncmFwaCxjcmVhdGVNZXRhcG9zdFNwbGluZTp0LmNyZWF0ZU1ldGFwb3N0U3BsaW5lLGNyZWF0ZVBsb3Q6dC5jcmVhdGVGdW5jdGlvbmdyYXBoLGNyZWF0ZVNwbGluZTp0LmNyZWF0ZVNwbGluZSxjcmVhdGVSaWVtYW5uc3VtOnQuY3JlYXRlUmllbWFubnN1bSxjcmVhdGVTdGVwZnVuY3Rpb246dC5jcmVhdGVTdGVwZnVuY3Rpb24sY3JlYXRlVHJhY2VjdXJ2ZTp0LmNyZWF0ZVRyYWNlY3VydmV9fSkpLGRlZmluZShcImVsZW1lbnQvYXJjXCIsW1wianhnXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJtYXRoL21hdGhcIixcImJhc2UvY29vcmRzXCIsXCJiYXNlL2NpcmNsZVwiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS9jb25zdGFudHNcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe1widXNlIHN0cmljdFwiO3JldHVybiB0LmNyZWF0ZUFyYz1mdW5jdGlvbihhLGgsbCl7dmFyIGMsZCx1O2lmKCExPT09KHU9by5wcm92aWRlUG9pbnRzKGEsaCxsLFwiYXJjXCIsW1wiY2VudGVyXCIsXCJyYWRpdXNQb2ludFwiLFwiYW5nbGVQb2ludFwiXSkpfHx1Lmxlbmd0aDwzKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgQXJjIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaFswXStcIicgYW5kICdcIit0eXBlb2YgaFsxXStcIicgYW5kICdcIit0eXBlb2YgaFsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdLCBbYXJjLCB0cmFuc2Zvcm1hdGlvbl1cIik7cmV0dXJuIGQ9by5jb3B5QXR0cmlidXRlcyhsLGEub3B0aW9ucyxcImFyY1wiKSwoYz1hLmNyZWF0ZShcImN1cnZlXCIsW1swXSxbMF1dLGQpKS5lbFR5cGU9XCJhcmNcIixjLnNldFBhcmVudHModSksYy50eXBlPW4uT0JKRUNUX1RZUEVfQVJDLGMuY2VudGVyPXVbMF0sYy5yYWRpdXNwb2ludD11WzFdLGMucG9pbnQyPWMucmFkaXVzcG9pbnQsYy5hbmdsZXBvaW50PXVbMl0sYy5wb2ludDM9Yy5hbmdsZXBvaW50LG8uZXhpc3RzKGMuY2VudGVyLl9pc19uZXcpPyhjLmFkZENoaWxkKGMuY2VudGVyKSxkZWxldGUgYy5jZW50ZXIuX2lzX25ldyk6Yy5jZW50ZXIuYWRkQ2hpbGQoYyksby5leGlzdHMoYy5yYWRpdXNwb2ludC5faXNfbmV3KT8oYy5hZGRDaGlsZChjLnJhZGl1c3BvaW50KSxkZWxldGUgYy5yYWRpdXNwb2ludC5faXNfbmV3KTpjLnJhZGl1c3BvaW50LmFkZENoaWxkKGMpLG8uZXhpc3RzKGMuYW5nbGVwb2ludC5faXNfbmV3KT8oYy5hZGRDaGlsZChjLmFuZ2xlcG9pbnQpLGRlbGV0ZSBjLmFuZ2xlcG9pbnQuX2lzX25ldyk6Yy5hbmdsZXBvaW50LmFkZENoaWxkKGMpLGMudXNlRGlyZWN0aW9uPWQudXNlZGlyZWN0aW9uLGMudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQsaSxyLHMsbixhPTEsaD10aGlzLnJhZGl1c3BvaW50LGw9dGhpcy5jZW50ZXIsYz10aGlzLmFuZ2xlcG9pbnQsZD1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zZWxlY3Rpb24pO2k9ZS5yYWQoaCxsLGMpLChcIm1pbm9yXCI9PT1kJiZpPk1hdGguUEl8fFwibWFqb3JcIj09PWQmJmk8TWF0aC5QSSkmJihhPS0xKSx0aGlzLnVzZURpcmVjdGlvbiYmKHI9dVsxXS5jb29yZHMudXNyQ29vcmRzLHM9dVszXS5jb29yZHMudXNyQ29vcmRzLG49dVsyXS5jb29yZHMudXNyQ29vcmRzLChyWzFdLW5bMV0pKihyWzJdLXNbMl0pLShyWzJdLW5bMl0pKihyWzFdLXNbMV0pPDA/KHRoaXMucmFkaXVzcG9pbnQ9dVsxXSx0aGlzLmFuZ2xlcG9pbnQ9dVsyXSk6KHRoaXMucmFkaXVzcG9pbnQ9dVsyXSx0aGlzLmFuZ2xlcG9pbnQ9dVsxXSkpLGg9aC5jb29yZHMudXNyQ29vcmRzLGw9bC5jb29yZHMudXNyQ29vcmRzLGM9Yy5jb29yZHMudXNyQ29vcmRzLHQ9ZS5iZXppZXJBcmMoaCxsLGMsITEsYSksdGhpcy5kYXRhWD10WzBdLHRoaXMuZGF0YVk9dFsxXSx0aGlzLmJlemllckRlZ3JlZT0zLHRoaXMudXBkYXRlU3RkZm9ybSgpLHRoaXMudXBkYXRlUXVhZHJhdGljZm9ybSgpfSxjLlJhZGl1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJhZGl1c3BvaW50LkRpc3QodGhpcy5jZW50ZXIpfSxjLmdldFJhZGl1cz1mdW5jdGlvbigpe3JldHVybiB0LmRlcHJlY2F0ZWQoXCJBcmMuZ2V0UmFkaXVzKClcIixcIkFyYy5SYWRpdXMoKVwiKSx0aGlzLlJhZGl1cygpfSxjLlZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUmFkaXVzKCkqZS5yYWQodGhpcy5yYWRpdXNwb2ludCx0aGlzLmNlbnRlcix0aGlzLmFuZ2xlcG9pbnQpfSxjLmhhc1BvaW50PWZ1bmN0aW9uKHQscyl7dmFyIGEsaCxsLGMsZCx1LHAsZj10aGlzLlJhZGl1cygpO3JldHVybiBvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5oYXNpbm5lcnBvaW50cyk/dGhpcy5oYXNQb2ludFNlY3Rvcih0LHMpOihvLmlzT2JqZWN0KG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbikpPyhwPXRoaXMuYm9hcmQuX2lucHV0RGV2aWNlLHU9by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uW3BdKSk6dT10aGlzLmJvYXJkLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50LHUvPU1hdGgubWluKHRoaXMuYm9hcmQudW5pdFgsdGhpcy5ib2FyZC51bml0WSksaD1uZXcgcihuLkNPT1JEU19CWV9TQ1JFRU4sW3Qsc10sdGhpcy5ib2FyZCksdGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoPjAmJih0aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLGM9aS5pbnZlcnNlKHRoaXMudHJhbnNmb3JtTWF0KSxkPWkubWF0VmVjTXVsdChjLGgudXNyQ29vcmRzKSxoPW5ldyByKG4uQ09PUkRTX0JZX1VTRVIsZCx0aGlzLmJvYXJkKSksYT10aGlzLmNlbnRlci5jb29yZHMuZGlzdGFuY2Uobi5DT09SRFNfQllfVVNFUixoKSwobD1NYXRoLmFicyhhLWYpPHUpJiYobD1lLmNvb3Jkc09uQXJjKHRoaXMsaCkpLGwpfSxjLmhhc1BvaW50U2VjdG9yPWZ1bmN0aW9uKHQsaSl7dmFyIHM9bmV3IHIobi5DT09SRFNfQllfU0NSRUVOLFt0LGldLHRoaXMuYm9hcmQpLG89dGhpcy5SYWRpdXMoKSxhPXRoaXMuY2VudGVyLmNvb3Jkcy5kaXN0YW5jZShuLkNPT1JEU19CWV9VU0VSLHMpPG87cmV0dXJuIGEmJihhPWUuY29vcmRzT25BcmModGhpcyxzKSksYX0sYy5nZXRUZXh0QW5jaG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VudGVyLmNvb3Jkc30sYy5nZXRMYWJlbEFuY2hvcj1mdW5jdGlvbigpe3ZhciB0LGkscyxhLGgsbD1lLnJhZCh0aGlzLnJhZGl1c3BvaW50LHRoaXMuY2VudGVyLHRoaXMuYW5nbGVwb2ludCksYz0xMC90aGlzLmJvYXJkLnVuaXRYLGQ9MTAvdGhpcy5ib2FyZC51bml0WSx1PXRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMscD10aGlzLmNlbnRlci5jb29yZHMudXNyQ29vcmRzLGY9dVsxXS1wWzFdLG09dVsyXS1wWzJdLGc9by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2VsZWN0aW9uKSxiPXRoaXMubGFiZWw/dGhpcy5sYWJlbC52aXNQcm9wOnRoaXMudmlzUHJvcC5sYWJlbDtyZXR1cm4oXCJtaW5vclwiPT09ZyYmbD5NYXRoLlBJfHxcIm1ham9yXCI9PT1nJiZsPE1hdGguUEkpJiYobD0tKDIqTWF0aC5QSS1sKSkscz0odD1uZXcgcihuLkNPT1JEU19CWV9VU0VSLFtwWzFdK01hdGguY29zKC41KmwpKmYtTWF0aC5zaW4oLjUqbCkqbSxwWzJdK01hdGguc2luKC41KmwpKmYrTWF0aC5jb3MoLjUqbCkqbV0sdGhpcy5ib2FyZCkpLnVzckNvb3Jkc1sxXS1wWzFdLGE9dC51c3JDb29yZHNbMl0tcFsyXSxzPXMqKChoPU1hdGguc3FydChzKnMrYSphKSkrYykvaCxhPWEqKGgrZCkvaCxpPVtwWzFdK3MscFsyXSthXSxiLnBvc2l0aW9uPWUuY2FsY0xhYmVsUXVhZHJhbnQoZS5yYWQoWzEsMF0sWzAsMF0saSkpLG5ldyByKG4uQ09PUkRTX0JZX1VTRVIsaSx0aGlzLmJvYXJkKX0sYy51cGRhdGVRdWFkcmF0aWNmb3JtPXMuQ2lyY2xlLnByb3RvdHlwZS51cGRhdGVRdWFkcmF0aWNmb3JtLGMudXBkYXRlU3RkZm9ybT1zLkNpcmNsZS5wcm90b3R5cGUudXBkYXRlU3RkZm9ybSxjLm1ldGhvZE1hcD10LmRlZXBDb3B5KGMubWV0aG9kTWFwLHtnZXRSYWRpdXM6XCJnZXRSYWRpdXNcIixyYWRpdXM6XCJSYWRpdXNcIixjZW50ZXI6XCJjZW50ZXJcIixyYWRpdXNwb2ludDpcInJhZGl1c3BvaW50XCIsYW5nbGVwb2ludDpcImFuZ2xlcG9pbnRcIixWYWx1ZTpcIlZhbHVlXCJ9KSxjLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKSxjfSx0LnJlZ2lzdGVyRWxlbWVudChcImFyY1wiLHQuY3JlYXRlQXJjKSx0LmNyZWF0ZVNlbWljaXJjbGU9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbixhO2lmKCExPT09KGE9by5wcm92aWRlUG9pbnRzKHQsZSxpLFwicG9pbnRcIikpfHwyIT09YS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBTZW1pY2lyY2xlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnRdXCIpO3JldHVybiBuPW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJzZW1pY2lyY2xlXCIsXCJjZW50ZXJcIiksKHM9dC5jcmVhdGUoXCJtaWRwb2ludFwiLGEsbikpLmR1bXA9ITEsbj1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwic2VtaWNpcmNsZVwiKSwocj10LmNyZWF0ZShcImFyY1wiLFtzLGFbMV0sYVswXV0sbikpLmVsVHlwZT1cInNlbWljaXJjbGVcIixyLnNldFBhcmVudHMoW2FbMF0uaWQsYVsxXS5pZF0pLHIuc3Vicz17bWlkcG9pbnQ6c30sci5pbmhlcml0cy5wdXNoKHMpLHIubWlkcG9pbnQ9ci5jZW50ZXI9cyxyfSx0LnJlZ2lzdGVyRWxlbWVudChcInNlbWljaXJjbGVcIix0LmNyZWF0ZVNlbWljaXJjbGUpLHQuY3JlYXRlQ2lyY3VtY2lyY2xlQXJjPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG4sYTtpZighMT09PShhPW8ucHJvdmlkZVBvaW50cyh0LGUsaSxcInBvaW50XCIpKXx8MyE9PWEubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBjcmVhdGUgQ2lyY3VtY2lyY2xlIEFyYyB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMl0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50LHBvaW50XVwiKTtyZXR1cm4gbj1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiY2lyY3VtY2lyY2xlYXJjXCIsXCJjZW50ZXJcIiksKHM9dC5jcmVhdGUoXCJjaXJjdW1jZW50ZXJcIixhLG4pKS5kdW1wPSExLChuPW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJjaXJjdW1jaXJjbGVhcmNcIikpLnVzZWRpcmVjdGlvbj0hMCwocj10LmNyZWF0ZShcImFyY1wiLFtzLGFbMF0sYVsyXSxhWzFdXSxuKSkuZWxUeXBlPVwiY2lyY3VtY2lyY2xlYXJjXCIsci5zZXRQYXJlbnRzKFthWzBdLmlkLGFbMV0uaWQsYVsyXS5pZF0pLHIuc3Vicz17Y2VudGVyOnN9LHIuaW5oZXJpdHMucHVzaChzKSxyLmNlbnRlcj1zLHJ9LHQucmVnaXN0ZXJFbGVtZW50KFwiY2lyY3VtY2lyY2xlYXJjXCIsdC5jcmVhdGVDaXJjdW1jaXJjbGVBcmMpLHQuY3JlYXRlTWlub3JBcmM9ZnVuY3Rpb24oZSxpLHIpe3JldHVybiByLnNlbGVjdGlvbj1cIm1pbm9yXCIsdC5jcmVhdGVBcmMoZSxpLHIpfSx0LnJlZ2lzdGVyRWxlbWVudChcIm1pbm9yYXJjXCIsdC5jcmVhdGVNaW5vckFyYyksdC5jcmVhdGVNYWpvckFyYz1mdW5jdGlvbihlLGkscil7cmV0dXJuIHIuc2VsZWN0aW9uPVwibWFqb3JcIix0LmNyZWF0ZUFyYyhlLGkscil9LHQucmVnaXN0ZXJFbGVtZW50KFwibWFqb3JhcmNcIix0LmNyZWF0ZU1ham9yQXJjKSx7Y3JlYXRlQXJjOnQuY3JlYXRlQXJjLGNyZWF0ZVNlbWljaXJjbGU6dC5jcmVhdGVTZW1pY2lyY2xlLGNyZWF0ZUNpcmN1bWNpcmNsZUFyYzp0LmNyZWF0ZUNpcmN1bWNpcmNsZUFyYyxjcmVhdGVNaW5vckFyYzp0LmNyZWF0ZU1pbm9yQXJjLGNyZWF0ZU1ham9yQXJjOnQuY3JlYXRlTWFqb3JBcmN9fSkpLGRlZmluZShcImVsZW1lbnQvc2VjdG9yXCIsW1wianhnXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJtYXRoL21hdGhcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwiYmFzZS9jb29yZHNcIixcImJhc2UvY29uc3RhbnRzXCIsXCJ1dGlscy90eXBlXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5jcmVhdGVTZWN0b3I9ZnVuY3Rpb24oYSxoLGwpe3ZhciBjLGQsdSxwLGYsbSxnPVwiaW52YWxpZFwiO2lmKGhbMF0uZWxlbWVudENsYXNzPT09by5PQkpFQ1RfQ0xBU1NfTElORSYmaFsxXS5lbGVtZW50Q2xhc3M9PT1vLk9CSkVDVF9DTEFTU19MSU5FJiYobi5pc0FycmF5KGhbMl0pfHxuLmlzTnVtYmVyKGhbMl0pKSYmKG4uaXNBcnJheShoWzNdKXx8bi5pc051bWJlcihoWzNdKSkmJihuLmlzTnVtYmVyKGhbNF0pfHxuLmlzRnVuY3Rpb24oaFs0XSl8fG4uaXNTdHJpbmcoaFs0XSkpKWc9XCIybGluZXNcIjtlbHNle2lmKCExPT09KG09bi5wcm92aWRlUG9pbnRzKGEsaCxsLFwic2VjdG9yXCIsW1wiY2VudGVyXCIsXCJyYWRpdXNQb2ludFwiLFwiYW5nbGVQb2ludFwiXSkpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgU2VjdG9yIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaFswXStcIicgYW5kICdcIit0eXBlb2YgaFsxXStcIicgYW5kICdcIit0eXBlb2YgaFsyXStcIicuXCIpO2c9XCIzcG9pbnRzXCJ9aWYoZD1uLmNvcHlBdHRyaWJ1dGVzKGwsYS5vcHRpb25zLFwic2VjdG9yXCIpLChjPWEuY3JlYXRlKFwiY3VydmVcIixbWzBdLFswXV0sZCkpLnR5cGU9by5PQkpFQ1RfVFlQRV9TRUNUT1IsYy5lbFR5cGU9XCJzZWN0b3JcIixjLmF1dG9SYWRpdXM9ZnVuY3Rpb24oKXt2YXIgdD0yMC9jLmJvYXJkLnVuaXRYLGU9MS8wLGk9NTAvYy5ib2FyZC51bml0WDtyZXR1cm4gbi5pc1BvaW50KGMuY2VudGVyKSYmKGU9LjMzMzMqYy5jZW50ZXIuRGlzdChjLnBvaW50MikpLE1hdGgubWF4KHQsTWF0aC5taW4oZSxpKSl9LFwiMmxpbmVzXCI9PT1nKWMuUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIHQ9bi5ldmFsdWF0ZShoWzRdKTtyZXR1cm5cImF1dG9cIj09PXQ/dGhpcy5hdXRvUmFkaXVzKCk6dH0sYy5saW5lMT1hLnNlbGVjdChoWzBdKSxjLmxpbmUyPWEuc2VsZWN0KGhbMV0pLGMubGluZTEuYWRkQ2hpbGQoYyksYy5saW5lMi5hZGRDaGlsZChjKSxjLnNldFBhcmVudHMoaCksYy5wb2ludDE9e3Zpc1Byb3A6e319LGMucG9pbnQyPXt2aXNQcm9wOnt9fSxjLnBvaW50Mz17dmlzUHJvcDp7fX0scD1lLm1lZXRMaW5lTGluZShjLmxpbmUxLnN0ZGZvcm0sYy5saW5lMi5zdGRmb3JtLDAsYSksbi5pc0FycmF5KGhbMl0pPygyPT09aFsyXS5sZW5ndGgmJihoWzJdPVsxXS5jb25jYXQoaFsyXSkpLGY9ZS5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3Jkczp7dXNyQ29vcmRzOmhbMl19fSxjLmxpbmUxLGEpLGY9ci5zdWJ0cmFjdChmLnVzckNvb3JkcyxwLnVzckNvb3JkcyksYy5kaXJlY3Rpb24xPWkuaW5uZXJQcm9kdWN0KGYsWzAsYy5saW5lMS5zdGRmb3JtWzJdLC1jLmxpbmUxLnN0ZGZvcm1bMV1dLDMpPj0wPzE6LTEpOmMuZGlyZWN0aW9uMT1oWzJdPj0wPzE6LTEsbi5pc0FycmF5KGhbM10pPygyPT09aFszXS5sZW5ndGgmJihoWzNdPVsxXS5jb25jYXQoaFszXSkpLGY9ZS5wcm9qZWN0UG9pbnRUb0xpbmUoe2Nvb3Jkczp7dXNyQ29vcmRzOmhbM119fSxjLmxpbmUyLGEpLGY9ci5zdWJ0cmFjdChmLnVzckNvb3JkcyxwLnVzckNvb3JkcyksYy5kaXJlY3Rpb24yPWkuaW5uZXJQcm9kdWN0KGYsWzAsYy5saW5lMi5zdGRmb3JtWzJdLC1jLmxpbmUyLnN0ZGZvcm1bMV1dLDMpPj0wPzE6LTEpOmMuZGlyZWN0aW9uMj1oWzNdPj0wPzE6LTEsYy51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxuLGEsaCxsLGQsdT1bMCwwLDBdO2lmKG49dGhpcy5saW5lMSxhPXRoaXMubGluZTIsdT1pLmNyb3NzUHJvZHVjdChuLnN0ZGZvcm0sYS5zdGRmb3JtKSxNYXRoLmFicyh1WzBdKT5pLmVwcyppLmVwcyYmKHVbMV0vPXVbMF0sdVsyXS89dVswXSx1WzBdLz11WzBdKSx0PXRoaXMuZGlyZWN0aW9uMSp0aGlzLlJhZGl1cygpLGg9ci5hZGQodSxbMCx0Km4uc3RkZm9ybVsyXSwtdCpuLnN0ZGZvcm1bMV1dKSx0PXRoaXMuZGlyZWN0aW9uMip0aGlzLlJhZGl1cygpLGw9ci5hZGQodSxbMCx0KmEuc3RkZm9ybVsyXSwtdCphLnN0ZGZvcm1bMV1dKSx0aGlzLnBvaW50Mi5jb29yZHM9bmV3IHMoby5DT09SRFNfQllfVVNFUixoLGMuYm9hcmQpLHRoaXMucG9pbnQxLmNvb3Jkcz1uZXcgcyhvLkNPT1JEU19CWV9VU0VSLHUsYy5ib2FyZCksdGhpcy5wb2ludDMuY29vcmRzPW5ldyBzKG8uQ09PUkRTX0JZX1VTRVIsbCxjLmJvYXJkKSxNYXRoLmFicyhoWzBdKTxpLmVwc3x8TWF0aC5hYnModVswXSk8aS5lcHN8fE1hdGguYWJzKGxbMF0pPGkuZXBzKXJldHVybiB0aGlzLmRhdGFYPVtOYU5dLHZvaWQodGhpcy5kYXRhWT1bTmFOXSk7ZD1lLmJlemllckFyYyhoLHUsbCwhMCwxKSx0aGlzLmRhdGFYPWRbMF0sdGhpcy5kYXRhWT1kWzFdLHRoaXMuYmV6aWVyRGVncmVlPTN9LGMubWV0aG9kTWFwPXQuZGVlcENvcHkoYy5tZXRob2RNYXAse3JhZGl1czpcIlJhZGl1c1wiLGdldFJhZGl1czpcIlJhZGl1c1wiLHNldFJhZGl1czpcInNldFJhZGl1c1wifSk7ZWxzZSBpZihcIjNwb2ludHNcIj09PWcpe2ZvcihjLnBvaW50MT1tWzBdLGMucG9pbnQyPW1bMV0sYy5wb2ludDM9bVsyXSx1PTA7dTwzO3UrKyluLmV4aXN0cyhtW3VdLl9pc19uZXcpPyhjLmFkZENoaWxkKG1bdV0pLGRlbGV0ZSBtW3VdLl9pc19uZXcpOm1bdV0uYWRkQ2hpbGQoYyk7Yy51c2VEaXJlY3Rpb249bC51c2VkaXJlY3Rpb24sYy5zZXRQYXJlbnRzKG0pLG4uZXhpc3RzKG1bM10pJiYoYy5wb2ludDQ9bVszXSxjLnBvaW50NC5hZGRDaGlsZChjKSksYy5tZXRob2RNYXA9dC5kZWVwQ29weShjLm1ldGhvZE1hcCx7YXJjOlwiYXJjXCIsY2VudGVyOlwiY2VudGVyXCIscmFkaXVzcG9pbnQ6XCJyYWRpdXNwb2ludFwiLGFuZ2xlcG9pbnQ6XCJhbmdsZXBvaW50XCIscmFkaXVzOlwiUmFkaXVzXCIsZ2V0UmFkaXVzOlwiUmFkaXVzXCIsc2V0UmFkaXVzOlwic2V0UmFkaXVzXCJ9KSxjLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0LGkscixzLG8sYT10aGlzLnBvaW50MixoPXRoaXMucG9pbnQxLGw9dGhpcy5wb2ludDMsYz0xLGQ9bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2VsZWN0aW9uKTtpZighYS5pc1JlYWx8fCFoLmlzUmVhbHx8IWwuaXNSZWFsKXJldHVybiB0aGlzLmRhdGFYPVtOYU5dLHZvaWQodGhpcy5kYXRhWT1bTmFOXSk7bz1lLnJhZChhLGgsbCksKFwibWlub3JcIj09PWQmJm8+TWF0aC5QSXx8XCJtYWpvclwiPT09ZCYmbzxNYXRoLlBJKSYmKGM9LTEpLHRoaXMudXNlRGlyZWN0aW9uJiZuLmV4aXN0cyh0aGlzLnBvaW50NCkmJihpPXRoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHMscj10aGlzLnBvaW50NC5jb29yZHMudXNyQ29vcmRzLHM9dGhpcy5wb2ludDMuY29vcmRzLnVzckNvb3JkcywoaVsxXS1zWzFdKSooaVsyXS1yWzJdKS0oaVsyXS1zWzJdKSooaVsxXS1yWzFdKT49MCYmKGw9dGhpcy5wb2ludDIsYT10aGlzLnBvaW50MykpLGE9YS5jb29yZHMudXNyQ29vcmRzLGg9aC5jb29yZHMudXNyQ29vcmRzLGw9bC5jb29yZHMudXNyQ29vcmRzLHQ9ZS5iZXppZXJBcmMoYSxoLGwsITAsYyksdGhpcy5kYXRhWD10WzBdLHRoaXMuZGF0YVk9dFsxXSx0aGlzLmJlemllckRlZ3JlZT0zfSxjLlJhZGl1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvaW50Mi5EaXN0KHRoaXMucG9pbnQxKX0sKGQ9bi5jb3B5QXR0cmlidXRlcyhsLGEub3B0aW9ucyxcInNlY3RvclwiLFwiYXJjXCIpKS53aXRoTGFiZWw9ITEsZC5uYW1lKz1cIl9hcmNcIixjLmFyYz1hLmNyZWF0ZShcImFyY1wiLFtjLnBvaW50MSxjLnBvaW50MixjLnBvaW50M10sZCksYy5hZGRDaGlsZChjLmFyYyl9cmV0dXJuIGMuY2VudGVyPWMucG9pbnQxLGMucmFkaXVzcG9pbnQ9Yy5wb2ludDIsYy5hbmdsZXBvaW50PWMucG9pbnQzLGMuaGFzUG9pbnRDdXJ2ZT1mdW5jdGlvbih0LGkpe3ZhciByLGEsaCxsLGMsZCx1PW5ldyBzKG8uQ09PUkRTX0JZX1NDUkVFTixbdCxpXSx0aGlzLmJvYXJkKSxwPXRoaXMuUmFkaXVzKCksZj10aGlzLmNlbnRlci5jb29yZHMuZGlzdGFuY2Uoby5DT09SRFNfQllfVVNFUix1KSxtPW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNlbGVjdGlvbik7cmV0dXJuIG4uaXNPYmplY3Qobi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KGM9dGhpcy5ib2FyZC5faW5wdXREZXZpY2UsbD1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25bY10pKTpsPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsbC89TWF0aC5taW4odGhpcy5ib2FyZC51bml0WCx0aGlzLmJvYXJkLnVuaXRZKSwoZD1NYXRoLmFicyhmLXApPGwpJiYocj1lLnJhZCh0aGlzLnBvaW50Mix0aGlzLmNlbnRlcix1LnVzckNvb3Jkcy5zbGljZSgxKSksYT0wLGg9ZS5yYWQodGhpcy5wb2ludDIsdGhpcy5jZW50ZXIsdGhpcy5wb2ludDMpLChcIm1pbm9yXCI9PT1tJiZoPk1hdGguUEl8fFwibWFqb3JcIj09PW0mJmg8TWF0aC5QSSkmJihhPWgsaD0yKk1hdGguUEkpLChyPGF8fHI+aCkmJihkPSExKSksZH0sYy5oYXNQb2ludFNlY3Rvcj1mdW5jdGlvbih0LGkpe3ZhciByLGEsaCxsPW5ldyBzKG8uQ09PUkRTX0JZX1NDUkVFTixbdCxpXSx0aGlzLmJvYXJkKSxjPXRoaXMuUmFkaXVzKCksZD10aGlzLnBvaW50MS5jb29yZHMuZGlzdGFuY2Uoby5DT09SRFNfQllfVVNFUixsKTxjLHU9bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2VsZWN0aW9uKTtyZXR1cm4gZCYmKHI9ZS5yYWQodGhpcy5yYWRpdXNwb2ludCx0aGlzLmNlbnRlcixsLnVzckNvb3Jkcy5zbGljZSgxKSksYT0wLGg9ZS5yYWQodGhpcy5yYWRpdXNwb2ludCx0aGlzLmNlbnRlcix0aGlzLmFuZ2xlcG9pbnQpLChcIm1pbm9yXCI9PT11JiZoPk1hdGguUEl8fFwibWFqb3JcIj09PXUmJmg8TWF0aC5QSSkmJihhPWgsaD0yKk1hdGguUEkpLChyPGF8fHI+aCkmJihkPSExKSksZH0sYy5oYXNQb2ludD1mdW5jdGlvbih0LGUpe3JldHVybiBuLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5oaWdobGlnaHRvbnNlY3Rvcil8fG4uZXZhbHVhdGUodGhpcy52aXNQcm9wLmhhc2lubmVycG9pbnRzKT90aGlzLmhhc1BvaW50U2VjdG9yKHQsZSk6dGhpcy5oYXNQb2ludEN1cnZlKHQsZSl9LGMuZ2V0VGV4dEFuY2hvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvaW50MS5jb29yZHN9LGMuZ2V0TGFiZWxBbmNob3I9ZnVuY3Rpb24oKXt2YXIgdCxpLHIsYSxoLGw9ZS5yYWQodGhpcy5wb2ludDIsdGhpcy5wb2ludDEsdGhpcy5wb2ludDMpLGM9MTMvdGhpcy5ib2FyZC51bml0WCxkPTEzL3RoaXMuYm9hcmQudW5pdFksdT10aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLHA9dGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxmPXVbMV0tcFsxXSxtPXVbMl0tcFsyXSxnPW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLnNlbGVjdGlvbiksYj10aGlzLmxhYmVsP3RoaXMubGFiZWwudmlzUHJvcDp0aGlzLnZpc1Byb3AubGFiZWw7cmV0dXJuKFwibWlub3JcIj09PWcmJmw+TWF0aC5QSXx8XCJtYWpvclwiPT09ZyYmbDxNYXRoLlBJKSYmKGw9LSgyKk1hdGguUEktbCkpLHI9KHQ9bmV3IHMoby5DT09SRFNfQllfVVNFUixbcFsxXStNYXRoLmNvcyguNSpsKSpmLU1hdGguc2luKC41KmwpKm0scFsyXStNYXRoLnNpbiguNSpsKSpmK01hdGguY29zKC41KmwpKm1dLHRoaXMuYm9hcmQpKS51c3JDb29yZHNbMV0tcFsxXSxhPXQudXNyQ29vcmRzWzJdLXBbMl0scj1yKigoaD1NYXRoLnNxcnQocipyK2EqYSkpK2MpL2gsYT1hKihoK2QpL2gsaT1bcFsxXStyLHBbMl0rYV0sYi5wb3NpdGlvbj1lLmNhbGNMYWJlbFF1YWRyYW50KGUucmFkKFsxLDBdLFswLDBdLGkpKSxuZXcgcyhvLkNPT1JEU19CWV9VU0VSLGksdGhpcy5ib2FyZCl9LGMuc2V0UmFkaXVzPWZ1bmN0aW9uKHQpe2MuUmFkaXVzPWZ1bmN0aW9uKCl7dmFyIGU9bi5ldmFsdWF0ZSh0KTtyZXR1cm5cImF1dG9cIj09PWU/dGhpcy5hdXRvUmFkaXVzKCk6ZX19LGMuZ2V0UmFkaXVzPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZGVwcmVjYXRlZChcIlNlY3Rvci5nZXRSYWRpdXMoKVwiLFwiU2VjdG9yLlJhZGl1cygpXCIpLHRoaXMuUmFkaXVzKCl9LFwiM3BvaW50c1wiPT09ZyYmKGMuc2V0UG9zaXRpb25EaXJlY3RseT1mdW5jdGlvbih0LGUsaSl7dmFyIG8sbj1uZXcgcyh0LGUsdGhpcy5ib2FyZCksYT1uZXcgcyh0LGksdGhpcy5ib2FyZCk7cmV0dXJuIGMucG9pbnQxLmRyYWdnYWJsZSgpJiZjLnBvaW50Mi5kcmFnZ2FibGUoKSYmYy5wb2ludDMuZHJhZ2dhYmxlKCk/KG89ci5zdWJ0cmFjdChuLnVzckNvb3JkcyxhLnVzckNvb3JkcyksdGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixvLnNsaWNlKDEpLHt0eXBlOlwidHJhbnNsYXRlXCJ9KS5hcHBseU9uY2UoW2MucG9pbnQxLGMucG9pbnQyLGMucG9pbnQzXSksdGhpcyk6dGhpc30pLGMucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLGN9LHQucmVnaXN0ZXJFbGVtZW50KFwic2VjdG9yXCIsdC5jcmVhdGVTZWN0b3IpLHQuY3JlYXRlQ2lyY3VtY2lyY2xlU2VjdG9yPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sYTtpZighMT09PShhPW4ucHJvdmlkZVBvaW50cyh0LGUsaSxcInBvaW50XCIpKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNpcmN1bWNpcmNsZSBzZWN0b3Igd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzJdK1wiJy5cIik7cmV0dXJuKHM9dC5jcmVhdGUoXCJjaXJjdW1jZW50ZXJcIixhLnNsaWNlKDAsMyksbykpLmR1bXA9ITEsbz1uLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiY2lyY3VtY2lyY2xlc2VjdG9yXCIpLChyPXQuY3JlYXRlKFwic2VjdG9yXCIsW3MsYVswXSxhWzJdLGFbMV1dLG8pKS5lbFR5cGU9XCJjaXJjdW1jaXJjbGVzZWN0b3JcIixyLnNldFBhcmVudHMoYSksci5jZW50ZXI9cyxyLnN1YnM9e2NlbnRlcjpzfSxyfSx0LnJlZ2lzdGVyRWxlbWVudChcImNpcmN1bWNpcmNsZXNlY3RvclwiLHQuY3JlYXRlQ2lyY3VtY2lyY2xlU2VjdG9yKSx0LmNyZWF0ZU1pbm9yU2VjdG9yPWZ1bmN0aW9uKGUsaSxyKXtyZXR1cm4gci5zZWxlY3Rpb249XCJtaW5vclwiLHQuY3JlYXRlU2VjdG9yKGUsaSxyKX0sdC5yZWdpc3RlckVsZW1lbnQoXCJtaW5vcnNlY3RvclwiLHQuY3JlYXRlTWlub3JTZWN0b3IpLHQuY3JlYXRlTWFqb3JTZWN0b3I9ZnVuY3Rpb24oZSxpLHIpe3JldHVybiByLnNlbGVjdGlvbj1cIm1ham9yXCIsdC5jcmVhdGVTZWN0b3IoZSxpLHIpfSx0LnJlZ2lzdGVyRWxlbWVudChcIm1ham9yc2VjdG9yXCIsdC5jcmVhdGVNYWpvclNlY3RvciksdC5jcmVhdGVBbmdsZT1mdW5jdGlvbih0LHIsYSl7dmFyIGgsbCxjLGQsdSxwLGY9XCJpbnZhbGlkXCI7aWYoclswXS5lbGVtZW50Q2xhc3M9PT1vLk9CSkVDVF9DTEFTU19MSU5FJiZyWzFdLmVsZW1lbnRDbGFzcz09PW8uT0JKRUNUX0NMQVNTX0xJTkUmJihuLmlzQXJyYXkoclsyXSl8fG4uaXNOdW1iZXIoclsyXSkpJiYobi5pc0FycmF5KHJbM10pfHxuLmlzTnVtYmVyKHJbM10pKSlmPVwiMmxpbmVzXCI7ZWxzZXtpZighMT09PShwPW4ucHJvdmlkZVBvaW50cyh0LHIsYSxcInBvaW50XCIpKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGFuZ2xlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgclswXStcIicgYW5kICdcIit0eXBlb2YgclsxXStcIicgYW5kICdcIit0eXBlb2YgclsyXStcIicuXCIpO2Y9XCIzcG9pbnRzXCJ9aWYoYz1uLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwiYW5nbGVcIiksbi5leGlzdHMoYy5uYW1lKSYmXCJcIiE9PWMubmFtZXx8KGMubmFtZT10LmdlbmVyYXRlTmFtZSh7dHlwZTpvLk9CSkVDVF9UWVBFX0FOR0xFfSkpLGw9bi5leGlzdHMoYy5yYWRpdXMpP2MucmFkaXVzOjAsXCIybGluZXNcIj09PWY/KHIucHVzaChsKSwoaD10LmNyZWF0ZShcInNlY3RvclwiLHIsYykpLnVwZGF0ZURhdGFBcnJheVNlY3Rvcj1oLnVwZGF0ZURhdGFBcnJheSxoLnNldEFuZ2xlPWZ1bmN0aW9uKHQpe30saC5mcmVlPWZ1bmN0aW9uKHQpe30pOigoaD10LmNyZWF0ZShcInNlY3RvclwiLFtwWzFdLHBbMF0scFsyXV0sYykpLmFyYy52aXNQcm9wLnByaXY9ITAsaC5wb2ludD1oLnBvaW50Mj1oLnJhZGl1c3BvaW50PXBbMF0saC5wb2ludHNxdWFyZT1oLnBvaW50Mz1oLmFuZ2xlcG9pbnQ9cFsyXSxoLlJhZGl1cz1mdW5jdGlvbigpe3ZhciB0PW4uZXZhbHVhdGUobCk7cmV0dXJuXCJhdXRvXCI9PT10P2guYXV0b1JhZGl1cygpOnR9LGgudXBkYXRlRGF0YUFycmF5U2VjdG9yPWZ1bmN0aW9uKCl7dmFyIHQsaSxyPXRoaXMucG9pbnQyLHM9dGhpcy5wb2ludDEsbz10aGlzLnBvaW50MyxhPXRoaXMuUmFkaXVzKCksaD1zLkRpc3QociksbD0xLGM9bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2VsZWN0aW9uKTtpPWUucmFkKHIscyxvKSwoXCJtaW5vclwiPT09YyYmaT5NYXRoLlBJfHxcIm1ham9yXCI9PT1jJiZpPE1hdGguUEkpJiYobD0tMSkscj1yLmNvb3Jkcy51c3JDb29yZHMscz1zLmNvb3Jkcy51c3JDb29yZHMsbz1vLmNvb3Jkcy51c3JDb29yZHMscj1bMSxzWzFdKyhyWzFdLXNbMV0pKmEvaCxzWzJdKyhyWzJdLXNbMl0pKmEvaF0sbz1bMSxzWzFdKyhvWzFdLXNbMV0pKmEvaCxzWzJdKyhvWzJdLXNbMl0pKmEvaF0sdD1lLmJlemllckFyYyhyLHMsbywhMCxsKSx0aGlzLmRhdGFYPXRbMF0sdGhpcy5kYXRhWT10WzFdLHRoaXMuYmV6aWVyRGVncmVlPTN9LGguc2V0QW5nbGU9ZnVuY3Rpb24odCl7dmFyIGUscixzLG89dGhpcy5hbmdsZXBvaW50LGE9dGhpcy5yYWRpdXNwb2ludDtyZXR1cm4gby5kcmFnZ2FibGUoKSYmKGU9dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbdCx0aGlzLmNlbnRlcl0se3R5cGU6XCJyb3RhdGVcIn0pLG8uYWRkVHJhbnNmb3JtKGEsZSksZS51cGRhdGUoKSxvLm1vdmVUbyhpLm1hdFZlY011bHQoZS5tYXRyaXgsYS5jb29yZHMudXNyQ29vcmRzKSkscz1uLmlzRnVuY3Rpb24odCk/ZnVuY3Rpb24oKXtyZXR1cm4gMipNYXRoLlBJLXQoKX06ZnVuY3Rpb24oKXtyZXR1cm4gMipNYXRoLlBJLXR9LHI9dGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbcyx0aGlzLmNlbnRlcl0se3R5cGU6XCJyb3RhdGVcIn0pLG8uY29vcmRzLm9uKFwidXBkYXRlXCIsKGZ1bmN0aW9uKCl7ci51cGRhdGUoKSxhLm1vdmVUbyhpLm1hdFZlY011bHQoci5tYXRyaXgsby5jb29yZHMudXNyQ29vcmRzKSl9KSksby5zZXRQYXJlbnRzKGEpKSx0aGlzfSxoLmZyZWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmFuZ2xlcG9pbnQ7cmV0dXJuIHQudHJhbnNmb3JtYXRpb25zLmxlbmd0aD4wJiYodC50cmFuc2Zvcm1hdGlvbnMucG9wKCksdC5pc0RyYWdnYWJsZT0hMCx0LnBhcmVudHM9W10sdC5jb29yZHMub2ZmKFwidXBkYXRlXCIpKSx0aGlzfSxoLnNldFBhcmVudHMocCkpLG4uZXhpc3RzKGgudmlzUHJvcC50ZXh0KSYmaC5sYWJlbC5zZXRUZXh0KG4uZXZhbHVhdGUoaC52aXNQcm9wLnRleHQpKSxoLmVsVHlwZT1cImFuZ2xlXCIsaC50eXBlPW8uT0JKRUNUX1RZUEVfQU5HTEUsaC5zdWJzPXt9LGgudXBkYXRlRGF0YUFycmF5U3F1YXJlPWZ1bmN0aW9uKCl7dmFyIHQscixzLG8sbixhLGgsbCxjPXRoaXMuUmFkaXVzKCk7XCIybGluZXNcIj09PWYmJnRoaXMudXBkYXRlRGF0YUFycmF5U2VjdG9yKCksdD10aGlzLnBvaW50MixyPXRoaXMucG9pbnQxLHM9dGhpcy5wb2ludDMsdD10LmNvb3Jkcy51c3JDb29yZHMscj1yLmNvb3Jkcy51c3JDb29yZHMscz1zLmNvb3Jkcy51c3JDb29yZHMsbz1lLmRpc3RhbmNlKHQsciwzKSxuPWUuZGlzdGFuY2UocyxyLDMpLHQ9WzEsclsxXSsodFsxXS1yWzFdKSpjL28sclsyXSsodFsyXS1yWzJdKSpjL29dLHM9WzEsclsxXSsoc1sxXS1yWzFdKSpjL24sclsyXSsoc1syXS1yWzJdKSpjL25dLGE9aS5jcm9zc1Byb2R1Y3QocyxyKSxoPVstdFsxXSphWzFdLXRbMl0qYVsyXSx0WzBdKmFbMV0sdFswXSphWzJdXSxhPWkuY3Jvc3NQcm9kdWN0KHQsciksbD1bLXNbMV0qYVsxXS1zWzJdKmFbMl0sc1swXSphWzFdLHNbMF0qYVsyXV0sKGE9aS5jcm9zc1Byb2R1Y3QoaCxsKSlbMV0vPWFbMF0sYVsyXS89YVswXSx0aGlzLmRhdGFYPVtyWzFdLHRbMV0sYVsxXSxzWzFdLHJbMV1dLHRoaXMuZGF0YVk9W3JbMl0sdFsyXSxhWzJdLHNbMl0sclsyXV0sdGhpcy5iZXppZXJEZWdyZWU9MX0saC51cGRhdGVEYXRhQXJyYXlOb25lPWZ1bmN0aW9uKCl7dGhpcy5kYXRhWD1bTmFOXSx0aGlzLmRhdGFZPVtOYU5dLHRoaXMuYmV6aWVyRGVncmVlPTF9LGgudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQ9bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudHlwZSkscj1lLnRydWVBbmdsZSh0aGlzLnBvaW50Mix0aGlzLnBvaW50MSx0aGlzLnBvaW50Mykscz1uLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zZWxlY3Rpb24pOyhcIm1pbm9yXCI9PT1zJiZyPjE4MHx8XCJtYWpvclwiPT09cyYmcjwxODApJiYocj0zNjAtciksTWF0aC5hYnMoci05MCk8bi5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Aub3J0aG9zZW5zaXRpdml0eSkraS5lcHMmJih0PW4uZXZhbHVhdGUodGhpcy52aXNQcm9wLm9ydGhvdHlwZSkpLFwibm9uZVwiPT09dD90aGlzLnVwZGF0ZURhdGFBcnJheU5vbmUoKTpcInNxdWFyZVwiPT09dD90aGlzLnVwZGF0ZURhdGFBcnJheVNxdWFyZSgpOlwic2VjdG9yXCI9PT10P3RoaXMudXBkYXRlRGF0YUFycmF5U2VjdG9yKCk6XCJzZWN0b3Jkb3RcIj09PXQmJih0aGlzLnVwZGF0ZURhdGFBcnJheVNlY3RvcigpLHRoaXMuZG90LnZpc1Byb3AudmlzaWJsZXx8dGhpcy5kb3Quc2V0QXR0cmlidXRlKHt2aXNpYmxlOiEwfSkpLCghdGhpcy52aXNQcm9wLnZpc2libGV8fFwic2VjdG9yZG90XCIhPT10JiZ0aGlzLmRvdC52aXNQcm9wLnZpc2libGUpJiZ0aGlzLmRvdC5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITF9KX0sZD1uLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwiYW5nbGVcIixcImRvdFwiKSxoLmRvdD10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7dmFyIHQscixzLG8sYSxsLGMsZCx1O3JldHVybiBuLmV4aXN0cyhoLmRvdCkmJiFoLmRvdC52aXNQcm9wLnZpc2libGU/WzAsMF06KHQ9aC5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxyPWgucG9pbnQxLmNvb3Jkcy51c3JDb29yZHMscz1oLlJhZGl1cygpLG89ZS5kaXN0YW5jZSh0LHIsMyksYT1lLnJhZChoLnBvaW50MixoLnBvaW50MSxoLnBvaW50MyksKFwibWlub3JcIj09PSh1PW4uZXZhbHVhdGUoaC52aXNQcm9wLnNlbGVjdGlvbikpJiZhPk1hdGguUEl8fFwibWFqb3JcIj09PXUmJmE8TWF0aC5QSSkmJihhPS0oMipNYXRoLlBJLWEpKSxhKj0uNSxsPU1hdGguY29zKGEpLGM9TWF0aC5zaW4oYSksdD1bMSxyWzFdKyh0WzFdLXJbMV0pKnMvbyxyWzJdKyh0WzJdLXJbMl0pKnMvb10sZD1bWzEsMCwwXSxbclsxXS0uNSpyWzFdKmwrLjUqclsyXSpjLC41KmwsLjUqLWNdLFtyWzJdLS41KnJbMV0qYy0uNSpyWzJdKmwsLjUqYywuNSpsXV0saS5tYXRWZWNNdWx0KGQsdCkpfV0sZCksaC5kb3QuZHVtcD0hMSxoLnN1YnMuZG90PWguZG90LFwiMmxpbmVzXCI9PT1mKWZvcih1PTA7dTwyO3UrKyl0LnNlbGVjdChyW3VdKS5hZGRDaGlsZChoLmRvdCk7ZWxzZSBmb3IodT0wO3U8Mzt1KyspdC5zZWxlY3QocFt1XSkuYWRkQ2hpbGQoaC5kb3QpO3JldHVybiBoLmdldExhYmVsQW5jaG9yPWZ1bmN0aW9uKCl7dmFyIHQscixhLGwsYyxkLHUscCxmLG09MTIsZz1uLmV2YWx1YXRlKGgudmlzUHJvcC5zZWxlY3Rpb24pLGI9dGhpcy5sYWJlbD90aGlzLmxhYmVsLnZpc1Byb3A6dGhpcy52aXNQcm9wLmxhYmVsO3JldHVybiBuLmV4aXN0cyh0aGlzLmxhYmVsLnZpc1Byb3AuZm9udFNpemUpJiYobT1uLmV2YWx1YXRlKHRoaXMubGFiZWwudmlzUHJvcC5mb250U2l6ZSkpLG0vPXRoaXMuYm9hcmQudW5pdFgscj1oLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLGE9aC5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxsPWguUmFkaXVzKCksYz1lLmRpc3RhbmNlKHIsYSwzKSxkPWUucmFkKGgucG9pbnQyLGgucG9pbnQxLGgucG9pbnQzKSwoXCJtaW5vclwiPT09ZyYmZD5NYXRoLlBJfHxcIm1ham9yXCI9PT1nJiZkPE1hdGguUEkpJiYoZD0tKDIqTWF0aC5QSS1kKSksZCo9LjUsdT1NYXRoLmNvcyhkKSxwPU1hdGguc2luKGQpLHI9WzEsYVsxXSsoclsxXS1hWzFdKSpsL2MsYVsyXSsoclsyXS1hWzJdKSpsL2NdLGY9W1sxLDAsMF0sW2FbMV0tLjUqYVsxXSp1Ky41KmFbMl0qcCwuNSp1LC41Ki1wXSxbYVsyXS0uNSphWzFdKnAtLjUqYVsyXSp1LC41KnAsLjUqdV1dLCh0PWkubWF0VmVjTXVsdChmLHIpKVsxXS89dFswXSx0WzJdLz10WzBdLHRbMF0vPXRbMF0sYz1lLmRpc3RhbmNlKHQsYSwzKSx0PVt0WzBdLGFbMV0rKHRbMV0tYVsxXSkqKGwrbSkvYyxhWzJdKyh0WzJdLWFbMl0pKihsK20pL2NdLGIucG9zaXRpb249ZS5jYWxjTGFiZWxRdWFkcmFudChlLnJhZChbMSwwXSxbMCwwXSx0KSksbmV3IHMoby5DT09SRFNfQllfVVNFUix0LHRoaXMuYm9hcmQpfSxoLlZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIGUucmFkKHRoaXMucG9pbnQyLHRoaXMucG9pbnQxLHRoaXMucG9pbnQzKX0saC5tZXRob2RNYXA9bi5kZWVwQ29weShoLm1ldGhvZE1hcCx7VmFsdWU6XCJWYWx1ZVwiLHNldEFuZ2xlOlwic2V0QW5nbGVcIixmcmVlOlwiZnJlZVwifSksaH0sdC5yZWdpc3RlckVsZW1lbnQoXCJhbmdsZVwiLHQuY3JlYXRlQW5nbGUpLHQuY3JlYXRlTm9ucmVmbGV4QW5nbGU9ZnVuY3Rpb24oaSxyLHMpe3ZhciBvO3JldHVybiBzLnNlbGVjdGlvbj1cIm1pbm9yXCIsKG89dC5jcmVhdGVBbmdsZShpLHIscykpLlZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5yYWQodGhpcy5wb2ludDIsdGhpcy5wb2ludDEsdGhpcy5wb2ludDMpO3JldHVybiB0PE1hdGguUEk/dDoyKk1hdGguUEktdH0sb30sdC5yZWdpc3RlckVsZW1lbnQoXCJub25yZWZsZXhhbmdsZVwiLHQuY3JlYXRlTm9ucmVmbGV4QW5nbGUpLHQuY3JlYXRlUmVmbGV4QW5nbGU9ZnVuY3Rpb24oaSxyLHMpe3ZhciBvO3JldHVybiBzLnNlbGVjdGlvbj1cIm1ham9yXCIsKG89dC5jcmVhdGVBbmdsZShpLHIscykpLlZhbHVlPWZ1bmN0aW9uKCl7dmFyIHQ9ZS5yYWQodGhpcy5wb2ludDIsdGhpcy5wb2ludDEsdGhpcy5wb2ludDMpO3JldHVybiB0Pj1NYXRoLlBJP3Q6MipNYXRoLlBJLXR9LG99LHQucmVnaXN0ZXJFbGVtZW50KFwicmVmbGV4YW5nbGVcIix0LmNyZWF0ZVJlZmxleEFuZ2xlKSx7Y3JlYXRlU2VjdG9yOnQuY3JlYXRlU2VjdG9yLGNyZWF0ZUNpcmN1bWNpcmNsZVNlY3Rvcjp0LmNyZWF0ZUNpcmN1bWNpcmNsZVNlY3RvcixjcmVhdGVNaW5vclNlY3Rvcjp0LmNyZWF0ZU1pbm9yU2VjdG9yLGNyZWF0ZU1ham9yU2VjdG9yOnQuY3JlYXRlTWFqb3JTZWN0b3IsY3JlYXRlQW5nbGU6dC5jcmVhdGVBbmdsZSxjcmVhdGVSZWZsZXhBbmdsZTp0LmNyZWF0ZVJlZmxleEFuZ2xlLGNyZWF0ZU5vbnJlZmxleEFuZ2xlOnQuY3JlYXRlTm9ucmVmbGV4QW5nbGV9fSkpLGRlZmluZShcImJhc2UvdHJhbnNmb3JtYXRpb25cIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJtYXRoL21hdGhcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlRyYW5zZm9ybWF0aW9uPWZ1bmN0aW9uKHQsaSxyKXt0aGlzLmVsZW1lbnRDbGFzcz1lLk9CSkVDVF9DTEFTU19PVEhFUix0aGlzLnR5cGU9ZS5PQkpFQ1RfVFlQRV9UUkFOU0ZPUk1BVElPTix0aGlzLm1hdHJpeD1bWzEsMCwwXSxbMCwxLDBdLFswLDAsMV1dLHRoaXMuYm9hcmQ9dCx0aGlzLmlzTnVtZXJpY01hdHJpeD0hMSx0aGlzLnNldE1hdHJpeCh0LGksciksdGhpcy5tZXRob2RNYXA9e2FwcGx5OlwiYXBwbHlcIixhcHBseU9uY2U6XCJhcHBseU9uY2VcIixiaW5kVG86XCJiaW5kVG9cIixiaW5kOlwiYmluZFRvXCIsbWVsdDpcIm1lbHRcIn19LHQuVHJhbnNmb3JtYXRpb24ucHJvdG90eXBlPXt9LHQuZXh0ZW5kKHQuVHJhbnNmb3JtYXRpb24ucHJvdG90eXBlLHt1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sc2V0TWF0cml4OmZ1bmN0aW9uKHQsZSxzKXt2YXIgbztmb3IodGhpcy5pc051bWVyaWNNYXRyaXg9ITAsbz0wO288cy5sZW5ndGg7bysrKWlmKFwibnVtYmVyXCIhPXR5cGVvZiBzW29dKXt0aGlzLmlzTnVtZXJpY01hdHJpeD0hMTticmVha31pZihcInRyYW5zbGF0ZVwiPT09ZSl7aWYoMiE9PXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiB0cmFuc2xhdGUgdHJhbnNmb3JtYXRpb24gbmVlZHMgMiBwYXJhbWV0ZXJzLlwiKTt0aGlzLmV2YWxQYXJhbT1yLmNyZWF0ZUV2YWxGdW5jdGlvbih0LHMsMiksdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm1hdHJpeFsxXVswXT10aGlzLmV2YWxQYXJhbSgwKSx0aGlzLm1hdHJpeFsyXVswXT10aGlzLmV2YWxQYXJhbSgxKX19ZWxzZSBpZihcInNjYWxlXCI9PT1lKXtpZigyIT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IHNjYWxlIHRyYW5zZm9ybWF0aW9uIG5lZWRzIDIgcGFyYW1ldGVycy5cIik7dGhpcy5ldmFsUGFyYW09ci5jcmVhdGVFdmFsRnVuY3Rpb24odCxzLDIpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5tYXRyaXhbMV1bMV09dGhpcy5ldmFsUGFyYW0oMCksdGhpcy5tYXRyaXhbMl1bMl09dGhpcy5ldmFsUGFyYW0oMSl9fWVsc2UgaWYoXCJyZWZsZWN0XCI9PT1lKXMubGVuZ3RoPDQmJihzWzBdPXQuc2VsZWN0KHNbMF0pKSwyPT09cy5sZW5ndGgmJihzWzFdPXQuc2VsZWN0KHNbMV0pKSw0PT09cy5sZW5ndGgmJih0aGlzLmV2YWxQYXJhbT1yLmNyZWF0ZUV2YWxGdW5jdGlvbih0LHMsNCkpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLG8sbixhLGgsbDsxPT09cy5sZW5ndGg/aD1zWzBdLnN0ZGZvcm06Mj09PXMubGVuZ3RoP2g9aS5jcm9zc1Byb2R1Y3Qoc1sxXS5jb29yZHMudXNyQ29vcmRzLHNbMF0uY29vcmRzLnVzckNvb3Jkcyk6ND09PXMubGVuZ3RoJiYoaD1pLmNyb3NzUHJvZHVjdChbMSx0aGlzLmV2YWxQYXJhbSgyKSx0aGlzLmV2YWxQYXJhbSgzKV0sWzEsdGhpcy5ldmFsUGFyYW0oMCksdGhpcy5ldmFsUGFyYW0oMSldKSksdD1oWzFdLGU9aFsyXSxhPShsPVstKHI9aFswXSkqdCwtciplLHQqdCtlKmVdKVsyXSxvPWxbMF0vbFsyXSxuPWxbMV0vbFsyXSx0PS1oWzJdLGU9aFsxXSx0aGlzLm1hdHJpeFsxXVsxXT0odCp0LWUqZSkvYSx0aGlzLm1hdHJpeFsxXVsyXT0yKnQqZS9hLHRoaXMubWF0cml4WzJdWzFdPXRoaXMubWF0cml4WzFdWzJdLHRoaXMubWF0cml4WzJdWzJdPS10aGlzLm1hdHJpeFsxXVsxXSx0aGlzLm1hdHJpeFsxXVswXT1vKigxLXRoaXMubWF0cml4WzFdWzFdKS1uKnRoaXMubWF0cml4WzFdWzJdLHRoaXMubWF0cml4WzJdWzBdPW4qKDEtdGhpcy5tYXRyaXhbMl1bMl0pLW8qdGhpcy5tYXRyaXhbMl1bMV19O2Vsc2UgaWYoXCJyb3RhdGVcIj09PWUpMz09PXMubGVuZ3RoP3RoaXMuZXZhbFBhcmFtPXIuY3JlYXRlRXZhbEZ1bmN0aW9uKHQscywzKTpzLmxlbmd0aD4wJiZzLmxlbmd0aDw9MiYmKHRoaXMuZXZhbFBhcmFtPXIuY3JlYXRlRXZhbEZ1bmN0aW9uKHQscywxKSwyIT09cy5sZW5ndGh8fHIuaXNBcnJheShzWzFdKXx8KHNbMV09dC5zZWxlY3Qoc1sxXSkpKSx0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLmV2YWxQYXJhbSgwKSxvPU1hdGguY29zKGkpLG49TWF0aC5zaW4oaSk7dGhpcy5tYXRyaXhbMV1bMV09byx0aGlzLm1hdHJpeFsxXVsyXT0tbix0aGlzLm1hdHJpeFsyXVsxXT1uLHRoaXMubWF0cml4WzJdWzJdPW8scy5sZW5ndGg+MSYmKDM9PT1zLmxlbmd0aD8odD10aGlzLmV2YWxQYXJhbSgxKSxlPXRoaXMuZXZhbFBhcmFtKDIpKTpyLmlzQXJyYXkoc1sxXSk/KHQ9c1sxXVswXSxlPXNbMV1bMV0pOih0PXNbMV0uWCgpLGU9c1sxXS5ZKCkpLHRoaXMubWF0cml4WzFdWzBdPXQqKDEtbykrZSpuLHRoaXMubWF0cml4WzJdWzBdPWUqKDEtbyktdCpuKX07ZWxzZSBpZihcInNoZWFyXCI9PT1lKXtpZigyIT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IHNoZWFyIHRyYW5zZm9ybWF0aW9uIG5lZWRzIDIgcGFyYW1ldGVycy5cIik7dGhpcy5ldmFsUGFyYW09ci5jcmVhdGVFdmFsRnVuY3Rpb24odCxzLDIpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5tYXRyaXhbMV1bMl09dGhpcy5ldmFsUGFyYW0oMCksdGhpcy5tYXRyaXhbMl1bMV09dGhpcy5ldmFsUGFyYW0oMSl9fWVsc2UgaWYoXCJnZW5lcmljXCI9PT1lKXtpZig5IT09cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IGdlbmVyaWMgdHJhbnNmb3JtYXRpb24gbmVlZHMgOSBwYXJhbWV0ZXJzLlwiKTt0aGlzLmV2YWxQYXJhbT1yLmNyZWF0ZUV2YWxGdW5jdGlvbih0LHMsOSksdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLm1hdHJpeFswXVswXT10aGlzLmV2YWxQYXJhbSgwKSx0aGlzLm1hdHJpeFswXVsxXT10aGlzLmV2YWxQYXJhbSgxKSx0aGlzLm1hdHJpeFswXVsyXT10aGlzLmV2YWxQYXJhbSgyKSx0aGlzLm1hdHJpeFsxXVswXT10aGlzLmV2YWxQYXJhbSgzKSx0aGlzLm1hdHJpeFsxXVsxXT10aGlzLmV2YWxQYXJhbSg0KSx0aGlzLm1hdHJpeFsxXVsyXT10aGlzLmV2YWxQYXJhbSg1KSx0aGlzLm1hdHJpeFsyXVswXT10aGlzLmV2YWxQYXJhbSg2KSx0aGlzLm1hdHJpeFsyXVsxXT10aGlzLmV2YWxQYXJhbSg3KSx0aGlzLm1hdHJpeFsyXVsyXT10aGlzLmV2YWxQYXJhbSg4KX19fSxhcHBseTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnVwZGF0ZSgpLHIuZXhpc3RzKGUpP2kubWF0VmVjTXVsdCh0aGlzLm1hdHJpeCx0LmluaXRpYWxDb29yZHMudXNyQ29vcmRzKTppLm1hdFZlY011bHQodGhpcy5tYXRyaXgsdC5jb29yZHMudXNyQ29vcmRzKX0sYXBwbHlPbmNlOmZ1bmN0aW9uKHQpe3ZhciBzLG8sbjtmb3Ioci5pc0FycmF5KHQpfHwodD1bdF0pLG89dC5sZW5ndGgsbj0wO248bztuKyspdGhpcy51cGRhdGUoKSxzPWkubWF0VmVjTXVsdCh0aGlzLm1hdHJpeCx0W25dLmNvb3Jkcy51c3JDb29yZHMpLHRbbl0uY29vcmRzLnNldENvb3JkaW5hdGVzKGUuQ09PUkRTX0JZX1VTRVIscyl9LGJpbmRUbzpmdW5jdGlvbih0KXt2YXIgZSxpO2lmKHIuaXNBcnJheSh0KSlmb3IoaT10Lmxlbmd0aCxlPTA7ZTxpO2UrKyl0W2VdLnRyYW5zZm9ybWF0aW9ucy5wdXNoKHRoaXMpO2Vsc2UgdC50cmFuc2Zvcm1hdGlvbnMucHVzaCh0aGlzKX0sc2V0UHJvcGVydHk6ZnVuY3Rpb24oZSl7dC5kZXByZWNhdGVkKFwiVHJhbnNmb3JtYXRpb24uc2V0UHJvcGVydHkoKVwiLFwiVHJhbnNmb3JtYXRpb24uc2V0QXR0cmlidXRlKClcIil9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbih0KXt9LG1lbHQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHMsbyxuLGE9W107Zm9yKGk9dC5tYXRyaXgubGVuZ3RoLHI9dGhpcy5tYXRyaXhbMF0ubGVuZ3RoLGU9MDtlPGk7ZSsrKWFbZV09W107Zm9yKHRoaXMudXBkYXRlKCksdC51cGRhdGUoKSxlPTA7ZTxpO2UrKylmb3Iobj0wO248cjtuKyspe2ZvcihvPTAscz0wO3M8aTtzKyspbys9dC5tYXRyaXhbZV1bc10qdGhpcy5tYXRyaXhbc11bbl07YVtlXVtuXT1vfXJldHVybiB0aGlzLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubWF0cml4Lmxlbmd0aCxpPXRoaXMubWF0cml4WzBdLmxlbmd0aDtmb3IoZT0wO2U8dDtlKyspZm9yKG49MDtuPGk7bisrKXRoaXMubWF0cml4W2VdW25dPWFbZV1bbl19LHRoaXN9LGdldFBhcmVudHM6ZnVuY3Rpb24oKXt2YXIgdD1bW10uY29uY2F0LmFwcGx5KFtdLHRoaXMubWF0cml4KV07cmV0dXJuIDAhPT10aGlzLnBhcmVudHMubGVuZ3RoJiYodD10aGlzLnBhcmVudHMpLHR9fSksdC5jcmVhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oZSxpLHIpe3JldHVybiBuZXcgdC5UcmFuc2Zvcm1hdGlvbihlLHIudHlwZSxpKX0sdC5yZWdpc3RlckVsZW1lbnQoXCJ0cmFuc2Zvcm1cIix0LmNyZWF0ZVRyYW5zZm9ybSkse1RyYW5zZm9ybWF0aW9uOnQuVHJhbnNmb3JtYXRpb24sY3JlYXRlVHJhbnNmb3JtOnQuY3JlYXRlVHJhbnNmb3JtfX0pKSxkZWZpbmUoXCJlbGVtZW50L2NvbXBvc2l0aW9uXCIsW1wianhnXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvbnVtZXJpY3NcIixcImJhc2UvY29vcmRzXCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9wb2ludFwiLFwiYmFzZS9saW5lXCIsXCJiYXNlL2NpcmNsZVwiLFwiYmFzZS90cmFuc2Zvcm1hdGlvblwiLFwiYmFzZS9jb21wb3NpdGlvblwiLFwiYmFzZS9jdXJ2ZVwiLFwiYmFzZS9wb2x5Z29uXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEsaCxsLGMsZCx1LHApe1widXNlIHN0cmljdFwiO3JldHVybiB0LmNyZWF0ZU9ydGhvZ29uYWxQcm9qZWN0aW9uPWZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxhLGgsbDtpZihlWzBdPXQuc2VsZWN0KGVbMF0pLGVbMV09dC5zZWxlY3QoZVsxXSksby5pc1BvaW50VHlwZSh0LGVbMF0pJiZlWzFdLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkUpYT1vLnByb3ZpZGVQb2ludHModCxbZVswXV0scixcInBvaW50XCIpWzBdLHM9ZVsxXTtlbHNle2lmKCFvLmlzUG9pbnRUeXBlKHQsZVsxXSl8fGVbMF0uZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfTElORSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHBlcnBlbmRpY3VsYXIgcG9pbnQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxsaW5lXVwiKTthPW8ucHJvdmlkZVBvaW50cyh0LFtlWzFdXSxyLFwicG9pbnRcIilbMF0scz1lWzBdfXJldHVybiBsPW8uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJvcnRob2dvbmFscHJvamVjdGlvblwiKSxoPXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm4gaS5wcm9qZWN0UG9pbnRUb0xpbmUoYSxzLHQpfV0sbCksby5leGlzdHMoYS5faXNfbmV3KT8oaC5hZGRDaGlsZChhKSxkZWxldGUgYS5faXNfbmV3KTphLmFkZENoaWxkKGgpLHMuYWRkQ2hpbGQoaCksaC5lbFR5cGU9XCJvcnRob2dvbmFscHJvamVjdGlvblwiLGguc2V0UGFyZW50cyhbYS5pZCxoLmlkXSksaC51cGRhdGUoKSxoLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3ZhciB0PXMucG9pbnQxLnN5bWJvbGljLngsZT1zLnBvaW50MS5zeW1ib2xpYy55LGk9cy5wb2ludDIuc3ltYm9saWMueCxyPXMucG9pbnQyLnN5bWJvbGljLnksbz1hLnN5bWJvbGljLngsbj1hLnN5bWJvbGljLnksbD1oLnN5bWJvbGljLngsYz1oLnN5bWJvbGljLnk7cmV0dXJuW1wiKFwiK2UrXCIpKihcIitsK1wiKS0oXCIrZStcIikqKFwiK2krXCIpKyhcIitjK1wiKSooXCIraStcIiktKFwiK3QrXCIpKihcIitjK1wiKSsoXCIrdCtcIikqKFwiK3IrXCIpLShcIitsK1wiKSooXCIrcitcIilcIixcIihcIituK1wiKSooXCIrZStcIiktKFwiK24rXCIpKihcIityK1wiKS0oXCIrYytcIikqKFwiK2UrXCIpKyhcIitjK1wiKSooXCIrcitcIikrKFwiK28rXCIpKihcIit0K1wiKS0oXCIrbytcIikqKFwiK2krXCIpLShcIitsK1wiKSooXCIrdCtcIikrKFwiK2wrXCIpKihcIitpK1wiKVwiXX0saH0sdC5jcmVhdGVQZXJwZW5kaWN1bGFyPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLGEsbDtpZihlWzBdPXQuc2VsZWN0KGVbMF0pLGVbMV09dC5zZWxlY3QoZVsxXSksby5pc1BvaW50VHlwZSh0LGVbMF0pJiZlWzFdLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkUpcz1lWzFdLHI9by5wcm92aWRlUG9pbnRzKHQsW2VbMF1dLGksXCJwb2ludFwiKVswXTtlbHNle2lmKCFvLmlzUG9pbnRUeXBlKHQsZVsxXSl8fGVbMF0uZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfTElORSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIHBlcnBlbmRpY3VsYXIgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtsaW5lLHBvaW50XVwiKTtzPWVbMF0scj1vLnByb3ZpZGVQb2ludHModCxbZVsxXV0saSxcInBvaW50XCIpWzBdfXJldHVybiBsPW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJwZXJwZW5kaWN1bGFyXCIpLChhPWguY3JlYXRlTGluZSh0LFtmdW5jdGlvbigpe3JldHVybiBzLnN0ZGZvcm1bMl0qci5YKCktcy5zdGRmb3JtWzFdKnIuWSgpfSxmdW5jdGlvbigpe3JldHVybi1zLnN0ZGZvcm1bMl0qci5aKCl9LGZ1bmN0aW9uKCl7cmV0dXJuIHMuc3RkZm9ybVsxXSpyLlooKX1dLGwpKS5lbFR5cGU9XCJwZXJwZW5kaWN1bGFyXCIsYS5zZXRQYXJlbnRzKFtzLmlkLHIuaWRdKSxvLmV4aXN0cyhyLl9pc19uZXcpPyhhLmFkZENoaWxkKHIpLGRlbGV0ZSByLl9pc19uZXcpOnIuYWRkQ2hpbGQoYSkscy5hZGRDaGlsZChhKSxhfSx0LmNyZWF0ZVBlcnBlbmRpY3VsYXJQb2ludD1mdW5jdGlvbih0LGUscil7dmFyIHMsYSxoO2lmKGVbMF09dC5zZWxlY3QoZVswXSksZVsxXT10LnNlbGVjdChlWzFdKSxvLmlzUG9pbnRUeXBlKHQsZVswXSkmJmVbMV0uZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSlhPW8ucHJvdmlkZVBvaW50cyh0LFtlWzBdXSxyLFwicG9pbnRcIilbMF0scz1lWzFdO2Vsc2V7aWYoIW8uaXNQb2ludFR5cGUodCxlWzFdKXx8ZVswXS5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19MSU5FKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgcGVycGVuZGljdWxhciBwb2ludCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LGxpbmVdXCIpO2E9by5wcm92aWRlUG9pbnRzKHQsW2VbMV1dLHIsXCJwb2ludFwiKVswXSxzPWVbMF19cmV0dXJuIGg9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybiBpLnBlcnBlbmRpY3VsYXIocyxhLHQpWzBdfV0sciksby5leGlzdHMoYS5faXNfbmV3KT8oaC5hZGRDaGlsZChhKSxkZWxldGUgYS5faXNfbmV3KTphLmFkZENoaWxkKGgpLHMuYWRkQ2hpbGQoaCksaC5lbFR5cGU9XCJwZXJwZW5kaWN1bGFycG9pbnRcIixoLnNldFBhcmVudHMoW2EuaWQscy5pZF0pLGgudXBkYXRlKCksaC5nZW5lcmF0ZVBvbHlub21pYWw9ZnVuY3Rpb24oKXt2YXIgdD1zLnBvaW50MS5zeW1ib2xpYy54LGU9cy5wb2ludDEuc3ltYm9saWMueSxpPXMucG9pbnQyLnN5bWJvbGljLngscj1zLnBvaW50Mi5zeW1ib2xpYy55LG89YS5zeW1ib2xpYy54LG49YS5zeW1ib2xpYy55LGw9aC5zeW1ib2xpYy54LGM9aC5zeW1ib2xpYy55O3JldHVybltcIihcIitlK1wiKSooXCIrbCtcIiktKFwiK2UrXCIpKihcIitpK1wiKSsoXCIrYytcIikqKFwiK2krXCIpLShcIit0K1wiKSooXCIrYytcIikrKFwiK3QrXCIpKihcIityK1wiKS0oXCIrbCtcIikqKFwiK3IrXCIpXCIsXCIoXCIrbitcIikqKFwiK2UrXCIpLShcIituK1wiKSooXCIrcitcIiktKFwiK2MrXCIpKihcIitlK1wiKSsoXCIrYytcIikqKFwiK3IrXCIpKyhcIitvK1wiKSooXCIrdCtcIiktKFwiK28rXCIpKihcIitpK1wiKS0oXCIrbCtcIikqKFwiK3QrXCIpKyhcIitsK1wiKSooXCIraStcIilcIl19LGh9LHQuY3JlYXRlUGVycGVuZGljdWxhclNlZ21lbnQ9ZnVuY3Rpb24oZSxyLHMpe3ZhciBhLGwsYyxkLHU7aWYoclswXT1lLnNlbGVjdChyWzBdKSxyWzFdPWUuc2VsZWN0KHJbMV0pLG8uaXNQb2ludFR5cGUoZSxyWzBdKSYmclsxXS5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19MSU5FKWw9clsxXSxhPW8ucHJvdmlkZVBvaW50cyhlLFtyWzBdXSxzLFwicG9pbnRcIilbMF07ZWxzZXtpZighby5pc1BvaW50VHlwZShlLHJbMV0pfHxyWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0xJTkUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBwZXJwZW5kaWN1bGFyIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgclswXStcIicgYW5kICdcIit0eXBlb2YgclsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbbGluZSxwb2ludF1cIik7bD1yWzBdLGE9by5wcm92aWRlUG9pbnRzKGUsW3JbMV1dLHMsXCJwb2ludFwiKVswXX1yZXR1cm4gdT1vLmNvcHlBdHRyaWJ1dGVzKHMsZS5vcHRpb25zLFwicGVycGVuZGljdWxhcnNlZ21lbnRcIixcInBvaW50XCIpLChkPXQuY3JlYXRlUGVycGVuZGljdWxhclBvaW50KGUsW2wsYV0sdSkpLmR1bXA9ITEsby5leGlzdHMocy5sYXllcil8fChzLmxheWVyPWUub3B0aW9ucy5sYXllci5saW5lKSx1PW8uY29weUF0dHJpYnV0ZXMocyxlLm9wdGlvbnMsXCJwZXJwZW5kaWN1bGFyc2VnbWVudFwiKSwoYz1oLmNyZWF0ZUxpbmUoZSxbZnVuY3Rpb24oKXtyZXR1cm4gaS5wZXJwZW5kaWN1bGFyKGwsYSxlKVsxXT9bZCxhXTpbYSxkXX1dLHUpKS5wb2ludD1kLG8uZXhpc3RzKGEuX2lzX25ldyk/KGMuYWRkQ2hpbGQoYSksZGVsZXRlIGEuX2lzX25ldyk6YS5hZGRDaGlsZChjKSxsLmFkZENoaWxkKGMpLGMuZWxUeXBlPVwicGVycGVuZGljdWxhcnNlZ21lbnRcIixjLnNldFBhcmVudHMoW2EuaWQsbC5pZF0pLGMuc3Vicz17cG9pbnQ6ZH0sYy5pbmhlcml0cy5wdXNoKGQpLGN9LHQuY3JlYXRlTWlkcG9pbnQ9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLGEsaCxsLGM7Zm9yKGw9MDtsPGkubGVuZ3RoOysrbClpW2xdPXQuc2VsZWN0KGlbbF0pO2lmKDI9PT1pLmxlbmd0aCYmby5pc1BvaW50VHlwZSh0LGlbMF0pJiZvLmlzUG9pbnRUeXBlKHQsaVsxXSkpaT1vLnByb3ZpZGVQb2ludHModCxpLHIsXCJwb2ludFwiKSxzPWlbMF0sYT1pWzFdO2Vsc2V7aWYoMSE9PWkubGVuZ3RofHxpWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0xJTkUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBtaWRwb2ludC5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludF0sIFtsaW5lXVwiKTtzPWlbMF0ucG9pbnQxLGE9aVswXS5wb2ludDJ9cmV0dXJuIGM9by5jb3B5QXR0cmlidXRlcyhyLHQub3B0aW9ucyxcIm1pZHBvaW50XCIpLGg9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3ZhciB0PXMuY29vcmRzLnVzckNvb3Jkc1sxXSthLmNvb3Jkcy51c3JDb29yZHNbMV07cmV0dXJuIGlzTmFOKHQpfHxNYXRoLmFicyhzLmNvb3Jkcy51c3JDb29yZHNbMF0pPGUuZXBzfHxNYXRoLmFicyhhLmNvb3Jkcy51c3JDb29yZHNbMF0pPGUuZXBzP05hTjouNSp0fSxmdW5jdGlvbigpe3ZhciB0PXMuY29vcmRzLnVzckNvb3Jkc1syXSthLmNvb3Jkcy51c3JDb29yZHNbMl07cmV0dXJuIGlzTmFOKHQpfHxNYXRoLmFicyhzLmNvb3Jkcy51c3JDb29yZHNbMF0pPGUuZXBzfHxNYXRoLmFicyhhLmNvb3Jkcy51c3JDb29yZHNbMF0pPGUuZXBzP05hTjouNSp0fV0sYyksby5leGlzdHMocy5faXNfbmV3KT8oaC5hZGRDaGlsZChzKSxkZWxldGUgcy5faXNfbmV3KTpzLmFkZENoaWxkKGgpLG8uZXhpc3RzKGEuX2lzX25ldyk/KGguYWRkQ2hpbGQoYSksZGVsZXRlIGEuX2lzX25ldyk6YS5hZGRDaGlsZChoKSxoLmVsVHlwZT1cIm1pZHBvaW50XCIsaC5zZXRQYXJlbnRzKFtzLmlkLGEuaWRdKSxoLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKSxoLmdlbmVyYXRlUG9seW5vbWlhbD1mdW5jdGlvbigpe3ZhciB0PXMuc3ltYm9saWMueCxlPXMuc3ltYm9saWMueSxpPWEuc3ltYm9saWMueCxyPWEuc3ltYm9saWMueSxvPWguc3ltYm9saWMueCxuPWguc3ltYm9saWMueTtyZXR1cm5bXCIoXCIrZStcIikqKFwiK28rXCIpLShcIitlK1wiKSooXCIraStcIikrKFwiK24rXCIpKihcIitpK1wiKS0oXCIrdCtcIikqKFwiK24rXCIpKyhcIit0K1wiKSooXCIrcitcIiktKFwiK28rXCIpKihcIityK1wiKVwiLFwiKFwiK3QrXCIpXjIgLSAyKihcIit0K1wiKSooXCIrbytcIikrKFwiK2UrXCIpXjItMiooXCIrZStcIikqKFwiK24rXCIpLShcIitpK1wiKV4yKzIqKFwiK2krXCIpKihcIitvK1wiKS0oXCIrcitcIileMisyKihcIityK1wiKSooXCIrbitcIilcIl19LGh9LHQuY3JlYXRlUGFyYWxsZWxQb2ludD1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxhLGgsbDtmb3IobD0wO2w8ZS5sZW5ndGg7KytsKWVbbF09dC5zZWxlY3QoZVtsXSk7aWYoMz09PWUubGVuZ3RoJiZvLmlzUG9pbnRUeXBlKHQsZVswXSkmJm8uaXNQb2ludFR5cGUodCxlWzFdKSYmby5pc1BvaW50VHlwZSh0LGVbMl0pKWU9by5wcm92aWRlUG9pbnRzKHQsZSxpLFwicG9pbnRcIikscj1lWzBdLHM9ZVsxXSxhPWVbMl07ZWxzZSBpZihvLmlzUG9pbnRUeXBlKHQsZVswXSkmJmVbMV0uZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSlhPW8ucHJvdmlkZVBvaW50cyh0LFtlWzBdXSxpLFwicG9pbnRcIilbMF0scj1lWzFdLnBvaW50MSxzPWVbMV0ucG9pbnQyO2Vsc2V7aWYoIW8uaXNQb2ludFR5cGUodCxlWzFdKXx8ZVswXS5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19MSU5FKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgcGFyYWxsZWwgcG9pbnQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJywgJ1wiK3R5cGVvZiBlWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzJdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtsaW5lLHBvaW50XSwgW3BvaW50LHBvaW50LHBvaW50XVwiKTthPW8ucHJvdmlkZVBvaW50cyh0LFtlWzFdXSxpLFwicG9pbnRcIilbMF0scj1lWzBdLnBvaW50MSxzPWVbMF0ucG9pbnQyfXJldHVybiBoPXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm4gYS5jb29yZHMudXNyQ29vcmRzWzFdK3MuY29vcmRzLnVzckNvb3Jkc1sxXS1yLmNvb3Jkcy51c3JDb29yZHNbMV19LGZ1bmN0aW9uKCl7cmV0dXJuIGEuY29vcmRzLnVzckNvb3Jkc1syXStzLmNvb3Jkcy51c3JDb29yZHNbMl0tci5jb29yZHMudXNyQ29vcmRzWzJdfV0saSksby5leGlzdHMoci5faXNfbmV3KT8oaC5hZGRDaGlsZChyKSxkZWxldGUgci5faXNfbmV3KTpyLmFkZENoaWxkKGgpLG8uZXhpc3RzKHMuX2lzX25ldyk/KGguYWRkQ2hpbGQocyksZGVsZXRlIHMuX2lzX25ldyk6cy5hZGRDaGlsZChoKSxvLmV4aXN0cyhhLl9pc19uZXcpPyhoLmFkZENoaWxkKGEpLGRlbGV0ZSBhLl9pc19uZXcpOmEuYWRkQ2hpbGQoaCksaC5lbFR5cGU9XCJwYXJhbGxlbHBvaW50XCIsaC5zZXRQYXJlbnRzKFtyLmlkLHMuaWQsYS5pZF0pLGgucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLGguZ2VuZXJhdGVQb2x5bm9taWFsPWZ1bmN0aW9uKCl7dmFyIHQ9ci5zeW1ib2xpYy54LGU9ci5zeW1ib2xpYy55LGk9cy5zeW1ib2xpYy54LG89cy5zeW1ib2xpYy55LG49YS5zeW1ib2xpYy54LGw9YS5zeW1ib2xpYy55LGM9aC5zeW1ib2xpYy54LGQ9aC5zeW1ib2xpYy55O3JldHVybltcIihcIitvK1wiKSooXCIrYytcIiktKFwiK28rXCIpKihcIituK1wiKS0oXCIrZStcIikqKFwiK2MrXCIpKyhcIitlK1wiKSooXCIrbitcIiktKFwiK2QrXCIpKihcIitpK1wiKSsoXCIrZCtcIikqKFwiK3QrXCIpKyhcIitsK1wiKSooXCIraStcIiktKFwiK2wrXCIpKihcIit0K1wiKVwiLFwiKFwiK2QrXCIpKihcIit0K1wiKS0oXCIrZCtcIikqKFwiK24rXCIpLShcIitvK1wiKSooXCIrdCtcIikrKFwiK28rXCIpKihcIituK1wiKS0oXCIrYytcIikqKFwiK2UrXCIpKyhcIitjK1wiKSooXCIrbCtcIikrKFwiK2krXCIpKihcIitlK1wiKS0oXCIraStcIikqKFwiK2wrXCIpXCJdfSxofSx0LmNyZWF0ZVBhcmFsbGVsPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxuLGEsaCxsLGMsZD0xO2ZvcihsPTA7bDxpLmxlbmd0aDsrK2wpaVtsXT10LnNlbGVjdChpW2xdKTtyZXR1cm4gcz1udWxsLDM9PT1pLmxlbmd0aD8ocz0oaT1vLnByb3ZpZGVQb2ludHModCxpLHIsXCJwb2ludFwiKSlbMl0sZD0wKTpvLmlzUG9pbnRUeXBlKHQsaVswXSk/KHM9by5wcm92aWRlUG9pbnRzKHQsW2lbMF1dLHIsXCJwb2ludFwiKVswXSxoPWZ1bmN0aW9uKCl7cmV0dXJuIGlbMV0uc3RkZm9ybX0pOm8uaXNQb2ludFR5cGUodCxpWzFdKSYmKHM9by5wcm92aWRlUG9pbnRzKHQsW2lbMV1dLHIsXCJwb2ludFwiKVswXSxoPWZ1bmN0aW9uKCl7cmV0dXJuIGlbMF0uc3RkZm9ybX0pLG8uZXhpc3RzKHIubGF5ZXIpfHwoci5sYXllcj10Lm9wdGlvbnMubGF5ZXIubGluZSksYz1vLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwicGFyYWxsZWxcIixcInBvaW50XCIpLChuPTE9PT1kP3QuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXtyZXR1cm4gZS5jcm9zc1Byb2R1Y3QoWzEsMCwwXSxoKCkpfV0sYyk6dC5jcmVhdGUoXCJwYXJhbGxlbHBvaW50XCIsaSxjKSkuaXNEcmFnZ2FibGU9ITAsYz1vLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwicGFyYWxsZWxcIiksKGE9dC5jcmVhdGUoXCJsaW5lXCIsW3Msbl0sYykpLmVsVHlwZT1cInBhcmFsbGVsXCIsYS5zdWJzPXtwb2ludDpufSxhLmluaGVyaXRzLnB1c2gobiksYS5zZXRQYXJlbnRzKFtpWzBdLmlkLGlbMV0uaWRdKSwzPT09aS5sZW5ndGgmJmEuYWRkUGFyZW50cyhpWzJdLmlkKSxhLnBvaW50PW4sYX0sdC5jcmVhdGVBcnJvd1BhcmFsbGVsPWZ1bmN0aW9uKGUsaSxyKXt2YXIgczt0cnl7cmV0dXJuIHIuZmlyc3RBcnJvdz0hMSxyLmxhc3RBcnJvdz0hMCwocz10LmNyZWF0ZVBhcmFsbGVsKGUsaSxyKS5zZXRBdHRyaWJ1dGUoe3N0cmFpZ2h0Rmlyc3Q6ITEsc3RyYWlnaHRMYXN0OiExfSkpLmVsVHlwZT1cImFycm93cGFyYWxsZWxcIixzfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgYXJyb3dwYXJhbGxlbCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2xpbmUscG9pbnRdLCBbcG9pbnQscG9pbnQscG9pbnRdXCIpfX0sdC5jcmVhdGVOb3JtYWw9ZnVuY3Rpb24odCxpLHMpe3ZhciBhLGgsbCxjLGQsdSxwLGYsbTtmb3IoYz0wO2M8aS5sZW5ndGg7KytjKWlbY109dC5zZWxlY3QoaVtjXSk7aWYoMT09PWkubGVuZ3RoKWE9aVswXSxoPWEuc2xpZGVPYmplY3Q7ZWxzZXtpZigyIT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBub3JtYWwgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxsaW5lXSwgW3BvaW50LGNpcmNsZV0sIFtnbGlkZXJdXCIpO2lmKG8uaXNQb2ludFR5cGUodCxpWzBdKSlhPW8ucHJvdmlkZVBvaW50cyh0LFtpWzBdXSxzLFwicG9pbnRcIilbMF0saD1pWzFdO2Vsc2V7aWYoIW8uaXNQb2ludFR5cGUodCxpWzFdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIG5vcm1hbCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMV0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LGxpbmVdLCBbcG9pbnQsY2lyY2xlXSwgW2dsaWRlcl1cIik7aD1pWzBdLGE9by5wcm92aWRlUG9pbnRzKHQsW2lbMV1dLHMsXCJwb2ludFwiKVswXX19aWYocD1vLmNvcHlBdHRyaWJ1dGVzKHMsdC5vcHRpb25zLFwibm9ybWFsXCIpLGguZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfTElORSltPW8uY29weUF0dHJpYnV0ZXMocyx0Lm9wdGlvbnMsXCJub3JtYWxcIixcInBvaW50XCIpLGY9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3ZhciB0PWUuY3Jvc3NQcm9kdWN0KFsxLDAsMF0saC5zdGRmb3JtKTtyZXR1cm5bdFswXSwtdFsyXSx0WzFdXX1dLG0pLGYuaXNEcmFnZ2FibGU9ITAsKGw9dC5jcmVhdGUoXCJsaW5lXCIsW2EsZl0scCkpLnBvaW50PWYsbC5zdWJzPXtwb2ludDpmfSxsLmluaGVyaXRzLnB1c2goZik7ZWxzZSBpZihoLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0NJUkNMRSlsPXQuY3JlYXRlKFwibGluZVwiLFtoLm1pZHBvaW50LGFdLHApO2Vsc2UgaWYoaC5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DVVJWRSlcInBsb3RcIiE9PW8uZXZhbHVhdGUoaC52aXNQcm9wLmN1cnZldHlwZSk/KGQ9aC5YLHU9aC5ZLGw9dC5jcmVhdGUoXCJsaW5lXCIsW2Z1bmN0aW9uKCl7cmV0dXJuLWEuWCgpKnIuRChkKShhLnBvc2l0aW9uKS1hLlkoKSpyLkQodSkoYS5wb3NpdGlvbil9LGZ1bmN0aW9uKCl7cmV0dXJuIHIuRChkKShhLnBvc2l0aW9uKX0sZnVuY3Rpb24oKXtyZXR1cm4gci5EKHUpKGEucG9zaXRpb24pfV0scCkpOmw9dC5jcmVhdGUoXCJsaW5lXCIsW2Z1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvLG4sbCxjLGQsdT1NYXRoLmZsb29yKGEucG9zaXRpb24pLHA9YS5wb3NpdGlvbi11O2lmKDE9PT1oLmJlemllcmRlZ3JlZSl1PT09aC5udW1iZXJQb2ludHMtMSYmKHUtPTEscD0xKTtlbHNle2lmKDMhPT1oLmJlemllckRlZ3JlZSlyZXR1cm4gMDt1PTMqTWF0aC5mbG9vcihhLnBvc2l0aW9uKihoLm51bWJlclBvaW50cy0xKS8zKSxpPShhLnBvc2l0aW9uKihoLm51bWJlclBvaW50cy0xKS11KS8zLHU+PWgubnVtYmVyUG9pbnRzLTEmJih1PWgubnVtYmVyUG9pbnRzLTQsaT0xKX1yZXR1cm4gdTwwPzE6MT09PWguYmV6aWVyRGVncmVlPyhoLlkodSkrcCooaC5ZKHUrMSktaC5ZKHUpKSkqKGguWSh1KS1oLlkodSsxKSktKGguWCh1KStwKihoLlgodSsxKS1oLlgodSkpKSooaC5YKHUrMSktaC5YKHUpKToocj1oLnBvaW50c1t1XS51c3JDb29yZHMscz1oLnBvaW50c1t1KzFdLnVzckNvb3JkcyxvPWgucG9pbnRzW3UrMl0udXNyQ29vcmRzLG49aC5wb2ludHNbdSszXS51c3JDb29yZHMsbD0oMS1pKSooMS1pKSooc1sxXS1yWzFdKSsyKigxLWkpKmkqKG9bMV0tc1sxXSkraSppKihuWzFdLW9bMV0pLGM9KDEtaSkqKDEtaSkqKHNbMl0tclsyXSkrMiooMS1pKSppKihvWzJdLXNbMl0pK2kqaSooblsyXS1vWzJdKSxsLz1kPU1hdGguc3FydChsKmwrYypjKSxjLz1kLGU9WzEsKHQ9YS5jb29yZHMudXNyQ29vcmRzKVsxXS1jLHRbMl0rbF0sdFsyXSplWzFdLXRbMV0qZVsyXSl9LGZ1bmN0aW9uKCl7dmFyIHQsZSxpLHIscyxvLG4sbCxjLGQ9TWF0aC5mbG9vcihhLnBvc2l0aW9uKTtpZigxPT09aC5iZXppZXJkZWdyZWUpZD09PWgubnVtYmVyUG9pbnRzLTEmJihkLT0xKTtlbHNle2lmKDMhPT1oLmJlemllckRlZ3JlZSlyZXR1cm4gMDtkPTMqTWF0aC5mbG9vcihhLnBvc2l0aW9uKihoLm51bWJlclBvaW50cy0xKS8zKSxlPShhLnBvc2l0aW9uKihoLm51bWJlclBvaW50cy0xKS1kKS8zLGQ+PWgubnVtYmVyUG9pbnRzLTEmJihkPWgubnVtYmVyUG9pbnRzLTQsZT0xKX1yZXR1cm4gZDwwPzA6MT09PWguYmV6aWVyRGVncmVlP2guWChkKzEpLWguWChkKTooaT1oLnBvaW50c1tkXS51c3JDb29yZHMscj1oLnBvaW50c1tkKzFdLnVzckNvb3JkcyxzPWgucG9pbnRzW2QrMl0udXNyQ29vcmRzLG89aC5wb2ludHNbZCszXS51c3JDb29yZHMsbj0oMS1lKSooMS1lKSooclsxXS1pWzFdKSsyKigxLWUpKmUqKHNbMV0tclsxXSkrZSplKihvWzFdLXNbMV0pLGw9KDEtZSkqKDEtZSkqKHJbMl0taVsyXSkrMiooMS1lKSplKihzWzJdLXJbMl0pK2UqZSoob1syXS1zWzJdKSxuLz1jPU1hdGguc3FydChuKm4rbCpsKSxsLz1jLFsxLCh0PWEuY29vcmRzLnVzckNvb3JkcylbMV0tbCx0WzJdK25dWzJdLXRbMl0pfSxmdW5jdGlvbigpe3ZhciB0LGUsaSxyLHMsbyxuLGwsYyxkLHU9TWF0aC5mbG9vcihhLnBvc2l0aW9uKTtpZigxPT09aC5iZXppZXJkZWdyZWUpdT09PWgubnVtYmVyUG9pbnRzLTEmJih1LT0xKTtlbHNle2lmKDMhPT1oLmJlemllckRlZ3JlZSlyZXR1cm4gMDt1PTMqTWF0aC5mbG9vcihhLnBvc2l0aW9uKihoLm51bWJlclBvaW50cy0xKS8zKSxpPShhLnBvc2l0aW9uKihoLm51bWJlclBvaW50cy0xKS11KS8zLHU+PWgubnVtYmVyUG9pbnRzLTEmJih1PWgubnVtYmVyUG9pbnRzLTQsaT0xKX1yZXR1cm4gdTwwPzA6MT09PWguYmV6aWVyRGVncmVlP2guWSh1KzEpLWguWSh1KToocj1oLnBvaW50c1t1XS51c3JDb29yZHMscz1oLnBvaW50c1t1KzFdLnVzckNvb3JkcyxvPWgucG9pbnRzW3UrMl0udXNyQ29vcmRzLG49aC5wb2ludHNbdSszXS51c3JDb29yZHMsbD0oMS1pKSooMS1pKSooc1sxXS1yWzFdKSsyKigxLWkpKmkqKG9bMV0tc1sxXSkraSppKihuWzFdLW9bMV0pLGM9KDEtaSkqKDEtaSkqKHNbMl0tclsyXSkrMiooMS1pKSppKihvWzJdLXNbMl0pK2kqaSooblsyXS1vWzJdKSxsLz1kPU1hdGguc3FydChsKmwrYypjKSxjLz1kLGU9WzEsKHQ9YS5jb29yZHMudXNyQ29vcmRzKVsxXS1jLHRbMl0rbF0sdFsxXS1lWzFdKX1dLHApO2Vsc2V7aWYoaC50eXBlIT09bi5PQkpFQ1RfVFlQRV9UVVJUTEUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBub3JtYWwgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBpWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBpWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxsaW5lXSwgW3BvaW50LGNpcmNsZV0sIFtnbGlkZXJdXCIpO2w9dC5jcmVhdGUoXCJsaW5lXCIsW2Z1bmN0aW9uKCl7dmFyIHQsZSxpPU1hdGguZmxvb3IoYS5wb3NpdGlvbikscj1hLnBvc2l0aW9uLWk7Zm9yKGU9MDtlPGgub2JqZWN0cy5sZW5ndGg7ZSsrKWlmKCh0PWgub2JqZWN0c1tlXSkudHlwZT09PW4uT0JKRUNUX1RZUEVfQ1VSVkUpe2lmKGk8dC5udW1iZXJQb2ludHMpYnJlYWs7aS09dC5udW1iZXJQb2ludHN9cmV0dXJuIGk9PT10Lm51bWJlclBvaW50cy0xJiYoaS09MSxyPTEpLGk8MD8xOih0LlkoaSkrcioodC5ZKGkrMSktdC5ZKGkpKSkqKHQuWShpKS10LlkoaSsxKSktKHQuWChpKStyKih0LlgoaSsxKS10LlgoaSkpKSoodC5YKGkrMSktdC5YKGkpKX0sZnVuY3Rpb24oKXt2YXIgdCxlLGk9TWF0aC5mbG9vcihhLnBvc2l0aW9uKTtmb3IoZT0wO2U8aC5vYmplY3RzLmxlbmd0aDtlKyspaWYoKHQ9aC5vYmplY3RzW2VdKS50eXBlPT09bi5PQkpFQ1RfVFlQRV9DVVJWRSl7aWYoaTx0Lm51bWJlclBvaW50cylicmVhaztpLT10Lm51bWJlclBvaW50c31yZXR1cm4gaT09PXQubnVtYmVyUG9pbnRzLTEmJihpLT0xKSxpPDA/MDp0LlgoaSsxKS10LlgoaSl9LGZ1bmN0aW9uKCl7dmFyIHQsZSxpPU1hdGguZmxvb3IoYS5wb3NpdGlvbik7Zm9yKGU9MDtlPGgub2JqZWN0cy5sZW5ndGg7ZSsrKWlmKCh0PWgub2JqZWN0c1tlXSkudHlwZT09PW4uT0JKRUNUX1RZUEVfQ1VSVkUpe2lmKGk8dC5udW1iZXJQb2ludHMpYnJlYWs7aS09dC5udW1iZXJQb2ludHN9cmV0dXJuIGk9PT10Lm51bWJlclBvaW50cy0xJiYoaS09MSksaTwwPzA6dC5ZKGkrMSktdC5ZKGkpfV0scCl9cmV0dXJuIGwuZWxUeXBlPVwibm9ybWFsXCIsbC5zZXRQYXJlbnRzKGkpLG8uZXhpc3RzKGEuX2lzX25ldyk/KGwuYWRkQ2hpbGQoYSksZGVsZXRlIGEuX2lzX25ldyk6YS5hZGRDaGlsZChsKSxoLmFkZENoaWxkKGwpLGx9LHQuY3JlYXRlQmlzZWN0b3I9ZnVuY3Rpb24odCxlLHIpe3ZhciBzLG4sYSxsO2lmKGU9by5wcm92aWRlUG9pbnRzKHQsZSxyLFwicG9pbnRcIiksby5pc1BvaW50KGVbMF0pJiZvLmlzUG9pbnQoZVsxXSkmJm8uaXNQb2ludChlWzJdKSl7Zm9yKChsPW8uY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJiaXNlY3RvclwiLFwicG9pbnRcIikpLnNuYXBUb0dyaWQ9ITEsKHM9dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybiBpLmFuZ2xlQmlzZWN0b3IoZVswXSxlWzFdLGVbMl0sdCl9XSxsKSkuZHVtcD0hMSxhPTA7YTwzO2ErKylvLmV4aXN0cyhlW2FdLl9pc19uZXcpPyhzLmFkZENoaWxkKGVbYV0pLGRlbGV0ZSBlW2FdLl9pc19uZXcpOmVbYV0uYWRkQ2hpbGQocyk7cmV0dXJuIG8uZXhpc3RzKHIubGF5ZXIpfHwoci5sYXllcj10Lm9wdGlvbnMubGF5ZXIubGluZSksbD1vLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiYmlzZWN0b3JcIiksKG49aC5jcmVhdGVMaW5lKHQsW2VbMV0sc10sbCkpLnBvaW50PXMsbi5lbFR5cGU9XCJiaXNlY3RvclwiLG4uc2V0UGFyZW50cyhlKSxuLnN1YnM9e3BvaW50OnN9LG4uaW5oZXJpdHMucHVzaChzKSxufXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgYW5nbGUgYmlzZWN0b3Igd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludF1cIil9LHQuY3JlYXRlQW5ndWxhckJpc2VjdG9yc09mVHdvTGluZXM9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsYSxoLGw9dC5zZWxlY3QoZVswXSksYz10LnNlbGVjdChlWzFdKTtpZihsLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0xJTkV8fGMuZWxlbWVudENsYXNzIT09bi5PQkpFQ1RfQ0xBU1NfTElORSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGFuZ2xlIGJpc2VjdG9ycyBvZiB0d28gbGluZXMgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtsaW5lLGxpbmVdXCIpO3JldHVybiBvLmV4aXN0cyhpLmxheWVyKXx8KGkubGF5ZXI9dC5vcHRpb25zLmxheWVyLmxpbmUpLGE9by5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImJpc2VjdG9ybGluZXNcIixcImxpbmUxXCIpLHI9dC5jcmVhdGUoXCJsaW5lXCIsW2Z1bmN0aW9uKCl7dmFyIHQ9TWF0aC5zcXJ0KGwuc3RkZm9ybVsxXSpsLnN0ZGZvcm1bMV0rbC5zdGRmb3JtWzJdKmwuc3RkZm9ybVsyXSksZT1NYXRoLnNxcnQoYy5zdGRmb3JtWzFdKmMuc3RkZm9ybVsxXStjLnN0ZGZvcm1bMl0qYy5zdGRmb3JtWzJdKTtyZXR1cm4gbC5zdGRmb3JtWzBdL3QtYy5zdGRmb3JtWzBdL2V9LGZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5zcXJ0KGwuc3RkZm9ybVsxXSpsLnN0ZGZvcm1bMV0rbC5zdGRmb3JtWzJdKmwuc3RkZm9ybVsyXSksZT1NYXRoLnNxcnQoYy5zdGRmb3JtWzFdKmMuc3RkZm9ybVsxXStjLnN0ZGZvcm1bMl0qYy5zdGRmb3JtWzJdKTtyZXR1cm4gbC5zdGRmb3JtWzFdL3QtYy5zdGRmb3JtWzFdL2V9LGZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5zcXJ0KGwuc3RkZm9ybVsxXSpsLnN0ZGZvcm1bMV0rbC5zdGRmb3JtWzJdKmwuc3RkZm9ybVsyXSksZT1NYXRoLnNxcnQoYy5zdGRmb3JtWzFdKmMuc3RkZm9ybVsxXStjLnN0ZGZvcm1bMl0qYy5zdGRmb3JtWzJdKTtyZXR1cm4gbC5zdGRmb3JtWzJdL3QtYy5zdGRmb3JtWzJdL2V9XSxhKSxvLmV4aXN0cyhpLmxheWVyKXx8KGkubGF5ZXI9dC5vcHRpb25zLmxheWVyLmxpbmUpLGE9by5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImJpc2VjdG9ybGluZXNcIixcImxpbmUyXCIpLHM9dC5jcmVhdGUoXCJsaW5lXCIsW2Z1bmN0aW9uKCl7dmFyIHQ9TWF0aC5zcXJ0KGwuc3RkZm9ybVsxXSpsLnN0ZGZvcm1bMV0rbC5zdGRmb3JtWzJdKmwuc3RkZm9ybVsyXSksZT1NYXRoLnNxcnQoYy5zdGRmb3JtWzFdKmMuc3RkZm9ybVsxXStjLnN0ZGZvcm1bMl0qYy5zdGRmb3JtWzJdKTtyZXR1cm4gbC5zdGRmb3JtWzBdL3QrYy5zdGRmb3JtWzBdL2V9LGZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5zcXJ0KGwuc3RkZm9ybVsxXSpsLnN0ZGZvcm1bMV0rbC5zdGRmb3JtWzJdKmwuc3RkZm9ybVsyXSksZT1NYXRoLnNxcnQoYy5zdGRmb3JtWzFdKmMuc3RkZm9ybVsxXStjLnN0ZGZvcm1bMl0qYy5zdGRmb3JtWzJdKTtyZXR1cm4gbC5zdGRmb3JtWzFdL3QrYy5zdGRmb3JtWzFdL2V9LGZ1bmN0aW9uKCl7dmFyIHQ9TWF0aC5zcXJ0KGwuc3RkZm9ybVsxXSpsLnN0ZGZvcm1bMV0rbC5zdGRmb3JtWzJdKmwuc3RkZm9ybVsyXSksZT1NYXRoLnNxcnQoYy5zdGRmb3JtWzFdKmMuc3RkZm9ybVsxXStjLnN0ZGZvcm1bMl0qYy5zdGRmb3JtWzJdKTtyZXR1cm4gbC5zdGRmb3JtWzJdL3QrYy5zdGRmb3JtWzJdL2V9XSxhKSxoPW5ldyBkKHtsaW5lMTpyLGxpbmUyOnN9KSxyLmR1bXA9ITEscy5kdW1wPSExLGguZWxUeXBlPVwiYmlzZWN0b3JsaW5lc1wiLGguc2V0UGFyZW50cyhbbC5pZCxjLmlkXSksaC5zdWJzPXtsaW5lMTpyLGxpbmUyOnN9LGh9LHQuY3JlYXRlQ2lyY3VtY2VudGVyPWZ1bmN0aW9uKHQsZSxyKXt2YXIgcyxuLGgsbCxjO2lmKGU9by5wcm92aWRlUG9pbnRzKHQsZSxyLFwicG9pbnRcIiksby5pc1BvaW50KGVbMF0pJiZvLmlzUG9pbnQoZVsxXSkmJm8uaXNQb2ludChlWzJdKSl7Zm9yKGg9ZVswXSxsPWVbMV0sYz1lWzJdLHM9YS5jcmVhdGVQb2ludCh0LFtmdW5jdGlvbigpe3JldHVybiBpLmNpcmN1bWNlbnRlcihoLGwsYyx0KX1dLHIpLG49MDtuPDM7bisrKW8uZXhpc3RzKGVbbl0uX2lzX25ldyk/KHMuYWRkQ2hpbGQoZVtuXSksZGVsZXRlIGVbbl0uX2lzX25ldyk6ZVtuXS5hZGRDaGlsZChzKTtyZXR1cm4gcy5lbFR5cGU9XCJjaXJjdW1jZW50ZXJcIixzLnNldFBhcmVudHMoZSkscy5nZW5lcmF0ZVBvbHlub21pYWw9ZnVuY3Rpb24oKXt2YXIgdD1oLnN5bWJvbGljLngsZT1oLnN5bWJvbGljLnksaT1sLnN5bWJvbGljLngscj1sLnN5bWJvbGljLnksbz1jLnN5bWJvbGljLngsbj1jLnN5bWJvbGljLnksYT1zLnN5bWJvbGljLngsZD1zLnN5bWJvbGljLnk7cmV0dXJuW1tcIigoXCIsYSxcIiktKFwiLHQsXCIpKV4yKygoXCIsZCxcIiktKFwiLGUsXCIpKV4yLSgoXCIsYSxcIiktKFwiLGksXCIpKV4yLSgoXCIsZCxcIiktKFwiLHIsXCIpKV4yXCJdLmpvaW4oXCJcIiksW1wiKChcIixhLFwiKS0oXCIsdCxcIikpXjIrKChcIixkLFwiKS0oXCIsZSxcIikpXjItKChcIixhLFwiKS0oXCIsbyxcIikpXjItKChcIixkLFwiKS0oXCIsbixcIikpXjJcIl0uam9pbihcIlwiKV19LHN9dGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBjaXJjdW1jaXJjbGUgbWlkcG9pbnQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJywgJ1wiK3R5cGVvZiBlWzFdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzJdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludCxwb2ludF1cIil9LHQuY3JlYXRlSW5jZW50ZXI9ZnVuY3Rpb24odCxlLGkpe3ZhciByLGEsaCxsLGM7aWYoISgoZT1vLnByb3ZpZGVQb2ludHModCxlLGksXCJwb2ludFwiKSkubGVuZ3RoPj0zJiZvLmlzUG9pbnQoZVswXSkmJm8uaXNQb2ludChlWzFdKSYmby5pc1BvaW50KGVbMl0pKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGluY2VudGVyIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicsICdcIit0eXBlb2YgZVsxXStcIicgYW5kICdcIit0eXBlb2YgZVsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdXCIpO2ZvcihhPWVbMF0saD1lWzFdLGw9ZVsyXSxyPXQuY3JlYXRlKFwicG9pbnRcIixbZnVuY3Rpb24oKXt2YXIgZSxpLHI7cmV0dXJuIGU9TWF0aC5zcXJ0KChoLlgoKS1sLlgoKSkqKGguWCgpLWwuWCgpKSsoaC5ZKCktbC5ZKCkpKihoLlkoKS1sLlkoKSkpLGk9TWF0aC5zcXJ0KChhLlgoKS1sLlgoKSkqKGEuWCgpLWwuWCgpKSsoYS5ZKCktbC5ZKCkpKihhLlkoKS1sLlkoKSkpLHI9TWF0aC5zcXJ0KChoLlgoKS1hLlgoKSkqKGguWCgpLWEuWCgpKSsoaC5ZKCktYS5ZKCkpKihoLlkoKS1hLlkoKSkpLG5ldyBzKG4uQ09PUkRTX0JZX1VTRVIsWyhlKmEuWCgpK2kqaC5YKCkrcipsLlgoKSkvKGUraStyKSwoZSphLlkoKStpKmguWSgpK3IqbC5ZKCkpLyhlK2krcildLHQpfV0saSksYz0wO2M8MztjKyspby5leGlzdHMoZVtjXS5faXNfbmV3KT8oci5hZGRDaGlsZChlW2NdKSxkZWxldGUgZVtjXS5faXNfbmV3KTplW2NdLmFkZENoaWxkKHIpO3JldHVybiByLmVsVHlwZT1cImluY2VudGVyXCIsci5zZXRQYXJlbnRzKGUpLHJ9LHQuY3JlYXRlQ2lyY3VtY2lyY2xlPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxuLGEsaDtpZighMT09PShpPW8ucHJvdmlkZVBvaW50cyhlLGkscixcInBvaW50XCIpKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNpcmN1bWNpcmNsZSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInLCAnXCIrdHlwZW9mIGlbMV0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMl0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50LHBvaW50XVwiKTt0cnl7Zm9yKGE9by5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImNpcmN1bWNpcmNsZVwiLFwiY2VudGVyXCIpLChzPXQuY3JlYXRlQ2lyY3VtY2VudGVyKGUsaSxhKSkuZHVtcD0hMSxvLmV4aXN0cyhyLmxheWVyKXx8KHIubGF5ZXI9ZS5vcHRpb25zLmxheWVyLmNpcmNsZSksYT1vLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiY2lyY3VtY2lyY2xlXCIpLChuPWwuY3JlYXRlQ2lyY2xlKGUsW3MsaVswXV0sYSkpLmVsVHlwZT1cImNpcmN1bWNpcmNsZVwiLG4uc2V0UGFyZW50cyhpKSxuLnN1YnM9e2NlbnRlcjpzfSxuLmluaGVyaXRzLnB1c2gobiksaD0wO2g8MztoKyspby5leGlzdHMoaVtoXS5faXNfbmV3KT8obi5hZGRDaGlsZChpW2hdKSxkZWxldGUgaVtoXS5faXNfbmV3KTppW2hdLmFkZENoaWxkKG4pfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY2lyY3VtY2lyY2xlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicsICdcIit0eXBlb2YgaVsxXStcIicgYW5kICdcIit0eXBlb2YgaVsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdXCIpfXJldHVybiBufSx0LmNyZWF0ZUluY2lyY2xlPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcyxuLGEsaDtpZighMT09PShpPW8ucHJvdmlkZVBvaW50cyhlLGkscixcInBvaW50XCIpKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNpcmN1bWNpcmNsZSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGlbMF0rXCInLCAnXCIrdHlwZW9mIGlbMV0rXCInIGFuZCAnXCIrdHlwZW9mIGlbMl0rXCInLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50LHBvaW50LHBvaW50XVwiKTt0cnl7Zm9yKGg9by5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImluY2lyY2xlXCIsXCJjZW50ZXJcIiksKG49dC5jcmVhdGVJbmNlbnRlcihlLGksaCkpLmR1bXA9ITEsby5leGlzdHMoci5sYXllcil8fChyLmxheWVyPWUub3B0aW9ucy5sYXllci5jaXJjbGUpLGg9by5jb3B5QXR0cmlidXRlcyhyLGUub3B0aW9ucyxcImluY2lyY2xlXCIpLChhPWwuY3JlYXRlQ2lyY2xlKGUsW24sZnVuY3Rpb24oKXt2YXIgdD1NYXRoLnNxcnQoKGlbMV0uWCgpLWlbMl0uWCgpKSooaVsxXS5YKCktaVsyXS5YKCkpKyhpWzFdLlkoKS1pWzJdLlkoKSkqKGlbMV0uWSgpLWlbMl0uWSgpKSksZT1NYXRoLnNxcnQoKGlbMF0uWCgpLWlbMl0uWCgpKSooaVswXS5YKCktaVsyXS5YKCkpKyhpWzBdLlkoKS1pWzJdLlkoKSkqKGlbMF0uWSgpLWlbMl0uWSgpKSkscj1NYXRoLnNxcnQoKGlbMV0uWCgpLWlbMF0uWCgpKSooaVsxXS5YKCktaVswXS5YKCkpKyhpWzFdLlkoKS1pWzBdLlkoKSkqKGlbMV0uWSgpLWlbMF0uWSgpKSkscz0odCtlK3IpLzI7cmV0dXJuIE1hdGguc3FydCgocy10KSoocy1lKSoocy1yKS9zKX1dLGgpKS5lbFR5cGU9XCJpbmNpcmNsZVwiLGEuc2V0UGFyZW50cyhpKSxzPTA7czwzO3MrKylvLmV4aXN0cyhpW3NdLl9pc19uZXcpPyhhLmFkZENoaWxkKGlbc10pLGRlbGV0ZSBpW3NdLl9pc19uZXcpOmlbc10uYWRkQ2hpbGQoYSk7YS5jZW50ZXI9bixhLnN1YnM9e2NlbnRlcjphLmNlbnRlcn0sYS5pbmhlcml0cy5wdXNoKG4pfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgY2lyY3VtY2lyY2xlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicsICdcIit0eXBlb2YgaVsxXStcIicgYW5kICdcIit0eXBlb2YgaVsyXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnQscG9pbnRdXCIpfXJldHVybiBhfSx0LmNyZWF0ZVJlZmxlY3Rpb249ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsZCxmLG0sZyxiLHYseT1cIlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW3BvaW50fGxpbmV8Y3VydmV8cG9seWdvbnxjaXJjbGV8YXJjfHNlY3RvciwgbGluZV1cIjtmb3IoZz0wO2c8ZS5sZW5ndGg7KytnKWVbZ109dC5zZWxlY3QoZVtnXSk7aWYoYj1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwicmVmbGVjdGlvblwiKSxvLmlzUG9pbnQoZVswXSkpcz1vLnByb3ZpZGVQb2ludHModCxbZVswXV0sdilbMF07ZWxzZXtpZihlWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0NVUlZFJiZlWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0xJTkUmJmVbMF0udHlwZSE9PW4uT0JKRUNUX1RZUEVfUE9MWUdPTiYmZVswXS5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19DSVJDTEUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSByZWZsZWN0aW9uIGVsZW1lbnQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cIit5KTtzPWVbMF19aWYoZVsxXS5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19MSU5FKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgcmVmbGVjdGVkIGVsZW1lbnQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cIit5KTtpZihyPWVbMV0sbT1jLmNyZWF0ZVRyYW5zZm9ybSh0LFtyXSx7dHlwZTpcInJlZmxlY3RcIn0pLG8uaXNQb2ludChzKSlkPWEuY3JlYXRlUG9pbnQodCxbcyxtXSxiKTtlbHNlIGlmKHMuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ1VSVkUpZD11LmNyZWF0ZUN1cnZlKHQsW3MsbV0sYik7ZWxzZSBpZihzLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkUpZD1oLmNyZWF0ZUxpbmUodCxbcyxtXSxiKTtlbHNlIGlmKHMudHlwZT09PW4uT0JKRUNUX1RZUEVfUE9MWUdPTilkPXAuY3JlYXRlUG9seWdvbih0LFtzLG1dLGIpO2Vsc2V7aWYocy5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19DSVJDTEUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSByZWZsZWN0ZWQgZWxlbWVudCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlwiK3kpO1wiZXVjbGlkZWFuXCI9PT1iLnR5cGUudG9Mb3dlckNhc2UoKT8odj1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwicmVmbGVjdGlvblwiLFwiY2VudGVyXCIpLChmPWEuY3JlYXRlUG9pbnQodCxbcy5jZW50ZXIsbV0sdikpLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KG8uZXZhbHVhdGUoZi52aXNQcm9wLnZpc2libGUpKS51cGRhdGVSZW5kZXJlcigpLGQ9bC5jcmVhdGVDaXJjbGUodCxbZixmdW5jdGlvbigpe3JldHVybiBzLlJhZGl1cygpfV0sYikpOmQ9bC5jcmVhdGVDaXJjbGUodCxbcyxtXSxiKX1yZXR1cm4gby5leGlzdHMocy5faXNfbmV3KSYmKGQuYWRkQ2hpbGQocyksZGVsZXRlIHMuX2lzX25ldyksci5hZGRDaGlsZChkKSxkLmVsVHlwZT1cInJlZmxlY3Rpb25cIixkLmFkZFBhcmVudHMociksZC5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksby5pc1BvaW50KGQpJiYoZC5nZW5lcmF0ZVBvbHlub21pYWw9ZnVuY3Rpb24oKXt2YXIgdD1yLnBvaW50MS5zeW1ib2xpYy54LGU9ci5wb2ludDEuc3ltYm9saWMueSxpPXIucG9pbnQyLnN5bWJvbGljLngsbz1yLnBvaW50Mi5zeW1ib2xpYy55LG49cy5zeW1ib2xpYy54LGE9cy5zeW1ib2xpYy55LGg9ZC5zeW1ib2xpYy54LGw9ZC5zeW1ib2xpYy55O3JldHVybltbXCIoKFwiLGwsXCIpLShcIixhLFwiKSkqKChcIixlLFwiKS0oXCIsbyxcIikpKygoXCIsdCxcIiktKFwiLGksXCIpKSooKFwiLGgsXCIpLShcIixuLFwiKSlcIl0uam9pbihcIlwiKSxbXCIoKFwiLGgsXCIpLShcIix0LFwiKSleMisoKFwiLGwsXCIpLShcIixlLFwiKSleMi0oKFwiLG4sXCIpLShcIix0LFwiKSleMi0oKFwiLGEsXCIpLShcIixlLFwiKSleMlwiXS5qb2luKFwiXCIpXX0pLGR9LHQuY3JlYXRlTWlycm9yRWxlbWVudD1mdW5jdGlvbih0LGUsaSl7dmFyIHIscyxkLGYsbSxnLGIsdix5PVwiXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnR8bGluZXxjdXJ2ZXxwb2x5Z29ufGNpcmNsZXxhcmN8c2VjdG9yLCBwb2ludF1cIjtmb3Iocz0wO3M8ZS5sZW5ndGg7KytzKWVbc109dC5zZWxlY3QoZVtzXSk7aWYoYj1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwibWlycm9yZWxlbWVudFwiKSxvLmlzUG9pbnQoZVswXSkpcj1vLnByb3ZpZGVQb2ludHModCxbZVswXV0sYilbMF07ZWxzZXtpZihlWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0NVUlZFJiZlWzBdLmVsZW1lbnRDbGFzcyE9PW4uT0JKRUNUX0NMQVNTX0xJTkUmJmVbMF0udHlwZSE9PW4uT0JKRUNUX1RZUEVfUE9MWUdPTiYmZVswXS5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19DSVJDTEUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBtaXJyb3IgZWxlbWVudCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlwiK3kpO3I9ZVswXX1pZighby5pc1BvaW50KGVbMV0pKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgbWlycm9yIGVsZW1lbnQgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiBlWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiBlWzFdK1wiJy5cIit5KTtpZih2PW8uY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJtaXJyb3JlbGVtZW50XCIsXCJwb2ludFwiKSxkPW8ucHJvdmlkZVBvaW50cyh0LFtlWzFdXSx2KVswXSxnPWMuY3JlYXRlVHJhbnNmb3JtKHQsW01hdGguUEksZF0se3R5cGU6XCJyb3RhdGVcIn0pLG8uaXNQb2ludChyKSlmPWEuY3JlYXRlUG9pbnQodCxbcixnXSxiKTtlbHNlIGlmKHIuZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ1VSVkUpZj11LmNyZWF0ZUN1cnZlKHQsW3IsZ10sYik7ZWxzZSBpZihyLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkUpZj1oLmNyZWF0ZUxpbmUodCxbcixnXSxiKTtlbHNlIGlmKHIudHlwZT09PW4uT0JKRUNUX1RZUEVfUE9MWUdPTilmPXAuY3JlYXRlUG9seWdvbih0LFtyLGddLGIpO2Vsc2V7aWYoci5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19DSVJDTEUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBtaXJyb3IgZWxlbWVudCB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIGVbMF0rXCInIGFuZCAnXCIrdHlwZW9mIGVbMV0rXCInLlwiK3kpO1wiZXVjbGlkZWFuXCI9PT1iLnR5cGUudG9Mb3dlckNhc2UoKT8odj1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwibWlycm9yZWxlbWVudFwiLFwiY2VudGVyXCIpLChtPWEuY3JlYXRlUG9pbnQodCxbci5jZW50ZXIsZ10sdikpLnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKS51cGRhdGVWaXNpYmlsaXR5KG8uZXZhbHVhdGUobS52aXNQcm9wLnZpc2libGUpKS51cGRhdGVSZW5kZXJlcigpLGY9bC5jcmVhdGVDaXJjbGUodCxbbSxmdW5jdGlvbigpe3JldHVybiByLlJhZGl1cygpfV0sYikpOmY9bC5jcmVhdGVDaXJjbGUodCxbcixnXSxiKX1yZXR1cm4gby5leGlzdHMoci5faXNfbmV3KSYmKGYuYWRkQ2hpbGQociksZGVsZXRlIHIuX2lzX25ldyksZC5hZGRDaGlsZChmKSxmLmVsVHlwZT1cIm1pcnJvcmVsZW1lbnRcIixmLmFkZFBhcmVudHMoZCksZi5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksZn0sdC5jcmVhdGVNaXJyb3JQb2ludD1mdW5jdGlvbihlLGkscil7dmFyIHM9dC5jcmVhdGVNaXJyb3JFbGVtZW50KGUsaSxyKTtyZXR1cm4gcy5lbFR5cGU9XCJtaXJyb3Jwb2ludFwiLHN9LHQuY3JlYXRlSW50ZWdyYWw9ZnVuY3Rpb24oZSxpLGEpe3ZhciBoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUD1udWxsO2lmKG8uaXNBcnJheShpWzBdKSYmaVsxXS5lbGVtZW50Q2xhc3M9PT1uLk9CSkVDVF9DTEFTU19DVVJWRSloPWlbMF0sbD1pWzFdO2Vsc2V7aWYoIW8uaXNBcnJheShpWzFdKXx8aVswXS5lbGVtZW50Q2xhc3MhPT1uLk9CSkVDVF9DTEFTU19DVVJWRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGludGVncmFsIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbW251bWJlcnxmdW5jdGlvbixudW1iZXJ8ZnVuY3Rpb25dLGN1cnZlXVwiKTtoPWlbMV0sbD1pWzBdfXJldHVybihjPW8uY29weUF0dHJpYnV0ZXMoYSxlLm9wdGlvbnMsXCJpbnRlZ3JhbFwiKSkud2l0aExhYmVsPSExLF89ZS5jcmVhdGUoXCJjdXJ2ZVwiLFtbMF0sWzBdXSxjKSxkPWhbMF0sdT1oWzFdLG8uaXNGdW5jdGlvbihkKT8oZj1mdW5jdGlvbigpe3JldHVybiBsLlkocCgpKX0sZD0ocD1kKSgpKToocD1kLGY9bC5ZKGQpKSxvLmlzRnVuY3Rpb24odSk/KGc9ZnVuY3Rpb24oKXtyZXR1cm4gbC5ZKG0oKSl9LHU9KG09dSkoKSk6KG09dSxnPWwuWSh1KSksYz1vLmNvcHlBdHRyaWJ1dGVzKGEsZS5vcHRpb25zLFwiaW50ZWdyYWxcIixcImN1cnZlTGVmdFwiKSxiPWUuY3JlYXRlKFwiZ2xpZGVyXCIsW3AsZixsXSxjKSxvLmlzRnVuY3Rpb24ocCkmJmIuaGlkZUVsZW1lbnQoKSxjPW8uY29weUF0dHJpYnV0ZXMoYSxlLm9wdGlvbnMsXCJpbnRlZ3JhbFwiLFwiYmFzZUxlZnRcIiksdj1lLmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuXCJ5XCI9PT1vLmV2YWx1YXRlKF8udmlzUHJvcC5heGlzKT8wOmIuWCgpfSxmdW5jdGlvbigpe3JldHVyblwieVwiPT09by5ldmFsdWF0ZShfLnZpc1Byb3AuYXhpcyk/Yi5ZKCk6MH1dLGMpLGM9by5jb3B5QXR0cmlidXRlcyhhLGUub3B0aW9ucyxcImludGVncmFsXCIsXCJjdXJ2ZVJpZ2h0XCIpLHk9ZS5jcmVhdGUoXCJnbGlkZXJcIixbbSxnLGxdLGMpLG8uaXNGdW5jdGlvbihtKSYmeS5oaWRlRWxlbWVudCgpLGM9by5jb3B5QXR0cmlidXRlcyhhLGUub3B0aW9ucyxcImludGVncmFsXCIsXCJiYXNlUmlnaHRcIiksQz1lLmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuXCJ5XCI9PT1vLmV2YWx1YXRlKF8udmlzUHJvcC5heGlzKT8wOnkuWCgpfSxmdW5jdGlvbigpe3JldHVyblwieVwiPT09by5ldmFsdWF0ZShfLnZpc1Byb3AuYXhpcyk/eS5ZKCk6MH1dLGMpLCExIT09KGM9by5jb3B5QXR0cmlidXRlcyhhLGUub3B0aW9ucyxcImludGVncmFsXCIpKS53aXRobGFiZWwmJlwieVwiIT09Yy5heGlzJiYoYz1vLmNvcHlBdHRyaWJ1dGVzKGEsZS5vcHRpb25zLFwiaW50ZWdyYWxcIixcImxhYmVsXCIpLGM9by5jb3B5QXR0cmlidXRlcyhjLGUub3B0aW9ucyxcImxhYmVsXCIpLChQPWUuY3JlYXRlKFwidGV4dFwiLFtmdW5jdGlvbigpe3ZhciB0PW5ldyBzKG4uQ09PUkRTX0JZX1NDUkVFTixbby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Aub2Zmc2V0WzBdKSt0aGlzLmJvYXJkLm9yaWdpbi5zY3JDb29yZHNbMV0sMF0sdGhpcy5ib2FyZCwhMSksZT10aGlzLmJvYXJkLmdldEJvdW5kaW5nQm94KCksaT0uMSooZVsyXS1lWzBdKSxyPXkuWCgpO3JldHVybiByPGVbMF0/cj1lWzBdK2k6cj5lWzJdJiYocj1lWzJdLWkpLHIrdC51c3JDb29yZHNbMV19LGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHMobi5DT09SRFNfQllfU0NSRUVOLFswLG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLm9mZnNldFsxXSkrdGhpcy5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzJdXSx0aGlzLmJvYXJkLCExKSxlPXRoaXMuYm9hcmQuZ2V0Qm91bmRpbmdCb3goKSxpPS4xKihlWzFdLWVbM10pLHI9eS5ZKCk7cmV0dXJuIHI+ZVsxXT9yPWVbMV0taTpyPGVbM10mJihyPWVbM10raSkscit0LnVzckNvb3Jkc1syXX0sZnVuY3Rpb24oKXt2YXIgdD1yLk5ld3RvbkNvdGVzKFt2LlgoKSxDLlgoKV0sbC5ZKTtyZXR1cm5cIiZpbnQ7ID0gXCIrby50b0ZpeGVkKHQsNCl9XSxjKSkuZHVtcD0hMSxiLmFkZENoaWxkKFApLHkuYWRkQ2hpbGQoUCkpLGIuZHVtcD0hMSx2LmR1bXA9ITEseS5kdW1wPSExLEMuZHVtcD0hMSxfLmVsVHlwZT1cImludGVncmFsXCIsXy5zZXRQYXJlbnRzKFtsLmlkLGhdKSxfLnN1YnM9e2N1cnZlTGVmdDpiLGJhc2VMZWZ0OnYsY3VydmVSaWdodDp5LGJhc2VSaWdodDpDfSxfLmluaGVyaXRzLnB1c2goYix2LHksQyksYy53aXRoTGFiZWwmJihfLnN1YnMubGFiZWw9UCxfLmluaGVyaXRzLnB1c2goUCkpLF8uVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gci5JKFt2LlgoKSxDLlgoKV0sbC5ZKX0sXy51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG4sYSxoLGM7aWYoXCJ5XCI9PT1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5heGlzKSl7Zm9yKGIuWSgpPHkuWSgpPyhuPWIuWCgpLGg9Yi5ZKCksYT15LlgoKSxjPXkuWSgpKToobj15LlgoKSxoPXkuWSgpLGE9Yi5YKCksYz1iLlkoKSkscj1NYXRoLm1pbihuLGEpLHM9TWF0aC5tYXgobixhKSx0PVswLG5dLGU9W2gsaF0saT0wO2k8bC5udW1iZXJQb2ludHM7aSsrKWg8PWwucG9pbnRzW2ldLnVzckNvb3Jkc1syXSYmcjw9bC5wb2ludHNbaV0udXNyQ29vcmRzWzFdJiZsLnBvaW50c1tpXS51c3JDb29yZHNbMl08PWMmJmwucG9pbnRzW2ldLnVzckNvb3Jkc1sxXTw9cyYmKHQucHVzaChsLnBvaW50c1tpXS51c3JDb29yZHNbMV0pLGUucHVzaChsLnBvaW50c1tpXS51c3JDb29yZHNbMl0pKTt0LnB1c2goYSksZS5wdXNoKGMpLHQucHVzaCgwKSxlLnB1c2goYyksdC5wdXNoKDApLGUucHVzaChoKX1lbHNle2Zvcih2LlgoKTxDLlgoKT8ocj12LlgoKSxzPUMuWCgpKToocj1DLlgoKSxzPXYuWCgpKSx0PVtyLHJdLGU9WzAsbC5ZKHIpXSxpPTA7aTxsLm51bWJlclBvaW50cztpKyspcjw9bC5wb2ludHNbaV0udXNyQ29vcmRzWzFdJiZsLnBvaW50c1tpXS51c3JDb29yZHNbMV08PXMmJih0LnB1c2gobC5wb2ludHNbaV0udXNyQ29vcmRzWzFdKSxlLnB1c2gobC5wb2ludHNbaV0udXNyQ29vcmRzWzJdKSk7dC5wdXNoKHMpLGUucHVzaChsLlkocykpLHQucHVzaChzKSxlLnB1c2goMCksdC5wdXNoKHIpLGUucHVzaCgwKX10aGlzLmRhdGFYPXQsdGhpcy5kYXRhWT1lfSxiLmFkZENoaWxkKF8pLHkuYWRkQ2hpbGQoXyksdi5hZGRDaGlsZChfKSxDLmFkZENoaWxkKF8pLF8uYmFzZUxlZnQ9dixfLmJhc2VSaWdodD1DLF8uY3VydmVMZWZ0PWIsXy5jdXJ2ZVJpZ2h0PXksXy5tZXRob2RNYXA9dC5kZWVwQ29weShfLm1ldGhvZE1hcCx7Y3VydmVMZWZ0OlwiY3VydmVMZWZ0XCIsYmFzZUxlZnQ6XCJiYXNlTGVmdFwiLGN1cnZlUmlnaHQ6XCJjdXJ2ZVJpZ2h0XCIsYmFzZVJpZ2h0OlwiYmFzZVJpZ2h0XCIsVmFsdWU6XCJWYWx1ZVwifSksXy5sYWJlbD1QLF99LHQuY3JlYXRlR3JpZD1mdW5jdGlvbih0LGUsaSl7dmFyIHIsYTtyZXR1cm4gYT1vLmNvcHlBdHRyaWJ1dGVzKGksdC5vcHRpb25zLFwiZ3JpZFwiKSwocj10LmNyZWF0ZShcImN1cnZlXCIsW1tudWxsXSxbbnVsbF1dLGEpKS5lbFR5cGU9XCJncmlkXCIsci50eXBlPW4uT0JKRUNUX1RZUEVfR1JJRCxyLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciBlLGksYSxoLGwsYz1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5ncmlkeCksZD1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5ncmlkeSk7Zm9yKGg9by5pc0FycmF5KHRoaXMudmlzUHJvcC50b3BsZWZ0KT9uZXcgcyhvLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50bHR5cGUpfHxuLkNPT1JEU19CWV9VU0VSLHRoaXMudmlzUHJvcC50b3BsZWZ0LHQpOm5ldyBzKG4uQ09PUkRTX0JZX1NDUkVFTixbMCwwXSx0KSxsPW8uaXNBcnJheSh0aGlzLnZpc1Byb3AuYm90dG9tcmlnaHQpP25ldyBzKG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLmJydHlwZSl8fG4uQ09PUkRTX0JZX1VTRVIsdGhpcy52aXNQcm9wLmJvdHRvbXJpZ2h0LHQpOm5ldyBzKG4uQ09PUkRTX0JZX1NDUkVFTixbdC5jYW52YXNXaWR0aCx0LmNhbnZhc0hlaWdodF0sdCksdC5vcHRpb25zLmdyaWQuaGFzR3JpZD0hMCxyLmRhdGFYPVtdLHIuZGF0YVk9W10sZT1NYXRoLmZsb29yKGgudXNyQ29vcmRzWzJdL2QpKmQsaT1NYXRoLmNlaWwobC51c3JDb29yZHNbMl0vZCkqZCxoLnVzckNvb3Jkc1syXTxsLnVzckNvb3Jkc1syXSYmKGU9TWF0aC5jZWlsKGwudXNyQ29vcmRzWzJdL2QpKmQsaT1NYXRoLmZsb29yKGgudXNyQ29vcmRzWzJdL2QpKmQpLGE9ZTthPmktZDthLT1kKXIuZGF0YVgucHVzaChoLnVzckNvb3Jkc1sxXSxsLnVzckNvb3Jkc1sxXSxOYU4pLHIuZGF0YVkucHVzaChhLGEsTmFOKTtmb3IoZT1NYXRoLmNlaWwoaC51c3JDb29yZHNbMV0vYykqYyxpPU1hdGguZmxvb3IobC51c3JDb29yZHNbMV0vYykqYyxoLnVzckNvb3Jkc1sxXT5sLnVzckNvb3Jkc1sxXSYmKGU9TWF0aC5mbG9vcihsLnVzckNvb3Jkc1sxXS9jKSpjLGk9TWF0aC5jZWlsKGgudXNyQ29vcmRzWzFdL2MpKmMpLGE9ZTthPGkrYzthKz1jKXIuZGF0YVgucHVzaChhLGEsTmFOKSxyLmRhdGFZLnB1c2goaC51c3JDb29yZHNbMl0sbC51c3JDb29yZHNbMl0sTmFOKX0sci5oYXNQb2ludD1mdW5jdGlvbigpe3JldHVybiExfSx0LmdyaWRzLnB1c2gocikscn0sdC5jcmVhdGVJbmVxdWFsaXR5PWZ1bmN0aW9uKHQscixzKXt2YXIgYSxoLGw7aWYobD1vLmNvcHlBdHRyaWJ1dGVzKHMsdC5vcHRpb25zLFwiaW5lcXVhbGl0eVwiKSxyWzBdLmVsZW1lbnRDbGFzcz09PW4uT0JKRUNUX0NMQVNTX0xJTkUpKGg9dC5jcmVhdGUoXCJjdXJ2ZVwiLFtbXSxbXV0sbCkpLmhhc1BvaW50PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGgudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHMsbyxhLGg9dC5nZXRCb3VuZGluZ0JveCgpLGM9bC5pbnZlcnNlPy0xOjEsZD0xLjUqTWF0aC5tYXgoaFsyXS1oWzBdLGhbMV0taFszXSksdT17Y29vcmRzOnt1c3JDb29yZHM6WzEsKGhbMF0raFsyXSkvMixsLmludmVyc2U/aFsxXTpoWzNdXX19LHA9clswXS5zdGRmb3JtLnNsaWNlKDEpLGY9cDthPTEuNSpNYXRoLm1heChpLnBlcnBlbmRpY3VsYXIoclswXSx1LHQpWzBdLmRpc3RhbmNlKG4uQ09PUkRTX0JZX1VTRVIsdS5jb29yZHMpLGQpLGEqPWMsdT17Y29vcmRzOnt1c3JDb29yZHM6WzEsKGhbMF0raFsyXSkvMiwoaFsxXStoWzNdKS8yXX19LHM9WzEsKHU9TWF0aC5hYnMoZS5pbm5lclByb2R1Y3QodS5jb29yZHMudXNyQ29vcmRzLHJbMF0uc3RkZm9ybSwzKSk+PWUuZXBzP2kucGVycGVuZGljdWxhcihyWzBdLHUsdClbMF0udXNyQ29vcmRzOnUuY29vcmRzLnVzckNvb3JkcylbMV0rcFsxXSpkLHVbMl0tcFswXSpkXSxvPVsxLHVbMV0tZlsxXSpkLHVbMl0rZlswXSpkXSx0aGlzLmRhdGFYPVtzWzFdLHNbMV0rcFswXSphLG9bMV0rZlswXSphLG9bMV0sc1sxXV0sdGhpcy5kYXRhWT1bc1syXSxzWzJdK3BbMV0qYSxvWzJdK2ZbMV0qYSxvWzJdLHNbMl1dfTtlbHNlIGlmKHJbMF0uZWxlbWVudENsYXNzPT09bi5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJlwiZnVuY3Rpb25ncmFwaFwiPT09clswXS52aXNQcm9wLmN1cnZldHlwZSkoaD10LmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxsKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQsZSxpLHMsbixhLGgsbCxjLGQ9dGhpcy5ib2FyZC5nZXRCb3VuZGluZ0JveCgpLHU9W10scD1yWzBdLm1pblgoKSxmPXJbMF0ubWF4WCgpLG09LjMqKGRbMV0tZFszXSk7aWYodD1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pbnZlcnNlKT8xOjMsdGhpcy5kYXRhWD1bXSx0aGlzLmRhdGFZPVtdLDAhPT0ocz1yWzBdLnBvaW50cy5sZW5ndGgpKWZvcihkWzFdKz1tLGRbM10tPW0saT0tMTtpPHMtMTspe2ZvcihuPWkrMSxlPXM7bjxzO24rKylpZihyWzBdLnBvaW50c1tuXS5pc1JlYWwoKSl7ZT1uO2JyZWFrfWlmKGU+PXMpYnJlYWs7Zm9yKG49ZSxpPXMtMTtuPHMtMTtuKyspaWYoIXJbMF0ucG9pbnRzW24rMV0uaXNSZWFsKCkpe2k9bjticmVha31mb3IobD1yWzBdLnBvaW50c1tlXS51c3JDb29yZHNbMV0sYz1yWzBdLnBvaW50c1tpXS51c3JDb29yZHNbMV0sYT1kWzBdPHA/cDpkWzBdLGg9ZFsyXT5mP2Y6ZFsyXSxhPTA9PT1lP2E6TWF0aC5tYXgoYSxsKSxoPWk9PT1zLTE/aDpNYXRoLm1pbihoLGMpLGg9aT09PXMtMT9mOmMsKHU9W10pLnB1c2goWzEsYT0wPT09ZT9wOmwsZFt0XV0pLHUucHVzaChbMSxhLHJbMF0ucG9pbnRzW2VdLnVzckNvb3Jkc1syXV0pLG49ZTtuPD1pO24rKyl1LnB1c2goclswXS5wb2ludHNbbl0udXNyQ29vcmRzKTtmb3IodS5wdXNoKFsxLGgsclswXS5wb2ludHNbaV0udXNyQ29vcmRzWzJdXSksdS5wdXNoKFsxLGgsZFt0XV0pLHUucHVzaCh1WzBdKSxuPTA7bjx1Lmxlbmd0aDtuKyspdGhpcy5kYXRhWC5wdXNoKHVbbl1bMV0pLHRoaXMuZGF0YVkucHVzaCh1W25dWzJdKTtpPHMtMSYmKHRoaXMuZGF0YVgucHVzaChOYU4pLHRoaXMuZGF0YVkucHVzaChOYU4pKX19LGguaGFzUG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07ZWxzZSBpZihhPW8uY3JlYXRlRnVuY3Rpb24oclswXSksIW8uZXhpc3RzKGEpKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgYXJlYSB3aXRoIHRoZSBnaXZlbiBwYXJlbnRzLlxcblBvc3NpYmxlIHBhcmVudCB0eXBlczogW2xpbmVdLCBbZnVuY3Rpb25dXCIpO3JldHVybiBoLmFkZFBhcmVudHMoclswXSksaH0sdC5yZWdpc3RlckVsZW1lbnQoXCJhcnJvd3BhcmFsbGVsXCIsdC5jcmVhdGVBcnJvd1BhcmFsbGVsKSx0LnJlZ2lzdGVyRWxlbWVudChcImJpc2VjdG9yXCIsdC5jcmVhdGVCaXNlY3RvciksdC5yZWdpc3RlckVsZW1lbnQoXCJiaXNlY3RvcmxpbmVzXCIsdC5jcmVhdGVBbmd1bGFyQmlzZWN0b3JzT2ZUd29MaW5lcyksdC5yZWdpc3RlckVsZW1lbnQoXCJtc2VjdG9yXCIsdC5jcmVhdGVNc2VjdG9yKSx0LnJlZ2lzdGVyRWxlbWVudChcImNpcmN1bWNpcmNsZVwiLHQuY3JlYXRlQ2lyY3VtY2lyY2xlKSx0LnJlZ2lzdGVyRWxlbWVudChcImNpcmN1bWNpcmNsZW1pZHBvaW50XCIsdC5jcmVhdGVDaXJjdW1jZW50ZXIpLHQucmVnaXN0ZXJFbGVtZW50KFwiY2lyY3VtY2VudGVyXCIsdC5jcmVhdGVDaXJjdW1jZW50ZXIpLHQucmVnaXN0ZXJFbGVtZW50KFwiaW5jZW50ZXJcIix0LmNyZWF0ZUluY2VudGVyKSx0LnJlZ2lzdGVyRWxlbWVudChcImluY2lyY2xlXCIsdC5jcmVhdGVJbmNpcmNsZSksdC5yZWdpc3RlckVsZW1lbnQoXCJpbnRlZ3JhbFwiLHQuY3JlYXRlSW50ZWdyYWwpLHQucmVnaXN0ZXJFbGVtZW50KFwibWlkcG9pbnRcIix0LmNyZWF0ZU1pZHBvaW50KSx0LnJlZ2lzdGVyRWxlbWVudChcIm1pcnJvcmVsZW1lbnRcIix0LmNyZWF0ZU1pcnJvckVsZW1lbnQpLHQucmVnaXN0ZXJFbGVtZW50KFwibWlycm9ycG9pbnRcIix0LmNyZWF0ZU1pcnJvclBvaW50KSx0LnJlZ2lzdGVyRWxlbWVudChcIm5vcm1hbFwiLHQuY3JlYXRlTm9ybWFsKSx0LnJlZ2lzdGVyRWxlbWVudChcIm9ydGhvZ29uYWxwcm9qZWN0aW9uXCIsdC5jcmVhdGVPcnRob2dvbmFsUHJvamVjdGlvbiksdC5yZWdpc3RlckVsZW1lbnQoXCJwYXJhbGxlbFwiLHQuY3JlYXRlUGFyYWxsZWwpLHQucmVnaXN0ZXJFbGVtZW50KFwicGFyYWxsZWxwb2ludFwiLHQuY3JlYXRlUGFyYWxsZWxQb2ludCksdC5yZWdpc3RlckVsZW1lbnQoXCJwZXJwZW5kaWN1bGFyXCIsdC5jcmVhdGVQZXJwZW5kaWN1bGFyKSx0LnJlZ2lzdGVyRWxlbWVudChcInBlcnBlbmRpY3VsYXJwb2ludFwiLHQuY3JlYXRlUGVycGVuZGljdWxhclBvaW50KSx0LnJlZ2lzdGVyRWxlbWVudChcInBlcnBlbmRpY3VsYXJzZWdtZW50XCIsdC5jcmVhdGVQZXJwZW5kaWN1bGFyU2VnbWVudCksdC5yZWdpc3RlckVsZW1lbnQoXCJyZWZsZWN0aW9uXCIsdC5jcmVhdGVSZWZsZWN0aW9uKSx0LnJlZ2lzdGVyRWxlbWVudChcImdyaWRcIix0LmNyZWF0ZUdyaWQpLHQucmVnaXN0ZXJFbGVtZW50KFwiaW5lcXVhbGl0eVwiLHQuY3JlYXRlSW5lcXVhbGl0eSkse2NyZWF0ZUFycm93UGFyYWxsZWw6dC5jcmVhdGVBcnJvd1BhcmFsbGVsLGNyZWF0ZUJpc2VjdG9yOnQuY3JlYXRlQmlzZWN0b3IsY3JlYXRlQW5ndWxhckJpc2VjdG9yT2ZUd29MaW5lczp0LmNyZWF0ZUFuZ3VsYXJCaXNlY3RvcnNPZlR3b0xpbmVzLGNyZWF0ZUNpcmN1bWNpcmNsZTp0LmNyZWF0ZUNpcmN1bWNpcmNsZSxjcmVhdGVDaXJjdW1jZW50ZXI6dC5jcmVhdGVDaXJjdW1jZW50ZXIsY3JlYXRlSW5jZW50ZXI6dC5jcmVhdGVJbmNlbnRlcixjcmVhdGVJbmNpcmNsZTp0LmNyZWF0ZUluY2lyY2xlLGNyZWF0ZUludGVncmFsOnQuY3JlYXRlSW50ZWdyYWwsY3JlYXRlTWlkcG9pbnQ6dC5jcmVhdGVNaWRwb2ludCxjcmVhdGVNaXJyb3JFbGVtZW50OnQuY3JlYXRlTWlycm9yRWxlbWVudCxjcmVhdGVNaXJyb3JQb2ludDp0LmNyZWF0ZU1pcnJvclBvaW50LGNyZWF0ZU5vcm1hbDp0LmNyZWF0ZU5vcm1hbCxjcmVhdGVPcnRob2dvbmFsUHJvamVjdGlvbjp0LmNyZWF0ZU9ydGhvZ29uYWxQcm9qZWN0aW9uLGNyZWF0ZVBhcmFsbGVsOnQuY3JlYXRlUGFyYWxsZWwsY3JlYXRlUGFyYWxsZWxQb2ludDp0LmNyZWF0ZVBhcmFsbGVsUG9pbnQsY3JlYXRlUGVycGVuZGljdWxhcjp0LmNyZWF0ZVBlcnBlbmRpY3VsYXIsY3JlYXRlUGVycGVuZGljdWxhclBvaW50OnQuY3JlYXRlUGVycGVuZGljdWxhclBvaW50LGNyZWF0ZVBlcnBlbmRpY3VsYXJTZWdtZW46dC5jcmVhdGVQZXJwZW5kaWN1bGFyU2VnbWVudCxjcmVhdGVSZWZsZWN0aW9uOnQuY3JlYXRlUmVmbGVjdGlvbixjcmVhdGVHcmlkOnQuY3JlYXRlR3JpZCxjcmVhdGVJbmVxdWFsaXR5OnQuY3JlYXRlSW5lcXVhbGl0eX19KSksZGVmaW5lKFwiZWxlbWVudC9sb2N1c1wiLFtcImp4Z1wiLFwibWF0aC9zeW1ib2xpY1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3JldHVybiB0LmNyZWF0ZUxvY3VzPWZ1bmN0aW9uKHQscixzKXt2YXIgbyxuO2lmKCFpLmlzQXJyYXkocil8fDEhPT1yLmxlbmd0aHx8IWkuaXNQb2ludChyWzBdKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGxvY3VzIHdpdGggcGFyZW50IG9mIHR5cGUgb3RoZXIgdGhhbiBwb2ludC5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludF1cIik7cmV0dXJuIG49clswXSwobz10LmNyZWF0ZShcImN1cnZlXCIsW1tudWxsXSxbbnVsbF1dLHMpKS5kb250Q2FsbFNlcnZlcj0hMSxvLmVsVHlwZT1cImxvY3VzXCIsby5zZXRQYXJlbnRzKFtuLmlkXSksby51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgaSxyLHM7by5ib2FyZC5tb2RlPjB8fChpPWUuZ2VuZXJhdGVQb2x5bm9taWFscyh0LG4sITApLmpvaW4oXCJ8XCIpKSE9PW8uc3BlJiYoby5zcGU9aSwocj1mdW5jdGlvbih0LGUsaSxyKXt2YXIgcztvLmRhdGFYPXQsby5kYXRhWT1lLG8uZXE9aSxvLmN0aW1lPXIsby5nZW5lcmF0ZVBvbHlub21pYWw9KHM9aSxmdW5jdGlvbih0KXt2YXIgZSxpPVwiKFwiK3Quc3ltYm9saWMueCtcIilcIixyPVwiKFwiK3Quc3ltYm9saWMueStcIilcIixvPVtdO2ZvcihlPTA7ZTxzLmxlbmd0aDtlKyspb1tlXT1zW2VdLnJlcGxhY2UoL1xcKlxcKi9nLFwiXlwiKS5yZXBsYWNlKC94L2csaSkucmVwbGFjZSgveS9nLHIpO3JldHVybiBvfSl9KSgocz1lLmdlb21ldHJpY0xvY3VzQnlHcm9lYm5lckJhc2UodCxuLHIpKS5kYXRheCxzLmRhdGF5LHMucG9seW5vbWlhbCxzLmV4ZWN0aW1lKSl9LG99LHQucmVnaXN0ZXJFbGVtZW50KFwibG9jdXNcIix0LmNyZWF0ZUxvY3VzKSx7Y3JlYXRlTG9jdXM6dC5jcmVhdGVMb2N1c319KSksZGVmaW5lKFwiYmFzZS9pbWFnZVwiLFtcImp4Z1wiLFwiYmFzZS9jb25zdGFudHNcIixcImJhc2UvY29vcmRzXCIsXCJiYXNlL2VsZW1lbnRcIixcIm1hdGgvbWF0aFwiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS9jb29yZHNlbGVtZW50XCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5JbWFnZT1mdW5jdGlvbihpLHIscyxuLGEpe3RoaXMuY29uc3RydWN0b3IoaSxzLGUuT0JKRUNUX1RZUEVfSU1BR0UsZS5PQkpFQ1RfQ0xBU1NfT1RIRVIpLHRoaXMuZWxlbWVudD10aGlzLmJvYXJkLnNlbGVjdChzLmFuY2hvciksdGhpcy5jb29yZHNDb25zdHJ1Y3RvcihyKSx0aGlzLlc9by5jcmVhdGVGdW5jdGlvbihhWzBdLHRoaXMuYm9hcmQsXCJcIiksdGhpcy5IPW8uY3JlYXRlRnVuY3Rpb24oYVsxXSx0aGlzLmJvYXJkLFwiXCIpLHRoaXMudXNyU2l6ZT1bdGhpcy5XKCksdGhpcy5IKCldLHRoaXMuc2l6ZT1bTWF0aC5hYnModGhpcy51c3JTaXplWzBdKmkudW5pdFgpLE1hdGguYWJzKHRoaXMudXNyU2l6ZVsxXSppLnVuaXRZKV0sdGhpcy51cmw9bix0aGlzLmVsVHlwZT1cImltYWdlXCIsdGhpcy5zcGFuPVt0aGlzLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMCksW3RoaXMuY29vcmRzLnVzckNvb3Jkc1swXSx0aGlzLlcoKSwwXSxbdGhpcy5jb29yZHMudXNyQ29vcmRzWzBdLDAsdGhpcy5IKCldXSx0aGlzLmlkPXRoaXMuYm9hcmQuc2V0SWQodGhpcyxcIkltXCIpLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd0ltYWdlKHRoaXMpLHRoaXMuYm9hcmQuZmluYWxpemVBZGRpbmcodGhpcyksdGhpcy5tZXRob2RNYXA9dC5kZWVwQ29weSh0aGlzLm1ldGhvZE1hcCx7YWRkVHJhbnNmb3JtYXRpb246XCJhZGRUcmFuc2Zvcm1cIix0cmFuczpcImFkZFRyYW5zZm9ybVwifSl9LHQuSW1hZ2UucHJvdG90eXBlPW5ldyByLG8uY29weVByb3RvdHlwZU1ldGhvZHModC5JbWFnZSxuLFwiY29vcmRzQ29uc3RydWN0b3JcIiksdC5leHRlbmQodC5JbWFnZS5wcm90b3R5cGUse2hhc1BvaW50OmZ1bmN0aW9uKHQscil7dmFyIG4sYSxoLGwsYyxkLHUscCxmLG09dGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoO3JldHVybiBvLmlzT2JqZWN0KG8uZXZhbHVhdGUodGhpcy52aXNQcm9wLnByZWNpc2lvbikpPyhsPXRoaXMuYm9hcmQuX2lucHV0RGV2aWNlLGM9by5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uW2xdKSk6Yz10aGlzLmJvYXJkLm9wdGlvbnMucHJlY2lzaW9uLmhhc1BvaW50LDA9PT1tPyhuPXQtdGhpcy5jb29yZHMuc2NyQ29vcmRzWzFdLGE9dGhpcy5jb29yZHMuc2NyQ29vcmRzWzJdLXIsbj49LShoPWMpJiZuLXRoaXMuc2l6ZVswXTw9aCYmYT49LWgmJmEtdGhpcy5zaXplWzFdPD1oKToodT1bKGQ9KGQ9bmV3IGkoZS5DT09SRFNfQllfU0NSRUVOLFt0LHJdLHRoaXMuYm9hcmQpKS51c3JDb29yZHMpWzBdLXRoaXMuc3BhblswXVswXSxkWzFdLXRoaXMuc3BhblswXVsxXSxkWzJdLXRoaXMuc3BhblswXVsyXV0sMDw9KHA9KGY9cy5pbm5lclByb2R1Y3QpKHUsdGhpcy5zcGFuWzFdKSkmJnA8PWYodGhpcy5zcGFuWzFdLHRoaXMuc3BhblsxXSkmJjA8PShwPWYodSx0aGlzLnNwYW5bMl0pKSYmcDw9Zih0aGlzLnNwYW5bMl0sdGhpcy5zcGFuWzJdKSl9LHVwZGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy51cGRhdGVDb29yZHModCksdGhpcy51cGRhdGVTaXplKCksdGhpcy51cGRhdGVTcGFuKCksdGhpcyk6dGhpc30sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cGRhdGVSZW5kZXJlckdlbmVyaWMoXCJ1cGRhdGVJbWFnZVwiKX0sdXBkYXRlU2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVzclNpemU9W3RoaXMuVygpLHRoaXMuSCgpXSx0aGlzLnNpemU9W01hdGguYWJzKHRoaXMudXNyU2l6ZVswXSp0aGlzLmJvYXJkLnVuaXRYKSxNYXRoLmFicyh0aGlzLnVzclNpemVbMV0qdGhpcy5ib2FyZC51bml0WSldLHRoaXN9LHVwZGF0ZVNwYW46ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy50cmFuc2Zvcm1hdGlvbnMubGVuZ3RoLHI9W107aWYoMD09PWkpdGhpcy5zcGFuPVtbdGhpcy5aKCksdGhpcy5YKCksdGhpcy5ZKCldLFt0aGlzLlooKSx0aGlzLlcoKSwwXSxbdGhpcy5aKCksMCx0aGlzLkgoKV1dO2Vsc2V7Zm9yKHJbMF09W3RoaXMuWigpLHRoaXMuWCgpLHRoaXMuWSgpXSxyWzFdPVt0aGlzLlooKSx0aGlzLlgoKSt0aGlzLlcoKSx0aGlzLlkoKV0sclsyXT1bdGhpcy5aKCksdGhpcy5YKCksdGhpcy5ZKCkrdGhpcy5IKCldLHQ9MDt0PGk7dCsrKWZvcihlPTA7ZTwzO2UrKylyW2VdPXMubWF0VmVjTXVsdCh0aGlzLnRyYW5zZm9ybWF0aW9uc1t0XS5tYXRyaXgscltlXSk7Zm9yKGU9MDtlPDM7ZSsrKXJbZV1bMV0vPXJbZV1bMF0scltlXVsyXS89cltlXVswXSxyW2VdWzBdLz1yW2VdWzBdO2ZvcihlPTE7ZTwzO2UrKylyW2VdWzBdLT1yWzBdWzBdLHJbZV1bMV0tPXJbMF1bMV0scltlXVsyXS09clswXVsyXTt0aGlzLnNwYW49cn1yZXR1cm4gdGhpc30sYWRkVHJhbnNmb3JtOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKG8uaXNBcnJheSh0KSlmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKXRoaXMudHJhbnNmb3JtYXRpb25zLnB1c2godFtlXSk7ZWxzZSB0aGlzLnRyYW5zZm9ybWF0aW9ucy5wdXNoKHQpO3JldHVybiB0aGlzfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKCl7dmFyIHQ9W3RoaXMudXJsLFt0aGlzLlooKSx0aGlzLlgoKSx0aGlzLlkoKV0sdGhpcy51c3JTaXplXTtyZXR1cm4gMCE9PXRoaXMucGFyZW50cy5sZW5ndGgmJih0PXRoaXMucGFyZW50cyksdH0sc2V0U2l6ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLlc9by5jcmVhdGVGdW5jdGlvbih0LHRoaXMuYm9hcmQsXCJcIiksdGhpcy5IPW8uY3JlYXRlRnVuY3Rpb24oZSx0aGlzLmJvYXJkLFwiXCIpLHRoaXN9LFc6ZnVuY3Rpb24oKXt9LEg6ZnVuY3Rpb24oKXt9fSksdC5jcmVhdGVJbWFnZT1mdW5jdGlvbihlLGkscil7dmFyIHMsYSxoPWlbMF0sbD1pWzFdLGM9aVsyXTtpZihzPW8uY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJpbWFnZVwiKSwhKGE9bi5jcmVhdGUodC5JbWFnZSxlLGwscyxoLGMpKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGltYWdlIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbeCx5XSwgW3oseCx5XSwgW2VsZW1lbnQsdHJhbnNmb3JtYXRpb25dXCIpO3JldHVybiAwIT09cy5yb3RhdGUmJmEuYWRkUm90YXRpb24ocy5yb3RhdGUpLGF9LHQucmVnaXN0ZXJFbGVtZW50KFwiaW1hZ2VcIix0LmNyZWF0ZUltYWdlKSx7SW1hZ2U6dC5JbWFnZSxjcmVhdGVJbWFnZTp0LmNyZWF0ZUltYWdlfX0pKSxkZWZpbmUoXCJlbGVtZW50L3NsaWRlclwiLFtcImp4Z1wiLFwibWF0aC9tYXRoXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcInV0aWxzL3R5cGVcIixcImJhc2UvcG9pbnRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5jcmVhdGVTbGlkZXI9ZnVuY3Rpb24odCxuLGEpe3ZhciBoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF8sUCxFLHgsUyxPLHcsVDtyZXR1cm4geD0oVD1zLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwic2xpZGVyXCIpKS53aXRodGlja3MsRT1ULndpdGhsYWJlbCxTPVQuc25hcHdpZHRoLFQ9cy5jb3B5QXR0cmlidXRlcyhhLHQub3B0aW9ucyxcInNsaWRlclwiLFwicG9pbnQxXCIpLGY9dC5jcmVhdGUoXCJwb2ludFwiLG5bMF0sVCksVD1zLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwic2xpZGVyXCIsXCJwb2ludDJcIiksbT10LmNyZWF0ZShcInBvaW50XCIsblsxXSxUKSxUPXMuY29weUF0dHJpYnV0ZXMoYSx0Lm9wdGlvbnMsXCJzbGlkZXJcIixcImJhc2VsaW5lXCIpLChnPXQuY3JlYXRlKFwic2VnbWVudFwiLFtmLG1dLFQpKS51cGRhdGVTdGRmb3JtKCksaD1mLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMSksbD1tLmNvb3Jkcy51c3JDb29yZHMuc2xpY2UoMSksYz1uWzJdWzBdLGQ9blsyXVsxXSx1PW5bMl1bMl0scD11LWMsdz0tMT09PShPPXMuZXZhbHVhdGUoUykpP2Q6TWF0aC5yb3VuZChkL08pKk8sdj1oWzBdKyhsWzBdLWhbMF0pKih3LWMpLyh1LWMpLHk9aFsxXSsobFsxXS1oWzFdKSoody1jKS8odS1jKSwoVD1zLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwic2xpZGVyXCIpKS53aXRoTGFiZWw9ITEsKEM9dC5jcmVhdGUoXCJnbGlkZXJcIixbdix5LGddLFQpKS5zZXRBdHRyaWJ1dGUoe3NuYXB3aWR0aDpTfSksVD1zLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwic2xpZGVyXCIsXCJoaWdobGluZVwiKSxfPXQuY3JlYXRlKFwic2VnbWVudFwiLFtmLENdLFQpLEMuVmFsdWU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zbWF4LXRoaXMuX3NtaW4sZT1zLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zbmFwd2lkdGgpO3JldHVybi0xPT09ZT90aGlzLnBvc2l0aW9uKnQrdGhpcy5fc21pbjpNYXRoLnJvdW5kKCh0aGlzLnBvc2l0aW9uKnQrdGhpcy5fc21pbikvZSkqZX0sQy5tZXRob2RNYXA9cy5kZWVwQ29weShDLm1ldGhvZE1hcCx7VmFsdWU6XCJWYWx1ZVwiLHNldFZhbHVlOlwic2V0VmFsdWVcIixzbWF4OlwiX3NtYXhcIixzbWluOlwiX3NtaW5cIixzZXRNYXg6XCJzZXRNYXhcIixzZXRNaW46XCJzZXRNaW5cIn0pLEMuX3NtYXg9dSxDLl9zbWluPWMsQy5zZXRNYXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NtYXg9dCx0aGlzfSxDLnNldFZhbHVlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX3NtYXgtdGhpcy5fc21pbjtyZXR1cm4gTWF0aC5hYnMoaSk+ZS5lcHM/dGhpcy5wb3NpdGlvbj0odC10aGlzLl9zbWluKS9pOnRoaXMucG9zaXRpb249MCx0aGlzLnBvc2l0aW9uPU1hdGgubWF4KDAsTWF0aC5taW4oMSx0aGlzLnBvc2l0aW9uKSksdGhpc30sQy5zZXRNaW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3NtaW49dCx0aGlzfSxFJiYoVD1zLmNvcHlBdHRyaWJ1dGVzKGEsdC5vcHRpb25zLFwic2xpZGVyXCIsXCJsYWJlbFwiKSxQPXQuY3JlYXRlKFwidGV4dFwiLFtmdW5jdGlvbigpe3JldHVybi4wNSoobS5YKCktZi5YKCkpK20uWCgpfSxmdW5jdGlvbigpe3JldHVybi4wNSoobS5ZKCktZi5ZKCkpK20uWSgpfSxmdW5jdGlvbigpe3ZhciB0LGU9cy5ldmFsdWF0ZShDLnZpc1Byb3AuZGlnaXRzKSxpPXMuZXZhbHVhdGUoQy52aXNQcm9wLnN1ZmZpeGxhYmVsKSxyPXMuZXZhbHVhdGUoQy52aXNQcm9wLnVuaXRsYWJlbCksbz1zLmV2YWx1YXRlKEMudmlzUHJvcC5wb3N0bGFiZWwpO3JldHVybiAyPT09ZSYmMiE9PXMuZXZhbHVhdGUoQy52aXNQcm9wLnByZWNpc2lvbikmJihlPXMuZXZhbHVhdGUoQy52aXNQcm9wLnByZWNpc2lvbikpLHQ9bnVsbCE9PWk/aTpDLm5hbWUmJlwiXCIhPT1DLm5hbWU/Qy5uYW1lK1wiID0gXCI6XCJcIix0Kz1zLnRvRml4ZWQoQy5WYWx1ZSgpLGUpLG51bGwhPT1yJiYodCs9ciksbnVsbCE9PW8mJih0Kz1vKSx0fV0sVCksQy5sYWJlbD1QLEMudmlzUHJvcC53aXRobGFiZWw9ITAsQy5oYXNMYWJlbD0hMCksQy5wb2ludDE9ZixDLnBvaW50Mj1tLEMuYmFzZWxpbmU9ZyxDLmhpZ2hsaW5lPV8seCYmKFQ9cy5jb3B5QXR0cmlidXRlcyhhLHQub3B0aW9ucyxcInNsaWRlclwiLFwidGlja3NcIikscy5leGlzdHMoVC5nZW5lcmF0ZWxhYmVsdGV4dCl8fChULmdlbmVyYXRlTGFiZWxUZXh0PWZ1bmN0aW9uKHQsaSxyKXt2YXIgcz1DLnBvaW50MS5EaXN0KEMucG9pbnQyKSxvPUMuX3NtaW4sbj1DLl9zbWF4LGE9dGhpcy5nZXREaXN0YW5jZUZyb21aZXJvKGksdCkqKG4tbykvcytvO3JldHVybiBzPGUuZXBzfHxNYXRoLmFicyhhKTxlLmVwcz9cIjBcIjp0aGlzLmZvcm1hdExhYmVsVGV4dChhKX0pLDIsYj10LmNyZWF0ZShcInRpY2tzXCIsW0MuYmFzZWxpbmUsQy5wb2ludDEuRGlzdChmKS8yLGZ1bmN0aW9uKHQpe3ZhciByPUMucG9pbnQxLkRpc3QoQy5wb2ludDIpLHM9Qy5wb2ludDEuY29vcmRzLmRpc3RhbmNlKGkuQ09PUkRTX0JZX1VTRVIsdCk7cmV0dXJuIHI8ZS5lcHM/MDpzL3IqcCtjfV0sVCksQy50aWNrcz1iKSxDLnJlbW92ZT1mdW5jdGlvbigpe0UmJnQucmVtb3ZlT2JqZWN0KFApLHQucmVtb3ZlT2JqZWN0KF8pLHQucmVtb3ZlT2JqZWN0KGcpLHQucmVtb3ZlT2JqZWN0KG0pLHQucmVtb3ZlT2JqZWN0KGYpLG8uUG9pbnQucHJvdG90eXBlLnJlbW92ZS5jYWxsKEMpfSxmLmR1bXA9ITEsbS5kdW1wPSExLGcuZHVtcD0hMSxfLmR1bXA9ITEsRSYmKFAuZHVtcD0hMSksQy5lbFR5cGU9XCJzbGlkZXJcIixDLnBhcmVudHM9bixDLnN1YnM9e3BvaW50MTpmLHBvaW50MjptLGJhc2VMaW5lOmcsaGlnaExpbmU6X30sQy5pbmhlcml0cy5wdXNoKGYsbSxnLF8pLHgmJihiLmR1bXA9ITEsQy5zdWJzLnRpY2tzPWIsQy5pbmhlcml0cy5wdXNoKGIpKSxDLmdldFBhcmVudHM9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5wb2ludDEuY29vcmRzLnVzckNvb3Jkcy5zbGljZSgxKSx0aGlzLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLnNsaWNlKDEpLFt0aGlzLl9zbWluLHRoaXMucG9zaXRpb24qKHRoaXMuX3NtYXgtdGhpcy5fc21pbikrdGhpcy5fc21pbix0aGlzLl9zbWF4XV19LEMuYmFzZWxpbmUub24oXCJ1cFwiLChmdW5jdGlvbih0KXt2YXIgZSxvO3MuZXZhbHVhdGUoQy52aXNQcm9wLm1vdmVvbnVwKSYmIXMuZXZhbHVhdGUoQy52aXNQcm9wLmZpeGVkKSYmKGU9Zy5ib2FyZC5nZXRNb3VzZVBvc2l0aW9uKHQsMCksbz1uZXcgcihpLkNPT1JEU19CWV9TQ1JFRU4sZSx0aGlzLmJvYXJkKSxDLm1vdmVUbyhbby51c3JDb29yZHNbMV0sby51c3JDb29yZHNbMl1dKSl9KSksQy5wcmVwYXJlVXBkYXRlKCkudXBkYXRlKCksdC5pc1N1c3BlbmRlZFVwZGF0ZXx8KEMudXBkYXRlVmlzaWJpbGl0eSgpLnVwZGF0ZVJlbmRlcmVyKCksQy5iYXNlbGluZS51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSxDLmhpZ2hsaW5lLnVwZGF0ZVZpc2liaWxpdHkoKS51cGRhdGVSZW5kZXJlcigpLHgmJkMudGlja3MudXBkYXRlVmlzaWJpbGl0eSgpLnVwZGF0ZVJlbmRlcmVyKCkpLEN9LHQucmVnaXN0ZXJFbGVtZW50KFwic2xpZGVyXCIsdC5jcmVhdGVTbGlkZXIpLHtjcmVhdGVTbGlkZXI6dC5jcmVhdGVTbGlkZXJ9fSkpLGRlZmluZShcImVsZW1lbnQvbWVhc3VyZVwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS9lbGVtZW50XCJdLChmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuY3JlYXRlVGFwZW1lYXN1cmU9ZnVuY3Rpb24ocixzLG8pe3ZhciBuLGEsaCxsLGMsZCx1LHAsZixtLGc7cmV0dXJuIG49c1swXSxhPXNbMV0saD1lLmNvcHlBdHRyaWJ1dGVzKG8sci5vcHRpb25zLFwidGFwZW1lYXN1cmVcIixcInBvaW50MVwiKSxwPXIuY3JlYXRlKFwicG9pbnRcIixuLGgpLGg9ZS5jb3B5QXR0cmlidXRlcyhvLHIub3B0aW9ucyxcInRhcGVtZWFzdXJlXCIsXCJwb2ludDJcIiksZj1yLmNyZWF0ZShcInBvaW50XCIsYSxoKSxwLnNldEF0dHJpYnV0ZSh7aWdub3JlZFNuYXBUb1BvaW50czpbZl19KSxmLnNldEF0dHJpYnV0ZSh7aWdub3JlZFNuYXBUb1BvaW50czpbcF19KSxoPWUuY29weUF0dHJpYnV0ZXMobyxyLm9wdGlvbnMsXCJ0YXBlbWVhc3VyZVwiKSxsPWgud2l0aHRpY2tzLGM9aC53aXRobGFiZWwsMj09PShkPWguZGlnaXRzKSYmMiE9PWgucHJlY2lzaW9uJiYoZD1oLnByZWNpc2lvbiksYyYmKGgud2l0aGxhYmVsPSEwKSx1PXIuY3JlYXRlKFwic2VnbWVudFwiLFtwLGZdLGgpLGMmJihtPW8ubmFtZSYmXCJcIiE9PW8ubmFtZT9vLm5hbWUrXCIgPSBcIjpcIlwiLHUubGFiZWwuc2V0VGV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gbStlLnRvRml4ZWQocC5EaXN0KGYpLGQpfSkpKSxsJiYoaD1lLmNvcHlBdHRyaWJ1dGVzKG8sci5vcHRpb25zLFwidGFwZW1lYXN1cmVcIixcInRpY2tzXCIpLGc9ci5jcmVhdGUoXCJ0aWNrc1wiLFt1LC4xXSxoKSx1LmluaGVyaXRzLnB1c2goZykpLHUucmVtb3ZlPWZ1bmN0aW9uKCl7bCYmdS5yZW1vdmVUaWNrcyhnKSxyLnJlbW92ZU9iamVjdChmKSxyLnJlbW92ZU9iamVjdChwKSxpLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKX0sdS5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiBwLkRpc3QoZil9LHAuZHVtcD0hMSxmLmR1bXA9ITEsdS5lbFR5cGU9XCJ0YXBlbWVhc3VyZVwiLHUuZ2V0UGFyZW50cz1mdW5jdGlvbigpe3JldHVybltbcC5YKCkscC5ZKCldLFtmLlgoKSxmLlkoKV1dfSx1LnN1YnM9e3BvaW50MTpwLHBvaW50MjpmfSxsJiYoZy5kdW1wPSExKSx1Lm1ldGhvZE1hcD10LmRlZXBDb3B5KHUubWV0aG9kTWFwLHtWYWx1ZTpcIlZhbHVlXCJ9KSx1LnByZXBhcmVVcGRhdGUoKS51cGRhdGUoKSxyLmlzU3VzcGVuZGVkVXBkYXRlfHwodS51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSx1LnBvaW50MS51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSx1LnBvaW50Mi51cGRhdGVWaXNpYmlsaXR5KCkudXBkYXRlUmVuZGVyZXIoKSksdX0sdC5yZWdpc3RlckVsZW1lbnQoXCJ0YXBlbWVhc3VyZVwiLHQuY3JlYXRlVGFwZW1lYXN1cmUpLHtjcmVhdGVUYXBlbWVhc3VyZTp0LmNyZWF0ZVRhcGVtZWFzdXJlfX0pKSxkZWZpbmUoXCJwYXJzZXIvZGF0YXNvdXJjZVwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5EYXRhU291cmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YT1bXSx0aGlzLmNvbHVtbkhlYWRlcnM9W10sdGhpcy5yb3dIZWFkZXJzPVtdLHRoaXN9LHQuZXh0ZW5kKHQuRGF0YVNvdXJjZS5wcm90b3R5cGUse2xvYWRGcm9tQXJyYXk6ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbjtpZihlLmlzQXJyYXkoaSkmJih0aGlzLmNvbHVtbkhlYWRlcnM9aSxpPSExKSxlLmlzQXJyYXkocikmJih0aGlzLnJvd0hlYWRlcnM9cixyPSExKSx0aGlzLmRhdGE9W10saSYmKHRoaXMuY29sdW1uSGVhZGVycz1bXSksciYmKHRoaXMucm93SGVhZGVycz1bXSksZS5leGlzdHModCkpe2Zvcih0aGlzLmRhdGE9W10scz0wO3M8dC5sZW5ndGg7cysrKWZvcih0aGlzLmRhdGFbc109W10sbz0wO288dFtzXS5sZW5ndGg7bysrKW49dFtzXVtvXSxwYXJzZUZsb2F0KG4pLnRvU3RyaW5nKCk9PT1uP3RoaXMuZGF0YVtzXVtvXT1wYXJzZUZsb2F0KG4pOnRoaXMuZGF0YVtzXVtvXT1cIi1cIiE9PW4/bjpOYU47aWYoaSYmKHRoaXMuY29sdW1uSGVhZGVycz10aGlzLmRhdGFbMF0uc2xpY2UoMSksdGhpcy5kYXRhPXRoaXMuZGF0YS5zbGljZSgxKSkscilmb3IodGhpcy5yb3dIZWFkZXJzPVtdLHM9MDtzPHRoaXMuZGF0YS5sZW5ndGg7cysrKXRoaXMucm93SGVhZGVycy5wdXNoKHRoaXMuZGF0YVtzXVswXSksdGhpcy5kYXRhW3NdPXRoaXMuZGF0YVtzXS5zbGljZSgxKX1yZXR1cm4gdGhpc30sbG9hZEZyb21UYWJsZTpmdW5jdGlvbih0LGkscil7dmFyIHMsbyxuLGEsaDtpZihlLmlzQXJyYXkoaSkmJih0aGlzLmNvbHVtbkhlYWRlcnM9aSxpPSExKSxlLmlzQXJyYXkocikmJih0aGlzLnJvd0hlYWRlcnM9cixyPSExKSx0aGlzLmRhdGE9W10saSYmKHRoaXMuY29sdW1uSGVhZGVycz1bXSksciYmKHRoaXMucm93SGVhZGVycz1bXSksdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KSxlLmV4aXN0cyh0KSl7Zm9yKHM9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRyXCIpLHRoaXMuZGF0YT1bXSxvPTA7bzxzLmxlbmd0aDtvKyspZm9yKGE9c1tvXS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRkXCIpLHRoaXMuZGF0YVtvXT1bXSxuPTA7bjxhLmxlbmd0aDtuKyspaD1hW25dLmlubmVySFRNTCxwYXJzZUZsb2F0KGgpLnRvU3RyaW5nKCk9PT1oP3RoaXMuZGF0YVtvXVtuXT1wYXJzZUZsb2F0KGgpOnRoaXMuZGF0YVtvXVtuXT1cIi1cIiE9PWg/aDpOYU47aWYoaSYmKHRoaXMuY29sdW1uSGVhZGVycz10aGlzLmRhdGFbMF0uc2xpY2UoMSksdGhpcy5kYXRhPXRoaXMuZGF0YS5zbGljZSgxKSkscilmb3IodGhpcy5yb3dIZWFkZXJzPVtdLG89MDtvPHRoaXMuZGF0YS5sZW5ndGg7bysrKXRoaXMucm93SGVhZGVycy5wdXNoKHRoaXMuZGF0YVtvXVswXSksdGhpcy5kYXRhW29dPXRoaXMuZGF0YVtvXS5zbGljZSgxKX1yZXR1cm4gdGhpc30sYWRkQ29sdW1uOmZ1bmN0aW9uKHQsZSxpKXt0aHJvdyBuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIil9LGFkZFJvdzpmdW5jdGlvbih0LGUsaSl7dGhyb3cgbmV3IEVycm9yKFwibm90IGltcGxlbWVudGVkXCIpfSxnZXRDb2x1bW46ZnVuY3Rpb24odCl7dmFyIGkscj1bXTtpZihlLmlzU3RyaW5nKHQpKWZvcihpPTA7aTx0aGlzLmNvbHVtbkhlYWRlcnMubGVuZ3RoO2krKylpZih0PT09dGhpcy5jb2x1bW5IZWFkZXJzW2ldKXt0PWk7YnJlYWt9Zm9yKGk9MDtpPHRoaXMuZGF0YS5sZW5ndGg7aSsrKXRoaXMuZGF0YVtpXS5sZW5ndGg+dCYmKHJbaV09cGFyc2VGbG9hdCh0aGlzLmRhdGFbaV1bdF0pKTtyZXR1cm4gcn0sZ2V0Um93OmZ1bmN0aW9uKHQpe3ZhciBpLHI7aWYoZS5pc1N0cmluZyh0KSlmb3Iocj0wO3I8dGhpcy5yb3dIZWFkZXJzLmxlbmd0aDtyKyspaWYodD09PXRoaXMucm93SGVhZGVyc1tyXSl7dD1yO2JyZWFrfWZvcihpPVtdLHI9MDtyPHRoaXMuZGF0YVt0XS5sZW5ndGg7cisrKWlbcl09dGhpcy5kYXRhW3RdW3JdO3JldHVybiBpfX0pLHQuRGF0YVNvdXJjZX0pKSxkZWZpbmUoXCJiYXNlL2NoYXJ0XCIsW1wianhnXCIsXCJtYXRoL251bWVyaWNzXCIsXCJtYXRoL3N0YXRpc3RpY3NcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2Nvb3Jkc1wiLFwiYmFzZS9lbGVtZW50XCIsXCJwYXJzZXIvZGF0YXNvdXJjZVwiLFwidXRpbHMvY29sb3JcIixcInV0aWxzL3R5cGVcIixcInV0aWxzL2VudlwiLFwiYmFzZS9jdXJ2ZVwiLFwiYmFzZS9wb2ludFwiLFwiYmFzZS90ZXh0XCIsXCJiYXNlL3BvbHlnb25cIixcImVsZW1lbnQvc2VjdG9yXCIsXCJiYXNlL3RyYW5zZm9ybWF0aW9uXCIsXCJiYXNlL2xpbmVcIixcImJhc2UvY2lyY2xlXCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEsaCxsLGMsZCx1LHAsZixtLGcsYil7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuQ2hhcnQ9ZnVuY3Rpb24odCxlLGkpe3ZhciByLHMsbyxuLGEsbDtpZih0aGlzLmNvbnN0cnVjdG9yKHQsaSksIWguaXNBcnJheShlKXx8MD09PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoOiBDYW4ndCBjcmVhdGUgYSBjaGFydCB3aXRob3V0IGRhdGFcIik7aWYodGhpcy5lbGVtZW50cz1bXSxoLmlzTnVtYmVyKGVbMF0pKWZvcihzPWUscj1bXSxvPTA7bzxzLmxlbmd0aDtvKyspcltvXT1vKzE7ZWxzZSBpZigxPT09ZS5sZW5ndGgmJmguaXNBcnJheShlWzBdKSlmb3Iocz1lWzBdLHI9W10sbD1oLmV2YWx1YXRlKHMpLmxlbmd0aCxvPTA7bzxsO28rKylyW29dPW8rMTtlbHNlIDI9PT1lLmxlbmd0aCYmKGw9TWF0aC5taW4oZVswXS5sZW5ndGgsZVsxXS5sZW5ndGgpLHI9ZVswXS5zbGljZSgwLGwpLHM9ZVsxXS5zbGljZSgwLGwpKTtpZihoLmlzQXJyYXkocykmJjA9PT1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNoYXJ0cyB3aXRob3V0IGRhdGEuXCIpO2ZvcihhPWkuY2hhcnRzdHlsZS5yZXBsYWNlKC8gL2csXCJcIikuc3BsaXQoXCIsXCIpLG89MDtvPGEubGVuZ3RoO28rKyl7c3dpdGNoKGFbb10pe2Nhc2VcImJhclwiOm49dGhpcy5kcmF3QmFyKHQscixzLGkpO2JyZWFrO2Nhc2VcImxpbmVcIjpuPXRoaXMuZHJhd0xpbmUodCxyLHMsaSk7YnJlYWs7Y2FzZVwiZml0XCI6bj10aGlzLmRyYXdGaXQodCxyLHMsaSk7YnJlYWs7Y2FzZVwic3BsaW5lXCI6bj10aGlzLmRyYXdTcGxpbmUodCxyLHMsaSk7YnJlYWs7Y2FzZVwicGllXCI6bj10aGlzLmRyYXdQaWUodCxzLGkpO2JyZWFrO2Nhc2VcInBvaW50XCI6bj10aGlzLmRyYXdQb2ludHModCxyLHMsaSk7YnJlYWs7Y2FzZVwicmFkYXJcIjpuPXRoaXMuZHJhd1JhZGFyKHQsZSxpKX10aGlzLmVsZW1lbnRzLnB1c2gobil9cmV0dXJuIHRoaXMuaWQ9dGhpcy5ib2FyZC5zZXRJZCh0aGlzLFwiQ2hhcnRcIiksdGhpcy5lbGVtZW50c30sdC5DaGFydC5wcm90b3R5cGU9bmV3IG8sdC5leHRlbmQodC5DaGFydC5wcm90b3R5cGUse2RyYXdMaW5lOmZ1bmN0aW9uKHQsZSxpLHIpe3JldHVybiByLmZpbGxjb2xvcj1cIm5vbmVcIixyLmhpZ2hsaWdodGZpbGxjb2xvcj1cIm5vbmVcIix0LmNyZWF0ZShcImN1cnZlXCIsW2UsaV0scil9LGRyYXdTcGxpbmU6ZnVuY3Rpb24odCxlLGkscil7cmV0dXJuIHIuZmlsbENvbG9yPVwibm9uZVwiLHIuaGlnaGxpZ2h0ZmlsbGNvbG9yPVwibm9uZVwiLHQuY3JlYXRlKFwic3BsaW5lXCIsW2UsaV0scil9LGRyYXdGaXQ6ZnVuY3Rpb24odCxpLHIscyl7dmFyIG89cy5kZWdyZWU7cmV0dXJuIG89TWF0aC5tYXgocGFyc2VJbnQobywxMCksMSl8fDEscy5maWxsY29sb3I9XCJub25lXCIscy5oaWdobGlnaHRmaWxsY29sb3I9XCJub25lXCIsdC5jcmVhdGUoXCJmdW5jdGlvbmdyYXBoXCIsW2UucmVncmVzc2lvblBvbHlub21pYWwobyxpLHIpXSxzKX0sZHJhd0JhcjpmdW5jdGlvbih0LGUsaSxyKXt2YXIgcyxvLG4sYSxsLGMsZCx1LHAsZixtPVtdLGc9W10sYj1mdW5jdGlvbih0LGkpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlW3RdKCktaSpufX0sdj17Zml4ZWQ6ITAsd2l0aExhYmVsOiExLHZpc2libGU6ITEsbmFtZTpcIlwifTtpZigocD1oLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiY2hhcnRcIikpJiZwLndpZHRoKW49cC53aWR0aDtlbHNle2lmKGUubGVuZ3RoPD0xKW49MTtlbHNlIGZvcihuPWVbMV0tZVswXSxzPTE7czxlLmxlbmd0aC0xO3MrKyluPWVbcysxXS1lW3NdPG4/ZVtzKzFdLWVbc106bjtuKj0uOH1mb3IoZj1oLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiY2hhcnRcIixcImxhYmVsXCIpLHM9MDtzPGUubGVuZ3RoO3MrKyloLmlzRnVuY3Rpb24oZVtzXSk/KGE9YihzLC0uNSksbD1iKHMsMCksYz1iKHMsLjUpKTooYT1lW3NdLS41Km4sbD1lW3NdLGM9ZVtzXSsuNSpuKSxkPWguaXNGdW5jdGlvbihpW3NdKT9pW3NdKCk6aVtzXSxkPWlbc10sXCJob3Jpem9udGFsXCI9PT1wLmRpcj8oZ1swXT10LmNyZWF0ZShcInBvaW50XCIsWzAsYV0sdiksZ1sxXT10LmNyZWF0ZShcInBvaW50XCIsW2QsYV0sdiksZ1syXT10LmNyZWF0ZShcInBvaW50XCIsW2QsY10sdiksZ1szXT10LmNyZWF0ZShcInBvaW50XCIsWzAsY10sdiksaC5leGlzdHMocC5sYWJlbHMpJiZoLmV4aXN0cyhwLmxhYmVsc1tzXSkmJihmLmFuY2hvclk9XCJtaWRkbGVcIiwobz10LmNyZWF0ZShcInRleHRcIixbZCxsLHAubGFiZWxzW3NdXSxmKSkudmlzUHJvcC5hbmNob3J4PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LlgoKT49MD9cImxlZnRcIjpcInJpZ2h0XCJ9fShvKSkpOihnWzBdPXQuY3JlYXRlKFwicG9pbnRcIixbYSwwXSx2KSxnWzFdPXQuY3JlYXRlKFwicG9pbnRcIixbYSxkXSx2KSxnWzJdPXQuY3JlYXRlKFwicG9pbnRcIixbYyxkXSx2KSxnWzNdPXQuY3JlYXRlKFwicG9pbnRcIixbYywwXSx2KSxoLmV4aXN0cyhwLmxhYmVscykmJmguZXhpc3RzKHAubGFiZWxzW3NdKSYmKGYuYW5jaG9yWD1cIm1pZGRsZVwiLChvPXQuY3JlYXRlKFwidGV4dFwiLFtsLGQscC5sYWJlbHNbc11dLGYpKS52aXNQcm9wLmFuY2hvcnk9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuWSgpPj0wP1wiYm90dG9tXCI6XCJ0b3BcIn19KG8pKSksaC5pc0FycmF5KHAuY29sb3JzKSYmKHU9cC5jb2xvcnMscC5maWxsY29sb3I9dVtzJXUubGVuZ3RoXSksbVtzXT10LmNyZWF0ZShcInBvbHlnb25cIixnLHApLGguZXhpc3RzKHAubGFiZWxzKSYmaC5leGlzdHMocC5sYWJlbHNbc10pJiYobVtzXS50ZXh0PW8pO3JldHVybiBtfSxkcmF3UG9pbnRzOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBzLG89W10sbj1yLmluZm9ib3hhcnJheTtmb3Ioci5maXhlZD0hMCxyLm5hbWU9XCJcIixzPTA7czxlLmxlbmd0aDtzKyspci5pbmZvYm94dGV4dD0hIW4mJm5bcyVuLmxlbmd0aF0sb1tzXT10LmNyZWF0ZShcInBvaW50XCIsW2Vbc10saVtzXV0scik7cmV0dXJuIG99LGRyYXdQaWU6ZnVuY3Rpb24odCxlLG8pe3ZhciBuLGEsbD1bXSxjPVtdLGQ9KGkuc3VtKGUpLG8uY29sb3JzKSx1PW8uaGlnaGxpZ2h0Y29sb3JzLHA9by5sYWJlbHMsZj1vLnJhZGl1c3x8NCxtPWYsZz1vLmNlbnRlcnx8WzAsMF0sYj1nWzBdLHY9Z1sxXSx5PWZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcyxvLG4sYT0wO2ZvcihvPTA7bzw9dDtvKyspYSs9cGFyc2VGbG9hdChoLmV2YWx1YXRlKGVbb10pKTtmb3Iocz1hLG89dCsxO288ZS5sZW5ndGg7bysrKXMrPXBhcnNlRmxvYXQoaC5ldmFsdWF0ZShlW29dKSk7cmV0dXJuIG49MCE9PXM/MipNYXRoLlBJKmEvczowLG0oKSpNYXRoW2ldKG4pK3J9fSxDPWZ1bmN0aW9uKHQsZSl7dmFyIGk9LXRoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMV0rdGhpcy5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1sxXSxvPS10aGlzLnBvaW50MS5jb29yZHMudXNyQ29vcmRzWzJdK3RoaXMucG9pbnQyLmNvb3Jkcy51c3JDb29yZHNbMl07aC5leGlzdHModGhpcy5sYWJlbCkmJih0aGlzLmxhYmVsLnJlbmROb2RlLnN0eWxlLmZvbnRTaXplPWUqaC5ldmFsdWF0ZSh0aGlzLmxhYmVsLnZpc1Byb3AuZm9udHNpemUpK1wicHhcIix0aGlzLmxhYmVsLmZ1bGxVcGRhdGUoKSksdGhpcy5wb2ludDIuY29vcmRzPW5ldyBzKHIuQ09PUkRTX0JZX1VTRVIsW3RoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMV0raSp0LHRoaXMucG9pbnQxLmNvb3Jkcy51c3JDb29yZHNbMl0rbyp0XSx0aGlzLmJvYXJkKSx0aGlzLmZ1bGxVcGRhdGUoKX0sXz1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0ZWR8fCh0aGlzLmhpZ2hsaWdodGVkPSEwLHRoaXMuYm9hcmQuaGlnaGxpZ2h0ZWRPYmplY3RzW3RoaXMuaWRdPXRoaXMsdGhpcy5ib2FyZC5yZW5kZXJlci5oaWdobGlnaHQodGhpcyksQy5jYWxsKHRoaXMsMS4xLDIpKX0sUD1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0ZWQmJih0aGlzLmhpZ2hsaWdodGVkPSExLHRoaXMuYm9hcmQucmVuZGVyZXIubm9IaWdobGlnaHQodGhpcyksQy5jYWxsKHRoaXMsLjkwOTA5MDksMSkpfSxFPXtmaXhlZDohMCx3aXRoTGFiZWw6ITEsdmlzaWJsZTohMSxuYW1lOlwiXCJ9O2lmKCFoLmlzQXJyYXkocCkpZm9yKHA9W10sbj0wO248ZS5sZW5ndGg7bisrKXBbbl09XCJcIjtmb3IoaC5pc0Z1bmN0aW9uKGYpfHwobT1mdW5jdGlvbigpe3JldHVybiBmfSksby5oaWdobGlnaHRvbnNlY3Rvcj1vLmhpZ2hsaWdodG9uc2VjdG9yfHwhMSxvLnN0cmFpZ2h0Zmlyc3Q9ITEsby5zdHJhaWdodGxhc3Q9ITEsYT10LmNyZWF0ZShcInBvaW50XCIsW2Isdl0sRSksbFswXT10LmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuIG0oKStifSxmdW5jdGlvbigpe3JldHVybiB2fV0sRSksbj0wO248ZS5sZW5ndGg7bisrKWxbbisxXT10LmNyZWF0ZShcInBvaW50XCIsW3kobixcImNvc1wiLGIpLHkobixcInNpblwiLHYpXSxFKSxvLm5hbWU9cFtuXSxvLndpdGhsYWJlbD1cIlwiIT09by5uYW1lLG8uZmlsbGNvbG9yPWQmJmRbbiVkLmxlbmd0aF0sby5sYWJlbGNvbG9yPWQmJmRbbiVkLmxlbmd0aF0sby5oaWdobGlnaHRmaWxsY29sb3I9dSYmdVtuJXUubGVuZ3RoXSxjW25dPXQuY3JlYXRlKFwic2VjdG9yXCIsW2EsbFtuXSxsW24rMV1dLG8pLG8uaGlnaGxpZ2h0b25zZWN0b3ImJihjW25dLmhhc1BvaW50PWNbbl0uaGFzUG9pbnRTZWN0b3IpLG8uaGlnaGxpZ2h0YnlzaXplJiYoY1tuXS5oaWdobGlnaHQ9XyxjW25dLm5vSGlnaGxpZ2h0PVApO3JldHVybntzZWN0b3JzOmMscG9pbnRzOmwsbWlkcG9pbnQ6YX19LGRyYXdSYWRhcjpmdW5jdGlvbihlLGksbyl7dmFyIG4sYSxsLGMsZCx1LHAsZixtLGcsYix2LHksQyxfLFAsRSx4LFMsTyx3LFQsTixNLEEsUixMLGssRCxCLEksWSxqLFgsRixVLEosRyx6LEgsViwkLHE9aS5sZW5ndGgsVz1mdW5jdGlvbigpe3ZhciB0LGUsaSxvLG49aC5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubGFiZWwub2Zmc2V0KS5zbGljZSgwKTtyZXR1cm4gdD10aGlzLnBvaW50MS5YKCksZT10aGlzLnBvaW50Mi5YKCksaT10aGlzLnBvaW50MS5ZKCksbz10aGlzLnBvaW50Mi5ZKCksZTx0JiYoblswXT0tblswXSksbzxpJiYoblsxXT0tblsxXSksdGhpcy5zZXRMYWJlbFJlbGF0aXZlQ29vcmRzKG4pLG5ldyBzKHIuQ09PUkRTX0JZX1VTRVIsW3RoaXMucG9pbnQyLlgoKSx0aGlzLnBvaW50Mi5ZKCldLHRoaXMuYm9hcmQpfSxaPWZ1bmN0aW9uKHQsaSl7dmFyIHIscyxvO3JldHVybiByPWUuY3JlYXRlKFwidHJhbnNmb3JtXCIsWy0oX1tpXS15W2ldKSwwXSx7dHlwZTpcInRyYW5zbGF0ZVwifSkscz1lLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtTLyhQW2ldK0NbaV0tKF9baV0teVtpXSkpLDFdLHt0eXBlOlwic2NhbGVcIn0pLHIubWVsdChzKSxvPWUuY3JlYXRlKFwidHJhbnNmb3JtXCIsW3RdLHt0eXBlOlwicm90YXRlXCJ9KSxyLm1lbHQobykscn07aWYocTw9MCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaCByYWRhciBjaGFydDogbm8gZGF0YVwiKTtpZihsPW8ucGFyYW1hcnJheSwhaC5leGlzdHMobCkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggcmFkYXIgY2hhcnQ6IG5lZWQgcGFyYW1BcnJheSBhdHRyaWJ1dGVcIik7aWYoKGM9bC5sZW5ndGgpPD0xKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIHJhZGFyIGNoYXJ0OiBuZWVkIG1vcmUgdGhhbiBvbmUgcGFyYW0gaW4gcGFyYW1BcnJheVwiKTtmb3Iobj0wO248cTtuKyspaWYoYyE9PWlbbl0ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIHJhZGFyIGNoYXJ0OiB1c2UgZGF0YSBsZW5ndGggZXF1YWwgdG8gbnVtYmVyIG9mIHBhcmFtcyAoXCIraVtuXS5sZW5ndGgrXCIgIT0gXCIrYytcIilcIik7Zm9yKGQ9W10sdT1bXSxhPTA7YTxjO2ErKylkW2FdPWlbMF1bYV0sdVthXT1kW2FdO2ZvcihuPTE7bjxxO24rKylmb3IoYT0wO2E8YzthKyspaVtuXVthXT5kW2FdJiYoZFthXT1pW25dW2FdKSxpW25dW2FdPHVbYV0mJih1W2FdPWlbbl1bYV0pO2ZvcihwPVtdLGY9W10sbj0wO248cTtuKyspcFtuXT1cIlwiLGZbbl09W107Zm9yKG09W10sZz1bXSxiPW8uc3RhcnRzaGlmdHJhdGlvfHwwLHY9by5lbmRzaGlmdHJhdGlvfHwwLG49MDtuPGM7bisrKW1bbl09KGRbbl0tdVtuXSkqYixnW25dPShkW25dLXVbbl0pKnY7aWYoeT1vLnN0YXJ0c2hpZnRhcnJheXx8bSxDPW8uZW5kc2hpZnRhcnJheXx8ZyxfPW8uc3RhcnRhcnJheXx8dSxoLmV4aXN0cyhvLnN0YXJ0KSlmb3Iobj0wO248YztuKyspX1tuXT1vLnN0YXJ0O2lmKFA9by5lbmRhcnJheXx8ZCxoLmV4aXN0cyhvLmVuZCkpZm9yKG49MDtuPGM7bisrKVBbbl09by5lbmQ7aWYoeS5sZW5ndGghPT1jKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIHJhZGFyIGNoYXJ0OiBzdGFydCBzaGlmdHMgbGVuZ3RoIGlzIG5vdCBlcXVhbCB0byBudW1iZXIgb2YgcGFyYW1ldGVyc1wiKTtpZihDLmxlbmd0aCE9PWMpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggcmFkYXIgY2hhcnQ6IGVuZCBzaGlmdHMgbGVuZ3RoIGlzIG5vdCBlcXVhbCB0byBudW1iZXIgb2YgcGFyYW1ldGVyc1wiKTtpZihfLmxlbmd0aCE9PWMpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGggcmFkYXIgY2hhcnQ6IHN0YXJ0cyBsZW5ndGggaXMgbm90IGVxdWFsIHRvIG51bWJlciBvZiBwYXJhbWV0ZXJzXCIpO2lmKFAubGVuZ3RoIT09Yyl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaCByYWRhciBjaGFydDogc25kcyBsZW5ndGggaXMgbm90IGVxdWFsIHRvIG51bWJlciBvZiBwYXJhbWV0ZXJzXCIpO2ZvcihFPW8ubGFiZWxhcnJheXx8cCx4PW8uY29sb3JzLG8uaGlnaGxpZ2h0Y29sb3JzLFM9by5yYWRpdXN8fDEwLFY9by5zdHJva2V3aWR0aHx8MSxoLmV4aXN0cyhvLmhpZ2hsaWdodG9uc2VjdG9yKXx8KG8uaGlnaGxpZ2h0b25zZWN0b3I9ITEpLE89e25hbWU6by5uYW1lLGlkOm8uaWQsc3Ryb2tld2lkdGg6Vixwb2x5c3Ryb2tld2lkdGg6by5wb2x5c3Ryb2tld2lkdGh8fFYsc3Ryb2tlY29sb3I6by5zdHJva2Vjb2xvcnx8XCJibGFja1wiLHN0cmFpZ2h0Zmlyc3Q6ITEsc3RyYWlnaHRsYXN0OiExLGZpbGxjb2xvcjpvLmZpbGxDb2xvcnx8XCIjRkZGRjg4XCIsZmlsbG9wYWNpdHk6by5maWxsT3BhY2l0eXx8LjQsaGlnaGxpZ2h0ZmlsbGNvbG9yOm8uaGlnaGxpZ2h0RmlsbENvbG9yfHxcIiNGRjc0MDBcIixoaWdobGlnaHRzdHJva2Vjb2xvcjpvLmhpZ2hsaWdodFN0cm9rZUNvbG9yfHxcImJsYWNrXCIsZ3JhZGllbnQ6by5ncmFkaWVudHx8XCJub25lXCJ9LFQ9KHc9by5jZW50ZXJ8fFswLDBdKVswXSxOPXdbMV0sTT1lLmNyZWF0ZShcInBvaW50XCIsW1QsTl0se25hbWU6XCJcIixmaXhlZDohMCx3aXRobGFiZWw6ITEsdmlzaWJsZTohMX0pLE1hdGguUEkvMi1NYXRoLlBJL2MsUj1BPW8uc3RhcnRhbmdsZXx8MCxMPVtdLGs9W10sbj0wO248YztuKyspZm9yKFIrPTIqTWF0aC5QSS9jLEI9UypNYXRoLmNvcyhSKStULEk9UypNYXRoLnNpbihSKStOLExbbl09ZS5jcmVhdGUoXCJwb2ludFwiLFtCLEldLHtuYW1lOlwiXCIsZml4ZWQ6ITAsd2l0aGxhYmVsOiExLHZpc2libGU6ITF9KSxrW25dPWUuY3JlYXRlKFwibGluZVwiLFtNLExbbl1dLHtuYW1lOmxbbl0sc3Ryb2tlQ29sb3I6Ty5zdHJva2Vjb2xvcixzdHJva2VXaWR0aDpPLnN0cm9rZXdpZHRoLHN0cm9rZU9wYWNpdHk6MSxzdHJhaWdodEZpcnN0OiExLHN0cmFpZ2h0TGFzdDohMSx3aXRoTGFiZWw6ITAsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6Ty5oaWdobGlnaHRzdHJva2Vjb2xvcn0pLGtbbl0uZ2V0TGFiZWxBbmNob3I9VyxEPVooUixuKSxhPTA7YTxpLmxlbmd0aDthKyspJD1pW2FdW25dLGZbYV1bbl09ZS5jcmVhdGUoXCJwb2ludFwiLFskLDBdLHtuYW1lOlwiXCIsZml4ZWQ6ITAsd2l0aGxhYmVsOiExLHZpc2libGU6ITF9KSxmW2FdW25dLmFkZFRyYW5zZm9ybShmW2FdW25dLEQpO2ZvcihZPVtdLG49MDtuPHE7bisrKWZvcihPLmxhYmVsY29sb3I9eCYmeFtuJXgubGVuZ3RoXSxPLnN0cm9rZWNvbG9yPXgmJnhbbiV4Lmxlbmd0aF0sTy5maWxsY29sb3I9eCYmeFtuJXgubGVuZ3RoXSxZW25dPWUuY3JlYXRlKFwicG9seWdvblwiLGZbbl0se3dpdGhMaW5lczohMCx3aXRoTGFiZWw6ITEsZmlsbENvbG9yOk8uZmlsbGNvbG9yLGZpbGxPcGFjaXR5Ok8uZmlsbG9wYWNpdHksaGlnaGxpZ2h0RmlsbENvbG9yOk8uaGlnaGxpZ2h0ZmlsbGNvbG9yfSksYT0wO2E8YzthKyspWVtuXS5ib3JkZXJzW2FdLnNldEF0dHJpYnV0ZShcInN0cm9rZWNvbG9yOlwiK3hbbiV4Lmxlbmd0aF0pLFlbbl0uYm9yZGVyc1thXS5zZXRBdHRyaWJ1dGUoXCJzdHJva2V3aWR0aDpcIitPLnBvbHlzdHJva2V3aWR0aCk7c3dpdGNoKG8ubGVnZW5kcG9zaXRpb258fFwibm9uZVwiKXtjYXNlXCJyaWdodFwiOlg9by5sZWdlbmRsZWZ0b2Zmc2V0fHwyLEY9by5sZWdlbmR0b3BvZmZzZXR8fDEsdGhpcy5sZWdlbmQ9ZS5jcmVhdGUoXCJsZWdlbmRcIixbVCtTK1gsTitTLUZdLHtsYWJlbHM6RSxjb2xvcnM6eH0pO2JyZWFrO2Nhc2VcIm5vbmVcIjpicmVhaztkZWZhdWx0OnQuZGVidWcoXCJVbmtub3duIGxlZ2VuZCBwb3NpdGlvblwiKX1pZihqPVtdLG8uc2hvd2NpcmNsZXMpe2ZvcihVPVtdLG49MDtuPDY7bisrKVVbbl09MjAqbjtpZihVWzBdPVwiMFwiLChHPShKPW8uY2lyY2xlbGFiZWxhcnJheXx8VSkubGVuZ3RoKTwyKXRocm93IG5ldyBFcnJvcihcIkpTWEdyYXBoIHJhZGFyIGNoYXJ0OiB0b28gbGVzcyBjaXJjbGVzIGluIGNpcmNsZUxhYmVsQXJyYXlcIik7Zm9yKHo9W10sRD1aKEErTWF0aC5QSS9jLDApLE8uZmlsbGNvbG9yPVwibm9uZVwiLE8uaGlnaGxpZ2h0ZmlsbGNvbG9yPVwibm9uZVwiLE8uc3Ryb2tlY29sb3I9by5zdHJva2Vjb2xvcnx8XCJibGFja1wiLE8uc3Ryb2tld2lkdGg9by5jaXJjbGVzdHJva2V3aWR0aHx8LjUsTy5sYXllcj0wLEg9KFBbMF0tX1swXSkvKEctMSksbj0wO248RztuKyspeltuXT1lLmNyZWF0ZShcInBvaW50XCIsW19bMF0rbipILDBdLHtuYW1lOkpbbl0sc2l6ZTowLGZpeGVkOiEwLHdpdGhMYWJlbDohMCx2aXNpYmxlOiEwfSkseltuXS5hZGRUcmFuc2Zvcm0oeltuXSxEKSxqW25dPWUuY3JlYXRlKFwiY2lyY2xlXCIsW00seltuXV0sTyl9cmV0dXJuIHRoaXMucmVuZE5vZGU9WVswXS5yZW5kTm9kZSx7Y2lyY2xlczpqLGxpbmVzOmsscG9pbnRzOmYsbWlkcG9pbnQ6TSxwb2x5Z29uczpZfX0sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdXBkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGUmJnRoaXMudXBkYXRlRGF0YUFycmF5KCksdGhpc30sdXBkYXRlRGF0YUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSksdC5jcmVhdGVDaGFydD1mdW5jdGlvbihlLGkscil7dmFyIHMsbyxjLGQsdSxwLGYsbSxnLGIsdix5LEMsXyxQLEUseD1bXSxTPWwuaXNCcm93c2VyP2UuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaVswXSk6bnVsbDtpZigxPT09aS5sZW5ndGgmJmguaXNTdHJpbmcoaVswXSkpe2lmKGguZXhpc3RzKFMpKXtpZihnPWguY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJjaGFydFwiKSxzPShTPShuZXcgbikubG9hZEZyb21UYWJsZShpWzBdLGcud2l0aGhlYWRlcnMsZy53aXRoaGVhZGVycykpLmRhdGEsdT1TLmNvbHVtbkhlYWRlcnMsbz1TLnJvd0hlYWRlcnMsYj1nLndpZHRoLHY9Zy5uYW1lLHk9Zy5zdHJva2Vjb2xvcixDPWcuZmlsbGNvbG9yLF89Zy5oaWdobGlnaHRzdHJva2Vjb2xvcixQPWcuaGlnaGxpZ2h0ZmlsbGNvbG9yLGUuc3VzcGVuZFVwZGF0ZSgpLEU9cy5sZW5ndGgsbT1bXSxnLnJvd3MmJmguaXNBcnJheShnLnJvd3MpKXtmb3IoYz0wO2M8RTtjKyspZm9yKGQ9MDtkPGcucm93cy5sZW5ndGg7ZCsrKWlmKGcucm93c1tkXT09PWN8fGcud2l0aGhlYWRlcnMmJmcucm93c1tkXT09PW9bY10pe20ucHVzaChzW2NdKTticmVha319ZWxzZSBtPXM7Zm9yKEU9bS5sZW5ndGgsYz0wO2M8RTtjKyspe2lmKGY9W10sZy5jaGFydHN0eWxlJiYtMSE9PWcuY2hhcnRzdHlsZS5pbmRleE9mKFwiYmFyXCIpKXtmb3IocD1ifHwuOCxmLnB1c2goMS1wLzIrKGMrLjUpKnAvRSksZD0xO2Q8bVtjXS5sZW5ndGg7ZCsrKWYucHVzaChmW2QtMV0rMSk7Zy53aWR0aD1wL0V9diYmdi5sZW5ndGg9PT1FP2cubmFtZT12W2NdOmcud2l0aGhlYWRlcnMmJihnLm5hbWU9dVtjXSkseSYmeS5sZW5ndGg9PT1FP2cuc3Ryb2tlY29sb3I9eVtjXTpnLnN0cm9rZWNvbG9yPWEuaHN2MnJnYigoYysxKS9FKjM2MCwuOSwuNiksQyYmQy5sZW5ndGg9PT1FP2cuZmlsbGNvbG9yPUNbY106Zy5maWxsY29sb3I9YS5oc3YycmdiKChjKzEpL0UqMzYwLC45LDEpLF8mJl8ubGVuZ3RoPT09RT9nLmhpZ2hsaWdodHN0cm9rZWNvbG9yPV9bY106Zy5oaWdobGlnaHRzdHJva2Vjb2xvcj1hLmhzdjJyZ2IoKGMrMSkvRSozNjAsLjksMSksUCYmUC5sZW5ndGg9PT1FP2cuaGlnaGxpZ2h0ZmlsbGNvbG9yPVBbY106Zy5oaWdobGlnaHRmaWxsY29sb3I9YS5oc3YycmdiKChjKzEpL0UqMzYwLC45LC42KSxnLmNoYXJ0c3R5bGUmJi0xIT09Zy5jaGFydHN0eWxlLmluZGV4T2YoXCJiYXJcIik/eC5wdXNoKG5ldyB0LkNoYXJ0KGUsW2YsbVtjXV0sZykpOngucHVzaChuZXcgdC5DaGFydChlLFttW2NdXSxnKSl9ZS51bnN1c3BlbmRVcGRhdGUoKX1yZXR1cm4geH1yZXR1cm4gZz1oLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwiY2hhcnRcIiksbmV3IHQuQ2hhcnQoZSxpLGcpfSx0LnJlZ2lzdGVyRWxlbWVudChcImNoYXJ0XCIsdC5jcmVhdGVDaGFydCksdC5MZWdlbmQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBvO2lmKHRoaXMuY29uc3RydWN0b3IoKSxvPWguY29weUF0dHJpYnV0ZXMoaSx0Lm9wdGlvbnMsXCJsZWdlbmRcIiksdGhpcy5ib2FyZD10LHRoaXMuY29vcmRzPW5ldyBzKHIuQ09PUkRTX0JZX1VTRVIsZSx0aGlzLmJvYXJkKSx0aGlzLm15QXR0cz17fSx0aGlzLmxhYmVsX2FycmF5PW8ubGFiZWxhcnJheXx8by5sYWJlbHMsdGhpcy5jb2xvcl9hcnJheT1vLmNvbG9yYXJyYXl8fG8uY29sb3JzLHRoaXMubGluZXM9W10sdGhpcy5teUF0dHMuc3Ryb2tld2lkdGg9by5zdHJva2V3aWR0aHx8NSx0aGlzLm15QXR0cy5zdHJhaWdodGZpcnN0PSExLHRoaXMubXlBdHRzLnN0cmFpZ2h0bGFzdD0hMSx0aGlzLm15QXR0cy53aXRobGFiZWw9ITAsdGhpcy5teUF0dHMuZml4ZWQ9ITAsdGhpcy5zdHlsZT1vLmxlZ2VuZHN0eWxlfHxvLnN0eWxlLFwidmVydGljYWxcIiE9PXRoaXMuc3R5bGUpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IFVua25vd24gbGVnZW5kIHN0eWxlOiBcIit0aGlzLnN0eWxlKTt0aGlzLmRyYXdWZXJ0aWNhbExlZ2VuZCh0LG8pfSx0LkxlZ2VuZC5wcm90b3R5cGU9bmV3IG8sdC5MZWdlbmQucHJvdG90eXBlLmRyYXdWZXJ0aWNhbExlZ2VuZD1mdW5jdGlvbih0LGUpe3ZhciBpLG89ZS5saW5lbGVuZ3RofHwxLG49KGUucm93aGVpZ2h0fHwyMCkvdGhpcy5ib2FyZC51bml0WSxhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0TGFiZWxSZWxhdGl2ZUNvb3Jkcyh0aGlzLnZpc1Byb3AubGFiZWwub2Zmc2V0KSxuZXcgcyhyLkNPT1JEU19CWV9VU0VSLFt0aGlzLnBvaW50Mi5YKCksdGhpcy5wb2ludDIuWSgpXSx0aGlzLmJvYXJkKX07Zm9yKGk9MDtpPHRoaXMubGFiZWxfYXJyYXkubGVuZ3RoO2krKyl0aGlzLm15QXR0cy5uYW1lPXRoaXMubGFiZWxfYXJyYXlbaV0sdGhpcy5teUF0dHMuc3Ryb2tlY29sb3I9dGhpcy5jb2xvcl9hcnJheVtpJXRoaXMuY29sb3JfYXJyYXkubGVuZ3RoXSx0aGlzLm15QXR0cy5oaWdobGlnaHRzdHJva2Vjb2xvcj10aGlzLmNvbG9yX2FycmF5W2kldGhpcy5jb2xvcl9hcnJheS5sZW5ndGhdLHRoaXMubXlBdHRzLmxhYmVsPXtvZmZzZXQ6WzEwLDBdLHN0cm9rZUNvbG9yOnRoaXMuY29sb3JfYXJyYXlbaSV0aGlzLmNvbG9yX2FycmF5Lmxlbmd0aF0sc3Ryb2tlV2lkdGg6dGhpcy5teUF0dHMuc3Ryb2tld2lkdGh9LHRoaXMubGluZXNbaV09dC5jcmVhdGUoXCJsaW5lXCIsW1t0aGlzLmNvb3Jkcy51c3JDb29yZHNbMV0sdGhpcy5jb29yZHMudXNyQ29vcmRzWzJdLWkqbl0sW3RoaXMuY29vcmRzLnVzckNvb3Jkc1sxXStvLHRoaXMuY29vcmRzLnVzckNvb3Jkc1syXS1pKm5dXSx0aGlzLm15QXR0cyksdGhpcy5saW5lc1tpXS5nZXRMYWJlbEFuY2hvcj1hLHRoaXMubGluZXNbaV0ucHJlcGFyZVVwZGF0ZSgpLnVwZGF0ZSgpLnVwZGF0ZVZpc2liaWxpdHkoaC5ldmFsdWF0ZSh0aGlzLmxpbmVzW2ldLnZpc1Byb3AudmlzaWJsZSkpLnVwZGF0ZVJlbmRlcmVyKCl9LHQuY3JlYXRlTGVnZW5kPWZ1bmN0aW9uKGUsaSxyKXt2YXIgcz1bMCwwXTtpZighaC5leGlzdHMoaSl8fDIhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogTGVnZW5kIGVsZW1lbnQgbmVlZHMgdHdvIG51bWJlcnMgYXMgcGFyYW1ldGVyc1wiKTtyZXR1cm4gcz1pLG5ldyB0LkxlZ2VuZChlLHMscil9LHQucmVnaXN0ZXJFbGVtZW50KFwibGVnZW5kXCIsdC5jcmVhdGVMZWdlbmQpLHtDaGFydDp0LkNoYXJ0LExlZ2VuZDp0LkxlZ2VuZCxjcmVhdGVDaGFydDp0LmNyZWF0ZUNoYXJ0LGNyZWF0ZUxlZ2VuZDp0LmNyZWF0ZUxlZ2VuZH19KSksZGVmaW5lKFwiYmFzZS90dXJ0bGVcIixbXCJqeGdcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL2VsZW1lbnRcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpLHIpe1widXNlIHN0cmljdFwiO3JldHVybiB0LlR1cnRsZT1mdW5jdGlvbih0LGkscyl7dmFyIG8sbixhO3JldHVybiB0aGlzLmNvbnN0cnVjdG9yKHQscyxlLk9CSkVDVF9UWVBFX1RVUlRMRSxlLk9CSkVDVF9DTEFTU19PVEhFUiksdGhpcy50dXJ0bGVJc0hpZGRlbj0hMSx0aGlzLmJvYXJkPXQsdGhpcy52aXNQcm9wLmN1cnZlVHlwZT1cInBsb3RcIix0aGlzLl9hdHRyaWJ1dGVzPXIuY29weUF0dHJpYnV0ZXModGhpcy52aXNQcm9wLHQub3B0aW9ucyxcInR1cnRsZVwiKSxkZWxldGUgdGhpcy5fYXR0cmlidXRlcy5pZCxvPTAsbj0wLGE9OTAsMCE9PWkubGVuZ3RoJiYoMz09PWkubGVuZ3RoPyhvPWlbMF0sbj1pWzFdLGE9aVsyXSk6Mj09PWkubGVuZ3RoP3IuaXNBcnJheShpWzBdKT8obz1pWzBdWzBdLG49aVswXVsxXSxhPWlbMV0pOihvPWlbMF0sbj1pWzFdKToobz1pWzBdWzBdLG49aVswXVsxXSkpLHRoaXMuaW5pdChvLG4sYSksdGhpcy5tZXRob2RNYXA9ci5kZWVwQ29weSh0aGlzLm1ldGhvZE1hcCx7Zm9yd2FyZDpcImZvcndhcmRcIixmZDpcImZvcndhcmRcIixiYWNrOlwiYmFja1wiLGJrOlwiYmFja1wiLHJpZ2h0OlwicmlnaHRcIixydDpcInJpZ2h0XCIsbGVmdDpcImxlZnRcIixsdDpcImxlZnRcIixwZW5VcDpcInBlblVwXCIscHU6XCJwZW5VcFwiLHBlbkRvd246XCJwZW5Eb3duXCIscGQ6XCJwZW5Eb3duXCIsY2xlYXJTY3JlZW46XCJjbGVhclNjcmVlblwiLGNzOlwiY2xlYXJTY3JlZW5cIixjbGVhbjpcImNsZWFuXCIsc2V0UG9zOlwic2V0UG9zXCIsaG9tZTpcImhvbWVcIixoaWRlVHVydGxlOlwiaGlkZVR1cnRsZVwiLGh0OlwiaGlkZVR1cnRsZVwiLHNob3dUdXJ0bGU6XCJzaG93VHVydGxlXCIsc3Q6XCJzaG93VHVydGxlXCIscGVuU2l6ZTpcInNldFBlblNpemVcIixwZW5Db2xvcjpcInNldFBlbkNvbG9yXCIscHVzaFR1cnRsZTpcInB1c2hUdXJ0bGVcIixwdXNoOlwicHVzaFR1cnRsZVwiLHBvcFR1cnRsZTpcInBvcFR1cnRsZVwiLHBvcDpcInBvcFR1cnRsZVwiLGxvb2tUbzpcImxvb2tUb1wiLHBvczpcInBvc1wiLG1vdmVUbzpcIm1vdmVUb1wiLFg6XCJYXCIsWTpcIllcIn0pLHRoaXN9LHQuVHVydGxlLnByb3RvdHlwZT1uZXcgaSx0LmV4dGVuZCh0LlR1cnRsZS5wcm90b3R5cGUse2luaXQ6ZnVuY3Rpb24odCxlLGkpe3ZhciByPXtmaXhlZDohMCxuYW1lOlwiXCIsdmlzaWJsZTohMSx3aXRoTGFiZWw6ITF9O3RoaXMuYXJyb3dMZW49MjAvTWF0aC5zcXJ0KHRoaXMuYm9hcmQudW5pdFgqdGhpcy5ib2FyZC51bml0WCt0aGlzLmJvYXJkLnVuaXRZKnRoaXMuYm9hcmQudW5pdFkpLHRoaXMucG9zPVt0LGVdLHRoaXMuaXNQZW5Eb3duPSEwLHRoaXMuZGlyPTkwLHRoaXMuc3RhY2s9W10sdGhpcy5vYmplY3RzPVtdLHRoaXMuY3VydmU9dGhpcy5ib2FyZC5jcmVhdGUoXCJjdXJ2ZVwiLFtbdGhpcy5wb3NbMF1dLFt0aGlzLnBvc1sxXV1dLHRoaXMuX2F0dHJpYnV0ZXMpLHRoaXMub2JqZWN0cy5wdXNoKHRoaXMuY3VydmUpLHRoaXMudHVydGxlPXRoaXMuYm9hcmQuY3JlYXRlKFwicG9pbnRcIix0aGlzLnBvcyxyKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLnR1cnRsZSksdGhpcy50dXJ0bGUyPXRoaXMuYm9hcmQuY3JlYXRlKFwicG9pbnRcIixbdGhpcy5wb3NbMF0sdGhpcy5wb3NbMV0rdGhpcy5hcnJvd0xlbl0sciksdGhpcy5vYmplY3RzLnB1c2godGhpcy50dXJ0bGUyKSx0aGlzLnZpc1Byb3AuYXJyb3cubGFzdEFycm93PSEwLHRoaXMudmlzUHJvcC5hcnJvdy5zdHJhaWdodEZpcnN0PSExLHRoaXMudmlzUHJvcC5hcnJvdy5zdHJhaWdodExhc3Q9ITEsdGhpcy5hcnJvdz10aGlzLmJvYXJkLmNyZWF0ZShcImxpbmVcIixbdGhpcy50dXJ0bGUsdGhpcy50dXJ0bGUyXSx0aGlzLnZpc1Byb3AuYXJyb3cpLHRoaXMub2JqZWN0cy5wdXNoKHRoaXMuYXJyb3cpLHRoaXMuc3Vicz17YXJyb3c6dGhpcy5hcnJvd30sdGhpcy5pbmhlcml0cy5wdXNoKHRoaXMuYXJyb3cpLHRoaXMucmlnaHQoOTAtaSksdGhpcy5ib2FyZC51cGRhdGUoKX0sZm9yd2FyZDpmdW5jdGlvbih0KXtpZigwPT09dClyZXR1cm4gdGhpczt2YXIgZSxpPXQqTWF0aC5jb3ModGhpcy5kaXIqTWF0aC5QSS8xODApLHI9dCpNYXRoLnNpbih0aGlzLmRpcipNYXRoLlBJLzE4MCk7cmV0dXJuIHRoaXMudHVydGxlSXNIaWRkZW58fCgoZT10aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtpLHJdLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSkuYXBwbHlPbmNlKHRoaXMudHVydGxlKSxlLmFwcGx5T25jZSh0aGlzLnR1cnRsZTIpKSx0aGlzLmlzUGVuRG93biYmdGhpcy5jdXJ2ZS5kYXRhWC5sZW5ndGg+PTgxOTImJih0aGlzLmN1cnZlPXRoaXMuYm9hcmQuY3JlYXRlKFwiY3VydmVcIixbW3RoaXMucG9zWzBdXSxbdGhpcy5wb3NbMV1dXSx0aGlzLl9hdHRyaWJ1dGVzKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLmN1cnZlKSksdGhpcy5wb3NbMF0rPWksdGhpcy5wb3NbMV0rPXIsdGhpcy5pc1BlbkRvd24mJih0aGlzLmN1cnZlLmRhdGFYLnB1c2godGhpcy5wb3NbMF0pLHRoaXMuY3VydmUuZGF0YVkucHVzaCh0aGlzLnBvc1sxXSkpLHRoaXMuYm9hcmQudXBkYXRlKCksdGhpc30sYmFjazpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mb3J3YXJkKC10KX0scmlnaHQ6ZnVuY3Rpb24odCl7KHRoaXMuZGlyLT10LHRoaXMuZGlyJT0zNjAsdGhpcy50dXJ0bGVJc0hpZGRlbil8fHRoaXMuYm9hcmQuY3JlYXRlKFwidHJhbnNmb3JtXCIsWy10Kk1hdGguUEkvMTgwLHRoaXMudHVydGxlXSx7dHlwZTpcInJvdGF0ZVwifSkuYXBwbHlPbmNlKHRoaXMudHVydGxlMik7cmV0dXJuIHRoaXMuYm9hcmQudXBkYXRlKCksdGhpc30sbGVmdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yaWdodCgtdCl9LHBlblVwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNQZW5Eb3duPSExLHRoaXN9LHBlbkRvd246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BlbkRvd249ITAsdGhpcy5jdXJ2ZT10aGlzLmJvYXJkLmNyZWF0ZShcImN1cnZlXCIsW1t0aGlzLnBvc1swXV0sW3RoaXMucG9zWzFdXV0sdGhpcy5fYXR0cmlidXRlcyksdGhpcy5vYmplY3RzLnB1c2godGhpcy5jdXJ2ZSksdGhpc30sY2xlYW46ZnVuY3Rpb24oKXt2YXIgdCxpO2Zvcih0PTA7dDx0aGlzLm9iamVjdHMubGVuZ3RoO3QrKykoaT10aGlzLm9iamVjdHNbdF0pLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0NVUlZFJiYodGhpcy5ib2FyZC5yZW1vdmVPYmplY3QoaSksdGhpcy5vYmplY3RzLnNwbGljZSh0LDEpKTtyZXR1cm4gdGhpcy5jdXJ2ZT10aGlzLmJvYXJkLmNyZWF0ZShcImN1cnZlXCIsW1t0aGlzLnBvc1swXV0sW3RoaXMucG9zWzFdXV0sdGhpcy5fYXR0cmlidXRlcyksdGhpcy5vYmplY3RzLnB1c2godGhpcy5jdXJ2ZSksdGhpcy5ib2FyZC51cGRhdGUoKSx0aGlzfSxjbGVhclNjcmVlbjpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLm9iamVjdHMubGVuZ3RoO2Zvcih0PTA7dDxpO3QrKyllPXRoaXMub2JqZWN0c1t0XSx0aGlzLmJvYXJkLnJlbW92ZU9iamVjdChlKTtyZXR1cm4gdGhpcy5pbml0KDAsMCw5MCksdGhpc30sc2V0UG9zOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIHIuaXNBcnJheSh0KT90aGlzLnBvcz10OnRoaXMucG9zPVt0LGldLHRoaXMudHVydGxlSXNIaWRkZW58fCh0aGlzLnR1cnRsZS5zZXRQb3NpdGlvbkRpcmVjdGx5KGUuQ09PUkRTX0JZX1VTRVIsW3QsaV0pLHRoaXMudHVydGxlMi5zZXRQb3NpdGlvbkRpcmVjdGx5KGUuQ09PUkRTX0JZX1VTRVIsW3QsaSt0aGlzLmFycm93TGVuXSksdGhpcy5ib2FyZC5jcmVhdGUoXCJ0cmFuc2Zvcm1cIixbLSh0aGlzLmRpci05MCkqTWF0aC5QSS8xODAsdGhpcy50dXJ0bGVdLHt0eXBlOlwicm90YXRlXCJ9KS5hcHBseU9uY2UodGhpcy50dXJ0bGUyKSksdGhpcy5jdXJ2ZT10aGlzLmJvYXJkLmNyZWF0ZShcImN1cnZlXCIsW1t0aGlzLnBvc1swXV0sW3RoaXMucG9zWzFdXV0sdGhpcy5fYXR0cmlidXRlcyksdGhpcy5vYmplY3RzLnB1c2godGhpcy5jdXJ2ZSksdGhpcy5ib2FyZC51cGRhdGUoKSx0aGlzfSxzZXRQZW5TaXplOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnZlPXRoaXMuYm9hcmQuY3JlYXRlKFwiY3VydmVcIixbW3RoaXMucG9zWzBdXSxbdGhpcy5wb3NbMV1dXSx0aGlzLmNvcHlBdHRyKFwic3Ryb2tlV2lkdGhcIix0KSksdGhpcy5vYmplY3RzLnB1c2godGhpcy5jdXJ2ZSksdGhpc30sc2V0UGVuQ29sb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VydmU9dGhpcy5ib2FyZC5jcmVhdGUoXCJjdXJ2ZVwiLFtbdGhpcy5wb3NbMF1dLFt0aGlzLnBvc1sxXV1dLHRoaXMuY29weUF0dHIoXCJzdHJva2VDb2xvclwiLHQpKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLmN1cnZlKSx0aGlzfSxzZXRIaWdobGlnaHRQZW5Db2xvcjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5jdXJ2ZT10aGlzLmJvYXJkLmNyZWF0ZShcImN1cnZlXCIsW1t0aGlzLnBvc1swXV0sW3RoaXMucG9zWzFdXV0sdGhpcy5jb3B5QXR0cihcImhpZ2hsaWdodFN0cm9rZUNvbG9yXCIsdCkpLHRoaXMub2JqZWN0cy5wdXNoKHRoaXMuY3VydmUpLHRoaXN9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbih0KXt2YXIgaSxzLG8sbj10aGlzLm9iamVjdHMubGVuZ3RoO2ZvcihpPTA7aTxuO2krKykocz10aGlzLm9iamVjdHNbaV0pLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0NVUlZFJiZzLnNldEF0dHJpYnV0ZSh0KTtyZXR1cm4gbz10aGlzLnZpc1Byb3AuaWQsdGhpcy52aXNQcm9wPXIuZGVlcENvcHkodGhpcy5jdXJ2ZS52aXNQcm9wKSx0aGlzLnZpc1Byb3AuaWQ9byx0aGlzLl9hdHRyaWJ1dGVzPXIuZGVlcENvcHkodGhpcy52aXNQcm9wKSxkZWxldGUgdGhpcy5fYXR0cmlidXRlcy5pZCx0aGlzfSxjb3B5QXR0cjpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzW3QudG9Mb3dlckNhc2UoKV09ZSx0aGlzLl9hdHRyaWJ1dGVzfSxzaG93VHVydGxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHVydGxlSXNIaWRkZW49ITEsdGhpcy5hcnJvdy5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITB9KSx0aGlzLnZpc1Byb3AuYXJyb3cudmlzaWJsZT0hMSx0aGlzLnNldFBvcyh0aGlzLnBvc1swXSx0aGlzLnBvc1sxXSksdGhpcy5ib2FyZC51cGRhdGUoKSx0aGlzfSxoaWRlVHVydGxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHVydGxlSXNIaWRkZW49ITAsdGhpcy5hcnJvdy5zZXRBdHRyaWJ1dGUoe3Zpc2libGU6ITF9KSx0aGlzLnZpc1Byb3AuYXJyb3cudmlzaWJsZT0hMSx0aGlzLmJvYXJkLnVwZGF0ZSgpLHRoaXN9LGhvbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3M9WzAsMF0sdGhpcy5zZXRQb3ModGhpcy5wb3NbMF0sdGhpcy5wb3NbMV0pLHRoaXN9LHB1c2hUdXJ0bGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFjay5wdXNoKFt0aGlzLnBvc1swXSx0aGlzLnBvc1sxXSx0aGlzLmRpcl0pLHRoaXN9LHBvcFR1cnRsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3RhY2sucG9wKCk7cmV0dXJuIHRoaXMucG9zWzBdPXRbMF0sdGhpcy5wb3NbMV09dFsxXSx0aGlzLmRpcj10WzJdLHRoaXMuc2V0UG9zKHRoaXMucG9zWzBdLHRoaXMucG9zWzFdKSx0aGlzfSxsb29rVG86ZnVuY3Rpb24odCl7dmFyIGUsaSxzLG8sbjtyZXR1cm4gci5pc0FycmF5KHQpPyhlPXRoaXMucG9zWzBdLGk9dGhpcy5wb3NbMV0scz10WzBdLG89dFsxXSxuPU1hdGguYXRhbjIoby1pLHMtZSksdGhpcy5yaWdodCh0aGlzLmRpci0xODAqbi9NYXRoLlBJKSk6ci5pc051bWJlcih0KSYmdGhpcy5yaWdodCh0aGlzLmRpci10KSx0aGlzfSxtb3ZlVG86ZnVuY3Rpb24odCl7dmFyIGUsaSxzO3JldHVybiByLmlzQXJyYXkodCkmJihlPXRbMF0tdGhpcy5wb3NbMF0saT10WzFdLXRoaXMucG9zWzFdLHRoaXMudHVydGxlSXNIaWRkZW58fCgocz10aGlzLmJvYXJkLmNyZWF0ZShcInRyYW5zZm9ybVwiLFtlLGldLHt0eXBlOlwidHJhbnNsYXRlXCJ9KSkuYXBwbHlPbmNlKHRoaXMudHVydGxlKSxzLmFwcGx5T25jZSh0aGlzLnR1cnRsZTIpKSx0aGlzLmlzUGVuRG93biYmdGhpcy5jdXJ2ZS5kYXRhWC5sZW5ndGg+PTgxOTImJih0aGlzLmN1cnZlPXRoaXMuYm9hcmQuY3JlYXRlKFwiY3VydmVcIixbW3RoaXMucG9zWzBdXSxbdGhpcy5wb3NbMV1dXSx0aGlzLl9hdHRyaWJ1dGVzKSx0aGlzLm9iamVjdHMucHVzaCh0aGlzLmN1cnZlKSksdGhpcy5wb3NbMF09dFswXSx0aGlzLnBvc1sxXT10WzFdLHRoaXMuaXNQZW5Eb3duJiYodGhpcy5jdXJ2ZS5kYXRhWC5wdXNoKHRoaXMucG9zWzBdKSx0aGlzLmN1cnZlLmRhdGFZLnB1c2godGhpcy5wb3NbMV0pKSx0aGlzLmJvYXJkLnVwZGF0ZSgpKSx0aGlzfSxmZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mb3J3YXJkKHQpfSxiazpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5iYWNrKHQpfSxsdDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0KHQpfSxydDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yaWdodCh0KX0scHU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wZW5VcCgpfSxwZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBlbkRvd24oKX0saHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWRlVHVydGxlKCl9LHN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hvd1R1cnRsZSgpfSxjczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsZWFyU2NyZWVuKCl9LHB1c2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoVHVydGxlKCl9LHBvcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcFR1cnRsZSgpfSxldmFsQXQ6ZnVuY3Rpb24odCxpKXt2YXIgcixzLG8sbixhPXRoaXMub2JqZWN0cy5sZW5ndGg7Zm9yKHI9MCxzPTA7cjxhO3IrKylpZigobz10aGlzLm9iamVjdHNbcl0pLmVsZW1lbnRDbGFzcz09PWUuT0JKRUNUX0NMQVNTX0NVUlZFKXtpZihzPD10JiZ0PHMrby5udW1iZXJQb2ludHMpcmV0dXJuIG49dC1zLG9baV0obik7cys9by5udW1iZXJQb2ludHN9cmV0dXJuIHRoaXNbaV0oKX0sWDpmdW5jdGlvbih0KXtyZXR1cm4gci5leGlzdHModCk/dGhpcy5ldmFsQXQodCxcIlhcIik6dGhpcy5wb3NbMF19LFk6ZnVuY3Rpb24odCl7cmV0dXJuIHIuZXhpc3RzKHQpP3RoaXMuZXZhbEF0KHQsXCJZXCIpOnRoaXMucG9zWzFdfSxaOmZ1bmN0aW9uKHQpe3JldHVybiAxfSxtaW5YOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LG1heFg6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMub2JqZWN0cy5sZW5ndGgscj0wO2Zvcih0PTA7dDxpO3QrKyl0aGlzLm9iamVjdHNbdF0uZWxlbWVudENsYXNzPT09ZS5PQkpFQ1RfQ0xBU1NfQ1VSVkUmJihyKz10aGlzLm9iamVjdHNbdF0ubnVtYmVyUG9pbnRzKTtyZXR1cm4gcn0saGFzUG9pbnQ6ZnVuY3Rpb24odCxpKXt2YXIgcixzO2ZvcihyPTA7cjx0aGlzLm9iamVjdHMubGVuZ3RoO3IrKylpZigocz10aGlzLm9iamVjdHNbcl0pLnR5cGU9PT1lLk9CSkVDVF9UWVBFX0NVUlZFJiZzLmhhc1BvaW50KHQsaSkpcmV0dXJuITA7cmV0dXJuITF9fSksdC5jcmVhdGVUdXJ0bGU9ZnVuY3Rpb24oZSxpLHMpe3ZhciBvO3JldHVybiBpPWl8fFtdLG89ci5jb3B5QXR0cmlidXRlcyhzLGUub3B0aW9ucyxcInR1cnRsZVwiKSxuZXcgdC5UdXJ0bGUoZSxpLG8pfSx0LnJlZ2lzdGVyRWxlbWVudChcInR1cnRsZVwiLHQuY3JlYXRlVHVydGxlKSx7VHVydGxlOnQuVHVydGxlLGNyZWF0ZVR1cnRsZTp0LmNyZWF0ZVR1cnRsZX19KSksZGVmaW5lKFwiYmFzZS90aWNrc1wiLFtcImp4Z1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJtYXRoL251bWVyaWNzXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9lbGVtZW50XCIsXCJiYXNlL2Nvb3Jkc1wiLFwidXRpbHMvdHlwZVwiLFwiYmFzZS90ZXh0XCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEsaCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuVGlja3M9ZnVuY3Rpb24odCxpLHIpe2lmKHRoaXMuY29uc3RydWN0b3IodC5ib2FyZCxyLHMuT0JKRUNUX1RZUEVfVElDS1Mscy5PQkpFQ1RfQ0xBU1NfT1RIRVIpLHRoaXMubGluZT10LHRoaXMuYm9hcmQ9dGhpcy5saW5lLmJvYXJkLHRoaXMudGlja3NGdW5jdGlvbj1udWxsLHRoaXMuZml4ZWRUaWNrcz1udWxsLHRoaXMuZXF1aWRpc3RhbnQ9ITEsdGhpcy5sYWJlbHNEYXRhPVtdLGEuaXNGdW5jdGlvbihpKSl0aHJvdyB0aGlzLnRpY2tzRnVuY3Rpb249aSxuZXcgRXJyb3IoXCJGdW5jdGlvbiBhcmd1bWVudHMgYXJlIG5vIGxvbmdlciBzdXBwb3J0ZWQuXCIpO2EuaXNBcnJheShpKT90aGlzLmZpeGVkVGlja3M9aTooKE1hdGguYWJzKGkpPGUuZXBzfHxpPDApJiYoaT1yLmRlZmF1bHRkaXN0YW5jZSksdGhpcy50aWNrc0Z1bmN0aW9uPXRoaXMubWFrZVRpY2tzRnVuY3Rpb24oaSksdGhpcy5lcXVpZGlzdGFudD0hMCksdGhpcy5taW5UaWNrc0Rpc3RhbmNlPXIubWludGlja3NkaXN0YW5jZSx0aGlzLnRpY2tzPVtdLHRoaXMudGlja3NEZWx0YT0xLHRoaXMubGFiZWxzPVtdLHRoaXMubGFiZWxEYXRhPVtdLHRoaXMubGFiZWxDb3VudGVyPTAsdGhpcy5pZD10aGlzLmxpbmUuYWRkVGlja3ModGhpcyksdGhpcy5lbFR5cGU9XCJ0aWNrc1wiLHRoaXMuaW5oZXJpdHMucHVzaCh0aGlzLmxhYmVscyksdGhpcy5ib2FyZC5zZXRJZCh0aGlzLFwiVGlcIil9LHQuVGlja3MucHJvdG90eXBlPW5ldyBvLHQuZXh0ZW5kKHQuVGlja3MucHJvdG90eXBlLHttYWtlVGlja3NGdW5jdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZSxpLHI7cmV0dXJuIGEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmluc2VydHRpY2tzKT8oKHI9KGk9dGhpcy5nZXRMb3dlckFuZFVwcGVyQm91bmRzKHRoaXMuZ2V0WmVyb0Nvb3JkaW5hdGVzKCksXCJ0aWNrc2Rpc3RhbmNlXCIpKS51cHBlci1pLmxvd2VyKTw9NiooZT1NYXRoLnBvdygxMCxNYXRoLmZsb29yKE1hdGgubG9nKC42KnIpL01hdGguTE4xMCkpKSYmKGUqPS41KSxlKTp0fX0saGFzUG9pbnQ6ZnVuY3Rpb24odCxpKXt2YXIgcixvLG4saCxsPXRoaXMudGlja3MmJnRoaXMudGlja3MubGVuZ3RofHwwO2lmKGEuaXNPYmplY3QoYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KGg9dGhpcy5ib2FyZC5faW5wdXREZXZpY2Usbj1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25baF0pKTpuPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsbis9LjUqYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc3Ryb2tld2lkdGgpLCFhLmV2YWx1YXRlKHRoaXMubGluZS52aXNQcm9wLnNjYWxhYmxlKXx8dGhpcy5saW5lLmVsZW1lbnRDbGFzcz09PXMuT0JKRUNUX0NMQVNTX0NVUlZFKXJldHVybiExO2lmKDAhPT10aGlzLmxpbmUuc3RkZm9ybVsxXSYmMCE9PXRoaXMubGluZS5zdGRmb3JtWzJdJiZ0aGlzLmxpbmUudHlwZSE9PXMuT0JKRUNUX1RZUEVfQVhJUylyZXR1cm4hMTtmb3Iocj0wO3I8bDtyKyspaWYoKG89dGhpcy50aWNrc1tyXSlbMl0mJiEoMD09PXRoaXMubGluZS5zdGRmb3JtWzFdJiZNYXRoLmFicyhvWzBdWzBdLXRoaXMubGluZS5wb2ludDEuY29vcmRzLnNjckNvb3Jkc1sxXSk8ZS5lcHN8fDA9PT10aGlzLmxpbmUuc3RkZm9ybVsyXSYmTWF0aC5hYnMob1sxXVswXS10aGlzLmxpbmUucG9pbnQxLmNvb3Jkcy5zY3JDb29yZHNbMl0pPGUuZXBzKSYmKE1hdGguYWJzKG9bMF1bMF0tb1swXVsxXSk+PTF8fE1hdGguYWJzKG9bMV1bMF0tb1sxXVsxXSk+PTEpKWlmKDA9PT10aGlzLmxpbmUuc3RkZm9ybVsxXSl7aWYoTWF0aC5hYnMoaS0uNSoob1sxXVswXStvWzFdWzFdKSk8MipuJiZvWzBdWzBdLW48dCYmdDxvWzBdWzFdK24pcmV0dXJuITB9ZWxzZSBpZigwPT09dGhpcy5saW5lLnN0ZGZvcm1bMl0mJk1hdGguYWJzKHQtLjUqKG9bMF1bMF0rb1swXVsxXSkpPDIqbiYmb1sxXVswXS1uPGkmJmk8b1sxXVsxXStuKXJldHVybiEwO3JldHVybiExfSxzZXRQb3NpdGlvbkRpcmVjdGx5OmZ1bmN0aW9uKHQsaSxyKXt2YXIgbyxoLGw9bmV3IG4odCxpLHRoaXMuYm9hcmQpLGM9bmV3IG4odCxyLHRoaXMuYm9hcmQpLGQ9dGhpcy5ib2FyZC5nZXRCb3VuZGluZ0JveCgpO3JldHVybiB0aGlzLmxpbmUudHlwZT09PXMuT0JKRUNUX1RZUEVfQVhJUyYmYS5ldmFsdWF0ZSh0aGlzLmxpbmUudmlzUHJvcC5zY2FsYWJsZSk/KE1hdGguYWJzKHRoaXMubGluZS5zdGRmb3JtWzFdKTxlLmVwcyYmTWF0aC5hYnMobC51c3JDb29yZHNbMV0qYy51c3JDb29yZHNbMV0pPmUuZXBzPyhvPWMudXNyQ29vcmRzWzFdL2wudXNyQ29vcmRzWzFdLGRbMF0qPW8sZFsyXSo9byx0aGlzLmJvYXJkLnNldEJvdW5kaW5nQm94KGQsdGhpcy5ib2FyZC5rZWVwYXNwZWN0cmF0aW8sXCJ1cGRhdGVcIikpOk1hdGguYWJzKHRoaXMubGluZS5zdGRmb3JtWzJdKTxlLmVwcyYmTWF0aC5hYnMobC51c3JDb29yZHNbMl0qYy51c3JDb29yZHNbMl0pPmUuZXBzJiYoaD1jLnVzckNvb3Jkc1syXS9sLnVzckNvb3Jkc1syXSxkWzNdKj1oLGRbMV0qPWgsdGhpcy5ib2FyZC5zZXRCb3VuZGluZ0JveChkLHRoaXMuYm9hcmQua2VlcGFzcGVjdHJhdGlvLFwidXBkYXRlXCIpKSx0aGlzKTp0aGlzfSxjYWxjdWxhdGVUaWNrc0Nvb3JkaW5hdGVzOmZ1bmN0aW9uKCl7dmFyIHQsaSxyLG87aWYoISh0aGlzLmxpbmUuZWxlbWVudENsYXNzPT09cy5PQkpFQ1RfQ0xBU1NfTElORSYmKHRoaXMuc2V0VGlja3NTaXplVmFyaWFibGVzKCksTWF0aC5hYnModGhpcy5keCk8ZS5lcHMmJk1hdGguYWJzKHRoaXMuZHkpPGUuZXBzKSkpcmV0dXJuIHQ9dGhpcy5nZXRaZXJvQ29vcmRpbmF0ZXMoKSxpPXRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19MSU5FP3RoaXMuZ2V0TG93ZXJBbmRVcHBlckJvdW5kcyh0KTp7bG93ZXI6dGhpcy5saW5lLm1pblgoKSx1cHBlcjp0aGlzLmxpbmUubWF4WCgpfSxcInBvbGFyXCI9PT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50eXBlKSYmKG89dGhpcy5ib2FyZC5nZXRCb3VuZGluZ0JveCgpLHI9TWF0aC5tYXgoTWF0aC5zcXJ0KG9bMF0qb1swXStvWzFdKm9bMV0pLE1hdGguc3FydChvWzJdKm9bMl0rb1szXSpvWzNdKSksaS51cHBlcj1yKSx0aGlzLnRpY2tzPVtdLHRoaXMubGFiZWxzRGF0YT1bXSx0aGlzLmVxdWlkaXN0YW50P3RoaXMuZ2VuZXJhdGVFcXVpZGlzdGFudFRpY2tzKHQsaSk6dGhpcy5nZW5lcmF0ZUZpeGVkVGlja3ModCxpKSx0aGlzfSxzZXRUaWNrc1NpemVWYXJpYWJsZXM6ZnVuY3Rpb24odCl7dmFyIGkscyxvLG4saD0uNSphLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5tYWpvcmhlaWdodCksbD0uNSphLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5taW5vcmhlaWdodCk7YS5leGlzdHModCk/KHM9dGhpcy5saW5lLm1pblgoKSxvPXRoaXMubGluZS5tYXhYKCksKG49dGhpcy5saW5lLnBvaW50cy5sZW5ndGgpPDI/KHRoaXMuZHhNYWo9MCx0aGlzLmR5TWFqPTApOmUucmVsRGlmKHQscyk8ZS5lcHM/KHRoaXMuZHhNYWo9dGhpcy5saW5lLnBvaW50c1swXS51c3JDb29yZHNbMl0tdGhpcy5saW5lLnBvaW50c1sxXS51c3JDb29yZHNbMl0sdGhpcy5keU1haj10aGlzLmxpbmUucG9pbnRzWzFdLnVzckNvb3Jkc1sxXS10aGlzLmxpbmUucG9pbnRzWzBdLnVzckNvb3Jkc1sxXSk6ZS5yZWxEaWYodCxvKTxlLmVwcz8odGhpcy5keE1haj10aGlzLmxpbmUucG9pbnRzW24tMl0udXNyQ29vcmRzWzJdLXRoaXMubGluZS5wb2ludHNbbi0xXS51c3JDb29yZHNbMl0sdGhpcy5keU1haj10aGlzLmxpbmUucG9pbnRzW24tMV0udXNyQ29vcmRzWzFdLXRoaXMubGluZS5wb2ludHNbbi0yXS51c3JDb29yZHNbMV0pOih0aGlzLmR4TWFqPS1yLkQodGhpcy5saW5lLlkpKHQpLHRoaXMuZHlNYWo9ci5EKHRoaXMubGluZS5YKSh0KSkpOih0aGlzLmR4TWFqPXRoaXMubGluZS5zdGRmb3JtWzFdLHRoaXMuZHlNYWo9dGhpcy5saW5lLnN0ZGZvcm1bMl0pLHRoaXMuZHhNaW49dGhpcy5keE1haix0aGlzLmR5TWluPXRoaXMuZHlNYWosdGhpcy5keD10aGlzLmR4TWFqLHRoaXMuZHk9dGhpcy5keU1haixpPU1hdGguc3FydCh0aGlzLmR4TWFqKnRoaXMuZHhNYWoqdGhpcy5ib2FyZC51bml0WCp0aGlzLmJvYXJkLnVuaXRYK3RoaXMuZHlNYWoqdGhpcy5keU1haip0aGlzLmJvYXJkLnVuaXRZKnRoaXMuYm9hcmQudW5pdFkpLHRoaXMuZHhNYWoqPWgvaSp0aGlzLmJvYXJkLnVuaXRYLHRoaXMuZHlNYWoqPWgvaSp0aGlzLmJvYXJkLnVuaXRZLHRoaXMuZHhNaW4qPWwvaSp0aGlzLmJvYXJkLnVuaXRYLHRoaXMuZHlNaW4qPWwvaSp0aGlzLmJvYXJkLnVuaXRZLHRoaXMubWluU3R5bGU9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubWlub3JoZWlnaHQpPDA/XCJpbmZpbml0ZVwiOlwiZmluaXRlXCIsdGhpcy5tYWpTdHlsZT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5tYWpvcmhlaWdodCk8MD9cImluZmluaXRlXCI6XCJmaW5pdGVcIn0sZ2V0WmVyb0Nvb3JkaW5hdGVzOmZ1bmN0aW9uKCl7dmFyIHQsZSxyLG8saCxsLGMsZCx1PWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmFuY2hvcik7cmV0dXJuIHRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19MSU5FP3RoaXMubGluZS50eXBlPT09cy5PQkpFQ1RfVFlQRV9BWElTP2kucHJvamVjdFBvaW50VG9MaW5lKHtjb29yZHM6e3VzckNvb3JkczpbMSwwLDBdfX0sdGhpcy5saW5lLHRoaXMuYm9hcmQpOihyPXRoaXMubGluZS5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1swXSx0PXRoaXMubGluZS5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1sxXSxlPXRoaXMubGluZS5wb2ludDEuY29vcmRzLnVzckNvb3Jkc1syXSxsPXRoaXMubGluZS5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1swXSxvPXRoaXMubGluZS5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1sxXSxoPXRoaXMubGluZS5wb2ludDIuY29vcmRzLnVzckNvb3Jkc1syXSxcInJpZ2h0XCI9PT11P3RoaXMubGluZS5wb2ludDIuY29vcmRzOlwibWlkZGxlXCI9PT11P25ldyBuKHMuQ09PUkRTX0JZX1VTRVIsWy41KihyK2wpLC41Kih0K28pLC41KihlK2gpXSx0aGlzLmJvYXJkKTphLmlzTnVtYmVyKHUpP25ldyBuKHMuQ09PUkRTX0JZX1VTRVIsW3IrKGwtcikqdSx0KyhvLXQpKnUsZSsoaC1lKSp1XSx0aGlzLmJvYXJkKTp0aGlzLmxpbmUucG9pbnQxLmNvb3Jkcyk6KGM9dGhpcy5saW5lLm1pblgoKSxkPXRoaXMubGluZS5tYXhYKCksXCJyaWdodFwiPT09dT9kOlwibWlkZGxlXCI9PT11Py41KihjK2QpOmEuaXNOdW1iZXIodSk/YyooMS11KStkKnU6Yyl9LGdldExvd2VyQW5kVXBwZXJCb3VuZHM6ZnVuY3Rpb24odCxyKXt2YXIgbyxoLGwsYyxkLHUscCxmLG0sZyxiPWEuZXZhbHVhdGUodGhpcy5saW5lLnZpc1Byb3Auc3RyYWlnaHRmaXJzdCksdj1hLmV2YWx1YXRlKHRoaXMubGluZS52aXNQcm9wLnN0cmFpZ2h0bGFzdCkseT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5pbmNsdWRlYm91bmRhcmllcyk7cmV0dXJuIHRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19DVVJWRT97bG93ZXI6dGhpcy5saW5lLm1pblgoKSx1cHBlcjp0aGlzLmxpbmUubWF4WCgpfTooZD1uZXcgbihzLkNPT1JEU19CWV9VU0VSLHRoaXMubGluZS5wb2ludDEuY29vcmRzLnVzckNvb3Jkcyx0aGlzLmJvYXJkKSx1PW5ldyBuKHMuQ09PUkRTX0JZX1VTRVIsdGhpcy5saW5lLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLHRoaXMuYm9hcmQpLHA9TWF0aC5hYnMoZC51c3JDb29yZHNbMF0pPj1lLmVwcyYmZC5zY3JDb29yZHNbMV0+PTAmJmQuc2NyQ29vcmRzWzFdPD10aGlzLmJvYXJkLmNhbnZhc1dpZHRoJiZkLnNjckNvb3Jkc1syXT49MCYmZC5zY3JDb29yZHNbMl08PXRoaXMuYm9hcmQuY2FudmFzSGVpZ2h0LGY9TWF0aC5hYnModS51c3JDb29yZHNbMF0pPj1lLmVwcyYmdS5zY3JDb29yZHNbMV0+PTAmJnUuc2NyQ29vcmRzWzFdPD10aGlzLmJvYXJkLmNhbnZhc1dpZHRoJiZ1LnNjckNvb3Jkc1syXT49MCYmdS5zY3JDb29yZHNbMl08PXRoaXMuYm9hcmQuY2FudmFzSGVpZ2h0LGEuZXhpc3RzKHIpfHxcInRpY2tkaXN0YW5jZVwiPT09cj9pLmNhbGNTdHJhaWdodCh0aGlzLmxpbmUsZCx1LGEuZXZhbHVhdGUodGhpcy5saW5lLnZpc1Byb3AubWFyZ2luKSk6aS5jYWxjTGluZURlbGltaXRpbmdQb2ludHModGhpcy5saW5lLGQsdSksbD1hLmV2YWx1YXRlKHRoaXMubGluZS52aXNQcm9wLmZpcnN0YXJyb3cpLGM9YS5ldmFsdWF0ZSh0aGlzLmxpbmUudmlzUHJvcC5sYXN0YXJyb3cpLChsfHxjKSYmKHRoaXMuYm9hcmQucmVuZGVyZXIuZ2V0UG9zaXRpb25BcnJvd0hlYWQodGhpcy5saW5lLGQsdSxhLmV2YWx1YXRlKHRoaXMubGluZS52aXNQcm9wLnN0cm9rZXdpZHRoKSksbCYmZC5zZXRDb29yZGluYXRlcyhzLkNPT1JEU19CWV9TQ1JFRU4sW2Quc2NyQ29vcmRzWzFdLGQuc2NyQ29vcmRzWzJdXSksYyYmdS5zZXRDb29yZGluYXRlcyhzLkNPT1JEU19CWV9TQ1JFRU4sW3Uuc2NyQ29vcmRzWzFdLHUuc2NyQ29vcmRzWzJdXSkpLChtPXRoaXMuZ2V0RGlzdGFuY2VGcm9tWmVybyh0LGQpKTwoZz10aGlzLmdldERpc3RhbmNlRnJvbVplcm8odCx1KSk/KG89bSxifHwhcHx8eXx8KG8rPWUuZXBzKSxoPWcsdnx8IWZ8fHl8fChoLT1lLmVwcykpOmc8bT8obz1nLHZ8fCFmfHx5fHwobys9ZS5lcHMpLGg9bSxifHwhcHx8eXx8KGgtPWUuZXBzKSk6KG89MCxoPTApLHtsb3dlcjpvLHVwcGVyOmh9KX0sZ2V0RGlzdGFuY2VGcm9tWmVybzpmdW5jdGlvbih0LGkpe3ZhciByLG8sbixhLGg7cmV0dXJuIHI9dGhpcy5saW5lLnBvaW50MS5jb29yZHMsbz10aGlzLmxpbmUucG9pbnQyLmNvb3JkcyxoPXQuZGlzdGFuY2Uocy5DT09SRFNfQllfVVNFUixpKSxuPVtvLnVzckNvb3Jkc1swXS1yLnVzckNvb3Jkc1swXSxvLnVzckNvb3Jkc1sxXS1yLnVzckNvb3Jkc1sxXSxvLnVzckNvb3Jkc1syXS1yLnVzckNvb3Jkc1syXV0sYT1baS51c3JDb29yZHNbMF0tdC51c3JDb29yZHNbMF0saS51c3JDb29yZHNbMV0tdC51c3JDb29yZHNbMV0saS51c3JDb29yZHNbMl0tdC51c3JDb29yZHNbMl1dLGUuaW5uZXJQcm9kdWN0KG4sYSwzKTwwJiYoaCo9LTEpLGh9LGdlbmVyYXRlRXF1aWRpc3RhbnRUaWNrczpmdW5jdGlvbih0LGkpe3ZhciByLG8sbj1lLmVwcyxoPXRoaXMuZXF1aWRpc3RhbnQ/dGhpcy50aWNrc0Z1bmN0aW9uKDEpOnRoaXMudGlja3NEZWx0YSxsPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmluc2VydHRpY2tzKSxjPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLm1pbm9ydGlja3MpO2lmKHRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19MSU5FJiYobz10aGlzLmdldFhhbmRZZGVsdGFzKCkpLGgqPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLnNjYWxlKSxsJiZ0aGlzLm1pblRpY2tzRGlzdGFuY2U+ZS5lcHM/KGg9dGhpcy5hZGp1c3RUaWNrRGlzdGFuY2UoaCx0LG8pLGgvPWMrMSk6bHx8KGgvPWMrMSksdGhpcy50aWNrc0RlbHRhPWgsIShoPGUuZXBzKSl7Zm9yKHI9MCxhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kcmF3emVybyl8fChyPWgpO3I8PWkudXBwZXIrbiYmKHI+PWkubG93ZXItbiYmdGhpcy5wcm9jZXNzVGlja1Bvc2l0aW9uKHQscixoLG8pLHIrPWgsIShpLnVwcGVyLXI+MWU0KmgpKTspO2ZvcihyPS1oO3I+PWkubG93ZXItbiYmKHI8PWkudXBwZXIrbiYmdGhpcy5wcm9jZXNzVGlja1Bvc2l0aW9uKHQscixoLG8pLCEoKHItPWgpLWkubG93ZXI+MWU0KmgpKTspO319LGFkanVzdFRpY2tEaXN0YW5jZTpmdW5jdGlvbih0LGUsaSl7dmFyIHIsbyxoLGw9MSxjPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLm1pbm9ydGlja3MpO2lmKHRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19DVVJWRSlyZXR1cm4gdDtpZih0aGlzLmdldExvd2VyQW5kVXBwZXJCb3VuZHMoZSxcInRpY2tzZGlzdGFuY2VcIikscj1lLnVzckNvb3Jkc1sxXStpLngqdCxvPWUudXNyQ29vcmRzWzJdK2kueSp0LGg9ZS5kaXN0YW5jZShzLkNPT1JEU19CWV9TQ1JFRU4sbmV3IG4ocy5DT09SRFNfQllfVVNFUixbcixvXSx0aGlzLmJvYXJkKSksMD09PXQpcmV0dXJuIDA7Zm9yKDtoLyhjKzEpPHRoaXMubWluVGlja3NEaXN0YW5jZTspdCo9MT09PWw/Mjo1LGwqPS0xLHI9ZS51c3JDb29yZHNbMV0raS54KnQsbz1lLnVzckNvb3Jkc1syXStpLnkqdCxoPWUuZGlzdGFuY2Uocy5DT09SRFNfQllfU0NSRUVOLG5ldyBuKHMuQ09PUkRTX0JZX1VTRVIsW3Isb10sdGhpcy5ib2FyZCkpO3JldHVybiB0fSxwcm9jZXNzVGlja1Bvc2l0aW9uOmZ1bmN0aW9uKHQsZSxpLHIpe3ZhciBvLGgsbCxjLGQ9bnVsbDt0aGlzLmxpbmUuZWxlbWVudENsYXNzPT09cy5PQkpFQ1RfQ0xBU1NfTElORT8obz10LnVzckNvb3Jkc1sxXStlKnIueCxoPXQudXNyQ29vcmRzWzJdK2Uqci55KToobz10aGlzLmxpbmUuWCh0K2UpLGg9dGhpcy5saW5lLlkodCtlKSksbD1uZXcgbihzLkNPT1JEU19CWV9VU0VSLFtvLGhdLHRoaXMuYm9hcmQpLHRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19DVVJWRSYmKGQ9dCtlLHRoaXMuc2V0VGlja3NTaXplVmFyaWFibGVzKGQpKSxsLm1ham9yPU1hdGgucm91bmQoZS9pKSUoYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubWlub3J0aWNrcykrMSk9PTAsMz09PShjPXRoaXMuY3JlYXRlVGlja1BhdGgobCxsLm1ham9yKSkubGVuZ3RoJiYodGhpcy50aWNrcy5wdXNoKGMpLGwubWFqb3ImJmEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmRyYXdsYWJlbHMpP3RoaXMubGFiZWxzRGF0YS5wdXNoKHRoaXMuZ2VuZXJhdGVMYWJlbERhdGEodGhpcy5nZW5lcmF0ZUxhYmVsVGV4dChsLHQsZCksbCx0aGlzLnRpY2tzLmxlbmd0aCkpOnRoaXMubGFiZWxzRGF0YS5wdXNoKG51bGwpKX0sZ2VuZXJhdGVGaXhlZFRpY2tzOmZ1bmN0aW9uKHQsaSl7dmFyIHIsbyxoLGwsYyxkLHUscCxmPWUuZXBzLG09YS5pc0FycmF5KHRoaXMudmlzUHJvcC5sYWJlbHMpLGc9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuZHJhd2xhYmVscyk7Zm9yKHRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19MSU5FJiYocD10aGlzLmdldFhhbmRZZGVsdGFzKCkpLGg9MDtoPHRoaXMuZml4ZWRUaWNrcy5sZW5ndGg7aCsrKXRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19MSU5FPyh1PXRoaXMuZml4ZWRUaWNrc1toXSxjPXQudXNyQ29vcmRzWzFdK3UqcC54LGQ9dC51c3JDb29yZHNbMl0rdSpwLnkpOih1PXQrdGhpcy5maXhlZFRpY2tzW2hdLGM9dGhpcy5saW5lLlgodSksZD10aGlzLmxpbmUuWSh1KSkscj1uZXcgbihzLkNPT1JEU19CWV9VU0VSLFtjLGRdLHRoaXMuYm9hcmQpLHRoaXMubGluZS5lbGVtZW50Q2xhc3M9PT1zLk9CSkVDVF9DTEFTU19DVVJWRSYmdGhpcy5zZXRUaWNrc1NpemVWYXJpYWJsZXModSksMz09PShsPXRoaXMuY3JlYXRlVGlja1BhdGgociwhMCkpLmxlbmd0aCYmdT49aS5sb3dlci1mJiZ1PD1pLnVwcGVyK2YmJih0aGlzLnRpY2tzLnB1c2gobCksZyYmKG18fGEuZXhpc3RzKHRoaXMudmlzUHJvcC5sYWJlbHNbaF0pKT8obz1tP2EuZXZhbHVhdGUodGhpcy52aXNQcm9wLmxhYmVsc1toXSk6dSx0aGlzLmxhYmVsc0RhdGEucHVzaCh0aGlzLmdlbmVyYXRlTGFiZWxEYXRhKHRoaXMuZ2VuZXJhdGVMYWJlbFRleHQocix0LG8pLHIsaCkpKTp0aGlzLmxhYmVsc0RhdGEucHVzaChudWxsKSl9LGdldFhhbmRZZGVsdGFzOmZ1bmN0aW9uKCl7dmFyIHQsaSxyPXRoaXMubGluZS5wb2ludDEuRGlzdCh0aGlzLmxpbmUucG9pbnQyKTtyZXR1cm4gdGhpcy5saW5lLnR5cGU9PT1zLk9CSkVDVF9UWVBFX0FYSVM/KHQ9dGhpcy5saW5lLnBvaW50MS5jb29yZHMudXNyQ29vcmRzLGk9dGhpcy5saW5lLnBvaW50Mi5jb29yZHMudXNyQ29vcmRzLCh0WzFdPmlbMV18fE1hdGguYWJzKHRbMV0taVsxXSk8ZS5lcHMmJnRbMl0+aVsyXSkmJih0PXRoaXMubGluZS5wb2ludDIuY29vcmRzLnVzckNvb3JkcyxpPXRoaXMubGluZS5wb2ludDEuY29vcmRzLnVzckNvb3JkcykpOih0PXRoaXMubGluZS5wb2ludDEuY29vcmRzLnVzckNvb3JkcyxpPXRoaXMubGluZS5wb2ludDIuY29vcmRzLnVzckNvb3Jkcykse3g6KGlbMV0tdFsxXSkvcix5OihpWzJdLXRbMl0pL3J9fSxfaXNJbnNpZGVDYW52YXM6ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMuYm9hcmQuY2FudmFzV2lkdGgscz10aGlzLmJvYXJkLmNhbnZhc0hlaWdodDtyZXR1cm4gdm9pZCAwPT09aSYmKGk9MCksdFswXT49aSYmdFswXTw9ci1pJiZlWzBdPj1pJiZlWzBdPD1zLWl8fHRbMV0+PWkmJnRbMV08PXItaSYmZVsxXT49aSYmZVsxXTw9cy1pfSxjcmVhdGVUaWNrUGF0aDpmdW5jdGlvbih0LGUpe3ZhciByLHMsbyxuLGgsbCxjLGQsdSxwLGYsbSxnLGIsdj1bLTJlNiwtMmU2XSx5PVstMmU2LC0yZTZdO2lmKHI9dC5zY3JDb29yZHMsZT8obj10aGlzLmR4TWFqLGg9dGhpcy5keU1haix1PXRoaXMubWFqU3R5bGUpOihuPXRoaXMuZHhNaW4saD10aGlzLmR5TWluLHU9dGhpcy5taW5TdHlsZSkscz1bLWgqclsxXS1uKnJbMl0saCxuXSxlJiZcInBvbGFyXCI9PT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50eXBlKSl7aWYobT10aGlzLmJvYXJkLmdldEJvdW5kaW5nQm94KCksYj0oZz0yKk1hdGguUEkpLzE4MCxyPXQudXNyQ29vcmRzLChmPU1hdGguc3FydChyWzFdKnJbMV0rclsyXSpyWzJdKSk8TWF0aC5tYXgoTWF0aC5zcXJ0KG1bMF0qbVswXSttWzFdKm1bMV0pLE1hdGguc3FydChtWzJdKm1bMl0rbVszXSptWzNdKSkpe2Zvcih2PVtdLHk9W10scD0wO3A8PWc7cCs9Yil2LnB1c2godGhpcy5ib2FyZC5vcmlnaW4uc2NyQ29vcmRzWzFdK2YqTWF0aC5jb3MocCkqdGhpcy5ib2FyZC51bml0WCkseS5wdXNoKHRoaXMuYm9hcmQub3JpZ2luLnNjckNvb3Jkc1syXStmKk1hdGguc2luKHApKnRoaXMuYm9hcmQudW5pdFkpO3JldHVyblt2LHksZV19fWVsc2UgaWYoXCJpbmZpbml0ZVwiPT09dT8obz1pLm1lZXRMaW5lQm9hcmQocyx0aGlzLmJvYXJkKSx2WzBdPW9bMF0uc2NyQ29vcmRzWzFdLHZbMV09b1sxXS5zY3JDb29yZHNbMV0seVswXT1vWzBdLnNjckNvb3Jkc1syXSx5WzFdPW9bMV0uc2NyQ29vcmRzWzJdKTooZD1cIj5cIj09PWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmZhY2UpP01hdGguUEkvNDpcIjxcIj09PWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmZhY2UpPy1NYXRoLlBJLzQ6MCxsPU1hdGguY29zKGQpKm4tTWF0aC5zaW4oZCkqaCxjPU1hdGguc2luKGQpKm4rTWF0aC5jb3MoZCkqaCx2WzBdPXJbMV0rbCphLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50aWNrZW5kaW5nc1swXSkseVswXT1yWzJdLWMqYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudGlja2VuZGluZ3NbMF0pLHZbMV09clsxXSx5WzFdPXJbMl0sZD0tZCxsPU1hdGguY29zKGQpKm4tTWF0aC5zaW4oZCkqaCxjPU1hdGguc2luKGQpKm4rTWF0aC5jb3MoZCkqaCx2WzJdPXJbMV0tbCphLmV2YWx1YXRlKHRoaXMudmlzUHJvcC50aWNrZW5kaW5nc1sxXSkseVsyXT1yWzJdK2MqYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AudGlja2VuZGluZ3NbMV0pKSx0aGlzLl9pc0luc2lkZUNhbnZhcyh2LHkpKXJldHVyblt2LHksZV07cmV0dXJuW119LGZvcm1hdExhYmVsVGV4dDpmdW5jdGlvbih0KXt2YXIgZSxpLHI9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3Auc2NhbGVzeW1ib2wpO3JldHVybiBhLmlzTnVtYmVyKHQpPygoKGU9KE1hdGgucm91bmQoMWUxMyp0KS8xZTEzKS50b1N0cmluZygpKS5sZW5ndGg+YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubWF4bGFiZWxsZW5ndGgpfHwtMSE9PWUuaW5kZXhPZihcImVcIikpJiYoaT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5kaWdpdHMpLDMhPT1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb24pJiYzPT09aSYmKGk9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSksZT10LnRvRXhwb25lbnRpYWwoaSkudG9TdHJpbmcoKSksYS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AuYmVhdXRpZnVsc2NpZW50aWZpY3RpY2tsYWJlbHMpJiYoZT10aGlzLmJlYXV0aWZ5U2NpZW50aWZpY05vdGF0aW9uTGFiZWwoZSkpLGUuaW5kZXhPZihcIi5cIik+LTEmJi0xPT09ZS5pbmRleE9mKFwiZVwiKSYmKGU9KGU9ZS5yZXBsYWNlKC8wKyQvLFwiXCIpKS5yZXBsYWNlKC9cXC4kLyxcIlwiKSkpOmU9dC50b1N0cmluZygpLHIubGVuZ3RoPjAmJihcIjFcIj09PWU/ZT1yOlwiLTFcIj09PWU/ZT1cIi1cIityOlwiMFwiIT09ZSYmKGUrPXIpKSxhLmV2YWx1YXRlKHRoaXMudmlzUHJvcC51c2V1bmljb2RlbWludXMpJiYoZT1lLnJlcGxhY2UoLy0vZyxcIuKIklwiKSksZX0sYmVhdXRpZnlTY2llbnRpZmljTm90YXRpb25MYWJlbDpmdW5jdGlvbih0KXtyZXR1cm4tMT09PXQuaW5kZXhPZihcImVcIik/dDoocGFyc2VGbG9hdCh0LnN1YnN0cmluZygwLHQuaW5kZXhPZihcImVcIikpKSt0LnN1YnN0cmluZyh0LmluZGV4T2YoXCJlXCIpKSkucmVwbGFjZSgvZSguKikkL2csKGZ1bmN0aW9uKHQsZSl7dmFyIGk9XCLigKIxMFwiO3JldHVybiBpKz1lLnJlcGxhY2UoLy0vZyxcIuKBu1wiKS5yZXBsYWNlKC9cXCsvZyxcIlwiKS5yZXBsYWNlKC8wL2csXCLigbBcIikucmVwbGFjZSgvMS9nLFwiwrlcIikucmVwbGFjZSgvMi9nLFwiwrJcIikucmVwbGFjZSgvMy9nLFwiwrNcIikucmVwbGFjZSgvNC9nLFwi4oG0XCIpLnJlcGxhY2UoLzUvZyxcIuKBtVwiKS5yZXBsYWNlKC82L2csXCLigbZcIikucmVwbGFjZSgvNy9nLFwi4oG3XCIpLnJlcGxhY2UoLzgvZyxcIuKBuFwiKS5yZXBsYWNlKC85L2csXCLigblcIil9KSl9LGdlbmVyYXRlTGFiZWxUZXh0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgcztpZighYS5leGlzdHMocikpe2lmKHM9dGhpcy5nZXREaXN0YW5jZUZyb21aZXJvKGksdCksTWF0aC5hYnMocyk8ZS5lcHMpcmV0dXJuXCIwXCI7cj1zL2EuZXZhbHVhdGUodGhpcy52aXNQcm9wLnNjYWxlKX1yZXR1cm4gdGhpcy5mb3JtYXRMYWJlbFRleHQocil9LGdlbmVyYXRlTGFiZWxEYXRhOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sbjtyZXR1cm4gbj1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5sYWJlbC5mb250c2l6ZSkscj1bZS5zY3JDb29yZHNbMV0sZS5zY3JDb29yZHNbMV1dLHM9W2Uuc2NyQ29vcmRzWzJdLGUuc2NyQ29vcmRzWzJdXSxvPXZvaWQgMD09PW4/MTI6bixvKj0uNSx0aGlzLl9pc0luc2lkZUNhbnZhcyhyLHMsbyk/KHI9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubGFiZWwub2Zmc2V0WzBdKSxzPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmxhYmVsLm9mZnNldFsxXSkse3g6ZS51c3JDb29yZHNbMV0rci90aGlzLmJvYXJkLnVuaXRYLHk6ZS51c3JDb29yZHNbMl0rcy90aGlzLmJvYXJkLnVuaXRZLHQ6dCxpOml9KTpudWxsfSx1cGRhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZSYmMCE9PXRoaXMuYm9hcmQuY2FudmFzV2lkdGgmJjAhPT10aGlzLmJvYXJkLmNhbnZhc0hlaWdodCYmdGhpcy5jYWxjdWxhdGVUaWNrc0Nvb3JkaW5hdGVzKCksdGhpc30sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy52aXNQcm9wQ2FsYy52aXNpYmxlJiZ0aGlzLmJvYXJkLnJlbmRlcmVyLnVwZGF0ZVRpY2tzKHRoaXMpLHRoaXMudXBkYXRlUmVuZGVyZXJMYWJlbHMoKSx0aGlzLnNldERpc3BsYXlSZW5kTm9kZSgpLHRoaXMubmVlZHNVcGRhdGU9ITEsdGhpcyk6dGhpc30sdXBkYXRlUmVuZGVyZXJMYWJlbHM6ZnVuY3Rpb24oKXt2YXIgdCxlLGkscixzLG8sbixsO2ZvcihpPXRoaXMubGFiZWxzRGF0YS5sZW5ndGgscj10aGlzLmxhYmVscy5sZW5ndGgsdD0wLGU9MDt0PGk7dCsrKW51bGwhPT10aGlzLmxhYmVsc0RhdGFbdF0mJihuPXRoaXMubGFiZWxzRGF0YVt0XSxlPHI/KChvPXRoaXMubGFiZWxzW2VdKS5zZXRUZXh0KG4udCksby5zZXRDb29yZHMobi54LG4ueSksZSsrKToodGhpcy5sYWJlbENvdW50ZXIrPTEscz17aXNMYWJlbDohMCxsYXllcjp0aGlzLmJvYXJkLm9wdGlvbnMubGF5ZXIubGluZSxoaWdobGlnaHRTdHJva2VDb2xvcjp0aGlzLmJvYXJkLm9wdGlvbnMudGV4dC5zdHJva2VDb2xvcixoaWdobGlnaHRTdHJva2VXaWR0aDp0aGlzLmJvYXJkLm9wdGlvbnMudGV4dC5zdHJva2VXaWR0aCxoaWdobGlnaHRTdHJva2VPcGFjaXR5OnRoaXMuYm9hcmQub3B0aW9ucy50ZXh0LnN0cm9rZU9wYWNpdHkscHJpdjp0aGlzLnZpc1Byb3AucHJpdn0sKHM9YS5kZWVwQ29weShzLHRoaXMudmlzUHJvcC5sYWJlbCkpLmlkPXRoaXMuaWQrbi5pK1wiTGFiZWxcIit0aGlzLmxhYmVsQ291bnRlcixvPWguY3JlYXRlVGV4dCh0aGlzLmJvYXJkLFtuLngsbi55LG4udF0scyksdGhpcy5hZGRDaGlsZChvKSxvLnNldFBhcmVudHModGhpcyksby5pc0RyYWdnYWJsZT0hMSxvLmR1bXA9ITEsdGhpcy5sYWJlbHMucHVzaChvKSksXCJpbmhlcml0XCI9PT0obD1hLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5sYWJlbC52aXNpYmxlKSkmJihsPXRoaXMudmlzUHJvcENhbGMudmlzaWJsZSksby5wcmVwYXJlVXBkYXRlKCkudXBkYXRlVmlzaWJpbGl0eShsKS51cGRhdGVSZW5kZXJlcigpLG8uZGlzdGFuY2VYPWEuZXZhbHVhdGUodGhpcy52aXNQcm9wLmxhYmVsLm9mZnNldFswXSksby5kaXN0YW5jZVk9YS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubGFiZWwub2Zmc2V0WzFdKSk7Zm9yKGU9aT1lO2U8cjtlKyspdGhpcy5ib2FyZC5yZW5kZXJlci5kaXNwbGF5KHRoaXMubGFiZWxzW2VdLCExKSx0aGlzLmxhYmVsc1tlXS52aXNQcm9wLnZpc2libGU9dGhpcy5sYWJlbHNbZV0udmlzUHJvcENhbGMudmlzaWJsZT0hMTtyZXR1cm4gdGhpc30saGlkZUVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgZTtmb3IodC5kZXByZWNhdGVkKFwiRWxlbWVudC5oaWRlRWxlbWVudCgpXCIsXCJFbGVtZW50LnNldERpc3BsYXlSZW5kTm9kZSgpXCIpLHRoaXMudmlzUHJvcENhbGMudmlzaWJsZT0hMSx0aGlzLmJvYXJkLnJlbmRlcmVyLmRpc3BsYXkodGhpcywhMSksZT0wO2U8dGhpcy5sYWJlbHMubGVuZ3RoO2UrKylhLmV4aXN0cyh0aGlzLmxhYmVsc1tlXSkmJnRoaXMubGFiZWxzW2VdLmhpZGVFbGVtZW50KCk7cmV0dXJuIHRoaXN9LHNob3dFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGU7Zm9yKHQuZGVwcmVjYXRlZChcIkVsZW1lbnQuc2hvd0VsZW1lbnQoKVwiLFwiRWxlbWVudC5zZXREaXNwbGF5UmVuZE5vZGUoKVwiKSx0aGlzLnZpc1Byb3BDYWxjLnZpc2libGU9ITAsdGhpcy5ib2FyZC5yZW5kZXJlci5kaXNwbGF5KHRoaXMsITEpLGU9MDtlPHRoaXMubGFiZWxzLmxlbmd0aDtlKyspYS5leGlzdHModGhpcy5sYWJlbHNbZV0pJiZ0aGlzLmxhYmVsc1tlXS5zaG93RWxlbWVudCgpO3JldHVybiB0aGlzfX0pLHQuY3JlYXRlVGlja3M9ZnVuY3Rpb24oZSxpLHIpe3ZhciBvLG4saD1hLmNvcHlBdHRyaWJ1dGVzKHIsZS5vcHRpb25zLFwidGlja3NcIik7aWYobj1pLmxlbmd0aDwyP2gudGlja3NkaXN0YW5jZTppWzFdLGlbMF0uZWxlbWVudENsYXNzIT09cy5PQkpFQ1RfQ0xBU1NfTElORSYmaVswXS5lbGVtZW50Q2xhc3MhPT1zLk9CSkVDVF9DTEFTU19DVVJWRSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIFRpY2tzIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicuXCIpO3JldHVybiBvPW5ldyB0LlRpY2tzKGlbMF0sbixoKSxhLmlzRnVuY3Rpb24oaC5nZW5lcmF0ZWxhYmVsdmFsdWUpJiYoby5nZW5lcmF0ZUxhYmVsVGV4dD1oLmdlbmVyYXRlbGFiZWx2YWx1ZSksYS5pc0Z1bmN0aW9uKGguZ2VuZXJhdGVsYWJlbHRleHQpJiYoby5nZW5lcmF0ZUxhYmVsVGV4dD1oLmdlbmVyYXRlbGFiZWx0ZXh0KSxvLnNldFBhcmVudHMoaVswXSksby5pc0RyYWdnYWJsZT0hMCxvLmZ1bGxVcGRhdGUoaVswXS52aXNQcm9wQ2FsYy52aXNpYmxlKSxvfSx0LmNyZWF0ZUhhdGNobWFyaz1mdW5jdGlvbih0LGUsaSl7dmFyIHIsbyxuLGgsbCxjPVtdLGQ9YS5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcImhhdGNoXCIpO2lmKGVbMF0uZWxlbWVudENsYXNzIT09cy5PQkpFQ1RfQ0xBU1NfTElORSYmZVswXS5lbGVtZW50Q2xhc3MhPT1zLk9CSkVDVF9DTEFTU19DVVJWRXx8XCJudW1iZXJcIiE9dHlwZW9mIGVbMV0pdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBIYXRjaCBtYXJrIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgZVswXStcIicgYW5kICdcIit0eXBlb2YgZVsxXStcIiBhbmQgJydcIit0eXBlb2YgZVsyXStcIicuXCIpO2ZvcihuPS41Ki0oKChyPWVbMV0pLTEpKihoPWQudGlja3NkaXN0YW5jZSkpLG89MDtvPHI7bysrKWNbb109bitvKmg7cmV0dXJuKGw9dC5jcmVhdGUoXCJ0aWNrc1wiLFtlWzBdLGNdLGQpKS5lbFR5cGU9XCJoYXRjaFwiLGx9LHQucmVnaXN0ZXJFbGVtZW50KFwidGlja3NcIix0LmNyZWF0ZVRpY2tzKSx0LnJlZ2lzdGVyRWxlbWVudChcImhhc2hcIix0LmNyZWF0ZUhhdGNobWFyayksdC5yZWdpc3RlckVsZW1lbnQoXCJoYXRjaFwiLHQuY3JlYXRlSGF0Y2htYXJrKSx7VGlja3M6dC5UaWNrcyxjcmVhdGVUaWNrczp0LmNyZWF0ZVRpY2tzLGNyZWF0ZUhhc2htYXJrOnQuY3JlYXRlSGF0Y2htYXJrLGNyZWF0ZUhhdGNobWFyazp0LmNyZWF0ZUhhdGNobWFya319KSksZGVmaW5lKFwicGFyc2VyL2NhXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS90ZXh0XCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcIm1hdGgvc3RhdGlzdGljc1wiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMvZW52XCJdLChmdW5jdGlvbih0LGUsaSxyLHMsbyxuLGEpe1widXNlIHN0cmljdFwiO3JldHVybiB0LkNBPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLm5vZGU9dCx0aGlzLmNyZWF0ZU5vZGU9ZSx0aGlzLnBhcnNlcj1pfSx0LmV4dGVuZCh0LkNBLnByb3RvdHlwZSx7ZmluZE1hcE5vZGU6ZnVuY3Rpb24odCxlKXt2YXIgaSxyLHM7aWYoXCJvcF9hc3NpZ25cIj09PWUudmFsdWUmJmUuY2hpbGRyZW5bMF0udmFsdWU9PT10KXJldHVybiBlLmNoaWxkcmVuWzFdO2lmKGUuY2hpbGRyZW4pZm9yKHI9ZS5jaGlsZHJlbi5sZW5ndGgsaT0wO2k8cjsrK2kpaWYobnVsbCE9PShzPXRoaXMuZmluZE1hcE5vZGUodCxlLmNoaWxkcmVuW2ldKSkpcmV0dXJuIHM7cmV0dXJuIG51bGx9LHNldE1hdGg6ZnVuY3Rpb24odCl7dmFyIGUsaTtpZigoXCJub2RlX29wXCIhPXQudHlwZXx8XCJvcF9hZGRcIiE9dC52YWx1ZSYmXCJvcF9zdWJcIiE9dC52YWx1ZSYmXCJvcF9tdWxcIiE9dC52YWx1ZSYmXCJvcF9kaXZcIiE9dC52YWx1ZSYmXCJvcF9uZWdcIiE9dC52YWx1ZSYmXCJvcF9leGVjZnVuXCIhPXQudmFsdWUmJlwib3BfZXhwXCIhPXQudmFsdWUpJiZcIm5vZGVfdmFyXCIhPXQudHlwZSYmXCJub2RlX2NvbnN0XCIhPXQudHlwZXx8KHQuaXNNYXRoPSEwKSx0LmNoaWxkcmVuKWZvcihpPXQuY2hpbGRyZW4ubGVuZ3RoLGU9MDtlPGk7KytlKXRoaXMuc2V0TWF0aCh0LmNoaWxkcmVuW2VdKX0sZGVyaXZlRWxlbWVudGFyeTpmdW5jdGlvbih0LGUpe3ZhciBpLHI9dC5jaGlsZHJlblswXS52YWx1ZSxzPXQuY2hpbGRyZW5bMV07c3dpdGNoKHIpe2Nhc2VcImFic1wiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsc1swXSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcInNxcnRcIiksW3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkoc1swXSksbi5kZWVwQ29weShzWzBdKSldKSk7YnJlYWs7Y2FzZVwic3FydFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwyKSx0aGlzLmNyZWF0ZU5vZGUodC50eXBlLHQudmFsdWUsbi5kZWVwQ29weSh0LmNoaWxkcmVuWzBdKSxuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMV0pKSkpO2JyZWFrO2Nhc2VcInNpblwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJjb3NcIiksbi5kZWVwQ29weShzKSk7YnJlYWs7Y2FzZVwiY29zXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9uZWdcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcInNpblwiKSxuLmRlZXBDb3B5KHMpKSk7YnJlYWs7Y2FzZVwidGFuXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhwXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJjb3NcIiksbi5kZWVwQ29weShzKSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDIpKSk7YnJlYWs7Y2FzZVwiY290XCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9uZWdcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhwXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJzaW5cIiksbi5kZWVwQ29weShzKSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDIpKSkpO2JyZWFrO2Nhc2VcImV4cFwiOmk9dGhpcy5jcmVhdGVOb2RlKHQudHlwZSx0LnZhbHVlLG4uZGVlcENvcHkodC5jaGlsZHJlblswXSksbi5kZWVwQ29weSh0LmNoaWxkcmVuWzFdKSk7YnJlYWs7Y2FzZVwicG93XCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsbi5kZWVwQ29weSh0LmNoaWxkcmVuWzBdKSxuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMV0pKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9hZGRcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIix0aGlzLmRlcml2YXRpdmUodC5jaGlsZHJlblsxXVswXSxlKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIixuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMV1bMV0pLG4uZGVlcENvcHkodC5jaGlsZHJlblsxXVswXSkpKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIix0aGlzLmRlcml2YXRpdmUodC5jaGlsZHJlblsxXVsxXSxlKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcImxvZ1wiKSxbbi5kZWVwQ29weSh0LmNoaWxkcmVuWzFdWzBdKV0pKSkpO2JyZWFrO2Nhc2VcImxvZ1wiOmNhc2VcImxuXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksbi5kZWVwQ29weShzWzBdKSk7YnJlYWs7Y2FzZVwibG9nMlwiOmNhc2VcImxiXCI6Y2FzZVwibGRcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSxuLmRlZXBDb3B5KHNbMF0pKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMS40NDI2OTUwNDA4ODg5NjM0KSk7YnJlYWs7Y2FzZVwibG9nMTBcIjpjYXNlXCJsZ1wiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLG4uZGVlcENvcHkoc1swXSkpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwuNDM0Mjk0NDgxOTAzMjUxNzYpKTticmVhaztjYXNlXCJhc2luXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJzcXJ0XCIpLFt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9zdWJcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsbi5kZWVwQ29weShzWzBdKSxuLmRlZXBDb3B5KHNbMF0pKSldKSk7YnJlYWs7Y2FzZVwiYWNvc1wiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbmVnXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2V4ZWNmdW5cIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX3ZhclwiLFwic3FydFwiKSxbdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3Bfc3ViXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkoc1swXSksbi5kZWVwQ29weShzWzBdKSkpXSkpKTticmVhaztjYXNlXCJhdGFuXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkoc1swXSksbi5kZWVwQ29weShzWzBdKSkpKTticmVhaztjYXNlXCJhY290XCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9uZWdcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkoc1swXSksbi5kZWVwQ29weShzWzBdKSkpKSk7YnJlYWs7Y2FzZVwic2luaFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJjb3NoXCIpLFtuLmRlZXBDb3B5KHNbMF0pXSk7YnJlYWs7Y2FzZVwiY29zaFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJzaW5oXCIpLFtuLmRlZXBDb3B5KHNbMF0pXSk7YnJlYWs7Y2FzZVwidGFuaFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3Bfc3ViXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2V4cFwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2V4ZWNmdW5cIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX3ZhclwiLFwidGFuaFwiKSxbbi5kZWVwQ29weShzWzBdKV0pLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwyKSkpO2JyZWFrO2Nhc2VcImFzaW5oXCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJzcXJ0XCIpLFt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9hZGRcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIixuLmRlZXBDb3B5KHNbMF0pLG4uZGVlcENvcHkoc1swXSkpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSldKSk7YnJlYWs7Y2FzZVwiYWNvc2hcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9leGVjZnVuXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV92YXJcIixcInNxcnRcIiksW3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX3N1YlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkoc1swXSksbi5kZWVwQ29weShzWzBdKSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpKV0pKTticmVhaztjYXNlXCJhdGFuaFwiOmk9dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX3N1YlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIixuLmRlZXBDb3B5KHNbMF0pLG4uZGVlcENvcHkoc1swXSkpKSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBpPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwwKSxjb25zb2xlLmxvZygnRGVyaXZhdGl2ZSBvZiBcIicrcisnXCIgbm90IHlldCBpbXBsZW1lbnRlZCcpLG5ldyBFcnJvcihcIkVycm9yKFwiK3RoaXMubGluZStcIik6IFwiKX1yZXR1cm4gaX0sZGVyaXZhdGl2ZTpmdW5jdGlvbih0LGUpe3ZhciBpO3N3aXRjaCh0LnR5cGUpe2Nhc2VcIm5vZGVfb3BcIjpzd2l0Y2godC52YWx1ZSl7Y2FzZVwib3BfZXhlY2Z1blwiOmk9XCJwb3dcIj09dC5jaGlsZHJlblswXS52YWx1ZT90aGlzLmRlcml2ZUVsZW1lbnRhcnkodCxlKTowPT09dC5jaGlsZHJlblsxXS5sZW5ndGg/dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDApOnRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHRoaXMuZGVyaXZlRWxlbWVudGFyeSh0LGUpLHRoaXMuZGVyaXZhdGl2ZSh0LmNoaWxkcmVuWzFdWzBdLGUpKTticmVhaztjYXNlXCJvcF9kaXZcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX3N1YlwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHRoaXMuZGVyaXZhdGl2ZSh0LmNoaWxkcmVuWzBdLGUpLG4uZGVlcENvcHkodC5jaGlsZHJlblsxXSkpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkodC5jaGlsZHJlblswXSksdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMV0sZSkpKSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIixuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMV0pLG4uZGVlcENvcHkodC5jaGlsZHJlblsxXSkpKTticmVhaztjYXNlXCJvcF9tdWxcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2FkZFwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkodC5jaGlsZHJlblswXSksdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMV0sZSkpLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHRoaXMuZGVyaXZhdGl2ZSh0LmNoaWxkcmVuWzBdLGUpLG4uZGVlcENvcHkodC5jaGlsZHJlblsxXSkpKTticmVhaztjYXNlXCJvcF9uZWdcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX25lZ1wiLHRoaXMuZGVyaXZhdGl2ZSh0LmNoaWxkcmVuWzBdLGUpKTticmVhaztjYXNlXCJvcF9hZGRcIjpjYXNlXCJvcF9zdWJcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIix0LnZhbHVlLHRoaXMuZGVyaXZhdGl2ZSh0LmNoaWxkcmVuWzBdLGUpLHRoaXMuZGVyaXZhdGl2ZSh0LmNoaWxkcmVuWzFdLGUpKTticmVhaztjYXNlXCJvcF9leHBcIjppPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLG4uZGVlcENvcHkodCksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMF0sZSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsbi5kZWVwQ29weSh0LmNoaWxkcmVuWzFdKSxuLmRlZXBDb3B5KHQuY2hpbGRyZW5bMF0pKSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsdGhpcy5kZXJpdmF0aXZlKHQuY2hpbGRyZW5bMV0sZSksdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZXhlY2Z1blwiLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfdmFyXCIsXCJsb2dcIiksW24uZGVlcENvcHkodC5jaGlsZHJlblswXSldKSkpKX1icmVhaztjYXNlXCJub2RlX3ZhclwiOmk9dC52YWx1ZT09PWU/dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpOnRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwwKTticmVhaztjYXNlXCJub2RlX2NvbnN0XCI6aT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMCl9cmV0dXJuIGl9LGV4cGFuZERlcml2YXRpdmVzOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcixzLG8sYSxoLGwsYyxkLHUscCxmO2lmKDAsIXQpcmV0dXJuIDA7Zm9yKHRoaXMubGluZT10LmxpbmUsdGhpcy5jb2w9dC5jb2wscj10LmNoaWxkcmVuLmxlbmd0aCxzPTA7czxyOysrcylpZih0LmNoaWxkcmVuW3NdJiZ0LmNoaWxkcmVuW3NdLnR5cGUpdC5jaGlsZHJlbltzXT10aGlzLmV4cGFuZERlcml2YXRpdmVzKHQuY2hpbGRyZW5bc10sdCxpKTtlbHNlIGlmKG4uaXNBcnJheSh0LmNoaWxkcmVuW3NdKSlmb3Iobz0wO288dC5jaGlsZHJlbltzXS5sZW5ndGg7KytvKXQuY2hpbGRyZW5bc11bb10mJnQuY2hpbGRyZW5bc11bb10udHlwZSYmKHQuY2hpbGRyZW5bc11bb109dGhpcy5leHBhbmREZXJpdmF0aXZlcyh0LmNoaWxkcmVuW3NdW29dLHQsaSkpO2lmKFwibm9kZV9vcFwiPT09dC50eXBlKWlmKFwib3BfZXhlY2Z1blwiPT09dC52YWx1ZSlpZih0LmNoaWxkcmVuWzBdJiZcIkRcIj09PXQuY2hpbGRyZW5bMF0udmFsdWUpe2lmKFwibm9kZV92YXJcIj09dC5jaGlsZHJlblsxXVswXS50eXBlPyhkPXQuY2hpbGRyZW5bMV1bMF0udmFsdWUscD0oYT10aGlzLmZpbmRNYXBOb2RlKGQsaSkpLmNoaWxkcmVuWzBdLHU9dC5jaGlsZHJlblsxXS5sZW5ndGg+PTI/dC5jaGlsZHJlblsxXVsxXS52YWx1ZTphLmNoaWxkcmVuWzBdWzBdLGg9YS5jaGlsZHJlblsxXSk6KGg9dC5jaGlsZHJlblsxXVswXSxwPVtcInhcIl0sdT10LmNoaWxkcmVuWzFdLmxlbmd0aD49Mj90LmNoaWxkcmVuWzFdWzFdLnZhbHVlOlwieFwiKSxjPWgsKGY9dC5jaGlsZHJlblsxXS5sZW5ndGg+PTM/dC5jaGlsZHJlblsxXVsyXS52YWx1ZToxKT49MSlmb3IoO2Y+PTE7KWM9dGhpcy5kZXJpdmF0aXZlKGMsdSksYz10aGlzLnJlbW92ZVRyaXZpYWxOb2RlcyhjKSxmLS07bD1cIm5vZGVfb3BcIj09ZS50eXBlJiZcIm9wX2Fzc2lnblwiPT1lLnZhbHVlP3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX21hcFwiLHAsYyk6Yyx0aGlzLnNldE1hdGgobCksdC50eXBlPWwudHlwZSx0LnZhbHVlPWwudmFsdWUsdC5jaGlsZHJlblswXT1sLmNoaWxkcmVuWzBdLHQuY2hpbGRyZW5bMV09bC5jaGlsZHJlblsxXX1yZXR1cm4gdH0scmVtb3ZlVHJpdmlhbE5vZGVzOmZ1bmN0aW9uKHQpe3ZhciBlLGkscixzLG87aWYobi5pc0FycmF5KHQpKWZvcihpPXQubGVuZ3RoLGU9MDtlPGk7KytlKXRbZV09dGhpcy5yZW1vdmVUcml2aWFsTm9kZXModFtlXSk7aWYoXCJub2RlX29wXCIhPXQudHlwZXx8IXQuY2hpbGRyZW4pcmV0dXJuIHQ7Zm9yKGk9dC5jaGlsZHJlbi5sZW5ndGgsZT0wO2U8aTsrK2Upe3RoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSExO2Rve3QuY2hpbGRyZW5bZV09dGhpcy5yZW1vdmVUcml2aWFsTm9kZXModC5jaGlsZHJlbltlXSl9d2hpbGUodGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQpfXN3aXRjaCh0LnZhbHVlKXtjYXNlXCJvcF9tYXBcIjppZihyPXQuY2hpbGRyZW5bMF0sXCJub2RlX3ZhclwiPT0ocz10LmNoaWxkcmVuWzFdKS50eXBlKWZvcihlPTA7ZTxyLmxlbmd0aDsrK2UpaWYocltlXT09cy52YWx1ZSl7cy5pc01hdGg9ITA7YnJlYWt9YnJlYWs7Y2FzZVwib3BfYWRkXCI6aWYocj10LmNoaWxkcmVuWzBdLHM9dC5jaGlsZHJlblsxXSxcIm5vZGVfY29uc3RcIj09ci50eXBlJiYwPT09ci52YWx1ZSlyZXR1cm4gcztpZihcIm5vZGVfY29uc3RcIj09cy50eXBlJiYwPT09cy52YWx1ZSlyZXR1cm4gcjtpZihcIm5vZGVfY29uc3RcIj09ci50eXBlJiZcIm5vZGVfY29uc3RcIj09cy50eXBlKXJldHVybiByLnZhbHVlKz1zLnZhbHVlLHI7YnJlYWs7Y2FzZVwib3BfbXVsXCI6aWYocj10LmNoaWxkcmVuWzBdLHM9dC5jaGlsZHJlblsxXSxcIm5vZGVfY29uc3RcIj09ci50eXBlJiYxPT1yLnZhbHVlKXJldHVybiBzO2lmKFwibm9kZV9jb25zdFwiPT1zLnR5cGUmJjE9PXMudmFsdWUpcmV0dXJuIHI7aWYoXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmMD09PXIudmFsdWUpcmV0dXJuIHI7aWYoXCJub2RlX2NvbnN0XCI9PXMudHlwZSYmMD09PXMudmFsdWUpcmV0dXJuIHM7aWYoXCJub2RlX2NvbnN0XCI9PXMudHlwZSYmMD09PXMudmFsdWUpcmV0dXJuIHM7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9uZWdcIj09ci52YWx1ZSYmXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9uZWdcIj09cy52YWx1ZSlyZXR1cm4gdC5jaGlsZHJlbj1bci5jaGlsZHJlblswXSxzLmNoaWxkcmVuWzBdXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwib3BfbmVnXCI9PXIudmFsdWUmJlwib3BfbmVnXCIhPXMudmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfb3BcIix0LnZhbHVlPVwib3BfbmVnXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsci5jaGlsZHJlblswXSxzKV0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm9wX25lZ1wiIT1yLnZhbHVlJiZcIm9wX25lZ1wiPT1zLnZhbHVlKXJldHVybiB0LnR5cGU9XCJub2RlX29wXCIsdC52YWx1ZT1cIm9wX25lZ1wiLHQuY2hpbGRyZW49W3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX211bFwiLHIscy5jaGlsZHJlblswXSldLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJvcF9kaXZcIj09ci52YWx1ZSYmXCJub2RlX2NvbnN0XCI9PXIuY2hpbGRyZW5bMF0udHlwZSYmMT09ci5jaGlsZHJlblswXS52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9vcFwiLHQudmFsdWU9XCJvcF9kaXZcIix0LmNoaWxkcmVuPVtzLHIuY2hpbGRyZW5bMV1dLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJvcF9kaXZcIj09cy52YWx1ZSYmXCJub2RlX2NvbnN0XCI9PXMuY2hpbGRyZW5bMF0udHlwZSYmMT09cy5jaGlsZHJlblswXS52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9vcFwiLHQudmFsdWU9XCJvcF9kaXZcIix0LmNoaWxkcmVuPVtyLHMuY2hpbGRyZW5bMV1dLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX2NvbnN0XCIhPXIudHlwZSYmXCJub2RlX2NvbnN0XCI9PXMudHlwZSlyZXR1cm4gdC5jaGlsZHJlbj1bcyxyXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9jb25zdFwiIT1yLnR5cGUmJlwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfbmVnXCI9PXMudmFsdWUmJlwibm9kZV9jb25zdFwiPT1zLmNoaWxkcmVuWzBdLnR5cGUpcmV0dXJuIHQuY2hpbGRyZW49W3Mscl0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX2V4ZWNmdW5cIiE9ci52YWx1ZSYmKFwibm9kZV92YXJcIj09cy50eXBlfHxcIm5vZGVfb3BcIj09cy50eXBlJiZcIm9wX2V4ZWNmdW5cIj09cy52YWx1ZSkpcmV0dXJuIHQuY2hpbGRyZW49W3Mscl0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm5vZGVfb3BcIiE9ci50eXBlJiZcIm5vZGVfb3BcIj09cy50eXBlJiZcIm9wX25lZ1wiPT1zLnZhbHVlJiZcIm5vZGVfdmFyXCI9PXMuY2hpbGRyZW5bMF0udHlwZSlyZXR1cm4gdC5jaGlsZHJlbj1bcyxyXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9jb25zdFwiIT1yLnR5cGUmJlwibm9kZV9vcFwiPT1zLnR5cGUmJihcIm9wX211bFwiPT1zLnZhbHVlfHxcIm9wX2RpdlwiPT1zLnZhbHVlKSYmXCJub2RlX2NvbnN0XCI9PXMuY2hpbGRyZW5bMF0udHlwZSlyZXR1cm4gbz1zLmNoaWxkcmVuWzBdLHMuY2hpbGRyZW5bMF09cix0LmNoaWxkcmVuPVtvLHNdLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX2NvbnN0XCIhPXMudHlwZSYmXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9tdWxcIj09ci52YWx1ZSYmXCJub2RlX2NvbnN0XCI9PXIuY2hpbGRyZW5bMF0udHlwZSlyZXR1cm4gdC5jaGlsZHJlbj1bci5jaGlsZHJlblswXSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9tdWxcIixyLmNoaWxkcmVuWzFdLHMpXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJlwibm9kZV9jb25zdFwiPT1zLnR5cGUpcmV0dXJuIHIudmFsdWUqPXMudmFsdWUscjtpZihcIm5vZGVfY29uc3RcIj09ci50eXBlJiZcIm5vZGVfb3BcIj09cy50eXBlJiYoXCJvcF9tdWxcIj09cy52YWx1ZXx8XCJvcF9kaXZcIj09cy52YWx1ZSkmJlwibm9kZV9jb25zdFwiPT1zLmNoaWxkcmVuWzBdLnR5cGUpcmV0dXJuIHMuY2hpbGRyZW5bMF0udmFsdWUqPXIudmFsdWUscztpZihyLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyKSxzLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShzKSxyLmhhc2g9PT1zLmhhc2gpcmV0dXJuIHQudmFsdWU9XCJvcF9leHBcIix0LmNoaWxkcmVuWzFdPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwyKSx0O2lmKFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJlwibm9kZV9vcFwiPT1zLnR5cGUmJihcIm9wX211bFwiPT1zLnZhbHVlfHxcIm9wX2RpdlwiPT1zLnZhbHVlKSYmXCJub2RlX2NvbnN0XCI9PXMuY2hpbGRyZW5bMF0udHlwZSlyZXR1cm4gcy5jaGlsZHJlblswXS52YWx1ZSo9ci52YWx1ZSxzO2lmKFwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfZXhwXCI9PXMudmFsdWUmJihyLmhhc2h8fChyLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyKSkscy5jaGlsZHJlblswXS5oYXNofHwocy5jaGlsZHJlblswXS5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUocy5jaGlsZHJlblswXSkpLHIuaGFzaD09PXMuY2hpbGRyZW5bMF0uaGFzaCkpcmV0dXJuIHMuY2hpbGRyZW5bMV09dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIscy5jaGlsZHJlblsxXSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSkpLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHM7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9leHBcIj09ci52YWx1ZSYmXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9leHBcIj09cy52YWx1ZSYmKHIuY2hpbGRyZW5bMF0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIuY2hpbGRyZW5bMF0pLHMuY2hpbGRyZW5bMF0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHMuY2hpbGRyZW5bMF0pLHIuY2hpbGRyZW5bMF0uaGFzaD09PXMuY2hpbGRyZW5bMF0uaGFzaCkpcmV0dXJuIHIuY2hpbGRyZW5bMV09dGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIsci5jaGlsZHJlblsxXSxzLmNoaWxkcmVuWzFdKSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCxyO2JyZWFrO2Nhc2VcIm9wX3N1YlwiOmlmKHI9dC5jaGlsZHJlblswXSxzPXQuY2hpbGRyZW5bMV0sXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmMD09PXIudmFsdWUpcmV0dXJuIHQudmFsdWU9XCJvcF9uZWdcIix0LmNoaWxkcmVuWzBdPXMsdDtpZihcIm5vZGVfY29uc3RcIj09cy50eXBlJiYwPT09cy52YWx1ZSlyZXR1cm4gcjtpZihcIm5vZGVfY29uc3RcIj09ci50eXBlJiZcIm5vZGVfY29uc3RcIj09cy50eXBlJiZyLnZhbHVlPT1zLnZhbHVlKXJldHVybiB0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMCk7aWYoXCJub2RlX3ZhclwiPT1yLnR5cGUmJlwibm9kZV92YXJcIj09cy50eXBlJiZyLnZhbHVlPT1zLnZhbHVlKXJldHVybiB0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMCk7aWYoXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmXCJub2RlX2NvbnN0XCI9PXMudHlwZSlyZXR1cm4gci52YWx1ZS09cy52YWx1ZSxyO2lmKFwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfbXVsXCI9PXIudmFsdWUmJlwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfbXVsXCI9PXMudmFsdWUmJihyLmNoaWxkcmVuWzFdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyLmNoaWxkcmVuWzFdKSxzLmNoaWxkcmVuWzFdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShzLmNoaWxkcmVuWzFdKSxyLmNoaWxkcmVuWzFdLmhhc2g9PT1zLmNoaWxkcmVuWzFdLmhhc2gpKXJldHVybiB0LnZhbHVlPVwib3BfbXVsXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3Bfc3ViXCIsci5jaGlsZHJlblswXSxzLmNoaWxkcmVuWzBdKSxyLmNoaWxkcmVuWzFdXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfbXVsXCI9PXIudmFsdWUmJihyLmNoaWxkcmVuWzFdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyLmNoaWxkcmVuWzFdKSxzLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShzKSxyLmNoaWxkcmVuWzFdLmhhc2g9PT1zLmhhc2gpKXJldHVybiB0LnZhbHVlPVwib3BfbXVsXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3Bfc3ViXCIsci5jaGlsZHJlblswXSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSkpLHNdLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9tdWxcIj09cy52YWx1ZSYmKHMuY2hpbGRyZW5bMV0uaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHMuY2hpbGRyZW5bMV0pLHIuaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHIpLHMuY2hpbGRyZW5bMV0uaGFzaD09PXIuaGFzaCkpcmV0dXJuIHQudmFsdWU9XCJvcF9tdWxcIix0LmNoaWxkcmVuPVt0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9zdWJcIix0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSkscy5jaGlsZHJlblswXSkscl0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDticmVhaztjYXNlXCJvcF9uZWdcIjppZihcIm5vZGVfY29uc3RcIj09KHI9dC5jaGlsZHJlblswXSkudHlwZSYmMD09PXIudmFsdWUpcmV0dXJuIHI7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9uZWdcIj09ci52YWx1ZSlyZXR1cm4gci5jaGlsZHJlblswXTticmVhaztjYXNlXCJvcF9kaXZcIjppZihyPXQuY2hpbGRyZW5bMF0scz10LmNoaWxkcmVuWzFdLFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJlwibm9kZV9jb25zdFwiPT1zLnR5cGUmJnIudmFsdWU9PXMudmFsdWUmJjAhPT1yLnZhbHVlKXJldHVybiByLnZhbHVlPTEscjtpZihcIm5vZGVfY29uc3RcIj09ci50eXBlJiYwPT09ci52YWx1ZSYmXCJub2RlX2NvbnN0XCI9PXMudHlwZSYmMCE9PXMudmFsdWUpcmV0dXJuIHIudmFsdWU9MCxyO2lmKFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJjA9PT1yLnZhbHVlJiYoXCJub2RlX29wXCI9PXMudHlwZXx8XCJub2RlX3ZhclwiPT1zLnR5cGUpKXJldHVybiB0LnR5cGU9XCJub2RlX2NvbnN0XCIsdC52YWx1ZT0wLHQ7aWYoXCJub2RlX3ZhclwiPT1yLnR5cGUmJlwibm9kZV92YXJcIj09cy50eXBlJiZyLnZhbHVlPT1zLnZhbHVlKXJldHVybiB0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX2NvbnN0XCIsMSk7aWYoXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmMCE9PXIudmFsdWUmJlwibm9kZV9jb25zdFwiPT1zLnR5cGUmJjA9PT1zLnZhbHVlKXJldHVybiByLnZhbHVlPjA/ci52YWx1ZT0xLzA6ci52YWx1ZT0tMS8wLHI7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9uZWdcIj09ci52YWx1ZSYmXCJub2RlX29wXCI9PXMudHlwZSYmXCJvcF9uZWdcIj09cy52YWx1ZSlyZXR1cm4gdC5jaGlsZHJlbj1bci5jaGlsZHJlblswXSxzLmNoaWxkcmVuWzBdXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwib3BfbmVnXCI9PXIudmFsdWUmJlwib3BfbmVnXCIhPXMudmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfb3BcIix0LnZhbHVlPVwib3BfbmVnXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfZGl2XCIsci5jaGlsZHJlblswXSxzKV0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm9wX25lZ1wiIT1yLnZhbHVlJiZcIm9wX25lZ1wiPT1zLnZhbHVlKXJldHVybiB0LnR5cGU9XCJub2RlX29wXCIsdC52YWx1ZT1cIm9wX25lZ1wiLHQuY2hpbGRyZW49W3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2RpdlwiLHIscy5jaGlsZHJlblswXSldLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7aWYoXCJub2RlX29wXCI9PXIudHlwZSYmXCJvcF9leHBcIj09ci52YWx1ZSYmKHMuaGFzaHx8KHMuaGFzaD10aGlzLnBhcnNlci5jb21waWxlKHMpKSxyLmNoaWxkcmVuWzBdLmhhc2h8fChyLmNoaWxkcmVuWzBdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyLmNoaWxkcmVuWzBdKSkscy5oYXNoPT09ci5jaGlsZHJlblswXS5oYXNoKSlyZXR1cm4gci5jaGlsZHJlblsxXT10aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9zdWJcIixyLmNoaWxkcmVuWzFdLHRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwxKSksdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAscjtpZihcIm5vZGVfY29uc3RcIiE9cy50eXBlJiZcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX211bFwiPT1yLnZhbHVlJiZcIm5vZGVfY29uc3RcIj09ci5jaGlsZHJlblswXS50eXBlKXJldHVybiB0LnZhbHVlPVwib3BfbXVsXCIsdC5jaGlsZHJlbj1bci5jaGlsZHJlblswXSx0aGlzLmNyZWF0ZU5vZGUoXCJub2RlX29wXCIsXCJvcF9kaXZcIixyLmNoaWxkcmVuWzFdLHMpXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfZXhwXCI9PXIudmFsdWUmJlwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfZXhwXCI9PXMudmFsdWUmJihyLmNoaWxkcmVuWzBdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyLmNoaWxkcmVuWzBdKSxzLmNoaWxkcmVuWzBdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShzLmNoaWxkcmVuWzBdKSxyLmNoaWxkcmVuWzBdLmhhc2g9PT1zLmNoaWxkcmVuWzBdLmhhc2gpKXJldHVybiByLmNoaWxkcmVuWzFdPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX3N1YlwiLHIuY2hpbGRyZW5bMV0scy5jaGlsZHJlblsxXSksdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAscjticmVhaztjYXNlXCJvcF9leHBcIjppZihyPXQuY2hpbGRyZW5bMF0sXCJub2RlX2NvbnN0XCI9PShzPXQuY2hpbGRyZW5bMV0pLnR5cGUmJjA9PT1zLnZhbHVlKXJldHVybiBzLnZhbHVlPTEscztpZihcIm5vZGVfY29uc3RcIj09cy50eXBlJiYxPT1zLnZhbHVlKXJldHVybiByO2lmKFwibm9kZV9jb25zdFwiPT1yLnR5cGUmJjE9PXIudmFsdWUpcmV0dXJuIHI7aWYoXCJub2RlX2NvbnN0XCI9PXIudHlwZSYmMD09PXIudmFsdWUmJlwibm9kZV9jb25zdFwiPT1zLnR5cGUmJjAhPT1zLnZhbHVlKXJldHVybiByO2lmKFwibm9kZV9vcFwiPT1yLnR5cGUmJlwib3BfZXhwXCI9PXIudmFsdWUpcmV0dXJuIHQuY2hpbGRyZW49W3IuY2hpbGRyZW5bMF0sdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfbXVsXCIsci5jaGlsZHJlblsxXSxzKV0sdH1zd2l0Y2godC52YWx1ZSl7Y2FzZVwib3BfYWRkXCI6aWYocj10LmNoaWxkcmVuWzBdLHM9dC5jaGlsZHJlblsxXSxcIm5vZGVfY29uc3RcIj09ci50eXBlJiZcIm5vZGVfY29uc3RcIj09cy50eXBlJiZyLnZhbHVlPT1zLnZhbHVlKXJldHVybiByLnZhbHVlKz1zLnZhbHVlLHI7aWYoXCJub2RlX3ZhclwiPT1yLnR5cGUmJlwibm9kZV92YXJcIj09cy50eXBlJiZyLnZhbHVlPT1zLnZhbHVlKXJldHVybiB0LmNoaWxkcmVuWzBdPXRoaXMuY3JlYXRlTm9kZShcIm5vZGVfY29uc3RcIiwyKSx0LnZhbHVlPVwib3BfbXVsXCIsdDtpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX25lZ1wiPT1yLnZhbHVlKXJldHVybiB0LnZhbHVlPVwib3Bfc3ViXCIsdC5jaGlsZHJlblswXT1zLHQuY2hpbGRyZW5bMV09ci5jaGlsZHJlblswXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfbmVnXCI9PXMudmFsdWUpcmV0dXJuIHQudmFsdWU9XCJvcF9zdWJcIix0LmNoaWxkcmVuWzFdPXMuY2hpbGRyZW5bMF0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX211bFwiPT1yLnZhbHVlJiZcIm5vZGVfb3BcIj09cy50eXBlJiZcIm9wX211bFwiPT1zLnZhbHVlJiYoci5jaGlsZHJlblsxXS5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUoci5jaGlsZHJlblsxXSkscy5jaGlsZHJlblsxXS5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUocy5jaGlsZHJlblsxXSksci5jaGlsZHJlblsxXS5oYXNoPT09cy5jaGlsZHJlblsxXS5oYXNoKSlyZXR1cm4gdC52YWx1ZT1cIm9wX211bFwiLHQuY2hpbGRyZW49W3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2FkZFwiLHIuY2hpbGRyZW5bMF0scy5jaGlsZHJlblswXSksci5jaGlsZHJlblsxXV0sdGhpcy5tYXlOb3RCZVNpbXBsaWZpZWQ9ITAsdDtpZihcIm5vZGVfb3BcIj09ci50eXBlJiZcIm9wX211bFwiPT1yLnZhbHVlJiYoci5jaGlsZHJlblsxXS5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUoci5jaGlsZHJlblsxXSkscy5oYXNoPXRoaXMucGFyc2VyLmNvbXBpbGUocyksci5jaGlsZHJlblsxXS5oYXNoPT09cy5oYXNoKSlyZXR1cm4gdC52YWx1ZT1cIm9wX211bFwiLHQuY2hpbGRyZW49W3RoaXMuY3JlYXRlTm9kZShcIm5vZGVfb3BcIixcIm9wX2FkZFwiLHIuY2hpbGRyZW5bMF0sdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpKSxzXSx0aGlzLm1heU5vdEJlU2ltcGxpZmllZD0hMCx0O2lmKFwibm9kZV9vcFwiPT1zLnR5cGUmJlwib3BfbXVsXCI9PXMudmFsdWUmJihzLmNoaWxkcmVuWzFdLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShzLmNoaWxkcmVuWzFdKSxyLmhhc2g9dGhpcy5wYXJzZXIuY29tcGlsZShyKSxzLmNoaWxkcmVuWzFdLmhhc2g9PT1yLmhhc2gpKXJldHVybiB0LnZhbHVlPVwib3BfbXVsXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9vcFwiLFwib3BfYWRkXCIsdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpLHMuY2hpbGRyZW5bMF0pLHJdLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7YnJlYWs7Y2FzZVwib3Bfc3ViXCI6aWYocj10LmNoaWxkcmVuWzBdLFwibm9kZV9vcFwiPT0ocz10LmNoaWxkcmVuWzFdKS50eXBlJiZcIm9wX25lZ1wiPT1zLnZhbHVlKXJldHVybiB0LnZhbHVlPVwib3BfYWRkXCIsdC5jaGlsZHJlblsxXT1zLmNoaWxkcmVuWzBdLHRoaXMubWF5Tm90QmVTaW1wbGlmaWVkPSEwLHQ7YnJlYWs7Y2FzZVwib3BfZXhlY2Z1blwiOnJldHVybiB0aGlzLnNpbXBsaWZ5RWxlbWVudGFyeSh0KX1yZXR1cm4gdH0sc2ltcGxpZnlFbGVtZW50YXJ5OmZ1bmN0aW9uKHQpe3ZhciBlPXQuY2hpbGRyZW5bMF0udmFsdWUsaT10LmNoaWxkcmVuWzFdO2lmKDA9PWkubGVuZ3RoKXJldHVybiB0O3N3aXRjaChlKXtjYXNlXCJzaW5cIjpjYXNlXCJ0YW5cIjppZihcIm5vZGVfY29uc3RcIj09aVswXS50eXBlJiYwPT09aVswXS52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9jb25zdFwiLHQudmFsdWU9MCx0O2lmKFwibm9kZV92YXJcIj09aVswXS50eXBlJiZcIlBJXCI9PWlbMF0udmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfY29uc3RcIix0LnZhbHVlPTAsdDtpZihcIm5vZGVfb3BcIj09aVswXS50eXBlJiZcIm9wX211bFwiPT1pWzBdLnZhbHVlJiZcIm5vZGVfY29uc3RcIj09aVswXS5jaGlsZHJlblswXS50eXBlJiZpWzBdLmNoaWxkcmVuWzBdLnZhbHVlJTE9PTAmJlwibm9kZV92YXJcIj09aVswXS5jaGlsZHJlblsxXS50eXBlJiZcIlBJXCI9PWlbMF0uY2hpbGRyZW5bMV0udmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfY29uc3RcIix0LnZhbHVlPTAsdDticmVhaztjYXNlXCJjb3NcIjppZihcIm5vZGVfY29uc3RcIj09aVswXS50eXBlJiYwPT09aVswXS52YWx1ZSlyZXR1cm4gdC50eXBlPVwibm9kZV9jb25zdFwiLHQudmFsdWU9MSx0O2lmKFwibm9kZV92YXJcIj09aVswXS50eXBlJiZcIlBJXCI9PWlbMF0udmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfb3BcIix0LnZhbHVlPVwib3BfbmVnXCIsdC5jaGlsZHJlbj1bdGhpcy5jcmVhdGVOb2RlKFwibm9kZV9jb25zdFwiLDEpXSx0O2JyZWFrO2Nhc2VcImV4cFwiOmlmKFwibm9kZV9jb25zdFwiPT1pWzBdLnR5cGUmJjA9PT1pWzBdLnZhbHVlKXJldHVybiB0LnR5cGU9XCJub2RlX2NvbnN0XCIsdC52YWx1ZT0xLHQ7YnJlYWs7Y2FzZVwicG93XCI6aWYoXCJub2RlX2NvbnN0XCI9PWlbMV0udHlwZSYmMD09PWlbMV0udmFsdWUpcmV0dXJuIHQudHlwZT1cIm5vZGVfY29uc3RcIix0LnZhbHVlPTEsdH1yZXR1cm4gdH19KSx0LkNBfSkpLGRlZmluZShcInV0aWxzL2R1bXBcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuRHVtcD17YWRkTWFya2VyczpmdW5jdGlvbih0LGkscil7dmFyIHMsbyxuO2ZvcihzIGluIGUuaXNBcnJheShpKXx8KGk9W2ldKSxlLmlzQXJyYXkocil8fChyPVtyXSksbz1NYXRoLm1pbihpLmxlbmd0aCxyLmxlbmd0aCksaS5sZW5ndGg9byxyLmxlbmd0aD1vLHQub2JqZWN0cylpZih0Lm9iamVjdHMuaGFzT3duUHJvcGVydHkocykpZm9yKG49MDtuPG87bisrKXQub2JqZWN0c1tzXVtpW25dXT1yW25dfSxkZWxldGVNYXJrZXJzOmZ1bmN0aW9uKHQsaSl7dmFyIHIscyxvO2ZvcihyIGluIGUuaXNBcnJheShpKXx8KGk9W2ldKSxzPWkubGVuZ3RoLGkubGVuZ3RoPXMsdC5vYmplY3RzKWlmKHQub2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShyKSlmb3Iobz0wO288cztvKyspZGVsZXRlIHQub2JqZWN0c1tyXVtpW29dXX0sc3RyOmZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiZcImZ1bmN0aW9uXCIhPT10LnN1YnN0cigwLDcpJiYodD0nXCInK3QrJ1wiJyksdH0sbWluaW1pemVPYmplY3Q6ZnVuY3Rpb24oaSxyKXt2YXIgcyxvLG4sYT17fSxoPWUuZGVlcENvcHkoaSksbD1bXTtmb3Iobj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspbC5wdXNoKGFyZ3VtZW50c1tuXSk7Zm9yKGE9ZS5kZWVwQ29weShhLHQuT3B0aW9ucy5lbGVtZW50cywhMCksbj1sLmxlbmd0aDtuPjA7bi0tKWE9ZS5kZWVwQ29weShhLGxbbi0xXSwhMCk7Zm9yKHMgaW4gYSlhLmhhc093blByb3BlcnR5KHMpJiYobz1zLnRvTG93ZXJDYXNlKCksXCJvYmplY3RcIiE9dHlwZW9mIGFbc10mJmFbc109PT1oW29dJiZkZWxldGUgaFtvXSk7cmV0dXJuIGh9LHByZXBhcmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGUsaSl7dmFyIHIscztmb3IocyBpbiByPXRoaXMubWluaW1pemVPYmplY3QoaS5nZXRBdHRyaWJ1dGVzKCksdC5PcHRpb25zW2kuZWxUeXBlXSksaS5zdWJzKWkuc3Vicy5oYXNPd25Qcm9wZXJ0eShzKSYmKHJbc109dGhpcy5taW5pbWl6ZU9iamVjdChpLnN1YnNbc10uZ2V0QXR0cmlidXRlcygpLHQuT3B0aW9uc1tpLmVsVHlwZV1bc10sdC5PcHRpb25zW2kuc3Vic1tzXS5lbFR5cGVdKSxyW3NdLmlkPWkuc3Vic1tzXS5pZCxyW3NdLm5hbWU9aS5zdWJzW3NdLm5hbWUpO3JldHVybiByLmlkPWkuaWQsci5uYW1lPWkubmFtZSxyfSxzZXRCb3VuZGluZ0JveDpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQucHVzaCh7b2JqOmksbWV0aG9kOlwic2V0Qm91bmRpbmdCb3hcIixwYXJhbXM6W2UuZ2V0Qm91bmRpbmdCb3goKSxlLmtlZXBhc3BlY3RyYXRpb119KSx0fSxkdW1wOmZ1bmN0aW9uKHQpe3ZhciBpLHIscyxvLG49W10sYT1bXSxoPXQub2JqZWN0c0xpc3QubGVuZ3RoO2Zvcih0aGlzLmFkZE1hcmtlcnModCxcImR1bXBlZFwiLCExKSxpPTA7aTxoO2krKylpZihzPXt9LCEocj10Lm9iamVjdHNMaXN0W2ldKS5kdW1wZWQmJnIuZHVtcCl7Zm9yKHMudHlwZT1yLmdldFR5cGUoKSxzLnBhcmVudHM9ci5nZXRQYXJlbnRzKCkuc2xpY2UoKSxcInBvaW50XCI9PT1zLnR5cGUmJjE9PT1zLnBhcmVudHNbMF0mJihzLnBhcmVudHM9cy5wYXJlbnRzLnNsaWNlKDEpKSxvPTA7bzxzLnBhcmVudHMubGVuZ3RoO28rKyllLmlzU3RyaW5nKHMucGFyZW50c1tvXSkmJlwiJ1wiIT09cy5wYXJlbnRzW29dWzBdJiYnXCInIT09cy5wYXJlbnRzW29dWzBdP3MucGFyZW50c1tvXT0nXCInK3MucGFyZW50c1tvXSsnXCInOmUuaXNBcnJheShzLnBhcmVudHNbb10pJiYocy5wYXJlbnRzW29dPVwiW1wiK3MucGFyZW50c1tvXS50b1N0cmluZygpK1wiXVwiKTtzLmF0dHJpYnV0ZXM9dGhpcy5wcmVwYXJlQXR0cmlidXRlcyh0LHIpLFwiZ2xpZGVyXCI9PT1zLnR5cGUmJnIub25Qb2x5Z29uJiZuLnB1c2goe29iajpyLmlkLHByb3A6XCJvblBvbHlnb25cIix2YWw6ITB9KSxhLnB1c2gocyl9cmV0dXJuIHRoaXMuZGVsZXRlTWFya2Vycyh0LFwiZHVtcGVkXCIpLHtlbGVtZW50czphLHByb3BzOm4sbWV0aG9kczpbXX19LGFycmF5VG9QYXJhbVN0cjpmdW5jdGlvbih0LGUpe3ZhciBpLHI9W107Zm9yKGk9MDtpPHQubGVuZ3RoO2krKylyLnB1c2goZS5jYWxsKHRoaXMsdFtpXSkpO3JldHVybiByLmpvaW4oXCIsIFwiKX0sdG9KQ0FOOmZ1bmN0aW9uKHQpe3ZhciBpLHIscztzd2l0Y2godHlwZW9mIHQpe2Nhc2VcIm9iamVjdFwiOmlmKHQpe2lmKHI9W10sZS5pc0FycmF5KHQpKXtmb3IoaT0wO2k8dC5sZW5ndGg7aSsrKXIucHVzaCh0aGlzLnRvSkNBTih0W2ldKSk7cmV0dXJuXCJbXCIrci5qb2luKFwiLFwiKStcIl1cIn1mb3IocyBpbiB0KXQuaGFzT3duUHJvcGVydHkocykmJnIucHVzaChzK1wiOiBcIit0aGlzLnRvSkNBTih0W3NdKSk7cmV0dXJuXCI8PFwiK3Iuam9pbihcIiwgXCIpK1wiPj4gXCJ9cmV0dXJuXCJudWxsXCI7Y2FzZVwic3RyaW5nXCI6cmV0dXJuXCInXCIrdC5yZXBsYWNlKC9cXFxcL2csXCJcXFxcXFxcXFwiKS5yZXBsYWNlKC8oW1wiJ10pL2csXCJcXFxcJDFcIikrXCInXCI7Y2FzZVwibnVtYmVyXCI6Y2FzZVwiYm9vbGVhblwiOnJldHVybiB0LnRvU3RyaW5nKCk7Y2FzZVwibnVsbFwiOnJldHVyblwibnVsbFwifX0sdG9KZXNzaWU6ZnVuY3Rpb24odCl7dmFyIGUsaSxyLHM9dGhpcy5kdW1wKHQpLG89W107Zm9yKHMubWV0aG9kcz10aGlzLnNldEJvdW5kaW5nQm94KHMubWV0aG9kcyx0LFwiJGJvYXJkXCIpLGk9cy5lbGVtZW50cyxlPTA7ZTxpLmxlbmd0aDtlKyspaVtlXS5hdHRyaWJ1dGVzLm5hbWUubGVuZ3RoPjAmJm8ucHVzaChcIi8vIFwiK2lbZV0uYXR0cmlidXRlcy5uYW1lKSxvLnB1c2goXCJzXCIrZStcIiA9IFwiK2lbZV0udHlwZStcIihcIitpW2VdLnBhcmVudHMuam9pbihcIiwgXCIpK1wiKSBcIit0aGlzLnRvSkNBTihpW2VdLmF0dHJpYnV0ZXMpLnJlcGxhY2UoL1xcbi8sXCJcXFxcblwiKStcIjtcIiksXCJheGlzXCI9PT1pW2VdLnR5cGUmJihyPWlbZV0uYXR0cmlidXRlcy5pZCxudWxsPT09dC5vYmplY3RzW3JdLmRlZmF1bHRUaWNrcyYmby5wdXNoKFwic1wiK2UrXCIucmVtb3ZlQWxsVGlja3MoKTtcIikpLG8ucHVzaChcIlwiKTtmb3IoZT0wO2U8cy5tZXRob2RzLmxlbmd0aDtlKyspby5wdXNoKHMubWV0aG9kc1tlXS5vYmorXCIuXCIrcy5tZXRob2RzW2VdLm1ldGhvZCtcIihcIit0aGlzLmFycmF5VG9QYXJhbVN0cihzLm1ldGhvZHNbZV0ucGFyYW1zLHRoaXMudG9KQ0FOKStcIik7XCIpLG8ucHVzaChcIlwiKTtmb3IoZT0wO2U8cy5wcm9wcy5sZW5ndGg7ZSsrKW8ucHVzaChzLnByb3BzW2VdLm9iaitcIi5cIitzLnByb3BzW2VdLnByb3ArXCIgPSBcIit0aGlzLnRvSkNBTihzLnByb3BzW2VdLnZhbCkrXCI7XCIpLG8ucHVzaChcIlwiKTtyZXR1cm4gby5qb2luKFwiXFxuXCIpfSx0b0phdmFTY3JpcHQ6ZnVuY3Rpb24odCl7dmFyIGkscixzLG89dGhpcy5kdW1wKHQpLG49W107Zm9yKG8ubWV0aG9kcz10aGlzLnNldEJvdW5kaW5nQm94KG8ubWV0aG9kcyx0LFwiYm9hcmRcIikscj1vLmVsZW1lbnRzLGk9MDtpPHIubGVuZ3RoO2krKyluLnB1c2goJ2JvYXJkLmNyZWF0ZShcIicrcltpXS50eXBlKydcIiwgWycrcltpXS5wYXJlbnRzLmpvaW4oXCIsIFwiKStcIl0sIFwiK2UudG9KU09OKHJbaV0uYXR0cmlidXRlcykrXCIpO1wiKSxcImF4aXNcIj09PXJbaV0udHlwZSYmKHM9cltpXS5hdHRyaWJ1dGVzLmlkLG51bGw9PT10Lm9iamVjdHNbc10uZGVmYXVsdFRpY2tzJiZuLnB1c2goJ2JvYXJkLm9iamVjdHNbXCInK3MrJ1wiXS5yZW1vdmVUaWNrcyhib2FyZC5vYmplY3RzW1wiJytzKydcIl0uZGVmYXVsdFRpY2tzKTsnKSk7Zm9yKGk9MDtpPG8ubWV0aG9kcy5sZW5ndGg7aSsrKW4ucHVzaChvLm1ldGhvZHNbaV0ub2JqK1wiLlwiK28ubWV0aG9kc1tpXS5tZXRob2QrXCIoXCIrdGhpcy5hcnJheVRvUGFyYW1TdHIoby5tZXRob2RzW2ldLnBhcmFtcyxlLnRvSlNPTikrXCIpO1wiKSxuLnB1c2goXCJcIik7Zm9yKGk9MDtpPG8ucHJvcHMubGVuZ3RoO2krKyluLnB1c2goby5wcm9wc1tpXS5vYmorXCIuXCIrby5wcm9wc1tpXS5wcm9wK1wiID0gXCIrZS50b0pTT04oby5wcm9wc1tpXS52YWwpK1wiO1wiKSxuLnB1c2goXCJcIik7cmV0dXJuIG4uam9pbihcIlxcblwiKX19LHQuRHVtcH0pKSxkZWZpbmUoXCJlbGVtZW50L2NvbWJcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIixcImJhc2UvcG9pbnRcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5jcmVhdGVDb21iPWZ1bmN0aW9uKHQscixzKXt2YXIgbyxuLGEsaCxsO2lmKDIhPT1yLmxlbmd0aCl0aHJvdyBsPXIubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cIidcIit0eXBlb2YgdCtcIidcIn0pKSxuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNvbWIgd2l0aCBwYXJlbnQgdHlwZXMgXCIrbC5qb2luKFwiLCBcIikrXCIuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnRdLCBbW3gxLHkxXSxbeDIseTJdXVwiKTtpZihlLmlzQXJyYXkoclswXSkmJnJbMF0ubGVuZ3RoPjEpaD1lLmNvcHlBdHRyaWJ1dGVzKHMsdC5vcHRpb25zLFwiY29tYlwiLFwicG9pbnQxXCIpLG89dC5jcmVhdGUoXCJwb2ludFwiLHJbMF0saCk7ZWxzZSBpZihlLmlzU3RyaW5nKHJbMF0pfHxlLmlzUG9pbnQoclswXSkpbz10LnNlbGVjdChyWzBdKTtlbHNlIGlmKGUuaXNGdW5jdGlvbihyWzBdKSYmZS5pc1BvaW50KHJbMF0oKSkpbz1yWzBdKCk7ZWxzZXtpZighKGUuaXNGdW5jdGlvbihyWzBdKSYmclswXSgpLmxlbmd0aCYmclswXSgpLmxlbmd0aD49MikpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBjb21iIHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgclswXStcIicgYW5kICdcIit0eXBlb2YgclsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbcG9pbnQscG9pbnRdLCBbW3gxLHkxXSxbeDIseTJdXVwiKTtoPWUuY29weUF0dHJpYnV0ZXMocyx0Lm9wdGlvbnMsXCJjb21iXCIsXCJwb2ludDFcIiksbz1pLmNyZWF0ZVBvaW50KHQsclswXSgpLGgpfWlmKGUuaXNBcnJheShyWzFdKSYmclsxXS5sZW5ndGg+MSloPWUuY29weUF0dHJpYnV0ZXMocyx0Lm9wdGlvbnMsXCJjb21iXCIsXCJwb2ludDJcIiksbj10LmNyZWF0ZShcInBvaW50XCIsclsxXSxoKTtlbHNlIGlmKGUuaXNTdHJpbmcoclsxXSl8fGUuaXNQb2ludChyWzFdKSluPXQuc2VsZWN0KHJbMV0pO2Vsc2UgaWYoZS5pc0Z1bmN0aW9uKHJbMV0pJiZlLmlzUG9pbnQoclsxXSgpKSluPXJbMV0oKTtlbHNle2lmKCEoZS5pc0Z1bmN0aW9uKHJbMV0pJiZyWzFdKCkubGVuZ3RoJiZyWzFdKCkubGVuZ3RoPj0yKSl0aHJvdyBuZXcgRXJyb3IoXCJKU1hHcmFwaDogQ2FuJ3QgY3JlYXRlIGNvbWIgd2l0aCBwYXJlbnQgdHlwZXMgJ1wiK3R5cGVvZiByWzBdK1wiJyBhbmQgJ1wiK3R5cGVvZiByWzFdK1wiJy5cXG5Qb3NzaWJsZSBwYXJlbnQgdHlwZXM6IFtwb2ludCxwb2ludF0sIFtbeDEseTFdLFt4Mix5Ml1dXCIpO2g9ZS5jb3B5QXR0cmlidXRlcyhzLHQub3B0aW9ucyxcImNvbWJcIixcInBvaW50MlwiKSxuPWkuY3JlYXRlUG9pbnQodCxyWzFdKCksaCl9cmV0dXJuIGg9ZS5jb3B5QXR0cmlidXRlcyhzLHQub3B0aW9ucyxcImNvbWJcIiksZS5tZXJnZShoLGUuY29weUF0dHJpYnV0ZXMocyx0Lm9wdGlvbnMsXCJjb21iXCIsXCJjdXJ2ZVwiKSksKGE9dC5jcmVhdGUoXCJjdXJ2ZVwiLFtbMF0sWzBdXSxoKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQsaSxyLHMsaCxsLGMsZCx1LHAsZj0wLG09by5EaXN0KG4pLGc9byxiPW47Zm9yKGQ9ZS5ldmFsdWF0ZShhLnZpc1Byb3AuZnJlcXVlbmN5KSx1PS1lLmV2YWx1YXRlKGEudmlzUHJvcC5hbmdsZSkscD1lLmV2YWx1YXRlKGEudmlzUHJvcC53aWR0aCksZS5ldmFsdWF0ZShhLnZpc1Byb3AucmV2ZXJzZSkmJihnPW4sYj1vLHU9LXUpLHQ9TWF0aC5jb3ModSksaT1NYXRoLnNpbih1KSxyPShiLlgoKS1nLlgoKSkvbSxzPShiLlkoKS1nLlkoKSkvbSx0Kj1wL01hdGguYWJzKGkpLGkqPXAvTWF0aC5hYnMoaSksdGhpcy5kYXRhWD1bXSx0aGlzLmRhdGFZPVtdO2Y8bTspaD1nLlgoKStyKmYsbD1nLlkoKStzKmYsaSo9Yz1NYXRoLm1pbih0LG0tZikvTWF0aC5hYnModCksdCo9Yyx0aGlzLmRhdGFYLnB1c2goaCksdGhpcy5kYXRhWS5wdXNoKGwpLHRoaXMuZGF0YVgucHVzaChoK3IqdCtzKmkpLHRoaXMuZGF0YVkucHVzaChsLXIqaStzKnQpLHRoaXMuZGF0YVgucHVzaChOYU4pLHRoaXMuZGF0YVkucHVzaChOYU4pLGYrPWR9LGF9LHQucmVnaXN0ZXJFbGVtZW50KFwiY29tYlwiLHQuY3JlYXRlQ29tYikse2NyZWF0ZUNvbWI6dC5jcmVhdGVDb21ifX0pKSxkZWZpbmUoXCJlbGVtZW50L3Nsb3BldHJpYW5nbGVcIixbXCJqeGdcIixcInV0aWxzL3R5cGVcIixcImJhc2UvY29uc3RhbnRzXCIsXCJiYXNlL3BvbHlnb25cIl0sKGZ1bmN0aW9uKHQsZSxpLHIpe1widXNlIHN0cmljdFwiO3ZhciBzPWZ1bmN0aW9uKCl7ci5Qb2x5Z29uLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzKSx0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0aGlzLnRvcHBvaW50KSx0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0aGlzLmdsaWRlciksdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy5iYXNlbGluZSksdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy5iYXNlcG9pbnQpLHRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMubGFiZWwpLHRoaXMuX2lzUHJpdmF0ZVRhbmdlbnQmJnRoaXMuYm9hcmQucmVtb3ZlT2JqZWN0KHRoaXMudGFuZ2VudCl9LG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YW5nZW50LmdldFNsb3BlKCl9O3JldHVybiB0LmNyZWF0ZVNsb3BlVHJpYW5nbGU9ZnVuY3Rpb24ocixuLGEpe3ZhciBoLGwsYyxkLHUscCxmLG0sZyxiPSExO2lmKDE9PT1uLmxlbmd0aCYmblswXS50eXBlPT09aS5PQkpFQ1RfVFlQRV9UQU5HRU5UKWw9blswXSxjPWwuZ2xpZGVyO2Vsc2UgaWYoMT09PW4ubGVuZ3RoJiZuWzBdLnR5cGU9PT1pLk9CSkVDVF9UWVBFX0dMSURFUiljPW5bMF0sZz1lLmNvcHlBdHRyaWJ1dGVzKGEsci5vcHRpb25zLFwic2xvcGV0cmlhbmdsZVwiLFwidGFuZ2VudFwiKSxsPXIuY3JlYXRlKFwidGFuZ2VudFwiLFtjXSxnKSxiPSEwO2Vsc2V7aWYoMiE9PW4ubGVuZ3RofHxuWzBdLmVsZW1lbnRDbGFzcyE9PWkuT0JKRUNUX0NMQVNTX0xJTkV8fCFlLmlzUG9pbnQoblsxXSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBzbG9wZSB0cmlhbmdsZSB3aXRoIHBhcmVudCB0eXBlcyAnXCIrdHlwZW9mIG5bMF0rXCInLlwiKTtsPW5bMF0sYz1uWzFdfXJldHVybiBnPWUuY29weUF0dHJpYnV0ZXMoYSxyLm9wdGlvbnMsXCJzbG9wZXRyaWFuZ2xlXCIsXCJiYXNlcG9pbnRcIiksZj1yLmNyZWF0ZShcInBvaW50XCIsW2Z1bmN0aW9uKCl7cmV0dXJuW2MuWCgpKzEsYy5ZKCldfV0sZyksZz1lLmNvcHlBdHRyaWJ1dGVzKGEsci5vcHRpb25zLFwic2xvcGV0cmlhbmdsZVwiLFwiYmFzZWxpbmVcIikscD1yLmNyZWF0ZShcImxpbmVcIixbYyxmXSxnKSxnPWUuY29weUF0dHJpYnV0ZXMoYSxyLm9wdGlvbnMsXCJzbG9wZXRyaWFuZ2xlXCIsXCJnbGlkZXJcIiksZD1yLmNyZWF0ZShcImdsaWRlclwiLFtjLlgoKSsxLGMuWSgpLHBdLGcpLGc9ZS5jb3B5QXR0cmlidXRlcyhhLHIub3B0aW9ucyxcInNsb3BldHJpYW5nbGVcIixcInRvcHBvaW50XCIpLHU9ci5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbigpe3JldHVybltkLlgoKSxkLlkoKSsoZC5YKCktYy5YKCkpKmwuZ2V0U2xvcGUoKV19XSxnKSwoZz1lLmNvcHlBdHRyaWJ1dGVzKGEsci5vcHRpb25zLFwic2xvcGV0cmlhbmdsZVwiKSkuYm9yZGVycz1lLmNvcHlBdHRyaWJ1dGVzKGcuYm9yZGVycyxyLm9wdGlvbnMsXCJzbG9wZXRyaWFuZ2xlXCIsXCJib3JkZXJzXCIpLChoPXIuY3JlYXRlKFwicG9seWdvblwiLFtjLGQsdV0sZykpLlZhbHVlPW8saC50YW5nZW50PWwsaC5faXNQcml2YXRlVGFuZ2VudD1iLGguYm9yZGVyc1syXS5zZXRBcnJvdyghMSwhMSksZz1lLmNvcHlBdHRyaWJ1dGVzKGEsci5vcHRpb25zLFwic2xvcGV0cmlhbmdsZVwiLFwibGFiZWxcIiksKG09ci5jcmVhdGUoXCJ0ZXh0XCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGQuWCgpKy4xfSxmdW5jdGlvbigpe3JldHVybi41KihkLlkoKSt1LlkoKSl9LGZ1bmN0aW9uKCl7cmV0dXJuXCJcIn1dLGcpKS5fc2V0VGV4dCgoZnVuY3Rpb24oKXtyZXR1cm4gZS50b0ZpeGVkKGguVmFsdWUoKSxlLmV2YWx1YXRlKG0udmlzUHJvcC5kaWdpdHMpKX0pKSxtLmZ1bGxVcGRhdGUoKSxoLmdsaWRlcj1kLGguYmFzZXBvaW50PWYsaC5iYXNlbGluZT1wLGgudG9wcG9pbnQ9dSxoLmxhYmVsPW0saC5zdWJzPXtnbGlkZXI6ZCxiYXNlUG9pbnQ6ZixiYXNlTGluZTpwLHRvcFBvaW50OnUsbGFiZWw6bX0saC5pbmhlcml0cy5wdXNoKGQsZixwLHUsbSksaC5tZXRob2RNYXA9dC5kZWVwQ29weShoLm1ldGhvZE1hcCx7dGFuZ2VudDpcInRhbmdlbnRcIixnbGlkZXI6XCJnbGlkZXJcIixiYXNlcG9pbnQ6XCJiYXNlcG9pbnRcIixiYXNlbGluZTpcImJhc2VsaW5lXCIsdG9wcG9pbnQ6XCJ0b3Bwb2ludFwiLGxhYmVsOlwibGFiZWxcIixWYWx1ZTpcIlZhbHVlXCIsVjpcIlZhbHVlXCJ9KSxoLnJlbW92ZT1zLGh9LHQucmVnaXN0ZXJFbGVtZW50KFwic2xvcGV0cmlhbmdsZVwiLHQuY3JlYXRlU2xvcGVUcmlhbmdsZSkse2NyZWF0ZVNsb3BlVHJpYW5nbGU6dC5jcmVhdGVTbG9wZVRyaWFuZ2xlfX0pKSxkZWZpbmUoXCJlbGVtZW50L2NoZWNrYm94XCIsW1wianhnXCIsXCJ1dGlscy9lbnZcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbigpe3RoaXMuX3ZhbHVlPXRoaXMucmVuZE5vZGVDaGVja2JveC5jaGVja2VkLHRoaXMuYm9hcmQudXBkYXRlKCl9O3JldHVybiB0LmNyZWF0ZUNoZWNrYm94PWZ1bmN0aW9uKHMsbyxuKXt2YXIgYSxoLGw9aS5jb3B5QXR0cmlidXRlcyhuLHMub3B0aW9ucyxcImNoZWNrYm94XCIpO3JldHVybiBoPVtvWzBdLG9bMV0sJzxzcGFuIHN0eWxlPVwiZGlzcGxheTppbmxpbmVcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgLz48bGFiZWwgZm9yPVwiXCI+PC9sYWJlbD48L3NwYW4+J10sKGE9cy5jcmVhdGUoXCJ0ZXh0XCIsaCxsKSkudHlwZT1pLk9CSkVDVF9UWVBFX0NIRUNLQk9YLGEucmVuZE5vZGVDaGVja2JveD1hLnJlbmROb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXSxhLnJlbmROb2RlTGFiZWw9YS5yZW5kTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0sYS5yZW5kTm9kZVRhZz1hLnJlbmROb2RlQ2hlY2tib3gsYS5yZW5kTm9kZVRhZy5kaXNhYmxlZD0hIWwuZGlzYWJsZWQsYS5yZW5kTm9kZUxhYmVsLmlubmVySFRNTD1vWzJdLGEucmVuZE5vZGVDaGVja2JveC5pZD1hLnJlbmROb2RlLmlkK1wiX2NoZWNrYm94XCIsYS5yZW5kTm9kZUxhYmVsLmlkPWEucmVuZE5vZGUuaWQrXCJfbGFiZWxcIixhLnJlbmROb2RlTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsYS5yZW5kTm9kZUNoZWNrYm94LmlkKSxhLnZpc1Byb3BPbGQuZm9udHNpemU9XCIwcHhcIixzLnJlbmRlcmVyLnVwZGF0ZVRleHRTdHlsZShhLCExKSxhLnJlbmROb2RlQ2hlY2tib3guY2hlY2tlZD1sLmNoZWNrZWQsYS5fdmFsdWU9bC5jaGVja2VkLGEuVmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmFsdWV9LGEudXBkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmVlZHNVcGRhdGUmJih0LlRleHQucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpLHRoaXMuX3ZhbHVlPXRoaXMucmVuZE5vZGVDaGVja2JveC5jaGVja2VkKSx0aGlzfSxlLmFkZEV2ZW50KGEucmVuZE5vZGVDaGVja2JveCxcImNoYW5nZVwiLHIsYSksYX0sdC5yZWdpc3RlckVsZW1lbnQoXCJjaGVja2JveFwiLHQuY3JlYXRlQ2hlY2tib3gpLHtjcmVhdGVDaGVja2JveDp0LmNyZWF0ZUNoZWNrYm94fX0pKSxkZWZpbmUoXCJlbGVtZW50L2lucHV0XCIsW1wianhnXCIsXCJ1dGlscy9lbnZcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbih0KXt0aGlzLl92YWx1ZT10aGlzLnJlbmROb2RlSW5wdXQudmFsdWUsdGhpcy5ib2FyZC51cGRhdGUoKX07cmV0dXJuIHQuY3JlYXRlSW5wdXQ9ZnVuY3Rpb24ocyxvLG4pe3ZhciBhLGgsbD1pLmNvcHlBdHRyaWJ1dGVzKG4scy5vcHRpb25zLFwiaW5wdXRcIik7cmV0dXJuIGg9W29bMF0sb1sxXSwnPHNwYW4gc3R5bGU9XCJkaXNwbGF5OmlubGluZTsgd2hpdGUtc3BhY2U6bm93cmFwOyBwYWRkaW5nOjBweDtcIj48c3Bhbj48L3NwYW4+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbWF4bGVuZ3RoPVwiJytsLm1heGxlbmd0aCsnXCIgc3R5bGU9XCJ3aWR0aDoxMDAlXCIvPjwvc3Bhbj4nXSwoYT1zLmNyZWF0ZShcInRleHRcIixoLGwpKS50eXBlPWkuT0JKRUNUX1RZUEVfSU5QVVQsYS5yZW5kTm9kZUxhYmVsPWEucmVuZE5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLGEucmVuZE5vZGVJbnB1dD1hLnJlbmROb2RlLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1sxXSxhLnJlbmROb2RlTGFiZWwuaW5uZXJIVE1MPW9bM10sYS5yZW5kTm9kZUlucHV0LnZhbHVlPW9bMl0sYS5yZW5kTm9kZVRhZz1hLnJlbmROb2RlSW5wdXQsYS5yZW5kTm9kZVRhZy5kaXNhYmxlZD0hIWwuZGlzYWJsZWQsYS5yZW5kTm9kZUxhYmVsLmlkPWEucmVuZE5vZGUuaWQrXCJfbGFiZWxcIixhLnJlbmROb2RlSW5wdXQuaWQ9YS5yZW5kTm9kZS5pZCtcIl9pbnB1dFwiLGEuX3ZhbHVlPW9bMl0sYS51cGRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZSYmKHQuVGV4dC5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyksdGhpcy5fdmFsdWU9dGhpcy5yZW5kTm9kZUlucHV0LnZhbHVlKSx0aGlzfSxhLlZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfSxhLnNldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdmFsdWU9dCx0aGlzLnJlbmROb2RlSW5wdXQudmFsdWU9dCx0aGlzfSxlLmFkZEV2ZW50KGEucmVuZE5vZGVJbnB1dCxcImlucHV0XCIscixhKSxlLmFkZEV2ZW50KGEucmVuZE5vZGVJbnB1dCxcIm1vdXNlZG93blwiLChmdW5jdGlvbih0KXtpLmV4aXN0cyh0LnN0b3BQcm9wYWdhdGlvbikmJnQuc3RvcFByb3BhZ2F0aW9uKCl9KSxhKSxlLmFkZEV2ZW50KGEucmVuZE5vZGVJbnB1dCxcInRvdWNoc3RhcnRcIiwoZnVuY3Rpb24odCl7aS5leGlzdHModC5zdG9wUHJvcGFnYXRpb24pJiZ0LnN0b3BQcm9wYWdhdGlvbigpfSksYSksZS5hZGRFdmVudChhLnJlbmROb2RlSW5wdXQsXCJwb2ludGVyZG93blwiLChmdW5jdGlvbih0KXtpLmV4aXN0cyh0LnN0b3BQcm9wYWdhdGlvbikmJnQuc3RvcFByb3BhZ2F0aW9uKCl9KSxhKSxhLnZpc1Byb3BPbGQuZm9udHNpemU9XCIwcHhcIixzLnJlbmRlcmVyLnVwZGF0ZVRleHRTdHlsZShhLCExKSxhfSx0LnJlZ2lzdGVyRWxlbWVudChcImlucHV0XCIsdC5jcmVhdGVJbnB1dCkse2NyZWF0ZUlucHV0OnQuY3JlYXRlSW5wdXR9fSkpLGRlZmluZShcImVsZW1lbnQvYnV0dG9uXCIsW1wianhnXCIsXCJ1dGlscy9lbnZcIixcInV0aWxzL3R5cGVcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1mdW5jdGlvbigpe3RoaXMuX2hhbmRsZXImJnRoaXMuX2hhbmRsZXIoKSx0aGlzLmJvYXJkLnVwZGF0ZSgpfTtyZXR1cm4gdC5jcmVhdGVCdXR0b249ZnVuY3Rpb24ocyxvLG4pe3ZhciBhLGgsbD1pLmNvcHlBdHRyaWJ1dGVzKG4scy5vcHRpb25zLFwiYnV0dG9uXCIpO3JldHVybiBoPVtvWzBdLG9bMV0sJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIHN0eWxlPVwid2lkdGg6MTAwJTtcIj48L2J1dHRvbj4nXSwoYT1zLmNyZWF0ZShcInRleHRcIixoLGwpKS50eXBlPWkuT0JKRUNUX1RZUEVfQlVUVE9OLGEucmVuZE5vZGVCdXR0b249YS5yZW5kTm9kZS5jaGlsZE5vZGVzWzBdLGEucmVuZE5vZGVCdXR0b24uaWQ9YS5yZW5kTm9kZS5pZCtcIl9idXR0b25cIixhLnJlbmROb2RlQnV0dG9uLmlubmVySFRNTD1vWzJdLGEucmVuZE5vZGVUYWc9YS5yZW5kTm9kZUJ1dHRvbixhLnJlbmROb2RlVGFnLmRpc2FibGVkPSEhbC5kaXNhYmxlZCxhLnZpc1Byb3BPbGQuZm9udHNpemU9XCIwcHhcIixzLnJlbmRlcmVyLnVwZGF0ZVRleHRTdHlsZShhLCExKSxvWzNdJiYoaS5pc1N0cmluZyhvWzNdKT8oYS5famM9bmV3IHQuSmVzc2llQ29kZSxhLl9qYy51c2UocyksYS5faGFuZGxlcj1mdW5jdGlvbigpe2EuX2pjLnBhcnNlKG9bM10pfSk6YS5faGFuZGxlcj1vWzNdKSxlLmFkZEV2ZW50KGEucmVuZE5vZGVCdXR0b24sXCJjbGlja1wiLHIsYSksZS5hZGRFdmVudChhLnJlbmROb2RlQnV0dG9uLFwibW91c2Vkb3duXCIsKGZ1bmN0aW9uKHQpe2kuZXhpc3RzKHQuc3RvcFByb3BhZ2F0aW9uKSYmdC5zdG9wUHJvcGFnYXRpb24oKX0pLGEpLGUuYWRkRXZlbnQoYS5yZW5kTm9kZUJ1dHRvbixcInRvdWNoc3RhcnRcIiwoZnVuY3Rpb24odCl7aS5leGlzdHModC5zdG9wUHJvcGFnYXRpb24pJiZ0LnN0b3BQcm9wYWdhdGlvbigpfSksYSksZS5hZGRFdmVudChhLnJlbmROb2RlQnV0dG9uLFwicG9pbnRlcmRvd25cIiwoZnVuY3Rpb24odCl7aS5leGlzdHModC5zdG9wUHJvcGFnYXRpb24pJiZ0LnN0b3BQcm9wYWdhdGlvbigpfSksYSksYX0sdC5yZWdpc3RlckVsZW1lbnQoXCJidXR0b25cIix0LmNyZWF0ZUJ1dHRvbikse2NyZWF0ZUJ1dHRvbjp0LmNyZWF0ZUJ1dHRvbn19KSksZGVmaW5lKFwiYmFzZS9mb3JlaWdub2JqZWN0XCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwiYmFzZS9jb29yZHNcIixcImJhc2UvZWxlbWVudFwiLFwibWF0aC9tYXRoXCIsXCJ1dGlscy90eXBlXCIsXCJiYXNlL2Nvb3Jkc2VsZW1lbnRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe1widXNlIHN0cmljdFwiO3JldHVybiB0LkZvcmVpZ25PYmplY3Q9ZnVuY3Rpb24oaSxyLHMsbixhKXt0aGlzLmNvbnN0cnVjdG9yKGkscyxlLk9CSkVDVF9UWVBFX0ZPUkVJR05PQkpFQ1QsZS5PQkpFQ1RfQ0xBU1NfT1RIRVIpLHRoaXMuZWxlbWVudD10aGlzLmJvYXJkLnNlbGVjdChzLmFuY2hvciksdGhpcy5jb29yZHNDb25zdHJ1Y3RvcihyKSx0aGlzLl91c2VVc2VyU2l6ZT0hMSx0aGlzLnNpemU9WzEsMV0sby5leGlzdHMoYSkmJmEubGVuZ3RoPjAmJih0aGlzLl91c2VVc2VyU2l6ZT0hMCx0aGlzLlc9by5jcmVhdGVGdW5jdGlvbihhWzBdLHRoaXMuYm9hcmQsXCJcIiksdGhpcy5IPW8uY3JlYXRlRnVuY3Rpb24oYVsxXSx0aGlzLmJvYXJkLFwiXCIpLHRoaXMudXNyU2l6ZT1bdGhpcy5XKCksdGhpcy5IKCldKSx0aGlzLmNvbnRlbnQ9bix0aGlzLmVsVHlwZT1cImZvcmVpZ25vYmplY3RcIix0aGlzLmlkPXRoaXMuYm9hcmQuc2V0SWQodGhpcyxcIkltXCIpLHRoaXMuYm9hcmQucmVuZGVyZXIuZHJhd0ZvcmVpZ25PYmplY3QodGhpcyksdGhpcy5ib2FyZC5maW5hbGl6ZUFkZGluZyh0aGlzKSx0aGlzLm1ldGhvZE1hcD10LmRlZXBDb3B5KHRoaXMubWV0aG9kTWFwLHthZGRUcmFuc2Zvcm1hdGlvbjpcImFkZFRyYW5zZm9ybVwiLHRyYW5zOlwiYWRkVHJhbnNmb3JtXCJ9KX0sdC5Gb3JlaWduT2JqZWN0LnByb3RvdHlwZT1uZXcgcixvLmNvcHlQcm90b3R5cGVNZXRob2RzKHQuRm9yZWlnbk9iamVjdCxuLFwiY29vcmRzQ29uc3RydWN0b3JcIiksdC5leHRlbmQodC5Gb3JlaWduT2JqZWN0LnByb3RvdHlwZSx7aGFzUG9pbnQ6ZnVuY3Rpb24odCxyKXt2YXIgbixhLGgsbCxjLGQsdSxwLGYsbT10aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGg7cmV0dXJuIG8uaXNPYmplY3Qoby5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AucHJlY2lzaW9uKSk/KGw9dGhpcy5ib2FyZC5faW5wdXREZXZpY2UsYz1vLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5wcmVjaXNpb25bbF0pKTpjPXRoaXMuYm9hcmQub3B0aW9ucy5wcmVjaXNpb24uaGFzUG9pbnQsMD09PW0/KG49dC10aGlzLmNvb3Jkcy5zY3JDb29yZHNbMV0sYT10aGlzLmNvb3Jkcy5zY3JDb29yZHNbMl0tcixuPj0tKGg9YykmJm4tdGhpcy5zaXplWzBdPD1oJiZhPj0taCYmYS10aGlzLnNpemVbMV08PWgpOih1PVsoZD0oZD1uZXcgaShlLkNPT1JEU19CWV9TQ1JFRU4sW3Qscl0sdGhpcy5ib2FyZCkpLnVzckNvb3JkcylbMF0tdGhpcy5zcGFuWzBdWzBdLGRbMV0tdGhpcy5zcGFuWzBdWzFdLGRbMl0tdGhpcy5zcGFuWzBdWzJdXSwwPD0ocD0oZj1zLmlubmVyUHJvZHVjdCkodSx0aGlzLnNwYW5bMV0pKSYmcDw9Zih0aGlzLnNwYW5bMV0sdGhpcy5zcGFuWzFdKSYmMDw9KHA9Zih1LHRoaXMuc3BhblsyXSkpJiZwPD1mKHRoaXMuc3BhblsyXSx0aGlzLnNwYW5bMl0pKX0sdXBkYXRlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm5lZWRzVXBkYXRlPyh0aGlzLnVwZGF0ZUNvb3Jkcyh0KSx0aGlzLnVwZGF0ZVNpemUoKSx0aGlzKTp0aGlzfSx1cGRhdGVSZW5kZXJlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVwZGF0ZVJlbmRlcmVyR2VuZXJpYyhcInVwZGF0ZUZvcmVpZ25PYmplY3RcIil9LHVwZGF0ZVNpemU6ZnVuY3Rpb24oKXt2YXIgdD1bMCwwXTtyZXR1cm4gdGhpcy5fdXNlVXNlclNpemU/KHRoaXMudXNyU2l6ZT1bdGhpcy5XKCksdGhpcy5IKCldLHRoaXMuc2l6ZT1bTWF0aC5hYnModGhpcy51c3JTaXplWzBdKnRoaXMuYm9hcmQudW5pdFgpLE1hdGguYWJzKHRoaXMudXNyU2l6ZVsxXSp0aGlzLmJvYXJkLnVuaXRZKV0pOnRoaXMucmVuZE5vZGUuaGFzQ2hpbGROb2RlcygpJiYodD10aGlzLnJlbmROb2RlLmNoaWxkTm9kZXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdGhpcy5zaXplPVt0LndpZHRoLHQuaGVpZ2h0XSksdGhpc30sdXBkYXRlU3BhbjpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLnRyYW5zZm9ybWF0aW9ucy5sZW5ndGgscj1bXTtpZigwPT09aSl0aGlzLnNwYW49W1t0aGlzLlooKSx0aGlzLlgoKSx0aGlzLlkoKV0sW3RoaXMuWigpLHRoaXMuVygpLDBdLFt0aGlzLlooKSwwLHRoaXMuSCgpXV07ZWxzZXtmb3IoclswXT1bdGhpcy5aKCksdGhpcy5YKCksdGhpcy5ZKCldLHJbMV09W3RoaXMuWigpLHRoaXMuWCgpK3RoaXMuVygpLHRoaXMuWSgpXSxyWzJdPVt0aGlzLlooKSx0aGlzLlgoKSx0aGlzLlkoKSt0aGlzLkgoKV0sdD0wO3Q8aTt0KyspZm9yKGU9MDtlPDM7ZSsrKXJbZV09cy5tYXRWZWNNdWx0KHRoaXMudHJhbnNmb3JtYXRpb25zW3RdLm1hdHJpeCxyW2VdKTtmb3IoZT0wO2U8MztlKyspcltlXVsxXS89cltlXVswXSxyW2VdWzJdLz1yW2VdWzBdLHJbZV1bMF0vPXJbZV1bMF07Zm9yKGU9MTtlPDM7ZSsrKXJbZV1bMF0tPXJbMF1bMF0scltlXVsxXS09clswXVsxXSxyW2VdWzJdLT1yWzBdWzJdO3RoaXMuc3Bhbj1yfXJldHVybiB0aGlzfSxhZGRUcmFuc2Zvcm06ZnVuY3Rpb24odCl7dmFyIGU7aWYoby5pc0FycmF5KHQpKWZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspdGhpcy50cmFuc2Zvcm1hdGlvbnMucHVzaCh0W2VdKTtlbHNlIHRoaXMudHJhbnNmb3JtYXRpb25zLnB1c2godCk7cmV0dXJuIHRoaXN9LGdldFBhcmVudHM6ZnVuY3Rpb24oKXt2YXIgdD1bdGhpcy51cmwsW3RoaXMuWigpLHRoaXMuWCgpLHRoaXMuWSgpXSx0aGlzLnVzclNpemVdO3JldHVybiAwIT09dGhpcy5wYXJlbnRzLmxlbmd0aCYmKHQ9dGhpcy5wYXJlbnRzKSx0fSxzZXRTaXplOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuVz1vLmNyZWF0ZUZ1bmN0aW9uKHQsdGhpcy5ib2FyZCxcIlwiKSx0aGlzLkg9by5jcmVhdGVGdW5jdGlvbihlLHRoaXMuYm9hcmQsXCJcIiksdGhpcy5fdXNlVXNlclNpemU9ITAsdGhpc30sVzpmdW5jdGlvbigpe30sSDpmdW5jdGlvbigpe319KSx0LmNyZWF0ZUZvcmVpZ25PYmplY3Q9ZnVuY3Rpb24oZSxpLHIpe3ZhciBzLGEsaD1pWzBdLGw9aVsxXSxjPVtdO2lmKGkubGVuZ3RoPj0yJiYoYz1pWzJdKSxzPW8uY29weUF0dHJpYnV0ZXMocixlLm9wdGlvbnMsXCJmb3JlaWdub2JqZWN0XCIpLCEoYT1uLmNyZWF0ZSh0LkZvcmVpZ25PYmplY3QsZSxsLHMsaCxjKSkpdGhyb3cgbmV3IEVycm9yKFwiSlNYR3JhcGg6IENhbid0IGNyZWF0ZSBmb3JlaWduT2JqZWN0IHdpdGggcGFyZW50IHR5cGVzICdcIit0eXBlb2YgaVswXStcIicgYW5kICdcIit0eXBlb2YgaVsxXStcIicuXFxuUG9zc2libGUgcGFyZW50IHR5cGVzOiBbc3RyaW5nLCBbeCwgeV0sIFt3LCBoXV0sIFtzdHJpbmcsIFt4LCB5XV0sIFtlbGVtZW50LHRyYW5zZm9ybWF0aW9uXVwiKTtyZXR1cm4gYX0sdC5yZWdpc3RlckVsZW1lbnQoXCJmb3JlaWdub2JqZWN0XCIsdC5jcmVhdGVGb3JlaWduT2JqZWN0KSx0LnJlZ2lzdGVyRWxlbWVudChcImZvXCIsdC5jcmVhdGVGb3JlaWduT2JqZWN0KSx7Rm9yZWlnbk9iamVjdDp0LkZvcmVpZ25PYmplY3QsY3JlYXRlRm9yZWlnbm9iamVjdDp0LmNyZWF0ZUZvcmVpZ25PYmplY3R9fSkpLGRlZmluZShcIm9wdGlvbnMzZFwiLFtcImp4Z1wiLFwib3B0aW9uc1wiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gdC5leHRlbmQoZSx7aW5mb2JveDp7c3Ryb2tlQ29sb3I6XCJibGFja1wifSxheGVzM2Q6e2F4ZXNQb3NpdGlvbjpcImNlbnRlclwiLHhBeGlzOnt2aXNpYmxlOiEwLHBvaW50Mjp7bmFtZTpcInhcIn19LHlBeGlzOnt2aXNpYmxlOiEwLHBvaW50Mjp7bmFtZTpcInlcIn19LHpBeGlzOnt2aXNpYmxlOiEwLHBvaW50Mjp7bmFtZTpcInpcIn19LHhQbGFuZVJlYXI6e3Zpc2libGU6ITAsbGF5ZXI6MCxtZXNoM2Q6e2xheWVyOjF9fSx5UGxhbmVSZWFyOnt2aXNpYmxlOiEwLGxheWVyOjAsbWVzaDNkOntsYXllcjoxfX0selBsYW5lUmVhcjp7dmlzaWJsZTohMCxsYXllcjowLG1lc2gzZDp7bGF5ZXI6MX19LHhQbGFuZUZyb250Ont2aXNpYmxlOiExLGxheWVyOjAsbWVzaDNkOntsYXllcjoxfX0seVBsYW5lRnJvbnQ6e3Zpc2libGU6ITEsbGF5ZXI6MCxtZXNoM2Q6e2xheWVyOjF9fSx6UGxhbmVGcm9udDp7dmlzaWJsZTohMSxsYXllcjowLG1lc2gzZDp7bGF5ZXI6MX19LHhQbGFuZVJlYXJZQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx4UGxhbmVSZWFyWkF4aXM6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsc3Ryb2tlV2lkdGg6MX0seFBsYW5lRnJvbnRZQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx4UGxhbmVGcm9udFpBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9LHlQbGFuZVJlYXJYQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx5UGxhbmVSZWFyWkF4aXM6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsc3Ryb2tlV2lkdGg6MX0seVBsYW5lRnJvbnRYQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx5UGxhbmVGcm9udFpBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9LHpQbGFuZVJlYXJYQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx6UGxhbmVSZWFyWUF4aXM6e3Zpc2libGU6XCJpbmhlcml0XCIsc3Ryb2tlQ29sb3I6XCIjODg4ODg4XCIsc3Ryb2tlV2lkdGg6MX0selBsYW5lRnJvbnRYQXhpczp7dmlzaWJsZTpcImluaGVyaXRcIixzdHJva2VDb2xvcjpcIiM4ODg4ODhcIixzdHJva2VXaWR0aDoxfSx6UGxhbmVGcm9udFlBeGlzOnt2aXNpYmxlOlwiaW5oZXJpdFwiLHN0cm9rZUNvbG9yOlwiIzg4ODg4OFwiLHN0cm9rZVdpZHRoOjF9fSxheGlzM2Q6e2hpZ2hsaWdodDohMSxzdHJva2Vjb2xvcjpcImJsYWNrXCIsc3Ryb2tlV2lkdGg6MSx0YWJpbmRleDpudWxsLHBvaW50MTp7dmlzaWJsZTohMSxuYW1lOlwiXCJ9LHBvaW50Mjp7dmlzaWJsZTohMSxuYW1lOlwiXCIsbGFiZWw6e3Zpc2libGU6ITB9fX0sbWVzaDNkOntzdHJva2VXaWR0aDoxLHN0cm9rZUNvbG9yOlwiIzlhOWE5YVwiLHN0cm9rZU9wYWNpdHk6LjYsaGlnaGxpZ2h0OiExLGZpbGxDb2xvcjpcIiM5YTlhOWFcIixmaWxsT3BhY2l0eTouMSx0YWJpbmRleDpudWxsLHZpc2libGU6XCJpbmhlcml0XCJ9LGxpbmUzZDp7c3Ryb2tlV2lkdGg6MSxzdHJva2VDb2xvcjpcImJsYWNrXCIsZml4ZWQ6ITAsdGFiaW5kZXg6bnVsbCxncmFkaWVudDpcImxpbmVhclwiLGdyYWRpZW50U2Vjb25kQ29sb3I6XCIjZmZmZmZmXCIscG9pbnQxOnt2aXNpYmxlOiExLG5hbWU6XCJcIn0scG9pbnQyOnt2aXNpYmxlOiExLG5hbWU6XCJcIn19LHBsYW5lM2Q6e3N0cm9rZVdpZHRoOjAsc3Ryb2tlQ29sb3I6XCJibGFja1wiLHN0cm9rZU9wYWNpdHk6MSxoaWdobGlnaHQ6ITEsdGFiaW5kZXg6bnVsbCxncmFkaWVudDpcImxpbmVhclwiLGdyYWRpZW50U2Vjb25kQ29sb3I6XCIjZmZmZmZmXCIsZ3JhZGllbnRBbmdsZTpNYXRoLlBJLGZpbGxDb2xvcjpcIiNhN2E3YTdcIixmaWxsT3BhY2l0eTouNn0scG9pbnQzZDp7c3Ryb2tlV2lkdGg6MCxncmFkaWVudDpcInJhZGlhbFwiLGdyYWRpZW50U2Vjb25kQ29sb3I6XCIjNTU1NTU1XCIsZmlsbENvbG9yOlwieWVsbG93XCIsaGlnaGxpZ2h0U3Ryb2tlQ29sb3I6XCIjNTU1NTU1XCJ9LHN1cmZhY2UzZDp7aGlnaGxpZ2h0OiExLHRhYmluZGV4Oi0xLHN0cm9rZVdpZHRoOjEsc3RlcHNVOjMwLHN0ZXBzVjozMH0sdmlldzNkOntuZWVkc1JlZ3VsYXJVcGRhdGU6ITB9fSksdC5PcHRpb25zfSkpLGRlZmluZShcIjNkL3RocmVlZFwiLFtcImp4Z1wiXSwoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJuIHQuVGhyZWVEPXt9LHQuVGhyZWVEfSkpLGRlZmluZShcIjNkL3ZpZXczZFwiLFtcImp4Z1wiLFwib3B0aW9uc1wiLFwiYmFzZS9jb25zdGFudHNcIixcInV0aWxzL3R5cGVcIixcIm1hdGgvbWF0aFwiLFwiYmFzZS9lbGVtZW50XCIsXCIzZC90aHJlZWRcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvLG4pe1widXNlIHN0cmljdFwiO3JldHVybiBuLlZpZXczRD1mdW5jdGlvbih0LGUscyl7dmFyIG8sbixhO3RoaXMuY29uc3RydWN0b3IodCxzLGkuT0JKRUNUX1RZUEVfVklFVzNELGkuT0JKRUNUX0NMQVNTX0NVUlZFKSxvPWVbMl0sbj1lWzBdLGE9ZVsxXSx0aGlzLkQzPXt9LHRoaXMuRDMub2JqZWN0cz17fSx0aGlzLkQzLm9iamVjdHNMaXN0PVtdLHRoaXMuRDMuZGVmYXVsdEF4ZXM9bnVsbCx0aGlzLkQzLm1hdHJpeD1bWzEsMCwwLDBdLFswLDEsMCwwXSxbMCwwLDEsMF1dLHRoaXMuRDMuYmJveDNkPW8sdGhpcy5EMy5jb29yZHM9bix0aGlzLkQzLnNpemU9YSx0aGlzLkQzLnI9LTEsdGhpcy50aW1lb3V0QXppbXV0aD1udWxsLHRoaXMuaWQ9dGhpcy5ib2FyZC5zZXRJZCh0aGlzLFwiVlwiKSx0aGlzLmJvYXJkLmZpbmFsaXplQWRkaW5nKHRoaXMpLHRoaXMuZWxUeXBlPVwidmlldzNkXCIsdGhpcy5tZXRob2RNYXA9ci5kZWVwQ29weSh0aGlzLm1ldGhvZE1hcCx7fSl9LG4uVmlldzNELnByb3RvdHlwZT1uZXcgbyx0LmV4dGVuZChuLlZpZXczRC5wcm90b3R5cGUse2NyZWF0ZTpmdW5jdGlvbih0LGUsaSl7dmFyIHIscz1bXTtyZXR1cm4gdC5pbmRleE9mKFwiM2RcIik+MCYmKCEwLHMucHVzaCh0aGlzKSkscj10aGlzLmJvYXJkLmNyZWF0ZSh0LHMuY29uY2F0KGUpLGkpLHRoaXMuYWRkKHIpLHJ9LGFkZDpmdW5jdGlvbih0KXt0aGlzLkQzLm9iamVjdHNbdC5pZF09dCx0aGlzLkQzLm9iamVjdHNMaXN0LnB1c2godCl9LHVwZGF0ZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxvLG4sYT10aGlzLkQzO3JldHVybiByLmV4aXN0cyhhLmVsX3NsaWRlKSYmci5leGlzdHMoYS5hel9zbGlkZSkmJnRoaXMubmVlZHNVcGRhdGU/KHQ9YS5lbF9zbGlkZS5WYWx1ZSgpLGU9YS5yLGk9YS5hel9zbGlkZS5WYWx1ZSgpLG89ZSpNYXRoLnNpbih0KSxuPVtbMSwwLDBdLFswLDEsMF0sWzAsMCwxXV0sYS5tYXRyaXg9W1sxLDAsMCwwXSxbMCwxLDAsMF0sWzAsMCwxLDBdXSxhLm1hdHJpeFsxXVsxXT1lKk1hdGguY29zKGkpLGEubWF0cml4WzFdWzJdPS1lKk1hdGguc2luKGkpLGEubWF0cml4WzJdWzFdPW8qTWF0aC5zaW4oaSksYS5tYXRyaXhbMl1bMl09bypNYXRoLmNvcyhpKSxhLm1hdHJpeFsyXVszXT1NYXRoLmNvcyh0KSxuWzFdWzFdPWEuc2l6ZVswXS8oYS5iYm94M2RbMF1bMV0tYS5iYm94M2RbMF1bMF0pLG5bMl1bMl09YS5zaXplWzFdLyhhLmJib3gzZFsxXVsxXS1hLmJib3gzZFsxXVswXSksblsxXVswXT1hLmNvb3Jkc1swXS1uWzFdWzFdKmEuYmJveDNkWzBdWzBdLG5bMl1bMF09YS5jb29yZHNbMV0tblsyXVsyXSphLmJib3gzZFsxXVswXSxhLm1hdHJpeD1zLm1hdE1hdE11bHQobixhLm1hdHJpeCksdGhpcyk6dGhpc30sdXBkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT0hMSx0aGlzfSxwcm9qZWN0M0RUbzJEOmZ1bmN0aW9uKHQsZSxpKXt2YXIgcjtyZXR1cm4gcj0zPT09YXJndW1lbnRzLmxlbmd0aD9bMSx0LGUsaV06Mz09PXQubGVuZ3RoP1sxXS5jb25jYXQodCk6dCxzLm1hdFZlY011bHQodGhpcy5EMy5tYXRyaXgscil9LHByb2plY3QyRFRvM0RQbGFuZTpmdW5jdGlvbih0LGUsaSl7dmFyIHIsbyxuLGEsaD1lLnNsaWNlKDEpLGw9WzEsMCwwLDBdO2k9aXx8WzEsMCwwLDBdLGE9cy5ub3JtKGgsMyksbj1zLmlubmVyUHJvZHVjdChpLnNsaWNlKDEpLGgsMykvYSwocj10aGlzLkQzLm1hdHJpeC5zbGljZSgwLDMpKS5wdXNoKFswXS5jb25jYXQoaCkpLG89dC5jb29yZHMudXNyQ29vcmRzLmNvbmNhdChbbl0pO3RyeXsxPT09clsyXVszXSYmKHJbMl1bMV09clsyXVsyXT0uMDAxKnMuZXBzKSxsPXMuTnVtZXJpY3MuR2F1c3MocixvKX1jYXRjaCh0KXtsPVswLE5hTixOYU4sTmFOXX1yZXR1cm4gbH0scHJvamVjdDNEVG9DdWJlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuRDMuYmJveDNkO3JldHVybiB0WzFdPGVbMF1bMF0mJih0WzFdPWVbMF1bMF0pLHRbMV0+ZVswXVsxXSYmKHRbMV09ZVswXVsxXSksdFsyXTxlWzFdWzBdJiYodFsyXT1lWzFdWzBdKSx0WzJdPmVbMV1bMV0mJih0WzJdPWVbMV1bMV0pLHRbM108ZVsyXVswXSYmKHRbM109ZVsyXVswXSksdFszXT5lWzJdWzFdJiYodFszXT1lWzJdWzFdKSx0fSxpbnRlcnNlY3Rpb25MaW5lQ3ViZTpmdW5jdGlvbih0LGUsaSl7dmFyIHIscyxvLG47Zm9yKHI9aSxzPTA7czwzO3MrKykwIT09ZVtzXSYmKG89KHRoaXMuRDMuYmJveDNkW3NdWzBdLXRbc10pL2Vbc10sbj0odGhpcy5EMy5iYm94M2Rbc11bMV0tdFtzXSkvZVtzXSxyPWk8MD9NYXRoLm1heChyLE1hdGgubWluKG8sbikpOk1hdGgubWluKHIsTWF0aC5tYXgobyxuKSkpO3JldHVybiByfSxpc0luQ3ViZTpmdW5jdGlvbih0KXtyZXR1cm4gdFswXT50aGlzLkQzLmJib3gzZFswXVswXS1zLmVwcyYmdFswXTx0aGlzLkQzLmJib3gzZFswXVsxXStzLmVwcyYmdFsxXT50aGlzLkQzLmJib3gzZFsxXVswXS1zLmVwcyYmdFsxXTx0aGlzLkQzLmJib3gzZFsxXVsxXStzLmVwcyYmdFsyXT50aGlzLkQzLmJib3gzZFsyXVswXS1zLmVwcyYmdFsyXTx0aGlzLkQzLmJib3gzZFsyXVsxXStzLmVwc30saW50ZXJzZWN0aW9uUGxhbmVQbGFuZTpmdW5jdGlvbih0LGUsaSl7dmFyIHIsbyxuLGEsaD1bW10sW11dO3JldHVybiBpPWl8fGUuRDMuZCxyPXMuR2VvbWV0cnkubWVldDNQbGFuZXModC5EMy5ub3JtYWwsdC5EMy5kLGUuRDMubm9ybWFsLGkscy5jcm9zc1Byb2R1Y3QodC5EMy5ub3JtYWwsZS5EMy5ub3JtYWwpLDApLG89cy5HZW9tZXRyeS5tZWV0UGxhbmVQbGFuZSh0LkQzLmRpcjEsdC5EMy5kaXIyLGUuRDMuZGlyMSxlLkQzLmRpcjIpLG49dGhpcy5pbnRlcnNlY3Rpb25MaW5lQ3ViZShyLG8sMS8wKSxhPXMuYXhweShuLG8sciksdGhpcy5pc0luQ3ViZShhKSYmKGhbMF09YSksbj10aGlzLmludGVyc2VjdGlvbkxpbmVDdWJlKHIsbywtMS8wKSxhPXMuYXhweShuLG8sciksdGhpcy5pc0luQ3ViZShhKSYmKGhbMV09YSksaH0sZ2V0TWVzaDpmdW5jdGlvbih0LGUsaSxzLG8pe3ZhciBuLGEsaCxsLGMsZCx1LHA9WzAsMCwwXSxmPXNbMl0sbT1vWzJdLGc9W10sYj1bXTtmb3IoZD0oci5ldmFsdWF0ZShzWzFdKS1yLmV2YWx1YXRlKHNbMF0pKS9mLHU9KHIuZXZhbHVhdGUob1sxXSktci5ldmFsdWF0ZShvWzBdKSkvbSxuPTA7bjw9ZjtuKyspe2ZvcihoPXNbMF0rZCpuLGE9MDthPD1tO2ErKylsPW9bMF0rdSphLHBbMF09dChoLGwpLHBbMV09ZShoLGwpLHBbMl09aShoLGwpLGM9dGhpcy5wcm9qZWN0M0RUbzJEKHApLGcucHVzaChjWzFdKSxiLnB1c2goY1syXSk7Zy5wdXNoKE5hTiksYi5wdXNoKE5hTil9Zm9yKGE9MDthPD1tO2ErKyl7Zm9yKGw9b1swXSt1KmEsbj0wO248PWY7bisrKWg9c1swXStkKm4scFswXT10KGgsbCkscFsxXT1lKGgsbCkscFsyXT1pKGgsbCksYz10aGlzLnByb2plY3QzRFRvMkQocCksZy5wdXNoKGNbMV0pLGIucHVzaChjWzJdKTtnLnB1c2goTmFOKSxiLnB1c2goTmFOKX1yZXR1cm5bZyxiXX0sYW5pbWF0ZUF6aW11dGg6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkQzLmF6X3NsaWRlLl9zbWluLGU9dGhpcy5EMy5hel9zbGlkZS5fc21heC10LGk9dGhpcy5EMy5hel9zbGlkZS5WYWx1ZSgpKy4xO3RoaXMuRDMuYXpfc2xpZGUucG9zaXRpb249KGktdCkvZSx0aGlzLkQzLmF6X3NsaWRlLnBvc2l0aW9uPjEmJih0aGlzLkQzLmF6X3NsaWRlLnBvc2l0aW9uPTApLHRoaXMuYm9hcmQudXBkYXRlKCksdGhpcy50aW1lb3V0QXppbXV0aD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5hbmltYXRlQXppbXV0aCgpfS5iaW5kKHRoaXMpLDIwMCl9LHN0b3BBemltdXRoOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dEF6aW11dGgpLHRoaXMudGltZW91dEF6aW11dGg9bnVsbH19KSxuLmNyZWF0ZVZpZXczRD1mdW5jdGlvbih0LGUsaSl7dmFyIHMsbyxhLGgsbCxjLGQ9ZVswXSx1PWVbMV07cmV0dXJuIG89ci5jb3B5QXR0cmlidXRlcyhpLHQub3B0aW9ucyxcInZpZXczZFwiKSwocz1uZXcgbi5WaWV3M0QodCxlLG8pKS5kZWZhdWx0QXhlcz1zLmNyZWF0ZShcImF4ZXMzZFwiLGUsaSksYT1kWzBdLGg9ZFsxXSxsPXVbMF0sYz11WzFdLHMuRDMuYXpfc2xpZGU9dC5jcmVhdGUoXCJzbGlkZXJcIixbW2EtMSxoLTJdLFthK2wrMSxoLTJdLFswLDEsMipNYXRoLlBJXV0se3N0eWxlOjYsbmFtZTpcImF6XCIscG9pbnQxOntmcm96ZW46ITB9LHBvaW50Mjp7ZnJvemVuOiEwfX0pLHMuRDMuZWxfc2xpZGU9dC5jcmVhdGUoXCJzbGlkZXJcIixbW2EtMSxoXSxbYS0xLGgrY10sWzAsLjMsTWF0aC5QSS8yXV0se3N0eWxlOjYsbmFtZTpcImVsXCIscG9pbnQxOntmcm96ZW46ITB9LHBvaW50Mjp7ZnJvemVuOiEwfX0pLHMuYm9hcmQuaGlnaGxpZ2h0SW5mb2JveD1mdW5jdGlvbih0LGUsaSl7dmFyIG87ci5leGlzdHMoaS5EMyk/XCJhdXRvXCI9PT0obz1yLmV2YWx1YXRlKGkudmlzUHJvcC5pbmZvYm94ZGlnaXRzKSk/cy5ib2FyZC5oaWdobGlnaHRDdXN0b21JbmZvYm94KFwiKFwiK3IuYXV0b0RpZ2l0cyhpLkQzLlgoKSkrXCIgfCBcIityLmF1dG9EaWdpdHMoaS5EMy5ZKCkpK1wiIHwgXCIrci5hdXRvRGlnaXRzKGkuRDMuWigpKStcIilcIixpKTpzLmJvYXJkLmhpZ2hsaWdodEN1c3RvbUluZm9ib3goXCIoXCIrci50b0ZpeGVkKGkuRDMuWCgpLG8pK1wiIHwgXCIrci50b0ZpeGVkKGkuRDMuWSgpLG8pK1wiIHwgXCIrci50b0ZpeGVkKGkuRDMuWigpLG8pK1wiKVwiLGkpOnMuYm9hcmQuaGlnaGxpZ2h0Q3VzdG9tSW5mb2JveChcIihcIit0K1wiLCBcIitlK1wiKVwiLGkpfSxzfSx0LnJlZ2lzdGVyRWxlbWVudChcInZpZXczZFwiLG4uY3JlYXRlVmlldzNEKSxuLlZpZXczRH0pKSxkZWZpbmUoXCIzZC9ib3gzZFwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCIzZC92aWV3M2RcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyl7XCJ1c2Ugc3RyaWN0XCI7cy5jcmVhdGVBeGVzPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG4sYSxoLGwsYyxkLHUscCxmLG0sZyxiLHYseSxDLF89aVswXSxQPVtcInhcIixcInlcIixcInpcIl0sRT1cIkF4aXNcIix4PVtcIlJlYXJcIixcIkZyb250XCJdLFM9WzAsMCwwXSxPPVswLDAsMF0sdz17fTtpZihlLmV4aXN0cyhfLkQzKSlmb3Iocz0wO3M8UC5sZW5ndGg7cysrKVNbc109Xy5EMy5iYm94M2Rbc11bMF0sT1tzXT1fLkQzLmJib3gzZFtzXVsxXTtlbHNlIGZvcihzPTA7czxQLmxlbmd0aDtzKyspU1tzXT1pWzFdW3NdLE9bc109aVsyXVsxXTtmb3IoYz0obD1lLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwiYXhlczNkXCIpKS5heGVzcG9zaXRpb24scz0wO3M8UC5sZW5ndGg7cysrKXY9KGQ9UFtzXSkrRSxcImNlbnRlclwiPT09Yz8odT1bMCwwLDBdLChwPVswLDAsMF0pW3NdPU9bc10sd1t2XT1fLmNyZWF0ZShcImF4aXMzZFwiLFt1LHBdLGxbdi50b0xvd2VyQ2FzZSgpXSkpOih2Kz1cIkJvcmRlclwiLHU9Uy5zbGljZSgpLHA9Ty5zbGljZSgpLDI9PT1zPyh1WzFdPU9bMV0scFswXT1TWzBdKToodVtzXT1PW3NdLHBbMl09U1syXSkscFtzXT1PW3NdLGxbdi50b0xvd2VyQ2FzZSgpXS5sYXN0QXJyb3c9ITEsd1t2XT1fLmNyZWF0ZShcImF4aXMzZFwiLFt1LHBdLGxbdi50b0xvd2VyQ2FzZSgpXSksQz17dmlzaWJsZTohMCxtaW5vclRpY2tzOjAsdGlja0VuZGluZ3M6WzAsMV0sZHJhd0xhYmVsczohMX0sMj09PXMmJihDLnRpY2tFbmRpbmdzPVsxLDBdKSx3W3YrXCJUaWNrc1wiXT1fLmNyZWF0ZShcInRpY2tzXCIsW3dbdl0sMV0sQykpO2Zvcih3Lk89dC5jcmVhdGUoXCJpbnRlcnNlY3Rpb25cIixbd1tQWzBdK0VdLHdbUFsxXStFXV0se25hbWU6XCJcIix2aXNpYmxlOiExLHdpdGhMYWJlbDohMX0pLHM9MDtzPFAubGVuZ3RoO3MrKylmb3IoYT0ocysxKSUzLGg9KHMrMiklMyxkPVBbc10sbz0wO288eC5sZW5ndGg7bysrKSh1PVswLDAsMF0pW3NdPTA9PT1vP1Nbc106T1tzXSxtPVswLDAsMF0sKGY9WzAsMCwwXSlbYV09MSxtW2hdPTEsZz1bU1thXSxPW2FdXSxiPVtTW2hdLE9baF1dLHY9ZCtcIlBsYW5lXCIreFtvXSxsPWUuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJheGVzM2RcIix2KSx3W3ZdPV8uY3JlYXRlKFwicGxhbmUzZFwiLFt1LGYsbSxnLGJdLGwpLHdbdl0uRDMuZWxUeXBlPVwiYXhpc3BsYW5lM2RcIjtmb3Iocz0wO3M8UC5sZW5ndGg7cysrKWZvcihkPVBbc10sbz0wO288eC5sZW5ndGg7bysrKWZvcihuPTE7bjw9MjtuKyspdj1kK1wiUGxhbmVcIit4W29dK1BbYT0ocytuKSUzXS50b1VwcGVyQ2FzZSgpK1wiQXhpc1wiLHk9ZCtcIlBsYW5lXCIreFtvXSwodT1bMCwwLDBdKVtzXT0ocD1bMCwwLDBdKVtzXT0wPT09bz9TW3NdOk9bc10sdVthXT1TW2FdLHBbYV09T1thXSxsPWUuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJheGVzM2RcIix2KSx3W3ZdPV8uY3JlYXRlKFwiYXhpczNkXCIsW3UscF0sbCksd1t5XS5hZGRDaGlsZCh3W3ZdKSx3W3ldLmluaGVyaXRzLnB1c2god1t2XSk7cmV0dXJuIHd9LHQucmVnaXN0ZXJFbGVtZW50KFwiYXhlczNkXCIscy5jcmVhdGVBeGVzKSxzLmNyZWF0ZUF4aXM9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbixhLGgsbCxjPWlbMF0sZD1pWzFdLHU9aVsyXTtyZXR1cm4gcz1lLmNvcHlBdHRyaWJ1dGVzKHIucG9pbnQxLHQub3B0aW9ucyxcImF4aXMzZFwiLFwicG9pbnQxXCIpLG89dC5jcmVhdGUoXCJwb2ludFwiLFsoYT1kWzBdLGg9ZFsxXSxsPWRbMl0sZnVuY3Rpb24oKXtyZXR1cm4gYy5wcm9qZWN0M0RUbzJEKGEsaCxsKVsxXX0pLGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYy5wcm9qZWN0M0RUbzJEKHQsZSxpKVsyXX19KGRbMF0sZFsxXSxkWzJdKV0scykscz1lLmNvcHlBdHRyaWJ1dGVzKHIucG9pbnQyLHQub3B0aW9ucyxcImF4aXMzZFwiLFwicG9pbnQyXCIpLG49dC5jcmVhdGUoXCJwb2ludFwiLFtmdW5jdGlvbih0LGUsaSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGMucHJvamVjdDNEVG8yRCh0LGUsaSlbMV19fSh1WzBdLHVbMV0sdVsyXSksZnVuY3Rpb24odCxlLGkpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBjLnByb2plY3QzRFRvMkQodCxlLGkpWzJdfX0odVswXSx1WzFdLHVbMl0pXSxzKSxzPWUuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJheGlzM2RcIiksdC5jcmVhdGUoXCJhcnJvd1wiLFtvLG5dLHMpfSx0LnJlZ2lzdGVyRWxlbWVudChcImF4aXMzZFwiLHMuY3JlYXRlQXhpcykscy5jcmVhdGVNZXNoPWZ1bmN0aW9uKGkscixzKXt2YXIgbyxuPXJbMF0sYT1yWzFdLGg9clsyXSxsPXJbM10sYz1yWzRdLGQ9cls1XTtyZXR1cm4obz1pLmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxzKSkudXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIGkscixzLG8sdT1sWzBdLHA9bFsxXSxmPWRbMF0sbT1kWzFdLGc9WzAsMCwwXSxiPVswLDAsMF0sdj1bMCwwLDBdO2Zvcih0aGlzLmRhdGFYPVtdLHRoaXMuZGF0YVk9W10sbz0wO288MztvKyspdltvXT1lLmV2YWx1YXRlKGFbb10pLGdbb109ZS5ldmFsdWF0ZShoW29dKSxiW29dPWUuZXZhbHVhdGUoY1tvXSk7Zm9yKGk9dC5NYXRoLm5vcm0oZywzKSxyPXQuTWF0aC5ub3JtKGIsMyksbz0wO288MztvKyspZ1tvXS89aSxiW29dLz1yO3M9bi5nZXRNZXNoKChmdW5jdGlvbih0LGUpe3JldHVybiB2WzBdK3QqZ1swXStlKmJbMF19KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdlsxXSt0KmdbMV0rZSpiWzFdfSksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZbMl0rdCpnWzJdK2UqYlsyXX0pLFtNYXRoLmNlaWwodSksTWF0aC5mbG9vcihwKSwoTWF0aC5jZWlsKHApLU1hdGguZmxvb3IodSkpLzFdLFtNYXRoLmNlaWwoZiksTWF0aC5mbG9vcihtKSwoTWF0aC5jZWlsKG0pLU1hdGguZmxvb3IoZikpLzFdKSx0aGlzLmRhdGFYPXNbMF0sdGhpcy5kYXRhWT1zWzFdfSxvfSx0LnJlZ2lzdGVyRWxlbWVudChcIm1lc2gzZFwiLHMuY3JlYXRlTWVzaCl9KSksZGVmaW5lKFwiM2QvY3VydmUzZFwiLFtcImp4Z1wiLFwidXRpbHMvdHlwZVwiLFwiM2QvdmlldzNkXCJdLChmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aS5jcmVhdGVDdXJ2ZT1mdW5jdGlvbih0LGkscil7dmFyIHMsbyxuPWlbMF07cmV0dXJuKHM9e2VsVHlwZTpcImN1cnZlM0RcIixYOmlbMV0sWTppWzJdLFo6aVszXX0pLkY9W3MuWCxzLlkscy5aXSwobz10LmNyZWF0ZShcImN1cnZlXCIsW1tdLFtdXSxyKSkuRDM9cyxlLmlzRnVuY3Rpb24oby5EMy5YKT8oby5EMy5yYW5nZT1pWzRdLG8udXBkYXRlRGF0YUFycmF5PWZ1bmN0aW9uKCl7dmFyIHQsaSxyLHM9ZS5ldmFsdWF0ZSh0aGlzLnZpc1Byb3AubnVtYmVycG9pbnRzaGlnaCksbz1lLmV2YWx1YXRlKHRoaXMuRDMucmFuZ2VbMF0pLGE9ZS5ldmFsdWF0ZSh0aGlzLkQzLnJhbmdlWzFdKSxoPShhLW8pLyhzLTEpLGw9WzAsMCwwXTtmb3IodGhpcy5kYXRhWD1bXSx0aGlzLmRhdGFZPVtdLGk9bztpPD1hO2krPWgpe2ZvcihyPTA7cjwzO3IrKylsW3JdPXRoaXMuRDMuRltyXShpKTt0PW4ucHJvamVjdDNEVG8yRChsKSx0aGlzLmRhdGFYLnB1c2godFsxXSksdGhpcy5kYXRhWS5wdXNoKHRbMl0pfX0pOmUuaXNBcnJheShvLkQzLlgpJiYoby51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxlLGk9dGhpcy5EMy5YLmxlbmd0aDtmb3IodGhpcy5kYXRhWD1bXSx0aGlzLmRhdGFZPVtdLHQ9MDt0PGk7dCsrKWU9bi5wcm9qZWN0M0RUbzJEKFt0aGlzLkQzLlhbdF0sdGhpcy5EMy5ZW3RdLHRoaXMuRDMuWlt0XV0pLHRoaXMuZGF0YVgucHVzaChlWzFdKSx0aGlzLmRhdGFZLnB1c2goZVsyXSl9KSxvfSx0LnJlZ2lzdGVyRWxlbWVudChcImN1cnZlM2RcIixpLmNyZWF0ZUN1cnZlKX0pKSxkZWZpbmUoXCIzZC9saW5zcGFjZTNkXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCIsXCJtYXRoL21hdGhcIixcIm1hdGgvZ2VvbWV0cnlcIixcIjNkL3ZpZXczZFwiXSwoZnVuY3Rpb24odCxlLGkscixzKXtcInVzZSBzdHJpY3RcIjtzLmNyZWF0ZUxpbmU9ZnVuY3Rpb24odCxpLHIpe3ZhciBzLG8sbixhLGgsbCxjPWlbMF07cmV0dXJuIG89e2VsVHlwZTpcImxpbmUzZFwiLHJhbmdlOmlbM118fFstMS8wLDEvMF19LG49ZS5pc1BvaW50KGlbMV0pP2lbMV06Yy5jcmVhdGUoXCJwb2ludDNkXCIsaVsxXSx7dmlzaWJsZTohMSxuYW1lOlwiXCIsd2l0aExhYmVsOiExfSksby5wb2ludD1uLGUuaXNQb2ludChpWzJdKSYmZS5leGlzdHMoaVsyXS5EMyk/KGE9bixoPWlbMl0sby5kaXJlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm5baC5EMy5YKCktbi5EMy5YKCksaC5EMy5ZKCktbi5EMy5ZKCksaC5EMy5aKCktbi5EMy5aKCldfSxvLnJhbmdlPVswLDFdKTooZS5pc0Z1bmN0aW9uKGlbMl0pP28uZGlyZWN0aW9uPWlbMl06Mz09PWlbMl0ubGVuZ3RoP28uZGlyZWN0aW9uPVsxXS5jb25jYXQoaVsyXSk6ND09PWlbMl0ubGVuZ3RoJiYoby5kaXJlY3Rpb249aVsyXSksby5nZXRQb2ludENvb3Jkcz1mdW5jdGlvbih0KXt2YXIgaSxyPVtdLHM9W107aWYoci5wdXNoKG4uRDMuWCgpKSxyLnB1c2gobi5EMy5ZKCkpLHIucHVzaChuLkQzLlooKSksZS5pc0Z1bmN0aW9uKG8uZGlyZWN0aW9uKSlzPW8uZGlyZWN0aW9uKCk7ZWxzZSBmb3IoaT0xO2k8NDtpKyspcy5wdXNoKGUuZXZhbHVhdGUoby5kaXJlY3Rpb25baV0pKTtyZXR1cm4gTWF0aC5hYnModCk9PT0xLzAmJih0PWMuaW50ZXJzZWN0aW9uTGluZUN1YmUocixzLHQpKSxbclswXStzWzBdKnQsclsxXStzWzFdKnQsclsyXStzWzJdKnRdfSxzPWUuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJsaW5lM2RcIixcInBvaW50MVwiKSxhPWMuY3JlYXRlKFwicG9pbnQzZFwiLFtmdW5jdGlvbigpe3JldHVybiBvLmdldFBvaW50Q29vcmRzKGUuZXZhbHVhdGUoby5yYW5nZVswXSkpfV0scykscz1lLmNvcHlBdHRyaWJ1dGVzKHIsdC5vcHRpb25zLFwibGluZTNkXCIsXCJwb2ludDJcIiksaD1jLmNyZWF0ZShcInBvaW50M2RcIixbZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRQb2ludENvb3JkcyhlLmV2YWx1YXRlKG8ucmFuZ2VbMV0pKX1dLHMpKSxzPWUuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJsaW5lM2RcIiksKGw9Yy5jcmVhdGUoXCJzZWdtZW50XCIsW2EsaF0scykpLnBvaW50MT1hLGwucG9pbnQyPWgsYS5hZGRDaGlsZChsKSxoLmFkZENoaWxkKGwpLGwuRDM9byxsfSx0LnJlZ2lzdGVyRWxlbWVudChcImxpbmUzZFwiLHMuY3JlYXRlTGluZSkscy5jcmVhdGVQbGFuZT1mdW5jdGlvbih0LHMsbyl7dmFyIG4sYSxoLGwsYyxkPXNbMF0sdT1zWzJdLHA9c1szXTtyZXR1cm4gYT17ZWxUeXBlOlwicGxhbmUzZFwiLGRpcjE6W10sZGlyMjpbXSxyYW5nZTE6c1s0XSxyYW5nZTI6c1s1XSx2ZWMxOnUsdmVjMjpwfSxoPWUuaXNQb2ludChzWzFdKT9zWzFdOmQuY3JlYXRlKFwicG9pbnQzZFwiLHNbMV0se3Zpc2libGU6ITEsbmFtZTpcIlwiLHdpdGhMYWJlbDohMX0pLGEucG9pbnQ9aCxhLnVwZGF0ZU5vcm1hbD1mdW5jdGlvbigpe3ZhciB0O2Zvcih0PTA7dDwzO3QrKylhLmRpcjFbdF09ZS5ldmFsdWF0ZShhLnZlYzFbdF0pLGEuZGlyMlt0XT1lLmV2YWx1YXRlKGEudmVjMlt0XSk7YS5ub3JtYWw9aS5jcm9zc1Byb2R1Y3QoYS5kaXIxLGEuZGlyMiksYS5kPWkuaW5uZXJQcm9kdWN0KGEucG9pbnQuRDMuY29vcmRzLnNsaWNlKDEpLGEubm9ybWFsLDMpfSxhLnVwZGF0ZU5vcm1hbCgpLG49ZS5jb3B5QXR0cmlidXRlcyhvLHQub3B0aW9ucyxcInBsYW5lM2RcIiksKGw9dC5jcmVhdGUoXCJjdXJ2ZVwiLFtbXSxbXV0sbikpLkQzPWEsbC51cGRhdGVEYXRhQXJyYXk9ZnVuY3Rpb24oKXt2YXIgdCxzLG8sbixoLGwsYyx1LHAsZixtLGcsYix2LHk9W1wieFBsYW5lUmVhclwiLFwieVBsYW5lUmVhclwiLFwielBsYW5lUmVhclwiXSxDPVtdLF89WzAsMCwwXSxQPVswLDAsMF0sRT1bMCwwLDBdLHg9WzAsMCwwXTtpZih0aGlzLmRhdGFYPVtdLHRoaXMuZGF0YVk9W10sdGhpcy5EMy51cGRhdGVOb3JtYWwoKSxcImF4aXNwbGFuZTNkXCI9PT10aGlzLkQzLmVsVHlwZXx8IWQuZGVmYXVsdEF4ZXN8fGEucmFuZ2UxJiZhLnJhbmdlMil7Zm9yKHQ9ZS5ldmFsdWF0ZSh0aGlzLkQzLnJhbmdlMVswXSkscz1lLmV2YWx1YXRlKHRoaXMuRDMucmFuZ2UxWzFdKSxvPWUuZXZhbHVhdGUodGhpcy5EMy5yYW5nZTJbMF0pLG49ZS5ldmFsdWF0ZSh0aGlzLkQzLnJhbmdlMlsxXSksRT10aGlzLkQzLnBvaW50LkQzLmNvb3Jkcy5zbGljZSgxKSxfPXRoaXMuRDMuZGlyMS5zbGljZSgpLFA9dGhpcy5EMy5kaXIyLnNsaWNlKCksbD1pLm5vcm0oXywzKSxjPWkubm9ybShQLDMpLHA9MDtwPDM7cCsrKV9bcF0vPWwsUFtwXS89Yztmb3IoZj0wO2Y8NDtmKyspe3N3aXRjaChmKXtjYXNlIDA6bT10LGc9bzticmVhaztjYXNlIDE6bT1zLGc9bzticmVhaztjYXNlIDI6bT1zLGc9bjticmVhaztjYXNlIDM6bT10LGc9bn1mb3IocD0wO3A8MztwKyspeFtwXT1FW3BdK20qX1twXStnKlBbcF07aD1kLnByb2plY3QzRFRvMkQoeCksdGhpcy5kYXRhWC5wdXNoKGhbMV0pLHRoaXMuZGF0YVkucHVzaChoWzJdKX10aGlzLmRhdGFYLnB1c2godGhpcy5kYXRhWFswXSksdGhpcy5kYXRhWS5wdXNoKHRoaXMuZGF0YVlbMF0pfWVsc2V7Zm9yKGY9MDtmPHkubGVuZ3RoO2YrKyl7aWYoMz09PSh4PWQuaW50ZXJzZWN0aW9uUGxhbmVQbGFuZSh0aGlzLGQuZGVmYXVsdEF4ZXNbeVtmXV0pKVswXS5sZW5ndGgmJjM9PT14WzFdLmxlbmd0aCl7Zm9yKHA9MDtwPEMubGVuZ3RoJiYhKHIuZGlzdGFuY2UoeFswXSxDW3BdWzBdLDMpPGkuZXBzJiZyLmRpc3RhbmNlKHhbMV0sQ1twXVsxXSwzKTxpLmVwc3x8ci5kaXN0YW5jZSh4WzBdLENbcF1bMV0sMyk8aS5lcHMmJnIuZGlzdGFuY2UoeFsxXSxDW3BdWzBdLDMpPGkuZXBzKTtwKyspO3A9PT1DLmxlbmd0aCYmQy5wdXNoKHguc2xpY2UoKSl9aWYoKHg9WzAsMCwwXSlbZl09ZC5EMy5iYm94M2RbZl1bMV0sdT1pLmlubmVyUHJvZHVjdCh4LGQuZGVmYXVsdEF4ZXNbeVtmXV0uRDMubm9ybWFsLDMpLDM9PT0oeD1kLmludGVyc2VjdGlvblBsYW5lUGxhbmUodGhpcyxkLmRlZmF1bHRBeGVzW3lbZl1dLHUpKVswXS5sZW5ndGgmJjM9PT14WzFdLmxlbmd0aCl7Zm9yKHA9MDtwPEMubGVuZ3RoJiYhKHIuZGlzdGFuY2UoeFswXSxDW3BdWzBdLDMpPGkuZXBzJiZyLmRpc3RhbmNlKHhbMV0sQ1twXVsxXSwzKTxpLmVwc3x8ci5kaXN0YW5jZSh4WzBdLENbcF1bMV0sMyk8aS5lcHMmJnIuZGlzdGFuY2UoeFsxXSxDW3BdWzBdLDMpPGkuZXBzKTtwKyspO3A9PT1DLmxlbmd0aCYmQy5wdXNoKHguc2xpY2UoKSl9fTAsYj0wLHA9MDtkb3tmb3IoMz09PSh4PUNbYl1bcF0pLmxlbmd0aCYmKGg9ZC5wcm9qZWN0M0RUbzJEKHgpLHRoaXMuZGF0YVgucHVzaChoWzFdKSx0aGlzLmRhdGFZLnB1c2goaFsyXSkpLHA9KHArMSklMix4PUNbYl1bcF0sdj1iLGY9MDtmPEMubGVuZ3RoO2YrKyl7aWYoZiE9PWImJnIuZGlzdGFuY2UoeCxDW2ZdWzBdKTxpLmVwcyl7Yj1mLHA9MDticmVha31pZihmIT09YiYmci5kaXN0YW5jZSh4LENbZl1bMV0pPGkuZXBzKXtiPWYscD0xO2JyZWFrfX1pZihiPT09dil7Y29uc29sZS5sb2coXCJFcnJvcjogdXBkYXRlIHBsYW5lM2Q6IGRpZCBub3QgZmluZCBuZXh0XCIsYik7YnJlYWt9fXdoaWxlKDAhPT1iKTtoPWQucHJvamVjdDNEVG8yRChDWzBdWzBdKSx0aGlzLmRhdGFYLnB1c2goaFsxXSksdGhpcy5kYXRhWS5wdXNoKGhbMl0pfX0sbj1lLmNvcHlBdHRyaWJ1dGVzKG8ubWVzaDNkLHQub3B0aW9ucyxcIm1lc2gzZFwiKSxhLnJhbmdlMSYmYS5yYW5nZTImJihjPWQuY3JlYXRlKFwibWVzaDNkXCIsW2guRDMuY29vcmRzLnNsaWNlKDEpLHUsYS5yYW5nZTEscCxhLnJhbmdlMl0sbiksbC5ncmlkPWMsbC5pbmhlcml0cy5wdXNoKGMpKSxsfSx0LnJlZ2lzdGVyRWxlbWVudChcInBsYW5lM2RcIixzLmNyZWF0ZVBsYW5lKX0pKSxkZWZpbmUoXCIzZC9wb2ludDNkXCIsW1wianhnXCIsXCJiYXNlL2NvbnN0YW50c1wiLFwibWF0aC9tYXRoXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJ1dGlscy90eXBlXCIsXCIzZC92aWV3M2RcIl0sKGZ1bmN0aW9uKHQsZSxpLHIscyxvKXtcInVzZSBzdHJpY3RcIjtvLmNyZWF0ZVBvaW50PWZ1bmN0aW9uKHQsbyxuKXt2YXIgYSxoLGwsYyxkLHUscD1vWzBdO2lmKGE9cy5jb3B5QXR0cmlidXRlcyhuLHQub3B0aW9ucyxcInBvaW50M2RcIiksbD17ZWxUeXBlOlwicG9pbnQzZFwiLGNvb3JkczpbMSwwLDAsMF0sWDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkc1sxXX0sWTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkc1syXX0sWjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvb3Jkc1szXX19LG8ubGVuZ3RoPjImJnMuZXhpc3RzKG9bby5sZW5ndGgtMV0uRDMpP2wuc2xpZGU9by5wb3AoKTpsLnNsaWRlPW51bGwsMj09PW8ubGVuZ3RoKWwuRj1vWzFdLGwuY29vcmRzPVsxXS5jb25jYXQocy5ldmFsdWF0ZShsLkYpKTtlbHNlIGlmKDQ9PT1vLmxlbmd0aClmb3IobC5GPW8uc2xpY2UoMSksYz0wO2M8MztjKyspbC5jb29yZHNbYysxXT1zLmV2YWx1YXRlKGwuRltjXSk7cmV0dXJuIGwudXBkYXRlQ29vcmRzPWZ1bmN0aW9uKCl7dmFyIHQsZTtpZihzLmlzRnVuY3Rpb24odGhpcy5GKSl0PXMuZXZhbHVhdGUodGhpcy5GKSx0aGlzLmNvb3Jkcz1bMSx0WzBdLHRbMV0sdFsyXV07ZWxzZSBmb3IodGhpcy5jb29yZHNbMF09MSxlPTA7ZTwzO2UrKylzLmlzRnVuY3Rpb24odGhpcy5GW2VdKSYmKHRoaXMuY29vcmRzW2UrMV09cy5ldmFsdWF0ZSh0aGlzLkZbZV0pKTtyZXR1cm4gdGhpc30sbC51cGRhdGVDb29yZHMoKSxkPXAucHJvamVjdDNEVG8yRChsLmNvb3JkcyksKHU9dC5jcmVhdGUoXCJwb2ludFwiLGQsYSkpLkQzPWwsdS5EMy5jMmQ9dS5jb29yZHMudXNyQ29vcmRzLnNsaWNlKCksaD11LnVwZGF0ZSx1LkQzLnNsaWRlJiYodS5fbWluRnVuYz1mdW5jdGlvbih0LGUsaSxyKXt2YXIgcz11LkQzLnNsaWRlLkQzLG89WzEscy5YKGlbMF0saVsxXSkscy5ZKGlbMF0saVsxXSkscy5aKGlbMF0saVsxXSldLG49cC5wcm9qZWN0M0RUbzJEKG8pO3JldHVybiByWzBdPXUuWCgpLW5bMV0sclsxXT11LlkoKS1uWzJdLHJbMF0qclswXStyWzFdKnJbMV19LHUucHJvamVjdENvb3JkczJTdXJmYWNlPWZ1bmN0aW9uKCl7dmFyIHQscixvPVswLDBdLG49dGhpcy5EMy5zbGlkZS5EMztzLmV4aXN0cyh0aGlzLkQzLnBhcmFtcykmJihvPXRoaXMuRDMucGFyYW1zLnNsaWNlKCkpLGkuTmxwLkZpbmRNaW5pbXVtKHRoaXMuX21pbkZ1bmMsMiwyLG8sNSwxZS02LDAsMjAwKSx0PVsxLG4uWChvWzBdLG9bMV0pLG4uWShvWzBdLG9bMV0pLG4uWihvWzBdLG9bMV0pXSxyPXAucHJvamVjdDNEVG8yRCh0KSx0aGlzLkQzLnBhcmFtcz1vLHRoaXMuRDMuY29vcmRzPXQsdGhpcy5jb29yZHMuc2V0Q29vcmRpbmF0ZXMoZS5DT09SRFNfQllfVVNFUixyKSx0aGlzLkQzLmMyZD1yfSksdS51cGRhdGU9ZnVuY3Rpb24odCl7dmFyIGkscztyZXR1cm4gdGhpcy5uZWVkc1VwZGF0ZT8odGhpcy5kcmFnZ2FibGUoKSYmMCE9PXIuZGlzdGFuY2UodGhpcy5EMy5jMmQsdGhpcy5jb29yZHMudXNyQ29vcmRzKT90aGlzLkQzLnNsaWRlP3RoaXMucHJvamVjdENvb3JkczJTdXJmYWNlKCk6KHM9WzEsMCwwLHRoaXMuRDMuY29vcmRzWzNdXSwwIT09KGk9cC5wcm9qZWN0MkRUbzNEUGxhbmUodSxbMSwwLDAsMV0scykpWzBdJiYodGhpcy5EMy5jb29yZHM9cC5wcm9qZWN0M0RUb0N1YmUoaSkpKToodGhpcy5EMy51cGRhdGVDb29yZHMoKSx1LmNvb3Jkcy5zZXRDb29yZGluYXRlcyhlLkNPT1JEU19CWV9VU0VSLHAucHJvamVjdDNEVG8yRChbMSx0aGlzLkQzLlgoKSx0aGlzLkQzLlkoKSx0aGlzLkQzLlooKV0pKSksdGhpcy5EMy5jMmQ9dS5jb29yZHMudXNyQ29vcmRzLnNsaWNlKCksaC5hcHBseSh0aGlzLFt0XSksdGhpcyk6dGhpc30sdX0sdC5yZWdpc3RlckVsZW1lbnQoXCJwb2ludDNkXCIsby5jcmVhdGVQb2ludCl9KSksZGVmaW5lKFwiM2Qvc3VyZmFjZTNkXCIsW1wianhnXCIsXCJ1dGlscy90eXBlXCIsXCIzZC92aWV3M2RcIl0sKGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtpLmNyZWF0ZVBhcmFtZXRyaWNTdXJmYWNlPWZ1bmN0aW9uKHQsaSxyKXt2YXIgcyxvLG4sYT1pWzBdO3JldHVybiBvPXtlbFR5cGU6XCJzdXJmYWNlM2RcIixYOmlbMV0sWTppWzJdLFo6aVszXSxyYW5nZV91OmlbNF0scmFuZ2VfdjppWzVdfSxzPWUuY29weUF0dHJpYnV0ZXMocix0Lm9wdGlvbnMsXCJzdXJmYWNlM2RcIiksKG49dC5jcmVhdGUoXCJjdXJ2ZVwiLFtbXSxbXV0scykpLnVwZGF0ZURhdGFBcnJheT1mdW5jdGlvbigpe3ZhciB0PWUuZXZhbHVhdGUodGhpcy52aXNQcm9wLnN0ZXBzdSksaT1lLmV2YWx1YXRlKHRoaXMudmlzUHJvcC5zdGVwc3YpLHI9ZS5ldmFsdWF0ZSh0aGlzLkQzLnJhbmdlX3UpLHM9ZS5ldmFsdWF0ZSh0aGlzLkQzLnJhbmdlX3YpLG89YS5nZXRNZXNoKHRoaXMuRDMuWCx0aGlzLkQzLlksdGhpcy5EMy5aLHIuY29uY2F0KFt0XSkscy5jb25jYXQoW2ldKSk7dGhpcy5kYXRhWD1vWzBdLHRoaXMuZGF0YVk9b1sxXX0sbi5EMz1vLG59LHQucmVnaXN0ZXJFbGVtZW50KFwicGFyYW1ldHJpY3N1cmZhY2UzZFwiLGkuY3JlYXRlUGFyYW1ldHJpY1N1cmZhY2UpLGkuY3JlYXRlRnVuY3Rpb25ncmFwaD1mdW5jdGlvbih0LGUsaSl7dmFyIHI9ZVswXSxzPWVbMV0sbz1lWzJdLG49ZVszXTtyZXR1cm4gci5jcmVhdGUoXCJwYXJhbWV0cmljc3VyZmFjZTNkXCIsW2Z1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9LHMsbyxuXSxpKX0sdC5yZWdpc3RlckVsZW1lbnQoXCJmdW5jdGlvbmdyYXBoM2RcIixpLmNyZWF0ZUZ1bmN0aW9uZ3JhcGgpfSkpLGRlZmluZShcIi4uL2J1aWxkL2NvcmUuZGVwcy5qc1wiLFtcImp4Z1wiLFwidXRpbHMvZW52XCIsXCJiYXNlL2NvbnN0YW50c1wiLFwidXRpbHMvdHlwZVwiLFwidXRpbHMveG1sXCIsXCJ1dGlscy9ldmVudFwiLFwidXRpbHMvZXhwZWN0XCIsXCJtYXRoL21hdGhcIixcIm1hdGgvcHJvYmZ1bmNzXCIsXCJtYXRoL2lhXCIsXCJtYXRoL2V4dHJhcG9sYXRlXCIsXCJtYXRoL3FkdFwiLFwibWF0aC9udW1lcmljc1wiLFwibWF0aC9ubHBcIixcIm1hdGgvcGxvdFwiLFwibWF0aC9tZXRhcG9zdFwiLFwibWF0aC9zdGF0aXN0aWNzXCIsXCJtYXRoL3N5bWJvbGljXCIsXCJtYXRoL2dlb21ldHJ5XCIsXCJtYXRoL2NsaXBcIixcIm1hdGgvcG9seVwiLFwibWF0aC9jb21wbGV4XCIsXCJyZW5kZXJlci9hYnN0cmFjdFwiLFwicmVhZGVyL2ZpbGVcIixcInBhcnNlci9nZW9uZXh0XCIsXCJiYXNlL2JvYXJkXCIsXCJvcHRpb25zXCIsXCJqc3hncmFwaFwiLFwiYmFzZS9lbGVtZW50XCIsXCJiYXNlL2Nvb3Jkc1wiLFwiYmFzZS9jb29yZHNlbGVtZW50XCIsXCJiYXNlL3BvaW50XCIsXCJiYXNlL2xpbmVcIixcImJhc2UvZ3JvdXBcIixcImJhc2UvY2lyY2xlXCIsXCJlbGVtZW50L2NvbmljXCIsXCJiYXNlL3BvbHlnb25cIixcImJhc2UvY3VydmVcIixcImVsZW1lbnQvYXJjXCIsXCJlbGVtZW50L3NlY3RvclwiLFwiYmFzZS9jb21wb3NpdGlvblwiLFwiZWxlbWVudC9jb21wb3NpdGlvblwiLFwiZWxlbWVudC9sb2N1c1wiLFwiYmFzZS90ZXh0XCIsXCJiYXNlL2ltYWdlXCIsXCJlbGVtZW50L3NsaWRlclwiLFwiZWxlbWVudC9tZWFzdXJlXCIsXCJiYXNlL2NoYXJ0XCIsXCJiYXNlL3RyYW5zZm9ybWF0aW9uXCIsXCJiYXNlL3R1cnRsZVwiLFwidXRpbHMvY29sb3JcIixcImJhc2UvdGlja3NcIixcInV0aWxzL3ppcFwiLFwidXRpbHMvYmFzZTY0XCIsXCJ1dGlscy91dWlkXCIsXCJ1dGlscy9lbmNvZGluZ1wiLFwic2VydmVyL3NlcnZlclwiLFwicGFyc2VyL2RhdGFzb3VyY2VcIixcInBhcnNlci9qZXNzaWVjb2RlXCIsXCJwYXJzZXIvY2FcIixcInV0aWxzL2R1bXBcIixcInJlbmRlcmVyL3N2Z1wiLFwicmVuZGVyZXIvdm1sXCIsXCJyZW5kZXJlci9jYW52YXNcIixcInJlbmRlcmVyL25vXCIsXCJlbGVtZW50L2NvbWJcIixcImVsZW1lbnQvc2xvcGV0cmlhbmdsZVwiLFwiZWxlbWVudC9jaGVja2JveFwiLFwiZWxlbWVudC9pbnB1dFwiLFwiZWxlbWVudC9idXR0b25cIixcImJhc2UvZm9yZWlnbm9iamVjdFwiLFwib3B0aW9uczNkXCIsXCIzZC9ib3gzZFwiLFwiM2QvY3VydmUzZFwiLFwiM2QvbGluc3BhY2UzZFwiLFwiM2QvcG9pbnQzZFwiLFwiM2Qvc3VyZmFjZTNkXCIsXCIzZC90aHJlZWRcIixcIjNkL3ZpZXczZFwiXSwoZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4gZS5pc0Jyb3dzZXI/d2luZG93LkpYRz10OmUuaXNOb2RlKCkmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dDplLmlzV2ViV29ya2VyKCkmJihzZWxmLkpYRz10KSx0fSkpLHJlcXVpcmUoXCIuLi9idWlsZC9jb3JlLmRlcHMuanNcIil9KSk7IiwiXG5pbXBvcnQgeyBWaWV3LCBWaWV3TGlzdCB9IGZyb20gXCIuL2ZyYW1ld29ya1wiO1xuaW1wb3J0ICogYXMgSlhHIGZyb20gXCJqc3hncmFwaFwiXG50eXBlIENoYXJ0PXt2aXNpYmxlOmJvb2xlYW4sZnVuY3Rpb25zOkZ1bmN0aW9uW119XG5leHBvcnQgY2xhc3MgQ2hhcnRWaWV3IGV4dGVuZHMgVmlldzxDaGFydD5cbntcblxuICBwcml2YXRlIGNoYXJ0OkhUTUxFbGVtZW50O1xuICBwcml2YXRlIGJ0bkNsb3NlOkhUTUxCdXR0b25FbGVtZW50O1xuICBwcml2YXRlIGJ0blJlZHJhdzpIVE1MQnV0dG9uRWxlbWVudDtcbiAgZnVuY3Rpb25zVmlldzogRnVuY3Rpb25zVmlldztcbiAgcHJpdmF0ZSBib2FyZDogSlhHLkJvYXJkO1xuICBwcml2YXRlIGNvbG9yczpzdHJpbmdbXT1bXCIjQTY0NDk5XCIsXCIjODRkNGM5XCIsXCIjZmJjOTk0XCJdXG4gIHByaXZhdGUgZ3JhcGhzOkpYRy5GdW5jdGlvbmdyYXBoW109W107XG4gIGNvbnN0cnVjdG9yKClcbiAge1xuICAgIHN1cGVyKDxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbG90T3ZlcmxheVwiKSk7XG4gICAgdGhpcy5jaGFydD0gPEhUTUxFbGVtZW50PiB0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIiNjaGFydFwiKTtcbiAgICB0aGlzLmJ0bkNsb3NlPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+IHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKFwiI2J0bkNsb3NlXCIpO1xuICAgIHRoaXMuYnRuUmVkcmF3PSA8SFRNTEJ1dHRvbkVsZW1lbnQ+IHRoaXMuZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKFwiI2J0blJlZHJhd1wiKTtcbiAgICB0aGlzLmJ0blJlZHJhdy5vbmNsaWNrPSB0aGlzLm9uQnV0dG9uUmVkcmF3LmJpbmQodGhpcylcblxuICAgIHRoaXMuZnVuY3Rpb25zVmlldz0gbmV3IEZ1bmN0aW9uc1ZpZXcoKTtcbiAgICB0aGlzLmZ1bmN0aW9uc1ZpZXcub25rZXllbnRlcj10aGlzLm9uQnV0dG9uUmVkcmF3LmJpbmQodGhpcyk7XG4gICAgdGhpcy5mdW5jdGlvbnNWaWV3Lm9ucHJvcGVydHljaGFuZ2U9KHNlbmRlcix2aWV3LHByb3BlcnR5LHZhbHVlKT0+e1xuICAgICAgaWYgKHByb3BlcnR5PT1cInZpc2libGVcIilcbiAgICAgIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7ICAgICBcbiAgICAgICAgICB2YXIgaW5kZXg9IHRoaXMuZnVuY3Rpb25zVmlldy5pbmRleE9mKHZpZXcpO1xuICAgICAgICAgIHZhciBtPSB2aWV3LmdldE1vZGVsKCk7XG4gICAgICAgICAgdmFyIGdyYXBoPXRoaXMuYWRkR3JhcGgobS5mdW5jdGlvbix0aGlzLmNvbG9yc1tpbmRleF0pO1xuICAgICAgICAgIHRoaXMuZ3JhcGhzW2luZGV4XT1ncmFwaDtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgaW5kZXg9IHRoaXMuZnVuY3Rpb25zVmlldy5pbmRleE9mKHZpZXcpOyBcbiAgICAgICAgICB0aGlzLmJvYXJkLnJlbW92ZU9iamVjdCh0aGlzLmdyYXBoc1tpbmRleF0pO1xuICAgICAgICAgIHRoaXMuZ3JhcGhzW2luZGV4XT1udWxsO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5mdW5jdGlvbnNWaWV3Lm9uY2hhbmdlPShzZW5kZXIsdmlldyx2YWx1ZSk9PntcbiAgICAgIFxuICAgIH07XG4gIH1cbiAgb25CdXR0b25SZWRyYXcgKCkgOiBhbnlcbiAge1xuICAgIHZhciBtb2RlbD0gdGhpcy5mdW5jdGlvbnNWaWV3LmdldE1vZGVsKCk7XG4gICAgdGhpcy5yZWRyYXcobW9kZWwpOyAgICBcblxuICB9XG4gIHB1YmxpYyBnZXQgb25idXR0b25jbG9zZSgpOiAodGhpczogR2xvYmFsRXZlbnRIYW5kbGVycywgZXY6IE1vdXNlRXZlbnQpID0+IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuYnRuQ2xvc2Uub25jbGljaztcbiAgfVxuICBwdWJsaWMgc2V0IG9uYnV0dG9uY2xvc2UodmFsdWU6ICh0aGlzOiBHbG9iYWxFdmVudEhhbmRsZXJzLCBldjogTW91c2VFdmVudCkgPT4gYW55KSB7XG4gICAgICB0aGlzLmJ0bkNsb3NlLm9uY2xpY2sgPSB2YWx1ZTtcbiAgfVxuICBcbiAgYWRkR3JhcGgoZnVuYzpzdHJpbmcsY29sb3I6c3RyaW5nKVxuICB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgdmFyIGQgPSB0aGlzLmJvYXJkLmpjLnNuaXBwZXQoZnVuYywgdHJ1ZSwgJ3gnLCB0cnVlKTtcbiAgICB9IGNhdGNoKGV4KVxuICAgIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gICAgICBcbiAgICB2YXIgZ3JhcGg9dGhpcy5ib2FyZC5jcmVhdGUoXCJmdW5jdGlvbmdyYXBoXCIsZCx7c3Ryb2tlQ29sb3I6Y29sb3J9KTsgIFxuICAgIFxuICAgIHJldHVybiBncmFwaDtcbiAgfVxuXG4gIHJlZHJhdyhmdW5jdGlvbnM6RnVuY3Rpb25bXSlcbiAgeyAgXG4gICAgdGhpcy5ib2FyZC5yZW1vdmVPYmplY3QodGhpcy5ncmFwaHMpO1xuICAgIHRoaXMuZ3JhcGhzLmxlbmd0aD0wO1xuICAgIGZvciAodmFyIGM9MDtjPCBmdW5jdGlvbnMubGVuZ3RoO2MrKylcbiAgICB7XG4gICAgICB2YXIgZj1mdW5jdGlvbnNbY107XG4gICAgICBpZiAoIWYudmlzaWJsZSkgY29udGludWU7XG4gICAgICB2YXIgZ3JhcGg9IHRoaXMuYWRkR3JhcGgoZi5mdW5jdGlvbix0aGlzLmNvbG9yc1tjXSk7XG4gICAgICB0aGlzLmdyYXBoc1tjXT1ncmFwaDtcbiAgICB9XG5cbiAgfVxuXG4gIHNldE1vZGVsKHZhbHVlOiBDaGFydCk6IHZvaWQgeyAgXG4gICAgdGhpcy52aXNpYmxlPXZhbHVlLnZpc2libGU7XG4gICAgdGhpcy5mdW5jdGlvbnNWaWV3LnNldE1vZGVsKHZhbHVlLmZ1bmN0aW9ucyk7XG4gICAgIFxuICAgIGlmICh0aGlzLmJvYXJkIT1udWxsKSBKWEcuSlNYR3JhcGguZnJlZUJvYXJkKHRoaXMuYm9hcmQpO1xuICAgIHRoaXMuYm9hcmQgPSBKWEcuSlNYR3JhcGguaW5pdEJvYXJkKCdjaGFydCcsICA8UGFydGlhbDxKWEcuQm9hcmRBdHRyaWJ1dGVzPj4ge1xuICAgICAgYm91bmRpbmdib3g6IFstNSw1LDUsLTVdLFxuICAgICAga2VlcEFzcGVjdFJhdGlvOiB0cnVlLFxuICAgICAgYXhpczogdHJ1ZSwgICAgXG4gICAgICBzaG93Q29weXJpZ2h0OmZhbHNlLFxuICAgICAgcmVzaXplOiB7ZW5hYmxlZDogdHJ1ZSwgdGhyb3R0bGU6IDIwMH0sXG4gICAgICB6b29tOnRydWUsXG4gICAgICBwYW46dHJ1ZVxuICAgIH0pO1xuICAgIFxuICAgIHRoaXMucmVkcmF3KHZhbHVlLmZ1bmN0aW9ucyk7XG4gXG4gIH1cbiAgZ2V0TW9kZWwoKTogQ2hhcnQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgXG4gICAgXG4gICAgdGhpcy5idG5DbG9zZS5vbmNsaWNrPW51bGw7XG4gICAgdGhpcy5idG5SZWRyYXcub25jbGljaz1udWxsO1xuICAgIHRoaXMuZnVuY3Rpb25zVmlldy5jbGVhcigpO1xuICAgIHRoaXMuZnVuY3Rpb25zVmlldy5vbmtleWVudGVyPW51bGw7XG4gICAgaWYgKHRoaXMuYm9hcmQhPW51bGwpIEpYRy5KU1hHcmFwaC5mcmVlQm9hcmQodGhpcy5ib2FyZCk7XG4gICAgdGhpcy5ncmFwaHMubGVuZ3RoPTA7XG4gICAgdGhpcy5ib2FyZD1udWxsO1xuICB9ICAgIFxuXG5cbn1cblxudHlwZSBGdW5jdGlvbj0ge3Zpc2libGU6Ym9vbGVhbixmdW5jdGlvbjpzdHJpbmd9XG5leHBvcnQgY2xhc3MgRnVuY3Rpb25zVmlldyBleHRlbmRzIFZpZXdMaXN0PEZ1bmN0aW9uLEZ1bmN0aW9uVmlldz5cbntcbiAgcHVibGljIG9ua2V5ZW50ZXIgOiAoKT0+dm9pZDsgXG4gIGNvbnN0cnVjdG9yKClcbiAge1xuICAgICAgc3VwZXIoPEhUTUxFbGVtZW50PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bsb3RPdmVybGF5Q29udGFpbmVyPi5mdW5jdGlvbnNcIikpO1xuICAgICAgdGhpcy5lbGVtZW50Lm9ua2V5ZG93bj0oKGV2KT0+e1xuICAgICAgICBpZiAoZXYua2V5PT1cIkVudGVyXCIgJiYgdGhpcy5vbmtleWVudGVyKVxuICAgICAgICB7ICAgICAgICAgXG4gICAgICAgICAgdGhpcy5vbmtleWVudGVyKCk7XG4gICAgICAgIH0gICAgICAgICAgICBcbiAgICAgIH0pOyAgXG4gIH1cbiAgY3JlYXRlVmlld21vZGVsKG1vZGVsOiBGdW5jdGlvbik6IEZ1bmN0aW9uVmlldyB7XG4gICAgdmFyIGYgPSBuZXcgRnVuY3Rpb25WaWV3KCk7XG4gICAgZi5zZXRNb2RlbChtb2RlbCk7XG4gICAgcmV0dXJuIGY7XG4gIH1cbiAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLmVsZW1lbnQub25rZXlkb3duPW51bGw7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBGdW5jdGlvblZpZXcgZXh0ZW5kcyBWaWV3PEZ1bmN0aW9uPlxue1xuICB2aXNpYmxlVmlldzogU2xpZGVyVmlldztcbiAgZnVuY3Rpb25FZGl0VmlldzogRnVuY3Rpb25FZGl0VmlldztcblxuICBjb25zdHJ1Y3RvcigpXG4gIHtcbiAgICB2YXIgdmlzaWJsZVZpZXc9IG5ldyBTbGlkZXJWaWV3KCk7XG4gICAgdmFyIGZ1bmN0aW9uRWRpdFZpZXc9IG5ldyBGdW5jdGlvbkVkaXRWaWV3KCk7XG4gICAgc3VwZXIoW3Zpc2libGVWaWV3LmVsZW1lbnRbMF0sZnVuY3Rpb25FZGl0Vmlldy5lbGVtZW50WzBdXSk7XG4gICAgdGhpcy52aXNpYmxlVmlldz12aXNpYmxlVmlldztcbiAgICB0aGlzLmZ1bmN0aW9uRWRpdFZpZXc9ZnVuY3Rpb25FZGl0VmlldztcbiAgICB0aGlzLnZpc2libGVWaWV3Lm9uY2hhbmdlPShzZW5kZXIsdmFsdWUpPT57XG4gICAgICB0aGlzLmVtaXRQcm9wZXJ0eUNoYW5nZShcInZpc2libGVcIix2YWx1ZSlcbiAgICB9XG4gIH1cbiAgc2V0TW9kZWwodmFsdWU6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgdGhpcy52aXNpYmxlVmlldy5zZXRNb2RlbCh2YWx1ZS52aXNpYmxlKTtcbiAgICB0aGlzLmZ1bmN0aW9uRWRpdFZpZXcuc2V0TW9kZWwodmFsdWUuZnVuY3Rpb24pXG4gIH1cbiAgZ2V0TW9kZWwoKTogRnVuY3Rpb24ge1xuICAgIHJldHVybiB7ZnVuY3Rpb246dGhpcy5mdW5jdGlvbkVkaXRWaWV3LmdldE1vZGVsKCksdmlzaWJsZTp0aGlzLnZpc2libGVWaWV3LmdldE1vZGVsKCkgfVxuICB9XG4gIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgdGhpcy52aXNpYmxlVmlldy5kaXNwb3NlKCk7XG4gICAgdGhpcy5mdW5jdGlvbkVkaXRWaWV3LmRpc3Bvc2UoKTtcbiAgfVxuXG59XG5cblxuZXhwb3J0IGNsYXNzIFNsaWRlclZpZXcgZXh0ZW5kcyBWaWV3PGJvb2xlYW4+XG57XG4gIHByaXZhdGUgY2hlY2tib3g6SFRNTElucHV0RWxlbWVudDtcbiAgY29uc3RydWN0b3IoKVxuICB7XG4gICB2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICBsLmNsYXNzTmFtZT1cInN3aXRjaFwiXG4gICB2YXIgaT0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgaS50eXBlPSBcImNoZWNrYm94XCI7ICBcbiAgIHZhciBzPSAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICBzLmNsYXNzTmFtZT1cInNsaWRlclwiXG4gICBsLmFwcGVuZENoaWxkKGkpO1xuICAgbC5hcHBlbmRDaGlsZChzKTtcbiAgIHN1cGVyKGwpO1xuICAgdGhpcy5jaGVja2JveD1pO1xuICBcbiAgIGkub25jaGFuZ2U9KCk9PntcbiAgICB2YXIgdmFsdWU9dGhpcy5jaGVja2JveC5jaGVja2VkO1xuICAgIHRoaXMuZW1pdENoYW5nZSh2YWx1ZSk7XG4gICB9XG4gIH1cbiAgc2V0TW9kZWwodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLmNoZWNrYm94LmNoZWNrZWQ9dmFsdWU7XG5cbiAgfVxuICBnZXRNb2RlbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jaGVja2JveC5jaGVja2VkO1xuICB9XG4gIGRpc3Bvc2UoKTogdm9pZCB7XG5cbiAgfSAgXG59XG5leHBvcnQgY2xhc3MgRnVuY3Rpb25FZGl0VmlldyBleHRlbmRzIFZpZXc8c3RyaW5nPlxue1xuICBwcml2YXRlIHRleHRCb3g6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0cnVjdG9yKClcbiAge1xuICAgIHN1cGVyKDxIVE1MVGVtcGxhdGVFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRtcGxFZGl0RnVuY3Rpb25cIikpXG4gICAgdGhpcy50ZXh0Qm94PSA8SFRNTElucHV0RWxlbWVudD4gdGhpcy5lbGVtZW50WzBdO1xuICB9XG4gIHNldE1vZGVsKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnRleHRCb3gudmFsdWU9dmFsdWU7ICBcbiAgfVxuICBnZXRNb2RlbCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnRleHRCb3gudmFsdWU7XG4gIH1cbiAgZGlzcG9zZSgpOiB2b2lkIHtcblxuICB9ICBcbn0iLCJcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZpZXdMaXN0PE0sViBleHRlbmRzIFZpZXc8TT4+IFxue1xuICBwcml2YXRlIHNldD0gbmV3IFNldDxWaWV3PE0+PigpO1xuICBwcm90ZWN0ZWQgY29udGFpbmVyOkhUTUxFbGVtZW50O1xuICBwcm90ZWN0ZWQgZWxlbWVudDpIVE1MRWxlbWVudDtcbiBcbiAgcHVibGljIG9uY2hhbmdlOihzZW5kZXI6Vmlld0xpc3Q8TSxWPix2aWV3OlZpZXc8TT4sdmFsdWU6TSApPT52b2lkPW51bGw7XG4gIHB1YmxpYyBvbnByb3BlcnR5Y2hhbmdlOjxYIGV4dGVuZHMga2V5b2YgTT4gKHNlbmRlcjpWaWV3TGlzdDxNLFY+LCB2aWV3OlZpZXc8TT4sIHByb3BlcnR5OlggICx2YWx1ZTpNW1hdKT0+dm9pZD1udWxsO1xuICBwdWJsaWMgb25hZGQ6KHNlbmRlcjpWaWV3TGlzdDxNLFY+LHZpZXc6VmlldzxNPix2YWx1ZTpNICk9PnZvaWQ9bnVsbDtcbiAgcHVibGljIG9ucmVtb3ZlOihzZW5kZXI6Vmlld0xpc3Q8TSxWPix2aWV3OlZpZXc8TT4pPT52b2lkPW51bGw7XG5cbiAgY29uc3RydWN0b3IoaHRtbEVsZW1lbnQ6SFRNTEVsZW1lbnQsIGNvbnRhaW5lclNlbGVjdG9yPzpzdHJpbmcgLGl0ZXJhYmxlPzpJdGVyYWJsZTxNPilcbiAgY29uc3RydWN0b3IodGVtcGxhdGU6SFRNTFRlbXBsYXRlRWxlbWVudCwgY29udGFpbmVyU2VsZWN0b3I/OnN0cmluZyAsaXRlcmFibGU/Okl0ZXJhYmxlPE0+KVxuICBjb25zdHJ1Y3RvcihodG1sRWxlbWVudDpIVE1MRWxlbWVudCwgY29udGFpbmVyU2VsZWN0b3I/OnN0cmluZyAsaXRlcmFibGU/Okl0ZXJhYmxlPE0+KVxuICB7XG4gICAgaWYgKGh0bWxFbGVtZW50LnRhZ05hbWU9PVwiVEVNUExBVEVcIilcbiAgICB7XG4gICAgICAgIHRoaXMuZWxlbWVudD0gPEhUTUxFbGVtZW50PiAoPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+IGh0bWxFbGVtZW50KS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTsgICAgICAgICBcbiAgICB9IGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMuZWxlbWVudD1odG1sRWxlbWVudDtcbiAgICB9XG4gICAgdGhpcy5jb250YWluZXI9Y29udGFpbmVyU2VsZWN0b3I/IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTp0aGlzLmVsZW1lbnQ7XG4gICAgaWYgKGl0ZXJhYmxlKVxuICAgIHtcbiAgICAgIGZvciAodmFyIGMgb2YgaXRlcmFibGUpXG4gICAgICB7XG4gICAgICAgIHRoaXMuYWRkKGMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhcHBlbmRUbyh0YXJnZXQ6SFRNTEVsZW1lbnQpXG4gIHtcbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgfVxuICBpbmRleE9mKHZpZXc6IFZpZXc8TT4pXG4gIHtcbiAgICB2YXIgaW5kZXg9MDtcbiAgICBmb3IgKHZhciBjIG9mIHRoaXMpXG4gICAge1xuICAgICAgaWYgKGM9PT12aWV3KSByZXR1cm4gaW5kZXg7XG4gICAgICBpbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgXG5cbiAgYWRkKHZhbHVlOiBNKTogViB7ICAgXG4gICAgdmFyIHZpZXc9IHRoaXMuY3JlYXRlVmlld21vZGVsKHZhbHVlKTtcbiAgICB2aWV3LmFwcGVuZFRvKHRoaXMuY29udGFpbmVyKVxuICBcbiAgICB0aGlzLnNldC5hZGQodmlldyk7XG4gICAgdmlldy5vbmNoYW5nZT0oc2VuZGVyOiBWaWV3PE0+LCB2YWx1ZTogTSk9PlxuICAgIHtcbiAgICAgIGlmICh0aGlzLm9uY2hhbmdlIT1udWxsKSB0aGlzLm9uY2hhbmdlKHRoaXMsc2VuZGVyLHZhbHVlKTtcbiAgICB9XG4gICAgdmlldy5vbnByb3BlcnR5Y2hhbmdlPShzZW5kZXIsIHByb3BlcnR5LCB2YWx1ZSk9PlxuICAgIHtcbiAgICAgIGlmICh0aGlzLm9ucHJvcGVydHljaGFuZ2UhPW51bGwpIHRoaXMub25wcm9wZXJ0eWNoYW5nZSh0aGlzLHNlbmRlciwgcHJvcGVydHksIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub25hZGQhPW51bGwpIHRoaXMub25hZGQodGhpcyx2aWV3LHZhbHVlKTtcbiAgICByZXR1cm4gdmlldztcbiAgfVxuICBjbGVhcigpOiB2b2lkIHtcbiAgICBmb3IgKHZhciBjIG9mIHRoaXMuc2V0LmtleXMoKSlcbiAgICB7XG4gICAgICBjLnJlbW92ZSgpO1xuICAgICAgYy5kaXNwb3NlKCk7IFxuICAgIH1cbiAgICB0aGlzLnNldC5jbGVhcigpO1xuICB9XG4gIGRlbGV0ZSh2aWV3OiBWaWV3PE0+KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLnNldC5kZWxldGUodmlldykpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5vbnJlbW92ZSE9bnVsbCkgdGhpcy5vbnJlbW92ZSh0aGlzLHZpZXcpO1xuICAgIHZpZXcucmVtb3ZlKCk7XG4gICAgdmlldy5kaXNwb3NlKCk7IFxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaGFzKHZhbHVlOiBWaWV3PE0+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Lmhhcyh2YWx1ZSk7ICAgXG4gIH0gXG4gXG4gIHB1YmxpYyBnZXQgc2l6ZSgpIDogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5zZXQuc2l6ZTtcbiAgfVxuICAqW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxWaWV3PE0+PiB7XG4gICAgZm9yICh2YXIgaSBvZiB0aGlzLnNldClcbiAgICB7XG4gICAgICAgeWllbGQgIGk7XG4gICAgfVxuICB9XG4gIFxuICBwdWJsaWMgc2V0TW9kZWwodmFsdWVzOkFycmF5PE0+KTp2b2lkXG4gIHtcbiAgICB0aGlzLmNsZWFyKCk7ICBcbiAgICBmb3IgKHZhciBtIG9mIHZhbHVlcylcbiAgICB7XG4gICAgIHRoaXMuYWRkKG0pO1xuICAgIH0gICBcbiAgfSBcbiAgcHVibGljIGdldE1vZGVsKCk6QXJyYXk8TT5cbiAge1xuICAgdmFyIGFycjpNW10gPVtdO1xuICAgZm9yICh2YXIgbSBvZiB0aGlzKVxuICAge1xuICAgIGFyci5wdXNoKG0uZ2V0TW9kZWwoKSk7XG4gICB9XG4gICByZXR1cm4gYXJyO1xuICB9IFxuICBcbiAgcHVibGljIHNldCB2aXNpYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdmFyIHZpc2liaWxpdHk9IHZhbHVlP1widmlzaWJsZVwiOlwiaGlkZGVuXCI7XG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9IHZpc2liaWxpdHk7XG4gIH1cblxuICBwdWJsaWMgc2V0IGRpc3BsYXkodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCkgeyBcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT0gdmFsdWU7ICAgICAgIFxuICB9XG5cbiAgYWJzdHJhY3QgY3JlYXRlVmlld21vZGVsKG1vZGVsOk0pOlY7IFxuICBhYnN0cmFjdCBkaXNwb3NlKCk6dm9pZDtcbn1cblxuXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBWaWV3PE0+XG57XG4gICAgcHJvdGVjdGVkIF9lbGVtZW50OiBIVE1MRWxlbWVudFtdPVtdO1xuICAgIHB1YmxpYyBnZXQgZWxlbWVudCgpOiBSZWFkb25seUFycmF5PEhUTUxFbGVtZW50PiB7XG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG4gICAgcHVibGljIG9uY2hhbmdlOihzZW5kZXI6VmlldzxNPix2YWx1ZTpNICk9PnZvaWQ9bnVsbDtcbiAgICBwdWJsaWMgb25wcm9wZXJ0eWNoYW5nZTo8WCBleHRlbmRzIGtleW9mIE0+IChzZW5kZXI6VmlldzxNPiwgcHJvcGVydHk6WCAgLHZhbHVlOk1bWF0pPT52b2lkPW51bGw7XG5cbiAgICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZTpIVE1MVGVtcGxhdGVFbGVtZW50KSAgICBcbiAgICBjb25zdHJ1Y3RvcihodG1sRWxlbWVudDpIVE1MRWxlbWVudClcbiAgICBjb25zdHJ1Y3RvcihodG1sRWxlbWVudHM6SFRNTEVsZW1lbnRbXSkgICAgXG4gICAgY29uc3RydWN0b3IoaHRtbEVsZW1lbnQ6YW55KSAgICAgIFxuICAgIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaHRtbEVsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGFyciA9IDxIVE1MRWxlbWVudFtdPiBodG1sRWxlbWVudDtcbiAgICAgICAgICBmb3IgKHZhciBlIG9mIGFycilcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnB1c2goZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2VcbiAgICAgICAgaWYgKGh0bWxFbGVtZW50LnRhZ05hbWU9PVwiVEVNUExBVEVcIilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudD0gWzxIVE1MRWxlbWVudD4gKDxIVE1MVGVtcGxhdGVFbGVtZW50PiBodG1sRWxlbWVudCkuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSldOyAgICAgICAgIFxuICAgICAgICB9IGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudD1baHRtbEVsZW1lbnRdO1xuICAgICAgICB9ICAgICAgXG4gICAgICAgXG4gICAgfVxuICAgIHJlbW92ZSgpXG4gICAgeyAgICAgXG4gICAgICBmb3IgKHZhciBlIG9mIHRoaXMuX2VsZW1lbnQpXG4gICAgICB7XG4gICAgICAgIGUucmVtb3ZlKCk7XG4gICAgICB9ICAgICAgXG4gICAgfVxuICAgIGFwcGVuZFRvKHRhcmdldDpIVE1MRWxlbWVudClcbiAgICB7ICAgICBcbiAgICAgXG4gICAgICBmb3IgKHZhciBlIG9mIHRoaXMuX2VsZW1lbnQpXG4gICAgICB7XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChlKTtcbiAgICAgIH0gIFxuICAgIH1cbiAgICBcbiAgXG4gICAgZW1pdENoYW5nZSh2YWx1ZTpNKVxuICAgIHtcbiAgICAgaWYgKHRoaXMub25jaGFuZ2UhPW51bGwpIHRoaXMub25jaGFuZ2UodGhpcyx2YWx1ZSk7XG4gICAgfVxuXG4gICAgZW1pdFByb3BlcnR5Q2hhbmdlPFggZXh0ZW5kcyBrZXlvZiBNPihwcm9wZXJ0eTpYLHZhbHVlOk1bWF0gKVxuICAgIHtcbiAgICAgIGlmICh0aGlzLm9ucHJvcGVydHljaGFuZ2UhPW51bGwpIHRoaXMub25wcm9wZXJ0eWNoYW5nZSh0aGlzLHByb3BlcnR5LHZhbHVlKTtcbiAgICB9XG5cbiAgICBcbiAgICAvKiogTWV0aG9kIGZvciB3cml0aW5nIG1vZGVsIHRvIEhUTUwgKi9cbiAgICBhYnN0cmFjdCBzZXRNb2RlbCh2YWx1ZTpNKTp2b2lkO1xuICAgIC8qKiBNZXRob2QgZm9yIHJlYWRpbmcgbW9kZWwgZnJvbSBIVE1MICovXG4gICAgYWJzdHJhY3QgZ2V0TW9kZWwoKTpNO1xuICAgIC8qKk92ZXJ3cml0ZSB0aGlzIG1ldGhvZCBmb3IgdW5yZWdpc3RlcmluZyBldmVudHMgKi9cbiAgICBwdWJsaWMgZGlzcG9zZSgpOnZvaWRcbiAgICB7XG4gICAgICB0aGlzLm9uY2hhbmdlPW51bGw7XG4gICAgICB0aGlzLm9ucHJvcGVydHljaGFuZ2U9bnVsbDtcbiAgICB9ICAgIFxuICAgXG4gICAgcHVibGljIHNldCB2aXNpYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICB2YXIgdmlzaWJpbGl0eT0gdmFsdWU/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIjtcbiAgICAgIGZvciAodmFyIGUgb2YgdGhpcy5fZWxlbWVudClcbiAgICAgIHtcbiAgICAgIGUuc3R5bGUudmlzaWJpbGl0eT0gdmlzaWJpbGl0eTtcbiAgICAgIH0gIFxuICBcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGRpc3BsYXkodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCkgeyAgIFxuICAgICAgZm9yICh2YXIgZSBvZiB0aGlzLl9lbGVtZW50KVxuICAgICAge1xuICAgICAgZS5zdHlsZS5kaXNwbGF5PSB2YWx1ZTtcbiAgICAgIH0gICBcbiAgICB9XG5cblxufSIsImltcG9ydCB7IFBvbHlub21FZGl0VmlldywgU29sdXRpb25zVmlldyAsTWFpblZpZXcsIFNvbHV0aW9uVmlld30gZnJvbSBcIi4vdmlld1wiO1xuaW1wb3J0IHsgQ2hhcnRWaWV3fSBmcm9tIFwiLi9jaGFydHZpZXdcIjtcbmltcG9ydCAqIGFzIHNvbHZlciBmcm9tIFwiLi4vc3JjL3NvbHZlclwiO1xuXG5sZXQgZGl2aWRlT3ZlcmxheT0gPEhUTUxFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpdmlkZU92ZXJsYXlcIik7XG5cbnZhciBjaGFydFZpZXc6Q2hhcnRWaWV3PW51bGw7XG5cbiB2YXIgbWFpbj0gbmV3IE1haW5WaWV3KCk7XG4gbWFpbi5zZXRNb2RlbCh7cG9seW5vbUVkaXQ6W251bGwsbnVsbCxudWxsXSxzb2x1dGlvbjogXG4gICAgW1xuICAgIF1cbn0gKVxuXG5cbm1haW4ub25idXR0b25hZGQ9ICgpPT5cbntcbiAgaWYgKG1haW4ucG9seW5vbWVkaXR2aWV3LmRlZ3JlZTwyMCkgbWFpbi5wb2x5bm9tZWRpdHZpZXcucHVzaChudWxsKTtcbn1cblxubWFpbi5vbmJ1dHRvbnJlbW92ZT0gKCk9Plxue1xuICAgIGlmIChtYWluLnBvbHlub21lZGl0dmlldy5kZWdyZWU+MSkgIG1haW4ucG9seW5vbWVkaXR2aWV3LnBvcCgpO1xufVxuXG5mdW5jdGlvbiBjbG9zZUNoYXJ0VmlldygpXG57XG4gICAgaWYgKGNoYXJ0Vmlldz09bnVsbCkgcmV0dXJuO1xuICAgIGNoYXJ0Vmlldy52aXNpYmxlPWZhbHNlO1xuICAgIGNoYXJ0Vmlldy5kaXNwb3NlKCk7XG4gICAgY2hhcnRWaWV3PW51bGw7XG59XG5tYWluLm9uYnV0dG9ucGxvdD0gKCk9Plxue1xuICAgdmFyIG1vZGVsID0gbWFpbi5wb2x5bm9tZWRpdHZpZXcuZ2V0TW9kZWwoKTtcbiAgIGhpc3RvcnkucHVzaFN0YXRlKFwiXCIsIFwiXCIsXCJcIilcbiAgIGNoYXJ0VmlldyA9IG5ldyBDaGFydFZpZXcoKTtcbiAgIGNoYXJ0Vmlldy5vbmJ1dHRvbmNsb3NlPSgpPT57XG4gICAgY2xvc2VDaGFydFZpZXcoKTtcbiAgIH1cbiAgIHZhciBkZXJpdmF0ZXM9IHNvbHZlci5jYWxjdWxhdGVEZXJpdmF0ZXMobW9kZWwpXG4gICBkZXJpdmF0ZXMudW5zaGlmdChtb2RlbCk7XG4gICBkZXJpdmF0ZXMubGVuZ3RoPU1hdGgubWluKDMsZGVyaXZhdGVzLmxlbmd0aC0xKTtcbiAgIHZhciBmdW5jdGlvbnM9ZGVyaXZhdGVzLm1hcCgocCk9PntyZXR1cm4ge2Z1bmN0aW9uOnNvbHZlci50b1N0cmluZyhwLDQpLHZpc2libGU6dHJ1ZSB9fSk7XG4gICBjaGFydFZpZXcuc2V0TW9kZWwoe3Zpc2libGU6dHJ1ZSxmdW5jdGlvbnN9KTtcbn1cblxubWFpbi5wb2x5bm9tZWRpdHZpZXcub25rZXllbnRlcj0gKCk9PlxueyAgIFxuICAgIHNvbHZlKCk7ICBcbn1cblxubWFpbi5vbmJ1dHRvbnNvbHZlPSAoKT0+XG57XG4gIHNvbHZlKCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFJlc3VsdChyZXN1bHQ6c29sdmVyLkRlY2ltYWxbXSlcbntcbiAgdmFyIHI9cmVzdWx0Lm1hcChwPT5wLm11bCgxMDAwMCkucm91bmQoKS5kaXYoMTAwMDApLnRvU3RyaW5nKCkpO1xuICByZXR1cm4gci50b1N0cmluZygpOyAgICAgXG59XG5mdW5jdGlvbiBzb2x2ZSgpXG57XG4gICAgdmFyIG09ICBtYWluLnBvbHlub21lZGl0dmlldy5nZXRNb2RlbCgpO1xuICAgIHZhciBwb2x5bm9tPSBzb2x2ZXIuJCguLi5tKTtcbiAgICB2YXIgcmVzdWx0PXNvbHZlci5zb2x2ZShwb2x5bm9tLCBuZXcgc29sdmVyLkRlY2ltYWwoXCIwLjAwMDAxXCIpLDI1Nik7ICBcbiAgICBpZiAocmVzdWx0PT1udWxsKSByZXR1cm47XG4gICAgdmFyIGRlcml2YXRpb25zPXNvbHZlci5jYWxjdWxhdGVEZXJpdmF0ZXMocG9seW5vbSk7XG4gICAgZGVyaXZhdGlvbnMudW5zaGlmdChwb2x5bm9tKTtcbiAgICB2YXIgbWF4PU1hdGgubWluKHJlc3VsdC5sZW5ndGgtMSwyKTtcblxuICAgIGZvciAodmFyIGM9bWF4O2M+PTA7Yy0tKVxuICAgIHtcbiAgICAgICAgdmFyIHplcm89cmVzdWx0W2NdLnplcm9zO1xuICAgICAgICB2YXIgcD1kZXJpdmF0aW9uc1tjXTsgIFxuICAgICAgICB2YXIgc29sdXRpb249IGZvcm1hdFJlc3VsdCh6ZXJvKTtcbiAgICAgICAgdmFyIHZpZXc9bWFpbi5zb2x1dGlvbnN2aWV3LmFkZCh7c29sdXRpb24scG9seW5vbTpwfSApOyAgIFxuICAgICAgICBpZiAoYz09bWF4JiZtYWluLnNvbHV0aW9uc3ZpZXcuc2l6ZT4xKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3LnNlcGVyYXRvcj10cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWFpbi5zb2x1dGlvbnN2aWV3LnNjcm9sbFRvQm90dG9tKCk7XG59XG5cblxuXG5cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgLy9hbGVydChcImJhY2tcIilcbiAgICBcbiAgIGNsb3NlQ2hhcnRWaWV3KCk7XG4gICAgICBcbiAgICBcbn0pOyIsImltcG9ydCB7IFZpZXcsIFZpZXdMaXN0IH0gZnJvbSBcIi4vZnJhbWV3b3JrXCI7XG5pbXBvcnQgeyBEZWNpbWFsIH0gZnJvbSBcIi4uL3NyYy9zb2x2ZXJcIjtcbnR5cGUgU29sdXRpb249e3BvbHlub206RGVjaW1hbFtdLHNvbHV0aW9uOnN0cmluZ31cblxuZXhwb3J0IGNsYXNzIFNvbHV0aW9uc1ZpZXcgZXh0ZW5kcyBWaWV3TGlzdDxTb2x1dGlvbixTb2x1dGlvblZpZXc+XG57XG5cbiAgICBwcml2YXRlIHRhYmxlQ29udGFpbmVyPTxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWJsZUNvbnRhaW5lclwiKTtcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcig8SFRNTEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFibGVcIikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXSk7XG4gICAgfVxuXG4gICAgY3JlYXRlVmlld21vZGVsKG1vZGVsOiBTb2x1dGlvbik6IFNvbHV0aW9uVmlldyB7XG4gICAgICAgdmFyIHZpZXc9IG5ldyBTb2x1dGlvblZpZXcoKTtcbiAgICAgICB2aWV3LnNldE1vZGVsKG1vZGVsKTtcbiAgICAgICByZXR1cm4gdmlldztcbiAgICB9ICAgXG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxuICAgIHsgXG4gICAgICB0aGlzLnRhYmxlQ29udGFpbmVyLnNjcm9sbFRvKDAsdGhpcy50YWJsZUNvbnRhaW5lci5zY3JvbGxIZWlnaHQpO1xuICAgIH1cbiAgICBkaXNwb3NlKCk6IHZvaWQge1xuICAgICAgXG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNvbHV0aW9uVmlldyBleHRlbmRzIFZpZXc8U29sdXRpb24+XG57XG4gICAgcG9seW5vbTpQb2x5bm9tVmlldztcbiAgICBwcml2YXRlIHN0YXRpYyB0bXBsRGlzcGxheVNvbHV0aW9uID08SFRNTFRlbXBsYXRlRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0bXBsRGlzcGxheVNvbHV0aW9uXCIpO1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKDxIVE1MVGVtcGxhdGVFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRtcGxEaXNwbGF5Um93XCIpKTtcbiAgICAgICAgdGhpcy5wb2x5bm9tPSBuZXcgUG9seW5vbVZpZXcoKTtcbiAgICB9XG5cbiAgIFxuICAgIHB1YmxpYyBnZXQgc2VwZXJhdG9yKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50WzBdLmNsYXNzTGlzdC5jb250YWlucyhcInNlcGVyYXRvclwiKTtcbiAgICB9XG4gICAgcHVibGljIHNldCBzZXBlcmF0b3IodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbMF0uY2xhc3NMaXN0LmFkZChcInNlcGVyYXRvclwiKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFswXS5jbGFzc0xpc3QucmVtb3ZlKFwic2VwZXJhdG9yXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldE1vZGVsKHZhbHVlOlNvbHV0aW9uKTogdm9pZCB7ICBcbiAgICAgICAgXG4gICAgICAgIHRoaXMucG9seW5vbS5zZXRNb2RlbCh2YWx1ZS5wb2x5bm9tKTtcbiAgICAgICAgdmFyIHRyPSB0aGlzLmVsZW1lbnRbMF07ICAgIFxuICAgICAgICBcbiAgICAgICAgdmFyIGMxPTxIVE1MRWxlbWVudD50ci5jaGlsZHJlblswXTtcbiAgICAgICAgYzEuaW5uZXJIVE1MPVwiXCI7XG4gICAgICAgIGMxLmFwcGVuZENoaWxkKHRoaXMucG9seW5vbS5lbGVtZW50WzBdKVxuXG4gICAgICAgIHZhciBkaXNwbGF5U29sdXRpb249KDxIVE1MRWxlbWVudD4gU29sdXRpb25WaWV3LnRtcGxEaXNwbGF5U29sdXRpb24uY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpLnF1ZXJ5U2VsZWN0b3IoXCIuZGlzcGxheXNvbHV0aW9uXCIpO1xuICAgICAgICBkaXNwbGF5U29sdXRpb24uaW5uZXJIVE1MPXZhbHVlLnNvbHV0aW9uO1xuICAgICAgICB2YXIgYzI9dHIuY2hpbGRyZW5bMV07XG4gICAgICAgIGMyLmlubmVySFRNTD1cIlwiO1xuICAgICAgICBjMi5hcHBlbmRDaGlsZChkaXNwbGF5U29sdXRpb24pO1xuICAgICAgIFxuICAgIH1cblxuICAgIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgICBcbiAgICB9XG4gICAgZ2V0TW9kZWwoKTogU29sdXRpb24ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2x5bm9tVmlldyBleHRlbmRzIFZpZXc8RGVjaW1hbFtdPlxue1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgdG1wbFh0ZXh0ID08SFRNTFRlbXBsYXRlRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0bXBsWHRleHRcIik7XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoPEhUTUxUZW1wbGF0ZUVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG1wbEZvcm11bGFcIikpXG4gICAgfVxuXG4gICAgc2V0TW9kZWwodmFsdWU6RGVjaW1hbFtdKTogdm9pZCB7ICAgICAgIFxuICAgICAgICB0aGlzLmVsZW1lbnRbMF0uaW5uZXJIVE1MPVwiXCI7XG4gICAgICAgIHZhciBkZWdyZWU9dmFsdWUubGVuZ3RoLTE7ICAgICAgIFxuICAgICAgICB2YXIgZmlyc3Q9dHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgYz0wO2M8dmFsdWUubGVuZ3RoO2MrKylcbiAgICAgICAgeyBcbiAgICAgICAgICAgIHZhciB2PXZhbHVlW2NdO1xuICAgICAgICAgICAgaWYodi5pc1plcm8oKSkgXG4gICAgICAgICAgICB7ICAgICBcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHh0ZXh0PSA8SFRNTEVsZW1lbnQ+UG9seW5vbVZpZXcudG1wbFh0ZXh0LmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgdmFyIGZhY3Rvcj0gPEhUTUxJbnB1dEVsZW1lbnQ+IHh0ZXh0LnF1ZXJ5U2VsZWN0b3IoXCIuZmFjdG9yXCIpIDtcbiAgICAgICAgICAgIGZhY3Rvci5pbm5lckhUTUw9IHYuYWJzKCkubXVsKDEwMDAwKS5yb3VuZCgpLmRpdigxMDAwMCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmIChjIT1kZWdyZWUpIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgeHRleHQucXVlcnlTZWxlY3RvcihcIi52YXJpYWJsZW5hbWVcIikuaW5uZXJIVE1MPVwieFwiO1xuICAgICAgICAgICAgdmFyIGV4cG9uZW50PTxIVE1MRWxlbWVudD4geHRleHQucXVlcnlTZWxlY3RvcihcIi5leHBvbmVudFwiKTtcbiAgICAgICAgICAgIGV4cG9uZW50LmlubmVySFRNTD0oZGVncmVlLWMpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAoYz09ZGVncmVlLTEpIGV4cG9uZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFmaXJzdCB8fCB2LmlzTmVnYXRpdmUoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc2lnbj12LmlzUG9zaXRpdmUoKSAgID9cIitcIjpcIi1cIjtcbiAgICAgICAgICAgICAgICBpZiAoIWZpcnN0KSBzaWduKz1cIiBcIjtcbiAgICAgICAgICAgICAgICB4dGV4dC5xdWVyeVNlbGVjdG9yKFwiLnNpZ25cIikuaW5uZXJIVE1MPXNpZ247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbMF0uYXBwZW5kQ2hpbGQoeHRleHQpOyAgXG4gICAgICAgICAgICBmaXJzdD1mYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgICAgXG4gICAgfVxuICAgIGdldE1vZGVsKCk6IERlY2ltYWxbXSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH1cblxuXG59XG5cblxuZXhwb3J0IGNsYXNzIFBvbHlub21FZGl0VmlldyBleHRlbmRzIFZpZXc8QXJyYXk8RGVjaW1hbD4+XG57XG4gIFxuICAgIHB1YmxpYyBnZXQgZGVncmVlKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhY3RvckVkaXRWaWV3cy5sZW5ndGgtMTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGVkaXRSb3dDb250YWluZXI6SFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBmYWN0b3JFZGl0Vmlld3M6RmFjdG9yRWRpdFZpZXdbXT1bXTtcbiAgICBwdWJsaWMgb25rZXllbnRlciA6ICgpPT52b2lkOyBcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcig8SFRNTFRlbXBsYXRlRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0bXBsRWRpdFJvd1wiKSlcbiAgICAgICAgdGhpcy5lZGl0Um93Q29udGFpbmVyPXRoaXMuZWxlbWVudFswXTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZWRpdFJvd0NvbnRhaW5lci5vbmtleWRvd249KChldik9PntcbiAgICAgICAgICAgIGlmIChldi5rZXk9PVwiRW50ZXJcIiAmJiB0aGlzLm9ua2V5ZW50ZXIpXG4gICAgICAgICAgICB7ICAgICAgICAgXG4gICAgICAgICAgICAgIHRoaXMub25rZXllbnRlcigpO1xuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICAgIH0pOyAgXG4gICAgfVxuICAgIHNldE1vZGVsKHZhbHVlOiBEZWNpbWFsW10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lZGl0Um93Q29udGFpbmVyLmlubmVySFRNTD1cIlwiO1xuICAgICAgICB0aGlzLmZhY3RvckVkaXRWaWV3cy5sZW5ndGg9MDtcbiAgICAgICAgdmFyIGRlZ3JlZT12YWx1ZS5sZW5ndGgtMTtcbiAgICAgICAgZm9yICh2YXIgYz1kZWdyZWU7Yz49MDtjLS0pXG4gICAgICAgIHsgXG4gICAgICAgICAgIHZhciB2ID0gbmV3IEZhY3RvckVkaXRWaWV3KCk7XG4gICAgICAgICAgIHYuc2V0TW9kZWwodmFsdWVbZGVncmVlLWNdKTtcbiAgICAgICAgICAgdi5kZWdyZWU9YztcbiAgICAgICAgICAgdGhpcy5mYWN0b3JFZGl0Vmlld3MucHVzaCh2KTsgXG4gICAgICAgICAgIHRoaXMuZWRpdFJvd0NvbnRhaW5lci5hcHBlbmRDaGlsZCh2LmVsZW1lbnRbMF0pOyAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdXNoKHZhbHVlOkRlY2ltYWwpXG4gICAge1xuICAgICAgICB2YXIgdiA9IG5ldyBGYWN0b3JFZGl0VmlldygpO1xuICAgICAgICB2LnNldE1vZGVsKHZhbHVlKTtcbiAgICAgICAgdi5kZWdyZWU9dGhpcy5mYWN0b3JFZGl0Vmlld3MubGVuZ3RoO1xuICAgICAgICB0aGlzLmZhY3RvckVkaXRWaWV3cy51bnNoaWZ0KHYpOyBcbiAgICAgICAgdGhpcy5lZGl0Um93Q29udGFpbmVyLnByZXBlbmQodi5lbGVtZW50WzBdKTsgXG4gICAgfVxuICAgIHBvcCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZmFjdG9yRWRpdFZpZXdzLnNoaWZ0KCk9PT11bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5lZGl0Um93Q29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZSgpOyAgICAgICAgXG4gICAgfVxuICAgIGdldE1vZGVsKCk6IERlY2ltYWxbXSB7XG4gICAgICByZXR1cm4gdGhpcy5mYWN0b3JFZGl0Vmlld3MubWFwKHA9PnAuZ2V0TW9kZWwoKSk7XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5lZGl0Um93Q29udGFpbmVyLm9ua2V5ZG93bj1udWxsO1xuICAgIH1cbiAgICBcbn1cblxuXG5leHBvcnQgY2xhc3MgRmFjdG9yRWRpdFZpZXcgZXh0ZW5kcyBWaWV3PERlY2ltYWw+XG57XG4gICAgcHJpdmF0ZSBzdGF0aWMgdG1wbFh0ZXh0ID08SFRNTFRlbXBsYXRlRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0bXBsWGVkaXRcIik7XG4gICAgcHJpdmF0ZSBmYWN0b3I6SFRNTElucHV0RWxlbWVudDtcbiAgICBwcml2YXRlIF9kZWdyZWU6IG51bWJlcjtcbiAgICBwdWJsaWMgZ2V0IGRlZ3JlZSgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVncmVlO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IGRlZ3JlZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2RlZ3JlZSA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5kZWdyZWUhPTApIFxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIi52YXJpYWJsZW5hbWVcIikuaW5uZXJIVE1MPVwieFwiO1xuICAgICAgICAgICAgdmFyIGV4cG9uZW50PTxIVE1MRWxlbWVudD4gdGhpcy5lbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoXCIuZXhwb25lbnRcIik7XG4gICAgICAgICAgICBleHBvbmVudC5pbm5lckhUTUw9dGhpcy5kZWdyZWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlZ3JlZT09MSkgIGV4cG9uZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIi5zaWduXCIpLmlubmVySFRNTD1cIitcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHsgICAgICBcbiAgICAgICAgICB0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIi5zaWduXCIpLmlubmVySFRNTD1cIj0wXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoRmFjdG9yRWRpdFZpZXcudG1wbFh0ZXh0KTtcbiAgICAgICAgdGhpcy5mYWN0b3I9IDxIVE1MSW5wdXRFbGVtZW50PiB0aGlzLmVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcihcIi5mYWN0b3JcIikgO1xuICAgIH1cbiAgICBcbiAgICBzZXRNb2RlbCh2YWx1ZTogRGVjaW1hbCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZhY3Rvci52YWx1ZT12YWx1ZT09PW51bGwgfHwgdmFsdWUuaXNOYU4oKSA/XCJcIjp2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICBnZXRNb2RlbCgpOiBEZWNpbWFsIHtcbiAgICAgICAgdmFyIGRlY2ltYWw6RGVjaW1hbDtcbiAgICAgICAgdHJ5e1xuICAgICAgICAgZGVjaW1hbD0gbmV3IERlY2ltYWwodGhpcy5mYWN0b3IudmFsdWUudHJpbSgpKTtcbiAgICAgICAgfSBjYXRjaChleClcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBuZXcgRGVjaW1hbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGRlY2ltYWwuaXNOYU4oKSA/IG5ldyBEZWNpbWFsKDApOmRlY2ltYWw7XG4gICAgfVxuXG4gICAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAgIFxuICAgIH1cbiAgICBcbn1cblxuXG5cblxuXG50eXBlIE1haW49eyBzb2x1dGlvbjpTb2x1dGlvbltdLHBvbHlub21FZGl0OiBBcnJheSA8RGVjaW1hbD4gfVxuZXhwb3J0IGNsYXNzIE1haW5WaWV3IGV4dGVuZHMgVmlldzxNYWluPiAge1xuXG4gICAgcHJpdmF0ZSBidG5BZGQ9IDxIVE1MQnV0dG9uRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5BZGRcIik7XG4gICAgcHJpdmF0ZSBidG5SZW1vdmU9IDxIVE1MQnV0dG9uRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5SZW1vdmVcIik7XG4gICAgcHJpdmF0ZSBidG5Tb2x2ZSA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blNvbHZlXCIpO1xuICAgIHByaXZhdGUgYnRuUGxvdCA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0blBsb3RcIik7XG4gICAgcHJpdmF0ZSBidG5EaXZpZGUgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5EaXZpZGVcIik7XG5cbiAgICBwdWJsaWMgcG9seW5vbWVkaXR2aWV3OlBvbHlub21FZGl0VmlldztcbiAgICBwdWJsaWMgc29sdXRpb25zdmlldzpTb2x1dGlvbnNWaWV3O1xuICAgIHB1YmxpYyBnZXQgb25idXR0b25hZGQoKTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5idG5BZGQub25jbGljaztcbiAgICB9XG4gICAgcHVibGljIHNldCBvbmJ1dHRvbmFkZCh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgICAgdGhpcy5idG5BZGQub25jbGljayA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgb25idXR0b25yZW1vdmUoKTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5idG5SZW1vdmUub25jbGljaztcbiAgICB9XG4gICAgcHVibGljIHNldCBvbmJ1dHRvbnJlbW92ZSh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgICAgdGhpcy5idG5SZW1vdmUub25jbGljayA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgb25idXR0b25zb2x2ZSgpOiAodGhpczogR2xvYmFsRXZlbnRIYW5kbGVycywgZXY6IE1vdXNlRXZlbnQpID0+IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ0blNvbHZlLm9uY2xpY2s7XG4gICAgfVxuICAgIHB1YmxpYyBzZXQgb25idXR0b25zb2x2ZSh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgICAgdGhpcy5idG5Tb2x2ZS5vbmNsaWNrID0gdmFsdWU7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgb25idXR0b25wbG90KCk6ICh0aGlzOiBHbG9iYWxFdmVudEhhbmRsZXJzLCBldjogTW91c2VFdmVudCkgPT4gYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnRuUGxvdC5vbmNsaWNrO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IG9uYnV0dG9ucGxvdCh2YWx1ZTogKHRoaXM6IEdsb2JhbEV2ZW50SGFuZGxlcnMsIGV2OiBNb3VzZUV2ZW50KSA9PiBhbnkpIHtcbiAgICAgICAgdGhpcy5idG5QbG90Lm9uY2xpY2sgPSB2YWx1ZTtcbiAgICB9XG4gICAgcHVibGljIGdldCBvbmJ1dHRvbmRpdmlkZSgpOiAodGhpczogR2xvYmFsRXZlbnRIYW5kbGVycywgZXY6IE1vdXNlRXZlbnQpID0+IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ0bkRpdmlkZS5vbmNsaWNrO1xuICAgIH1cbiAgICBwdWJsaWMgc2V0IG9uYnV0dG9uZGl2aWRlKHZhbHVlOiAodGhpczogR2xvYmFsRXZlbnRIYW5kbGVycywgZXY6IE1vdXNlRXZlbnQpID0+IGFueSkge1xuICAgICAgICB0aGlzLmJ0bkRpdmlkZS5vbmNsaWNrID0gdmFsdWU7XG4gICAgfVxuXG5cbiAgICBjb25zdHJ1Y3RvcigpIHsgICBcbiAgICAgIHN1cGVyKGRvY3VtZW50LmJvZHkpO1xuICAgICAgdGhpcy5zb2x1dGlvbnN2aWV3PSBuZXcgU29sdXRpb25zVmlldygpO1xuICAgICAgdGhpcy5wb2x5bm9tZWRpdHZpZXc9IG5ldyBQb2x5bm9tRWRpdFZpZXcoKTtcbiAgICAgIHZhciB0b3BDb250YWluZXI9IDxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3BDb250YWluZXJcIik7XG4gICAgICB0aGlzLnBvbHlub21lZGl0dmlldy5hcHBlbmRUbyh0b3BDb250YWluZXIpOyAgICAgXG4gICAgfVxuICBcbiAgICBzZXRNb2RlbCh2YWx1ZTogTWFpbik6IHZvaWQge1xuXG4gICAgICAgIHRoaXMucG9seW5vbWVkaXR2aWV3LnNldE1vZGVsKHZhbHVlLnBvbHlub21FZGl0KTtcbiAgICAgICAgdGhpcy5zb2x1dGlvbnN2aWV3LnNldE1vZGVsKHZhbHVlLnNvbHV0aW9uKTtcbiAgICAgICAgICAgIFxuICAgIH1cbiAgICBnZXRNb2RlbCgpOiBNYWluIHtcbiAgICAgICAgcmV0dXJuIHtzb2x1dGlvbjp0aGlzLnNvbHV0aW9uc3ZpZXcuZ2V0TW9kZWwoKSxwb2x5bm9tRWRpdDp0aGlzLnBvbHlub21lZGl0dmlldy5nZXRNb2RlbCgpfTtcbiAgICB9XG4gICAgZGlzcG9zZSgpOiB2b2lkIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuXG4gIH0iLCJpbXBvcnQge0RlY2ltYWx9IGZyb20gJ2RlY2ltYWwuanMnO1xuRGVjaW1hbC5zZXQoeyBwcmVjaXNpb246IDk2fSlcbmV4cG9ydCB7RGVjaW1hbH07XG5jb25zdCBuZWdhdGl2ZUluZmluaXR5ID1uZXcgRGVjaW1hbChOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuY29uc3QgcG9zaXRpdmVJbmZpbml0eSA9bmV3IERlY2ltYWwoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbmNvbnN0IHplcm8gPW5ldyBEZWNpbWFsKDApO1xuY29uc3Qgb25lID1uZXcgRGVjaW1hbCgxKTtcbmNvbnN0IHR3byA9bmV3IERlY2ltYWwoMik7XG5jb25zdCBuYW4gPW5ldyBEZWNpbWFsKE51bWJlci5OYU4pO1xuXG5leHBvcnQgZnVuY3Rpb24qIGdldEludGVydmFsc0luUG9seW5vbSggLi4uc29ydGVkRGVyaXZhdGVaZXJvczpEZWNpbWFsW10pOkdlbmVyYXRvcjxJbnRlcnZhbD5cbntcbiAgICB2YXIgbGVmdCxyaWdodDtcbiAgICB2YXIgaW5kZXg9c29ydGVkRGVyaXZhdGVaZXJvcy5sZW5ndGg7ICBcbiAgICBpZiAoaW5kZXggPT0wKSB7XG4gICAgICAgeWllbGQge2xlZnQ6bmVnYXRpdmVJbmZpbml0eSxyaWdodDpwb3NpdGl2ZUluZmluaXR5LHN0YXJ0Onplcm99O1xuICAgICAgIHJldHVybjtcbiAgICB9IFxuICAgIHJpZ2h0PXNvcnRlZERlcml2YXRlWmVyb3NbMF1cbiAgICB5aWVsZCAge2xlZnQ6bmVnYXRpdmVJbmZpbml0eSxyaWdodCxzdGFydDpyaWdodC5zdWIob25lKX07IFxuXG4gICAgZm9yICh2YXIgaT0xO2k8aW5kZXg7aSsrKVxuICAgIHtcbiAgICAgICAgbGVmdD1yaWdodDsgICAgICBcbiAgICAgICAgcmlnaHQ9c29ydGVkRGVyaXZhdGVaZXJvc1tpXTsgICAgXG4gICAgICAgIGlmIChsZWZ0LmdyZWF0ZXJUaGFuT3JFcXVhbFRvKHJpZ2h0KSkgdGhyb3cgbmV3IEVycm9yKCk7ICAgICAgICBcbiAgICAgICAgeWllbGQge2xlZnQscmlnaHQsc3RhcnQ6bGVmdC5hZGQocmlnaHQpLmRpdih0d28pfTsgICAgICBcbiAgICB9XG4gICAgeWllbGQgIHtsZWZ0OnJpZ2h0LHJpZ2h0OnBvc2l0aXZlSW5maW5pdHksc3RhcnQ6cmlnaHQuYWRkKG9uZSl9IDsgICAgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBlcmFjaWQocG9seW5vbTpEZWNpbWFsW10sYWNjdXJhY3k6RGVjaW1hbD1uZXcgRGVjaW1hbChcIjAuMDAwMDFcIiksIGl0ZXJhdGlvbnM6bnVtYmVyPTk2KTpEZWNpbWFsW11cbntcbiAgdmFyIHJlc3VsdD0gc29sdmUocG9seW5vbSxhY2N1cmFjeSxpdGVyYXRpb25zKTtcbiAgaWYgKHJlc3VsdC5sZW5ndGg9PTApIHJldHVybiBbXTtcbiAgcmV0dXJuIHJlc3VsdFswXS56ZXJvcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld3Rvbkl0ZXJhdGUocG9seW5vbTpEZWNpbWFsW10sZGVyaXZhdGU6RGVjaW1hbFtdLFxuICAgIGxlZnQ6RGVjaW1hbCxyaWdodDpEZWNpbWFsLHN0YXJ0OkRlY2ltYWwsXG4gICAgaXRlcmF0aW9uczpudW1iZXIsYWNjdXJhY3k6RGVjaW1hbCk6RGVjaW1hbFxue1xuIHZhciBkZWdyZWUgPSBwb2x5bm9tLmxlbmd0aC0xO1xuIGlmIChkZWdyZWU8PTAgfHwgZGVyaXZhdGUubGVuZ3RoICE9IHBvbHlub20ubGVuZ3RoLTEpIHJldHVybiBudWxsO1xuIGlmIChpdGVyYXRpb25zPDApIHJldHVybiBudWxsO1xuIHZhciBjPTA7XG4gdmFyIHg9bnVsbDtcbiB2YXIgZng9cG9zaXRpdmVJbmZpbml0eTtcbiB2YXIgZnh4PW51bGw7XG4gdmFyIG5leHRGeD1udWxsO1xuIHdoaWxlKHRydWUpXG4geyAgICBcbiAgICBpZiAoc3RhcnQubGVzc1RoYW4obGVmdCkgfHwgc3RhcnQuZ3JlYXRlclRoYW4ocmlnaHQpKSBcbiAgICB7XG4gICAgICAgIGJyZWFrO1xuICAgIH0gICAgXG4gICAgbmV4dEZ4PWNhbGN1bGF0ZShwb2x5bm9tLHN0YXJ0KTtcbiAgICBpZiAoYz4xICYmIG5leHRGeC5hYnMoKS5ncmVhdGVyVGhhbk9yRXF1YWxUbyhmeC5hYnMoKSkgJiYgZnguYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpKSBcbiAgICB7ICAgICAgXG4gICAgICByZXR1cm4geDtcbiAgICB9ICAgXG4gICAgZng9IG5leHRGeDtcbiAgICB4PXN0YXJ0OyBcbiAgICBpZiAoZnguaXNaZXJvKCkgfHwgXG4gICAgICAgYz49aXRlcmF0aW9ucyB8fFxuICAgICAgIChmeHg9IGNhbGN1bGF0ZShkZXJpdmF0ZSx4KSkuaXNaZXJvKCkpIGJyZWFrO1xuICAgIHZhciBzdGFydD1zdGFydC5zdWIoZnguZGl2KGZ4eCkpO1xuICAgIGMrKzsgICAgXG4gfVxuIHJldHVybiBmeC5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkgPyB4OiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmlzZWN0KHBvbHlub206RGVjaW1hbFtdLFxuICBwb3NpdGl2ZUVuZHBvaW50OkRlY2ltYWwsbmVnYXRpdmVFbmRwb2ludDpEZWNpbWFsLFxuICBpdGVyYXRpb25zOm51bWJlcixhY2N1cmFjeTpEZWNpbWFsKTpEZWNpbWFsXG57XG4gIHZhciBkZWdyZWUgPSBwb2x5bm9tLmxlbmd0aC0xO1xuICBpZiAoZGVncmVlPD0wKSByZXR1cm4gbnVsbDtcbiAgLy92YXIgZnhQb3NpdGl2ZT1jYWxjdWxhdGUocG9seW5vbSxwb3NpdGl2ZUVuZHBvaW50KTtcbiAgLy92YXIgZnhOZWdhdGl2ZT1jYWxjdWxhdGUocG9seW5vbSxuZWdhdGl2ZUVuZHBvaW50KTtcbiAgdmFyIG9sZG1pZGRsZT1wb3NpdGl2ZUluZmluaXR5O1xuICBmb3IgKHZhciBjPTA7YzwgaXRlcmF0aW9ucztjKyspXG4gIHtcbiAgICB2YXIgbWlkZGxlPXBvc2l0aXZlRW5kcG9pbnQuYWRkKG5lZ2F0aXZlRW5kcG9pbnQpLmRpdih0d28pO1xuICAgIGlmIChtaWRkbGUuZXF1YWxzKG9sZG1pZGRsZSkpXG4gICAge1xuICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHZhciBmeG1pZGRsZT1jYWxjdWxhdGUocG9seW5vbSxtaWRkbGUpO1xuICAgIGlmIChmeG1pZGRsZS5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkpIHJldHVybiBtaWRkbGU7XG4gICAgaWYgKGZ4bWlkZGxlLmlzUG9zaXRpdmUoKSlcbiAgICB7XG4gICAgIHBvc2l0aXZlRW5kcG9pbnQ9bWlkZGxlO1xuICAgIH0gZWxzZVxuICAgIHtcbiAgICAgbmVnYXRpdmVFbmRwb2ludD1taWRkbGU7XG4gICAgfVxuICAgIG9sZG1pZGRsZT1taWRkbGU7XG4gIH1cbiAgcmV0dXJuIGZ4bWlkZGxlLmFicygpLmxlc3NUaGFuKGFjY3VyYWN5KT8gbWlkZGxlOm51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVEZXJpdmF0ZXMocG9seW5vbTpEZWNpbWFsW10pXG57XG4gICAgdmFyIGRlcml2YXRlc0NvdW50ID0gcG9seW5vbS5sZW5ndGgtMTtcbiAgICBpZiAoZGVyaXZhdGVzQ291bnQ8MSkgcmV0dXJuIFtdO1xuICAgIHZhciBkZXJpdmF0aW9ucz1uZXcgQXJyYXk8RGVjaW1hbFtdPihkZXJpdmF0ZXNDb3VudCk7XG4gICAgZGVyaXZhdGlvbnNbMF09IGRlcml2YXRpdmUocG9seW5vbSk7XG4gICAgZm9yICh2YXIgYz0xO2M8ZGVyaXZhdGVzQ291bnQ7YysrKVxuICAgIHsgICAgIFxuICAgICAgICBkZXJpdmF0aW9uc1tjXT1kZXJpdmF0aXZlKGRlcml2YXRpb25zW2MtMV0pO1xuICAgIH0gXG4gICAgcmV0dXJuIGRlcml2YXRpb25zO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlcml2YXRpdmUocG9seW5vbTpEZWNpbWFsW10pXG57XG4gICAgdmFyIGM9cG9seW5vbS5sZW5ndGgtMTtcbiAgICB2YXIgZGVyaXZhdGl2ZT0gbmV3IEFycmF5PERlY2ltYWw+KGMpOyBcbiAgICB2YXIgZGVncmVlPTE7ICBcbiAgICB3aGlsZSAoYy0tKVxuICAgIHsgICAgICBcbiAgICAgICAgZGVyaXZhdGl2ZVtjXT0ocG9seW5vbVtjXS5tdWwoZGVncmVlKSk7XG4gICAgICAgIGRlZ3JlZSsrO1xuICAgIH1cbiAgICByZXR1cm4gZGVyaXZhdGl2ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGUocG9seW5vbTpEZWNpbWFsW10seDpEZWNpbWFsKVxue1xuICAgIHZhciBzdW09emVybztcbiAgICB2YXIgYz1wb2x5bm9tLmxlbmd0aDtcbiAgICB2YXIgZGVncmVlPTA7ICBcbiAgICB3aGlsZSAoYy0tKVxuICAgIHsgICAgICBcbiAgICAgICAgc3VtPXN1bS5hZGQocG9seW5vbVtjXS5tdWwoRGVjaW1hbC5wb3coeCxkZWdyZWUpKSk7XG4gICAgICAgIGRlZ3JlZSsrO1xuICAgIH1cbiAgICByZXR1cm4gc3VtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VOZWlnaGJvdXJpbmdSb290cyhyb290czogRGVjaW1hbFtdLGFjY3VyYWN5OkRlY2ltYWwpXG57XG4gdmFyIGxlbmd0aD1yb290cy5sZW5ndGg7XG4gdmFyIGNvdW50PTA7XG4gZm9yICh2YXIgYz0wO2M8bGVuZ3RoOylcbiB7ICAgXG4gICAgIHZhciBzdW09emVybzsgICBcbiAgICAgdmFyIHN0YXJ0TWVyZ2U9YzsgIFxuICAgICBkbyBcbiAgICAge1xuICAgICAgIHZhciB2YWx1ZT1yb290c1tjXTtcbiAgICAgICBzdW09IHN1bS5hZGQodmFsdWUpO1xuICAgICAgIGMrKztcbiAgICAgfSB3aGlsZSAoKGM8bGVuZ3RoKSYmdmFsdWUuc3ViKHJvb3RzW2NdKS5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkpXG4gICAgIHJvb3RzW2NvdW50XT1zdW0uZGl2KGMtc3RhcnRNZXJnZSk7XG4gICAgIGNvdW50Kys7XG4gfVxuIHJvb3RzLmxlbmd0aD1jb3VudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb25Bc2NlbmRpbmdUb1RoZVJpZ2h0KHBvbHlub21zOkRlY2ltYWxbXVtdLCB4OkRlY2ltYWwsYWNjdXJhY3k6RGVjaW1hbD1uZXcgRGVjaW1hbCgwLjAwMSkpOmJvb2xlYW5cbnsgXG4gLy9maW5kIGZpcnN0IG5vbi16ZXJvIGRlcml2YXRpb25cbiBmb3IgKHZhciBmID0xO2Y8cG9seW5vbXMubGVuZ3RoO2YrKyApXG4ge1xuICAgdmFyIHZhbHVlPWNhbGN1bGF0ZShwb2x5bm9tc1tmXSx4KTtcbiAgIGlmICghdmFsdWUuYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpKSB7XG4gICAgIHJldHVybiB2YWx1ZS5pc1Bvc2l0aXZlKCk7XG4gICB9XG4gfVxuIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb25Bc2NlbmRpbmdUb1RoZUxlZnQocG9seW5vbXM6RGVjaW1hbFtdW10sIHg6RGVjaW1hbCxhY2N1cmFjeTpEZWNpbWFsPW5ldyBEZWNpbWFsKDAuMDAxKSk6Ym9vbGVhblxueyBcbiAvL2ZpbmQgZmlyc3Qgbm9uLXplcm8gZGVyaXZhdGlvblxuIGZvciAodmFyIGYgPTE7Zjxwb2x5bm9tcy5sZW5ndGg7ZisrIClcbiB7XG4gICB2YXIgdmFsdWU9Y2FsY3VsYXRlKHBvbHlub21zW2ZdLHgpO1xuICAgaWYgKCF2YWx1ZS5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkpIHtcbiAgICAgcmV0dXJuIHZhbHVlLmlzUG9zaXRpdmUoKT09KGYgJSAyID09MCk7XG4gICB9XG4gfVxuIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbGljYXRlKHBvbHlub20xOkRlY2ltYWxbXSxwb2x5bm9tMjpEZWNpbWFsW10pXG57XG4gIHZhciBhcnJheVNpemU9cG9seW5vbTEubGVuZ3RoLTErcG9seW5vbTIubGVuZ3RoO1xuICB2YXIgcCA9IG5ldyBBcnJheTxEZWNpbWFsPihhcnJheVNpemUpLmZpbGwoemVybyk7IFxuICBmb3IgKHZhciBwMT0wO3AxPHBvbHlub20xLmxlbmd0aDtwMSsrKVxuICB7XG4gICAgZm9yICh2YXIgcDI9MDtwMjxwb2x5bm9tMi5sZW5ndGg7cDIrKylcbiAgICB7XG4gICAgICAgIHZhciB0YXJnZXREZWdyZWU9cDErcDI7XG4gICAgICAgIHZhciBzdW0yYWRkPXBvbHlub20xW3AxXS5tdWwocG9seW5vbTJbcDJdKTtcbiAgICAgICAgcFt0YXJnZXREZWdyZWVdPXBbdGFyZ2V0RGVncmVlXS5hZGQoc3VtMmFkZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQb2x5bm9tRnJvbVJvb3RzKC4uLnJvb3RzOkRlY2ltYWxbXSlcbntcbiAgdmFyIHA6RGVjaW1hbFtdPVtvbmVdO1xuICBmb3IgKHZhciBjPTA7Yzwgcm9vdHMubGVuZ3RoO2MrKylcbiAge1xuICAgIHA9bXVsdGlwbGljYXRlKHAsW29uZSwgcm9vdHNbY10ubmVnKCldKTsgICBcbiAgfVxuICByZXR1cm4gcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbXBseWZ5UG9seW5vbShwb2x5bm9tOkRlY2ltYWxbXSk6RGVjaW1hbFtdXG57IFxuIHZhciBwOkRlY2ltYWxbXT1bXTtcbiB2YXIgZmlyc3Q6RGVjaW1hbD1udWxsO1xuIHZhciBsZW5ndGg9cG9seW5vbS5sZW5ndGg7XG4gZm9yICh2YXIgYz0wO2M8bGVuZ3RoO2MrKylcbiB7XG4gIHZhciB2YWx1ZT1wb2x5bm9tW2NdO1xuICBpZiAoIXZhbHVlLmlzWmVybygpKVxuICB7XG4gICAgICBmaXJzdD12YWx1ZTsgICAgIFxuICAgICAgYnJlYWs7XG4gIH1cbiB9XG4gZm9yICg7YzxsZW5ndGg7YysrKVxuIHtcbiAgdmFyIHZhbHVlPXBvbHlub21bY107XG4gIHAucHVzaCh2YWx1ZS5kaXYoZmlyc3QpKTtcbiB9XG4gcmV0dXJuIHA7XG59XG5leHBvcnQgZnVuY3Rpb24gYW50aWRlcml2YXRpdmUocG9seW5vbTpEZWNpbWFsW10pXG57XG4gICAgdmFyIGRlZ3JlZT1wb2x5bm9tLmxlbmd0aDtcbiAgICB2YXIgYWQ9IG5ldyBBcnJheTxEZWNpbWFsPihkZWdyZWUrMSk7ICBcbiAgICB2YXIgbGFzdEluZGV4PWRlZ3JlZTsgICBcbiAgICBmb3IgKHZhciBjPTA7YzxsYXN0SW5kZXg7YysrKVxuICAgIHtcbiAgICAgIGFkW2NdPXBvbHlub21bY10uZGl2KGRlZ3JlZSk7XG4gICAgICBkZWdyZWUtLTtcbiAgICB9XG4gICAgYWRbbGFzdEluZGV4XT16ZXJvO1xuICAgIHJldHVybiBhZDtcbn1cbnR5cGUgSW50ZXJ2YWw9XG57XG4gICAgbGVmdDpEZWNpbWFsO1xuICAgIHJpZ2h0OkRlY2ltYWw7XG4gICAgc3RhcnQ6RGVjaW1hbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gJCguLi5hcnI6RGVjaW1hbC5WYWx1ZVtdKVxue1xuICAgIHJldHVybiBhcnIubWFwKHA9PntyZXR1cm4gbmV3IERlY2ltYWwocCk7fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1N0cmluZyhwb2x5bm9tOkRlY2ltYWxbXSxkZWNpbWFsUGxhY2VzOjB8MXwyfDN8NHw1fDZ8N3w4fDkpXG57XG4gICAgdmFyIGZhY3Rvcj1EZWNpbWFsLnBvdygxMCxkZWNpbWFsUGxhY2VzKTtcbiAgICB2YXIgZGVncmVlPXBvbHlub20ubGVuZ3RoO1xuICAgIHZhciBjPTA7XG4gICAgdmFyIHJlc3VsdD1cIlwiO1xuICAgIHZhciBmPTA7XG4gICAgd2hpbGUoZGVncmVlLS0pXG4gICAgeyAgICAgXG4gICAgIHZhciB2YWx1ZT1wb2x5bm9tW2NdO1xuICAgICBpZiAoIXZhbHVlLmlzWmVybygpKVxuICAgICB7XG4gICAgICAgIGlmICh2YWx1ZS5pc1Bvc2l0aXZlKCkpXG4gICAgICAgIHsgXG4gICAgICAgICAgIGlmIChmKSByZXN1bHQrPSBcIitcIjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgcmVzdWx0Kz0gXCItXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFicz0gdmFsdWUuYWJzKCk7XG4gICAgICAgIHZhciBzaG93RmFjdG9yPWRlZ3JlZT09MCB8fCAhYWJzLmVxdWFscyhvbmUpO1xuICAgICAgICBpZiAoc2hvd0ZhY3RvcikgcmVzdWx0Kz1hYnMubXVsKGZhY3Rvcikucm91bmQoKS5kaXYoZmFjdG9yKS50b1N0cmluZygpXG4gICAgICAgIFxuICAgICAgICBpZiAoZGVncmVlICE9MClcbiAgICAgICAge1xuICAgICAgICAgICByZXN1bHQrPShzaG93RmFjdG9yP1wiKlwiOlwiXCIpICtcInhcIjtcbiAgICAgICAgfSBcbiAgICAgICAgaWYgKGRlZ3JlZSA+MSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0Kz1cIl5cIitkZWdyZWU7XG4gICAgICAgIH1cbiAgICAgICAgZisrO1xuICAgICB9IFxuICAgICBjKys7XG4gICAgfSAgICBcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG50eXBlIFJvb3RGaW5kaW5nUmVzdWx0PXtwb2x5bm9tOkRlY2ltYWxbXSx6ZXJvczpEZWNpbWFsW119IFxuZXhwb3J0IGZ1bmN0aW9uIHNvbHZlKHBvbHlub206RGVjaW1hbFtdLGFjY3VyYWN5OkRlY2ltYWw9bmV3IERlY2ltYWwoMC4wMDEpLCBpdGVyYXRpb25zOm51bWJlcj02NCk6Um9vdEZpbmRpbmdSZXN1bHRbXVxue1xuIC8qXG4gIFNpbXBsaWZ5IHBvbHlub21pYWwgYnkgZGl2aWRpbmcgdGhyb3VnaCB0aGUgZmlyc3QgY29lZmZpY2llbnQuXG4gIFNtYWxsZXIgY29lZmZpY2llbnRzIG1lYW4gbGVzcyBjaGFuY2Ugb2Ygb3ZlcmZsb3dpbmcuXG4gKi9cbiAgcG9seW5vbT1zaW1wbHlmeVBvbHlub20ocG9seW5vbSk7IFxuICB2YXIgZGVncmVlID0gcG9seW5vbS5sZW5ndGgtMTtcbiAgaWYgKGRlZ3JlZTw9MCkgcmV0dXJuIG51bGw7XG4gIHZhciBwb2x5bm9tcz1jYWxjdWxhdGVEZXJpdmF0ZXMocG9seW5vbSk7IC8vY2FsY3VsYXRlIGFsbCBkZXJpdmF0aXZlc1xuICAvKlxuICAgIEFkZCBwb2x5bm9taWFsIHRvIHRoZSBsaXN0IG9mIHBvbHlub21pYWxzLCB3aG9zZSByb290cyBuZWVkIHRvIGJlIGNhbGN1bGF0ZWRcbiAgKi9cbiAgcG9seW5vbXMudW5zaGlmdChwb2x5bm9tKTsgXG4gIHZhciBjPSBkZWdyZWU7XG4gIHZhciBmaXJzdERlZ3JlZURlcml2YXRpb249cG9seW5vbXNbcG9seW5vbXMubGVuZ3RoLTJdO1xuICB2YXIgZGVyaXZhdGVaZXJvczpEZWNpbWFsW109W2ZpcnN0RGVncmVlRGVyaXZhdGlvblsxXS5uZWcoKS5kaXYoZmlyc3REZWdyZWVEZXJpdmF0aW9uWzBdKV07XG4gIHZhciByZXN1bHRzOlJvb3RGaW5kaW5nUmVzdWx0W109W107XG4gIHJlc3VsdHMudW5zaGlmdCh7cG9seW5vbTpmaXJzdERlZ3JlZURlcml2YXRpb24semVyb3M6ZGVyaXZhdGVaZXJvc30pXG4gIC8qXG4gICBDYWxjdWxhdGUgcm9vdHMgb2YgcG9seW5vbWlhbCBhbmQgYWxsIGl0cyBkZXJpdmF0ZXMsIHN0YXJ0aW5nIHdpdGggbG93ZXN0IGRlZ3JlZS5cbiAgIFJvb3RzIGFyZSBuZWVkZWQgZm9yIGNhbGN1bGF0aW5nIHRoZSByb290cyBvZiB0aGUgcG9seW5vbSB3aXRoIHRoZSBuZXh0IGRlZ3JlZS4gIFxuICAqL1xuICB3aGlsZSAoLS1jKSBcbiAgeyBcbiAgICAgdmFyIGZ4PSBwb2x5bm9tc1tjLTFdO1xuICAgICB2YXIgZnh4PSBwb2x5bm9tc1tjXTtcbiAgICAgdmFyIHJvb3RzOkRlY2ltYWxbXT1bXTsgIFxuICAgICAvKlxuICAgICAgIEludGVydmFscyBhcmUgbG9jYXRlZCBmcm9tIC1pbmZpbml0eSB0byB0aGUgZmlyc3Qgc3RhdGlvbmFyeSBwb2ludCwgaW4gYmV0d2VlbiBuZWlnYm91cmluZ1xuICAgICAgIHN0YXRpb25hcnkgcG9pbnRzLCBhbmQgZnJvbSB0aGUgbGFzdCBzdGF0aW9uYXJ5IHBvaW50IHRvICtpbmZpbml0eS4gQmVjYXVzZSBvZiB0aGF0LCB0aGUgemVyb3NcbiAgICAgICBvZiB0aGUgZGVyaXZhdGUgYXJlIG5lZWRlZCwgY2FsY3VsYXRlZCBpbiB0aGUgbGFzdCBsb29wIGl0ZXJhdGlvbi5cbiAgICAgICBJbiBlYWNoIGludGVydmFsIHRoZXJlIGlzIGF0IG1vc3Qgb25lIHplcm8sIGJlY2F1c2UgdGhlIHNpZ24gb2YgdGhlIGRlcml2YXRpdmUgaXMgY29uc3RhbnQuXG4gICAgICovICBcbiAgICAgdmFyIGludGVydmFscz0gZ2V0SW50ZXJ2YWxzSW5Qb2x5bm9tKC4uLmRlcml2YXRlWmVyb3MpOyBcbiAgICAgZm9yKCB2YXIgaW50ZXJ2YWwgb2YgaW50ZXJ2YWxzKVxuICAgICB7IFxuICAgICAgICB2YXIgcm9vdD1udWxsO1xuICAgICAgICB2YXIgZnhMZWZ0PW51bGwsZnhSaWdodD1udWxsO1xuICAgICAgIFxuICAgICAgICB2YXIgbGVmdGVzdEludGVydmFsPSBpbnRlcnZhbC5sZWZ0LmVxdWFscyhuZWdhdGl2ZUluZmluaXR5KTtcbiAgICAgICAgdmFyIHJpZ2h0ZXN0SW50ZXJ2YWwgPSBpbnRlcnZhbC5yaWdodC5lcXVhbHMocG9zaXRpdmVJbmZpbml0eSk7XG4gICAgICAgIGlmIChsZWZ0ZXN0SW50ZXJ2YWwgfHwgXG4gICAgICAgICAgIHJpZ2h0ZXN0SW50ZXJ2YWwpXG4gICAgICAgIHtcbiAgICAgICAgIC8vQ2hvb3NlIE5ld3RvbiBtZXRob2RcbiAgICAgICAgIHJvb3Q9bmV3dG9uSXRlcmF0ZShmeCxmeHgsaW50ZXJ2YWwubGVmdCxpbnRlcnZhbC5yaWdodCxpbnRlcnZhbC5zdGFydCxpdGVyYXRpb25zLGFjY3VyYWN5KTsgXG4gICAgICAgIH0gZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgIGZ4TGVmdD0gZnhSaWdodCA/PyBjYWxjdWxhdGUoZngsaW50ZXJ2YWwubGVmdCk7XG4gICAgICAgICAgIGZ4UmlnaHQ9Y2FsY3VsYXRlKGZ4LGludGVydmFsLnJpZ2h0KTtcbiAgICAgICAgICAgaWYgKGZ4TGVmdC5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkgfHxcbiAgICAgICAgICAgICAgIGZ4UmlnaHQuYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpKVxuICAgICAgICAgICB7XG4gICAgICAgICAgICAgLy9DaG9vc2UgTmV3dG9uIG1ldGhvZFxuICAgICAgICAgICAgIHJvb3Q9bmV3dG9uSXRlcmF0ZShmeCxmeHgsaW50ZXJ2YWwubGVmdCxpbnRlcnZhbC5yaWdodCxpbnRlcnZhbC5zdGFydCxpdGVyYXRpb25zLGFjY3VyYWN5KTsgXG4gICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICB7XG4gICAgICAgICAgICAgLy9DaG9vc2UgYmlzZWN0aW5nXG4gICAgICAgICAgICAgdmFyIGZ4TGVmdFBvc2l0aXZlPWZ4TGVmdC5pc1Bvc2l0aXZlKCk7XG4gICAgICAgICAgICAgaWYoZnhMZWZ0UG9zaXRpdmUhPWZ4UmlnaHQuaXNQb3NpdGl2ZSgpKVxuICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgIHZhciBwb3NpdGl2ZUVuZHBvaW50LG5lZ2F0aXZlRW5kcG9pbnQ7XG4gICAgICAgICAgICAgICBpZiAoZnhMZWZ0UG9zaXRpdmUpXG4gICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgIHBvc2l0aXZlRW5kcG9pbnQ9aW50ZXJ2YWwubGVmdDtcbiAgICAgICAgICAgICAgICAgbmVnYXRpdmVFbmRwb2ludD1pbnRlcnZhbC5yaWdodDtcbiAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICBwb3NpdGl2ZUVuZHBvaW50PWludGVydmFsLnJpZ2h0O1xuICAgICAgICAgICAgICAgICBuZWdhdGl2ZUVuZHBvaW50PWludGVydmFsLmxlZnQ7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICByb290PWJpc2VjdChmeCxwb3NpdGl2ZUVuZHBvaW50LG5lZ2F0aXZlRW5kcG9pbnQsaXRlcmF0aW9ucyxhY2N1cmFjeSk7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICB9ICAgICAgICAgICAgICAgIFxuICAgICAgICB9ICAgICAgXG4gICAgICAgIGlmIChyb290PT1udWxsKSBjb250aW51ZTsgICBcbiAgICAgICAgLy9za2lwIG5leHQgaW50ZXJ2YWwsIGJlY2F1c2Ugcm9vdCB3aWxsIGJlIHRoZSBzYW1lIGFzIGluIHRoZSBjdXJyZW50IGludGVydmFsICBcbiAgICAgICAgaWYgKGludGVydmFsLnJpZ2h0Lm1pbnVzKHJvb3QpLmFicygpLmxlc3NUaGFuKGFjY3VyYWN5KSkgaW50ZXJ2YWxzLm5leHQoKTsgXG4gICAgICAgIHJvb3RzLnB1c2gocm9vdCk7IC8vQWRkIHJvb3QgdG8gdGhlIGxpc3Qgb2YgZm91bmQgcm9vdHMgICBcbiAgICAgfVxuICAgICByZXN1bHRzLnVuc2hpZnQoe3BvbHlub206ZngsemVyb3M6cm9vdHN9KVxuICAgICBkZXJpdmF0ZVplcm9zPXJvb3RzOyAgICBcbiAgfVxuICByZXR1cm4gcmVzdWx0czsgLy8gcmV0dXJuIGZvdW5kIHJvb3RzXG59XG5cbi8vZXhwZXJpbWVudGFsIHJvb3QgaXNvbGF0aW9uIChpcyBub3QgdXNlZClcbmV4cG9ydCBmdW5jdGlvbiogaXNvbGF0ZVJvb3RzKHBvbHlub21zOkRlY2ltYWxbXVtdLHNvcnRlZERlcml2YXRlWmVyb3M6RGVjaW1hbFtdLGFjY3VyYWN5OkRlY2ltYWwgPSBuZXcgRGVjaW1hbCgwLjAwMSkpOkdlbmVyYXRvcjxJbnRlcnZhbD5cbntcbiAgICB2YXIgbGVmdCxyaWdodDtcbiAgICB2YXIgcG9seW5vbT1wb2x5bm9tc1swXTtcbiAgICB2YXIgaW5kZXg9c29ydGVkRGVyaXZhdGVaZXJvcy5sZW5ndGg7ICBcbiAgICBpZiAoaW5kZXggPT0wKSB7ICAgIFxuICAgICAgIHlpZWxkIHtsZWZ0Om5lZ2F0aXZlSW5maW5pdHkscmlnaHQ6cG9zaXRpdmVJbmZpbml0eSxzdGFydDp6ZXJvfTtcbiAgICAgICByZXR1cm47XG4gICAgfSBcbiAgICByaWdodD1zb3J0ZWREZXJpdmF0ZVplcm9zWzBdXG4gICAgdmFyIGZ4UmlnaHQ9IGNhbGN1bGF0ZShwb2x5bm9tLHJpZ2h0KTtcbiAgICBpZiAoZnhSaWdodC5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkgfHwgKGZ4UmlnaHQuaXNOZWdhdGl2ZSgpID09IGlzRnVuY3Rpb25Bc2NlbmRpbmdUb1RoZUxlZnQocG9seW5vbXMscmlnaHQsYWNjdXJhY3kpKSlcbiAgICB7ICBcbiAgICAgICAgeWllbGQgIHtsZWZ0Om5lZ2F0aXZlSW5maW5pdHkscmlnaHQsc3RhcnQ6cmlnaHQuc3ViKG9uZSl9O1xuICAgIH0gIFxuXG4gICAgZm9yICh2YXIgaT0xO2k8aW5kZXg7aSsrKVxuICAgIHtcbiAgICAgICAgbGVmdD1yaWdodDsgICAgICBcbiAgICAgICAgcmlnaHQ9c29ydGVkRGVyaXZhdGVaZXJvc1tpXTsgICAgXG4gICAgICAgIGlmIChsZWZ0LmdyZWF0ZXJUaGFuT3JFcXVhbFRvKHJpZ2h0KSkgdGhyb3cgbmV3IEVycm9yKCk7ICAgXG4gICAgICAgIHZhciBmeExlZnQ9ZnhSaWdodDtcbiAgICAgICAgdmFyIGZ4UmlnaHQ9Y2FsY3VsYXRlKHBvbHlub20scmlnaHQpO1xuICAgICAgICBpZiAoZnhSaWdodC5hYnMoKS5sZXNzVGhhbihhY2N1cmFjeSkgfHwgZnhMZWZ0LmFicygpLmxlc3NUaGFuKGFjY3VyYWN5KSB8fCBmeExlZnQuaXNQb3NpdGl2ZSgpIT1meFJpZ2h0LmlzUG9zaXRpdmUoKSlcbiAgICAgICAgeyAgICAgICAgICAgICBcbiAgICAgICAgICAgIHlpZWxkIHtsZWZ0LHJpZ2h0LHN0YXJ0OmxlZnQuYWRkKHJpZ2h0KS5kaXYodHdvKX07IFxuICAgICAgICB9ICBcbiAgICB9XG4gICAgXG4gICAgaWYgKGZ4UmlnaHQuYWJzKCkubGVzc1RoYW4oYWNjdXJhY3kpIHx8IChmeFJpZ2h0LmlzTmVnYXRpdmUoKSA9PSBpc0Z1bmN0aW9uQXNjZW5kaW5nVG9UaGVSaWdodChwb2x5bm9tcyxyaWdodCxhY2N1cmFjeSkpKVxuICAgIHsgICAgICBcbiAgICAgIHlpZWxkICB7bGVmdDpyaWdodCxyaWdodDpwb3NpdGl2ZUluZmluaXR5LHN0YXJ0OnJpZ2h0LmFkZChvbmUpfTsgXG4gICAgfVxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vZ3VpL3ByZXNlbnRlci50c1wiKTtcbiIsIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==